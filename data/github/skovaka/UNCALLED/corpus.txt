uncal util nanopor current align larg expans dna uncal logouncalled_logo_smallpng uncal logo read mapper rapidli align raw nanopor signal dna refer enabl softwarebas target sequenc oxford nanopor ont minion gridion via readuntilhttpsnanoporetechcomaboutusnewstowardsrealtimetargetingenrichmentorothersamplingnanoporesequencingdevic also includ simul use predict much enrich could achiev given refer use raw signal data previou nanopor run target nanopor sequenc realtim map raw electr signal uncal sam kovaka yunfan fan bohan ni winston timp michael c schatz natur biotechnolog httpswwwnaturecomarticless instal pip instal githttpsgithubcomskovakauncalledgit user git clone recurs httpsgithubcomskovakauncalledgit cd uncal python setuppi instal user requir python readuntil pybind gcc except gcc automat download instal depend includ via submodul sure clone git recurs recommend run linux machin uncal success instal run mac comput realtim readuntil test mac instal uncal attempt window index exampl uncal index ecoli ecolifasta posit argument fastafil refer genom target sequenc fasta format option argument obwa_prefix output index prefix default input fasta note uncal use bwahttpsgithubcomlhbwa fm index encod refer command use previous built bwa index requir file exist specifi prefix otherwis new bwa index automat built recommend appli repeat mask refer contain eukaryot sequenc see maskingmask detail fast map exampl uncal map ecoli fast_listtxt uncalled_outpaf load fast map head n uncalled_outpaf bafeefdabded escherichia_coli_chromosom chi sti mtf fefcddffcf escherichia_coli_chromosom chi sti mtf eeebdddaabeb chi sti mtf ecbaafdceabfddd escherichia_coli_chromosom chi sti mtf posit argument bwaprefix bwa refer index prefix gener uncal map fastfil read map directori recurs search file fast extens text file contain one fast filenam per line commasepar list fast file name option argument lreadlist text file contain list read id read map specifi nreadcount maximum number read map tthread number thread use map default emaxeventsproc number event attempt map give read default note approxim two event per nucleotid averag see exampleexampl simpl read refer exampl realtim readuntil exampl uncal realtim ecoli port enrich c uncalled_outpaf start client start mapper map head n uncalled_outpaf baddfbfeaeb chi sti mtf wtf mxf caceccada chi sti mtf wtf enf dacafeddafdbefeeea chi sti mtf wtf ejf aecacadcef escherichia_coli chi sti mtf wtf kpf recommend tri map fast via uncal map realtim enrich runtim issu could occur uncal instal properli command gener run time sequenc run although error may occur uncal run sequenc run start current minknow session happen start uncal run begin ideal first mux scan want chang chunk size must run command start run see posit argument bwaprefix bwa refer index prefix gener uncal map requir argument enrich keep read map refer includ deplet eject read map refer includ exactli one deplet enrich must specifi option argument cmaxchunk number chunk attempt map give read default chunksiz size chunk second default note new featur may work intend see tthread number thread use map default port minion devic port even eject read even channel includ odd eject read odd channel includ durat expect durat sequenc run hour default alter chunk size readuntil api receiv signal chunk default one second worth signal chang use chunksiz paramet note maxchunksproc also chang compens chang chunk size chunk size chang must start run uncal sequenc begin uncal unabl chang chunk size midseqencingrun gener reduc chunk size improv enrich although previou workhttpdxdoiorg found api becom unreli chunk size less second thoroughli test featur recommend use default second chunk size case futur default size may reduc simul exampl uncal sim ecolifasta pathtocontrolfast ctlseqsum pathtocontrolsequencing_summarytxt uncseqsum pathtouncalledsequencing_summarytxt uncpaf pathtouncalleduncalled_outpaf enrich c simspe uncalled_outpaf uncalled_errtxt sim_scriptsest_genome_yieldpi u uncalled_outpaf enrich x ecoli mmpaf sequencing_summarytxt simspe unc_on_bp unc_total_bp cnt_on_bp cnt_total_bp simul simul realtim run use data two real run one control run one uncal run read simul control run pattern channel activ model control run simul output paf file similar realtim mode interpert use script found sim_scriptssim_script exampl file use templat uncal sequenc summari paf file simul found herehttplabsharecshledusharesschatzlabwwwdatauncalledsimulator_fil control readssequenc summari sequenc run sampl interest match sampl use provid exampl simul take larg amount memori gb load fast read take quit long time reduc timememori requir could truncat control sequenc summari load present summari load although may reduc accuraci simul also unfortun fast load portion simul exit via keyboard interrupt must hardkil work fix futur version argument bwaprefix prefix index align bwa index uncal index run controlfastfil path directori control run fast file store text file contain path one control fast per line ctlseqsum sequenc summari control run read id must match control fast file uncseqsum sequenc summari uncal run uncpaf paf file output uncal uncal run simspe scale factor simul durat rang smaller valu faster set may decreas accuraci tthread number thread use map default cmaxchunksproc number chunk attempt map give read default note simul alter chang mani chunk load chang memori requir enrich keep read map refer includ deplet eject read map refer includ even eject read even channel includ odd eject read odd channel includ exactli one deplet enrich must specifi output format uncal output stdout format similar pafhttpsgithubcomlhminiasmblobmasterpafmd unmap read output referencelocationdepend field replac line begin comment use debug queri coordin residu match block length estim assum bp sequenc per second estim significantli depend sequenc run uncal attempt map read earli possibl queri sequenc length queri end field correspond leftmost posit uncal abl confid map read mani case may bp bp read even read mani time longer differ align minimaphttpsgithubcomlhminimap attempt map full length read queri sequenc length field current correspond actual read length rather estim number base uncal attempt align case equal queri end may chang better reflect full read length futur version mode includ follow custom attribut paf entri mt map time time millisecond took map read ch channel minion channel read came st start sampl global _sequencing_ start time read signal sampl samplessec uncal realtim also includ follow attribut ej eject time eject signal sent millisecond sinc last chunk receiv kp kept time uncal decid keep read millisecond sinc last chunk receiv en end time uncal determin read end millisecond sinc last chunk receiv mx mux scan time read _would have_ eject occur within mux scan wt wait time time millisecond read queu activ map either due thread delay wait new chunk pafstat includ function call uncal pafstat comput speed statist paf file output uncal accuraci statist also includ provid ground truth paf file exampl base minimaphttpsgithubcomlhminimap align basecal read also option output origin uncal paf annot comparison ground truth exampl uncal pafstat r minimap_alnspaf n uncalled_outpaf summari read map compar refer paf p n f na speed mean median bp per sec bp map ms map posit argument infil paf file output uncal option argument nmaxread maximum number read pars rrefpaf groundtruth align minimap comput tptnfpfn rate aannot use r output paf rf tag indic tp tn fp fn accuraci statist tp true posit percent infil read overlap refer read locat fp fals posit percent infil read overlap refer read locat tn true neg percent read align refer infil fn fals neg percent read align refer infil na alignednot applic percent read align infil refer could consid fals posit truth unknown practic consider readuntil sequenc first decis make whether perform enrich deplet enrich deplet enrich mode uncal eject read map refer mean target refer deplet mode uncal eject read map refer mean target everyth except refer note enrich necessit quick decis whether read map sinc want eject read fast possibl usual read map within three second highli nonrepetit refer set cmaxchunksproc gener work well enrich default valu work well deplet note valu assum chunksiz set default second uncal current support larg gbp highli repetit refer speed map rate progress drop refer becom larger repetit bacteri genom small collect diverg bacteri genom typic work well small segment eukaryot genom also use howev presenc repetitv element harm perform collect highli similar genom wil work well conserv sequenc introduc repeat see maskingmask repeat mask script guidelin readuntil work best longer read maxim read length best result may also need perform nucleas flush reload achiev highest yield ontarget base uncal current support read sequenc rr chemistri releas note v ad event profil mask pore stall ad compiletim debug option v updat readuntil client latest minknow version made uncal index automat build bwa index ad hdf submodul autom instal autobuild hdf switch use setuptool move submodul submod v releas readuntil simul uncal sim predict much enrich uncal could provid given refer use control uncal run templat _also chang format certain arguments_ index prefix fast list posit flag chang name v fix index particularli larg small refer v ad support alter chunk size v preprint releas usag run_examplesh bwa_index pack fasta sec bwa_index construct bwt pack sequenc bwa_index second elaps bwa_index updat bwt sec bwa_index pack forwardonli fasta sec bwa_index construct sa bwt occ sec main version rdirti main cmd bwabwa index p indexexample_ref example_reffa main real time sec cpu sec write indexexample_refuncl read fast path align fafdeabfedb escherichia_coli_chromosom chi sti mtf data sourc exampl data obtain httpsgithubcomlomanlabmockcommun read extract httpsnanoporesclimbacukzymogridionevenbbsn_signaltar refer extract httpssamazonawscomzymofilesbiopoolzymobiomicsstdrefseqvzip repeat mask uncal current slower less accur refer mani repeat lowcomplex sequenc includ two script design mask type repeat caus problem uncal recommend use script intergen eukaryot dna includ target refer necessari bacteri dna refer mask_internalsh highfrequ intern kmer mask script iter mask highfrequ kmer within refer input uncal iter use jellyfish identifi highest frequenc kmer mask iter approach use mask one kmer affect frequenc overlap kmer kmer count must recomput everi time requir python jellyfish usag mask_internalsh refer k iter out_prefix refer fasta file refer mask k kmer length iter number mask iter run out_prefix output prefix output file script improv true posit map rate speed expens increas fals posit rate recommend run first use mask_externalsh reduc fals posit rate mask_externalsh long exact repeat mask script mask repeat may occur target sequenc refer contain dna expect sequenc includ offtarget sequenc exampl target set human gene full refer human genom base exact bowti align segment target refer requir python bedtool samtool bowti full refer must index bowtie_build usag mask_externalsh full_bowti target_fa min_len min_copi thread out_prefix full_bowti bowti prefix index search repeat sequenc target target_fa fasta file target refer min_len minimum repeat length min_copi minimum repeat copi number thread number thread use bowti out_prefix output prefix output file default work directori script reduc fals posit map rate prevent offtarget dna fals map repeat target refer also increas true posit rate speed recommend found iter intern mask kmer length work well follow expern mask min_len bp min_copi word simpli run mask_internalsh target_refer mask_externalsh full_refer outmaskfa thread outmask_ futur work plan refin script integr uncal index procedur futur simul script directori contain two script use interpet output uncal sim understand script may user friendli work toward improv better intergr simul futur est_genome_yieldpi exampl sim_scriptsest_genome_yieldpi u uncalled_outpaf enrich x ecoli mmpaf sequencing_summarytxt simspe unc_on_bp unc_total_bp cnt_on_bp cnt_total_bp design use context enrichingdeplet whole genom chromosom argument uuncalledfnam simul output paf file sseq_sum control sequenc summari mminimapfnam minimap paf file control read align refer contain target offtarget case deplet sequenc xbwaprefix bwa refer use simul depleteenrich option use simul tsimspe speed simul run rang est_bed_yieldpi exampl sim_scriptsest_bed_yieldpi u uncalled_outpaf c ctl_coverageb sequencing_summarytxt unc_on_bp unc_total_bp cnt_on_bp cnt_total_bp design use target subsequ larger refer exampl set gene requir bedtool intersect bed control_alnsbam b targetsb run prior control_alnsbam minimap align basecal control read full refer targetsb target region argument uuncalledfnam simul output paf file ccovfnam bed file control read coverag output bedool intersect control read align target region sseqsum control sequenc summari tsimspe speed simul run