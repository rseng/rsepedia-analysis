titl deeplenstronomi dataset simul packag strong gravit lens tag python astronomi strong lens simul author name robert morgancorrespond author orcid affili name brian nord orcid affili name simon birrer orcid affili name joshua yaoyu lin orcid affili name jason poh orcid x affili affili name univers wisconsinmadison index name legaci survey space time data scienc fellowship program index name fermi nation acceler laboratori index name univers chicago index name stanford univers index name univers illinoi urbanachampaign index date octob bibliographi paperbib background astronom observ statist model permit highfidel analysi strong gravit lens sl system display astronom phenomenon light distant object deflect gravit field anoth object along path observ system great scientif interest provid inform multipl astrophys cosmolog phenomena includ natur dark matter expans rate univers characterist galaxi popul also serv stand test theori gener rel modifi theori graviti tradit search sl system involv time effortintens visual manual inspect imag human identifi characterist featur like arc particular color combin object orient howev comprehens search use tradit approach prohibit expens larg number imag like cosmolog survey eg sloan digit sky survey sdss dark energi survey de legaci survey space time lsst lsst autom sl detect process techniqu base machin learn ml begin overtak tradit approach scan astronom imag particular deep learn techniqu focu requir larg set label imag train model rel low number observ sl system simul dataset imag often need thu composit product simul dataset becom integr part sl detect process one premier tool simul analyz sl system lenstronomi lenstronomi work user specifi properti physic system well observ eg telescop camera pythonbas applic program interfac api gener singl imag gener popul sl system fit neural network train requir addit infrastructur statement need due inher depend perform ml approach train data deep learn approach sl detect tension scientif reproduc without clear prescript simul train data critic need tool simul full dataset effici reproduc manner enabl use featur lenstronomi simul api addit tool simplifi user interact lenstronomi organ simul associ metadata conveni data structur deep learn problem multipl packag develop gener realist train data wrap around lenstronomi baobab baobab gener train set len model hierarch infer lsst dark energi scienc collabor slsprinkler lsstdescsl add strongli lens variabl object catalog imag nonetheless need simpl gener tool capabl effici simul astronom system reproduc manner give user complet freedom set properti object remain summari deeplenstronomi gener sl dataset organ expedit user interact lenstronomi user creat singl yamlstyl configur file describ aspect dataset number imag properti telescop camera cosmolog paramet observ condit properti physic object geometri sl system deeplenstronomi pars configur file gener dataset produc imag paramet led product imag output configur file easili share enabl user easili reproduc other train dataset premier object deeplenstronomi help astronom make train dataset realist possibl end deeplenstronomi contain builtin featur follow function use stellar light profil mass profil lenstronomi simul varieti astronom system singl galaxi foreground star galaxi cluster supernova kilonova well combin system fulli control placement object simul use observ condit real astronom survey draw paramet probabl distribut introduc correl incorpor real imag simul furthermor deeplenstronomi facilit realist timedomain studi provid access public spectral energi distribut observ supernova kilonova incorpor transient object time seri simul imag final deeplenstronomi provid data visual function enabl user inspect simul output featur path configur file full data set shown autoreffigflowchart deeplenstronomi make use multipl opensourc softwar packag lenstronomi use gravit lens calcul imag simul numpi numpi array use intern store imag data perform vector calcul panda panda datafram util store simul metadata file read write scipi scipi use integr interpol matplotlib matplotlib function use imag visual astropi astropi use cosmolog calcul color imag product hpi hpi util save imag pyyaml pyyaml use manag configur file use directli pythonbenedict benedict function help creat deeplenstronomi data structur intern search algorithm deeplenstronomi packag dissemin via pypihttpspypiorgprojectdeeplenstronomi document exampl notebook avail deeplenstronomi websitehttpsdeepskiesgithubiodeeplenstronomi bug featur request open issu github repositoryhttpsgithubcomdeepskiesdeeplenstronomyissu deeplenstronomi deeplenstronomi process dataset properti camera telescop properti observ condit object properti eg lenstronomi light mass profil point sourc tempor behavior geometri sl system option supplement input file eg probabl distribut covari matric imag background specifi main configur file deeplenstronomi intrepret configur file call lenstronomi simul function organ result imag metadatalabelfigflowchartflowchartpng acknowledg r morgan thank lsstc data scienc fellowship program fund lsstc nsf cybertrain grant brinson foundat moor foundat particip program benefit work r morgan also thank univers research associ fermilab visit scholar program fund work project acknowledg deep sky lab commun multidomain expert collabor whove facilit environ open discuss ideagener collabor commun import develop project acknowledg contribut joao caldeira earli stage project work support fermi nation acceler laboratori manag oper fermi research allianc llc contract deacch us depart energi us govern retain publish accept articl public acknowledg us govern retain nonexclus paidup irrevoc worldwid licens publish reproduc publish form manuscript allow other us govern purpos refer welcom deeplenstronomi statushttpsjosstheojorgpapersedddfadeestatussvghttpsjosstheojorgpapersedddfade statushttpsimgshieldsiobadgearxivredhttparxivorgab statushttpsimgshieldsiobadgepypibluehttpspypiorgprojectdeeplenstronomi statushttpsimgshieldsiobadgelicensemitlightgreyhttpsgithubcomdeepskiesdeeplenstronomyblobmasterlicens deeplenstronomi tool simul larg dataset appli deep learn strong gravit lens work wrap function lenstronomyhttpsgithubcomsibirrerlenstronomi conveni yamlstyl interfac allow user embrac astronom part brain rather programm part gener train dataset instal conda recommend step set environ done straightforwardli conda instal conda creat n deeplen python jupyt scipi panda numpi matplotlib astropi hpi pyyaml mpmath futur conda activ deeplen step pip instal lenstronomi step pip instal deeplenstronomi pip step pip instal deeplenstronomi get start exampl notebookshttpsdeepskiesgithubiodeeplenstronomynotebook start read get start guidehttpsdeepskiesgithubiodeeplenstronomynotebooksgettingstartedhtml familiar deeplenstronomi style check exampl notebook notebook deeplenstronomi util creat deeplenstronomi configur fileshttpsdeepskiesgithubiodeeplenstronomynotebooksconfigfileshtml gener datasetshttpsdeepskiesgithubiodeeplenstronomynotebooksdeeplenstronomydemohtml visual deeplenstronomi imageshttpsdeepskiesgithubiodeeplenstronomynotebooksvisualizationhtml util astronom surveyshttpsdeepskiesgithubiodeeplenstronomynotebookssurveyshtml defin probabl distributionshttpsdeepskiesgithubiodeeplenstronomynotebooksuserdistributionshtml use imag backgroundshttpsdeepskiesgithubiodeeplenstronomynotebooksbackgroundsdemohtml simul timeseri datasetshttpsdeepskiesgithubiodeeplenstronomynotebookstimeseriesdemohtml notebook appli deeplenstronomi machin learn analys use deeplenstronomi activ learninghttpsdeepskiesgithubiodeeplenstronomynotebooksactiveupdatedemohtml use deeplenstronomi classif regressionhttpsdeepskiesgithubiodeeplenstronomynotebooksmetricshtml notebook suggest scienc case walkthrough use deeplenstronomi sciencehttpsdeepskiesgithubiodeeplenstronomynotebooksfullexamplehtml api document deeplenstronomi design user need work person configur file dataset generat imag visual function howev would like view full api document visit docshttpsdeepskiesgithubiodeeplenstronomydoc page citat use deeplenstronomi work pleas includ follow citat articledeeplenstronomi doi joss url httpsdoiorgjoss year publish open journal volum number page author robert morgan brian nord simon birrer joshua yaoyu lin jason poh titl deeplenstronomi dataset simul packag strong gravit lens journal journal open sourc softwar articlelenstronomi titl lenstronomi multipurpos gravit len model softwar packag journal physic dark univers volum page year issn doi jdark url httpwwwsciencedirectcomsciencearticlepii author simon birrer adam amara keyword gravit lens softwar imag simul contact question run error beta releas deeplenstronomi pleas dont hesit reach rob morgan br robert dot morgan wiscedu also messag de delv lsstc deepski lenstronom slack workspac imag httpsbadgefuryiopydeeplenstronomypng target httpbadgefuryiopydeeplenstronomi imag httpstravisciorgbnorddeeplenstronomypngbranchmast target httpstravisciorgbnorddeeplenstronomi deeplenstronomi configur file overview structur main configur file deeplenstronomi introduct purpos deeplenstronomi wrap stronglens imag simul util lenstronomi conveni reproduc framework enabl variou scienc analys achiev deeplenstronomi allow user gener entir largescal dataset singl humanread configur file tutori help creat main configur file problem work content section config file draw probabl distribut advanc featur troubleshoot section config file main configur file deeplenstronomi yamlstyl document toplevel keyword document tell deeplenstronomi everyth need know build dataset keyword mandatori deeplenstronomi function properli _note_ must use space tab indent deeplenstronomi configur file dataset section section contain inform regard dataset whole rather individu imag system want gener must specifi name size dataset plan save dataset must also specifi outdir want simul imag associ metadata locat done block like dataset name mydeeplenstronomydataset paramet size outdir mysimulationresult seed option block set name dataset mydeeplenstronomydataset specifi dataset contain imag set random seed simul specifi simul imag associ metadata save directori name mysimulationresult directori alreadi exist system deeplenstronomi creat automat cosmolog section section specifi cosmolog lenstronomi perform calcul config file bareminimum cosmolog section would look like cosmolog paramet h om intern happen within deeplenstronomi instanti astropycosmologyflatlambdacdm object thu specifi valu h om tcmb neff m_nu ob also view astropi documentationhttpsdocsastropyorgenstableapiastropycosmologyflatlambdacdmhtmlflatlambdacdm inform paramet imag section section specifi inform need make simul imag look realist follow paramet requir deeplenstronomi gener imag exposure_tim number second use captur imag numpix widthheight imag pixel pixel_scal number arcsecond pixel psf_type describ model pointspreadfunct instrument read_nois standard deviat nois gener readout unit electron ccd_gain number photoelectron requir analogtodigit unit typic imag block look like imag paramet exposure_tim numpix pixel_scal psf_type gaussian read_nois ccd_gain survey section section specifi properti survey collect dataset seek simul could characterist de lsst sdss ztf etc paramet deeplenstronomi need section band commasepar list optic filter use see fwhm arcsecond measur psf observ magnitude_zero_point magnitud one photoelectron measur second sky_bright measur light contamin atmospher magnitud per squar arcsecond num_exposur number individu exposur coad imag thu exampl survey block could look like survey paramet band grizi see magnitude_zero_point sky_bright num_exposur often paramet survey section differ valu band relationship technic correl band paramet therefor cover advanc featur section document halfwayther summari recap weve talk let put everyth togeth far weve cover toplevel aspect simul properti dataset cosmolog model calcul imag properti survey condit inprogress config file current look like dataset name mydeeplenstronomydataset paramet size outdir mysimulationresult seed cosmolog paramet h om imag paramet exposure_tim numpix pixel_scal psf_type gaussian read_nois ccd_gain survey paramet band grizi see magnitude_zero_point sky_bright num_exposur next well look specifi properti physic object imag well geometri stronglens system your interest speci section section specifi properti object nois sourc could potenti one imag current three speci object support deeplenstronomi galaxi pointsourc nois informationrich speci galaxi let start galaxi speci attribut provid inform first name keyword deeplenstronomi use intern group properti object thu name attribut mandatori must uniqu next three attribut light profil mass profil shear profil core lenstronomi simul light profil specifi light_profile_x keyword describ light distribut around object x repres index differenti multipl light profil case would like util superposit profil must index increment start avail profil avail lenstronomi look lenstronomi document see option associ paramet exampl let creat galaxi speci well name len sersic_ellips light profil speci galaxy_ name len light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e paramet need specifi depend lenstronomi light profil select check lenstronomi document paramet need deeplenstronomi warn suppli incorrect paramet deeplenstronomi light profil use magnitud defualt way specifi bright lenstronomi also amp paramet avail util deeplenstronomi want add second light profil galaxi perhap add light center ad second section like speci galaxy_ name len light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e next bit inform lenstronomi need calcul light lens mass distibut sinc conveni name galaxi len farfetch imag act lens galaxi said done well give deeplenstronomi call mass profil mass profil also draw directli lenstronomi allow model check lenstronomi document option deeplenstronomi adopt index scheme light profil let add mass profil len speci galaxy_ name len light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e mass_profile_ name sie paramet theta_ e e center_x center_i weve use lenstronomi sie model specifi necessari paramet let finish describ len give shear profil shear profil describ _all_ light system lens extern sourc perhap dark matter halo add type profil len follow speci galaxy_ name len light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e mass_profile_ name sie paramet theta_ e e center_x center_i shear_profile_ name shear paramet gamma gamma weve use lenstronomi shear model specifi necessari paramet work specifi galaxi object differ properti creat new entri speci section sinc want lens eventu let creat anoth galaxi act light actual lens fittingli might choos name galaxi object sourc speci section would look like speci galaxy_ name len light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e mass_profile_ name sie paramet theta_ e e center_x center_i shear_profile_ name shear paramet gamma gamma galaxy_ name sourc light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e shear_profile_ name shear paramet gamma gamma sinc well use galaxi socal sourc lens system dont need worri specifi mass profil also given shear profil len sinc part system galaxi object perhap requir thought construct config file pointsourc nois object much straightforward pointsourc object allow add pointlik light sourc imag may wish util featur includ foreground star make galaxi look like agn includ supernova transient imag ill show three possibl let start agn similar fashion way specifi differ galaxi object well describ point sourc object follow still insid speci section pointsource_ name agn host sourc paramet magnitud pointsourc object character name host magnitud sep sep_unit angl paramet name attribut use track properti object make sure name uniqu host attribut tell deeplenstronomi object imag addit paramet determin pointsourc appear sep paramet specifi far distanc pointsourc host paramet specifi pointsourc place exactli center host specifi sep also need sepcifi sep_unit either kpc arcsec indic physic unit wish use angl paramet also specifi wish place pointsourc certain orient respect host unit angl radian valu must pi case select place point sourc center galaxi object name sourc lastli magnitud appar magnitud point sourc want could also add supernovalik point sourc specifi nonzero sep paramet config entri would look like still insid speci section pointsource_ name supernova host sourc paramet magnitud sep sep_unit arcsec specifi second pointsourc galaxi name sourc put pointsourc sourc time aspect determin geometri section config file prepar deeplenstronomi put pointsourc sourc later final type way may choos use pointsourc object includ foreground star done set host keyword foreground follow still insid speci section pointsource_ name star host foreground paramet magnitud set place point sourc randomli imag contribut affect lens calcul nois final type object deeplenstronomi allow includ imag nois object current poisson_nois built deeplenstronomi type nois way would like specif type nois ping ill make happen defin nois speci like still insid speci section noise_ name poisson_nois paramet mean implement pixel imag nois valu ad nois valu drawn poisson distribut mean valu assign differ pixel assum independ summari speci section certainli lot materi speci section carri properti object entir dataset import creat care summar compon config file let look sepci section exampl whole speci galaxy_ name len light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e mass_profile_ name sie paramet theta_ e e center_x center_i shear_profile_ name shear paramet gamma gamma galaxy_ name sourc light_profile_ name sersic_ellips paramet magnitud center_x center_i r_sersic n_sersic e e shear_profile_ name shear paramet gamma gamma pointsource_ name agn host sourc paramet magnitud pointsource_ name supernova host sourc paramet magnitud sep sep_unit arcsec pointsource_ name star host foreground paramet magnitud noise_ name poisson_nois paramet mean make dataset collect object dispos weve creat two differ galaxi three differ pointsourc singl nois sourc well see specifi geometri system object constitut geometri section final requir section config file contain inform rel orient object speci section geometri section organ user specifi differ configur follow index rule object speci section configur name fraction informataion physic system name use track associ properti within deeplenstronomi fraction much dataset would like specif configur intern deeplenstronomi multipli fraction size dataset section obtain number imag simul necessari fraction valu across configur sum one next defind plane physic system let look exampl work geometri configuration_ name galaxy_agn fraction plane_ object_ len paramet redshift plane_ object_ sourc object_ agn paramet redshift noise_source_ poisson_nois name fraction attribut see plane_ plane_ defin plane requir list object want plane defin redshift paramet defin characterist plane deeplenstronomi object place plane assign redshift weve chosen put singl object plane_ plane closest earth weve specifi speci serv object_ use name len recal name galaxy_ speci section weve also set plane redshift plane_ weve place two object sourc refer galaxy_ agn refer pointsource_ weve set plane redshift behind object plane_ lastli specifi want simul extra nois top imag specifi singl nois sourc noise_source_ tell deeplenstronomi want poisson_nois use refer noise_ speci section sinc name poisson_nois seem like lot let say also want simul set imag nois evalu perform neural network high qualiti imag need chang config file add anoth configur still insid geometri section configuration_ name galaxy_agn_noiseless fraction plane_ object_ len paramet redshift plane_ object_ sourc object_ agn paramet redshift want simul lens supernova instead lens agn add anoth configur still insid geometri section configuration_ name lensed_sn fraction plane_ object_ len paramet redshift plane_ object_ sourc object_ supernova paramet redshift noise_source_ poisson_nois your look add spice life want includ dataset doubl sourc plane system supernova agn sourc galaxi two foreground star poisson nois add anoth configur still insid geometri section configuration_ name spicy_lif fraction plane_ object_ len object_ star object_ star paramet redshift plane_ object_ len paramet redshift plane_ object_ sourc object_ supernova object_ agn paramet redshift noise_source_ poisson_nois whatev want answer like add anoth configur one main idea behind deeplenstronomi defin properti object survey imag free simul physic system want summari that basic organ main config file need dataset cosmolog imag survey speci geometri section section make possibl separ differ aspect simul hope way seem logic astronom next well look draw paramet valu distribut instead hardcod fix valu main config file draw probabl distribut doesnt much good specifi light profil mass profil redshift survey imag mani paramet directli config file often want draw paramet probabl distribut action commun deeplenstronomi use distribut keyword place actual paramet valu exampl mayb want rang magnitud object furthermor let say want rang uniform distribut main config file replac magnitud magnitud distribut name uniform paramet minimum maximum deeplenstronomi rest approach work paramet avail distribut name uniform target specif function uniform file deeplenstronomydistributionspi file contain sever distribut also util specifi name main function uniform paramet minimum maximum uniform_int paramet minimum maximum ensur drawn paramet integ normal paramet mean std lognorm paramet mean sigma delta_funct paramet valu symmetric_uniform_annulu paramet r r draw valu interv rrurr welcom edit sourc code add distribut need open pull request think use other advanc featur inform need begin construct configur file build deeplenstronomi dataset sculpt simul dataset specif scienc case mind may find advanc featur use forc correl look draw paramet valu onedimension distribut practic may find use enforc physicallymotiv correl say object redshift magnitud colordepend properti object either case accomplish use userspecifi distribut configur file add entri level imag survey geometri etc like distribut userdist_ filenam distribution_filetxt mode interpol properti file distribution_filetxt describ userdistribut notebook includ person imag may find use includ real astronom imag simul either realdata like nois use actual object pictur dataset configur file add entri level imag survey geometri etc like background path pathtoimage_directory_nam trail configur configur list eg configuration_ configuration_ configuration_ path configur key describ detail userimag notebook supplement input file may notic main config file get pretti long make stay organ work framework littl easier tri input keyword exampl let clean survey section section current look like survey paramet band grizi see magnitude_zero_point sky_bright num_exposur copi paramet subsect new file name whatev want well name file surveyyaml file look like paramet band grizi see magnitude_zero_point sky_bright num_exposur main config file chang survey section survey input surveyyaml thu input keyword substitu content whatev file use place hope find tool use modular organ deeplenstronomi workflow troubleshoot softwar new certainli breakabl ideal world time encount error typo configur file deeplenstronomi automat pars configur file area enter incorrectli alert simul dataset howev check perform mean exhaust encount error pleas open issu address list check deeplenstronomi perform runtim notebook start read get start guidehttpsdeepskiesgithubiodeeplenstronomynotebooksgettingstartedhtml familiar deeplenstronomi style check exampl notebook notebook deeplenstronomi util creat deeplenstronomi configur fileshttpsdeepskiesgithubiodeeplenstronomynotebooksconfigfileshtml gener datasetshttpsdeepskiesgithubiodeeplenstronomynotebooksdeeplenstronomydemohtml visual deeplenstronomi imageshttpsdeepskiesgithubiodeeplenstronomynotebooksvisualizationhtml util astronom surveyshttpsdeepskiesgithubiodeeplenstronomynotebookssurveyshtml defin probabl distributionshttpsdeepskiesgithubiodeeplenstronomynotebooksuserdistributionshtml use imag backgroundshttpsdeepskiesgithubiodeeplenstronomynotebooksbackgroundsdemohtml simul timeseri datasetshttpsdeepskiesgithubiodeeplenstronomynotebookstimeseriesdemohtml notebook appli deeplenstronomi machin learn analys use deeplenstronomi activ learninghttpsdeepskiesgithubiodeeplenstronomynotebooksactiveupdatedemohtml use deeplenstronomi classif regressionhttpsdeepskiesgithubiodeeplenstronomynotebooksmetricshtml notebook suggest scienc case walkthrough use deeplenstronomi sciencehttpsdeepskiesgithubiodeeplenstronomynotebooksfullexamplehtml simul scrit simul deslik imag cutout lens quasar quasar color inform base snana simul agn light curv writen rob morgan josh yaoyu lin data light curv locat googl buckethttpsconsolecloudgooglecomstoragebrowserdeepskiesstronglensesquasar_sim download untar file lcs_plus_gal_paramtargz current work directori main interfac run_simulatorpi run_simulatorpi take command line argument number griz imag simul max present object class simul choos lens foreground galaxi usag exampl simul doublequad lens quasar command would python run_simulatorpi lens inner work simulatorpi run_simulatorpi call imag simul function simulatorpi store imag array function simulatorpi adapt simulation_full_pipeline_double_quad_non_lensipynb chang includ pass light curv psf geometr inform input data file directli imag gener note code like need proof made effici