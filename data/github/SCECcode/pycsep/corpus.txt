v changelog fix fail build matplotlib releas updat document tutori ad theori test document ad notebook folder commun recip pin numpi version fix credit william savran wsavran kirsti bayliss kirstybayliss v changelog modifi plot_spatial_dataset plot_catalog correctli handl global plot updat plot_custom exampl doc ad doi badg conda download badg ad plot arg catalog evalu plot add option ignor colorbar spatial dataset plot credit william savran wsavran pablo iturrieta pabloitu v changelog remov normal rate cltest ad function comput binwis loglikelihood score properli use region comput spatial count spatial magnitud count region class fix simplifi fast latlon ratio calcul add featur read forecast swap latlon valu file add percentil argument plot poisson evalu modifi comparison plot simultan plot w test add featur trace region outlin plot spatial data set better handl magnitud tick plot catalog refactor polygon model modul ad argument modifi fontsiz grid label basemap plot ad function return midpoint valid test region includ region serial catalog json add support spatial forecast upat ci workflow reduc time requir fix intermitt oom issu add function get_event_count catalog forecast updat readmemd credit jose bayona bayonato marcu hermann mherrmann pablo iturrieta pabloitu philip maechl pjmaechl v ad fast project option plot spatial dataset fix region border miss plot variou project fix bug ascii catalogbas forecast could incorrectli load v fix issu plot_poisson_consistency_test one_sided_low argument color marker correctli ad sever plot configur base cartopi plot spatial dataset esri basemap plot catalog plot region use outlin polygon ad default forecast catalog ad reader gzip ucerfeta forecast updat ingv reader fix bug caus certain event place incorrrect bin v ad new catalog format support mask forecast bin bug fix applic pr id shown parenthesi fix bug filter catalog list remov desir event includ fast reader horu catalog modifi ingv emrcmt reader fix ndk reader ad unit test fix issu magnitu correctli bound griddedforecast class fix issu forecast work latlon sort fix minor bug catalog class implement inherit method grid forecast pars flag ascii file fix issu catalog filter properli use datetim v initi releas pypi condaforg poisson evalu grid forecast likelihoodfre evalu catalogbas forecast catalog grid filter plot util forecast input output document docscseptestingorg vdev initi releas pycsep collaboratori studi earthquak predict httpsipostimgccbbrvqpcseplogocmykpng p aligncent target_blank hrefhttpspythonorg titlepython versionimg srchttpsgistgithubusercontentcomwsavranefcecafrawbcefdceebfddaecpycsep_python_badgesvg target_blank hrefhttpspypiorgprojectpycsepimg srchttpsanacondaorgcondaforgepycsepbadgesdownloadssvg target_blank hrefhttpsgithubcomsceccodepycsepactionsimg srchttpsgithubcomsceccodepycsepactionsworkflowspythonappymlbadgesvg target_blank hrefhttpsgithubcomsceccodepycsepactionsimg srchttpsgithubcomsceccodepycsepactionsworkflowsbuildsphinxymlbadgesvg target_blank hrefhttpscodecovioghsceccodepycsepimg srchttpscodecovioghsceccodepycsepbranchmastergraphbadgesvgtokenhtmkmmau target_blank hrefhttpswwwzenodoorgbadgelatestdoiimg srchttpswwwzenodoorgbadgesvg altdoia p descript pycsep toolkit help earthquak forecast model develop evalu forecast goal understand earthquak predict pycsep help model becom familiar format procedur evalu use csep test center provid vet softwar model develop use research provid quantit visual tool assess earthquak forecast qualiti promot opensci idea ensur transpar avail scientif code result curat benchmark model data set model conduct retrospect experi forecast tabl content softwar documentationhttpsdocscseptestingorg installationinstal usageusag contributingcontribut chang loghttpsgithubcomsceccodepycsepblobmasterchangelogmd creditscredit licenselicens instal pycsep instal sever way instal use conda pip packag manag sourc code found pycsep github repo research interest contribut pycsep develop instal pycsep sourc code pycsep depend follow softwar packag may instal automat manual depend instal method use python later httpspythonorg numpi later httpsnumpyorg scipi later httpsscipyorg panda later httpspandaspydataorg cartopi later httpsscitoolsorgukcartopydocslatest geo later httpstracosgeoorggeo proj later httpsprojorg pleas see requir filehttpsgithubcomsceccodepycsepblobmasterrequirementsyml complet list requir instal automat use conda distribut detail pycsep instal instructionshttpsdocscseptestingorggetting_startedinstallinghtml found onlin pycsep document usag instal pycsep method invok python code import packag csep pycsep provid object util relat sever key concept earthquak catalog earthquak forecast earthquak forecast evalu region simpl exampl download plot earthquak catalog usg comcat pre import csep csepcor import region cseputil import time_util start_tim time_utilsstrptime_to_utc_datetim end_tim time_utilsutc_now_datetim catalog csepquery_comcatstart_tim end_tim catalogplotshowtru pre pleas see pycsep get startedhttpsdocscseptestingorggetting_startedcore_concept document exampl tutori softwar support softwar support pycsep provid southern california earthquak center scec research comput group group support sever research softwar distribut includ ucvm user report issu featur request use pycsep githubbas issu track link develop also respond email sent scec softwar contact list pycsep issueshttpsgithubcomsceccodepycsepissu email contact softwar scec dot usc dot edu contribut welcom contribut pycsep toolkit would like contribut packag includ softwar test document pleas visit contribut guidelineshttpsgithubcomsceccodepycsepblobmastercontributingmd guidelin contribut pycsep develop pycsep contributor agre abid code conduct found code conductcode_of_conductmd guidelin credit develop pycsep group effort list develop contribut pycsep toolkit list creditscreditsmd file repositori licens pycsep softwar distribut bsd claus opensourc licens pleas see licenselicensetxt file inform pycsep develop group effort contributor william savran southern california earthquak center pablo iturrieta gfz potsdam khawaja asim gfz potsdam han bao univers california lo angel kirsti bayliss univers edinburgh jose bayona univers bristol thoma beutin gfz potsdam marcu hermann univers napl frederico ii edric pauk southern california earthquak center max werner univers bristol danijel schorlemmn gfz potsdam philip maechl southern california earthquak center thank everyon contribut contributor coven code conduct pledg interest foster open welcom environ contributor maintain pledg make particip project commun harassmentfre experi everyon regardless age bodi size disabl ethnic sex characterist gender ident express level experi educ socioeconom statu nation person appear race religion sexual ident orient standard exampl behavior contribut creat posit environ includ use welcom inclus languag respect differ viewpoint experi grace accept construct critic focus best commun show empathi toward commun member exampl unaccept behavior particip includ use sexual languag imageri unwelcom sexual attent advanc troll insultingderogatori comment person polit attack public privat harass publish other privat inform physic electron address without explicit permiss conduct could reason consid inappropri profession set respons project maintain respons clarifi standard accept behavior expect take appropri fair correct action respons instanc unaccept behavior project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct ban temporarili perman contributor behavior deem inappropri threaten offens harm scope code conduct appli within project space also appli individu repres project commun public space exampl repres project commun includ use offici project email address post via offici social media account act appoint repres onlin offlin event represent project may defin clarifi project maintain enforc instanc abus harass otherwis unaccept behavior may report contact project team softwarescecorg complaint review investig result respons deem necessari appropri circumst project team oblig maintain confidenti regard report incid detail specif enforc polici may post separ project maintain follow enforc code conduct good faith may face temporari perman repercuss determin member project leadership attribut code conduct adapt contributor covenanthttpswwwcontributorcovenantorg version avail httpswwwcontributorcovenantorgversioncodeofconducthtml answer common question code conduct see httpswwwcontributorcovenantorgfaq contribut pycsep document provid overview contribut pycsep provid stepbystep instruct hope answer question get start make sure activ github account download instal git read git documentaion arent familiar git instal develop version pycsep havent work git fork make sure read document link help infohttpshelpgithubcomengithubcollaboratingwithissuesandpullrequestsworkingwithfork develop instal show instal copi repositori use creat pull request sync upstream repositori first fork repo github live httpsgithubcomyour_github_usernamepycsep recommend use conda instal develop environ git clone httpsgithubcomyour_github_usernamepycsepgit cd pycsep conda env creat f requirementsyml conda activ csepdev pip instal e add upstream repositori git remot add upstream httpsgithubcomsceccodepycsepgit note use command conda deactiv go back regular environ done work pycsep submit pull request note start pull request pull request use chang code pleas submit us here make new branch featuresaddit base new branch master make sure add test pull request document refactor plot featur requir test also document must accompani new featur request note would realli appreci pull request help us improv document make sure test pass run run_testssh toplevel directori repo push chang fork submit pull request make sure set branch pycsepmast wait review may suggest chang improv chang made pull request open simpli ad commit branch pull request chang open creat pull request earli possibl allow us provid feedback develop answer question also find pycsep use dont want contribut code highli encourag updat document pleas make sure set correct branch pull request also pleas includ larg file pull request feel need add larg file benchmark forecast let us know figur someth tip get pull request accept quickli new featur contain calcul must contain unittest ensur calcul expect except document chang new plot featur document accompani new featur addit packag plot function provid sphinxgalleri exampl found herehttpsgithubcomsceccodepycsepblobmasterexamplestutorialscatalog_filteringpi complex featur might requir addit document let know upon see pull request document use sphinx compil rest note found herehttpswwwsphinxdocorgenmasterusagequickstarthtml pycsep use pytest test runner add new test test folder exist file new file start match test_pi new scientif capabl previous publish present csep scienc group part scienc review consist present provid scientif justif featur code follow pephttpspeporg styleguid function use googl style docstringshttpswwwsphinxdocorgenmasterusageextensionsexample_googlehtml get compil sphinx becom part document submit issu pleas open issu want ask question pycsep pleas search past issu see question bug alreadi address pleas appli correct tag issu other search want submit bug report pleas provid inform pycsep version python version platform linux window mac osx etc instal pycsep pip anaconda sourc pleas provid short complet correct exampl demonstr issu broke recent updat pleas tell us use work addit resourc work git forkshttpshelpgithubcomengithubcollaboratingwithissuesandpullrequestsworkingwithfork style guidehttpgooglegithubiostyleguidepyguidehtml doc doesnt existhttpslukeplantmeukblogpostsdocsoritdoesntexist quickstart guid sphinxhttpswwwsphinxdocorgenmasterusagequickstarthtml pep style guidehttpspeporg perform tip pythonhttpswikipythonorgmoinpythonspeedperformancetip numpi ctypeshttpsscipycookbookreadthedocsio scipyhttpswwwscipyorgdocshtml numpi bookhttpcscucdaviseduchaoscoursesnlpsoftwarenumpybookpdf pycsep pull request checklist pleas check contribut guidelineshttpsgithubcomsceccodepycsepblobmastercontributingmd tip make pull request pycsep fix issu pleas fill delet need type chang pleas delet option relev bug fix nonbreak chang fix issu new featur nonbreak chang add function break chang fix featur would caus exist function work expect document updat pull request add new code unpublish scienc featur may requir scienc review chang requir document updat checklist perform selfreview code comment code particularli hardtounderstand area made correspond chang document chang gener new warn ad test prove fix effect featur work new exist unit test pass local chang help notebook folder contain notebook might help provid inform pycsep provid recip common process task meant supplement tutorialshttpsdocscseptestingorgtutori runnabl notebook show behavior csep test pycsep tool earthquak forecast develop toctre maxdepth hidden caption get start getting_startedinstal getting_startedcore_concept getting_startedtheori toctre maxdepth hidden caption tutori exampl tutorialscatalog_filteringrst tutorialsplot_gridded_forecastrst tutorialsgridded_forecast_evaluationrst tutorialsworking_with_catalog_forecastsrst tutorialscatalog_forecast_evaluationrst tutorialsplot_customizationsrst toctre maxdepth hidden caption user guid conceptscatalog conceptsforecast conceptsevalu conceptsregion toctre maxdepth hidden caption help refer referenceglossari referencepubl referenceroadmap referencedeveloper_not referenceapi_refer pycsep tool help earthquak forecast model develop evalu forecast provid machineri implement experi within csep test center collaboratori studi earthquak predict csep support intern effort conduct earthquak forecast experi csep support activ develop cyberinfrastructur necessari run earthquak forecast experi includ statist framework requir evalu probabilist earthquak forecast pycsep python librari provid tool evalu probabilist earthquak forecast work earthquak catalog context creat visual offici experi run csep test center implement use code provid packag project goal help model becom familiar format procedur evalu use csep test center provid vet softwar model develop use research provid quantit visual tool assess earthquak forecast qualiti promot opensci idea ensur transpar avail scientif code result curat benchmark model data set model conduct retrospect experi forecast contribut highli encourag user packag get involv develop process contribut help even suggest improv packag addit document particularli welcom check contribut guidelin httpsgithubcomsceccodecsepblobdevcontributingmd_ step step contribut project question pleas contact us contact us gener discuss bug report pleas post issu pycsep github httpsgithubcomsceccodecsep_ project adher code conduct httpsgithubcomsceccodecsepblobdevcode_of_conductmd_ particip agre follow term list contributor lead william savran wsavran usc dot edu muhammad asim khawaja thoma beutin pablo iturrieta _forecastrefer forecast pycsep support two type earthquak forecast evalu use tool provid packag gridbas forecast catalogbas forecast forecast type pycsep object use repres explain detail document content tabl content local depth grid forecast gridbas forecast assum earthquak occur independ discret spacetimemagnitud bin occurr earthquak describ expect rate forecast format provid gener represent seismic accommod forecast without explicit likelihood function creat use smooth seismic model grid forecast also produc use simulationbas approach like epidemictyp aftershock sequenc model current gridbas forecast defin spatial compon use cartesian rectangular grid magnitud bin use cartesian rectangular grid last bin largest magnitud bin assum continu infin forecast use latitud longitud defin bin edg spatial grid typic valu x lat x lon Î´mw unit choic strictli enforc defin accord specif experi work grid forecast pycsep provid classgriddedforecastcsepcoreforecastsgriddedforecast class handl work gridbas forecast pleas see visit refthi examplegridforecastevalu endtoend tutori evalu gridbas earthquak forecast autosummari csepcoreforecastsgriddedforecast default file format default file format griddedforecast tab delimit ascii file follow column name includ lon_ lon_ lat_ lat_ depth_ depth_ mag_ mag_ rate flag e row repres singl spacemagnitud bin entir forecast file contain rate specifi timehorizon exampl grid forecast relm test region found httpsgithubcomsceccodecsepblobdevcsepartifactsexampleforecastsgriddedforecastshelmstetter_et_alhkjaftershockfromxmldat_ coordin lon lat depth mag describ independ spacemagnitud region forecast lower coordin inclus upper coordin exclus rate increment within magnitud rang defin mag_ mag_ flag legaci valu csep test center indic whether spatial cell consid forecast current implement allow individu spacemagnitud cell flag thu spatial cell flag correspond magnitud cell flag note pycsep support region thick one layer futur plan support complex region includ defin use multipl depth region multipl depth layer collaps singl layer sum oper reduc resolut forecast custom file format methgriddedforecastfrom_customcsepcoreforecastsgriddedforecastfrom_custom method allow provid function read custom format help write function might requir convert forecast appropri format first place function requir except return expect data automethod csepcoreforecastsgriddedforecastfrom_custom catalogbas forecast catalogbas earthquak forecast issu collect synthet earthquak catalog everi synthet catalog repres realiz forecast repres uncertainti present model gener forecast unlik gridbas forecast catalogbas forecast retain spacemagnitud depend event tri model gridbas forecast easili comput catalogbas forecast assum spacemagnitud region count event within bin catalog forecast issu sampl especi larger magnitud event work catalogbas forecast autosummari csepcoreforecastscatalogforecast pleas see visit refthiscatalogforecastevalu exampl endtoend tutori evalu catalogbas earthquak forecast exampl catalogbas forecast store default pycsep format found herehttpsgithubcomsceccodepycsepblobdevcsepartifactsexampleforecastscatalogforecastsucerflanders_tcsv_ standard format catalogbas forecast comma separ valu ascii format format chosen humanread easi implement program languag inform format shown note custom format support write custom function subclass refabstractbasecatalogcsepcoreforecastsabstractbasecatalog event format match follow specfic lon lat mag origin_tim depth catalog_id event_id row catalog correspond event catalog expect place file differenti catalog_id catalog event handl coupl differ way intend save storag event within catalog sort time catalog_id increas sequenti break catalog_id interpret miss catalog follow two exampl show repres forecast catalog contain zero event includ event verbos lon lat mag origin_tim depth catalog_id event_id shorthand lon lat mag origin_tim depth catalog_id event_id follow three exampl show could repres forecast catalog four catalog contain zero event one catalog contain one event includ event verbos lon lat mag origin_tim depth catalog_id event_id shorthand lon lat mag origin_tim depth catalog_id event_id simplest way orient file follow case catalog contain zero event zero orient catalog_id assign correspond total number catalog forecast case everi catalog contain zero forecast event would specifi forecast use catalog_id assign correspond total number catalog forecast _plotsrefer plot pycsep provid sever function produc commonli use plot earthquak forecast evalu catalog perhap combin two content tabl content local depth introduct plot argument avail plot _catalogsrefer catalog pycsep provid routin work manipul earthquak catalog purpos evalu earthquak forecast model abl make use tool reason pleas let us know especi interest includ basic catalog statist packag interest help implement routin like bvalu estim catalog complet would much appreci content tabl content local depth introduct pycsep catalog basic earthquak catalog contain collect seismic event defin set attribut pycsep implement simpl event descript suitabl evalu earthquak forecast format everi seismic event defin locat space longitud latitud depth magnitud origin time addit event option event_id uniqu identifi pycsep provid classcsepcorecatalogscsepcatalog repres earthquak catalog essenti event data store structur numpi array httpsnumpyorgdocstableuserbasicsrechtml_ follow data type dtype numpydtypeid origin_tim latitud f longitud f depth f magnitud f addit inform associ event use id field structur array class member call metadata essenti event data must complet mean event attribut defin metadata freeform pycsep impos restrict way event metadata store metadata event access use event id exampl could catalog csepload_catalogcatalog_filecsv event_metadata catalogmetadataevent_id would load catalog store pycsep csv format pycsep contain catalog reader follow format also look support catalog format pleas suggest better yet help us write reader csep ascii format ndk format use gcmt catalog ingv gcmt catalog zmap format preprocess jma format pycsep support abil easili defin custom reader function catalog format type dont current support happen implement reader new catalog format pleas check contribut guidelin httpsgithubcomsceccodecsepblobdevcontributingmd_ make pull request includ next releas catalog panda datafram might comfort use panda datafram manipul tabular data pycsep provid routin access catalog classpandasdatafram use df catalogto_dataframewith_datetimestru return datafram represent catalog use catalog csepcatalogfrom_dataframedf return back pycsep data model note go datafram csepcatalog lossi transform essenti retain essenti event attribut defin dtype class load catalog load catalog file easili load catalog support format use funccsepload_catalog function provid toplevel function load catalog current support pycsep must specifi type catalog format want load type catalog catalog_typ ucerf csepcsv zmap jmacsv ndk catalog_format csep nativ catalog type determin reader modcseputilsread use load file default csepcsv type nativ format jmacsv format creat use bindeckcsvpl perl script note format import ucerf catalog store big endian binari number default work ucerfeta catalog would like convert csepcatalog format use formatcsep option load catalog catalog load catalog comcat pycsep provid toplevel function load catalog use comcat incorpor work done mike hearn other us geolog survey pycsep effort reduc depend project toplevel access comcat catalog access funccsepquery_comcat lower level function access modcseputilscomcat modul credit code goe us geolog survey refheretutorialcatalogfilt complet exampl access comcat catalog write custom loader function easili add custom loader function import data format current includ pycsep tool methcsepcorecatalogscsepcatalogload_catalog funccsepload_catalog support option argument call loader support custom data format simplest form function follow stub def my_custom_loader_functionfilenam custom loader function catalog data arg filenam str path file contain path forecast return eventlist iter event data order event_id origin_tim latitud longitud depth magnitud imagin logic read data filenam return eventlist function pass funccsepload_catalog methcsepcatalogload_catalogcsepcorecatalogscsepcatalogload_catalog loader keyword argument function pass firstclass object like import csep my_custom_catalog csepload_catalogfilenam loadermy_custom_loader_funct note origin_tim actual integ time recommend pars time inform classdatetimedatetim object use funcdatetime_to_utc_epochcseputilstime_utilsdatetime_to_utc_epoch function convert integ time notic actual call function pass refer function also access webbas catalog like implement funccsepquery_comcat function function doesnt work either funccsepload_catalog methcsepcatalogload_catalogcsepcorecatalogscsepcatalogload_catalog intend filebas catalog instead creat catalog object directli would like def my_custom_web_load access catalog onlin data sourc requir argument creat catalog directli class return eventlist iter event data order event_id origin_tim latitud longitud depth magnitud custom logic access onlin catalog repositori return eventlist might notic loader function requir return eventlist eventlist must iter contain requir event data note event eventlist follow form eventlist my_custom_loader_funct event eventlist event event_id see note use integ time event origin_tim event latitud event longitud event depth event magnitud function return eventlist creat catalog object directli use classcsepcorecatalogscsepcatalog exampl import csep eventlist my_custom_web_load catalog csepcatalogscsepcatalogdataeventlist kwarg kwarg repres keyword argument pass classcsepcatalogcsepcorecatalogscsepcatalog could catalog_id classcartesiangriddcsepcoreregionscartesiangridd includ custom event metadata catalog includ addit metadata associ event right direct applic event metadata nonetheless includ catalog object event metadata dictionari key event_id individu event exampl event_id my_dummy_id metadata_dict catalogmetadataevent_id event meta_data jsonserializ dictionari class implement to_dict from_dict method requir properli save catalog file json format verifi whether two catalog see methto_dictcsepcorecatalogscsepcatalog methfrom_dictcsepcorecatalogscsepcatalog method exampl would work access event inform order util lowlevel acceler numpi catalog oper vector catalog class provid getter method access essenti catalog data return array classnumpyndarray dtype defin class automodul csepcorecatalog follow function return classnumpyndarraysnumpyndarray catalog inform autosummari csepcatalogevent_count csepcatalogget_magnitud csepcatalogget_longitud csepcatalogget_latitud csepcatalogget_depth csepcatalogget_epoch_tim csepcatalogget_datetim csepcatalogget_cumulative_number_of_ev catalog data iter eventbyev use standard forloop exampl someth like event catalogdata print eventid eventorigin_tim eventlatitud eventlongitud eventdepth eventmagnitud keyword event tupl defin dtype class keyword classcsepcatalogcsepcorecatalogscsepcatalog shown snippet directli exampl quick dirti plot cumul event time made use modmatplotlibpyplot interfac import csep import matplotlibpyplot plt let assum alreadi load catalog catalog csepload_catalogmy_catalog_pathcsv quick dirti plot fig ax pltsubplot axplotcatalogget_epoch_tim catalogget_cumulative_number_of_ev pltshow filter event catalog file catalog access via web contain event desir given use case pycsep provid routin help filter event catalog follow method help filter unwant event catalog autosummari csepcatalogfilt csepcatalogfilter_spati csepcatalogapply_mct filter event attribut function methcsepcatalogfiltercsepcorecatalogscsepcatalogfilt provid abil filter event base essenti attribut function work pars filter string appli use logic oper catalog string follow format filter_str fattribut oper valu filter string repres statement would evalu true appli exampl statement catalogfiltermagnitud would retain event catalog greaterthanorequ magnitud attribut determin dtype catalog therefor filter base origin_tim latitud longitud depth magnitud addit use attribut datetim provid classdatetimedatetim object filter event use data type filter function accept string list filter statement function call without argument function look use catalogfilt member provid class instanti bound class afterward refheretutorialcatalogfilt complet exampl filter catalog use filter string filter event space might want suppli nonrectangular polygon use filter event space commonli done prepar observ catalog forecast evalu right accomplish suppli classregioncsepcoreregionscartesiangridd catalog methfilter_spatialcsepcorecatalogscsepcatalogfilter_spati inform use region refuserguid pageregionsrefer page refcatalog filteringtutorialcatalogfilt contain complet exampl filter catalog use user defin aftershock region base ridgecrest mainshock timedepend magnitud complet seismic network difficulti record event immedi larg event occur pass seismic wave larger event becom mix potenti smaller event usual evalu aftershock forecast account timedepend magnitud complet pycsep provid refhelmstett et al helmstett implement timedepend magnitud complet model requir inform event suppli directli methapply_mctcsepcorecatalogscsepcatalog addit pycsep provid access comcat api use funcget_event_by_idcseputilscomcatget_event_by_id exmapl seen reffilt catalog tutorialtutorialcatalogfilt bin event anoth common task requir bin earthquak spatial locat magnitud routin done evalu earthquak forecast like filter catalog space need provid inform region use bin pleas see refuserguid pageregionsrefer inform region note would like make function user friendli suggest struggl pleas open issu github page wed happi incorpor idea toolkit follow function allow bin catalog use spacemagnitud region autosummari csepcatalogspatial_count csepcatalogmagnitude_count csepcatalogspatial_magnitude_count function return classnumpyndarraysnumpyndarray contain count event determin catalog exampl show obtain magnitud count catalog index ndarray correspond index associ spacemagnitud region exampl import csep import numpi catalog csepload_catalogmy_catalog_fil return bin edg bin_edg numpyarang magnitude_count catalogmagnitude_countsmag_binsbin_edg exampl magnitude_count number event magnitud bin assum final bin extend infin therefor magnitude_count contain number event _regionsrefer region automodul cseputilsbasic_typ pycsep includ commonli use csep test region class facilit work grid data set modul earli develop focu futur develop content tabl content local depth currentmodul csep automodul csepcoreregion practic speak earthquak forecast especi timedepend forecast treat time differ space magnitud consid famili monthli forecast state california earthquak forecast would use spacemagnitud region even though time period differ time horizon implicit properti forecast explicitli consid time region object provid pycsep modul contain tool work grid region space magnitud first describ spatial region handl follow magnitud region two aspect interact one anoth region object current pycsep provid classcartesiangriddcsepcoreregionscartesiangridd handl bin catalog defin region earthquak forecast evalu plan expand modul futur includ complex spatial region cartesian grid section contain inform use cartesian grid autosummari cartesiangridd note plan improv modul expand capabl exampl would like handl nonregular grid quadtre also singl polygon abl act spatial compon region addit make toolkit use craft bespok experi gener catalog analysi featur request alway welcom classcartesiangriddcsepcoreregionscartesiangridd act data structur associ spatial locat eg lon lat correspond spatial bin class optim work regular grid although complet hole rectangular row column differ start coordin classcartesiangriddcsepcoreregionscartesiangridd maintain list classpolygoncsepcoreregionspolygon object repres individu spatial bin overal region origin polygon consid lowerleft corner minimum latitud minimum longitud autosummari cartesiangriddnum_nod cartesiangriddget_index_of cartesiangriddget_location_of cartesiangriddget_mask cartesiangriddget_cartesian cartesiangriddget_bbox cartesiangriddmidpoint cartesiangriddorigin cartesiangriddfrom_origin creat spatial region describ class work start class constructor classmethod def from_originscl origin dhnone magnitudesnon namenon conveni function creat cartesiangridd list polygon origin applic use methfrom_originscsepcoreregionscartesiangriddfrom_origin function easiest way creat new spatial region method accept classnumpyndarray contain x lon lat origin spatial bin polygon complet set origin function attempt comput grid space compar x valu adjac origin seem like reliabl approach region explicitli provid grid space dh method classcartesiangriddcsepcoreregionscartesiangridd creat follow step occur comput bound box contain polygon array creat map index bound box list polygon region store boolean flag indic whether given cell array valid map creat associ arbitrari lon lat point spatial cell use map defin methget_index_ofcsepcoreregionscartesiangriddget_index_of accept list longitud latitud return index polygon associ instanc index use access data valu store anoth data structur test region csep defin test region use earthquak forecast experi follow function modcsepcoreregion modul return classcartesiangriddcsepcoreregionscartesiangridd consist region autosummari california_relm_region italy_csep_region global_region region util pycsep also provid util facilit work region expand modul includ function accommod differ usecas autosummari magnitude_bin create_space_magnitude_region parse_csep_templ increase_grid_resolut masked_region generate_aftershock_region _evaluationrefer automodul csepcorepoisson_evalu evalu pycsep provid routin evalu grid catalogbas earthquak forecast page explain use forecast evalu routin also build mock forecast catalog class accommod differ custom forecast catalog content tabl content local depth currentmodul csep griddedforecast evalu gridbas earthquak forecast assum earthquak occur discret spacetimemagnitud bin rateof occurr defin use singl number magnitud bin spacetimemagnitud bin assum independ poisson random variabl therefor use likelihoodbas evalu metric compar forecast observ pycsep provid two group evalu metric gridbas earthquak forecast first known consist test verifi whether forecast consist observ second compar test use compar perform two compet forecast pycsep implement follow evalu routin gridbas forecast function intend work classgriddedforecastscsepcoreforecastsgriddedforecast classcsepcatalogscsepcorecatalogscsepcatalog visit refcatalog referencecatalogsrefer refforecast referenceforecastsrefer learn import forecast catalog pycsep note gridbas forecast evalu act directli forecast catalog suppli function filter catalog andor scale forecast must done call function must done evalu forecast done consist forecast compar see refexamplegridforecastevalu grid forecast evalu endtoend walkthrough evalu grid earthquak forecast consist test autosummari number_test magnitude_test spatial_test likelihood_test conditional_likelihood_test compar test autosummari paired_t_test w_test public refer number test refschorlemm et al schorlemm refzechar et al zechar magnitud test refzechar et al zechar spatial test refzechar et al zechar likelihood test refschorlemm et al schorlemm refzechar et al zechar condit likelihood test refwern et al werner pair test refrhoad et al rhoad wilcoxon signedrank test refrhoad et al rhoad catalogbas forecast evalu catalogbas forecast issu famili stochast event set synthet earthquak catalog express full uncertainti forecast model addit forecast retain interev depend lost use discret spacetimemagnitud grid problem impact evalu perform timedepend forecast like epidem type aftershock sequenc model eta order support gener simulatorbas model defin suit consist test compar forecast distribut observ without use parametr likelihood function evalu take advantag fact forecast observ earthquak catalog therefor comput ident statist catalog compar one anoth provid four statist probe fundament aspect earthquak forecast pleas see refsavran et al savran complet descript individu test implement detail pleas follow link see refexamplecatalogforecastevalu catalogbas forecast evalu endtoend walk automodul csepcorecatalog_evalu consist test autosummari number_test spatial_test magnitude_test pseudolikelihood_test calibration_test public refer number test refsavran et al savran spatial test refsavran et al savran magnitud test refsavran et al savran pseudolikelihood test refsavran et al savran calibr test refsavran et al savran prepar evalu catalog evalu pycsep implicitli filter observ catalog modifi forecast data call case observ catalog filter accord magnitud rang forecast spatial region forecast start endtim forecast observ catalog filter consist space time magnitud forecast use evalu forecast singl evalu catalog use evalu multipl forecast long cover space time magnitud region build mock class python ducktyp languag mean doesnt care object type method function expect object use come handi want use evalu method forecast complet fit forecast class catalog class provid pycsep note someth great power great respons reliabl result write loader function ingest forecast model provid pycsep mockclass work use certain circumst particular use write softwar test prototyp featur ad packag section walk compar two forecast use funcpaired_t_testcsepcorepoisson_evalu mock forecast catalog class sound much complex realli give flexibl use format interact tool provid pycsep warn simulationbas poisson test magnitude_test likelihood_test conditional_likelihood_test spatial_test optim work forecast contain equals spatial bin forecast use variabl size spatial bin get incorrect result work forecast variabl spatial bin creat issu github wed like implement featur toolkit wed love help look funcpaired_t_testcsepcorepoisson_evalu see follow code def paired_t_testgridded_forecast gridded_forecast observed_catalog alpha scalefals comput ttest grid earthquak forecast arg gridded_forecast_ csepcoreforecastsgriddedforecast ndarray store grid rate axi magnitud column gridded_forecast_ csepcoreforecastsgriddedforecast ndarray store grid rate axi magnitud column observed_catalog csepcorecatalogsabstractbasecatalog number observ earthquak whole number zero alpha float toler level typei error rate statist test scale bool true scale forecast rate singl day return evaluation_result csepcoreevaluationsevaluationresult need preprocess put forecast context requir ttest differ cumul forecast eg multipl timehorizon static filebas forecast target_event_rate_forecast n_fore gridded_forecasttarget_event_ratesobserved_catalog scalescal target_event_rate_forecast n_fore gridded_forecasttarget_event_ratesobserved_catalog scalescal call prim version oper ndarray _t_test_ndarraytarget_event_rate_forecast target_event_rate_forecast observed_catalogevent_count n_fore n_fore alphaalpha prepar evalu result object result evaluationresult resultnam pair ttest resulttest_distribut outig_low outig_upp resultobserved_statist outinformation_gain resultquantil outt_statist outt_crit resultsim_nam gridded_forecastnam gridded_forecastnam resultobs_nam observed_catalognam resultstatu normal resultmin_mw numpymingridded_forecastmagnitud notic function expect two forecast object one catalog object paired_t_test function call method forecast object name methtarget_event_ratescsepcoreforecastsgriddedforecasttarget_event_r return tupl classnumpyndarray float consist target event rate expect number event forecast note target event rate expect rate observ event observ catalog assum forecast true simpl exampl forecast rate event per year bin forecast event occur within bin target event rate event per year expect number event forecast determin sum bin grid forecast also see paired_t_test function use gridded_forecastnam call funcnumpymin gridded_forecastmagnitud use inform creat mockclass implement method use function warn creat mockclass use evalu function make sure visit correspond document sourcecod make sure method return valu expect function case expect tupl target_event_r expected_forecast_count alway case need help pleas creat issu github page show implement mock forecast class work funcpaired_t_testcsepcorepoisson_evaluationspaired_t_test function class mockforecast def __init__self datanon namemymockforecast magnitud data necessari might help implement target_event_r selfdata data selfnam name array list simpl default argument selfmagnitud magnitud def target_event_ratescatalog scalenon notic ad dummi argument scale function stub match call paired_t_test whatev custom logic need return target event rate given catalog go cours work whatev catalog decid pass function return tupl paired_t_test expect return ndarray_of_target_event_r expected_number_of_ev youll notic funcpaired_t_testcsepcorepoisson_evaluationspaired_t_test expect catalog class look back function definit see need observed_catalogevent_count observed_catalognam therefor mock class catalog would look someth like class mockcatalog def __init__self event_count datanon namemymockcatalog necessari ad data might help implement logic need target_event_r function mockforecast class selfdata data selfnam name selfevent_count event_count use two object call funcpaired_t_testcsepcorepoisson_evaluationspaired_t_test directli without modifi sourc code creat forecast mock_forecast_ mockforecastsome_forecast_data mock_forecast_ mockforecastsome_forecast_data let assum catalog_data array contain catalog data catalog mockcataloglencatalog_data call function use class eval_result paired_t_testmock_forecast_ mock_forecast_ catalog requir approach implement method class call function expect add anyth els need order make function work properli exampl simpl get note want use mockforecast mockcatalog evalu add addit method need onto mock class alreadi built api refer contain refer document pycsep api automodul csep currentmodul csep load catalog forecast autosummari toctre gener load_stochastic_event_set load_catalog query_comcat load_gridded_forecast load_catalog_forecast catalog currentmodul csepcorecatalog automodul csepcorecatalog catalog oper defin use classabstractbasecatalog class autosummari toctre gener abstractbasecatalog csepcatalog ucerfcatalog catalog oper input output oper catalog autosummari toctre gener csepcatalogto_dict csepcatalogfrom_dict csepcatalogto_datafram csepcatalogfrom_datafram csepcatalogwrite_json csepcatalogload_json csepcatalogload_catalog csepcatalogwrite_ascii csepcatalogload_ascii_catalog csepcatalogget_csep_format csepcatalogplot access event inform autosummari toctre gener csepcatalogevent_count csepcatalogget_magnitud csepcatalogget_longitud csepcatalogget_latitud csepcatalogget_depth csepcatalogget_epoch_tim csepcatalogget_datetim csepcatalogget_cumulative_number_of_ev filter bin autosummari toctre gener csepcatalogfilt csepcatalogfilter_spati csepcatalogapply_mct csepcatalogspatial_count csepcatalogmagnitude_count csepcatalogspatial_magnitude_count util autosummari toctre gener csepcatalogupdate_catalog_stat csepcataloglength_in_second csepcatalogget_bvalu currentmodul csepcoreforecast automodul csepcoreforecast forecast pycsep provid class interact catalog grid base forecast autosummari toctre gener griddedforecast catalogforecast grid forecast method autosummari toctre gener griddedforecastdata griddedforecastevent_count griddedforecastsum griddedforecastmagnitud griddedforecastmin_magnitud griddedforecastmagnitude_count griddedforecastspatial_count griddedforecastget_latitud griddedforecastget_longitud griddedforecastget_magnitud griddedforecastget_index_of griddedforecastget_magnitude_index griddedforecastload_ascii griddedforecastfrom_custom griddedforecastget_r griddedforecasttarget_event_r griddedforecastscale_to_test_d griddedforecastplot catalog forecast method autosummari toctre gener catalogforecastmagnitud catalogforecastmin_magnitud catalogforecastspatial_count catalogforecastmagnitude_count catalogforecastget_expected_r catalogforecastget_datafram catalogforecastwrite_ascii catalogforecastload_ascii automodul csepcorecatalog_evalu evalu pycsep provid implement evalu catalogbas forecast gridbas forecast catalogbas forecast evalu autosummari toctre gener number_test spatial_test magnitude_test pseudolikelihood_test calibration_test automodul csepcorepoisson_evalu gridbas forecast evalu autosummari toctre gener number_test magnitude_test spatial_test likelihood_test conditional_likelihood_test paired_t_test w_test automodul csepcoreregion region pycsep includ commonli use csep test region class facilit work grid data set modul earli develop help welcom region class autosummari toctre gener cartesiangridd test region autosummari toctre gener california_relm_region italy_csep_region global_region region util autosummari toctre gener magnitude_bin create_space_magnitude_region parse_csep_templ increase_grid_resolut masked_region generate_aftershock_region california_relm_region plot automodul cseputilsplot gener plot autosummari toctre gener plot_histogram plot_ecdf plot_basemap plot_spatial_dataset add_labels_for_publ plot catalog autosummari toctre gener plot_magnitude_versus_tim plot_catalog plot stochast event set evalu autosummari toctre gener plot_cumulative_events_versus_tim plot_magnitude_histogram plot_number_test plot_magnitude_test plot_distribution_test plot_likelihood_test plot_spatial_test plot_calibration_test plot grid forecast evalu autosummari toctre gener plot_spatial_dataset plot_comparison_test plot_poisson_consistency_test automodul cseputilstime_util time util autosummari toctre gener epoch_time_to_utc_datetim datetime_to_utc_epoch millis_to_day days_to_milli strptime_to_utc_epoch timedelta_from_year strptime_to_utc_datetim utc_now_datetim utc_now_epoch create_utc_datetim decimal_year automodul cseputilscomcat comcat access integr code develop mike hearn other usg reduc depend packag plan move extern option depend futur autosummari toctre gener search get_event_by_id automodul cseputilscalc calcul util autosummari toctre gener nearest_index find_nearest func_invers discret bind_vec automodul cseputilsstat statist util autosummari toctre gener sup_dist sup_dist_na cumulative_square_diff binned_ecdf ecdf greater_equal_ecdf less_equal_ecdf min_or_non max_or_non get_quantil poisson_log_likelihood poisson_joint_log_likelihood_ndarray poisson_inverse_cdf automodul cseputilsbasic_typ basic type autosummari toctre gener adaptivehistogram term definit page contain term definit possibl mathemat definit commonli use throughout document csep literatur content tabl content local depth _earthquakecatalog earthquak catalog list earthquak either tecton nontecton defin locat space origin time event magnitud _earthquake_forecast earthquak forecast probabilist statement occurr seismic includ inform magnitud spatial locat csep support earthquak forecast express expect rate seismic disjoint space magnitud bin famili synthet earthquak catalog _stochasticeventset stochast event set collect synthet earthquak event produc earthquak stochast event set consist n event repres continu represent seismic sampl uncertainti present within forecast model _timedependentforecast timedepend forecast forecast chang time use new inform avail time forecast issu exampl epidemictyp aftershock sequenc model eta model util updat use newli observ seismic produc new forecast consist model _timeindependentforecast timeindepend forecast forecast chang time timeindepend forecast gener use longterm forecast need probabalist seismic hazard analysi referenc public _helmstett helmstett kagan jackson comparison shortterm timeindepend earthquak forecast model southern california bulletin seismolog societi america _rhoad rhoad schorlemm c gerstenberg christophersen j zechar imoto effici test earthquak forecast model acta geophi _savran savran w j werner w marzocchi rhoad jackson k r milner e h field j michael pseudoprospect evalu ucerfeta forecast ridgecrest sequenc bulletin seismolog societi america _schorlemm schorlemm gerstenberg wiemer jackson rhoad earthquak likelihood model test seismolog research letter _werner werner j helmstett jackson kagan highresolut longterm shortterm earthquak forecast california bulletin seismolog societi america _zechar zechar j c gerstenberg rhoad likelihoodbas test evalu spaceratemagnitud earthquak forecast bulletin seismolog societi america _roadmap develop roadmap page contain expect chang new releas pycsep last updat novemb v includ receiv oper characterist roc curv kagan score add function plot spatial loglikelihood score add document section explain math csep test develop note last updat januari creat new releas pycsep step requir creat new releas pycsep requir combin updat repositori github need build wheel distribut pypi upload github issu releas final step involv upload tarbal releas pypi ci tool provid condaforg automat bump version condaforg note permiss requir push new version pypi code chang bump version number _versionpi httpsgithubcomsceccodepycseptreemastercsep_versionpy_ updat codemetajson httpsgithubcomsceccodepycsepblobmastercodemetajson_ updat changelogmd httpsgithubcomsceccodepycsepblobmasterchangelogmd_ includ link github pull request possibl updat creditsmd httpsgithubcomsceccodepycsepblobmastercreditsmd_ requir updat version confpi httpsgithubcomsceccodepycsepblobmasterdocsconfpy_ issu pull request contain chang merg pull request chang merg master version correct creat sourc distribut issu command toplevel directori project python setuppi check execut warn failur build sourc distribut use command python setuppi sdist creat folder call dist contain file call pycsepxyztargz distribut upload pypi condaforg github upload pypi use twine requir permiss push pypi account twine upload distpycsepxyztargz creat releas github creat new releas httpsgithubcomsceccodepycsepreleases_ github save draft readi copi new updat inform changelogmd httpsgithubcomsceccodepycsepblobmasterchangelogmd_ upload tarbal creat setuppi publish releaseinstal pycsep work condaforg recip pypi distribut plan contribut packag visit contribut guidelin httpsgithubcomsceccodepycsepblobmastercontributingmd_ instal instruct note packag requir python easiest way instal pycsep use conda also instal use pip built sourc use conda user use conda instal channel condaforg pycsep use pip instal work must first instal follow system depend remain depend instal instal script help manag depend issu recommend use virtual environ like virtualenv python later httpspythonorg numpi later httpsnumpyorg python packag scientif comput numer calcul geo later httpstracosgeoorggeo c librari process geometri proj later httpsprojorg librari cartograph project exampl ubuntu sudo aptget instal libprojdev projdata projbin sudo aptget instal libgeosdev pip instal upgrad pip pip instal numpi exampl maco brew instal proj geo pip instal upgrad pip pip instal numpi instal sourc use approach want uptod code creat edit instal sync latest github commit recommend use virtual environ instal python packag sourc avoid depend conflict prefer conda packag manag pip conda good job handl binari distribut packag across multipl platform also recommend use miniconda instal lightweight includ necessari pacakag like pip zlib use conda dont conda machin download instal miniconda httpsdocscondaioenlatestminicondahtml_ git clone httpsgithubcomsceccodepycsep cd pycsep conda env creat f requirementsyml conda activ csepdev instal editor mode depend pip instal e note want go back default environ use command conda deactiv use pip virtualenv highli recommend use conda tool help manag binari depend python packag must use virtualenv httpspackagingpythonorgguidesinstallingusingpipandvirtualenvironments_ follow instruct git clone httpsgithubcomsceccodepycsep cd pycsep python virtualenv venv sourc venvbinactiv instal editor mode depend instal conda pip instal e note want go back default environ use command deactiv develop instal show instal copi repositori use creat pull request sync upstream repositori first fork repo github live httpsgithubcomyour_github_usernamepycsep recommend use conda instal develop environ git clone httpsgithubcomyour_github_usernamepycsepgit cd pycsep conda env creat f requirementsyml conda activ csepdev pip instal e allow sync default repositori git remot add upstream httpsgithubcomsceccodepycsepgit pull upstream use git pull upstream master keep copi repositori sync latest commitstheori csep test page describ theori forecast test includ pycsep along work code exampl find inform goal test theori behind test test appli practic forecast score given test result also includ code requir run test descript interpret test result code ipython import csep csepcor import region catalog_evalu poisson_evalu poisson cseputil import dataset time_util comcat plot reader filter matplotlib warn import warn warningsfilterwarningsignor gridbas forecast test test design gridbas forecast eg schorlemm et al expect rate provid discret poisson spacemagnitud cell cover region interest region mathboldsymbolr product spatial rate mathboldsymbol bin magnitud rate mathboldsymbolm math boldsymbolr boldsymbolm time boldsymbol forecast mathboldsymbollambda fulli specifi expect number event rate spacemagnitud bin mathm_i s_j cover region mathboldsymbolr therefor written math boldsymbollambda lambda_m_i s_j m_i boldsymbolm s_j boldsymbol mathlambda_m_i s_j expect rate event magnitud bin mathm_i spatial bin maths_j observ catalogu event mathboldsymbolomega use evalu forecast similarli discretis spacemagnitud bin describ math boldsymbolomega omega_m_i s_j m_i boldsymbolm s_j boldsymbol mathomega_m_i s_j observ number event spatial cell maths_j magnitud bin mathm_i magnitud bin specifi forecast typic increment case exampl use exampl use helmstett et al smooth seismic forecast includ aftershock test year period code ipython set experi paramet start_dat time_utilsstrptime_to_utc_datetim end_dat time_utilsstrptime_to_utc_datetim load pycsep packag helmstett csepload_gridded_forecast datasetshelmstetter_aftershock_fnam start_datestart_d end_dateend_d namehelmstetter_aftershock set evalu catalog catalog csepquery_comcathelmstetterstart_tim helmstetterend_tim min_magnitudehelmstettermin_magnitud filter evalu catalog catalog catalogfilter_spatialhelmstetterregion add seed reproduc simul seed number simul poisson consist test nsim parsedliter fetch comcat catalog second download catalog comcat follow paramet start date end date min latitud max latitud min longitud max longitud min magnitud found event comcat catalog consist test consist test evalu consist forecast observ earthquak test develop across rang experi public schorlemm et al zechar et al werner et al consist test base likelihood observ catalogu actual record event given forecast sinc spacemagnitud bin assum independ jointlikelihood observ event individu bin given specifi forecast written math promega_ lambda_ promega_ lambda_promega_n lambda_n prod_m_i s_j boldsymbolr f_m_i s_jomegam_i s_j mathf_m_i s_j specifi probabl distribut spacemagnitud bin prefer use joint loglikelihood order sum loglikelihood rather multipli likelihood joint loglikelihood written math lboldsymbolomega boldsymbollambda sum_m_i s_j boldsymbolr logf_m_i s_jomegam_i s_j likelihood observ mathboldsymbolomega given forecast mathboldsymbollambda sum spacemagnitud bin log probabl individu cell forecast gridbas forecast specifi expect number event discret spacemagnitud bin maximum entropi principl assign poisson distribut bin case probabl event occur independ time sinc last event event occur rate mathlambda poissonian joint loglikelihood written math lboldsymbolomega boldsymbollambda sum_m_i s_j boldsymbolr lambdam_i s_j omegam_i s_jloglambdam_i s_j logomegam_i s_j mathlambdam_i s_j mathomegam_i s_j expect count forecast observ count cell mathm_i s_j respect calcul likelihood directli given forecast discretis observ forecast uncertainti simul base approach use account uncertainti forecast simul realiz catalog consist forecast obtain distribut score pycsep packag origin csep test simul carri use cumul probabl densiti forecast obtain order rate bin shall call mathf_m_is_j cumul probabl densiti cell mathm_i s_j simul approach work follow forecast bin draw random number mathz uniform distribut assign event spacemagnitud bin invers cumul densiti distribut point mathf_m_i s_jz iter simul event gener catalog contain mathn_sim event consist forecast test plot distribut likelihood comput these simul catalog rel observ use plotsplot_poisson_consistency_test function also calcul quantil score diagnos particular forecast repsect number simul suppli poisson consist test function use num_simul argument best result suggest simul ensur converg score test simul describ obtain set simul catalog mathhatboldsymbolomega catalogu written math hatboldsymbolomega_x hatlambda_xm_i s_jm_i s_j boldsymbolr mathhatlambda_xm_i s_j number simul earthquak cell mathm_i s_j simul catalog mathx consist forecast mathlambda comput joint loglikelihood simul catalogu mathhatl_x lhatomega_xlambda joint loglikelihood simul catalogu given forecast give us set loglikelihood mathhatboldsymbol repres rang loglikelihood consist forecast compar simul loglikelihood observ loglikelihood mathl_ob lboldsymbolomegaboldsymbollambda use quantil score quantil score defin fraction simul joint loglikelihood less equal observ likelihood math gamma frac hatl_x hatl_x le l_ob hatboldsymbol whether forecast said pass evalu depend signific level chosen test process quantil score explicitli tell us someth signific result observ consist forecast mathgamma confid zechar low mathgamma valu demonstr observ likelihood score less simul catalog consist test exclud ntest consid onesid test valu small rule inconsist forecast larg valu may necessarili inconsist forecast addit test use clarifi schorlemm et al differ csep experi use differ sensit valu schorlemm et al b consid mathgamma lt implement italian csep test experi use mathgamma taroni et al howev consist test use diagnost tool quantil score assess level consist observ data tempor variat seismic make difficult formal reject model consist test singl evalu period likelihoodtest ltest aim evalu likelihood observ event given provid forecast includ rate spatial distribut magnitud compon forecast method ltest one origin forecast test describ schorlemm et al likelihood observ given model describ poisson likelihood function cell total joint likelihood describ product bin sum loglikelihood see zechar detail note likelihood score domin ratecompon forecast caus issu score forecast expect number event differ observ number event suggest use ntest cltest independ score rate compon spatialmagnitud compon forecast behavior observ compar cltest ntest result ltest result notebook sinc forecast overpredict rate event test period ltest provid pass score even though spacemagnitud rate compon perform poorli evalu period pycsep implement pycsep use forecast catalog return test distribut observ statist quantil score access likelihood_test_result object pass directli plot function specifi test onesid code ipython likelihood_test_result poissonlikelihood_test helmstett catalog seedse num_simulationsnsim ax plotsplot_poisson_consistency_test likelihood_test_result one_sided_lowertru plot_argstitl rmathcallmathrmtest xlabel loglikelihood imag staticoutput__png pycsep plot result math rang likelihood return simul black bar default observ likelihood score shown green squar forecast pass test red circl observ likelihood outsid likelihood distribut cltest aim origin likelihood test describ give result combin spatial magnitud number compon forecast condit likelihood cltest develop test spatial magnitud perform forecast without influenc number event werner et al b condit test distribut observ number event elimi depend forecast number event describ method cltest comput way ltest number event normalis observ catalog mathn_ob simul stage quantil score calcul similarli math gamma_cl frac hatcl_x hatcl_x le cl_ob hatboldsymbolcl implement pycsep code ipython cond_likelihood_test_result poissonconditional_likelihood_test helmstett catalog seedse num_simulationsnsim ax plotsplot_poisson_consistency_test cond_likelihood_test_result one_sided_lowertru plot_arg titl rclmathrmtest xlabel condit loglikelihood imag staticoutput__png math confid rang likelihood shown black bar symbol reflect observ conditionallikelihood score case observ conditionallikelihood shown red circl fall outsid rang likelihood simul forecast understand l cltest give differ result consid result ntest stest follow section ntest aim number ntest conceptu simpl test forecast test whether number observ event consist forecast method origini ntest introduc schorlemm et al modifi zechar et al observ number event given math n_ob sum_m_i s_j r omegam_i s_j use simul describ expect number event calcul sum simul number event grid cell math hatn_x sum_m_i s_j r hatomega_xm_i s_j mathhatomega_xm_i s_j simul number event catalog mathx spatial cell maths_j magnitud cell mathm_i gener set simul rate math hatn calcul probabl observ mathn_ob event ii observ least mathn_ob event probabl written math delta_ frac hatn_x hatn_x le n_ob hatn math delta_ frac hatn_x hatn_x ge n_ob hatn forecast poisson expect number event forecast follow poisson distribut expect mathn_for sum_m_i s_j r lambdam_i s_j cumul distribut poisson cumul distribut math fxn_fore expn_for sumx_i fracn_foreii use directli without need simul ntest quantil score math delta_ fn_obsn_for math delta_ fn_obsn_for origin ntest consid mathdelta_ complement mathdelta_ effect test probabl mathn_ob event mathn_ob event small larg valu respect consid inconsist forecast schorlemm et al howev approach aim test someth subt differ least mathn_ob event mathn_ob event zechar et al recommend test mathdelta_ mathdelta_ effect signific requir signific level requir signific level forecast consist mathdelta_ mathdelta_ greater small mathdelta_ suggest rate low low mathdelta_ suggest rate high consist observ implement pycsep pycsep use zechar et al version ntest cumul poisson approach estim rang expect event forecast implement simul case upper lower bound test determin cumul poisson distribut number_test_resultquantil return mathdelta_ mathdelta_ valu code ipython number_test_result poissonnumber_testhelmstett catalog ax plotsplot_poisson_consistency_test number_test_result plot_argsxlabelnumb event imag staticoutput__png case black bar show math interv number event forecast actual observ number event shown green box pass ntest case forecast generallli expect event observ practic observ number fall within lower limit expect forecast pass ntest mtest aim establish consist lack thereof observ event magnitud forecast magnitud method mtest first describ zechar et al aim isol magnitud compon forecast sum spatial bin normalis sum event match observ math hatboldsymbolomegam bigomegamm_i m_i boldsymbolmbig math omegamm_i sum_s_j boldsymbol omegam_i s_j math boldsymbollambdam big lambdamm_i m_i boldsymbolm big math lambdamm_i fracn_obsn_foresum_s_j boldsymbol lambdabigm_i s_jbig comput joint loglikelihood ltest math lboldsymbolomegam boldsymbollambdam wish compar distribut simul loglikelihood time keep number event fix mathn_ob simul catalogu mathhatm_x lhatboldsymbolomegam boldsymbollambdam quantil score final test statist fraction observ log likelihood within rang simul log likelihood valu math kappa frac hatm_x hatm_x le hatm observ magnitud inconsist forecast mathkappa less signific level pycsep implement code ipython mag_test_result poissonmagnitude_test helmstett catalog seedse num_simulationsnsim ax plotsplot_poisson_consistency_test mag_test_result one_sided_lowertru plot_argsxlabelnorm likelihood imag staticoutput__png exampl forecast pass mtest demonstr magnitud distribut forecast consist observ event shown green squar mark joint loglikelihood observ event stest aim spatial stest aim establish consist lack thereof observ event locat forecast origin defin zechar et al method similar mtest case sum magnitud bin math hatboldsymbolomega omegass_j s_j boldsymbol math omegass_j sum_m_i boldsymbolm omegam_i s_j math boldsymbollambda lambdass_j s_j boldsymbol math lambdass_j fracn_obsn_foresum_m_i lambdam_i s_j comput joint loglikelihood ltest mtest math lboldsymbolomega boldsymbollambda wish compar distribut simul loglikelihood time keep number event fix mathn_ob simul catalogu mathhats_x lhatboldsymbolomega boldsymbollambda final test statist fraction observ log likelihood within rang simul log likelihood valu math zeta frac hats_x hats_x le hat distinct forecast pass fail test depend signific level pycsep implement stest onesid test specifi plot result code ipython spatial_test_result poissonspatial_test helmstett catalog seedse num_simulationsnsim ax plotsplot_poisson_consistency_test spatial_test_result one_sided_lowertru plot_arg xlabelnorm spatial likelihood imag staticoutput__png helmstett model fail stest observ spatial likelihood fall tail simul likelihood distribut shown colour symbol highlight whether forecast model pass fail test forecast comparison test consist test check whether forecast consist observ provid straightforward way compar two differ forecast suggest focu inform gain one forecast rel anoth hart verejon imoto hurukawa imoto rhoad rhoad et al ttest wtest implement earthquak forecast comparison first describ rhoad et al inform gain per earthquak igp model compar model b defin mathi_na b rn r ratecorrect loglikelihood ratio model b gven math r sum_knbigloglambda_ai_k log lambda_bi_kbig bighatn_a hatn_bbig set mathx_iloglambda_ak_i mathy_iloglambda_bk_i defin inform gain per earthquak igp math i_na b fracnsumn_ibigx_i y_ibig frachatn_a hatn_bn mathia b differ significantli model lower likelihood reject favour ttest mathx_i y_i independ come normal popul mean mathmu use classic pair ttest evalu null hypothesi mathmu hatn_a hatn_bn altern hypothesi mathmu ne hatn_a hatn_bn implement let math denot sampl varianc mathx_i y_i math fracnsumn_ibigx_i y_ibig fracn nbiggsumn_ibigx_i y_ibigbigg null hypothesi matht i_na bbigbigssqrtnbig tdistribut mathn degre freedom null hypothesi reject matht exce critic valu matht_n distribut confid interv mathmu hatn_a hatn_bn construct form mathi_nab pm tssqrtn appropri quantil matht_n distribut wtest altern ttest wilcoxan signedrank test wtest nonparameter altern ttest use feel assumpt normal distribut differ mathx_i y_i valid assumpt might b particularli poor small sampl size wtest instead depend weaker assumpt mathx_i y_i symmetr test whether meadian mathx_i y_i equal mathhatn_a hatn_bn wtest less power ttest normal distribut differ reject null hypothesi math confid small sampl size mathn leq ttest becom accur mathn rightarrow infti due central limit theorem therefor ttest consid depend larg mathn mathn small model might consid inform wtest result agre implement pycsep ttest wtest implement pycsep code ipython helmstetter_m csepload_gridded_forecast datasetshelmstetter_mainshock_fnam name helmstett mainshock t_test poissonpaired_t_testhelmstett helmstetter_m catalog w_test poissonw_testhelmstett helmstetter_m catalog comp_arg titl pair ttest result ylabel inform gain xlabel xticklabels_rot figsiz ax plotsplot_comparison_testt_test w_test plot_argscomp_arg imag staticoutput__png first argument paired_t_test function taken model second baslin model model b plot result horizont dash line indic perform model b vertic bar show confid bar inform gain mathi_na b associ model rel model b case model aftershock perform statist wors benchmark model note comparison use demonst purpos catalogbas forecast test catalogbas forecast test evalu forecast use simul output form synthet earthquak catalog thu remov need poisson approxim simul procedur use gridbas forecast know observ seismic overdispers respect poissonian model due spatiotempor cluster overdispers model like reject origin poissonbas csep test werner et al modif test framework allow broader rang forecast model distribut realiz compar observ similar gridbas case test develop savran et al appli test forecast follow ridgecrest earthquak southern california follow text show catalogbas forecast defin begin defin region mathboldsymbolr function magnitud rang mathboldsymbolm spatial domain mathboldsymbol time period mathboldsymbolt math boldsymbolr boldsymbolm time boldsymbol time boldsymbolt earthquak math describ magnitud mathm_i locat maths_j time matht_k catalog simpli collect earthquak thu observ catalog written math omega bige_n big n n_ob e_n boldsymbolr big forecast specifi collect synthet catalog contain event mathhate_nj domain mathboldsymbolr math boldsymbollambda equiv lambda_j hate_nj n n_j j j hate_nj boldsymbolr forecast consist mathj simul catalog contain mathn_j event describ time space magnitud mathhate_nj describ mathn th synthet event mathj th synthet catalog mathlambda_j use simul forecast pycsep must first explicitli specifi forecast region specifi spatial domain magnitud region effect filter appli forecast observ retain event mathboldsymbolr exampl section catalogbas forecast simul lander earthquak aftershock sequenc gener use ucerfeta field et al code ipython defin start end time forecast start_tim time_utilsstrptime_to_utc_datetim end_tim time_utilsstrptime_to_utc_datetim magnitud bin properti min_mw max_mw dmw creat space magnitud region magnitud regionsmagnitude_binsmin_mw max_mw dmw region regionscalifornia_relm_region space_magnitude_region regionscreate_space_magnitude_region region magnitud load forecast forecast csepload_catalog_forecast datasetsucerf_ascii_format_landers_fnam start_tim start_tim end_tim end_tim region space_magnitude_region apply_filt true comput expect rate forecastfilt forigin_tim forecaststart_epoch forigin_tim forecastend_epoch _ forecastget_expected_ratesverbosefals obtain comcat catalog filter region comcat_catalog csepquery_comcat start_tim end_tim min_magnitudeforecastmin_magnitud filter observ catalog use region forecast comcat_catalog comcat_catalogfilter_spatialforecastregion parsedliter fetch comcat catalog second download catalog comcat follow paramet start date end date min latitud max latitud min longitud max longitud min magnitud found event comcat catalog number test aim number test aim evalu number observ event consist forecast method observ statist case given mathn_ob omega simpli number event observ catalog build test distribut forecast simpli count number event simul catalog math n_j lambda_c j j grid test evalu probabl least n event case use empir cuml distribut function mathf_n math delta_ pn_j geq n_ob f_nn_ob math delta_ pn_j leq n_ob f_nn_ob implement pycsep code ipython number_test_result catalog_evaluationsnumber_test forecast comcat_catalog verbosefals ax number_test_resultplot imag staticoutput__png plot number test result simul catalog forecast display histogram number event mathhatn_j simul catalog mathj make test distribut test statist shown dash line case number observ event catalog mathn_ob magnitud test aim magnitud test aim test consist observ frequencymagnitud distribut simul catalog make forecast method catalogbas magnitud test implement quit differ gridbas equival first defin union catalog mathlambda_u union simul catalog forecast formal math lambda_u lambda_ cup lambda_ cup cup lambda_j union catalog contain event across simul catalog total mathn_u sum_jj biglambda_jbig event comput follow histogram discretis magnitud rang magnitud step size specifi earlier pycsep histogram union catalog magnitud mathlambda_um histogram magnitud individu simul catalog mathlambda_jm histogram observ catalog magnitud mathomegam histogram normal total number event across bin equal observ number observ statist calcul sum squar logarithm residu normalis observ magnitud union histogram statist relat kramer vonmis statist math d_ob sum_kbigglogbiggfracn_obsn_u lambda_umk bigg logbigomegamk bigbigg mathlambda_umk mathomegamk repres count mathk th bin magnitudefrequ distribut union observ catalog respect add uniti bin avoid mathlog build test distribut catalog mathboldsymbollambda math d_j sum_kbigglogbiggfracn_obsn_u lambda_umk bigg logbiggfracn_obsn_jlambda_jmk biggbigg j j mathlambda_jmk repres count mathk th bin magnitudefrequ distribut mathj th catalog quantil score calcul use empir cdf math gamma_m f_dd_ob pd_j leq d_ob implement pycsep hope see necessari specifi magnitud rang explicitli set catalogtyp test need make sure magnitud properli discretis model want test code ipython magnitude_test_result catalog_evaluationsmagnitude_test forecast comcat_catalogverbosefals ax magnitude_test_resultplotplot_argsxi imag staticoutput__png histogram show result test distribut mathd calcul simul catalog describ method test statist mathomega d_ob shown dash horizont line quantil score forecast mathgamma pseudolikelihood test aim pseudolikelihood test aim evalu likelihood forecast given observ catalog method pseudolikelihood test similar aim gridbas likelihood test implement differ signific way firstli comput actual likelihood henc name pseudolikelihood instead aggreg cell gridbas case pseudolikelihood test aggreg likelihood target event likelihood score likelihood score per target event rather likelihood score per grid cell import differ howev pseudolikelihood test use poisson likelihood pseudolikelihood approach base continu point process likelihood function continu mark spacetim point process specifi condit intens function mathlambdaboldsymboleh_t mathh_t describ histori process time loglikelihood function point process mathboldsymbolr given math l sum_in log lambdae_ih_t int_boldsymbolrlambdaboldsymboleh_tdboldsymbolr model explicit likelihood function instead approxim expect mathlambdaeh_t use forecast catalog approxim rate densiti defin condit expect given discretis region mathr_d continu rate math hatlambdaboldsymboleh_t ebiglambdaboldsymboleh_tr_dbig still regard model continu rate densiti approxim within singl cell analog grid approach count number event discret cell pseudologlikelihood math hatl sum_in log hatlambdae_ih_t int_r hatlambdaboldsymboleh_t dr write approxim rate densiti math hatlambdaboldsymboleh_t sum_m hatlambdaboldsymboleh_t take sum magnitud bin mathm calcul observ pseudolikelihood math hatl_ob sum_in_ob log hatlambda_sk_i barn mathhatlambda_sk_i approxim rate densiti mathk th spatial cell mathk_i denot spatil cell mathi th event occur mathbarn expect number event mathr_d similarli calcul test distribut math hatl_j biggsum_in_j loghatlambda_sk_ij barnbigg j j mathhatlambda_sk_ij describ approxim rate densiti mathi th event mathj th catalog calcul quantil score math gamma_l f_lhatl_ob phatl_j leq hatl_ob implement pycsep code ipython pseudolikelihood_test_result catalog_evaluationspseudolikelihood_test forecast comcat_catalog verbosefals ax pseudolikelihood_test_resultplot imag staticoutput__png histogram show test distribut pseudolikelihood calcul catalog mathj dash vertic line show observ statist mathhatl_ob omega clear observ statist fall within critic region test distribut reflect quantil score mathgamma_l spatial test aim spatial test aim isol spatial compon forecast test consist spatial rate observ event method perform spatial test catalogbas approach similar way gridbas spatial test approach normalis approxim rate densiti case use normalis mathhatlambda_ hatlambda_ big sum_r hatlambda_ observ spatial test statist calcul math s_ob biggsum_in_ob log hatlambda_sk_ibiggn_ob mathhatlambda_sk_i normalis approxim rate densiti mathk th cell correspond mathi th event observ catalog mathomega similarli defin test distribut use math s_c biggsum_in_j log hatlambda_sk_ijbiggn_j j j catalog j final quantil score spatial test determin compar observ test distribut statist math gamma_ f_shats_ob p hats_j leq hats_ob implement pycsep code ipython spatial_test_result catalog_evaluationsspatial_test forecast comcat_catalog verbosefals ax spatial_test_resultplot imag staticoutput__png histogram show test distribut normalis pseduolikelihood comput simul catalog mathj dash vertic line show observ test statist maths_ob omega clearli within test distribut quantil score mathgamma_ also print figur default refer field e h k r milner j l hardebeck page n j van der elst h jordan j michael b e shaw j werner spatiotempor cluster model third uniform california earthquak ruptur forecast ucerfeta toward oper earthquak forecast bull seismol soc hart verejon entropi score use earthquak forecast pure appl geophi doi helmstett kagan jackson comparison shortterm timeindepend earthquak forecast model southern california bulletin seismolog societi america imoto n hurukawa assess potenti seismic activ vrancea romania use stressreleas model earth planet space imoto da rhoad seismic model moder earthquak kanto japan util multipl predict paramet pure appl geophi doi rhoad da schorlemm mcgerstenberg christophersen j zechar imoto effici test earthquak forecast model acta geophysica savran w j werner w marzocchi rhoad jackson k r milner e h field j michael pseudoprospect evalu ucerfeta forecast ridgecrest sequenc bulletin seismolog societi america schorlemm mc gerstenberg relm test center seismol re lett schorlemm mc gerstenberg wiemer dd jackson da rhoad earthquak likelihood model test seismol re lett schorlemm christophersen rovida f mele stucci w marzocchi set earthquak forecast experi itali annal geophys schorlemm jd zechar mj werner eh field dd jackson th jordan b first result region earthquak likelihood model experi pure appl geophi doi taroni w marzocchi schorlemm j werner wiemer j zechar l heinig f euchner prospect csep evalu day month yr earthquak forecast itali seismolog research letter doi httpsdoiorg werner j helmstett jackson kagan highresolut longterm shortterm earthquak forecast california bulletin seismolog societi america werner mj jd zechar w marzocchi wiemer b retrospect evalu fiveyear tenyear csepitali earthquak forecast annal geophys doiag zechar evalu earthquak predict earthquak forecast guid student new research corssa httpwwwcorssaorgenarticlestheme_ zechar jd mc gerstenberg da rhoad likelihoodbas test evalu spaceratemagnitud forecast bull sei soc doi zechar jd schorlemm liuki j yu f euchner pj maechl th jordan b collaboratori studi earthquak predict perspect comput earthquak scienc concurr comppract e doicp core concept beginn read document good chanc developingevalu earthquak forecast implement experi csep test center section help understand conceptu forecast evalu earthquak catalog compon make major pycsep packag also includ prewritten visual along util might use work catalog earthquak catalog fundament forecast evalu make core compon pycsep packag point work catalog evalu earthquak forecast one major differ pycsep project like obspi httpsdocsobspyorg_ typic csep calcul oper entir catalog perform method like filter bin requir evalu earthquak forecast provid earthquak catalog class follow interfac defin classabstractbasecatalog csepcorecatalogsabstractbasecatalog catalog data store intern structur numpi array httpsnumpyorgdocstableuserbasicsrechtml_ effect treat event contigu memori like cstyle struct allow us acceler calcul use vector oper provid numpi necessari attribut event use evalu spatial locat lat lon magnitud origin time addit depth identifi characterist use default storag format httpsscecusceduscecpediacsep__catalog_format_ earthquak catalog asciiutf text file event store csv format classabstractbasecatalog csepcorecatalogsabstractbasecatalog extend accommod differ catalog format input output routin exampl classucerfcatalog csepcorecatalogsucerfcatalog extend class deal bigendian storag routin ucerfeta httpsgithubcomopenshaopenshaucerf_ forecast model inform includ refcatalogsrefer section document forecast pycsep provid object interact refearthquak forecast earthquake_forecast pycsep support two type earthquak forecast provid separ object interact forecast share similar characterist conceptu treat differ requir differ type evalu timeindepend timedepend forecast repres use pycsep forecast object typic timedepend forecast one would creat separ forecast object time period name suggest timeindepend forecast chang time gridbas forecast gridbas earthquak forecast specifi expect rate earthquak within discret independ spacetimemagnitud bin within bin expect rate repres paramet poisson distribut detail forecast object visit refforecastrefer section document forecast object contain three main compon expect earthquak rate classspati region cseputilsspatialcartesiangridd associ rate magnitud rang associ expect rate spatial bin usual discret accord geograph coordin latitud longitud previou csep spatial region defin spatial size x magnitud bin also discret similarli magnitud unit standard choic pycsep enforc constraint binsiz space magnitud discret must regular catalogbas forecast catalogbas forecast specifi famili synthet earthquak catalog gener simul probabilist model catalog repres stochast represent seismic consist forecast model probabilist statement made comput statist usual count within famili synthet catalog simpl count number event catalog statist repres fulldistribut outcom specifi forecast model therebi allow direct assess model produc within pycsep catalog forecast effect list earthquak catalog differ obtain authorit sourc thu oper perform observ earthquak catalog perform synthet catalog catalogbas forecast use count number forecast earthquak within discret spacetim bin like use gridbas forecast therefor common classspati region cseputilsspatialcartesiangridd set magnitud bin associ forecast rule pycsep enforc spacemagnitud region regularli discret evalu pycsep provid implement statist test use evalu gridbas catalogbas earthquak forecast former use parametr evalu base poisson likelihood function latter use socal likelihoodfre evalu comput empir distribut provid forecast detail specif implement evalu provid refevaluationrefer section everi evalu differ gener evalu need follow inform earthquak forecast spatial region magnitud rang authorit earthquak catalog pycsep produc earthquak forecast provid abil repres use intern data model facilit evalu gener advic administ statist test provid refevaluationrefer section