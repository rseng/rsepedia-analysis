# History of changes

## Version 1.1.1 (2022/01/11)

### Issues Closed

#### Bugs fixed

* [Issue 312](https://github.com/OpenWaterAnalytics/pyswmm/issues/312) - Pip install pyswmm does not install julian

In this release 1 issue was closed.

### Pull Requests Merged

* [PR 313](https://github.com/OpenWaterAnalytics/pyswmm/pull/313) - v1.1.1, by [@jennwuu](https://github.com/jennwuu)

In this release 1 pull request was closed.


## Version 1.1.0 (2022/01/09)

### Issues Closed

#### Documentation

* [Issue 297](https://github.com/OpenWaterAnalytics/pyswmm/issues/297) - Update List for Projects using PySWMM
* [Issue 293](https://github.com/OpenWaterAnalytics/pyswmm/issues/293) - Add Citation file

#### New Features

* [Issue 274](https://github.com/OpenWaterAnalytics/pyswmm/issues/274) - Port SWMM output functions into PySWMM from swmm-python

#### Bugs fixed

* [Issue 268](https://github.com/OpenWaterAnalytics/pyswmm/issues/268) - readthedocs build is broken

In this release 4 issues were closed.

### Pull Requests Merged

* [PR 275](https://github.com/OpenWaterAnalytics/pyswmm/pull/275) - Port swmm-toolkit output into simulation module, by [@jennwuu](https://github.com/jennwuu)

In this release 1 pull request was closed.


## Version 1.0.1 (2021-01-13)

### Issues Closed

#### Bugs fixed

* [Issue 267](https://github.com/OpenWaterAnalytics/pyswmm/issues/267) - Add swmm-toolkit package as an install_require in setup.py

In this release 1 issue was closed.


## Version 1.0.0 (2021-01-12)

### Issues Closed

#### Enhancements

* [Issue 264](https://github.com/OpenWaterAnalytics/pyswmm/issues/264) - Refactor PySWMM to use swmm-toolkit package ([PR 262](https://github.com/OpenWaterAnalytics/pyswmm/pull/262))

#### Maintenance

* [Issue 265](https://github.com/OpenWaterAnalytics/pyswmm/issues/265) - Repository clean up ([PR 262](https://github.com/OpenWaterAnalytics/pyswmm/pull/262))

#### Deprecated

* [Issue 263](https://github.com/OpenWaterAnalytics/pyswmm/issues/263) - Deprecate DLL selector function ([PR 262](https://github.com/OpenWaterAnalytics/pyswmm/pull/262))

In this release 3 issues were closed.

### Pull Requests Merged

* [PR 262](https://github.com/OpenWaterAnalytics/pyswmm/pull/262) - PySWMM v1.0 ([265](https://github.com/OpenWaterAnalytics/pyswmm/issues/265), [264](https://github.com/OpenWaterAnalytics/pyswmm/issues/264), [263](https://github.com/OpenWaterAnalytics/pyswmm/issues/263))

In this release 1 pull request was closed.


## Version 0.6.2 (2020/08/04)

Updating release version.

## Version 0.6.1 (2020/08/04)


### Pull Requests Merged

* [PR 217](https://github.com/OpenWaterAnalytics/pyswmm/pull/217) - add node, link water quality getters, by [@katmratliff](https://github.com/katmratliff) ([206](https://github.com/OpenWaterAnalytics/pyswmm/issues/206))

In this release 1 pull request was closed.

## Version 0.6.0 (2019-10-19)


### Pull Requests Merged

* [PR 214](https://github.com/OpenWaterAnalytics/pyswmm/pull/214) - Feat terminate sim ([213](https://github.com/OpenWaterAnalytics/pyswmm/issues/213))

In this release 1 pull request was closed.

## Version 0.5.2 (2019-10-08)


### Pull Requests Merged

* [PR 212](https://github.com/OpenWaterAnalytics/pyswmm/pull/212) - change single ptr struct to double ptr struct for ctypes for subcatch ([211](https://github.com/OpenWaterAnalytics/pyswmm/issues/211))
* [PR 208](https://github.com/OpenWaterAnalytics/pyswmm/pull/208) - update SWMM5 libraries compiled with optimizer flags ([209](https://github.com/OpenWaterAnalytics/pyswmm/issues/209))

In this release 2 pull requests were closed.

## Version 0.5.1 (2019/08/26)

### Pull Requests Merged

* [PR 208](https://github.com/OpenWaterAnalytics/pyswmm/pull/208) - update SWMM5 libraries compiled with optimizer flags ([209](https://github.com/OpenWaterAnalytics/pyswmm/issues/209))

In this release 1 pull request was closed.

## Version 0.5.0 (2019/07/26)

### Issues Closed

#### New Features

* [Issue 199](https://github.com/OpenWaterAnalytics/pyswmm/issues/199) - Add support to RainGage API ([PR 198](https://github.com/OpenWaterAnalytics/pyswmm/pull/198))
* [Issue 194](https://github.com/OpenWaterAnalytics/pyswmm/issues/194) - Add LID support to pyswmm  ([PR 152](https://github.com/OpenWaterAnalytics/pyswmm/pull/152))

#### Bugs fixed

* [Issue 192](https://github.com/OpenWaterAnalytics/pyswmm/issues/192) - latest version of v0.4.9.dev0 seems unstable ([PR 152](https://github.com/OpenWaterAnalytics/pyswmm/pull/152))
* [Issue 172](https://github.com/OpenWaterAnalytics/pyswmm/issues/172) - `error_check` swallows exceptions and converts them to warnings ([PR 173](https://github.com/OpenWaterAnalytics/pyswmm/pull/173))
* [Issue 164](https://github.com/OpenWaterAnalytics/pyswmm/issues/164) - pump_statistics['max_flowrate'] gives zero division error ([PR 204](https://github.com/OpenWaterAnalytics/pyswmm/pull/204))
* [Issue 146](https://github.com/OpenWaterAnalytics/pyswmm/issues/146) - Fix linux / osx CI

In this release 6 issues were closed.

### Pull Requests Merged

* [PR 204](https://github.com/OpenWaterAnalytics/pyswmm/pull/204) - Bug Fix Issue 164 ([164](https://github.com/OpenWaterAnalytics/pyswmm/issues/164))
* [PR 203](https://github.com/OpenWaterAnalytics/pyswmm/pull/203) - Merge develop to master ([201](https://github.com/OpenWaterAnalytics/pyswmm/issues/201), [200](https://github.com/OpenWaterAnalytics/pyswmm/issues/200))
* [PR 198](https://github.com/OpenWaterAnalytics/pyswmm/pull/198) - Merging Abhi's Raingage API work ([199](https://github.com/OpenWaterAnalytics/pyswmm/issues/199), [155](https://github.com/OpenWaterAnalytics/pyswmm/issues/155))
* [PR 191](https://github.com/OpenWaterAnalytics/pyswmm/pull/191) - Eliminating VCOMP DLL Not Found on Windows ([186](https://github.com/OpenWaterAnalytics/pyswmm/issues/186), [153](https://github.com/OpenWaterAnalytics/pyswmm/issues/153))
* [PR 175](https://github.com/OpenWaterAnalytics/pyswmm/pull/175) - doc update simulation to sim
* [PR 173](https://github.com/OpenWaterAnalytics/pyswmm/pull/173) - Make _error_check throw exception for all errcodes ([172](https://github.com/OpenWaterAnalytics/pyswmm/issues/172))
* [PR 170](https://github.com/OpenWaterAnalytics/pyswmm/pull/170) - add getters for pollutant surface buildup and ponded concentration in subcatchments
* [PR 165](https://github.com/OpenWaterAnalytics/pyswmm/pull/165) - Simple ci ([166](https://github.com/OpenWaterAnalytics/pyswmm/issues/166))
* [PR 163](https://github.com/OpenWaterAnalytics/pyswmm/pull/163) - Update system.py docs ([162](https://github.com/OpenWaterAnalytics/pyswmm/issues/162))
* [PR 154](https://github.com/OpenWaterAnalytics/pyswmm/pull/154) - Updated Linux Binary ([133](https://github.com/OpenWaterAnalytics/pyswmm/issues/133))
* [PR 152](https://github.com/OpenWaterAnalytics/pyswmm/pull/152) - LID Support ([197](https://github.com/OpenWaterAnalytics/pyswmm/issues/197), [196](https://github.com/OpenWaterAnalytics/pyswmm/issues/196), [194](https://github.com/OpenWaterAnalytics/pyswmm/issues/194), [192](https://github.com/OpenWaterAnalytics/pyswmm/issues/192))
* [PR 151](https://github.com/OpenWaterAnalytics/pyswmm/pull/151) - Updated Node Tests with Assertion Checks ([150](https://github.com/OpenWaterAnalytics/pyswmm/issues/150))
* [PR 109](https://github.com/OpenWaterAnalytics/pyswmm/pull/109) - Adding Code of Conduct to Project

In this release 13 pull requests were closed.

## Version 0.4.7 (2018-01-08)

### Issues Closed

#### New Features

* [Issue 147](https://github.com/OpenWaterAnalytics/pyswmm/issues/147) - Add before_end simulation hook.

In this release 1 issue was closed.

### Pull Requests Merged

* [PR 148](https://github.com/OpenWaterAnalytics/pyswmm/pull/148) - Added additional callback hook for Before_End

In this release 1 pull request was closed.

## Version 0.4.6 (2018-01-02)

### Issues Closed

#### New Features

* [Issue 140](https://github.com/OpenWaterAnalytics/pyswmm/issues/140) - Add simulation function hook for callbacks

#### Bugs fixed

* [Issue 143](https://github.com/OpenWaterAnalytics/pyswmm/issues/143) - Remove bare exceptions

In this release 2 issues were closed.

### Pull Requests Merged

* [PR 144](https://github.com/OpenWaterAnalytics/pyswmm/pull/144) - Added swmm_lib_path argument to Simulation and PySWMM class
* [PR 142](https://github.com/OpenWaterAnalytics/pyswmm/pull/142) - Added Hooks for Callbacks

In this release 2 pull requests were closed.

## Version 0.4.5 (2017-12-27)

### Issues Closed

#### New Features

* [Issue 90](https://github.com/OpenWaterAnalytics/pyswmm/issues/90) - Add test *.inp files to distribution

#### Bugs fixed

* [Issue 139](https://github.com/OpenWaterAnalytics/pyswmm/issues/139) - Update SWMM5 Lib Windows - Linking Issue
* [Issue 136](https://github.com/OpenWaterAnalytics/pyswmm/issues/136) - broken doctests

In this release 3 issues were closed.

## Version 0.4.4 (2017-11-14)

### Issues Closed

#### New Features

* [Issue 127](https://github.com/OpenWaterAnalytics/pyswmm/issues/127) - Set Outfall Stage  ([PR 128](https://github.com/OpenWaterAnalytics/pyswmm/pull/128))
* [Issue 125](https://github.com/OpenWaterAnalytics/pyswmm/issues/125) - pollutant buildup addition to subcatchment stats

In this release 2 issues were closed.

### Pull Requests Merged

* [PR 129](https://github.com/OpenWaterAnalytics/pyswmm/pull/129) - Add subcatchment surface buildup to subcatchment statistics
* [PR 128](https://github.com/OpenWaterAnalytics/pyswmm/pull/128) - Set bc ([127](https://github.com/OpenWaterAnalytics/pyswmm/issues/127))

In this release 2 pull requests were closed.

## Version 0.4.2 (2017-08-24)

### Issues Closed

#### Bugs fixed

* [Issue 119](https://github.com/OpenWaterAnalytics/pyswmm/issues/119) - Update SWMM Library
* [Issue 115](https://github.com/OpenWaterAnalytics/pyswmm/issues/115) - execute() method

In this release 2 issues were closed.

## Version 0.4.1 (2017-08-09)


### Pull Requests Merged

* [PR 113](https://github.com/OpenWaterAnalytics/pyswmm/pull/113) - Bug Fixes

In this release 1 pull request was closed.

## Version 0.4.0 (2017-07-14)


### Pull Requests Merged

* [PR 106](https://github.com/OpenWaterAnalytics/pyswmm/pull/106) - Updatetests
* [PR 103](https://github.com/OpenWaterAnalytics/pyswmm/pull/103) - Linux
* [PR 97](https://github.com/OpenWaterAnalytics/pyswmm/pull/97) - Statsfix

In this release 3 pull requests were closed.

## Version 0.3.4 (2017-05-08)


### Pull Requests Merged

* [PR 89](https://github.com/OpenWaterAnalytics/pyswmm/pull/89) - added Simulation.percent_complete property and fixed function name

In this release 1 pull request was closed.


## Version 0.3.3 (2017/05/05)


### Pull Requests Merged

* [PR 86](https://github.com/OpenWaterAnalytics/pyswmm/pull/86) - Support for SWMM 5.1.12 and exposed error and engine version properties
* [PR 81](https://github.com/OpenWaterAnalytics/pyswmm/pull/81) - Python 3 Support

In this release 2 pull requests were closed.


## Version 0.3.2 (2017/03/13)


### Pull Requests Merged

* [PR 78](https://github.com/OpenWaterAnalytics/pyswmm/pull/78) - added SWMM5 engine selector

In this release 1 pull request was closed.

## Version 0.3.1 (2017/03/10)


### Pull Requests Merged

* [PR 76](https://github.com/OpenWaterAnalytics/pyswmm/pull/76) - re-compiled SWMM to fix set simulation time functions
* [PR 73](https://github.com/OpenWaterAnalytics/pyswmm/pull/73) - updated default save to bin file
* [PR 70](https://github.com/OpenWaterAnalytics/pyswmm/pull/70) - PR: Update readme

In this release 3 pull requests were closed.


## Version 0.3 (2017/02/24)

### Issues Closed

#### New Features

* [Issue 63](https://github.com/OpenWaterAnalytics/pyswmm/issues/63) - updates to Simulation.py
* [Issue 27](https://github.com/OpenWaterAnalytics/pyswmm/issues/27) - Enhancements to pyswmm.Simulation base classes

#### Bugs fixed

* [Issue 55](https://github.com/OpenWaterAnalytics/pyswmm/issues/55) - import update bug fix for py2.7
* [Issue 48](https://github.com/OpenWaterAnalytics/pyswmm/issues/48) - Fix Docs

In this release 4 issues were closed.

### Pull Requests Merged

* [PR 69](https://github.com/OpenWaterAnalytics/pyswmm/pull/69) - hot fix - subcatchments
* [PR 68](https://github.com/OpenWaterAnalytics/pyswmm/pull/68) - PR: Fix code style
* [PR 67](https://github.com/OpenWaterAnalytics/pyswmm/pull/67) - added subcatchments.py module
* [PR 66](https://github.com/OpenWaterAnalytics/pyswmm/pull/66) - turned off reader module
* [PR 62](https://github.com/OpenWaterAnalytics/pyswmm/pull/62) - Updated Simulation Docs and Added Current Time Function
* [PR 61](https://github.com/OpenWaterAnalytics/pyswmm/pull/61) - PR: Report coverage
* [PR 58](https://github.com/OpenWaterAnalytics/pyswmm/pull/58) - PR: Fix/ci
* [PR 57](https://github.com/OpenWaterAnalytics/pyswmm/pull/57) - Updates to docs
* [PR 56](https://github.com/OpenWaterAnalytics/pyswmm/pull/56) - Fix import for py2.7
* [PR 53](https://github.com/OpenWaterAnalytics/pyswmm/pull/53) - #48 Updates to docs
* [PR 49](https://github.com/OpenWaterAnalytics/pyswmm/pull/49) - Bug Fix All API Enum Arguments
* [PR 45](https://github.com/OpenWaterAnalytics/pyswmm/pull/45) - PR: Add release process workflow
* [PR 43](https://github.com/OpenWaterAnalytics/pyswmm/pull/43) - PR: Add code style automatic checks on appveyor
* [PR 41](https://github.com/OpenWaterAnalytics/pyswmm/pull/41) - PR: Clean up code and imports
* [PR 39](https://github.com/OpenWaterAnalytics/pyswmm/pull/39) - PR: Include the output toolkit api
* [PR 38](https://github.com/OpenWaterAnalytics/pyswmm/pull/38) - PR: Clean up code and docs style and clean imports
* [PR 37](https://github.com/OpenWaterAnalytics/pyswmm/pull/37) - Added Link Connection and type helper functions
* [PR 30](https://github.com/OpenWaterAnalytics/pyswmm/pull/30) - Add manifest for pypi packaging
* [PR 29](https://github.com/OpenWaterAnalytics/pyswmm/pull/29) - enhacements to pyswmm.Simulation class
* [PR 28](https://github.com/OpenWaterAnalytics/pyswmm/pull/28) - Add gitattributes, normalize endings
* [PR 24](https://github.com/OpenWaterAnalytics/pyswmm/pull/24) - Add copyright header to files
* [PR 17](https://github.com/OpenWaterAnalytics/pyswmm/pull/17) - Added pyswmm simulation class; restructured and added descriptors
* [PR 3](https://github.com/OpenWaterAnalytics/pyswmm/pull/3) - Enable platform detection and some utilities
* [PR 1](https://github.com/OpenWaterAnalytics/pyswmm/pull/1) - pyswmm house cleaning

In this release 24 pull requests were closed.
---
title: 'PySWMM: The Python Interface to Stormwater Management Model (SWMM)'

tags:
  - SWMM
  - Stormwater
  - Hydrology
  - Hydraulics
  - OpenWaterAnalytics

authors:
 - name: Bryant E. McDonnell
   orcid: 0000-0002-6250-2220
   affiliation: 1
 - name: Katherine Ratliff
   orcid: 0000-0003-1410-2756
   affiliation: 2
 - name: Michael E. Tryby
   affiliation: 2
 - name: Jennifer Jia Xin Wu
   affiliation: 1
 - name: Abhiram Mullapudi
   orcid: 0000-0001-8141-3621
   affiliation: 3
affiliations:
 - name: EmNet, a Xylem Brand
   index: 1
 - name: U.S. Environmental Protection Agency, Office of Research and Development
   index: 2
 - name: Department of Civil and Environmental Engineering, University of Michigan
   index: 3
   
date: 13 April 2020

bibliography: paper.bib
---

# Summary

Stormwater management seeks to reduce runoff from rain or melted snow and improve water quality. Where it can absorb into soil, runoff is filtered and returns to streams, rivers, and aquifers, but in developed areas, precipitation often cannot soak into the ground because impervious surfaces (e.g., pavement, buildings), and already saturated soils can create excess runoff. This water, which can contain pollutants, then runs across urban surfaces and into storm drains, drainage ditches, and sewer systems. Stormwater runoff can cause flooding, erosion, infrastructure and habitat damage, and contamination (including combined and sanitary sewer overflows). In urban and developed areas, effective stormwater management that routes and detains stormwater helps to mitigate these impacts and improve water quality.

The U.S. Environmental Protection Agency's (EPA) [Stormwater Management Model (SWMM)](https://www.epa.gov/water-research/storm-water-management-model-swmm) is a dynamic rainfall-runoff model that has been used for decades to conduct single event or long-term hydrologic, hydraulic, and water quality simulations. It has been used widely throughout the world for planning, analysis, and design of drainage systems [@swmm]. SWMM models the hydrologic processes that generate runoff including rainfall, snowmelt, evaporation, infiltration, and groundwater dynamics, and it routes water through a hydraulic network that includes channels, pipes, storage units, and pumps. The EPA distribution of SWMM does not, however, allow the modeler to interact with the SWMM model during simulation time nor access all of the simulated values and results.

Over the last decade, several libraries have been developed to read, parse, and run SWMM models (\*.inp). These tools have been developed in several programming languages including, but not limited to, Python, R, MATLAB, and Visual Basic. Beyond simple SWMM interfacing utilities, many libraries include a collection of specific features for different applications. Some authors have focused on optimization frameworks [@pathirana:2014; @martinez:2016; @macro:2019] and model calibration [@leutnant:2019], and others have moved toward water quality modeling within their frameworks [@banik:2014]. Even others have extended functionality to support modeling of real-time controls [@riano:2016]. From the most general standpoint, most of these previous works have one major thing in common -- a wrapper interface is used to generate a new \*.inp (SWMM input) file -- which duplicates the data model, adding redundancy. From a maintainability standpoint, the scientific and engineering communities significantly benefit from directly accessing the SWMM data model during a simulation without having to read and write new \*.inp files. 

In support of the OpenWaterAnalytics  (OWA) open source initiative, the PySWMM project encompasses the development of a Python interfacing wrapper to SWMM with parallel ongoing development of the [Open Water Analytics SWMM5 application programming interface (API)](https://github.com/OpenWaterAnalytics/Stormwater-Management-Model). PySWMM (along with the co-development of the SWMM5-API) is being developed to enable Pythonic to access the SWMM data model, which facilitates rapid prototyping, and it also enables users to interact with a model during simulation time. Since PySWMM incorporates enhancements to the SWMM code base, it retains backward compatibilty and ultimately serves to augment what SWMM can do. Current mid-simulation capabilties include the ability to change hydraulic network settings, load externally-generated inflows, and maniuplate low impact development (LID) parameters. Node, link, subcatchment, LID statistics, and results are also accessible both during and after simulation time. PySWMM provides a single framework which encompasses a collection of low-level interfacing functions to the SWMM data model (getters and setters), which facilitates editing of network and hydrologic parameters. This functionality allows researchers and engineers to streamline stormwater model optimization, controls, and result post-processing in order to more effectively address scientific and engineering questions related to water runoff quantity and quality. 

PySWMM is actively being used to address a range of topics in industry, academia, and in government. In industry, PySWMM has been used for real-time controls and asset optimization.  It has been used in academia for studying the effects of real-time controls and model predictive controls of drainage systems [@li:2019; @sadler:2019]. In the EPA's Office of Research and Development, PySWMM is being used to model the precipitation-driven transport of contaminants and pollutants in urban environments [@ratliff:2018]. EPA SWMM has been used widely for research applications, with applications being described in hundreds of journal articles and conference proceedings [@niazi:2017]. It is also used for developing discharge permits, and in addition, it is accepted by the Federal Emergency Management Agency for floodway analysis for National Flood Insurance Program purposes. PySWMM facilitates ease of use and enhances the capabilities of EPA SWMM for these research, engineering, and regulatory applications.

# Open Water Analytics Group

OWA is a group of individuals who have come together to collaborate and grow model extensibilty and features for a number of EPA models, including SWMM and EPANET (used for modeling drinking water distribution systems). We are an open community for the exchange of information and ideas related to computing and analysis in the water and wastewater industries and related research aims, and members with varying affiliations work together to craft the current and future development of these mission-critical software tools. The group has close relationships with the EPA and adheres to common coding practices that are in line with the direction of EPA. More information can be found on [wateranalytics.org](wateranalytics.org). 

# Acknowledgements

The authors acknowledge the many developers of SWMM over the past several decades, including Lewis Rossman and Robert Dickinson, and are grateful for the contributions from the many [contributors](https://github.com/OpenWaterAnalytics/pyswmm/blob/master/AUTHORS) to PySWMM. This manuscript has been subjected to the U.S. EPAâ€™s peer and administrative review and has been approved for external publication. Any opinions or ideas expressed in this paper are those of the author(s) and do not necessarily reflect the official positions and policies of the U.S. EPA. Any mention of trade names or commercial products does not constitute endorsement or recommendation for use. Neither the U.S. EPA nor the software author(s) can assume responsibility for software modification, content, output, interpretation, or usage.

# References---
name: Bug report
about: Create a report to help us improve
title: ''
labels: type:bug
assignees: ''

---

**Describe the bug**
A clear and concise description of what the bug is.

**To Reproduce**
Steps to reproduce the behavior.  Good to place code here with support files.


**Expected behavior**
A clear and concise description of what you expected to happen.

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Desktop (please complete the following information):**
 - OS: [e.g. Windows, MacOS, Linux]
 - Python Version [e.g. Python 3.6-x86]
 - PySWMM Version [e.g. v0.4.8]

**Additional context**
Add any other context about the problem here.
