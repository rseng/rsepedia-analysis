tx code style blackhttpsimgshieldsiobadgecodestyleblacksvghttpsgithubcompsfblack pypi versionhttpsbadgefuryiopytxsvghttpsbadgefuryiopytx joss statushttpsjosstheojorgpapersbceaafabffestatussvghttpsjosstheojorgpapersbceaafabff welcom tx librari intend aid explor explain transform classif network transform languag model sequenc classif head basic function librari take train transform testtrain dataset produc ipywidget dashboard seen screenshot display jupyt notebook jupyt lab screenshot httpsrawgithubusercontentcomornltxmasterdocssourcescreenshotpng note current librari implement partial torchdepend work tensorflowkera model hope address limit futur instal instal packag pypi bash pip instal tx note depend environ may better instal depend separ pip instal tx eg conda bash conda instal pytorchgpu panda scikitlearn matplotlib ipywidget numpi c condaforg access gpu machin instal regular pytorch packag bash conda instal pytorch panda scikitlearn matplotlib ipywidget numpi note pytorchgpu found condaforg channel exampl exampl jupyt notebook demonstr test usag librari found exampl folderhttpsgithubcomornltxtreemasterexampl note notebook take run first time especi gpu use packag youll need instal notebook work addit conda instal bash pip instal tqdm transform run full notebook produc ipywidget dashboard near end test repositori depend transform raw librari function test run pytest project root document document view httpsornlgithubiotxhttpsornlgithubiotx document also built scratch sphinx need instal requir depend bash pip instal r requirementstxt build document bash cd doc make html docsbuildhtml folder contain indexhtml two notebook demonstr dashboard use tx includ exampl folder highlight default custom approach discuss basic usag page document citat cite usag tx public doi code httpsdoiorgjosshttpsdoiorgjoss bibtex articlemartindal doi joss url httpsdoiorgjoss year publish open journal volum number page author nathan martindal scott l stewart titl tx transform explain explor journal journal open sourc softwar contribut tx help improv tx welcom find bug think enhancementimprov would like see feel free fill appropri issuehttpsgithubcomornltxissuesnewchoos question doubl check cover documentationhttpsornlgithubiotx question answer doc anyth els might fit one issu templat start discuss dicuss tabhttpsgithubcomornltxdiscuss also welcom contact develop directli email us txhelpornlgov submit pr ad use featur fix bug open new pull request chang submit pull request pleas describ pull request address briefli list signific chang made regard specif issu pleas includ issu number pleas check follow format convent code format project use black code formatterhttpsgithubcompsfblack public function clase clearli document sphinxstyl docstringshttpssphinxrtdtutorialreadthedocsioenlatestdocstringshtml local document gener bash cd doc make html titl tx transform explain explor tag python explain natur languag process deep network transform author name nathan martindalecofirst author correspond author note make footnot say cofirst author orcid affili name scott l stewartcofirst author orcid affili affili name oak ridg nation laboratori index date decemb bibliographi paperbib summari transform explain explor tx tx softwar packag librari design artifici intellig research better understand perform transform model vaswaniattent use sequenc classif tool capabl integr train transform model dataset split train test popul produc ipywidget ipywidget dashboard number visual understand model perform emphasi explain interpret tx packag primarili intend integr workflow center around jupyt notebook jupyternotebook current assum use pytorch pytorch hug face transform librari hftransform dashboard includ visual data explor featur aid research includ interact umap embed graph mcinnesumap understand classif cluster word salienc map updat research alter textual entri near real time set tool understand word frequenc import base cluster umap embed graph set tradit confus matrix analysi tool statement need transform although particularli effect wide varieti natur languag process task challeng mani deep network approach difficult glean insight certain classif decis made akenvisbert variou work explor valu analyz attent layer order provid explain output transform network vigmultiscal howev analyz attent alon insuffici attempt gain broader insight transform perform certain way specif dataset jainattent tx aim address challeng provid model develop number tool explor certain transform perform certain way specif dataset tool help develop determin among thing whether specif transform gain gener understand semant mean behind textual entri specif dataset also help studi impact languag distribut shift time transform sequenc classif perform exist tool googl pair languag interpret tool tenneylit also provid platform use multipl visual studi transform model perform tx differ tool emphasi cluster analysi easier custom model interact dashboard within jupyt notebook close integr jupyt notebook advantag research alreadi reli heavili tool within jupyt ecosystem like languag interpret tool tx offer project map data point howev goe break visual cluster provid separ visual understand languag per cluster addit tx design promot easi modif custom depend research need research complet chang present order plot within ipywidget even add addit visual desir featur primari visual widget umap embed graph project multidimension sequenc embed space cluster plot multipl control use understand sequenc classifi work includ abil show hide train data highlight certain keyword focu misclassif umap plot dashboard includ set tool explor textual data includ word salienc map show inform specif train test data entri salienc map serv proxi word import comput recalcul soft classif particular entri corpu multipl time word individu remov background color map indic degre impact word remov classif result darker background highlight correspond greater import dashboard also includ text entri box prepopul text entri shown salienc map user use text box explor impact word addit remov modifi entri chang reflect salienc map plot well chang data point umap embed graph dashboard also includ set visual cluster analysi tool cluster algorithm sklearn scikitlearn cluster modul use assign cluster data project umap embed dashboard display cluster label along interclust word frequenc word import classif result salienc score word calcul aggreg cluster iter classifi individu word remov also sampl button allow data exampl randomli pull specif cluster examin entryspecif salienc map tool final also possibl output tradit confus matric well variou evalu score eg fscore accuraci precis part dashboard integr tx includ two main class wrapper class dashboard class wrapper class wrap around transformerclassif model act interfac dashboard transform wrapper charg comput cach necessari data dashboard visual dashboard class respons set render widget layout handl dashboard interact flow interact tx librari jupyt notebook seen autoreffiginteract flow interact jupyt notebook tx librarylabelfiginteractivityinteraction_flowpng wrapper commun transform set four function seen autoreffigintegr function includ embed function return singl sequenc embed input text classif function return predict output class input text soft classif function return output valu class input text encod function convert text model input exampl integr transform tx wrapperlabelfigintegrationexample_interactionpng default implement tx assum huggingfac pretrain model use case fit purpos user use default implement function otherwis user need redefin function handl use case ensur new function return necessari data correct format audienc target audienc tx tool machin learn artifici intellig research focus natur languag process transform comfort oper within jupyt ecosystem demonstr explor opensourc softwar licens bsd claus licens regist doe codehttpsdoiorgdc avail githubhttpsgithubcomornltx packag also pip instal pip instal tx sphinx sphinx built documentationhttpsornlgithubiotxindexhtml final lint project perform use black blacklint acknowledg author would like acknowledg us depart energi nation nuclear secur administr offic defens nuclear nonprolifer research develop na support work manuscript author utbattel llc contract deacor us depart energi doe us govern retain publish accept articl public acknowledg us govern retain nonexclus paidup irrevoc worldwid licens publish reproduc publish form manuscript allow other us govern purpos doe provid public access result feder sponsor research accord doe public access plan httpenergygovdownloadsdoepublicaccessplan refer name bug report creat report help us improv titl label assigne describ bug clear concis descript bug reproduc step reproduc behavior go click scroll see error expect behavior clear concis descript expect happen screenshot applic add screenshot help explain problem desktop pleas complet follow inform os eg io browser eg chrome safari version eg smartphon pleas complet follow inform devic eg iphon os eg io browser eg stock browser safari version eg addit context add context problem name featur request suggest idea project titl label assigne featur request relat problem pleas describ clear concis descript problem ex im alway frustrat describ solut youd like clear concis descript want happen describ altern youv consid clear concis descript altern solut featur youv consid addit context add context screenshot featur request visual automodul txvisual autosummari autosummarysect function member dashboard interfac page contain brief descript differ button checkbox interfac umap sidebar graph control statu messag current select point sidebar umap plot top two statu indic respect show busyreadi statu backend comput plot work model classif section show current predict label well target color match use plot checkbox graph control show train data lightli includ train point plot larger transpar point help determin there much differ train test distribut visual cluster num display numer label comput cluster project these label consist plot titl cluster word bar graph wordcloud tab focu misclassif slightli blur point transform predict correctli make easier see one got wrong sampl misclassifi button randomli select point transform got wrong keyword search box allow type word plot highlight red instanc word appear sampl highlight button randomli select point highlight instanc control select datapoint index umap plot dropdown menu contain index point test set chang select updat umap plot highlight current point entri text word salienc map updat cluster word word cloud tab sampl button randomli select instanc visual cluster correspond label squar bracket button calc automodul txcalc autosummari autosummarysect function membersbas usag tx consist two class classtxwrapperwrapp classtxdashboarddashboard wrapper class wrap around transformerclassif model act interfac dashboard transform wrapper charg comput cach necessari data dashboard visual dashboard class handl set render widget layout handl dashboard interact note dashboard primarili explor transform respond test set data larger test set slower dashboard may respond longer wrapper precomput step take flow interact librari jupyt notebook shown imag interaction_flowpng commun tx transform done entir set four interact function discuss section wrapper setup two differ gener approach set transform wrapper depend level custom need suit model wrapper reli four differ function comput embed function return singl sequenc embed input text classif function return predict output class input text soft classif function return output valu class input text essenti nonargmax classif output encod function convert text input model expect case wrapper instanti wrapper codeprepar function must call run necessari data comput dashboard reli exampl diagram transform model provid expect data function shown imag example_interactionpng default approach default approach default four function alreadi handl intern reli directli pass necessari model piec codewrapp constructor three piec constructor expect work correctli huggingfac token default encod function call codeencode_plu token calleabl huggingfac languag model default embed function take final layer output first token expect codecl token importantli mean default expect bert transform type requir use custom approach calleabl classifi return output valu class directli use default soft classif function default classif function argmax output exampl model would work approach shown first exampl notebook codeblock python import torch transform import automodel class bertclasstorchnnmodul def __init__self superbertclass self__init__ selflanguage_model automodelfrom_pretrainedbertbasecas selfclassification_head torchnnlinear def forwardself id mask output_ selflanguage_modelid mask output selfclassification_headoutput_ return output instanti wrapper pass data necessari model piec call codeprepar run necesari comput cach result codeblock python transform import autotoken txwrapper import wrapper initi model bertclass token autotokenizerfrom_pretrainedbertbasecas train_df test_df encod load datafram encod dictionari train model creat wrapper wrapper wrapper train_textstrain_dftext train_labelstrain_dftarget test_textstest_dftext test_labelstest_dftarget encodingsencod classifiermodel language_modelmodellanguage_model tokenizertoken wrapperprepar note exampl expect datafram text column contain input text target column contain integ target class codeencod dictionari contain class labelsnam key valu integ represent eg newsgroup dataset codeblock altath compgraph composmswindowsmisc compsysibmpchardwar compsysmachardwar compwindowsx miscforsal recauto recmotorcycl recsportbasebal recsporthockey scicrypt scielectron scime scispac socreligionchristian talkpoliticsgun talkpoliticsmideast talkpoliticsmisc talkreligionmisc custom approach differ type transform differ way construct model make default function infeas incorrect possibl manual specifi four function wrapper reli done defin function assign correspond wrapper attribut attrtxwrapperwrapperembedding_funct attrtxwrapperwrapperclassification_funct attrtxwrapperwrappersoft_classification_funct attrtxwrapperwrapperencode_funct exampl one could chang embed mechan averag output token embed rather expect codecl token codeblock python import numpi np transform loadtrain languag model def average_embeddinginput return npmeantransformerinputsinput_id inputsattention_mask wrapper wrapper wrapperembedding_funct average_embed wrapperprepar note wrapper codeemb codeclassifi codesoft_clasifi take array text input correspond backend wrapper attribut function expect encod input return attrtxwrapperwrapperencode_funct default specifi custom codeencode_funct wrapper run codeencode_plu token specifi constructor attrtxwrapperwrapperencoder_opt pass result return dictionari codeinput_id codeattention_mask key depend custom function defin determin model piec need pass constructor defin codeencode_funct need pass anyth codetoken defin codeclassification_funct codesoft_classification_funct need pass anyth codeclassifi defin codeembedding_funct need pass anyth codelanguage_model input data flow help understand custom function fit exampl data convert pass wrapper wrapper codeclassifi call imag wrapper_data_flowpng functxwrapperwrapperclassifi function call array text input text place pytorch dataset child class dataload input text dataset call attrtxwrapperwrapperencode_funct batch set dataload contain output batch array encod input pass attrtxwrapperwrapperclassification_funct output predict aggreg sent back upreturn codeclassifi call dashboard setup dashboard class rel straight forward initi prepar transform wrapper set section display make desir widget alter call coderend manual pull compon directli display codeipythondisplaydisplay detail see refdashboard widget codeblock python txwrapper import wrapper txdashboard import dashboard load train transform data wrapper wrapper wrapperprepar dash dashboardwrapp dashrend dashboard constructor contain six boolean control section get display call coderend codeblock python class dashboard def __init__ self transformer_wrapp wrapperwrapp show_umaptru show_saliencetru show_word_counttru show_cluster_saliencetru show_cluster_sample_btnstru show_wordcloudsfals codeshow_wordcloud option codefals default clusterbas codeshow_word_count codeshow_cluster_sali tend convey use repres inform wordcloud tip note plot display correctli need run codematplotlib agg codematplotlib inlin magic matplotlib plot remain interact zoompan control instead use codematplotlib notebook remov header figur run html magic block magic away codeblock html style divuidialogtitlebar display none style sometim codematplotlib inlin variou graph duplic everi time theyr rerend fix call codepltioff use codematplotlib agg instead _dashboard widget dashboard widget page list show differ widget compos full dashboard codedashboardrend return entir dashboard default compon custom manual access order construct layout togeth initi note widget initi new dashboard instanc construct chang made class widget call coderend persist return layout codeblock python dash dashboardwrapp dashlbl_projection_graphvalu hentri embeddingsh dashrend alter entri embed label final layout section list differ compon set dashboard class may individu alter desir need entir differ layout dashboard manual refer compon group put hboxvbox layout would manual render result rather call coderend codeblock python dash dashboardwrapp my_layout hbox dashprojection_layout dashmanual_text_entry_and_salience_layout dashdrop_text_pick dashsampling_group displaymy_layout widget imag show individu widget portion dashboard name attribut directli referenc wrapper instanc imag screen_componentspng imag screen_componentspng section show differ collect compon wrap hboxvbox layout alo directli referenc wrapper instanc imag screen_sectionspng imag screen_sectionspng dashboard automodul txdashboard autoclass txdashboarddashboard autosummari member tx document master file creat sphinxquickstart wed nov adapt file complet like least contain root toctre direct todo visual util readm tx sup document welcom tx sup librari intend aid explor explain transform classif network transform languag model sequenc classif head basic function librari take train transform testtrain dataset produc ipywidget dashboard seen screenshot display jupyt notebook jupyt lab imag screenshotpng note current librari implement partial torchdepend work tensorflowkera model hope address limit futur toctre maxdepth caption usag basic_usagerst dashboard_interfacerst dashboard_widgetsrst toctre maxdepth caption api wrapperrst dashboardrst calcrst visualizationrst indic tabl refgenindex refmodindex refsearch wrapper automodul txwrapper notabl function autofunct txwrapperwrapperprepar noindex autofunct txwrapperwrapperclassifi noindex autofunct txwrapperwrappersoft_classifi noindex autofunct txwrapperwrapperemb noindex precomput data full api autoclass txwrapperwrapp autosummari member