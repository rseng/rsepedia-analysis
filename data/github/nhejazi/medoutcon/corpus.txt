readmemd gener readmermd pleas edit file rmedoutcon badg start rcmdcheckhttpsgithubcomnhejazimedoutconworkflowsrcmdcheckbadgesvghttpsgithubcomnhejazimedoutconact coverag statushttpsimgshieldsiocodecovcgithubnhejazimedoutconmastersvghttpscodecoviogithubnhejazimedoutconbranchmast project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact mit licensehttpimgshieldsiobadgelicensemitbrightgreensvghttpopensourceorglicensesmit doihttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss badg end effici causal mediat analysi natur intervent effect author nima hejazihttpsnimahejaziorg iván díazhttpsidiazxyz kara rudolphhttpskararudolphgithubio what medoutcon medoutcon r packag provid facil effici estim pathspecif indirect effect measur impact treatment variabl outcom variabl direct path indirect path set mediat presenc intermedi bmedbiatorboutbcom bconbfound z affect treatment correspond intervent indirect effect describ dıaz et al though similar yet less gener effect definit andor estim strategi appear vanderweel vansteelandt robin rudolph et al zheng van der laan benkes ran intermedi confound present effect definit simplifi wellstudi natur indirect effect estim analog formul zheng van der laan effici onestep biascorrect estim crossfit pfanzagl wefelmey zheng van der laan chernozhukov et al crossvalid target minimum loss estim tmle van der laan rose zheng van der laan made avail medoutcon integr sl r packagehttpsgithubcomtlversesl coyl et al leverag statist machin learn estim procedur instal instal recent stabl releas github via remoteshttpscranrprojectorgpackageremot r remotesinstall_githubnhejazimedoutcon exampl illustr medoutcon may use estim stochast intervent indirect effect exposur outcom presenc mediat mediatoroutcom confound z consid follow exampl r librarydatat librarytidyvers attach packag tidyvers ggplot purrr tibbl dplyr tidyr stringr readr forcat conflict tidyverse_conflict dplyrbetween mask datatablebetween dplyrfilt mask statsfilt dplyrfirst mask datatablefirst dplyrlag mask statslag dplyrlast mask datatablelast purrrtranspos mask datatabletranspos librarymedoutcon medoutcon v effici natur intervent causal mediat analysi setse produc simpl data set base ca causal model mediat make_example_data functionn_ob baselin covari w_ rbinomn_ob prob w_ rbinomn_ob prob w_ rbinomn_ob prob pmin w_ w_ w cbindw_ w_ w_ w_name pastew seq_lenncolw sep _ exposur asnumericrbinomn_ob plogisrowsumsw mediatoroutcom confound affect treatment z rbinomn_ob plogisrowmeanslog w mediat could multivari rbinomn_ob plogisrowsumslog w z m_name outcom rbinomn_ob plogi rowsumsw z construct output dat asdatatablecbindw w z z setnamesdat cw_name z m_name returndat set seed simul exampl data example_data make_example_data w_name str_subsetcolnamesexample_data w m_name str_subsetcolnamesexample_data quick look data headexample_data w_ w_ w_ z comput onestep estim intervent direct effect os_d medoutconw example_data w_name example_dataa z example_dataz example_data m_name example_datay effect direct estim onestep os_d intervent direct effect estim onestep estim std error ci comput target minimum loss estim intervent direct effect tmle_d medoutconw example_data w_name example_dataa z example_dataz example_data m_name example_datay effect direct estim tmle tmle_d intervent direct effect estim tmle estim std error ci detail use data adapt regress machin learn techniqu estim nuisanc paramet consid consult vignett accompani packag issu encount bug specif featur request pleas file issuehttpsgithubcomnhejazimedoutconissu contribut contribut welcom interest contributor consult contribut guidelineshttpsgithubcomnhejazimedoutconblobmastercontributingmd prior submit pull request citat use medoutcon r packag pleas cite follow articlediaznonparametr titlenonparametr effici causal mediat intermedi confound authordiaz ivan hejazi nima rudolph kara e van der laan mark j year url httpsarxivorgab doi biometasaa journalbiometrika volum number page publisheroxford univers press articlehejazimedoutconjoss author hejazi nima rudolph kara e diaz ivan titl medoutcon nonparametr effici causal mediat analysi machin learn r year doi joss url httpsdoiorgjoss journal journal open sourc softwar publish open journal softwarehejazimedoutconrpkg authorhejazi nima diaz ivan rudolph kara e titl medoutcon effici natur intervent causal mediat analysi year doi zenodo url httpsgithubcomnhejazimedoutcon note r packag version licens nima hejazihttpsnimahejaziorg content repositori distribut mit licens see detail mit licens copyright c nima hejazi permiss herebi grant free charg person obtain copi softwar associ document file softwar deal softwar without restrict includ without limit right use copi modifi merg publish distribut sublicens andor sell copi softwar permit person softwar furnish subject follow condit copyright notic permiss notic shall includ copi substanti portion softwar softwar provid without warranti kind express impli includ limit warranti merchant fit particular purpos noninfring event shall author copyright holder liabl claim damag liabil whether action contract tort otherwis aris connect softwar use deal softwar refer div idref classrefer div idrefbenkesernonparametr benkes david jialu ran nonparametr infer intervent effect multipl mediat journal causal infer httpsdoiorgjci div div idrefchernozhukovdoubl chernozhukov victor deni chetverikov mert demir esther duflo christian hansen whitney newey jame robin doubledebias machin learn treatment structur paramet econometr journal httpsdoiorgectj div div idrefcoyleghsl coyl jeremi r nima hejazi ivana malenica rachael v phillip oleg sofrygin sl modern machin learn pipelin super learn version httpsdoiorgzenodo div div idrefdiaznonparametr dıaz iván nima hejazi kara e rudolph mark j van der laan nonparametr effici causal mediat intermedi confound biometrika httpsdoiorgbiometasaa div div idrefpfanzaglcontribut pfanzagl j w wefelmey contribut gener asymptot statist theori statist risk model httpsdoiorg div div idrefrudolphrobust rudolph kara e oleg sofrygin wenj zheng mark j van der laan robust flexibl estim stochast mediat effect propos method exampl random trial set epidemiolog method httpsdoiorgem div div idrefvdltarget van der laan mark j sherri rose target learn causal infer observ experiment data springer scienc busi media div div idrefvanderweeleeffect vanderweel tyler j stijn vansteelandt jame robin effect decomposit presenc exposureinduc mediatoroutcom confound epidemiolog httpsdoiorged div div idrefzhengcross zheng wenj mark j van der laan crossvalid target minimumlossbas estim target learn causal infer observ experiment data springer httpsdoiorg_ div div idrefzhengtarget target maximum likelihood estim natur direct effect intern journal biostatist httpsdoiorg div div idrefzhenglongitudin longitudin mediat analysi timevari mediat exposur applic surviv outcom journal causal infer httpsdoiorgjci div div medoutcon user clariti name argument provid extern comput observationlevel weight chang ext_weight svy_weight support natur direct indirect effect ad requir addit new intern argument effect_typ across function estim includ cv_eif est_onestep est_tml z null set medoutcon natur effect estim correspond argument effect return instead intervent effect summari print method updat allow handl natur effect counterfactu mean arbitrari contrast medoutcon initi public releas packag version includ support extern observationlevel weight contribut medoutcon develop author medoutcon r packag use guid use contribut develop popular tidyvers ecosystem r packag document simpli formal restat fact goal guid help get contribut medoutcon quickli possibl guid divid two main piec file bug report featur request issu suggest chang via pull request issu file issu import thing includ minim reproduc exampl quickli verifi problem figur fix three thing need includ make exampl reproduc requir packag data code packag load top script easi see one exampl need easiest way includ data use dput gener r code recreat spend littl bit time ensur code easi other read make sure youv use space variabl name concis inform use comment indic problem lie best remov everyth relat problem shorter code easier understand check actual made reproduc exampl start fresh r session past script unless youv specif ask pleas dont includ output sessioninfo pull request contribut chang medoutcon follow step creat branch git make chang push branch github issu pull request pr discuss pull request iter either accept pr decid good fit medoutcon step describ detail might feel overwhelm first time get set get easier practic your familiar git github pleas start read httprpkgshadconzgithtml pull request evalu checklist __motivation__ pull request clearli concis motiv need chang pleas describ problem pr address show pull request solv concis possibl also includ motiv news new releas medoutcon come easi user see what chang add item top file use markdown format news item end yourgithubusernam the_issue_numb __onli relat changes__ submit pull request pleas check make sure havent accident includ unrel chang make harder see exactli what chang evalu unexpect side effect pr correspond git branch expect submit multipl chang make sure creat multipl branch multipl chang depend start first one dont submit other first one process __use medoutcon code style__ pleas follow offici tidyvers style guidehttpstyletidyverseorg maintain consist style across whole code base make much easier jump code your modifi exist medoutcon code doesnt follow style guid separ pull request fix style would greatli appreci your ad new paramet new function youll also need document roxygenhttpsgithubcomklutometisroxygen make sure rerun devtoolsdocu code submit seem like lot work dont worri pull request isnt perfect learn process pull request process unless youv submit past unlik pull request accept pleas dont submit pull request chang exist behaviour instead think add new featur minim invas way titl medoutcon nonparametr effici causal mediat analysi machin learn r tag causal infer machin learn semiparametr estim mediat analysi natur direct effect intervent direct effect r author name nima hejazi orcid affili name kara e rudolph orcid affili name iván díaz orcid affili affili name divis biostatist depart popul health scienc weill cornel medicin usa index name depart epidemiolog mailman school public health columbia univers usa index date decemb bibliographi instreferencesbib summari scienc often concern question _mechanism_ myriad applic portion causal effect exposur outcom particular pathway studi interest studi pathspecif mediat effect rich histori first undertaken scientif wrightcorrel wrightmethod today studi effect attract great deal attent statist causal infer inspir applic disciplin rang epidemiolog vaccinolog psycholog econom exampl includ understand biolog mechan vaccin causal alter infect risk hejazieffici benkeserinfer assess effect novel pharmacolog therapi substanc abus disord relaps hejazinonparametr rudolphexplain evalu effect hous voucher adolesc develop rudolphhelp medoutcon r packag provid research disciplin other tool necessari implement statist effici estim _interventional_ direct indirect effect diaznonparametr breviti henceforth indirect effect recent formul set causal effect robust presenc confound mediatoroutcom relationship exposur case confound nonissu intervent indirect effect vanderweeleeffect reduc wellstudi _natural_ indirect effect robinsidentifi pearldirect medoutcon provid effici estim similar zhengtarget readili incorpor use machin learn estim nuisanc paramet integr sl r packag coyleghsl tlvers ecosystem vdltarget medoutcon incorpor stateoftheart nonsemiparametr estim techniqu facilit adopt vast array set statement need demonstr interest causal mediat analysi larg varieti disciplin thought implement data analysi strategi base recent develop area challeng contribut causal infer statist literatur larg fall two key area broadli studi identif outlin novel causal effect paramet properti desir realworld set eg intervent effect learn mediatoroutcom confound untest assumpt statist function correspond causal estimand interest complementari line studi develop nonsemiparametr effici theori statist function outlin causal identif literatur allow robust estim modern techniqu machin learn neither concern open door appli estim realworld data analys moreov implement open sourc softwar effici estim causal effect complex task data scientist must knowledg causal infer semiparametr statist theori machin learn intersect disciplin forego mention research softwar engin best practic includ exampl unitregress test autom continu integr medoutcon r packag free open sourc implement nonsemiparametr effici estim natur intervent indirect effect provid data scientist research industri access stateoftheart statist methodolog causal mediat analysi estim interrog simul studi appli realworld data analys best knowledg r packag provid similarli conveni access multipli robust nonsemiparametr effici estim causal mediat effect flexibl interfac accommod machin learn nuisanc paramet natur intervent causal mediat effect evalu causal effect exposur outcom mediat pathway let consid dataset n unit observ data singl unit assum gener nonparametr structur equat model npsem pearlcaus beginalign w f_wu_w f_aw u_a zf_zw u_z f_mw z u_m f_yw z u_i endalign w baselin preexposur covari binari exposur interest z intermedi confound mediatoroutcom relationship affect exposur repres mediat variabl outcom npsem admit equival represent direct acycl graph dag variabl node depend repres direct path node natur indirect effect gener identifi ie learn observ data presenc intermedi confound make simplifi assumpt intermedi variabl z absent simpl case popul averag treatment effect ate total effect compar two exposur contrast astar may decompos natur direct effect nde natur indirect effect nie beginequ mathbbeya yastar underbracemathbbeya ya mastar_textindirect effect underbracemathbbeya mastar yastar mastar_textdirect effect endequ _counterfactual_ variabl ycdot _potenti outcomes_ imbenscaus hernancaus ya valu outcom would take exposur set level possibl contrari fact similarli mastar valu mediat would take exposur set level astar result intervent exampl nie captur effect exposur mediat variabl nde captur effect pathway robinsidentifi pearldirect independ studi decomposit within potenti outcom npsem framework respect case nde nie deriv ate introduc decomposit term determinist set valu exposur mediat differ valu applic _static_ intervent regard estim tchetgensemiparametr zhengtarget outlin nonsemiparametr effici theori develop estim nde nie propos effici estim causal quantiti presenc intermedi confound z often rule realworld data analysi scenario postexposur variabl affect affect complic effort disentangl effect path involv path recogn limit natur effect set didelezdirect petersenestim vanderweeleeffect rudolphrobust among other contribut develop intervent indirect effect unlik decomposit strategi delin nde nie effect requir sophist approach identif reli upon _stochastic_ intervent mediat requir random draw mediat postintervent distribut rather set fix counterfactu valu specif two exposur contrast astar effect defin differ expect outcom hypothet world g_a versu astar g_astar g_a denot random draw condit distribut m_a condit w defin stochast intervent direct indirect effect defin follow beginequ mathbbeya g_a yastar g_astar underbracemathbbeya g_a ya g_astar_textindirect effect underbracemathbbeya g_astar yastar g_astar_textdirect effect endequ like nde intervent direct effect measur effect path avoid mediat variabl analog nie intervent indirect effect measur effect path involv mediat note howev natur intervent mediat effect differ interpret intervent indirect effect measur effect fix exposur set mediat random draw g_astar ie intervent set exposur astar versu random draw g_a ie set exposur given covari w intuit intervent effect remain identifi intermedi confound sinc stochast intervent mediat break relationship z prior work diaznonparametr contemporan develop benkesernonparametr nonsemiparametr effici theori intervent indirect effect unavail recent novel famili intervent effect accommod flexibl stochast intervent exposur hejazinonparametr formul well medoutcon scope develop medoutcon packag began softwar accompani theoret develop diaznonparametr investig author outlin effici estim intervent indirect effect medoutcon implement effici estim implement r languag environ statist comput r medoutcon aim provid simpl applic user interfac api conveni varieti data analyt applic specif medoutcon via singl userfac eponym function medoutcon provid access onestep target minimum loss tml estim causal indirect effect stateoftheart machin learn algorithm includ ensembl model vdlsuper may readili use estim relev nuisanc paramet design tightli coupl medoutcon sl r packag coyleghsl crossfit automat incorpor via origami r packag coyleorigami coylecranorigami comput effici estim allow common restrict theoret regular condit relax bickeleffici zhengcross chernozhukovdoubl beyond implement intervent indirect effect medoutcon addit allow natur indirect effect estim intermedi confound omit call medoutcon function ie set z null featur base correspond identifi statist function natur intervent indirect effect absenc intermedi confound simplifi case effici estim intervent indirect effect formul diaznonparametr analog effici estim natur indirect effect formul zhengtarget support case medoutcon serv onestop tool estim scientif inform causal mediat effect allow practic data scientist appli statistician deploy cuttingedg estim natur intervent indirect effect unifi api avail medoutcon packag publicli avail via githubhttpsgithubcomnhejazimedoutcon plan submiss comprehens r archiv network pend inclus depend sl particular repositori use medoutcon packag extens document packag readm vignett document websitehttpscodenimahejaziorgmedoutcon ongo develop packag incorpor research data scienc softwar engin best practic includ suit unit test autom continu integr check medoutcon continu use teach confer workshop modern causal mediat analysi eg see recent materi ser httpscodenimahejaziorgser_mediation_workshop acknowledg nsh contribut work support part grant nation scienc foundat award number dm httpswwwnsfgovawardsearchshowawardawd_id refer output rmarkdowngithub_docu bibliographi instreferencesbib readmemd gener readmermd pleas edit file r echo fals knitropts_chunkset collaps true comment figpath readm rmedoutcon badg start rcmdcheckhttpsgithubcomnhejazimedoutconworkflowsrcmdcheckbadgesvghttpsgithubcomnhejazimedoutconact coverag statushttpsimgshieldsiocodecovcgithubnhejazimedoutconmastersvghttpscodecoviogithubnhejazimedoutconbranchmast project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact mit licensehttpimgshieldsiobadgelicensemitbrightgreensvghttpopensourceorglicensesmit doihttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss badg end effici causal mediat analysi natur intervent effect __authors__ nima hejazihttpsnimahejaziorg iván díazhttpsidiazxyz kara rudolphhttpskararudolphgithubio what medoutcon medoutcon r packag provid facil effici estim pathspecif indirect effect measur impact treatment variabl outcom variabl direct path indirect path set mediat presenc intermedi bmedbiatorboutbcom bconbfound z affect treatment correspond _interventional_ indirect effect describ diaznonparametr though similar yet less gener effect definit andor estim strategi appear vanderweeleeffect rudolphrobust zhenglongitudin benkesernonparametr intermedi confound present effect definit simplifi wellstudi _natural_ indirect effect estim analog formul zhengtarget effici onestep biascorrect estim crossfit pfanzaglcontribut zhengcross chernozhukovdoubl crossvalid target minimum loss estim tmle vdltarget zhengcross made avail medoutcon integr sl r packagehttpsgithubcomtlversesl coyleghsl leverag statist machin learn estim procedur instal instal recent _stabl release_ github via remoteshttpscranrprojectorgpackageremot r ghmasterinstal evalfals remotesinstall_githubnhejazimedoutcon exampl illustr medoutcon may use estim stochast intervent indirect effect exposur outcom presenc mediat mediatoroutcom confound z consid follow exampl r exampl warningfals librarydatat librarytidyvers librarymedoutcon setse produc simpl data set base ca causal model mediat make_example_data functionn_ob baselin covari w_ rbinomn_ob prob w_ rbinomn_ob prob w_ rbinomn_ob prob pmin w_ w_ w cbindw_ w_ w_ w_name pastew seq_lenncolw sep _ exposur asnumericrbinomn_ob plogisrowsumsw mediatoroutcom confound affect treatment z rbinomn_ob plogisrowmeanslog w mediat could multivari rbinomn_ob plogisrowsumslog w z m_name outcom rbinomn_ob plogi rowsumsw z construct output dat asdatatablecbindw w z z setnamesdat cw_name z m_name returndat set seed simul exampl data example_data make_example_data w_name str_subsetcolnamesexample_data w m_name str_subsetcolnamesexample_data quick look data headexample_data comput onestep estim intervent direct effect os_d medoutconw example_data w_name example_dataa z example_dataz example_data m_name example_datay effect direct estim onestep os_d comput target minimum loss estim intervent direct effect tmle_d medoutconw example_data w_name example_dataa z example_dataz example_data m_name example_datay effect direct estim tmle tmle_d detail use data adapt regress machin learn techniqu estim nuisanc paramet consid consult vignett accompani packag issu encount bug specif featur request pleas file issuehttpsgithubcomnhejazimedoutconissu contribut contribut welcom interest contributor consult contribut guidelineshttpsgithubcomnhejazimedoutconblobmastercontributingmd prior submit pull request citat use medoutcon r packag pleas cite follow articlediaznonparametr titlenonparametr effici causal mediat intermedi confound authordiaz ivan hejazi nima rudolph kara e van der laan mark j year url httpsarxivorgab doi biometasaa journalbiometrika volum number page publisheroxford univers press articlehejazimedoutconjoss author hejazi nima rudolph kara e diaz ivan titl medoutcon nonparametr effici causal mediat analysi machin learn r year doi joss url httpsdoiorgjoss journal journal open sourc softwar publish open journal softwarehejazimedoutconrpkg authorhejazi nima diaz ivan rudolph kara e titl medoutcon effici natur intervent causal mediat analysi year doi zenodo url httpsgithubcomnhejazimedoutcon note r packag version licens copi nima hejazihttpsnimahejaziorg content repositori distribut mit licens see detail mit licens copyright c nima hejazi permiss herebi grant free charg person obtain copi softwar associ document file softwar deal softwar without restrict includ without limit right use copi modifi merg publish distribut sublicens andor sell copi softwar permit person softwar furnish subject follow condit copyright notic permiss notic shall includ copi substanti portion softwar softwar provid without warranti kind express impli includ limit warranti merchant fit particular purpos noninfring event shall author copyright holder liabl claim damag liabil whether action contract tort otherwis aris connect softwar use deal softwar refer titl effici causal mediat analysi natur intervent effect author nima hejazihttpsnimahejaziorg iván díazhttpswwwidiazxyz kara rudolphhttpskararudolphgithubio date r sysdat output rmarkdownhtml_vignett bibliographi instreferencesbib vignett vignetteindexentryeffici causal mediat analysi natur intervent effect vignetteengineknitrrmarkdown vignetteencodingutf background motiv exposur interest often affect outcom directli indirectli mediat intermedi variabl identifi quantifi mechan underli causal effect increasingli popular endeavor public health medicin social scienc knowledg mechan improv understand _whi how_ treatment effect mechanist knowledg may arguabl even import case treatment result unanticip ineffect even harm effect tradit techniqu mediat analysi fare poorli face intermedi confound classic paramet like natur indirect effect face lack identifi case mediatoroutcom ie intermedi confound affect exposur complic relationship exposur mediat outcom diaznonparametr provid theoret comput studi properti newli develop intervent indirect effect estimand within nonparametr statist model among contribut diaznonparametr deriv effici influenc function eif key object semiparametr effici theori use eif develop two asymptot optim nonparametr estim capabl leverag machin learn estim nuisanc paramet present theoret condit propos estim consist multipli robust effici problem setup notat problem address work diaznonparametr may repres follow nonparametr structur equat model npsem beginalign w f_wu_w f_aw u_a zf_zw u_z nonumb f_mw z u_m f_yw z u_i endalign npsem w denot vector observ pretreat covari denot categor treatment variabl z denot intermedi confound affect treatment denot possibl multivari mediat denot continu binari outcom vector exogen factor uu_wu_au_zu_mu_i function f assum determinist unknown importantli npsem encod timeord variabl allow evalu counterfactu quantiti defin interven set node npsem observ data unit repres random variabl w z consid access o_ ldot o_n sampl n iid observ diaznonparametr addit defin follow parameter familiar use use medoutcon r packagehttpsgithubcomnhejazimedoutcon particular author defin ga mid w probabl mass function condit w w use ha mid w denot probabl mass function condit w w diaznonparametr use ba z w denot outcom regress function mathbbey mid z z w w well qz mid aw rz mid w denot correspond condit densiti z intervent indirect effect diaznonparametr defin _total effect_ term contrast two usersuppli valu astar mathcala examin npsem reveal four path involv effect name rightarrow rightarrow rightarrow rightarrow z rightarrow rightarrow z rightarrow rightarrow mediat analysi classic consid _natur direct effect_ nde _natur indirect effect_ nie defin mathbbe_cy_a m_astar y_astar m_astar mathbbe_cy_am_a y_am_astar respect natur direct effect measur effect path _not_ involv mediat rightarrow rightarrow z rightarrow wherea natur indirect effect measur effect path involv mediat rightarrow rightarrow rightarrow z rightarrow rightarrow sum natur direct indirect effect equal averag treatment effect mathbbe_cy_y_ effect decomposit appeal unfortun natur direct indirect effect gener identifi presenc intermedi confound affect treatment circumv issu diaznonparametr defin direct indirect effect use stochast intervent mediat follow strategi previous outlin vanderweeleeffect rudolphrobust among other let g_a denot random draw condit distribut m_a condit w consid effect defin differ expect outcom hypothet world g_a versu astar g_astar probabl one may decompos direct indirect effect follow beginequ mathbbe_cy_a g_a y_astar g_astar underbracemathbbe_cy_a g_a y_a g_astar_textindirect effect underbracemathbbe_cy_a g_astar y_astar g_astar_textdirect effect endequ like natur direct effect intervent direct effect measur effect path involv mediat likewis intervent indirect effect measur effect path involv mediat note howev natur intervent mediat effect differ interpret intervent indirect effect measur effect fix exposur set mediat random draw g_astar exposur versu random draw g_a exposur astar given covari w clear effect decomposit term theta_c mathbbe_cy_a g_astar requir estim intervent direct indirect effect thu diaznonparametr focu estim quantiti importantli shown theta_c identifi statist function beginequ theta int ba z w qz mid w pm mid astar w pw dnuwzm endequ set standard identifi condit vanderweeleeffect review diaznonparametr effici estim diaznonparametr defin two effici estim intervent indirect effect base onestep estim target minimum loss tml estim framework respect briefli estim strategi proceed two stage start first construct initi estim nuisanc paramet present eif proceed appli distinct biascorrect strategi second stage estim strategi requir assumpt behavior initi estim nuisanc paramet specif lie donsker class howev need assumpt may avoid make use crossvalid fit fo initi estim medoutcon r packag requir use crossvalid construct initi estim result crossfit onestep crossvalid tml estim klaassenconsist zhengcross chernozhukovdoubl onestep estim hattheta_texto construct ad empir mean eif evalu initi estim nuisanc paramet substitut estim constrast tml estim hattheta_texttml updat compon substitut estim via logist tilt model formul ensur relev score equat appear eif approxim solv estim asymptot equival tml estim shown exhibit superior finitesampl perform make potenti reliabl onestep estim exact form eif well onestep tml estim consult diaznonparametr data analysi exampl set data exampl well take look estim intervent direct indirect effect use simul data exampl diaznonparametr illustr use estim effect applic seek elucid mechan behind unintend harm effect hous intervent adolesc girl risk behavior first let load requir packag set seed simul r setup messagefals warningfals librarydatat librarymedoutcon librarysl setse n_ob next well gener simpl simul dataset function make_example_data defin gener three binari baselin covari w w_ w_ w_ binari exposur variabl singl binari mediateor intermedi confound z affect mediat affect exposur final binari outcom function w z r make_example_data messagefals warningfals produc simpl data set base ca causal model mediat make_example_data functionn_ob baselin covari w_ rbinomn_ob prob w_ rbinomn_ob prob w_ rbinomn_ob prob pmin w_ w_ w cbindw_ w_ w_ w_name pastew seq_lenncolw sep _ exposur asnumericrbinomn_ob plogisrowsumsw mediatoroutcom confound affect treatment z rbinomn_ob plogisrowmeanslog w mediat could multivari rbinomn_ob plogisrowsumslog w z m_name outcom rbinomn_ob plogi rowsumsw z construct output dat asdatatablecbindw w z z setnamesdat cw_name z m_name returndat set seed simul exampl data example_data make_example_datan_ob w_name stringrstr_subsetcolnamesexample_data w m_name stringrstr_subsetcolnamesexample_data let take quick look simul data r example_data messagefals warningfals quick look data headexample_data note covari dataset binari howev note need case use methodolog particular current limit intermedi confound z must binari use implement tml estim indirect effect use dataset well proceed estim intervent indirect effect order well need estim sever nuisanc paramet includ exposur mechan ga mid w reparameter exposur mechan condit mediat ha mid w outcom mechan mid z w two variant intermedi confound mechan qz mid w rz mid w order estim nuisanc paramet flexibl well reli data adapt regress strategi order avoid potenti parametr model misspecif note two addit nuisanc paramet must also estim u v function nuisanc paramet recommend estim via highli adapt lasso ensembl learn nuisanc function wed like reli flexibl data adapt regress strategi estim nuisanc paramet g h b q r requir method choos among combin wide varieti avail regress strategi recommend use super learner algorithm ensembl machin learn vdlsuper recent develop sl r packagehttpstlverseorgsl coylesl provid unifi interfac deploy wide varieti machin learn algorithm simpli call _learners_ sl nomenclatur well construct super learner ensembl model learner complet guid use sl r packag consid consult httpstlverseorgsl httpstlverseorg httpsgithubcomtlvers tlvers ecosystem sl integr part construct ensembl learner use hand popular machin learn algorithm well first instanti variant learner appropri class algorithm creat super learner ensembl via lrnr_sl class demonstr construct ensembl learner base model librari includ intercept model mainterm glm ell_pen lasso regress elast net regress equal weight ell_ ell_ penalti random forest ranger highli adapt lasso hal r make_sl messagefals warningfals instanti learner mean_lrnr lrnr_meannew fglm_lrnr lrnr_glm_fastnewfamili binomi lasso_lrnr lrnr_glmnetnewalpha famili binomi nfold enet_lrnr lrnr_glmnetnewalpha famili binomi nfold rf_lrnr lrnr_rangernewnumtre hal use linear probabl formul bound unit interv hal_gaussian_lrnr lrnr_halnew famili gaussian fit_control list max_degre n_fold use_min true typemeasur mse bound_lrnr lrnr_boundnewbound e hal_bounded_lrnr pipelinenewhal_gaussian_lrnr bound_lrnr creat learner librari instanti super learner ensembl lrnr_lib stacknewmean_lrnr fglm_lrnr enet_lrnr lasso_lrnr rf_lrnr hal_bounded_lrnr sl_lrnr lrnr_slnewlearn lrnr_lib metalearn lrnr_nnlsnew recommend use super learner ensembl model like one construct practic librari comput intens exampl reduc comput time construct simpler librari use subset learn algorithm r make_simple_sl messagefals warningfals creat simpler learner librari instanti super learner ensembl lrnr_lib stacknewmean_lrnr fglm_lrnr lasso_lrnr rf_lrnr sl_lrnr lrnr_slnewlearn lrnr_lib metalearn lrnr_nnlsnew set ensembl learner readi estim intervent effect use effici estim expos medoutcon packag estim direct effect readi estim intervent direct effect direct effect comput contrast intervent astar astar particular effici estim intervent direct effect proceed construct estim hatthetaa astar hatthetaa astar effici estim direct effect avail applic delta method hatthetatextd hatthetaa astar hatthetaa astar appli principl eif estim one deriv varianc estim construct asymptot correct waldstyl confid interv hatthetatextd medoutcon packag make estim task quit simpl singl call eponym medoutcon function requir demonstr need feed compon observ data w z w multivari specifi effect type estim addit nuisanc paramet may specifi separ regress function exampl use simpler super learner ensembl construct fit nuisanc function need case ie differ estim may use nuisanc function first examin onestep estim intervent direct effect recal onestep estim construct ad mean eif evalu initi estim nuisanc paramet substitut estim note done separ two contrast astar astar thu onestep estim direct effect construct applic delta method onestep estim eif contrast r de_o messagefals warningfals comput onestep estim intervent direct effect os_d medoutconw example_data w_name example_dataa z example_dataz example_data m_name example_datay g_learner sl_lrnr h_learner sl_lrnr b_learner sl_lrnr q_learner sl_lrnr r_learner sl_lrnr effect direct estim onestep estimator_arg listcv_fold summaryos_d output summari method note onestep estim intervent direct effect hattheta_textostextd r roundos_detheta confid interv r roundunnameconfintos_d r roundunnameconfintos_d next let compar onestep estim tml estim analog case onestep estim tml estim evalu via singl call medoutcon function r de_tml messagefals warningfals comput target minimum loss estim intervent direct effect tmle_d medoutconw example_data w_name example_dataa z example_dataz example_data m_name example_datay g_learner sl_lrnr h_learner sl_lrnr b_learner sl_lrnr q_learner sl_lrnr r_learner sl_lrnr effect direct estim tmle estimator_arg listcv_fold max_it summarytmle_d output summari method note tml estim intervent direct effect hattheta_texttmletextd r roundtmle_detheta confid interv r roundunnameconfinttmle_d r roundunnameconfinttmle_d recal tml estim gener exhibit better finitesampl perform onestep estim vdltarget vdltarget tml estim like reliabl modest sampl size n r n_ob estim indirect effect estim intervent indirect effect proce similarli strategi discuss correspond direct effect effici estim comput contrast intervent astar astar specif effici estim intervent indirect effect proceed construct estim hatthetaa astar hatthetaa astar applic delta method yield effici estim indirect effect hatthetatexti hatthetaa astar hatthetaa astar principl may appli eif estim deriv varianc estim construct asymptot correct waldstyl confid interv hatthetatexti examin onestep estim intervent indirect effect onestep estim construct ad mean eif evalu initi estim nuisanc paramet substitut estim note done separ two contrast astar astar thu onestep estim indirect effect construct applic delta method onestep estim eif contrast r ie_o messagefals warningfals comput onestep estim intervent indirect effect os_i medoutconw example_data w_name example_dataa z example_dataz example_data m_name example_datay g_learner sl_lrnr h_learner sl_lrnr b_learner sl_lrnr q_learner sl_lrnr r_learner sl_lrnr effect indirect estim onestep summaryos_i output summari method note onestep estim intervent indirect effect hattheta_textostexti r roundos_ietheta confid interv r roundunnameconfintos_i r roundunnameconfintos_i let compar onestep estim tml estim analog case onestep estim tml estim evalu via singl call medoutcon function demonstr r ie_tml messagefals warningfals comput target minimum loss estim intervent indirect effect tmle_i medoutconw example_data w_name example_dataa z example_dataz example_data m_name example_datay g_learner sl_lrnr h_learner sl_lrnr b_learner sl_lrnr q_learner sl_lrnr r_learner sl_lrnr effect indirect estim tmle summarytmle_i output summari method note tml estim intervent indirect effect hattheta_texttmletexti r roundtmle_ietheta confid interv r roundunnameconfinttmle_i r roundunnameconfinttmle_i tml estim provid better finitesampl perform onestep estim may prefer exampl refer gener roxygen edit hand pleas edit document restimatorsr namecv_eif aliascv_eif titleeif stochast intervent indirect effect usag cv_eif fold data_in contrast g_learner h_learner b_learner q_learner r_learner u_learn v_learner effect_typ cintervent natur w_name m_name argument itemfoldobject specifi crossvalid fold gener call codelinkorigamimake_fold itemdata_ina codedatat contain observ data column order specifi npsem z w column name set appropri base input data structur mere conveni util pass data around variou core estim routin automat gener codelinkmedoutcon itemcontrasta codenumer doubl indic two valu intervent codea compar default valu codenul effect valu argument codeeffect instead use defin contrast overrid codeeffect provid codenumer doubl vector give valu eg codec itemg_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model propens score itemh_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model parameter propens score condit mediat itemb_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model outcom regress itemq_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model nuisanc regress intermedi confound condit treatment potenti baselin covari itemr_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model nuisanc regress intermedi confound condit mediat treatment potenti baselin confound itemu_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit pseudooutcom regress requir effici influenc function itemv_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit pseudooutcom regress requir effici influenc function itemeffect_typea codecharact indic whether compon intervent natur indirect effect estim case natur indirect effect estim sever nuisanc paramet unnecessari itemw_namesa codecharact vector name column correspond baselin covari w input argument automat gener codelinkmedoutcon itemm_namesa codecharact vector name column correspond mediat input argument automat gener codelinkmedoutcon descript eif stochast intervent indirect effect keywordintern gener roxygen edit hand pleas edit document rfit_mechanismsr namefit_nuisance_v aliasfit_nuisance_v titlefit pseudooutcom regress condit treatment baselin usag fit_nuisance_v train_data valid_data contrast learner b_out q_out m_name w_name argument itemtrain_dataa codedatat contain observ data column order specifi npsem z w column name set appropri base origin input data structur mere conveni util pass data around variou core estim routin automat gener codelinkmedoutcon itemvalid_dataa holdout data set column exactli match appear preced argument codedata use estim via crossfit option nuisanc paramet itemcontrasta codenumer doubl indic two valu intervent codea compar default valu codec assum binari intervent node codea itemlearnerscodelinkslstack learner class inherit codelinksllrnr_bas contain set learner pkgsl use fit model nuisanc paramet itemb_outoutput intern function fit outcom regress codelinkfit_out_mech itemq_outoutput intern function fit mechan intermedi confound condit mediat ie codelinkfit_moc_mech set codetyp q itemm_namesa codecharact vector name column correspond mediat input argument automat gener call wrapper function codelinkmedoutcon itemw_namesa codecharact vector name column correspond baselin covari w input argument automat gener codelinkmedoutcon descript fit pseudooutcom regress condit treatment baselin gener roxygen edit hand pleas edit document rfit_mechanismsr namefit_moc_mech aliasfit_moc_mech titlefit intermedi confound mechan without condit mediat usag fit_moc_mech train_data valid_data null contrast learner m_name w_name type cq r argument itemtrain_dataa codedatat contain observ data column order specifi npsem z w column name set appropri base origin input data structur mere conveni util pass data around variou core estim routin automat gener codelinkmedoutcon itemvalid_dataa holdout data set column exactli match appear preced argument codedata use estim via crossfit option default codenul itemcontrasta codenumer doubl indic two valu intervent codea compar default valu codec assum binari intervent node codea itemlearnerscodelinkslstack learner class inherit codelinksllrnr_bas contain set learner pkgsl use fit model intermedi confound mechan ie q ezaw r ezamw itemm_namesa codecharact vector name column correspond mediat input argument automat gener call wrapper function codelinkmedoutcon itemw_namesa codecharact vector name column correspond baselin covari w input argument automat gener codelinkmedoutcon itemtypea codecharact vector indic whether condit mediat specif option specifi one two type nuisanc regress r defin compon condit mediat ie r ezamw q defin compon ie q ezaw descript fit intermedi confound mechan without condit mediat gener roxygen edit hand pleas edit document restimatorsr nameest_onestep aliasest_onestep titleonestep estim stochast intervent indirect effect usag est_onestep data contrast g_learner h_learner b_learner q_learner r_learner u_learn v_learner w_name m_name y_bound effect_typ cintervent natur svy_weight null cv_fold l argument itemdataa codedatat contain observ data column order specifi npsem z w column name set appropri base origin input data structur mere conveni util pass data around variou core estim routin automat gener codelinkmedoutcon itemcontrasta codenumer doubl indic two valu intervent codea compar default valu codenul effect valu argument codeeffect instead use defin contrast overrid codeeffect provid codenumer doubl vector give valu eg codec itemg_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model propens score itemh_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model parameter propens score condit mediat itemb_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model outcom regress itemq_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model nuisanc regress intermedi confound condit treatment potenti baselin covari itemr_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model nuisanc regress intermedi confound condit mediat treatment potenti baselin confound itemu_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit pseudooutcom regress requir effici influenc function itemv_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit pseudooutcom regress requir effici influenc function itemw_namesa codecharact vector name column correspond baselin covari w input argument automat gener codelinkmedoutcon itemm_namesa codecharact vector name column correspond mediat input argument automat gener codelinkmedoutcon itemy_boundsa codenumer doubl indic minimum maximum observ valu outcom variabl prior rescal unit interv itemeffect_typea codecharact indic whether compon intervent natur indirect effect estim case natur indirect effect estim sever nuisanc paramet unnecessari itemsvy_weightsa codenumer vector observationlevel weight comput extern weight use construct reweight estim itemcv_foldsa codenumer integ specifi number fold creat crossvalid use crossvalid allow entropi condit onestep estim relax compat codelinkorigamimake_fold valu specifi must greater equal default creat fold descript onestep estim stochast intervent indirect effect keywordintern gener roxygen edit hand pleas edit document restimatorsr nameest_tml aliasest_tml titletml estim stochast intervent indirect effect usag est_tml data contrast g_learner h_learner b_learner q_learner r_learner u_learn v_learner w_name m_name y_bound effect_typ cintervent natur svy_weight null cv_fold l max_it l tiltmod_tol argument itemdataa codedatat contain observ data column order specifi npsem z w column name set appropri base origin input data structur mere conveni util pass data around variou core estim routin automat gener codelinkmedoutcon itemcontrasta codenumer doubl indic two valu intervent codea compar default valu codenul effect valu argument codeeffect instead use defin contrast overrid codeeffect provid codenumer doubl vector give valu eg codec itemg_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model propens score itemh_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model parameter propens score condit mediat itemb_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model outcom regress itemq_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model nuisanc regress intermedi confound condit treatment potenti baselin covari itemr_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model nuisanc regress intermedi confound condit mediat treatment potenti baselin confound itemu_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit pseudooutcom regress requir effici influenc function itemv_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit pseudooutcom regress requir effici influenc function itemw_namesa codecharact vector name column correspond baselin covari w input argument automat gener codelinkmedoutcon itemm_namesa codecharact vector name column correspond mediat input argument automat gener codelinkmedoutcon itemy_boundsa codenumer doubl indic minimum maximum observ valu outcom variabl prior rescal unit interv itemeffect_typea codecharact indic whether compon intervent natur indirect effect estim case natur indirect effect estim sever nuisanc paramet unnecessari itemsvy_weightsa codenumer vector observationlevel weight comput extern weight use construct reweight estim itemcv_foldsa codenumer valu specifi number fold creat crossvalid use crossvalid allow entropi condit tml estim relax note compat codelinkorigamimake_fold valu must greater equal default creat fold itemmax_itera codenumer integ give maximum number step taken iter procedur construct tml estim itemtiltmod_tola codenumer indic maximum step size taken perform tmle updat base logist tilt model step size given updat exce valu updat avoid descript tml estim stochast intervent indirect effect keywordintern gener roxygen edit hand pleas edit document rutilsr namescale_to_unit aliasscale_to_unit titlescal valu unit interv usag scale_to_unitv argument itemvalsa codenumer vector valu scale close interv descript scale valu unit interv keywordintern gener roxygen edit hand pleas edit document rutilsr nameprintmedoutcon aliasprintmedoutcon titleprint method intervent mediat effect estim object usag methodprintmedoutconx argument itemxan object class codemedoutcon itemoth option current use descript codeprint method object class codemedoutcon gener roxygen edit hand pleas edit document rutilsr namebound_precis aliasbound_precis titlebound numer precis usag bound_precisionv tol e argument itemvalsa codenumer vector valu interv itemtola codenumer indic toler limit extrem valu truncat realiz codev less codetol truncat codetol greater codetol truncat codetol descript bound extrem valu specifi toler level use sensit quantiti must transform eg via codelinkstatsqlog keywordintern gener roxygen edit hand pleas edit document rfit_mechanismsr namefit_treat_mech aliasfit_treat_mech titlefit propens score treatment contrast usag fit_treat_mech train_data valid_data null contrast learner m_name w_name type cg h argument itemtrain_dataa codedatat contain observ data column order specifi npsem z w column name set appropri base input data structur mere conveni util pass data around variou core estim routin automat gener codelinkmedoutcon itemvalid_dataa holdout data set column exactli match appear preced argument codetrain_data use estim via crossfit option default codenul itemcontrasta codenumer doubl indic two valu intervent codea compar default valu codec assum binari intervent node codea itemlearnerscodelinkslstack learner class inherit codelinksllrnr_bas contain set learner pkgsl use fit propens score model ie g pa w h pa w itemm_namesa codecharact vector name column correspond mediat input argument automat gener codelinkmedoutcon itemw_namesa codecharact vector name column correspond baselin covari w input argument automat gener codelinkmedoutcon itemtypea codecharact indic treatment mechan variant estim option codeg correspond propens score gaw option codeh condit mediat hamw descript fit propens score treatment contrast gener roxygen edit hand pleas edit document rmedoutconr namemedoutcon aliasmedoutcon titleeffici estim stochast intervent indirect effect usag medoutcon w z obs_weight rep lengthi svy_weight null effect cdirect indirect contrast null g_learner sllrnr_glm_fastnew h_learner sllrnr_glm_fastnew b_learner sllrnr_glm_fastnew q_learner sllrnr_glm_fastnew r_learner sllrnr_glm_fastnew u_learn sllrnr_halnew v_learner sllrnr_halnew estim ctmle onestep estimator_arg listcv_fold l max_it l tiltmod_tol argument itemwa codematrix codedatafram similar object correspond set baselin covari itemaa codenumer vector correspond treatment variabl paramet interest defin locat shift quantiti itemza codenumer vector correspond intermedi confound affect treatment causal pathway intervent mediat outcom unaffect mediat itemma codenumer vector codematrix codedatafram similar correspond set mediat causal pathway intervent outcom itemya codenumer vector correspond outcom variabl itemobs_weightsa codenumer vector observationlevel weight default give observ equal weight itemsvy_weightsa codenumer vector observationlevel weight comput extern survey sampl weight weight use construct reweight effici estim itemeffecta codecharact indic whether comput direct indirect effect discuss httpsarxivorgab ignor argument codecontrast provid default direct effect estim itemcontrasta codenumer doubl indic two valu intervent codea compar default valu codenul effect valu argument codeeffect instead use defin contrast overrid codeeffect provid codenumer doubl vector give valu eg codec itemg_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model propens score itemh_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model parameter propens score condit mediat itemb_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model outcom regress itemq_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model nuisanc regress intermedi confound condit treatment potenti baselin covari itemr_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit model nuisanc regress intermedi confound condit mediat treatment potenti baselin confound itemu_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit pseudooutcom regress requir effici influenc function itemv_learnersa codelinkslstack object learner class inherit codelinksllrnr_bas contain instanti learner pkgsl use fit pseudooutcom regress requir effici influenc function itemestimatorth desir estim direct indirect effect contrastspecif paramet comput effici onestep estim use crossfit crossvalid target minimum loss estim tmle avail default tml estim itemestimator_argsa codelist extra argument pass via code function call specifi estim default chosen allow number fold use comput onestep tml estim easili adjust case tml estim number updat fluctuat iter limit toler includ updat introduc tilt fluctuat model descript effici estim stochast intervent indirect effect exampl show onestep tml estim intervent direct effect indirect effect evalu straightforward chang penultim argument natur direct indirect effect evalu omit argument z inappropri exampl creat data covari w exposur postexposureconfound z mediat outcom n_ob w_ rbinomn_ob prob w_ rbinomn_ob prob w asdataframecbindw_ w_ asnumericrbinomn_ob plogisrowsumsw z rbinomn_ob plogisrowmeanslog w m_ rbinomn_ob plogisrowsumslog w z m_ rbinomn_ob plogisrowsumsw z asdataframecbindm_ m_ rbinomn_ob plogi rowsumsw z rowsumsm onestep estim intervent direct effect os_d medoutcon w w z z effect direct estim onestep tml estim intervent direct effect note improv varianc estim debias target procedur tmle_d medoutcon w w z z effect direct estim tmle gener roxygen edit hand pleas edit document rutilsr namesummarymedoutcon aliassummarymedoutcon titlesummari intervent mediat effect estim object usag methodsummarymedoutconobject ci_level argument itemobjectan object class codemedoutcon produc invok codelinkmedoutcon itemoth argument current use itemci_levela codenumer indic level confid interv comput descript print conveni summari object code class codemedoutcon gener roxygen edit hand pleas edit document rutilsr namescale_from_unit aliasscale_from_unit titlescal valu unit interv origin scale usag scale_from_unitscaled_v max_orig min_orig argument itemscaled_valsa codenumer vector valu scale lie close interv use codelinkscale_to_unit itemmax_origth maximum valu origin scale itemmin_origth minimum valu origin scale descript scale valu unit interv origin scale keywordintern gener roxygen edit hand pleas edit document rutilsr namebound_propens aliasbound_propens titlebound propens score usag bound_propensityv bound c argument itemvalsa codenumer vector valu interv itemboundsa codenumer vector contain two valu first minimum allow valu second maximum allow valu appear vector codev previou argument descript bound estim propens score valu within specifi rang keywordintern gener roxygen edit hand pleas edit document rfit_mechanismsr namefit_nuisance_u aliasfit_nuisance_u titlefit pseudooutcom regress condit mediatoroutcom confound usag fit_nuisance_u train_data valid_data learner b_out q_out r_out g_out h_out w_name argument itemtrain_dataa codedatat contain observ data column order specifi npsem z w column name set appropri base origin input data structur mere conveni util pass data around variou core estim routin automat gener codelinkmedoutcon itemvalid_dataa holdout data set column exactli match appear preced argument codedata use estim via crossfit option nuisanc paramet itemlearnerscodelinkslstack learner class inherit codelinksllrnr_bas contain set learner pkgsl use fit model nuisanc paramet itemb_outoutput intern function fit outcom regress codelinkfit_out_mech itemq_outoutput intern function fit mechan intermedi confound condit mediat ie codelinkfit_moc_mech set codetyp q itemr_outoutput intern function fit mechan intermedi confound without condit mediat ie codelinkfit_moc_mech set codetyp r itemg_outoutput intern function fit treatment mechan without condit mediat codelinkfit_treat_mech itemh_outoutput intern function fit treatment mechan condit mediat codelinkfit_treat_mech itemw_namesa codecharact vector name column correspond baselin covari w input argument automat gener codelinkmedoutcon descript fit pseudooutcom regress condit mediatoroutcom confound gener roxygen edit hand pleas edit document rfit_mechanismsr namefit_out_mech aliasfit_out_mech titlefit outcom regress usag fit_out_mech train_data valid_data null contrast learner m_name w_name argument itemtrain_dataa codedatat contain observ data column order specifi npsem z w column name set base origin input data structur mere conveni util pass data around variou core estim routin automat gener codelinkmedoutcon itemvalid_dataa holdout data set column exactli match appear preced argument codedata use estim via crossfit option default codenul itemcontrasta codenumer doubl indic two valu intervent codea compar default codec assum binari intervent node codea itemlearnerscodelinkslstack learner class inherit codelinksllrnr_bas contain set learner pkgsl use fit outcom regress ie bazmw itemm_namesa codecharact vector name column correspond mediat input argument automat gener codelinkmedoutcon itemw_namesa codecharact vector name column correspond baselin covari w input argument automat gener codelinkmedoutcon descript fit outcom regress gener roxygen edit hand pleas edit document rutilsr nameconfintmedoutcon aliasconfintmedoutcon titleconfid interv intervent mediat effect estim usag methodconfintmedoutconobject parm seq_lenobjecttheta level argument itemobjectan object class codemedoutcon produc invok codelinkmedoutcon confid interv comput itemparma codenumer vector indic indic codeobjectest return confid interv itemlevela codenumer indic level confid interv comput itemoth argument current use descript comput confid interv object class codemedoutcon contain estim produc codelinkmedoutcon