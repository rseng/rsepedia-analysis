user support nikkipelotdukeedu fund nih sparc ot od img srcconfigsystemimagessparclogowhite_bwoutlinesvg altdraw widthhttpsreporternihgovprojectdetailsdescript cite paper doi releas repositori use work encourag clone recent commit repositori cite paper musselman ed cariello je grill wm pelot na ascent autom simul character electr nerv threshold pipelin samplespecif comput model electr stimul peripher nerv plo comput biol internet avail httpsdoiorgjournalpcbi cite code use doi version code use doihttpszenodoorgbadgesvghttpszenodoorgbadgelatestdoi musselman ed cariello je grill wm pelot na ascent autom simul character electr nerv threshold pipelin samplespecif comput model electr stimul peripher nerv plo comput biol internet doi zenodo ascent open sourc platform simul peripher nerv stimul inform see ascent document httpswmglabdukeascentreadthedocsioenlatesthttpswmglabdukeascentreadthedocsioenlatest copyright softwar own duke univers two licens softwar offer opensourc licens mit licens noncommerci use custom licens duke univers commerci use use without mit licens restrict recipi softwar may choos licens receiv code outsid contribut duke own code base accept unless contributor transfer copyright chang duke univers enter custom licens agreement without mit licens restrict pleas contact digit innov depart duke offic translat commerci httpsolvdukeedusoftwar olvquestionsdukeedu refer otc file email pleas note softwar distribut without warranti without impli warranti merchant fit particular purpos mit licens noncommerci use copyright c duke univers permiss herebi grant free charg person obtain copi softwar associ document file softwar deal softwar without restrict includ without limit right use copi modifi merg publish distribut sublicens andor sell copi softwar permit person softwar furnish subject follow condit copyright notic permiss notic shall includ copi substanti portion softwar softwar provid without warranti kind express impli includ limit warranti merchant fit particular purpos noninfring event shall author copyright holder liabl claim damag liabil whether action contract tort otherwis aris connect softwar use deal softwar ascent data hierarchi execut ascent pipelin requir run javascript object notat json configur file run_indexjson contain indic userdefin set json file specif json file defin hierarch domain inform sampl process segment twodimension transvers crosssect geometri nerv sampl model comsol paramet defin solv threedimension fem includ geometri nerv cuff medium spatial discret ie mesh materi boundari condit physic sim neuron paramet defin fiber model stimul waveform amplitud durat intracellular test puls exampl seek determin block threshold paramet binari search protocol termin criteria threshold flag save state variabl configur organ hierarch sampl depend model sim model depend sim thu chang sim requir chang model sampl chang model requir chang sampl figur inlin imageuploadseacbfbdacdfaccpicturejpg figur ascent pipelin file structur context sampl blue model green sim purpl configur textsjsonconfigurationfil describ json configur file content textsjsonfileparameterguid detail syntax data type keyvalu paramet pair batch sweep paramet ascent enabl user batch rapidli simul sweep cuff electrod placement nerv materi properti stimul paramet fiber type first process ascent prepar readytosubmit neuron simul model respons fiber extracellular stimul second process ascent use python batch neuron job person comput comput cluster simul fiber respons extracellular stimul task submit cpu simul respons singl fiber either set finit amplitud binari search threshold activ block therefor creat embarrassingli parallel workload group fiber sampl model sim waveform contact weight ie src_weight sim fiberset ie group fiber geometri channel occupi differ xyloc nerv cross section organ n_sim directori run creat simul singl sampl pair list model sim user pass list run configur singl system call python run pipelin run_indic simul multipl sampl configur system call sampl model take list paramet rather user would like assess impact rang paramet sampl model must creat addit sampl model configur file paramet valu sim contain list paramet active_src ie cuff electrod contact weight fiber waveform supersampled_bas implement neuron fiber model myelin fiber model createaxon_myelhoc file load wrapperhoc user choos either mrg_discret mrg_interpol length section neuron vari depend diamet fibergeometri mode chosen sim mrg discret diamet previous publish fibergeometri mode mrg_discret sim instruct program simul doubl cabl structur mammalian myelin fiber pipelin refer model mrg_discret sinc model geometr paramet origin publish discret list fiber diamet μm sinc mrg fiber model distinct geometr dimens fiber diamet paramet store configsystemfiber_zjson list mrg_discret json object valu index correspond index discret diamet diamet paramet use fiberset class creat fiberset ie coordin probe potenti comsol mrg fiber mrg interpol diamet fibergeometri mode mrg_interpol sim instruct program simul doubl cabl structur mammalian myelin fiber diamet fiber µm throw error rang use interpol origin publish fiber geometri pipelin refer model mrg_interpol sinc enabl user simul fiber diamet origin publish diamet paramet mrg_interpol json object configsystemfiber_zjson use fiberset class creat fiberset ie coordin sampl potenti comsol interpol mrg fiber sinc paramet valu relat fiber diamet continu variabl express dimens chang fiber diamet shown figur store string comput use python builtin eval function inlin imageuploadsbaecdeffbabdpicturejpg figur piecewis polynomi fit publish mrg fiber paramet singl quadrat fit use paramet except internod length linear fit µm use mrg data µm singl quadrat fit diamet greater equal µm use mrg data µm µm fiber diamet linear quadrat fit intersect fiber diamet diamet myelin paranod mysa section paranod flut section internod stin section axon diamet node ranvier mysa node diamet well flut stin axon diamet node mysa length fix μm respect fiber diamet compar fiber activ threshold origin publish mrg fiber model interpol mrg ultrastructur evalu origin diamet singl locat rat cervic vagu nerv stimul bipolar purdu cuff fiber place centroid bestfit ellips monofascicular nerv sampl waveform singl biphas puls use biphasic_pulse_train_q_balanced_uneven_pw µs first phase µs interphas µs second phase cathodicanod one contact anodiccathod contact threshold origin publish model interpol mrg fiber diamet compar figur b threshold valu determin use binari search upper lower bound stimul amplitud within inlin imageuploadsfdcebeeaaeaaccbcpicturejpg figur b comparison threshold origin publish model interpol mrg fiber diamet evalu origin diamet threshold expect vari origin publish model interpol fiber geometri given slightli differ ultrastructur paramet figur use origin mrg threshold refer unmyelin fiber model pipelin includ sever unmyelin ie cfiber model user awar delta_z paramet use configsystemfiber_zjson control spatial discret fiber ie length section refer mcintyr cc grill wm sherman dl thakor n v cellular effect deep brain stimul modelbas analysi activ inhibit j neurophysiol apr avail httpsdoiorgjnhttpsdoiorgjn mcintyr cc richardson ag grill wm model excit mammalian nerv fiber influenc afterpotenti recoveri cycl j neurophysiol feb avail httpsdoiorgjnhttpsdoiorgjn sundt gamper n jaff db spike propag dorsal root ganglia unmyelin sensori neuron model studi j neurophysiol dec avail httpsdoiorgjnhttpsdoiorgjn tigerholm j petersson obreja lampert carr r schmelz et al model activitydepend chang axon spike conduct primari affer cnociceptor j neurophysiol may avail httpsdoiorgjnhttpsdoiorgjn rattay f aberham model axon membran function electr stimul ieee tran biom eng dec avail httpsdoiorghttpsdoiorg librari part primit electrod contact cuff inlin imageuploadsccdcebdbedeaccpicturejpg figur librari part electrod contact top two panel circl materi rectangl materi indic contact dimens refer length materi rather dimens contact bent wrap around circular inner diamet cuff dimens _thk refer contact thick dimens _recess refer thick domain creat contact recess cuff inlin imageuploadsaadeabfapicturejpg figur b librari part cuff paramet ut_shift_x ut_shift_i chang insul materi center around inner diamet cuff shown orang annot creat custom preset cuff instanc part primit oper cuff ad comsol model object contain java part class srcmodelpartjava complet cuff design defin json file eg purduejson store configsystemcuff call preset cuff contain parameter materi assign part primit togeth repres entir cuff electrod includ contact recess fill ie salin miner oil encapsul tissu content preset json file direct part class part primit add well size shape placement materi function ie cuff insul contact conductor contact recess cuff fill fig ahttpsdoiorgjournalpcbig show exampl preset cuff construct librari comsol part primit includ pipelin repositori configsystemcuff user modifi exist preset cuff file rather user use preset cuff guid construct custom cuff requir uniqu file name cuff defin preset configsystemcuff json file user may choos place cuff nerv comsol use preset paramet model textsjsonfileparameterguid provid comsol file examplespartssandboxmph contain librari geometri part ie part primit user assembl cuff comsol gui see textscreatingnewpartprimit instruct add new part primit part primit defin geometri part node comsol gui compon user may secondaryclick geometri node part select part primit importantli order instanti part geometri node matter proper materi assign user must consid new part occupi volum within previous instanti part comsol overrid previou materi assign share volum latter creat part materi assign exampl user model cuff contain embed contact electrod ie contact surfac flush insul inner surfac entir cuff bath salin ie surgic pocket user would add part primit salin cuff fill sinc outermost domain add cuff insul would overrid volum within salin add contact conductor would overrid cuff insul domain within contact conductor order instanti part primit comsol mirror order part list preset json file part requir instanti input paramet set tab default valu found express dialogu box overridden popul use paramet valu defin geometri part preset implement express dialogu box must contain paramet valu alreadi defin paramet group global definit node ie paramet name either constant unit eg um mathemat relationship paramet eg paramet paramet paramet valu paramet group global definit node popul list param preset cuff json file explain detail user succeed assembl cuff comsol gui parameter instanti part examplespartssandboxmph readi creat new preset cuff json file configsystemcuff see exist file directori exampl requir element preset cuff json file shown skeleton structur code string instanc type string label doubl def paramet string key name expect paramet comsol paramet specif part primit type materi info string label_index integ materi part instanc param name string eg parameter_code_valu pitch_pitt express string descript string paramet expand boolean fixed_point string angle_to_contacts_deg doubl offset paramet doubl paramet must defin param list valu weight paramet valu eg radiu wire contact need get contribut radial distanc nerv cuff paramet inform much extra space need cuff code valu string uniqu identifi paramet need defin cuff paramet param object need end charact code preced _ eg code pitt pitch paramet separ contact would pitch_pitt instanc valu list json object one part instanc need repres cuff within part instanc json object user must defin type valu string defin known primit instanti match switchcas partcreatecuffpartprimit partcreatecuffpartinst java srcmodelpartjava behind scene label valu string defin label show comsol file annot instanc part primit construct comsol fem def valu object contain paramet requir instanti chosen part primit keyvalu pair match valu enter comsol gui part ie set input paramet panel examplespartssandboxmph keyvalu pair json object vari depend part primit defin type paramet key valu string contain mathemat express paramet comsol evalu materi list json object materi assign part instanc usual one materi contact recess domain one materi conductor one materi recess domain part instanc creat two separ domain independ select info valu string function domain fem ie medium cuff fill cuff insul contact conductor contact recess use assign materi properti select domain valu match key conduct json object model label_index valu integ correspond index select domain imlabel defin independ primit case partcreatecuffpartprimit see code srcmodelpartjava assign materi function note imlabel index start param valu list json object one paramet use defin parameter part primit comsol global definit structur json object consist format dialogu box paramet group ie name express descript paramet popul comsol gui name valu string name paramet express valu string expressionconst unit comsol evalu therefor valu constant unit wrap requir eg um valu express relat paramet alreadi dimens unit known mathemat express eg multipli divid add subtract expon trigonometr formula sin co tan asin aco atan add unit express descript valu string empti ie may contain descript paramet refer sourc eg publish patentschemat note futur self expand valu boolean tell system whether expect implement cuff comsol abl expand beyond manufactur rest cuff diamet fit around nerv cuff expand must construct part primit parameter expand function r_in see configsystemcuffspurduejson exampl expand cuff expand cuff parameter contact length remain constant fixed_point valu string defin point cuff remain fix expand note behavior option chang noth regard cuff gener paramet descript indic cuff parameter base part primit paramet inform cuff shift algorithm account cuff expans current two option implement center case center contact alway remain angl expand clockwise_end case clockwis end either cuff contact work correctli remain fix note option assum fix point clockwis end theta angle_to_contacts_deg valu doubl unit degre defin angl contact point nerv insid cuff cuff measur counterclockwis xaxi rotationdeform cuff offset json object contain key name paramet defin list param preset cuff file inner diamet cuff must expand allow addit distanc nerv r_in inner surfac cuff insul user add keyvalu pair offset buffer known paramet key user set valu doubl multipl factor paramet key list keyvalu pair empti case cuff offset ad cuff valu automat use runner compute_cuff_shift method exampl usag function see configsystemcuffspurduejson replic offset sep_wire_p sep_wire_p separ wire contact inner diamet cuff r_wire_p r_wire_p radiu circular cross section wire contact ie half wire gaug json object add offset buffer nerv inner diamet cuff sep_wire_p r_wire_p java util class identifiermanag work highli custom comsol fem found conveni abstract away underli comsol index improv code readabl enabl scalabl model increas geometr complex develop class name identifiermanag allow user assign string identifi comsol geometri featur tag eg wp cyl rev dif select ie csel use identifiermanag name keep track identifi label within partprimit identifiermanag assign tag product individu oper uniqu pseudonym hashmapshttpsdocsoraclecomjavasedocsapijavautilhashmaphtml keyvalu pair addit assign result select csel meaning uniqu pseudonym later assign mesh materi boundari condit keep run total tag identifierst ie total number use individu comsol tag hashmap identifierpseudonym ie hashmap contain key pseudonym valu comsol tag eg wp identifiermanag method next take input comsol tag eg wp cyl rev dif select ie csel without index user uniqu pseudonym string method append next index start comsol tag select put comsol tag select associ pseudonym identifierpseudonym hashmap method also updat identifierst hashmap total addit instanc comsol tag select later refer comsol tag select identifiermanag get method take input previous assign pseudonym key return comsol tag select valu identifierpseudonym hashmap accommod mesh recycl see modelsearch save comsol model identifiermanag later access select updat model materi physic therefor develop identifiermanag method tojsonobject fromjsonobject save identifiermanag json file load identifiermanag java json object respect jsonio jsonio conveni java class use read write json object file read method take input string contain file path read return json object memori write method take input string contain file path save destin json object contain data write file modelsearch modelsearch class java use look previous creat fem mesh geometri repurpos exampl model configur differ materi properti boundari condit previou model mph file mesh ie meshmph save redund build mesh model geometri new model configur method modelsearch class save enorm amount comput time paramet sweep model mesh recycl user unlik interfac directli method oper behind scene user add new paramet valu model user must also add valu configtemplatesmesh_dependent_modeljson indic whether ad paramet valu need match fem recycl mesh explain gener chang geometri mesh paramet need match chang materi properti boundari condit sinc chang fem geometri specif class compar model configur determin paramet compat repurpos geometri mesh previous gener comsol model use meshmatch method meshmatch method take input refer json ie configtemplatesmesh_dependent_modeljson see ssjsonconfigurationfil ssjsonfileparameterguid text contain condit compat json object two model configur compar paramet key correspond onetoon model mesh_dependent_modeljson howev mesh_dependent_modeljson rather numer categor valu paramet key key valu boolean indic valu two model configur must ident defin mesh match two model configur match paramet assign boolean true mesh_dependent_modeljson must ident model configur differ valu paramet assign boolean fals consid mesh match requir geometri remesh classs searchmeshmatch method program look model configur given sampl appli meshmatch method model match found searchmeshmatch return match class analog modelwrapp class use path match model frommeshpath method first run run ascent pipelin complet initi setup user provid binari mask input nerv save sampl ie samplejson model ie modeljson sim ie simjson json configur directori rel project path defin configsystemenvjson directori name must use indic consist indic sampl model sim defin run mask user popul inputnam eg rat must match sampl paramet sampl binari mask neural tissu boundari use either segment histolog textsmorphologyfil fig httpsdoiorgjournalpcbig b run mock_morphology_generatorpi script textspythonmocksampleclassforcreatingbinarymasksofnervemorpholog copi mock_samplejson configtempl configusermock_sampl mock_sample_indexjson updat file content includ name paramet use construct destin path output binari mask serv input pipelin ii call python run mock_morphology_gener mock_sample_index iii program save copi user mock_samplejson binari mask inputnam one sampl user copi samplejson configtempl samplessample_index samplejson edit content defin process binari mask gener twodimension cross section geometri nerv fem particular chang sampl match name scale_bar_length paramet stif ie length micron scale bar orient horizont mask_input sampl accordingli textsjsonfileparameterguid creat directori first sampl sampl sample_index note lieu scale bar imag user may option specifi micronspixel ratio sampl mask model user copi modeljson configtempl samplessample_indexmodelsmodel_index modeljson edit content defin three dimension fem preset user defin new preset cuff json file contain instruct creat cuff electrod save configsystemcuffspreset_strjson b preset_strjson file name must assign preset paramet model textsjsonfileparameterguid sim user copi simjson configtempl configusersim sim_indexjson edit content inform neuron simul textsjsonfileparameterguid run user copi runjson configtempl configuserrun run_indexjson edit indic creat sampl model sim configur textsjsonfileparameterguid pipelin run project path ie path root ascent pipelin defin configsystemenvjson command python run pipelin run indic run indic list spacesepar run indic multipl sampl indic one run pipelin output readytosubmit neuron simul associ run file ascent_nsim_export_path directori defin configsystemenvjson textsjsonfileparameterguid neuron simul run local submit comput cluster command python submitpi run indic export directori task given beta tester sent pipelin code manuscript follow task beta tester within lab duke extern follow task verifi threshold valu suitabl way familiar ascent code document provid segment histolog rat cervic vagu nerv examplesbeta_task pleas simul activ threshold respons charg balanc biphas puls pw μs interphas gap μs pw μs use purdu bipolar cuff design mrg μm diamet fiber fiber place nerv cross section use spoke wheel fiber per spoke custom materi surround medium isotrop conduct sm threshold comput build heatmap threshold fiber locat use exampl script examplesanalysisheatmap_monofascpi exercis place name binari mask nerv morpholog proper directori binari mask provid defin assign custom materi build solv finit element model defin placement fiber nerv cross section parameter custom stimul waveform simul activ threshold specif fiber model submit neuron simul local comput cluster view analyz data plot sampl colorcod fiber xycoordin heatmap fiber threshold follow exercis ask pleas attempt accomplish prescrib model task paper associ supplement document primari refer check threshold inner_fib thresh_inner_fiberdat provid sampl model sim json file solut examplesbeta_task make geometri comsol part class partcreateenvironmentpartprimit createenvironmentpartprimit method java srcmodelpartjava creat part within geometri part node comsol model object gener cylindr medium surround nerv electrod programmat select domain surfac comsol requir geometri oper contribut select csel simpl exampl part primit imlabel string contain string medium use label comsol select csel medium domain associ identifiermanag textsjavautilityclass geometri primit built result medium domain csel access instead key medium identifiermanag therebi improv readabl access materi boundari condit assign createenvironmentpartinst method furthermor oper part primit modifi index csel label automat handl partcreatecuffpartprimit createcuffpartprimit method java srcmodelpartjava analog createenvironmentpartprimit except contain oper requir defin cuff part geometri gener complex exampl cuff part primit includ standard geometri contact conductor eg ribbon contact primit wire contact primit circl contact primit rectangular contact primit cuff insul eg tube cuff cuff fill eg salin miner oil specif interact cuff insul electrod contact eg livanovainspir helic coil textslibraryofpartprimitivesforelectrodecontactsandcuff part instanc part instanc comsol geometri featur pi geometri node base userdefin input paramet store model default paramet preset cuff part instanc instanti part primit previous defin comsol model object take specif form base input paramet partcreateenvironmentpartinst createenvironmentpartinst method java creat part instanc comsol geometri node base primit previous defin createenvironmentpartprimit method appli build surround medium method take input data type exampl parenthes instanceid string pi instancelabel string medium mediumprimitivestr string key medium part store identifiermanag instanc modelwrapp model json object within medium json object model paramet requir instanti environ part primit defin partcreatecuffpartinst createcuffpartinst method java analog createenvironmentpartinst use instanti cuff part geometri decid separ method sinc product createcuffpartinst displac rotat cuff shift xyz rotat valu cuff placement nerv section provid overview cuff place nerv compute_cuff_shift method within runner srcrunnerpi determin cuff rotat around nerv translat xyplan pipelin import coordin trace nerv tissu boundari save samplessample_indexslidessectionwis convent shift centroid nerv origin ie nerv centroid bestfit ellips nerv trace ntif provid inner outer bestfit ellips centroid monofascicular nerv without nerv trace importantli nerv sampl cross section never move rotat around origin comsol maintain consist nerv locat across model sampl coordin fiberset correct orient cuff nerv ascent differ cuffshiftmod ie cuff_shift paramet model control translat cuff ie shift json object model default rotat around nerv ie pos_ang model runner compute_cuff_shift method easili expand user add cuffshiftmod control cuff placement nerv rotat translat cuff popul automat compute_cuff_shift method base sampl morpholog parameter preset cuff cuffshiftmod defin cuff json object shift rotat model naïv cuffshiftmod ie naive_rotation_min_circle_boundari naive_rotation_trace_boundari cuff place nerv rotat accord paramet use instanti cuff part primit sslibraryofpartprimitivesforelectrodecontactsandcuff sscreatingcustompresetcuffsfrominstancesofpartprimit sscreatingnewpartprimit text user would like rotat cuff beyond posit may set add_ang paramet model textsjsonfileparameterguid naïv cuffshiftmod cuff shift along vector direct angle_to_contacts_deg paramet preset json file naive_rotation_min_circle_boundari cuffshiftmod move cuff toward nerv nerv minimum radiu enclos circl within distanc thk_medium_gap_intern paramet cuff naive_rotation_trace_boundari cuffshiftmod move cuff toward nerv nerv outermost trace ie monofascicular nerv inner outer result naive_rotation_min_circle_boundari nerv epineurium within distanc thk_medium_gap_intern paramet cuff note orient mask atif ignor use mode automat cuffshiftmod ie auto_rotation_min_circle_boundari auto_rotation_trace_boundari cuff rotat around nerv base size posit nerv fascicl cuff move toward nerv sampl figur point intersect vector direct angle_to_contacts_deg paramet preset json file cuff ie cuff center follow text rotat meet specif locat nervemonofascicl surfac specif center cuff rotat around nerv make center cuff sampl fascicle_centroid comput slide fascicle_centroid method calcul area centroid inner averag inner centroid weight inner area colinear user would like rotat cuff beyond posit may set add_ang paramet model textsjsonfileparameterguid user may overrid default auto rotat cuff nerv ad orient mask atif align certain surfac nerv sampl cuff center textsmorphologyfil behavior depend cuff fixed_point paramet textscreatingcustompresetcuffsfrominstancesofpartprimit auto_rotation_min_circle_boundari cuffshiftmod move cuff toward nerv nerv minimum radiu enclos circl within distanc thk_medium_gap_intern paramet cuff auto_rotation_trace_boundari cuffshiftmod move cuff toward nerv nerv outermost trace ie monofascicular nerv inner outer result auto_rotation_min_circle_boundari nerv epineurium within distanc thk_medium_gap_intern paramet cuff inlin imageuploadsafdbdfafffpicturejpg figur demonstr cuff placement multifascicular nerv top monofascicular nerv without epineurium bottom preset cuff purduejson three differ cuff rotat use auto_rotation_trace_boundari cuffshiftmod cuff rotat differ top bottom row sinc point surfac nerv sampl closest endoneurium uniqu sampl black arrow addit angl rotat appli cuff directli use add_ang paramet model cuff json object red arrow default zposit part along nerv defin preset cuff json file express assign part instanc center paramet referenc z one end model proxim cylindr domain howev user would like move entir preset cuff along length nerv cuff json object within model user may chang z paramet sinc cuff open respons nerv diamet larger manufactur cuff inner diamet mayb parameter function r_in case preset cuff json expand boolean paramet true cuff expand minimum enclos diamet sampl larger cuff program modifi angl center cuff preserv length materi cuff expand sum minimum enclos circl radiu sampl thk_medium_gap_intern larger inner radiu cuff error thrown cuff accommod sampl morpholog inner radiu cuff defin within list param preset cuff configur file r_in json object call offset contain parameter definit addit buffer requir within inner radiu cuff eg expos wire contact purduejson cuff preset key offset json object must match paramet valu defin param list cuff configur file key offset valu multipl coeffici paramet key includ sum keyvalu product exampl purduejson offset sep_wire_p separ outer boundari wire contact intern surfac insul r_wire_p radiu wire contact gaug json object purduejson instruct system maintain ad separ intern surfac cuff nerv div element align attribut align div aligncent isep_wire_pi ir_wire_pi div simul protocol fiber respons electr stimul comput appli electr potenti along length fiber comsol timevari signal neuron stimul waveform save n_sim datainput directori waveformdat unscal ie maximum current magnitud timestep scale current amplitud runsimhoc either simul fiber threshold activ block binari search algorithm respons set amplitud binari search search activ threshold ie minimum stimul amplitud requir gener propag action potenti block threshold ie minimum stimul amplitud requir block propag action potenti pipelin neuron code use binari search algorithm basic binari search algorithm follow start one valu threshold ie upper bound one valu threshold ie lower bound program test midpoint amplitud determin threshold midpoint amplitud found threshold midpoint amplitud becom new lower bound howev midpoint amplitud found threshold midpoint amplitud becom new upper bound iter process half remain amplitud rang remov process continu termin criteria satisfi eg threshold resolut toler achiev averag perform binari search algorithm οlogn n number element search array ie linearli space rang amplitud pipelin binari search protocol paramet ie activ block criteria threshold criteria method search start upper lower bound termin criteria contain protocol json object within sim textsjsonfileparameterguid activ threshold protocol pipelin neuron simul protocol determin threshold activ nerv fiber respons extracellular stimul threshold amplitud fiber activ defin minimum stimul amplitud requir initi propag action potenti pipelin use binari search algorithm converg threshold amplitud current amplitud determin threshold stimul result least n_ap propag action potenti detect fiber length note locat specifi user ap_detect_loc paramet sim textsjsonfileparameterguid paramet control activ threshold protocol found sim within protocol json object textsjsonfileparameterguid block threshold protocol pipelin neuron simul protocol determin block threshold nerv fiber respons extracellular stimul threshold amplitud fiber block defin minimum stimul amplitud requir block propag action potenti simul protocol determin block threshold start deliv block waveform cuff userdefin delay stimul onset period protocol deliv test puls train puls user choos user place see ind paramet sim within intracellular_stim json object textsjsonfileparameterguid near proxim end code check action potenti near distal end fiber see ap_detect_loc paramet sim within threshold json object textsjsonfileparameterguid least one action potenti detect transmiss test puls occur ie stimul amplitud block threshold howev absenc action potenti indic block ie stimul amplitud block threshold pipelin use binari search algorithm converg threshold amplitud paramet control block threshold protocol found sim within protocol json object textsjsonfileparameterguid user must care set initi upper lower bound binari search block threshold especi small diamet myelin fiber user must awar check reexcit use stimul amplitud sweep respons set amplitud altern user may simul respons nerv fiber respons extracellular stimul userspecifi set amplitud protocol json object within sim contain set amplitud user would like simul textsjsonfileparameterguid refer pelot na behrend ce grill wm model respons small myelin axon compound nerv kilohertz frequenc signal j neural eng aug avail httpsdoiorgaaafhttpsdoiorgaaaf defin assign materi comsol materi defin comsol materi node materi function indic preset cuff configur file ie cuff insul contact conductor contact recess cuff fill nerv domain ie endoneurium perineurium epineurium materi properti function assign model conduct json object either referenc materi default materi librari configsystemmaterialsjson name explicit definit materi name conduct json object textsjsonfileparameterguid modelwrapperaddmaterialdefinit user unlik interfac directli addmaterialdefinit method java oper behind scene method take input list string contain materi function ie endoneurium perineurium epineurium cuff fill cuff insul contact conductor contact recess model comsol modelparamgroup contain materi properti comsol paramet group comsol global definit method loop materi function creat new materi yet exist mat use part definemateri method add identifi eg mat identifiermanag partdefinemateri user unlik interfac directli definemateri method java oper behind scene add new materi comsol materi node global definit method take input materi identifi comsol eg mat function eg cuff fill model librari predefin materi eg materialsjson modelwrapp instanc comsol modelparamgroup materi conduct definemateri method use materi present model conduct json object assign materi function comsol model eg insul conductor fill endoneurium perineurium epineurium medium materi valu function key model either string predefin materi materialsjson json object contain unit label valu custom materi assign materi conduct materi function manner enabl control user refer predefin materi explicitli link custom materi comsol model either case predefin materi materialsjson custom materi model materi anisotrop materi valu assign string anisotrop tell program look independ sigma_x sigma_i sigma_z valu materi json object modelwrapperaddcuffpartmaterialassign user unlik interfac directli addcuffpartmaterialassign method java oper behind scene method load cuff part primit label identifiermanag method loop list materi json object preset cuff configur file materi function preset cuff configur file method creat comsol materi link assign previous defin select cuff part instanc defin materi modelwrapperaddcuffpartmaterialassign user unlik interfac directli addcuffmaterialassign method java oper behind scene method loop part instanc cuff configur file link model string file name preset key call addcuffmaterialassign method part instanc describ addcuffpartmaterialassign materi connect select within part primit label comsol materi link appear materi node comsol assign materi link order part instanc defin preset cuff configur file import sinc materi link overwrit previou domain assign reason import list part instanc preset cuff file nest order ie outermost domain first know domain nest space within overwrit earlier domain assign ad assign default materi properti default materi properti defin configsystemmaterialsjson list tabl accommod autom frequencydepend materi properti singl frequenc ie sinusoid paramet materi conduct depend stimul frequenc calcul runner compute_electrical_paramet method save model handoff method call pipelin support calcul frequencydepend conduct perineurium base measur frog sciatic nerv use rho_weerasuriya method python waveform class see fig httpsdoiorgjournalpcbig identif tissu type compound nerv cross section ie epineurium perineurium endoneurium tabl default materi conduct materi conduct refer silicon sm platinum sm endoneurium sm epineurium sm muscl sm fat sm encapsul sm salin sm perineurium sm refer weerasuriya spangler ra rapoport si taylor ac imped perineurium frog sciatic nerv biophi j aug httpsdxdoiorgfshttpsdxdoiorgf callist wd rethwisch dg fundament materi scienc engin integr approach fundament materi scienc engin integr approach de podesta laboratori np uk understand properti matter understand properti matter ranck jb bement sl specif imped dorsal column cat anisotrop medium exp neurol internet apr cite apr avail httpsdoiorghttpsdoiorg pelot na behrend ce grill wm paramet use finit element model compound peripher nerv j neural eng internet avail httpdxdoiorgaaebchttpdxdoiorgaaebc stolinski c structur composit outer connect tissu sheath peripher nerv j anat internet feb pt pt avail httpspubmedncbinlmnihgovhttpspubmedncbinlmnihgov grill wm mortim tj electr properti implant encapsul tissu ann biom eng internet avail httpsdoiorgbfhttpsdoiorgbf pelot na behrend ce grill wm model respons small myelin axon compound nerv kilohertz frequenc signal j neural eng aug avail httpsdoiorgaaafhttpsdoiorgaaaf gielen flh wallingad jong w boon kl electr conduct skelet muscl tissu experiment result differ musclesin vivo med biol eng comput internet avail httpsdoiorgbfhttpsdoiorgbf gedd la baker le specif resist biolog materiala compendium data biomed engin physiologist med biol eng internet avail httpsdoiorgbfhttpsdoiorgbf horch k neuroprosthet theori practic second edit neuroprosthet theori practic second edit p instal instal commerci softwar highli recommend use distribut anacondaminiconda ascent howev advanc user wish use anoth python distribut may first softwar packag must manual instal minicondahttpsdocscondaioenlatestminicondahtmlanacondahttpswwwanacondacomproductsindividu recommend instal miniconda miniconda strip version anaconda anaconda option intermedi user alread exist instal need reinstal recommend select add path recommend select instal individu user httpsdocscondaioenlatestminicondahtml httpswwwanacondacomproductsindividu java se develop kit httpswwworaclecomjavatechnologiesjavasejavasejdkdownloadshtml need regist free account httpswwworaclecomjavatechnologiesjavasejavasejdkdownloadshtmlhttpswwworaclecomjavatechnologiesjavasejavasejdkdownloadshtml comsol httpswwwcomsolcomproductdownload requir purchas licens base packag need includ comsol java api comsol instal alter file system access permiss via file prefer secur method java librari file system access file httpswwwcomsolcomproductdownloadhttpswwwcomsolcomproductdownload neuron httpsneuronyaleeduftpneuronversionsv newer version releas compat yet confirm choos appropri instal depend oper system instal auxiliari softwar prompt neuron instal httpsneuronyaleeduftpneuronversionsvhttpsneuronyaleeduftpneuronversionsv issu neuron instal tri run compat troubleshoot stage develop programscommand run command line environ macoslinux window oper system bash termin macoslinux powershel window user less familiar environ quickest setup suggest user instal packag manag system minicondahttpsdocscondaioenlatestminicondahtml anacondahttpswwwanacondacomproductsindividu use maco choos pkg eas use note compil neuron file submit sim requir follow packag instal path mac linux openmpi libreadlinesso use maco run local neuron simul may necessari instal xcode command line tool via xcodeselect instal well xquartzhttpswwwxquartzorgreleasesxquartzhtml user may also download text editor integr develop environ ide choos viewedit code eg atomhttpsatomio visual studio codehttpscodevisualstudiocom intellij ideahttpswwwjetbrainscomideadownload java code full autocomplet function requir ad path comsol instal end plugin well path ascent_pathbinjsonjar list avail librari usual within ide project set instal ascent pipelin first download clone sparc ascent pipelin githubhttpsgithubcomwmglabdukeasc desir locat referenc step download much simpler process clone via git easili allow get recent updatesbug fix allow suggest new featureschang interest either featur clone via git rather download download click downloadhttpsgithubcomwmglabdukeascentarchiverefsheadsmasterzip button github choos locat would like save note need extract file download compress format present choic compress format zip safe choic comput abl extract clone via git must first account github grant special permiss code repositori must use email address permiss grant alreadi done add ssh key account see instruct githubhttpsdocsgithubcomengithubauthenticatingtogithubconnectingtogithubwithssh requir standard authent method miniconda git advanc user command line environ navig locat would like clone code repositori see instruct navig file system command line mac linuxhttpswwwredhatcomsysadminnavigatinglinuxfilesystem windowshttpsblogsumassedutechbytesfilenavigationwithwindowscommandprompt clone repositori see instruct githubhttpsdocsgithubcomenrepositoriescreatingandmanagingrepositoriescloningarepositori inform use git check offici documentationhttpsgitscmcomdoc next instal ascent depend window open miniconda powershel prompt window start menu administr use cd navig root directori pipelin run python run instal macoslinux open termin window use cd navig root directori pipelin run python run instal advanc user use nonconda python distribut ascent root directori execut python run instal noconda ascent root directori execut pip instal r requirementstxt method highli discourag newer version packagespython could potenti break ascent introduc unexpect bug confirm correct directori script instal requir python packag pillow numpi shape matplotlib pyclipp pygam quantiphi opencv pymunk scipi panda openpyxl crucial packag instal success check success instal packag instal script also creat shortcut newli configur ascent conda environ project path use run pipelin configur environ variabl step may complet sever way describ recommend setup open anaconda prompt navig ascent root directori execut python run env_setup prompt follow path ascent_comsol_path path comsol instal end directori name multiphys seen templat ascent_jdk_path path jdk instal end bin seen templat hint correct path directori contain mani execut window javaex etc macoslinux java etc ascent_project_path path root directori pipelin chosen step ascent_nsim_export_path path export locat neuron simul directori path depend user desir file system organ manual setup copi file configtemplatesenvjson configsystemenvjson new file file hold import path softwar use pipelin see envjson edit four valu specifi use window macoslinux oper system note file separ oper system depend even instal step unixlik command environ window machin eg use git bashhttpsgitforwindowsorg cygwinhttpswwwcygwincom vm ubuntuhttpsubuntucom still need choos proper file separ window ie see exampl envjson file maco window textsjsonfileparameterguid automat setup upon initi first run prompt enter four path choos complet manual setup enter prompt follow guidelin detail exemplifi ssjsonconfigurationfil note may time updat path python run env_setup rewrit file inform chang first time run pipelin must open comsol server log usernam password choos arbitrari need thereaft done navig bin directori comsol instal run comsolmphserv window comsol server macoslinux refer clark pillow modern fork pil pillow v pil fork internet cite apr avail httpspillowreadthedocsioenhttpspillowreadthedocsioen oliph te guid numpi internet trelgol publish avail httpsbooksgooglecombooksidfkulsgaacaajhttpsbooksgooglecombooksidfkulsgaacaaj gilli shape pypi internet cite apr avail httpspypiorgprojectshapelyhttpspypiorgprojectshap hunter jd matplotlib graphic environ comput sci eng may johnson chalton treyer l ratajc g pyclipp pypi internet cite apr avail httpspypiorgprojectpyclipperhttpspypiorgprojectpyclipp shinner p pygam intro pygam vdev document internet cite apr avail httpswwwpygameorgdocstutpygameintrohtmlhttpswwwpygameorgdocstutpygameintrohtml kundert k quantiphi physic quantiti quantiphi document internet cite apr avail httpsquantiphyreadthedocsioenstablehttpsquantiphyreadthedocsioenst bradski g daebler learn opencv comput vision opencv librari jan blomqvist v pymunk pypi internet cite apr avail httpspypiorgprojectpymunkhttpspypiorgprojectpymunk virtanen p gommer r oliph te haberland reddi cournapeau et al scipi fundament algorithm scientif comput python nat method internet avail httpsdoiorgshttpsdoiorg panda develop team pandasdevpanda panda internet zenodo avail httpsdoiorgzenodohttpsdoiorgzenodo gazoni e clark c openpyxl python librari readwrit excel xlsxxlsm file internet avail httpsopenpyxlreadthedocsioenstablehttpsopenpyxlreadthedocsioenst json configur file store paramet json configur file json format access readabl welldocu metadata interchang configur file inform pipelin oper provid traceabl histori paramet use gener data json file provid brief overview statement file must place directori structur descript content detail descript json file ie paramet requir option known valu data type known valu see textsjsonfileparameterguid though json allow comment user may want add note json file eg rememb sampl model sim file use accomplish user simpli add key json file use eg note provid valu string messag user configur file runjson runjson file pass pipelinepi instruct program sampl model sim run runjson file store configuserrun directori sinc sampl model sim index indic use identifi valu runjson addit file contain break point enabl user termin pipelin intermedi process flag user control comsol file save flag select build debug_geommph file nerv cuff electrod flag recycl previou mesh appropri lastli runjson file report model indic gener success comsol indic user submit neuron job slurm cluster local samplejson exampl sampl configur file store configtempl user refer defin input nerv morpholog histolog mock nerv morpholog gener ssjsonfileparameterguid sspythonmocksampleclassforcreatingbinarymasksofnervemorpholog text user samplejson file save samplessample_index directori file contain inform sampl properti process nerv morpholog place nerv cuff electrod pipelin process inform sampl output python object sampleobj inform sampl must parallel sampl morpholog binari imag save user machin sampl name path sampl user must defin mask_input paramet sampl indic set input mask use sampl also contain paramet determin morpholog process repres fem shrinkag correct shrinkag requir minimum fascicl separ boundary_separ presenc epineurium nerv perineurium thick ci_perineurium_thick deform method deform reshap nerv profil reshape_nerv paramet specifi cad geometri input file format nerv morpholog write sampl also contain inform mask scale ie scale_bar_length suppli binari imag scale bar scale bar imag scale_ratio valu ci_perineurium_thick sampl refer json object configsystemci_peri_thicknessjson contain coeffici linear relationship inner diamet perineurium thick ie thksubperiinnersub adiametersubinnersub b ci_peri_thicknessjson provid perineuriumthicknessmod name grinberg_ defin perineurium thick inner diamet relationship human pig rat vagu nerv perineurium thick ie human_vn_inhouse_ pig_vn_inhouse_ rat_vn_inhouse_ addit vagu nerv morphometri data becom avail user may defin perineurium thick new model ad coeffici json file mock_samplejson mock_samplejson file store file structur configusermock_samplesmock_sample_index use defin binari segment imag serv input pipelin popul json object user must defin populatemod eg explicit truncnorm uniform defin mode paramet defin process nerv morpholog defin mocksampl python class populatemod requir certain set paramet defin nerv defin place fascicl set paramet populatemod defin configtemplatesmock_sample_params_all_modesjson probabilist populatemod ie truncnorm uniform popul ellipt nerv ellipt fascicl diamet eccentr defin statist distribut sinc nerv morpholog paramet defin probabilist seed paramet requir random number gener enabl reproduc fascicl place randomli chosen locat within nerv use disk point pick method fascicl place rotat orient randomli chosen suposup fascicl place nerv without maintain userdefin min_fascicle_separ distanc fascicl nerv anoth randomli chosen point within nerv chosen either locat preserv minimum separ achiev program exce maximum number attempt max_attempt_it explicit populatemod popul ellipt nerv ellipt fascicl userdefin size locat rotat program valid defin fascicl ellips least min_fascicle_separ distanc apart otherwis condit met program throw error modeljson exampl model configur file store configtempl user refer creat fem modeljson store file structur samplessample_indexmodelsmodel_index contain inform defin fem uniqu model defin cuff electrod geometri posit simul environ eg surround medium dimens materi properti includ temperatur frequenc factor materi conduct physic mesh paramet ie volum discret output statist eg time requir mesh mesh element qualiti measur simjson exampl sim configur file store configtempl user refer creat simul fiber respons stimul sampl fem simul configur file store configusersim directori sim defin fiber type fiber locat fem fiber length extracellular eg puls repetit frequenc intracellular stimul input paramet neuron eg paramet save output binari search algorithm bound resolut sinc user may want sweep paramet sim configur level eg fiber type fiber locat waveform pare copi sim contain singl valu paramet rather list save within correspond n_sim directori textsjsonfileparameterguid pare file provid conveni user inspect paramet use singl neuron simul hold function within pipelin query_criteriajson data analysi summari plot user need inform program output data interest query_criteriajson file store criteria user search previous process data query_criteriajson file may use guid queri classs search algorithm run method suggest query_criteriajsonlik file store configuserquery_criteria directori howev locat file arbitrari initi queri object user must manual pass path either query_criteriajsonlik file hardcod criteria python dictionari instanc queri class contain criteria empti _result popul queri run method found indic sampl model sim match criteria given queri run method loop provid indic ie sampl model sim queri criteria call _match possibl match found note presenc underscor _match method name indic intern use call extern file _match method compar two input query_criteriajson either sampl ie samplejson model ie modeljson sim simjson two json file load memori python dictionari method return boolean indic input configur file satisfi restrict paramet valu defin query_criteriajson user may explicitli specifi indic sampl model sim configur file interest simultan restrict criteria specif paramet valu indic ad return addit match found search criteria sampl model sim criteria json object query_criteriajson file contain json object sampl model sim configur file within json object paramet key ad desir valu must match queri result paramet interest found nest within json object structur list configur file hierarchi must replic query_criteriajson file query_criteriajson paramet partial_match boolean indic whether search return indic sampl model sim configur file partial match ie paramet query_criteriajson satisfi subset paramet list found json configur query_criteriajson paramet include_downstream boolean indic whether search return indic downstream samplemodelsim configur exist match criteria provid exampl criteria sampl model provid queri return indic sampl model match criteria addit indic sim downstream match includ result include_downstream true sinc user specifi criteria sim otherwis include_downstream fals sim indic return configsystem envjson envjson file store file path comsol java jdk project path ie path root ascent pipelin destin directori neuron simul run could directori user call neuron intermedi directori user move file comput cluster pipelin run keyvalu pair store environ variabl global access exceptionsjson exceptionsjson file contain list except intent thrown python portion pipelin error code index text inform messag hint reason program fail develop add new method python class inherit exception class append error onto exceptionsjson call python code file ie selfthrowexcept index help give inform feedback user materialsjson materialsjson file contain default valu materi properti assign type neural tissu electrod materi extraneur medium medium nerv inner cuff surfac materi referenc use label conduct json object model fiber_zjson fiber_zjson file defin zcoordin sampl along length fem differ fiber type simul neuron instanc section length singl fix valu instanc mrg model section length defin fiber diamet discret list section length also continu function paramet fiber diamet defin mathemat relationship form string evalu python addit file contain instruct eg flag correspond fibertyp specif oper neuron ci_perineurium_thicknessjson case fascicl exactli one inner perineurium trace outer perineurium trace reduc requir comput resourc pipelin repres perineurium use thin layer approxim comsol textsdefinitionofperineurium specif model use_ci paramet true perineurium model surfac sheet resist term contact imped comsol defin product resist thick thick calcul half differ effect circular diamet outer inner perineurium trace fascicl defin singl trace rather inner outer perineurium trace user choos list mode sampl assign perineurium thick eg fascicl diamet ci_perineurium_thick paramet sampl mesh_dependent_modeljson sinc mesh take substanti time ram fem geometri mesh paramet previou model json file allow mesh reus meshmph file save mesh_dependent_modeljson key match found model howev instead contain paramet valu key valu boolean indic true paramet valu must match two model configur recycl mesh fals differ paramet valu would prohibit mesh reus mesh_dependent_modeljson file use modelsearch java util class textsjavautilityclass refer grinberg schiefer tyler dj gustafson kj fascicular perineurium thick size posit affect model predict neural excit ieee tran neural syst rehabil eng dec avail httpsdoiorgtnsrehttpsdoiorgtnsr pelot na goldhagen gb cariello je musselman ed clissold ka ezzel ja et al quantifi morpholog cervic subdiaphragmat vagu nerv human pig rat front neurosci internet avail httpswwwfrontiersinorgarticlefninshttpswwwfrontiersinorgarticlefnin mcintyr cc richardson ag grill wm model excit mammalian nerv fiber influenc afterpotenti recoveri cycl j neurophysiol feb avail httpsdoiorgjnhttpsdoiorgjn creat new part primit though provid librari part primit assembl represent mani cuff electrod shown examplespartssandboxmph user may find necessari add part primit repres custom cuff electrod design use follow instruct guid link resourc creat new part primit comsol gui geometri part node global definit pipelin add part primitivesi geometri differ piec cuff electrod eg contact text figur aslibraryofpartprimitivesforelectrodecontactsandcuff insul text figur bslibraryofpartprimitivesforelectrodecontactsandcuff cuff fill eg encapsul tissu miner oil salin medium eg surround muscl fata part geometri part result volum domain surfac point use point current sourc ad list cumul select later use assign appropri mesh set materi properti boundari condit creat label part open examplespartssandboxmph secondaryclick geometri part choos part give part appropri label later use creat preset cuff json file flag primit java part class srcmodelpartjava defin part geometri secondaryclick new part geometri part add geometri oper requir construct cuff eg block cone cylind sphere primit work plane see oper part primit sandboxmph guid creat geometri well comsol documentationhttpscdncomsolcomdocintroductiontocomsolmultiphysicspdf particular appendix build geometri introductori video seri build geometri comsolhttpswwwcomsolcomvideointroductoryvideoseriesonhowtobuildgeometriesincomsol creat geometri care label oper improv readabl geometri oper take care label oper help commun user futur self oper must occur also help clean java code part class part step dimens locat part geometri refer input paramet paramet store paramet group global definit assign featur interest ie volumesdomain surfac point cumul select final form domain want assign materi properti need assign cumul select found final geometri oper set tab set contribut drop menu within select result entiti section first time refer cumul select need click new button type name select take care give inform label convent though requir make cumul select name capit improv code readabl compact sandboxmph file histori file compact histori remov oper may test ultim use creat part export java code go file save give meaning pathfil name chang file type model file java java add oper part primit partcreatecuffpartprimit method java srcmodelpartjava text editor choic open newli creat java file toward bottom file oper perform comsol contain block code perform commandf mac controlf window new part primit name gave gui step take first line code block interest look like modelgeompartlabelyour part name subsequ line start modelgeompart interest copi clipboard partcreateenvironmentpartprimit guid sinc far simplest contain primit realiti cylind contribut medium cumul select add line partcreatecuffpartprimit add case switchcas eg case tubecuff_primit within caseblock oper new primit ad line code copi export java file begin modelgeompartinputparamsetmy_paramet default_valu top new caseblock add follow line set input paramet establish comsol gui mpsetmy_paramet default_valu still look partcreateenvironmentpartprimit exampl creat list select imlabel line follow input paramet defin add loop loop imlabel string ad comsol select line look like imlabel new string my_cumul selection_ note index my_cumul selection_ note index string csellabel imlabel modelgeomidselectioncreateimnextcsel csellabel cumulativeselectionlabelcsellabel line follow cumul select label add geometri featur comsol part comsol also conveni export java file see textsjavautilityclass explan java identifiermanag util class creat abstract away comsol index system improv code readabl identifiermanag class enabl user access previous defin select tag inform label programmat partcreateenvironmentpartprimit partcreatecuffpartprimit also great work exampl use comsol plugin ide clean code eg creat comsol geomfeatur shorten length line end case new part primit break import add oper part primit partcreatecuffpartinst method srcmodelpartjava creat liststr contain input paramet establish comsol gui line look like string myprimitiveparamet my_paramet my_paramet input paramet add loop add input paramet part instanc line look like string param myprimitiveparamet partinstancesetentryinputexpr param string itemobjectgetparam primit addit option section select import defin select use geometri oper visibl contribut dropdown menu unless toggl select exampl clean select import shown import program import select use partinstancesetselkeepnoncontr fals select import domain whatev select index mylabel defin imlabel createcuffpartprimit exclud instead partinstancesetentryselkeepdom instanceid _ myimgetmylabel dom select import boundari whatev select index mylabel defin imlabel createcuffpartprimit exclud instead partinstancesetentryselkeepbnd instanceid _ myimgetmylabel bnd select import point whatev select index mylabel defin imlabel createcuffpartprimit exclud instead partinstancesetentryselkeeppnt instanceid _ myimgetmylabel pnt end case new part instanc break import step option recommend add new part examplespartssandboxmph simpli save sandboxmph file mph alreadi futur abil assembl cuff use new part comsol gui micro lead cuff measur collect measur imag µm microlead neuro cuff somervil figur tabl inlin imageuploadsaedddbfeeadpicturejpg figur microlead cuff measur taken µm inner diamet cuff inner diamet id displac defin center circl outer diamet od center semicircl inner diamet tabl cuff measur unit micromet µm inner diamet microlead cuff tabl classtg border stylepaddingpx thead tr th colspan classtglaxcrosssect measurementsth th colspan classtglaxlongitudin measurementsth tr thead tbodi tr td aligncenterstyleverticalalignmiddl classtglaxcufftd td aligncenterstyleverticalalignmiddl classtglax cuff measuredtd td aligncenterstyleverticalalignmiddl classtglaxodtd td aligncenterstyleverticalalignmiddl classtglaxidtd td aligncenterstyleverticalalignmiddl classtglaxid displac xtd td aligncenterstyleverticalalignmiddl classtglaxpeak xtd td aligncenterstyleverticalalignmiddl classtglaxtang xtd td aligncenterstyleverticalalignmiddl classtglaxgap ytd td aligncenterstyleverticalalignmiddl classtglaxend insulationtd td aligncenterstyleverticalalignmiddl classtglaxcontact widthtd td aligncenterstyleverticalalignmiddl classtglaxcontact spacingtd tr tr td aligncenterstyleverticalalignmiddl classtglax mumtd td aligncenterstyleverticalalignmiddl classtglax bipolartd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd tr tr td aligncenterstyleverticalalignmiddl classtglax mumtd td aligncenterstyleverticalalignmiddl classtglax bipolar tripolartd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd tr tr td aligncenterstyleverticalalignmiddl classtglax mumtd td aligncenterstyleverticalalignmiddl classtglax bipolartd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd tr tbodi tabl also collect measur imag µm microlead cuff differ cross section larger diamet cuff therefor report separ figur b tabl b inlin imageuploadsbdcbdcbaecacpicturejpg figur b microlead cuff measur taken µm inner diamet cuff inner diamet id displac defin center circl outer diamet od center semicircl inner diamet tabl b cuff measur unit micromet µm inner diamet microlead cuff tabl classtg border stylepaddingpx thead tr th colspan classtglaxcrosssect measurementsth th colspan classtglaxlongitudin measurementsth tr thead tbodi tr td aligncenterstyleverticalalignmiddl classtglaxcufftd td aligncenterstyleverticalalignmiddl classtglax cuff measuredtd td aligncenterstyleverticalalignmiddl classtglaxodtd td aligncenterstyleverticalalignmiddl classtglaxidtd td aligncenterstyleverticalalignmiddl classtglaxtrapezoid basetd td aligncenterstyleverticalalignmiddl classtglaxtang xtd td aligncenterstyleverticalalignmiddl classtglaxgap ytd td aligncenterstyleverticalalignmiddl classtglaxid displac xtd td aligncenterstyleverticalalignmiddl classtglaxend insulationtd td aligncenterstyleverticalalignmiddl classtglaxcontact widthtd td aligncenterstyleverticalalignmiddl classtglaxcontact spacingtd tr tr td aligncenterstyleverticalalignmiddl classtglax mumtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd td aligncenterstyleverticalalignmiddl classtglaxtd tr tbodi tabl preset cuff json file base microlead cuff measur recess contact µm though abl directli measur recess depth contact microlead inform us surfac electrod metal could never recess µm submit neuron job provid script user submit neuron job srcneuron suggest script end sh use linuxbas cluster context hand run local environ setup like specif machin script end py better choic submitsh act buffer submitpi set environ load appropri modul job submiss submitpi script take input run configur submit neuron call independ fiber within n_sim script call use similar syntax pipelinepi submitext run indic run indic spacesepar list integ note submiss script expect call directori structur gener simulationexport_nsim locat defin ascent_nsim_export_path envjson cluster submiss use highperform comput cluster run slurm set default paramet particularli partit found configsystemslurm_paramsjson partit set default common appli submitpi run overrid perrun basi pass command line argument partit eg python submitpi partit my_partit run indic inform see commandlin argumentscommand_line_arg option set submission_context auto configur runjson appropri hostnam prefix necessari plan submit run local cluster see textsjsonfileparameterguid creat sampl specif nerv morpholog comsol modelwrapperaddnerv addnerv method add nerv compon comsol model object use java nervemod sampl nerv present textsjsonfileparameterguid program creat part instanc epineurium use createnervepartinst method part srcmodelpartjava addnerv method search directori fascicl sampl model fascicl assign path inner outer hashmap hashmap fascicl directori pass createnervepartinst method part add fascicl comsol model object partcreatenervepartinst createnervepartinst method part srcmodelpartjava creat threedimension represent nerv sampl includ endoneurium perineurium epineurium createnervepartinst method defin domain surfac geometri contribut comsol select list indic domain surfac boundari point necessari later assign physic properti fascicl ascent use cad sectionwisehttpswwwcomsolcomfileformat file ie ascii txt extens contain column vector x ycoordin creat python sampl class defin fascicl tissu boundari comsol provid use_ci mode model textsjsonfileparameterguid model perineurium use comsol contact imped boundari condit fascicl one inner ie endoneurium domain outer ie perineurium domain textsdefinitionofperineurium use_ci mode true perineurium fascicl exactli one inner one outer repres contact imped pipelin support control use contact imped boundari condit fasciclebyfascicl basi createnervepartinst method part srcmodelpartjava perform directori dive output cad file samplessample_indexslidessectionwisedfasciclesouterinn sampl class python creat fascicl outer depend number correspond inner outer save file structur use_ci mode model program either repres perineurium comsol surfac contact imped fascicleci fascicl one inner per outer use_ci mode true threedimension mesh domain fasciclemesh fascicl multipl inner per outer use_ci paramet fals epineurium createnervepartinst method part srcmodelpartjava contain oper requir repres epineurium comsol epineurium cross section repres one two way deform_ratio sampl set deformationmod none nerv shape match reshapenervemod sampl eg circl textsjsonfileparameterguid epineurium boundari creat shape otherwis coordin data contain samplessample_indexslidessectionwisednervetxt use creat epineurium boundari epineurium boundari extrud third dimens perform nervemod ie nerv sampl present ntif provid textsjsonfileparameterguid metadata requir model vivo experi use ascent pipelin detail specif dimens stimul cuff electrod transvers cross section nerv cuff place stain visual differ tissu type eg use masson trichrom scale bar fig httpsdoiorgjournalpcbig textsmorphologyfil known scale micrometerspixel differ possibl sourc defin nerv sampl morpholog includ best specif nerv would sampl specif anim use experi model case two color tissu dye may use ventral medial aspect nerv maintain orient inform b otherwis sampl anoth anim speci could use correct nerv level c multipl sampl anim avail could use gener repres nerv model know rang morpholog metric across individu use scriptsmock_morphology_generatorpi script textspythonmocksampleclassforcreatingbinarymasksofnervemorpholog lastli publish data could use orient rotat cuff nerv eg cuff closur ventral side nerv fiber diamet distribut fiber diamet may obtain literatur otherwis detail electromicroscop studi requir b fiber diamet found target nerv simul neuron diamet subset diamet may interest c fiber diamet interest simul fiber locat interest specif fiber diamet simul specif locat approxim tissu fluid surround nerv cuff eg muscl fat salin stimul waveform puls width paramet electr signal compar neural record distanc stimul record cuff compar function record eg emg distanc stimul cuff locat nerv insert muscl enum python portion pipelin use enumshttpsdocspythonorglibraryenumhtml set symbol name member bound uniqu constant valu within enumer member compar ident enumer iter enum improv code readabl use paramet assum one valu set possibl valu store enum srcutilsenumspi program python enum use make interfac json paramet input storag file easier recommend user expand upon ascent function continu use enum ad exist class creat new class appropri fiberset runner run method first load json configur file sampl model sim memori instanti python sampl class sampl instanc produc twodimension cad file defin nerv fascicl tissu boundari comsol input binari mask run method also instanti python simul class use model sim configur defin coordin fiberset potenti sampl comsol appli extracellularli neuron defin current amplitud versu time stimul waveform use neuron waveform simul class uniqu perform oper program perform handoff java comsol oper handoff java simul write fiberset waveform file java oper complet simul build folder ie n_sim contain neuron code input data simul fiber respons singl sampl model fiberset waveform contact weight instanc simul class save python object use saveabl textspythonutilityclass use resum oper handoff method java complet within write_fib method python simul class python fiberset class instanti instanc python sampl class model sim fiberset gener method creat set xyzcoordin fiberset defin sim xycoordin nerv cross section zcoordin along length nerv save fiberset fiberset method _generate_xi first charact underscor indic intend use fiberset class defin coordin simul fiber cross section nerv accord xy_paramet json object sim textsjsonfileparameterguid pipelin defin xycoordin fiber nerv cross section accord user select sampl rule centroid uniform_dens uniform_count wheel predefin mode defin fiber locat easili expand add new mode defin xycoordin user must add fiberxymod srcutilsenumspi textsenum add statement code block _generate_xi contain oper construct point listtuplefloat user must add paramet defin fiber place nerv within xy_paramet json object sim sim user may control plot paramet boolean fiber json object creat figur fiber xycoordin slide altern user may plot fibserset use plot_fibersetpi script textsdataanalysistool fiberset privat method _generate_z defin coordin compart simul fiber along length nerv base global paramet configsystemfiber_zjson simulationspecif paramet fiber json object sim ie mode diamet min max offset templat method report use ascent either standalon publicli avail form start point upon work develop compon system eg connect organ model engin optim techniqu ask author cite ascent publicationhttpsdoiorgjournalpcbi indic releas ascent use eg ascent v follow guidelin help user adher fair principl use ascent therebi enabl model reproduc reduc duplic effort publish model studi use ascent ask user provid code input file requir reproduc work streamlin dissemin work upon accept manuscript journal encourag user either make forkbranch ascent repositori publicli avail make merg request ascent github repositori ie develop would gener interest ascent user review incorpor chang public repositori configur file provid json configur file use input ascent samplejson modeljson simjson mock_samplejson applic mapjson serial nerv section use creat represent nerv futur ascent releas ci_peri_thicknessjson use new relationship perineurium thick inner diamet alreadi ascent repositori materialsjson use new materi ad file referenc modeljson rather explicitli defin modeljson fiber_zjson use fiber model ultrastructur integr ascent repositori nerv segment file indic softwar method use gener binari imag input eg adob photoshop defin nerv geometri segment binari imag nerv microanatomi indic method techniqu use obtain nerv imag ie histolog microct ultrasound etc segment tissu boundari referenc dataset publish nerv microanatomi cite origin sourc includ statement justifi relev sourc defin nerv tissu boundari model report highlevel statement method use indic method use segment tissu boundari use mock_morphology_generatorpi script pleas indic make statement regard method use popul nerv fascicl present either data cite previous publish literatur use inform nerv diamet number size placement fascicl nerv explicitli indic method use correct tissu shrinkag prepar nerv input model fem cite literatur justifi assumpt addit indic method use deform nerv fit within cuff electrod ascent provid imag file use input ascent ntif applic itif otif itif otif ctif applic stif atif applic cuff preset cuff configur file use defin cuff electrod publicli avail ascent repositori pleas provid materi new part primit creat repres cuff electrod textscreatingnewpartprimit pleas includ copi java code perform fem oper new part section code srcmodelpartjava case ie switchcas statement new part createcuffpartprimit createcuffpartinst method indic cuff place nerv specif state longitudin placement cuff cuff rotat determin eg cuff rotat mode use atif rotat cuff replic vivo cuff rotat materi cite origin sourc conduct valu use defin materi indic materialsjson andor modeljson domain report model length radiu along statement justifi model dimens ie converg studi report presenc dimens cuff fill domain eg salin encapsul miner oil nerv cuff electrod perineurium report thinlay approxim finit thick materi use defin perineurium thinlay approxim use indic thick perineurium determin eg measur histolog previous publish relationship inner diamet perineurium thick mesh indic method use mesh fem addit number domain element includ statement justifi model mesh paramet ie converg studi textsconvergenceanalysisexampl solut indic fem solv use laplac equat contact deliv current indic outer surfac model ground set insul hocmod file use novel fiber model ultrastructur channel mechan pleas share code requir implement ascent waveform state stimul waveform shape timestep simul time use certain timestep chosen short enough simul accur fiber respons stimul neuron simul comput threshold activ andor block state search algorithm use eg binari search exit criteria eg toler analysi state method softwar tool use analyz present data refer wilkinson md dumonti aalbersberg ijj appleton g axton baak et al fair guid principl scientif data manag stewardship sci data mar avail httpsdoiorgsdatahttpsdoiorgsdata neuron wrapperhoc wrapperhoc file coordin program oper creat biophys realist discret cabl fiber model simul fiber respons extracellular intracellular stimul record respons fiber fiber simul neuron output save n_sim_indexdataoutput simul run activ block threshold protocol data output includ threshold current amplitud simul fiber respons set amplitud user may save state variabl compart neuron file discret time andor locat creat fiber model base flag fiber_typ set launchhoc associ fiber type paramet fiber_zjson fibergeometrymod textsjsonfileparameterguid wrapperhoc load correspond templat defin fiber geometri discret ie geometrybuilderhoc myelin fiber cfiberbuilderhoc unmyelin fiber fiber type segment creat connect neuron length correspond coordin input potenti intracellular stimulu simul block threshold intracellular test puls deliv one end fiber test cuff electrod ie place intracellular stimulu site detect action potenti block action potenti textssimulationprotocol intracellular stimul paramet defin sim defin paramet neuron within launchhoc file paramet sim control puls delay puls width puls repetit frequenc puls amplitud nodesect index intracellular stimulu textsjsonfileparameterguid simul activ threshold intracellular stimul amplitud set zero extracellular stimulu simul respons individu fiber electr stimul use neuron extracellular mechan appli electr potenti comsol segment cabl model timevari signal load stimul waveform n_sim datainput directori use vetime_read procedur within extracellularstim_timehoc save stimul waveform unscal mean maximum current magnitud timestep analog read potenti fiber simul datainput use vespace_read procedur within extracellularstim_spacehoc record neuron simul code contain function readi record save file valu state variabl discret spatial locat time andor discret time spatial locat ie node ranvier myelin fiber section unmyelin fiber appli extracellular potenti intracellular stimul amplitud transmembran potenti gate paramet use recordinghoc record tool particularli use gener data troubleshoot visual simul runsim procedur runsim respons simul respons model fiber intracellular extracellular stimul simul start procedur add action potenti counter look rise threshold transmembran potenti fiber reach steadyst simul start runsim procedur initi fiber step larg time step extracellular potenti appli compart runsim loop time step updat valu extracellular potenti fiber segment record valu flag state variabl necessari end runsim loop time step user search threshold current amplitud method evalu extracellular stimul amplitud threshold indic presenc absenc action potenti activ block threshold respect findthresh procedur findthresh perform binari search activ block threshold textssimulationprotocol save output file end neuron simul program save state variabl indic saveflag cpu time threshold valu output file save dataoutput directori within n_sim folder definit perineurium definit perineurium perineurium thin highli resist layer connect tissu profound impact threshold activ block previou model work demonstr repres perineurium thin layer approxim rm rhoperi_thk rather thinli mesh domain reduc mesh complex reason approxim therefor perineurium model thin layer approxim except peanut fascicl see exampl fig httpsdoiorgjournalpcbig term contact imped comsol model use_ci paramet true textsjsonfileparameterguid relat normal compon current densiti surfac f drop electr potenti f sheet resist f f sheet resist f defin sheet thick f divid materi bulk conduct f f previous publish work quantifi relationship fascicl diamet perineurium thick tabl tabl previous publish relationship fascicl diamet perineurium thick speci peri_thk fspeci dsubfascsub refer rat peri_thk dsubfascsub um pig peri_thk dsubfascsub um human peri_thk dsubfascsub um rho_perineurium paramet model take either two mode rho_weerasuriya perineurium conduct valu chang frequenc electr stimul singl valu spectrum defin model frequenc temperatur use q adjust defin model temperatur base measur frog sciatic perineurium equat defin srccorewaveformpi rho_weerasuriya method manual conduct valu assign perineurium explicitli defin either materialsjson model without correct temperatur frequenc refer pelot na behrend ce grill wm paramet use finit element model compound peripher nerv j neural eng internet avail httpdxdoiorgaaebchttpdxdoiorgaaebc pelot na goldhagen gb cariello je musselman ed clissold ka ezzel ja et al quantifi morpholog cervic subdiaphragmat vagu nerv human pig rat front neurosci internet avail httpsdoiorgfninshttpsdoiorgfnin weerasuriya spangler ra rapoport si taylor ac imped perineurium frog sciatic nerv biophi j aug avail httpsdxdoiorgfshttpsdxdoiorgf f httpschartapisgooglecomchartchttxchlvecncdotvecj_fracrho_sv_v_ f httpschartapisgooglecomchartchttxchlrho_sfracd_ssigma_ f httpschartapisgooglecomchartchttxchlv_v_ f httpschartapisgooglecomchartchttxchlrho_ f httpschartapisgooglecomchartchttxchlvecncdotvecj_ f httpschartapisgooglecomchartchttxchld_ f httpschartapisgooglecomchartchttxchlsigma_ control medium surround nerv cuff electrod medium surround nerv cuff electrod eg fat skelet muscl must contain proxim domain run full length nerv may option includ distal domain parameter geometri proxim distal domain shown figur detail defin proxim distal domain geometri mesh paramet see modeljson textsjsonfileparameterguid inlin imageuploadsafdccfadebpicturejpg figur user must defin proxim domain may option defin distal domain independ assign mesh paramet site stimul rest fem proxim domain run full length nerv anchor distal domain radiu length may independ assign entir distal domain may shift shift x z proxim domain overli volumin significantli decreas comsol mesh effici even rare caus error cost avoid proxim distal domain whose boundari intersect geometri nerv end definit longitudin boundari proxim domain boundari geometri eg cuffnerv boundari like creat mesh error data interchang comsol neuron user unlik interfac directli modelwrapp extractallpotenti method java oper behind scene method take input argument project path run path use run path method load run construct list model sim call extractpotenti fiberset comsol expect n matrix coordin doublen defin xyzcoordin n point java comsol api method setinterpolationcoordin getdata model object fast compar time machin load comsol model object memori file therefor extractallpotenti method intent configur minim number time basi comsol model object load memori accomplish loop follow order model base sim fiberset ie group fiber ident geometrychannel differ xyloc andor longitudin offset fiber approach load comsol model object ie mph member base within loop extractpotenti method construct base doublebasi indexsim indexfiberset indexfib index model unit volt base memori program construct potenti input neuron combin base contact weight write file within potenti ss_base mirror fiberset ss_coord content morpholog file mask must binari ie white pixel segment tissu black pixel elsewher must use tag imag file format ie tif tiff mask must defin within field view size resolut convert pixel input mask dimens length micromet user must specifi scaleinputmod sampl ssjsonconfigurationfil ssjsonfileparameterguid text use mask input mode mask scale bar stif known length orient horizont must provid see scale bar fig httpsdoiorgjournalpcbig length scale bar must indic sampl ssjsonconfigurationfil ssjsonfileparameterguid text use ratio input mode user explicitli specifi micrometerspixel input mask sampl ssjsonconfigurationfil ssjsonfileparameterguid text scale bar imag requir user requir set maskinputmod sampl mask_input commun content segment histolog file ssjsonconfigurationfil ssjsonfileparameterguid text ideal segment imag boundari outer otif inner itif perineurium provid either two separ file otif itif combin imag ctif see inner outer combin fig httpsdoiorgjournalpcbig howev inner providedwhich identifi outer edg endoneuriuma surround perineurium thick defin perineuriumthicknessmod sampl ci_perineurium_thick thick userdefin relat perineurium thick featur inner eg diamet note defin nerv morpholog inner allow model repres accur fascicl contain multipl endoneurium inner within singl outer perineurium boundari peanut fascicl see exampl fig httpsdoiorgjournalpcbig case inner trace assum repres singl independ fascicl share perineurium inner accur represent requir segment outer well user requir set nervemod sampl nerv commun content segment histolog file ssjsonconfigurationfil ssjsonfileparameterguid text outer nerv boundari present defin separ mask ntif case compound nerv epineurium pipelin expect outer boundari epineurium provid nerv case nerv singl fascicl nerv mask requiredin case either outer perineurium boundari present inner perineurium boundari otherwis use nerv boundaryalthough one may provid epineurium tissu would within cuff present sampl histolog lastli orient mask atif option defin mask black except small portion white repres posit cuff must rotat angl measur rel centroid nervesingular fascicl imag construct referenc ntif monofascicular itif otif ctif default º posit cuff correspond coordin halfway along arc length cuff inner diamet ie cuff rotat sampl center cuff contact center centroid white portion atif form line circular portion cuff diamet center origin note rotat process use angle_to_contacts_deg fixed_point preset cuff json file see sscreatingcustompresetcuffsfrominstancesofpartprimit sscuffplacementonnerv text atif provid cuff rotat method cuff_shift model calcul pos_ang overridden user must provid segment imag morpholog file either histolog mock_morphology_generatorpi script specif name convent input directori raw rgb imag avail conveni use data visual rtif option combin ie inner outer ctif inner itif inner intern boundari perineurium form boundari perineurium endoneurium outer otif outer extern boundari perineurium form boundari perineurium epineurium extraneur medium scale bar stif scale bar orient horizont requir unless scale input mode set ratio nerv ntif option monofascicular nerv orient atif option exampl input file see fig httpsdoiorgjournalpcbig user must properli set maskinputmod sampl mask_input provid segment imag morpholog file ssjsonconfigurationfil ssjsonfileparameterguid text python class repres nerv morpholog sampl nerv cross section includ outer nerv trace present requir monofascicular nerv fascicl either singl inner perineurium trace inner outer perineurium trace provid autom control correct tissu shrinkag histolog process textsjsonfileparameterguid morpholog metric eg nerv fascicl crosssect area centroid major minor axi length rotat bestfit ellips automat report sampl textsjsonfileparameterguid trace trace core python class handl list point defin close loop tissu boundari nerv cross section see tissu boundari fig httpsdoiorgjournalpcbig trace builtin function transform report display save perform calcul data content properti python class nerv fascicl slide special instanc hierarch collect trace trace requir input set xypoint defin close loop except json configur file zpoint assum trace class alreadi provid mani builtin function userdesir method need either mutat access nerv morpholog ad trace class trace use opencv pyclipp shape python packag support modifi method eg perform transform scale use assign dimension unit point correct shrinkag nerv tissu process histolog rotat perform rigid rotat transform trace point posit angl counterclockwis neg clockwis shift perform translat shift trace xyplan ie sampl cross section offset offset trace boundari discret distanc exist trace boundari nonaffin transform xyplan ie sampl cross section pymunk_poli use pymunk creat bodi mass inertia given trace boundari use deform fascicl reposit method deform class pymunk_seg use pymunk creat static bodi repres intermedi nerv boundari use deform fascicl reposit method deform class trace also contain accessor method within return boolean indic trace complet within anoth trace intersect return boolean indic trace intersect anoth trace centroid return centroid best fit ellips trace area return crosssect area trace random_point return random list coordin within trace use defin axon locat within trace lastli trace util method plot plot trace use format option ie use pltplot format see matplotlib documentationhttpsmatplotliborgcontentshtml detail deepcopi fulli copi instanc trace ie copi data referencepoint origin instanc write write trace data provid file format current comsol sectionwisehttpswwwcomsolcomfileformat format ascii txt extens contain column vector x ycoordinatesi support nerv nerv name special instanc trace reserv repres outer nerv epineurium boundari function alia trace instanc nerv class creat nervemod sampl nerv present textsjsonfileparameterguid fascicl fascicl class bundl togeth instanc trace repres singl fascicl slide fascicl defin either instanc trace repres outer perineurium trace one instanc trace repres inner perineurium trace inner perineurium trace subsequ scale make virtual outer use trace method deepcopi offset perineurium thick defin perineuriumthicknessmod sampl ci_perineurium_thick textsjsonfileparameterguid upon instanti fascicl automat valid inner instanc trace fulli within outer instanc trace inner instanc trace intersect anoth inner instanc trace fascicl contain method convert binari mask imag segment fascicl instanc fascicl class method use depend content binari imag input pipelin indic maskinputmod sampl mask_input ie inner_and_outer_separ inner_and_outer_compil inner masktofascicl convers method opencv python packag find materi boundari report nest hierarchi ie inner trace within outer trace therebi associ outer one inner method expect maximum hierarch level one level inner one level outer separ binari imag provid contain contour inner itif outer otif maskinputmod sampl mask_input textsjsonfileparameterguid inner_and_outer_separ singl binari imag provid contain combin contour inner outer ctif maskinputmod sampl mask_input textsjsonfileparameterguid inner_and_outer_compil binari imag provid contour inner itif maskinputmod mask_input textsjsonfileparameterguid sampl inner case fascicl class use to_list method gener appropri trace addit fascicl write method save fascicl inner one mani outer trace file later serv input comsol defin materi boundari nerv cross section sectionwis file formathttpswwwcomsolcomfileformat ie ascii txt extens contain column vector x ycoordin lastli fascicl morphology_data method use trace area ellips method return area bestfit ellips centroid axe rotat outer inner json object sampl textsjsonfileparameterguid slide slide class repres morpholog singl transvers cross section nerv sampl ie nerv fascicl boundari import convent pipelin nerv alway translat centroid ie bestfit ellips origin xyz extrud posit zdirect comsol slide allow oper translat plot perform nerv fascicl trace defin sampl collect creat instanc slide class follow item must defin list instanc fascicl class nervemod sampl nerv ie present case nerv epineurium ntif not_pres otherwis textsjsonfileparameterguid instanc nerv class nervemod present boolean whether reposit fascicl within nerv reshapenervemod sampl textsjsonfileparameterguid list except slide class valid manipul write content slide valid method slide return boolean indic fascicl nerv trace overlap close one anoth base minimum fascicl separ paramet sampl end list slide smooth_trac method slide appli smooth oper trace slide leverag offset method appli smooth base smooth paramet defin sampl textsjsonfileparameterguid slide move_cent method slide reposit content central coordin use trace shift method avail nerv fascicl class convent ascent xy slide reshaped_nerv method slide return deform boundari nerv base reshapenervemod sampl reshape_nerv textsjsonfileparameterguid eg circl use method nerv fascicl manifest trace slide method plot scale rotat slide write method determin file structur trace contour save file samplessampl indexslid note sampl data hierarchi contain singl slide instanc default cassett index section index henc seen textsascentdatahierarchi figur even though pipelin data process assum singl slide exist allow current data hierarchi backward compat multislid sampl process futur map map python class use keep track relationship longitudin posit slide instanc sampl class present pipelin support model nerv constant crosssect area mean one slide use per fem class implement futur expans pipelin construct threedimension nerv model vari cross section eg use serial histolog section one slide provid map gener automat user littl need interact class sampl sampl class initi within runner run method load sampl run configur ssjsonconfigurationfil ssjsonfileparameterguid text first sampl build_file_structur method creat directori sampl popul user file input inputnam imag copi subsequ process well conveni creat summari figur sampl use popul method construct instanc nerv fascicl memori input sampl morpholog binari imag see fascicl class detail sampl popul method packag instanc nerv fascicl instanc slide sampl get_factor method obtain ratio micronspixel input mask either util scale bar imag explicit scale factor input depend user scaleinputmod defin sampl textsjsonfileparameterguid sampl scale method use convert trace point pixel coordin coordin unit distanc base either length horizont scale bar defin sampl micromet width scale bar pixel input binari imag stif explicitli specifi scale ratio defin sampl textsjsonfileparameterguid use scale bar scale input must perfectli horizont line sampl scale method also use within popul correct shrinkag may occur histolog tissu process percentag increas shrinkag correct slide geometri store paramet shrinkag sampl textsjsonfileparameterguid addit slide move_cent method use center slide point within popul note sampl center centroid bestfit ellips outermost trace nerv nervemod sampl nerv present outer trace nervemod not_pres textsjsonfileparameterguid origin chang rotat translat placement cuff around nerv accomplish move cuff keep nerv posit fix textscuffplacementonnerv sampl im_preprocess method perform preprocess oper binari input mask base paramet given preprocess sampl textsjsonfileparameterguid sampl io_from_compil gener outer otif inner itif compil ctif mask maskinputmod inner_and_outer_compil gener mask use fascicl to_list method sampl generate_perineurium method use gener perineurium fascicl inner case maskinputmod inner leverag trace offset method fit gener perineurium base ci_perineurium_thick defin sampl textsjsonfileparameterguid sampl popul method also manag oper save tissu boundari sampl nerv fascicl cad file slidessectionwis input comsol sampl write method sampl output_morphology_data method collect sampl morpholog inform area bestfit ellips inform centroid major axi minor axi rotat origin trace ie fascicl inner outer nerv save data morpholog sampl lastli sinc sampl inherit saveabl sampl access save method save python object file deform deformationmod sampl deform set none deform class take action textsjsonfileparameterguid howev deformationmod sampl set physic deform deform method simul chang nerv cross section occur nerv place cuff electrod specif outer boundari slide nerv mask transform userdefin final geometri base reshapenervemod sampl ie circl maintain crosssect area meanwhil fascicl ie outer reposit within new nerv cross section physicsbas way use pymunk physic librari fascicl treat rigid bodi elast slowli push place surround fascicl nerv boundari figur inlin imageuploadsccbdfcdbpicturejpg figur snapshot lefttoright deform process power pygam packag deform process shown two minimum fascicl separ constraint µm top row µm bottom row geometri deform shown fascicl spread minimum separ constraint deform method updat nerv boundari intermediatelydeform nerv trace nerv boundary_start ie trace profil segment imag boundary_end ie trace profil accommod cuff inner diamet determin reshapenervemod reshape_nerv textsjsonfileparameterguid fascicl content allow rearrang physicsspac default fascicl mass moment inertia calcul fascicl base geometri see trace pymunk_poli method fascicl also assign friction coeffici well densiti measur mostli import relat one anoth absolut valu importantli set elast fascicl kinet energi absorb fascicl move directli push anoth fascicl nerv barrier sampl popul method final fascicl locat rotat return deform method appli fascicl use fascicl classs shift rotat method deform conveni constructor from_slid automat call sampl popul method slide deform user specif from_slid method take three input argument slide object construct current deform object reshapenervemod eg circl textsjsonfileparameterguid minimum distanc fascicl inner provid virtual outer interact nerv deform account thick perineurium inner perineurium thick defin perineuriumthicknessmod sampl ci_perineurium_thick textsjsonfileparameterguid specifi linear relationship inner diamet perineurium thick defin configsystemci_peri_thicknessjson textsjsonfileparameterguid deform from_slid method use deform deform_step method calcul intermediatelydeform nerv trace boundary_start boundary_end contain number point maintain nerv crosssect area deform_step method map point boundary_start boundary_end follow manner start two point major axi nerv bestfit ellips intersect boundary_start boundary_end algorithm match consecut boundary_start boundary_end point calcul vector point pair deform_step method return list intermediatelydeform nerv trace boundary_start boundary_end ad linearlyspac portion point pair vector boundary_start also note defin deform_ratio valu sampl user option indic partial deform nerv textsjsonfileparameterguid case deform_ratio set minimum fascicl separ still enforc chang nerv boundari occur enforc minimum fascicl separ extrem larg eg µm caus inaccur deform fascicl may unabl satisfi minimum separ constraint nerv boundari constraint maintain minimum distanc adjac fascicl deform deform method use trace offset method perform nonaffin scale fascicl boundari fix distanc defin fascicl rigid bodi pygam physic space regular interv physic simul time nerv boundari updat next trace list intermediatelydeform nerv trace creat deform_step number trace step default option set sampl morph_count paramet user textsjsonfileparameterguid import note trace step result fascicl lie outsid nerv deform mani trace step unnecessarili time intens weve set default tend minim aforement issu sampl size type test user may also visual nerv deform set deform_anim argument true samplepopul call runner run method textsjsonfileparameterguid visual sampl deform help debug increas comput load slow deform process significantli perform deform mani slide advis set flag fals refer boyd ia kalu ku scale factor relat conduct veloc diamet myelin affer nerv fibr cat hind limb j physiol apr avail httpsdoiorgjphysiolsphttpsdoiorgjphysiolsp bradski g daebler learn opencv comput vision opencv librari jan johnson chalton treyer l ratajc g pyclipp pypi internet cite apr avail httpspypiorgprojectpyclipperhttpspypiorgprojectpyclipp gilli shape pypi internet cite apr avail httpspypiorgprojectshapelyhttpspypiorgprojectshap blomqvist v pymunk pypi internet cite apr avail httpspypiorgprojectpymunkhttpspypiorgprojectpymunk shinner p pygam intro pygam vdev document internet cite apr avail httpswwwpygameorgdocstutpygameintrohtmlhttpswwwpygameorgdocstutpygameintrohtml helper script provid script help user effici manag data creat ascent run script directori instal ascent ie ascent_project_path defin configsystemenvjson scriptsimport_n_simspi import neuron simul output eg threshold record vsubmsub ascent_nsim_export_path ie ascent_nsim_export_path defin envjsonn_simsconcaten indic sample_model_sim_nsimdataoutput nativ file structur see ascent data hierarchysascentdatahierarchi samplessample_indexmodelsmodel_indexsimssim_indexn_simsn_sim_indexdataoutput run script ascent_project_path python run import_n_sim list run indic script load list run configur file configuserrunsrun_indexjson determin sampl model sim import neuron simul data scriptsclean_samplespi would like remov content singl sampl ie samplessample_index except list file eg samplejson modeljson except certain file format eg file end mph use script run script ascent_project_path file keep specifi within python script python run clean_sampl list sampl indic scriptstidy_samplespi would like remov certain file singl sampl ie samplessample_index use script script use remov log runtim special bat sh script run script ascent_project_path file remov specifi within python script python run tidy_sampl list sampl indic python mocksampl class creat binari mask nerv morpholog mocksampl python class manag data contain oper creat binari mask mock nerv morpholog ie nerv ntif inner itif scale bar stif use input pipelin user defin paramet valu configusermock_samplesmock_sample_indexjson templat provid configtemplatesmock_samplejson mock sampl morpholog creat use json file execut python run mock_morphology_gener mock_sample_index project root mock morpholog gener use mocksampl python class creat binari imag nerv inner perineurium trace fascicl scale bar inputnam name analog sampl paramet sampl follow standard name convent ssjsonconfigurationfil ssjsonfileparameterguid text allow pipelin function binari imag segment histolog provid mock_sample_indexjson file result segment nerv morpholog file automat save inputnam mocksampl exception configur instanc attribut nerv list fascicl mocksampl class initi mock_samplejson file ad class instanc mock_morphology_generatorpi script configur instanc mocksampl class use first input argument refer index json file store configusermock_sampl mock_morphology_generatorpi mocksampl method make_nerv make_fascicl call creat ellips nerv fascicl memori base paramet mock_samplejson file mocksampl method ensur fascicl minimum distanc fascicl boundari nerv fascicl boundari detail paramet defin sampl morpholog use mock nerv morpholog gener see textsjsonconfigurationfil descript mock_samplejson textsjsonfileparameterguid detail syntaxdata type keyvalu paramet pair requir defin mock sampl lastli mocksampl make_mask method call class instanc creat binari mask save tif inputnam directori simlif valid design test simul verifi ascent activ threshold verif perform foundat research technolog societi iti simlifehttpszmtswisssimlif zurich switzerland simul platform run follow simul requir modif simlif solver implement requir electr anisotropi tissu conduct boundari condit repres thin layer approxim use model perineurium monofascicular rat nerv model valid activ threshold fiber seed model rat cervic vagu nerv instrument bipolar cuff electrod figur b inlin imageuploadscecffacdfedepicture_crosssectionjpg figur raw histolog imag rtif segment histolog itif scalebar stif rat cervic vagu nerv sampl serv input defin cross section nerv fem inlin imageuploadsecaeadefddeabcpicture_cuffjpg figur b fem rat cervic vagu nerv sampl instrument bipolar cuff electrod conduct valu appli rat cervic fem provid tabl boundari condit appli provid tabl b tabl conduct valu fem rat cervic vagu nerv valu also use multifascicular nerv model human model verif tabl border stylepaddingpx thead tr classhead thstrongparameterstrongth thstrongapplicationstrongth thstrongresistivitystrong ωmth tr thead tbodi tr classodd td aligncenterstyleverticalalignmiddl endoneuriumtd td aligncenterstyleverticalalignmiddl within fascicletd td aligncenterstyleverticalalignmiddl p longitudinalp p radial rat humanp p radial multifascicular dummi modelptd tr tr classeven td aligncenterstyleverticalalignmiddl salinetd td aligncenterstyleverticalalignmiddl cylindr shell nerv cufftd td aligncenterstyleverticalalignmiddl td tr tr classodd td aligncenterstyleverticalalignmiddl platinumtd td aligncenterstyleverticalalignmiddl contactstd td aligncenterstyleverticalalignmiddl supsuptd tr tr classeven td aligncenterstyleverticalalignmiddl siliconetd td aligncenterstyleverticalalignmiddl electrod bodytd td aligncenterstyleverticalalignmiddl supsuptd tr tr classodd td aligncenterstyleverticalalignmiddl muscletd td aligncenterstyleverticalalignmiddl use surround medium everyth outsid nerv cuff salin layer nerv cufftd td aligncenterstyleverticalalignmiddl p longitudinalp p radialptd tr tr classeven td aligncenterstyleverticalalignmiddl epineuriumtd td aligncenterstyleverticalalignmiddl within nerv around fascicletd td aligncenterstyleverticalalignmiddl td tr tr classodd td aligncenterstyleverticalalignmiddl encapsulationtd td aligncenterstyleverticalalignmiddl cuff nerv immedi surround cufftd td aligncenterstyleverticalalignmiddl td tr tbodi tabl tabl b boundari condit use fem rat cervic vagu nerv multifascicular dummi nerv human cervic vagu nerv tabl border stylepaddingpx thead tr classhead thstrongparameterstrongth thstrongsettingstrongth tr thead tbodi tr classodd td aligncenterstyleverticalalignmiddl current conservationtd td aligncenterstyleverticalalignmiddl domainstd tr tr classeven td aligncenterstyleverticalalignmiddl initi conditiontd td aligncenterstyleverticalalignmiddl v domainstd tr tr classodd td aligncenterstyleverticalalignmiddl perineurium side fascicletd td aligncenterstyleverticalalignmiddl pmodel contact impedancep p ωm dsubfascsubmptd tr tr classeven td aligncenterstyleverticalalignmiddl ground outer boundari modeltd td aligncenterstyleverticalalignmiddl v td tr tr classodd td aligncenterstyleverticalalignmiddl point current sourc one contacttd td aligncenterstyleverticalalignmiddl p map ul p maptd ultd tr tbodi tabl compar threshold µm myelin axon mrg model seed cross section nerv respons singl µs durat monophas rectangular puls differ threshold ascent iti model implement fiber demonstr strong agreement figur c inlin imageuploadsbbfaabccpicturejpg figur c comparison activ threshold rat cervic vagu nerv implement ascent simlif multifascicular dummi nerv model valid activ threshold fiber seed multifascicular dummi nerv instrument bipolar cuff electrod figur e segment histolog creat use mock_morphology_generatorpi script textspythonmocksampleclassforcreatingbinarymasksofnervemorpholog inlin imageuploadscfaeffbadbpicturejpg figur mock morpholog input defin tissu boundari multifascicular dummi nerv valid simlif scale bar µm long nerv perfect circl diamet µm center xy µm inner also perfect circl diamet µm center xy µm diamet µm center xy µm diamet µm center xy µm inlin imageuploadsdfaaffaabcedpicturejpg figur e fem multifascicular nerv sampl instrument bipolar cuff electrod conduct valu appli multifascicular nerv sampl finit element model provid tabl boundari condit appli provid tabl b seed singl µm diamet fiber center fascicl ascent iti implement less differ threshold singl µs durat monophas rectangular puls multifascicular human nerv model valid activ threshold fiber seed multifascicular human cervic vagu nerv instrument livanova bipolar cuff electrod figur f g segment histolog creat use nikon nisel inlin imageuploadsdfbaddbcaaepicturejpg figur f raw histolog imag rtif segment inner itif segment nerv ntif scale bar stif human cervic vagu nerv sampl serv input defin cross section nerv fem valid simlif inlin imageuploadsdfabfcbfbbdbeabpicturejpg figur g fem human cervic vagu nerv sampl instrument livanova cuff electrod conduct valu appli human cervic vagu nerv sampl finit element model provid tabl boundari condit appli provid tabl b seed µm diamet fiber fascicl ascent iti implement less differ singl µs durat monophas rectangular puls neuron launchhoc launchhoc file defin paramet simul protocol model fiber respons electr stimul neuron automat popul base paramet model sim launchhoc file creat hocwrit class paramet defin launchhoc span categori environ ie temperatur model simul time ie time step durat simul sim fiber paramet ie flag fiber geometri channel number fiber node model sim configsystemfiber_zjson intracellular stimul ie delay start simul amplitud puls durat puls repetit frequenc sim extracellular stimul ie path waveform file n_sim folder alway datainputswaveformdat flag defin model paramet record ie vmt gatingt vmx gatingx sim locat record paramet node ranvier myelin axon sim paramet binari search threshold ie activ block protocol initi upper lower bound stimul amplitud binari search threshold resolut binari search sim launchhoc file load wrapperhoc call neuron procedur launchhoc file creat python hocwrit class take input sim directori n_sim directori except configur hocwrit class instanti automat load fiber_zjson configur file contain associ flag paramet rule defin fiber geometri channel mechan neuron paper refer handforth degiorgio cm schachter sc uthman bm naritoku dk tecoma es et al vagu nerv stimul therapi partialonset seizur random activecontrol trial neurolog jul benmenachem e manonespaillat r ristanov r wilder bj stefan h mirza w et al vagu nerv stimul treatment partial seizur control studi effect seizur first intern vagu nerv stimul studi group epilepsia random control trial chronic vagu nerv stimul treatment medic intract seizur vagu nerv stimul studi group neurolog feb marangel lb rush aj georg ms sackeim ha johnson cr husain mm et al vagu nerv stimul vn major depress episod one year outcom biol psychiatri internet feb avail httpsdoiorg nierenberg aa alpert je gardnerschust ee seay mischoulon vagu nerv stimul year outcom bipolar versu unipolar treatmentresist depress biol psychiatri internet sep avail httpsdoiorgjbiopsych rush aj georg ms sackeim ha marangel lb husain mm giller c et al vagu nerv stimul vn treatmentresist depress multicent studi biol psychiatri feb birmingham k gradinaru v anikeeva p grill wm pikov v mclaughlin b et al bioelectron medicin research roadmap nat rev drug discov internet avail httpsdoiorgnrd johnson rl wilson cg review vagu nerv stimul therapeut intervent j inflamm re internet may avail httpspubmedncbinlmnihgov lubba ch le guen jarvi jone ns cork sc eftekhar et al pypn multiscal simul peripher nerv python neuroinformat internet avail httpsdoiorgsz pelot na behrend ce grill wm model respons small myelin axon compound nerv kilohertz frequenc signal j neural eng aug bucksot je well aj rahebi kc sivaji v romeroortega kilgard mp et al flat electrod contact vagu nerv stimul plo one internet avail httpsdoiorgjournalpon helmer sl begnaud j cowley corwin hm edward jc holder dl et al applic comput model vagu nerv stimul acta neurol scand internet avail httpsonlinelibrarywileycomdoiabsjx zelechowski vall g raspopov comput model design neural interfac lowerlimb sensori neuroprosthes j neuroeng rehabil feb romeni vall g mazzoni micera tutori comput framework design optim peripher neural interfac nat protoc internet avail httpsdoiorg wilkinson md dumonti aalbersberg ijj appleton g axton baak et al fair guid principl scientif data manag stewardship sci data mar bossetti ca birdno mj grill wm analysi quasistat approxim calcul potenti gener neural stimul j neural eng mar mcneal dr analysi model excit myelin nerv ieee tran biom eng bme van rossum g drake fl python refer manual scott valley ca createspac arnold k gosl j holm javatm program languag th edit addisonwesley profession hine ml carneval nt neuron simul environ neural comput aug pelot na goldhagen gb cariello je musselman ed clissold ka ezzel ja et al quantifi morpholog cervic subdiaphragmat vagu nerv human pig rat front neurosci internet avail httpswwwfrontiersinorgarticlefnin virtanen p gommer r oliph te haberland reddi cournapeau et al scipi fundament algorithm scientif comput python nat method internet avail httpsdoiorg oliph te guid numpi internet trelgol publish avail httpsbooksgooglecombooksidfkulsgaacaaj callist wd rethwisch dg fundament materi scienec engin integr approach fundament materi scienec engin intergr approach de podesta laboratori np uk understand properti matter understand properti matter ranck jb bement sl specif imped dorsal column cat anisotrop medium exp neurol internet apr cite apr avail httpswwwsciencedirectcomsciencearticleabspii pelot na behrend ce grill wm paramet use finit element model compound peripher nerv j neural eng internet avail httpdxdoiorgaaebc grill wm mortim tj electr properti implant encapsul tissu ann biom eng internet avail httpsdoiorgbf gielen flh wallingad jong w boon kl electr conduct skelet muscl tissu experiment result differ musclesin vivo med biol eng comput internet avail httpsdoiorgbf gedd la baker le specif resist biolog materiala compendium data biomed engin physiologist med biol eng internet avail httpsdoiorgbf horch k neuroprosthet theori practic second edit neuroprosthet theori practic second edit p pelot na thio bj grill wm model current sourc neural stimul comsol front comput neurosci internet avail httpswwwfrontiersinorgarticlefncom mcintyr cc grill wm sherman dl thakor n v cellular effect deep brain stimul modelbas analysi activ inhibit j neurophysiol apr mcintyr cc richardson ag grill wm model excit mammalian nerv fiber influenc afterpotenti recoveri cycl j neurophysiol feb sundt gamper n jaff db spike propag dorsal root ganglia unmyelin sensori neuron model studi j neurophysiol dec tigerholm j petersson obreja lampert carr r schmelz et al model activitydepend chang axon spike conduct primari affer cnociceptor j neurophysiol may rattay f aberham model axon membran function electr stimul ieee tran biom eng dec howel b grill wm evalu highperimet electrod design deep brain stimul j neural eng internet aug avail httpspubmedncbinlmnihgov arl je carlson kw mei l investig mechan vagu nerv stimul seizur use finit element model epilepsi re internet avail httpwwwsciencedirectcomsciencearticlepii yoo pb lubock nb hincapi jg rubl sb hamann jj grill wm highresolut measur electricallyevok vagu nerv activ anesthet dog j neural eng apr schneider ca rasband ws eliceiri kw nih imag imagej year imag analysi nat method internet avail httpsdoiorgnmeth newman j current distribut rotat disk limit current j electrochem soc cantrel dr inayat taflov ruoff rs troy jb incorpor electrodeelectrolyt interfac finiteel model metal microelectrod j neural eng internet dec avail httpsdoiorgffff wilson g aruliah da brown ct chue hong np davi guy rt et al best practic scientif comput plo biol internet avail httpsdoiorgjournalpbio wilson g bryan j cranston k kitz j nederbragt l teal tk good enough practic scientif comput plo comput biol june python simul class prejava user unlik interfac directli simul resolve_factor method oper behind scene method search sim list paramet within fiber waveform json object indic number dimens n_dimens paramet sim handshak prevent erron gener neuron simul reach paramet user indic sweep sim save simul class dictionari name factor path paramet sim requir paramet defin type waveform textsjsonfileparameterguid python waveform class configur sim contain paramet defin waveform sinc fem may frequencydepend conduct paramet frequenc stimul option defin model frequencydepend materi conduct puls repetit frequenc defin sim pulse_repetition_freq write_waveform method instanti python waveform class wave_set ie one combin stimul paramet postjava uniqu combin sim paramet found cartesian product list valu individu paramet sim waveform src_weight fiberset pipelin manag index simul eas debug inspect n_sim directori copi modifi reduc version sim list paramet replac singl list element valu investig particular n_sim directori simul class loop model sim list run load python simobj object save simul directori simssim index prior python handoff java use python object simul load memori simul classs method build_n_sim loop master_product_index ie waveform src_weight fiberset master_product_index program creat n_sim file structur simssim indexn_simsn_sim indexdatainput simssim indexn_simsn_sim indexdataoutput correspond n_sim master_product_index file copi n_sim directori reduc sim stimul waveform fiber potenti addit program write hoc file ie launchhoc contain paramet call wrapperhoc file use python hocwrit class conveni submit n_sim directori comput cluster creat method within simul name export_n_sim export_run export_neuron_fil method export_n_sim copi n_sim nativ hierarch file structur target directori defin system envjson config file valu ascent_nsim_export_path key within target directori directori name n_sim contain n_sim n_sim renam correspond sampl model sim master_product_index sample_index_model_index_sim_index_master_product_index therefor uniqu analog export_run creat copi run within target directori directori name run lastli export_neuron_fil use creat copi neuron hoc mod file target directori directori name hoc_fil mod_fil respect converg analysi exampl converg analysi exampl note follow converg analysi perform rat cervic vagu nerv provid illustr exampl outer boundari model assign electr ground initi set dimens known excess larg length mm radiu mm figur test converg model length diamet care control mesh paramet chang threshold excit model nerv fiber posit finit element model attribut chang model dimens chang mesh densiti first use excess number domain mesh element second maintain consist mesh area interest despit chang geometri outer boundari model proxim region model surround nerv electrod ie proxim full length nerv assign mesh entir independ outer boundari region ie distal inlin imageuploadscdacbdeeapicturejpg figur converg fem model dimens mesh densiti μm myelin mrg fiber model rat cervic vagu nerv differ model size mesh densiti determin excit threshold randomli place µm diamet myelin model axon nerv first radiu model held constant mm halv length model chang threshold greater compar mmlong model result length model chosen mm next shortest length mm least one fiber threshold chang toler second length model held constant mm radiu model halv chang threshold greater compar mmradiu model result radiu model chosen mm radiu model could reduc without interf electrod geometri reduc number mesh element chang threshold activ model nerv fiber mesh paramet result domain element mm radiu mm length model chosen studi lastli length converg µm diamet myelin model axon use previous found model radiu mesh densiti ensur model length incorpor enough node ranvier converg threshold nativ fiber diamet conserv estim largest myelin fiber diamet found cervic level rat vagu nerv µm largest diamet nerv fiber nativ region interest converg studi fewest number node per unit length base inld found fem length need longer µm diamet myelin fiber mm µm diamet myelin fiber mm refer licursi de alcântara ac salgado hc sassoli fazan vp morpholog morphometri vagu nerv male femal spontan hypertens rat brain re mar avail httpsdoiorgjbrainreshttpsdoiorgjbrainr ascent troubleshoot guid gener troubleshoot step check geometri ascentsamplessample_indexmodelsmodel_indexdebug_geommph check sampl ascentsamplessample_indexslidescassette_indexslide_indexmask instal issu neuron issu sometim neuron instal complet neuron instal solut run instal window compat mode pipelin issu sampl issu small white pixel island caus pipelin fail pipelin fail small element present fascicl reflect segment error solut increas valu image_preprocessingobject_removal_area samplejson model issu fascicl border appear raggedwavi model geometri solut increas inner_interp_tol andor outer_interp_tol samplejson depend whether issu exist outer inner mask pixel increas smoothingfascicl distanc samplejson neuron issu issu compil neuron file python submitpi result error mpicc command found solut instal openmpi add path python issu issu python output print order java output solut pass u flag ie python u run pipelin run indic turn output buffer modelwrapp class modelwrapp modelwrapp class java take input ascent_project_path envjson ssjsonconfigurationfil ssjsonfileparameterguid text list run path modelwrapp contain comsol model object model sourc directori string model destin directori string identifiermanag textsjavautilityclass hashmap keyvalu pair link comsol domain union domain modelwrapp accessor method getmodel retriev model object getroot retriev project path root string getdest retriev default save destin string modelwrapp also mutat method chang instanc root string setroot default save destin string setdest modelwrapp main method start instanc comsol load run sampl model sim configur json object memori develop java class jsonio textsjavautilityclass read write json object file sinc run contain list model sim configur singl sampl note n_sim creat combin model sim sampl run modelwrapp iter model configur eg differ cuff electrod materi assign defin fem geometri mesh assign boundari condit physic solv result fem potenti obtain appli one electrod contact electr potenti contact float ie condit continu repeat contact defin base solut space sim program creat superposit base extracellular potenti coordin defin fiberset ss_coord ie coordin along length nerv use supersampl potenti later creat potenti without need comsol wrote code program continu creat potenti ss_base ie potenti along length nerv correspond coordin save ss_coord ad togeth accord contact weight defin active_src sim creat potenti specif fiber model neuron simul remain model indic even process singl model fail model program append boolean models_exit_statu run true success fals success refer pelot na thio bj grill wm model current sourc neural stimul comsol front comput neurosci internet avail httpswwwfrontiersinorgarticlefncomhttpswwwfrontiersinorgarticlefncom data analysi tool python queri class gener usag queri follow context python script user specifi search criteria think keyword filter data form json configur file see query_criteriajson textsjsonfileparameterguid search criteria use construct queri object search match sampl model sim configur perform use method run search result form hierarchi sampl model sim indic access use summari method use summari result user abl use variou conveni method provid queri class build path arbitrari point data file structur well load save python object eg sampl simul class instanc queri classs initi take one argument dictionari appropri structur queri criteria textsjsonfileparameterguid string valu contain path rel pipelin repositori root desir json configur criteria put concis user may filter result either manual use known indic automat use paramet would found main configur file extrem import note queri class must initi work directori set root pipelin repositori ie syspathappendascent_project_path script failur set work directori correctli break initi step queri class initi search perform call queri run method method recurs dive data file structur pipelin search configur ie sampl model andor sim satisfi query_criteriajson run call result fetch use summari accessor method addit user may pass file path excel_output gener excel sheet summar queri result queri also method access configur python object within sampl directori base list sampl model sim indic build_path method return path configur object provid indic similarli get_config get_object method return configur dictionari save python object use pickl packag respect list configur indic tool allow conveni loop data associ search criteria addit includ data analysi method queri class heatmap barcharts_compare_model barcharts_compare_sampl sinc individu use case data analysi differ greatli method consid core function instead treat exampl one might use queri class exampl use queri conveni method includ examplesanalysi plot_samplepi plot_fibersetpi plot_waveformpi video gener neuron state variabl examplesanalysi provid script plot_videopi creat anim save state variabl function space time eg transmembran potenti mrg gate paramet user plot n_sim data save dataoutput folder referenc indic sampl model sim inner fiber n_sim user may save anim either mp gif file dataoutput folder plot_videopi script use determin necessari simul durat eg time requir action potenti propag length fiber avoid run unnecessarili long simul furthermor script use observ onset respons kilohertz frequenc block import determin appropri durat time allow fiber onset respons complet user need determin appropri number point along fiber record state variabl user option either record state variabl node ranvier myelin fiber section unmyelin fiber discret locat along length fiber textsjsonfileparameterguid comparison mrg fit bucksot comparison mrg fit bucksot et al inlin imageuploadsfcabfdacbbeepicturejpg figur piecewis polynomi fit publish mrg fiber paramet compar bucksot et al interpol singl quadrat fit use paramet except internod length linear fit µm use mrg data µm singl quadrat fit diamet greater equal µm use mrg data µm µm fiber diamet linear quadrat fit intersect fiber diamet diamet myelin paranod mysa section paranod flut section internod stin section axon diamet node ranvier mysa node diamet well flut stin axon diamet node mysa length fix μm respect fiber diamet refer bucksot je well aj rahebi kc sivaji v romeroortega kilgard mp et al flat electrod contact vagu nerv stimul plo one internet avail httpsdoiorgjournalponehttpsdoiorgjournalpon json file paramet guid note see textsjsonconfigurationfil gener overview content usag follow json file use ascent valid json syntax comment possibl json howev sparingli use notat json exampl provid context inform associ line valu follow key syntax denot type valu liter valu type x syntax indic type array type x occasion singl valu may substitut list singl valu desir function differ key sure read document attempt given keyvalu pair paramet option entir keyvalu omit json file default valu use calcul valu user either keep key dummi valu remov key entir set json file pipelin run json object name key valu eg filenam string casesensit order keyvalu pair within json object matter savingload file tofrom memori like reorder content file runjson name file configuserrunsrun_indexjson purpos instruct pipelin input data userdefin paramet use singl program run one run configur serv singl sampl list model simss enabl oper control breakpoint fem file savediscard keep track successfulfail fem java syntax declar entiti configuserrun use follow syntax submission_context string sampl integ note one valu model integ pipelin creat pairwis combo sim integ model sim recycle_mesh boolean break_point pre_java boolean runner handoff method javacomsol pre_geom_run boolean immedi geometri oper post_geom_run boolean immedi geometri oper pre_mesh_proxim boolean immedi mesh prox oper post_mesh_proxim boolean immedi post mesh prox oper pre_mesh_dist boolean immedi mesh dist oper post_mesh_dist boolean immedi post mesh dist oper post_material_assign boolean immedi post assign materi pre_loop_curr boolean immedi solv base models_exit_statu boolean one entri model keep debug_geom boolean mesh boolean base boolean partial_fem cuff_onli boolean nerve_onli boolean local_avail_cpu integ override_compiled_mod boolean properti submission_context valu string properti tell system submit n_sim neuron job base comput resourc avail valu cluster local auto auto hostname_prefix requir requir hostname_prefix valu string tell program prefix look hostnam environ variabl hostnam begin hostnam prefix submiss context set cluster otherwis set local chang valu configur file exampl high perform comput cluster hostnam alway begin ourclust eg ourclustnod ourclustlogin etc would set valu variabl ourclust hostnam environ variabl present program default local requir submission_context auto otherwis option sampl valu integ properti set sampl configur index sampl note ever one valu loop sampl creat run requir model valu integ properti set model configur indic model requir sim valu integ properti set simul configur indic sim requir recycle_mesh valu boolean properti instruct pipelin search mesh match recycl previous gener fem mesh set true properti specifi default behavior pipelin fals mean search recycl mesh match see modelsearch textsjavautilityclass mesh_dependent_modeljson textsjsonconfigurationfil option break_point valu boolean breakpoint result program termin continu next model index runner program check one breakpoint true throw except otherwis breakpoint locat enabl user run certain step pipelin particularli use debug breakpoint defin default behavior fals ie pipelin continu beyond breakpoint note specifi break point via command line argument overrid break point set run config option models_exit_statu valu boolean properti indic java success made fem correspond model indic model properti user need includ properti perform run pipelin automat ad java comsol fem process use inform python oper make neuron simul valu contain one valu model list model model fail pipelin skip proceed next one automat ad keep valu boolean properti result program keep delet larg comsol mph file debug_geommph meshmph base given model keep properti defin default behavior true associ mph file save meshmph save file later use anoth model suitabl mesh match recycle_mesh true see modelsearch textsjavautilityclass mesh_dependent_modeljson textsjsonconfigurationfil base save new sim previous comput sampl model probe along new fiberset creat potenti option partial_fem valu boolean properti result program termin build comsol fem geometri cuff cuff_onli nerv nerve_onli program termin debug_geommph file creat partial_fem json object includ valu boolean treat fals mean debug_geommph file contain nerv cuff electrod error thrown user may set valu cuff_onli nerve_onli true build geometri cuff nerv proceed mesh solv fem user set valu post_geom_run break_point true overriden partial_fem command line argument use option local_avail_cpu valu integ set number cpu program take submission_context local check user ask one less number cpu machin least one cpu left machin perform process option use submit local program take cpu except valu defin override_compiled_mod valu boolean indic program overrid previous compil mod file ie file defin channel mechan neuron system call submitpi option key omit program overrid previous compil mod file exampl submission_context cluster sampl model sim recycle_mesh true break_point pre_java fals pre_geom_run fals post_geom_run true pre_mesh_proxim fals post_mesh_proxim fals pre_mesh_dist fals post_mesh_dist fals post_material_assign fals pre_loop_curr fals models_exit_statu true keep debug_geom true mesh true base true partial_fem cuff_onli fals nerve_onli fals local_avail_cpu override_compiled_mod fals samplejson name file samplessample_indexsamplejson purpos instruct pipelin samplespecif input data userdefin paramet use process nerv sampl morpholog input prepar represent sampl fem sampl ssjsonconfigurationfil sscreatingsamplespecificnervemorphologiesincomsol text syntax declar entiti samplessample_indexsamplejson use follow syntax sampl string sex string level string samples_path string scale scale_bar_length doubl scale_ratio doubl shrinkag doubl boundary_separ fascicl doubl nerv doubl mode mask_input string scale_input string nerv string deform string ci_perineurium_thick string reshape_nerv string shrinkage_definit string smooth nerve_dist doubl fascicle_dist doubl image_preprocess fill_hol boolean object_removal_area integ morph_count integ deform_ratio doubl plot boolean plot_fold boolean morpholog nerv area doubl fascicl outer area doubl x doubl doubl doubl b doubl angl doubl inner area doubl x doubl doubl doubl b doubl angl doubl properti sampl valu string properti set sampl nameidentifi eg rat relat bookkeep input morpholog file text figur asascentdatahierarchi valu must match directori name inputnam contain input morpholog file requir sex valu string properti assign sex sampl option user record level valu string properti assign locat nerv sampl eg cervic abdomin pudend option user record samples_path valu string path directori contain input morpholog file sampl given project requir scale scale_bar_length valu doubl unit micromet length scale bar binari imag scale bar provid stif note scale bar must orient horizont requir scale_input mask scale_ratio valu doubl unit micrometerspixel ratio micromet per pixel input mask requir scale_input ratio shrinkag valu doubl shrinkag correct nerv morpholog binari imag provid decim eg result expans nerv result shrinkag correct nerv requir must greater note shrinkag correct scale linear ie nerv diamet area scale scale factor final diamet d_finald final area a_fin assupsup end list boundary_separ fascicl valu doubl unit micromet minimum distanc requir boundari adjac fascicl postdeform see deform textspythonclassesforrepresentingnervemorphologysampl requir sampl multipl fascicl note distinct paramet min_fascicle_separ mock_samplejson control minimum distanc fascicl binari imag mask input pipelin later deform fit cuff electrod use deform textspythonclassesforrepresentingnervemorphologysampl nerv valu doubl unit micromet minimum distanc requir boundari fascicl nerv postdeform see deform textspythonclassesforrepresentingnervemorphologysampl requir nerv sampl present mode mask_input valu string maskinputmod tell program segment histolog imag expect input fascicl requir list enum textsenum mode includ inner program expect segment imag inner fascicl boundari inner_and_outer_separ program expect segment imag inner one file segment imag outer anoth file inner_and_outer_compil program expect singl segment imag contain boundari inner outer scale_input valu string scaleinputmod tell program type scale input look list enum textsenum known scaleinputmod includ mask program determin imag scale user scale bar mask imag scale_bar_length paramet ratio program use scale directli specifi scale_ratio use option scale bar imag need provid nerv valu string nervemod tell program outer nerv boundari epineurium segment imag incorpor model requir list enum textsenum known mode includ present program expect segment imag nerv ntif incorpor model valu must present multifascicular nerv also present monofascicular not_pres program tri incorpor nerv boundari model valu not_pres multifascicular nerv not_pres monofascicular deform valu string deformationmod tell program method use deform nerv within cuff nervemod ie nerv paramet defin not_pres deformationmod ie deform paramet must none requir list enum textsenum known mode includ none program deform nerv place cuff electrod pipelin current implement valu nerv sampl without epineurium ie not_pres nerv physic program use physicsbas deform nerv final inner profil nerv cuff morph origin trace toward circular trace pipelin current implement deformationmod deform compound nerv sampl see deform_ratio deform_ratio origin nerv trace use deform_ratio nerv trace made circular ci_perineurium_thick valu string perineuriumthicknessmod tell program method use defin perineurium thick requir list enum textsenum known perineuriumthicknessmod includ measur program determin averag thick perineurium use provid inner outer boundari ie maskinputmod inner_and_outer_separ inner_and_outer_compil thick determin find half differ diamet circl area inner outer trace fascicl linear relationship fascicl diamet perineurium thick store configsystemci_peri_thicknessjson grinberg_ pig_vn_inhouse_ rat_vn_inhouse_ human_vn_inhouse_ reshape_nerv valu string reshapenervemod tell program final nerv profil postdeform use deform set physic requir list enum textsenum known reshapenervemod includ circl program creat circular nerv boundari preserv crosssect area ie multifascicular nervesnerv epineurium none program deform nerv boundari ie monofascicular nervesnerv epineurium shrinkage_definit valu string shrinkagemod tell program interpret scaleshrinkag paramet provid decim ie option assum mode length_forward omit sinc origin behavior mode ad list enum textsenum known shrinkagemod includ length_backward valu scaleshrinkag refer much length eg radiu diamet perimet nerv cross section reduc fresh tissu imag tissu formula r_post r_origin shrinkag length_forward valu scaleshrinkag refer much length eg radiu diamet perimet nerv cross section increas imag tissu fresh tissu formula r_post r_origin shrinkag area_backward valu scaleshrinkag refer much area nerv cross section reduc fresh tissu imag tissu formula a_post a_origin shrinkag area_forward valu scaleshrinkag refer much area nerv cross section increas imag tissu fresh tissu formula a_post a_origin shrinkag smooth smooth appli via dilat nervefascicl boundari specifi distanc valu shrink valu nerve_dist amount doubl smooth nerv boundari unit micromet fascicle_dist amount doubl smooth fascicl boundari inner outer unit micromet end list image_preprocess oper appli input mask analysi fill_hol valu boolean indic whether fill gap binari mask true area black pixel complet enclos white pixel turn white object_removal_area valu integ indic maximum size island remov binari mask isol island white pixel area less equal object_removal_area turn black unit pixel end list morph_count valu integ use set number intermedi deform nerv trace boundary_start boundary_end deform textspythonclassesforrepresentingnervemorphologysampl deformationmod physci excess larg number morph_count slow deform process though number small could result fascicl escap nerv option specifi default valu deform_ratio valu doubl rang use deform nerv deformationmod physic intermedi deform boundary_end exampl reshapenervemod circl deform_ratio boundary_end circl howev reshapenervemod circl deform_ratio boundary_end origin nerv trace valu result partial deform nerv way final circl nerv boundari option default valu defin explicitli note deform_ratio chang nerv boundari occur physic system ensur requir boundary_separ met plot valu boolean determin whether program gener output plot sampl morpholog true plot gener fals plot gener plot_fold valu boolean describ plot behavior enabl true plot gener folder samplessample_indexplot fals plot pop window morpholog json object use store inform area bestfit ellips inform nerv fascicl outer inner user set valu json structur conveni record nerv morphometri assign model attribut base anatomi data analysi unit micrometersupsup area micromet length user manual set valu automat popul valu b full width height ellips major minor axe respect ie analog diamet rather radiu circl exampl sampl rat monofascicular nerv without epineurium sex level cervic samples_path sampl scale scale_bar_length scale_ratio shrinkag mode mask_input inner_and_outer_compil nerv not_pres deform none ci_perineurium_thick measur reshape_nerv none scale_input mask smooth nerve_dist fascicle_dist image_preprocess fill_hol true object_removal_area morph_count deform_ratio plot true plot_fold true morpholog nerv null fascicl outer area x b angl inner area x b angl mock_samplejson name file configusermock_sample_indexjson purpos instruct pipelin userdefin paramet use synthes nerv sampl morpholog input ie binari imag segment nerv morpholog singl sampl prepar represent nerv fem syntax declar entiti configusermock_sample_indexjson use follow syntax note eccentr e defin function major minor b axe follow f global name string scalebar_length doubl nerv doubl b doubl rot doubl figur fig_margin doubl fig_dpi integ exampl popul paramet explicit popul mode explicit min_fascicle_separ fascicl centroid_x doubl centroid_i doubl doubl b doubl rot doubl exampl popul paramet truncnorm popul mode truncnorm mu_fasc_diam doubl std_fasc_diam doubl n_std_diam_limit doubl num_fascicle_attempt integ num_fascicle_plac integ mu_fasc_ecc doubl std_fasc_ecc doubl n_std_ecc_limit doubl max_attempt_it integ min_fascicle_separ doubl seed integ exampl popul paramet uniform popul mode uniform lower_fasc_diam doubl upper_fasc_diam doubl num_fascicle_attempt integ num_fascicle_plac integ lower_fasc_ecc doubl upper_fasc_ecc doubl max_attempt_it integ min_fascicle_separ doubl seed integ properti global global json object contain keyvalu pair document characterist sampl synthes requir name valu string properti set sampl nameidentifi eg pig relat bookkeep valu match directori name input contain synthes morpholog file creat mock_morphology_generatorpi requir scalebar_length valu doubl unit micromet desir length scale bar gener binari imag scale bar stif requir nerv nerv json object contain keyvalu pair ellipt nerv size rotat requir valu nerv ellips axi full width major axi doubl unit micromet requir b valu nerv ellips axi b full width minor axi doubl unit micromet requir rot_nerv valu nerv ellips axi rotat doubl unit degre posit angl counterclockwis neg clockwis rel orient aaxi align xdirect requir figur figur json object contain keyvalu pair paramet determin size resolut gener binari mask requir fig_margin valu doubl otherwis error thrown set x ylimit binari mask gener limit set rel maximum nerv ellips axi dimens fig_marginmaxa b x ydirect requir fig_dpi valu integ dot per inch resolut synthes binari imag higher resolut result accur interpol curv inner comsol recommend valu requir popul popul json object contain keyvalu pair paramet determin nerv content ie fascicl inner popul requir mode valu string populatemod tell program method use popul nerv requir list enum textsenum known populatemod includ explicit popul nerv ellipt inner defin explicitli user min_fascicle_separ valu doubl unit micromet determin minimum distanc fascicl boundari binari mask imag pipelin allow without throw error valu control separ requir fascicl binari mask separ paramet forc distanc postdeform nerv fascicl fascicl nerv boundari samplejson requir fascicl valu listjson object contain json object inner requir within json object follow keyvalu pair present centroid_x valu doubl unit micromet xcoordin centroid bestfit ellips trace requir centroid_i valu doubl unit micromet ycoordin centroid bestfit ellips trace requir valu ellips axi full width major axi doubl unit micromet requir b valu ellips axi b full width minor axi doubl unit micromet requir rot valu ellips axi rotat doubl unit degre posit angl counterclockwis neg clockwis rel orient aaxi align xdirect requir truncnorm place fascicl nerv size eccentr randomli base truncat normal distribut rotat fascicl randomli drawn uniform distribut degre mu_fasc_diam valu doubl unit micromet mean fascicl diamet distribut requir std_fasc_diam valu doubl unit micromet standard deviat fascicl diamet distribut requir n_std_diam_limit valu doubl limit number standard deviat truncat normal fascicl diamet distribut valu need integ requir num_fascicle_attempt valu integ number differ fascicl distribut program attempt place requir num_fascicle_attempt equal num_fascicle_plac warn print consol instruct user reduc number size andor separ fascicl num_fascicle_plac valu integ number success place fascicl nerv cross section automat popul num_fascicle_attempt equal num_fascicle_plac warn print consol instruct user reduc number size andor separ fascicl mu_fasc_ecc valu doubl mean fascicl eccentr distribut must set circl requir std_fasc_ecc valu doubl unit micromet standard deviat fascicl eccentr distribut requir n_std_ecc_limit valu doubl limit number standard deviat truncat normal fascicl eccentr distribut requir max_attempt_it valu integ number differ random locat within nerv program attempt place fascicl skip presum possibl fit nerv recommend use requir min_fascicle_separ valu doubl unit micromet determin minimum distanc fascicl boundari binari mask imag pipelin allow without throw error valu control separ requir fascicl binari mask separ paramet forc distanc postdeform nerv fascicl fascicl nerv boundari samplejson requir seed valu integ initi random number gener requir uniform place fascicl nerv size eccentr randomli base uniform distribut rotat fascicl randomli drawn uniform distribut degre lower_fasc_diam valu doubl unit micromet lower limit uniform distribut fascicl diamet requir upper_fasc_diam valu doubl unit micromet upper limit uniform distribut fascicl diamet requir num_fascicle_attempt valu integ number differ fascicl distribut program attempt place requir num_fascicle_attempt equal num_fascicle_plac warn print consol instruct user reduc number size andor separ fascicl num_fascicle_plac valu integ number success place fascicl nerv cross section automat popul num_fascicle_attempt equal num_fascicle_plac warn print consol instruct user reduc number size andor separ fascicl lower_fasc_ecc valu doubl lower limit uniform distribut fascicl eccentr must set circl requir upper_fasc_ecc valu doubl upper limit uniform distribut fascicl eccentr must set circl requir max_attempt_it valu integ number differ random locat within nerv program attempt place fascicl skip presum possibl fit nerv recommend use requir min_fascicle_separ valu doubl unit micromet determin minimum distanc fascicl boundari binari mask imag pipelin allow without throw error valu control separ requir fascicl binari mask separ paramet forc distanc postdeform nerv fascicl fascicl nerv boundari samplejson requir seed valu integ initi random number gener requir exampl global name alien scalebar_length nerv b rot figur fig_margin fig_dpi popul mode uniform lower_fasc_diam upper_fasc_diam num_fascicle_attempt num_fascicle_plac lower_fasc_ecc upper_fasc_ecc max_attempt_it min_fascicle_separ seed modeljson name file samplessample_indexmodelsmodel_indexmodeljson purpos contain userdefin mode paramet use construct fem model provid parameter control model geometri dimens cuff electrod materi assign spatial discret fem mesh solut addit modeljson store mesh solv statist syntax declar entiti samplessample_indexmodelsmodel_indexmodeljson use follow syntax mode rho_perineurium string cuff_shift string fiber_z string use_ci boolean medium proxim distant_ground boolean length doubl radiu doubl distal exist boolean distant_ground boolean length doubl radiu doubl shift x doubl doubl z doubl inner_interp_tol doubl outer_interp_tol doubl nerve_interp_tol doubl cuff preset string rotat pos_ang doubl add_ang doubl shift x doubl doubl z doubl min_radius_enclosing_circl doubl mesh name string shape_ord integ proxim type im string name string hmax doubl hmin doubl hgrad doubl hcurv doubl hnarrow doubl mesh_tim doubl distal type im string name string hmax doubl hmin doubl hgrad doubl hcurv doubl hnarrow doubl mesh_tim doubl stat quality_measur string number_el doubl min_qual doubl mean_qual doubl min_volum doubl volum doubl frequenc doubl temperatur doubl conduct recess string medium string fill string insul string conductor string endoneurium string perineurium label string valu doubl epineurium string solver sorder string name string solut sol_tim doubl properti mode rho_perineurium valu string perineuriumresistivitymod tell program calcul perineurium conduct frequenc andor temperatur depend way requir list enum textsenum known perineuriumresistivitymod includ rho_weerasuriya program use mean circuit c weerasuriya frog sciatic nerv textsdefinitionofperineurium adjust perineurium conduct account temperatur frequenc store modeljson manual program use userdefin valu conduct conduct perineurium autom correct frequenc cuff_shift valu string cuffshiftmod tell program shift cuff nerv sscreatingcustompresetcuffsfrominstancesofpartprimit sscuffplacementonnerv text requir list enum textsenum known mode includ naive_rotation_min_circle_boundari program shift cuff within userdefin distanc minimum bound circl nerv sampl direct shift defin preset cuff json file sscreatingcustompresetcuffsfrominstancesofpartprimit sscuffplacementonnerv text sinc mode align cuff sampl centroid orient mask atif ignor naive_rotation_trace_boundari program shift cuff within userdefin distanc nerv trace boundari direct shift defin preset cuff json file sscreatingcustompresetcuffsfrominstancesofpartprimit sscuffplacementonnerv text sinc mode align cuff sampl centroid orient mask atif ignor auto_rotation_min_circle_boundari program shiftsrot cuff within userdefin distanc minimum bound circl nerv sampl align slide fascicle_centroid direct shift defin preset cuff json file sscreatingcustompresetcuffsfrominstancesofpartprimit sscuffplacementonnerv text auto_rotation_min_trace_boundari program shiftsrot cuff within userdefin distanc nerv trace boundari align slide fascicle_centroid direct shift defin preset cuff json file sscreatingcustompresetcuffsfrominstancesofpartprimit sscuffplacementonnerv text none program keep nerv centroid cuff center xy cuff rotat perform sscreatingcustompresetcuffsfrominstancesofpartprimit sscuffplacementonnerv text note mode ignor suppli orient imag atif fiber_z valu string fiberzmod tell program seed neuron fiber along length fem current implement pipelin valu must extrus requir use_ci valu boolean true tell program whether model fascicl outer singl inner sheet resist ie comsol contact imped simplifi mesh model valu fals program mesh perineurium fascicl note fascicl one inner per outer alway mesh perineurium medium medium json object contain inform size posit boundari condit ie ground extern surfac proxim ie cylind contain full length nerv cuff electrod distal ie surround medium domain requir proxim proxim json object key distant_ground boolean set outer surfac ground true fals set outer surfac current conserv ie perfectli insul length doubl unit micromet radiu doubl unit micromet cylindr medium proxim cylindr medium center origin xyz xyorigin centroid nerv sampl ie bestfit ellips tracenerv extend posit zdirect length nerv warn print consol user set distant_ground true distal domain exist see distal requir distal distal json object key analog proxim json object contain addit key exist boolean shift json object contain keyvalu pair doubl exist key allow user toggl exist distal medium intend use appli coarser mesh paramet proxim medium contain nerv cuff electrod along full length nerv shift json object provid control user move distal medium around proxim medium xyz doubl unit micromet option inner_interp_tol valu doubl set rel toler represent inner trace comsol valu set curv jag increas valu paramet increas smooth curv comsol close curv set interpol point curv continu first secondord deriv gener find interpol toler rang appropri user check interpol toler set correctli input nerv sampl morpholog see comsol documentationhttpsdoccomsolcomdoccomcomsolhelpcomsolcomsol_ref_geometryhtml info requir outer_interp_tol valu doubl set rel toler represent outer trace comsol valu set curv jag increas valu paramet increas smooth curv comsol close curv set interpol point curv continu first secondord deriv gener find interpol toler rang appropri user check interpol toler set correctli input nerv sampl morpholog see comsol documentationhttpsdoccomsolcomdoccomcomsolhelpcomsolcomsol_ref_geometryhtml info requir nerve_interp_tol valu doubl set rel toler represent nerv ie epineurium trace comsol valu set curv jag increas valu paramet increas smooth curv comsol close curv set interpol point curv continu first secondord deriv gener find interpol toler rang appropri user check interpol toler set correctli input nerv sampl morpholog see comsol documentationhttpsdoccomsolcomdoccomcomsolhelpcomsolcomsol_ref_geometryhtml info requir cuff cuff json object contain keyvalu pair defin cuff model nerv addit place nerv ie rotat translat user would like loop preset cuff design must creat model model index cuff preset requir preset valu string indic cuff model select list filenam preset cuff configsystemcuffsfilenamejson fig ahttpsdoiorgjournalpcbig textscreatingcustompresetcuffsfrominstancesofpartprimit requir rotat contain two key pos_ang automat popul base cuffshiftmod ie cuff_shift paramet model add_ang option set user rotat cuff addit angl textscuffplacementonnerv pos_ang doubl unit degre calcul pipelin auto cuffshiftmod textscuffplacementonnerv add_ang doubl unit degre userdefin add addit rotat counterclockwis direct paramet specifi default valu option shift contain three key x z automat calcul base cuffshiftmod key defin translat cuff cartesian coordin system doubl unit micromet valu automat popul pipelin base cuffshiftmod ie cuff_shift paramet within mode origin xy correspond centroid nerv sampl fascicl bestfit ellips trace monofascicular shift zdirect along proxim medium ie nerv length rel cuff center defin preset json file min_radius_enclosing_circl valu doubl unit micromet automat defin program radiu minimum bound circl sampl use place cuff nerv certain cuffshiftmod automat calcul mesh mesh json object contain keyvalu pair defin comsol mesh paramet requir userdefin result mesh statist automat calcul name mesher ident string use current pipelin implement comsol support eg comsol multiphys requir shape_ord order geometr shape function integ eg quadrat requir end list proxim mesh paramet proxim cylindr domain defin medium requir textscontrolofmediumsurroundingnerveandcuffelectrod type json object contain parametersdefinit specif mesh discret method eg free tetrahedr ftet recommend free tetrahedr mesh requir textscontrolofmediumsurroundingnerveandcuffelectrod im comsol index prefix string eg free tetrahedr ftet requir name comsol system name string creat mesh eg freetet requir hmax maximum element size doubl unit micromet recommend requir hmin minimum element size doubl unit micromet recommend requir hgrad maximum element growth doubl recommend requir hcurv curvatur factor doubl recommend requir hnarrow resolut narrow region doubl recommend requir mesh_tim cpu time requir mesh build doubl unit millisecond automat popul distal mesh paramet distal cylindr domain defin medium requir distal domain present see medium type json object contain parametersdefinit specif mesh discret method eg free tetrahedr ftet recommend free tetrahedr mesh requir textscontrolofmediumsurroundingnerveandcuffelectrod im comsol index prefix string eg free tetrahedr ftet requir name comsol system name string creat mesh eg freetet requir hmax maximum element size doubl unit micromet recommend requir hmin minimum element size doubl unit micromet recommend requir hgrad maximum element growth doubl recommend requir hcurv curvatur factor doubl recommend requir hnarrow resolut narrow region doubl recommend requir mesh_tim cpu time requir mesh build doubl unit millisecond automat popul stat mesh statist see comsol document detail automat popul quality_measur string eg skew maxangl volcircum vollength condit growth number_el integ min_qual doubl mean_qual doubl min_volum doubl volum doubl frequenc defin frequenc valu use frequencydepend materi conduct doubl unit hz textsdefinitionofperineurium requir perineuriumresistivitymod rho_weerasuriya temperatur defin temperatur nerv environ use defin temperaturedepend materi conduct ion channel mechan neuron doubl unit celsiu requir user must verifi mod file adjust q valu temperatur verifi temperatur c conduct conduct json object contain keyvalu pair assign materi either previous defin materialsjson string explicitli defin place json object materi function ie cuff insul contact conductor contact recess cuff fill endoneurium perineurium epineurium materi function assign domain part primit requir contact primit contain select recess domain recess materi must assign even recess domain preset parameter implement materi defin place json object valu follow structur label commun type materi assign domain string label use assign materi domain textsdefiningandassigningmaterialsincomsol requir valu requir materi conduct isotrop materi string unit sm string anisotrop addit key sigma_x sigma_i sigma_z valu string unit sm requir solver solver json object contain keyvalu pair control solver requir sorder order solut shape function string eg quadrat requir name solver ident string use current pipelin implement comsol support eg comsol multiphys requir solut solut json object contain keyvalu pair keep record fem solver process current inform store json object cpu solut time sol_tim unit millisecond option exampl mode rho_perineurium rho_weerasuriya cuff_shift auto_rotation_min_circle_boundari fiber_z extrus use_ci true medium proxim distant_ground fals length radiu distal exist true distant_ground true length radiu shift x z inner_interp_tol outer_interp_tol nerve_interp_tol cuff preset cortecjson rotat add_ang pos_ang shift x z min_radius_enclosing_circl mesh name comsol multiphys shape_ord proxim type im ftet name freetet hmax hmin hgrad hcurv hnarrow mesh_tim distal type im ftet name freetet hmax hmin hgrad hcurv hnarrow mesh_tim stat quality_measur vollength number_el min_qual mean_qual min_volum volum frequenc exampl chang materi properti occur temperatur conduct recess salin medium muscl fill salin insul silicon conductor platinum endoneurium endoneurium perineurium label rho_weerasuriya hz valu epineurium epineurium solver sorder quadrat name comsol multiphys solut sol_tim simjson name file configusersimssim_indexjson purpos instruct pipelin userdefin paramet use construct neuron simul directori sim provid parameter control cuff electrod contact weight fiber model placement fem extracellular stimul waveform intracellular stimul flag indic output save eg state variabl channel gate mechan transmembran potenti intracellular stimul stimul thresholdfind protocol sssimulationprotocol ssneuronwrapperhoc ssdataanalysistool text syntax declar entiti configusersim use follow syntax n_dimens integ plot_fold boolean active_src cortecjson doubl doubl exampl default fiber plot boolean mode string xy_trace_buff doubl z_paramet exampl diamet paramet defin fix diamet fiber diamet doubl exampl diamet paramet trunchnorm ie diamet truncat normal distribut compat mrg_interpol myelin unmyelin fiber type diamet mode trunchnorm mu doubl std doubl n_std_limit doubl seed integ exampl diamet paramet uniform ie diamet uniform distribut compat mrg_interpol myelin unmyelin fiber type diamet mode uniform upper doubl lower doubl seed integ min doubl max doubl full_nerve_length boolean offset doubl omit random jitter within internod length seed integ exampl xy paramet centroid bestfit ellips trace xy_paramet mode centroid exampl xy paramet uniform_count xy_paramet mode uniform_count count integ seed integ exampl xy paramet wheel xy_paramet mode wheel spoke_count integ point_count_per_spok integ find_centroid boolean centroid inner polygon angle_offset doubl angle_offset_is_in_degre boolean exampl xy paramet explicit xy_paramet mode explicit exampl xy paramet uniform_dens xy_paramet mode uniform_dens top_down boolean top_down true target_dens doubl minimum_numb integ top_down fals target_numb integ maximum_numb integ top_down true fals seed integ waveform plot boolean global dt doubl doubl doubl stop doubl exampl waveform monophasic_pulse_train monophasic_pulse_train pulse_width doubl pulse_repetition_freq doubl digit integ exampl waveform sinusoid sinusoid pulse_repetition_freq doubl digit integ exampl waveform biphasic_full_duti biphasic_full_duti pulse_repetition_freq doubl digit integ exampl waveform biphasic_pulse_train biphasic_pulse_train pulse_width doubl inter_phas doubl pulse_repetition_freq doubl digit integ exampl waveform biphasic_pulse_train_q_balanced_uneven_pw biphasic_pulse_train_q_balanced_uneven_pw pulse_width_ doubl pulse_width_ doubl inter_phas doubl pulse_repetition_freq doubl digit integ exampl waveform explicit explicit index integ dt_atol doubl period_repeat integ intracellular_stim time pw doubl intrastim_pulsetrain_delay doubl intrastim_pulsetrain_dur doubl pulse_repetition_freq doubl amp doubl ind integ save space vm boolean gate boolean time doubl time vm boolean gate boolean istim boolean loc doubl string end_ap_tim loc_min doubl loc_max doubl threshold doubl runtim boolean exampl protocol finite_amplitud protocol mode finite_amplitud initss doubl dt_initss doubl amplitud doubl doubl exampl protocol activation_threshold protocol mode activation_threshold string initss doubl dt_initss doubl threshold valu doubl n_min_ap integ ap_detect_loc doubl bounds_search mode string top doubl bottom doubl step doubl termination_criteria mode absolute_differ percent doubl exampl protocol block_threshold protocol mode block_threshold string initss doubl dt_initss doubl threshold valu doubl n_min_ap integ ap_detect_loc doubl bounds_search mode string top doubl bottom doubl step doubl termination_criteria mode string percent doubl supersampled_bas gener boolean use boolean dz doubl source_sim integ properti n_dimens valu integ number paramet sim list provid rather singl valu user set number paramet loop eg loop waveform puls width fiber diamet n_dimens includ control prevent user accident creat unintend neuron simul pipelin loop first ndimens requir plot_fold valu boolean tell program whether output plot folder true popup window fals specifi program assum fals true plot save folder simul directori ie samplessample_indexmodelsmodel_indexsimssim_indexplot active_src valu json object contain keyvalu pair contact weight preset cuff valu listlistdoubl contact weight use make extracellular potenti input neuron simul valu exceed magnitud otherwis error thrown monopolar cuff electrod valu either cuff electrod one contact sum weight preset cuff key active_src list contact weight default key use requir potenti singl fiber calcul follow way default weight default weightsubsub src weightsubsub src f f valu potenti appli model fiber neuron multipli stimul amplitud either list finit amplitud binari search threshold textssimulationprotocol f fiber valu json object contain keyvalu pair defin potenti sampl fem applic extracellular potenti neuron ie cartesian coordin midpoint compart ie section segment along length fiber requir plot valu boolean tell program plot fiber xycoordin user inspect whether figur pop save control plot_fold paramet requir mode valu string fibergeometri mode tell program fiber geometri simul neuron ssimplementationofneuronfibermodel ssneuronwrapperhoc text requir list enum enumssenum known mode includ mrg_discret publish mrg fiber model mrg_interpol interpol discret diamet publish mrg fiber model tigerholm publish cfiber model sundt publish cfiber model rattay publish cfiber model user simul novel fiber type use pipelin must defin spatial discret point within configsystemfiber_zjson file match dimens fiber compart connect neuron fibergeometri mode paramet fiber json object sim must match key configsystemfiber_zjson select defin fiber type eg mrg requir specif fiber diamet xy_trace_buff valu doubl unit micromet indic minimum requir distanc xycoordin given fiber inner boundari sinc domain boundari model comsol interpol curv exact morpholog boundari coordin read comsol close exactli equal use python seed fiber locat protect instanc fiber fall within nerv boundari trace exact python trace comsol interpol trace provid paramet requir z_paramet valu json object contain keyvalu pair instruct system seed fiber along length nerv requir diamet valu take multipl form defin fiber diamet user simul neuron ssimplementationofneuronfibermodel ssneuronwrapperhoc text valu control simul either fix diamet fiber fiber chosen distribut diamet note simul distribut fiber diamet compat mrg_interpolationmyelin unmyelin fiber type mrg_discret sim one mode defin fiber diamet use requir fix diamet valu doubl listdoubl unit micromet diamet fiber model use mrg_discret diamet must member set publish diamet distribut diamet valu dictionari keyvalu pair defin distribut diamet base mode paramet either truncnorm uniform truncnorm mode truncnorm string requir mu valu doubl unit micromet mean diamet truncat normal distribut requir std valu doubl unit micromet diamet standard deviat truncat normal distribut requir n_std_limit valu doubl number standard deviat mean bound truncat normal distribut requir seed valu integ unitless seed random number gener sampl fiber diamet uniform mode uniform string requir upper valu doubl unit micromet upper limit distribut diamet requir lower valu doubl unit micromet lower limit distribut diamet requir seed valu integ seed random number gener sampl fiber diamet min valu doubl listdoubl unit micromet distal extent seed fiber along length nerv closer z option min max provid fiber length assum proxim medium length see modeljson max valu doubl listdoubl unit micromet distal extent seed fiber along length nerv closer z length proxim medium defin modeljson length nerv option min max provid fiber length assum proxim medium length default full_nerve_length boolean option true suppress warn messag associ use full length nerv min max defin must fals defin min max defin offset valu doubl listdoubl fraction nodenod length myelin fiber segment length unmyelin fiber center coordin fiber shift along zaxi longitudin center proxim medium option defin offset randomli select sectionseg length avoid random longitudin placement set offset valu offset seed valu integ seed random number gener random offset creat requir offset defin case program use random offset xy_paramet valu json object contain keyvalu pair instruct system seed fiber locat sampl potenti insid inner nerv cross section fig bhttpsdoiorgjournalpcbig includ one version block simjson file requir mode valu string fiberxymod tell program seed fiber locat insid inner nerv cross section requir list enum enumssenum known mode includ centroid place one fiber centroid ie bestfit ellips inner inner paramet requir uniform_count randomli place number fiber inner regardless inner size count valu integ number fiber per inner requir seed valu integ seed random number gener instanti point pick algorithm fiber xycoordin start requir wheel place fiber inner follow pattern radial spoke geometr centroid spoke_count valu integ number radial spoke requir point_count_per_spok valu integ number fiber place spoke centroid ie exclud centroid requir find_centroid valu boolean true tell program includ geometr centroid fiber coordin requir angle_offset valu doubl either degre radian depend next paramet angle_offset_is_in_degre set direct first spoke wheel rest spoke equal space radial base spoke_count requir angle_offset_is_in_degre valu boolean true tell program interpret angle_offset degre fals program interpret angle_offset radian requir explicit mode look explicittxt file user save simul directori samplessample_indexmodelsmodel_indexsimssim index userspecifi fiber xycoordin see configtemplatesexplicittxt note file requir user use explicit fiberxymod error thrown explicitli defin coordin insid inner paramet requir uniform_dens place fiber randomli inner achiev consist number fiber per unit area top_down valu boolean dictat pipelin determin mani fiber seed inner requir top_down true program determin number fiber per inner target_dens number fiber inner less minimum_numb minimum number use target_dens valu doubl densiti fibersµmsupsup requir top_down true minimum_numb valu integ minimum number fiber program place inner requir top_down true top_down fals ie bottomup program determin number fiber per unit area ie fiber densiti target_numb area smallest inner number fiber inner maximum_numb maximum number use target_numb valu integ number fiber place smallest inner requir top_down fals maximum_numb valu integ maximum number fiber place largest inner requir top_down fals seed valu integ seed random number gener instanti point pick algorithm fiber xycoordin start requir waveform waveform json object contain keyvalu pair instruct system set global time discret set stimul waveform paramet fig chttpsdoiorgjournalpcbig requir plot valu boolean turn plot waveform figur onoff waveform written file whether figur pop save control plot_fold paramet global valu json object contain keyvalu pair defin neuron time discret paramet requir dt valu doubl unit millisecond time step use neuron simul fiber respons electr stimul requir valu doubl unit millisecond time extracellular stimul turn requir valu doubl unit millisecond time extracellular stimul turn requir stop valu doubl unit millisecond time simul stop requir user must also provid one follow json object contain waveformmodespecif paramet user loop paramet one type waveform sim note digit paramet follow wareformmod set precis unscal current amplitud waveform ever eg monophasic_pulse_train biphasic_full_duti biphasic_pulse_train user repres waveform faith digit precis howev waveform assum intermedi valu eg sinusoid biphasic_pulse_train_q_balanced_uneven_pw explicit digit precis may requir achiev numer accuraci excess number digit precis increas comput load wast storag resourc note one paramet valu waveformmod json object list n_sim folder creat mani waveform paramet valu list one paramet valu list n_sim folder creat combin waveform paramet among list ie cartesian product monophasic_pulse_train pulse_width valu doubl listdoubl unit millisecond durat width monophas rectangular puls requir pulse_repetition_freq valu doubl listdoubl unit hz rate individu puls deliv requir digit valu integ number digit precis use save waveform file requir sinusoid pulse_repetition_freq valu doubl listdoubl unit hz frequenc sinusoid requir digit valu integ number digit precis use save waveform file requir biphasic_full_duti waveform consist biphas symmetr rectangular puls time repetit biphas puls henc full duti cycl design thu phase width ie durat one phase symmetr puls equal half period defin specifi pulse_repetition_freq waveform special case biphasic_pulse_train_q_balanced_uneven_pw pulse_repetition_freq valu doubl listdoubl unit hz rate individu puls deliv requir digit valu integ number digit precis use save waveform file requir biphasic_pulse_train waveform consist biphas symmetr rectangular puls phase width ie durat one phase symmetr puls defin pulse_width two phase biphas symmetr puls may space gap defin inter_phas waveform special case biphasic_pulse_train_q_balanced_uneven_pw pulse_width valu doubl listdoubl unit millisecond durat width one phase biphas rectangular puls requir inter_phas valu doubl listdoubl unit millisecond durat time first second phase biphas rectangular puls requir pulse_repetition_freq valu doubl listdoubl unit hz rate individu puls deliv requir digit valu integ number digit precis use save waveform file requir biphasic_pulse_train_q_balanced_uneven_pw waveform consist biphas rectangular puls chargedbalanc ie charg first phase equal charg second phase defin asymmetr two phase differ durat defin pulse_width_ pulse_width_ two phase biphas puls may space gap defin inter_phas pulse_width_ valu doubl listdoubl unit millisecond durat width first phase posit amplitud biphas rectangular puls requir pulse_width_ valu doubl listdoubl unit millisecond durat width second phase neg amplitud biphas rectangular puls requir inter_phas valu doubl listdoubl unit millisecond durat time primari secondari phase biphas rectangular puls amplitud requir pulse_repetition_freq valu doubl listdoubl unit hz rate individu puls deliv requir digit valu integ number digit precis use save waveform file requir explicit index valu integ index explicit userprovid waveform store configuserwaveformswaveform indexdat time step first line follow current amplitud valu unscal maximum amplitud time step subsequ line requir dt_atol valu doubl unit millisecond toler allow time step defin explicit waveform file timestep use neuron simul see global differ time step larger dt_atol user explicit waveform interpol resampl global timestep use neuron use scipi signal process packag scipysign requir period_repeat number time integ input signal repeat stimul turn signal pad zero simul start ie well end addit signal pad zero accommod extra time number period repeat requir intracellular_stim valu json object contain keyvalu pair defin set monophas puls train intracellular stimulu ssneuronlaunchhoc ssneuronwrapperhoc text requir time keyvalu pair defin time durat characterist intracellular stimul requir pw valu doubl unit millisecond defin puls durat intracellular stimul requir intrastim_pulsetrain_delay valu doubl unit millisecond defin delay start simul ie onset intracellular stimul requir intrastim_pulsetrain_dur valu doubl unit millisecond defin durat start simul ie end intracellular stimul requir pulse_repetition_freq valu doubl unit hz defin intracellular stimul frequenc requir amp valu doubl unit na defin intracellular stimul amplitud requir ind valu integ defin section index unmyelin node ranvier number myelin receiv intracellular stimul number sectionsnod ranvier index start end fiber closest z requir save valu json object contain keyvalu pair defin state variabl neuron save simul timesloc ssneuronlaunchhoc ssneuronwrapperhoc text requir space vm valu boolean true tell program save transmembran potenti segment unmyelin section myelin time stamp defin time see requir gate valu boolean true tell program save channel gate paramet segment unmyelin section myelin time valu defin time see note implement mrg fiber requir time valu listdoubl unit millisecond contain time simul save valu state variabl ie gate vm user select save segment unmyelin section myelin requir time vm valu boolean true tell program save transmembran potenti time step locat defin loc see requir gate valu boolean true tell program save channel gate paramet time step locat defin loc see note implement mrg fiber requir istim valu boolean true tell program save appli intracellular stimul time step requir loc valu listdoubl string unit none contain locat defin decim percentag eg along fiber length save valu state variabl user select save timestep altern user use valu string prompt program save state variabl segment unmyelin section myelin requir end_ap_tim loc_min valu doubl tell program locat save time vsubmsub pass threshold voltag defin posit slope valu must less valu loc_max certain record end section ie passiv valu correspond z valu correspond zlength proxim domain requir json object option includ loc_max valu doubl tell program locat save time vsubmsub pass threshold voltag defin posit slope valu must greater valu loc_min certain record end section ie passiv valu correspond z valu correspond zlength proxim domain requir json object option includ threshold valu doubl unit mv threshold valu vsubmsub pass action potenti detect requir json object option includ runtim valu boolean true tell program save neuron runtim either finit amplitud binari search threshold simul keyvalu pair omit default behavior fals protocol mode valu string neuronrunmod tell program run activ threshold block threshold list extracellular stimul amplitud ssneuronlaunchhoc ssneuronwrapperhoc text requir list enum textsenum known neuronrunmod includ activation_threshold block_threshold finite_amplitud initss valu doubl hint neg zero unit millisecond time allow system reach steadi state start simul proper requir dt_initss valu doubl unit millisecond time step usual larger dt global json object see use reach steadi state neuron simul start simul proper requir amplitud valu listdoubl unit contain extracellular current amplitud simul requir run finite_amplitud neuronrunmod threshold json object contain keyvalu pair defin constitut threshold achiev requir threshold find protocol ie activation_threshold block_threshold valu valu doubl unit mv transmembran potenti must cross rise edg neuron code count action potenti requir threshold find protocol ie activation_threshold block_threshold n_min_ap valu integ number action potenti must detect amplitud consid threshold requir threshold find protocol ie activation_threshold block_threshold ap_detect_loc valu doubl locat rang ie fiber length zdirect action potenti detect threshold find protocol ie activation_threshold block_threshold note use fiber model passiv end node user tri detect action potenti either end fiber requir threshold find protocol ie activation_threshold block_threshold bounds_search valu json object contain keyvalu pair defin search upper lower bound binari search algorithm textssimulationprotocol requir threshold find protocol ie activation_threshold block_threshold mode valu string searchamplitudeincrementmod tell program chang initi upper lower bound binari search bound adjust iter initi upper bound ie top activatesblock initi lower bound activateblock start binari search textssimulationprotocol requir list enum textsenum known searchamplitudeincrementmod includ absolute_incr current upper bound activateblock increas upper bound fix step amount eg lower bound activatesblock decreas lower bound fix step amount eg percent_incr upper bound activateblock increas upper bound step percentag eg lower bound activatesblock decreas lower bound step percentag eg top valu doubl upperbound stimul amplitud first test binari search threshold requir bottom valu doubl lowerbound stimul amplitud first test binari search threshold requir step valu doubl increment increasedecreas upperlow bound binari search requir absolute_incr valu doubl unit increment milliamp percent_incr valu doubl unit percentag eg end list termination_criteria requir threshold find protocol ie activation_threshold block_threshold textssimulationprotocol mode valu string terminationcriteriamod tell program upper lower bound converg solut appropri precis requir list enum textsenum known terminationcriteriamod includ absolute_differ upper bound lower bound binari search within fix toler amount eg upper bound valu threshold toler valu doubl absolut differ upper lower bound binari search find threshold unit requir percent_differ upper bound lower bound binari search within rel percent amount eg upper bound valu threshold mode gener recommend absolute_differ approach requir adjust toler suitabl differ threshold magnitud percent valu doubl percent differ upper lower bound binari search find threshold eg requir supersampled_bas option requir either gener reus supersampl base memori effici process elimin need longterm storag base comsol mph file control supersampled_bas belong sim xyfib locat nerv determin sim potenti sampl dens along length nerv xyfib locat futur pipelin run differ fiber type simul locat nerv cross section without load comsol file memori gener valu boolean indic program creat supersampl fiber coordin supersampl base ie sampl potenti comsol requir gener ss_base use valu boolean true direct program interpol supersampl base creat extracellular potenti input neuron fals program sampl along length comsol fem coordin explicitli requir fiber requir gener ss_base dz valu doubl unit micromet spatial sampl supersampl base requir gener ss_base source_sim valu integ sim index contain supersampl base user set gener use true user indic index current sim requir gener ss_base end list exampl n_dimens plot_fold true active_src cortecjson fiber plot true mode mrg_discret xy_trace_buff z_paramet diamet min max full_nerve_length fals offset seed xy_paramet mode uniform_dens top_down true minimum_numb top_down true target_dens top_down true maximum_numb top_down fals target_numb top_down fals seed waveform plot true global dt stop biphasic_pulse_train pulse_width inter_phas pulse_repetition_freq digit intracellular_stim time pw intrastim_pulsetrain_delay intrastim_pulsetrain_dur pulse_repetition_freq amp ind save space vm fals gate fals time time vm fals gate fals istim fals loc ap_end_tim loc_min loc_max threshold runtim fals protocol mode activation_threshold initss dt_initss threshold valu n_min_ap ap_detect_loc bounds_search mode percent_incr top bottom step termination_criteria mode percent_differ percent supersampled_bas gener true use true dz source_sim query_criteriajson name file configuserquery_criteriaqueri criteria indexjson purpos use guid queri classs search algorithm run _match method use pull sampl model sim indic data analysi query_criteriajson dictat given sampl model sim fit user restrict paramet valu textsdataanalysistool syntax partial_match boolean include_downstream boolean sampl empti null omit model empti null omit sim empti null omit indic sampl null integ integ model null integ integ sim null integ integ properti partial_match valu boolean indic whether queri return configur indic sampl model sim partial match ie subset paramet found include_downstream valu boolean indic whether queri return indic downstream sampl model sim configur exist match criteria provid sampl valu json object mirror path paramet interest sampl valu model valu json object mirror path paramet interest model valu sim valu json object mirror path paramet interest sim valu indic sampl valu null integ integ explicitli desir sampl indic model valu null integ integ explicitli desir model indic sim valu null integ integ explicitli desir sim indic note list desir sampl model sim indic search criteria one query_criteriajson exampl partial_match true include_downstream true sampl sampl rat model medium proxim length sim null indic sampl null model null sim null envjson name file configsystemenvjson purpos file contain keyvalu pair path file automat popul run env_setuppi textsinstal note prepend key file ascent keyvalu pair directli store environ variabl ascent key distinguish pair path may present comput syntax declar entiti configsystemenvjson use follow syntax ascent_comsol_path string ascent_jdk_path string ascent_project_path string ascent_nsim_export_path string properti ascent_comsol_path valu string path local comsol instal ascent_jdk_path valu string path local java jdk instal ascent_project_path valu string path local ascent repositori ascent_nsim_export_path valu string path pipelin save neuron simul directori submit exampl end list window ascent_comsol_path cprogram filescomsolcomsolmultiphys ascent_jdk_path cprogram filesjavajdk_bin ascent_project_path ddocumentsasc ascent_nsim_export_path ddocumentsascentsubmit maco ascent_comsol_path applicationscomsolmultiphys ascent_jdk_path libraryjavajavavirtualmachinesjdk_jdkcontentshomebin ascent_project_path usersericmusselmandocumentsasc ascent_nsim_export_path usersericmusselmandocumentsascentsubmit exceptionsjson name file configsystemexceptionsjson purpos file contain list json object one document pipelin except note file singl larg array wrap squar bracket oppos json file wrap curli brace syntax declar entiti configsystemenvjson use follow syntax code integ text string properti code valu integ identifi enabl easi refer specif except use exception selfthrowcode_index valu must uniqu exeption class use valu find given except suggest increment code success except akin index number work long valu uniqu text valu string messag user explain pipelin fail exampl code text invalid code bound start index materialsjson name file configsystemmaterialsjson purpos store default materi tissu properti pipelin use fem syntax declar entiti configsystemmaterialsjson use follow syntax conduct endoneurium exampl syntax anisotrop medium valu anisotrop sigma_x string sigma_i string sigma_z string unit string refer string n string epineurium exampl syntax isotrop medium valu string unit string refer string n string properti materi valu json object contain conduct valu unit string though use string may seem odd store conduct valu read directli comsol defin materi comsol expect string evalu express valu conduct materi anisotrop valu must unit sm valu anisotrop system expect addit key valu cartesian direct sigma_x valu string conduct xdirect unit sm sigma_i valu string conduct ydirect unit sm sigma_z valu string conduct zdirect unit sm unit unit associ conduct squar bracket must sm refer valu dictionari contain citat sourc materi conduct use content nonfunct ie use code serv point inform refer good bookkeep refer use assign keyvalu pair option end list exampl end list see configsystemmaterialsjson see builtin materi definit user may add conduct endoneurium valu anisotrop sigma_x sigma_i sigma_z unit sm epineurium valu unit sm note perineurium repres pipelin either mesh domain finit thick thin layer approxim conduct valu use either method defin materialsjson unless perineuriumresistivitymod manual conduct defin explicitli model sdefinitionofperineurium ci_peri_thicknessjson name file configsystemci_peri_thicknessjson purpos file store perineuriumthicknessmod definit referenc samplejson ci_perineurium_thick assign perineurium thick valu fascicl mask inner ci_perineurium_thick specifi measur calcul thick may explicitli built fem geometri mesh ie use_ci model fals may use calcul contact imped model perineurium thin layer approxim sscreatingsamplespecificnervemorphologiesincomsol ssdefinitionofperineurium text syntax ci_perineurium_thickness_paramet grinberg_ doubl b doubl properti perineuriumthicknessmod json object contain keyvalu pair defin relationship fascicl diamet micromet perineurium thick requir valu doubl unit µmµm thick ax b b valu doubl unit µm thick ax b end list exampl end list see configsystemci_peri_thicknessjson see builtin perineuriumthicknessmod relationship mesh_dependent_modeljson name file configsystemmesh_dependent_modeljson purpos file chang unless user add new paramet model use file happen behind scene file inform modelsearch class textsjavautilityclass two model configur constitut mesh match ie mesh previous solv ident model recycl note modifi structur modeljson pipelin expect file structur chang well boolean paramet true paramet valu two model must ident constitut mesh match boolean paramet fals paramet valu two model differ still constitut mesh match process identifi mesh match autom perform recycle_mesh paramet run true syntax declar entiti configsystemmesh_dependent_modeljson use follow syntax end list keyvalu structur pair model valu type boolean true paramet valu two model configur must ident constitut mesh match fals paramet valu two model configur differ still constitut mesh match end list properti see modeljson exampl see configsystemmesh_dependent_modeljson note user need chang file unless ad new paramet model expandedmodifi pipelin function refer weerasuriya spangler ra rapoport si taylor ac imped perineurium frog sciatic nerv biophi j aug avail httpsdxdoiorgfshttpsdxdoiorgf virtanen p gommer r oliph te haberland reddi cournapeau et al scipi fundament algorithm scientif comput python nat method internet avail httpsdoiorg httpsdoiorg f httpschartapisgooglecomchartchttxchlesqrtfracba f httpschartapisgooglecomchartchttxchlv_eamplitudepotenti f httpschartapisgooglecomchartchttxchlpotentialsweight_bases_xyzbweight_bases_xyz f httpschartapisgooglecomchartchttxchlpotentialsbases_xyzbbases_xyz python util class configur configur inherit python class ascent pipelin grant access paramet data configur json file load memori configur builtin except throw index neg convent intrins unabl inherit exception error index convent turn exception configur inherit configur class configur import class develop understand mechan instanc python class inherit properti json configur file eg samplejson modeljson simjson fiber_zjson configur class take three input paramet setupmod enum textsenum either new old determin configur load new json file use data alreadi creat python memori dictionari list respect configkey enum textsenum configkey indic choic configur data type also name configur json file eg samplejson modeljson simjson runjson envjson config config input configur take one three data type setupmod old valu dictionari list alreadi load configur data setupmod new valu must string file path configur file load memori exampl use configur sampl class instanti runner inherit function configur see sampl constructor __init__self exception_config list srccoresamplepi sampl class instanti sampl configur index indic run ad sampl class sampleaddsetupmodeold configsampl all_configsconfigsamplevalu sampl configur avail sampl class class access content json dictionari exampl popul sampl class get length scale bar sampl follow line selfsearchconfigsampl scale scale_bar_length exception exception central way organ throw except error user consol exception inherit function configur exception like configur initi setupmod configkey config howev data content exception specif list except store configsystemexceptionsjson content except configur file list number error associ text descript content along path script call exception list event rais except saveabl saveabl simpl python class inherit python class eg sampl simul describ sspythonclassesforrepresentingnervemorphologysampl sspythonsimulationclass text respect enabl class save use saveabl save method use pickledump object save python object file locat destin path input paramet save commandlin argument argpars filenam configsystemrun_utilsparse_argspi func parser prog run ascent document master file creat sphinxquickstart fri sep adapt file complet like least contain root toctre direct doi imag httpszenodoorgbadgesvg target httpszenodoorgbadgelatestdoi welcom ascent document pleas check associ public httpsdoiorgjournalpcbi_ plo comput biolog cite paper doi releas repositori use work encourag clone recent commit repositori cite paper musselman ed cariello je grill wm pelot na ascent autom simul character electr nerv threshold pipelin samplespecif comput model electr stimul peripher nerv plo comput biol internet avail httpsdoiorgjournalpcbi cite code use doi version code use doi musselman ed cariello je grill wm pelot na ascent autom simul character electr nerv threshold pipelin samplespecif comput model electr stimul peripher nerv plo comput biol internet doi zenodo ascent open sourc platform simul peripher nerv stimul download softwar visit ascent github repositori httpsgithubcomwmglabdukeascent_ imag uploadsascent_media_release_vpng toctre maxdepth caption content smetadatarequiredtomodelaninvivoexperimentusingtheascentpipelin sinstal sascentdatahierarchi syourfirstrun helperscript command_line_arg stemplateformethodsreport senum sjsonconfigurationfil sjsonfileparameterguid spythonutilityclass ssubmittingneuronjob smorphologyfil spythonmocksampleclassforcreatingbinarymasksofnervemorpholog spythonclassesforrepresentingnervemorphologysampl screatingsamplespecificnervemorphologiesincomsol smicroleadscuffmeasur slibraryofpartprimitivesforelectrodecontactsandcuff screatingcustompresetcuffsfrominstancesofpartprimit screatingnewpartprimit scuffplacementonnerv sfiberset simplementationofneuronfibermodel ssimulationprotocol smodelwrapperclass smakinggeometriesincomsolpartclass scontrolofmediumsurroundingnerveandcuffelectrod sjavautilityclass sdefiningandassigningmaterialsincomsol sdefinitionofperineurium sdatainterchangebetweencomsolandneuron spythonsimulationclass sneuronlaunchhoc sneuronwrapperhoc sdataanalysistool sconvergenceanalysisexampl ssimlifevalid scomparisonofmrgfittobucksot troubleshootingguid paperrefer