readmemd gener readmermd pleas edit file rgugik img srcmanfigureslogopng alignright width badg start cranhttpwwwrpkgorgbadgesversionrgugikhttpscranrprojectorgpackagergugik r build statushttpsgithubcomkadybrgugikworkflowsrcmdcheckbadgesvghttpsgithubcomkadybrgugikact codecovhttpscodecovioghkadybrgugikbranchmastergraphbadgesvghttpsappcodecovioghkadybrgugik licens mithttpsimgshieldsiobadgelicensemitbluesvghttpsopensourceorglicensesmit doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss badg end rgugik r packag download open data resourc polish head offic geodesi cartographyhttpswwwgovplwebgugik includ orthophotomapshttpwwwgugikgovplpzgikzamowdaneortofotomapa gener geograph databasehttpwwwgugikgovplpzgikzamowdanebazadanychobiektowogolnogeograficznych topograph databasehttpwwwgugikgovplpzgikzamowdanebazadanychobiektowtopograficznychbdotk regist town street addresseshttpsemuiagugikgovpl state regist geograph nameshttpswwwgeoportalgovpldanepanstwowyrejestrnazwgeograficznych state regist bordershttpwwwgugikgovplpzgikzamowdanepanstwowyrejestrgranicipowierzchnijednostekpodzialowterytorialnychkraju locat geometri cadastr parcel use teryt parcel id coordin model build lod lod variou digit elev model digit terrain modelhttpwwwgugikgovplpzgikzamowdanenumerycznymodelterenu digit surfac modelhttpwwwgugikgovplpzgikzamowdanenumerycznymodelpokryciaterenu point cloudhttpwwwgugikgovplpzgikzamowdanedanepomiarow also possibl geocod address object use geocodepl_get function correspond function function input dastaset en dataset pl ortho_request tile_download geometri orthophotomap ortofotomapa geodb_download voivodeship gener geograph databas baza danych obiektów ogólnogeograficznych topodb_download counti topograph databas baza danych obiektów topograficznych emuia_download commun regist town street address ewidencja miejscowości ulic adresów geonames_download type state regist geograph name państwowi rejestr nazw geograficznych borders_get borders_download type state regist border państwowi rejestr granic parcel_get parcel id coordin locat cadastr parcel lokalizacja działek katastralnych modelsd_download counti model build model budynków dem_request tile_download geometri digit elev model cyfrow model wysokościow addit function obtain digit terrain model pointdtm_get small area high resolut grid pointdtm_download voivodeship area low resolut grid minmaxdtm_get find minimum maximum elev small area name administr unit id obtain use function voivodeship_nam county_nam commune_nam instal instal releas version cranhttpscranrprojectorg r installpackagesrgugik instal develop version githubhttpsgithubcom r installpackagesremot remotesinstall_githubkadybrgugik usag orthophotomap ortho_request return data frame metadata link orthoimag given geometri point line polygon tile_download download orthoimag base data frame obtain use ortho_request function r libraryrgugik librarysf libraryrast polygon_path systemfiledatasetssearch_areagpkg packag rgugik polygon read_sfpolygon_path req_df ortho_requestpolygon select oldest imag req_df req_dfreq_dfyear print metadata treq_df sheetid ndb year resolut composit rgb sensor satellit cr pl isfil true url httpsopendatageoportalgovplortofotomapa__ndbtif seriesid sha caefccceaaf date filenam __ndb download imag tile_downloadreq_df img brick__ndbtif plotrgbimg img srcmanfiguresreadmefpng width administr boundari r libraryrgugik librarysf get counti opolski voivodeship teryt counti county_nam counti countiessubstrcountiesteryt teryt counties_geom borders_getteryt counti plotst_geometrycounties_geom main opolski img srcmanfiguresreadmefpng width vignett advanc exampl practic step step use packag found vignett orthophotomaphttpskadybgithubiorgugikarticlesorthophotomaphtml digit elev modelhttpskadybgithubiorgugikarticlesdemhtml topograph databasehttpskadybgithubiorgugikarticlestopodbhtml acknowledg head offic geodesi cartographi polandhttpswwwgovplwebgugik main sourc provid data data made avail accord act may geodet cartograph lawhttpisapsejmgovplisapnsfdocdetailsxspidwdu amend april dataset explor interact use geoportalhttpsmapygeoportalgovpl contribut contribut packag welcom prefer method contribut github pull request feel also free contact us creat issuehttpsgithubcomkadybrgugikissu detail inform found contributinghttpsgithubcomkadybrgugikblobmastercontributingmd document maintain contributor must follow repositori code conducthttpsgithubcomkadybrgugikblobmastercode_of_conductmd citat cite rgugik public pleas use follow articlehttpsdoiorgjoss dyba k nowosad j rgugik search retriev spatial data polish head offic geodesi cartographi r journal open sourc softwar httpsdoiorgjoss bibtex version obtain citationrgugik relat project dont feel familiar r similar qgishttpswwwqgisorgensit tool envirosolutionshttpsgithubcomenvirosolutionspl repositori contributor code conduct contributor maintain project pledg respect peopl contribut report issu post featur request updat document submit pull request patch activ commit make particip project harassmentfre experi everyon regardless level experi gender gender ident express sexual orient disabl person appear bodi size race ethnic age religion exampl unaccept behavior particip includ use sexual languag imageri derogatori comment person attack troll public privat harass insult unprofession conduct project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct project maintain follow code conduct may remov project team instanc abus harass otherwis unaccept behavior may report open issu contact one project maintain code conduct adapt contributor covenanthttpcontributorcovenantorg version avail httpswwwcontributorcovenantorgversioncodeofconducthtml contribut matter current skill possibl contribut rgugik packag appreci contribut matter amount bug youv found bug pleas creat minim reproduc exampl use reprexhttpswwwtidyverseorghelpreprex packag first spend time tri make minim possibl facilit task speed entir process next submit issu issu pagehttpsgithubcomkadybrgugikissu contribut fix typo fix typo spell mistak grammat error document use roxygenhttpsroxygenrliborg document gener use r file edit rd file directli greater chang want make greater chang good idea file issu first make sure someon team agre need dont want spend bunch time someth dont think suitabl idea accept follow pull request process fork repo github account clone version machin eg git clone httpsgithubcomkadybrgugikgit make sure track progress upstream ie version rgugik kadybrgugik git remot add upstream httpsgithubcomkadybrgugikgit make chang make sure pull chang upstream either git fetch upstream merg later git pull upstream fetch merg one step make chang make chang new branch alter packag function eg code document pleas write test cover new function push chang account submit pull request master branch kadybrgugik use testthathttpstestthatrliborg unit test contribut test case includ priorit accept pleas make sure new code document match exist style use lintrhttpsgithubcomjimhesterlintr static code analysi ie code style question question welcom issu pagehttpsgithubcomkadybrgugikissu ad reproduc exampl may make easier us answer thank contribut output github_docu readmemd gener readmermd pleas edit file r includefals knitropts_chunkset collaps true comment figpath manfiguresreadm outwidth rgugik img srcmanfigureslogopng alignright width badg start cranhttpwwwrpkgorgbadgesversionrgugikhttpscranrprojectorgpackagergugik r build statushttpsgithubcomkadybrgugikworkflowsrcmdcheckbadgesvghttpsgithubcomkadybrgugikact codecovhttpscodecovioghkadybrgugikbranchmastergraphbadgesvghttpsappcodecovioghkadybrgugik licens mithttpsimgshieldsiobadgelicensemitbluesvghttpsopensourceorglicensesmit doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss badg end rgugik r packag download open data resourc polish head offic geodesi cartographyhttpswwwgovplwebgugik includ orthophotomapshttpwwwgugikgovplpzgikzamowdaneortofotomapa gener geograph databasehttpwwwgugikgovplpzgikzamowdanebazadanychobiektowogolnogeograficznych topograph databasehttpwwwgugikgovplpzgikzamowdanebazadanychobiektowtopograficznychbdotk regist town street addresseshttpsemuiagugikgovpl state regist geograph nameshttpswwwgeoportalgovpldanepanstwowyrejestrnazwgeograficznych state regist bordershttpwwwgugikgovplpzgikzamowdanepanstwowyrejestrgranicipowierzchnijednostekpodzialowterytorialnychkraju locat geometri cadastr parcel use teryt parcel id coordin model build lod lod variou digit elev model digit terrain modelhttpwwwgugikgovplpzgikzamowdanenumerycznymodelterenu digit surfac modelhttpwwwgugikgovplpzgikzamowdanenumerycznymodelpokryciaterenu point cloudhttpwwwgugikgovplpzgikzamowdanedanepomiarow also possibl geocod address object use geocodepl_get function correspond function r echofals ds_pl cortofotomapa baza danych obiektów ogólnogeograficznych baza danych obiektów topograficznych ewidencja miejscowości ulic adresów państwowi rejestr nazw geograficznych państwowi rejestr granic lokalizacja działek katastralnych model budynków cyfrow model wysokościow ds_en corthophotomap gener geograph databas topograph databas regist town street address state regist geograph name state regist border locat cadastr parcel model build digit elev model fun cortho_request tile_download geodb_download topodb_download emuia_download geonames_download borders_get borders_download parcel_get modelsd_download dem_request tile_download input cgeometri voivodeship counti commun type type parcel id coordin counti geometri df dataframefun input ds_en ds_pl colnamesdf cfunction input dastaset en dataset pl knitrkabledf addit function obtain digit terrain model pointdtm_get small area high resolut grid pointdtm_download voivodeship area low resolut grid minmaxdtm_get find minimum maximum elev small area name administr unit id obtain use function voivodeship_nam county_nam commune_nam instal instal releas version cranhttpscranrprojectorg r evalfals installpackagesrgugik instal develop version githubhttpsgithubcom r messagefals warningfals evalfals installpackagesremot remotesinstall_githubkadybrgugik usag orthophotomap ortho_request return data frame metadata link orthoimag given geometri point line polygon tile_download download orthoimag base data frame obtain use ortho_request function r f messagefals warningfals libraryrgugik librarysf libraryrast polygon_path systemfiledatasetssearch_areagpkg packag rgugik polygon read_sfpolygon_path req_df ortho_requestpolygon select oldest imag req_df req_dfreq_dfyear print metadata treq_df download imag tile_downloadreq_df img brick__ndbtif plotrgbimg r echofals messagefals invisiblefileremove__ndbtif administr boundari r f libraryrgugik librarysf get counti opolski voivodeship teryt counti county_nam counti countiessubstrcountiesteryt teryt counties_geom borders_getteryt counti plotst_geometrycounties_geom main opolski vignett advanc exampl practic step step use packag found vignett orthophotomaphttpskadybgithubiorgugikarticlesorthophotomaphtml digit elev modelhttpskadybgithubiorgugikarticlesdemhtml topograph databasehttpskadybgithubiorgugikarticlestopodbhtml acknowledg head offic geodesi cartographi polandhttpswwwgovplwebgugik main sourc provid data data made avail accord act may geodet cartograph lawhttpisapsejmgovplisapnsfdocdetailsxspidwdu amend april dataset explor interact use geoportalhttpsmapygeoportalgovpl contribut contribut packag welcom prefer method contribut github pull request feel also free contact us creat issuehttpsgithubcomkadybrgugikissu detail inform found contributinghttpsgithubcomkadybrgugikblobmastercontributingmd document maintain contributor must follow repositori code conducthttpsgithubcomkadybrgugikblobmastercode_of_conductmd citat cite rgugik public pleas use follow articlehttpsdoiorgjoss dyba k nowosad j rgugik search retriev spatial data polish head offic geodesi cartographi r journal open sourc softwar httpsdoiorgjoss bibtex version obtain citationrgugik relat project dont feel familiar r similar qgishttpswwwqgisorgensit tool envirosolutionshttpsgithubcomenvirosolutionspl repositori titl digit elev model author krzysztof dyba jakub nowosad output rmarkdownhtml_vignett vignett vignetteindexentrydigit elev model vignetteengineknitrrmarkdown usepackageutfinputenc style bodi textalign justifi style definit digit elev model model describ terrain surfac creat result process aerial photo laser scan lidar geodet survey radar interferometri insar dem one key dataset geograph inform system gi constitut basi mani environment spatial analys addit sourc deriv product terrain slope aspect dem gener name group model differ characterist includ digit terrain model dtm numer represent terrain morpholog form model devoid object ground build tree digit surfac model dsm numer represent terrain includ object surfac build tree center dtmdsmhttpsuploadwikimediaorgwikipediacommonsthumbcdtm_dsmsvgpxdtm_dsmsvgpng width p stylefontsizepx wikimedia common free media repositori httpscommonswikimediaorgwindexphptitlefiledtm_dsmsvgoldid access octob p center br properti dem format distinguish three main structur grid point cell tin irregular topolog triangl network contour line vector current use format grid accuraci relat vertic measur error spatial resolut relat size smallest object detect sensor determin size imag cell pixel larger cell gener form terrain present purpos purpos vignett determin elev ground surfac object select area sourc data airborn laser scan alreadi process grid format analysi r attach packag librarysf librarystar libraryrgugik analysi area morasko meteorit natur reserv locat greater poland voivodeship establish order protect area impact crater accord research form fall morasko meteorit year ago addit oakhornbeam forest rare speci plant lilium martagon ceratophyllum submersum bird european nightjar black woodpeck protect vector data centroid geometr center morasko meteorit natur reserv x coordin world geodet system epsg let start creat point sf packag r morasko st_pointc morasko st_sfcmorasko cr set coordin system morasko geometri set featur geometri type point dimens xy bound box xmin ymin xmax ymax geodet cr wg point point embed space spatial refer next step let creat approxim zone includ area reserv function st_buffer use oper need transform coordin system system metric unit eg poland cs epsg use st_transform function r morasko st_transformmorasko cr morasko_buff st_buffermorasko dist creat buffer radiu meter let visual r plotmorasko_buff axe true main morasko reserv buffer plotmorasko add true demgeometrypng cours area shown exactli reserv area exact area determin polygon layer orthophotomaphttpskadybgithubiorgugikarticlesorthophotomaphtml exampl use gener geograph databas raster data search avail elev data area use dem_request function analog ortho_request function argument function reserv buffer r req_df dem_requestmorasko_buff let check obtain result r display first row first column req_df sheetid year format resolut avgeleverr ndb intergraph ttn na ndb arcinfo ascii grid ndb ascii xyz grid ndb arcinfo ascii grid ascii tbd ascii tbd ascii tbd ascii tbd ascii tbd ascii tbd receiv metadata mani type data differ format timeli resolut accuraci analysi need digit terrain model dtm digit surfac model dsm arcinfo ascii grid format let make data select creat two tabl combin togeth r req_df_dtm req_dfreq_dfformat arcinfo ascii grid req_dfproduct dtm req_dfyear req_df_dsm req_dfreq_dfformat arcinfo ascii grid req_dfproduct dsm req_dfyear combin data tabl req_df rbindreq_df_dtm req_df_dsm req_df sheetid year format resolut avgeleverr ndb arcinfo ascii grid ndb arcinfo ascii grid download data use tile_download function filter data frame input r mb tile_downloadreq_df outdir data run problem download rememb pass anoth download method downloadfil function argument r tile_downloadreq_df outdir data method wget process let load download numer model use read_star function star packag allow work spatiotempor array two file one repres dtm second repres dsm r load data dtm read_starsdata__ndbasc proxi fals dsm read_starsdata__ndbasc proxi fals name raster namesdtm dtm namesdsm dsm set coordin system st_crsdtm st_crsdsm probabl notic fourfold differ size due differ cell resolut need unifi common resolut abl combin one stack much better use lower resolut increas get inform process faster let use st_warp function r dsm st_warpdsm dest dtm cellsiz model dimens number row column spatial resolut thu combin one object dem r dem cdtm dsm lengthdem dem object consist two attribut dtm dsm fact attribut contain type data repres elev therefor collaps attribut new dimens let use st_redimens r dem st_redimensiondem namesst_dimensionsdem elev name new data dim st_dimensionsdem offset delta refsi point valu xy x etr poland cs true null x etr poland cs true null elev na na na na dtm dsm oper elev attribut consist dtm dsm layer dimens let crop raster buffer r dem st_cropdem morasko_buff let check result look like r plotdem col terraincolor alpha null demplotpng first quadrant circl see five smaller circl crater form impact morasko meteorit largest fragment found weigh kg largest meteorit found poland collect found meteorit seen earth museumhttpsmuzeumziemiamuedupl poznań let calcul crater width use terrain transvers profil use centroid add second exampl point degre toward n next connect point line st_linestr sampl line everi st_line_sampl dem resolut result get one complex geometri multipoint convert simpl geometri point consist mani point function st_cast use r pts_matrix matrixc ncol byrow true line st_sfcst_linestringpts_matrix cr line st_line_samplelin densiti line st_castlin point r plot dtm first layer plotdem main dtm col terraincolor alpha null reset fals plotlin col red add true demlinepng last step extract elev valu point use st_extract r take elev dtm dsm layer elev_lin st_extractdem line colnameselev_lin cdtm dsm see transvers profil look like r use devoff reset previou plot plotelev_lin dtm type l main digit terrain model ylab elev xlab distanc col red ablinev c col blue demprofilepng largest width impact crater okay check terrain last step let examin height object purpos calcul height tree subtract dtm dsm product differ call normal dsm take terrain elev refer r calc functiondem dem dem ndsm st_applydem margin cx fun calc plotndsm main tree height col hclcolor palett green rev true demtreespng titl orthophotomap author krzysztof dyba jakub nowosad output rmarkdownhtml_vignett vignett vignetteindexentryorthophotomap vignetteengineknitrrmarkdown usepackageutfinputenc style bodi textalign justifi style definit orthophotomap raster orthogon cartometr represent terrain surfac creat digit process aerial satellit imag orthorectif geometr distort result land relief remov use digit elev model dem orthophotomap georeferenc therefor allow determin geograph coordin cell orthophotomap properti spatial resolut relat size smallest object detect sensor determin size imag cell pixel smaller cell detail repres larg pixel mean individu object scene longer recogniz composit analog imag shade gray digit imag natur color rgb near infrar nir purpos purpos vignett assess veget condit select area done base remot sens data multispectr orthophotomap simpl veget index ndvi normal differ veget index simpl indic veget use red near infrar band main applic monitor forecast agricultur product calcul use follow formula ndvi frac nir red nir red valu rang higher valu higher biomass level valu close relat water bare soil surfac build analysi r attach packag librarysf librarystar libraryrgugik analysi area krajkowo natur reserv locat greater poland voivodeship establish order protect breed place bird especi grey heron great black cormor protect landscap warta oxbow vector data data natur reserv found gener geograph databas obtain use geodb_download function let r mb geodb_downloadwielkopolski outdir data run problem download rememb pass anoth download method downloadfil function argument r geodb_downloadreq_df outdir data method wget download databas consist mani file gml geographi markup languag format brief descript structur databas found herehttpskadybgithubiorgugikarticlesarticlesspatialdb_descriptionhtml tabl natur reserv plpzgik__ot_tcrz_axml file use sf packag read_sf function load r reserv read_sfdataplpzgikbdooplpzgik__ot_tcrz_axml let check structur data r ncolreserv nrowreserv simpl term spatial tabl consist observ row variabl column name object locat nazwa column allow us select krajkowo reserv r select attribut krajkowo reservesreservesnazwa krajkowo display two basic way use plot function directli specifi column object geometri plotkrajkowogeometri use plot st_geometri function obtain geometri vector layer first case need know name column geometri eg geometri geom etc second case geometri select automat safer prefer way r plotst_geometrykrajkowo axe true main krajkowo reserv ortogeometrypng also calcul area polygon r krajkowo_area st_areakrajkowo unitsset_unitskrajkowo_area ha convert ha ha st_area function return area convers got result ha raster data let move stage download orthophotomap use ortho_request function show us imag avail analyz area need provid krajkowo polygon argument function r req_df ortho_requestkrajkowo display result tabl use code r display first row first column req_df sheetid year resolut composit sensor cr nbd bw analog pl nbd bw analog pl nbd rgb digit pl nbd rgb digit pl nbd cir digit pl nbd cir digit pl nbd cir digit pl nbd rgb digit pl nbd cir digit pl nbd rgb digit pl complet task need obtain near infrar data next step select row composit column valu cir r select ir imag overwrit req_df object req_df req_dfreq_dfcomposit cir let sort tabl accord year photo taken recent imag top tabl r req_df req_dforderreq_dfyear let display tabl select newest composit r req_df c sheetid year resolut composit sensor seriesid nbd cir digit nbd cir digit nbd cir digit nbd cir digit nbd cir digit nbd cir digit r req_df req_dfreq_dfyear note result pair object imag mean krajkowo reserv depict two photo within one seri therefor seriesid column use combin smaller imag larger mosaic r req_df c sheetid year resolut composit sensor seriesid nbd cir digit nbd cir digit tile_download function use download orthophotomap take select tabl main argument also specifi output folder outdir argument r mb tile_downloadreq_df outdir data process let load download orthophotomap use read_star function star packag allow work spatiotempor array case raster consist three band nir r g one point time dont need load entir data array memori read file metadata instead use proxi argument r img read_starsdata__nbdtif proxi true img read_starsdata__nbdtif proxi true perform two oper raster merg crop reserv area use proxi allow get result almost immedi process entir imag proxi fals would take sever minut imag specif coordin refer system let make sure correct one merg epsg case r img st_mosaicimg img st_crsimg overwrit cr sure img st_cropimg krajkowo let display effect use plot function defin input band rgb argument creat composit consist three band nir r g case composit shown infrar natur color may misinterpret rgb argument name r plotimg rgb c main null ortocirpng last step calcul ndvi use near infrar red band r calc_ndvi functionimg img img img img ndvi st_applyimg margin cx fun calc_ndvi plotndvi main ndvi col hclcolor palett rdylgn ortondvipng surpris observ rel low ndvi valu forest area two reason ie photo taken midmarch start grow season probabl calibr reason better sourc data analysi may satellit imag calibr spectral obtain continu cloudi occur titl topograph databas author krzysztof dyba jakub nowosad output rmarkdownhtml_vignett vignett vignetteindexentrytopograph databas vignetteengineknitrrmarkdown usepackageutfinputenc style bodi textalign justifi style definit topograph databas pl baza danych obiektów topograficznych vector object databas contain spatial locat topograph object characterist poland content detail databas correspond topograph map scale themat scope includ inform water network commun network land cover build technic structur util infrastructur land use protect area territori divis unit object databas avail geographi markup languag gml format sourc data come spatial databas maintain polish head offic geodesi cartographi eg regist town street address regist land build state regist border databas maintain ministri institut eg ministri infrastructur state water manag gener director environment protect fieldwork purpos purpos vignett perform spatial oper vector data topograph databas focu four case take account differ type geometri ie point line polygon attribut also show visual analysi r attach packag librarysf libraryrgugik analysi area bieszczadzki counti locat subcarpathian podkarpacki voivodeship farthest south area poland also lowest popul densiti peopl km databas start download topograph databas counti use topodb_download function r mb topodb_downloadbieszczadzki outdir data run problem download rememb pass anoth download method downloadfil function argument r topodb_downloadreq_df outdir data method wget download databas consist mani file gml format data necessari analyz found dataplpzgikbdotk locat brief descript structur databas found herehttpskadybgithubiorgugikarticlesarticlesspatialdb_descriptionhtml first let load file administr unit plpzgik__ot_adja_axml use sf packag read_sf function r territori read_sfdataplpzgikbdotkplpzgik__ot_adja_axml file contain administr unit variou level let choos lowest level ie commun three type commun dataset specifi rodzaj column urban gm rural gw urbanrur gmw let select r commun territoryterritoryrodzaj cgm gw gmw rodzaj tablecommunesrodzaj gmw gw see bieszczadzki counti consist two rural commun one urbanrur commun let visual r plotcommun axe true main bieszczadzki counti topodbcommunespng length categori road first task calcul length road take account categori road data found plpzgik__ot_skdr_lxml file r road read_sfdataplpzgikbdotkplpzgik__ot_skdr_lxml let plot use plot function time combin two layer one imag first layer background contain road add anoth layer set argument reset fals add second layer territori border set add argument true r plotroadskatzarzadzania main road categori reset fals plotst_geometryterritori add true topodbroadspng six road categori relat manag entiti nation k voivodeship w counti p commun g institut z road use st_length function find length object tabl next creat data frame consist road categori length aggreg data frame calcul sum length categori r length_road st_lengthroad length_road dataframelength length_road class asfactorroadskatzarzadzania length_road aggregatelength class data length_road fun sum result given meter let convert kilomet r convert km length_roadslength unitsset_unitslength_roadslength km let also chang name categori r road_class ccommun nation counti voivodeship institut levelslength_roadsclass road_class see result type road domin consist mainli nonpubl road r length_road class length commun km km nation km counti km voivodeship km institut km also calcul total length road area r sumlength_roadslength km result km anoth aspect data investig densiti road network need calcul total area first divid total road length total area r communes_area sumst_areacommun communes_area unitsset_unitscommunes_area km densiti sumlength_roadslengthcommunes_area densiti unitsset_unitsdens kmkm densiti kmkm road densiti kmkm road river anoth dataset includ topograph databas contain river area plpzgik__ot_swrs_lxml r river read_sfdataplpzgikbdotkplpzgik__ot_swrs_lxml river riversriversrodzaj rz select river river divid smaller section differ paramet river width data sourc let merg section river singl featur geometri use attribut id idmphp purpos also give river categori number creat sequenc n use seq_len function r river aggregateriv cgeometri idmphp listriversidmphp sum riversidmphp seq_lenlengthuniqueriversidmphp riversidmphp asfactorriversidmphp let visual river cours r plotriversidmphp main river reset fals plotst_geometryterritori add true topodbriverspng river road design point intersect symbol bridg cross use st_intersect function r bridg st_geometryst_intersectionriv road lengthbridg get point let plot r use devoff reset previou plot plotst_geometryriv main bridg cross col blue plotst_geometryterritori add true plotbridg add true pch topodbbridgespng land cover land cover physic materi surfac earth like grass tree bare ground water etc let check land cover data counti store file pt prefix use listfil function list pattern argument import determin file select pattern look like ptaxml file contain areal data land cover pt list r file listfilesdataplpzgikbdotk pattern ptaxml fullnam true print filenam basenamefil plpzgik__ot_ptgn_axml plpzgik__ot_ptkm_axml plpzgik__ot_ptlz_axml plpzgik__ot_ptnz_axml plpzgik__ot_ptpl_axml plpzgik__ot_ptrk_axml plpzgik__ot_ptso_axml plpzgik__ot_pttr_axml plpzgik__ot_ptut_axml plpzgik__ot_ptwp_axml plpzgik__ot_ptwz_axml plpzgik__ot_ptzb_axml also exclud plpzgik__ot_ptso_axml file list file contain zero object featur r drop ot_ptso_axml file file let prepar name object data load follow name extend name abbrevi store filenam r layer_nam cfallowland commun forest undevelop squar shrubland crop grassland water heap build load gml file name list instead use loop use lappli function perform specif action element vector action case load gml file use read_sf r layer lapplyfil read_sf nameslay layer_nam previous use st_length calcul line length use correspond st_area function calcul area use lappli function analog work item list similar function sappli return vector instead list r calcul area layer area_landcov lapplylay st_area sum area layer area_landcov sapplyarea_landcov sum convert unit area_landcov unitsset_unitsarea_landcov area_landcov unitsset_unitsarea_landcov km namesarea_landcov layer_nam let see result kilomet r area_landcov unit km fallowland commun forest undevelop squar shrubland crop grassland water heap build let make sure total land cover equal area counti tini precis differ possibl set differ toler possibl use allequ function r allequalsumarea_landcov communes_area toler true everyth correct let present result percentag area sort descend order r landcover_percentag area_landcov sumarea_landcov unitslandcover_percentag null drop unit landcover_percentag sortlandcover_percentag decreas true landcover_percentag roundlandcover_percentag landcover_percentag forest crop build water commun shrubland grassland squar undevelop heap fallowland counti area cover forest less build buffer last analysi vignett want check mani build bu stop within given distanc appli spatial buffer solv question inform bu stop plpzgik__ot_oikm_pxml file repres oikm valu x_kod attribut r bus_stop read_sfdataplpzgikbdotkplpzgik__ot_oikm_pxml bus_stop bus_stopbus_stopx_kod oikm let prepar visual bu stop mark blue dot build present red polygon r build layersbuild plotst_geometrycommun main bu stop plotst_geometrylayersbuild add true border red plotst_geometrybus_stop add true pch cex col blue topodbbusstopspng let creat buffer bu stop rang km use st_buffer r bus_buff st_bufferbus_stop plot r plotst_geometrycommun main bu stop buffer plotst_geometrybuild add true border red plotst_geometrybus_buff add true topodbbufferspng return build within buffer rang perform st_within oper r buildings_buff st_withinbuild bus_buff result nest list consist build associ buffer let count mani build buffer use sappli previou exampl r buildings_ex sapplybuildings_buff length buildings_ex sumbuildings_ex buildings_ex roundbuildings_ex nrowbuild buildings_ex answer last question build counti access bu stop within km radiu titl spatial databas author krzysztof dyba jakub nowosad output github_docu articl refer two major spatial databas maintain polish head offic geodesi cartographi topograph databas baza danych obiektów topograficznych gener geograph databas baza danych obiektów ogólnogeograficznych main categori data r includefals main_abbr c ot ad bu pt tc sw sk su ku oi main_pl c obiekt topograficzni administracja budowl pokryci terenu tereni chronion sieć wodna sieć komunikacyjna sieć uzbrojenia terenu kompleksi użytkowania terenu obiekti inn main_en c topograph object administr build land cover protect area water network commun network util infrastructur land use object df_main dataframeabbr main_abbr polish main_pl english main_en r echofals knitrkabledf_main second level categori name vector layer r includefals abbr c adja adm buhd buin buit buuo buwt buzm kuik kuko kupg kusc kusk oikm oimk ptgn ptlz ptnz ptpl ptrk ptso pttr ptut ptwp ptwz ptzb skdr skpp skrw sktr suln swkn swrm swr tcon tcpk tcpn tcrz pl c jednostka podziału administracyjnego punkt główni miejscowości budowla hydrotechniczna budowla inżynierska inn urządzenia techniczn umocnieni drogow kolejow wodn wysoka budowla techniczna budowla ziemna inni komplek użytkowania terenu komplek komunikacyjni komplek przemysłowogospodarczi komplek sakralni cmentarz komplek sportowo rekreacyjni obiekt związani z komunikacją mokradła teren gruntów nieużytkowanych teren leśni lub zadrzewioni inni teren niezabudowani teren placów teren roślinności krzewiastej teren składowania odpadów teren roślinności trawiastej lub upraw rolnych teren upraw trwałych woda powierzchniowa tereni zwałowisk wyrobisk zabudowa droga przeprawa rondo lub węzeł drogowi tor lub zespół torów linia napowietrzna kanał rów melioracyjni rzeka strumień obszar natura parki krajobrazow parki narodow rezerwati en c administr subdivis focal point town hydraul structur engin construct technic devic road rail waterway reinforc high technic construct earth structur land use complex commun complex industri econom complex religi complex cemeteri sport recreat complex object relat commun wetland unus land area forest wood area undevelop area squar area shrubland area landfil area grassland agricultur area perman crop area surfac water heap excav area build road passag roundabout road junction track track set overhead line channel drainag ditch river stream natura area landscap park nation park natur reserv df dataframeabbr abbr polish pl english en r echofals knitrkabledf last charact vector layer name mean p point l line area file uzytkownikxx userxx contact detail voivodeship marshal offic xx contain terc voivodeship id file name ciek watercours liniakolejowa railway line szlakdrogowi road trail wezelkolejowi railway junction zbiornikwodni reservoir contain metadata object gener roxygen edit hand pleas edit document rtile_downloadr nametile_download aliastile_download titledownload request tile usag tile_download df_req outdir unzip true check_sha fals print_it true argument itemdf_reqa data frame obtain use codelinkortho_requestortho_request codelinkdem_requestdem_request function itemoutdiropt name output directori default file save work directori itemunziptru default fals true download archiv extract remov suitabl certain elev data itemcheck_shacheck integr download file logic fals default itemprint_iterprint current iter logic true default itemaddit argument codelinkutilsdownloadfileutilsdownloadfil valu georeferenc tile properti resolut year etc specifi input data frame descript download request tile exampl dontrun librarysf polygon_path systemfiledatasetssearch_areagpkg packag rgugik polygon read_sfpolygon_path req_df ortho_requestpolygon tile_downloadreq_df download first imag req_df dem_requestpolygon tile_downloadreq_df download first dem gener roxygen edit hand pleas edit document remuia_downloadr nameemuia_download aliasemuia_download titledownload regist town street address commun usag emuia_downloadcommun null teryt null outdir unzip true argument itemcommunecommun name polish check codelinkcommune_namescommune_nam function itemterytcounti id charact itemoutdiropt name output directori default file save work directori itemunziptru default fals true download archiv extract remov itemaddit argument codelinkutilsdownloadfileutilsdownloadfil valu regist shp format descript download regist town street address commun exampl dontrun emuia_downloadcommun kotla kb emuia_downloadteryt c kb gener roxygen edit hand pleas edit document rgeonames_downloadr namegeonames_download aliasgeonames_download titledownload state regist geograph name usag geonames_downloadtyp format shp outdir unzip true argument itemtypenam place place andor physiograph object object itemformatdata format gml shp default andor xlsx itemoutdiropt name output directori default file save work directori itemunziptru default fals true download archiv extract remov itemaddit argument codelinkutilsdownloadfileutilsdownloadfil valu select data type specifi format descript download state regist geograph name exampl dontrun geonames_downloadtyp place format shp mb refer urlhttpisapsejmgovplisapnsfdownloadxspwduodpdf gener roxygen edit hand pleas edit document rborders_getr nameborders_get aliasborders_get titleget boundari administr unit usag borders_getvoivodeship null counti null commun null teryt null argument itemvoivodeshipselect voivodeship polish check codelinkvoivodeship_namesvoivodeship_nam function itemcountycounti name polish check codelinkcounty_namescounty_nam function itemcommunecommun name polish check codelinkcommune_namescommune_nam function itemterytvoivodeship counti commun charact valu sf datafram epsg descript get boundari administr unit exampl dontrun voivodeship_geom borders_getvoivodeship lubuski kb county_geom borders_getcounti sopot kb commune_geom borders_getcommun chel krynica morska kb gener roxygen edit hand pleas edit document rborders_downloadr nameborders_download aliasborders_download titledownload state regist border usag borders_downloadtyp outdir unzip true argument itemtypeadministr unit special unit address itemoutdiropt name output directori default file save work directori itemunziptru default fals true download archiv extract remov itemaddit argument codelinkutilsdownloadfileutilsdownloadfil valu select data type shp format descript download state regist border exampl dontrun borders_downloadadministr unit mb gener roxygen edit hand pleas edit document rgeocodepl_getr namegeocodepl_get aliasgeocodepl_get titleconvert address object geograph coordin usag geocodepl_get address null road null rail_cross null geonam null argument itemaddressplac without street hous number itemroadroad number without mileag itemrail_crossingrail cross identifi charact includ space format xxx xxx xxx itemgeonamenam geograph object state regist geograph name function codelinkgeonames_downloadgeonames_download valu sf datafram epsg metadata descript convert address object geograph coordin exampl dontrun geocodepl_getaddress marki place geocodepl_getaddress marki andersa place street geocodepl_getaddress marki andersa place street hous number geocodepl_getaddress królewski brzezini place hous number geocodepl_getroad road number geocodepl_getroad road number mileag geocodepl_getrail_cross geocodepl_getgeonam la mierzei physiograph object gener roxygen edit hand pleas edit document rmodelsd_downloadr namemodelsd_download aliasmodelsd_download titledownload model build counti usag modelsd_download counti null teryt null lod lod outdir unzip true argument itemcountycounti name polish check codelinkcounty_namescounty_nam function itemterytcounti id charact itemlodlevel detail build model lod lod lod default lod avail ten voivodeship terc check codelinkvoivodeship_namesvoivodeship_nam function itemoutdiropt name output directori default file save work directori itemunziptru default fals true download archiv extract remov itemaddit argument codelinkutilsdownloadfileutilsdownloadfil valu model build geographi markup languag format gml descript download model build counti exampl dontrun modelsd_downloadteryt c mb modelsd_downloadcounti sejneński lod lod mb gener roxygen edit hand pleas edit document rparcel_getr nameparcel_get aliasparcel_get titleget geometri cadastr parcel usag parcel_getteryt null x null null argument itemterytparcel id charact eg _ itemxlongitud epsg itemylatitud epsg valu simpl featur geometri case teryt data frame simpl featur geometri teryt case coordin descript get geometri cadastr parcel exampl dontrun parcel parcel_getteryt _ parcel parcel_getx gener roxygen edit hand pleas edit document rrgugikpackag doctypepackag namergugikpackag aliasrgugik aliasrgugikpackag titlergugik search retriev spatial data gugik descript ifhtmlfigurelogopngopt alignright altlogo width automat open data acquisit resourc polish head offic geodesi cartographi główni urząd geodezji kartografii wwwgugikgovpl avail dataset includ variou type numer raster vector data orthophotomap digit elev model digit terrain model digit surfac model point cloud state regist border spatial databas geometri cadastr parcel model build also possibl geocod address object use geocodepl_get function seealso use link item item urlhttpskadybgithubiorgugik item urlhttpsgithubcomkadybrgugik item report bug urlhttpsgithubcomkadybrgugikissu author strongmaintain krzysztof dyba emailadresgmailcom hrefhttpsorcidorgorcid author item item jakub nowosad emailnowosadjakubgmailcom hrefhttpsorcidorgorcid contributor item item maciej beręsewicz emailmaciejberesewiczuepoznanpl hrefhttpsorcidorgorcid contributor item gugik sourc data contributor keywordintern gener roxygen edit hand pleas edit document rvoivodeship_namesr doctypedata namevoivodeship_nam aliasvoivodeship_nam titlevoivodeship poland format object class codedatafram row column usag voivodeship_nam descript data frame contain polish english name voivodeship identifi terc charact exampl voivodeship_nam keyworddataset keywordvoivodeship gener roxygen edit hand pleas edit document rminmaxdtm_getr nameminmaxdtm_get aliasminmaxdtm_get titleget minimum maximum elev given polygon usag minmaxdtm_getpolygon argument itempolygonth polygon layer one object area less ha larger polygon area lower dtm resolut input coordin system must epsg valu data frame vector point minmax terrain elev epsg descript get minimum maximum elev given polygon exampl dontrun librarysf polygon_path systemfiledatasetssearch_areagpkg packag rgugik polygon read_sfpolygon_path minmax minmaxdtm_getpolygon gener roxygen edit hand pleas edit document rortho_requestr nameortho_request aliasortho_request aliasorto_request titleget metadata link avail orthoimag usag ortho_requestx orto_requestx argument itemxan codesf codesfc codespatvector object one featur request base bound box provid featur valu data frame metadata link orthoimag descript get metadata link avail orthoimag exampl dontrun librarysf polygon_path systemfiledatasetssearch_areagpkg packag rgugik polygon read_sfpolygon_path req_df ortho_requestpolygon simpl filter attribut req_df req_dfreq_dfcomposit cir req_df req_dfreq_dfresolut req_dfyear gener roxygen edit hand pleas edit document rpointdtm_getr namepointdtm_get aliaspointdtm_get titleget terrain elev given polygon usag pointdtm_getpolygon distanc print_it true argument itempolygonth polygon layer one object area limit ha distanc paramet input coordin system must epsg itemdistancedist point meter must integ greater itemprint_iterprint current iter logic true default valu data frame vector point terrain elev epsg vertic refer systemplkronnh descript get terrain elev given polygon exampl dontrun librarysf polygon_path systemfiledatasetssearch_areagpkg packag rgugik polygon read_sfpolygon_path dtm pointdtm_getpolygon distanc gener roxygen edit hand pleas edit document rtopodb_downloadr nametopodb_download aliastopodb_download titledownload topograph databas counti usag topodb_downloadcounti null teryt null outdir unzip true argument itemcountycounti name polish check codelinkcounty_namescounty_nam function itemterytcounti id charact itemoutdiropt name output directori default file save work directori itemunziptru default fals true download archiv extract remov itemaddit argument codelinkutilsdownloadfileutilsdownloadfil valu databas geographi markup languag format gml content detail level correspond topograph map scale descript download topograph databas counti exampl dontrun topodb_downloadcounti świętochłowic mb topodb_downloadteryt c mb refer descript topograph gener geograph databas technic standard make map polish urlhttpsisapsejmgovplisapnsfdownloadxspwduodpdf brief descript categori layer name english polish urlhttpskadybgithubiorgugikarticlesarticlesspatialdb_descriptionhtml gener roxygen edit hand pleas edit document rcommune_namesr doctypedata namecommune_nam aliascommune_nam titlecommun poland format object class codetbl_df inherit codetbl codedatafram row column usag commune_nam descript data frame contain name commun identifi terc charact exampl commune_nam keywordcommun keyworddataset gener roxygen edit hand pleas edit document rpointdtm_downloadr namepointdtm_download aliaspointdtm_download titledownload digit terrain model voivodeship resolut usag pointdtm_downloadvoivodeship outdir unzip true argument itemvoivodeshipsselect voivodeship polish english terc function codelinkvoivodeship_namesvoivodeship_nam help itemoutdiropt name output directori default file save work directori itemunziptru default fals true download archiv extract remov itemaddit argument codelinkutilsdownloadfileutilsdownloadfil valu text file x z column epsg descript download digit terrain model voivodeship resolut exampl dontrun pointdtm_downloadcopolski świętokrzyski mb pointdtm_downloadcopol swietokrzyski mb pointdtm_downloadc mb gener roxygen edit hand pleas edit document rdem_requestr namedem_request aliasdem_request titleget metadata link avail digit elev model usag dem_requestx argument itemxan codesf codesfc codespatvector object one featur request base bound box provid featur valu data frame metadata link digit elev model differ format digit terrain model digit surfac model point cloud descript get metadata link avail digit elev model exampl dontrun librarysf polygon_path systemfiledatasetssearch_areagpkg packag rgugik polygon read_sfpolygon_path req_df dem_requestpolygon simpl filter attribut req_df req_dfreq_dfyear req_df req_dfreq_dfproduct pointcloud req_dfformat la gener roxygen edit hand pleas edit document rcounty_namesr doctypedata namecounty_nam aliascounty_nam titlecounti poland format object class codedatafram row column usag county_nam descript data frame contain name counti identifi teryt charact avail build model lod standard logic valu exampl county_nam keywordcounti keyworddataset gener roxygen edit hand pleas edit document rgeodb_downloadr namegeodb_download aliasgeodb_download titledownload gener geograph databas entir voivodeship usag geodb_downloadvoivodeship outdir unzip true argument itemvoivodeshipsselect voivodeship polish english terc object codelinkvoivodeship_nam help itemoutdiropt name output directori default file save work directori itemunziptru default fals true download archiv extract remov itemaddit argument codelinkutilsdownloadfileutilsdownloadfil valu databas geographi markup languag format gml content detail level correspond gener geograph map scale descript download gener geograph databas entir voivodeship exampl dontrun geodb_downloadcopolski lubuski mb geodb_downloadcopol lubusz mb geodb_downloadc mb refer descript topograph gener geograph databas technic standard make map polish urlhttpsisapsejmgovplisapnsfdownloadxspwduodpdf brief descript categori layer name english polish urlhttpskadybgithubiorgugikarticlesarticlesspatialdb_descriptionhtml