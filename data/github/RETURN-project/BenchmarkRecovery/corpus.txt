licensehttpsimgshieldsiogithublicensereturnprojectbenchmarkrecoveryhttpschoosealicensecomlicensesapach build statushttpsgithubcomreturnprojectbenchmarkrecoveryworkflowsrcmdcheckbadgesvgbranchmasterhttpsgithubcomreturnprojectbenchmarkrecoveryact codecovhttpscodecovioghreturnprojectbenchmarkrecoverygraphbadgesvghttpscodecovioghreturnprojectbenchmarkrecoveri codecovhttpsimgshieldsiobadgelifecycleexperimentalorangesvghttpswwwtidyverseorglifecycl doihttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo fairsoftwareeuhttpsimgshieldsiobadgefairsoftwareeuefefebefeborangehttpsfairsoftwareeu benchmark recoveri indic deriv remot sens time seri project simul landsat data evalu perform recoveri indic respect data disturb characterist background context project studi recoveri tropic forest abrupt disturb typic forest fire use satellit imag data sourc speed recoveri disturb known correl concept resili true forest mani dynam system put simpli forest recov fast resili forest recov slowli may danger perman disappear special literatur propos differ metric measur recoveri speed perform metric depend mani factor natur intens perturb season other technic sampl frequenc spatial resolut purpos purpos project effici compar reliabl differ postdisturb recoveri metric mechan infer time seri paramet characterist optic satellit imag data use paramet creat larg collect synthet realist time seri calcul sever stateoftheart recoveri metric simplifi workflow simplifi workflowimgflowpng instal instal master version r via r librarydevtool install_githubreturnprojectbenchmarkrecoveri citat info pleas cite wanda de keersmaeck pablo rodríguezsánchez decemb returnprojectbenchmarkrecoveri benchmark recoveri metric deriv remot sens time seri version v zenodo httpdoiorgzenodo citat export differ format bibtex json zenodo linkhttpszenodoorgrecordxdfkfoywhc contribut pull request welcom major chang pleas open issu first discuss would like chang licens apachehttpschoosealicensecomlicensesapach titl plot recoveri indic author wanda de keersmaeck date output html_document vignett vignetteindexentryplot recoveri indic vignetteengineknitrrmarkdown usepackageutfinputenc r setup includefals knitropts_chunksetecho true load librari librarybenchmarkrecoveri illustr recoveri indic yearli time seri r let gener yearli time seri ts ys c ys c ys c tpert ts_pre c ts_post c calcul recoveri indic rri_i rrit ys tpert tpert ts_pre ts_pre ts_post ts_post rp_i rpt ys ts_pre ts_pre ts_post ts_post yryr_i yryrtsystpertdeltat rri_i rrit ys tpert tpert ts_pre ts_pre ts_post ts_post rp_i rpt ys ts_pre ts_pre ts_post ts_post yryr_i yryrtsystpertdeltat rri_i rrit ys tpert tpert ts_pre ts_pre ts_post ts_post rp_i rpt ys ts_pre ts_pre ts_post ts_post yryr_i yryrtsystpertdeltat plot result rec pasterri roundrri_i digit rp roundrp_i digit yryr roundyryr_i digit rec pasterri roundrri_i digit rp roundrp_i digit yryr roundyryr_i digit rec pasterri roundrri_i digit rp roundrp_i digit yryr roundyryr_i digit plott ys xlab year ylab respons ylim cmincysysi maxcysysi linest ys col red linest ys col orang legendtopright legend crec rec rec col cblack red orang lti cex titl plot decay function author pablo rodriguezsanchez date output html_document vignett vignetteindexentryplot decay function vignetteengineknitrrmarkdown usepackageutfinputenc r setup includefals default chunk configur knitropts_chunksetecho true eval true figwidth figheight load librari librarybenchmarkrecoveri compar decay function r simul set problem set time ts seq set paramet offset pert tpert thalf nois gener time seri ys_p piecewiset offset pert tpert thalf nois ys_e exponentialt offset pert tpert thalf nois ys_r realistict offset pert tpert thalf nois plot complet time seri r plot echofals plot time seri plott ys_p l col black xlab time ylab state linest ys_e col red linest ys_r col blue legendtopright legend cpiecewis exponenti realist col cblack red blue lti cex detail perturb r plotpert echofals plot time seri plott ys_p l col black xlab time ylab state xlim ctpert thalf tpert thalf linest ys_e col red linest ys_r col blue legendtopright legend cpiecewis exponenti realist col cblack red blue lti cex detail transient r plottransi echofals plot time seri plott ys_p l col black xlab time ylab state xlim ctpert tpert thalf linest ys_e col red linest ys_r col blue legendtopright legend cpiecewis exponenti realist col cblack red blue lti cex detail asymptot long term dynam r plotasymptot echofals plot time seri plott ys_p l col black xlab time ylab state xlim cmaxt maxt ylim cnois nois linest ys_e col red linest ys_r col blue legendtopright legend cpiecewis exponenti realist col cblack red blue lti cex compar standard deviat r sd csdys_p sdys_ sdys_r printsd titl plot benchmark result author wanda de keersmaeck date output html_document vignett vignetteindexentryprototyp benchmark studi vignetteengineknitrrmarkdown usepackageutfinputenc r setup includefals knitropts_chunksetecho true eval fals figwidth figheight librarybenchmarkrecoveri libraryreshap libraryplyr r loaddata input input folder ifold datahomewandadocumentsdatabenchmarkrecoveryrun__exprecperiodifold homewandadocumentsdatabenchmarkrecoveryrun__stepsdataifold homewandadocumentsdatabenchmarkrecoveryrun__step folder output written ofold datahomewandadocumentsdatabenchmarkrecoveryrun__exprecperiodfiguresofold homewandadocumentsdatabenchmarkrecoveryrun__stepsfiguresdata ofold homewandadocumentsdatabenchmarkrecoveryrun__stepsfigur name input dataset basenam lsts_rndmsample_nofire__tree__scl__npnt__vi caselist cseasampremsddisttdistrecmissvaldistmag distmagevalu time seri characterist r generalset echo f includef simfullnam listdisturb magnitud disturb time recoveri period season amplitud nois level miss valu namessimfullnam cdistmag distt distrec seasamp remsd missval metric_list cmape r nt rmse metric_nam cmape r² nt rmse namesmetric_nam cmape r nt rmse tempres_list cquarterli annual dens r preparedata echo f includef dat_list list formm lengthmetric_list metric metric_listmm forvr lengthcaselist evr caselistvr name paramet rri_dat loadrdatafilepathifold pastebasenam _rri_ metric _ evr rda rp_dat loadrdatafilepathifold pastebasenam _rp_ metric _ evr rda yryr_dat loadrdatafilepathifold pastebasenam _yryr_ metric _ evr rda tot_dat meltrbindrri_dat rp_dat yryr_dat tot_datperiod revaluefactortot_datnpostmin cshort long ifevr remsd evr seasamp evr missval tot_datvari mapvaluestot_datvari levelstot_datvari cveri low low medium high els tot_datvari mapvaluestot_datvari levelstot_datvari cveri low low medium high tot_datparam simfullnamecaselistvr ifvr totp_dat tot_datelsetotp_dat rbindtotp_dattot_dat totp_datparamtotp_datparam sd remaind nois level totp_datparamtyp environment paramet totp_dattotp_datparam disturb magnitud totp_datparam recoveri period totp_datparam disturb time paramtyp disturb paramet totp_datparam factortotp_datparam level simfullnam dat_listmetr totp_dat compar perform recoveri indic r plotcompareind echo f includef formm lengthmetric_list metric metric_listmm plot plt plotmetdat_listmetr metric metric_namesmetr pngfilepathofold pastebasenam _ metric metpngwidth height printplt devoff printplt characterist influenc perform r plotsensitivityoveral echo f includef fortr lengthtempres_list tempr tempres_listtr formm lengthmetric_list metric metric_listmm data dat_listmetr iftempr alldata datadatadens tempr xlbl paramet valu ylbl metric_namesmetr scale free_i plot plt plotsensbardata xlbl ylbl scale pngfilepathofold pastebasenam _ tempr _metric_envpngwidth height printplt devoff r plotsensitivitysepar echo f includef formm lengthmetric_list metric metric_listmm forpp lengthsimfullnam data dat_listmetr data datadataparam simfullnamepp datadens revaluefactordatadens level cdens quarterli annual cdens annualannu quarterli quarterli datasmooth revaluefactordatasmooth level craw smooth segment crawno smoothedrol mean segment segment xlbl simfullnamepp ylbl metric_namesmetr scale free_i plt plotsensdata xlbl ylbl scale pngfilepathofold pastebasenam _metric_ namessimfullnamepp_senspngwidth height printplt devoff improv perform r plotpreprocess echo f includef formm lengthmetric_list metric metric_listmm data dat_listmetr datadens revaluefactordatadens level cdens quarterli annual cdens annualannu quarterli quarterli datasmooth revaluefactordatasmooth level craw smooth segment crawno smoothedrol mean segment segment xlbl tempor aggreg ylbl metric_namesmetr scale free_i plot plt pltprepboxdata xlbl ylbl scale pngfilepathofold pastebasenam _ metric_preppngwidth height printplt devoff titl prototyp benchmark studi author wanda de keersmaeck pablo rodriguezsanchez date output html_document vignett vignetteindexentryprototyp benchmark studi vignetteengineknitrrmarkdown usepackageutfinputenc r setup includefals knitropts_chunksetecho true eval figwidth figheight load librari librarydevtool librarybenchmarkrecoveri libraryzoo libraryplyr libraryreshap libraryggplot libraryprofvi libraryparallel librarypbappli librarybfast librarystrucchang librarycolorspac calcul number core no_cor detectcor extract time seri characterist sampl time seri follow characterist deriv decompos time seri fraction miss valu season amplitud one valu input time seri averag season pattern offset standard deviat remaind compon one valu per input time seri fit arma model remaind compon one model per input time seri r loaddata input ifold data ofold data folder output written basenam ctoyset otherset name input dataset contain sampl satellit time seri nyr number year observ period nobsyr number observ per year caselist cseasampremsddistmagdisttdistrecmissv paramet evalu r auxfunct echofals note consid refactor chunk instanc move extract_set r andor creat set gener work loadsav sttng intofrom file todo document function extract_set functionbasenam ifold nyr nobsyr ofold ifilevi pastebasenam rda instanc toysetrda dfvi loadrdatafil filepathifold ifilevi instanc datatoysetrda first decompos time seri season trend remaind tmp decomptsbfastdfvi nyr nobsyr dataviseasbf tmp seson fit harmon function datavirembf tmp remaind datavitrbf tmp trend linear trend without break dataviseascoef tmp coeffici fit harmon function deriv characterist tsvimissv rowsumsisnadfvidimdfvi fraction miss valu seasvimax applydataviseasbfc max season amplitud pixel seass dataviseasbfdataviseasbf averag season pattern southern hemispher avoid interfer season cycl seasvimean colmeansasmatrixseassc trvimean meanrowmeansasmatrixdatavitrbfc narmt offset rem_visd applydatavirembfc sd narmt sd remaind per pixel set simul stnobsyr vqntl c c c c set quantil use deriv realist valu number sttng list sttngsseasamp listtyp dist val cquantileseasvimax vqntl ob seasvimax fix quantileseasvimax c sttngsmissval listtyp dist val cquantiletsvimissv vqntl ob tsvimissv fix quantiletsvimissv c sttngsremsd listtyp dist val cquantilerem_visd vqntl ob rem_visd fix quantilerem_visd c sttngsnyr listtyp rang val c fix seq sttngsdistmag listtyp rang val c fix c sttngsdistt listtyp rang val c fix cseq sttngsdistrec listtyp rang val cstnobsyr fix cstnobsyr seqbi sttngsndr listtyp rang val c fix sttngsdisttyp listtyp cat val cpiecewis fix piecewisepiecewis exponenti diffeq sttngsdistmissv listtyp cat val random fix random sttngstrav listtyp rang val trvimean fix trvimean sttngsgener list eval caselistparamet evalu disttdistrec missval distmag seasamp remsd nt nobsyr stnobsyr seasav seasvimean remcoef rem_vicoef parsetup int paramet setup avg dist comb int remov redund variabl rmlistsetdiffl csttngsifold ofold basenam ncore par save desir save_result ofold ifsave_result savesttng file filepathofold pastebasenam _simts_settingsrda returnsttng r extractset start clock start_tim systim extract set data sttngs_list mclapplybasenam fun extract_set ifold ifold nyr nyr nobsyr nobsyr ofold ofold mccore no_cor stop clock end_tim systim printend_tim start_tim simul time seri measur recoveri evalu perform base characterist measur time seri time seri simul defin simul set first simul set defin set list __seasamp__ season amplitud __missval__ fraction miss valu time seri __remsd__ standard deviat remaind __nyr__ time seri length number year __distmag__ disturb magnitud neg valu simul drop __distt__ time disturb disturb year __distrec__ recoveri half time disturb number observ __ndr__ number simul drought __disttype__ type recoveri piecewis exponenti realist __distmissval__ defin introduc miss valu distribut random equal interv __trav__ offset __eval__ paramet evalu __nts__ number time seri simul per valu evalu paramet __nobsyr__ number observ simul per year equal frequenc sampl time seri __seasav__ repres season pattern __parsetup__ paramet valu select approach avg dist comb int paramet type defin three main paramet type dist rang cat dist paramet paramet valu observ sampl time seri avail rang paramet observ valu avail expect rang valu set final cat paramet categor next type paramet set paramet valu val need defin sensit recoveri indic paramet evalu perform recoveri indic evalu respect paramet valu dist paramet observ paramet valu ob need addit provid paramet setup follow int approach see next section detail valu evalu dist paramet set predefin fix valu randomli sampl interv interv defin val set first two valu refer first interv next two valu second interv evalu sensit one specif paramet valu paramet also need set four approach use achiev first avg int approach set paramet averag valu equal mean valu distribut observ valu dist paramet mean valu rang valu given val rang paramet randomli select valu select valu give val cat paramet second dist approach select valu paramet given likelihood occurr likelihood defin histogram observ valu dist paramet random select valu made rang cat paramet third comb approach defin combin evalu valu paramet defin val follow input need calcul recoveri indic __funset__ list set comput recoveri indic one valu set allow yet equal number valu paramet requir recoveri indic deriv set valu set paramet freq dens annual quarterli defin observ frequenc dens origin frequenc use annual quarterli time seri convert annual quarterli frequenc respect input smooth raw segment defin type time seri use recoveri indic raw simul time seri directli use calcul recoveri smooth time seri smooth algorithm roll mean use recoveri calcul segment trend compon piecewis regress bfastn use npre number year disturb use deriv predisturb valu ndist number year disturb use deriv valu disturb npostmin npostmax postdisturb valu deriv npostmin npostmax year disturb h case input equal segment h valu use segment algorithm defin minim segment size either given fraction rel sampl size integ give minim number observ segment break case input equal segment criterium given break use segment algorithm defin optim number segment set bic lwz deactiv sea case input equal segment sea denot whether season term need use segment algorithm r setfunset recoveri set funset listfreq crepannu repdens repquarterli input repcraw smoothedseg set recoveri indic npre rep ndist creprep npostmin repc npostmax crep rep rep rep rep rep h rep sea crepfrept save configur one per basenam although ident note decid need mclapplybasenam fun functionbasenam savefunset file filepathofold pastebasenam _recsettingsrda specifi set use simul time seri calcul recoveri indic evalu perform r setinputt creat test perform store tabl homework list hpc sttngsgeneralev teststabl expandgridbasenam basenam case caselist stringsasfactor fals combin case filenam assign column set note futur perhap use basenam sttng redund teststableset repna nrowtestst initi set column teststableset sttngs_list teststabl tibbletibbletestst tibblifi increas readabl print inspect printtestst r simulateandextract evaltru start clock start_tim systim set_fast_opt run sensit analysi results_list mcmapplyfun evalparam evr teststablecas basenam teststablebasenam sttng teststableset iter along paramet morearg listfunset funset ofold ofold paramet remain constant mccore no_cor stop clock end_tim systim printend_tim start_tim plot perform indic r plot includ f gener set characterist plot need made simfullnam listdisturb magnitud number drought time seri length season amplitud sd remaind disturb time recoveri period year miss valu namessimfullnam cdistmag ndr len seasamp remsd distt distrec missval compar perform recoveri indic r compareind includef forvr lengthcaselist evr caselistvr name paramet evalu simul setvr sttngsevr set simul note retriev data results_list instead save file rri_rsq loadrdatafilepathofold pastebasenam _rri_r_ evr rda rp_rsq loadrdatafilepathofold pastebasenam _rp_r_ evr rda yryr_rsq loadrdatafilepathofold pastebasenam _yryr_r_ evr rda rri_map loadrdatafilepathofold pastebasenam _rri_mape_ evr rda rp_mape loadrdatafilepathofold pastebasenam _rp_mape_ evr rda yryr_map loadrdatafilepathofold pastebasenam _yryr_mape_ evr rda rri_nt loadrdatafilepathofold pastebasenam _rri_nts_ evr rda rp_nt loadrdatafilepathofold pastebasenam _rp_nts_ evr rda yryr_nt loadrdatafilepathofold pastebasenam _yryr_nts_ evr rda tot_rsq meltrbindrri_rsq rp_rsq yryr_rsq tot_map meltrbindrri_map rp_mape yryr_map tot_nt meltrbindrri_nt rp_nt yryr_nt tot_rsqperiod revaluefactortot_rsqnpostmin cshort long tot_mapeperiod revaluefactortot_mapenpostmin cshort long tot_ntsperiod revaluefactortot_ntsnpostmin cshort long ifevr remsd evr seasamp evr missval tot_rsqvari mapvaluestot_rsqvari levelstot_rsqvari cno low medium high tot_mapevari mapvaluestot_mapevari levelstot_mapevari cno low medium high tot_ntsvari mapvaluestot_ntsvari levelstot_ntsvari cno low medium high els tot_rsqvari mapvaluestot_rsqvari levelstot_rsqvari clow medium high tot_mapevari mapvaluestot_mapevari levelstot_mapevari clow medium high tot_ntsvari mapvaluestot_ntsvari levelstot_ntsvari clow medium high tot_rsq tot_rsqtot_rsqdens dens tot_rsqsmooth raw tot_rsqperiod long tot_rsqparam simfullnamecaselistvr ifvr totp_rsq tot_rsqelsetotp_rsq rbindtotp_rsqtot_rsq tot_map tot_mapetot_mapedens dens tot_mapesmooth raw tot_mapeperiod long tot_mapeparam simfullnamecaselistvr ifvr totp_map tot_mapeelsetotp_map rbindtotp_mapetot_map tot_nt tot_ntstot_ntsdens dens tot_ntssmooth raw tot_ntsperiod long tot_ntsparam simfullnamecaselistvr ifvr totp_nt tot_ntselsetotp_nt rbindtotp_ntstot_nt xlbl metric plot r data totp_rsq ylbl r² pltr plotmetdata xlbl ylbl pngfilepathofold pastebasenam _rsqmetpngwidth height printpltr devoff plot mape data totp_map ylbl mape pltmape plotmetdata xlbl ylbl pngfilepathofold pastebasenam _mapemetpngwidth height printpltmap devoff plot fraction time seri process data totp_nt ylbl fraction pltnt plotmetdata xlbl ylbl pngfilepathofold pastebasenam _ntsmetpngwidth height printpltnt devoff printpltr printpltmap printpltnt characterist influenc perform r compareperform includef compar effect paramet caselist c seasamp remsd missvaldistrecdisttdistmag evalu time seri characterist plot need made simfullnam listdisturb magnitud disturb time recoveri period number drought time seri length season amplitud sd remaind miss valu namessimfullnam cdistmag distt distrec ndr len seasamp remsd missval forvr lengthcaselist evr caselistvr name paramet evalu simul setvr sttngsevr set simul rri_rsq loadrdatafilepathofold pastebasenam _rri_r_ evr rda rp_rsq loadrdatafilepathofold pastebasenam _rp_r_ evr rda yryr_rsq loadrdatafilepathofold pastebasenam _yryr_r_ evr rda rri_map loadrdatafilepathofold pastebasenam _rri_mape_ evr rda rp_mape loadrdatafilepathofold pastebasenam _rp_mape_ evr rda yryr_map loadrdatafilepathofold pastebasenam _yryr_mape_ evr rda rri_nt loadrdatafilepathofold pastebasenam _rri_nts_ evr rda rp_nt loadrdatafilepathofold pastebasenam _rp_nts_ evr rda yryr_nt loadrdatafilepathofold pastebasenam _yryr_nts_ evr rda tot_rsq meltrbindrri_rsq rp_rsq yryr_rsq tot_map meltrbindrri_map rp_mape yryr_map tot_nt meltrbindrri_nt rp_nt yryr_nt tot_rsqperiod revaluefactortot_rsqnpostmin cshort long tot_mapeperiod revaluefactortot_mapenpostmin cshort long tot_ntsperiod revaluefactortot_ntsnpostmin cshort long ifevr remsd evr seasamp evr missval tot_rsqvari mapvaluestot_rsqvari levelstot_rsqvari cno low medium high tot_mapevari mapvaluestot_mapevari levelstot_mapevari cno low medium high tot_ntsvari mapvaluestot_ntsvari levelstot_ntsvari cno low medium high els tot_rsqvari mapvaluestot_rsqvari levelstot_rsqvari clow medium high tot_mapevari mapvaluestot_mapevari levelstot_mapevari clow medium high tot_ntsvari mapvaluestot_ntsvari levelstot_ntsvari clow medium high tot_rsq tot_rsqtot_rsqdens dens tot_rsqsmooth raw tot_rsqperiod long tot_rsqparam simfullnamecaselistvr ifvr totp_rsq tot_rsqelsetotp_rsq rbindtotp_rsqtot_rsq tot_map tot_mapetot_mapedens dens tot_mapesmooth raw tot_mapeperiod long tot_mapeparam simfullnamecaselistvr ifvr totp_map tot_mapeelsetotp_map rbindtotp_mapetot_map tot_nt tot_ntstot_ntsdens dens tot_ntssmooth raw tot_ntsperiod long tot_ntsparam simfullnamecaselistvr ifvr totp_nt tot_ntselsetotp_nt rbindtotp_ntstot_nt totp_rsqparamtyp environment paramet totp_rsqtotp_rsqparam disturb magnitud totp_rsqparam recoveri period totp_rsqparam disturb time paramtyp disturb paramet totp_mapeparamtyp environment paramet totp_mapetotp_mapeparam disturb magnitud totp_mapeparam recoveri period totp_mapeparam disturb time paramtyp disturb paramet totp_ntsparamtyp environment paramet totp_ntstotp_rsqparam disturb magnitud totp_ntsparam recoveri period totp_ntsparam disturb time paramtyp disturb paramet data totp_rsq dataparam factordataparam level revunlistsimfullnamecaselist xlbl paramet valu ylbl r² pltr plotenvdata xlbl ylbl scale free_i pngfilepathofold pastebasenam _rsq_envpngwidth height printpltr devoff data totp_map dataparam factordataparam level revunlistsimfullnamecaselist datavalueisinfinitedatavalu na xlbl paramet valu ylbl mape pltmape plotenvdata xlbl ylbl scale free_i pngfilepathofold pastebasenam _mape_envpngwidth height printpltmap devoff data totp_nt dataparam factordataparam level revunlistsimfullnamecaselist xlbl paramet valu ylbl fraction pltnt plotenvdata xlbl ylbl scale free_i pngfilepathofold pastebasenam _nts_envpngwidth height printpltnt devoff printpltr printpltmap printpltnt improv perform r improveperform includef forvr lengthcaselist evr caselistvr name paramet evalu simul setvr sttngsevr set simul rri_rsq loadrdatafilepathofold pastebasenam _rri_r_ evr rda rp_rsq loadrdatafilepathofold pastebasenam _rp_r_ evr rda yryr_rsq loadrdatafilepathofold pastebasenam _yryr_r_ evr rda rri_rms loadrdatafilepathofold pastebasenam _rri_rmse_ evr rda rp_rmse loadrdatafilepathofold pastebasenam _rp_rmse_ evr rda yryr_rms loadrdatafilepathofold pastebasenam _yryr_rmse_ evr rda rri_map loadrdatafilepathofold pastebasenam _rri_mape_ evr rda rp_mape loadrdatafilepathofold pastebasenam _rp_mape_ evr rda yryr_map loadrdatafilepathofold pastebasenam _yryr_mape_ evr rda rri_nt loadrdatafilepathofold pastebasenam _rri_nts_ evr rda rp_nt loadrdatafilepathofold pastebasenam _rp_nts_ evr rda yryr_nt loadrdatafilepathofold pastebasenam _yryr_nts_ evr rda tot_rsq meltrbindrri_rsq rp_rsq yryr_rsq tot_rms meltrbindrri_rms rp_rmse yryr_rms tot_map meltrbindrri_map rp_mape yryr_map tot_nt meltrbindrri_nt rp_nt yryr_nt tot_rsqperiod revaluefactortot_rsqnpostmin cshort long tot_rmseperiod revaluefactortot_rmsenpostmin cshort long tot_mapeperiod revaluefactortot_mapenpostmin cshort long tot_ntsperiod revaluefactortot_ntsnpostmin cshort long ifevr remsd evr seasamp evr missval tot_rsqvari mapvaluestot_rsqvari levelstot_rsqvari cno low medium high tot_rmsevari mapvaluestot_rmsevari levelstot_rmsevari cno low medium high tot_mapevari mapvaluestot_mapevari levelstot_mapevari cno low medium high tot_ntsvari mapvaluestot_ntsvari levelstot_ntsvari cno low medium high els tot_rsqvari mapvaluestot_rsqvari levelstot_rsqvari c low medium high tot_rmsevari mapvaluestot_rmsevari levelstot_rmsevari c low medium high tot_mapevari mapvaluestot_mapevari levelstot_mapevari c low medium high tot_ntsvari mapvaluestot_ntsvari levelstot_ntsvari c low medium high lbl craw bap piecewis bap smooth bap raw dens piecewis dens smooth dens raw quarterli piecewis quarterli smooth quarterli sname caselistvr xlbl simfullnamesnam plot r data tot_rsq ylbl r² pltr plotsensdata lbl xlbl ylbl scale fix pngfilepathofold pastebasenam _rsq_evrpngwidth height printpltr devoff plot rmse data tot_rms ylbl rmse pltrmse plotsensdata lbl xlbl ylbl scale free_i pngfilepathofold pastebasenam _rmse_evrpngwidth height printpltrms devoff plot mape data tot_map ylbl mape pltmape plotsensdata lbl xlbl ylbl scale free_i pngfilepathofold pastebasenam _mape_evrpngwidth height printpltmap devoff plot fraction time seri process data tot_nt ylbl fraction pltnt plotsensdata lbl xlbl ylbl scale free_i pngfilepathofold pastebasenam _nts_evrpngwidth height printpltnt devoff printpltr printpltrms printpltmap printpltnt titl avoid nest loop appli function author pablo rodriguezsanchez date output html_document vignett vignetteindexentryus appli function vignetteengineknitrrmarkdown usepackageutfinputenc problem descript current vignett sensitivityanalysisrmd use evalparam creat output form save file correspond one permut follow paramet par whose possibl valu distmag distrec distt missval remsd seasamp par whose possibl valu rp rri simt yryr par whose possibl valu mape nt r rmse loop correspond par happen vignett level via lappli function two happen insid evalparam via nest loop sake code clariti speed parallel could good idea refactor evalparam atom way atom mean accept one paramet identifi one possibl case want calcul calcul one depend amount identif paramet whole process effici loop via vector lappli singl id per row mappli multipl id per row evalparam function alreadi quit complic well assum vector feasibl two remain possibl thu use singl identifi ie evalparam id rp_nts_distt later call via lappli use multipl identifi ie evalparam par rp par nt par distt later call via mappli graphic summari current evalparam much imgdiagram_nowpng advis split like imgdiagram_futurepng present vignett show simpl case studi use appli function kind problem r setup includefals knitropts_chunksetecho true gener input data frame gener simpl data set permut correspond identifi type whose possibl valu b c gender whose possibl valu countri whose possibl valu nl plu singl column contain measur random number case r casesdefinit identifi v ca b c v c v cnl measur v runifn lengthv lengthv lengthv r permuteallcas idf expandgridtyp v gender v countri v stringsasfactor fals idf cbindidf measur v r seedatasetnonam echofals printidf usual good idea assign meaning name row r createsingleid auxiliari function creat singl row identifi combin type gender countri instanc b__nl create_id functiontyp gender countri id pastetyp gender countri sep _ rownamesidf create_ididftyp idfgend idfcountri rownam check name duplic r seedataset echofals printidf name well chosen even redund three id column tutori well keep order investig differ way appli function given row analyz data want perform follow analysi row multipli measur countri belgium multipli measur countri netherland three function differ way input row specifi r function analyz bruteforc method expect call row row instanc insid loop crash otherwis analyz functionrow auxiliari function return belgium netherland country_to_numb functioncountri ifcountri return els return number country_to_numberrowcountri returnnumb rowmeasur analyz prepar lappli analyz singl id row name provid lanalyz functionid data row dataid analyzerow analyz prepar mappli analyz type gender countri provid manalyz functiontyp gender countri data id create_idtyp gender countri lanalyzeid data analysi deliber silli exampl action perform input data set control input data set case one appli desir subset r applysub lresult lapplyca__nl b__be lanalyz data idf use lappli singl row identifi mresult mapplymanalyz ca b c cnl morearg listdata idf use mappli multipl row identifi r printresultssub printlresult printmresult appli whole dataset r appli lresult lapplycreate_ididftyp idfgend idfcountri lanalyz data idf use lappli singl row identifi mresult mapplymanalyz idftyp idfgend idfcountri morearg listdata idf use mappli multipl row identifi r printresult printlresult printmresult gener roxygen edit hand pleas edit document rfun_eval_performanc namersq aliasrsq titler squar usag rsqx argument itemxvector x valu itemyvector valu valu r squar x variabl descript r squar gener roxygen edit hand pleas edit document rdatar doctypedata nametoyset aliastoyset titlesampl landat nbr time seri tropic forest format list observ variabl longitudelon latitudelat nbr valu set date describ itemlonlongitud itemlatlatitud sourc urlhttpswwwusgsgovlandresourcesnlilandsat usag toyset descript dataset contain sampl nbr time seri tropic forest keyworddataset gener roxygen edit hand pleas edit document rfun_generalr nametsdecompress aliastsdecompress titleth tsdecompress recov vector compress tscompress function origin format usag tsdecompresst argument itemtsa vector compress tscompress function valu vector restor origin format descript tsdecompress recov vector compress tscompress function origin format gener roxygen edit hand pleas edit document rfun_generalr nameloadrdata aliasloadrdata titleload rdata file return function substitut load function allow assign user defin variabl name load rdata file usag loadrdatafilenam argument itemfilenameth path rdata file need load valu r object descript load rdata file return function substitut load function allow assign user defin variabl name load rdata file gener roxygen edit hand pleas edit document rfun_character namegetarmacoef aliasgetarmacoef titlefit arma model function automat fit arma model without season compon usag getarmacoeftsx argument itemtsxa time seri object arma model need fit valu arma model coeffici list contain arma coeffici order number ar coeffici nonseason differ coeffici descript fit arma model function automat fit arma model without season compon gener roxygen edit hand pleas edit document rfun_generalr nametscompress aliastscompress titleth tscompress function compress time seri vector purpos avoid store mani na valu usag tscompresst argument itemtsa vector compress valu vector contain order length input vector number observ without na observ without na valu observ na descript tscompress function compress time seri vector purpos avoid store mani na valu gener roxygen edit hand pleas edit document rfun_eval_performanc namerms aliasrms titl intercept slope linear model fit shapirowilk normal test residu param x vector x valu param vector valu return intercept slope linear fit p valu shapirowilk normal test export linfit functionx ind whichisinfinitex isinfinitey lengthind x xind yind ifsumisnaxf sumisnayf lengthuniquexisnax f mod lmyx coef summarymodcoeffici tst shapirotestmodresidualspvalu impli distribut data significantli differ normal distribut ccoef coef tstpvalu intercept slope elseout cnanana rmse usag rmseval mea argument itemvalvector x valu itemmeasvector valu valu rmse two vector descript intercept slope linear model fit shapirowilk normal test residu param x vector x valu param vector valu return intercept slope linear fit p valu shapirowilk normal test export linfit functionx ind whichisinfinitex isinfinitey lengthind x xind yind ifsumisnaxf sumisnayf lengthuniquexisnax f mod lmyx coef summarymodcoeffici tst shapirotestmodresidualspvalu impli distribut data significantli differ normal distribut ccoef coef tstpvalu intercept slope elseout cnanana rmse gener roxygen edit hand pleas edit document rfun_generalr nametoannualt aliastoannualt titleconvert time seri annual frequenc toannualt function convert time seri n observ per year annual time seri one observ per year main concept select observ per year closest given day year miss valu na day year season maximum use usag toannualtstssea tsi obspyr dtmax argument itemtsseasvector observ time seri repres season compon time seri convert itemtsivector observ time seri need convert annual time seri itemobspyrnumb observ per year time seri convert itemdtmaxmaximum time express year equal one month select observ season maximum valu vector observ time seri annual observ frequenc descript convert time seri annual frequenc toannualt function convert time seri n observ per year annual time seri one observ per year main concept select observ per year closest given day year miss valu na day year season maximum use gener roxygen edit hand pleas edit document rfun_character namedecomptsbfast aliasdecomptsbfast titledecompos time seri trend season remaind function decompos time seri three compon use bfast function trend season remaind trend fit use linear regress without break season fit use first order harmon function remaind equal anomali ie time seri trend season usag decomptsbfastdf nyr nobsyr argument itemdfa datafram time seri need decompos datafram need structur follow row repres sampl pixel first two column contain latitud longitud pixel next column contain time seri valu observ date itemnyrnumb year input time seri itemnobsyrnumb observ per year input time seri valu list contain estim season remaind trend season coeffici season datafram season pixel row repres sampl pixel first two column contain latitud longitud pixel next column contain season valu observ date trend remaind datafram trend remaind pixel datafram structur way season seasonality_coeffici datafram coefici fit harmon function row repres sampl pixel first two column contain latitud longitud pixel next column contain coeffici fit harmon function descript decompos time seri trend season remaind function decompos time seri three compon use bfast function trend season remaind trend fit use linear regress without break season fit use first order harmon function remaind equal anomali ie time seri trend season gener roxygen edit hand pleas edit document rts_generatorr namesimulcas aliassimulcas titlesimul nrep disturb time seri usag simulcas nrep nyr nobsyr ndr seasav seasamp trav remsd distmaglim distti distreclim mval mvaldist disttyp argument itemnrepnumb time seri simul itemnyrnumb year need simul itemnobsyrnumb observ per year simul itemndrnumb drought year introduc ie set season year equal minimum valu drought year randomli chosen simul time seri itemseasavaverag season profil itemseasampseason amplitud itemtravoffset valu time seri itemremsdstandard deviat remaind itemdistmaglimlimit disturb magnitud vector minimum maximum valu minimum equal maximum valu disturb magnitud fix simul time seri equal minimum valu minimum valu equal maximum valu disturb magnitud randomli chosen given interv simul time seri itemdisttyyear disturb distti equal one disturb take place first year exact disturb date day year randomli chosen per time seri itemdistreclimlimit halftim period recoveri number observ vector minimum maximum valu minimum equal maximum valu recoveri period fix simul time seri equal minimum valu minimum valu equal maximum valu recoveri period randomli chosen given interv simul time seri itemmvalnumb miss valu introduc mval equal na miss valu introduc miss valu random interv see mvaldist equal fraction miss valu mval equal result na valu percent time seri miss valu regular interv everi mval observ one valu kept eg daili time seri mval equal result one observ everi day itemmvaldistth distribut miss valu equal randomor interv itemdisttypeth type disturb piecewis refer linear decay function exponenti refer exponenti decay valu list simul time seri offest season remaind disturb compon paramet use simul time seri compon store matrix row time seri column associ observ number descript simul nrep disturb time seri gener roxygen edit hand pleas edit document rfun_recoveryr namecalcfrazi aliascalcfrazi titlecalcul recoveri metric time seri known disturb date calcfrazi function deriv rri rp yryr recoveri indic defin frazier et al indic origin develop annual longterm time seri optic veget indic yet order abl deriv indic well dens andor short time seri modifi version suggest user defin time period disturb use deriv indic reduc interfer season pattern dens time seri chosen time period cover block n year frazier r j coop n c wulder hermosilla white j c analyz spatial tempor variabl shortterm rate postfir veget return landsat time seri remot sens environ usag calcfraziertsio tdist obspyr npre ndist npostmin npostmax argument itemtsiovector observ time seri fix observ frequenc itemtdistobserv number disturb indic time disturb itemobspyrnumb observ per year itemnprenumb year prior disturb use calcul predisturb valu itemndistnumb year use quantifi time seri valu disturb itemnpostminth postdisturb condit quantifi start npostmin year disturb itemnpostmaxmax number year disturb use quantifi postdisturb condit valu list contain rri recoveri indic rp recoveri indic yryr recoveri indic descript calcul recoveri metric time seri known disturb date calcfrazi function deriv rri rp yryr recoveri indic defin frazier et al indic origin develop annual longterm time seri optic veget indic yet order abl deriv indic well dens andor short time seri modifi version suggest user defin time period disturb use deriv indic reduc interfer season pattern dens time seri chosen time period cover block n year frazier r j coop n c wulder hermosilla white j c analyz spatial tempor variabl shortterm rate postfir veget return landsat time seri remot sens environ gener roxygen edit hand pleas edit document rfun_eval_performanc namemap aliasmap titlemap usag mapev mea argument itemvalvector x valu itemmeasvector valu valu mape two vector descript mape gener roxygen edit hand pleas edit document rfun_recoveryr namecalcbfastrec aliascalcbfastrec titlepostdisturb slope recoveri metric deriv bfastn trend segment calcbfastrec function deriv set recoveri indic fit segment trend time seri use breakpoint function strucchang packag segment trend fit hereaft call bfastn trend segment detect break show largest chang absolut valu assum repres disturb use segment trend detect disturb date rri rp yryr slope postdisturb trend segment deriv recoveri indic usag calcbfastrectsio obspyr h npre ndist npostmin npostmax sea f argument itemtsiovector observ time seri itemobspyrnumb observ one year itemhthi paramet defin minim segment size either given fraction rel sampl size integ give minim number observ segment itemnprenumb year prior disturb use calcul predisturb valu itemndistnumb month use quantifi time seri valu disturb itemnpostminmin number year disturb use quantifi recoveri itemnpostmaxmax number year disturb use quantifi recoveri itemseastru fals includ season term detect break itembreaksb lwz criteria use defin optim number break desactiv valu list contain rri rp yryr recoveri indic deriv bfastn trend segment slope trend segment disturb sl descript postdisturb slope recoveri metric deriv bfastn trend segment calcbfastrec function deriv set recoveri indic fit segment trend time seri use breakpoint function strucchang packag segment trend fit hereaft call bfastn trend segment detect break show largest chang absolut valu assum repres disturb use segment trend detect disturb date rri rp yryr slope postdisturb trend segment deriv recoveri indic gener roxygen edit hand pleas edit document rts_generatorr namesimult aliassimult titlesimul one time seri disturb usag simult nyr nobsyr tmiss ndr seasav seasamp trav remsd distmag distt distrec disttyp argument itemnyrnumb year need simul itemnobsyrnumb observ per year simul itemtmisstim miss valu observ number tmiss equal na miss valu introduc itemndrnumb drought year introduc ie set season year equal minimum valu drought year randomli chosen itemseasavaverag season profil itemseasampseason amplitud itemtravoffset valu time seri itemremsdstandard deviat remaind itemdistmagmagnitud disturb itemdistttim disturb observ number itemdistrecdur recoveri number observ itemdisttypetyp disturbancerecoveri process piecewis repres step function linear recoveri exponenti repres exponenti decay itemremmodarma model remaind valu list containign year drought introduc time seri object contain simul season trend remaind disturb sum compon descript simul one time seri disturb