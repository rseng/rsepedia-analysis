readmemd gener readmermd pleas edit file img srcmanfigureslogo_fishphylomakerpng altfish logo widthpx alignright fishphylomak cran_status_badgehttpswwwrpkgorgbadgesversionfishphylomakerhttpscranrprojectorgpackagefishphylomak doihttpszenodoorgbadgesvghttpszenodoorgbadgelatestdoi licensehttpsimgshieldsiogithublicensemashapeapistatussvghttpschoosealicensecomlicensesmit fishphylomak r packag allow construct synthesi phylogeni finnedray fish packag two main function fishtaxamak fishphylomak first gener data frame fish speci name provid user check valid name possibl synonym use inform contain fishbas databasehttpwwwfishbaseorg packag rfishbasehttpscranrprojectorgpackagerfishbas output fishtaxamak function list contain follow object all_info_fishbas data frame contain taxonom classif valid speci accordingli fishbas taxon_data_fishphylomak data frame three column contain valid scientif name speci famili f order data frame use fishphylomak gener phylogeni species_not_in_fishbas charact vector contain name speci found fishbas valid name data frame object contain three column name speci famili f order speci provid user besid help check valid name speci synonym duplic speci data frame return fishtaxamak taxon_data_fishphyomak format directli use core function fishphylomak function use inform taxonom hierarchi contain data frame return fishtaxamak joint inform present fishtre life projecthttpsfishtreeoflifeorg construct phylogenet tree paper describ function fishphylomak publish ecolog informat assess herehttpswwwsciencedirectcomsciencearticlepii download stabl version fishphylomak instal cran r installpackagesfishphylomak instal develop version packag user must type r installpackagesdevtool devtoolsinstall_githubgabrielnakamurafishphylomak ref main exampl run exampl user load data set present packag r libraryfishphylomak dataneotropical_comm data_comm neotropical_comm c remov latitud longitud data set compris commun matrix occurr fish speci headwat stream parana paraguai river basin brazil coordin stream present two first column data set first user must obtain data necessari enter fishphylomak use fishtaxamak function r taxon_data fishtaxamakerdata_comm allowmanualinsert true characida characiform characida characiform characida characiform loricariida siluriform cichlida cichliform crenuchida characiform gymnotida gymnotiform loricariida siluriform loricariida siluriform loricariida siluriform loricariida siluriform heptapterida siluriform characida characiform loricariida siluriform characida characiform fishtaxamak find fishbasehttpwwwfishbaseorgsearchphp famili order speci provid data argument speci find fishbas user ask type famili order speci manual function also use check possibl misspel error name speci final run fishphylomak r res_phylo fishphylomakerdata taxon_datataxon_data_fishphylomak insertbasenod true returninsert true progressbar true speci insert sequenti procedur speci famili repres print consol jointli list genu contain famili contain three user must choos user three option insert near specif genu user must type name genu insert genu user must type name two genu separ white space insert node correspond famili speci insert user must type name famili output two object phylogenet tree directli plot follow code r plotres_phylophylogeni cex data frame indic level speci insert one six categori detail r res_phyloinsertions_data detail updat see fishphylomak web pagehttpsgabrielnakamuragithubiofishphylomak next step x cran releas implement user option insert taxonom tabl backbon phylogeni incorpor butterfli phylogeni automat phylogeni plot fishphylomak bug fix fishphylomak function famili insert procedur new argument fishphylomak function allow insert speci node base famili fishphylomak second releas fishphylomak error insert fix new function whichfishadd releas stabl version fishphylomak cran function pd_deficit output total insert phylogenet inform paper describ fishphylomak publish ecolog informaticshttpswwwsciencedirectcomsciencearticlepii test environ local os x instal r window server r sp rdevel bit fedora linux rdevel clang gfortran ubuntu linux lt rreleas gcc r cmd check result error warn note check cran incom feasibl note maintain gabriel nakamura gabrielnakamurasouzagmailcom new submiss manual check pleas omit redund r packag titl remov redund part titl doi avail refer descript field could add form doiprefixsuffix ad doi refer pleas unwrap exampl execut sec creat addit small toy exampl allow automat test could also replac dontrun donttest take longer sec execut would prefer automat check function otherwis also write test remov dontrun chang donttest fishphylomakerr whichfishaddr function sinc exampl execut sec remov dontrun tab_functionr sinc depend interact procedur user possibl misspel word descript al et phylogeni raboski spell correct word found follow possibl invalid url url httpwwwfishbaseorg instdocfishphylomaker_vignettehtml messag invalid uri scheme chang url fishbas databasehttpswwwfishbases link correct proper http address found follow possibl invalid url url httpsdoiorg manneotropical_commrd statu error messag libcurl error code ssl certif problem unabl get local issuer certif statu without verif ok url valid output github_docu readmemd gener readmermd pleas edit file r includ fals knitropts_chunkset collaps true comment figpath manfiguresreadm outwidth img srcmanfigureslogo_fishphylomakerpng altfish logo widthpx alignright fishphylomak cran_status_badgehttpswwwrpkgorgbadgesversionfishphylomakerhttpscranrprojectorgpackagefishphylomak doihttpszenodoorgbadgesvghttpszenodoorgbadgelatestdoi licensehttpsimgshieldsiogithublicensemashapeapistatussvghttpschoosealicensecomlicensesmit fishphylomak r packag allow construct synthesi phylogeni finnedray fish packag two main function fishtaxamak fishphylomak first gener data frame fish speci name provid user check valid name possibl synonym use inform contain fishbas databasehttpwwwfishbaseorg packag rfishbasehttpscranrprojectorgpackagerfishbas output fishtaxamak function list contain follow object all_info_fishbas data frame contain taxonom classif valid speci accordingli fishbas taxon_data_fishphylomak data frame three column contain valid scientif name speci famili f order data frame use fishphylomak gener phylogeni species_not_in_fishbas charact vector contain name speci found fishbas valid name data frame object contain three column name speci famili f order speci provid user besid help check valid name speci synonym duplic speci data frame return fishtaxamak taxon_data_fishphyomak format directli use core function fishphylomak function use inform taxonom hierarchi contain data frame return fishtaxamak joint inform present fishtre life projecthttpsfishtreeoflifeorg construct phylogenet tree paper describ function fishphylomak publish ecolog informat assess herehttpswwwsciencedirectcomsciencearticlepii download stabl version fishphylomak instal cran r installpackagesfishphylomak instal develop version packag user must type r installpackagesdevtool devtoolsinstall_githubgabrielnakamurafishphylomak ref main exampl run exampl user load data set present packag r libraryfishphylomak dataneotropical_comm data_comm neotropical_comm c remov latitud longitud data set compris commun matrix occurr fish speci headwat stream parana paraguai river basin brazil coordin stream present two first column data set first user must obtain data necessari enter fishphylomak use fishtaxamak function r taxon_data fishtaxamakerdata_comm allowmanualinsert true characida characiform characida characiform characida characiform loricariida siluriform cichlida cichliform crenuchida characiform gymnotida gymnotiform loricariida siluriform loricariida siluriform loricariida siluriform loricariida siluriform heptapterida siluriform characida characiform loricariida siluriform characida characiform fishtaxamak find fishbasehttpwwwfishbaseorgsearchphp famili order speci provid data argument speci find fishbas user ask type famili order speci manual function also use check possibl misspel error name speci final run fishphylomak r res_phylo fishphylomakerdata taxon_datataxon_data_fishphylomak insertbasenod true returninsert true progressbar true speci insert sequenti procedur speci famili repres print consol jointli list genu contain famili contain three user must choos user three option insert near specif genu user must type name genu insert genu user must type name two genu separ white space insert node correspond famili speci insert user must type name famili output two object phylogenet tree directli plot follow code r plotres_phylophylogeni cex data frame indic level speci insert one six categori detail r res_phyloinsertions_data detail updat see fishphylomak web pagehttpsgabrielnakamuragithubiofishphylomak next step x cran releas implement user option insert taxonom tabl backbon phylogeni incorpor butterfli phylogeni automat phylogeni plot titl know speci must ad phylogeni date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentryhow find speci must ad vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment articl show find speci must ad megatre run fishphylomak function speci must ad interact insert process eas follow howev deal big data base mani speci desir initi insert process fishphylomak function know speci must insert posit phylogenet tree order facilit process function whichfishadd take speci inform user provid classif level speci insert run fishphylomak function code classif follow similar classif present insert process present_in_tre speci alreadi present origin tree congeneric_insert speci insert sister speci genu present tree family_insert found congener speci speci insert near genu famili present tree user also insert speci base famili order_insert found genu famili speci must insert speci insert near given famili two famili node correspond order speci first let read fishphylomak packag data contain fish speci occurr neotrop region r setup evalfals echotru libraryfishphylomak datafish_samerica check name speci data base function fishtaxamak inform manual famili order speci find fishbas procedur better explain articleshttpsgabrielnakamuragithubiofishphylomakerarticlesfishphylomaker_vignettehtml r taxondata evalfals echotru taxon_data fishtaxamakerdata fish_samerica loricariida siluriform anostomida characiform anostomida characiform anostomida characiform serrasalmida characiform auchenipterida siluriform auchenipterida siluriform auchenipterida siluriform taxon_data contain taxonom inform speci use whichfishadd function perform classif speci r addfish evalfals echotru class_fish whichfishadddata taxon_data class_fish data frame contain insert column indic level speci must insert speci alreadi tree data use previou fishphylomak find phylogenet posit absent speci titl use fishphylomak build phylogeni finnedray fish date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentryus fishphylomak build phylogeni finnedray fish vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment articl show obtain phylogeni pool speci use fishphylomak packag first need instal read fishphylomak packag made use follow code r install_pkg echotru evalfals devtoolsinstall_githubgabrielnakamurafishphylomak ref main use data base contain stream fish speci paraná paraguai basin compris two main basin neotrop region data embed packag easili access type r read_data evalfals echotru libraryfishphylomak dataneotropical_comm data_comm neotropical_comm c remov latitud longitud neotropical_comm correspond data frame contain abund fish speci collect headwat stream paraná paraguay basin obtain phylogenet tree speci first need format data accordingli enter fishphylomak function correspond data frame three column contain taxonom inform one speci prepar data use function fishtaxamak find speci name present data_comm check name found fishbas databasehttpswwwfishbases note speci found fishbas data user must type manual interact process name famili order speci found messag appear command prompt indic type name name must type sequenti follow code r taxon_data echotru evalfals taxon_data fishtaxamakerdata_comm allowmanualinsert true characida characiform characida characiform characida characiform loricariida siluriform characida characiform cichlida cichliform crenuchida characiform gymnotida gymnotiform loricariida siluriform loricariida siluriform loricariida siluriform loricariida siluriform heptapterida siluriform characida characiform loricariida siluriform characida characiform function return data frame three column number speci present data_comm taxon_data use fishphylomak function gener phylogenet tree speci exampl set argument returninsert true sinc want know level hierarch taxonomi speci insert process level explain introductori articlehttpsgabrielnakamuragithubiofishphylomakerindexhtml like fishtaxamak function fishphylomak also interact process insert user must inform posit speci must insert megatre three option insert speci near specif genusfamili insert speci near specif genusfamili user must type name genu famili speci must insert insert speci two genusfamili insert speci two differ genusfamili user must type name two genusfamili separ blank space insert root familyord insert speci node correspond famili order user must type name famili speci list name contain genu name famili name appear command prompt user must decid among one previou option note function take sever minut run depend number speci must insert r phylo_mak evalfals echotru phylo_fish_stream fishphylomakerdata taxon_data returninsert true insertbasenod true progressbar true exampl choos insert speci present congener rel base famili result fishphylomak list contain two object phylogenet tree data frame indic level speci insert phylogeni use result contain phylo_fish_stream plot tree use follow code highlight famili tree r plot_phylo evalfals echotru libraryggtre treepr phylo_fish_streamsphylogeni treepr apemakenodelabeltreepr phylo treepr rmfamnam whichtabletaxon_dataprf monotip famili namesfam setdiffuniquetaxon_dataprf namesrmfamnam remov monotip famili name lengthnamesfam set subsettaxon_datapr f namesfami phylo apemakenodelabelphylo u nodelist listfam_nam set phylonodelabelwhichphylonodelabel fam_nam pastesetf posnod unlistlapplynamesfam functionx whichphylonodelabel x lengthphylotiplabel dfphylo dataframefamnam namesfam nodenumb posnod plotbas ggtreephylo theme_tre plot revtsplotbas scale_x_continuouslabelsab prpg plot geom_hilightdata dfphylo aesnod nodenumb fill famnam alpha scale_fill_viridisdiscret name famili name code obtain phylogenet tree like figur speci shade color correspond monotip famili fig phylogenet tree contain speci stream fish paraná paraguay basin brazilvignettesphylo_paranaparaguaipng titl map speci insert phylogenet tree output rmarkdownhtml_vignett vignett vignetteindexentryhow map speci insert phylogenet tree vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment articl show map insert made phylogenet tree procedur realiz fishphylomak function map insert special import sinc allow understand gap phylogenet knowledg distribut phylogenet tree exampl understand characida famili present phylogenet gap loricariida famili done use inform contain output fishphylomak function set argument returninsert true return data frame contain categori insert speci categori present_in_tre speci alreadi present origin tree congeneric_insert speci insert sister speci genu present tree congeneric_family_level speci insert sister speci genu present tree ad speci local pool genu insert tree family_insert found congener speci speci insert near genu famili present tree user also insert speci base famili order_insert found genu famili speci must insert speci insert near given famili two famili node correspond order speci not_insert speci insert previou step insert final tree obtain data frame need first run fishphylomak set argument returninsert true use data fish occurr neotrop region present fishphylomak packag r setup libraryfishphylomak dataspp_afrotrop need format data use function fishtaxamak r formatdata echotru evalfals taxon_data fishtaxamakerdata spp_afrotrop allowmanualinsert true taxon_data run fishphylomak obtain phylogeni data frame insert made speci r makingphylo echotru evalfals phylo_fish_afrotrop fishphylomakerdata taxon_datataxon_data_fishphylomak returninsert true insertbasenod true progressbar true data frame extract categori insert plot phylogenet tree use inform phylo_fish_samericainsert r familynam echotru evalfals libraryphytool libraryggtre libraryggplot insertions_org phylo_fish_afrotropicsinsertions_datamatchtreetiplabel phylo_fish_afrotropicsinsertions_data pbase ggtreetre layout circular size insertions_org geom_treescalex width lines color blue fontsiz plot scale bar annotatetext x label myr size attempt add scale bar pfull pbase geom_tippointaescolor insert size alpha themelegendposit bottom guidescolor guide_legendoverridea listsiz scale_color_viridis_dnam null natransl f label ccongener f congener famili order present figur see insert made insert process fig phylogenet tree show level speci insert treevignettesphylo_afrotropics_insertionspng gener roxygen edit hand pleas edit document rinternal_filter_rankr namefilter_rank aliasfilter_rank titlefunct download speci fishtreeoflif usag filter_rankord argument itemordercharact name speci valu phylogeni descript function download speci fishtreeoflif keywordintern gener roxygen edit hand pleas edit document rpd_deficitr namepd_deficit aliaspd_deficit titletitl calcul amount phylogenet deficit assemblag usag pd_deficitphylo data level congeneric_insert argument itemphylophylogenet tree newick format object codelinkfishphylomak function itemdataa data frame contain classif inform level insert obtain codelinkfishphylomak function itemlevelcharact indic level must consid calcul pd deficit vector level congeneric_insert congeneric_family_level family_insert order_insert consid calcul phylogenet deficit default congeneric_insert valu vector contain four valu amount phylogenet inform present tree insert pdintre amount phylogenet inform insert tree pddeficit total phylogenet inform tree pdtotal ratio calcul pddeficitpdtot darwinian_deficit descript titl calcul amount phylogenet deficit assemblag seealso codelinkfishphylomak phylogeni data frame contain classif insert gener roxygen edit hand pleas edit document rtab_functionr namefishtaxamak aliasfishtaxamak titlegener list speci auxiliari function obtain taxonom classif check name speci present speci pool usag fishtaxamakerdata allowmanualinsert true argument itemdataa charact vector speci name commun matrix speci name column itemallowmanualinsertlog true default user must type name famili order speci found fishbas valu list three elementspreformat data frame contain taxonom classif valid speci accordingi fishbas data frame three column contain name speci famili f order use fishphylomak function charact vector contain name speci find fishbas descript gener list speci auxiliari function obtain taxonom classif check name speci present speci pool exampl dontrun dataneotropical_comm data_comm neotropical_comm c taxon_data fishtaxamakerdata_comm allowmanualinsert true characida characiform characida characiform characida characiform loricariida siluriform characida characiform cichlida cichliform crenuchida characiform gymnotida gymnotiform loricariida siluriform loricariida siluriform loricariida siluriform loricariida siluriform heptapterida siluriform characida characiform loricariida siluriform characida characiform gener roxygen edit hand pleas edit document rinternal_user_opt_printcatfamilyr nameprint_cat_famili aliasprint_cat_famili titleintern function help interact process usag print_cat_familyprint_cat spp order argument itemprint_catcharact itemsppcharact itemordercharact valu interact action consol descript intern function help interact process keywordintern gener roxygen edit hand pleas edit document rdata_descriptionr doctypedata nametaxon_data_phylomak aliastaxon_data_phylomak titledata frame speci name need assembl phylogenet tree format data frame taxonom classif speci famili order speci usag taxon_data_phylomak descript data frame directli use fishphylomak obtain phylogenet tree refer speci make dataset paper publish neotrop ichthyolog doi keyworddataset gener roxygen edit hand pleas edit document rdata_descriptionr doctypedata namespp_afrotrop aliasspp_afrotrop titlelist fish speci occurr afrotrop ecoregion format charact vector speci name usag spp_afrotrop descript list speci occur basin afrotrop ecoregion refer urlhttpswwwnaturecomarticlessdata keyworddataset gener roxygen edit hand pleas edit document rinternal_treedata_modifr nametreedata_modif aliastreedata_modif titleintern function show number speci speci pool lack phylogeni usag treedata_modifphi data sort fals warn true argument itemphyphylogenet hypothesi newick format itemdatadata frame speci ad tree itemsortsort speci alphabet order itemwarningslog valu charact vector descript intern function show number speci speci pool lack phylogeni keywordintern gener roxygen edit hand pleas edit document rinternal_user_opt_printcatr nameprint_cat aliasprint_cat titleintern function auxiliari interact procedur usag print_catprint_cat spp famili argument itemprint_catcharact itemsppcharact itemfamilycharact valu interact action consol descript intern function auxiliari interact procedur keywordintern gener roxygen edit hand pleas edit document rdata_descriptionr doctypedata nameneotropical_comm aliasneotropical_comm titleabund stream fish speci parana paraguay stream format data frame row variabl sourc articl publish neotrop ichthyolog doi usag neotropical_comm descript dataset contain abund stream fish speci distribut stream parana paraguay river basin keyworddataset gener roxygen edit hand pleas edit document rfishphylomakerr namefishphylomak aliasfishphylomak titleobtain fish phylogeni accord local pool speci usag fishphylomak data insertbasenod fals returninsert true progressbar true argument itemdataa data frame three column contain name speci famili f order data frame gener tab_funct function iteminsertbasenodelog argument indic speci must ad automat famili order need node default fals itemreturninsertionslog true default output list length two contain phylogeni datafram column indic level speci insert itemprogressbarlog argument true default progress bar shown consol valu newick object contain phylogeni speci data object returninsert true output list length two contain newick phylogeni data frame equal provid data plu column indic level speci insert tree descript obtain fish phylogeni accord local pool speci exampl donttest datataxon_data_phylomak res_phylo fishphylomakerdata taxon_data_phylomak insertbasenod true returninsert true progressbar true gener roxygen edit hand pleas edit document rwhichfishaddr namewhichfishadd aliaswhichfishadd titlefunct inform speci must ad megatre phylogeni insert process usag whichfishadddata argument itemdataa data frame three column contain name speci famili f order gener function codelinkfishtaxamak valu data frame contain column inform level speci data must ad descript function inform speci must ad megatre phylogeni insert process detail function use order known speci must ad insert process made codelinkfishphylomak exampl donttest datataxon_data_phylomak res_test whichfishadddata taxon_data_phylomak gener roxygen edit hand pleas edit document rinternal_user_opt_printcatr nameprint_cat aliasprint_cat titleintern function usag print_catspp argument itemsppcharact valu interact action consol descript intern function keywordintern