titl traja python toolbox anim trajectori analysi tag python anim behavior trajectori multivari time seri neurosci author name justin shenk orcid affili name wolf byttner affili orcid name saranraj nambusubramaniyan affili orcid name alexand zoeller affili orcid affili name visiolab berlin germani index name radboud univers nijmegen netherland index name rapid health london england unit kingdom index name independ research index date june bibliographi paperbib summari gener four categori trajectori data mobil peopl mobil transport vehicl mobil anim mobil natur phenomena zhengtrajectori anim track import field divers etholog optim forag theori neurosci mous behavior exampl wide studi biomed brain research model neurolog diseas stroke sever tool exist allow analyz mous locomot tool ethovis spink_ethovision_ deeplabcut mathiset allow convert video data pose coordin analyz open sourc tool dlcanalyz provid collect r script analyz posit data particular visual classifi plot movement bsoid hsu allow unsupervis cluster behavior extract pose coordin output deeplabcut simba sgoldenlab__ provid sever classifi tool behavior analysi video stream windowsbas graphic user interfac gui applic tool primarili use video data avail major anim studi exampl video monitor home cage mous data impract today due hous space constraint research use python work nonvisu anim track data sourc abl fulli leverag tool thu tool support model languag stateoftheart predict model amirian_social_ liang_peeking_ chandra_traphic_ provid anim research highlevel api multivari time seri featur extract model visual need traja python packag statist analysi comput model trajectori traja extend familiar panda mckinneyprocscipi rebackpanda method provid panda accessor dftraja namespac upon import api traja design provid objectori userfriendli interfac common method analysi visual anim trajectori traja also interfac well relev spatial analysi packag r eg trajr mclean_trajr_ adehabitat adehabitat shape shape movingpanda graser_movingpandas_ allow rapid prototyp comparison relev method python comprehens sourc document provid home page httptrajareadthedocsiotrajareadthedocsio statement need data use project includ anim trajectori data provid httpwwwtecniplastittecniplast spa manufactur laboratori anim equip base vares itali radboud univers nijmegen netherland tecniplast provid mous locomot data collect digit ventil cage dvc extract coordin mice requir analysi extern tool due lack access equip mous home cage data rather difficult collect analyz thu studi done home cage data furthermor research interest develop novel algorithm must implement scratch much comput algorithm infrastructur analysi visual packag librari particularli use anim locomot analysi futur research benefit access highlevel interfac clearli document method work toolkit anim behavior analysi either reli visual data mathiset vivek_hari_sridhar__ estim pose anim limit r program languag mclean_trajr_ prototyp analyt approach exploratori data analysi further access wide rang method exist librari provid python de facto languag machin learn data scienc program thu toolkit python provid method prototyp multivari time seri data analysi deep neural network model need overview librari traja target python popular data scientist librari leverag power panda librari mckinneyprocscipi ad method specif trajectori analysi import traja traja namespac regist within panda datafram namespac via dftraja softwar structur three part provid function transform analys visual trajectori full detail avail httpstrajareadthedocsio trajectori modul provid analyt preprocess function model subpackag provid tradit neural networkbas tool determin trajectori properti plot modul allow visual trajectori variou way data eg x coordin store onedimension label array instanc panda nativ seri class subclass panda datafram allow provid api mirror panda api familiar data scientist thu reduc barrier entri provid method properti specif trajectori rapid prototyp traja depend matplotlib hunter seaborn waskom plot numpi harrisarray comput trajectori data sourc trajectori data time seri extract wide rang sourc includ video process tool describ gp sensor larg anim via home cage floor sensor describ section method present implement orthogon coordin x primarili track anim centroid howev modif could extend work dimens bodi part locat input traja thu posit end data scientist chain tool hope support prototyp novel data process approach sampl dataset jaguar movement morato_jaguar_ provid trajadataset subpackag mous locomot data data sampl present dimension locat coordin reflect mous home cage x cm dimens analyt method relev rectilinear analysi highli constrain spatial coordin thu primarili consid high volum data like anim trajectori increas tendenc miss data due data collect issu nois fill miss data valu refer _data imputation_ achiev wide varieti statist learningbas method previous observ data scienc project typic requir least __ time spent clean preprocess manag data bosch_engineering_ therefor sever method relev preprocess anim data demonstr throughout follow section exampl paper focu anim motion howev use domain httpsgithubcomethzinsdlcanalyz dataset collect studi laboratori shenk_automated_ spatial trajectori spatial trajectori trace gener move object geograph space trajectori tradit model sequenc spatial point like t_k p_k p_k p_kiigeq point trajectori gener spatial trajectori data via random walk possibl sampl distribut angl step size kareiva_analyzing_ mclean_trajr_ correl random walk figur figgeneratedreferencetyperef referencefiggener gener trajagener gener random walklabelfiggeneratedimagesgeneratepngfiggener width spatial transform transform trajectori use compar trajectori variou geospati coordin data compress simpli visual purpos featur scale featur scale common practic preprocess data machin learn grus_data_ essenti even applic method attribut exampl high dimension featur vector mathbfx mathbbrn attribut other would lead bias treatment certain attribut limit dynam rang multipl data instanc simultan scale appli featur matrix x mathbfx_ mathbfx_ mathbfx_n mathbbrntimesn n number instanc minmax scale guarante algorithm appli equal attribut normal featur matrix hatx rescal rang hatx fracx x_minx_max x_min standard result standard featur rescal properti standard normal distribut mu sigma mu mean averag data sigma standard deviat mean standard score also known zscore calcul z fracxmusigma scale scale trajectori implement factor f scale f r f infti infti rotat rotat rectilinear trajectori coordin transform orthonorm base x angl theta radian around origin defin beginbmatrix xy endbmatrix beginbmatrix costheta sintheta sintheta costheta endbmatrix beginbmatrix xy endbmatrix angl theta theta r theta trip grid one strategi compress represent trajectori bin coordin produc imag shown figur figtripgridalgoreferencetyperef referencefigtripgridalgo trip grid imag gener mous trajectoryimagestrip_grid_algopngfigtripgridalgo width allow comput discret variabl rather continu one sever advantag stem abil store trajectori memori effici form advantag comput gener faster data fit memori case complex model item nois reduc experi exampl data reduc singleprecis float point bit bit unsign integ uint format creation n grid allow map trajectori t_k onto uniform grid cell gener nomenclatur wang_modeling_ rectangular grid c_mnleqmleq leqnleqn denot cell row column n grid point p_ki assign cell cmn result twodimension imag mn imag i_k valu pixel i_kmnleqmnleqm indic rel number point assign cell c_mn partionin spatial posit separ grid cell often follow gener hidden markov model jeung_mining_ see visual heat map figur figheatmapreferencetyperef referencefigheatmap visual heat map bin gener dftrip_grid note regularli space artifact bright yellow sampl due bia sensor data interpol type nois minim threshold use logarithm scale shown abovelabelfigheatmapimagestripgridpngfigheatmap width smooth smooth trajectori also achiev traja use savitzkygolay filter smooth_sg savitzky_smoothing_ resampl rediscret trajectori resampl time rediscret arbitrari step length use align trajectori variou data sourc sampl rate reduc number data point improv comput effici care must taken select time interv maintain inform signific behavior minim time interv observ select point calcul comput intract system larg interv select fail captur chang relev target behavior data resampl time perform resample_tim figur figsamplereferencetyperef referencefigsampl rediscret step length perform rediscret resampl trajectori differ time scale perform resample_timelabelfigsampleimagessample_ratepngfigstep width exampl fortasyn dataset shenk_automated_ demonstr paper sampl hz convert singleprecis float point data panda datafram store data byte thu approxim mb byte requir store data x dimens plu index refer singl day case shenk_automated_ mice observ day translat gb storag capac uncompress dataset prior featur engin thu resampl use way reduc memori footprint memori constrain process fit standard laptop gb memori space demonstr reduct precis trajectori data analysi provid figur figstepreferencetyperef referencefigstep appli sampl fortasyn experi shenk_automated_ broad effect cage cross exampl still identifi downsampl data lower frequenc hz reduc memori footprint factor hz hz provid signific speedup process movement analysi traja includ tradit well advanc method trajectori analysi distanc travel distanc travel common metric anim studi account total distanc cover anim within given time interv distanc travel typic quantifi sum squar straightlin displac discret sampl trajectori rowcliffe_bias_ solla_eliminating_ altern distanc metric case anim track discuss noonan_scaleinsensitive_ let pt p_xt p_yt time vector coordin ground repres posit anim time distanc travel within time interv t_ t_ comput sum stepwis euclidean distanc pt_t_ sigmat__tt_ dt dt sqrtp_xt p_xt p_yt p_yt euclidean distanc two posit adjac time sampl x hz x second x minut x hour x featur x time veloc histogram one day mous activitylabelfigvelocityhistimagesvelocitylogpngfigvelocityhist width speed speed veloc first deriv centroid respect time peak veloc home cage environ perhap less interest distribut veloc observ figur figvelocityhistreferencetyperef referencefigvelocityhist addit nois elimin veloc calcul use minim distanc move threshold demonstr shenk_automated_ allow identifi broadscal behavior cage cross turn angl turn angl angl movement vector two consecut sampl calcul calc_turn_angl later later prefer left right turn later index defin li fracrtlt rt rt number right turn observ lt number left turn observ turn count within left turn angl theta right turn angl intheta turn consid minim step length period period behavior consequ circadian rhythm well observ express underli cognit trait basic implement period analysi mous cage data present autocorrel autocorrel correl signal delay copi function decay basic similar observ function time lag exampl shown figur figautocorrelationreferencetyperef referencefigautocorrel autocorrel ydimens reveal daili minut period behaviorlabelfigautocorrelationimagesautocorrelation_epngfigautocorrel width power spectrum power spectrum time seri signal estim figur figpowerspectrumreferencetyperef referencefigpowerspectrum use analyz signal exampl influenc neuromotor nois delay hand movement van_galen_effects_ power spectral densiti one day activ reveal fairli smooth power spectral densitylabelfigpowerspectrumimagesspectrumpngfigpowerspectrum width algorithm statist model machin learn time seri data machin learn method enabl research solv task comput without explicit instruct detect pattern reli infer thu particularli relev data explor high volum dataset spatial trajectori multivari time seri princip compon analysi princip compon analysi project data linear subspac minimum loss inform multipli data eigenvector covari matrix pca fortasyn trajectori data daili trajectori day night bin x grid appli pcalabelfigpcaimagespca_fortasynperiodpngfigpca width requir convert trajectori trip grid see figur figtripgridalgoreferencetyperef referencefigtripgridalgo perform pca grid figur figpcareferencetyperef referencefigpca figur figdpcareferencetyperef referencefigdpca structur data visibl light dark time period compar pca fortasyn trajectori data daili trajectori day night bin x grid appli pcalabelfigdpcaimagespca_fortasynperioddpngfigdpca width cluster cluster trajectori extens topic applic geospati data vehicl pedestrian classif well molecular identif kmean cluster iter unsupervis learn method assign label data point base distanc function bishop_pattern_ figur figkmeansreferencetyperef referencefigdpca kmean cluster result pca shown reveal high accuraci classif error cluster label gener modellabelfigkmeansimageskmeans_pcafortasynpngfigkmean width hierarch agglom cluster cluster spatial trajectori broad applic behavior research includ unsupervis phenotyp huang_mapping_ mice hierarch agglom cluster also use identifi similar group exampl period activ locat visit frequenc clustering_mic gaussian process gaussian process nonparametr method use model spatial trajectori method current implement traja thu outsid scope current paper howev interest reader direct excel text gaussian process rasmussen william rasmussen_gaussian_ complet refer cox_gaussian_ applic spatial trajectori method fractal method fractal ie multiscal method use analyz transit cluster trajectori exampl search trajectori eye movement handey coordin forag analyz quantifi spatial distribut nest tempor point process use spatial allen factor analysi kerster_spatial_ huette_drawing_ recurr plot deriv recurr factor analysi appli trajectori identifi multiscal tempor process studi transit nonlinear paramet system postur fluctuat ross_influence_ synchroni shockley human movement anim ant neves_recurrence_ bee ayer method yet implement traja plan futur releas graph model graph pair g v e compris set vertic set connect edg probabilist graphic model spatial occup grid use identifi probabl state transit node basic exampl given hidden markov model transit matrix row column flatten histogram grid cell high cell wide spatial adjac grid cell visibl space cell diagon intens pixel diagon repres rel likelihood stay positionlabelfigtransitionmatriximagestransition_matrixpngfigtransitionmatrix width hidden markov model transit probabl commonli model hidden markov model hmm abil captur spatial tempor depend recent introduct method avail provid patterson_statistical_ hmm success use analyz movement carib franke_analysis_ fruit fli holzmann_hidden_ tuna patterson_migration_ among other trajectori typic model bivari time seri consist step length turn angl regularli space time traja implement rectangular spatial grid version hmm transit probabl transit cell anoth cell store probabl within transit matrix visual heatmap plot plot_transition_matrix figur figtransitionmatrixreferencetyperef referencefigtransitionmatrix convex hull convex hull subtrajectori set x point euclidean plane smallest convex set includ x comput effici geometr ksimplex plot cover convex hull convert shape object use shape convex_hul method recurr neural network recent year deep learn transform field machin learn exampl current state art model wide rang task includ comput vision speech text pedestrian trajectori predict achiev deep neural network neural network essenti sequenc matrix oper elementwis function applic base collect comput unit known node neuron unit perform oper matrix multipl input featur dataset follow backpropag error identifi paramet use approxim function neural network architectur avail trajaimagesdnnsjpgwidth recurr neural network rnn special type neural network use state st_i previou timestep t_i alongsid xt_i input output predict yt_i new state st_i everi step utilis previou state make rnn particularli good analyz time seri like trajectori sinc process arbitrarili long input rememb inform previou time step xt_ik xt_i process current time step xt_i trajectori predict let research forecast locat trajectori anim wijeyakulasuriya_machine_ techniqu work well also sign trajectori highli regular fundament follow certain rule pattern track anim live would also let research predict arriv particular locat go let rig camera equip ahead time particularli interest type rnn long short term memori lstm architectur layer use stack unit two hidden variabl one quickli discard old state one slowli consid relev inform previou time step thu look trajectori determin properti anim whether sick injur say someth timeconsum difficult hand also predict futur time step base past one let research estim anim go next lstm also classifi trajectori determin whether trajectori come anim belong specif categori let research determin control semicontrol variabl eg pregnanc chang movement pattern anim traja implement neural network extend wide use open sourc machin learn librari pytorch pytorch primarili develop facebook ai research group traja allow frameworkagnost model data loader design time seri addit traja packag come sever predefin model architectur configur accord user requir rnn work time seri trajectori requir special handl trajadatasetmultimodaldataload effici group subsequ sampl seri split seri train test data repres python iter dataset extend pytorch dataload class support random weight sampl data scale data shuffl trainvalidationtest split multimodaldataload accept sever import configur paramet allow batch sampl data two constructor argument n_past n_futur specifi number sampl network shown number network guess respect batch_siz gener dozen use regularis network rnn also need train done highlevel trainer class perform nonlinear optimis stochast gradient descentlik algorithm trainer class default implement huber loss function huber_robust_ also known smooth l_ loss loss function commonli use robust regress l_delta begincas fraca textfor le delta delta fracdelta textotherwis endcas comparison meansquar error loss huber loss less sensit outlier data quadrat small valu linear larg valu extend pytorch smoothlloss class paramet set common optim algorithm adam traja default sever other provid well although train cpu possibl gpu provid x speedup arptegsoftwareec httpspytorchorgdocsstablegeneratedtorchnnsmoothllosshtmlhttpspytorchorgdocsstablegeneratedtorchnnsmoothllosshtml recurr autoencod network traja also train autoencod either predict futur posit track classifi track number categori autoencod emb time seri timeinvari latent space allow represent trajectori subtrajectori vector class wellsepar trajectori would restrict region latent space techniqu similar wordvec wordvec word convert dimension vector approach forecast classif preced train data autoencod learn effici represent data comput target function traja allow train classifi work directli latent space output sinc class trajectori converg distinct region latent space techniqu often superior classifi trajectori traja train classifi autoencoderstyl variat autoencoderstyl rnn investig whether anim behavior chang whether two experiment categori anim behav differ unstructur data mine suggest fruit avenu investig refer name bug report creat report help us improv titl label assigne describ bug clear concis descript bug reproduc step reproduc behavior go click scroll see error expect behavior clear concis descript expect happen screenshot applic add screenshot help explain problem desktop pleas complet follow inform os eg io browser eg chrome safari version eg smartphon pleas complet follow inform devic eg iphon os eg io browser eg stock browser safari version eg addit context add context problem name featur request suggest idea project titl label assigne featur request relat problem pleas describ clear concis descript problem ex im alway frustrat describ solut youd like clear concis descript want happen describ altern youv consid clear concis descript altern solut featur youv consid addit context add context screenshot featur request contribut traja traja research librari function must therefor cuttingedg reliabl traja part wider project increas collabor research adopt opensourc contribut model hope traja remain access research help higherqu research current statu traja current undergo activ develop approxim featur present signific interfac chang still possibl howev avoid unless absolut necessari work current focuss reach version featur complet test coverag follow featur requir featur complet latent space visualis eigenspacebas colourcod visualis evolut time delay coordin embed statespac visualis addit encod decod option ae vae model mlp convolut pituitari gland exampl dataset regress output visualis vae gan model addit vae latentspac shape uniform shape work period trajectori toru delay coordin embed persist homolog diagram embed automat code formatt tutori find time day base activ recov paramet pituitari ode httpscolabresearchgooglecomdrivefczltjmbkqppzjtudaxwudz_yuspsharing_ predict stock price lstm httpscolabresearchgooglecomdrivetawlvsmgyrgyxaihizbqngtgqnhuspsharing_ contribut traja welcom contribut get start pick issu label good first issu altern read background materi tri tutori test code qualiti sinc traja librari strive sensibl test achiev high level code coverag futur commit requir maintain improv code qualiti test coverag aid travi run autom test pull request addit run codecov pr background materi collect paper resourc explain main problem work traja analysi mice suffer stroke articlefnin authorjustin shenk klara j lohkamp maximilian wiesmann amanda j kiliaan titleautom analysi stroke mous trajectori data traja journalfronti neurosci volum page year urlhttpswwwfrontiersinorgarticlefnin doifnin issnx understand paramet space pituitari gland ode httpswwwmathfsuedubertrampapersburstingjcns_pdf articl author fletcher patrick bertram richard tabak joel titl global local explor relationship paramet behavior model electr excit year publish springerverlag address berlin heidelberg volum number issn url httpsdoiorg doi journal j comput neurosci month june page style guid todo traja pythonv travi pypi conda rtd gitter black licens binder codecov doi joss colab pythonv imag httpsimgshieldsiobadgepythonbluesvg target httpswwwpythonorgdownloadsreleasepython alt python travi imag httpstravisciorgtrajateamtrajasvgbranchmast target httpstravisciorgtrajateamtraja pypi imag httpsbadgefuryiopytrajasvg target httpsbadgefuryiopytraja conda imag httpsimgshieldsiocondavncondaforgetrajasvg target httpsanacondaorgcondaforgetraja gitter imag httpsbadgesgitterimtrajachatcommunitysvg target httpsgitterimtrajachatcommun rtd imag httpsreadthedocsorgprojectstrajabadgeversionlatest target httpstrajareadthedocsioenlatestbadgelatest alt document statu black imag httpsimgshieldsiobadgecodestyleblacksvg target httpsgithubcomambvblack licens imag httpsimgshieldsiobadgelicensemitbluesvg target httpsopensourceorglicensesmit alt licens mit binder imag httpsmybinderorgbadge_logosvg target httpsmybinderorgvghjustinshenktrajamasterfilepathdemoipynb codecov imag httpscodecovioghtrajateamtrajabranchmastergraphbadgesvg target httpscodecovioghtrajateamtraja doi imag httpszenodoorgbadgedoizenodosvg target httpsdoiorgzenodo colab imag httpscolabresearchgooglecomassetscolabbadgesvg target httpscolabresearchgooglecomgithubjustinshenktrajablobmasterdemoipynb joss imag httpsjosstheojorgpapersfdceecfdcbstatussvg target httpsjosstheojorgpapersfdceecfdcb traja python librari trajectori analysi extend capabl panda datafram specif anim trajectori analysi provid conveni interfac geometr analysi packag eg r shape introduct traja python packag toolkit numer character analysi trajectori move anim trajectori analysi applic field divers optim forag theori migrat behavior mimicri eg verifi similar locomot trajectori simpli record path follow move anim traja oper trajectori form seri locat x coordin time trajectori may obtain method provid inform includ manual track radio telemetri gp track motion track video goal packag document aid biolog research may extens experi python analyz trajectori without restrict limit knowledg python program howev basic understand python use use traja public pleas cite repo codeblock softwarejustin_shenk__ author justin shenk traja develop team titl justinshenktraja month jun year publish zenodo version latest doi zenodo url httpsdoiorgzenodo instal setup instal traja conda run conda instal c condaforg traja pip pip instal traja import traja python script via python commandlin import traja trajectori traja traja store trajectori panda datafram allow panda function use load trajectori x time coordin codeblock python import traja df trajaread_filecoordscsv datafram load use traja accessor access visual analysi method codeblock python dftrajaplottitlecag trajectori analyz trajectori csvtabl follow function avail via trajatrajectorymethod header function descript width calc_deriv calcul deriv x valu calc_turn_angl calcul turn angl regard xaxi transit calcul firstord markov model transit grid bin gener gener random walk resample_tim resampl consist step_tim interv rediscretize_point rediscret point given step length uptod document see httpstrajareadthedocsio httpstrajareadthedocsio_ random walk gener random walk codeblock python df trajageneraten step_length dftrajaplot imag httpsrawgithubusercontentcomjustinshenktrajamasterdocssource_staticwalk_screenshotpng alt walk_screenshotpng resampl time trajatrajectoryresample_tim allow resampl trajectori step_tim flow plot codeblock python df trajagener trajaplot_surfacedf imag httpstrajareadthedocsioenlatest_imagessphx_glr_plot_average_direction_png alt plot codeblock python trajaplot_quiverdf bin imag httpstrajareadthedocsioenlatest_imagessphx_glr_plot_average_direction_png alt quiver plot codeblock python trajaplot_contourdf filledfals quiverfals bin imag httpstrajareadthedocsioenlatest_imagessphx_glr_plot_average_direction_png alt contour plot codeblock python trajaplot_contourdf filledfals quiverfals bin imag httpstrajareadthedocsioenlatest_imagessphx_glr_plot_average_direction_png alt contour plot fill codeblock python trajaplot_contourdf bin contourfplot_kwscmapcoolwarm imag httpstrajareadthedocsioenlatest_imagessphx_glr_plot_average_direction_png alt streamplot acknowledg traja code implement analyt method particularli rediscretize_point heavili inspir jim mclean r packag trajr httpsgithubcomjimmcltrajr__ mani thank jim feedback cluster dimension reduct cluster trajectori trajectori cluster use functrajaplottingplot_clustermap color correspond trajectori specifi color argument autofunct trajaplottingplot_clustermap pca prinicip compon analysi use cluster trajectori base grid cell occup pca comput convert trajectori trip grid see methtrajaplottingtrip_grid follow pca classsklearndecompositionpca autofunct trajaplottingplot_pcacontribut traja contribut guidelin larg copi geopanda httpsgeopandasreadthedocsioenlatestcontributinghtml_ overview contribut traja welcom like accept quickli follow guidelin stage traja develop prioriti defin simpl usabl stabl api clean maintain readabl code perform matter expens goal gener traja follow convent panda project applic particular submit pull request exist test pass pleas make sure test suit pass local travi ci httpstravisciorgjustinshenktraja_ statu travi visibl pull request want enabl travi ci fork pleas read panda guidelin link get start doc httpabouttravisciorgdocsusergettingstarted_ new function includ test pleas write reason test code make sure pass pull request class method function etc docstr first line docstr standalon summari paramet return valu ducument explicitli traja support python use modern python idiom possibl follow pep possibl import group standard librari import first rdparti librari next traja import third within group import alphabet alway use absolut import possibl explicit rel import local import necessari test seven step contribut seven basic step contribut traja fork traja git repositori creat develop environ instal traja depend make develop build traja make chang code add test updat document submit pull request step detail fork traja repositori use git new user work git one daunt aspect contribut traja quickli becom overwhelm stick guidelin help keep process straightforward mostli troubl free alway difficulti pleas feel free ask help code host github httpsgithubcomjustinshenktraja_ contribut need sign free github account httpsgithubcomsignupfree_ use git httpgitscmcom_ version control allow mani peopl work togeth project great resourc learn git softwar carpentri git tutori httpswcarpentrygithubiogitnovice_ atlassian httpswwwatlassiancomgittutorialswhatisversioncontrol_ github help page httphelpgithubcom_ matthew brett pydagogu httpmatthewbrettgithubcompydagogue_ get start git github instruct httphelpgithubcomsetupgitredirect__ instal git set ssh key configur git step need complet work seamlessli local repositori github _contributingfork fork need fork work code go traja project page httpsgithubcomtrajateamtraja_ hit fork button want clone fork machin git clone gitgithubcomyourusernametrajagit trajayournam cd trajayournam git remot add upstream gitgithubcomtrajateamtrajagit creat directori trajayournam connect repositori upstream main project traja repositori test suit run automat travisci pull request submit howev wish run test suit branch prior submit pull request travisci need hook github repositori instruct httpabouttravisciorgdocsusergettingstarted__ creat branch want master branch reflect productionreadi code creat featur branch make chang exampl git branch shinynewfeatur git checkout shinynewfeatur simplifi git checkout b shinynewfeatur chang work directori shinynewfeatur branch keep chang branch specif one bug featur clear branch bring traja mani shinynewfeatur switch use git checkout command updat branch need retriev chang master branch git fetch upstream git rebas upstreammast replay commit top latest traja git master lead merg conflict must resolv submit pull request uncommit chang need stash prior updat effect store chang reappli updat _contributingdev_env creat develop environ develop environ virtual space keep independ instal traja make easi keep stabl version python one place use work develop version may break play code anoth easi way creat traja develop environ follow instal either anaconda httpdocscontinuumioanaconda_ miniconda httpcondapydataorgminicondahtml_ make sure refclon repositori contributingfork cd traja sourc directori tell conda creat new environ name traja_dev name would like environ run conda creat n traja_dev python environ conda creat n traja_dev python creat new environ touch exist environ exist python instal work environ window user activ follow activ traja_dev mac osx linux user use sourc activ traja_dev see confirm messag indic new develop environ view environ conda info e return home root environ deactiv see full conda doc httpcondapydataorgdocs__ point easili develop instal detail next section instal depend run traja develop environ must first instal traja depend suggest use follow command execut develop environ activ conda instal c condaforg shape pip instal r requirementsdevtxt instal necessari depend next activ precommit hook run precommit instal make develop build depend place make inplac build navig git clone traja repositori run python setuppi develop make chang write test traja seriou test strongli encourag contributor embrac testdriven develop tdd httpenwikipediaorgwikitestdriven_development_ develop process reli repetit short develop cycl first develop write initi fail autom test case defin desir improv new function produc minimum amount code pass test actual write code write test often test taken origin github issu howev alway worth consid addit use case write correspond test ad test one common request code push traja therefor worth get habit write test ahead time never issu traja use pytest test system httpdocpytestorgenlatest_ conveni extens numpytest httpdocsscipyorgdocnumpyreferenceroutinestestinghtml_ write test test go test directori folder contain mani current exampl test suggest look inspir run test suit test run directli insid git clone without instal traja type pytest updat document traja document resid doc folder chang doc make modifi appropri file sourc folder within doc traja doc us restructuredtext syntax explain httpwwwsphinxdocorgenstableresthtmlrstprimer_ docstr follow numpi docstr standard httpsgithubcomnumpynumpyblobmasterdochowto_documentrsttxt_ made chang build doc navig doc folder type make html result html page locat docbuildhtml submit pull request youv made chang push fork repositori submit pull request integr traja code base find pull request pr tutori github help doc httpshelpgithubcomarticlesusingpullrequests_ plot grid cell flow trajectori discret grid cell averag flow grid cell neighbor plot functrajaplottingplot_flow eg codeblock python trajaplot_flowdf kindstream functrajaplottingplot_flow kind argument surfac surfac plot extend methmpl_toolkitsmplotdaxesdplot_surfac contourf fill contour plot extend methmatplotlibaxesaxescontourf quiver quiver plot extend methmatplotlibaxesaxesquiv stream stream plot extend methmatplotlibaxesaxesstreamplot see refgallerysphx_glr_galleri exampl surfac plot autofunct trajaplottingplot_surfac imag httpstrajareadthedocsioenlatest_imagessphx_glr_plot_average_direction_png alt plot quiver plot autofunct trajaplottingplot_quiv codeblock python trajaplot_quiverdf bin imag httpstrajareadthedocsioenlatest_imagessphx_glr_plot_average_direction_png alt quiver plot contour plot autofunct trajaplottingplot_contour codeblock python trajaplot_contourdf filledfals quiverfals bin imag httpstrajareadthedocsioenlatest_imagessphx_glr_plot_average_direction_png alt contour plot contour plot fill codeblock python trajaplot_contourdf filledfals quiverfals bin imag httpstrajareadthedocsioenlatest_imagessphx_glr_plot_average_direction_png alt contour plot fill stream plot autofunct trajaplottingplot_stream codeblock python trajaplot_contourdf bin contourfplot_kwscmapcoolwarm imag httpstrajareadthedocsioenlatest_imagessphx_glr_plot_average_direction_png alt streamplot refer accessor method follow method avail via classtrajaaccessortrajaaccessor automodul trajaaccessor member undocmemb noindex plot function follow method avail via modtrajaplot automethod trajaplottinganim automethod trajaplottingbar_plot automethod trajaplottingcolor_dark automethod trajaplottingfill_ci automethod trajaplottingfind_run automethod trajaplottingplot automethod trajaplottingplot_d automethod trajaplottingplot_actogram automethod trajaplottingplot_autocorrel automethod trajaplottingplot_contour automethod trajaplottingplot_clustermap automethod trajaplottingplot_flow automethod trajaplottingplot_quiv automethod trajaplottingplot_stream automethod trajaplottingplot_surfac automethod trajaplottingplot_transition_matrix automethod trajaplottingplot_xi automethod trajaplottingpolar_bar automethod trajaplottingplot_predict automethod trajaplottingsans_serif automethod trajaplottingstylize_ax automethod trajaplottingtrip_grid analysi follow method avail via modtrajatrajectori automethod trajatrajectoryangl automethod trajatrajectorycalc_angl automethod trajatrajectorycalc_convex_hul automethod trajatrajectorycalc_deriv automethod trajatrajectorycalc_displac automethod trajatrajectorycalc_head automethod trajatrajectorycalc_turn_angl automethod trajatrajectorycalc_flow_angl automethod trajatrajectorycartesian_to_polar automethod trajatrajectorycoords_to_flow automethod trajatrajectorydetermine_colinear automethod trajatrajectorydistance_between automethod trajatrajectorydist automethod trajatrajectoryeuclidean automethod trajatrajectoryexpected_sq_displac automethod trajatrajectoryfill_in_traj automethod trajatrajectoryfrom_xi automethod trajatrajectorygener automethod trajatrajectoryget_deriv automethod trajatrajectorygrid_coordin automethod trajatrajectoryinsid automethod trajatrajectorylength automethod trajatrajectorypolar_to_z automethod trajatrajectoryrediscretize_point automethod trajatrajectoryresample_tim automethod trajatrajectoryreturn_angle_to_point automethod trajatrajectoryrot automethod trajatrajectorysmooth_sg automethod trajatrajectoryspeed_interv automethod trajatrajectorystep_length automethod trajatrajectoryto_shap automethod trajatrajectorytraj_from_coord automethod trajatrajectorytransition_matrix automethod trajatrajectorytransit io function follow method avail via modtrajapars automethod trajaparsersread_fil automethod trajaparsersfrom_df trajadatafram trajadatafram tabular data structur contain x time column panda datafram method also avail although may oper meaning way x time column inherit diagram inheritancediagram trajatrajadatafram trajacollect trajacollect hold multipl trajectori analyz compar trajectori limit access lowerlevel method autoclass trajaframetrajacollect automethod trajaframetrajacollectionapply_al automethod trajaframetrajacollectionplot api page currentmodul traja autosummari templat autosummaryrst toctre refer trajadatafram trajacollect read_fil period sever method analyz period includ autocorrel autocorrel plot use methpandasplottingautocorrelation_plot autofunct trajaplottingplot_autocorrel periodogram power spectum conveni wrapper methscipysignalperiodogram autofunct trajaplottingplot_periodogramresampl trajectori rediscret rediscret trajectori consist step length methtrajatrajectoryrediscret r paramet new step length note base appendix bovet benham jim mclean trajr httpsgithubcomjimmcltrajr_ implement resampl time methtrajatrajectoryresample_tim allow resampl trajectori step_tim autofunct trajatrajectoryresample_tim exampl ipython python okwarn import traja gener random walk df trajageneraten time second interv dfhead ipython python okwarn resampl trajaresample_timedf l millisecond resampledhead fig resampledtrajaplot imag httpsrawgithubusercontentcomjustinshenktrajamasterdocsimagesresampledpng ramerdouglaspeuck algorithm note gracious yank fabian hirschmann pypi packag rdp functrajacontribrdp reduc number point line use ramerdouglaspeuck algorithm trajacontrib import rdp creat datafram x coordin df trajageneraten extract xy coordin xy dftrajaxi reduc point epsilon xy_ rdpxi epsilon lenxy_ output plot see mani fewer point need cover similar area df trajafrom_xyxy_ dftrajaplot imag httpsrawgithubusercontentcomjustinshenktrajamasterdocssource_staticafter_rdppng trajectori collect trajacollect handl multipl trajectori traja allow plot analysi simultan initi functrajaframetrajacollect dictionari datafram id_col initi dictionari key dictionari use identifi type object scene eg bu car person df cardf cardf bu df person df arbitrari number use initi autoclass trajaframetrajacollect ipython traja import trajacollect df idx trajagenerateidx seedidx idx rang trj trajacollectiondf printtrj initi datafram datafram contain id column pass directli functrajaframetrajacollect long id_col specifi trj trajacollectiondf id_colid group oper oper appli trajectori functrajaframetrajacollectionapply_al automethod trajaframetrajacollectionapply_al plott multipl trajectori plot multipl trajectori achiev functrajaframetrajacollectionplot automethod trajaframetrajacollectionplot color specifi id suppli color lookup dictionari ipython color red red red orang orang substr lookup color car busorang red orang orang imag httpsrawgithubusercontentcomjustinshenktrajamasterdocsimagescollection_plotpng panda index resampl traja built top panda classpandasdatafram give access lowlevel panda index function allow index resampl etc panda traja import gener plot import panda pd gener random walk df generaten fp select everi second row df output x time also resampl select averag coordin everi second exampl convert time column timedelta dftime pdto_timedeltadftim unit df dfset_indextim resampl averag everi second resampl dfresamplesmean plotresampl imag httpsrawgithubusercontentcomjustinshenktrajamasterdocssource_staticresampledpng ipython python okwarn suppress import matplotlib import panda pd trajaplot import trip_grid orig matplotlibrcparamsfigurefigs matplotlibrcparamsfigurefigs orig orig import matplotlibpyplot plt pltcloseal plot path make plot trajectori easi use methtrajaaccessortrajaaccessorplot method see refgallerysphx_glr_galleri exampl automodul trajaplot member bar_plot plot plot_quiv plot_contour plot_surfac plot_stream plot_flow plot_actogram polar_bar trip grid trip grid plot classtrajaframetrajadatafram functrajaaccessortrajaaccessortrip_grid ipython python okwarn import traja traja import trip_grid df trajatrajadataframexrangeyrang savefig trip_gridpng hist imag trip_griddf histogram need comput use hist_onli option ipython python hist _ trip_griddf hist_onlytru printhist highli dens plot easili visual use bin log argument ipython python okwarn gener random walk df trajagener savefig trip_grid_logpng trip_griddf bin logtru plot also normal densiti function normal ipython python okwarn savefig trip_grid_normalizedpng hist _ trip_griddf normalizetru anim autofunct trajaplottinganimategener random walk random walk gener use functrajatrajectorygener ipython python okwarn import traja gener random walk df trajagener autofunct trajatrajectorygener imag httpsrawgithubusercontentcomjustinshenktrajamasterdocssource_staticwalk_screenshotpng support traja bug bug issu improv request log github issu httpsgithubcomtrajateamtrajaissues_ commun commun support provid via gitter httpsgitterimtrajachatcommunity_ ask question read write file read trajectori data traja allow read file via functrajaparsersread_fil exampl csv file trajectorycsv follow content xy could read like codeblock python import traja df trajaread_filetrajectorycsv read_fil return trajadatafram access panda traja method automodul trajaaccessor automethod keyword argument pass read_fil pass methpandasread_csv data frame also read panda funcpandasread_csv convert trajadatafram codeblock python import traja import panda pd df pdread_csvdatacsv x column name differ x renam eg df dfrenamecolumnsx_col x y_col origin column name x_col y_col time column doesnt includ time name similarli renam time trj trajatrajadataframedf write trajectori data file save use builtin panda funcpandasto_csv codeblock python dfto_csvtrajectorycsv turn angular analysi turn turn calcul use functrajatrajectorycalc_angl autofunct trajatrajectorycalc_angl head head calcul use functrajatrajectorycalc_head autofunct trajatrajectorycalc_head angl angl calcul use functrajatrajectoryangl autofunct trajatrajectoryangl smooth analysi smooth smooth perform use functrajatrajectorysmooth_sg autofunct trajatrajectorysmooth_sg ipython df trajagener smooth trajasmooth_sgdf w smoothedtrajaplot imag httpsrawgithubusercontentcomjustinshenktrajamasterdocsimagessmoothedpng length length trajectori calcul use functrajatrajectorylength autofunct trajatrajectorylength distanc net displac trajectori start end calcul use functrajatrajectorydist autofunct trajatrajectorydist displac displac distanc travel calcul use functrajatrajectorycalc_displac autofunct trajatrajectorycalc_displac deriv autofunct trajatrajectoryget_deriv speed interv autofunct trajatrajectoryspeed_interv traja document master file creat sphinxquickstart mon jan adapt file complet like least contain root toctre direct traja version trajectori analysi python traja allow analyz trajectori dataset use wide rang tool includ panda r traja extend capabl panda classpandasdatafram specif anim object trajectori analysi provid conveni interfac geometr analysi packag eg shape descript traja python packag toolkit numer character analysi trajectori move anim trajectori analysi applic field divers optim forag theori migrat behaviour mimicri eg verifi similar locomot trajectori simpli record path follow move object traja oper trajectori form seri locat x coordin time trajectori may obtain method provid inform includ manual track radio telemetri gp track motion track video goal packag document aid biolog research may extens experi python analys trajectori without restrict limit knowledg python program howev basic understand python use use traja public pleas cite paper_ journal open sourc softwar codeblock txt articleshenk doi joss url httpsdoiorgjoss year publish open journal volum number page author justin shenk wolf byttner saranraj nambusubramaniyan alexand zoeller titl traja python toolbox anim trajectori analysi journal journal open sourc softwar _paper httpsjosstheojorgpapersjoss toctre maxdepth caption get start instal instal exampl galleri galleryindex toctre maxdepth caption user guid read write file read panda index resampl panda gener random walk gener smooth analysi calcul turn turn plot path plot period period plot grid cell flow grid_cel rediscret trajectori rediscret cluster dimension reduct cluster collect scene collect predict trajectori predict toctre maxdepth caption refer guid refer attribut method refer bug support support toctre maxdepth caption develop contribut traja contribut indic tabl refgenindex refmodindex refsearch predict trajectori predict trajectori traja done recurr neural network rnn traja includ long short term memori lstm lstm autoencod lstm ae lstm variat autoencod lstm vae rnn traja also support custom rnn model trajectori use rnn one need fit network model traja includ multitaskrnntrain solv predict classif regress problem traja datafram traja also includ dataload handl traja datafram exampl predict lstm via pyclasstrajamodelspredictive_modelslstmlstm codeblock python import traja df trajadatasetexamplejaguar note lstm work better data therefor data loader scale data codeblock python batch_siz mani sequenc train everi step constrain gpu memori num_past mani time step learn time seri num_futur mani time step predict split_by_id fals whether split data train test valid set base anim id true anim entir trajectori use train test anim territori like jaguar want forecast trajectori want fals howev want classifi group membership anim want true verifi previous unseen anim get assign correct class autoclass trajamodelspredictive_modelslstmlstm member dataload trajadatasetmultimodaldataloaderdf batch_sizebatch_s n_pastnum_past n_futurenum_futur num_work split_by_idsplit_by_id note width hidden layer depth network two main way one tune perform network complex dataset requir wider deeper network sensibl default codeblock python trajamodelspredictive_modelslstm import lstm input_s number input dimens normal x output_s input_s predict num_lay number lstm layer deeper learn complex pattern overfit hidden_s width layer wider learn bigger pattern overfit tri dropout ignor network connect improv generalis model lstminput_sizeinput_s hidden_sizehidden_s num_layersnum_lay output_sizeoutput_s dropoutdropout batch_sizebatch_s codeblock python trajamodelstrain import hybridtrain optimizer_typ adam nonlinear optimis momentum loss_typ huber trainer trainer hybridtrainermodelmodel optimizer_typeoptimizer_typ loss_typeloss_typ train model trainerfitdataload model_save_pathmodelpt epoch training_modeforecast train determin network final perform test data want pick best model valid data want determin perform model dataload dictionari contain sequential_test_load sequential_validation_load preserv order origin data dictionari also contain test_load validation_load data loader order time seri randomis codeblock python validation_load dataloaderssequential_validation_load trainervalidatevalidation_load final display train result use builtin plot librari codeblock python trajaplot import plot_predict batch_index batch want plot plot_predictionmodel validation_load batch_index imag _staticrnn_predictionpng paramet search optimis neural network often want chang paramet train forecast reinitialis retrain model howev train classifi regressor reset fli sinc work directli latent space model vae model provid util function make easi codeblock python trajamodel import multimodelva input_s number input dimens normal x output_s input_s predict num_lay number lstm layer deeper learn complex pattern overfit hidden_s width layer wider learn bigger pattern overfit tri dropout ignor network connect improv generalis classifi paramet classifier_hidden_s num_classifier_lay num_class regressor paramet regressor_hidden_s num_regressor_lay num_regressor_paramet model multimodelvaeinput_sizeinput_s hidden_sizehidden_s num_layersnum_lay output_sizeoutput_s dropoutdropout batch_sizebatch_s num_futurenum_futur classifier_hidden_sizeclassifier_hidden_s num_classifier_layersnum_classifier_lay num_classesnum_class regressor_hidden_sizeregressor_hidden_s num_regressor_layersnum_regressor_lay num_regressor_parametersnum_regressor_paramet new_classifier_hidden_s new_num_classifier_lay modelreset_classifierclassifier_hidden_sizenew_classifier_hidden_s num_classifier_layersnew_num_classifier_lay new_regressor_hidden_s new_num_regressor_lay modelreset_regressorregressor_hidden_sizenew_regressor_hidden_s num_regressor_layersnew_num_regressor_layerstrajacontrib packag submodul modul content automodul trajacontrib member undocmemb showinherit instal instal traja traja requir python instal instal window recommend download instal via conda_ instal via conda conda instal c condaforg traja instal via pip pip instal traja instal latest develop version clone github repositori use setup script git clone httpsgithubcomtrajateamtrajagit cd traja pip instal depend instal pip also includ depend complet list numpy_ matplotlib_ scipy_ pandas_ instal option depend run pip instal trajaal _github httpsgithubcomjustinshenkgithub _numpi httpwwwnumpyorg _panda httppandaspydataorg _scipi httpsdocsscipyorgdocscipyrefer _shape httptobleritygithubioshap _matplotlib httpmatplotliborg _conda httpsdocscondaioenlatest fullnam escap underlin currentmodul modul objtyp class method function endif