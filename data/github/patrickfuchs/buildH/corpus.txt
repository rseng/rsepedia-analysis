dev add option ignorech igch ignor ch pair belong ch group updat doc notebook option igch fix beta h reconstruct berger gromoscpk pop updat readthedocsyml avoid output trajectori rewind write box dimens switch mdanalysi add support python improv docstr write box dimens request trajectori output fix write duplic st frame trajectori output request avoid use universetrajectorytim singl pdb limit python version mdanalysi compat add support berger dopcdppcpop gromosckp popcpop gromos dppc charmmua forc python doc build add v version option reorgan doc add notebook launch buildh modul support berger cholesterol add notebook mixtur popc cholesterol creat buildh logo add doc add paper joss add commun guidelin fix setupcfg includ json file python packag archiv complet document acceler function within geometrypi numba implement use buildh modul simplifi calcul ch sp carbon use myst parser document handl latex equat clarifi error messag fix residu number exceed add pope def json file add notebook basic buildh analysi berger traj add notebook trajectori output add notebook analysi mixtur popcpop move charmm popc valid zenodo build doc renam xxtc flag ttraj one gener replac mandatori topolog argument ccoord flag improv perform control function move misc function modul utilspi improv except handl add proper exit improv pep pep complianc improv test coverag fix bug trajectori written pdb provid add saniti check variou input file use json file instead python modul read lipid topolog optim packag better perform creat python packag structur creat conda environ fix test separ entri point updat readm dev version instal handl version bumpvers buildh doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss doihttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo swhhttpsarchivesoftwareheritageorgbadgeoriginhttpsgithubcompatrickfuchsbuildhhttpsarchivesoftwareheritageorgbrowseoriginorigin_urlhttpsgithubcompatrickfuchsbuildh licens bsdhttpsimgshieldsiobadgelicensebsdbluesvghttpsopensourceorglicensesbsdclaus binderhttpsmybinderorgbadge_logosvghttpsmybinderorgvghpatrickfuchsbuildhmasterurlpathlab code ci statushttpsgithubcompatrickfuchsbuildhworkflowsgithubcicodebadgesvghttpsgithubcompatrickfuchsbuildhactionsqueryworkflowagithubcicod doc ci statushttpsgithubcompatrickfuchsbuildhworkflowsgithubcidocbadgesvghttpsgithubcompatrickfuchsbuildhactionsqueryworkflowagithubcidoc document statushttpsreadthedocsorgprojectsbuildhbadgeversionlatesthttpsbuildhreadthedocsioenlatestbadgelatest power mdanalysishttpsimgshieldsiobadgepoweredbymdanalysisorangesvglogowidthlogodataimagexiconbaseaaabaaeaebaaaaeaiaaobaaafgaaacgaaaaqaaaaiaaaaaeaiaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaajdxwcyfeakfuajfwgtahfhaoiiwenfhhfvgicajwaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaactyyalpajwcgjjvochxlyoaghvghobjpfiaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaajhaqcywakvkfyeljalyvlzxiiiihfhfuaaaaaaaaaaaaaaaaaaaaaaaaaabfegyfnoqaebfgyaagnxofpuutzpawrwfhyzoomtbaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaagicanojvhhbjoujighfcaaadnaaaawaaapaaadiaaaaawcjzianfvajdpaaaaaaaaaaaaaaaaicagnghhfgicasehpxlfawmdwaaapaaadaaaawaaabaovalrwcszaaaaaaaaaaaaaaacbgygojoomjifpjiymjwaaaoaaaadaaaawaaapaaabhapfgciaxffaaaaaaaaaaaaaaaaiiiidgbgykcgokogobfysegzhgygdzxlemvbisejpebaqxwaafqaaaaaaaaanqaaadcaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaajombiympcnjzjyncqkopksnaaaagaaapaaadaaaahgaaaaeaaaaaaaaaaaclgsakvuajxqqaaaabfxegokccagpnjycnzwaaapaaadaaaawaaapuaaaacaaaaaaaaaaaanpnajlrgcryaaaaafxwodgfhziulqkivwaaadaaaawaaapaaadaaaagwaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaalgxsvyqqqrmpqampqfksunaaaaqaaapkaaadaaaahqaaaaeaaaaaaaaaaaaaaaaaaaaaaaaaaaaaadkufbsuzdnvdfulibaaaatgbgfyqaaaaaaaamwaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaabaaadoaaaawaaapaaadaaaawgcaanveajdgaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaawaaapaaadaaaawakdzeanpwaknwcsogafmaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaiqaaanwaaadtaaaaqaaamaaabumajngwceeajlapaqaaaaaaaaaahttpswwwmdanalysisorg buildh version pypihttpsbadgefuryiopybuildhsvghttpspypipythonorgpypibuildh anacondaserv badgehttpsanacondaorgbiocondabuildhbadgesversionsvghttpsanacondaorgbiocondabuildh buildh_logodocsimgbuildh_logopng build hydrogen atom unitedatom molecular dynam lipid calcul order paramet featur buildh reconstruct hydrogen unitedatom structur file pdb gro trajectori eg xtc calcul order paramet base reconstruct hydrogen write new structur trajectori file reconstruct hydrogen buildh work two mode slow mode output trajectori xtc format request user case whole trajectori includ newli built hydrogen written trajectori fast mode without output trajectori mode order paramet calcul calcul acceler numbahttpsnumbapydataorg cpu cost indic run buildh trajectori frame popc without trajectori output take singl core xeon ghz requir python mandatori run buildh buildh written python need modul numpi panda mdanalysi numba instal pip simpl instal pip trick python pip instal buildh depend modul instal automat pip conda buildh also avail biocondahttpsanacondaorgbiocondabuildh channel conda instal buildh c bioconda c condaforg detail instal herehttpsbuildhreadthedocsioenlatestinstallationhtml instal develop version see heredevtoolsinstall_devmd run buildh instal simpl invoc buildh command run program repres unix prompt buildh usag buildh h c coord traj l lipid lt lipid_topolog lipid_topolog defop opx opdbxtc b begin e end pi pickl igch buildh error follow argument requir ccoord llipid ddefop minim command run buildh resembl buildh c start_popcpdb popcns_dtxtc l berger_popc berger_popcdef differ argument mean follow c start_popcpdb pdb file popc molecul popcns_dtxtc trajectori frame l berger_popc indic unitedatom forc field type lipid analyz berger_popcdef indic ch consid h build order paramet calcul structur trajectori file found herehttpsgithubcompatrickfuchsbuildhtreemasterdocsberger_popc_test_cas def file found herehttpsgithubcompatrickfuchsbuildhblobmasterdef_filesberger_popcdef final order paramet averag trajectori written default output name op_buildhout detail exampl jupyt notebook found document read docshttpsbuildhreadthedocsioenlatestindexhtml import sometim perform md molecul split period boundari condit pbc buildh take input whole structur pdb gro xtc etc broken molecul suppli like gener nonsens result user take care make molecul whole run buildh eg use tool like trjconvhttpsmanualgromacsorgcurrentonlinehelpgmxtrjconvhtml gromac flag pbc mol invok buildh h flag display help screen tell lipid support buildh h usag buildh h v c coord traj l lipid lt lipid_topolog lipid_topolog defop opx opdbxtc b begin e end igch list support lipid l option berger_chol berger_dopc berger_dppc berger_pop berger_popc berger_pla berger_pop berger_pop charmmua_dppc charmmua_dpuc charmm_popc gromosal_dppc gromosckp_popc gromosckp_pop document found httpsbuildhreadthedocsio document full document avail read docshttpsbuildhreadthedocsioenlatestindexhtml contributor hubert santuz améli bâcle pierr poulain patrick fuch licens buildh licens bsd licenselicensetxt contribut want report bug request featur propos improv use github issu systemhttpsgithubcompatrickfuchsbuildhissu pleas see also contributingcontributingmd file note project releas contributor code conducthttpcontributorcovenantorg particip project agre abid term see code_of_conductcode_of_conductmd file cite buildh use buildh research pleas cite santuz et al buildh build hydrogen atom unitedatom molecular dynam lipid calcul order paramet journal open sourc softwar httpsdoiorgjoss contributor coven code conduct pledg interest foster open welcom environ contributor maintain pledg make particip project commun harassmentfre experi everyon regardless age bodi size disabl ethnic sex characterist gender ident express level experi educ socioeconom statu nation person appear race religion sexual ident orient standard exampl behavior contribut creat posit environ includ use welcom inclus languag respect differ viewpoint experi grace accept construct critic focus best commun show empathi toward commun member exampl unaccept behavior particip includ use sexual languag imageri unwelcom sexual attent advanc troll insultingderogatori comment person polit attack public privat harass publish other privat inform physic electron address without explicit permiss conduct could reason consid inappropri profession set respons project maintain respons clarifi standard accept behavior expect take appropri fair correct action respons instanc unaccept behavior project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct ban temporarili perman contributor behavior deem inappropri threaten offens harm scope code conduct appli within project space public space individu repres project commun exampl repres project commun includ use offici project email address post via offici social media account act appoint repres onlin offlin event represent project may defin clarifi project maintain enforc instanc abus harass otherwis unaccept behavior may report contact project team patrickfuchsuparisfr complaint review investig result respons deem necessari appropri circumst project team oblig maintain confidenti regard report incid detail specif enforc polici may post separ project maintain follow enforc code conduct good faith may face temporari perman repercuss determin member project leadership attribut code conduct adapt contributor covenanthomepag version avail httpswwwcontributorcovenantorgversioncodeofconducthtml homepag httpswwwcontributorcovenantorg answer common question code conduct see httpswwwcontributorcovenantorgfaq contribut guidelin first thank contribut start read agre follow three point contributehowtocontribut report bugsreportbug submit feedbacksubmitfeedback pull request guidelinespullrequestguidelin code conductcode_of_conductmd page larg inspir blog post william durandhttpswilliamdurandfroncreatingpullrequest contribut report bug report bug httpsgithubcompatrickfuchsbuildhissuesnew report bug pleas includ detail local setup might help troubleshoot detail step reproduc bug possibl pleas write test case abl that fine open issu anyway let us know much inform get back determin problem hope fix submit feedback best way send feedback creat new issuehttpsgithubcompatrickfuchsbuildhissuesnew github propos featur explain see work tri detail tri keep scope narrow possibl help make easier implement feel free includ code might alreadi even rough idea volunteerdriven project contribut welcom pull request guidelin rule follow order make code review discuss go smoothli maintain accept merg work must run test suit must write updat unit test write document pleas write commit messag make sensehttptbaggerycomanoteaboutgitcommitmessageshtml rebas branchhttpgitscmcombookengitbranchingrebas submit pull request may ask squash commitshttpgitreadycomadvancedsquashingcommitswithrebasehtml clean pull request merg tri avoid commit fix test fix fix etc also creat pull request github must write descript give context andor explain creat inform creat pull request pleas read blog posthttpwilliamdurandfroncreatingpullrequest thank directori contain def file tell buildh ch analyz give gener name readabl output initi use def file come nmrlipidshttpsnmrlipidsblogspotcom project def file allatom forc field found herehttpsgithubcomnmrlipidsmatchtreemasterscriptsorderparm_def global format follow name residu carbon atom hydrogen atom gamma_ popc c ha gamma_ popc c hb gamma_ popc c hc column separ combin whitespac least one last nmrlipidshttpsnmrlipidsblogspotcom project def file gener name like order_parameter_definitions_model_charmm_popcdef buildh use mere charmm_popcdef gener forcefield_lipiddef lipid residu name found pdb gro file def file found documentationhttpsbuildhreadthedocsioenlatestdef_formathtml titl buildh build hydrogen atom unitedatom molecular dynam lipid calcul order paramet tag python moleculardynamicssimul orderparamet lipid unitedatom author name hubert santuz orcid affili name améli bacl orcid affili name pierr poulain orcid affili name patrick fj fuchscorrespond author orcid x affili affili name cnr université de pari upr laboratoir de biochimi théoriqu rue pierr et mari curi f pari franc index name institut de biologi physicochimiquefond edmond de rothschild psl research univers pari franc index name laboratoir coopératif lipotox channelopathi conicm université de poitier f poitier franc index name université de pari cnr institut jacqu monod f pari franc index name sorbonn université ecol normal supérieur psl research univers cnr laboratoir de biomolécul lbm f pari franc index name université de pari ufr scienc du vivant f pari franc index date may bibliographi paperbib background molecular dynam md simul lipid wide use understand complex structur dynam biolog model membran tieleman feller lyubartsev complementari biophys experi thu becom import get insight microscop scale mani perform use allatom aa unitedatom ua represent aa forc field charmm klauda atom consid wherea ua forc field berger berger aliphat hydrogen atom hs merg parent carbon larger particl repres ch ch ch eg methyl group repres singl ch particl simul phospholipid use ua represent allow one reduc number particl simul almost third true number atom lipid molecul contain mani aliphat hs simplif thu reduc comput cost without lose import chemic detail md simul lipid usual valid experiment data klauda use help interpret experi feller one type experi often use h nmr type experi aliphat hs replac deuteron h nmr allow one measur order paramet given ch bond h replac deuteron s_ch frac left langl costheta right rangl theta angl ch bond magnet field symbol langl rangl mean averag time molecul order paramet use directli relat flexibl given ch bond describ amount possibl orient visit ch bond rang inclus unitless valu close indic high mobil valu higher magnitud either posit neg indic ch bond less mobil although vari theoret absolut valu lvert s_ch rvert often report sign usual difficult measur experiment ollila md simul theta angl ch bond normal membran usual z axi aa simul s_ch trivial calcul howev difficult ua simul sinc aliphat hs present two main strategi comput s_ch ua simul piggot express s_ch function coordin atom douliez ii reconstruct hydrogen coordin calcul s_ch aa simul trend recent year toward strategi ii nmrlipid project botan catt antila bacl nmrlipid open scienc project use md simul experiment s_ch goal improv lipid forc field conduct fundament research structur dynam lipid membran statement need reconstruct hs heavi atom coordin done use standard geometr rule respect stereochemistri first nmrlipid project botan h reconstruct perform use program call g_proton softwar gromac version berendsen howev g_proton remov gromac version higher need find solut current mani program field chemoinformat abl build hs openbabel oboyl proprietari softwar also possibl use pdbgmx gromac softwar abraham build hs initi intend sinc main purpos build topolog mani solut remain workaround one use sophist softwar one basic task use open proprietari softwar usual slow learn curv moreov alway easi use unix command line complic graphic interfac thu complic use automat pipelin trajectori analys propos buildh softwar meet need buildh light usabl unix command line python modul make tool choic integr analysi pipelin jupyt notebook easili extend custom need buildh current wide use nmrlipid project ivb deal conform plastic lipid headgroup cellular membran proteinlipid complex bacl addit plan use buildh next nmrlipid project deal databank contain md trajectori lipid kiirikki overview buildh python softwar enabl automat analys order paramet calcul ua trajectori lipid softwar follow featur read singl structur trajectori lipid ua represent reconstruct aliphat hs use standard geometr rule reconstruct hs calcul output order paramet request ch bond option output structur pdb format trajectori xtc format reconstruct hs beyond order paramet calcul trajectori hs use analys eg precis molecular volum calcul buildh nativ develop use unix command line possess minimum number option make easi use also possibl util python modul may conveni case reconstruct h atom buildh use standard geometr rule rule requir socal helper atom exampl reconstruct two hs ch carbon c_i requir two helper c_i c_i two neighbor c_i chain note helper also heavi atom oxygen nitrogen list helper use reconstruct h written json file mani json file alreadi present buildh repositori repres major lipid phosphatidylcholin pc phosphatidylethanolamin pe phosphatidylglycerol pg phosphatidylserin ps polar head palmitoyl myristoyl oleoyl aliphat chain well cholesterol major ua forc field also repres berger berger gromosckp piggot charmmua lee case user want analyz lipid present buildh stepbystep document guid user process creat suppli hisher lipid descript json file structur trajectori read write oper handl mdanalysi modul michaudagraw gower mathemat vector oper perform numpi harri acceler numba lam lead decent perform exampl reconstruct hs order paramet calcul trajectori frame popc molecul handl approxim minut use singl core xeon processor ghz wherea almost minut long without numba buildh implement good practic softwar develop mind jimenez taschuk version control repositori github httpsgithubcompatrickfuchsbuildhhttpsgithubcompatrickfuchsbuildh opensourc licens bsdclaus continu integr test document httpsbuildhreadthedocsiohttpsbuildhreadthedocsio notebook provid github repositori explain buildh work analyz data produc case troubl user post issu github buildh avail python packag index pypi well bioconda repositori current version buildh archiv zenodo repositori httpszenodoorgrecordhttpszenodoorgrecord softwar heritag archiv swhdircdcaaeaccedcdbhttpsarchivesoftwareheritageorgswhdircdcaaeaccedcdboriginhttpsgithubcompatrickfuchsbuildhvisitswhsnpaaddbebebabececacanchorswhrevfecdbeebfbcd acknowledg author thank commun nmrlipidshttpnmrlipidsblogspotcom use discuss especi samuli ollila refer file explain instal buildh develop instal develop instal conda either miniconda anaconda recommend miniconda clone github repositori git clone httpsgithubcompatrickfuchsbuildhgit cd buildh creat conda environ conda env creat f binderenvironmentyml conda activ buildh need updat conda env conda env updat f binderenvironmentyml instal dev version buildh pip instal e releas setup instal requir packag conda env creat f binderenvironmentyml need updat conda environ conda env updat f binderenvironmentyml zenodo integr see make code citablehttpsguidesgithubcomactivitiescitablecod publish packag pypihttpspypiorg creat accounthttpspypiorgaccountregist creat new api token account settingshttpspypiorgmanageaccountapitoken copi token wont abl see past token github secret repohttpsdocsgithubcomenactionsreferenceencryptedsecretscreatingencryptedsecretsforarepositori name pypi_api_token test publish releas doublecheck test run success make test updat version number use bumpvers updat synchron version number across differ file patch updat xyz xyz bumpvers verbos configfil devtoolsbumpversioncfg patch minor updat xyz xy bumpvers verbos configfil devtoolsbumpversioncfg minor major updat xyz x bumpvers verbos configfil devtoolsbumpversioncfg major remark dri run bumpvers use option n bumpvers fail git work directori clean ie chang commit version number updat push everyth github git push origin git push origin tag add new releas github github releas pagehttpsgithubcompatrickfuchsbuildhreleas click draft releas button select latest version tag version add releas version releas titl eg v copi recent chang changelogmd past describ releas field hit publish releas button rocket zenodo integr creation new releas github check new archiv creat zenodohttpsdoiorgzenodo pypi packag creation new releas github check new packag publish pypihttpspypiorgprojectbuildh need manual build upload packag pypi run follow command bash make build make uploadtopypi enter usernam password upon request bioconda packag metayaml file use creat conda packag folder bioconda link merg pr add buildh bioconda channel httpsgithubcombiocondabiocondarecipespul new releas made github automat updat bioconda channel httpsbiocondagithubiocontributorupdatinghtml usag simpl exampl exampl base simpl test case use berger popc file found github directori docsberger_popc_test_casehttpsgithubcompatrickfuchsbuildhtreemasterdocsberger_popc_test_cas def_fileshttpsgithubcompatrickfuchsbuildhtreemasterdef_fil need file start_popcpdbhttpsgithubcompatrickfuchsbuildhblobmasterdocsberger_popc_test_casestart_popcpdb contain popc popcns_dtxtchttpsgithubcompatrickfuchsbuildhblobmasterdocsberger_popc_test_casepopcns_dtxtc contain small trajectori frame berger_popcdefhttpsgithubcompatrickfuchsbuildhblobmasterdef_filesberger_popcdef contain list ch tell buildh hydrogen reconstruct ch calcul order paramet exampl run buildh file basic run singl structur bash buildh c start_popcpdb l berger_popc berger_popcdef buildh use singl structur ok common research use debug pdb structur pass option c also work gro file def file flag l mandatori tell buildh forc field lipid use berger_popc order paramet written op_buildhout default name chosen output name bash buildh c start_popcpdb l berger_popc berger_popcdef my_op_buildhout add flag tell buildh output result file name my_op_buildhout run trajectori bash buildh c start_popcpdb l berger_popc berger_popcdef popcns_dtxtc flag indic trajectori final order paramet averag lipid frame ch present def file found averag done hereorder_parametermd default name op_buildhout use output trajectori reconstruct hydrogen bash buildh c start_popcpdb l berger_popc berger_popcdef popcns_dtxtc opx popcns_dt_with_h ad flag opx request pdb xtc file system reconstruct hydrogen note flag take base name without extens sinc creat pdb xtc popcns_dt_with_hpdb popcns_dt_with_hxtc use flag opx requir def file contain possibl pair ch reconstruct sinc trajectori hs reconstruct importantli newli built hydrogen output pdb name accord name written def file see heredef_formatmd order paramet written op_buildhout default name get singl pdb file reconstruct hydrogen provid trajectori flag use opx flag buildh output pdb file hydrogen xtc produc bash buildh c start_popcpdb l berger_popc berger_popcdef opx start_popc_wh case file start_popc_whpdb reconstruct hydrogen creat well op_buildhout order paramet addit detail need def file def file look like gamma_ popc c h gamma_ popc c h gamma_ popc c h line correspond given ch column correspond gener name residu name carbon name hydrogen name respect ch buildh def file three main purpos tell ch want consid h reconstruct order paramet calcul give gener name ch appear output make correspond pdb name eg gamma_ stand ch c h atom name pdb file output file newli built hydrogen request name follow th column def file exampl hydrogen reconstruct atom c name h h h follow exampl deal berger popc order paramet calcul polar head exclud ch cholin beta popc c h beta popc c h alpha popc c h alpha popc c h g_ popc c h g_ popc c h g_ popc c h g_ popc c h g_ popc c h use berger popc trajectoryhttpsgithubcompatrickfuchsbuildhtreemasterdocsberger_popc_test_cas frame output op_buildhout contain order paramet ch specifi def file op_nam resnam atom atom op_mean op_stddev op_stem beta popc c h beta popc c h alpha popc c h alpha popc c h g_ popc c h g_ popc c h g_ popc c h g_ popc c h g_ popc c h def file lipid support buildh found herehttpsgithubcompatrickfuchsbuildhtreemasterdef_fil def file creat one found heredef_formatmd support lipid list support lipid request buildh h command throw detail help screen list indic last line want analyz lipid present buildh creat def file well json file explain buildh hydrogen reconstruct user json file pass option lt document creat def filedef_formatmd creat json filejson_formatmd polar hydrogen lipid contain polar hydrogen hs ethanolamin pe h hydroxyl group cholesterol hs handl explicit forc field thu alreadi exist input pdb possibl xtc given input buildh case hs ignor buildh order paramet calcul one usual hs exchang experiment order paramet output trajectori request buildh copi coordin hs heavi atom except forc field charmmua forc field apolar hs sn sn aliphat tail unitedatom represent start rd carbon end chain apolar hs cholin glycerol second carbon sn sn explicit thu latter buildh ignor polar hs explain output pdb xtc request hs copi output pdb xtc file mixtur lipid mixtur lipid run buildh lipid separ request output trajectori done iter well guid exampl popcpop mixtur found notebooknotebooksnotebook__mixture_popc_popeipynb anoth one popccholesterol mixtur found notebooknotebooksnotebook__mixture_popc_cholesterolipynb period boundari condit sometim perform md molecul split period boundari condit pbc buildh take input whole structur pdb gro xtc etc broken molecul suppli like gener nonsens result user take care make molecul whole run buildh eg use tool like trjconvhttpsmanualgromacsorgcurrentonlinehelpgmxtrjconvhtml gromac flag pbc mol buildh modul buildh intend use mainli unix command line also possibl use modul lesser extent featur avail minim call main function buildhlaunch result file still written proper api way call buildh insid larger analysi python script guid exampl found notebooknotebooksnotebook__libraryipynb lipid json file format build new hydrogen unitedatom lipid need differ inform read buildh json file default standard lipid present buildh directori buildhlipidshttpsgithubcompatrickfuchsbuildhtreemasterbuildhlipid howev possibl user suppli hisher json file explain format json file imag page gener pymolhttpswwwpymolorg gener lipid json format convent name json file forcefield_lipidjson forcefield obvious specifi forc field lipid residu name lipid pdb gro file one name exampl berger_popcjson format json file ressembl python dictionnari exampl look berger_popcjson file alreadi present buildh follow resnam popc pla pop c ch n c c ch n c c ch n c c ch n c c ch c c ch c c ch c c c chdoublebond c c c chdoublebond c c c ch c c c ch c c c ch c c c ch c c line key valu pattern python dictionnari valu ressembl python list valu valu coupl key valu separ comma begin end file curli brace import note last line atom c comma present end line first line key resnam indic possibl residu name lipid describ file exampl call popc pla pop pdb gro file forget quot element thank line one use berger_popc berger_pla berger_pop l argument launch buildh unix command line next line key basic carbon atom name quot one want reconstruct hydrogen atom name found pdb gro file correspond valu list contain string separ comma first string either ch ch ch chdoublebond indic buildh want reconstruct one h hs hs sp carbon one h doubl bond sp carbon respect fact repres type carbon want build new hydrogen next string call helper see atom name quot helper ch ch chdoublebond helper ch gener syntax type c want build hs name helper name helper choic helper order json file depend type carbon everyth describ ch figur shown resconstruct hydrogen methyl group atom c json file correspond line c ch n c first helper helper need one connect c thu n second helper helper connect n atom away c thu c along main chain reconstruct chimgbuild_chpng name reconstruct h h h h infer def file suppli option exampl berger_popcdefhttpsgithubcompatrickfuchsbuildhblobmasterdef_filesberger_popcdef use name h c read th column line gamma_ popc c h gamma_ popc c h gamma_ popc c h exampl use c c helper would work howev decid use c stand along main chain lipid ch figur shown resconstruct hydrogen methylen group atom c left shown ch reconstruct come line c ch c c json file ch mean want reconstruct hydrogen c helper c helper c c new hydrogen reconstruct arrang space h come toward us h goe backward right show case swap order helper helper one see two reconstruct hydrogen also swap show order helper matter h reconstruct ch reconstruct chimgbuild_chpng name h h come th column def file berger_popcdefhttpsgithubcompatrickfuchsbuildhblobmasterdef_filesberger_popcdef relev line oleoyl_ca popc c h oleoyl_cb popc c h todo tell h pror pro ch ch want reconstruct singl hydrogen carbon connect heavi atom case carbon asymetr case exampl phospholipid second carbon glycerol shown figur shown resconstruct uniqu hydrogen atom c case helper mere heavi atom c c connect carbon note order helper json file c ch c c matter case c c put order list h reconstruct strictli ident reconstruct chimgbuild_chpng name h come th column def file berger_popcdefhttpsgithubcompatrickfuchsbuildhblobmasterdef_filesberger_popcdef relev line g_ popc c h ch doubl bond carbon involv doubl bond want reconstruct singl h respect sp geometri shown exampl doubl bond stand c c want build singl h c line json file case c chdoublebond c c first string list chdoublebond two helper c c atom directli bond c note order helper list matter case c c c c work reconstruct ch doubl bondimgbuild_chdoublebondpng name h come th column def file berger_popcdefhttpsgithubcompatrickfuchsbuildhblobmasterdef_filesberger_popcdef relev line oleoyl_ca popc c h summari explain format json file tell buildh carbon want reconstruct hydrogen correspond helper final draw attent order helper within json file order helper list matter case ch chdoublebond order helper list matter case ch ch reconstruct ch helper bond carbon reconstruct hydrogen helper two atom away ch helper helper bond carbon reconstruct hydrogen order determin reconstruct h pror pro guid exampl write lipid json file show build json file simpl molecul butan start pdb file molecul butanepdb atom c buta atom c buta atom c buta atom c buta butan without hydrogenimgbutanepng need build json file accord rule follow c type ch helper connect c thu c helper two atom away thu c c type ch helper carbon chain thu c helper atom chain thu c c also type ch follow rule helper c helper c c also type ch follow rule helper c helper c summari would give follow file resnam buta c ch c c c ch c c c ch c c c ch c c name convent forcefield_residuejson let us imagin use berger forc field call berger_butajson also creat def file see heredef_formatmdaguidedexampleforwritingalipiddeffil use follow berger_butadef butane_ca buta c h butane_cb buta c h butane_cc buta c h butane_ca buta c h butane_cb buta c h butane_ca buta c h butane_cb buta c h butane_ca buta c h butane_cb buta c h butane_cc buta c h file launch buildh bash buildh c butanepdb l berger_buta lt berger_butajson berger_butadef opx butane_wh use option lt suppli berger_butajson file also request ouput option opx gener pdb hydrogen butane_whpdb shown gener pdb structur atom c buta c atom h buta h atom h buta h atom h buta h atom c buta c atom h buta h atom h buta h atom c buta c atom h buta h atom h buta h atom c buta c atom h buta h atom h buta h atom h buta h pdb name newli built hydrogen h h etc infer th column def file butan hydrogensimgbutane_whpng last advic show simpl exampl butan although molecul simpl see easi make mistak recommend tripl check json file use product buildh make lot check throw error someth wrong detect type mistak spell error atom name invers etc may lead aberr result go product test singl molecul check thoroughli molecul hydrogen good place main lipid alreadi includ buildh directori buildhlipid might need build json file list support lipid invok buildh option h buildh h usag buildh h c coord traj l lipid lt lipid_topolog lipid_topolog defop list support lipid l option berger_chol berger_dopc berger_dppc berger_pla berger_popc berger_pop berger_pop berger_pop charmmua_dppc charmmua_dpuc charmm_popc gromosal_dppc gromosckp_popc gromosckp_pop document found httpsbuildhreadthedocsio last one project develop us call autolipmaphttpsgithubcompatrickfuchsautolipmap build automat def json file main known lipid case problem post issu github instal requir compat buildh requir least python need follow modul numpi panda numba mdanalysi support instruct test unix like platform eg ubuntu recommend run buildh provid support platform sinc buildh written pure python work provid depend support simpl instal simpl instal pip trick python pip instal buildh depend modul instal automat pip note way proceed instal buildh depend within python unix system may lead conflict version scientif packag instal avoid may want creat specif conda virtual environ buildh see instal within conda environ buildh also avail biocondahttpsanacondaorgbiocondabuildh channel recommend instal buildh within conda environmenthttpsdocscondaioprojectscondaenlatestuserguidetasksmanageenvironmentshtml first creat new conda env conda creat n buildh python activ environ conda activ buildh last instal buildh within environ conda config add channel condaforg conda config add channel bioconda conda instal buildh build sourc recommend use specif environ either use venvhttpsdocspythonorglibraryvenvhtml condahttpsdocscondaioprojectscondaenlatestuserguidetasksmanageenvironmentshtmlcreatinganenvironmentwithcommand packag instal within environ avoid conflict version still want creat specif environ buildh skip first section creat environ case python version creat environ first creat new environ call envbuildh chose conda conda creat n envbuildh python chose venv python venv pathtoenvbuildh activ environ chose conda conda activ envbuildh chose venv sourc pathtoenvbuildhbinactiv instal buildh sourc clone buildh repositori git clone httpsgithubcompatrickfuchsbuildhgit cd buildh instal pip packag requir buildh name numpi panda mdanalysi numba specifi file requirementstxthttpsgithubcompatrickfuchsbuildhblobmasterrequirementstxt pip instal r requirementstxt instal buildh sourc pip pip instal e develop instal develop version sourc full environ allow build doc launch test etc see herehttpsgithubcompatrickfuchsbuildhtreemasterdevtoolsinstall_devmd test test reli pytest packag need first instal develop version see done run test cd buildh alreadi case pytest test pass anyth fail pleas open issuehttpsgithubcompatrickfuchsbuildhissu algorithm build hydrogen buildh build hydrogen use gener geometr rule explain document python function implement reconstruct written hydrogenspyhttpsgithubcompatrickfuchsbuildhblobmasterbuildhhydrogenspi function larg inspir code jon kaplahttpsgithubcomkaplajontrajmanblobmastermodule_trajopfl origin written fortran mathemat function vector oper rotat etc written geometrypyhttpsgithubcompatrickfuchsbuildhblobmasterbuildhhydrogenspi accelar use numbahttpsnumbapydataorg page use follow convent word helper describ heavi atom connect far away carbon reconstruct hs posit use process h reconstruct repres vector unit vector theta tetrahedr bond anglehttpsenwikipediaorgwikitetrahedron equal arcco rad rad angl describ rad l_ch carbonhydrogen bond lengthhttpsenwikipediaorgwikicarbonehydrogen_bond equal å imag page gener use vmdhttpwwwksuiuceduresearchvmd build ch build methyl primari carbon c requir two helper helper n connect carbon ii helper c connect helper describ herejson_formatmdch helper heavi atom connect primari carbon helper heavi atom atom away primari carbon case may multipl choic helper ch cholin pc lipid choic fine long rule explain follow helper connect carbon helper atom away start first hydrogen reconstruct explain figur ch_buildingimghow_ch_buildingpng vect red first comput vector product vector carbon helper carbon helper rotat axi next step vect blue comput rotat vector carbon helper vect theta rad first h obtain translat point locat carbon along vect l_ch å note newli built h tran configur respect helper go reconstruct two hs explain figur ch_buildingimghow_ch_buildingpng vect green obtain rotat vect fracpi rad vector carbon helper vect magenta obtain rotat vect fracpi rad vector carbon helper second third h obtain translat l_ch å point locat carbon along vect vect respect build ch build hydrogen secondari carbon involv geometr procedur explain figur ch_buildingimghow_ch_buildingpng start atom central carbon want reconstruct hydrogen c helper c helper c heavi atom connect central carbon two helper help us build new hydrogen follow standard tetrahedr geometryhttpsenwikipediaorgwikitetrahedral_molecular_geometri left panel first show construct vector vect red normal plane atom calcul cross product vector central carbon helper central carbon helper vect blue rotat axi use later calcul vector central carbon helper minu vector central carbon helper vect green vector rotat next step cross product vect vect right panel go construct vector vect magenta obtain rotat vect fractheta rad vect first h obtain translat point locat central carbon along vect l_ch å vect orang obtain rotat vect fractheta rad vect second h obtain translat point locat central carbon along vect l_ch å import last want stress order helper matter describ herejson_formatmdch two helper switch two reconstruct hs switch consequ one pror pro build ch build hydrogen tertiari carbon quit simpl carbon asymetr popc lipid singl case tertiari carbon second carbon glycerol natur phospholipid carbon r configur figur show exampl use berger popc central carbon want reconstruct one h second carbon glycerol c helper c third glycerol carbon toward sn polar head helper c fist glycerol carbon toward sn helper glycerol oxygen toward sn importantli order helper helper helper helper matter case combin lead h resconstruct ch_buildingimghow_ch_buildingpng first comput red vector vect sum vector central carbon helper central carbon helper central carbon helper see vect defin medianhttpsenwikipediaorgwikimedian_geometrytetrahedron tetrahedron blue vector vect mere opposit vect give direct ch bond new h obtain translat point locat central carbon along vect l_ch å build ch doubl bond h reconstruct carbon involv doubl bond buildh use follow strategi explain figur ch_buildingimghow_chdoublebond_buildingpng first comput angl gamma atom helpercentr carbonhelp vect next calcul cross product vector central carbon helper central carbon helper vect use next step rotat axi vect final obtain rotat vector central carbon helper pifracgamma rad vect angl valu fact buildh use bisect strategi vect along axi vector bisect angl helpercentr carbonhelp opposit direct obtain bisect vector would need rotat vector central carbon helper fracgamma sinc vect opposit direct simpli add pi valu obtain thu pifracgamma rad new h obtain translat point locat central carbon along vect l_ch å importantli order helper atom helper helper matter combin lead h reconstruct doubl bond case somewhat complic one chchch larg discuss articl publish jctc piggot alhttpsdoiorgacsjctcb one problem ideal ccc angl helpercarbonhelp vari accord function group detail forc field one solut adapt valu forc field doubl bond play requir test case buildh use bisect strategi describ h reconstruct adapt valu gamma compar result h reconstruct like vs real one oleoyl doublebond allatom charmm snapshot popc yield reason averag differ s_ch see herehttpszenodoorgrecord differ even reduc upon averag trajectori summari bisect appear accept tradeoff command line option explain document detail differ option command line gener usag buildh invok flag h display quit detail help screen usag buildh h v c coord traj l lipid lt lipid_topolog lipid_topolog defop opx opdbxtc b begin e end igch program build hydrogen calcul order paramet op unitedatom trajectori lipid opx request pdb xtc output file hydrogen creat op calcul slow trajectori output request use flag opx use fast procedur build hydrogen calcul op option argument h help show help messag exit v version show program version number exit c coord coord coord coordin file pdb gro format traj traj traj input trajectori file could xtc trr dcd format l lipid lipid lipid combinaison forcefield name residu name lipid calcul op eg berger_popcit must match intern topolog file one supplieda list support term print call help lt lipid_topolog lipid_topolog lipid_topolog lipid_topolog lipid_topolog user topolog lipid json file defop defop defop order paramet definit file found httpsgithubcompatrickfuchsbuildhtreemasterdef_fil opx opdbxtc opdbxtc opdbxtc base name trajectori output hydrogen file extens automat ad exampl opx trajh gener trajhpdb trajhxtc far xtc support output file name store order paramet default name op_buildhout b begin begin begin first frame ps read trajectori e end end end last frame ps read trajectori igch ignorech ignor ch group construct hydrogen calcul op list support lipid l option berger_chol berger_dopc berger_dppc berger_popc berger_pla berger_pop berger_pop berger_pop charmmua_dppc charmmua_dpuc charmm_popc gromosal_dppc gromosckp_popc gromosckp_pop document found httpsbuildhreadthedocsio importantli h option also display list support lipid end note alway written use name convent forcefield_lipid descript option option explain mandatori help h help display help messag shown exit option flag coordin c coord coord coord coord main coordin file pdb gro format describ system strictli requir mandatori flag trajectori traj traj traj traj input trajectori file xtc trr dcd format provid h reconstruct order paramet calcul done sole coord file trajecotri provid flag result order paramet averag trajectori averag perform found herehttpsbuildhreadthedocsioenlatestbuildhhtmlorderparametersandstatist option flag lipid request l lipid lipid lipid lipid name lipid calcul op must follow name convent forcefield_lipid exampl berger_popc list support lipid queri h flag mandatori flag user lipid json file lt lipid_topolog lipid_topolog lipid_topolog lipid_topolog user suppli topolog lipid json file want analyz lipid present buildh build json filejson_formatmd suppli option follow name convent forcefield_lipidjson exampl build json file butan berger forc field use lt berger_butajson case use also l berger_buta flag option flag definit file defop defop defop defop order paramet definit file tell buildh ch consid h reconstruct order paramet calcul find def fileshttpsgithubcompatrickfuchsbuildhtreemasterdef_fil buildh repositori support lipid also creat def filedef_formatmd mandatori flag output trajectori opx opdbxtc opdbxtc opdbxtc want trajectori hydrogen reconstruct opdbxtc base name suppli opx traj_wh two file creat traj_whpdb traj_whxtc contain hydrogen file extens automat ad trajectori suppli option buildh creat pdb xtc far pdb xtc support note option slow option flag output name order paramet output name store calcul order paramet option suppli default output name op_buildhout option flag precis begin end trajectori b begin begin begin first frame ps read trajectori e end end end last frame ps read trajectori buildh check whether begin end make sens suppli trajectori option flag ignor ch output igch ignorech flag op ch belong ch comput written ouput file even present def file individu reconstrut ch methyl group interest op calcul sinc precis know methyl rotat option one avoid evalu without remov ch def file recal def file buildh websitehttpsgithubcompatrickfuchsbuildhtreemasterdef_fil contain possibl ch howev note igch option usabl opx option output structur pdb xtc file hydrogen sinc latter need hydrogen atom reconstruct lipid def file format role def file def file three main function tell buildh ch bond consid h reconstruct order paramet calcul give gener name ch output order paramet default name file op_buildhout gener name exampl beta beta give specif pdb name newli built hydrogen trajectori request initi type file creat nmrlipidshttpsnmrlipidsblogspotcom project start allatom trajectori script calcorderparameterspyhttpsgithubcomnmrlipidsmatchblobmasterscriptscalcorderparameterspi take def file input infer ch consid calcul also use assign uniqu gener name ch along lipid regardless forc field consid exampl two ch beta carbon cholin call beta beta pc lipid whatev forc field last also use specifi specif pdb name reconstruct hydrogen mani def file found match repositoryhttpsgithubcomnmrlipidsmatchtreemasterscriptsorderparm_def allatom forc field buildh work unitedatom trajectori directori def_fileshttpsgithubcompatrickfuchsbuildhtreemasterdef_fil find def file lipid support format def file gener name convent def file nmrlipid order_parameters_definitions_model_x_ydef x forc field lipid consid name whatev like recommend indic least forc field lipid buildh def fileshttpsgithubcompatrickfuchsbuildhtreemasterdef_fil present repo mere name folllow convent forcefield_lipiddef exampl berger_popcdef line repres given ch column column gener name order paramet consid recommend use convent alreadi present def_fileshttpsgithubcompatrickfuchsbuildhtreemasterdef_fil provid buildh column residu name pdb gro file column carbon name pdb gro file ch column h name ch use output pdb file request exampl polar head berger popchttpsgithubcompatrickfuchsbuildhblobmasterdef_filesberger_popcdef beta popc c h beta popc c h alpha popc c h alpha popc c h g_ popc c h g_ popc c h g_ popc c h g_ popc c h g_ popc c h column separ combin white space least one trajectori output def file output trajectori option opx request def file provid must contain possibl ch lipid sinc whole trajectori hs reconstruct newli built hydrogen follow name written th column def file option slow recommend output xtc file want option opx use buildh use fast index case def file contain subset possibl ch pair exampl one want get order paramet polar head berger popc def follow beta popc c h beta popc c h alpha popc c h alpha popc c h g_ popc c h g_ popc c h g_ popc c h g_ popc c h g_ popc c h cours lower number hs reconstruct make buildh run faster guid exampl write lipid def file show build def file simpl molecul butan start pdb file molecul butanepdb atom c buta atom c buta atom c buta atom c buta butan without hydrogenimgbutanepng let us consid first c hydrogen reconstruct call new hydrogen h h h residu name buta sinc butan molecul exist known def file creat gener name want ch follow model berger_popcdefhttpsgithubcompatrickfuchsbuildhblobmasterdef_filesberger_popcdef could name butane_ca butane_ca butane_cc appli possibl ch obtain butane_ca buta c h butane_cb buta c h butane_cc buta c h butane_ca buta c h butane_cb buta c h butane_ca buta c h butane_cb buta c h butane_ca buta c h butane_cb buta c h butane_cc buta c h follow file name convent forcefield_lipiddef file call berger_butadef also creat json file see herejson_formatmdaguidedexampleforwritingalipidjsonfil use follow berger_butajson resnam buta c ch c c c ch c c c ch c c c ch c c file launch buildh bash buildh c butanepdb l berger_buta lt berger_butajson berger_butadef opx butane_wh suppli newli creat def file buildh option also use berger_butajson file option lt request ouput option opx gener pdb hydrogen butane_whpdb shown gener pdb structur atom c buta c atom h buta h atom h buta h atom h buta h atom c buta c atom h buta h atom h buta h atom c buta c atom h buta h atom h buta h atom c buta c atom h buta h atom h buta h atom h buta h butan hydrogensimgbutane_whpng last advic show simpl exampl butan although molecul simpl see easi make mistak although def file less critic json lipid filejson_formatmd recommend doubl check use product buildh make lot check throw error someth wrong detect type mistak spell error atom name invers etc may lead nonsens result go product test singl molecul check thoroughli coupl exampl whether output look right main lipid alreadi includ buildh directori buildhlipidshttpsgithubcompatrickfuchsbuildhtreemasterdef_fil might need build def file list support lipid invok buildh option h buildh h usag buildh h c coord traj l lipid lt lipid_topolog lipid_topolog defop list support lipid l option berger_pop berger_popc berger_pla berger_pop charmm_popc last one project develop us call autolipmaphttpsgithubcompatrickfuchsautolipmap build automat def json file main known lipid case problem post issu github order paramet statist mean order paramet bond ch_j ie jth ch bond calcul use standard formula overlines_ch_j frac left langl costheta right rangl theta angl ch_j bond normal membran usual z axi langl rangl mean averag molecul frame s_ch measur nmr use valid simul result larg describ nmrlipid projecthttpnmrlipidsblogspotcom order paramet output buildh default name op_buildhout look like op_nam resnam atom atom op_mean op_stddev op_stem gamma_ popc c h gamma_ popc c h gamma_ popc c h line correspond given ch first column contain gener name residu name carbon hydrogen name respect column contain differ statist order paramet op op_mean also written overlines_ch_j describ mean op bond ch_j averag lipid frame trajectori op_stddev standard deviat op residu shall write sigmas_ch_j first averag op bond ch_j eg ch beta residu ie lipid whole trajectori overlines_ch_ji fracnfram sum_ttnfram s_ch_jit nframe total number frame calcul standard deviat mean residu sigmas_ch_j sqrt fracnr sum_iinr overlines_ch_ji overlines_ch_j nre total number residu ie lipid op_stem standard error mean averag spirit let call errs_ch_j errs_ch_j fracsigmas_ch_jsqrtnr test case exampl use buildh simpl system made popc berger lipid file berger_popcdef come match repositoryhttpsgithubcomnmrlipidsmatchtreemasterscriptsorderparm_def output file obtain lauch buildh follow way bash file singl popc popcpdb buildh c popcpdb l berger_popc berger_popcdef outbuildhpopcpdbout file popc start_popcpdb buildh c start_popcpdb l berger_popc berger_popcdef outbuildhstart_popcpdbout small trajectori frame popcns_dtxtc buildh c start_popcpdb l berger_popc berger_popcdef popcns_dtxtc outbuildhpopcns_dtxtcout file use notebook describ exampl use buildh popcpop mixtur valid buildh buildh reconstruct hydrogen unitedatom trajectori calcul order paramet reconstruct ch bond valid buildh took allatom popc trajectori gener charmm forc field first remov hydrogen reconstruct buildh compar h reconstruct order paramet valu calcul buildh real one allatom trajectori output buildh also compar two script made josef melcr angel pineiro reporthttpsgithubcompatrickfuchsbuildhblobmasterdocscharmm_popc_validationreport_buildhpdf made august describ valid file use make valid deposit zenodohttpszenodoorgrecord follow doi zenodo doihttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo shown anim gif highlight tini differ hydrogen charmm popc vs reconstruct buildh charmm_vs_buildhgifcharmm_vs_buildhgif note valid made august retriev correspond old version buildh herehttpsgithubcompatrickfuchsbuildhtreecfababffdebbdeefa