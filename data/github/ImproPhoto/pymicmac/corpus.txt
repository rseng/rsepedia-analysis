pymicmac build statushttpstravisciorgimprophotopymicmacsvgbranchmasterhttpstravisciorgimprophotopymicmac codaci badgehttpsapicodacycomprojectbadgegradeceddcadeafcbaebdhttpswwwcodacycomappimprophotopymicmacutm_sourcegithubcomamputm_mediumreferralamputm_contentimprophotopymicmacamputm_campaignbadge_grad anacondaserv badgehttpsanacondaorgimprophotopymicmacbadgesinstallercondasvghttpscondaanacondaorgimprophoto doihttpszenodoorgbadgesvghttpszenodoorgbadgelatestdoi softwar result netherland escienc center project improv opensourc photogrammetr workflow process big datasetshttpswwwesciencecenternlprojectimprovingopensourcephotogrammetricworkflowsforprocessingbigdataset pymicmac provid python interfac micmac workflow execut distribut comput tool micmac micmachttpmicmacensgeu photogrammetr suit contain mani differ tool execut photogrammetr workflow short photogrammetr workflow contain least tiepoint detect first key featur imag extract done exampl sift algorithmhttpswwwcsubccalowepapersijcvpdf second key featur crossmatch differ imag detect point correspond physic locat visibl differ imag detect point call tiepoint also refer homolog point relat literatur bundl block adjust camera posit orient estim paramet calibr dens imag match detect tiepoint match project produc dens point cloud point back project imag correct project deform creat metric correct trueorthophoto micmac suit contain sever tool dedic step programmat worflow tiepoint detect done tapioca bundl block adjust done tapa dens match point cloud gener done malt tawni nuagepli pymicmac address two main issu micmac pymicmac help run sequenc micmac command sequenc command defin xml execut pymicmac creat isol execut folder separ input data intermedi output data pymicmac also add cpumem monitor command pymicmac contain distribut comput version tapioca match pipelin malt tawni nuagepli allow run tapioca match pipelin distribut system sge cluster bunch sshreachabl machin micmacrunworkflow tool use sequenti command execut tool pycoemanhttpsgithubcomnlescpycoeman detail inform provid instructionsinstruct section section larg imag setslargeimageset provid tip use micmac pymicmac process larg imag set use distribut comput tiepoint extract dens imag match tiepoint reduct bundl block adjust stepbystep tutori also avail tutorialhttpsgithubcomimprophotopymicmactreemasterdocstutorialmd instal easiest way instal pymicmac use anaconda packagehttpsanacondaorgimprophotopymicmac bash conda instal c improphoto c condaforg pymicmac develop instal clone repositori instal pip use virtualenv recommend git clone httpsgithubcomimprophotopymicmac cd pymicmac pip instal e python depend pycoeman noodl see httpsgithubcomnlescpycoeman httpsgithubcomnlescnoodl instal instruct python depend numpi tabul matplotlib lxml automat instal pip instal e system librari instal exampl freetyp requir matplotlib may need instal system admin pymicmac work linux system requir python instruct tool micmacrunworkflow use execut entir photogrammetr workflow micmac portion recommend split workflow three piec tiepoint extract bundl block adjust dens imag match time tool execut creat independ execut folder isol process input data tool execut python script see exampl testsrun_workflow_testsh import python modul micmac command execut specifi xml configur file workflow xml configur file workflow xml configur file format sequenti command xml configur file format use pycoemanhttpsgithubcomnlescpycoeman pymicmac usual first tool workflow xml configur file link list imag use requirelist specifi file list imag next xml exampl tiepoint extract seqcommand compon id tapioca id requirelistlisttxtrequirelist command mmd tapioca jpg command compon seqcommand bundl block adjust seqcommand compon id tapa id requirelistlisttxtrequirelist requiretiepointdetectionhomolrequir command mmd tapa fraser jpg outtapasout command compon seqcommand dens imag match seqcommand compon id malt id requirelistlisttxtrequirelist requir paramestimationoritapasoutrequir command mmd malt geomimag jpg tapasout masterjpg dirmecresult useta zoomf zoomi purgetru command compon compon id nuagepli id command mmd nuagepli resultsnuageimprof_stdmalt_etape_xml attrjpg outplycommand compon seqcommand follow exampl could execut whole photogrammetr workflow micmacrunworkflow pathtodata e tiepointdetect c tiepointdetectionxml micmacrunworkflow pathtodata e paramestim c paramestimationxml micmacrunworkflow pathtodata e match c matchingxml note file folder name specifi requir requirelist must provid rel folder data pathtodata monitor tool use pymicmac run command pycoeman keep log produc command log file addit store mon mondisk cpumemdisk monitor pycoeman tool calcul statist creat plot monitor see httpsgithubcomnlescpycoeman tool pymicmac analyz log sever micmac command micmactapaslogan micmacredtieplogan micmacredtieplogan micmaccamparilogan micmacgcpbasculelogan micmacgcpbasculelogplot micmaccamparilogplot micmac command part tool name larg imag set tiepoint extract dens imag match process easili enhanc use distribut comput cluster cloud reason process involv easili split independ chunk chunk one imag process bundl block adjust case sinc involv process usual requir data imag simultan memori case propos use tiepoint reduct deal larg imag set inform distribut comput tiepoint reduct see paper martinezrubi oscar francesco nex marc pierrotdeseilligni ewelina rupnik improv foss photogrammetr workflow process larg imag dataset open geospati data softwar standard may httpsdoiorgshttpsdoiorg distribut comput step photogrammetr workflow name tiepoint extract dens imag match execut effici distribut comput system exploit innat data parallel photogrametri exampl tapioca tool tiepoint extract first extract featur imag crossmatch featur imag pair propos distribut comput solut divid list imag pair chunk chunk process mostli independ end result chunk process need combin use parallel command execut tool pycoeman variou paralleldistribut command specifi xml configur file similar workflow xml configur file exampl xml configur tapioca process two data chunk contain half imag pair parcommand compon id_tapiocaid requirelistdistributedtapioca_imagepairsxmllistrequirelist requiredistributedtapioca_imagepairsxmlrequir commandmmd tapioca file _imagepairsxml command outputhomoloutput compon compon id_tapiocaid requirelistdistributedtapioca_imagepairsxmllistrequirelist requiredistributedtapioca_imagepairsxmlrequir commandmmd tapioca file _imagepairsxml command outputhomoloutput compon parcommand pycoeman tool coemanmonplotcpumem use get plot aggreg cpu mem usag distribut micmac tool tapioca tool micmacdisttapiocacreatepair micmacdisttapiocacreateconfig micmacdisttapiocacombin togeth parallel command execut tool pycoeman use run tapioca distribut comput system order run tapioca distribut system list contain imag pair need micmacdisttapiocacreatepair tool creat list micmacdisttapiocacreateconfig tool split imag pair xml file multipl chunk creat xml configur file compat pycoeman micmacdisttapiocacreateconfig input xml imag pair f folder output xml file list one chunk n number imag pair per output xml must even number xml configur file next distribut tool execut hardwar system support pycoeman see httpsgithubcomnlescpycoeman use coemanparloc coemanparssh coemanparsg tool distribut tapioca finish output differ chunk need combin micmacdisttapiocacombin tool combin output final homol folder micmacdisttapiocacombin folder subfold subfold result process chunk output combin folder match malt tawni nuagepli gener final point cloud distribut comput system dens point match parallel micmacdistmatchingcreateconfig parallel command execut tool pycoeman algorithm micmacdistmatchingcreateconfig restrict aerial imag camera orient obtain paramet estim step photogrammetr workflow cartograph refer system estim camera posit assum z direct along pictur taken alway point ground tool comput xy bound box includ xy camera posit bound box divid tile like shown figur exampledistmatchingdocsdistmatching_examplepng tile process independ process tile imag intersect xy posit tile use need set imag extend nearest neighbour guarante minimum imag per tile micmacdistmatchingcreateconfig gener tile initi larg list imagesand creat xml configur file suitabl pycoeman micmacdistmatchingcreateconfig orient folder homol folder e imag format xml configur file f folder extra tile inform n number tile x next distribut tool execut hardwar system support pycoeman see httpsgithubcomnlescpycoeman coemanparloc coemanparssh coemanparsg tool use purpos tiepoint reduct effici workflow execut propos perform tiepoint reduct step bundl adjust extra step ad process chain paramet estim step detail explan pleas refer tiepoint reduct section reporthttpknowledgeesciencecenternlcontentreporttiepointspdf two tool purpos redtiep oriredtiep former tool preceed no_alloriim martini prece latter exampl see testsparamestimation_reductionxml testsparamestimation_orireductionxml note run tiepoint reduct tool homol folder chang see exampl also note run redtiep possibl use parallel execut mode togeth tool micmacnoodl see exampl testsparamestimation_reductionxml themicmachomolcompar tool use comput reduct factor contribut welcom pleas creat pull request make sure follow github flowhttpsguidesgithubcomintroductionflow branch model develop code style convent see nlesc style guidehttpsnlescgitbooksioguidecont dont includ extra depend without good reason use licens compatt licens project apach v pleas document code provid unit test make sure contribut least run_workflow_testhttpsgithubcomimprophotopymicmacblobmastertestsrun_workflow_testsh pass tutori tutori intend drive process convert bunch imag folder linux comput color dens point cloud use micmac pymicmac instal anyth els need instal requir softwar micmac pymicmac depend tutori instal ubuntu note step librari name may differ linux distribut first instal micmac get micmac svn repositori instal mercuri abl download micmac sudo aptget instal mercuri instal next locat pleas chang accordingli system cd homeoscarsw clone repo requir userpassword hg clone httpsgeoportailforgeignfrhgcultur instal micmac cd cultur mkdir build cd build cmake make j make instal assum instal micmac homeoscarswcultur add next line bashrc case replac accordingli export ld_library_pathhomeoscarswculturedlibld_library_path export pathhomeoscarswculturedbinpath sourc bashrc activ instal sourc bashrc second pymicmac python packag need python instal recommend use anaconda get latest anaconda instal bit depend system wget httpsrepocontinuumioarchiveanacondalinuxx_sh instal bash anacondalinuxx_sh creat anaconda environ instal pymicmac conda creat name python python add line bashrc sourc activ python sourc bashrc activ instal sourc bashrc third pymicmac system librari requir freetyp ssl ffi also requir pycoeman noodl instal pycoeman depend sudo aptget instal libfreetypedev libssldev libffidev instal pycoeman pip instal githttpsgithubcomnlescpycoeman instal noodl pip instal githttpsgithubcomnlescnoodl final instal pymicmac instal pymicmac pip instal githttpsgithubcomimprophotopymicmac test instal mmd help micmacrunworkflow h process dataset perform instal tne requir softwar gener color dens point cloud assum data homeoscardatagronaums_m_ concret folder look like ls homeoscardatagronaums_m_ coord_listdxml gcp_listdxml graphehomxml oriin img_jpg addit set jpg imag also gcp file graphehomxml file oriin folder gcp file gcp_listdxml posit ground control point gcp check point cp posit imag regist coord_listdxml file graphehomxml contain list valid imag pair extract geotag info oriin folder contain xml file initi calibr inform pymicmac make live easier creat file list imag cd homeoscardatagronaums_m_ ls jpg imageslist photogrammetr pipelin micmac consist run tapioca extract tiepoint follow tapa perform bundl block adjust final malt tawni nuagepli get color dens point cloud command execut configur pymicmac xml execut command execut folder one origin data store requir data link creat pymicmac monitor cpumem disk usag pymicmac configur photogrammetr workflow split part way want next subsect present coupl exampl differ strategi execut workflow singl xml entir workflow exampl defin singl xml execut entir workflow pymicmac xml configur file call workflowxml content seqcommand compon id tapioca id requir graphehomxml requir requirelist imageslist requirelist command mmd tapioca file graphehomxml command compon compon id tapa id command mmd tapa fraser jpg incalin outtapasout command requir oriin requir compon compon id gcpbascul id command mmd gcpbascul jpg tapasout gcpbout gcp_listdxml coord_listdxml command requir gcp_listdxml coord_listdxml requir compon compon id malt id command mmd malt ortho jpg gcpbout command compon compon id tawni id command mmd tawni orthomecmalt command compon compon id nuagepli id command mmd nuagepli mecmaltnuageimprof_stdmalt_etape_xml attrorthomecmaltorthophotomosaictif outpointcloudpli command compon seqcommand workflow execut pymicmac cd homeoscardatagronaums_m_ micmacrunworkflow c workflowxml e workflowoutput note command requir filesfold specifi tag requir requirelist specifi locat rel path folder specifi option micmacrunworkflow command ie homeoscardatagronaums_m_ also note need duplic requir item exampl command need imag provid requirelist enough specifi first command execut micmacrunworkflow first creat workflowoutput folder creat link insid folder requir data specifi requir requirelist final run command execut finish command find workflowoutput log file mon file mondisk file contain respect log command execut cpumem usag disk usag pycoeman tool obtain statist cpumem usag coemanmonstat tapiocatapasgcpbasculemalttawnynuagepli f workflowoutput variou xml reexecut part workflow previou exampl use one argu cpumemdisk usag clean environ worthi hassl instal learn oper pymicmac complet valid point howev case like previou one pymicmac made second exampl see pymicmac realli benefici want run workflow similar previou one tiepoint reduct step tapa make tapa execut faster also want compar workflow tiepoint reduct case reduct use concret look residu tapa error gcpbascul would also like see impact tapa reduct use less memori faster execut run tapioca common two workflow want test thu divid workflow two part first part tapioca second part tapa gcpbascul without tiepoint reduct exampl sinc interest tapa gcpbascul run malt tawni nuagepli xml run tapioca call tapiocaxml content seqcommand compon id tapioca id requir graphehomxml requir requirelist imageslist requirelist command mmd tapioca file graphehomxml command compon seqcommand execut cd homeoscardatagronaums_m_ micmacrunworkflow c tapiocaxml e tapiocaoutput creat tapiocaoutput folder make link imag graphehomxml file execut tapioca insid tapiocaoutput execut finish addit homol creat tapioca also log file mon file mondisk use coemanmonstat get overview cpumem usag tapioca coemanmonstat tapioca f tapiocaoutput next defin rest workflow tiepoint reduct done workflownotprxml seqcommand compon id tapa id requir oriin tapiocaoutputhomol requir requirelist imageslist requirelist command mmd tapa fraser jpg incalin outtapasout command compon compon id gcpbascul id command mmd gcpbascul jpg tapasout gcpbout gcp_listdxml coord_listdxml command requir gcp_listdxml coord_listdxml requir compon note case tapa need specifi requir imageslist alway first command xml also requir homol folder insid tapiocaoutput folder creat insid homeoscardatagronaums_m_ fine use rel path run workflow cd homeoscardatagronaums_m_ micmacrunworkflow c workflownotprxml e notproutput creat notproutput folder creat link imag homol folder rest file final run tapa gcpbascul like execut finish find log file mon file mondisk file also notproutput folder follow defin workflow tiepoint reduct reus homolfold need rerun tapioca workflowtprxml seqcommand compon id no_alloriim id requir tapiocaoutputhomol requir requirelist imageslist requirelist command mmd testlib no_alloriim jpg quick command compon compon id redtiep id command mmd redtiep jpg numpointsx numpointsi weightaccgain rm homol mv homolr homol command compon compon id tapa id requir oriin requir command mmd tapa fraser jpg incalin outtapasout command compon compon id gcpbascul id command mmd gcpbascul jpg tapasout gcpbout gcp_listdxml coord_listdxml command requir gcp_listdxml coord_listdxml requir compon first no_alloriim run requir redtiep tiepoint reduct tool sinc first command add requir imag homol folder next actual reduct redtiep done note reduct replac homol folder one output tool panic rm homol delet link homol folder full set tiepoint still one benefit separ execut sever part workflow use link final run tapa gcpbascul exactli case use reduc set tiepoint execut cd homeoscardatagronaums_m_ micmacrunworkflow c workflowtprxml e tproutput execut done find log file mon file mondisk file tproutput folder comparison workflow want compar result two workflow first see differ cpumem usag execut command case coemanmonstat tapiocano_alloriimredtieptapasgcpbascul f tapiocaoutputnotproutputtproutput output look someth like timecpumem tool monitor command exefold time avail cpu max cpu mean cpu avail memgb max memgb mean memgb tapioca tapiocaoutput no_alloriim tproutput redtiep tproutput tapa notproutput tapa tproutput gcpbascul notproutput gcpbascul tproutput tapa reduct done x faster use much less ram also see actual reduct done tiepoint set second workflow micmachomolcompar tapiocaoutputhomol c notproutputhomoltproutputhomol output look like ratio homol name homol dec notproutput tproutput tiepoint use imag correctli orient tiepoint well let look tapa residu tool micmactapaslogan open tapa log file count number iter last one show residu micmactapaslogan f notproutputtproutput report someth like tapa last residualswort name numit re wor notproutput tproutput residu bit higher tiepoint reduct appli could expect note less iter requir less tiepoint next check realli happen gcp point tool micmacgcpbasculelogan read gcpbascul log comput error orient gcp micmacgcpbasculelogan x gcp_listdxml f notproutputtproutput report someth like gcpbascul dist statist ko name notproutput tpr____n gcp name min max mean std median notproutput tproutput cp name min max mean std median notproutput tproutput error meter use reduc set tiepoint increas less centimet previou exampl sort case pymicmac make life much easier ie rerun part workflow differ paramet command want compar differ workflow els pymicmac distribut comput previou exampl ran two workflow compar saw use pymicmac whole process bit less tediou addit benefit highlight previou exampl tool pymicmac crucial process larg imag set saw use tiepoint reduct decreas memori usag speedup tapa bundl block adjust happen tapioca dens imag match malt tawni nuagepli saw one tabl tapa without tiepoint reduct took around second tapioca took around second almost week dataset even larg hundr imag tiepoint reduct use run tapa larg set faster less memori howev larg imag set issu also aris tapioca later also dens imag match case feasibl choic use distribut comput facil cloud cluster pymicmac tool run distribut version tapioca distribut version dens imag match pipelin malt tawni nuagepli cluster sge queu system bunch sshreachabl machin order port task distribut comput system small modif algorithm perform task requir key idea divid process chunk process independ differ machin combin result end next show use tool sge cluster distribut tapioca exampl transfer dataset use previou exampl sge cluster store data follow locat varscratchorubidatamediumms_m_ share locat node cluster access folder contain coord_listdxml gcp_listdxml graphehomxml oriin imageslist img_jpg order run distribut tapioca first need divid process chunk tool micmacdisttapiocacreateconfig use defin differ chunk process need done chunk micmacdisttapiocacreateconfig graphehomxml distributedtapiocaxml f chunksdata n previou command divid imag pair defin graphehomxml chunk imag pair file like graphehomxml use micmacdisttapiocacreatepair creat one possibl imag pair imag pair use chunk store file chunksdata folder chunk defin command execut command store distributedtapiocaxml use tool coemanparsg pycoeman run list command cluster parallel cd varscratchorubidatamediumms_m_ coemanparsg c distributedtapiocaxml homeorubiswexport_pathssh r localorubidistributedtapioca distributedtapiocaalloutput varscratchorubidatamediumms_m_ share data locat path xml file rel locat variou command run cluster specifi distributedtapiocaxml file homeorubiswexport_pathssh file set environ node job go execut certain node node need softwar avail micmac pymicmac pycoeman execut job node done locat specifi ie localorubidistributedtapioca job requir data chunk copi share data locat varscratchorubidatamediumms_m_ local disk localorubidistributedtapioca job local copi requir data faster access chunk process local node output data partial homol folder copi back share locat job finish check qsub need combin partial homol folder micmacdisttapiocacombin distributedtapiocaalloutput homol homol folder creat distribut manner plot combin cpumem usag node cluster coemanmonplotcpumem distributedtapiocaalloutput r distribut dens imag match previou subsect ran tapioca distribut system tapioca need run tapa mayb gcpbascul process order obtain imag orient saw use tiepoint reduct speedup tapa th eimag orient readi gener dens color point cloud micmac done dens imag match pipelin consist malt tawni nuagepli process time consum gener larg amount intermedi data larg dataset fill disk storag easili develop distribut tool run dens imag match pipelin malt tawni nuagepli right solut work aerial imag orient cartograph refer system exampl show run sge cluster assum data imag varscratchorubidatamediumms_m_ folder also imag orient folder orifin order run distribut dens imag match first need divid process chunk tool micmacdistmatchingcreateconfig use defin differ chunk process need done chunk micmacdistmatchingcreateconfig tproutputorigcpbout e jpg distributedmatchingxml f distributedmatchingconfigfold n previou command divid area tile imag process tile defin distributedmatchingconfigfold folder tile defin command execut command store distributedmatchingxml use tool coemanparsg pycoeman run list command cluster parallel cd varscratchorubidatamediumms_m_ coemanparsg c distributedmatchingxml homeorubiswexport_pathssh r localorubidistributedmatch distributedmatchingalloutput varscratchorubidatamediumms_m_ share data locat path xml file rel locat variou command run cluster specifi distributedmatchingxml file homeorubiswexport_pathssh file set environ node job go execut certain node node need softwar avail micmac pymicmac pycoeman execut job node done locat specifi ie localorubidistributedmatch job requir data tile copi share data locat varscratchorubidatamediumms_m_ local disk localorubidistributedmatch job local copi requir data faster access tile process local node output data pointlcoud tile copi back share locat exectuion finish distributedmatchingalloutput folder contain subfold subfold contain pli file plot combin cpumem usag node cluster coemanmonplotcpumem distributedmatchingalloutput r