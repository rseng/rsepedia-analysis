moos build statushttpscivetinlgovidaholabmoosemasterbranch_statussvghttpscivetinlgovrepoidaholabmoos multiphys objectori simul environ moos finiteel multiphys framework primarili develop idaho nation laboratoryhttpwwwinlgov provid highlevel interfac sophist nonlinear solver technologyhttpwwwmcsanlgovpetsc planet moos present straightforward api align well realworld problem scientist engin need tackl everi detail engin interact moos thought instal process run simul state art supercomput moos system acceler research capabl fingertip fullycoupl fullyimplicit multiphys solver dimens independ physic automat parallel largest run cpu core modular develop simplifi code reus builtin mesh adapt continu discontinu galerkin dg time intuit parallel multiscal solv see video dimens agnost parallel geometr search contact relat applic flexibl plugabl graphic user interfac plugabl interfac allow special everi part solv inform inform includ instal instruct pleas see offici websit mooseframeworkorghttpsmooseframeworkorg contribut inform contribut code chang moos pleas see articlehttpsmooseframeworkorgframeworkcontributinghtml abl sort object specif executeflag use dependencyresolv put preic prepostaux attribut databas select directli data part object must ad later need abil updat object alreadi databas manuallyspecifi attribut ie read object canon way arbitrari oper _enabled_ object skip enabl object thing like residualsetup jacobiansetup initi final execut etc question ever user object exist certain thread ie thread duplic instanc object thread think current warehous doesnt know threadingcopi relationship object need store inform somehow queri object set mayb actual need sort threadedinterfac keep pointer master thread object pointer join deal partial queri still abl cach prebuild queri need comput loop object ie object interest group threadsubdomain threadboundari combo pass data structur contain prebuilt queri id comput loop execut keep track queri id huge pain better way trackcach queri macro cach warehous file line number string call locat doesnt handl thread lock add way lock warehous immut except cach prevent new object ad still allow updat exist object hit parser hit simpl heirarch text languag use whatev want api document found parseh lexh hit requir c compil otherwis depend addit parser libraryfil hit util command includ use sever common task renam paramet find filesloc certain paramet exist automat format file canon format build command run make make hit option python bind built run make bind requir python interpret instal system path use cython pregener hitcpp file chang made hit api affect bind hitcpp need regener run make hitcpp requir work cython instal alongsid python interpret tinydir lightweight portabl easi integr c directori file reader tinydir wrap dirent posix findfirstfil window exampl two method error check omit c tinydir_dir dir tinydir_opendir pathtodir dirhas_next tinydir_fil file tinydir_readfiledir file printf filenam fileis_dir printf printfn tinydir_nextdir tinydir_closedir c tinydir_dir dir int tinydir_open_sorteddir pathtodir dirn_fil tinydir_fil file tinydir_readfile_ndir file printf filenam fileis_dir printf printfn tinydir_closedir see sampl folder exampl includ interact commandlin directori navig languag ansi c c platform posix window support open possibl support platform licens simplifi bsd known limit threadsaf limit path filenam size wide char support hit command hierarchi input text hit file format moos input file test spec built upon hit keyvalu pair syntax multilevel block hierarchi deal hit file provid hit execut automat built frameworkcontribhit command line tool offer multipl function find paramet across mani input file context sensit way valid input file format input file accord user defin style merg input file dif input file extract common portion input file subtract common portion input file hit find search paramet hit find v p additional_pattern main_pattern file hit find look full paramet path specifi wildcard main_pattern match arbitrari set charact match singl charact input kernel diff type diffus variabl main pattern kernelsvari match variabl line kernelsvariablea iabl diffa kernelsvariableb match oper also avail neg match exampl kernelsvariableb match variabl line option turn match case insensit use match mooseenum valu v option list file singl match use check absenc pattern p option match addit paramet insid block match main pattern exampl hit find p typediffus kernelsvariablea match snippet kernel act variabl type diffus would hit find p typeneumannbc kernelsvariablea exampl hit find outputsfile_bas find input contain file_bas paramet output block hit find outputsfile_bas hit find v modulestensormechanicsmast find file v contain use tensormechan master action hit find bcsboundaryleft find boundari condit appli left sideset hit find bcsboundaryleft find boundari condit appli left sideset hit find p typefunctiondirichletbc bcsboundaryright find functiondirichletbc appli right sideset possibl other also match boundaryinner_right filter result grep may necessari hit find p formulationmortar mortar_approach contactmodelcoulomb find input contain contact action block model coulomb case insensit match use formul paramet set mortar also specifi mortar_approach paramet whatev valu multipl argument suppli p paramet list termin doubl dash main pattern list file search follow hit format format input file hit format style file input format subcommand reformat valid hit file cannon form consist indent potenti sort section paramet name file format given input paramet specifi filenam input taken stdin format input output termin unless option suppli enabl inplac format suppli input file format style user defin use style paramet argument name style file format format indent_str line_length canonical_section_mark true sort pattern section order type pattern section order mesh execution output field option sort section also option sort section present mani pattern want pattern section must section order field hit merg combin input file hit merg output outfilei infilei infilei produc singl file outfilei merg infilei input would result moos simul multipl input file hit diff highlight differ input file hit diff lefti righti hit diff left lefti lefti right righti righti perform diff left right file second exampl merg left right file respect first diff sensit order format comment input file hit common extract common paramet input hit common filei filei common_parametersi extract paramet common specifi input file valu use first step factor common set singl input file hit subtract remov common paramet paramet hit subtract simulation__ common_parametersi simulation_i remov paramet common_parametersi simulation__ creat simulation_i second step factor common paramet set input file result file run mooseappopt commoni simulation_i result simul mooseappopt simulation__ templat load filestpmdtempl categoryframework projectframework templat item keytestscop plan detail test implement develop moos moosebas applic lead stabl revis upon secondari review project lead releas acnqa standard necessit review approv releas plan describ autom test fulfil obligatori test softwar project lead leverag inform perform releas acmoos moosebas applic use agil develop method test propos chang prior integr main repositori allow develop exercis propos chang written ensur exist code impact advers way test integr part normal develop process necessari test review satisfi acnqa standard natur contributor project test perform dynam attempt identifi defect execut softwar test revis perform automat use accivet autom test success complet technic review perform autom merg made stabl revis revis elig releas discret project lead subject complet releas review templateend templat item keytestobject test type detail testtyp acmoos moosebas applic singl object execut prescrib input softwar shall produc expect output type test indic type output shall consid rang numer verif error test overal object provid necessari confid softwar perform expect defin test case ensur softwar properli handl abnorm condit event well credibl failur perform advers unintend function degrad system either combin function natur softwar librari possibl guarante function softwar endus perspect sinc input provid user control test case templateend templat item keyassumpt acmoos moosebas applic assum dynamicallylink commandlin unix posix compat execut built target system achpc softwar fact normal configur reli sharedlibrari gener advis build moos one system execut anoth system except homogen cluster environ acmoos moosebas applic assum stateless read input local network mount filesystem deploy parallel test use standard acmpi network expect function among cluster comput node acmoos moosebas applic doe requir special file system ie parallel file system howev high perform file system improv perform larg simul also speed autom test system launch run inspect test result templateend templat item keyconstraint acmoos moosebas applic design built execut insitu endus machin requir separ test accept environ independ invoc simul maintain environ accept test may perform fullscal provid resourc avail therefor constraint test acmoos moosebas applic templat item keytesttyp possibl categor test case mani way system integr perform accept test acmoos moosebas applic categor test case simpli defin execut complet set automat execut defin testautom requir test test sequenc test defin within acmoos moosebas applic must execut pass revis releas softwar test case within one test specif test file expect run order defin specif may execut order requir rang input paramet test case creat contributor chang control process independ review respons ensur input paramet test across expect oper rang extent necessari propos chang identif stage test requir test acmoos moosebas applic shall includ level test defin figcivet_flow test autom extent possibl next devel branch test may combin discret applic media civet_flowpng idfigcivet_flow captionrequir stage test acmoos moosebas applic next devel branch test may combin discret applic requir test logic branch test case creat contributor chang control process independ review respons ensur logic code path test extent necessari propos chang requir hardwar integr hardwar softwar configur test acmoos moosebas applic discret project lead upon releas hardwar softwar configur util shall includ releas anticip output valu anticip output valu test case defin within test case format output dictat tester detail testautom accept criteria test passfail accept criteria base anticip output dictat tester see testautom execut output match anticip output test accept pass otherwis reject fail addit test coverag report creat propos chang overal line coverag requir increas remain constant may decreas addit independ review expect use report ensur propos chang test appropri level discret review report record standard format convent test case shall report accept statu pass fail test case fail reason failur shall includ inform report depend tester see testautom detail templateend templat item keyapprovalrequir test case creat contributor develop process approv independ review creation test case follow chang control process test case respons bug fix part enhanc templat item keytestiter acmoos moosebas applic stateless determinist softwar given input therefor singl test iter identifi configur suffici complet requir test necessari deploy templat item keytestautom acmoos moosebas applic reli heavili full test autom sinc applic stateless commandlin driven develop thorough test suit gener straightforward busi system type softwar moos repositori includ generalpurpos extend test har heavili leverag run test case test har use throughout phase moos develop initi develop chang request process deploy test final endus insitu test test har even suitabl test larg deploy cluster support pb queu system test har includ suit tester type enabl complet test acmoos moosebas applic type test har abl execut applic develop design input verifi correct result automat complet list builtin tester includ runapp tester design assembl common command line argument execut moosebas applic includ launch mpi thread anticip output return code accept criteria nonzero return code accept pass report record return code system standard output return applic runcommand gener tester execut arbitrari command anticip output return code accept criteria nonzero return code accept pass report record return code system standard output return command filetest intermedi base class run moosebas command expect process file written moosebas simul anticip output file creat result execut applic accept criteria file creat result accept pass report record list file miss upon failur runexcept tester expect applic produc warn error base bad input miss file permiss etc anticip output nonzero exist statu error messag accept criteria exit statu nonzero error messag present result accept pass report record return code system standard output return applic checkfil tester look creation specif file simul run without regard content file anticip output file creat expect content accept criteria file creat desir content exist result accept pass report record list file creat miss content exodiff compar exodusii format file output simul check repositori gold standard given test within numer toler anticip output exodusii file creat result execut applic accept criteria file creat match known gold standard result accept pass report record upon failur report detail differ file csvdiff compar csv format file output simul check repositori gold standard given test within numer toler anticip output csv file creat result execut applic accept criteria file creat match known gold standard result accept pass report record upon failur report detail differ file imagediff compar variou imag format file output simul check repositori gold standard given test within toler anticip output imag file creat result execut applic accept criteria file creat match known gold standard result accept pass report record upon failur report detail differ file vtkdiff compar vtk format file output simul check repositori gold standard given test within numer toler anticip output vtk file creat result execut applic accept criteria file creat match known gold standard result accept pass report record upon failur report detail differ file jacobiantest append addit argument command line trigger special solver mode purpos produc finitediffer jacobian compar jacobian produc simul anticip output return code accept criteria simul valu match finitediffer result accept pass report record upon failur report detail differ jacobian templateend templat item keyhumanresourc test acmoos moosebas applic requir minim human resourc system engin requir ensur proper endus environ setup proper system prerequisit project lead need verifi autom test system oper correctli prior releas templat item keyhardwaresoftwareresourc specif endus environ requir custom specif must suppli system engin prepar environ altern remot access avail endus system system engin may grant proper permiss assist set environ custom system specif custom requir specif releas acmoos moosebas applic test standard support build system configur system gener modern linux maco distribut recent compil specif inform test environ releas store releas templateend templat item keyservicesappl acmoos moosebas applic gener requir addit resourc beyond endus system softwar instal instal either internet connect media contain softwar must avail instal softwar internet connect requir instal endus system templat item keytaskrespons creation execut test case part chang control process associ role reponsibilti minim task respons role complet program test case contributor review test case autom result independ review review approv final result releas project lead templateend third parti librari list page function collect librari softwar packag moos framework use page structur around key compon make entir moos framework suit moos pythonhttpswwwpythonorg llvmhttpsllvmorg gcchttpsgccgnuorg mpichhttpswwwmpichorg petschttpswwwmcsanlgovpetsc libmeshhttpslibmeshgithubio moosedoc pythonhttpswwwpythonorg pandashttpspandaspydataorg livereloadhttpslivereloadreadthedocsioenlatest yamlhttpsyamlorg pyyamlhttpspyyamlorg beauti souphttpswwwcrummycomsoftwarebeautifulsoup pybtexhttpspybtexorg mockhttpsmockreadthedocsioenlatest lxmlhttpslxmlde jinjahttpspalletsprojectscompjinja makohttpswwwmakotemplatesorg peacock pythonhttpswwwpythonorg qthttpswwwqtio vtkhttpsvtkorg pyqthttpswwwriverbankcomputingcomsoftwarepyqt matplotlibhttpsmatplotliborg yamlhttpsyamlorg pyyamlhttpspyyamlorg minimum system requir gener follow requir moosebas develop gccclang c compliant compil gcc packageminimum_gcc clang packageminimum_clang greater note intel compil support memori gb debug build processor bit x disk gb templat load filefarmdtempl projectframework templat item keyintroduct moos moosebas applic design oper librari function librari may tailor solv certain set equat abil creat arbitrari simul exist flexibl exist design within framework modul applic respect perform failur analysi flexibl detriment sinc lack defin problem ass minim possibl failur simul variou autom method exist develop document discuss featur includ list requir associ softwar failur analysi templateend templat item keyfailureanalysi moos three primari method handl simul failur rang input error simul converg problem potenti failur associ handl failur ubiquit across moos moosebas applic next three section detail handl common sourc failur input file syntax failur input paramet error converg failur complement automat handl three failur mechan moos test system includ mechan creat test verifi error captur report correctli test method detail failuretest section input file failur input file pars see parserparsermd automat handl syntax mistak report error exampl consid follow input file contain miss close bracket list parserhit_errorhit_errori input file execut applic automat report error associ line number occur follow text hit_errori miss close section input paramet error idinputparametererror input paramet system see utilsinputparametersmd second step input file pars system detail avail input object system allow paramet mark requir provid default check correct rang name exampl consid validparam function defin requir paramet must suppli input file list testsrckernelscoeffparamdiffusionc startmoosedocsstart endmoosedocsend includestartfals input file includ paramet shown provid error detail regard miss paramet list param_errorparam_errori blockkernel text param_errori miss requir paramet kernelsdiffusiond doc string diffus coeffici converg failur moos includ automat method handl converg failur numer solv attempt fail exit error indic fail solv reason default transient simul fail solv time step timestep automat cut solv reattempt cutback continu solv converg minimum allow timestep reach exampl follow input execut demonstr behavior input file includ custom timestepp block default similar behavior exist list cutback_factor_at_failureconstant_dt_cutbacki blockexecution execut input file time step fail converg timestep dt cut suppli factor solv reattempt converg nonconverg iter reason result solv display text time step time dt nonlinear r e linear r e linear r e linear r e linear r e linear solv converg due converged_rtol iter nonlinear r e linear r e linear r e linear r e linear r e linear solv converg due converged_rtol iter nonlinear r e nonlinear solv converg due converged_fnorm_rel iter solv converg abort solv converg time step time dt nonlinear r e linear r e linear r e linear r e linear r e linear solv converg due converged_rtol iter nonlinear r e linear r e linear r e linear r e linear r e linear solv converg due converged_rtol iter nonlinear r e nonlinear solv converg due converged_fnorm_rel iter solv converg failur test idfailuretest gener failur test use test type runexcept see framework_stpmd exampl test provid test exist previou input parser exampl inputparametererror default runexcept test list list requir failureanalysisrequir compris failur analysi list param_errortest templateend templat item keyfailureanalysisrequir sqa requir linktru collectionsfailure_analysi categoryframework templat load filevvrmdtempl categoryframework projectframework acmoos scope provid set interfac build acfem simul abstract underli librari provid solv coupl problem compet physic phenomena impact one signific nonlinear fashion repres seriou challeng sever solut strategi small perturb stronglycoupl paramet often larg advers effect converg behavior advers effect compound addit physic ad model overcom challeng acmoos employ three distinct yet compat system solv type problem first advanc numer techniqu call acjfnk method employ solv fullycoupl physic accur consist way exampl would effect temperatur expans contract materi acjfnk numer method effect solv fullycoupl equat also comput expens plu physic phenomena given model truli coupl one anoth instanc reactor speed coolant flow may direct effect complex chemic reaction take place insid fuel rod call model looselycoupl robust scalabl system must strike proper balanc variou model strategi avoid perform unnecessari comput incorrectli predict behavior situat acmoos multiapp system allow model group physic logic categori acmoos solv group fullycoupl other looselycoupl multiapp system goe even also support tightlycoupl strategi fall somewher fullycoupl looselycoupl approach sever set physic link togeth logic hierarchi use one coupl strategi allow sever potenti solut strategi instanc complex nuclear reactor model might consist sever tightlycoupl system fullycoupl equat final acmoos transfer system tie physic group contain within multiapp system togeth allow full control flow inform among variou group capabl bridg physic phenomena sever differ complementari scale simultan three acmoos system combin myriad coupl combin possibl case acmoos framework handl parallel commun input output execut underli simul handl comput scienc task acmoos framework keep model focus research acmoos innov build advanc simul capabl top best avail softwar technolog way make wide access innov research acmoos equal capabl solv small model common laptop biggest fem model ever attemptedal without major chang configur sourc code sinc incept acmoos project focus develop comput effici improv develop effici achiev leverag exist algorithm technolog sever lead opensourc packag addit acmoos use sever complementari parallel technolog distributedmemori messag pass paradigm sharedmemori threadbas approach use lay effici comput foundat develop use exist open technolog manner help develop reduc scope project keep size acmoos code base maintain approach provid user stateoftheart finit element solver technolog basi advanc coupl solut strategi mention previous acmoos develop work openli packag develop make sure cuttingedg technolog avail acmoos provid research competit research opportun acmoos maintain set object hide parallel interfac expos advanc spatial tempor coupl algorithm framework access approach place development technolog hand scientist engin speed pace scientif discoveri softwar design fewest possibl constraint ideal softwar run wide varieti evolv hardwar follow welladopt standard guidelin softwar run acposix compliant system softwar also make use fem numer librari run acposix system well main interfac softwar command line base assumpt requir advanc termin capabl color line control templat load filesrsmdtempl projectframework templat item keysystempurpos includ sqasystem_purposemd templateend templat item keysystemscop includ sqasystem_scopemd templateend templat item keysystemcontext acmoos commandlin driven applic typic highperform softwar design run across sever node cluster system usag softwar standard termin program gener avail support oper system similarli purpos interact softwar singl user user interact softwar commandlin moos maintain backend databas interact system daemon execut may launch command line write variou result file run media mediasqausage_diagram_umlsvg idusage_diagram captionusag acmoos acmoosebas applic stylewidth templateend templat item keysystemfunct sinc acmoos commandlin driven applic function provid framework oper use standard unix command line flag extend moos input file framework complet extend individu design page consult specif behavior userdefin object templateend templat item keyusercharacterist framework develop core develop framework respons follow enforc appropri softwar develop standard respons design implement maintain softwar develop scientist engin util framework build applic user typic background model simul techniqu andor numer analysi may limit skillset come objectori code c languag primari focu group mani case develop encourag give code back framework maintain analyst user run code perform variou analysi simul perform user may interact develop system request new featur report bug found typic make heavi use input file format templateend templat item keyassumptionsanddepend includ sqaassumptions_and_dependenciesmd templateend templat item keydefinit verif process evalu system compon determin whether product given develop phase satisfi condit impos start phase formal proof program correct eg requir design implement review system test citepisosystemssoftwar templateend templat item keyacronym acronym list templateend templat item keyminimumrequir acposix compliant unix includ two recent version maco current version linux gb ram optim compil gb debug compil gb per core execut gb disk space c compat compil gcc clang python git templateend templat item keyfunctionalrequir sqa requir linkfals collectionsfunct categoryframework templat item keyusabilityrequir sqa requir linkfals collectionsus categoryframework templat item keyperformancerequir sqa requir linkfals collectionsperform categoryframework templat item keysysteminterfacesrequir sqa requir linkfals collectionssystem categoryframework templat item keyhumansystemintegr acmoos command line driven applic conform standard termin behavior specif human system interact accommod shall function endus termin moos support option color within termin abil display color may disabl templateend templat item keymaintain latest work version defin version pass test current regress test suit shall publicli avail time repositori host provid flaw identifi system shall report track ticket issu base system technic lead determin sever prioriti report issu assign resourc discret resolv identifi issu softwar maintain entertain propos chang system time manner within two busi day core framework entireti made publicli avail aclgpl version licens templateend templat item keyreli regress test suit cover least line code time known regress record track see maintain independ satisfactori resolut templateend templat item keyinformationmanag core framework entireti made publicli avail appropri repositori host site backup secur servic provid host servic templateend templat item keyverif regress test suit employ sever verif test use comparison known analyt solut method manufactur solut converg rate analysi templateend templat item keysystemmod acmoos applic normal run normal execut mode input file suppli howev mode trigger variou command line flag indic command line flag descript mode input_fil normal execut mode splitmesh split read mesh block split mesh two piec use subsequ run usesplit inpli flag execut simul use presplit mesh file instead mesh input file yaml output object descript avail paramet yaml format json output object descript avail paramet json format syntax output regist syntax registri output known object action registryhit output known object action hit format meshonli impli flag run mesh relat task output final mesh would use simul startindebugg debugg start simul attach suppli debugg alert note list systemmod may extens system design extend endus applic complet list command line option applic obtain run execut zero argument see command line usagecommand_line_usagemd optionaltru templateend templat item keyphysicalcharacterist acmoos softwar associ physic media see systemrequir descript minimum requir hardwar necessari run acmoosebas applic templateend templat item keyenvironmentalcondit applic templateend templat item keysystemsecur acmoos base applic requir special need relat systemsecur framework design run complet userspac elev privileg requir recommend templateend templat item keypoliciesandregul acmoosebas applic must compli export control restrict templateend templat item keysystemlifecycl acmoosebas develop follow variou agil method system continu built deploy piecem fashion sinc object within system less independ everi new object requir test turn requir associ requir design descript acmoosebas develop team follow acnqa standard templateend templat item keypackag special requir need packag ship media contain acmoos sourc code howev acmoosebas applic mayb export control case export control restrict must adher packag ship media templateend acinl softwar qualiti record sever softwar qualityrel document record avail access acinl network instruct access document provid store way moosebas applic appropri use name actual applic interest search alert warn titleacinl network requir access follow document must acinl network acronym acronym list acsqap idsoftware_quality_assurance_plan acsqap use titl softwar qualiti assur plan moos moosebas applic pln plan lay specif moos moosebas applic ensur lifecycl activ plan perform traceabl orderli manner includ requir accmp acvvp acsqp pln access acinl network follow nucleu home page select az alphabet list select edm enter pln document id field select submit select doc viewer arrow select record file pdf acea record identerprise_architecture_entri acea record access acinl network follow nucleu home page select az alphabet list select ctmcapabl technolog manag begin type name applic search box upper right corner screen search complet click ellips three dot left applic name select view detail acssd idsafety_software_determin acssd access acinl network follow acea detail screen applic refer enterprise_architecture_entri select gener tab scroll bottom screen relat artifact section select safeti softwar determin acqld idquality_level_determin acqld access acinl network follow acea detail screen applic refer enterprise_architecture_entri select gener tab scroll bottom screen relat artifact section select qualiti level determin configur manag plan cmp idconfiguration_management_plan accmp includ acsqap see software_quality_assurance_plan verif valid plan vvp idverification_and_validation_plan acvvp includ acsqap see software_quality_assurance_plan softwar qualiti plan sqp idsoftware_quality_plan acsqp includ acsqap see software_quality_assurance_plan acamp idasset_maintenance_plan accord acinl aclwp manag inform technolog asset lwp acit asset mainten plan equival must creat end user specifi softwar applic manag deploy use see acinl templat asset mainten plan templat tem inform templat load fileccimdtempl projectacmoos templat item keygeneralcommun pleas use moos discuss forumhttpsgithubcomidaholabmoosediscuss question inquir templat item keyproblemreport problem specif releas acmoos pleas contact team use moos discuss forumhttpsgithubcomidaholabmoosediscuss sure includ releas inform inquiri templat item keycontribut pleas refer frameworkcontributingmd instruct detail regard help improv acmoos use perform system interfac moos usabl moosebas applic design oper commandlin singl binari applic binari execut produc list avail option execut without argument practic binari expect input file defin simul perform moose_testopt inputi commandlin interfac includ abil add overrid paramet within suppli input file commandlin accomplish ad paramet modifi use full syntax end command moose_testopt inputi meshuniform_refin invalid input commandlin provid binari applic produc error messag aid correct mistak simul binari begin display inform regard current applic depend current execut perform moosebas applic design oper parallel distribut andor share memori parallel oper modern maco linux oper system distribut memori oper use acmpi share memori oper may use varieti model openmphttpswwwopenmporg pthreadshttpscomputingllnlgovtutorialspthread system interfac moosebas applic may compil modern clanghttpsclangllvmorg gcchttpsgccgnuorg c compil applic also support option packag via libmesh petsc configur exampl includ mumpshttpmumpsenseeihtfr superluhttpsportalnerscgovprojectsparsesuperlu solver packag pleas refer document libmesh petsc detail templat load filertmmdtempl projectframework templat item keyminimum_requir includ sqaminimum_requirementsmd mani flavor modern linux two recent version mac os x templateend templat item keysystempurpos includ sqasystem_purposemd templateend templat item keysystemscop includ sqasystem_scopemd templateend templat item keyassumptionsanddepend includ sqaassumptions_and_dependenciesmd templateend templat item keypretest ideal test perform clean test machin follow one support configur setup test system engin test may perform local workstat cluster system contain support oper system repositori clean prior build test use git done forc clean main repositori one submodul git clean xfd git submodul foreach git clean xfd test must pass accord type test perform list found softwar test plansqaframework_stpmd templateend templat item keyfunctionalrequir sqa requir collectionsfunct categoryframework templat item keyusabilityrequir sqa requir collectionsus categoryframework templat item keyperformancerequir sqa requir collectionsperform categoryframework templat item keysysteminterfacesrequir sqa requir collectionssystem categoryframework templat load filesqascsmdtempl acmoos use clangformathttpsclangllvmorgdocsclangformathtml format c code repositori applic format enforc check code contribut see frameworkcontributingmd detail configur file format provid clangformathttpsgithubcomidaholabmooseblobdevelclangformat file clang instal follow command automat format code chang current branch suppli branch omit default head git clangformat branch autom test occur pull request produc diff chang need conform standard gener style guidelin includ singl space around binari oper space around unari oper space insid bracket parenthesi express avoid brace singl statement control statement ie etc c constructor space demonstr bottom exampl file layout header file h extens header file alway go either includ subdirectori includ c sourc file c extens sourc file go src subdirectori src file header sourc file name must match name class file defin henc set h c file contain code singl class helper class class expos user except rule srcclassnamec includeclassnameh name classnam class name util camel case note h c filenam must match class name methodnam method function name util camel case lead letter lower case _member_vari member variabl begin underscor lower case use underscor word local_vari local variabl lowercas begin letter use underscor word use c auto keyword use auto unless complic readabl use function method declar make sure variabl good name use auto c auto dof elemdof_numb auto obj getsomeobject auto elem_it meshactive_local_elements_begin auto item_pair mapfindsome_item use refer auto objbegin objend dosometh use refer auto obj contain dosometh index variabl loop construct keep good auto practic would realli nice could use auto loop indic place rang loop arent conveni possibl unfortun natur code one would like write yield warn default compil flag c auto vsize dont warn comparison integ differ sign int std__vectorint std__allocatorint size_typ aka unsign long alert note warn stem fact numer liter c treat sign int suffix appli liter forc correct type sure realli know correct type think unsign int major unfortun also wrong right type contain size_typ aka unsign long see error messag ideal solut would match type loop slightli difficult use decltyp due qualifi like const moos solv mooseindex c loop scalar index mooseindexn_nod node someth index loop contain size rangefor isnt suffici mooseindexvector vectors someth index lambda list captur variabl valu refer captur list explicitli possibl c stdfor_eachcontainerbegin containerend local_varfoo foo fooitem local_var c note use overrid keyword overridden virtual method use stdmake_sharedt alloc new memori share pointer use stdmake_uniquet alloc new memori uniqu pointer make use stdmove effici possibl variabl initi creat new variabl use pattern c unsign int builtin type someobject junk object someobject stuff new someobject pointer trail whitespac tab tab trail whitespac allow c repositori run follow onelin root directori repositori format code correctli bash find name chi name py xarg perl pli e ss c includ includ thing absolut necessari header file pleas use forward declar possibl c forward declar class someth nonsystem includ use quot singl space includ filenam c includ localincludeh includ libmeshlibmesh_includeh includ system_librari document sourc document extens design toward softwar develop format use doxygenhttpswwwdoxygennlindexhtml python possibl follow rule python modif four space use indent member variabl name follow python class myclass def __init__self selfpublic_memb self_protected_memb self__private_memb code command use refer instead pointer whenev possibl ie object live shorter period time object need refer method return pointer object return object store pointer refer return object store refer creat new class includ depend header file c file whenev possibl ie header use refer pointer variou declar use forward declar header file need one except would requir end user includ multipl file complet definit child object error typic show incomplet class someth similar compil avoid use global variabl possibl everi destructor must virtual function definit c file except inlin function speed templat thou shalt commit accident insert stdmap use bracket righthand side oper unless prove provid cant fail thou shalt use rangebas loop mooseindex base loop iter acmoos tool solv complex coupl multiphys equat use finit element method acmoos use objectori design abstract data structur manag parallel thread compil provid easi use interfac target engin may lot softwar develop experi acmoos requir extrem scalabl flexibl compar fem framework instanc acmoos need abil run extrem complex materi model even thirdparti applic within parallel simul without sacrif parallel capabl contrast often seen commerci packag custom materi model limit parallel scalabl forc serial run sever case compar highend capabl mani acmoos competitor target modests cluster thousand process core acmoos howev requir routin execut much larger cluster scalabl cluster avail top system toporghttpwwwtoporg acmoos also target smaller system highend laptop comput design goal acmoos give develop ultim control physic model applic design new model solv complet new class problem accomplish write standard c sourc code within framework class hierarchi scientist engin free implement complet new algorithm use piec framework possibl extend framework capabl make sens commerci applic capabl instead opt either rigid paramet system limit applicationspecif metalanguag templat load filesllmdtempl categoryframework projectmoos libmesh acmoos reli libmesh summar follow project websit libmeshgithubiohttpslibmeshgithubio libmesh librari provid framework numer simul partial differenti equat use arbitrari unstructur discret serial parallel platform major goal librari provid support adapt mesh refin amr comput parallel allow research scientist focu physic model current version libmesh gitsubmodulehash urlhttpsgithubcomlibmeshlibmeshcommitlibmesh acpetsc acmoos reli acpetsc summar follow project websit wwwmcsanlgovpetschttpswwwmcsanlgovpetsc acpetsc pronounc petse silent suit data structur routin scalabl parallel solut scientif applic model partial differenti equat support mpi gpu cuda opencl well hybrid mpigpu parallel petsc sometim call petsctao also contain tao optim softwar librari current version acpetsc gitsubmodulehash urlhttpsgithubcompetscpetsccommitpetsc templat load filesddmdtempl categoryframework projectframework templat item keyintroduct framework softwar develop construct aim simplifi creation specif class applic abstract lowlevel detail main object creat framework provid interfac applic develop save time provid advanc capabl attain otherwis acmoos mission provid framework engin scientist build stateoftheart comput scalabl finit element base simul tool acmoos conceiv one major object easi straightforward use scientist engin possibl acmoos meant approach noncomput scientist system acpd need solv everi singl aspect acmoos driven singular principl build system api softwar develop cycl everi turn decis made enabl class user success framework pursuit goal led mani uniqu featur acmoos streamlin build system api aim extens straightforward api provid sensibl default inform integr automat rigor test rapid continu integr develop cycl codifi rigor path contribut applic modular compos characterist meant build trust framework attempt use instanc build system first thing potenti framework user come contact download new softwar framework oner depend issu complic hard follow instruct build failur result user pass platform ultim decis util framework come whether trust code framework develop abl support desir usecas matter technic capabl framework without trust user look elsewher especi true train softwar develop comput scienc develop trust framework goe beyond util best practic code develop equal import framework built upon tool trust reason acmoos reli wellestablish code base libmesh petsc libmesh librari provid foundat capabl finit element method provid interfac leadingedg numer solut packag petsc principl mind open sourc massiv parallel finit element multiphys framework conceiv acmoos ongo project start aim toward common platform creation new multiphys tool document provid design detail pertin applic develop well framework develop use case moos framework target two main group actor develop user develop main use case typic student profession train scienc engin field level experi code typic littl formal softwar develop train user group user intend use applic built upon framework without write comput code instead may modifi creat input file drive simul run applic analyz result interact moos primarili commandlin interfac customiz blockbas input file templateend templat item keysystempurpos softwar design descript provid descript object system pluggabl architectur framework make acmoos acmoosebas applic straightforward develop piec endus develop code goe system follow welldefin interfac underli system object plug descript provid developersuppli markdown file requir new object develop part framework modul deriv applic inform design document found frameworkdocumentingmd templateend templat item keysystemscop purpos softwar provid sever librari use build applic base upon framework addit sever util provid assist develop user endtoend acfem analysi brief overview major compon list compon descript framework librari base system moosebas applic creat modul librari option physic librari may use applic provid capabl build system system respons creat applic seri librari applic test har extend test system find schedul run report regress test peacock acgui build input file execut applic display result moosedoc extend markdown system moos provid common document requir enforc stork script templat gener new moosebas applic readi build test exampl set complet applic demonstr use acmoos pluggabl system tutori step step guid build applic use acmoos pluggabl system unit applic unit test individu class method c code templateend templat item keydependenciesandlimit acmoos platform sever depend softwar packag scope constantli evolv base upon fund resourc prioriti lab direct howev softwar opensourc mani featur even bug offload develop appropri level knowledg direct main design team primari list softwar depend list list meant exhaust individu oper system may requir specif packag instal prior use moos found instal moosegetting_startedinstallationindexmd optionaltru page softwar depend descript libmeshhttpslibmeshgithubio finit element librari io routin petschttpswwwmcsanlgovpetsc solver packag hyprehttpscomputingllnlgovprojectshyprescalablelinearsolversmultigridmethod multigrid precondition mpi distribut parallel process librari mpichhttpswwwmpichorg media mediasqacode_platformpng idcode_platform captiona diagram moos code platform stylewidth templateend templat item keydefinit pull merg request propos chang softwar eg usual code chang may also includ document requir design andor test baselin specif product eg project plan mainten oper mo plan requir design formal review agre upon thereaft serv basi use develop chang use approv chang control process nqa valid confirm provis object evid eg accept test requir specif intend use applic fulfil e verif process evalu system compon determin whether product given develop phase satisfi condit impos start phase formal proof program correct eg requir design implement review system test e templateend templat item keyacronym acronym list templateend templat item keydesignstakehold stakehold acmoos includ sever fund sourc includ acdoen acinl howev sinc acmoos opensourc project sever univers compani foreign govern interest develop mainten acmoos project templateend templat item keystakeholderdesignconcern concern mani stakehold similar concern includ correct stabil perform mitig plan address correct acmoos develop requir either regress unit test new code ad repositori project contain sever comparison analyt solut possibl also verif method mmspythonmmsmd optionaltru stabil acmoos maintain multipl branch incorpor sever layer test intern depend applic final perform test also perform part normal test suit monitor code chang impact perform templateend templat item keysystemdesign moos framework compos wide rang pluggabl system system gener compos singl small set c object intend special develop solv specif problem accomplish design goal moos use sever modern objectori design pattern primari overarch pattern factori pattern user need extend moos may inherit one moos system provid implement meet need design system document mooseframeworkorg wiki tutori section addit uptod document extract sourc maintain mooseframeworkorg document site everi success merg moos stabl branch object creat regist framework use immedi moos input file templateend templat item keysystemstructur moos framework architectur consist core sever pluggabl system core moos consist number key object respons set manag userdefin object finit element simul core set object limit extend exist everi simul configur framework capabl run syntax list subsystemstru actionsfals objectsfals mooseapp toplevel object use hold object simul normal simul singl mooseapp object creat run object use factori object build user defin object store seri warehous object execut finit element data store system assembl object domain inform mesh store mesh object seri thread loop use run parallel calcul object creat store within warehous moos pluggabl system document mooseframeworkorg wiki system set defin polymorph interfac design accomplish specif task within simul design system fluid manag agil method ticket request system githuborg websit templateend templat item keydatadesignandcontrol high level system design process achit input file construct sever object constitut acf simul object simul may turn load filebas resourc complet simul exampl includ mesh data file system assembl system equat solv use librari code platformdependenciesandlimit system output solut one support output format commonli use visual templateend templat item keyhumanmachineinterfacedesign moos commandlin driven program interact moos moosebas code ultim done command line typic achpc applic use acmpi interfac run super comput cluster option gui may use assist creat input file launch execut command line templateend templat item keysystemdesigninterfac extern system interact perform either file acio local acapi call neither framework modul design interact extern system directli remot procedur call code code coupl perform use framework done directli api call either static binari load share librari templateend templat item keysecuritystructur framework requir elev privileg oper run state servic daemon network program distribut run reli acmpi librari templateend templat item keyrequirementscrossrefer sqa crossrefer categoryframework templateend requir softwar requir specif sr creat set requir must correct complet consist unambiqu rank verifi modifi traceabl citepieeerecommend within moos decis made test requir relationship dictat standard decis made allow characterist satisfi maintain manner follow section detail characterist respect implement within moos alert note titlewrit requir prefixfals practic creat requir text one aforement characterist realli must consid unambigu characterist gener satisfi automat design natur test document system implement write requir simpli ask question requir unambigu test creat specif reason requir text reflect fact use mean commun test test ie softwar requir perform satisfi test note requir fairli concis gener longer sentenc requir longer sentenc consid transfer content accompani design markdown file alertend correct sr correct everi requir state therein one softwar shall meet citepieeerecommend definit sr correct necessit requir satisfi onetoon relationship test requir make verifi correct trivial oper may autom within moos test must pass thu requir met code merg stabl master branch complet sr complet requir acknowledg treat respons softwar realiz class input invalid valid exist refer figur tabl diagram sr valid citepieeerecommend requir clearli defin within test specif allow list requir automat gener therefor requir guarante acknowledg test creat specif quantifi verifi respons softwar input valid invalid word realiz import practic test input sinc number input infinit shortcom end indic lack suffici test test complet sr complet moosedoc system guarante refer tabl figur diagram valid test fail refer defin consist sr agre higherlevel document correct citepieeerecommend sr associ document refer requir within moos automat gener within moosedoc system system maintain interconnect document agreement error gener prior document merg releas stabl master branch unambigu sr unambigu everi requir state therein one interpret citepieeerecommend characterist along verifi drive factor creat onetoon connect test requir test creat specif reason test specif featur within softwar associ requir becom unambigu natur welldesign test requir also serv document test use gener outsid sr rank sr rank import requir identifi indic import stabil particular requir citepieeerecommend within moos testsrequir rank import state sr must correct necessit requir met therefor rank irrelev verifi sr verifi exist process person machin check softwar product meet requir citepieeerecommend characterist sr drive factor behind onetoon relationship requir test connect sr verifi machin simpli test pass modifi sr modifi chang requir made easili complet consist retain structur style citepieeerecommend embed requir within test specif treat text requir code coupl automat creat document use moosedoc chang requir automat retain proper style chang natur easi develop chang made along tradit sourc code addit delet alter traceabl sr traceabl origin requir clear facilit referenc requir futur develop enhanc document citepieeerecommend requir embed code repositori case moos git repositori natur treat code complet histori requir track time bibtex bibliographi complet syntax syntax complet headingnon materi system materi system primari mechan defin spatial vari properti system allow properti defin singl object materi share among mani system kernelsyntaxkernelsindexmd boundaryconditionsyntaxbcsindexmd system materi object design directli coupl solut variabl well materi therefor allow captur true nonlinear behavior equat materi system reli producerconsum relationship materi object produc properti object includ materi consum properti properti produc demand thu comput valu alway date exampl properti reli solut variabl eg thermal conduct function temperatur comput current temperatur solv iter properti tightli coupl materi system support use automat differenti properti calcul two approach produc consum properti without automat differenti follow section detail produc consum properti use two approach understand automat differenti pleas refer automatic_differentiationindexmd page inform proceed section briefli describ differ aspect materi object produc comput properti well object consum properti exampl materi object creat use pleas refer ex_materialsmd optionaltru producingcomput properti properti must produc materi object declar properti one two method declarepropertytypeproperty_nam declar properti name property_nam comput materi object declareadpropertytyp declar properti name property_nam comput materi object includ automat differenti type valid c type int real stdvectorr properti must comput within computeqpproperti method defin within object properti name arbitrari name properti name set correspond valu comput eg diffus name provid name use consum properti inform name provid propertynam section exampl consid simul requir diffus term materi object header properti declar c sinc follow list ex_materialsincludematerialsexamplematerialh line_diffus properti either materialpropertytyp admaterialpropertytyp must nonconst refer type c type exampl scalar real number use sourc file refer initi initi list use aforement declar function follow declar properti materi properti sens comput list ex_materialssrcmaterialsexamplematerialc line_diffusivitydeclar final step produc properti comput valu comput occur within materi object computeqpproperti method method name suggest purpos method comput valu properti quadratur point method virtual method must overridden header virtual method declar c sens list ex_materialsincludematerialsexamplematerialh linecomputeqpproperti sourc file method defin current exampl definit comput diffus well anoth term refer ex_materialsmd optionaltru list ex_materialssrcmaterialsexamplematerialc startexamplematerialcomputeqpproperti purpos content method assign valu properti quadratur point recal _diffus refer materialproperti type materialproperti type contain store valu properti quadratur point therefor contain must index _qp comput valu specif quadratur point consum properti object requir materi properti consum use one two function getmaterialpropertytypeproperty_nam retriev properti name property_nam consum object getadmaterialpropertytypeproperty_nam retriev properti name property_nam consum object includ automat differenti object consum properti basic procedur follow first consum object header file materialproperti correct type eg real diffus exampl declar c sens follow notic member variabl const refer const import consum object modifi properti use properti mark constant list ex_materialsincludekernelsexamplediffusionh line_diffus sourc file refer initi initi list use aforement get method method initi _diffus member variabl refer desir valu properti comput materi object list ex_materialssrckernelsexamplediffusionc line_diffusivityget name use get method diffus case arbitrari name correspond name use declar properti materi object alert note titleth declareget call must correspond materi properti declar automat differenti ad use declareadproperti must consum getadmaterialproperti true nonautomat differenti properti declar declareproperti must consum getmaterialproperti method option properti object weakli coupl materi properti may may exist getoptionalmaterialpropertytypeproperty_nam retriev option properti name property_nam consum object getoptionaladmaterialpropertytypeproperty_nam retriev option properti name property_nam consum object includ automat differenti api return refer option materi properti optionalmaterialproperti optionaladmaterialproperti request properti provid materi refer evalu fals consum object respons check access materi properti data note state return refer final _after_ materi construct valid check must _not_ made constructor materi class either time first use computeqpproperti initialsetup properti name idpropertynam creat materi object declar properti shall comput often desir allow properti name chang via input file may accomplish ad input paramet assign name exampl consid exampl follow code snippet add input paramet diffusivity_nam allow input file set name diffus properti default name remain diffus c paramsaddparammaterialpropertynamediffusivity_nam diffus name diffus materi properti materi object declar function simpli chang use paramet name rather string default properti declar name diffus list ex_materialssrcmaterialsexamplematerialc line_diffusivitydeclar replacediffus diffusivity_nam howev user want alter name someth els not_diffus input paramet diffusivity_nam simpli ad input file block materi text materi exampl type examplemateri diffusivity_nam not_diffus consum side get method requir use name not_diffus retriev properti consum object also use procedur allow custom properti name ad paramet use paramet name get method fashion default materi properti materialpropertynam input paramet also provid abil set default valu scalar real properti exampl input file use number pars function see mooseparsedfunctionmd defin properti valu exampl input snippet could set constant valu text materi exampl type examplemateri diffusivity_nam state materi properti gener properti comput demand store howev case valu materi properti previou timestep may requir access properti two method exist getmaterialpropertyoldtyp return refer properti previou timestep getmaterialpropertyoldertyp return refer properti two timestep current often refer state variabl moos refer state materi properti state materi properti usual comput demand alert warn titlest properti increas memori use state properti request one method longer case comput valu also store everi quadratur point everi element state properti becom memori intens especi properti store vector tensor valu materi properti output output materi properti enabl set output paramet follow exampl creat two addit variabl call mat mat show output file list output_blocki blockmateri output materi properti arbitrari c type type output follow tabl list type properti avail automat output type auxkernel variabl name real materialrealaux prop realvectorvalu materialrealvectorvalueaux prop_ prop_ prop_ realtensorvalu materialrealtensorvalueaux prop_ prop_ prop_ prop_ etc materi sort materi sort one materi may consum properti produc anoth materi know consum properti uptod eg produc materi execut consum materi cyclic depend detect two materi moos produc error functor materi properti idfunctorprop functor materi properti properti evalu onthefli eg view function current locat space time functor materi properti provid sever overload oper method differ geometr quantiti one exampl geometr quantiti const elem eg fvelementalkernel valu functor materi properti cellaverag sens obtain syntax _foo_current_elem _foo functor materi properti data member kernel functor materi properti system introduc api similar tradit materi properti system declar get properti declar functor properti declarefunctorpropertytyp type anyth real adreal realvectorvalu adrealvectorvalu etc get functor materi properti getfunctortyp worth note wherea tradit regular materi properti system differ method declareget nonad ad properti new functor system singl api nonad ad properti type current functor materi properti evalu defin use api c templat typenam templat typenam polymorphiclambda void functormaterialpropertyt setfunctorconst moosemesh mesh const stdsetsubdomainid block_id polymorphiclambda my_lammi first two argument use setup block restrict last argument lambda defin properti evalu lambda must callabl two argument first correspond space second correspond time must return type functormaterialproperti exampl set constant functor materi properti return adreal look like c _constant_unity_propsetfunctor _mesh blockid const auto const auto adreal return exampl functor materi properti depend nonlinear variabl would look like c _u_propsetfunctor_mesh blockid thisconst auto r const auto adreal return _u_varr exampl simpli forward call argument along variabl variabl functor implement describ moosevariablebasemdfunctorvar test functor materi class setup dummi euler problem shown list testsrcmaterialsadcoupledvelocitymaterialc follow subsect describ variou spatial argument functor materi properti evalu almost functor materi develop concern detail materi properti function appear function space time eg lambda defin properti evalu appli across spatial tempor argument howev case functor materi develop wish creat specif implement specif argument illustr imakemyownfunctorprop test class simpli wish know system give detail call functor materi properti look like follow _fooconst spatialarg r const temporalarg possibl type overload spatialarg facearg idspatialoverload typedef defin face evalu call argument compos face inform object defin locat space limit defin functor evalu either side face interpol face boolean state whether face inform element upwind face pair subdomain id alway correspond face info element subdomain id face info neighbor subdomain id instanc flux kernel oper subdomain boundari kernel defin one side passedin subdomain id correspond subdomain id flux kernel defin elemfromfacearg peopl think geometr argument correspond locat space provid element centroid corresond locat provid face inform summari data argument element whose centroid think evalu point possibl element nullptr case evalu point thought locat ghost element centroid face inform object provid element null instanc functori variabl exist provid element subdomain face inform object use help construct ghost valu evalu subdomain id use functor materi properti user want indic materi properti definit use evalu functor instanc use flux kernel defin one side face subdomain id allow us comput ghost materi properti evalu elemqparg argument request functor evalu quadratur point locat element data argument element contain quadratur point quadratur point index eg n quadratur point request evalu ith point quadratur rule use initi functor given element functor materi properti function nonlinear degre freedom evalu argument like result call libmesh fereinit elemsideqparg argument request functor evalu quadratur point locat element side data argument element element side quadratur point locat quadratur point index eg n quadratur point request evalu ith point quadratur rule use initi functor given element side functor materi properti function nonlinear degre freedom evalu argument like result call libmesh fereinit functor cach default functor materi properti alway reevalu everi time call oper howev base class functormaterialproperti inherit moosefunctor setcacheclearancescheduleconst stdsetexecflagtyp clearance_schedul api allow control evalu support valu clearance_schedul combin exec_alway exec_timestep_begin exec_linear exec_nonlinear caus cach evalu functor materi properti clear alway fact surprisingli case never fill cach timestepsetup residualsetup jacobiansetup respect functor expect depend nonlinear degre freedom cach clear exec_linear exec_nonlinear default exec_alway would obvious also work order achiev perfect jacobian surprisingli functor evalu cach memori usag increas alert note titlecach implement functor cach current implement elemqparg elemsideqparg spatial overload idea call fereinit fairli expens wherea spatial argument type evalu functor materi properti may rel inexpens compar memori expens incur cach may definit implement cach overload howev use case call advanc topic evalu materi properti element face moos creat three copi nonboundari restrict materi evalu quadratur point element element face current element side neighbor element side name element interior materi materi name input file name element face materi materi name append _face name neighbor face materi materi name append _neighbor element materi identifi materi member variabl _bndfals two copi _bndtrue element face materi neighbor face materi differenti valu anoth member variabl _neighbor materi declar multipl materi properti need element face user switch declar evalu base member variabl _bnd interfac materi object moos allow materi defin intern boundari mesh specif materi type interfacemateri materi properti declar interfac materi avail side boundari interfac materi allow user evalu properti element face base quantiti side element face interfac materi often use along interfacekernelsyntaxinterfacekernelsindexmd discret materi object discretehttpwwwdictionarycombrowsediscret materi object may detach moos comput explicitli object object inherit materialpropertyinterfacehttpwwwmooseframeworkorgdocsdoxygenmooseclassmaterialpropertyinterfacehtml may explicitli call comput method materi object via getmateri method follow consid comput materi properti explicitli possibl disabl automat comput materi object moos set computefals paramet computefals set comput method computeqpproperti call moos instead must call explicitli applic use computeproperti method accept quadratur point index computefals addit method defin resetqpproperti set properti safe valu eg later call comput method lead erron materi properti valu origin intent function enabl abil materi properti comput via iter anoth object follow exampl first consid defin materi recomputemateri comput valu function deriv equat fp pv equat fp pv v known valu function p follow comput portion object list recomputematerialc startmoosedocs_start includestartfals second defin anoth materi newtonmateri comput valu p fp use newton iter materi declar materi properti _p solv iter materi properti contain f f recomputemateri _discret member refer materi object retriev getmateri list newtonmaterialc startmoosedocs_start includestartfalseg creat use discret materi use follow guid process creat materi object typic moos fashion inherit materi object applic input file set computefals new object within anoth object eg anoth materi inherit materialpropertyinterfac call getmateri method note method return refer materi object sure includ call declar variabl need call computeproperti method materi sure provid current quadratur point index method _qp case syntax list materi objectstru actionsfals subsystemsfals syntax list materi objectsfals actionsfals subsystemstru syntax list materi objectsfals actionstru subsystemsfals fvinterfacekernel system overview moos fv pleas see fv_designmd fvinterfacekernel meant commun data interfac subdomain fvinterfacekernel may contribut residualsjacobian singl variabl specifi paramet variabl multipl variabl also use variabl paramet two addit criticalrequir paramet subdomain subdomain case fvinterfacekernel oper two variabl subdomain correspond subdomain neighbor boundari paramet variabl live similarli subdomain variabl check subdomain paramet subdomain id faceinfoelem faceinfoneighbor member fvinterfacekernel develop sure fetch use sensic data instanc develop may want creat fvinterfacekernel use prop subdomain side boundari prop subdomain side boundari howev moos provid api fetch materi properti getadmaterialproperti getneighboradmaterialproperti return valu getadmaterialproperti alway correspond materi properti evalu faceinfoelem side interfac return valu getneighboradmaterialproperti alway correspond materi properti evalu faceinfoneighbor side interfac howev move along interfac possibl faceinfoelem side interfac sometim subdomain side sometim subdomain side make use subdomain paramet provid protect method call elemison return boolean indic whether faceinfoelem side interfac correspond subdomain side interfac allow develop write code like follow fvfoointerfacefvfoointerfaceconst inputparamet param fvinterfacekernelparam _coeff_elemgetadmaterialpropertyrealcoeff _coeff_elemgetadmaterialpropertyrealcoeff _coeff_neighborgetneighboradmaterialpropertyrealcoeff _coeff_neighborgetneighboradmaterialpropertyrealcoeff adreal fvfoointerfacecomputeqpresidu const auto coef_elem elemison _coeff_elem _coeff_elem const auto coef_neighbor elemison _coeff_neighbor _coeff_neighbor code use coef_elem coef_neighbor confid good data coef_elem coef_neighbor clariti happen code vectorpostprocessor system vectorpostprocessor vpp system design comput multipl relat valu time execut thought postprocessor output multipl valu exampl youd like sampl solut field across line vpp good choic see pointvaluesamplerpointvaluesamplermd addit output valu along line vpp actual output multipl vector simultan vector given name column name togeth vector vpp output output one csv file usual pertimestep alert note consid use report object reportersindexmd newer flexibl system comput aggreg valu recommend new object aggreg calcul use report system design vpp system build moos userobjectuserobjectsindexmd system vpp contain full interfac userobject also expect declar one vector popul output vpp restrict length vector state vector manag moos automat restart vector declar declarevector method list frameworkincludevectorpostprocessorsvectorpostprocessorh linedeclarevector method return writabl refer vectorpostprocessorvalu must captur store object list frameworkincludeutilsmoosetypesh linevectorpostprocessorvalu alert note develop respons size vector need alertend output vpp data vari depend type data output sampl line exampl mention introduct complet set valu gener time vpp execut vpp system handl scenario creat seper output file invoc form output follow filebase_vector name_seri numbercsv filebas normal output file base vector name name vector postprocessor normal input block name vpp serial number fixedwidth normal four digit number start count case howev vpp may accumul inform time exampl user may wish track valu sever locat time output might consist coordin posit sampl valu scenario default separ file output may cumbersom file would effect singl line script aggreg inform separ output file may need use instead moos support option may use case contains_complete_histori true set valu tell moos valu vector given vpp cummul moos take advantag inform multipl way first turn write output seper file drop serial number output filenam format altogeth secondli ignor chang valu vector output newest row vector postprocessor parallel assumpt vectorpostprocessor requir creat complet vector processor zero rank use _commun reduc valu processor zero object use vpp must specifi need data call getvectorpostprocessorvalu getscattervectorpostprocessorvalu function correct argument object need vpp valu need valu processor zero call c getvectorpostprocessorvaluethe_vpp_parameter_nam the_vector_nam fals fals call tell moos object need vector broadcast ie replic object inde need vpp data broadcast replic processor make call c getvectorpostprocessorvaluethe_vpp_parameter_nam the_vector_nam true special case vpp produc vector num_proc length object ask valu vpp scatter mean processor receiv valu correspond rank ie _valuesrank accomplish call c getscattervectorpostprocessorvaluethe_vpp_parameter_nam the_vector_nam getscattervectorpostprocessorvalu return const scattervectorpostprocessorvalu singl scalar valu dont index process receiv correct valu directli use data vpp natur replic processor vectorpostprocessor set _auto_broadcast fals validparam like c paramssetbool_auto_broadcast fals tell moos data alreadi replic need broadcast anoth object ask broadcast timedata time_data paramet produc addit csv file contain real time correspond time step vectorpostprocessor output inform file may use produc anim simul result vectorpostprocessor list syntax list vectorpostprocessor objectstru actionsfals subsystemsfals syntax list vectorpostprocessor objectsfals actionsfals subsystemstru syntax list vectorpostprocessor objectsfals actionstru subsystemsfals execution system execution block describ simul execut includ command control solver behavior time step time step control combin command execution block timestepp block nest within execution block petsc packag use underli solver moos provid wide varieti option control behavior specifi execution block pleas see onlin petsc documentationhttpwwwmcsanlgovpetscdocumentationindexhtml detail inform option moos provid multiapp coupl algorithm execution tightlycoupl multiphys simul multiapp two group execut main app main app solv sequenti within one app coupl iter execut order multiapp within one group undefin relev data transfer happen two group multiapp run multiapp allow wrap anoth level multiapp design enabl multilevel app coupl iter automat app coupl iter relax improv stabil converg multiapp subapp main applic also main applic subapp moos allow relax multiapp solut within main coupl iter within coupl iter multiapp main applic independ detail multiapp coupl algorithm may found fixedpointalgorithmsindexmd automat default precondit simul two type solv type use newton precondit jacobian free newton krylov pjfnk type specifi use solve_typ paramet within execution block regardless solv type newton pjfnk precondit import part simul see preconditioningindexmd default block diagon precondit use solv two except solve_typ set newton linear precondit block defin singl matrix precondit smp use see singlematrixpreconditionermd entri enabl fulltru newton linear solv auto creation smp object disabl set auto_preconditioningfals within execution block see createexecutioneractionmd syntax list execution objectstru actionsfals subsystemsfals syntax list execution objectsfals actionsfals subsystemstru syntax list execution objectsfals actionstru subsystemsfals fix point iter algorithm moos provid fix point algorithm execution use iter singl applic solv converg paramet exampl converg mass flow rate fluid simul target pressur drop often use tightli coupl multiphys simul multiapp system leverag coupl two differ problem iter applic transfer inform solv bring coupl converg within one app coupl iter multiapp execut timestep_begin main app multiapp execut timestep_end execut order execut order multiapp within one group timestep_begin timestep_end undefin relev data transfer happen two group multiapp run multiapp system allow wrap anoth level multiapp design enabl multilevel app coupl iter automat regardless fix point algorithm use solut vector relax improv stabil converg multiapp subapp moos allow relax multiapp solut within main coupl iter within secondari coupl iter multiapp main app independ relax acceler cf secantsteffensen method perform variabl postprocessor two object encompass data transfer perform coupl sever applic alert note fix point iter algorithm work converg within time step previou time step solut modifi picard secant steffensen algorithm lag part solut vector lag still achiev use postprocessor auxiliari variabl construct transfer begin end time step picard fix point iter picard iter default fix point iter algorithm may relax relax factor specifi main applic execution block relax factor specifi multiapp respect block relax picard fix point iter may describ equat x_n alpha fx_n alpha x_n x_n specifi variablepostprocessor f function repres coupl problem alpha relax factor converg picard iter expect linear converg picardlindelhof theorem provid set condit converg guarante secant method secant method root find techniqu follow secant line find root function f adapt fix point iter secant method may describ equat x_n x_n dfracfx_n x_n x_n x_nfx_n x_n fx_n x_n convent relax factor use shown secant method easili understood problem x_n fx_n x_n coordin point use draw secant slope dfracx_n x_nfx_n x_n fx_n x_n converg secant method expect superlinear converg order dfrac sqrt condit converg rate equat twice differenti input fix point multipl one oscillatori function poor initi guess prevent converg steffensen method steffensen method root find techniqu base perturb solut given point approxim local deriv equat gx_n dfracfx_n fx_nfx_n equat x_n x_n dfracfx_ngx_n updat similar newton method use exact deriv converg steffensen method expect quadrat converg howev requir two evalu coupl problem comput next term method expect slower secant method poor initi guess also prevent converg alert note use secant steffensen method specifi variabl postprocessor either main applic subappl acceler specifi variabl postprocessor updat use acceler method applic provid much acceler due current implement method futur work may remov limit predictor system predictor name suggest predict futur solut base previou solut current act entir nonlinear solut vector appli right begin nonlinear equat solv predictor optim appli top time integr scheme may alreadi part explicit multistep scheme predictor extrapol base earlier solut abl predict chang due threshold phenomena fare best evolut variabl smooth alert note use predictor implicit time integr scheme updat start guess next nonlinear iter solv modifi result unless addit intricaci predictorcorrector scheme use alert note use predictor chang valu solut time step lower accuraci explicit higher order time integr scheme work tightli within scheme syntax list executionerpredictor objectstru actionsfals subsystemsfals syntax list executionerpredictor objectsfals actionsfals subsystemstru syntax list executionerpredictor objectsfals actionstru subsystemsfals quadratur system alert construct titleundocu system quadratur system document content list use start point document system includ typic automat document associ system howev contain ultim determin necessari make document clear user markdown quadratur system overview replac line inform regard quadratur system exampl input file syntax describ includ exampl use quadratur system syntax list executionerquadratur objectstru actionsfals subsystemsfals syntax list executionerquadratur objectsfals actionsfals subsystemstru syntax list executionerquadratur objectsfals actionstru subsystemsfals alertend syntax list executionerquadratur objectstru actionsfals subsystemsfals syntax list executionerquadratur objectsfals actionsfals subsystemstru syntax list executionerquadratur objectsfals actionstru subsystemsfals adapt system alert construct titleundocu system adapt system document content list use start point document system includ typic automat document associ system howev contain ultim determin necessari make document clear user markdown adapt system overview replac line inform regard adapt system exampl input file syntax describ includ exampl use adapt system syntax list executioneradapt objectstru actionsfals subsystemsfals syntax list executioneradapt objectsfals actionsfals subsystemstru syntax list executioneradapt objectsfals actionstru subsystemsfals alertend syntax list executioneradapt objectstru actionsfals subsystemsfals syntax list executioneradapt objectsfals actionsfals subsystemstru syntax list executioneradapt objectsfals actionstru subsystemsfals timeintegr system moos framework implement number time integr method includ explicit implicit method vari truncat error order stabil properti syntax list executionertimeintegr objectstru actionsfals subsystemsfals execut time step time integr least one nonlinear solv requir per time step other eg actuallyexpliciteuleractuallyexpliciteulermd linear solv requir solut fail time step abort depend paramet executionerexecutionerindexmd timesteppertimestepperindexmd transient may abort complet decreas time step size tri alert note titlemultistag time integr implement detail multistag time integr explicittvdrkexplicittvdrkmd check perform stage verifi nonlinear converg nonlinear system converg time step abort immedi achiev simpli return prematur solv function allow postsolv converg check report failur sinc converg flag still set fals converg check stage last stage requir converg stage could reach maximum number nonlinear iter without converg proceed next stage anyway action action associ timeintegr system follow syntax list executionertimeintegr objectsfals actionstru subsystemsfals timestepp system method use calcul size time step control timestepp block number type timestepp avail control time step differ way includ use fix time step time step base function adapt time step syntax list executionertimestepp objectstru actionsfals subsystemsfals syntax list executionertimestepp objectsfals actionsfals subsystemstru syntax list executionertimestepp objectsfals actionstru subsystemsfals damper system damper use decreas attempt chang solut nonlinear step use prevent solver chang solut dramat one step next may prevent exampl solver attempt evalu neg temperatur syntax list damper objectstru actionsfals subsystemsfals syntax list damper objectsfals actionsfals subsystemstru syntax list damper objectsfals actionstru subsystemsfals globalparam system overview global paramet system use defin global paramet valu input file everi paramet globalparam block insert everi blocksubblock paramet name defin use mechan reduc duplic input file alert warn titleunintend substitut care use globalparam block accident insert paramet valu intend error difficult find particularli wari paramet name seem like could gener number differ object system exampl input file syntax suppos number similar object share common paramet my_common_paramet instead list paramet object somesystem obja type someclass my_common_paramet some_valu objb type someclass my_common_paramet some_valu instead list paramet globalparam block thu elimin duplic input file globalparam my_common_paramet some_valu somesystem obja type someclass objb type someclass note paramet need belong class even system globalparam block insert paramet everi possibl occurr paramet name input file blocksubblock ever need differ valu global valu simpli local overrid valu globalparam my_common_paramet some_valu somesystem obja type someclass objb type someclass my_common_paramet some_different_valu syntax list globalparam objectstru actionsfals subsystemsfals syntax list globalparam objectsfals actionsfals subsystemstru syntax list globalparam objectsfals actionstru subsystemsfals sampler system sampler system within moos provid api creat sampl distribut primarili use stochast tool modul syntax list sampler objectstru actionsfals subsystemsfals transfer system run simul contain multiappsmultiappsindexmdsimul run subsimulationsit often requir move data subappl transfer object moos design purpos alert note prior understand transfer import grasp idea multiappsmultiappsindexmd first pleas refer multiappsmultiappsindexmd document addit inform exampl transfer assum concept multiappsmultiappsindexmd understood transfer best understood via exampl problem first consid master simul solv transient diffus equat master simul also includ two sub applic reli averag valu unknown master applic master simul transfersmastermultiapp input file snippet show multiappsmultiappsindexmd block includ transientmultiapptransientmultiappmd subappl execut along master end timestep time progress list testteststransfersmultiapp_postprocessor_to_scalarmasteri blockmultiapp idtransfersmastermultiapp captionth multiappsmultiappsindexmd block master applic contain two subappl solv along master time progress exampl subappl requir averag master form scalar auxvari see auxvari document inform therefor master transfer averag valu comput via elementaveragevalueelementaveragevaluemd postprocessor scalar auxvari subappl shown transfersmastertransf multiapppostprocessortoauxscalartransfermultiapppostprocessortoauxscalartransfermd provid purpos list testteststransfersmultiapp_postprocessor_to_scalarmasteri blocktransf idtransfersmastertransf captionth transfer block master applic contain transfer postprocessor scalar auxvari subappl sub simul simpl exampl subappl must contain appropri auxvari receiv postprocessor valu master applic list testteststransfersmultiapp_postprocessor_to_scalarsubi blockauxvari idtransferssub captionth auxvari block sub applic contain scalar master applic updat subappl knowledg master applic simpli perform calcul util scalar variabl regardless scalar comput approach allow subappl input file run union independ master without modif use develop test avail transfer object follow complet list avail transfer object link page detail syntax list transfer objectstru actionsfals subsystemsfals syntax list transfer objectsfals actionsfals subsystemstru syntax list transfer objectsfals actionstru subsystemsfals report system report object moos c object comput singl valu arbitrari type valu comput sort aggreg data simul exampl meshinfomd object report variou quantiti regard mesh number node element degreesoffreedom system reli producerconsum relationship report object produc number aggreg valu object consum valu produc report object report system build moos userobjectuserobjectsindexmd system report contain full interfac userobject also expect declar one valu produc report object gener restrict support type report valu valu declar automat regist restartablerestart_recovermd optionaltru complex type data serial routin might need see reportervaluetyp valu comput store via refer desir type exampl list testincludereporterstestreporterh respcontentn moosedocsproduc refer initi use declarevalu declarevaluebynam method possibl indic valu comput respect parallel set calcul mode see reportermod inform declarevalu method work conjunct validparam function allow input file dictat name data produc use method first defin input paramet data name list testsrcreporterstestreporterc respcontentn moosedocsdata initi previous creat refer provid input paramet name exampl initi valu also suppli list testsrcreporterstestreporterc respcontentn moosedocsproduc declarevaluebynam method work manner except queri paramet system name use name suppli specifi name directli name modifi without recompil calcul valu occur overrid execut method updat valu refer list testsrcreporterstestreporterc startmoosedocsexecute_begin endmoosedocsexecute_end includestartfals consum object object inherit reporterinterfac may consum valu produc report valu retriev similar fashion declar use constant refer exampl valu consum creat refer class definit list testincludereporterstestreporterh respcontentn moosedocsconsum class declar getreportervalu method use initi refer list testsrcreporterstestreporterc respcontentn moosedocsconsum getreportervalu method automat check input paramet given name name specifi paramet use retriev report valu directli name use getreportervaluebynam method get method accept reporternam object simpli combin name produc report object name report valu possibl request reporternam validparam function consum exampl validparam function paramet type reporternam specifi list testsrcreporterstestreporterc lineaddrequiredparamreporternameint_report initi list refer desir valu initi suppli name paramet contain reportervalu list testsrcreporterstestreporterc line_intgetreportervalueintint_report input file reporternam provid follow name produc report object report block input file produc data name int name given data within declarevalu metho object list reportersbasebasei lineint_report report valu type idreportervaluetyp state report valu may type includ arbitrari class struct howev type must associ dataload datastor function special pleas refer dataiomd inform function report output idreporteroutput report valu output two form accsv acjson file accsv output limit report valu type real stdvectorr acjson output work arbitrari type type to_json function see jsonoutputmd detail report context mode idreportermod report valu use context system perform parallel oper automat default context allow report valu produc consum variou mode depend mode producedconsum parallel oper perform automat follow mode exist default context reporter_mode_root valu exist root processor reporter_mode_repl valu exist ident processor reporter_mode_distribut valu exist differ across processor valu comput consum prescrib mode consum mode product check mode consumpt producerconsumermod detail action taken variou possibl mode product consumpt report valu tabl captiondefault oper default context occur report valu depend mode product consumpt prefix reporter_mode_ omit clariti idproducerconsumermod produc mode consum mode oper root root noth replic root noth replic replic noth distribut distribut noth root replic mpi broadcast root distribut error replic distribut error distribut root error distribut replic error declarevalu declarevaluebynam method allow nondefault context defin exampl follow line declar report valu use gather context object list avail context follow code snippet list testsrcreporterstestreporterc respcontent_gath moosedocsgath replacen reporterbroadcastcontext automat perform mpi scatter specifi valu root processor processor reporterscattercontext automat perform mpi scatter vector data root processor processor reportergathercontext automat perform mpi gather vector data root processor processor report debug output reporterdebugoutputmd output ad output screen report valu declar request along type produc context consum consum mode debug output also enabl debugshow_report paramet syntax list report objectstru actionsfals subsystemsfals syntax list report objectsfals actionsfals subsystemstru syntax list report objectsfals actionstru subsystemsfals multiapp system overview moos origin creat solv fullycoupl system acpd system need fulli coupl multiscal system gener loos coupl scale system fast slow physic decoupl time simul involv input extern code might solv somewhat decoupl moos situat look like looselycoupl system fullycoupl equat multiapp allow simultan solv individu physic system subappl app consid independ alway main app primari solv main app number multiapp object multiapp repres mani henc multi subappl subapp subapp solv complet differ physic main applic moos applic might repres extern applic subapp multiapp lead multilevel solv shown media multi_appsmultiapp_hierarchypng idmultiapp stylewidthmarginleftautomarginrightauto captionexampl multilevel multiapp hierarchi input file syntax multiapp object declar multiapp block requir type like block parammultiappstransientmultiappapp_typ name mooseapp deriv app go execut gener name applic execut therefor paramet omit default howev system design run anoth applic compil link current app subapp creat multiapp ad moos multiapp execut point main solv set parammultiappstransientmultiappexecute_on paramet multiapp point execut sequenti execut data main app transfer subapp multiapp data subapp transfer back execut execut order multiapp point determin order also irrelev data transfer directli among multiapp enforc order execut user use multilevel multiapp set multiapp execut differ point multiapp set execut timestep_begin timestep_end form looselycoupl system fullycoupl equat solv fix point iterationssyntaxexecutionerindexmd list multiappstransient_multiappdt_from_masteri blockmultiapp posit idmultiappposit parammultiappstransientmultiappposit paramet coordin offset main app domain subapp domain illustr multiapps_po paramet requir posit provid set x z coordin subapp number coordin set determin actual number subappl creat larg number posit file provid instead use parammultiappstransientmultiapppositions_fil paramet x z coordin vector ad coordin subapp domain put domain specif locat within main domain subapp domain start easi think move point around use parammultiappstransientmultiappposit subapp complet differ scale posit point main domain app locat media frameworkmultiapps_positionspng idmultiapps_po stylewidthmarginleftautomarginrightauto captionexampl multiapp object posit paramet provid singl posit use mesh optim parammultiappstransientmultiappclone_master_mesh paramet allow reus main applic mesh subapp avoid repeat mesh creation oper automat transfer mesh modif perform adaptivitysyntaxadaptivityindexmd either main subapp though transfer initi mesh modif work uniform refin use mesh two applic multiappcopytransfermd may util effici transfer field variabl parallel execut multiapp system design effici parallel execut hierarch problem main applic util processor within multiapp processor split among subapp subapp processor processor solv multipl subapp subapp given multiapp run simultan parallel multipl multiapp execut one anoth dynam load multiapp build dynam librari default applic load without ad makefil regist simpli set proper type input file eg animalapp moos attempt find librari dynam path rel prefer set input file use paramet parammultiappstransientmultiapplibrary_path path need point lib folder within applic directori moose_library_path may also set includ path moos search alert warn applic must compil separ sinc main applic makefil knowledg subapp applic depend restart recov gener inform restartrecov found restartrecoveryrestart_recovermd optionaltru run multiapp simul need enabl checkpoint output subapp input file main app store restart data subapp file restart recov main app restor restart data subapp multiapp backup data structur hold current state includ solut vector state materi properti postprocessor restart quantti declar object etc subapp use subapp restartrecov calcul initi setup backup also use multiapp savingrestor current state fix point iter subapp may choos use restart file instead main backup file set paramproblemfeproblemforce_restart true alert warn paramproblemfeproblemforce_restart experiment syntax list multiapp subsystemsfals actionsfals objectstru syntax list multiapp subsystemstru actionsfals objectsfals syntax list multiapp subsystemsfals actionstru objectsfals auxscalarkernel system alert construct titleundocu system auxscalarkernel system document content list use start point document system includ typic automat document associ system howev contain ultim determin necessari make document clear user markdown auxscalarkernel system overview replac line inform regard auxscalarkernel system exampl input file syntax describ includ exampl use auxscalarkernel system syntax list auxscalarkernel objectstru actionsfals subsystemsfals syntax list auxscalarkernel objectsfals actionsfals subsystemstru syntax list auxscalarkernel objectsfals actionstru subsystemsfals alertend syntax list auxscalarkernel objectstru actionsfals subsystemsfals syntax list auxscalarkernel objectsfals actionsfals subsystemstru syntax list auxscalarkernel objectsfals actionstru subsystemsfals bc system alert construct titleundocu system bc system document content list use start point document system includ typic automat document associ system howev contain ultim determin necessari make document clear user markdown bc system overview replac line inform regard bc system exampl input file syntax describ includ exampl use bc system syntax list bc objectstru actionsfals subsystemsfals syntax list bc objectsfals actionsfals subsystemstru syntax list bc objectsfals actionstru subsystemsfals alertend syntax list bc objectstru actionsfals subsystemsfals syntax list bc objectsfals actionsfals subsystemstru syntax list bc objectsfals actionstru subsystemsfals period system alert construct titleundocu system period system document content list use start point document system includ typic automat document associ system howev contain ultim determin necessari make document clear user markdown period system overview replac line inform regard period system exampl input file syntax describ includ exampl use period system syntax list bcsperiod objectstru actionsfals subsystemsfals syntax list bcsperiod objectsfals actionsfals subsystemstru syntax list bcsperiod objectsfals actionstru subsystemsfals alertend syntax list bcsperiod objectstru actionsfals subsystemsfals syntax list bcsperiod objectsfals actionsfals subsystemstru syntax list bcsperiod objectsfals actionstru subsystemsfals precondit system overview see steadymd detail precondit use solv nonlinear system moos precondit block allow defin type precondit matrix build process appli defin multipl block differ name allow quickli switch precondit option within subblock also provid option specif type precondit matrix also overrid petsc option one block activ time default precondit matrix consid fulli coupl system equat equat beginalign nabla cdot kst nabla nabla cdot dst nabla endalign fulli coupl jacobian approxim use blockdiagon approach equat boldsymbolrst beginbmatrix boldsymbolr_t_t boldsymbolr_t_ boldsymbolr_s_t boldsymbolr_s_ endbmatrix approx beginbmatrix boldsymbolr_t_t boldsymbol boldsymbol boldsymbolr_s_ endbmatrix thu exampl default precondit matrix defin equat boldsymbolm equiv beginbmatrix kst nabla phi_j nabla psi_i boldsymbol boldsymbol dst nabla phi_j nablapsi_i endbmatrix approx boldsymbolrst exampl input file syntax list precondit activ my_prec my_prec type smp smp option go overrid petsc option other_prec type pbp pbp option go overrid petsc option listingend syntax list precondit objectstru actionsfals subsystemsfals syntax list precondit objectsfals actionsfals subsystemstru syntax list precondit objectsfals actionstru subsystemsfals variabl system descript variabl block within input file util defin unknown within system partial differenti equat unknown often refer nonlinear variabl within document nonlinear variabl defin within block use kernel objectssyntaxkernelsindexmd defin equat simul todo mention fv variabl similardiffer exampl follow input file snippet demonstr creation singl nonlinear variabl use two kernel object refer exampl ex_kernelmd optionaltru detail list ex_kernelexi blockvari kernel syntax paramet variablesaddvariableact syntax list variabl objectstru actionsfals subsystemsfals syntax list variabl objectsfals actionsfals subsystemstru syntax list variabl objectsfals actionstru subsystemsfals interfacekernel system interfac kernel meant assist coupl differ physic across subdomain straightforward exampl case one want set flux speci subdomain equal flux speci b subdomain boundari subdomain mathemat term might interest establish condit beginequ d_ fracparti c_partial x d_ fracparti c_partial x endequ d_i diffus coeffici speci subdomain c_i concentr speci subdomain exampl condit shown moos test directori see file d_interfacecoupled_value_coupled_fluxi interfacediffusionc interfacediffusionh interfac kernel use provid gener flux condit interfac even gener use impos interfaci condit requir access valu differ variabl gradient differ variabl either side interfac input file user specifi minimum follow paramet type type interfac kernel use variabl primari variabl note primari variabl must exist subdomain sideset specifi boundari paramet exist primari secondari neighbor variabl ensur interfac kernel residu jacobian function get call correct number time variabl could c_ exampl neighbor_var secondari variabl could c_ exampl boundari interfaci boundari subdomain note must sideset must exist subdomain primari variabl fact boundari sideset allow access variabl gradient import privat paramet relev displac mesh calcul _use_undisplaced_reference_point interfac kernel develop set paramet true validparam deriv class displac problem use neighbor refer point comput undisplac problem neighbor refer point displac problem paramet fals default neighbor refer point displac problem comput tradit way invers map physic locat displac element refer point refer refer refer coordin eg xi eta quadratur point physic refer physic coordin eg x quadratur point addit inform interfac kernel system dont hesit contact moos discuss forumhttpsgithubcomidaholabmoosediscuss syntax list interfacekernel objectstru actionsfals subsystemsfals syntax list interfacekernel objectsfals actionsfals subsystemstru syntax list interfacekernel objectsfals actionstru subsystemsfals distribut system distribut system within moos provid api defin retriev distribut function object c primarili use stochast tool modul syntax list distribut objectstru actionsfals subsystemsfals userobject system userobject system develop run custom algorithm may fit well within system moos exampl includ complex calcul may result valu dont associ one one manner element node side perhap user object produc valu base height domain base group relat element necessarili associ subdomain static mesh featur often calcul may result custom data structur manag develop userobject system basi postprocessorsyntaxpostprocessorsindexmd system differ postprocessor addit interfac return valu correspond manag storag within framework retriev valu welldefin interfac postprocessorinterfacemd userdefin api one benefit userobject system design userdefin api mind userobject defin addit public method may use retriev data comput userobject userobjectinterfacemd templat object depend specif type userobject may retriev specif type userobject use interfac without use dynam cast type userobject generaluserobject execut call execut flag nodaluserobject execut call node within mesh execut flag elementaluserobject execut call element within mesh execut flag internalsideuserobject execut call side boundari within mesh execut flag sideuserobject execut call side boundari within mesh execut flag restart data sinc userobject often creat store larg data structur develop userobject consid whether data structur need declar restart know whether data structur declar restart straightforward inform data structur expect persist across time step must declar restart convers data data structur recomput invoc userobject action necessari see restart_recovermdrestart_recovermd optionaltru inform postprocessor system postprocessor object moos c object comput singl scalar real valu typic valu comput aggreg data simul exampl maximum valu variabl see elementextremevaluemd valu comput may coupl system via getpostprocessorvalu method avail moos object moos includ larg number postprocessor within framework complet list provid avail object listavailableobject section alert note consid use report object reportersindexmd newer flexibl system comput aggreg valu recommend new object aggreg calcul use report system exampl input file follow input file snippet demonstr use elementextremevalueelementextremevaluemd comput minimum maximum solut variabl u list element_extreme_valuei blockpostprocessor snippet part test may execut use moos test applic follow bash cd projectsmoosetest make j cd testspostprocessorselement_extreme_valu projectsmoosetestmoose_testopt element_extreme_valuei data calcul report termin output default exodusmd output enabl valu automat includ output file also possibl export data comma separ valu csv file enabl csvmd object within outputssyntaxoutputsindexmd block bash postprocessor valu time max min e e e e e e coupl exampl code valu comput within postprocessor object may use within object inherit postprocessorinterfaceinterfacespostprocessorinterfacemd nearli everi system within moos exampl postprocessorneumannbcmd object allow neumann boundari condit set valu comput postprocessor object use exampl demonstr coupl perform understand coupl code benefici first see coupl defin via input file follow input file snippet show pointvaluemd postprocessor creat name right_pp postprocessorneumannbcmd use valu set boundari condit list pp_neumanni blockpostprocessor bc first step code type coupl begin ad necessari input file syntax object requir postprocessor valu postprocessorneumannbc exampl moos object input file syntax govern validparam function object add abil coupl postprocessor simpli add new paramet use postprocessornam type shown notic add paramet call includ default valu make use postprocessor option list postprocessorneumannbcc starttempl endpostprocessorneumannbc actual postprocessor valu must assign member variabl class thu header member variabl must creat alway constant refer postprocessorvalu type sinc refer must initi occur sourc file call getpostprocessorvalu method provid name use validparam function follow snippet show declar refer header initi refer sourc file _valu member variabl avail use anywher insid object case boundari condit util comput residu list postprocessorneumannbch linepostprocessorvalu list postprocessorneumannbcc startpostprocessorneumannbc end includeendtru coupl valu postprocessor valu use object postprocessor coupl function scalar variabl see follow exampl coupl scalar variabl postprocessor list scalar_coupled_postprocessor_testi blockpostprocessor creat postprocessor object gener everi postprocessor object two method must defin execut getvalu first consid execut method method call moos differ time depend type postprocessor object therefor creat postprocessor object new object inherit one follow c class generalpostprocessor execut call execut flag nodalpostprocessor execut call node within mesh execut flag elementalpostprocessor execut call element within mesh execut flag internalsidepostprocessor execut call side boundari within mesh execut flag sidepostprocessor execut call side boundari within mesh execut flag use execut flag discuss execut onexecuteon section getvalu method respons return valu postprocessor object valu use object coupl postprocessor case necessari commun perform within method gener follow prefer parallel consider creat postprocessor often necessari perform parallel commun ensur valu comput correct across process thread three addit method exist make process simpl possibl initi call prior execut postprocessor use setup object known state import point execut context includ call execut method exampl nodalpostprocessor object initi method call execut method call node final call execut postprocessor intend perform commun prepar object call getvalu method threadjoin call execut postprocessor intend perform aggreg share memori parallel understand use method averagenodalvariablevaluemd postprocessor shall use exampl name suggest postprocessor comput averag valu variabl node perform calcul variabl valu node sum number valu within execut method getvalu method return averag return sum divid count follow snippet show two method _u_qp valu variabl current node come share base class _sum _n member variabl defin within class perform calcul list averagenodalvariablevaluec startdocoexecutegetstart enddocoexecutegetend includestartfals parallel call execut method occur process thread subset domain case node therefor comput valu must combin get actual summat requir comput averag valu first step setup state calcul within initi method exampl set _sum _n member variabl zero list averagenodalvariablevaluec startdocoinitstart enddocoinitend includestartfals aforement execut method call node comput valu _sum _n must aggreg across process root process problem gather oper requir collect valu comput process root process accomplish via gathersum method list averagenodalvariablevaluec startdocofinalstart enddocofinalend includestartfals cours type commun necessari depend calcul perform userobjectmd base class includ helper method common parallel commun function initi final method util aggreg messag pass mpi base parallel share memori parallel theadjoin method use method call like final execut complet includ singl argument argument refer userobject base class postprocessor object purpos method enabl aggreg postprocessor object execut thread object root thread averagenodalvariablevalu postprocessor valu _sum _n root process object updat includ valu thread list averagenodalvariablevaluec startdocothreadstart enddocothreadend includestartfals execut idexecuteon postprocessor object inherit setupinterfacemd allow object execut vari multipl time simul initi end time step refer setupinterfacemd addit inform use old older valu moos maintain previous comput valu postprocessor system use lag inform comput previou time step valu valu comput two step back may retriev one reason might use older valu break cyclic depend moos consid depend old valu consid order evalu among object depend syntax list postprocessor objectstru actionsfals subsystemsfals syntax list postprocessor objectsfals actionsfals subsystemstru syntax list postprocessor objectsfals actionstru subsystemsfals fvbc system overview moos fv pleas see fv_designmd finit volum method fvm distinguish two type boundari condit fvdirichletbc prescrib valu fvm variabl boundari boundari condit act similarli dirichlet boundari condit fem implement use ghost element method fvfluxbc prescrib flux boundari boundari condit similar integr boundari condit fem current fvdirichletbc categori contain singl class appli fix valu boundari futur special class ad fvbc block fvm boundari condit ad simul input file fvbc exampl list testtestsfvkernelsfv_simple_diffusionneumanni blockfvbc idfirst_fv_bc_exampl captionexampl fvbc block moos input file exampl input diffus equat flux boundari condit left dirichlet boundari condit right solv understand differ two boundari condit let start diffus equat beginequ nabla cdot nabla v endequ boundari condit left beginequ nabla v cdot vecn endequ vecn outward normal right beginequ v endequ see flux boundari condit appli diffus equat integr extent element adjac left boundari gauss theorem appi diverg beginequ int_omega nabla cdot nabla v dv int_parti omega_l nabla cdot nabla v dv int_parti omega setminu partial omega_l nabla cdot nabla v dv a_parti omega_l int_parti omega setminu partial omega_l nabla cdot nabla v dv endequ omega element volum partial omega_l face belong left sideset partial omega face a_parti omega_l area face flux boundari condit appli replac appropri term fvm balanc valu flux prescrib boundari dirichlet boundari condit appli differ let us first write balanc equat element adjac right boundari beginequ int_parti omega_r nabla cdot nabla v dv int_parti omega setminu partial omega_r nabla cdot nabla v dv endequ moos use ghost element method appli dirichlet boundari condit fvm process use ghost element follow place virtual element across dirichlet boundari comput valu v ghost element extrapol element valu desir valu boundari assign valu v ghost element evalu numer flux interior face implement ghost element method extrapol must select current moos fvm support linear extrapol valu dirichlet boundari condit denot v_d valu element denost v_e ghost element valu v_g beginequ v_g v_d v_e endequ paramet avail boundari condit equival fem boundari conditionssyntaxbcsindexmd discuss detail fvbc sourc code fvdirichletbc fvdirichletbc object assign constant valu boundari implement fvm dirichlet bondari condit usual requir overrid boundaryvalu method boundaryvalu method must return valu variabl dirichlet boundari list frameworksrcfvbcsfvdirichletbcc startinclud end idfv_dirichlet_cod captionexampl sourc code fvdirichletbc fvbc sourc code fvfluxbc fvneumannbc object assign constant flux boundari implement flux boundari condit usual requir overrid computeqpresidu method fvneumannbc read constant valu paramet return computeqpresidu list frameworksrcfvbcsfvneumannbcc startinclud end idfv_neumann_cod captionexampl sourc code fvneumannbc fvbc sourc code fvburgersoutflowbc flux boundari condit complic assign constant valu exampl outflow contribut burger equat comput relev term note beginequ frac int fracpartialparti xv dx frac leftv_r n_r v_l n_lright endequ v_r v_l valu v left right boundari element n_r n_l outward normal face let assum left side boundari face fvburgersoutflowbc appli boundari n_l fvburgersoutflowbc boundari condit use upwind ie use element valu v boundari valu outflow face code list first check left actual outflow side use cell valu v element averag upwind dot normal v n_l left outflow side case contribut v n_l ad otherwis contribut ad list testsrcfvbcsfvburgersoutflowbcc startfvburgersoutflowbccomputeqpresidu end idfv_burgers_outflow_bc captionoutflow boundari condit burger equat case boundari condit repres fix inflow rather free outflow condit syntax list fvbc objectstru actionsfals subsystemsfals scalarkernel system scalar kernel use defin system ordinari differenti equat ode lack spatial deriv use initi valu problem time independ variabl beginequ beginsplit fracd ud fu qquad geq u u_ endsplit endequ ut depend variabl fu steadyst residu function u_ initi valu automat differenti scalar kernel abil implement automat differenti adautomatic_differentiationindexmd ad necessari system ordinari differenti equat ode involv scalar variabl due exact jacobian offer parsedodekernelmd exampl ode involv contribut field variabl greatli benefit ad exampl element user object may comput adreal valu field variabl domain may use scalar equat creat ad scalar kernel deriv adscalarkernel implement method computeqpresidu alert warn titlead global index requir adscalarkernel work moos configur global ad index default alert warn titleus valu comput user object caution use user object comput adreal valu sure execut user object nonlinear ensur deriv adreal valu popul syntax list scalarkernel objectstru actionsfals subsystemsfals syntax list scalarkernel objectsfals actionsfals subsystemstru syntax list scalarkernel objectsfals actionstru subsystemsfals output system output system design like system moos modular expand shortcut syntax enabl output applic must contain output block simplest method enabl output util shortcut syntax shown enabl outputsexodusmd output write spatial data complet list output type associ shortcut syntax framework includ outputtyp list idoutputshortcut captionexampl shortcut syntax output block output exodu true develop may refer commonoutputactionmd inform implement shortcut syntax new output type block syntax take full advantag output system use subblock requir block list nearli ident respect intern implement outputshortcut includ block name ie shortcut syntax build exact block one differ shortcut block syntax default output filenam assign list idoutputblock captionexampl full block syntax output block output exodu type exodu filenam result filenam produc differ syntax import default name scheme output file util input file name eg inputi suffix differ depend output defin _out suffix use output creat use shortcut syntax subblock syntax use actual subblock name suffix exampl input file inputi contain follow output block two file would creat input_out input_other list idoutputnam captionexampl output filenam assum input file name inputi output consol true exodu true creat input_out creat input_other type exodu note use file_bas anywher output block disabl default name behavior avail output type outputtyp provid list common output type includ shortcut syntax well type use creat subblock complet list avail output object given provid outputobject tabl idoutputtyp captionlist common output object includ core moos framework includ output_typesmd syntax list output actionsfals subsystemsfals idoutputobject headingcomplet list avail output object headinglevel multipl output block possibl creat multipl output object output specif time timestep interv custom subset variabl variou file type support common paramet subblock list idmultipleoutput captionexampl creat multipl output object output vtk true consol type consol perf_log true max_row true exodu type exodu execute_on timestep_end exodus_displac type exodu file_bas displac use_displac true interv common paramet output block support common paramet exampl execute_on may specifi outsid individu subblock indic subblock output initi condit exampl within subblock paramet given differ valu subblock paramet take preced input file snippet demonstr usag common valu well use multipl output block alert note titleconsol objectsconsolemd special case consolebas output special inherit common paramet execute_on paramet detail get inherit list idcommonoutputparam captionexampl use common paramet output block output execute_on timestep_end disabl output initi condit interv output everi timestep vtk true output vtk file print_perf_log true enabl perform log initi type exodu execute_on initi exodusii file contain initi condit displac type exodu use_displac true interv exodusii output everi third time step develop may refer commonoutputactionmd inform implement new common output paramet output execute_on output util execute_on paramet like system moos default object execute_on initi timestep_end consol object except consol object append initi timestep_begin linear nonlinear fail execute_on set common level list avail execute_on flag output object provid outputexecuteon conveni paramet additional_execute_on allow append flag exist execute_on flag debug output use showoutput flag execut applic add section near top simul show set use output object toggl shown provid addit oper append execute_on flag current follow output execut time avail tabl idoutputexecuteon captionlist avail execute_on valu output object text flag descript none disabl output initi execut output initi condit default linear execut output linear iter nonlinear execut output nonlinear iter timestep_end call output method end timestep default timestep_begin execut output method begin timestep final call output method final timestep fail execut output method solut fail detail customoutput section two type output class basicoutput advancedoutput advanc output addit control beyond execute_on detail tabl input paramet method control execute_postprocessors_on outputpostprocessor execute_vector_postprocessors_on outputvectorpostprocessor execute_elemental_on outputelementalvari execute_nodal_on outputnodalvari execute_scalar_on outputscalarvari execute_system_information_on outputsysteminform execute_input_on outputinput output control accept output execut flag execute_on util advancedoutput object execute_on set use set default output type control exampl set execute_on initi timestep_end caus output type eg postprocessor scalar etc execut timestep initi condit mesh displac higher order mesh displac mesh may output set use_displac true within output subblock output origin displac mesh addit output block requir alert warn titleb care output displac mesh gener necessari output displac mesh sinc visual tool automat appli displac write displac mesh result visual appli displac multipl time simul use higher order mesh oversampl may requir provid accur represent finit element solut visual tool gener perform linear interpol data regardless mesh order oversampl control set refin paramet evalu finit element solut uniformli refin mesh output provid improv view exist solut list iddispoversampl captionexampl show output displac mesh oversampl output consol true exodu true oversampl type exodu refin use_displac true inblock output control certain object possibl control output within block object includ postprocessor vectorpostprocessor indic marker variabl auxvari exampl consid follow input file three output object defin singl postprocessor well text postprocessor pp type emptypostprocessor output csv output exodu true csv true vtk type vtk interv output includ postprocessor valu may list output paramet output paramet limit defin postprocessor output csv output object highlight need understand name convent util shortcut syntax also possibl remov postprocessor output specifi output none nonlinearlinear residu output object inherit petscoutput abil output data nonlinear andor linear iter enabl add nonlinear andor linear execute_on input paramet text output exodu type exodu execute_on timestep_end linear nonlinear output nonlinearlinear iter time chang actual simul time creat pseudo time step exampl output block associ simul take time step result output time would use follow convent output time descript converg solv time first nonlinear iter time first linear iter first nonlinear iter second linear iter first nonlinear iter second nonlinear iter time first linear iter second nonlinear iter second linear iter second nonlinear iter converg solv time creat custom output object idcustomoutput creat new output object new object must inherit one two templat base class basicoutput advancedoutput either base class templat paramet one follow four output class base class descript output gener output base class use simpl output class requir littl control execut see materialpropertydebugoutputhttpwwwmooseframeworkcomdocsdoxygenmooseclassmaterialpropertydebugoutputhtml petscoutput provid abil execut output call linear nonlinear residu calcul fileoutput add basic function paramet need write file oversampleoutput add abil util oversampl mesh output note four class list inherit fileoutput petscoutput see inherit diagram visual represent outputhttpwwwmooseframeworkcomdocsdoxygenmooseclassoutputhtml creat basicoutput basic output object design simpl output case perform singl output task requir control individu type output creat basic output object user must overrid singl virtual method outputconst outputexecflagtyp type method perform necessari command perform output outputexecflagtyp specifi execut flag output current call witheg initi type proper enum possibl valu list includebasemooseh creat advancedoutput idadvancedoutput advanc output object provid addit control variou output type eg postprocessor creat advanc output object call static method enableoutputtyp must exist new object validparam method indic type output new object respons output exampl exodu output validparam method includ cpp inputparamet param advancedoutputoversampleoutputvalidparam param advancedoutputoversampleoutputenableoutputtypesnod element scalar postprocessor input keyword list method enabl call associ output method detail follow tabl enabl keyword associ method nodal outputnodalvari element outputelementalvari scalar outputscalarvari postprocessor outputpostprocessor vector_postprocessor outputvectorpostprocessor input outputinput system_inform outputsysteminform method virtual method must overload custom output object exampl nodal output enabl outputnodalvari overload method includ outputexecflagtyp input variabl method shortcut subblock type descript consol consol write screen option file exodu exodu commonwel support control output type vtk vtk visual toolkit format requir enablevtk build libmesh gmv gmv gener mesh viewer format nemesi nemesi parallel exodusii format tecplot tecplot requir enabletecplot build libmesh xda xda libmesh intern format ascii xdr xdr libmesh intern format binari csv csv comma separ scalar valu gnuplot gnuplot support scalar output checkpoint checkpoint moos intern format use restart recoveri adapt system moos employ hadapt automat refin coarsen mesh region high low estim solut error respect idea concentr degre freedom dof error highest reduc dof solut alreadi wellcaptur achiev split join element origin mesh base error indicatoradaptivityindicatorsindexmd error comput markeradaptivitymarkersindexmd use decid element refin coarsen mesh adapt employ steadi transient execution refin pattern moos employ selfsimilar isotrop refin pattern shown figur element mark refin split element type exampl use quad element four child element creat element refin coarsen happen revers children delet parent element reactiv origin mesh start refin level time element split children assign refin level one higher parent media frameworkadaptivitypng captionselfsimilar refin pattern util moos adapt linear quadrilatrel hexahedron element cycl interv moos normal perform one adapt step per solv howev develop abil increas decreas amount adapt perform cycl interv paramet cycl paramet set perform multipl adapt cycl singl solv use case one would like resolv sharp featur singl step case introduc nucleu list testtestsmeshadaptadapt_test_cyclesi blockexecutioneradapt interv paramet set decreas amount adapt perform perform everi _nth_ step sometim help speed simul adapt somewhat expens perform list testtestsmeshadaptintervali blockexecutioneradapt syntax paramet adapt syntax list adapt objectsfals actionsfals subsystemstru marker system marker system subsystem adapt systemsyntaxadaptivityindexmd moos marker object serv set refin flag one four state defin c enum markervalu moos call computeelementmark method return markervalu valu appli element auxvariableauxvariablesindexmd automat mesh refin engin use field refin coarsen mesh consist manner detail adapt systemsyntaxadaptivityindexmd marker valu four possibl markervalu state defin markerh follow list frameworkincludemarkersmarkerh includeend startenum markervalu end purpos valu markervalu defin follow tabl state descript dont_mark appli refin flag element coarsen mark element coarsen possibl do_noth chang marker flag current state refin mark element refin possibl exampl syntax list testtestsmarkerscombo_markercombo_marker_testi blockadapt syntax list adaptivitymark objectstru actionsfals subsystemsfals syntax list adaptivitymark objectsfals actionstru subsystemsfals indic system indic system subsystem syntaxadaptivityindexmd indic object serv provid measur error use inform syntaxadaptivitymarkersindexmd creat custom indic object child object must overrid computeind method allthough creat adapt system indic use standalon comput error valu sinc valu comput simpli auxiliari variabl see auxvariablesindexmd syntax list adaptivityind objectstru actionsfals subsystemsfals syntax list adaptivityind objectsfals actionsfals subsystemstru syntax list adaptivityind objectsfals actionstru subsystemsfals function system overview function use defin function depend spatial posit time fxyzt object serv wide varieti purpos includ limit follow defin initi condit defin residu contribut sourc boundari condit etc defin postprocess quantiti syntax list function objectstru actionsfals subsystemsfals syntax list function objectsfals actionsfals subsystemstru syntax list function objectsfals actionstru subsystemsfals problem system overview problem class one core extens point moos problem design hold equationsystem object libmesh hous numer system ultim solv comput fortun first get start moos normal dont worri anyth special problem object moos automat construct suitabl problem simul type take account type object present input file simul use feproblem class contain singl nonlinearsystem singl auxiliarysystem singl mooseeigensystem singl auxiliarysystem nonlinearsystem mooseeigensystem contain matrix vector use solv equat implement combin object simul kernel bc etc auxiliarysystem hous solut vector use hold comput solut valu applic grow complex may find use necessari creat problem extend default behavior provid core moos framework common exampl includ special converg test etc automat problem creation automat problem creation handl moos normal input file contain special problem block moos creat suitabl problem howev need chang specif system relat paramet may find ad problem block namevalu pair differ type problem may instanti use problemtyp whose default valu feproblem problem system syntax list problem objectstru actionsfals subsystemsfals syntax list problem objectsfals actionsfals subsystemstru syntax list problem objectsfals actionstru subsystemsfals constraint system mortarconstraint mortar system moos use segmentbas approach evalu mortar integr inform automat gener mortar segment mesh see automaticmortargenerationmd overview excel overview conserv mortar constraint implement moos problem given citeosti_ verifi moos mortar implement satisfi follow priori error estim problem see discuss plot github issuehttpsgithubcomidaholabmooseissu problem hexahedr mesh primal fe type lagrang multipli lm fe type primal l converg rate lm l converg rate second order lagrang first order lagrang second order lagrang constant monomi first order lagrang first order lagrang first order lagrang constant monomi gener mesh despeci mesh triangular face element mortar interfacerequir addit care ensur converg triangular element mortar interfac typic exhibit infam well document lock phenomenon result singular system requir stabil special treatment primal converg rate realiz tetrahedr mix mesh use stabil delta equalvalueconstraint addit caveat mesh gener unstructur regener experi uniform refin tetrahedr mesh typic observ result diverg lagrang multipli degrad primal converg rate adapt refin mesh triangular face mortar interfac thoroughli studi moos approach caution base observ follow recommend provid use mortar moos possibl discret secondari side mortar interfac quad element ie use hex element care orient prism pyramid element volum discret tri element present mortar interfac verifi problem well condit problem use stabil necessari avoid uniformli refin mesh instead regener mesh refin mesh need alert note mortar often requir larger ad array size specifi default moos configur configur moos larger array use configur option withderivativesizen ad size requir problem depend problem physic order primal lagrang multipli variabl rel size secondari primari mesh paramet four requir paramet user alway suppli constraint deriv mortarconstraint primary_boundari boundari name id assign primari side mortar interfac secondary_boundari boundari name id assign secondari side mortar interfac primary_subdomain subdomain name id assign lowerdimension block primari side mortar interfac secondary_boundari subdomain name id assign lowerdimension block secondari side mortar interfac suggest requir paramet user must mesh work use mortarconstraint object easiest way prepar mesh assign boundari id secondari primari side interfac creat mesh rdparti mesh softwar eg cubit gmsh boundari id exist lower dimension block gener automat use lowerdblockfromsidesetgener mesh gener shown input file snippet mesh primari type lowerdblockfromsidesetgener sideset new_block_id secondari type lowerdblockfromsidesetgener sideset new_block_id also option paramet suppli mortarconstraint variabl correspond lagrang multipli variabl live lower dimension block secondari face secondary_vari primal variabl secondari side mortar interfac live interior element primary_vari primal variabl primari side mortar interfac live interior element often secondary_vari primary_vari correspond variabl compute_lm_residu whether comput lagrang multipli residu automat set fals variabl paramet suppli case user may want set fals differ geometr algorithm use comput residu lm primal variabl exampl mechan contact karushkuhntuck condit may enforc node perhap nodefaceconstraint wherea contact forc may appli displac residu mortarconstraint compute_primal_residu whether comput residu primal variabl may use paramet use appli differ geometr algorithm comput residu lm variabl primal variabl period whether constraint go use enforc period condit effect chang normal vector mortar project outward inward face quadratur specifi quadratur order mortar segment element use mortar quad face element sinc integr quad face element tri mortar segment mortar interfac inexact default quadratur typic suffici exact integr first order quad face element eg hex mesh requir second order integr exact integr second order quad face element eg hex mesh requir fourth order integr present either secondary_vari primary_vari paramet must suppli syntax list constraint objectstru actionsfals subsystemsfals syntax list constraint objectsfals actionsfals subsystemstru syntax list constraint objectsfals actionstru subsystemsfals nodalkernel system alert construct titleundocu system nodalkernel system document content list use start point document system includ typic automat document associ system howev contain ultim determin necessari make document clear user markdown nodalkernel system overview replac line inform regard nodalkernel system exampl input file syntax describ includ exampl use nodalkernel system syntax list nodalkernel objectstru actionsfals subsystemsfals syntax list nodalkernel objectsfals actionsfals subsystemstru syntax list nodalkernel objectsfals actionstru subsystemsfals alertend syntax list nodalkernel objectstru actionsfals subsystemsfals syntax list nodalkernel objectsfals actionsfals subsystemstru syntax list nodalkernel objectsfals actionstru subsystemsfals debug system overview debug input file block design contain option enabl debug tool simul exampl input file snippet demonstr enabl materi properti debug tool complet list avail option provid debugparam list show_material_props_debugi blockdebug syntax paramet debug iddebugparam describ includ exampl use debug system follow line automat list syntax associ system syntax list debug objectstru actionsfals subsystemsfals syntax list debug objectsfals actionsfals subsystemstru syntax list debug objectsfals actionstru subsystemsfals materialderivativetest system test materi properti deriv syntax list debugmaterialderivativetest objectsfals actionstru subsystemsfals dirackernel system alert construct titleundocu system dirackernel system document content list use start point document system includ typic automat document associ system howev contain ultim determin necessari make document clear user markdown dirackernel system overview replac line inform regard dirackernel system exampl input file syntax describ includ exampl use dirackernel system syntax list dirackernel objectstru actionsfals subsystemsfals syntax list dirackernel objectsfals actionsfals subsystemstru syntax list dirackernel objectsfals actionstru subsystemsfals alertend syntax list dirackernel objectstru actionsfals subsystemsfals syntax list dirackernel objectsfals actionsfals subsystemstru syntax list dirackernel objectsfals actionstru subsystemsfals control system control system moos one primari purpos modifi input paramet runtim moosebas simul creat control paramet input paramet object control must store paramet const refer h file declar storag paramet follow list frameworkincludebcsdirichletbch line_valu initi refer c file follow list frameworksrcbcsdirichletbcc line_valuegetparam order control paramet must commun paramet allow control done validparam function declare_control input singl valu space separ list paramet list frameworksrcbcsdirichletbcc startinputparamet enddirichletbcdirichletbc iddeclare_control captionexampl validparam method declar paramet control alert note declarecontrol method also accept space separ list paramet creat control object control object similar system moos creat control applic inherit control c class moos requir overrid execut method custom object within method follow method gener use get set control paramet getcontrollablevalu br method return current control paramet case multipl paramet control first valu return warn produc valu differ warn may disabl setcontrollablevalu br method allow control paramet chang case multipl paramet control valu set method oper similar fashion system moos eg getpostprocessorvalu postprocessor system expect input paramet name stdstring prescrib validparam method addit overload method allow set get control valu variou input prescrib paramet name two list gener need pleas refer sourc code complet list control block control object defin input file control block similar system moos exampl follow input file snippet show use realfunctioncontrolrealfunctioncontrolmd object list testtestscontrolsreal_function_controlreal_function_controli blockcontrol idcontrols_exampl captionexampl control object use moos input file object paramet name idobjectandparameternam notic controls_exampl syntax specifi paramet shown gener syntax paramet name specifi blockobjectnam block specifi input file block name eg kernel bc object specifi input file subblock name eg diff controls_exampl name specifi paramet name eg coef controls_exampl list testtestscontrolsreal_function_controlreal_function_controli blockkernel idcontrols_exampl captionexampl kernel block contain paramet control via moos control object shown controls_exampl asterisk substitut one three name allow multipl paramet match control simultan similar fashion object name defin eg timeperiodtimeperiodmd object case gener name scheme paramet name includ case altern form defin object paramet name baseobjectnam case base moos base system object deriv exampl kerneldiffcoef child object syntax list control objectstru actionsfals subsystemsfals associ action syntax list control objectsfals actionstru subsystemsfals kernel system kernel piec physic repres one oper term weak form partial differenti equat term lefthandsid sum refer residu residu evalu sever integr quadratur point problem domain implement physic moos creat kernel subclass moos kernel class kernel system support use acad residu calcul two option creat kernel object kernel adkernel understand automat differenti pleas refer automatic_differentiationindexmd page inform kernel subclass computeqpresidu function must overridden implement pde weak form term nonad object follow member function option overridden computeqpjacobian computeqpoffdiagjacobian two function provid extra inform help numer solver converg faster better insid kernel class access sever member variabl comput residu jacobian valu mention function _i _j indic current test trial shape function respect _qp current quadratur point index _u _grad_u valu gradient variabl kernel oper index _qp ie _u_qp _test _grad_test valu psi gradient nabla psi test function qpoint index _i _qp ie _test_i_qp _phi _grad_phi valu phi gradient nabla phi trial function qpoint index _j _qp ie _phi_j_qp _q_point xyz coordin current quadratur point _current_elem pointer current element oper optim kernel object idoptim depend residu calcul perform sometim possibl optim calcul residu precomput valu finit element assembl residu vector follow tabl detail variou kernel base class use base class improv perform base overrid use kernel adkernel computeqpresidu use term acpd multipli test function gradient test function _test _grad_test must appli kernelvalu adkernelvalu precomputeqpresidu use term comput acpd multipli test function use _test overrid appli automat kernelgrad adkernelgrad precomputeqpresidu use term comput acpd multipli gradient test function use _grad_test overrid appli automat custom kernel creation creat custom kernel follow pattern diffusiondiffusionmd addiffusionaddiffusionmd object implement includ moos framework addit exampl examplescustom_kernelmd optionaltru moos provid stepbystep overview creat custom kernel follow describ calcul diffus term pde strongform diffus equat defin domain omega find u equat idstrongform beginalign nablacdotnabla u omega u_partialomega_ g_ nabla ucdot hatn _partialomega_ g_ endalign partialomega_ defin boundari valu u fix known constant g_ partialomega_ defin boundari flux across boundari fix known constant g_ hatn boundari outward normal weak form gener multipli test function psi_i integr domain use innerproduct notat equat nablacdotnabla u_h psi_i quad forallpsi_i integr part give weak form equat idweakform nabla u_h nabla psi_i langl g_ psi_irangl quad forallpsi_i u_h known trial function defin finit element discret u approx u_h sum_jn u_j phi_j phi_j basi function jacobian deriv weakform respect u_j leftfracparti partial u_jright defin equat idjacobian nabla phi_j nabla psi_iquad forallpsi_i mention computeqpresidu method must overridden flavor kernel nonad ad computeqpresidu method nonad version diffusiondiffusionmd provid nonadresidu list frameworksrckernelsdiffusionc idnonadresidu rerealndiffusioncomputeqpresidu captionth c weakform residu statement weakform implement diffus kernel object also overrid computeqpjacobian method defin jacobian term jacobian shown nonadjacobian list frameworksrckernelsdiffusionc idnonadjacobian rerealndiffusioncomputeqpjacobian captionth c weakform jacobian statement jacobian implement diffus kernel ad version object addiffusionaddiffusionmd reli optim kernel object see optim overrid precomputeqpresidu follow list frameworksrckernelsaddiffusionc idadresidu readdiffusionprecomputeqpresidu captionth c precomput portion weakform residu statement weakform implement addiffus kernel time deriv kernel creat timederiv termkernel subclass timekernel instead kernel exampl residu contribut time deriv term equat leftfracparti u_hparti psi_iright u_h finit element solut equat idtimederiv fracparti u_hparti equiv fracpartialparti left sum_k u_k phi_k right sum_k fracparti u_kparti phi_k interchang order differenti summat equat fracparti u_kparti time deriv kth finit element coeffici u_h exact form deriv depend time step scheme without much loss gener assum follow form time deriv equat fracparti u_kparti u_k b constant b depend delta timestep method deriv equat timederiv respect u_j equat fracpartialparti u_j left sum_k fracparti u_kparti phi_k right fracparti partial u_j left sum_k u_k b phi_k right phi_j jacobian term equat timederiv equat lefta phi_j psi_iright call du_dot_du moos therefor computeqpresidu function timederiv term kernel look like cpp return _test_i_qp _u_dot_qp correspond computeqpjacobian cpp return _test_i_qp _phi_j_qp _du_dot_du_qp kernel document sever special kernel type exist moos use function detail section syntax list kernel objectstru actionsfals subsystemsfals auxvari system auxvari block within input file may use creat auxiliari variabl act respect interact object like nonlinear variabl see syntaxvariablesindexmd pleas refer auxkernelsindexmd complet detail regard use auxiliari variabl syntax list auxvari objectstru actionsfals subsystemsfals syntax list auxvari objectsfals actionsfals subsystemstru syntax list auxvari objectsfals actionstru subsystemsfals nodalnorm system alert construct titleundocu system nodalnorm system document content list use start point document system includ typic automat document associ system howev contain ultim determin necessari make document clear user markdown nodalnorm system overview replac line inform regard nodalnorm system exampl input file syntax describ includ exampl use nodalnorm system syntax list nodalnorm objectstru actionsfals subsystemsfals syntax list nodalnorm objectsfals actionsfals subsystemstru syntax list nodalnorm objectsfals actionstru subsystemsfals alertend syntax list nodalnorm objectstru actionsfals subsystemsfals syntax list nodalnorm objectsfals actionsfals subsystemstru syntax list nodalnorm objectsfals actionstru subsystemsfals fvkernel system overview moos fv pleas see fv_designmd finit volum method fvm fvkernel base class fvfluxkernel fvelementalkernel special object satisfi follow task fvfluxkernel repres numer flux evalu element face term origin appli gauss diverg theorem fvelementalkernel repres term contain spatial deriv gauss theorem appli term includ time deriv extern impos sourc term reaction term note current fvelementalkernel categori contain kernel subclass repres time deriv kernel repres extern impos sourc reaction term ad near futur alert note document follow use repres differ side face pure notat moos code base side repres _elem suffix side repres _neighbor suffix could well chosen _left _right _ _ _minu _plu consist previou moos framework code discontinu galerkin kernel nodefac constraint elect go _elem _neighbor suffix fvkernel block fvm kernel ad simul input file fvkernel block fvkernel block exampl set transient diffus problem defin equat beginequ fracparti vpartial nabla cdot nabla v endequ time deriv term correspond kernel name time diffus term repres kernel name diff list testtestsfvkernelsfv_simple_diffusiontransienti blockfvkernel idfirst_fv_kernel_exampl captionexampl fvkernel block moos input file fvtimekernel exampl deriv fvelementalkernel volumetr contribut residu fvdiffus kernel fvfluxkernel face contribut residu remain moos syntax would expect see finit element kernel object variabl refer variabl kernel act ie equat residu term go must finitevolum variabl defin fv true fvm kernel coeff kernel diff materi properti correspond heat conduct diffus coeffici next exampl show fvkernel block solv onedimension burger equat burger equat speed v given beginequ fracparti vpartial fracfracparti partial x v endequ list testtestsfvkernelsfv_burgersfv_burgersi blockfvkernel idsecond_fv_kernel_exampl captionexampl fvkernel block moos input file solv onedimension burger equat note fvburgersd kernel work onedimension problem exampl exact time deriv kernel diffus exampl use spatial deriv term differ boundari condit discuss exampl look syntax filessyntaxfvbcsindexmd detail boundari condit syntax list fvkernel objectstru actionsfals subsystemsfals fvkernel sourc code fvdiffus exampl first fvfluxkernel discuss fvfluxkernel use calcul numer flux contribut face surfac integr term residu residu contribut implement overrid computeqpresidu function fvm one solv averag variabl element valu variabl face unknown must comput cell averag valu interpolationreconstruct determin accuraci fvm discuss base exampl fvdiffus discret diffus term use central differ approxim list frameworksrcfvkernelsfvdiffusionc starttempl endregisteradmooseobjectmooseapp fvmatadvect idfv_diffusion_cod captionexampl sourc code finit volum kernel discret diffus term use central differ kernel fvdiffus discret diffus term nabla cdot dvvecr nabla v integr extend element use gauss theorem lead beginequ int_omega nabla cdot dvvecr nabla v dv int_parti omega leftdv vecr vecncdot nabla v right ds endequ term parenthesi surfac integr right hand side must implement fvkernel howev one step implement kernel must determin valu nabla v depend valu v side face partial omega exampl follow approxim use beginequ leftdvecr vecncdot nabla v right approx fracdv_lvecr_l dv_rvecr_r fracv_r v_lvecr_r vecr_l endequ central differ approxim gradient face neglect cross diffus term implement numer flux fvdiffusioncomputeqpresidu discuss kernel provid valu variabl v _u_elem_qp _u_neighbor_qp valu materi properti side face obtain _coeff_elemgetadmaterialpropertyrealcoeff side valu obtain call getneighboradmaterialpropertyrealcoeff geometr inform adjac element avail face_info object implement straight forward first line code comput dudn correspond term beginequ textdudn fracv_r v_lvecr_r vecr_l endequ second line comput k correspond beginequ textk fracdv_lvecr_l dv_rvecr_r endequ minu sign origin minu sign origin express flow defin posit fvkernel sourc code fvmatadvect exampl exampl advect term beginequ nabla cdot left vecu v right endequ discret use upwind veloc denot vecu v repres passiv scalar quantiti advect flow upwind strategi approxim valu variabl face take valu upwind element ie element flow origin list frameworksrcfvkernelsfvdiffusionc startfvmatadvect end idfv_mat_advection_cod captionexampl sourc code finit volum kernel discret advect passiv scalar integr advect term element use gauss theorem lead beginequ int_omega nabla cdot left vecu v right dv int_parti omega leftvecn cdot vecu v right ds endequ term parenthesi right hand side approxim use upwind beginequ vecn cdot vecu v approx tildevecucdot vecn tildev endequ beginequ tildevecu frac left vecu_l vecu_r right endequ tildev v_l tildevecu cdot vecn tildev v_r otherwis convent normal vecn point side side implement straight forward constructor veloc obtain realvectorvalu materi properti averag comput store variabl v_avg direct flow determin use inner product v_avg _normal residu comput use either valu v given _u_elem_qp valu given _u_neighbor _qp fvkernel sourc code fvtimekernel exampl demonstr sourc code fvelementalkernel fvelementalkernel volumetr term case kernel fvtimekernel list frameworksrcfvkernelsfvtimekernelc startfvtimekernelcomputeqpresidu endtempl idfv_time_cod captionexampl sourc code finit volum time kernel kernel implement term beginequ fracparti vpartial endequ implement ident implement fem kernel except fvm requir multipl test function mesh system overview two primari way creat mesh use moos simul offlin gener tool like cubithttpscubitsandiagov sandia nation laboratorieshttpwwwsandiagov onlin gener programmat interfac cubit use creat complex geometri licens csimsoft fee depend type organ work perform mesh gener work long output file format support filemeshfilemeshmd object exampl syntax mesh object mesh set appli mesh input file exampl basic input file syntax read file mesh shown addit inform type mesh object refer individu object page list list testtestsauxkernelssolution_auxbuildi blockmesh syntax list mesh objectstru actionsfals subsystemsfals syntax list mesh objectsfals actionsfals subsystemstru syntax list mesh objectsfals actionstru subsystemsfals meshgener system meshgener system use programmat construct mesh includ gener mesh seriou point connect ad featur fli linearli transform mesh stitch togeth piec mesh etc sever builtin gener system also extend meshgener may may consum output gener produc singl mesh chain togeth depend complex mesh may built seri simpl process dag final mesh select chain togeth sever meshgener implicitli creat dag direct acycl graph moos evalu gener individu object build final mesh input file multipl end point eg ba ca moos issu error termin gener doesnt make sens multipl end point sinc output one would simpli discard anyway possibl forc select particular end point use final_gener paramet mesh block paramet use gener whether ambigu gener depend output mesh sinc moos contain lot abil readgeneratemodifi mesh often use abl run mesh relat portion input file output mesh mesh view peacock use moos input file combinationmodif achiev use command line option meshonli default meshonli write mesh file _ine opposit _out append output system append input file name also option provid mesh filenam write use meshonli output_file coupl exampl show usag meshonli run mesh relat section input_filei write input_file_in myappopt input_filei meshonli write mesh_file myappopt input_filei meshonli mesh_file run parallel write parallel checkpoint format read split mpiexec n myappopt input_filei meshparallel_typedistribut meshonli mesh_filecpr name entiti support humanread name assign block sideset nodeset name automat read use throughout input file mesh gener cubit gener provid capabl intern paramet take entiti id input file accept either number name name also assign id onthefli exist mesh eas input file mainten see exampl onthefli name also written exodusxdaxdr file illustr mesh exodu file format list testtestsmeshnamed_entitiesname_on_the_flyi blockmesh replic distribut mesh idreplicatedanddistributedmesh core mesh capabl deriv libmesh two underli parallel mesh format replic distribut replic mesh format default format moos appropri format util nearli simul parallel replic format copi complet mesh processor allow effici access geometri element distribut mesh format use mesh data structur domin memori usag piec mesh own processor actual store processor mesh larg read singl processor split prior simul alert note replic distribut mesh format parallel respect execut finit element assembl solv type solut data distribut portion simul usual domin memori demand distribut mesh output format nemesi run simul distributedmesh gener desir avoid serial mesh first rank output largest case may caus simul run memori smaller case may caus unnecessari commun serial parallel data structur solut use nemesi output nemesi creat separ exodu file automat read paraview display normal exodu mesh output output file follow name convent filenameenum_processorsrank exampl processor run expect filenam like out out out out mesh split larg mesh moos provid abil presplit mesh use distribut formatmod split use mesh distribut run input file filebas mesh mooseappopt your_inputfilei splitmesh commasepar list split configur split way write file per process split way write file per process moos automat select presplit mesh configur base mpi process mpiexec n mooseappopt your_inputfilei usesplit detail see mesh splittingmeshsplittingmd displac mesh calcul take place either initi mesh configur request displac configur enabl displac provid vector displac variabl name spatial dimens displac paramet within mesh block list modulestensor_mechanicstestteststrusstruss_di blockmesh enabl object oper displac configur set use_displaced_mesh true exampl follow snippet enabl comput postprocessorpostprocessorsindexmd without displac configur list testtestspostprocessorsdisplaced_meshelementali blockpostprocessor mix dimens mesh moos function properli run simul mesh contain mix dimens element eg etc residu calcul materi evalu etc work properli list testtestsmeshmixed_dimd_di blockmesh uniqu id two firstclass id type mesh entiti element node id unique_id id unique_id field uniqu number current activ set mesh entiti activ entiti current repres domain doesnt includ coars parent element may becom activ coarsen step differ howev unique_id never reus id might gener id goodenough almost use need guarante element id never recycl might key import map use unique_id period node map moosemesh object method build map technic multimap pair period node simul map provid quick lookup pair node period boundari case corner node map node respect extra integ id extra integ id element mesh use handl complic materi assign perform specif calcul group element etc often time want use subdomain id task otherwis mani subdomain could need turn larg penalti runtim perform could introduc moosemeshmoosemeshmd paramet extra_integ allow user introduc integ id element identifi name paramet paramet specifi extra integ made avail element assembl moos object kernel aux kernel materi initi condit element user object etc retriev integ element one need simpli call getelementidinteger_name_paramet comp within initi list constructor integer_name_paramet name paramet type stdvectorextraelementidnam object list integ name comp index integ name multipl specifi integer_name_paramet notic return valu function call must type const dof_id_typ use refer valu set moos assembl return refer held class member variabl later use base id one proceed particular oper exampl choos differ set data evalu materi properti id assign mesh element meshgener similar way assign subdomain id note element id part mesh initi properli restartrecov mesh meta data mesh gener declar mesh meta data obtain later action userobject mesh meta data declar constructor mesh gener restart without rerun mesh gener mesh meta data use set specif postprocessor kernel etc requir certain geometri inform mesh meta data possibl extrem hard deriv directli libmesh mesh object simpl exampl mesh meta data num_elements_x provid generatedmeshgeneratorgeneratedmeshgeneratormd use indic mesh regular x direct mesh split moos provid abil presplit mesh sever chunk use distribut meshmeshindexmdreplicatedanddistributedmesh use whole mesh big fit memori splitmesh workflow involv gener mesh split configur tell moos use run simul describ section gener split configur run moos splitmesh splitsplit flag take commasepar list describ split integ number chunk split mesh mooseappopt your_inputi splitmesh split way write file per process split way write file per process creat three split configur mesh includ chunk input file use mesh file fooe process gener directori name foocpr gener neither renam directori modifi content split configur mesh store directori even across independ split oper nonfilebas mesh case eg generatedmesh need tell moos name use split mesh file gener use splitfil file_nam flag gener use cpr file extens exampl mooseappopt your_inputi splitmesh splitfil foocpr also run split oper parallel sever processor speed oper mpiexec n mooseappopt your_inputi splitmesh split way write file per process gener split configur chunk split gener first command gener parallel note mesh meta data gener mesh gener meta data written binari file gener directori load use split mesh use split mesh use mesh split configur use usesplit flag take argument mpiexec n mooseappopt your_inputi usesplit caus moos look mesh split configur chunk one exist moos use run distribut mesh mode otherwis error occur note need modifi input file moos automat switch use presplit distribut mesh regardless mesh type specifi input file input file use filebas mesh need specifi split mesh file name use splitfil file_nam flag split mesh mpiexec n mooseappopt your_inputi usesplit splitfil foocpr alert note mesh splitter command work distributedmesh must split replicatedmesh partition system partition system allow develop control partion process split mesh among two processor sever partition avail petsc libmesh directli dial moos input file via libmeshpartitionermd petscexternalpartitionermd object custom partition may built inhert moosepartitionermd overrid special _do_parit method libmesh partition syntax list meshpartition objectstru actionsfals subsystemsfals syntax list meshpartition objectsfals actionsfals subsystemstru syntax list meshpartition objectsfals actionstru subsystemsfals bound system alert construct titleundocu system bound system document content list use start point document system includ typic automat document associ system howev contain ultim determin necessari make document clear user markdown bound system overview replac line inform regard bound system exampl input file syntax describ includ exampl use bound system syntax list bound objectstru actionsfals subsystemsfals syntax list bound objectsfals actionsfals subsystemstru syntax list bound objectsfals actionstru subsystemsfals alertend syntax list bound objectstru actionsfals subsystemsfals syntax list bound objectsfals actionsfals subsystemstru syntax list bound objectsfals actionstru subsystemsfals dgkernel system dgkernel system overview dgkernel kernel defin intern side dgkernel typic element variabl ie variabl allow solut discontin aross element side dgkernel along normal kernel allow definit weak form rise discontin finit element method dfem dgkernel block restrict calculaton dfem subdomain intern side visit residu jacobian evalu moos dgkernel handl two piec residu mark element neighbor intern side correspond four piec jacobian mark elementel elementneighbor neighborel neighborneighbor normal intern side point toward neighbor element current element typic dgkernel irrelev normal direct mesh refin moos visit activ intern side mean hang node intern side moos visit child intern side dgkernel make use materi properti defin element neighbor side dgkernel interior penalti ip method diffus equat found dgdiffusionmd dgkernel upwind scheme hyperbol equat found dgconvectionmd extens hybrid finit element method dgkernel extend support hybrid finit element method hfem citeprthfem consid poisson equat form beginequ beginalign nabla u f quad omega u g quad partial omega_d fracparti uparti n h quad partial omega_n alpha u fracparti uparti n c quad partial omega_r endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n cup partial omega_r boundari alpha given function omega_r typic constant valu weak form hfem pde find tripl u lambda lambda_d discontinu function space omega intern side gamma partial omega_d respect foral uast lambdaast lambdaast_d function space beginequ beginalign left nabla uast nabla u right_omega left lambdaast u right_gamma left uast lambda right_gamma left uast lambda_d right_parti omega_d left lambda_dast u g right_parti omega_d left uast h right_parti omega_n left uast alpha u c right_parti omega_r left uast f right_omega endalign endequ u repres jump u intern side note orient normal intern side affect solut u flip sign lambda lambda lambda_d also known lagrang multipli weakli impos continu u across intern side gamma impos dirichlet boundari condit omega_d resembl current fracparti uparti n converg current discret error get smaller smaller mesh refin hfem explicit local conserv seen substitut test function uast constant valu one element interest zero elsewher local conserv evalu lagrang multipli lambda sourc function f element insid domain omega weak form requir compat condit uniqu solut citeprthfem typic satisfi condit let order shape function u two order higher includ two order lambda altern way impos robin boundari condit alpha u fracparti uparti n c replac left uast alpha u c right_parti omega_r beginequ beginalign left uast lambda_r right_parti omega_r left lambda_rast u u_r right_parti omega_r left u_rast alpha u_r c lambda_r right_parti omega_r endalign endequ lagrang multipli lambda_r project solut u_r partial omega_r correspond test function lambda_rast u_rast variabl lagrang multipli defin interior side gamma coupl dgkernel lowerdimension mesh deriv main mesh gamma extens dgkernel handl three piec residu mark element neighbor lower intern side correspond nine piec jacobian mark elementel elementneighbor neighborel neighborneighbor primarylow secondarylow lowerprimari lowersecondari lowerlow similarli variabl lagrang multipli boundari omega_d coupl integr boundari condit dgkernal left lambdaast u right_gamma left uast lambda right_gamma found hfemdiffusionmd boundari condit left uast lambda_d right_parti omega_d left lambda_dast u g right_parti omega_d found hfemdirichletbcmd gener g either fix valu variabl defin boundari gener hfemdirichletbcmd use along kernel defin robin boundari left u_rast alpha u_r c lambda_r right_parti omega_r altern way impos robin boundari condit alert warn moos support mesh adapt hfem current exampl input file syntax dgkernel ad dgkernel input syntax syntax list dgkernel objectstru actionsfals subsystemsfals syntax list dgkernel objectsfals actionsfals subsystemstru syntax list dgkernel objectsfals actionstru subsystemsfals limit limit gener speak limit slope highord eg accuraci order greater eg nonconst polynomi interpol finit volum cell centroid face limit done avoid creat oscil solut field region steep gradient discontinu slope limit flux limit gener employ make solut total variat diminish tvd borrow notat herehttpsenwikipediaorgwikitotal_variation_diminish total variat space time discret defin beginequ tvun tvucenterdottn sum_j vert u_jn u_jn vert endequ u discret approxim solut n denot time index u_jn ux_jtn numer method tvd beginequ tvun leq tvun endequ limit process borrow notat citepgreenshieldsimplement discuss comput limit quanti repres bmpsi_fpm repres one side face repres side clear notat equat follow lot pm mp comput top quantiti eg pm select top quantiti throughout equat eg select pm mp similarli comput bottom quantiti select bottom quantiti throughout equat also seri or text gener left top quantiti right bottom quantiti interpol limit quantiti proce follow beginequ bmpsi_fpm left g_fpmrightbmpsi_pm g_fpmbmpsi_mp endequ bmpsi_pm denot cell centroid valu interpol quantiti beginequ g_fpm betaleftr_pmrightleft w_fpmright endequ betaleftr_pmright repres flux limit function beginequ labeleqweight w_fpm vert bmd_fmpvertleftvert bmd_fvert vertbmd_fvertright endequ vertbmd_fvert norm distanc face cell centroid vertbmd_fvert norm distanc face cell centroid note definit w_fpm differ slightli given citepgreenshieldsimplement denomin given vertbmd_vert norm distanc cell centroid definit given eqweight guarante w_f w_f note nonskew mesh definit eqweight citepgreenshieldsimplement flux limit function betar_pm take differ form shown limiter_summari r_pm comput follow beginequ r_pm fracbmd_pmcdotleftnabla bmpsiright_pmleftnabla_d bmpsiright_fpm endequ leftnabla bmpsiright_pm correspond cell centroid gradient leftnabla_d bmpsiright_fpm bmpsi_mp bmpsi_pm follow limit avail moos note converg order consid solut smooth whether tvd function form flux limit function betar tabl idlimiter_summari captionlimit overview limit class name converg order tvd betar vanleer ye fracr textabsr textabsr upwind ye centraldiffer minmod ye textmax textmin r sou r quick fracr bibtex bibliographi ic system descript ic block within input file util defin initi start condit variabl within simul initi condit may appli unknown nonlinear scalar variabl auxiliari variabl interfac defin initi condit support function return valu point option higher order deriv point eg gradient second ic block prefer syntax creat toplevel ic block subblock defin initi condit one variabl list function_icparsed_functioni blockic ic exodu file moos contain shortcut syntax read solut exodu file initi condit right within variablesvariablesindexhtml name variabl time step read solut must suppli list from_exodus_solutionnodal_parti blockvari initi condit coupl initi condit object moos coupl variabl system occur moos automat evalu depend evalu initi condit order support valid inspect variabl comput initi condit variabl gradient shape function famili support gradient degre freedom hermit properli initi dof initi condit system option overrid suppli gradient valu inspect current node element pointer initi condit system use gener project algorithm set initi condit support discrit scheme gener case project system may choos sampl anywher within domain necessarili right mesh node element center posit howev common fe discrit such lagrang initi condit sampl taken node support common case initialcondit deriv object access pointer current node current element nonnul sampl taken correspond mesh entiti null otherwis saniti check ic multipl initi condit may appli variabl block multipl initi condit may appli variabl boundari global initi condit conflict subdomain boundari restrict ic variabl blockboundari restrict ic system support blockrestrictablemd boundaryrestrictablemd interfac use nodal variabl block restrict ambigu occur interblock interfac node sit element two differ block resolv ambigu multiblock node moos choos ic object defin lowest block id node win along interfac win object variabl must defin block otherwis ic next lowest block id node use forth one variabl defin syntax list ic objectstru actionsfals subsystemsfals syntax list ic objectsfals actionsfals subsystemstru syntax list ic objectsfals actionstru subsystemsfals executor system see pagese executorsexecutormd executor system detail exampl input file syntax syntax list executor objectstru actionsfals subsystemsfals syntax list executor objectsfals actionsfals subsystemstru syntax list executor objectsfals actionstru subsystemsfals deprecatedblock system alert construct titleundocu system deprecatedblock system document content list use start point document system includ typic automat document associ system howev contain ultim determin necessari make document clear user markdown deprecatedblock system overview replac line inform regard deprecatedblock system exampl input file syntax describ includ exampl use deprecatedblock system syntax list deprecatedblock objectstru actionsfals subsystemsfals syntax list deprecatedblock objectsfals actionsfals subsystemstru syntax list deprecatedblock objectsfals actionstru subsystemsfals alertend syntax list deprecatedblock objectstru actionsfals subsystemsfals syntax list deprecatedblock objectsfals actionsfals subsystemstru syntax list deprecatedblock objectsfals actionstru subsystemsfals auxkernel system auxkernel system mimic syntaxkernelsindexmd comput valu defin explicitli known function two main use case auxkerenel system comput quantiti vari space time postprocess purpos decoupl system equat exampl use case shall discuss follow section creat custom auxkernel object done creat new c object inherit auxkernel vectorauxkernel arrayauxkernel overrid computevalu method return scalar real vector realvectorvalu eigen vector realeigenvector two type respect forth type auxscalarkernel also exist syntax object differ detail syntaxauxscalarkernelsindexmd auxkernel object like kernel object must oper variabl thu requir paramet variabl indic variabl auxkernel object comput variabl defin auxvariablessyntaxauxvariablesindexmd block input file auxkernel object deriv auxkernel vectorauxkernel arrayauxkernel oper standard scalar vector array field variabl respect exampl follow input file snippet creat auxiliari variabl suitabl use vectorauxkernel list vector_function_auxi blockauxvari nodal vs element auxkernel object two flavor auxkernel object nodal element distinct base type variabl oper object variabl famili lagrang lagrange_vec auxkernel behav nodal variabl famili monomi auxkernel behav element differ base computevalu method object call kernel execut nodal case computevalu method execut node within finit element mesh valu return method directli assign valu shape function node element case computevalu method execut quadratur point element finit element mesh valu comput quadratur point use perform correct finit element interpol automat set valu degre freedom typic element case order monomi finit element set constant singl dof per element higher monomi also support evid function detail distinct two aris natur finit element shape function lagrang shape function dof valu correspond node element shape function dof valu associ node auxkernel object design work element nodal exampl computevalu method functionauxmd object properli handl use correct spatial locat base object nodal element isnod method block vs boundari restrict auxkernel object auxiliari variabl alway defin mesh subdomain moos allow auxiliari kernel either block mesh subdomain boundari restrict auxiliari kernel boundari restrict evalu auxiliari variabl design boundari auxiliari variabl meaning valu boundari even though defin mesh subdomain auxiliari kernel block restrict variabl evalu must defin subdomain cover block auxiliari kernel defin auxiliari kernel boundari restrict variabl must defin subdomain side boundari connect element auxiliari variabl defin element multipl boundari side properli evalu within boundari restrict auxiliari kernel element auxiliari variabl store one valu per element user split boundari defin multipl element auxiliari variabl split avoid situat element connect multipl boundari side list auxkernelsfunctionauxc rerealsfunctionauxcomput nodal auxkernel object abus notion quadratur point _qp member variabl set zero still must use access coupl variabl valu materi properti done allow syntax consist regardless auxkernel flavor nodal element execut flag auxkernel object inherit setupinterfacemd includ execute_on variabl default paramet set exec_linear exec_timestep_end exec_linear flag set possibl coupl valu comput auxkernel object object kernel materi object use residu calcul order ensur valu auxiliari variabl correct iter solv comput iter howev auxiliari variabl comput coupl object comput residu evalu auxkernel linear iter necessari slow execut simul case exec_linear flag remov like exec_initi flag ad perform auxiliari variabl calcul initi setup phase well exampl post process auxkernel follow exampl extract step darci flow thermomechan tutorialdarcy_thermo_mechindexmd optionaltru consid darci law flow porou media neglect chang time graviti beginequ labeldarci nablacdotfracmathbfkmunabla p endequ mathbfk permeabl tensor mu fluid viscos p pressur veloc vecu may comput beginequ labeldarcy_vel vecu fracmathbfkmunabla p endequ lefthand side darci would solv nonlinear variabl appropri kernel objectsyntaxkernelsindexmd auxkernel system use comput veloc follow darcy_vel tutori exact calcul perform use darcyveloc object header sourc file object list list step_velocity_auxincludeauxkernelsdarcyvelocityh list step_velocity_auxsrcauxkernelsdarcyvelocityc exampl b decoupl equat auxiliari variabl may use interchang nonlinear variabl respect coupl allow complic system equat decoupl solv individu use test valid consid heat equat advect term coupl pressur comput darci step darci flow thermomechan tutorialdarcy_thermo_mechindexmd optionaltru beginequ labelheat cleft fracparti tpartial epsilon vecucdotnabla right nabla cdot k nabla endequ temperatur c heat capac k thermal conduct epsilon poros advect term epsilonvecucdotnabla comput kernel object step_coupled_darcy_heat_conductionsrckernelsdarcyadvectionc requir pressur variabl provid variabl list step_coupled_darcy_heat_conductionsrckernelsdarcyadvectionc lineaddrequiredcoupledvar test purpos desir includ solv pressur variabl examin correct heat equat solv auxiliari variabl assign arbitrari function space time use instead follow input file snippet demonstr decoupl pressur variabl comput use auxvari functionaux object list stepc_decoupledi blockauxvari auxkernel syntax list auxkernel objectstru actionsfals subsystemsfals syntax list auxkernel objectsfals actionsfals subsystemstru syntax list auxkernel objectsfals actionstru subsystemsfals line search system system meant creat custom line search gener line search associ underli nonlinear solver librari suffici custom line search inherit linesearch pure virtual implement linesearch capabl placehold actual modul syntax allow modul syntax build correctli actual content explain modul block defin modulesdoccontentsyntaxmodulesindexmd automat differenti background histor common question moos mail list solv converg equival question also post comput scienc stackexchang titl newton method converginghttpsscicompstackexchangecomquestionswhyisnewtonsmethodnotconverg lead bullet accept answer jacobian wrong code jacobian difficult tediou task especi physic requir complex materi model instead spend time run simul gener result physicist engin may sink day week construct accur jacobian oftentim develop throw hand elect approxim jacobian method like acpjfnk jacobian never explicitli form instead action vector approxim use finit differ approxim precondit matrix hand code construct effect precondition effect mani case qualiti matrixfre approxim close tie select differenc paramet whose size vari base noisi nonlinear system equat nonlinear function noisi small differenc paramet chosen truncat lead jacobian approxim actual nonlinear oper differenc paramet larg approxim deriv inaccur differenc function nonlinear multiphys problem magnitud solut residu compon may vari wildli arbitrari choic differenc paramet may lead accur approxim jacobian action one physic lead aforement truncat error anoth presenc truncat error henc nonlinear oper evid linear solv deriv porou flow equat coupl heat transport text ksp unprecondit resid norm e true resid norm e rib e ksp unprecondit resid norm e true resid norm e rib e ksp unprecondit resid norm e true resid norm e rib e ksp unprecondit resid norm e true resid norm e rib e ksp unprecondit resid norm e true resid norm e rib e ksp unprecondit resid norm e true resid norm e rib e ksp unprecondit resid norm e true resid norm e rib e ksp unprecondit resid norm e true resid norm e rib e unprecondit residu norm produc acgmr iter drop five order magnitud solv true residu norm comput via mathbfavecx vecb actual increas five order magnitud moos right precondit acgmr chosen default unprecondit residu mathemat equal actual residu precondit matrix wellcondit inconsist gener partial inaccuraci precondit matrix net result bad linear solv diverg newton method sinc comput newton updat wrong text nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear solv converg due diverged_fnorm_nan iter instead form explicit jacobian eschew finit differenc newton method converg albeit subquadrat sinc handcod jacobian inaccur text nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear solv converg due converged_fnorm_ab iter given multiphys aim moos clear pitfal associ differenc approxim clear motiv form accur explicit represent matrix note even perfect jacobian action achiev via finit differ scheme suitabl precondit matrix requir construct robust effici solver user elect use symbol differenti packag like sympi mathematica howev function complex result gradient express take sever page quit difficult translat notebook code altern numer symbol differenti acad appli chain rule elementari oper everi step comput program appli small constant factor estim upper bound addit arithmet oper weigh untold number develop hour sunk attempt creat accur handcod jacobian analyst hour spent wait problem poor handcod approxim jacobian converg small addit cpu cost impos acad seem well worth trade accur jacobian form use acad overal simul much faster util defici handcod matrix elect pursu ad choic forward revers mode forward mode acad best suit problem mani output input revers mode best suit mani input output latter case preval deep learn applic implement popular machin learn librari like pytorch solut nonlinear system equat number input output equival choic clearcut howev given architectur moos residu construct finit element solut natur construct nonlinear degre freedom forward propag logic choic forwardmod ad reli concept dualnumb implement either sourc code transform oper overload latter easili implement program languag support c languag moos written conveni c headeronli librari metaphysicl came readymad dualnumb templat class operatoroverload acad implement fit moos architectur minim disrupt codebas acad capabl metaphysicl merg moos codebas fall ad implement metaphysicl automat differenti class metaphysicl origin develop test manufactur analyt solut abstract masa librari use gener manufactur solut test increasingli complic physic simul discov multipl symbol differenti packag suffer softwar failur suffici larg problem symbol differenti manufactur solut field eg navierstok physic caus combinatori explos lead correspond forc function hundr kilobyt length requir mani manhour manual simplif fail altogeth comput algebra system softwar automat differenti allow gener manufactur solut forc function use code hardli complex physic equat class use effort eventu publish independ librari metaphysicl wider use develop dualnumb centerpiec class automat differenti capabl store valu deriv member correspond fvecx nabla fvecx respect valu deriv type determin templat paramet float point type equival singleargu function equal contain type gener vector argument metaphysicl overload binari arithmet oper unari function stdsin stdco stdexp etc binari function stdpow stdmax stdmin etc ensur calcul involv dualnumb propag function valu deriv moos leverag one two metaphysicl contain class templat depend user configur default moos configur use numberarray class templat accept stdsize_t n typenam templat argument n denot length underli carray hold numberarray data floatingpoint type held carray dualnumb metaphysicl provid arithmet unari binari function overload manipul contain type numberarray ideal deriv contain choic dens coupl physic variabl oper function overload numberarray oper entir underli carray second metaphysicl contain class leverag moos semidynamicsparsenumberarray ideal choic problem variabl coupl spars user wish solv varieti problem singl librari configur contrast numberarray hold singl carray floatingtyp data semidynamicsparsenumberarray addit hold array stdarray integ correspond dof indic exist addit data member enabl spars oper may involv subset element underli floatingpoint data explicit exampl spars oper use consid user may configur moos underli deriv storag contain size solid mechan simul secondord hexagon finit element displac variabl degre freedom per variabl per finit element local dof run secondord case nonspars numberarray contain would effici howev user wish run secondord case moos configur would perform time work necessari use numberarray semidynamicsparsenumberarray track sparsiti pattern initi oper floatingpoint array element requir eg spars size store _dynamic_n data member data contain never exceed requir runtim problem eg secondord solid mechan exampl cours track sparsiti pattern nonzero cost user know alway run certain kind problem may best serv configur nonspars numberarray contain ad moos mention metaphysicl forwardmod acad packag finit element framework like moos deriv seed begin construct local finit element solut finit element solut approxim given u_h sum_inu_iphi_i u_i repres degre freedom phi_i shape function associ dof lagrang basi shape function dof tie mesh node illustr initi ad process consid construct local finit element solut quad element say quadrilateri number node equal number vertic element type combin lagrang basi four dof contribut local solut one element node moos assign local degre freedom solut valu local u_i variabl class data member call _ad_dof_valu ad prefix denot automat differenti seed deriv valu recogn fracparti u_iparti u_j j correspond local dof index determin somewhat arbitrari number scheme choos variabl major number scheme local degre freedom contigu block variabl eg two variabl system u v number scheme quad element lagrang basi would look like u_u_u_u_v_v_v_v_ subscript correspond local node number examin depend local finit element solut degre freedom arbitrari point domain know analyt expect deriv fracparti u_hparti u_j phi_j chosen gaussian integr point xieta know correspond lagrang phi valu phi_phi_phi_phi_ check verifi whether automat differenti solut _ad_u match text lldb p _ad_u metaphysicldualnumberdoubl metaphysiclsemidynamicsparsenumberarraydoubl unsign int metaphysiclnwrapp fals _val _deriv metaphysicldynamicsparsenumberbasemetaphysicldynamicstdarraywrapperdoubl metaphysiclnwrapp metaphysicldynamicstdarraywrapperunsign int metaphysiclnwrapp metaphysiclsemidynamicsparsenumberarray doubl unsign int metaphysiclnwrapp _data _data _m_elem e e e note unus valu indic appear contain garbag actual desir indic semidynamicsparsenumberarray contain unnecessari compon deriv vector left uniniti also check variabl coupl let us assum reactiontyp problem variabl u disappear rate directli proport concentr appear rate directli proport concentr variabl v strong form residu simpli u v examin deriv term produc automat differenti text lldb p strong_residu metaphysicldualnumberdoubl metaphysiclsemidynamicsparsenumberarraydoubl unsign int metaphysiclnwrapp fals _val _deriv metaphysicldynamicsparsenumberbasemetaphysicldynamicstdarraywrapperdoubl metaphysiclnwrapp metaphysicldynamicstdarraywrapperunsign int metaphysiclnwrapp metaphysiclsemidynamicsparsenumberarray doubl unsign int metaphysiclnwrapp _data _data _m_elem see exactli would expect valu correspond u indic equival shown previou lldb output wherea valu correspond v indic equal neg shown previou lldb output gener qualiti automat different result verifi unit test metaphysicl use petscjacobiantest moos compar jacobian produc automat differenti gener use finit differenc residu latter test reli use wellscal problem poorlysc problem float point error result loss accuraci finitedifferenc jacobian use ad moos leverag automat differenti capabl moos simpl inherit ad base class eg adkernel adintegratedbc addgkernel adnodalbc etc method applic develop overrid computeqpresidu deriv adkernelgrad adkernelvalu overrid precomputeqpresidu coupl ad variabl applic develop use method like adcoupledvalu adcoupledgradi adcoupledsecond etc inherit coupleablecoupleablemd interfac materi properti automat differenti info creat materi class use declareadproperti api acad materi properti retriev comput object like adkernel use getadmaterialproperti api detail exampl acad use reader encourag investig tensor mechan navierstok levelset modul heavili leverag moos acad capabl config navig collapsiblesectionsnon open open open open open sourc document follow complet list document c sourc content list locationsourc sampler sampler class abstract base class creat object gener matrix random number matrix arbitrari size must defin child object call setnumberofrow setnumberofcol method within constructor child class requir overrid pure virtual computesampl method method global row column index input must output singl valu popul sampl data matrix support sampler object within framework minim pleas refer stochast toolsmodulesstochastic_toolsindexmd optionaltru document inform exampl use syntax list sampler objectstru actionsfals subsystemsfals headingavail sampler object adamspredictor syntax descript executionerpredictoradamspredictor adam predictor automat ad moos abpredictorcorrectormd time steppingintegr scheme formula updat adam predictor equat phi_new phi b phi_old c phi_old phi solut vector includ degre freedom nonlinear variabl equat dfracdelta tdelta t_old dfracdelta tdelta t_old equat b dfracdelta tdelta t_old dfracdelta tdelta t_old dfracdelta tdelta t_older equat c dfracdelta tdelta t_old dfracdelta tdelta t_older dfracdelta dfracdelta t_old dfracdelta t_older current previou antepenultim time step size exampl input syntax exampl adamspredictor implicitli creat specifi abpredictorcorrector time step scheme predictor use everi time step perform first updat step list testteststime_integratorsaeeaeei blockexecution syntax paramet executionerpredictoradamspredictor syntax input executionerpredictoradamspredictor syntax children executionerpredictoradamspredictor simplepredictor syntax descript executionerpredictorsimplepredictor simpl predictor use solut previou time step updat solut non linear solv simpl predictor updat equat phi phi dfracdelta tdelta t_old phi_old dfracdelta tdelta t_old phi solut vector includ applic non linear variabl scale factor specifi paramexecutionerpredictorsimplepredictorscal paramet scale factor scale size current time step delta divid previou one exampl input syntax exampl simplepredictor specifi execution use previou time step solut comput better initi guess non linear solv list testtestspredictorssimplepredictor_testi blockexecution syntax paramet executionerpredictorsimplepredictor syntax input executionerpredictorsimplepredictor syntax children executionerpredictorsimplepredictor reporterpointsourc reporterpointsourc read multipl point sourc report point sourc valu coordin updat report valu chang exampl reporterpointsourc use constantreporterconstantreportermd vectorpostrocessor type csvreadercsvreadermd given list testtestsdirackernelsreporter_point_sourced_vppi blockreporter_point_sourc report data taken two differ report eg coordin reporterdata valu come reporterdata two constantreport given list testtestsdirackernelsreporter_point_sourced_vppi blockreport csvreader vectorpostrocessor given list testtestsdirackernelsreporter_point_sourced_vppi blockvectorpostprocessor read follow csv file list testtestsdirackernelsreporter_point_sourcepoint_value_filecsv report vectorpostrocessor exampl produc reporterpointsourc eg magnitud locat next exampl appli reporterpointsourc transient simul given list testtestsdirackernelsreporter_point_sourced_vpp_transienti blockdirackernel use follow vectorpostprocessor provid xyz coordin value_nam u list testtestsdirackernelsreporter_point_sourced_vpp_transienti blockvectorpostprocessorspoint_sample_out input file reporterpointsourc appli load two differ locat note pointvaluesampl execute_on timestep_begin forc vectorpostprocessor execut prior use reporterpointsourc alert note import reporterpointsourc never use vectorpostprocessor contains_complete_histori true modifi order coordin point input file two locat load appli reporterpointsourc load valu given pointvaluesampl syntax paramet dirackernelsreporterpointsourc syntax input dirackernelsreporterpointsourc syntax children dirackernelsreporterpointsourc constantpointsourc syntax descript dirackernelsconstantpointsourc appli load singl locat mesh valu field control control systemsyntaxcontrolsindexmd may leverag control load simul altern functiondiracsourcemd may use spatial tempor variat point sourc use function exampl input syntax exampl three constantpointsourc appli variabl u valu posit respect u solut diffus equat three sourc list testtestsdirackernelsconstant_point_sourced_point_sourcei blockdirackernel syntax paramet dirackernelsconstantpointsourc syntax input dirackernelsconstantpointsourc syntax children dirackernelsconstantpointsourc functiondiracsourc syntax descript dirackernelsfunctiondiracsourc appli load singl locat mesh intens sourc control functionsyntaxfunctionsindexmd spatial tempor variat exampl input syntax exampl timedepend diffus problem sourc provid functiondiracsourc point intens control switch_off function list testtestsdirackernelsfunction_dirac_sourcefunction_dirac_sourcei blockfunct dirackernel syntax paramet dirackernelsfunctiondiracsourc syntax input dirackernelsfunctiondiracsourc syntax children dirackernelsfunctiondiracsourc fvpostprocessordirichletbc descript fvpostprocessordirichletbc specifi valu field boundari valu determin postprocessor exampl syntax list testtestsfvbcsfv_pp_dirichletfv_pp_dirichleti blockpostprocessor list testtestsfvbcsfv_pp_dirichletfv_pp_dirichleti blockfvbc syntax paramet fvbcsfvpostprocessordirichletbc syntax input fvbcsfvpostprocessordirichletbc syntax children fvbcsfvpostprocessordirichletbc fvdirichletbc syntax descript fvbcsfvdirichletbc overview dirichlet boundari condit impos boundari condit ug g constant boundari condit impos weakli valu flux note upwind scheme may use flux kernel affect dirichlet valu appli interfac upwind scheme result boundari solut differ specifi dirichlet valu order obtain desir boundari valu necessari use fvneummannbc specifi flux syntax descript fvbcsfvdirichletbc syntax paramet fvbcsfvdirichletbc syntax input fvbcsfvdirichletbc syntax children fvbcsfvdirichletbc fvfunctionneumannbc syntax descript fvbcsfvfunctionneumannbc overview object equival fvneumannbcmd except constant valu paramet replac function paramet syntax paramet fvbcsfvfunctionneumannbc syntax input fvbcsfvfunctionneumannbc syntax children fvbcsfvfunctionneumannbc fvconstantscalaroutflowbc syntax descript fvbcsfvconstantscalaroutflowbc scalar field advect constant veloc boundari condit use equat solv scalar field defin boundari downstream advect veloc order accuraci boundari condit depend interpol method boundari valu chosen variabl current second order accuraci may obtain specifi two_term_boundary_expans true variabl definit alert note boundari condit assum constant veloc may use flow simul veloc variabl navier stoke modul exampl input syntax exampl v field advect veloc plane boundari condit outflow defin boundari downstream veloc right top list testtestsfvkernelsfv_constant_scalar_advectiond_constant_scalar_advectioni blockfvbc syntax paramet fvbcsfvconstantscalaroutflowbc syntax input fvbcsfvconstantscalaroutflowbc syntax children fvbcsfvconstantscalaroutflowbc fvorthogonalboundarydiffus syntax descript fvbcsfvorthogonalboundarydiffus overview object implement boundari flux equival beginequ fracu_b u_cvert bmd_cfvert endequ diffus coeffici u_b boundari valu comput provid function paramet function u_c valu diffus quantiti neighbor cell centroid c bmd_cf distanc vector drawn cell centroid boundari face centroid syntax paramet fvbcsfvorthogonalboundarydiffus syntax input fvbcsfvorthogonalboundarydiffus syntax children fvbcsfvorthogonalboundarydiffus fvdiffusionfunctionbc syntax descript fvbcsfvdiffusionfunctionbc overview fvdiffusionfunctionbc class use build mm test case paramet exact_solut coeff coeff_funct requir fvdiffusionfunctionbc creat address limit incompress navierstok mm test equat singular dirichlet boundari condit use singular aris way dirichlet boundari condit implement finit volum dirichlet valu conjunct cell center valu use construct valu ghost cell depend form result residu actual singular respect cell center valu lead singular system matrix use mm inform exact_solut coeff_funct construct ghost valu independ cell center valu allevi singular syntax paramet fvbcsfvdiffusionfunctionbc syntax input fvbcsfvdiffusionfunctionbc syntax children fvbcsfvdiffusionfunctionbc fvmatadvectionfunctionbc syntax descript fvbcsfvmatadvectionfunctionbc overview fvmatadvectionfunctionbc class cane use build mm test case paramet exact_solut requir fvmatadvectionfunctionbc creat address limit fvfunctiondirichletbcmd use mm studi pure advect problem result matrix singular due way dirichlet boundari condit implement exampl input file syntax list fvkernelsmmsmatadvectioni blockfvbc syntax paramet fvbcsfvmatadvectionfunctionbc syntax input fvbcsfvmatadvectionfunctionbc syntax children fvbcsfvmatadvectionfunctionbc fvneumannbc syntax descript fvbcsfvneumannbc overview fvneumannbc may use specifi diffus advect flux exampl specifi flux boundari condit follow diffus problem fvneumannbc constant valu g may use beginequ beginalign nabla umathbfm fmathbfm foral mathbfm omega fracparti uparti nmathbfm g foral mathbfm partial omega_n umathbfm foral mathbfm partial omega_d endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari mathbfm point domain boundari case fvneumannbc object use impos condit subset boundari denot partial omega_d case valu field correspond constant g user must defin one sideset correspond boundari partial omega_d pass boundari argument particular problem addit boundari condit exampl fvdirichletbc would also necessari remov nullspac likewis specifi advect flux constant valu g advect problem advect veloc v beginequ beginalign fracparti uparti tmathbfm v fracparti uparti xmathbfm foral mathbfm omega v umathbfm g v foral mathbfm partial omega endalign endequ advect flux valu specifi boundari condit g v model multidimension problem requir fvneumannbc per compon alert note use navier stoke modul fvneumannbc may avail use veloc pressur addit inform requir either gradient direct variabl model fulli develop flow exampl specif boundari condit provid see exampl insfvoutletpressurebc syntax paramet fvbcsfvneumannbc syntax input fvbcsfvneumannbc syntax children fvbcsfvneumannbc fvadvectionfunctionbc syntax descript fvbcsfvadvectionfunctionbc overview fvadvectionfunctionbc class cane use build mm test case paramet exact_solut requir fvadvectionfunctionbc creat address limit fvfunctiondirichletbcmd use mm studi pure advect problem result matrix singular due way dirichlet boundari condit implement exampl input file syntax list fvkernelsmmsadvectioni blockfvbc syntax paramet fvbcsfvadvectionfunctionbc syntax input fvbcsfvadvectionfunctionbc syntax children fvbcsfvadvectionfunctionbc fvmatadvectionoutflowbc descript fvmatadvectionoutflowbc add ident type residu fvmatadvectionfvmatadvectionmd impos boundari ad one side face name impli bc impos outflow boundari simpli advect either materi properti option specifi advected_quant paramet variabl upon bc appli domain veloc specifi vel paramet syntax paramet fvbcsfvmatadvectionoutflowbc syntax input fvbcsfvmatadvectionoutflowbc syntax children fvbcsfvmatadvectionoutflowbc fvfunctiondirichletbc syntax descript fvbcsfvfunctiondirichletbc overview fvfunctiondirichletbc similar fvdirichletbcmd except paramet valu replac function paramet latter functionnam altern direct input pars function fvfunctiondirichletbc gener use critic implement mm studi exampl input file syntax list fvkernelsmmsadvectiondiffusioni blockfvbc syntax paramet fvbcsfvfunctiondirichletbc syntax input fvbcsfvfunctiondirichletbc syntax children fvbcsfvfunctiondirichletbc variabletimeintegrationaux syntax descript auxkernelsvariabletimeintegrationaux integr time lead everi quadratur point exampl syntax exampl variabletimeintegrationaux comput time integr variabl u first second third order scheme respect list testtestsauxkernelstime_integrationtime_integrationi blockauxkernel syntax paramet auxkernelsvariabletimeintegrationaux syntax input auxkernelsvariabletimeintegrationaux syntax children auxkernelsvariabletimeintegrationaux functionscalaraux syntax descript auxscalarkernelsfunctionscalaraux function evalu current time system origin exampl syntax exampl auxiliari scalar kernel use convert function output scalar variabl verifi correct anoth system pars function list testtestsfunctionsparsedscalari blockauxscalarkernel syntax paramet auxscalarkernelsfunctionscalaraux syntax input auxscalarkernelsfunctionscalaraux syntax children auxscalarkernelsfunctionscalaraux penetrationaux auxililari kernel comput sever geometri relat quantiti two differ bodi near contact gap offset paramet gap offset provid offset gap distanc near contact bodi either secondary_gap_offset gap offset secondari side mapped_primary_gap_offset gap offset primari side map secondari side use gap offset paramet treat surfac virtual extend posit offset valu narrow neg offset valu specifi amount surfac treat closer away actual deform resist heat transfer within materi gap offset region syntax descript auxkernelspenetrationaux syntax paramet auxkernelspenetrationaux syntax input auxkernelspenetrationaux syntax children auxkernelspenetrationaux constantboundsaux syntax descript auxkernelsconstantboundsaux descript constantboundsaux use set bound nonlinear variabl specifi paramet bounded_vari bound type upper lower set bound_typ paramet bound_valu use specifi valu bound constantboundsaux expect variabl paramet set auxkernel dummi auxvari constantboundsaux actual oper numericvector held nonlinear system noth return valu specifi variabl note order bound effect user specifi petsc option snes_typ vinewtonssl snes_typ vinewtonrsl warn gener neither option specifi petsc manual page vinewtonssl algorithm found herehttpswwwmcsanlgovpetscpetsccurrentdocsmanualpagessnessnesvinewtonsslshtml manual page vinewtonrsl found herehttpswwwmcsanlgovpetscpetsccurrentdocsmanualpagessnessnesvinewtonrslshtmlsnesvinewtonrsl moos user also enforc constraint moos use upperboundnodalkernelupperboundnodalkernelmd lowerboundnodalkernellowerboundnodalkernelmd howev use object requir introduct lagrang multipli variabl increas size nonlinear system well render precondit method like algebra multigrid ineffect number nonlinear iter requir solv constrain pde defin input fileupperandlowerboundi variou constraint algorithm summar viewntonrsl constantboundsaux vinewtonssl constantboundsaux upperboundnodalkernel lowerboundnodalkernel exampl syntax list testtestsauxkernelsboundsconstant_boundsi blockbound syntax paramet auxkernelsconstantboundsaux syntax input auxkernelsconstantboundsaux syntax children auxkernelsconstantboundsaux variableoldvalueboundsaux syntax descript auxkernelsvariableoldvalueboundsaux descript variableoldvalueboundsaux use set bound bounded_vari old valu bound type upper lower set bound_typ paramet variableoldvalueboundsaux expect variabl paramet set auxkernel dummi auxvari variableoldvalueboundsaux actual oper numericvector held nonlinear system noth return valu specifi variabl note order bound effect user specifi petsc option snes_typ vinewtonssl snes_typ vinewtonrsl warn gener neither option specifi moos user also specifi bound constant use constantboundsauxconstantboundsauxmd exampl syntax list testtestsauxkernelsboundsold_value_boundsi blockbound syntax paramet auxkernelsvariableoldvalueboundsaux syntax input auxkernelsvariableoldvalueboundsaux syntax children auxkernelsvariableoldvalueboundsaux elementlengthaux syntax descript auxkernelselementlengthaux descript element length often need creat stabil coeffici adapt mesh comput minimum maximum element length popul auxvariableauxvariablesindexmd result element size calcul use libmesh hmin hmax method elemhttpslibmeshgithubiodoxygenclasslibmesh__elemhtml class comput length exampl syntax list testtestsauxkernelselement_lengthelement_lengthi blockauxkernel syntax paramet auxkernelselementlengthaux syntax input auxkernelselementlengthaux syntax children auxkernelselementlengthaux materialrealtensorvalueaux syntax descript auxkernelsmaterialrealtensorvalueaux convert field materi system compon tensor materi properti variabl may desir sever reason match format expect certain kernel thu lag field time step outputtestingdebug particularli use examin anisotrop materi properti output purpos altern use output_properti argument materi specifi output_material_properti paramet desir output type nest output block auxkernel use backend paramet alert note ad system current support auxiliari variabl convert materi properti support automat differenti auxiliari variabl deriv ignor exampl syntax exampl materialrealtensorvalueaux use examin diagon anisotrop thermal conduct porou flow simul list modulesporous_flowtestteststhermal_conductivitythermalcondporosityi blockauxkernel syntax paramet auxkernelsmaterialrealtensorvalueaux syntax input auxkernelsmaterialrealtensorvalueaux syntax children auxkernelsmaterialrealtensorvalueaux elementintegeraux syntax descript auxkernelselementintegeraux addit integ field may use group element separ subdomainblock elementintegeraux allow visual addit inform store mesh exampl syntax exampl elementintegeraux use retriev material_id addit field store id auxiliari variabl list testtestsauxkernelsmesh_integerdg_mesh_integeri blockauxkernel syntax paramet auxkernelselementintegeraux syntax input auxkernelselementintegeraux syntax children auxkernelselementintegeraux functionaux syntax descript auxkernelsfunctionaux functionaux help turn field defin function variabl gener help spatial tempor depend field known ahead time kernel object need field expect variabl rather function exampl syntax exampl functionaux use store exact solut problem known defin function aux_exact_fn auxiliari variabl aux_u list testtestsauxkernelselement_varelement_var_testi blockauxkernel syntax paramet auxkernelsfunctionaux syntax input auxkernelsfunctionaux syntax children auxkernelsfunctionaux selfaux syntax descript auxkernelsselfaux use make copi field variabl exampl chang variabl type sinc auxkernel use variabl argument without modifi store result separ variabl selfaux gener requir use highli situat syntax paramet auxkernelsselfaux syntax input auxkernelsselfaux syntax children auxkernelsselfaux materialrankfourtensoraux syntax descript auxkernelsmaterialrankfourtensoraux convert field materi system compon gradient materi properti variabl may desir sever reason match format expect certain kernel thu lag field time step outputtestingdebug particularli use examin anisotrop materi properti output purpos altern use output_properti argument materi specifi output_material_properti paramet desir output type nest output block auxkernel ad automat materialoutputact output paramet specifi materi block rankfourtensor materi properti declar materi alert note ad system current support auxiliari variabl convert materi properti support automat differenti auxiliari variabl deriv ignor syntax paramet auxkernelsmaterialrankfourtensoraux syntax input auxkernelsmaterialrankfourtensoraux syntax children auxkernelsmaterialrankfourtensoraux bibtex bibliographi vectorfunctionaux syntax descript auxkernelsvectorfunctionaux vectorfunctionaux help turn vector field defin function vector variabl gener help spatial tempor depend field known ahead time kernel object need field expect vector variabl rather function exampl syntax exampl vectorfunctionaux use set vector variabl vec valu comput aptli name parsedvectorfunct function list testtestsauxkernelsvector_function_auxvector_function_auxi blockfunct auxkernel syntax paramet auxkernelsvectorfunctionaux syntax input auxkernelsvectorfunctionaux syntax children auxkernelsvectorfunctionaux hardwareidaux syntax descript auxkernelshardwareidaux descript one main purpos object aid diagnost mesh partition one metric look mesh partition well keep internod comput node commun hardwareidaux allow visual see map element comput node job particularli interest case petscexternalpartitionerpetscexternalpartitionermd capabl hierarch partit hierarch partit make possibl partit computenod first within comput node order better respect physic topolog comput cluster one import aspect launch parallel job matter quit bit partit ingener better partition rank job contigu assign comput node four differ way outcom use hardwareidaux launch job use x gener mesh process ndoe two differ partition top left meti mpiexec n host lemhilemhilemhilemhi moose_testopt hardware_id_auxi top right hierarch mpiexec n host lemhilemhilemhilemhi moose_testopt hardware_id_auxi mat_partitioning_hierarchical_nfinepart bottom left meti mpiexec n host lemhilemhilemhilemhi ppn moose_testopt hardware_id_auxi bottom right hierarch mpiexec n host lemhilemhilemhilemhi ppn moose_testopt hardware_id_auxi mat_partitioning_hierarchical_nfinepart immedi appar bottom right partit best reduc amount internod commun result achiev use hierarch partit use ppn tell mpiexec put process comput node caus four process contigu node top two exampl omit ppn option end get stripe mpi process one process place node wrap around caus jumbl mess partit increas commun cost job decreas scalabl media mediaauxkernelshardware_id_auxpng stylewidth syntax paramet auxkernelshardwareidaux syntax input auxkernelshardwareidaux syntax children auxkernelshardwareidaux bibtex bibliographi constantscalaraux syntax descript auxscalarkernelsconstantscalaraux auxkernel use creat constant scalar auxiliari variabl simpler altern functionscalarauxmd provid similar function use constantfunctionmd syntax paramet auxscalarkernelsconstantscalaraux syntax input auxscalarkernelsconstantscalaraux syntax children auxscalarkernelsconstantscalaraux tagvectoraux valu tag vector given node given variabl coupl current auxvari tagvectoraux return coupl nodal valu auxvari written exodu file syntax descript auxkernelstagvectoraux syntax paramet auxkernelstagvectoraux syntax input auxkernelstagvectoraux syntax children auxkernelstagvectoraux bibtex bibliographi functorelementalaux syntax descript auxkernelsfunctorelementalaux overview object popul element auxiliari variabl evalu functor element argument functor may materi properti function anoth variabl alert note version auxiliari kernel automat differenti ad functor particular ad materi properti adfunctorelementalaux exampl input syntax exampl use functorelementalaux convert materi properti functor defin fluid properti materi auxiliari variabl examin exodu output list modulesnavier_stokestesttestsfinite_volumewcnsmaterialsfunctorfluidpropsi blockauxkernel syntax paramet auxkernelsfunctorelementalaux syntax input auxkernelsfunctorelementalaux syntax children auxkernelsfunctorelementalaux vectorvariablecomponentaux vectorvariablecomponentaux class take vector variabl specifi vector_vari paramet gener auxiliari variabl correspond one vector variabl compon compon specifi compon paramet object meant use lagrange_vec vector variabl henc auxiliari variabl type lagrang syntax descript auxkernelsvectorvariablecomponentaux syntax paramet auxkernelsvectorvariablecomponentaux syntax input auxkernelsvectorvariablecomponentaux syntax children auxkernelsvectorvariablecomponentaux elementuoaux syntax descript auxkernelselementuoaux overview aux kernel use retriev valu user object exampl combin elemsideneighborlayersgeomtesterelemsideneighborlayersgeomtestermd elemsideneighborlayerstesterelemsideneighborlayerstestermd output ghost inform exampl syntax exampl elementuoaux use examin ghost element variou rank comput three elemsideneighborlayersgeomtest rank list testtestsmeshuniform_refined_diffusioni blockuserobject auxkernel syntax paramet auxkernelselementuoaux syntax input auxkernelselementuoaux syntax children auxkernelselementuoaux materialranktwotensoraux syntax descript auxkernelsmaterialranktwotensoraux convert field materi system compon gradient materi properti variabl may desir sever reason match format expect certain kernel thu lag field time step outputtestingdebug particularli use examin anisotrop materi properti output purpos altern use output_properti argument materi specifi output_material_properti paramet desir output type nest output block auxkernel ad automat materialoutputact output paramet specifi materi block ranktwotensor materi properti declar materi alert note ad system current support auxiliari variabl convert materi properti support automat differenti auxiliari variabl deriv ignor syntax paramet auxkernelsmaterialranktwotensoraux syntax input auxkernelsmaterialranktwotensoraux syntax children auxkernelsmaterialranktwotensoraux bibtex bibliographi scalartagmatrixaux diagon valu matrix associ tag retriev given node scalar kernel diagon valu save auxvari written exodu file visual vectormagnitudeaux syntax descript auxkernelsvectormagnitudeaux exampl syntax retriev input file magnitud fluid veloc caviti problem compon veloc vector problem variabl list modulesnavier_stokestesttestsfinite_volumeinsliddrivenliddriveni blockauxkernel syntax paramet auxkernelsvectormagnitudeaux syntax input auxkernelsvectormagnitudeaux syntax children auxkernelsvectormagnitudeaux parsedaux syntax descript auxkernelsparsedaux pars express may contain variabl arg paramet coordin space time use_xyzt paramet constant constant_nam name express constant_express valu materi properti current support would realli easi add feel free contact us exampl syntax exampl parsedaux use comput multipl simul variabl u list testtestsoutputspngwedgei blockauxkernel syntax paramet auxkernelsparsedaux syntax input auxkernelsparsedaux syntax children auxkernelsparsedaux auxkernel auxkernel comput valu store auxiliari variabl infinit number way gener valu common one base variablesdata simul ie coupl data read extern file interpol function auxiliari system _extremely_ flexibl purpos data valu comput auxkernel store auxiliari variabl auxvari often use visual ie written output file also coupl back calcul includ kernel provid input system postprocessor auxiliari kernel depend user object includ postprocessor user object put group user object name pre_aux user object evalu auxiliari kernel default user object evalu auxiliari kernel evalu ie post_aux group depend user object depend user object indirectli depend user object auxiliari kernel automat put pre_aux group inform see document auxiliari systemauxkernelsindexmd materialrealaux syntax descript auxkernelsmaterialrealaux descript materialrealaux auxkernel use output materi properti elementlevel constant variabl comput valu volumeaverag quantiti element convert field materi system compon matrix materi properti variabl may desir sever reason match format expect certain kernel thu lag field time step outputtestingdebug alert note ad system current support auxiliari variabl convert materi properti support automat differenti auxiliari variabl deriv ignor exampl input syntax list testtestsmaterialsboundary_materialelem_aux_bc_on_bndi blockauxkernel syntax paramet auxkernelsmaterialrealaux syntax input auxkernelsmaterialrealaux syntax children auxkernelsmaterialrealaux arrayvariablecompon descript auxiliari kernel copi compon array variabl standard auxiliari variabl note variabl famili order copi exact otherwis project prolong involv copi auxiliari variabl use moos object oper standard variabl syntax paramet auxkernelsarrayvariablecompon syntax input auxkernelsarrayvariablecompon syntax children auxkernelsarrayvariablecompon gapvalueaux syntax descript auxkernelsgapvalueaux object typic use mechan contact problem get inform variabl side boundari see geometricsearchdatamd inform treatment contact problem exampl syntax exampl gapvalueaux use retriev valu variabl u boundari rightleft across boundari leftright list testtestsauxkernelsgap_valuegap_valuei blockauxkernel syntax paramet auxkernelsgapvalueaux syntax input auxkernelsgapvalueaux syntax children auxkernelsgapvalueaux volumeaux syntax descript auxkernelsvolumeaux volumeaux sampl element side volum store auxvariablemd requir suppli paramauxkernelsvolumeauxvari type constant monomi exampl syntax exampl volumeaux object volume_aux sampl element volum variabl volum list testtestsauxkernelsvolume_auxelementi syntax paramet auxkernelsvolumeaux syntax input auxkernelsvolumeaux syntax children auxkernelsvolumeaux materialstdvectoraux syntax descript auxkernelsmaterialstdvectoraux convert field materi system compon vector materi properti variabl may desir sever reason match format expect certain kernel thu lag field time step outputtestingdebug particularli use examin anisotrop materi properti output purpos altern use output_properti argument materi specifi output_material_properti paramet desir output type nest output block auxkernel use backend paramet alert note materialrealvectorvalueauxmd provid similar function alert note ad system current support auxiliari variabl convert materi properti support automat differenti auxiliari variabl deriv ignor exampl syntax exampl materialstdvectoraux use examin first compon anisotrop permeabl list porous_flowtesttestsgravitygravgi blockauxkernel startrelpermwat end syntax paramet auxkernelsmaterialstdvectoraux syntax input auxkernelsmaterialstdvectoraux syntax children auxkernelsmaterialstdvectoraux processoridaux auxiliari kernel display mesh partit node element display correspond processor id media mediaframeworkauxkernelspartitionpng captioncoars regular mesh partit way alert note auxkernel use care regress test partit often differ differ platform clearli run differ number processor chang field substanti syntax descript auxkernelsprocessoridaux syntax paramet auxkernelsprocessoridaux syntax input auxkernelsprocessoridaux syntax children auxkernelsprocessoridaux vectorpostprocessorvisualizationaux short descript syntax descript auxkernelsvectorpostprocessorvisualizationaux descript object intend let view vectorpostprocessor vector lenght num_proc mean one valu per mpi process object take valu fill auxiliari field valu visual import note note vectorpostprocessor must sync vector comput processor default mani comput processor that output occurr instanc case workbalanceworkbalancemd default sync processor paramet sync_to_all_proc tell creat copi vector processor syntax paramet auxkernelsvectorpostprocessorvisualizationaux syntax input auxkernelsvectorpostprocessorvisualizationaux syntax children auxkernelsvectorpostprocessorvisualizationaux bibtex bibliographi constantaux constant auxkernel creat constant field domain truli constant field variabl like replac postprocessorpostprocessorsindexmd syntax descript auxkernelsconstantaux syntax paramet auxkernelsconstantaux syntax input auxkernelsconstantaux syntax children auxkernelsconstantaux quotientaux divid one field anoth field node node element element basi alert note auxkernel check divis zero syntax descript auxkernelsquotientaux syntax paramet auxkernelsquotientaux syntax input auxkernelsquotientaux syntax children auxkernelsquotientaux nearestnodevalueaux nearestnodevalueaux use geometr search system find shortest distanc node auxvari defin node differ boundari valu field variabl retriev correspond node use auxkernel copi valu solut field locat one bodi anoth descript syntax syntax descript auxkernelsnearestnodevalueaux syntax paramet auxkernelsnearestnodevalueaux syntax input auxkernelsnearestnodevalueaux syntax children auxkernelsnearestnodevalueaux quotientscalaraux syntax descript auxscalarkernelsquotientscalaraux exampl syntax list testtestsauxkernelsaux_scalar_depsaux_scalar_depsi blockauxscalarkernel syntax paramet auxscalarkernelsquotientscalaraux syntax input auxscalarkernelsquotientscalaraux syntax children auxscalarkernelsquotientscalaraux extraelementidaux descript auxiliari kernel copi element integ auxiliari variabl set variabl valu quadratur point element extra element integ id element element extra element id request paramauxkernelsextraelementidauxextra_id_nam evalu auxiliari kernel better visual consist handl bit bit integ type syntax paramet auxkernelsextraelementidaux syntax input auxkernelsextraelementidaux syntax children auxkernelsextraelementidaux interfacevalueuserobjectaux descript interfacevalueuserobjectaux auxkernel use collect valu store class deriv interfaceqpuserobjectbas exampl interfaceqpvalueuserobjectinterfaceqpvalueuserobjectmd interfacevalueuserobjectaux probe valu store provid userobject save aux variabl quadratur point requir three input variabl name output auxvari boundari name boundari auxkernel appli interface_uo_nam name interfac userobject data store option argument return_side_averag retriev element side averag valu specifi userobject exampl input file syntax list testtestsuserobjectsinterface_user_objectinterface_value_user_object_qpi blockauxkernelsinterface_avg_qp_aux syntax descript auxkernelsinterfacevalueuserobjectaux syntax paramet auxkernelsinterfacevalueuserobjectaux syntax input auxkernelsinterfacevalueuserobjectaux syntax children auxkernelsinterfacevalueuserobjectaux bibtex bibliographi vectorvariablemagnitudeaux vectorvariablemagnitudeaux class take vector variabl specifi vector_vari paramet gener auxiliari variabl correspond euclidean norm vector variabl compon object meant use lagrange_vec vector variabl henc auxiliari variabl type lagrang exampl input syntax list testtestsauxkernelsvector_variable_nodalvector_variable_nodali blockauxkernel syntax descript auxkernelsvectorvariablemagnitudeaux syntax paramet auxkernelsvectorvariablemagnitudeaux syntax input auxkernelsvectorvariablemagnitudeaux syntax children auxkernelsvectorvariablemagnitudeaux ghostingaux syntax descript auxkernelsghostingaux descript ghostingaux allow visual current algebra geomtric ghost functor relationshipmanag go use track overghost one time show ghost element one processor id normal class shouldnt use directli instead set displayghostingactionmd row col classs l media mediaaux_kernelsghost_aux_geometricpng idgeometr captionth default geometr ghost pid colend col classs l media mediaaux_kernelsghost_aux_algebraicpng idalgebra captionth default algebra ghost pid colend rowend syntax paramet auxkernelsghostingaux syntax input auxkernelsghostingaux syntax children auxkernelsghostingaux bibtex bibliographi elementqualityaux syntax descript auxkernelselementqualityaux descript comput perel qualiti metric put valu field exampl shown use shape metric unstructur mesh case perfectli shape element valu qualiti degrad valu shape metric media mediaframeworkauxkernelselement_qualitypng stylewidth shape metric good one use quad tri see list possibl metric document metric paramet syntax paramet auxkernelselementqualityaux syntax input auxkernelselementqualityaux syntax children auxkernelselementqualityaux bibtex bibliographi nearestnodedistanceaux nearestnodedistanceaux use geometr search system find shortest distanc node auxvari defin node differ boundari normal object use find distanc two boundari use find distanc node one bodi boundari media mediaframeworkauxkernelsnearest_nodepng captiondist nearest node opposit boundari shown descript syntax syntax descript auxkernelsnearestnodedistanceaux syntax paramet auxkernelsnearestnodedistanceaux syntax input auxkernelsnearestnodedistanceaux syntax children auxkernelsnearestnodedistanceaux diffusionfluxaux syntax descript auxkernelsdiffusionfluxaux descript diffusionfluxaux auxkernel use comput compon flux vector diffus problem flux comput jdfracparti cpartial x j diffus flux vector diffus diffus coeffici c concentr variabl x coordin support definit diffus without ad syntax paramet auxkernelsdiffusionfluxaux syntax input auxkernelsdiffusionfluxaux syntax children auxkernelsdiffusionfluxaux materialrealvectorvalueaux syntax descript auxkernelsmaterialrealvectorvalueaux convert field materi system compon vector materi properti variabl may desir sever reason match format expect certain kernel lag field time step outputtestingdebug particularli use examin anisotrop materi properti output purpos altern use output_properti argument materi specifi output_material_properti paramet desir output type nest output block alert note ad system current support auxiliari variabl convert materi properti support automat differenti auxiliari variabl deriv ignor exampl syntax exampl materialrealvectorvalueaux use examin differ crack criteria smear crack model list modulestensor_mechanicstesttestssmeared_crackingcracking_rotationi blockauxkernel syntax paramet auxkernelsmaterialrealvectorvalueaux syntax input auxkernelsmaterialrealvectorvalueaux syntax children auxkernelsmaterialrealvectorvalueaux functorvectorelementalaux syntax descript auxkernelsfunctorvectorelementalaux overview object popul element auxiliari variabl evalu functor vector materi properti current element argument select one compon use paramauxkernelsfunctorvectorelementalauxcompon paramet alert note version auxiliari kernel automat differenti ad materi properti adfunctorvectorelementalaux syntax paramet auxkernelsfunctorvectorelementalaux syntax input auxkernelsfunctorvectorelementalaux syntax children auxkernelsfunctorvectorelementalaux solutionscalaraux auxscalarkernel work conjunct solutionuserobjectsolutionuserobjectmd set scalar variabl valu valu scale andor ad util scale_factor add_factor paramet syntax descript auxscalarkernelssolutionscalaraux syntax paramet auxscalarkernelssolutionscalaraux syntax input auxscalarkernelssolutionscalaraux syntax children auxscalarkernelssolutionscalaraux materialstdvectorrealgradientaux syntax descript auxkernelsmaterialstdvectorrealgradientaux convert field materi system compon gradient materi properti variabl may desir sever reason match format expect certain kernel thu lag field time step outputtestingdebug particularli use examin anisotrop materi properti output purpos altern use output_properti argument materi specifi output_material_properti paramet desir output type nest output block auxkernel use backend paramet alert note ad system current support auxiliari variabl convert materi properti support automat differenti auxiliari variabl deriv ignor exampl syntax exampl materialstdvectorrealgradientaux use examin gradient forc densiti particl phase field simul list modulesphase_fieldtesttestsrigidbodymotiongrain_motion_fauxgti blockauxkernel startdf endunique_grain syntax paramet auxkernelsmaterialstdvectorrealgradientaux syntax input auxkernelsmaterialstdvectorrealgradientaux syntax children auxkernelsmaterialstdvectorrealgradientaux solutionaux auxkernel work conjunct solutionuserobjectsolutionuserobjectmd produc field solut creat equival mesh direct option use read use dof inform otherwis point locat use find nearest node element correspond valu final valu scale andor ad util scale_factor add_factor paramet syntax descript auxkernelssolutionaux syntax paramet auxkernelssolutionaux syntax input auxkernelssolutionaux syntax children auxkernelssolutionaux elementlpnormaux syntax descript auxkernelselementlpnormaux use averag variabl element make copi constant element monomi order desir lpnorm natur conserv process also typic use variabl repres error differ known solut turn error quadratur point elementwis error altern object kernel comput lp hp error directli variabl known refer solut use elementlerrorfunctionauxmd elementherrorfunctionauxmd respect comput global norm error metric nodallnormmd elementlnormmd respect nodallerrormd elementlerrormd postprocessor may consid exampl syntax exampl display sever way creat field comput local elementwis norm error field variabl list testtestsauxkernelserror_function_auxerror_function_auxi blockauxkernel syntax paramet auxkernelselementlpnormaux syntax input auxkernelselementlpnormaux syntax children auxkernelselementlpnormaux variablegradientcompon syntax descript auxkernelsvariablegradientcompon result oper store auxiliari variabl variabl analysi gradient use examin solut adequaci mesh discret alert note auxvari current contain automat differenti inform deriv use object solv comput materi properti exampl lead imperfect jacobian impact converg alert note variablegradientcompon may appli element variabl consid gradient within element exampl report gradient constant monomi ident zero exampl input file syntax exampl u linear solut diffus equat sourc term comput two gradient compon use auxkernel store gradient compon separ auxiliari variabl examin gradient u exampl decid use finer mesh given direct correspond gradient well resolv list testtestsauxkernelsgrad_componentgrad_componenti blockauxkernel syntax paramet auxkernelsvariablegradientcompon syntax input auxkernelsvariablegradientcompon syntax children auxkernelsvariablegradientcompon weightedgapaux syntax descript auxkernelsweightedgapaux overview object comput discret weight gap tildeg_i mortar context accord beginequ tildeg_i fracint_gamma_c psi_i g_h daint_gamma_c da endequ gamma_c denot secondari contact interfac psi_i ith shape function associ auxiliari variabl aux kernel comput valu g_h discret version gap function comput aux kernel differ quadratur point locat primari secondari face time normal vector syntax paramet auxkernelsweightedgapaux syntax input auxkernelsweightedgapaux syntax children auxkernelsweightedgapaux spatialuserobjectaux syntax descript auxkernelsspatialuserobjectaux user object gener flexibl auxiliari kernel object creat allow connect variabl systemsyntaxvariablesindexmd userobject _must_ implement spatialvalu virtual function framework follow object current use postprocessorspatialuserobjectmd nearestpointintegralvariablepostprocessormd layeredintegralderiv object layeredaveragemd layeredintegralmd layeredsideintegralderiv object layeredsideaveragemd layeredsideintegralmd nearestpointbasederiv object nearestpointlayeredaveragemd linevaluesamplermd fxintegralbaseuserobjectfxintegralbaseuserobjectmd optionaltru addit object may implement applic exampl syntax exampl spatialuserobjectaux use store auxiliari variabl averag anoth variabl u multipl layer along right boundari direct list testtestsuserobjectslayered_side_integrallayered_side_averagei blockauxkernel userobject alert note automat differenti support auxiliari variabl system use spatialuserobjectaux propag deriv syntax paramet auxkernelsspatialuserobjectaux syntax input auxkernelsspatialuserobjectaux syntax children auxkernelsspatialuserobjectaux normalizationaux syntax descript auxkernelsnormalizationaux formula normal equat dfracvari normal_factornorm shift exampl syntax exampl normalizationaux use normal output eigenproblem common use case reactor physic neutron flux output numer solv may normal normal obtain desir power level power use normal store unorm elementintegralvariablepostprocessor list testsproblemseigen_problemeigensolversne_coupledi blockauxkernel syntax paramet auxkernelsnormalizationaux syntax input auxkernelsnormalizationaux syntax children auxkernelsnormalizationaux forcingfunctionaux syntax descript auxkernelsforcingfunctionaux auxkernel add forc function valu auxvari previou time step time step delta valu auxvari comput beginequ vt delta vt f delta endequ v auxvari f forc function f moos function specifi input paramet exampl input file syntax exampl valu postprocessor suppli forc function f use forcingfunctionaux auxkernel increment auxvari list testtestsauxkernelsforcing_function_auxforcing_function_auxi blockauxkernel syntax paramet auxkernelsforcingfunctionaux syntax input auxkernelsforcingfunctionaux syntax children auxkernelsforcingfunctionaux buildarrayvariableaux syntax descript auxkernelsbuildarrayvariableaux exampl syntax list testtestsauxkernelsbuild_array_variable_auxbuild_array_variable_auxi blockvari list testtestsauxkernelsbuild_array_variable_auxbuild_array_variable_auxi blockauxvari list testtestsauxkernelsbuild_array_variable_auxbuild_array_variable_auxi blockauxkernel syntax paramet auxkernelsbuildarrayvariableaux syntax input auxkernelsbuildarrayvariableaux syntax children auxkernelsbuildarrayvariableaux debugresidualaux syntax descript auxkernelsdebugresidualaux kernel use debug debug block paramet show_var_residual_norm may use identifi problemat variabl whose residu decreas solv spatial depend variabl contribut residu may examin inform debug converg issu may found heremodulesdoccontentapplication_usagefailed_solvesmd optionaltru syntax paramet auxkernelsdebugresidualaux syntax input auxkernelsdebugresidualaux syntax children auxkernelsdebugresidualaux vectormaterialrealvectorvalueaux syntax descript auxkernelsvectormaterialrealvectorvalueaux descript vectormaterialrealvectorvalueaux auxkernel use output vectorquant materi properti vector finit element variabl eg variabl famili monomial_vec sinc auxiliari kernel execut element due element natur materi properti syntax paramet auxkernelsvectormaterialrealvectorvalueaux syntax input auxkernelsvectormaterialrealvectorvalueaux syntax children auxkernelsvectormaterialrealvectorvalueaux materialrealdensematrixaux syntax descript auxkernelsmaterialrealdensematrixaux convert field materi system compon matrix materi properti variabl may desir sever reason match format expect certain kernel thu lag field time step outputtestingdebug particularli use examin anisotrop materi properti output purpos altern use output_properti argument materi specifi output_material_properti paramet desir output type nest output block auxkernel use backend paramet alert note ad system current support auxiliari variabl convert materi properti support automat differenti auxiliari variabl deriv ignor exampl syntax exampl materialrealdensematrixaux use examin first row first column element matrix materi properti list testtestsmaterialstypestesti blockauxkernel startdensemat enddensemat syntax paramet auxkernelsmaterialrealdensematrixaux syntax input auxkernelsmaterialrealdensematrixaux syntax children auxkernelsmaterialrealdensematrixaux scalartagvectoraux valu tag vector scalar kernel given node given variabl coupl current auxvari scalartagvectoraux return coupl valu auxvari written exodu file elementherrorfunctionaux class comput elementwis h sobolev space error actual wp error set valu p someth differ exact solut typic repres parsedfunctionmooseparsedfunctionmd specifi solut variabl exampl syntax list testtestsauxkernelserror_function_auxerror_function_auxi blockauxkernelsh_error_aux syntax descript auxkernelselementherrorfunctionaux syntax paramet auxkernelselementherrorfunctionaux syntax input auxkernelselementherrorfunctionaux syntax children auxkernelselementherrorfunctionaux elementlerrorfunctionaux class comput elementwis l error actual lp error set valu p someth differ exact solut typic repres parsedfunctionmooseparsedfunctionmd coupl solut variabl base class implement comput function exampl syntax list testtestsauxkernelserror_function_auxerror_function_auxi blockauxkernelsl_error_aux syntax descript auxkernelselementlerrorfunctionaux syntax paramet auxkernelselementlerrorfunctionaux syntax input auxkernelselementlerrorfunctionaux syntax children auxkernelselementlerrorfunctionaux functionarrayaux descript functionarrayaux use evalu auxiliari array variabl set function number function equal number compon array variabl nodal array variabl function valu node point assign compon array variabl element array variabl elementwis l project perform compon function valu evalu element quadratur point syntax paramet auxkernelsfunctionarrayaux syntax input auxkernelsfunctionarrayaux syntax children auxkernelsfunctionarrayaux tagmatrixaux diagon valu matrix associ tag retriev given node diagon valu use nodal valu auxvari written exodu file visual syntax descript auxkernelstagmatrixaux syntax paramet auxkernelstagmatrixaux syntax input auxkernelstagmatrixaux syntax children auxkernelstagmatrixaux bibtex bibliographi nonlinearsystem nonlinearsystem object hold equat system creat normal fem process eg matrix rh vector solv normal moos use petsc store solv system object find callback routin use petsc solver newtons_method jacobian_definit linear_method augmenting_spars may find addit document relev nonlinearsystem nonlineareigensystem nonlinearsystembasemd solv nonlinear system idnewtons_method applic finit element method convert pde system nonlinear equat r_iu_h qquad ildot n solv coeffici u_j jdotsn newton method good converg properti use solv system nonlinear equat newton method root find method find zero nonlinear equat newton method updat form find root scalar equat beginarrayrlfx fx mathbbr rightarrow mathbbrtextrm given fx_n delta x_n fx_n x_n x_n delta x_nendarray dont one scalar equat system nonlinear equat lead follow form newton method beginalign mathbfjvecu_n deltavecu_n vecrvecu_n vecu_n vecu_n deltavecu_nendalign mathbfjvecu_n jacobian matrix evalu current iter j_ijvecu_n fracparti r_ivecu_nparti u_j note fracparti u_hparti u_j sum_kfracparti partial u_jleftu_k phi_kright phi_j qquad fracparti leftnabla u_hrightparti u_j sum_k fracparti partial u_jleftu_k nabla phi_kright nabla phi_j jacobian definit idjacobian_definit effici newton solv eg one requir nonlinear iter requir accur jacobian matrix accur approxim action vector explicit matrix form jacobian action vector comput algorithm commonli refer matrixfre petsc jargon jacobianfreejfnk moos jargon default solv algorithm moos pjfnk precondit jacobianfre newtonkrylov krylov refer linear solut algorithm use solv nonlinear iter newton algorithm inform solv linear system pleas see linear_method even jacobianfre nonlinear algorithm chosen typic good precondit matrix still need build matrix accomplish automat use automat differentiationad andor manuallyhand_coded_jac automat differenti idad one elect sacrific comput speed calcul jacobian automat use automat differenti adhttpsenwikipediaorgwikiautomatic_differenti moos employ dualnumb class metaphysiclhttpsgithubcomroystgnrmetaphysicl packag order enabl ad applic develop want make use ad inherit adkernel oppos kernel addit coupl variabl adcoupl method use exampl retriev coupl valu instead use coupledvaluev adkernel constructor adcoupledvaluev use adcoupledgradi replac coupledgradi etc exampl coupl ad variabl found adcoupledconvectionctestsrckernelsadcoupledconvectionc adcoupledconvectionhtestincludekernelsadcoupledconvectionh moreov materi properti may depend nonlinear variabl retriev use getadmaterialproperti instead getmaterialproperti declar materi use declareadproperti exampl ad materi sourc header file found heretestsrcmaterialsadcoupledmaterialc heretestincludematerialsadcoupledmaterialh exampl kernel sourc header file use ad materi properti found heretestsrckernelsadmatdiffusiontestc heretestincludekernelsadmatdiffusiontesth object central ad comput object adreal defin moosetypesmoosetypesmd tradit handcod jacobian idhand_coded_jac finit element shape function introduc document section feproblembasemdshape_funct outlin primari variabl summat shape function multipli constant coeffici degre freedom end newtons_method gave explicit illustr deriv variabl u respect jth degre freedom u_j equal jth shape function phi_j similarli deriv nabla u respect u_j equal nabla phi_j code express _phi_j_qp repres fracparti uparti u_j moos framework residu jacobian comput object kernel boundari condit moos kernel may arbitrari number variabl coupl coupl variabl use shape function famili order associ phi_j equival howev u v use differ shape function phi_ju ne phi_jv develop howev case worri differ phi moos automat updat object member variabl _phi use shape function variabl jacobian current comput howev primari variabl u scalarvalu singlecompon finit element variabl coupl variabl v vectorvalu multicompon finit element variabl visa versa must introduc addit member variabl repres shape function vectorvalu scalarvalu variabl name variabl develop suggest perhap _standard_ prefix scalar valu finiteel variabl _vector_ vector valu finiteel variabl _standard_ prefix suggest _scalar_ confus moosevariablescalar singl valu entir spatial domain exampl constructor standard kernel coupl vectorvalu fe variabl shown efieldadvectionefieldadvectionconst inputparamet paramet kernelparamet _efield_idcoupledefield _efieldcoupledvectorvalueefield _efield_vargetvectorvarefield _vector_phi_assemblyphi_efield_var _mobilitygetparamrealmobl associ declar const unsign int _efield_id const vectorvariablevalu _efield vectormoosevari _efield_var const vectorvariablephivalu _vector_phi const real _mobil real _sgn residu ondiagon offdiagon method respect real efieldadvectioncomputeqpresidu return _grad_test_i_qp _sgn _mobil _efield_qp _u_qp real efieldadvectioncomputeqpjacobian return _grad_test_i_qp _sgn _mobil _efield_qp _phi_j_qp real efieldadvectioncomputeqpoffdiagjacobianunsign int jvar jvar _efield_id return _grad_test_i_qp _sgn _mobil _vector_phi_j_qp _u_qp els return exampl constructor vector kernel coupl scalarvalu fe variabl shown vectorcoupledgradienttimederivativevectorcoupledgradienttimederiv const inputparamet paramet vectorkernelparamet _grad_v_dotcoupledgradientdotv _d_grad_v_dot_dvcoupleddotduv _v_idcoupledv _v_vargetvarv _standard_grad_phi_assemblygradphi_v_var associ declar const variablegradi _grad_v_dot const variablevalu _d_grad_v_dot_dv const unsign _v_id moosevari _v_var const variablephigradi _standard_grad_phi residu offdiagon jacobian method respect real vectorcoupledgradienttimederivativecomputeqpresidu return _test_i_qp _grad_v_dot_qp real vectorcoupledgradienttimederivativecomputeqpoffdiagjacobianunsign jvar jvar _v_id return _test_i_qp _d_grad_v_dot_dv_qp _standard_grad_phi_j_qp els return alert note titleflex note one member need repres shape function standard moosevari vectormoosevari exampl vectorvari v w coupl standard kernel u singl _vector_phi member need ad need _v_phi _w_phi _vector_phi automat updat repres shape function whichev vector variabl jacobian comput newton simpl equat idsimple_newton consid convectiondiffus equat nonlinear k vecbeta f beginalign nablacdot knabla u vecbeta cdot nabla u fendalign ith compon residu vector beginalign r_iu_h leftnablapsi_i knabla u_h right langlepsi_i knabla u_hcdot hatn rangl leftpsi_i vecbeta cdot nabla u_hright leftpsi_i frightendalign use previouslydefin rule fracparti u_hparti u_j fracparti leftnabla u_hrightparti u_j ij entri jacobian beginalign j_iju_h leftnablapsi_i fracparti kpartial u_jnabla u_h right leftnablapsi_i k nabla phi_j right left langlepsi_i fracparti kpartial u_jnabla u_hcdot hatn rightrangl left langlepsi_i knabla phi_jcdot hatn rightrangl leftpsi_i fracparti vecbetaparti u_j cdotnabla u_hright leftpsi_i vecbeta cdot nabla phi_jright leftpsi_i fracparti fpartial u_jrightendalign note even simpl equat jacobian entri nontrivi depend partial deriv k vecbeta f may difficult timeconsum comput analyt multiphys set mani coupl equat complic materi properti jacobian might extrem difficult determin chain rule idchain_rul previou slide term fracparti fpartial u_j use f nonlinear forc function chain rule allow us write term beginalign fracparti fpartial u_j fracparti fpartial u_h fracparti u_hparti u_j fracparti fpartial u_h phi_jendalign function form f known eg fu sinu formula impli jacobian contribut given fracparti fpartial u_j cosu_h phi_j jacobianfre newtonkrylov idjfnk mathbfjvecu_ndelta vecu_n vecrvecu_n linear system solv newton step simplic write linear system mathbfavecx vecb mathbfa equiv mathbfjvecu_n vecx equiv delta vecu_n vecb equiv vecrvecu_n employ iter krylov method eg gmre produc sequenc iter vecx_k rightarrow vecx kldot mathbfa vecb remain fix iter process linear residu step k defin vecrho_k equiv mathbfavecx_k vecb moos print norm vector vecrho_k iter set print_linear_residu true output block nonlinear residu print moos vecrvecu_n iter k krylov method construct subspac mathcalk_k textspan vecb mathbfavecb mathbfavecb ldot mathbfakvecb differ krylov method produc vecx_k iter differ way conjug gradient vecrho_k orthogon mathcalk_k gmresminr vecrho_k minimum norm vecx_k mathcalk_k biconjug gradient vecrho_k orthogon mathcalk_kmathbfat mathbfj never explicitli need construct subspac action mathbfj vector requir action approxim mathbfjvecv approx fracvecrvecu epsilonvecv vecrvecuepsilon form mani advantag need analyt deriv form mathbfj time need comput mathbfj residu comput space need store mathbfj solv linear system idlinear_method commonli hear two way solv implicit linear system equat directli iter typic direct solv perform lu factorizationhttpsenwikipediaorgwikilu_decomposit direct solv great tool solv smallmedium size system howev extrem expens appli largescal problem solv largescal system iter method must use success iter method krylov method krylov method work find solut axb within space call krylov subspacehttpsenwikipediaorgwikikrylov_subspac span imag b power two use krylov algorithm conjug gradienthttpsenwikipediaorgwikiconjugate_gradient_method gmreshttpsenwikipediaorgwikigmr conjug gradient gener work symmetr positivedefinit matric greater flexibl gmre default linear solut algorithm petsc consequ moos augment sparsiti idaugmenting_spars one routin nonlinearsystembaseaugmentspars name suggest augment sparsiti pattern matrix current method add sparsiti come moos constraint object queri geometr connect inform secondari primari boundari pair queri dofmap attach nonlinearsystembas libmesh nonlinearimplicitsystem dof indic exist element attach secondaryprimari node geometr connect inform come nearestnodelocatorsnearestnodelocatormd held geometricsearchdatageometricsearchdatamd object feproblembasefeproblembasemd displacedproblemdisplacedproblemmd latter mesh displac futur sparsiti augment constraint occur relationshipmanagersrelationshipmanagermd instead augmentspars method nonlinearsystembas class deriv systembasemd immedi base class nonlinearsystemmd nonlineareigensystem gener simul alway exactli one nonlinearsystembas object hold oper simul nonlinear variabl scale idscal critic part effici nonlinear solv effici accur linear solv linear system poor condit number linear solv may ineffici case pjfnk may even inaccur precondit meant combat poor linear system condit may help precondit matrix precondit process reli poorli condit inspect condit number precondit matrix small problem less degre freedom run petsc option pc_type svd pc_svd_monitor option tell condit number well mani singular valu singular valu may omit boundari condit may null space neumann boundari condit exampl may poor scale variabl multiphys simul may even run issu nodal boundari condit introduc valu uniti diagon jacobian entri physic kernel larg want condit number close uniti possibl automat scale idautosc address poor condit number often result poor rel scale variabl use moos automat scale featur bring differ physic jacobian close uniti possibl turn featur set automatic_sc paramet execution block true addit want updat scale factor everi time step set executionercompute_scaling_oncefals default latter paramet set true order save comput expens default scale factor comput sole base inform computejacobian method howev residu inform hybrid jacobian residu inform may also use set execution paramet resid_vs_jac_scaling_param default valu signal pure jacobian scale set valu request pure residu scale valu inbetween repres hybrid residu jacobian anoth paramet relev automat scale scaling_group_vari paramet variabl group singl common factor appli multipl group use semicolon separ exampl shown execution block exampl residualjacobian inform displac disp_ variabl would use determin singl scale factor similarli residualjacobian inform veloc vel_ variabl would use determin singl scale factor execution automatic_sc true scaling_group_vari disp_x disp_i disp_z vel_x vel_i vel_z current implement automat scale moos fairli simpl proce accord step comput jacobian andor residu kernel scalarkernel nodalkernel fvkernel off_diagonals_in_auto_sc set true input file aggreg entri jacobian row singl row valu take absolut valu valu submit sparsematrixadd method off_diagonals_in_auto_sc specifi set fals input file diagon entri jacobian matrix consid regardless valu off_diagonals_in_auto_sc result oper numericvector data examin vector jacobian data residu vector everi row correspond given variabl group variabl recal scaling_group_vari paramet comput scale factor maximum absolut valu jacobian data vector residu across variabl group variabl row uniti hybrid residu jacobian scale request singl scale factor comput residu scale factor jacobian scale factor comput variabl group done follow code inverse_scaling_factor actual denot reciprocalinvers final appli variabl scale factor c inverse_scaling_factorsi stdexp_resid_vs_jac_scaling_param stdlogresid_inverse_scaling_factorsi _resid_vs_jac_scaling_param stdlogjac_inverse_scaling_factorsi execut kernel object object like boundarycondit dgkernel interfacekernel constraint may appli penalti factor introduc global constraint thing like dirichlet condit hang node mesh adapt want scale factor repres physic penalti constraint auxiliarysystem auxiliarysystem object use moos hold field variabl part pde system solv explicitli calcul quantiti full shape function support access previou valu old older systembas systembas abstract class repres system equat basi nonlinearsystemmd auxiliarysystemmd displacedsystem object system contain necessari object hold mesh one field variabl discret mesh one scalar variabl dof directli associ mesh access raw numer vector contain solut inform go class deriv object split alert construct titleundocu class split document content list use start point document class includ typic automat document associ mooseobject howev contain ultim determin necessari make document clear user markdown split syntax descript preconditioningsplit overview replac line inform regard split object exampl input file syntax describ includ exampl use split object syntax paramet preconditioningsplit syntax input preconditioningsplit syntax children preconditioningsplit alertend syntax descript preconditioningsplit syntax paramet preconditioningsplit syntax input preconditioningsplit syntax children preconditioningsplit constantdamp syntax descript dampersconstantdamp constant damp factor may improv stabil slow converg simul advanc damper taper iter damp less within certain domain boundingvaluenodaldampermd impact less converg properti inform damper may found damper syntax documentationsyntaxdampersindexmd exampl input syntax exampl constant damp factor appli variabl u list testtestsdampersconstant_damperconstant_damper_testi blockdamp syntax paramet dampersconstantdamp syntax input dampersconstantdamp syntax children dampersconstantdamp maxincr syntax descript dampersmaxincr maxincr damper limit chang variabl one nonlinear iter follow iter smaller valu set max_incr result nonlinear step exampl input syntax list testtestsdampersmax_incrementmax_increment_damper_testi blockdamp syntax paramet dampersmaxincr syntax input dampersmaxincr syntax children dampersmaxincr boundingvalueelementdamp syntax descript dampersboundingvalueelementdamp valu damper modifi everi quadratur point base far defin bound variabl direct variabl increment success iter away closer bound damp increas variabl move away prescrib bound inform damper may found damper syntax documentationsyntaxdampersindexmd exampl input syntax exampl variabl u damp minimum maximum valu respect minimum damp factor list testtestsdampersmin_dampingmin_elem_dampingi blockdamp syntax paramet dampersboundingvalueelementdamp syntax input dampersboundingvalueelementdamp syntax children dampersboundingvalueelementdamp boundingvaluenodaldamp syntax descript dampersboundingvaluenodaldamp valu damper modifi everi quadratur point base far defin bound variabl direct variabl increment success iter away closer bound damp increas variabl move away prescrib bound inform damper may found damper syntax documentationsyntaxdampersindexmd exampl input syntax exampl variabl u damp minimum maximum valu respect minimum damp factor list testtestsdampersmin_dampingmin_nodal_dampingi blockdamp syntax paramet dampersboundingvaluenodaldamp syntax input dampersboundingvaluenodaldamp syntax children dampersboundingvaluenodaldamp nullexecutor alert construct titleundocu class nullexecutor document content list use start point document class includ typic automat document associ mooseobject howev contain ultim determin necessari make document clear user syntax descript executorsnullexecutor overview replac line inform regard nullexecutor object exampl input file syntax describ includ exampl use nullexecutor object syntax paramet executorsnullexecutor syntax input executorsnullexecutor syntax children executorsnullexecutor executor executor control execut behavior simul direct flow solv step output record etc executor similar origin execution system one primari virtual function executor implement defin behavior howev executor differ design compos arbitrari tree structur incod user via input file similar meshgener system work executor system current highli experiment yet stabil fulli implement reason moos run mode given executor flag command line system name may chang input syntax may chang etc warn use executor input file use executor must rememb pass executor flag cli run applic binari allow execution block omit caus moos ignor present support new executor block ad input file user popul block equival content normal present execution block hypothet exampl executor solv type foosolv max_it refin type refin inner solv init type init inner refin petsc_opt might perform equival someth like current steadi execution exampl init becom primari executor thing set tear simul insid setup teardown execut inner executor set refin refin executor mesh refin thing execut inner executor set solv allow refin wrappedinsert arbitrari area simul execut process new system also capabl provid aliaslik executor gener equival executor tree programmat order replic current steadi transient behavior like user current expect executor steadi type fauxsteadi solve_typ pjfnk petsc_options_inam pc_type pc_hypre_typ petsc_options_valu hypr boomeramg executor would simpli gener initsolverefin trio executor programmat hide executor structur user default last executor list executor block becom masterprimari executor moos directli execut executor executor execut ifwhen execut reach within executor tree start master executor default executor automat gener executeon flag creat flag execut right right executor execut name exec_objname_begin exec_objname_end respect objnam name given object block header input file eg foo type fooexecutor object name foo object eg user object materi etc assign execut executeon flagstim within input file behavior fulli implement almost certainli work right definit tri use yet name flag also modifi within input file via executor begin_exec_flag end_exec_flag input paramet write custom executor executor one primari function virtual result run must implement executor intern executor call executor result exec function run function executor exec run function return result valu contain inform execut turn within executor tree executor respons record convergencesuccess occur within gener accomplish use resultpassmsg resultfailmsg function result object creat initi call newresult member function result fooexecutorrun result r newresult must catch return valu refer bool success solv stuff success rfailth foo didnt work right bar els default result consid successfulconverg need call fail failur call pass success option rpassrunnin like well oil machin return r executor internalsub executor need execut respons initi execut well record result valu gener executor use resultrecord function inputparamet steadyvalidparam inputparamet param executorvalidparam creat input paramet subintern solv executor paramsaddrequiredparamstdstringsolv first solv paramsaddrequiredparamstdstringsolv second solv return param fooexecutorfooexecutorinputparamet param _inner_solve_fe_problemgetexecutorgetparamstdstringsolv retriev inner executor object _inner_solve_fe_problemgetexecutorgetparamstdstringsolv result fooexecutorrun result r newresult record innersub executor result give label help identifi placementrol within executor heirarchi rrecordsolv _inner_solveexec rrecordsolv _inner_solveexec return r result valu provid conveni bool convergedallfunct recurs determin singl executor result within current execut portion tree fail converg check converg within executor usual mechan use result fooexecutorrun result r newresult record innersub executor result give label help identifi placementrol within executor heirarchi rrecordsolv _inner_solveexec rrecordsolv _inner_solveexec someth insid _inner_solv _inner_solv may fail converg rconvergedal rfailfoo iter didnt work right mayb add addit error msg context return r mayb want bail earli rrecordsolv _inner_solveexec return r nodalmaxvalu syntax descript postprocessorsnodalmaxvalu postprocessor deprec pleas use nodalextremevaluemd syntax paramet postprocessorsnodalmaxvalu syntax input postprocessorsnodalmaxvalu syntax children postprocessorsnodalmaxvalu elementextremevalu syntax descript postprocessorselementextremevalu option provid parampostprocessorselementextremevalueproxy_vari chang behavior postprocessor find quadratur point proxi variabl reach maxmin valu return valu specifi variabl point correspond postprocessor find extrem valu nodal variabl evalu node nodalextremevaluenodalextremevaluemd exampl input file syntax syntax paramet postprocessorselementextremevalu syntax input postprocessorselementextremevalu syntax children postprocessorselementextremevalu relativesolutiondifferencenorm syntax descript postprocessorsrelativesolutiondifferencenorm formula rel differ equat dfracun unun u solut vector compos degre freedom compon nonlinear variabl n index time step exampl input syntax exampl relativesolutiondifferencenorm use examin converg transient sourcediffus problem list testtestspostprocessorsrelative_solution_difference_normtesti blockpostprocessor syntax paramet postprocessorsrelativesolutiondifferencenorm syntax input postprocessorsrelativesolutiondifferencenorm syntax children postprocessorsrelativesolutiondifferencenorm greaterthanlessthanpostprocessor syntax descript postprocessorsgreaterthanlessthanpostprocessor descript greaterthanlessthanpostprocessor comput total number degre freedom nonlinear variabl greater less paramet valu comparison greater less specifi use mooseenum paramet compar possibl valu compar greater less comput may also restrict subdomain use paramet subdomain exampl syntax list testtestsnodalkernelsconstraint_enforcementlowerboundi blockpostprocessor syntax paramet postprocessorsgreaterthanlessthanpostprocessor syntax input postprocessorsgreaterthanlessthanpostprocessor syntax children postprocessorsgreaterthanlessthanpostprocessor bibtex bibliographi averageelements syntax descript postprocessorsaverageelements relev metric meshsyntaxmeshindexmd may obtain local use elementqualityauxmd exampl input syntax exampl advect problem solv multipl mesh refin level method manufactur solutionpythonmmsmd optionaltru studi size mesh output csv use averageelements postprocessor list testtestsfvkernelsmmsadvectiveoutflowadvectioni blockpostprocessor syntax paramet postprocessorsaverageelements syntax input postprocessorsaverageelements syntax children postprocessorsaverageelements functionvaluepostprocessor syntax descript postprocessorsfunctionvaluepostprocessor syntax paramet postprocessorsfunctionvaluepostprocessor syntax input postprocessorsfunctionvaluepostprocessor syntax children postprocessorsfunctionvaluepostprocessor receiv syntax descript postprocessorsreceiv overview receiv postprocessor use report scalar valu creat part system transfer object comput valu note user may set default valu default paramet replac line inform regard receiv object exampl input file syntax describ includ exampl use receiv object syntax paramet postprocessorsreceiv syntax input postprocessorsreceiv syntax children postprocessorsreceiv numfixedpointiter syntax descript postprocessorsnumfixedpointiter mani problem often multiphys need iter converg steadi state problem done use pseudotransi time step increment iter problem alreadi transient natur also done use fix point process solv iter converg postprocessor serv measur number iter need reach converg exampl input file syntax input file twolevel multiphys coupl mean master app coupl subapp coupl subsubapp count number iter converg top level coupl postprocessor iter taken converg bottom level coupl count would count similar postprocessor intermedi subappl list testsmultiappspicard_multilevelpicard_masteri blockpostprocessorspicard_it syntax paramet postprocessorsnumfixedpointiter syntax input postprocessorsnumfixedpointiter syntax children postprocessorsnumfixedpointiter scalarvari syntax descript postprocessorsscalarvari exampl input syntax exampl scalar variabl v solut simpl reaction ode use scalarvari postprocessor output valu scalar variabl csv file list testtestspostprocessorsscalar_variablescalar_variable_ppsi blockpostprocessorsreport syntax paramet postprocessorsscalarvari syntax input postprocessorsscalarvari syntax children postprocessorsscalarvari elementaveragevalu syntax descript postprocessorselementaveragevalu element averag variabl defin ratio integr volum domain equat baru dfracint_omega u domegaint_omega domega averag may taken restrict block take averag boundari sideaveragevaluemd use instead exampl input syntax exampl comput averag variabl u whole domain list testtestspostprocessorselement_average_valueelement_average_value_testi blockpostprocessor syntax paramet postprocessorselementaveragevalu syntax input postprocessorselementaveragevalu syntax children postprocessorselementaveragevalu nodalsum comput sum nodal valu specifi variabl syntax paramet postprocessorsnodalsum syntax input postprocessorsnodalsum syntax children postprocessorsnodalsum functionelementintegr syntax descript postprocessorsfunctionelementintegr postprocessor comput integr yt function fmathbfx domain v beginequ yt intlimits_v fmathbfx dv endequ syntax paramet postprocessorsfunctionelementintegr syntax input postprocessorsfunctionelementintegr syntax children postprocessorsfunctionelementintegr bibtex bibliographi nodallerror syntax descript postprocessorsnodallerror typic use compar nodal variabl known analyt solut comput error regard variabl instead function may use parsedauxmd store differ auxvari use nodallerror nodallnormmd postprocessor comput norm exampl input syntax exampl variabl u solut diffusionsourc problem know analyt solut problem use nodallerror postprocessor examin qualiti numer solut list testtestsauxkernelstime_integrationtime_integrationi blockpostprocessor function syntax paramet postprocessorsnodallerror syntax input postprocessorsnodallerror syntax children postprocessorsnodallerror elementaveragematerialproperti postprocessor comput averag materi properti domain syntax paramet postprocessorselementaveragematerialproperti syntax input postprocessorselementaveragematerialproperti syntax children postprocessorselementaveragematerialproperti elementlnorm syntax descript postprocessorselementlnorm element l_ norm defin equat u_l_ sqrtint_omega u domega element l_ norm variabl u comput equat u_l_ sqrtsum_textmesh element sum_textquadratur point qp jqp wqp cqp uqp j term account geometryvolum element w weight quadraturesyntaxexecutionerquadratureindexmd c eventu coordin chang cylindr spheric uqp valu variabl quadratur point exampl input syntax exampl comput l norm varieti auxiliari variabl type use elementlnorm postprocessor list testtestsauxkernelselement_aux_varl_element_aux_var_testi blockpostprocessor syntax paramet postprocessorselementlnorm syntax input postprocessorselementlnorm syntax children postprocessorselementlnorm variableinnerproduct syntax descript postprocessorsvariableinnerproduct inner product comput l norm equat langl u v rangl int_omega ux vx domega u v variabl second_vari paramet omega integr domain either whole domain specifi block exampl input syntax input file comput inner product langl fg rangl ff auxiliari variabl verifi ff equal l norm list testtestspostprocessorsvariable_inner_productvariable_inner_producti blockpostprocessor syntax paramet postprocessorsvariableinnerproduct syntax input postprocessorsvariableinnerproduct syntax children postprocessorsvariableinnerproduct residu syntax descript postprocessorsresidu nonlinear residu may queri nonlinear iter inform residu may found hereresr residu may split variabl use variableresidualmd postprocessor exampl input syntax exampl u solut diffus problem predictor time integr scheme use residu postprocessor report residu list testtestspredictorssimplepredictor_testi blockpostprocessor syntax paramet postprocessorsresidu syntax input postprocessorsresidu syntax children postprocessorsresidu interfaceintegralvariablevaluepostprocessor import note deriv class interfaceuserobject support yet getmaterialproperti pleas use auxvari descript syntax descript postprocessorsinterfaceintegralvariablevaluepostprocessor postprocessor use comput integr valu variabl interfac type averag comput select chang interface_value_typ paramet paramet interface_value_typ omit default comput averag valu two input variabl across interfac variou type averag comput describ detail interfacevaluetoolsinterfacevaluetoolsmd exampl input file syntax list testtestspostprocessorsinterface_valueinterface_integral_variable_value_postprocessori blockpostprocessorsdiffusivity_averag syntax paramet postprocessorsinterfaceintegralvariablevaluepostprocessor syntax input postprocessorsinterfaceintegralvariablevaluepostprocessor syntax children postprocessorsinterfaceintegralvariablevaluepostprocessor numnonlineariter syntax descript postprocessorsnumnonlineariter descript numnonlineariter report number nonlinear iter justcomplet solv exampl input syntax list testtestspostprocessorscumulative_value_postprocessorcumulative_value_postprocessori blockpostprocessor syntax paramet postprocessorsnumnonlineariter syntax input postprocessorsnumnonlineariter syntax children postprocessorsnumnonlineariter timeintegratedpostprocessor syntax descript postprocessorstimeintegratedpostprocessor exampl input syntax exampl integr variabl u spatial domain use elementintegralvariablepostprocessor integr time use timeintegratedpostprocessor list testtestspostprocessorselement_integral_var_ppspps_old_valuei blockpostprocessor syntax paramet postprocessorstimeintegratedpostprocessor syntax input postprocessorstimeintegratedpostprocessor syntax children postprocessorstimeintegratedpostprocessor elementextremematerialproperti postprocessor comput minimum maximum materi properti quadratur point domain syntax paramet postprocessorselementextremematerialproperti syntax input postprocessorselementextremematerialproperti syntax children postprocessorselementextremematerialproperti memoryusag syntax descript postprocessorsmemoryusag postprocessor collect variou memori usag metric physic memori relev tie hardwar ram limit virtual memori major page fault often disk swap access unit memori default megabyt user report usag unit mem_unit paramet byte kilobyt megabyt gigabyt data reduc parallel maximum mpi rank minimum mpi rank averag mpi rank total sum mpi rank default physic memori statist avail mac linux virtual memori page fault data linux postprocessor execut multipl time per timestep default aggreg perprocess peak valu chosen metric output timestep_end alert note octob postprocessor default report virtual memori chang relav physic memori avoid mislead benchmark result gener vectorpostprocessor provid detail per mpi rank memori statist see vectormemoryusagevectormemoryusagemd implement procselfstatu file check first file exist linux system contain sever columnshttpmanorglinuxmanpagesmanprochtml process specif statist mac system condit compil code ifdef __apple__ block use mach kernel api function task_info obtain memori size current process syntax paramet postprocessorsmemoryusag syntax input postprocessorsmemoryusag syntax children postprocessorsmemoryusag variableresidu syntax descript postprocessorsvariableresidu postprocessor allow user retriev residu differ time simul use execute_on paramet residu entir system may found use residualmd postprocessor exampl input syntax exampl residu output variabl u v two variableresidu postprocessor list testtestspostprocessorsvariable_residual_normvariable_residuali blockpostprocessor syntax paramet postprocessorsvariableresidu syntax input postprocessorsvariableresidu syntax children postprocessorsvariableresidu numdof numdof postprocessor provid inform number degre freedom dof simul postprocessor capabl provid dof either nonlinear system system pde solv auxiliari system system contain explicit calcul togeth use mesh adaptivitysyntaxadaptivityindexmd number dof like chang simul progress might consid use execute_on initi timestep_end case otherwis execute_on initi suffici scale problem processor core tri spread problem much good target around dof nonlinear system pleas see petsc faqhttpwwwmcsanlgovpetscdocumentationfaqhtmlslowerparallel inform descript syntax syntax descript postprocessorsnumdof syntax paramet postprocessorsnumdof syntax input postprocessorsnumdof syntax children postprocessorsnumdof bibtex bibliographi sidediffusivefluxintegr syntax descript postprocessorssidediffusivefluxintegr exampl input syntax list tutorialsdarcy_thermo_mechstep_postprocessorsproblemsstepi blockpostprocessor syntax paramet postprocessorssidediffusivefluxintegr syntax input postprocessorssidediffusivefluxintegr syntax children postprocessorssidediffusivefluxintegr sideintegralvariablepostprocessor sideintegralvariablepostprocessor intermedi base class deriv calcul invol integr variabl quantiti side functionsideintegr syntax descript postprocessorsfunctionsideintegr sideset may intern extern boundari function evalu quadratur point specifi sideset default quadratur rule use integr exampl input syntax exampl test comput function integr boundari domain sinc mesh cartesian integr known list testtestspostprocessorsfunction_sideintegralfunction_sideintegrali blockpostprocessor syntax paramet postprocessorsfunctionsideintegr syntax input postprocessorsfunctionsideintegr syntax children postprocessorsfunctionsideintegr elementldiffer syntax descript postprocessorselementldiffer element l_ differ two variabl u v comput equat u v_l_ sqrtsum_textmesh element sum_textquadratur point qp jqp wqp cqp uqp vqp j term account geometryvolum element w weight quadraturesyntaxexecutionerquadratureindexmd c eventu coordin chang cylindr spheric uqp vqp valu variabl quadratur point exampl input syntax exampl comput l differ two variabl solut problem differ order use elementldiffer postprocessor u linear lagrang variabl v second order lagrang variabl verifi refin mesh differ goe list testtestspostprocessorselement_l_differenceelement_l_differencei blockvari postprocessor syntax paramet postprocessorselementldiffer syntax input postprocessorselementldiffer syntax children postprocessorselementldiffer interfacediffusivefluxaverag syntax descript postprocessorsinterfacediffusivefluxaverag diffus flux averag defin beginequ dfracint_parti omega vecnabla u cdot vecn domegaa endequ partial omega interfac diffus coeffici u variabl vecn normal interfac surfac area interfac alert note finit volum variabl postprocessor comput diffus flux use two point gradient accur interfac kernel also comput gradient way current fvdiffusioninterfacefviksfvdiffusioninterfacemd comput gradient way syntax paramet postprocessorsinterfacediffusivefluxaverag syntax input postprocessorsinterfacediffusivefluxaverag syntax children postprocessorsinterfacediffusivefluxaverag emptypostprocessor syntax descript postprocessorsemptypostprocessor postprocessor use replac parsedpostprocessormd functionvaluepostprocessormd receivermd difficulti syntax paramet postprocessorsemptypostprocessor syntax input postprocessorsemptypostprocessor syntax children postprocessorsemptypostprocessor sidefluxintegr object deprec see sidediffusivefluxintegralsidediffusivefluxintegralmd syntax descript postprocessorssidefluxintegr exampl input syntax list tutorialsdarcy_thermo_mechstep_postprocessorsproblemsstepi blockpostprocessor syntax paramet postprocessorssidefluxintegr syntax input postprocessorssidefluxintegr syntax children postprocessorssidefluxintegr elementarraylnorm syntax descript postprocessorselementarraylnorm syntax paramet postprocessorselementarraylnorm syntax input postprocessorselementarraylnorm syntax children postprocessorselementarraylnorm sideintegralmaterialproperti postprocessor comput integr materi properti side set suppli properti type real stdvectorr realvectorvalu ranktwotensor rankthreetensor rankfourtensor depend properti type index correct dimens must suppli select scalar compon suppli materi properti eg compon properti type ranktwotensor syntax paramet postprocessorssideintegralmaterialproperti syntax input postprocessorssideintegralmaterialproperti syntax children postprocessorssideintegralmaterialproperti elementintegralvariablepostprocessor elementintegralvariablepostprocessor intermedi base class deriv calcul involv integr variabl quantiti whole domain portion domain elementintegralvariablepostprocessor may use comput volum integr variabl base quadratur defin variabl integr may restrict blockssubdomain variabl defin exampl input file input file use elementintegralvariablepostprocessor comput integr variabl u solut diffus problem two subdomain defin list postprocessorselement_integralelement_block_integral_testi syntax paramet postprocessorselementintegralvariablepostprocessor syntax input postprocessorselementintegralvariablepostprocessor syntax children postprocessorselementintegralvariablepostprocessor differencepostprocessor differencepostprocessor simpli comput differ two postprocessor valu equat p_ p_ elementaveragesecondtimederiv syntax descript postprocessorselementaveragesecondtimederiv descript class comput averag valu variabl second time deriv element syntax paramet postprocessorselementaveragesecondtimederiv syntax input postprocessorselementaveragesecondtimederiv syntax children postprocessorselementaveragesecondtimederiv numnod numnod postprocessor return total number node simul return total number node use distributedmesh syntax descript syntax descript postprocessorsnumnod syntax paramet postprocessorsnumnod syntax input postprocessorsnumnod syntax children postprocessorsnumnod bibtex bibliographi scalepostprocessor scalepostprocessor scale anoth postprocessor simul real valu syntax descript postprocessorsscalepostprocessor syntax paramet postprocessorsscalepostprocessor syntax input postprocessorsscalepostprocessor syntax children postprocessorsscalepostprocessor bibtex bibliographi elementvectorlerror syntax descript postprocessorselementvectorlerror overview replac line inform regard elementlerror object sure includ mathemat definit strong weak form kernel object exampl input file syntax describ includ exampl use elementlerror object syntax paramet postprocessorselementvectorlerror syntax input postprocessorselementvectorlerror syntax children postprocessorselementvectorlerror sideaveragevalu syntax descript postprocessorssideaveragevalu descript sideaveragevalu comput area volumeweight averag integr specifi variabl may use exampl calcul averag temperatur side set alert note titlesideaveragevalu requir nonzero coordin valu sideaveragevalu suitabl use comput averag integr valu variabl one coordin sideset valu zero case comput valu variabl centerlin axisymmetr simul use axisymmetriccenterlineaveragevalueaxisymmetriccenterlineaveragevaluemd exampl input syntax list modulestensor_mechanicstutorialsbasicspart_i blockpostprocessor syntax paramet postprocessorssideaveragevalu syntax input postprocessorssideaveragevalu syntax children postprocessorssideaveragevalu nodallnorm syntax descript postprocessorsnodallnorm equat u_l_ sqrtsum_textnod n un exampl input syntax exampl l norm variabl save comput block end everi time step use nodallnorm postprocessor list testtestsmiscsave_indiag_save_in_soln_var_err_testi blockpostprocessor syntax paramet postprocessorsnodallnorm syntax input postprocessorsnodallnorm syntax children postprocessorsnodallnorm numelem numelem postprocessor provid inform number element simul postprocessor capabl provid either activ number element simul ie element use calcul total number element ie includ parent element refin element maintain purpos coarsen alert note postprocessor return aggreg number element use distributedmesh syntax descript syntax descript postprocessorsnumelem syntax paramet postprocessorsnumelem syntax input postprocessorsnumelem syntax children postprocessorsnumelem bibtex bibliographi findvalueonlin findvalueonlin postprocessor sampl line mesh boundari look point specif valu occur valu line must behav monoton indetermin solut may found syntax descript postprocessorsfindvalueonlin syntax paramet postprocessorsfindvalueonlin syntax input postprocessorsfindvalueonlin syntax children postprocessorsfindvalueonlin bibtex bibliographi nodalmaxvalueid syntax descript postprocessorsnodalmaxvalueid postprocessor perform reduct across rank comput maximum return id node global maximum exampl input syntax input file obtain maximum valu variabl u use nodalextremevaluemd locat reach use nodalmaxvalueid list testtestspostprocessorsnodal_extreme_valuenodal_extreme_pps_testi blockpostprocessor syntax paramet postprocessorsnodalmaxvalueid syntax input postprocessorsnodalmaxvalueid syntax children postprocessorsnodalmaxvalueid parsedpostprocessor syntax descript postprocessorsparsedpostprocessor parampostprocessorsparsedpostprocessorfunct pars may includ postprocessor time variabl constant input file alert note deriv integr nativ support pars oper unless postprocessor pars express alreadi deriv integr interest exampl input file syntax test input file comput variou quantiti use parsedpostprocessor first look ratio two postprocessor list testtestspostprocessorsparsed_postprocessorparsed_ppi blockpostprocessorspars add time depend postprocessor result list testtestspostprocessorsparsed_postprocessorparsed_ppi blockpostprocessorsparsed_with_t final introduc constant input file pars express list testtestspostprocessorsparsed_postprocessorparsed_ppi blockpostprocessorsparsed_with_const syntax paramet postprocessorsparsedpostprocessor syntax input postprocessorsparsedpostprocessor syntax children postprocessorsparsedpostprocessor nearestnodenumb postprocessor output node number nearest node given point use comput perform nearestnodenumberuonearestnodenumberuomd userobject syntax paramet postprocessorsnearestnodenumb syntax input postprocessorsnearestnodenumb syntax children postprocessorsnearestnodenumb changeoverfixedpointpostprocessor descript postprocessor comput chang rel chang postprocessor valu fix point iter may use track converg fix point algorithm beginequ delta yn yn y_ref endequ delta yn rel chang iter n yn valu postprocessor iter n y_ref refer valu chang either previou iter valu yn initi valu begin iter process rel chang comput beginequ delta yn fracyn y_refy_ref endequ option user may specifi return absolut valu chang exampl syntax follow exampl demonstr postprocessor use list testtestspostprocessorschange_over_timechange_over_timei blockpostprocessor syntax paramet postprocessorschangeoverfixedpointpostprocessor syntax input postprocessorschangeoverfixedpointpostprocessor syntax children postprocessorschangeoverfixedpointpostprocessor elementwperror w_p error variabl u function f equal equat u f_w_p left int_omega ufp vecnabla u vecnabla fp omega rightdfracp gradient differ term comput equat vecnabla u vecnabla fp sum_textdimens dfracdudx_i dfracdfdx_ip syntax paramet postprocessorselementwperror syntax input postprocessorselementwperror syntax children postprocessorselementwperror elementintegralarrayvariablepostprocessor syntax descript postprocessorselementintegralarrayvariablepostprocessor syntax paramet postprocessorselementintegralarrayvariablepostprocessor syntax input postprocessorselementintegralarrayvariablepostprocessor syntax children postprocessorselementintegralarrayvariablepostprocessor pointvalu pointvalu postprocessor sampl field variabl singl point within domain throw error point sampl lie outsid domain alert warn behavior pointvalu processor undefin use discontin shape function sampl point lie right discontinu numlineariter syntax descript postprocessorsnumlineariter number linear iter report total number linear iter time step transient nonlinear solv steadi solv syntax paramet postprocessorsnumlineariter syntax input postprocessorsnumlineariter syntax children postprocessorsnumlineariter numvar numvar postprocessor provid inform number variabl simul postprocessor capabl provid number variabl either nonlinear system system pde solv auxiliari system system contain explicit calcul togeth syntax descript syntax descript postprocessorsnumvar syntax paramet postprocessorsnumvar syntax input postprocessorsnumvar syntax children postprocessorsnumvar bibtex bibliographi cumulativevaluepostprocessor syntax descript postprocessorscumulativevaluepostprocessor run sum take account talli fail time step cumulativevaluepostprocessor may execut multipl time per time step use execute_on paramet alert note time integr postprocessor use timeintegratedpostprocessormd exampl input syntax exampl talli total number nonlinear iter time step transient problem use cumulativevaluepostprocessor list testtestspostprocessorscumulative_value_postprocessorcumulative_value_postprocessori blockpostprocessor syntax paramet postprocessorscumulativevaluepostprocessor syntax input postprocessorscumulativevaluepostprocessor syntax children postprocessorscumulativevaluepostprocessor vectorpostprocessorcomparison syntax descript postprocessorsvectorpostprocessorcomparison postprocessor use compar two vector postprocessor vector length return valu denot true comparison test pair element vector true els return valu denot fals number differ option paramet comparison_typ denot first vector second b option follow valu test equal b greater_than b greater_than_equ b less_than b less_than_equ b test use fuzzi comparison see correspond function mooseutilsmd syntax paramet postprocessorsvectorpostprocessorcomparison syntax input postprocessorsvectorpostprocessorcomparison syntax children postprocessorsvectorpostprocessorcomparison bibtex bibliographi postprocessorcomparison syntax descript postprocessorspostprocessorcomparison postprocessor use compar two postprocessor constant valu return valu true fals number differ option paramet comparison_typ denot first valu second b option follow valu test equal b greater_than b greater_than_equ b less_than b less_than_equ b test use fuzzi comparison see correspond function mooseutilsmd syntax paramet postprocessorspostprocessorcomparison syntax input postprocessorspostprocessorcomparison syntax children postprocessorspostprocessorcomparison bibtex bibliographi timeextremevalu timeextremevalu postprocessor report extrem valu coupl postprocessor seen time exampl postprocessor use record peak temperatur maximum stress simul oscil forc minimum absolut minimum absolut maximum time also option addit default maximum paramet parampostprocessorstimeextremevalueoutput_typ allow user select whether output extrem valu request describ time extrem valu occur syntax descript postprocessorstimeextremevalu syntax paramet postprocessorstimeextremevalu syntax input postprocessorstimeextremevalu syntax children postprocessorstimeextremevalu bibtex bibliographi numrelationshipmanag numrelationshipmanag class output total number relationship mangag present simul type relationship manag count control rm_type paramet avail option caseinsesit geometr algebra coupl default syntax descript syntax descript postprocessorsnumrelationshipmanag syntax paramet postprocessorsnumrelationshipmanag syntax input postprocessorsnumrelationshipmanag syntax children postprocessorsnumrelationshipmanag bibtex bibliographi changeovertimepostprocessor descript postprocessor comput chang rel chang postprocessor valu time step entir transient chang comput beginequ delta yn yn y_ref endequ delta yn rel chang time index n yn valu postprocessor time index n y_ref refer valu chang either previou time valu yn initi valu rel chang may request instead use parampostprocessorschangeovertimepostprocessorcompute_relative_chang paramet comput beginequ delta yn fracyn y_refy_ref endequ option user may specifi return absolut valu chang exampl syntax follow exampl demonstr postprocessor use list testtestspostprocessorschange_over_timechange_over_timei blockpostprocessor syntax paramet postprocessorschangeovertimepostprocessor syntax input postprocessorschangeovertimepostprocessor syntax children postprocessorschangeovertimepostprocessor elementlerror elementlerror comput euclidean distanc field variabl analyt function postprocessor use verifi proper function framework method manufactur solutionspythonmmsmd optionaltru comput euclidean distanc two variabl use elementldifferencemd instead syntax paramet postprocessorselementlerror syntax input postprocessorselementlerror syntax children postprocessorselementlerror elementlerror syntax descript postprocessorselementlerror postprocessor comput follow l error norm element variabl function beginequ y_h y_ sumlimits_i intlimits_omega_i y_hi yx domega endequ y_h approxim solut repres element variabl refer solut repres function element index omega spatial domain syntax paramet postprocessorselementlerror syntax input postprocessorselementlerror syntax children postprocessorselementlerror bibtex bibliographi changeovertimesteppostprocessor syntax descript postprocessorschangeovertimesteppostprocessor changeovertimesteppostprocessor use track converg addit quantiti comput postprocessor exampl conjug heat transfer simul total energi store fluid track addit converg metric residu equat initi execute_on flag includ track postprocessor execute_on paramet changeovertimesteppostprocessor set comput differ regard initi valu exampl input syntax exampl changeovertimesteppostprocessor set track chang functionvaluepostprocessor test correct functionvaluepostprocessor evolut known defin parsedfunct list testtestspostprocessorschange_over_timechange_over_timei blockpostprocessor function syntax paramet postprocessorschangeovertimesteppostprocessor syntax input postprocessorschangeovertimesteppostprocessor syntax children postprocessorschangeovertimesteppostprocessor interfacediffusivefluxintegr syntax descript postprocessorsinterfacediffusivefluxintegr diffus flux integr defin beginequ int_parti omega vecnabla u cdot vecn domega endequ partial omega interfac diffus coeffici u variabl vecn normal interfac integr diffus flux may use comput contribut diffus examin balanc physic quantiti energi momentum domain alert note finit volum variabl postprocessor comput diffus flux use two point gradient accur interfac kernel also comput gradient way current fvdiffusioninterfacefviksfvdiffusioninterfacemd comput gradient way syntax paramet postprocessorsinterfacediffusivefluxintegr syntax input postprocessorsinterfacediffusivefluxintegr syntax children postprocessorsinterfacediffusivefluxintegr elementalvariablevalu syntax descript postprocessorselementalvariablevalu descript case may interest output element variabl valu eg stress particular locat model accomplish use elementalvariablevalu postprocessor postprocessor take specif element id sampl singl id valu specifi variabl integr element return exampl input syntax list testtestsoutputspostprocessoroutput_pps_hidden_shown_checki blockpostprocessor syntax paramet postprocessorselementalvariablevalu syntax input postprocessorselementalvariablevalu syntax children postprocessorselementalvariablevalu elementherror syntax descript postprocessorselementherror h error popular metric error associ natur norm commonli use finit element space equat u f_h_ left int_omega left uxt fxt rightp leftnabla uxt nabla fxt rightp domega rightdfracp u variabl paramet f function paramet p norm expon omega domain integr may limit certain block use block paramet exampl input syntax exampl comput varieti error variabl function h l hsemi norm verifi h error sum l error hsemi error list postprocessorselement_h_error_ppselement_h_error_pp_testi blockpostprocessor syntax paramet postprocessorselementherror syntax input postprocessorselementherror syntax children postprocessorselementherror nodalextremevalu syntax descript postprocessorsnodalextremevalu option provid parampostprocessorselementextremevalueproxy_vari chang behavior postprocessor find node proxi variabl reach maxmin valu return valu specifi variabl node correspond postprocessor find extrem valu variabl evalu insid element quadratur point elementextremevalueelementextremevaluemd exampl input file syntax describ includ exampl use nodalextremevalu object syntax paramet postprocessorsnodalextremevalu syntax input postprocessorsnodalextremevalu syntax children postprocessorsnodalextremevalu elementintegralmaterialproperti elementintegralmaterialproperti postprocessor return integr materi properti domain integr admaterialproperti desir use type adelementintegralmaterialproperti descript syntax syntax descript postprocessorselementintegralmaterialproperti syntax paramet postprocessorselementintegralmaterialproperti syntax input postprocessorselementintegralmaterialproperti syntax children postprocessorselementintegralmaterialproperti perfgraphdata syntax descript postprocessorsperfgraphdata descript perfgraphdata retriev perform data perfgraphmd report postprocessor name section wish retriev perform data provid parampostprocessorsperfgraphdatasection_nam paramet perform data type see perfgraphmdperformancedatatyp detail possibl option provid parampostprocessorsperfgraphdatadata_typ alert warn regist perfgraphmd section regist first moment ran depend execut flag set perfgraphdata execut system default error retriev inform section ran yet skip error return zero section ran yet must set parampostprocessorsperfgraphdatamust_exist fals see perfgraphmdearlyretriev inform syntax paramet postprocessorsperfgraphdata syntax input postprocessorsperfgraphdata syntax children postprocessorsperfgraphdata bibtex bibliographi axisymmetriccenterlineaveragevalu syntax descript postprocessorsaxisymmetriccenterlineaveragevalu descript axisymmetriccenterlineaveragevalu special case sideaveragevaluesideaveragevaluemd postprocessor case sideset averag valu calcul along centerlin axi axisymmetr simul exampl input syntax list testtestspostprocessorsaxisymmetric_centerline_average_valueaxisymmetric_centerline_average_value_testi blockpostprocessor syntax paramet postprocessorsaxisymmetriccenterlineaveragevalu syntax input postprocessorsaxisymmetriccenterlineaveragevalu syntax children postprocessorsaxisymmetriccenterlineaveragevalu elementhsemierror syntax descript postprocessorselementhsemierror gradient variabl compar gradient specifi function examin error gradient reveal excess oscil highlight need higher order finit element famili show gradient known solut well captur numer solut equat u f_h_ left int_omega leftnabla uxt nabla fxt rightp domega rightdfracp u variabl f function p norm expon omega integr domain may limit certain block use block paramet exampl input syntax exampl comput varieti error h l hsemi norm verifi h error sum l error hsemi error list testtestspostprocessorselement_h_error_ppselement_h_error_pp_testi blockpostprocessor syntax paramet postprocessorselementhsemierror syntax input postprocessorselementhsemierror syntax children postprocessorselementhsemierror sidefluxaverag object deprec see sidediffusivefluxaveragesidediffusivefluxaveragemd syntax descript postprocessorssidefluxaverag syntax paramet postprocessorssidefluxaverag syntax input postprocessorssidefluxaverag syntax children postprocessorssidefluxaverag postprocessor postprocessor object purevirtu base class defin postprocessor moos defin singl method postprocessor must overrid produc global scalar valu method gener call store multipl outputoutputmd format per time step applic list frameworkincludepostprocessorspostprocessorh rennngetvaluen timepostprocessor syntax descript postprocessorstimepostprocessor syntax paramet postprocessorstimepostprocessor syntax input postprocessorstimepostprocessor syntax children postprocessorstimepostprocessor parislaw descript parislaw postprocessor comput crack extens size activ crack front point fatigu crack growth scenario code base pari law requir pari law paramet input amount crack extens crack front node scale point largest effect k extens equal input maximum extens size exampl syntax list modulesxfemtesttestssolid_mechanics_basicedge_crack_d_fatiguei blockpostprocessor elementaveragetimederiv elementaveragetimederiv postprocessor comput averag time time deriv specifi variabl per element syntax descript postprocessorselementaveragetimederiv syntax paramet postprocessorselementaveragetimederiv syntax input postprocessorselementaveragetimederiv syntax children postprocessorselementaveragetimederiv bibtex bibliographi numresidualevalu syntax descript postprocessorsnumresidualevalu postprocessor help understand comput time spent perform optim studi exampl inform form residu nonlinear systemsourcesystemsnonlinearsystemmd may found heresyntaxkernelsindexmd syntax paramet postprocessorsnumresidualevalu syntax input postprocessorsnumresidualevalu syntax children postprocessorsnumresidualevalu volumepostprocessor syntax descript postprocessorsvolumepostprocessor overview comput volum mesh subdomain mesh exampl input file syntax exampl volum block comput three separ volumepostprocessor list testtestspostprocessorsvolumespheredi blockpostprocessor syntax paramet postprocessorsvolumepostprocessor syntax input postprocessorsvolumepostprocessor syntax children postprocessorsvolumepostprocessor timesteps syntax descript postprocessorstimesteps descript timesteps report timestep size exampl input syntax list testteststime_steppersiteration_adaptiveadapt_tstep_grow_init_dti blockpostprocessor syntax paramet postprocessorstimesteps syntax input postprocessorstimesteps syntax children postprocessorstimesteps relativedifferencepostprocessor descript postprocessor comput absolut valu rel differ postprocessor valu beginequ left fracx_ x_x_ right endequ x_ x_ postprocessor valu note x_ use base rel differ x_ approx absolut differ use instead prevent divis zero beginequ left x_ x_ right endequ exampl syntax follow exampl demonstr postprocessor use list testtestspostprocessorsrelative_differencerelative_differencei blockpostprocessor syntax paramet postprocessorsrelativedifferencepostprocessor syntax input postprocessorsrelativedifferencepostprocessor syntax children postprocessorsrelativedifferencepostprocessor areapostprocessor areapostprocesor sidepostprocessor comput area dimens volum given side mesh postprocessor may appli one boundari simulaten latter case produc total area output descript syntax syntax descript postprocessorsareapostprocessor syntax paramet postprocessorsareapostprocessor syntax input postprocessorsareapostprocessor syntax children postprocessorsareapostprocessor bibtex bibliographi sideaveragematerialproperti postprocessor comput averag materi properti side set suppli properti type real stdvectorr realvectorvalu ranktwotensor rankthreetensor rankfourtensor depend properti type index correct dimens must suppli select scalar compon suppli materi properti eg compon properti type ranktwotensor syntax paramet postprocessorssideaveragematerialproperti syntax input postprocessorssideaveragematerialproperti syntax children postprocessorssideaveragematerialproperti linearcombinationpostprocessor descript postprocessor comput linear combin arbitrari number postprocessor x_i beginequ sumlimits_i c_i x_i b endequ c_i combin coeffici x_i b addit valu add sum exampl syntax follow exampl demonstr postprocessor use list testtestspostprocessorslinear_combinationlinear_combinationi blockpostprocessor syntax paramet postprocessorslinearcombinationpostprocessor syntax input postprocessorslinearcombinationpostprocessor syntax children postprocessorslinearcombinationpostprocessor percentchangepostprocessor syntax descript postprocessorspercentchangepostprocessor postprocessor deprec pleas use changeovertimepostprocessormd set compute_relative_chang paramet true syntax paramet postprocessorspercentchangepostprocessor syntax input postprocessorspercentchangepostprocessor syntax children postprocessorspercentchangepostprocessor vectorpostprocessorcompon syntax descript postprocessorsvectorpostprocessorcompon postprocessor return valu singl entri vector comput vectorpostprocessor name vectorpostprocessor name vector index compon must specifi syntax paramet postprocessorsvectorpostprocessorcompon syntax input postprocessorsvectorpostprocessorcompon syntax children postprocessorsvectorpostprocessorcompon bibtex bibliographi interfaceaveragevariablevaluepostprocessor import note deriv class interfaceuserobject support yet getmaterialproperti pleas use auxvari descript syntax descript postprocessorsinterfaceaveragevariablevaluepostprocessor postprocessor use comput averag valu across interfac type averag comput select chang interface_value_typ paramet paramet interface_value_typ omit default comput averag valu two input variabl across interfac variou type averag comput describ detail interfacevaluetoolsinterfacevaluetoolsmd exampl input file syntax list testtestspostprocessorsinterface_valueinterface_average_variable_value_postprocessori blockpostprocessorsdiffusivity_averag syntax paramet postprocessorsinterfaceaveragevariablevaluepostprocessor syntax input postprocessorsinterfaceaveragevariablevaluepostprocessor syntax children postprocessorsinterfaceaveragevariablevaluepostprocessor sidediffusivefluxaverag syntax descript postprocessorssidediffusivefluxaverag exampl input syntax list testteststhewarehousetesti blockpostprocessorsavg_flux_right syntax paramet postprocessorssidediffusivefluxaverag syntax input postprocessorssidediffusivefluxaverag syntax children postprocessorssidediffusivefluxaverag averagenodalvariablevalu syntax descript postprocessorsaveragenodalvariablevalu exampl input file syntax syntax paramet postprocessorsaveragenodalvariablevalu syntax input postprocessorsaveragenodalvariablevalu syntax children postprocessorsaveragenodalvariablevalu scalarlerror syntax descript postprocessorsscalarlerror function compar scalar variabl evalu simul time point given singl number includ sum l norm absolut valu alert note postprocessor comput l error array scalar variabl use first compon scalar variabl exampl input syntax exampl solv ode scalar variabl n comput converg known analyt solut examin order converg time scheme list testteststime_integratorsscalarscalari blockpostprocessor syntax paramet postprocessorsscalarlerror syntax input postprocessorsscalarlerror syntax children postprocessorsscalarlerror nodalvariablevalu syntax descript postprocessorsnodalvariablevalu descript order obtain valu nodal variabl particular locat ie temperatur displac nodalvariablevalu postprocessor use exampl postprocessor use obtain centerlin temperatur locat thermocoupl compar experiment data exampl input syntax list testtestsmisccheck_errornodal_value_off_blocki blockpostprocessor syntax paramet postprocessorsnodalvariablevalu syntax input postprocessorsnodalvariablevalu syntax children postprocessorsnodalvariablevalu coupledodetimederiv syntax descript scalarkernelscoupledodetimederiv coupledodetimederiv similar odetimederiv scalar kernel except deriv act differ variabl ode solv exampl input syntax exampl scalar variabl f f_times_mult solut coupl ode problem equat dfracd f_times_multd equat f_times_mult f g time deriv term first equat ad use coupledodetimederiv scalar kernel first equat set f nonlinear variabl even though f appear list testtestskernelsodecoupled_ode_tdi blockscalarkernel syntax paramet scalarkernelscoupledodetimederiv syntax input scalarkernelscoupledodetimederiv syntax children scalarkernelscoupledodetimederiv nodalequalvalueconstraint syntax descript scalarkernelsnodalequalvalueconstraint constraint impos use lagrang multipli variabl nodalequalvalueconstraint form part equat variabl variabl paramet set lagrang multipli scalar variabl constrain two node use impos continu condit pin two independ system disjoint mesh togeth limit two node mean kernel design work sideset interfac except impos equal valu constraint sideset pleas prefer equalvalueconstraintmd exampl input syntax input file nodalequalvalueconstraint use impos equal constraint two disjoint line mesh list testtestsmortarddi blockscalarkernel syntax paramet scalarkernelsnodalequalvalueconstraint syntax input scalarkernelsnodalequalvalueconstraint syntax children scalarkernelsnodalequalvalueconstraint anisotropicdiffus descript anisotropicdiffus kernel implement anistrop diffus term domain omega given strong form beginequ nablacdot widetildek nabla u omega endequ widetildek anisotrop diffus coeffici diffus anistrop diffus rate vari direct correspond weak form use innerproduct notat given beginequ r_iu_h underbracenabla psi_i widetildek nabla u_h_textrmanisotropicdiffus langlepsi_i widetildek nabla u_h cdot vecnranglequad foral phi_i endequ first term denot inner product domain volum latter term denot outward diffus flux volum boundari gamma psi_i test function u_h mathcalsh finit element solut weak formul anisotropicdiffus kernel implement first volum term constant diffus coeffici jacobian given beginequ fracparti r_iu_hparti u_j nabla phi_j widetildek nabla u_h endequ exampl syntax anisotropicdiffus kernel may use varieti physic model includ steadyst timedepend diffus advectiondiffusionreact etc kernel block demonstr anistropicdiffus syntax steadyst anistrop diffus problem found list testtestskernelsanisotropic_diffusionaniso_diffusioni blockkernel alert note anistrop diffus coeffici widetildek threedimension tensor suppli string nine space separ real valu entri correspond xx xy xz yx yy yz zx zy zz respect also problem dimension correspond zx zy zz term zero syntax paramet kernelsanisotropicdiffus syntax input kernelsanisotropicdiffus syntax children kernelsanisotropicdiffus parsedodekernel scalar kernel add sourc term su mathbfv mathbfp beginequ fracd ud su mathbfv mathbfp endequ u variabl sourc act upon mathbfv scalar variabl mathbfp postprocessor valu paramet function string express sourc term su mathbfv mathbfp appear lefthandsid equat thu repres su mathbfv mathbfp express may use follow quantiti name scalar variabl upon kernel act name scalar variabl specifi arg paramet name postprocessor specifi postprocessor paramet name suppli constant_nam paramet defin valu provid constant_express paramet current function express function time list examplesex_scalar_kernelex_parsedi blockscalarkernel syntax paramet scalarkernelsparsedodekernel syntax input scalarkernelsparsedodekernel syntax children scalarkernelsparsedodekernel averagevalueconstraint kernel implement part equat enforc constraint beginequ int_omega phi v_ endequ v_ given constant use lagrang multipli approach residu lagrang multipli given beginequ flambda equiv int_omega phih textdomega v_ labeleqeq endequ particular kernel implement residu contribut lambda eqeq see also scalarlagrangemultipliermd residu variabl phi detail descript deriv found scalar_constraint_kernelhttpsgithubcomidaholablarge_mediablobmasterframeworkscalar_constraint_kernelpdf syntax paramet scalarkernelsaveragevalueconstraint syntax input scalarkernelsaveragevalueconstraint syntax children scalarkernelsaveragevalueconstraint vectorcoupledtimederiv syntax descript kernelsvectorcoupledtimederiv overview vectorcoupledtimederiv kernel similar vectortimederivativevectortimederivativemd kernel except time deriv oper appli coupl variabl vecv instead variabl vecu whom residu vectorcoupledtimederiv kernel contribut consequ strong form domain omega beginequ underbracefracparti vecvparti t_textrmvectorcoupledtimederiv sum_in beta_i omega labelstrong endequ second term left hand side correspond strong form kernel vectorcoupledtimederiv weak form beginequ r_ivecu_h biggvecpsi_i fracparti vecv_hparti tbigg quad foral vecpsi_i labelweak endequ vecpsi_i test function vecu_h finit element solut weak formul jacobian contribut equal beginequ fracparti r_ivecu_hparti u_j vecpsi_i a_vvecphi_j endequ a_v constant depend time step scheme a_v denot _dv_dot vectorcoupledtimederiv class exampl input file syntax list testtestskernelscoupled_time_derivativevector_coupled_time_derivative_testi blockkernel syntax paramet kernelsvectorcoupledtimederiv syntax input kernelsvectorcoupledtimederiv syntax children kernelsvectorcoupledtimederiv adtimederiv descript adtimederiv kernel implement simpl time deriv domain omega given beginequ underbracefracparti uparti t_textrmadtimederiv sum_in beta_i omega endequ second term left hand side correspond strong form kernel correspond adtimederiv weak form use innerproduct notat beginequ r_iu_h psi_i fracparti u_hparti quad foral psi_i endequ u_h approxim solut psi_i finit element test function jacobian comput automat differenti inform time kernel found kernel descript pagesyntaxkernelsindexmd exampl syntax time deriv term ubiquit transient simul kernel block transient diffus problem demonstr adtimederiv syntax shown list testtestskernelsad_transient_diffusionad_transient_diffusioni blockkernel syntax paramet kernelsadtimederiv syntax input kernelsadtimederiv syntax children kernelsadtimederiv admaterialpropertyvalu syntax descript kernelsadmaterialpropertyvalu kernel set kernel variabl u variabl weekli enforc valu materi properti p prop equat leftpmpupsiright pm sign control posit boolean paramet kernel use emul action nodal patch recoveri find project interior materi properti onto nodal basi function degre freedom use gener smooth field output materi properti syntax paramet kernelsadmaterialpropertyvalu syntax input kernelsadmaterialpropertyvalu syntax children kernelsadmaterialpropertyvalu bibtex bibliographi vectortimederiv syntax descript kernelsvectortimederiv overview vectortimederiv kernel implement simpl time deriv domain omega given beginequ underbracefracparti vecuparti t_textrmvectortimederiv sum_in beta_i omega endequ second term left hand side correspond strong form kernel correspond vectortimederiv weak form use innerproduct notat beginequ r_ivecu_h vecpsi_i fracparti vecu_hparti quad foral vecpsi_i endequ vecu_h approxim solut vecpsi_i finit element test function jacobian given beginequ fracparti r_ivecu_hparti u_j vecpsi_i avecphi_j endequ refer du_dot_du moos syntax inform time kernel found kernel descript pagesyntaxkernelsindexmd exampl input file syntax time deriv term ubiquit transient simul kernel block transient diffus problem demonstr vectortimederiv syntax shown list testtestskernelstransient_vector_diffusiontransient_vector_diffusioni blockkernel syntax paramet kernelsvectortimederiv syntax input kernelsvectortimederiv syntax children kernelsvectortimederiv adcoupledforc descript adcoupledforc implement sourc term within domain omega proport coupl variabl beginequ underbracesigma v_textrmcoupledforc sum_in beta_i omega endequ sigma known scalar coeffici v coupl unknown valu second term left hand side correspond strong form kernel speci transport context valu sigma regard reaction rate coeffici weak form innerproduct notat defin beginequ r_iu_h psi_i sigma v quad foral psi_i endequ psi_i test function u_h mathcalsh finit element solut weak formul exampl syntax kernel block show variabl u diffus produc rate proport concentr variabl v also diffus list testtestsbcscoupled_dirichlet_bccoupled_dirichlet_bci blockkernel alert note exampl input paramet coef correspond sigma omit case coef valu default one syntax paramet kernelsadcoupledforc syntax input kernelsadcoupledforc syntax children kernelsadcoupledforc kernelvalu deriv base class residu form dotspsi_i ie test function psi_i _test_i_qp factor deriv class overrid precomputeqpresidu instead computeqpresidu multipli _test_i_qp precomputeqpjacobian instead computeqpjacobian multipli _test_i_qp computeoffdiagjacobian still implement deriv kernel arraytimederiv descript array kernel implement follow piec weak form beginequ vecuast mathbft dotvecu endequ vecuast test function dotvecu time deriv array finit element solut dotvecu leftfracparti u_parti tfracparti u_parti trightt mathbft matrix time deriv coeffici mathbft_nm t_nm similarli show arraydiffusionmd rearrang beginequ vecuast mathbft dotvecu sum_ sum_in_textdof sum_textqpn_qp jw_textqp vecw_pvecu_iast underlinemathbft_textqp dotvecu_textqp b_itextqp endequ underlin term vector provid arraytimederivativecomputeqpresidualarraytimederivativec detail explan notat found arraydiffusionmd gener reaction coeffici mathbft squar matrix size number compon diagon matrix repres vector case compon coupl array time deriv kernel element time deriv coeffici vector use scalar reaction coeffici thu kernel give user option set coeffici scalar vector matrix materi properti correspond scalar diagon matrix full matrix respect local jacobian found follow equat beginequ j_nmij sum_ sum_in_textdof sum_jn_textdof sum_textqpn_qp jw_textqp vecw_p u_niast underlinet_nmtextqp b_jtextqp b_itextqp fracparti dotu_mjparti u_mj endequ n compon row column respect underlin part local jacobian evalu arraytimederivativecomputeqpjacobianarraytimederivativec arraytimederivativecomputeqpoffdiagjacobianarraytimederivativec exampl input syntax list testskernelsarray_kernelsarray_diffusion_reaction_transienti blockkernel syntax paramet kernelsarraytimederiv syntax input kernelsarraytimederiv syntax children kernelsarraytimederiv kernelgrad deriv base class residu form dotsnablapsi_i ie test function nablapsi_i _grad_test_i_qp factor deriv class overrid precomputeqpresidu instead computeqpresidu multipli _grad_test_i_qp precomputeqpjacobian instead computeqpjacobian multipli _grad_test_i_qp computeoffdiagjacobian still implement deriv kernel note precomputeqpresidu precomputeqpjacobian return realgradi type reaction descript reaction implement simpl firstord reaction term rate reaction directli proport govern variabl u weak form given beginequ psi_i lambda u_h endequ lambda rate coeffici reaction use help setup variat advectiondiffusionreact equat exampl syntax syntax reaction simpl take type variabl paramet exampl block shown diffusionreact equat list testtestsfvkernelsfv_coupled_varcoupledi blockkernel alert note ad automat differenti fv finit volum version reaction wish use ad fv use adcoupledforceadcoupledforcemd fvcoupledforcefvcoupledforcemd respect syntax paramet kernelsreact syntax input kernelsreact syntax children kernelsreact generickernel generickernel act switch adnonad base class object calcul residu vector contribut nonlinear scalar field variabl effect allow class either inherit kernelkernelmd nonad adkernel ad case via boolean is_ad adkernelgrad descript optim kernelkernelmd base class residu allow gradient test function nablapsi_i _grad_test_i_qp factor see kernelgradkernelgradmd dotsnablapsi_i jacobian adkernelgrad comput use forward automat differenti coupledforc descript coupledforc implement sourc term within domain omega proport coupl variabl beginequ underbracesigma v_textrmcoupledforc sum_in beta_i omega endequ sigma known scalar coeffici v coupl unknown valu second term left hand side correspond strong form kernel speci transport context valu sigma regard reaction rate coeffici weak form innerproduct notat defin beginequ r_iu_h psi_i sigma v quad foral psi_i endequ psi_i test function u_h mathcalsh finit element solut weak formul correspond jacobian beginequ fracparti r_iu_hparti u_j psi_i sigma phi_j endequ exampl syntax kernel block show variabl u diffus produc rate proport concentr variabl v also diffus list testtestsbcscoupled_dirichlet_bccoupled_dirichlet_bci blockkernel alert note exampl input paramet coef correspond sigma omit case coef valu default one alert note coupl variabl paramkernelscoupledforcev equal equat paramkernelscoupledforcevari kernel use coefreactioncoefreactionmd kernel purpos syntax paramet kernelscoupledforc syntax input kernelscoupledforc syntax children kernelscoupledforc coupledtimederiv descript coupledtimederiv kernel similar timederivativetimederivativemd kernel except time deriv oper appli coupl variabl v instead variabl u whom residu coupledtimederiv kernel contribut consequ strong form domain omega beginequ underbracefracparti vpartial t_textrmcoupledtimederiv sum_in beta_i omega labelstrong endequ second term left hand side correspond strong form kernel coupledtimederiv weak form beginequ r_iu_h biggpsi_i fracparti v_hpartial tbigg quad foral psi_i labelweak endequ psi_i test function u_h mathcalsh finit element solut weak formul jacobian contribut equal beginequ fracparti r_iu_hparti u_j psi_i a_vphi_j endequ a_v constant depend time step scheme a_v denot _dv_dot coupledtimederiv class exampl syntax coupledtimederiv use exampl split cahn hilliard equat phase field calcul syntax simpl take type coupledtimederiv variabl residu coupledtimederiv contribut coupl variabl v time deriv oper act upon exampl syntax found kernel block list testtestskernelscoupled_time_derivativecoupled_time_derivative_testi blockkernel labelfals syntax paramet kernelscoupledtimederiv syntax input kernelscoupledtimederiv syntax children kernelscoupledtimederiv coeftimederiv descript coeftimederiv kernel implement time deriv term multipli scalar coeffici class inher timederiv class exampl syntax kernel block demonstr coeftimederiv syntax transient diffus problem found list testtestskernelscoefficient_time_derivativecoefficient_time_derivative_diffusioni blockkernel syntax descript kernelscoeftimederiv syntax paramet kernelscoeftimederiv syntax input kernelscoeftimederiv syntax children kernelscoeftimederiv bibtex bibliographi vectordiffus descript vectordiffus analog diffusiondiffusionmd except appli vector finit element variabl syntax paramet kernelsvectordiffus syntax input kernelsvectordiffus syntax children kernelsvectordiffus admateri masslumpedtimederiv descript lump time deriv use coupl reason lump help ensur conserv mass node standard nodebas galerkin approxim flux spatial term thought enter node flux node mass node stay fix howev standard galerkin method appli time deriv term psi_i fracparti u_hparti correspond coeffici matrix tridiagon mass node affect flux neighbor node lead violat local mass conserv gener spuriou oscil unphys overshoot phenomena lump fix problem isol nodal solut neighbor nodal solut time deriv term mathemat lump look like start govern equat u_t au differenti oper write finit element solut ut x sum u_jt phi_jx substitut govern equat sum u_jphi_j sum u_japhi_j appli test function psi_i integr volum sum u_j psi_iphi_j sum u_j psi_i au_j appli test function matrix system widetildemvecu widetildekvecu vecu denot vector coeffici u_j widetildem mass matrix widetildek stiff matrix note neither matric ever explicitli form moos still directli relev mention previous standard galerkin procedur result tridiagon widetildem turn sum matrix row element widetildem one lump consist sum matrix row element result place sum diagon result ident matrix widetildemvecu becom simpli vecu vecu widetildekvecu seen equat besid help local conserv mass mass lump make explicit time step feasibl remov need solv linear system exampl syntax masslumpedtimederiv syntax simpl take type variabl shown kernel block particular test file kernel block taken demonstr case concentr u would becom neg nonlump scheme suffici small time step list testtestskernelsmass_lumpingmass_lumpingi blockkernel syntax paramet kernelsmasslumpedtimederiv syntax input kernelsmasslumpedtimederiv syntax children kernelsmasslumpedtimederiv masseigenkernel descript masseigenkernel use context solv eigenvalu problem form beginequ labeleqgener widetildeavecu lambdawidetildebvecu endequ lambda repres eigenvalu vecu repres eigenvector kernel inherit eigenkernel like masseigenkernel group widetildebvecu term residu contribut multipli eigenvalu lambda consid equat beginequ labeleqspecif nabla u ku underbracelambda u_textrmmasseigenkernel endequ k reaction coeffici account loss u term lh eqspecif equival lh eqgener similarli right hand side exampl syntax kernel describ eqspecif shown kernel block list testtestsexecutionerseigen_executionersipmi startkernel endbc syntax masseigenkernel simpl take type variabl kernel act syntax paramet kernelsmasseigenkernel syntax input kernelsmasseigenkernel syntax children kernelsmasseigenkernel admatdiffus descript admatdiffus implement term beginequ nablacdot dabdot nabla u endequ diffus coeffici diffus provid materi admateri u nonlinear variabl kernel oper kernel use coupl form option v variabl specifi allow appli diffus oper variabl u given v differ kernel variabl depend arbitrari nonlinear variabl abdot complet jacobian contribut provid automat differenti long given use admateri deriv object syntax paramet kernelsadmatdiffus syntax input kernelsadmatdiffus syntax children kernelsadmatdiffus bibtex bibliographi nullkernel syntax descript kernelsnullkernel kernel use placehold nonlinear variabl ad simul kernel variabl yet creat ad input file kernel ensur kernel coverag check domain flag variabl problemat also ensur system matrix remain invert contribut small number time ident matrix jacobian variabl appli altern ideal nonlinear variabl move auxiliari variablesyntaxauxvariablesindexmd reduc size nonlinear system make easier solv kernel block coverag check domain also turn set kernel_coverage_checkfals problem block time deriv kernel use nonlinear variabl v miss physic kernel describ valid equat dfracdvdt alert note kernel mainli use creat small test debug simul syntax paramet kernelsnullkernel syntax input kernelsnullkernel syntax children kernelsnullkernel materialderivativeranktwotestkernel syntax descript kernelsmaterialderivativeranktwotestkernel kernel put selet tensori ranktwotensor type materi properti material_properti residu vector assembl jacobian use deriv materi properti provid derivativematerialinterfacederivativematerialinterfacemd kernel best set use materialderivativetestmaterialderivativetestactionmd action syntax paramet kernelsmaterialderivativeranktwotestkernel syntax input kernelsmaterialderivativeranktwotestkernel syntax children kernelsmaterialderivativeranktwotestkernel addiffus descript steadyst diffus equat domain omega defin beginequ nabla cdot nabla u omega endequ weak form equat innerproduct notat given beginequ r_iu_h nabla psi_i nabla u_h quad foral psi_i endequ psi_i test function u_h mathcalsh finit element solut weak formul jacobian addiffus comput use forward automat differenti syntax paramet kernelsaddiffus syntax input kernelsaddiffus syntax children kernelsaddiffus matreact syntax descript kernelsmatreact implement beginequ lvabdot v psi endequ l mob_nam reaction rate v either coupl variabl v explicitli specifi nonlinear variabl kernel oper alert warn note neg sign appear reactionreactionmd coefreactioncoefreactionmd syntax paramet kernelsmatreact syntax input kernelsmatreact syntax children kernelsmatreact materialpropertyvalu syntax descript kernelsmaterialpropertyvalu kernel set kernel variabl u variabl weekli enforc valu materi properti p prop equat leftpmpupsiright pm sign control posit boolean paramet kernel use emul action nodal patch recoveri find project interior materi properti onto nodal basi function degre freedom use gener smooth field output materi properti syntax paramet kernelsmaterialpropertyvalu syntax input kernelsmaterialpropertyvalu syntax children kernelsmaterialpropertyvalu bibtex bibliographi matdiffus syntax descript kernelsmatdiffus implement term beginequ nablacdot dcabdot nabla u endequ diffus coeffici diffus provid functionmateri function materi see phase field modul inform u nonlinear variabl kernel oper kernel use coupl form option v variabl specifi allow appli diffus oper variabl u given v differ kernel variabl depend arbitrari nonlinear variabl abdot arg complet jacobian contribut provid kernel build jacobian kernel use deriv respect kernel variabl variabl specifi arg syntax paramet kernelsmatdiffus syntax input kernelsmatdiffus syntax children kernelsmatdiffus matcoupledforc descript matcoupledforc implement right hand side forc term form beginequ textpd sumlimits_jn c_j p_jt vecx v_jt vecx endequ c_j fix coeffici p_j materi properti v_j coupl variabl weak form innerproduct notat defin exampl syntax kernel block model situat variabl u comput u sumlimits_jn c_j p_jt vecx v_jt vecx list testtestskernelsmaterial_coupled_forcematerial_coupled_forcei blockkernel answer verifi postprocessor list testtestskernelsmaterial_coupled_forcematerial_coupled_forcei blockpostprocessor syntax paramet kernelsmatcoupledforc syntax input kernelsmatcoupledforc syntax children kernelsmatcoupledforc timederiv descript timederiv kernel implement simpl time deriv domain omega given beginequ underbracefracparti uparti t_textrmtimederiv sum_in beta_i omega endequ second term left hand side correspond strong form kernel correspond timederiv weak form use innerproduct notat beginequ r_iu_h psi_i fracparti u_hparti quad foral psi_i endequ u_h approxim solut psi_i finit element test function jacobian given beginequ fracparti r_iu_hparti u_j psi_i aphi_j endequ refer du_dot_du moos syntax inform time kernel found kernel descript pagesyntaxkernelsindexmd exampl syntax time deriv term ubiquit transient simul kernel block transient advectiondiffusionreact problem demonstr timederiv syntax shown list testtestskernelsadv_diff_reactionadv_diff_reaction_transient_testi blockkernel syntax paramet kernelstimederiv syntax input kernelstimederiv syntax children kernelstimederiv scalarlagrangemultipli kernel implement part equat enforc constraint beginequ int_omega phi v_ endequ v_ given constant use lagrang multipli approach residu phi relat lagrang multipli given beginequ fphi_i equiv lambdah int_omega varphi_i textdomega labeleqeq endequ particular kernel implement residu contribut lambda eqeq jacobian contribut see also averagevalueconstraintmd residu lagrang multipli variabl detail descript deriv found scalar_constraint_kernelhttpsgithubcomidaholablarge_mediablobmasterframeworkscalar_constraint_kernelpdf syntax paramet kernelsscalarlagrangemultipli syntax input kernelsscalarlagrangemultipli syntax children kernelsscalarlagrangemultipli userforcingfunct syntax descript kernelsuserforcingfunct kernel deprec pleas use bodyforcemd syntax paramet kernelsuserforcingfunct syntax input kernelsuserforcingfunct syntax children kernelsuserforcingfunct advectordiffus descript advectordiffus analog diffusiondiffusionmd except appli vector finit element variabl jacobian comput automat use automat differenti syntax paramet kernelsadvectordiffus syntax input kernelsadvectordiffus syntax children kernelsadvectordiffus diffus descript steadyst diffus equat domain omega defin beginequ nabla cdot nabla u omega endequ weak form equat innerproduct notat given beginequ r_iu_h nabla psi_i nabla u_h quad foral psi_i endequ psi_i test function u_h mathcalsh finit element solut weak formul jacobian defin beginequ fracparti r_iu_hparti u_j nabla phi_i nabla psi_j endequ syntax paramet kernelsdiffus syntax input kernelsdiffus syntax children kernelsdiffus materialderivativetestkernel descript materialderivativetestkernel gener test kernel allow check correct deriv materi properti use builtin jacobian check moos test har weak form given psi_i p p materi properti depend govern variabl materialderivativetestkernel inherit derivativematerialinterfac give access function like getmaterialpropertyderiv mapjvartocvar explain getmaterialpropertyderiv take materi properti name let call p variabl name let call u return materialproperti equal deriv suppli materi properti respect suppli variabl eg fracparti ppartial u mapjvartocvar map global variabl number kernel coupl variabl number interfac allow easi eleg construct correct jacobian physic depend materi function govern variabl exampl syntax kernel materi block demonstr util derivativematerialinterfac capabl input file kernel block list testtestskernelsmaterial_derivativesmaterial_derivatives_testi blockkernel materi block list testtestskernelsmaterial_derivativesmaterial_derivatives_testi blockmateri materialderivativetestmateri take two variabl var var input paramet declar materi properti name material_derivative_test_properti also declar two materi properti deriv deriv material_derivative_test_properti respect var var test input file assign var u var v long pass u v coupl variabl arg paramet materialderivativetestkernel automat access correct materi properti deriv kernel kernel put selet scalar real type materi properti material_properti residu vector assembl jacobian use deriv materi properti provid derivativematerialinterfacederivativematerialinterfacemd syntax paramet kernelsmaterialderivativetestkernel syntax input kernelsmaterialderivativetestkernel syntax children kernelsmaterialderivativetestkernel materialderivativerankfourtestkernel syntax descript kernelsmaterialderivativerankfourtestkernel kernel put selet tensori rankfourtensor type materi properti material_properti residu vector assembl jacobian use deriv materi properti provid derivativematerialinterfacederivativematerialinterfacemd kernel best set use materialderivativetestmaterialderivativetestactionmd action syntax paramet kernelsmaterialderivativerankfourtestkernel syntax input kernelsmaterialderivativerankfourtestkernel syntax children kernelsmaterialderivativerankfourtestkernel adbodyforc descript adbodyforc implement forc term momentum transport structur mechan sourc term speciesmass transport strong form given domain omega defin beginequ underbracef_textrmadbodyforc sum_in beta_i omega endequ f sourc term neg sink second term left hand side repres strong form kernel adbodyforc weak form innerproduct notat defin beginequ r_iu_h psi_i f quad foral psi_i endequ psi_i test function u_h trial solut finit dimension space mathcalsh unknown u forc construct user suppli constant c functionfunctionsindexmd valu evalu current time quadratur point f andor postprocessorpostprocessorsindexmd valu p constant c suppli paramet valu may also control cours transient simul controlscontrolsindexmd block c f p suppli input paramet valu function postprocessor respect suppli c f p correspond paramet equival set valu uniti exampl syntax case demonstr use adbodyforc forc term suppli sole function denot function list testtestsbcsad_bc_preset_nodalbc_function_preseti blockkernel syntax paramet kernelsadbodyforc syntax input kernelsadbodyforc syntax children kernelsadbodyforc vectorbodyforc descript vectorbodyforc analag bodyforcebodyforcemd except appli vector finit element variabl instead take one function paramet user pass three function repres individu compon vector variabl suppli user function_x default function_i function_z default syntax paramet kernelsvectorbodyforc syntax input kernelsvectorbodyforc syntax children kernelsvectorbodyforc bodyforc descript bodyforc implement forc term momentum transport structur mechan sourc term speciesmass transport strong form given domain omega defin beginequ underbracef_textrmbodyforc sum_in beta_i omega endequ f sourc term neg sink second term left hand side repres strong form kernel bodyforc weak form innerproduct notat defin beginequ r_iu_h psi_i f quad foral psi_i endequ psi_i test function u_h trial solut finit dimension space mathcalsh unknown u jacobian term kernel zero fracparti r_iu_hparti u_j sinc assum f function unknown u forc construct user suppli constant c functionfunctionsindexmd valu evalu current time quadratur point f andor postprocessorpostprocessorsindexmd valu p constant c suppli paramet valu may also control cours transient simul controlscontrolsindexmd block c f p suppli input paramet valu function postprocessor respect suppli c f p correspond paramet equival set valu uniti exampl syntax case demonstr use bodyforc forc term suppli base upon function form list testtestskernelsblock_kernelblock_kernel_testi blockkernel syntax paramet kernelsbodyforc syntax input kernelsbodyforc syntax children kernelsbodyforc arraydiffus descript array kernel implement follow piec weak form beginequ nabla vecuast mathbfd nabla vecu endequ expand beginequ nabla vecuast mathbfd nabla vecu sum_pn w_p sum_qn nabla u_past d_pq nabla u_q endequ vecuast test function vecu finit element solut mathbfd diffus coeffici vecu array variabl n number compon w_p pcdotsn scale compon array variabl size vector test function vecuast size vecu kernel furthur spell beginequ sum_pn w_p sum_qn nabla u_past d_pq nabla u_q sum_pn w_p sum_qn sum_ int_ d_pqx nabla u_past x cdot nabla u_qxdx sum_pn w_p sum_qn sum_ sum_in_textdof sum_jn_textdof u_piast u_qj sum_textqpn_qp jw_textqp d_pqtextqp nabla b_itextqp cdot nabla b_jtextqp labeleqweakarraydiffus endequ e denot element mesh n_textdof number shape function local element n_textqp number quadratur point spatial integr element u_piast u_piast expans coeffici test function solut respect often refer degre freedom subscript textqp indic associ quantiti evalu quadratur point jw_textqp determin jacobian transform physic element refer element shape function b_ihatxicdotsn_textdof defin time local quadratur weight note test function compon ident compon array variabl share finit element famili order rearrang fulli expand eqweakarraydiffus beginequ nabla vecuast mathbfd nabla vecu sum_ sum_in_textdof sum_textqpn_qp jw_textqp vecw_pvecu_iast underlinemathbfd_textqp nabla vecu_textqp cdot nabla b_itextqp endequ underlin term array provid arraydiffusioncomputeqpresidualarraydiffusionc element shape function quadratur point summat taken care moos note sinc test function arbitrari vecu_iast view index indic local residu goe global residu vector note vecavecb repres elementwis multipl ie vecavecb equal vector whose ith element a_i time b_i b two gener vector gener diffus coeffici mathbfd squar matrix size number compon diagon matrix repres array case compon coupl array diffus kernel element diffus coeffici vector use scalar diffus coeffici thu kernel give user option set type diffus coeffici paramet name diffusion_coefficient_typ user set scalar array full coorespond scalar diagon matrix full matrix respect default valu array transform kernel becom beginequ nabla vecuast mathbfd nabla vecu sum_ sum_in_textdof sum_jn_textdof sum_textqpn_qp jw_textqp vecw_pvecu_iast underlinemathbfd_textqp nabla b_jtextqp cdot nabla b_itextqp vecu_j endequ underlin part local jacobian evalu arraydiffusioncomputeqpjacobianarraydiffusionc arraydiffusioncomputeqpoffdiagjacobianarraydiffusionc exampl input syntax list testskernelsarray_kernelsarray_diffusion_testi blockkernel syntax paramet kernelsarraydiffus syntax input kernelsarraydiffus syntax children kernelsarraydiffus coefreact syntax descript kernelscoefreact reactionreactionmd scalar prefactor lambda coef beginequ lambda v psi endequ v v coupl variabl alert note ad automat differenti fv finit volum version coefreact wish use ad fv use adcoupledforceadcoupledforcemd fvcoupledforcefvcoupledforcemd respect syntax paramet kernelscoefreact syntax input kernelscoefreact syntax children kernelscoefreact bibtex bibliographi adcoupledtimederiv descript adcoupledtimederiv kernel similar timederivativetimederivativemd kernel except time deriv oper appli coupl variabl v instead kernel variabl u adcoupledtimederiv residu assign consequ strong form domain omega beginequ underbracefracparti vpartial t_textrmadcoupledtimederiv sum_in beta_i omega labelstrong endequ second term left hand side correspond strong form kernel adcoupledtimederiv weak form beginequ r_iu_h biggpsi_i fracparti v_hpartial tbigg quad foral psi_i labelweak endequ psi_i test function u_h mathcalsh finit element solut weak formul jacobian contribut comput use forward mode automat differenti exampl syntax adcoupledtimederiv use exampl split cahn hilliard equat phase field calcul syntax simpl take type adcoupledtimederiv kernel variabl adcoupledtimederiv residu assign coupl variabl v time deriv oper act upon exampl syntax found kernel block list testtestskernelscoupled_time_derivativead_coupled_time_derivative_testi blockkernel labelfals syntax paramet kernelsadcoupledtimederiv syntax input kernelsadcoupledtimederiv syntax children kernelsadcoupledtimederiv arraybodyforc descript arraybodyforc appli bodi forc specifi function array variabl beginequ vecuast vecf endequ vecuast test function compon array variabl vecu vecf bodi forc function whose size must agre number compon array variabl jacobian term kernel zero sinc assum vecf function unknown vecu exampl input syntax list testskernelsarray_kernelsarray_body_forcei blockkernel syntax paramet kernelsarraybodyforc syntax input kernelsarraybodyforc syntax children kernelsarraybodyforc odetimederiv syntax descript scalarkernelsodetimederiv scalar variabl set solut ordinari differenti equat ode specifi scalar kernel syntax pagesyntaxscalarkernelsindexmd kernel add time deriv term time integr scheme share nonlinear variabl use differ time integr scheme odetimederiv scalar kernel replac custom implement exampl input syntax exampl scalar variabl x solut coupl ode problem equat dfracd xd x equat dfracd yd x time deriv term ad variabl use two odetimederiv scalar kernel list testtestskernelsodeparsedode_sys_impl_testi blockscalarkernel syntax paramet scalarkernelsodetimederiv syntax input scalarkernelsodetimederiv syntax children scalarkernelsodetimederiv advectortimederiv descript advectortimederiv kernel implement simpl time deriv domain omega given beginequ underbracefracparti vec uparti t_textrmadvectortimederiv sum_in beta_i omega endequ second term left hand side correspond strong form kernel correspond advectortimederiv weak form use innerproduct notat beginequ r_ivec u_h vec psi_i fracparti vec u_hparti quad foral psi_i endequ vec u_h approxim solut vec psi_i finit element test function jacobian comput automat differenti inform time kernel found kernel descript pagesyntaxkernelsindexmd exampl syntax time deriv term ubiquit transient simul kernel block transient diffus problem demonstr advectortimederiv syntax shown list testtestskernelsad_transient_diffusionad_transient_vector_diffusioni blockkernel syntax paramet kernelsadvectortimederiv syntax input kernelsadvectortimederiv syntax children kernelsadvectortimederiv conservativeadvect descript conservativeadvect kernel implement advect term given domain omega defin beginequ underbracenabla cdot vecv u_textrmconservativeadvect sum_in beta_i omega endequ v advect veloc second term left hand side repres strong form kernel conservativeadvect assum veloc diverg free instead appli nabla test function psi_i weak variat form integr part result follow without numer stabil beginequ r_iu_h underbracenabla psi_i vecv u_textrmconservativeadvect langlepsi_i vecv u cdot vecnrangl quad foral psi_i endequ psi_i test function u_h mathcalsh finit element solut weak formul first term volumetr term second term surfac term describ advect flux volum conservativeadvect correspond former volumetr term surfac term implement bc moos see discuss regard outflowbc inflowbc without numer stabil correspond jacobian given beginequ fracparti r_iu_hparti u_j nabla psi_i vecv phi_j endequ full upwind advect flow notori prone physicallyincorrect overshoot undershoot mani simul numer stabil use reduc elimin spuriou behaviour fullupwind citedalenadhikari exampl numer stabil essenti add numer diffus complet elimin overshoot undershoot fullupwind avail conservativeadvect set upwinding_typ appropri alert note full upwind work continu fem de system describ advect eg diffusionadvect problem full upwind may use advect alon practic reason common complic case benefit numer stabil term case full upwind could also use mandatori implement conservativeadvect kernel element mesh full upwind implement follow way quantiti beginequ tilder_i nablapsi_i vecv endequ evalu tilder_i posit mass heat whatev u repres flow node call upwind node tilder_igeq residu node set beginequ r_i u_itilder_i texttt tilder_igeq endequ u_i valu u node defin total mass flow upwind node beginequ m_mathrmout sum_i mathrm tilder_igeq u_itilder_i endequ similarli defin beginequ tildem_mathrmin sum_i mathrm tilder_i tilder_i endequ mass conserv residu downwind node defin beginequ r_i tilder_i m_mathrmout m_mathrmin texttt tilder_i endequ full upwind add numer diffus numer stabil techniqu supg tvd anoth problem steadyst hard achiev nonlinear problem veloc fix chang everi nonlinear iter occur conservativeadvect hand full upwind comput cheap exampl syntax conservativeadvect use varieti problem includ advectiondiffusionreact syntax conservativeadvect demonstr kernel block pure advect test case list testtestskernelsconservative_advectionno_upwinding_di blockkernel veloc suppli three compon vector order v_x v_i v_z boundari condit pure advect form correct equat boundari term langlepsi_i vecv u cdot vecnrangl need includ bc block moos input file vecn outward normal boundari outflowbc may use instanc list testtestskernelsconservative_advectionnone_in_all_outi blockbc physic subtract langlepsi_i vecv u cdot vecnrangl fluid mass whatev u repres boundari vecv cdot vecn ad outflowbc allow fluid flow freeli boundari advect veloc blow fluid boundari outflowbc remov correct rate flux area langlepsi_i vecv u cdot vecnrangl hand includ outflowbc vecv cdot vecn isnt usual desir ad outflowbc case fix u boundari initi condit conservativeadvect kernel take fluid boundari interior model time outflowbc remov langlepsi_i vecv u cdot vecnrangl note vecv cdot vecn outflowbc actual ad fluid rate conservativeadvect kernel remov physic interpret someth extern model ad fluid exactli rate specifi initi condit boundari instead vecv cdot vecn user typic want specifi particular valu inject flux achiev use inflowbc add langlepsi_i vecv u_b cdot vecnrangl u_b kgm inject rate instanc list testtestskernelsconservative_advectionfull_upwinding_di blockbc make imperm boundari either vecv cdot vecn vecv cdot vecn simpli use bc boundari vecv cdot vecn bc remov fluid boundari fluid pile vecv cdot vecn omiss bc thought set u_b inflowbc comparison upwind full upwind test list testtestskernelsconservative_advectionno_upwinding_di list testtestskernelsconservative_advectionfull_upwinding_di describ physic situat advect left right along line sourc left boundari introduc u domain fix rate use inflowbc right boundari imperm bc u arriv start build boundari clear figur upwind lead unphys overshoot undershoot full upwind result none oscillatori behaviour instead produc numer diffus media mediaframeworkkernelsconservative_advection_d_png stylewidthmarginleft captionu second advect media mediaframeworkkernelsconservative_advection_d_png stylewidthmarginleft captionu second advect syntax paramet kernelsconservativeadvect syntax input kernelsconservativeadvect syntax children kernelsconservativeadvect bibtex bibliographi arrayreact descript array kernel implement follow piec weak form beginequ vecuast mathbfr vecu endequ vecuast test function vecu finit element solut mathbfr reaction coeffici similarli show arraydiffusionmd rearrang beginequ vecuast mathbfr vecu sum_ sum_in_textdof sum_textqpn_qp jw_textqp vecw_pvecu_iast underlinemathbfr_textqp vecu_textqp b_itextqp endequ underlin term vector provid arrayreactioncomputeqpresidualarrayreactionc detail explan notat found arraydiffusionmd gener reaction coeffici mathbfd squar matrix size number compon diagon matrix repres vector case compon coupl array reaction kernel element diffus coeffici vector use scalar reaction coeffici thu kernel give user option set type diffus coeffici paramet name reaction_coefficient_typ user set scalar array full coorespond scalar diagon matrix full matrix respect default valu array local jacobian found follow equat beginequ vecuast mathbfr vecu sum_ sum_in_textdof sum_jn_textdof sum_textqpn_qp jw_textqp vecw_pvecu_iast underlinemathbfr_textqp b_jtextqp b_itextqp vecu_j endequ underlin part local jacobian evalu arrayreactioncomputeqpjacobianarrayreactionc arrayreactioncomputeqpoffdiagjacobianarrayreactionc syntax paramet kernelsarrayreact syntax input kernelsarrayreact syntax children kernelsarrayreact adscalartimederiv scalar kernel add time deriv pair scalar variabl u nonlinear residu r_u beginequ r_u fracdudt endequ jacobian residu contribut comput use automat differenti syntax paramet scalarkernelsadscalartimederiv syntax input scalarkernelsadscalartimederiv syntax children scalarkernelsadscalartimederiv adkernelvalu descript optim kernelkernelmd base class residu allow test function psi_i _test_i_qp factor see kernelvaluekernelvaluemd dotspsi_i jacobian adkernelvalu comput use forward automat differenti kernel kernel base class object calcul residu vector contribut nonlinear scalar field variabl deriv two set optim base class loop reorder reduc number necessari residu evalu enabl compil perform code vector base class restrict mathemat form residu appli kernelvaluekernelvaluemd adkernelvalueadkernelvaluemd kernelgradkernelgradmd adkernelgradadkernelgradmd smp syntax descript preconditioningsmp overview singl matrix precondition smp build one matrix precondit exampl consid system equat beginalign nabla cdot kst nabla nabla cdot dst nabla endalign user specifi offdiagon blokc matrix use like off_diag_row off_diag_column would produc precondit matrix like equat boldsymbolm equiv beginbmatrix leftkst nabla phi_j nabla psi_iright boldsymbol pt leftfracparti dstpartial t_j nabla nabla psi_iright leftdst nabla phi_j nablapsi_iright endbmatrix order work computeqpoffdiagjacobian function must provid kernel comput requir partial deriv use diagon block use follow input file syntax full true exampl input file syntax list ex_precsmpi blockprecondit syntax paramet preconditioningsmp syntax input preconditioningsmp syntax children preconditioningsmp vcp syntax descript preconditioningvcp overview variabl condens precondition vcp design condens variabl linear system equat appli preconditionersolv reduc simplifi system equat develop vcp motiv need enabl broader rang robust scalabl precondition problem saddl point type jacobian saddl point type jacobian may come differ applic one typic exampl enforc constraint use lagrang multipli special numer charact prevent usag mani scalabl iter solver resolv issu static condens step carri vcp remov degre freedom dof associ lagrang multipli may result easytosolv system sometim posit definit handl broader rang solversprecondition improv effici vcp effici appli iter solver eg boomeramg mortarbas mechan contact problem system simplif illustr saddl point structur jacobian matrix simplifi static condens lagrang multipli take jacobian matrix simpl diffus problem equal valu constraint exampl system equat typic time step written block matrix follow beginequ beginbmatrix k_ ii k_ ic k_ ci k_ cc k_ ii k_ ic k_ ci k_ cc minterc dinterc endbmatrix_ beginbmatrix delta u_i delta u_c delta u_i delta u_c delta lambda endbmatrix beginbmatrix delta r_i delta r_c delta r_i delta r_c endbmatrix labeleqnoriginal_global_matrix endequ omit identifi time simplic first subscript cdot_ cdot_ denot primari secondari subdomain respect second subscript cdot_cdot c denot part subdomain contact cdot_cdot denot rest subdomain block k_cdot cdot denot respect stiff matric block repres coupl lagrang multipli primal variabl secondari subdomain block denot coupl lagrang multipli primal variabl primari subdomain system equat mortarbas mechan contact similar saddl point charact complex eqnoriginal_global_matrix consid primari secondari surfac partial contact reader interest jacobian matrix mortarbas mechan contact pleas refer citeppoppdu condens lagrang multipli discret lagrang multipli ie delta lambda elimin condens follow beginequ delta lambda ddelta r_ck_ci delta u_ik_cc delta u_c labeleqncondensation_of_lm endequ substitut eqncondensation_of_lm eqnoriginal_global_matrix obtain simplifi linear system equat contain primal variabl dof beginequ beginbmatrix k_ ii k_ ic k_ ci k_ cc mdk_ii mdk_cc k_ ii k_ ic minterc dinterc endbmatrix beginbmatrix delta u_i delta u_c delta u_i delta u_c endbmatrix beginbmatrix delta r_i delta r_c mddelta r_c delta r_i endbmatrix labeleqncondensed_global_matrix endequ condens system ie eqncondensed_global_matrix posit definit therefor stateofart iter solut techniqu multigrid method applic postprocess step lagrang multipli recov displac follow eqncondensation_of_lm dual basi function comput eqncondensation_of_lm eqncondensed_global_matrix reduc use dual basi lagrang multipli dual basi rel definit standard basi satisfi biorthogon condit follow beginequ labeleqnlocal_biorthogonal_condit int_gamma_ psi_j boldsymbolx phi_kboldsymbolxtextd delta_jk int_gamma_ phi_kboldsymbolxtextd endequ phi_kboldsymbolx standard shape function psi_j boldsymbolx dual shape function delta_jk kroneck delta function biorthogon condit assum hold everi lowerdimension element gamma_ owe biorthogon properti dual basi function integr matrix becom strict diagon thu comput condens step eqncondensation_of_lm eqncondensed_global_matrix becom trivial alert note titleus dual basi option recommend order reduc comput cost brought condens step see eqncondensation_of_lm eqncondensed_global_matrix recommend usag dual basi function lagrang multipli meanwhil suggest set option is_lm_coupling_diagon true precondit block let vcp take diagon structur coupl matrix account improv effici diagon number multipli dof small vcp still benefici may expens comput nondiagon number multipli dof larg one enabl usag dual basi enabl use_du true variabl block variabl lm order first famili lagrang use_du true mortarbas contact problem dual basi function use default lagrang multipli use contact action exampl input block contact action follow list modulescontacttesttestsmortar_tmdfrictionless_firstsm blockcontact vcp workflow schemat includ vcp_scheme demonstr solut process vcp compar standard precondit solv procedur vcp featur two addit custom comput step ie one condens variabl obtain full solut vector see vcp_scheme static condens variabl eg delta lambda dof obtain variabl delta lambda coupl variabl delta u base inform coupl matric ie extract origin jacobian matrix reduc system equat obtain necessari submatrix oper follow eqncondensed_global_matrix solv reduc system equat obtain primal variabl solut vector util updat variabl delta lambda see eqncondensation_of_lm assembl full solut vector media preconditioningvcp_schemepng idvcp_schem captionth variabl condens precondition vcp workflow blue repres origin precondit step orang show addit step custom vcp styledisplayblockmarginleftautomarginrightautowidth special design vcp sever special design vcp foster improv perform adapt variabl condens idea obtain actual dof zero diagon entri check jacobian matrix runtim refin dof list variabl condens carri dof actual result saddl point structur contact problem make sure variabl condens happen materi bodi come contact one option turn onoff capabl set adaptive_condens true fals standard basi mention recommend usag dual basi reduc comput overhead due condens step howev happen dual basi work certain problem case user set use_du fals use standard basi function offdiagon entri comput user choos either use lu solver set is_lm_coupling_diagon fals obtain approxim invers use diagon entri set is_lm_coupling_diagon true gener condens although focus use vcp mortarbas contact problem saddl point structur vcp develop applic gener problem improv condit achiev via reduc number dof alert note titlegener variabl condens fulli test vcp act discret system equat design gener possibl howev current implement mainli test mortarbas mechan contact problem activ improv implement look applic beyond contact therefor pleas feel free creat issuehttpsgithubcomidaholabmooseissu start discussionhttpsgithubcomidaholabmoosediscuss may come across problem vcp perform illustr solv hertzian problem use vcp sever subprecondition type includ boomeramg amg success overrelax sor addit schwarz method asm block jacobi bjac case set adaptive_condens true is_lm_coupling_diagon true note asm bjac converg mortarbas mechan contact problem standalon precondition subprecondition amg sor stagnat standalon precondition converg well subprecondition vcp hertzian_vcp_perform show perform vcp term total wall time total number linear iter seen vcp pretti effici converg use amg sor wherea standard precondition stagnat diverg subprecondition type vcp still effici standard precondition despit addit comput cost variabl condens step bettercondit system obtain static condens lagrang multipli reader interest get detail pleas refer citepyushum note perform vcp problem increas complex eg larger multiphys problem examin futur media preconditioninghertzian_vcp_performancepng idhertzian_vcp_perform captionperform vcp hertzian problem differ subprecondition type util comparison result shown four processor note inf identifi case solver stagnat thu wall time total number iter go infin styledisplayblockmarginleftautomarginrightautowidth exampl input file syntax list modulescontacttesttestsdual_mortardm_mechanical_contact_preconi blockprecondit syntax paramet preconditioningvcp syntax input preconditioningvcp syntax children preconditioningvcp hmg overview hmg stand highperform hybrid multigrid method hmghttpswwwmcsanlgovpetscpetsccurrentdocsmanualpagespcpchmghtml essenti idea separ multigrid method two step matrix coarsen level solver main motiv hmg first place use hyprehttpscomputingllnlgovprojectshyprescalablelinearsolversmultigridmethod matrix coarsen gener interpol use petschttpswwwmcsanlgovpetsc preconditionerssolv level solver howev code gener use code gamghttpswwwmcsanlgovpetscpetsccurrentdocsmanualpagespcpcgamghtml user code gener interpol exampl execution type steadi solve_typ pjfnk petsc_options_inam pc_type petsc_options_valu hmg configur use hypr gener interpol use sor precondition petsc level solver exampl execution type steadi solve_typ pjfnk petsc_options_inam pc_type pc_hmg_use_subspace_coarsen petsc_options_valu hmg true petsc_opt snes_view multipl nonlinear variabl configur reus interpol gener first nonlinear variabl variabl significantli speedup precondition setup complet toy exampl testtestspreconditionershmgdiffusion_hmgi also demonstr capabl realist neutron transport calcul follow paper tex articlekonghighli titlea highli parallel multilevel newtonkrylovschwarz method subspacebas coarsen partitionbas balanc multigroup neutron transport equat threedimension unstructur mesh authorkong fand wang yaqi gaston derek r permann codi j slaughter andrew e lindsay alexand dehart mark martineau richard c journalsiam journal scientif comput volum number pagescc year publishersiam fdp syntax descript preconditioningfdp overview finit differ precondition fdp form numer jacobian direct finit differ residu statement extrem slow ineffici great debug tool allow form nearli perfect precondition fdp contain option specifi offdiagon block singlematrixpreconditionermd sinc fdp build perfect approxim jacobian use use directli solv instead use jfnk finit differenc sensit differenc paramet specifi use petsc_options_inam mat_fd_coloring_err mat_fd_typ petsc_options_valu e ds exampl input file syntax list ex_precfdpi blockprecondit syntax paramet preconditioningfdp syntax input preconditioningfdp syntax children preconditioningfdp fsp alert construct titleundocu class fsp document content list use start point document class includ typic automat document associ mooseobject howev contain ultim determin necessari make document clear user markdown fsp syntax descript preconditioningfsp overview replac line inform regard fsp object exampl input file syntax describ includ exampl use fsp object syntax paramet preconditioningfsp syntax input preconditioningfsp syntax children preconditioningfsp alertend syntax descript preconditioningfsp syntax paramet preconditioningfsp syntax input preconditioningfsp syntax children preconditioningfsp pbp syntax descript preconditioningpbp overview physic base precondit pbp advanc concept use effici solv use jfnk idea creat precondit process target physic individu way creat effect precondition also maintain effici object allow dial precondit matrix oper done differ block matrix fli input file pbp work partial invert precondit matrix usual approxim true jacobian partial invert block row blockgaussseidel way equat boldsymbolruv beginbmatrix boldsymbolr_u boldsymbolr_v endbmatrix equat boldsymbolm equiv beginbmatrix boldsymbolr_u_u boldsymbol boldsymbolr_v_u boldsymbolr_v_v endbmatrix approx boldsymbolr equat boldsymbolm boldsymbolq boldsymbolp quad rightarrow quad left beginarrayrcl boldsymbolr_u_u boldsymbolq_u boldsymbolp_u pt boldsymbolr_v_v boldsymbolq_v boldsymbolp_v boldsymbolr_v_u boldsymbolq_u endarray right exampl input file syntax set pbp object two variabl system consist variabl u v use ilu u block amg v use lower diagon vu block use type pbp moos set solve_typ jfnk automat precondit activ mypbp mypbp type pbp solve_ord u v precondition ilu amg off_diag_row v off_diag_column u syntax paramet preconditioningpbp syntax input preconditioningpbp syntax children preconditioningpbp postprocessordt syntax descript executionertimestepperpostprocessordt postprocessor comput global metric like courant friedrich levi criterion nscfltimestepsizenscfltimestepsizemd optionaltru levelsetcflconditionlevelsetcflconditionmd optionaltru postprocessor case postprocessor comput maximum valu timestep ensur stabil variat numer scheme may impact accuraci postprocessor postprocessordt allow scale factor offset modifi time step applic use postprocessordt subapp time step may also receiv multiapppostprocessortransfermd use receivermd postprocessor exampl input syntax exampl set time step maximum valu allow cfl criterion fluid flow simul shock tube list modulesnavier_stokestesttestsfinite_volumecnsshock_tube_d_cavityhllc_sod_shocktube_di blocktimestepp postprocessor syntax paramet executionertimestepperpostprocessordt syntax input executionertimestepperpostprocessordt syntax children executionertimestepperpostprocessordt abpredictorcorrector syntax descript executionertimestepperabpredictorcorrector time stepper first add adamspredictormd problem predictor use previou solut comput predict solut vector predict compar use l_infti norm solut error lower paramexecutionertimestepperabpredictorcorrectore_max time step accept reduc time step regularli increas base paramexecutionertimestepperabpredictorcorrectorsteps_between_increas paramet magnitud increas base magnitud predict error abpredictorcorrector may use follow three time integr scheme implicit euler default moos crank nicholson nd order backward differ bdf exampl input syntax exampl solv simpl heat problem backward differ predictor corrector scheme predict correct step observ solv list testteststime_integratorsaeeaeei blockexecution syntax paramet executionertimestepperabpredictorcorrector syntax input executionertimestepperabpredictorcorrector syntax children executionertimestepperabpredictorcorrector constantdt syntax descript executionertimestepperconstantdt descript constantdt timestepp simpli take constant time step size throughout analysi unless solver fail converg iter constantdt begin analysi take step specifi user dt paramet solver fail obtain converg solut given step execution cut back step size attempt advanc time previou step use smaller time step time step cut back multipli time step solut cutback time step still unsuccess time step size repeatedli cut back success solut obtain user specifi minimum time step dtmin paramet execution block time step must cut back minimum size without obtain solut problem exit error time step cut back use constantdt cutback step size use remaind analysi exampl input syntax list testtestsmisccheck_errorwrong_displacement_orderi blockexecution syntax paramet executionertimestepperconstantdt syntax input executionertimestepperconstantdt syntax children executionertimestepperconstantdt csvtimesequencestepp import time sequenc csv file similar delimit text file csvtimesequencestepp use delimitedfilereadermooseutilsmddelimitedfileread read csv file file alway read column column either access name use column_nam paramet provid csv file header contain name differ column index use column_index paramet index first column solv fail converg time step behavior csvtimesequencestepp timesequencesteppermd time step cut time stepper attempt return origin sequenc syntax paramet executionertimesteppercsvtimesequencestepp syntax input executionertimesteppercsvtimesequencestepp syntax children executionertimesteppercsvtimesequencestepp logconstantdt set time step constant logarithm space initi time step must set independ syntax descript executionertimestepperlogconstantdt syntax paramet executionertimestepperlogconstantdt syntax input executionertimestepperlogconstantdt syntax children executionertimestepperlogconstantdt timesequencestepp syntax descript executionertimesteppertimesequencestepp solver fail obtain converg solut given step execution cut back step size attempt advanc time previou step use smaller time step time step cut back multipli time step cutback factor default success time stepper attempt use next time sequenc adjust time step get back track exampl input syntax exampl numer problem solv four specifi point time use timesequencestepp list testteststime_stepperstimesequence_steppertimesequencei blockexecution syntax paramet executionertimesteppertimesequencestepp syntax input executionertimesteppertimesequencestepp syntax children executionertimesteppertimesequencestepp solutiontimeadaptivedt syntax descript executionertimesteppersolutiontimeadaptivedt idea find simul time step comput cost step lowest comput cost time step solv depend mani factor time stepper studi time step depend time stepper tri decreas simul time everi time step react chang comput time comput cost time step increas two step row either lower increas time step depend two previou step exampl increas time step twice row solv time increas attempt decreas time step least two step dynam revers chang time step modifi use equat equat dtn dtn textperc chang pm sign updat chosen explain exampl input syntax list testtestsexecutionersexecutionerslntimeadapti blockexecution syntax paramet executionertimesteppersolutiontimeadaptivedt syntax input executionertimesteppersolutiontimeadaptivedt syntax children executionertimesteppersolutiontimeadaptivedt functiondt syntax descript executionertimestepperfunctiondt descript functiondt type timestepp take time step vari time accord userdefin function time step control piecewis linear function defin use time_t time_dt paramet vector time step provid use time_dt paramet accompani vector correspond time specifi use time_t paramet two vector use form time step vs time function time step given step comput linearli interpol pair valu provid vector procedur use constantdtconstantdtmd use reduc time step userspecifi valu fail solut occur growth_factor given appli everi time step current time step predict function smaller current time step multipli growth_factor sens growth_factor upper limit function increas growth_factor provid user time step govern function exampl input syntax list testteststime_steppersfunction_dtfunction_dt_mini blockexecution syntax paramet executionertimestepperfunctiondt syntax input executionertimestepperfunctiondt syntax children executionertimestepperfunctiondt dt syntax descript executionertimestepperdt adapt errorestim base multistep time step calcul scheme meant provid confid converg time step result take three time step everi step rel comput expens time step scheme time step solut compar solut would two halftim step taken instead latter solut gener accur give estim error base error detail user set accept error time step may accept reject equat error dfracu_dt u_dt_l_maxu_dt_l_ u_dt_l_ dt u solut dt time step size time step accept time step increas equat dtn dtn leftdfrace_tolerror rightord e_tol user set toler error order accuraci order time integr scheme step reject non linear auxiliari system reset time step reduc next attempt exampl input syntax dt time step scheme use exampl two halfstep taken full step exampl full step alway accept tighten e_max e reader may make time stepper reject full step lower time step accordingli list testteststime_steppersdtdti blockexecution syntax paramet executionertimestepperdt syntax input executionertimestepperdt syntax children executionertimestepperdt iterationadaptivedt syntax descript executionertimestepperiterationadaptivedt descript iterationadaptivedt time stepper provid mean adapt time step size base difficulti solut iterationadaptivedt grow shrink time step base number iter taken obtain converg solut last converg step requir optimal_iter paramet control number nonlinear iter per time step provid optim solut effici iter requir obtain converg solut time step may larg result undu solut difficulti fewer iter requir may possibl take larger time step obtain solut quickli second paramet iteration_window use control size region time step held constant shown figadaptive_dt_criteria number nonlinear iter converg lower optimal_iterationsiteration_window time step increas optimal_iterationsiteration_window iter requir time step decreas iteration_window paramet option specifi default valu specifi optimal_iter decis whether grow shrink time step base number nonlinear iter number linear iter paramet mention use control optim iter window nonlinear iter criterion appli linear iter anoth paramet linear_iter ratio default use control optim iter window linear iter calcul multipli linear_iteration_ratio optim iter iter window respect grow time step growth criterion must met linear iter nonlinear iter time step shrinkag criterion reach either linear nonlinear iter time step decreas control time step size base number nonlinear iter set linear_iteration_ratio larg number time step increas decreas done use factor specifi growth_factor cutback_factor respect solut fail converg adapt time step activ new attempt made use smaller time step manner fix time step method maximum minimum time step option specifi execution block use dtmax dtmin paramet respect addit control time step base iter count iterationadaptivedt also option limit time step base behavior timedepend function optional specifi provid function name timestep_limiting_funct typic function use drive boundari condit model step cut back chang function previou step exce valu specifi max_function_chang allow step size chang limit chang boundari condit appli model step addit limit boolean paramet force_step_every_function_point set true forc time step everi point piecewiselinear function media mediaexecutioneradaptive_dt_criteriapng stylewidth idfigadaptive_dt_criteria captioncriteria use determin adapt time step size alert tip iterationadaptivedt often simpli use exponenti grow time step purpos iter relat paramet requir exampl input syntax list testteststime_steppersiteration_adaptiveadapt_tstep_shrink_init_dti blockexecution syntax paramet executionertimestepperiterationadaptivedt syntax input executionertimestepperiterationadaptivedt syntax children executionertimestepperiterationadaptivedt exodustimesequencestepp syntax descript executionertimestepperexodustimesequencestepp exodu file read first process rank time step sequenc broadcast process solv fail converg time step behavior exodustimesequencestepp timesequencesteppermd time step cut time stepper attempt return origin sequenc exampl input file exampl time stepper extract time sequenc exodu output file exodu file may necessarili gener use input file start end time simul may still set independ list testteststime_stepperstimesequence_stepperexodustimesequencei blockexecution syntax paramet executionertimestepperexodustimesequencestepp syntax input executionertimestepperexodustimesequencestepp syntax children executionertimestepperexodustimesequencestepp lowerboundnodalkernel syntax descript nodalkernelslowerboundnodalkernel descript lowerboundnodalkernel meant use impos lower bound coupl variabl v variabl specifi variabl paramet lagrang multipli order equival coupl variabl v lower bound specifi use lower_bound paramet default option paramet exclude_boundari use specifi boundari node lowerboundnodalkernel appli use avoid singular precondit matrix aris constraint activ place anoth constraint like dirichletbc also activ exampl syntax list testtestsnodalkernelsconstraint_enforcementlowerboundi blocknodalkernel syntax paramet nodalkernelslowerboundnodalkernel syntax input nodalkernelslowerboundnodalkernel syntax children nodalkernelslowerboundnodalkernel timederivativenodalkernel syntax descript nodalkernelstimederivativenodalkernel kernel use time step scheme specifi nonlinear variabl executionersyntaxexecutionerindexmd exampl input syntax input file variabl lower solut ordinari differenti equat equat dfracd lowerd solv everi node block lower lower dimension subset squar mesh time deriv term ad use timederivativenodalkernel list testtestsbcsad_coupled_lower_valuetesti blocknodalkernel syntax paramet nodalkernelstimederivativenodalkernel syntax input nodalkernelstimederivativenodalkernel syntax children nodalkernelstimederivativenodalkernel penaltydirichletnodalkernel syntax descript nodalkernelspenaltydirichletnodalkernel descript penaltydirichletnodalkernel object appli dirichlet boundari condit use penalti method nodeset similar penaltydirichletbcpenaltydirichletbcmd class oper sideset exampl syntax list testtestsnodalkernelspenalty_dirichletnodal_penalty_dirichleti syntax paramet nodalkernelspenaltydirichletnodalkernel syntax input nodalkernelspenaltydirichletnodalkernel syntax children nodalkernelspenaltydirichletnodalkernel upperboundnodalkernel syntax descript nodalkernelsupperboundnodalkernel descript upperboundnodalkernel meant use impos upper bound coupl variabl v variabl specifi variabl paramet lagrang multipli order equival coupl variabl v upper bound specifi use upper_bound paramet default option paramet exclude_boundari use specifi boundari node upperboundnodalkernel appli use avoid singular precondit matrix aris constraint activ place anoth constraint like dirichletbc also activ exampl syntax list testtestsnodalkernelsconstraint_enforcementupperboundi blocknodalkernel syntax paramet nodalkernelsupperboundnodalkernel syntax input nodalkernelsupperboundnodalkernel syntax children nodalkernelsupperboundnodalkernel coupledforcenodalkernel syntax descript nodalkernelscoupledforcenodalkernel descript coupledforcenodalkernel appli either sink sourc term proport valu coupl variabl v option paramet coef determin whether term sourc sink proprtion coupl variabl appli forc coef posit default valu term sourc exampl syntax list testtestsnodalkernelsconstraint_enforcementlowerboundi blocknodalkernel syntax paramet nodalkernelscoupledforcenodalkernel syntax input nodalkernelscoupledforcenodalkernel syntax children nodalkernelscoupledforcenodalkernel reactionnodalkernel syntax descript nodalkernelsreactionnodalkernel descript reactionnodalkernel meant appli simpl volumetr sink reacton term form ku node k option usersuppli reaction rate coeffieci u variabl reactionnodalkernel appli exampl syntax list testtestsnodalkernelsscalingscalingi blocknodalkernel syntax paramet nodalkernelsreactionnodalkernel syntax input nodalkernelsreactionnodalkernel syntax children nodalkernelsreactionnodalkernel userforcingfunctionnodalkernel syntax descript nodalkernelsuserforcingfunctionnodalkernel forc function space time depend functionsyntaxfunctionsindexmd contribut jacobian nodal kernel function deem depend nonlinear variabl function gener exampl input syntax exampl nodal scalar variabl v live independ node solut follow equat equat dfracd vdt dfrac time depend term right specifi use userforcingfunctionnodalkernel list testtestsnodalkernelshigh_order_time_integrationhigh_order_time_integrationi blocknodalkernel syntax paramet nodalkernelsuserforcingfunctionnodalkernel syntax input nodalkernelsuserforcingfunctionnodalkernel syntax children nodalkernelsuserforcingfunctionnodalkernel constantr syntax descript nodalkernelsconstantr ode solv everi node paramnodalkernelsconstantrater paramet control control systemsyntaxcontrolsindexmd may leverag dynam control rate simul flexibl altern control rate control use userforcingfunctionnodalkernelmd rate depend space time base functionsyntaxfunctionsindexmd exampl input syntax input file variabl lower solut ordinari differenti equat equat dfracd lowerd solv everi node block lower lower dimension subset squar mesh constant rate term ad use constantr nodal kernel list testtestsbcsad_coupled_lower_valuetesti blocknodalkernel syntax paramet nodalkernelsconstantr syntax input nodalkernelsconstantr syntax children nodalkernelsconstantr orientedboxmark syntax descript adaptivitymarkersorientedboxmark descript orientedboxmark oper similar fashion boxmarkerboxmarkermd howev box defin given center width length height box orient defin direct vector width length dimens refin flag element insid andor outsid box defin exampl input syntax list testtestsmarkersoriented_box_markerobmi blockadapt syntax paramet adaptivitymarkersorientedboxmark syntax input adaptivitymarkersorientedboxmark syntax children adaptivitymarkersorientedboxmark errorfractionmark syntax descript adaptivitymarkerserrorfractionmark descript errorfractionmark util valu indicatorindicatorsindexmd measur error element use error approxim follow algorithm appli media mediamarkerserror_fraction_marker_examplepng stylefloatrightwidthautomarginpxpaddingpx captionerrorfractionmark exampl calcul element sort increas error element compris refin fraction highest error lowest total error mark refin element compris coarsen fraction lowest error highest total error mark refin exampl input syntax list testtestsmarkerserror_fraction_markererror_fraction_marker_testi blockadapt syntax paramet adaptivitymarkerserrorfractionmark syntax input adaptivitymarkerserrorfractionmark syntax children adaptivitymarkerserrorfractionmark boxmark syntax descript adaptivitymarkersboxmark descript boxmark standalon marker mark element insid outsid coarsen refin marker oper use bound box specifi lower upper extent bound box dimens regardless dimens problem exampl input syntax list testtestsmarkersbox_markerbox_marker_testi blockadapt syntax paramet adaptivitymarkersboxmark syntax input adaptivitymarkersboxmark syntax children adaptivitymarkersboxmark combomark syntax descript adaptivitymarkerscombomark descript combomark use combin multipl marker singl marker done take maximum valu marker valu suppli marker therefor refin element take preced exampl input syntax list testtestsmarkerscombo_markercombo_marker_testi blockadapt syntax paramet adaptivitymarkerscombomark syntax input adaptivitymarkerscombomark syntax children adaptivitymarkerscombomark errortolerancemark syntax descript adaptivitymarkerserrortolerancemark descript errortolerencemark requir approxim error suppli via indicatorindicatorsindexmd use measur error element defin coarsen refin use hard toler refin element error greater valu suppli refin input paramet coarsen element error less valu suppli coarsen input paramet exampl input syntax list testtestsmarkerserror_tolerance_markererror_tolerance_marker_testi blockadapt syntax paramet adaptivitymarkerserrortolerancemark syntax input adaptivitymarkerserrortolerancemark syntax children adaptivitymarkerserrortolerancemark reporterpointmark syntax descript adaptivitymarkersreporterpointmark descript reporterpointmark standalon marker mark element either insid outsid base whether element contain point defin vector coordin given report exampl input syntax mesh domain follow input file squar x marker label box get valid coordin vector coord constantreport domain point coordz vector entri found insid domain final report vector entri coordz produc point outsid domain ignor element contain point mark refin flag empti element mark do_noth altern empti element could mark coarsen flag coarsen mesh point move element reporterpointmark label bad_coord report vector contain coordin differ size trigger error list testtestsmarkersreporter_point_markerpoint_marker_testi blockadapt syntax paramet adaptivitymarkersreporterpointmark syntax input adaptivitymarkersreporterpointmark syntax children adaptivitymarkersreporterpointmark uniformmark syntax descript adaptivitymarkersuniformmark exampl input syntax list testtestsmarkersuniform_markeruniform_markeri blockadapt syntax paramet adaptivitymarkersuniformmark syntax input adaptivitymarkersuniformmark syntax children adaptivitymarkersuniformmark valuerangemark syntax descript adaptivitymarkersvaluerangemark descript valuerangemark util indicatorindicatorsindexmd en estim error element error estim insid outsid allow rang mark coarsen refin default valu insid rang mark refin may revers use invert paramet addit third state buffer region exist outsid defin rang bound element region may mark differ state typic buffer region use defin region element mark do_noth avoid element mark refin directli adjac element mark refin exampl input syntax list testtestsmarkersvalue_range_markervalue_range_marker_testi blockadapt syntax paramet adaptivitymarkersvaluerangemark syntax input adaptivitymarkersvaluerangemark syntax children adaptivitymarkersvaluerangemark valuethresholdmark syntax descript adaptivitymarkersvaluethresholdmark descript valuethresholdmark requir estim error provid indicatorindicatorsindexmd use indic element mark refin coarsen element error valu coarsen refin threshold default element error greater threshold defin refin paramet mark refin element error less threshold defin coarsen paramet mark coarsen behavior invert use invert paramet addit third buffer region defin element region may mark differ state typic buffer region use defin region element mark do_noth avoid element mark refin directli adjac element mark refin exampl input syntax list testtestsmarkersvalue_threshold_markervalue_threshold_marker_testi blockadapt syntax paramet adaptivitymarkersvaluethresholdmark syntax input adaptivitymarkersvaluethresholdmark syntax children adaptivitymarkersvaluethresholdmark boundarymark syntax descript adaptivitymarkersboundarymark descript boundarymark standalon marker mark element either directli within given paramadaptivitymarkersboundarymarkerdist boundari alert warn titledistribut mesh current marker may give inaccur result use distribut mesh also suppli paramadaptivitymarkersboundarymarkerdist paramet part boundari differ processor affect distanc calcul mark element directli adjac boundari alway work alert note titleperform marker yet optim scalabl use paramadaptivitymarkersboundarymarkerdist paramet complex order onm n total number element mesh number element adjac boundari exampl input syntax list testtestsmarkersboundary_markeradjacenti blockadapt list testtestsmarkersboundary_markerdistancei blockadapt syntax paramet adaptivitymarkersboundarymark syntax input adaptivitymarkersboundarymark syntax children adaptivitymarkersboundarymark bilinearinterpol bilinearinterpol util appli least squar algorithm set point provid piecewis reconstruct surfac set point x must provid conjunct set depend valu zvalu construct surfac object normal use directli instead use throught piecewisebilinearmd object jvarmapinterfac jvarmapkernelinterfac jvarmapintegratedbcinterfac interfac class veneer kernel integr boundari condit respect provid map valu jvar paramet pass computeqpoffdiagjacobian method index _coupled_moose_var vector coupledvaluevar_nam index given var_nam use getparameterjvarmap method class use conjunct derivativematerialinterfacederivativematerialinterfacemd vector materi properti deriv respect coupl variabl pull map jvar _coupled_moose_var index case index vector coupl variabl current object _coupled_moose_var vector request c unsign int cvar mapjvartocvarjvar use call computeqpoffdiagjacobian method jvar paramet pass mapjvartocvar guarante return valid index _coupled_moose_var diagon jacobian metho call variabl number found _coupled_moose_var vector map global jvar map jvarmapinterfac class construct automat map jvar coupledvalueparameter_nam index index case index request pass coupledvalu given input paramet name vector variabl coupl paramet specif map obtain map build fetch refer initi list class constructor use c _myvar_mapgetparameterjvarmapmyvar class member c const jvarmap _myvar_map input paramet c paramsaddcoupledvaluemyvar vector coupl variabl index specif coupl variabl vector given jvar obtain use c int pvar mapjvartocvarjvar _myvar_map pvar jvar point entri myvar vector neg return valu indic jvar valu point variabl coupl variabl vector correspond map paramet moosetyp moosetyp header contain sever name central automat differenti moos defin follow macro adreal adrealvectorvalu adpoint adrealtensorvalu adranktwotensor adrankfourtensor resolv either real dualrealdualrealmd base object depend whether compute_stag equival residu jacobian compute_stag templat argument ad consum produc object like adkernel admateri respect mooseunit mooseunit physic unit pars convers helper class unit object construct form string eg nm evat kgm unit parser support oper well parenthesi argument oper expect posit neg integ upon pars unit resolv combin seven base si unitshttpsenwikipediaorgwikisi_base_unit g k mol cd respect expon prefactor canon form gener permit unit comparison determin conform ie whether two unit convert mooseunit support prefix unit metric prefixhttpsenwikipediaorgwikimetric_prefix rang yotta yocto support deriv unit follow unit current support symbol base unit name descript ohm textkgcdot textmcdot textscdot texta ohm resist imped reactanc atm textkgcdot textmcdot text standard atmospher pressur ev cdot textkgcdot textmcdot text electron volt energi erg textkgcdot textmcdot text erg energi degc textk celsiu temperatur long unit stand alon addit shift scale taken account case unit behav like kelvin degf fractextk fahrenheit temperatur long unit stand alon addit shift scale taken account case unit behav like rankin degr fractextk rankin temperatur ang textm angstrom length ang textm angstrom length textm meter length g textkg gram mass text second time texta amper electr current k textk kelvin temperatur mol cdot textat mole amount substanc cd textcd candela lumin intens n textkgcdot textmcdot text newton forc weight pa textkgcdot textmcdot text pascal pressur stress j textkgcdot textmcdot text joul energi work heat w textkgcdot textmcdot text watt power radiant flux c textacdot text coulomb electr charg v textkgcdot textmcdot textscdot texta volt voltag electr potenti emf f textkgcdot textmcdot textscdot texta farad capacit textkgcdot textmcdot textscdot texta siemen electr conduct wb textkgcdot textmcdot textscdot texta weber magnet flux textkgcdot textscdot texta tesla magnet flux densiti h textkgcdot textmcdot textscdot texta henri induct ba textkgcdot textmcdot text bary pressur dyn textkgcdot textmcdot text dyne forc weight ft textm foot length textm inch length lb textkg pound mass lbf textkgcdot textmcdot text poundforc forc psi textkgcdot textmcdot text poundforc per squar inch pressur stress btu textkgcdot textmcdot text iso british thermal unit heat bar textkgcdot textmcdot text bar pressur stress h text hour time day text day time would creat ambigu centiday candela l textm liter volum u cdot textkg unifi atom mass unit mass textat atom singl count substanc oper unit object support oper multipli divid unit respect overload stdpow provid exponenti unit equal oper implement comparison two unit unit real number return true two unit exactli ident includ prefactor comparison omit prefactor provid conformsto method unit consid equal real number base unit expon zero prefactor match real number dimens check addit conformsto check bool member function provid check unit repres given physic dimens islength istim ismass iscurr istemperatur output mooseunit object output stream use oper output consist prefactor si base unit respect expon two stream manipul provid toggl plain text latex format output unit see also unit convers use mooseunit avail input file unit brace expressioninput_syntaxmd optionaltru dualreal dualreal type underpin moos automat differenti ad capabl overview time overview idoverview dualreal moos typedef defin metaphysiclhttpsgithubcomroystgnrmetaphysicl templat class dualnumb dualnumb take two templat argument repres valu type dualnumb eg type fvecx repres deriv type dualnumb eg type nabla f fracparti fpartialvecx metaphysicl offer sever option type includ numberarray carray underli deriv vector storag data fast static storag inflex storag indic spars support essenti pick maximum possibl storag size hope best doesnt work mani problem problem lot variabl dynamicsparsenumberarray stdvector underli storag deriv data indic maximum flexibl slow continu dynam alloc memori semidynamicsparsenumberarray stdarray underli storag deriv data indic fast static storag indic storag allow spars oper henc flexibl avoid loop whole size stdarray maintain dynam size data member default configur moos use numberarray deriv storag gener fastest contain albeit inflex semidynamicsparsenumberarray select deriv storag type run configur withderivativetypespars moos framework directori underli deriv storag array size numberarray semidynamicsparsenumberarray modifi run configur option withderivativesizen n desir size contain default moos configur withderivatives adrel time idtim stabilized_in stabil incompress navier stoke idstabilized_in test spec navierstok test directori input file ad_lid_driven_stabilizedi x mesh default back array size comput spec macbook pro run mojav ghz intel core gb mhz ddr snescomputejacobian time moos nonspars config second moos spars config second interfacevaluetool descript basic util file comput singl quantiti given valu side interfac valu comput select via input paramet interface_value_typ function regist use simplifi develop object exampl object use util interfaceaveragevariablevaluepostprocessorinterfaceaveragevariablevaluepostprocessormd avail output averag value_mvalue_ jump_primary_minus_secondari value_mvalue_ jump_secondary_minus_primari value_svalue_m jump_ab absvalue_mvalue_ primari value_m secondari value_ value_m valu primari side interfac eg boundari defin value_ valu secondari side interfac mooseutil namespac moos includ number c util class function may use develop applic util within mooseutil c namespac follow summar avail item delimitedfileread iddelimitedfileread often necessari read data file simul often data delimit format csvhttpsenwikipediaorgwikicommaseparated_valu delimitedfileread design read data applic object delimitedfileread read data organ column row assum data outsid header numer convert c doubl addit also assum first row column defin number column entir file number column differ first row error produc within moos util util csvreadercsvreadermd part vectorpostprocessor system object use explain use util use delimitedfileread simpl requir three step first includ util header file includ delimitedfilereaderh object instanti read method call shown unit test snippet list unitsrcdelimitedfilereadertestc startreaderdatacsvexamplecsv endgetdata stripleadingwhitespacetru class requir includ filenam upon construct option second argument provid pointer libmesh commun object may provid argument use reader use within mooseobject exampl shown csv_reader_ctor csvreader object pass commun object reader provid reader read data processor provid read singl processor broadcast data other also possibl configur file format via variou set method list set method must call prior read method setignoreemptylinesbr default empti line ignor set fals presenc empti line caus error setformatbr reader capabl read data organ column row method allow format chang setdelimiterbr default reader attempt infer delimit file howev detect fairli rudimentari inspect file comma comma exist comma delimit exist space delimit setdelimit method use explicitli set string use delimit setheaderbr default reader attempt detect presenc header string row column data format sethead method use explicitli control whether header data exist header exist data row column label use header access via getdata method name header exist header name gener column_ column_ etc row_ row_ etc depend format set setcommentbr string provid method mark content ignor line begin charact ignor charact line follow charact also ignor list frameworksrcvectorpostprocessorscsvreaderc startcsvread end_commun includeendtru idcsv_reader_ctor captionconstruct delimitedfileread object within mooseobject initi list data read use read method two method use access data getnam method return vector column name read header gener base number column headerless file examin getdata three overload version method one return refer entir data set vector vector other access singl vector name index tensor oper ranktwotensor oper follow oper avail ranktwotensor valu parenthes indic type object subject oper text ranktwotensor ranktwotensor real ranktwotensor real ranktwotensor ranktwotensor real ranktwotensor typetensorr real addit mani method avail addit matrix oper zero print transpos lnorm rowint return typevectorr rotaterealtensorvalu rotateranktwotensor rotatexyplaner doublecontract deviator traceless part trace dtrace deriv trace wrt tensor entri secondinvari second invari symmetr part deviator dsecondinvari deriv secondinvari wrt tensor entri dsecondinvari second deriv secondinvari wrt tensor entri thirdinvari third invari symmetr part deviator ie deviator deviatorictransposedet dthirdinvari deriv thirdinvari wrt tensor entri dthirdinvari second deriv thirdinvari wrt tensor entri sinlod sine three time lode angl dsinlod deriv sinlod wrt tensor entri dsinlod second deriv sinlod wrt tensor entri det determin ddet deriv det wrt tensor entri invers symmetriceigenvalu eigenvalu symmetr part tensor dsymmetriceigenvalu deriv symmetriceigenvalu wrt tensor entri dsymmetriceigenvalu second deriv symmetriceigenvalu wrt tensor entri method thoroughli test use cppunit rankthreetensor oper follow oper avail rankthreetensor valu parenthes indic type object subject oper text rankthreetensor rankthreetensor real real rankthreetensor rankthreetensor rankthreetensor ranktwotensor real real addit mani method avail addit matrix oper zero print lnorm rotater rotaterealtensorvalu rotateranktwotensor fillfrominputvectortypevectorr fillfromplanenormaltypevectorr mixedprojectrankfourranktwotensor creat rank tensor contract d_ijkl t_mijb_mnt_nkl doublecontractionranktwotensor creat vector contract v_i t_ijkb_jk rankfourtensor oper follow oper avail rankfourtensor valu parenthes indic type object subject oper text rankfourtensor rankfourtensor real real rankfourtensor rankfourtensor rankfourtensor ranktwotensor realtensorvalu real real addit mani method avail addit matrix oper zero print lnorm invsymm return a_ijkl input c_ijkl c_ijkl cdot a_ijkl left delta_im delta_jn delta_in delta_jm right rotaterealtensorvalu rotateranktwotensor transposemajor witch first pair second pair indic surfacefillfrominputvectortypevectorr fill tensor entri ignor last dimens fillfrominputvectortypevectorr fillmethod use build elast tensor fillgeneralisotropictypevectorr fillantisymmetricisotropicr fillsymmetricisotropicr real fillsymmetricisotropiceandnur real innerproducttranspos sumx calcul sum c_iijj j sumx calcul vector sum j c_iijj issymmetr isisotrop inputparamet simplifi unifi creation simul object moos input paramet must declar popul singl inputparamet object ensur everi constructor moos uniform ensur everi object creat moos factori pattern inputparamet object collect paramet one seper attribut use fine control behavior underli object exampl paramet mark requir option provid default use enhanc gui interfac may use programmat gener input file moos complet list attribut input paramet list frameworkincludeutilsinputparametersh startstruct metadata endmetadata appli transfer common paramet build custom action often use read sever paramet use directli set paramet object built custom action inputparamet object contain use method appli transfer common paramet avoid sever manual line set paramet see util method correspond document list frameworkincludeutilsinputparametersh startbegin appli paramet method endend appli paramet method rang check paramet inputparamet object support pars express variou bound check user input custom logic need implement everi endus object rang check express alway second last paramt right doc string list frameworkincludeutilsinputparametersh startbegin rang check paramet method endend rang check paramet method deprec coupl variabl inputparamet class provid conveni method deprec coupl variabl name call adddeprecatedcoupledvar method take three argument first correspond deprec name second argument new bless name user use name correspond paramsaddcoupledvarblessed_nam blessed_name_doc_str relev classvalidparam block final option argument date deprec variabl name remov mathutil namespac moos includ number c util class function may use develop applic mathemat express polynomi evalu mathutilspoli evalu polynomi integ order n use horner method evalu beginequ px c_ c_ x c_ x a_n xn endequ beginequ px c_ x a_ xa_ x a_n x a_n endequ clamp mathutilsclamp return clamp valu upper lower bound l_lower l_higher respect beginequ begincas l_lower x l_lower l_higher x l_higher x textotherwis endcas endequ smootherstep mathutilssmootherstep return smooth step transit start end bound b_lower b_higher respect given valu u beginequ x fracu b_lowerb_high b_lower endequ beginequ begincas u b_lower u b_higher x x x textotherwis endcas endequ method ensur smooth transit two bound also ensur first second deriv zero two bound use method especi use transit two nonsmooth regim deriv respect pass valu u return use option deriv bool nestedsolv overview nestedsolv util class implement nonlinear solv nxn system use kernel materi userobject comput quantiti given solut nonlinear equat system rather close form express nonlinear equat system defin residu function jacobian function function provid c lambda express lambda express access local member variabl enclos scope applic mainli refer coupl variabl valu materi properti avail class nestedsolv util basic api nestedsolv c class object need instanti construct set solver environ solver environ local member variabl object use within purpos solv environ store solver option toler solver state converg reason failur state previou solv solv environ reus multipl solv main api nestedsolv nonlinear member function exist two flavor nestedsolvenonlineart guess l comput take writabl refer variabl type contain initi guess solut go function solut call complet comput lambda express take refer current solut valu residu jacobian need updat latter two nestedsolvenonlineart guess lr computeresidu lj computejacobian behav larg similar first overload take two separ lambda comput residu jacobian independ enabl effici use line search trust region algorithm intern support data type recommend data type solutionresidu jacobian eigen dynam size matrix object nestedsolvevalu nestedsolvejacobian typedef avail shortcut type special overload exist nonlinear solv api deal special case x system solutionresidu jacobian real scalar x system solut residu bein realvectorvalu jacobian ranktwotensor valu correct overload pick base type initi guess paramet check converg state state solv check use getsolv method return enumer describ solv converg converg enumer take follow valu nestedsolvestatenon solv begun initi valu nestedsolvestateconverged_ab solv converg due meet absolut toler nestedsolvestateconverged_rel solv converg due meet rel toler nestedsolvestateexact_guess solv converg due initi guess give zero residu nestedsolvestatenot_converg solv converg note case absolut rel toler met simultan valu nestedsolvestateconverged_rel return exampl basic usag first construct nestedsolv object object reus multipl solv could member class use nestedsolv solver next set solut vector type nestedsolvevalu dynamicli size vector class eigen librari eigen use oper initi vector two compon case nestedsolvevalu solut solut next set custom rel toler default valu e solversetrelativetolerance next defin residu jacobian function use singl lambda three argument first argument current guess solut _input_ function vector length n scalar argument two writabl refer residu vector size current guess valu calcul lambda follow jacobian matrix system deriv resdual vector respect guesssolut auto comput const nestedsolvevalu guess nestedsolvevalu residu nestedsolvejacobian jacobian residu guess guess guess residu guess guess jacobian guess jacobian guess jacobian jacobian note jacobianij deriv residuali respect guessj lastli pass initi guess along residualjacobian comput lambda nestedsolvenonlinear method solvernonlinearsolut comput solut updat initi guess actual solut system check solv success one follow solvergetst nestedsolvestatenot_converg take action case converg powel dogleg method solver previou exampl use singl lambda comput residu jacobian time instead chang code sparat lambda allow independ calcul residu jacobian facilit use solver method evalu residu frequantli jacobian line search trust region strategi auto computeresidu const nestedsolvevalu guess nestedsolvevalu residu residu guess guess guess residu guess guess auto computejacobian const nestedsolvevalu guess nestedsolvejacobian jacobian jacobian guess jacobian guess jacobian jacobian use three argument version nonlinear method solvernonlinearsolut computeresidu computejacobian perfgraphliveprint overview perfgraphliveprint pglp object respons print inform screen code execut perform action pglp execut separ thread main thread thread refer print thread main thread keep track execut use time_sect macro part perfgraphmd pglp read inform decid whether print inform current happen default pglp print inform time section take longer one second execut print live print messag point print singl everi second section end section end memori time print reason pglp print larg increas memori default mb section execut memori usag increa limit pglp print live print messag show much memori time use section memori limit configur input file pglp primarili work wake everi second inspect program done current print necessari inform go back sleep lightweight enough significantli disrupt oper program objectsdata structur use perfgraphliveprint pglp util sever differ object datastructur read current state execut store current state what print perfgraphsectioninfo perfgraphregistri keep track section regist includ uniqu id short name verbos level live messag whether print dot section kept perfgraphsectioninfo object part perfgraphregistri inform heavili util pglp know print due main thread regist inform print thread use accessor surround perfgraphsectioninfo lock howev perfgraph execut main thread therefor util protect member function perfgraphregistri access perfgraphsectioninfo without lock perfgraphsectionincr sectionincr repres either start end state section sectionincr store execut list explain insid perfgraph well _print_thread_stack pglp pglp read order determin applic current done sectionincr object store stdarray call _execution_list perfgraph mean alloc upfront time section start next avail sectionincr exeuct list fill current time current memori incrementst start pglp wake inspect execut list determin program done whether need print anyth note zero memori alloc execut program perfgraph_execution_list execut list store perfgraph keep run list everi time section start stop mention stdarray sectionincr object static alloc start execut execut list work circular buffer end list reach fill continu wrap around begin list simpl counter kept begin end current execut list begin end kept atom variabl threadsaf sinc read written main thread print thread entir execut histori necessari pglp wake everi second need abl see everyth transpir allow know finish print finish inform give abil keep track current execut develop print thread stack perfgraphliveprint_print_thread_stack perfgraph keep stack stack chang time execut code pglp need keep stack current print screen know much indent unfold section end ie print finish statement sever section nest inform kept perfgraphliveprint_print_thread_stack print thread stack develop pglp read execut list perfgraph push pop sectioninfo import detail print thread stack must _copy_ execut list execut list circular array mean old entri get overwritten thing bottom stack could long time eg entir execut program preserv inform must copi stack thread thread safeti thread accomplish use c thread mechan pglp start constructor perfgraph stdthread destructor perfgraph tell pglp finish call join delet memori synchron main thread write execut list pglp read thread memori synchron critic perfgraphaddtoexecutionlist sectionincr data fill stdatomic_thread_f use make sure chang sectionincr data publish thread _before_ increment end execut list thread fenc synchron thread fenc perfgraphliveprintstart mean pglp wake sectioninfo written wont ever access data midchang achiev without lock main thread wait wake main execut loop pglp start loop depend objectloc _currently_destruct variabl detail _currently_destruct gist loop continu perfgraph tell pglp wait section complet instantli print finish info use stdcondition_vari condition_vari use wait notif main thread use wait_for possibl wait either specifi amount time pass thread signal wakeup allow pglp sleep second main thread tell section complet howev actual work condition_vari complex actual three reason wait_for may wakeup timeout notif sent spuriou wakeup third type wakeup occur os wake thread earli happen randomli ok us give us moment check see section complet thread asleep predic functor pass wait_for exactli check addit also check see perfgraph _destruct would mean pglp stop wait print final info want take moment talk lock condition_vari usual want use lock guard evalu predic set variabl valu main thread case realli dont want lock execut pathway main thread could slow execut get around variabl use predic atom howev isnt without flaw tini chanc predic evalu fals inbetween check predic wait signal main thread signal pglp start look signal case pglp may wait one second find work done incred rare worth fix lock main thread destruct mention pglp loop perfgraph signal destruct _destruct variabl perfgraph guard mutex also util check predic condit variabl mention done dont want accident miss destruct signal wait second delay end program could huge detriment run run thousand case like stocahst sampl even run test one small detail destruct valu need captur _before_ captur valu end execut list make sure final end execut list avail last runthrough pglp everyth complet print print make past condit variabl mention pglp need read execut list build print stack decid anythig print simplest case execut still place mean execut list chang case either current section live print messag need print dot need print execut list place must iter note current end execut list captur one time condition_vari predic end util throughout entir time pglp execut iter main thread may move past point entir cycl pglp end execut list held constant requir make sure race condit differ reason way thing print run second print live messag still run print dot current thing run alreadi print finish print stat continu run intern scope run print print still finish run hasnt print memori limit print finish case entir stack print current section need print give context inner scope get proper indent indexableproperti indexableproperti helper proxi object obtain scalar compon materi properti use object process scalar quantiti instead real materi properti allow user suppli materi properti type list along compon index paramet select scalar compon properti valu materi properti type compon paramet exampl real _none_ realvectorvalu compon stdvectorr compon ranktwotensor compon rankthreetensor compon rankfourtensor compon use util class declar member class header c const indexablepropertypar is_ad _prop parent current class parent class indexableproperti provid helper method add default paramet coupl materi properti properti compon index compon use follow c inputparamet param indexablepropertypar is_advalidparam also add parent class paramet param may also choos add paramet type materialpropertynam stdvectorunsign int custom name document string c paramsaddrequiredparammaterialpropertynamefirst_properti name first materi properti paramsaddrequiredparammaterialpropertynamesecond_properti name second materi properti paramsaddparamstdvectorunsign int first_compon index comon first properti paramsaddparamstdvectorunsign int second_compon index comon second properti initi indexableproperti object put c _propthi object initi list chose custom name properti name compon paramet pass second third argument like _first_propthi first_properti first_compon _second_propthi second_properti second_compon indexableproperti object implicitli cast bool check _any_ support index properti found _prop paramerrorproperti suitabl materi properti found perfgraph overview note apidevelop document intend develop code use moos endus focus document see perfgraphoutputmd perfgraph object hold time data moos idea behind design creat nest set time data faith repres call structur moos perform graph part ecosystem object perfgraph hold full graph routin print perfnod make node graph hold time inform section code perfguard scope guard use activ deactiv timer perfgraphinterfac interfac class gain access perfgraph ad timer pull time data perfgraphoutputmd respons print graph perfgraphdatamd postprocessor output time graph perfgraphliveprintmd object respons print perform inform duru run perfgraph work util time_sect macro specifi current scope time see inform time section place execut tree current stack section kept date time start snapshot memori current time taken compar current scope end order talli time section code perfgraphliveprint object watch stream execut possibl print happen take long use much memori end run perfgraphoutput object respons dump relev inform alert warn perfgraph base time use insid tight comput loop anyth call insid tight comput loop ie dont use computeqpresidu take e second time happen that mhz rang mean calcul cant run faster wherev timer gener rule mean oper go insid time section inherit perfgraphinterfac use time make sure system inherit perfgraphinterfac coupl differ constructor perfgraphinterfac first one allow pass mooseobject infer prefix base type object name object prefix prependend name time section give uniform name object list frameworkincludeinterfacesperfgraphinterfaceh lineperfgraphinterfaceconst mooseobject moose_object second one allow pass mooseobject explicitli set prefix list frameworkincludeinterfacesperfgraphinterfaceh lineperfgraphinterfaceconst mooseobject moose_object const stdstring prefix final one object mooseobject inherit object explicitli pass perflog usual retriev mooseapp explicitli set prefix list frameworkincludeinterfacesperfgraphinterfaceh lineperfgraphinterfaceperfgraph perf_graph const stdstring prefix log level perfgraph reli logg level determin verbos output time section sure set level appropri user inund much nois level root whole applic time minim set import routin residualjacobian comput etc import initi routin set mesh initi system etc detail inform level action start print fairli unimport less use routin routin rare take much time perform data type data provid regard section node perfgraph follow self time taken includ children second children time taken children second total total self plu children time taken second self_avg averag time taken includ children second call children_avg averag time taken children second call total_avg total time taken self plu children second call self_perc percentag time taken includ children rel total applic time children_perc percentag time taken children rel total applic time total_perc percentag time taken self plu children rel total applic time self_memori memori ad includ children megabyt children_memori memori ad children megabyt total_memori total memori ad self plu children megabyt call number call time section two differ method time onthefli registr preregistr onthefli registr prefer method use whenev possibl onthefli section time time section simpl use time_sect macro within c scope time_sect take one four argument singl argument version use preregistr section onthefli invok time_sect like time_sectionsection_nam level live_messag print_dotstru section_nam short name section name use final tabl normal function name short name level log level live_messag option highli recommend messag perfgraphliveprint print screen necessari descript titlecas written activ way eg calcul lama height print_dot option default true control whether progress dot print section turn print dot would intermingl screen output moos control instanc librari call exampl show mostoften usecas time_sect c void dogclean time_sectionclean clean dog time_sectionsoap soap dog time_sectionrins rins dog time_sect creat static variabl hold perfid initi regist section perfgraphregistri sinc static variabl registr happen first time line code hit everi time simpli creat perfguard object use pass perfid perfguard tell perfgraph new scope time start section end function perfguard die destructor tell perfgraph remov scope time way mean except safe imposs foul pushpop method match earli retriev section regist use onthefli time method describ overwhelm major section moos framework modul regist perfgraph moment ran pose challeng obtain data pertain said section error check whether section exist depend whether section ran yet default behavior obtain perfgraph section data via perfgraphsectiondata error section name found let say tri time jacobian evalu time everi timestep store section feproblemcomputejacobianintern system evalu jacobian second timestep tri pull section data feproblemcomputejacobianintern timestep_end system error default first evalu section ran even though valid section perfgraphsectiondata take option boolean argument must_exist default true set must_exist fals return zero section found preregist time type time _only_ util absolut necessari main case come time base class main get instanti multipl time differ deriv class exampl action base class time section use preregistr two part process regist section save perfid use time_sect macro start time perfid registr regist section code time accomplish call list frameworkincludeinterfacesperfgraphinterfaceh lineregistertimedsect section_nam name section code prefix section_nam must global uniqu level log level section higher number repres detail log level quick guidelin select level registertimedsect return perfid uniqu identifi identifi code section perfid typic get save member variabl class regist section normal done initi perfid member variabl use registertimedsect initi list constructor like c myclassmyclass _slow_function_timerregistertimedsectionslowfunct time time section regist perfid captur section time use time_sect macro like c void slowfunct time_section_slow_function_tim thing time_sect creat perfguard object use pass perfid perfguard tell perfgraph new scope time start section end function perfguard die destructor tell perfgraph remov scope time way mean except safe imposs foul pushpop method match retriev section data object inherit perfgraphinterfac retriev data pertain regist section call perfgraphsectiondata note variou avail data type performancedatatyp perfgraph intern perfgraph object main purpos store complet callgraph perfnod current callstack perfnod graph held hold onto _root_nod scope push graph childrendescend _root_nod callstack held within _stack variabl _stack static alloc max_stack_s _current_posit use point recent node stack perfguard tell perfstack new scope new scope ad child perfnod _current_posit _current_posit increment new perfnod put scope remov perfguard _current_posit simpli decrement action necessari addit _execution_list keep run list everi section execut util perfgraphliveprint print messag multipl level deep print capabl perfgraph abil print format tabl display valu held graph normal shouldnt call directli instead access use perfgraphoutputmd output object print method print indent set section name show time like perform graph section call self avg memmb total avg memmb moosetestapp main feproblemoutputstep steadypicardsolv feproblemsolv feproblemcomputeresidualintern feproblemcomputejacobianintern feproblemoutputstep steadyfin feproblemoutputstep call number time section run self time time actual taken section children time cumul time subsect section total sum two avg column repres averag percent total runtim app number column left mem memori megabyt column left self total also two way print inform graph use printheaviestbranch printheaviestsect describ well perfgraphoutputmd page postprocessorinterfac postprocessorinterfac defin method use retriev postprocessorvalu refer mani object moos support retriev refer use calcul postprocessor postprocessor gener execut system moos valu often lag use anoth calcul list postprocessorinterfaceh startdoconormalmethodsbegin enddoconormalmethodsend includestartfals outputinterfac tagginginterfac tagginginterfac store basic inform use control contribut local element residualsjacobian multipl global vectorsmatric regular kernel boundari condit scalar kernel dg kernel etc inherit tagginginterfac vector tag default object contribut nontim vector system matrix timekernel deriv object automat contribut time vector behavior modifi set paramet object block input file tag descript vector_tag tag vector object fill extra_vector_tag add vector fill beyond vector_tag use ad without overrid default matrix_tag tag matric object fill extra_matrix_tag add matric fill beyond matrix_tag use ad without overrid default blockrestrict interfac blockrestrict interfac inherit everi object moos support run subset mesh domain correspond subdomain interfac provid validparamet function also support uniform way hand read subdomain restrict specfic everi object may restrict one subdomain simulatan subdomain may specifi either numer id string support mesh format name entiti use final interfac handl queri set subdomain object restrict restrict suppli moos document stub remov line content ad dependencyresolverinterfac userobjectinterfac userobjectinterfac defin method use retriev const refer specif type userobject done templat method use userobject requir dynam cast mani object moos support retriev refer custom userobject api may use calcul userobject gener execut system moos valu often lag use anoth calcul end use api object moos retriev userobject special macro function found list userobjectinterfaceh startdocouserobjectinterfacebegin enddocouserobjectinterfaceend includestartfals typic usag look like list elementuoauxc startdocogetuserobjectbegin enddocogetuserobjectend includestartfals reporterinterfac reporterinterfac defin method use retriev refer reporterreportersindexmd valu mani object moos support retriev refer use calcul list reporterinterfaceh startdoconormalmethodsbegin enddoconormalmethodsend includestartfals elementidinterfac extra integ id element mesh use handl complic materi assign perform specif calcul group element etc often time want use subdomain id task subdomain use moos blockrestrict oper mani subdomain could introduc larg penalti runtim perform extra element id identifi extra element id name extra element id part mesh recov mesh recoveri pleas refer meshgeneratormeshgeneratormd extra element integ id gener import elementidinterfac design use extra element id mesh moos object materi user object aux kernel dg kernel interfac kernel ic initi condit kernel etc follow tabl summar interfac function provid interfac method descript getelementidindex get index element integ input paramet integ name getelementidindexbynam get index element integ name getelementid get constant refer element integ current element input paramet getelementidneighbor get constant refer element integ neighbor element input paramet getelementidbynam get constant refer element integ current element integ name getelementidneighborbynam get constant refer element integ neighbor element integ name haselementid whether mesh element integ given name maxelementid get maximum element id element integ index minelementid get minimum element id element integ index areelemidsident whether two element integ ident element getallelemid get uniqu element id element integ index entir domain getelemidsonblock get uniqu element id extra element integ index set subdomain getelementid get element integ element moos creat three copi materi current element element face neighbor element face materialsyntaxmaterialsindexmd getelementid getelementidbynam return refer either current element id neighbor element id base whether current copi materi neighbor element correspondingli directli call getelementidneighbor getelementidneighborbynam allow materi note element integ name subdomain_id reserv moos access subdomain id interfac boundaryrestrict interfac boundaryrestrict interfac inherit everi object moos support run subset mesh domain correspond boundari interfac provid validparamet function also support uniform way hand read boundari restrict specfic everi object may restrict one boundari simulatan boundari may specifi either numer id string support mesh format name entiti use final interfac handl queri set boundari object restrict restrict suppli setupinterfac execute_on userfac object moos inherit setupinterfac class class provid two featur object foremost provid execute_on paramet name suggest dictat object execut secondli add virtual setup method allow deriv class perform setup applic prior execut execut object inherit setupinterfac add setupinterfacevalidparam within paramet execute_on paramet set variou flag common flag list execut flag descript initi prior first time step timestep_begin prior solv time step nonlinear prior nonlinear iter solv linear prior linear iter solv timestep_end solv time step subdomain execut subdomain ie block chang calcul execute_on paramet set singl flag multipl flag exampl may desir execut object initi state auxiliari comput vari input file snippet elementlengthauxelementlengthauxmd comput need comput initi thu exeucte_on paramet set list testtestsauxkernelselement_lengthelement_lengthi blockauxkernel altern often desir run comput multipl execut flag exampl input file snippet timeperiodtimeperiodmd control object respons enabl damperdampersindexmd object need run initi prior timestep guarante damper enabl desir list testtestscontrolstime_periodsdamperscontroli blockcontrol depend system option other avail sinc discuss creat custom execut flagscreatingcustomexecuteflag custom flag may ad complet list execut flag provid moos list registerexecflag function list frameworksrcbasemooseappc startmooseappregisterexecflag endvoid modifi execut creat object inherit setupinterfac possibl set add remov avail execut flag retriev modifi execflagenum paramet exampl consid snippet see outputcframeworksrcoutputsoutputc list frameworksrcoutputsoutputc startexecflagenum endsetdocstr includeendtru first execute_on retriev modif use set method notic second boolean argument pass set second flag enabl quit mode quit mode modifi paramet silent default modifi paramet case paramet list unmodifi user inputparametersisparamsetbyus return fals quit mode enabl method would return true second two new execut flag ad exec_fin exec_fail therefor addit option avail class output object case inherit object third default activ flag set exec_initi exec_timestep_end default output object final document string execute_on paramet output object updat reflect chang made paramet execflagenum conveni function gener document string includ avail option string virtual setup method setupinterfac includ virtual method correspond primari execut flag moos method list header shown list frameworkincludeinterfacessetupinterfaceh startsetupinterfac endsubdomainsetup includeendtru includestartfals stripleadingwhitespacetru gener method util perform setup procedur prior call execut correspond execut flag alert note method creat prior execut flag thu name correspond remain keep api consist jacobiansetup method call prior nonlinear execut flag residualsetup call prior linear execut flag creat custom execut flag possibl creat custom execut flag applic creat util custom execut flag follow step follow declar defin execut flag within applic new global const declar header file exampl within levelsetapp within moos modul header levelsettypesh declar new flag exec_adapt_mesh list moduleslevel_setincludebaselevelsettypesh new global must defin occur correspond sourc file defin new flag name option integ valu list moduleslevel_setsrcbaselevelsettypesc regist execut flag new flag declar defin must regist moos accomplish similar fashion object registr simpli add newli creat flag call registerexecflag registerexecflag function applic list moduleslevel_setsrcbaselevelsetappc startlevelsetappregisterexecflagsfac end dynam alert note applic registerexecflag function must creat done automat run add_exec_flag_registrationpi locat script directori within moos add execut flag inputparamet flag regist must made avail object desir execut custom flag done ad new flag exist object valid paramet exampl follow add exec_adapt_mesh flag transfer object list moduleslevel_setsrctransferslevelsetmeshrefinementtransferc stripleadingwhitespac startexecflagenum endparamssetbool use execut flag depend type custom comput desir variou moos execut call accept execut flag spawn calcul exampl levelsetproblem contain custom method use exec_adapt_mesh flag preform addit multiapptransfertransfersindexmd execut list moduleslevel_setsrcbaselevelsetproblemc stripleadingwhitespac linelevelsetexec_adapt_mesh meshmetadatainterfac meshmetadatainterfac use retriev attribut relat mesh creat mesh gener phase attribut arbitrari type name use object queri inform might otherwis cumbersom inspect raw mesh object exampl includ specif featur locat dimens number element direct etc interfac contain templat method queri exist specif attribut well retriev attribut avail recov one import featur meshmetadatainterfac availabl recov oper system deriv interfac access attribut creat initi setup phase simul remov need retriev meshgeneratormeshgeneratorsmeshgeneratormd userobjectsyntaxuserobjectsindexmd moosemeshsyntaxmeshindexmd object might contain specif api store inform meshgener meshgener system system may set attribut mesh metadata store attribut typic written act phase exampl attribut written builtin generatedmeshgener object list frameworksrcmeshgeneratorsgeneratedmeshgeneratorc startgeneratedmeshgeneratorsetmeshmetadata endvoid randominterfac moos current distribut highqual effici pseudo random number gener packag mtwist stabl across differ machin architectur random number gener tie moos random number gener system gener consist spatial random number field parallel discrit chang eg number threadsprocessor impact gener field random number interfac straightforward use alert note moos current use forward prng would nice enhanc framework would dramat improv perform random number gener distribut mesh larg scale random number field object moos produc field directli call getrandomlong getrandomr access parallel stabl random number object moos gener user paramet need call set setrandomresetfrequ method control often individu gener reset told replay set number typic random field use kernel boundari condit object impact residu statement dont want produc new random number linear iter impact converg solver avoid problem reset random number gener everi linear iter mean random number replay everi linear iter option nonlinear initi latter option effect reset vectorpostprocessorinterfac vectorpostprocessorinterfac defin method use retriev refer vectorpostprocessorvectorpostprocessorsindexmd valu mani object moos support retriev refer use calcul list vectorpostprocessorinterfaceh startdoconormalmethodsbegin enddoconormalmethodsend includestartfals coupleabl class provid api coupl differ kind variabl valu moos system follow tabl summar method kind valu provid method descript coupledvalu valu coupl variabl qpoint coupledgradi gradient coupl variabl qpoint coupledsecond second deriv coupl variabl qpoint adcoupledvalu valu coupl variabl qpoint automat differenti info adcoupledgradi gradient coupl variabl qpoint automat differenti info adcoupledsecond second deriv coupl variabl qpoint automat differenti info couplednodalvalu valu coupl variabl node adcouplednodalvalu valu coupl vector variabl node automat differenti info coupledvectorvalu valu coupl vector variabl qpoint adcoupledvectorvalu valu coupl vector variabl qpoint automat differenti info coupledcurl curl coupl vector variabl qpoint coupleddot time deriv coupl variabl coupleddotdu deriv time deriv coupl variabl couplednodaldot nodal valu time deriv coupl variabl coupledvectordot time deriv coupl vector variabl coupledvectordotdu deriv time deriv coupl vector variabl adcoupledlowervalu valu coupl lowerdimension variabl automat differenti info valu gradient second deriv user request old older valu case run transient simul case old older valu method call coupledvalueold coupledvalueold respect similarli option coupl determin variabl coupl user use iscoupl method typic use case look like _valueiscoupledv coupledvaluev _zero howev use case becam obsolet recommend use default valu option coupl variabl see follow exampl inputparamet classvalidparam inputparamet param baseclassvalidparam paramsaddcoupledvarv coupl valu return param classclass baseclass _vcoupledvaluev advantag user provid arbitrari default valu variabl coupl vector variabl user coupl vector variabl use follow syntax v b c syntax provid variabl coupl variabl v moos object use coupleabl interfac number compon coupl obtain coupledcompon method individu compon obtain call coupledvalu method mention pass variabl name usual compon index see follow exampl declar class b public protect unsign int _n_var stdvectormoosevari _var implement inputparamet bvalidparam inputparamet param avalidparam paramsaddrequiredcoupledvarv coupl valu return param bb _n_varscoupledcomponentsv unsign int _n_var _varspush_backdynamic_castmoosevari getvarv default coupl vector variabl vector variabl ad use paramsaddcoupledvar describ paramet class allow provid default vector variabl follow inputparamet bvalidparam inputparamet param avalidparam paramsaddcoupledvarv coupl valu return param coupl variabl paramet set constant real number input file use syntax v singl coupl variabl use v vector coupl variabl current mix actual variabl assign default like v actual_var support coupl solut dof possibl retriev solut dof element element loop differ valu type coupl hold interpol valu shape function obtain raw dof user perform integr evalu without go interpol process function found list frameworkincludeinterfacescoupleableh startcoupleddofvaluesbegin endcoupleddofvaluesend includestartfals fullsolvemultiapp syntax descript multiappsfullsolvemultiapp overview fullsolvemultiapp object design perform complet simul everi time execut thu use creat simul portion drastic differ time scale exampl input file syntax follow code snippet demonstr creat fullsolvemultiapp object list full_solve_multiappmasteri blockmultiapp syntax paramet multiappsfullsolvemultiapp syntax input multiappsfullsolvemultiapp syntax children multiappsfullsolvemultiapp centroidmultiapp syntax descript multiappscentroidmultiapp descript creat subapp centroid everi element master app leverag multiscal solv object requir special paramet block restrictableblockrestrictablemd subappl restrict gener specifi subdomain exampl input syntax follow code snippet demonstr creation centroidmultiapp object list centroid_multiappcentroid_multiappi blockmultiapp syntax paramet multiappscentroidmultiapp syntax input multiappscentroidmultiapp syntax children multiappscentroidmultiapp transientmultiapp syntax descript multiappstransientmultiapp overview transientmultiapp design perform simul subappl progress time main applic transientmultiapp requir subapp use execution deriv transient transientmultiapp multiapp object taken account time step select insid main transient execution default minimum time step main subapp util abil perform subcycl allow subappl perform multipl time step per execut may enabl use parammultiappstransientmultiappsub_cycl paramet perform subcycl transfer auxiliari variabl subapp allow interpol start time end time main app parammultiappstransientmultiappinterpolate_transf paramet time state transientmultiapp transientmultiapp autoadvanc default whenev picard iter main subappl mean transientendstep transientpoststep method subappl execution call regardless whether subappl solv fail endstep method increment time also perform exec_timestep_end output subappl autoadvanc endstep call happen main applic endstep call import benefit main applic output occur subappl main applic time state enabl moos restartrecoveri capabl hand subappl solv failur note default behavior run transientmultiapp time state increment eg autoadvanc regardless whether solv actual success undesir behavior believ sync main subappl state normal oper enabl correct checkpointcheckpointmd output good trade given constraint elect design still multipl way turn fail subappl solv warn except forc correct behavior either sub mainappl user set auto_adv fals execution block main applic caus main applic immedi cut timestep subappl fail howev set paramet fals also elimin possibl restartrecov main sub sync ifwhen checkpoint output occur user set catch_up true transientmultiapp block caus subappl tri catch main applic subapp fail solv catchup unsuccess moos regist true failur solv main dt get cut option advantag keep main sub transient state sync enabl accur restartrecov data gener user want subappl fail solv treat except recommend option option exampl input file syntax follow input file show creation transientmultiapp object time step size govern main applic list transient_multiappdt_from_masteri blockmultiapp syntax paramet multiappstransientmultiapp syntax input multiappstransientmultiapp syntax children multiappstransientmultiapp implicitmidpoint syntax descript executionertimeintegratorimplicitmidpoint implicit midpoint method secondord accur gausslegendr method astabl descript u vector nonlinear variabl nonlinear oper write pde interest equat dfracparti uparti ut use tdelta current time step previou step implicit midpoint integr scheme written equat utdelta ut delta lefttdelta dfracdelta left ut utdelta right right method express rungekutta method follow butcher tableau equat beginarraycc hline endarray syntax paramet executionertimeintegratorimplicitmidpoint syntax input executionertimeintegratorimplicitmidpoint syntax children executionertimeintegratorimplicitmidpoint astabledirk syntax descript executionertimeintegratorastabledirk method express rungekutta method follow butcher tableau equat beginarraycccc gamma gamma gamma gamma gamma gamma gamma gamma hline dfracgamma dfracgamma dfracgamma endarray gamma dfracsqrt co dfracpi approx stabil function method equat rz dfrac z z z z z z method lstabl astabl equat lim_zinfti rz note method origin due citecrouzeix sinc gamma slightli larger first stage involv evalu nontim residu t_ndelta third stage involv evalu nontim residu t_n may present issu first timestep eg materi properti forc function defin could handl use altern expens method first timestep use lowerord method first timestep switch method subsequ timestep syntax paramet executionertimeintegratorastabledirk syntax input executionertimeintegratorastabledirk syntax children executionertimeintegratorastabledirk expliciteul syntax descript executionertimeintegratorexpliciteul explicit euler method firstord accur time descript u vector nonlinear variabl nonlinear oper write pde interest equat dfracparti uparti ut use tdelta current time step previou step explicit euler method written equat utdelta ut delta ut method express rungekutta method follow butcher tableau equat beginarraycc hline endarray alert note actuallyexpliciteulermd implement algorithm without form non linear system make faster use less memori alert warn kernel except timederivativekernel paramet implicitfals use time integr syntax paramet executionertimeintegratorexpliciteul syntax input executionertimeintegratorexpliciteul syntax children executionertimeintegratorexpliciteul explicittvdrk syntax descript executionertimeintegratorexplicittvdrk descript method citegottlieb consist two stage stage equat r_nl muundelta ftnun equat tn delta tn stage equat r_nl muuundelta ftu equat un u method requir two mass matrix linear system solv per timestep although strictli speak two stage method treat updat step third stage sinc finit element analysi updat step requir mass matrix solv alert warn use explicit timeintegr deriv method must gener add implicitfals kernel materi etc use simul moos evalu correctli import except timederiv kernel never mark implicitfals syntax paramet executionertimeintegratorexplicittvdrk syntax input executionertimeintegratorexplicittvdrk syntax children executionertimeintegratorexplicittvdrk heun syntax descript executionertimeintegratorheun heun improv euler time integr method secondord accur time twostep explicit method special case ndorder rungekutta method descript u vector nonlinear variabl nonlinear oper write pde interest equat dfracparti uparti ut use tdelta current time step previou step heun method written equat utdelta ut dfracdelta leftat ut atut delta ut right method express rungekutta method follow butcher tableau equat beginarrayccc hline endarray alert warn kernel except timederivativekernel paramet implicitfals use time integr alert warn explicitrkderiv timeintegr explicitmidpointmd heunmd ralstonmd multistag timeintegr known work materialsauxkernel accumul state use caution syntax paramet executionertimeintegratorheun syntax input executionertimeintegratorheun syntax children executionertimeintegratorheun newmarkbeta syntax descript executionertimeintegratornewmarkbeta descript newmark time integr citepnewmarkamethod one commonli use time integr method structur dynam problem method second ddotu first dotu time deriv variabl u tdelta written term u dotu ddotu time u tdelta shown beginequ beginalign mathbfddotutdelta fracmathbfutdelta tmathbfutbeta delta fracmathbfdotutbeta delta tfracbeta betamathbfddotut mathbfdotut delta mathbfdotut gammadelta mathbfddotut gamma delta mathbfddotutdelta endalign endequ equat beta gamma newmark time integr paramet beta frac gamma frac newmark time integr method implicit uncondit stabl second order accur time constant averag acceler method numer damp beta frac gamma frac result linear acceler method acceler linearli vari tdelta method also implicit uncondit stabl second order accur time howev small numer damp linear acceler method use gamma frac method second order accur uncondit stabl frac le gamma le beta use constant averag acceler method numer damp high frequenc nois sometim observ veloc acceler time histori problem prescrib displac citepbatheinsight use paramet beta gamma result nonzero numer damp damp part high frequenc nois hilberhughestaylor hht time integr variat newmark method damp high frequenc nois especi structur dynam problem detail newmark hht time integr scheme found lectur noteshttppeopledukeeduhpgavinceenumericalintegrationpdf hht time integr requir modif equat motion current implement structur dynam problem tensor mechan modul use newmark time integr structur dynam problem requir initi static step commonli graviti analysi conveni method moos disabl inertia kernel done use control systemsyntaxcontrolsindexmd veloc acceler calcul stiff damp done set static_initializationtru stressdiverg kernel first time step lead solv equat ku f first time step essenti initi displac stress graviti load use newmarkbeta time integr often use dynam time integr switch time deriv veloc acceler calcul control system therefor time integr comput veloc acceler static step use newmarkbeta time integr purpos result noisi acceler veloc respons whole simul spuriou respons avoid use inactive_tstep paramet paramet ensur newmarkbeta time integr return zero deriv first time step start acceler veloc calcul time deriv calcul start time step number greater inactive_tstep sampl result use paramet shown figdisp figvel figaccel result correspond time deriv ramp function typic displac respons graviti veloc acceler calcul function without use inactive_tstep paramet blue use inactive_tstep orang shown input syntax use gener orang plot list figur row media time_integratorsinactive_tsteps_upng stylewidthfloatleftpaddingtop idfigdisp captiondisplac media time_integratorsinactive_tsteps_udotpng stylewidthfloatleftpaddingtop idfigvel captionveloc media time_integratorsinactive_tsteps_udotdotpng stylewidthfloatleftpaddingtop idfigaccel captionacceler rowend list testteststime_integratorsnewmarkbetanewmark_beta_inactive_stepsi blockexecution syntax paramet executionertimeintegratornewmarkbeta syntax input executionertimeintegratornewmarkbeta syntax children executionertimeintegratornewmarkbeta bibtex bibliographi explicitmidpoint syntax descript executionertimeintegratorexplicitmidpoint explicit midpoint method secondord accur time twostep method special case ndorder rungekutta method descript u vector nonlinear variabl nonlinear oper write pde interest equat dfracparti uparti ut use tdelta current time step previou step explicit midpoint integr scheme written equat utdelta ut delta atdelta ut dfracdelta atut method express rungekutta method follow butcher tableau equat beginarrayccc hline endarray alert warn kernel except timederivativekernel paramet implicitfals use time integr alert warn explicitrkderiv timeintegr explicitmidpointmd heunmd ralstonmd multistag timeintegr known work materialsauxkernel accumul state use caution syntax paramet executionertimeintegratorexplicitmidpoint syntax input executionertimeintegratorexplicitmidpoint syntax children executionertimeintegratorexplicitmidpoint ralston syntax descript executionertimeintegratorralston ralston time integr method secondord accur time twostep explicit method special case ndorder rungekutta method obtain error minim process shown outperform ndorder explicit rungekutta method see citeralston descript u vector nonlinear variabl nonlinear oper write pde interest equat dfracparti uparti ut use tdelta current time step previou step ralston method written equat utdelta ut dfracdelta leftat utright dfracdelta leftt dfracdelta tut dfracdelta ut right method express rungekutta method follow butcher tableau equat beginarrayccc hline endarray alert warn kernel except timederivativekernel paramet implicitfals use time integr alert warn explicitrkderiv timeintegr explicitmidpointmd heunmd ralstonmd multistag timeintegr known work materialsauxkernel accumul state use caution syntax paramet executionertimeintegratorralston syntax input executionertimeintegratorralston syntax children executionertimeintegratorralston explicittimeintegr descript explicittimeintegr base class explicit time integr implement without perform nonlinear solv reduc runtim unlik explicit time integr deriv class necessari set implicit fals nontim residu object method solut time integr deriv class three solv option provid via solve_typ paramet consist default full mass matrix built use linear solv updat lump lump mass matrix built invert appli rh faster possibl less accur lump_precondit invers lump mass matrix use precondit consist solv three method solv similarli linear solv perform obtain solut updat delta u ad exist solut explan solve_typ option consist consist option build full consist mass matrix use linear solv get updat done call feproblemcomputejacobiantag specifi time tag includ timekernel deriv kernel nodalbc deriv boundarycondit comput mathbfm list frameworksrctimeintegratorsactuallyexpliciteulerc linecomputejacobiantag residu comput also complet use rh r list frameworksrctimeintegratorsactuallyexpliciteulerc linecomputeresidu final follow linear system solv obtain solut updat delta u use default linear solver libmesh usual petsc includ applic commandlin paramet specifi beginequ mathbfm delta u r endequ lump lump option creat lump mass matrix use solv lump mass matrix diagon matrix diagon sum element row origin matrix achiev lump matrixvector product perform consist mass matrix vector one invers diagon matrix simpli reciproc diagon entri matrixvector product invers lump diagon matrix appli simpli pointwis multipl rh thu lump option actual solv system linear equat allow much faster howev lump mass matrix may lead unaccept phase error lump_precondit option combin two option consist mass matrix use linear system linear solv precondit use lump mass matrix compromis retain accuraci consist option benefit speedup offer lump option lump mass matrix precondition appli class lumpedprecondition list frameworkincludetimeintegratorslumpedpreconditionerh object simpli appli invers diagon lump massmatrix precondition linear solv effici note option appli shouldnt specifi precondition use commandlin syntax overrid option addit detail note implement detail class follow updat form note even though explicit solv current updat form similar singl step newton solv give us good pariti rest moos may want chang futur make better use fact massmatrix constant wider class problem remov dt _one get sum row mass matrix lump purpos vector consist use matrixvector product list frameworksrctimeintegratorsexplicittimeintegratorc linemass_matrixvector_mult actual way matgetrowsum implement petsc howev manual cut vector creationdestruct bookkeep oper futur could chang use matgetrowsum special mpi_aij format creat time time explicit solv must handl care evalu weak form integr part residu time need set old time time solv list frameworksrctimeintegratorsactuallyexpliciteulerc linetimeold howev dirichletbc deriv boundari condit need use final time sinc strong constraint repres use final time affect time integr achiev time reset _current_tim weak form residu evalu nodalbc boundari condit applic make postresidu correct place reset time purpos list frameworksrctimeintegratorsactuallyexpliciteulerc line_fe_problemtim _current_tim postresidu nodalbc bc appli time final time step meshchang mesh chang linear solver need destroy recreat done simpli build new one set happen automat overwrit stdunique_ptr linearsolv relev execution solver option ignor section use solve_typ lump executionermd paramet relev case howev consist lump_precondit solv type l_tol l_max_it paramet use solut process nonlinear execution option relev use petsc default solver packag pc ksp option petsc_opt paramet use sne option ignor lstabledirk syntax descript executionertimeintegratorlstabledirk method express rungekutta method follow butcher tableau equat beginarraycccc gamma gamma gamma gamma gamma gamma gamma gamma gamma hline gamma gamma gamma gamma gamma endarray gamma sqrt cosatansqrt sqrt sinatansqrt approx method express rungekutta method follow butcher tableau equat rz dfrac z z z z z method lstabl equat lim_zinfti rz method deriv detail citealexand unlik bdf method lstabl may suitabl stiff problem syntax paramet executionertimeintegratorlstabledirk syntax input executionertimeintegratorlstabledirk syntax children executionertimeintegratorlstabledirk lstabledirk syntax descript executionertimeintegratorlstabledirk method express rungekutta method follow butcher tableau equat beginarraycccccc alpha alpha hline endarray stabil function method equat rz dfrac z z z z z z z z z method lstabl equat lim_zinfti rz note method found citeskvortsov may origin sourc also thorder rule stage page citehair coeffici less favor amplif factor present rule syntax paramet executionertimeintegratorlstabledirk syntax input executionertimeintegratorlstabledirk syntax children executionertimeintegratorlstabledirk centraldiffer syntax descript executionertimeintegratorcentraldiffer descript central differ integr common explicit integr scheme typic use structur dynam variabl u time time step delta central differ approxim first second time deriv dotu ddotu given beginequ beginalign mathbfdotut fracmathbfutdelta tmathbfutdelta delta mathbfddotut fracmathbfutdelta tmathbfutmathbfutdelta tdelta endalign endequ central differ time integr deriv actuallyexpliciteuleractuallyexpliciteulermd class therefor circumv nonlinear solver use consist lump lump_precondit solve_typ option inform solv option found actuallyexpliciteuleractuallyexpliciteulermd page syntax paramet executionertimeintegratorcentraldiffer syntax input executionertimeintegratorcentraldiffer syntax children executionertimeintegratorcentraldiffer bdf syntax descript executionertimeintegratorbdf backward differenc formula second order bdf linear twostep secondord method astabl descript u vector nonlinear variabl nonlinear oper write pde interest equat dfracparti uparti ut use tdelta current time step tdelta previou step one bdf written equat utdelta dfracutdelta dfracut dfrac delta leftt delta ut delta right syntax paramet executionertimeintegratorbdf syntax input executionertimeintegratorbdf syntax children executionertimeintegratorbdf actuallyexpliciteul time integr implement forwardexplicit euler base explicittimeintegratormd avoid nonlinear solv syntax paramet executionertimeintegratoractuallyexpliciteul syntax input executionertimeintegratoractuallyexpliciteul syntax children executionertimeintegratoractuallyexpliciteul lstabledirk syntax descript executionertimeintegratorlstabledirk method express rungekutta method follow butcher tableau equat beginarrayccc alpha alpha alpha alpha hline alpha alpha endarray alpha sqrt approx stabil function method equat rz dfraczsqrt z zsqrt zsqrt method lstabl equat lim_zinfti rz note method deriv detail citealexand method expens cranknicolson advantag lstabl type stabil implicit euler method may suitabl stiff problem syntax paramet executionertimeintegratorlstabledirk syntax input executionertimeintegratorlstabledirk syntax children executionertimeintegratorlstabledirk impliciteul default time integr moos firstord time lstabl make suitabl integr stiff equat system also known backward euler method descript u vector nonlinear variabl nonlinear oper write pde interest equat dfracparti uparti ut use tdelta current time step previou step implicit euler time integr scheme written equat utdelta ut delta atdelta utdelta implicit system utdelta variabl solv appear side equat solv system iter usual newton newtonkrylov method describ non linear system solv documentationsystemsnonlinearsystemmd syntax paramet executionertimeintegratorimpliciteul syntax input executionertimeintegratorimpliciteul syntax children executionertimeintegratorimpliciteul cranknicolson syntax descript executionertimeintegratorcranknicolson crank nicolson time integr scheme secondord implicit method uncondit stabl descript u vector nonlinear variabl nonlinear oper write pde interest equat dfracparti uparti ut use tdelta current time step previou step crank nicolson time integr scheme written equat utdelta ut delta dfrac left ut atdelta utdelta right method express rungekutta method follow butcher tableau equat beginarrayccc hline endarray syntax paramet executionertimeintegratorcranknicolson syntax input executionertimeintegratorcranknicolson syntax children executionertimeintegratorcranknicolson explicitssprungekutta introduct time integr includ explicit strong stabil preserv ssp rungekutta time integr method order deriv explicittimeintegratormd mean nonlinear solver invok key featur ssp rungekutta method preserv strong stabil properti norm seminorm explicitforward euler method citegottlieb formul ode beginequ fracd ud fut endequ ssp rungekutta method order express follow form time step beginequ u un endequ beginequ us sumlimits_k a_sk uk b_ delta fleftu tn c_sdelta tright qquad ldotsn_ endequ beginequ un un_ endequ n_ number stage method order also order accuraci coeffici a_ij b_i c_i conveni express follow tabular form beginequ beginarraycc mathbfc mathbfahlin mathbfbt endarray endequ respect tabl method order follow beginequ beginarraycc hline endarray endequ beginequ beginarraycc c frac frachlin frac endarray endequ beginequ beginarraycc c frac frac frac frac frachlin frac frac endarray endequ method follow time step size requir stabil beginequ delta gamma delta t_fe quad gamma minlimits_ik fraca_ikb_i endequ delta t_fe maximum time step size stabil forward euler method method order gamma moos gener system ode solv result discret use finit element method thu mass matrix exist beginequ mathbfmfracd mathbfud mathbffleftmathbfut tright endequ case stage solut actual follow beginequ mathbfu sumlimits_k a_sk mathbfuk mathbfm b_ delta mathbffleftmathbfu tn c_sdelta tright endequ implement note usual mass matrix entri beginequ m_ij phi_i phi_j endequ howev moos mass matrix includ time step size beginequ m_ij fracphi_i phi_jb_i delta endequ beginequationlabeleqssprk_no_bc mathbfu sumlimits_k a_sk mathbfuk mathbfm mathbffleftmathbfu tn c_sdelta tright endequ dirichlet boundari condit treatment consid case one degre freedom subject strong dirichlet boundari condit beginequ u_it gmathbfx_i qquad mathcali_textdirichlet endequ nonlinear solv newton method iter consist solut linear system beginequationlabeleqssprk_newton_upd mathbfjellmathbfdelta uell mathbfrel endequ updat solut beginequ mathbfuel mathbfuel mathbfdelta uell endequ moos dirichlet boundari condit implement modifi residu vector mathbfr replac entri affect degre freedom beginequ tilder_i leftbeginarrayl l r_i notin mathcali_textdirichlet u_i gmathbfx_i mathcali_textdirichlet endarrayright endequ modifi jacobian matrix follow one guarante boundari condit enforc ie u_iel gmathbfx_i mathcali_textdirichlet beginequ tildej_ij leftbeginarrayl l j_ij notin mathcali_textdirichlet mathcali_textdirichlet quad j mathcali_textdirichlet quad j ne endarrayright endequ work moos dirichlet boundari condit implement eqssprk_no_bc must put updat form similar eqssprk_newton_upd beginequationlabeleqssprk_stage_upd mathbfmmathbfdelta us mathbfb endequ beginequationlabeleqssprk_b mathbfb mathbfmleftsumlimits_k a_sk mathbfuk mathbfu right mathbffleftmathbfu tn c_sdelta tright endequ beginequ mathbfdelta us equiv mathbfu mathbfu endequ impos dirichlet boundari condit mass matrix righthand side vector modifi newton case beginequ tildem_ij leftbeginarrayl l m_ij notin mathcali_textdirichlet mathcali_textdirichlet quad j mathcali_textdirichlet quad j ne endarrayright endequ beginequationlabeleqssprk_b_mod tildeb_i leftbeginarrayl l b_i notin mathcali_textdirichlet g_i u_i mathcali_textdirichlet endarrayright endequ g_i appropri valu impos degre freedom stage case simpli beginequ g_i gmathbfx_i tn endequ howev gener certain condit must enforc impos boundari valu intermedi stage preserv formal order accuraci method method order safe impos stage shown rdorder method boundari valu impos stage follow accord citezhao beginequ u_i gmathbfx_i tn delta gmathbfx_i tn endequ beginequ u_i gmathbfx_i tn fracdelta gmathbfx_i tn frac delta gmathbfx_i tn endequ beginequ u_i gmathbfx_i tn endequ converg rate mm problem timedepend dirichlet boundari condit shown ssprk_convergence_with_bc illustr degrad rdorder method storder accuraci presenc timedepend dirichlet boundari condit contrast ssprk_convergence_no_bc show result mm problem without timedepend dirichlet boundari condit demonstr expect order accuraci media mediatime_integratorsssprk_convergence_with_bcpng idssprk_convergence_with_bc captionconverg rate ssprk method mm problem timedepend dirichlet boundari condit stylewidthpaddingpx media mediatime_integratorsssprk_convergence_no_bcpng idssprk_convergence_no_bc captionconverg rate ssprk method mm problem without timedepend dirichlet boundari condit stylewidthpaddingpx implement eqssprk_stage_upd implement describ follow section computetimederiv jacobian _du_dot_du implement need mass matrix time deriv need part appear residu vector solvestag first mass matrix comput call computejacobiantag time tag mass matrix comput call computeresidu call computetimederiv must made computejacobiantag even though call computeresidu jacobian must comput call computeresidu mass matrix use computeresidu via call postresidu computeresidu follow step occur steadyst residu mathbffleftmathbfu tn c_sdelta tright comput postresidu call add mass matrix product shown eqssprk_b dirichlet boundari condit modif made residu shown eqssprk_b_mod postresidu mathbfb assembl shown eqssprk_b mass matrix product respons need call computejacobiantag computeresidu solvestag syntax paramet executionertimeintegratorexplicitssprungekutta syntax input executionertimeintegratorexplicitssprungekutta syntax children executionertimeintegratorexplicitssprungekutta bibtex bibliographi dgdiffus syntax descript dgkernelsdgdiffus inform discontinu galerkin method particular poisson equat may found dgkernel syntax pagesyntaxdgkernelsindexmd exampl input syntax exampl diffusionreactionsourc case use dg kernel take care volumetr term equat dgdiffus dgkernel defin element side list testtestsdgkernelsd_diffusion_dgdg_statefuli blockkernel dgkernel syntax paramet dgkernelsdgdiffus syntax input dgkernelsdgdiffus syntax children dgkernelsdgdiffus arrayhfemdiffus syntax descript dgkernelsarrayhfemdiffus overview array kernel appli constraint intern side diffus equat hybrid finit element method use array variabl standard variabl version hfemdiffusionmd syntax paramet dgkernelsarrayhfemdiffus syntax input dgkernelsarrayhfemdiffus syntax children dgkernelsarrayhfemdiffus arraydgdiffus descript array dg discontinu galerkin kernel implement follow piec weak form beginequ left vecuast veckappavecu right_gamma_textint left vecuast vecdvecnablavecucdotvecn right_gamma_textint epsilonleft vecdvecnablavecuastcdotvecn vecu right_gamma_textint endequ vecuast test function vecu finit element solut vecd diffus coeffici compon array variabl cdot cdot jump averag enclos quantiti intern side vecnx unit norm defin intern side denot gamma_textint epsilon correspond symmetr asymetr incomplet interior penalti method respect penalti coeffici kappa evalu follow formul beginequ veckappa sigma pfracvecdh_bot quad xingamma_textint endequ p polynomi order shape function h_bot length element orthogon side sigma adjust constant syntax paramet dgkernelsarraydgdiffus syntax input dgkernelsarraydgdiffus syntax children dgkernelsarraydgdiffus addgkernel base class dg kernel make use automat differenti class take care accumul residu jacobian contribut includ neighbor offdiagon contribut dgconvect syntax descript dgkernelsdgconvect veloc vector constant may use solv veloc fluid simul exampl kernel advect field known veloc first order upwind scheme use diffus provid first order mesh converg inform discontinu galerkin method may found dgkernel syntax pagesyntaxdgkernelsindexmd exampl input syntax exampl field u advect boundari condit left right boundari veloc use addgconvect version kernel automat differenti list testtestsdgkernelsad_dg_convectionad_dg_convectioni blockdgkernel syntax paramet dgkernelsdgconvect syntax input dgkernelsdgconvect syntax children dgkernelsdgconvect addgdiffus use dg comput diffus term ad adopt jacobian calcul syntax paramet dgkernelsaddgdiffus syntax input dgkernelsaddgdiffus syntax children dgkernelsaddgdiffus hfemdiffus syntax descript dgkernelshfemdiffus overview kernel appli constraint intern side diffus equat hybrid finit element method left lambdaast u right_gamma left uast lambda right_gamma refer dgkernelsindexmd full hfem weak form poisson equat syntax paramet dgkernelshfemdiffus syntax input dgkernelshfemdiffus syntax children dgkernelshfemdiffus parser moos parser object respons interact hit input file parser construct necessari actionsactionmd ultim execut build object compos complet moos base simul import note object respons raw filebas io underli structur moos input file dictat hit inform format found hereapplication_usageinput_syntaxmd optionaltru parser abstract expect inform organ hierarchi block zero children level namevalu pair level use construct one complet object associ parser block parser work use list regist syntax block c type time parser hand block consult regist syntax list object build moos deliv lowlevel list syntax type object expos directli input file system type eg kernel bc output etc applic build upon moos augment replac syntax complet regist list syntax view mooseframeworkorg websit dump commandlin number differ format registr occur moosecmoosemd paramet substitut see brace expressionsinput_syntaxmd optionaltru activeinact block paramet parser support abil select activ deactiv individu block without use block comment charact use special activ inact paramet block either paramet ad block includ top level select turn individu block onoff multipl input multipl input suppli moos applic parser read success add merg singl block hierarchi later input add overrid paramet previou input permit user factor common part set input reus multipl simul commandlin commandlin object respons pars encapsul argument pass applic via command line normal develop user interact object directli instead argument appear command line normal splice hit pars tree appropri use set inputparametersmd applic mooseappderiv object overrid input file syntax run multipl case similar input paramet conveni suppli argument right command line accomplish provid fullyqualifi namevalu pair command line correspond paramet wish overrid add exampl given snippet input file either one paramet could overridden command line syntax shown entir new section construct right command line desir section object some_paramet foo another_paramet bar command line myappopt inputi sectionobjectsome_parameternew_valu myappopt inputi sectionobjectnew_parametersome_valu overrid multiapp syntax syntax multiapp file overridden well sinc singl input file often use spawn sever subapp custom syntax develop allow user overrid one multiapp individu subapp time given input file syntax seen see syntax variou way subapp syntax overridden suppli command line multiapp sub_app_left sub_app_right global multapp overrid myappopt inputi sectionobjectsome_parameternew_valu whole multiapp overrid myappopt inputi sub_app_leftsectionobjectsome_parameternew_valu individu subapp overrid myappopt inputi sub_app_leftsectionobjectsome_parameternew_valu sub_app_leftsectionobjectsome_parameterdifferent_valu relationshipmanag relationshipmanag system make moos awar extra geometr algebra coupl inform need perform calcul extens stencil concept work structur mesh perform calcul need neighbor inform relationship manag rm come three flavor geometr algebra coupl discern three type think three level element depend element k coupl depend element k dof k might need sparsiti pattern entri dof k element k algebra depend k processor own k might need examin solut dof valu k element k geometr depend k processor own k might need examin geometri k element k could call set couplingghost coupl element ck call set algebraicghost evalu element ek call set geometryghost ghost element gk safe assum element k ck impli ek impli gk mean requir coupl ghost mean algebra geometr ghost requir well concret exampl imposs investig degre freedom element libmeshdofmap element delet current process eg forgot geometr ghost element henc geometr ghost element must superset algebra ghost element must superset couplingghost element rm system fulli pluggabl like moos system intend expos input file way instead individu object requir extra inform regist appropri rm right validparam function moos add appropri object simul proper time possibl singl rm defin geometr algebra couplingghost eg like rm defin dgkernelbas derivedobject c paramsaddrelationshipmanagerelementsideneighborlay mooserelationshipmanagertypegeometr mooserelationshipmanagertypealgebra mooserelationshipmanagertypecoupl applic develop alway respect superset relationship discuss introductori paragraph eg follow relationship manag addit would provid valid ghost setup c paramsaddrelationshipmanag elementsideneighborlay mooserelationshipmanagertypegeometr const inputparamet inputparamet rm_param rm_paramssetunsign shortlay paramsaddrelationshipmanag elementsideneighborlay mooserelationshipmanagertypealgebra const inputparamet inputparamet rm_param rm_paramssetunsign shortlay paramsaddrelationshipmanag elementsideneighborlay mooserelationshipmanagertypecoupl const inputparamet inputparamet rm_param rm_paramssetunsign shortlay couplingghost element guarante algebra ghost algebra ghost element guarante geometr ghost layer coupl ghost layer algebra ghost layer geometr ghost follow setup also valid c paramsaddrelationshipmanagerelementsideneighborlay mooserelationshipmanagertypegeometr mooserelationshipmanagertypealgebra mooserelationshipmanagertypecoupl default layer side ghost ghost type layer coupl ghost layer algebra ghost layer geometr ghost follow rm setup would invalid c paramsaddrelationshipmanag elementsideneighborlay mooserelationshipmanagertypegeometr const inputparamet inputparamet rm_param rm_paramssetunsign shortlay paramsaddrelationshipmanag elementsideneighborlay mooserelationshipmanagertypealgebra const inputparamet inputparamet rm_param rm_paramssetunsign shortlay less geometr ghost algebra scenario would like attempt access degre freedom solut vector correspond element delet distributedmesh context simul would fail relationship manag action idrm_act explain relationshipmanag usual ad simul validparam mooseobject howev simul setup mooseobject add relationship manag would late impact simulationremot element would alreadi delet mesh mesh prepar way mooseobject ad meshgener mooseobjectact detect whether mooseobject validparam signal need relationship manag add howev mooseobjectact ad mooseobject mooseobject ad custom action custom action respons detect ad associ relationship manag method custom action overrid add relationsip manag addrelationshipmanagersmooserelationshipmanagertyp input_rm_typ contactact contact modul porousflowactionbas porou flow modul provid exampl overrid method maxvarndofsperelem descript class use calcul maximum number degre freedom element may use automat differenti calcul limit number deriv calcul carri adapt adapt object encapsul interfac method work adapt systemsyntaxadaptivityindexmd moos mooseapp mooseapp object base class acmoos base applic serv entri point run aspect simul specifi applic use use run larg combin applic like blue_crab specifi specif applic type run input file instanc one may want run griffin main applic pronghorn subappl applic type subappl specifi main input file use app_typ pronghornapp applic type run main input file specifi command line via blue_crab_root_dirblue_crab fooi app griffinapp allow special action setup specif applic use nonzero realloc behavior moos framework libmesh work togeth suppli sparsiti pattern petsc inform much memori alloc system matrix sparsiti pattern small petsc forc alloc new memori matrix assembl user code tri addset matrix entri wasnt prealloc sparsiti pattern alloc matrix assembl time significantli slow simul moos libmesh known gener accur sparsiti pattern case howev complex multibodi problem like mechan thermal contact sparsiti pattern may incorrect default moos error petsc forc new nonzero alloc matrix assembl howev applic develop expect physic accur sparsiti pattern may overrid default moos behavior error new nonzero alloc give applic develop peaceofmind applic produc quiet nonzero alloc runtim overrid default nonzero alloc behavior accomplish overrid virtual function bool mooseapperroronjacobiannonzerorealloc const mooseapp default fals although hope chang nottoodist futur note applic level code set alway overridden inputfil level specifi valu problemerror_on_jacobian_nonzero_realloc mooseexcept mooseexcept normal c deriv except object purpos give develop oppurtun termin solv inform moos perform necessari step clean current stack notifi threadsprocessor error commun solver current solv fail applic possibl solver allow moos cut time step make anoth attempt solv except use directli user code nonfat situat encount inabl converg local netwon solv materi interpol valu variabl lookup tabl end outofrang moos setup catch mooseexcept insid sever user defin callback occur solv computeresidu computejacobian callback note callback also includ evalu sever object materi constraint occasion object postprocessor request make possibl tri smaller solv userdefin object within moos work moos wrap sever thread section parallel_tryparallel_catch macro see systembaseh parallel_tri noth provid scope parallel_catch invok feproblemcheckexceptionandstopsolv see feproblembaseh routin thread section termin thread processor agre error statu checkexceptionandstopsolv parallel commun ensur processor notifi singl failur cutback togeth assembl assembl class hold routin object relat assembl numer system one list nonexhaust list refer local current element face quadratur point neighbor valu quantiti current element neighbor element local volum jacobian weight local quadratur rule point local valu current variabl spatial deriv first second order curl element also contain quantiti mortar case quadratur point system charg reiniti quantiti reinit method reinitelem elem current element reinitatphys given vector point reinitfvfaceface_info current face get shape function valu deriv quadratur point well locat quadratur point libmesh buildf routin variou locat prepar vector store local contribut jacobian residu size zero prepar method cach contribut jacobian residu cach method reduc frequenc access global quantiti especi use use thread share memori parallel paradigm abl consid local contribut without lock global vector ad local contribut global jacobian residu add method exampl addresidu local element residu addjacobianneighbor jacobian neighbor element moosec moosec file core framework file contain sever use global variabl task list util typedef coreintern code one commonli consult block code moosec task list order list dictat task order moos assembl complet simul constantfunct syntax descript functionsconstantfunct valu paramet constantfunct control may modifi simul use control systemsyntaxcontrolsindexmd exampl input syntax exampl use constantfunct feed vector spatial sampler sampl function specifi locat sampl compar use anoth postprocessor constantfunct sampl anywher time space return constant valu list testtestspostprocessorsvector_postprocessor_comparisonvector_postprocessor_comparisoni blockfunct syntax paramet functionsconstantfunct syntax input functionsconstantfunct syntax children functionsconstantfunct bicubicsplinefunct syntax descript functionsbicubicsplinefunct bicubicsplinefunct defin spline shape evalu everywher domain translat plane defin spline set specifi normal paramet spline uniqu defin valu plane x x point given paramet point form grid x abscissa line grid point x specifi deriv along x x point extrem given yx yxn yx yxn function form deriv along direct given yx yx inform bicub spline automat gener first second order deriv spline defin exampl input syntax exampl defin bicub spline list point deriv z normal assum default bicub spline defin xy plane grid point point along x direct point along direct list testtestsutilsspline_interpolationbicubic_spline_interpolationi blockfunct syntax paramet functionsbicubicsplinefunct syntax input functionsbicubicsplinefunct syntax children functionsbicubicsplinefunct piecewiselinear syntax descript functionspiecewiselinear descript piecewiselinear function perform linear interpol userprovid pair xy data xy data provid three way first way combin x paramat list x coordin data point make function second way xy_data paramet list pair xy data make point function allow function data specifi column insert line break xy data point final xy data provid extern file contain commasepar valu file name provid data_fil data provid either row default column specifi format paramet default xdata correspond time chang correspond x z coordin axi line function queri outsid rang x data return valu associ closest x data point unless paramet extrap set true case extrapol perform instead exampl input syntax list testtestsmisccheck_errorfunction_file_testi blockfunct syntax paramet functionspiecewiselinear syntax input functionspiecewiselinear syntax children functionspiecewiselinear coarsenedpiecewiselinear syntax descript functionscoarsenedpiecewiselinear descript coarsenedpiecewiselinear perform preprocess linear interpol xy data set object act like piecewiselinearpiecewiselinearmd except reduc number function point start simul use ramerdouglaspeuck algorithmhttpsenwikipediaorgwikirameredouglasepeucker_algorithm data reduct exampl input syntax list testtestsmisccheck_errorfunction_file_testi blockfunct syntax paramet functionscoarsenedpiecewiselinear syntax input functionscoarsenedpiecewiselinear syntax children functionscoarsenedpiecewiselinear piecewisemultilinear piecewisemultilinear function provid capabl multidimension piecewis linear interpol data read file provid data_fil argument interpol axe select one multipl x z number interpol axe refer dimens interpol format instruct data_fil reproduc data_fil docstr empti line line begin ignor line assum contain relev inform file must begin specif grid done line contain keyword axi x axi axi z axi immedi follow keyword line must spacesepar line real number defin grid along specifi axi data must monoton increas axe grid specifi must line data follow line function valu given correct order may individu line spacesepar number line function evalu fijkl correspond jni kninj lninjnk data valu correspond index along first axi j correspond index along second axi etc ni number grid point along first axi etc syntax descript functionspiecewisemultilinear syntax paramet functionspiecewisemultilinear syntax input functionspiecewisemultilinear syntax children functionspiecewisemultilinear bibtex bibliographi linearcombinationfunct syntax descript functionslinearcombinationfunct exampl input syntax input file show linearcombinationfunct may use combin varieti differ function compar result manual comput linear combin list functionslinear_combination_functionlcfi blockfunct syntax paramet functionslinearcombinationfunct syntax input functionslinearcombinationfunct syntax children functionslinearcombinationfunct imagefunct syntax descript functionsimagefunct overview simul often requir phase initi compar exist microstructur data ct sem scan shown figur moos includ flexibl functionfunctionsindexmd base method access type data use initi condit calcul exampl figlarge_adapt reconstruct imag snow captur use cryospher microct scanner msu subzero research laboratoryhttpwwwmontanaedusubzero media image_functionlarge_adaptpng idfiglarge_adapt captionmesh microct data use imagefunct setup util imag read portion phasefield modul vtk must enabl build libmesh pleas see moos faqfaqmdlibmeshvtk optionaltru inform exampl singl imag consid simpl imag figsmall_raw read imag accomplish includ imagefunct input file list image_functionimagei blockfunct media image_functionsmall_rawpng idfigsmall_raw stylewidthmarginrightautomarginleftauto captionexampl imag input stacktest_png function may use like function within moos exampl may util initi condit variabl follow input file syntax would use function initi condit u variabl creat initi mesh shown figsmall_uniform list image_functionimagei blockic media image_functionsmall_uniformpng idfigsmall_uniform stylewidthmarginrightautomarginleftauto captionmesh show initi condit extract imag figsmall_raw exampl imag shown pixel mesh element initi condit appli mesh version look slightli differ origin imag initi condit appli sampl imag node within mesh case match pixel boundari valu sampl easili vari due float point precis limit match mesh pixel dimens requir recommend main reason build imagefunct object enabl arbitrari mesh geometri abl sampl imag adapt accordingli begin element mesh ad follow adapt block input file result mesh shown figsmall_adapt list image_functionthreshold_adapti blockadapt media image_functionsmall_adaptpng idfigsmall_adapt stylewidthmarginrightautomarginleftauto captionmesh show initi condit initi adapt extract imag figsmall_raw imag stack imag stack imag also support see filetyp exampl consid set imag name test_png test_png test_png within directori stack read imag syntax use imagefunct block use data initi condit use initi adapt shown result mesh shown figsmall_d list image_functionimage_di blockfunct media image_functionsmall_dpng idfigsmall_d stylewidthmarginrightautomarginleftauto captiond mesh show initi condit initi adapt extract stack imag similar imag figsmall_raw mesh crop vertic direct show intern structur also possibl limit reader set imag use paramfunctionsimagefunctionfile_rang paramet may set singl valu read singl imag rang read subset imag imag process vtkhttpwwwvtkorg librari includ rang imag filter process tool basic process tool includ howev deriv class could easili develop expand upon capabl compon default rgb pixel data convert singl greyscal valu repres magnitud accomplish use vtkimagemagnitudehttpwwwvtkorgdocnightlyhtmlclassvtkimagemagnitudehtml class possibl select singl compon rather use magnitud set paramfunctionsimagefunctioncompon paramet input file valid compon number rgb imag threshold basic threshold accomplish use vtkimagethresholdhttpwwwvtkorgdocnightlyhtmlclassvtkimagethresholdhtml class threshold requir three paramet set input file paramfunctionsimagefunctionthreshold threshold valu consid paramfunctionsimagefunctionupper_valu imag data threshold replac valu paramfunctionsimagefunctionlower_valu imag data threshold replac valu shift scale possibl shift scale imag data accomplish use vtkimageshiftscalehttpwwwvtkorgdocnightlyhtmlclassvtkimageshiftscalehtml object paramfunctionsimagefunctionshift paramet add given valu imag data paramfunctionsimagefunctionscal paramet multipli imag data suppli valu order applic shift scale dictat vtk object document state pixel shift constant valu ad scale multipli scalar imag flip flip imag along major axi direct x z perform use vtkimagefliphttpwwwvtkorgdocnightlyhtmlclassvtkimagefliphtml object three flag existsparamfunctionsimagefunctionflip_x paramfunctionsimagefunctionflip_i paramfunctionsimagefunctionflip_zwhich may set combin imag dimens default imag actual physic dimens set dimens mesh howev possibl set dimens imag independ use origin dimens input paramet allow flexibl imagefunct util exampl mesh could defin domain smaller actual imag thu imagefunct dimens set larger domain mesh would sampl portion imag effect featur work crop imag without need creat separ crop imag support file type idfiletyp current two type file support tif png howev tif file often read correctli vtk depend format file experi problem read tif file may requir chang format png easili done number tool imagemagickhttpwwwimagemagickorg one power list image_functionimage_di blockfunct syntax paramet functionsimagefunct syntax input functionsimagefunct syntax children functionsimagefunct piecewiseconst syntax descript functionspiecewiseconst descript piecewiseconst function defin data use set xy data pair instead linearli interpol valu howev piecewiseconst function constant abscissa valu provid user direct paramet control whether function take valu abscissa userprovid point right left valu function evalu exampl input syntax list testtestsfunctionspiecewise_constantpiecewise_constanti blockfunct syntax paramet functionspiecewiseconst syntax input functionspiecewiseconst syntax children functionspiecewiseconst piecewisebilinear syntax descript functionspiecewisebilinear descript piecewisebilinear function read csv file interpol valu base data file interpol base xy pair axi given time use index either xaxi yaxi may given time use index one given radiu given xaxi yaxi use orient cylindr coordin system xy pair use queri radial coordin time csv file data_fil format expect first line hold x valu subsequ line hold valu list z valu valu x csv file data_fil may substitut specifi x z paramet exampl input syntax list testtestsutilsd_linear_interpolationxyz_errori blockfunct syntax paramet functionspiecewisebilinear syntax input functionspiecewisebilinear syntax children functionspiecewisebilinear parsedfunct syntax descript functionsparsedfunct descript parsedfunct function take mathemat express valu express function time coordin x z express includ common mathemat function exampl includ eet sqrtxxyyzz ift cospit addit variabl may declar var paramet vector correspond val paramet vector list item variabl bound variabl bound constant number liter exampl var kb val e postprocessor name provid valu pp last execut function name provid immedi evalu specifi function scalar variabl name inform found function parser sitehttpwarppovusersorgfunctionpars exampl input syntax list examplesex_functionsexi blockfunct syntax paramet functionsparsedfunct syntax input functionsparsedfunct syntax children functionsparsedfunct parsedvectorfunct syntax descript functionsparsedvectorfunct parsedvectorfunct vector version mooseparsedfunctionmd vector compon curl function may specifi input compon vector curl function follow rule outlin mooseparsedfunctionmd exampl input syntax exampl parsedvectorfunct use defin curl boundari condit xy compon zcurl set function list functionsparsedfunction_curli blockfunct bc syntax paramet functionsparsedvectorfunct syntax input functionsparsedvectorfunct syntax children functionsparsedvectorfunct parsedgradfunct syntax descript functionsparsedgradfunct parsedgradfunct similar mooseparsedfunctionmd differ also defin gradient function input defin compon gradient follow rule outlin mooseparsedfunctionmd exampl input syntax input parsedgradfunct use use method manufactur solutionspythonmmsmd optionaltru method verifi converg finit element method known analyt solut simpl problem u_func use postprocessor block comput h error error solut gradient u known solut list testtestspostprocessorsmms_slopemms_slope_testi blockfunct syntax paramet functionsparsedgradfunct syntax input functionsparsedgradfunct syntax children functionsparsedgradfunct solutionfunct syntax descript functionssolutionfunct solut variabl file solutionfunct make avail function solutionuserobjectmd specifi solut paramet use comput variabl valu alert note accuraci evalu variabl variou locat may diminish solut file format exodu exampl store higher order variabl accur exampl input syntax input file load u_xda_func refer solut problem previous comput store aux_nonlinear_solution_out_xda compar current solut u list testtestsauxkernelssolution_auxthread_xdai blockfunct userobject postprocessor syntax paramet functionssolutionfunct syntax input functionssolutionfunct syntax children functionssolutionfunct axisymmetricddsolutionfunct syntax descript functionsaxisymmetricddsolutionfunct solut like output drz calcul want compar full model use assess valid drz geometr approxim axi symmetri origin axisymmetr calcul map axisymmetr calcul space specifi exampl input syntax exampl three axisymmetricddsolutionfunct use load result axisymmetr simul mechan simul result use bc block impos displac boundari temperatur variabl use functionauxmd list modulescombinedtesttestsaxisymmetric_dd_solution_functiondyi blockfunct syntax paramet functionsaxisymmetricddsolutionfunct syntax input functionsaxisymmetricddsolutionfunct syntax children functionsaxisymmetricddsolutionfunct compositefunct syntax descript functionscompositefunct descript compositefunct type take arbitrari set function provid function paramet evalu appropri time posit multipli togeth function option multipli scale factor specifi use scale_factor paramet exampl input syntax list testtestsbcsfunction_dirichlet_bctesti blockfunct syntax paramet functionscompositefunct syntax input functionscompositefunct syntax children functionscompositefunct splinefunct syntax descript functionssplinefunct splinefunct defin spline shape defin everywher domain translat along one x z direct specifi compon paramet spline defin valu ordin sever abscissa x function pass first deriv first abscissa first deriv last abscissa inform spline automat gener first second order deriv spline defin exampl input syntax exampl defin spline go point defin x paramet list testtestsicsfunction_icspline_functioni blockfunct syntax paramet functionssplinefunct syntax input functionssplinefunct syntax children functionssplinefunct vectorpostprocessorfunct syntax descript functionsvectorpostprocessorfunct descript vectorpostprocessorfunct function perform linear interpol pair data gener vector postprocessor object abscissa argument_column ordin value_column valu correspond name member vector object specifi vectorpostprocessor_nam paramet default abscissa valu correspond time data interpol actual simul timestep valu howev possibl interpol spatial x z coordin specifi direct compon paramet input correspond x z direct respect exampl input syntax list testtestsfunctionsvector_postprocessor_functionvector_postprocessor_functioni blockfunct syntax paramet functionsvectorpostprocessorfunct syntax input functionsvectorpostprocessorfunct syntax children functionsvectorpostprocessorfunct piecewisemulticonst piecewisemulticonst function provid capabl multidimension piecewis constant interpol data read file provid data_fil argument interpol axe select one multipl x z number interpol axe refer dimens interpol format instruct data_fil reproduc data_fil docstr empti line line begin ignor line assum contain relev inform file must begin specif grid done line contain keyword axi x axi axi z axi immedi follow keyword line must spacesepar line real number defin grid along specifi axi data must monoton increas axe grid specifi must line data follow line function valu given correct order may individu line spacesepar number line function evalu fijkl correspond jni kninj lninjnk data valu correspond index along first axi j correspond index along second axi etc ni number grid point along first axi etc direct paramet control whether function take valu abscissa userprovid point right left valu function evalu direct provid dimens syntax descript functionspiecewisemulticonst syntax paramet functionspiecewisemulticonst syntax input functionspiecewisemulticonst syntax children functionspiecewisemulticonst bibtex bibliographi conditionalenablecontrol control deriv conditionalenablecontrol allow moos object enabl disabl accord condit nearli type moos object kernel bc etc paramet enabl control two list paramet exist enable_object disable_object former use specifi object enabl specifi condit met latter use specifi object disabl specifi condit met see object paramet namessyntaxcontrolsindexmdobjectandparameternam section syntax describ object name paramet reverse_on_fals set true default object enable_object list disabl condit fals object disable_object list enabl condit fals realfunctioncontrol realfunctioncontrol object design control real paramet function rather use valu specifi input file object mainli demonstr creat control object modifi paramet exampl consid simul solv diffus equat laplacian term coeffici coeffici defin constant input paramet coef reason desir control coeffici replac constant valu function vari space time function defin function block realfunctioncontrol object design purpos shown real_func_ex list testtestscontrolsreal_function_controlreal_function_controli blockcontrol idreal_func_ex captioncontrol block demonstr use realfunctioncontrol object notic paramet input paramet expect paramet name defin variou form discuss name object paramet see object paramet namessyntaxcontrolsindexmdobjectandparameternam section syntax paramet controlsrealfunctioncontrol syntax input controlsrealfunctioncontrol syntax children controlsrealfunctioncontrol conditionalfunctionenablecontrol syntax descript controlsconditionalfunctionenablecontrol conditionalfunctionenablecontrol object deriv conditionalenablecontrolconditionalenablecontrolmd conditionalfunctionenablecontrol object allow moos object enabl disabl accord valu functionsyntaxfunctionsindexmd syntax paramet controlsconditionalfunctionenablecontrol syntax input controlsconditionalfunctionenablecontrol syntax children controlsconditionalfunctionenablecontrol timeperiod timeperiod class deriv conditionalenablecontrolconditionalenablecontrolmd timeperiod object design control activ state moos object base whether time valu rang exampl consid simul contain two kernel diff diff initi diff activ time diff becom activ diff disabl follow code snippet demonstr switch kernel achiev timeperiod object list testtestscontrolstime_periodskernelskernelsi blockcontrol syntax paramet controlstimeperiod syntax input controlstimeperiod syntax children controlstimeperiod boolfunctioncontrol boolfunctioncontrol object design control bool paramet function rather use valu specifi input file function valu equal zero control paramet set fals otherwis valu set true discuss name object paramet see object paramet namessyntaxcontrolsindexmdobjectandparameternam section syntax paramet controlsboolfunctioncontrol syntax input controlsboolfunctioncontrol syntax children controlsboolfunctioncontrol pidtransientcontrol pidtransientcontrol object design use principl proport integr deriv control either control real paramet input file rather use constant valu specifi input file modifi valu postprocessor use postprocessordirichletbc exampl rather use computedreceiv valu allow simpl parametr optim make output postprocessor match target valu paramet c replac everi time step n time beginequ c_n c_n k_integr int_t pp target mathrmd k_proport ppt target k_deriv dfracppt targetdt endequ ppt valu time postprocessor tri match target valu k_integralproportionalderiv coeffici integr error current error backward deriv respect syntax paramet controlspidtransientcontrol syntax input controlspidtransientcontrol syntax children controlspidtransientcontrol userobject base class user object see syntaxuserobjectsindexmd inform nearestradiuslayeredaverag domain virtual divid number ring accord point provid user point provid radiu distanc origin plane perpendicular direct provid comput point domain radiu closest radiu contribut ring thu recommend input point along straight line point locat middl ring variabl averag taken individu ring separ abil decompos subdomain layer along particular direct number layer larger one recommend interfac two layer align mesh syntax descript userobjectsnearestradiuslayeredaverag syntax paramet userobjectsnearestradiuslayeredaverag syntax input userobjectsnearestradiuslayeredaverag syntax children userobjectsnearestradiuslayeredaverag bibtex bibliographi nodalnormalscorn syntax descript userobjectsnodalnormalscorn nodalnormalscorn ad automat addnodalnormalsactionmd object creat corner specifi paramnodalnormalsaddnodalnormalsactioncorner_boundari paramet action see syntaxnodalnormalsindexmd inform corner normal save nodal_normal_x nodal_normal_i nodal_normal_z variabl syntax paramet userobjectsnodalnormalscorn syntax input userobjectsnodalnormalscorn syntax children userobjectsnodalnormalscorn threadedgeneraluserobject threadedgeneraluserobject userobject custom object algorithm associ mesh entiti nthread copi creat purpos run thread calcul avoid threadlock lookup oper elemsideneighborlayersgeomtest syntax descript userobjectselemsideneighborlayersgeomtest overview user object test whether geometr ghost element correctli reserv element_side_neighbor_lay use specifi number layer geometr ghost element preserv via geometr relationship manag syntax paramet userobjectselemsideneighborlayersgeomtest syntax input userobjectselemsideneighborlayersgeomtest syntax children userobjectselemsideneighborlayersgeomtest generaluserobject generaluserobject intermedi base class creat custom algorithm associ mesh entiti verifynodaluniqueid syntax descript userobjectsverifynodaluniqueid object use debug mesh issu alert note distribut mesh perform mpi_allgath oper send id process may requir lot memori process syntax paramet userobjectsverifynodaluniqueid syntax input userobjectsverifynodaluniqueid syntax children userobjectsverifynodaluniqueid interfaceqpmaterialpropertyrealuo import note userobejct support multiprocess thread support time descript syntax descript userobjectsinterfaceqpmaterialpropertyrealuo interfaceqpmaterialpropertyrealuo user object comput store averag real materi properti valu rate increment across interfac quadratur point kind averag valu one avail interfacevaluetoolsinterfacevaluetoolsmd valu type store userobject select via value_typ input paramet exampl get materi properti valu materi properti rate user must add two separ user object input file interfaceqpmaterialpropertyrealuo provid two type valu moos system qp valu call getqpvalu element side averag valu call getsideaveragevalu store valu convert auxvari use interfacevalueuserobjectauxinterfacevalueuserobjectauxmd auxkernel exampl input file syntax list testtestsuserobjectsinterface_user_objectinterface_mp_real_user_object_qpi blockuserobject syntax descript userobjectsinterfaceqpmaterialpropertyrealuo syntax paramet userobjectsinterfaceqpmaterialpropertyrealuo syntax input userobjectsinterfaceqpmaterialpropertyrealuo syntax children userobjectsinterfaceqpmaterialpropertyrealuo activateelementscoupl user object use coupl variabl valu metric activ add element move element inact subdomain activ subdomain use coupl variabl decid whether activ element coupled_var activate_valu activate_typ need provid input form activ criterion default element activ averag valu coupl variabl element activate_valu user set activate_typ equal activ element averag coupl variabl valu equal activate_valu syntax paramet userobjectsactivateelementscoupl syntax input userobjectsactivateelementscoupl syntax children userobjectsactivateelementscoupl layeredsideintegr syntax descript userobjectslayeredsideintegr defin layer paramet defin layer explain layeredaveragemd document block paramet longer allow defin layer unless boundari paramet set retriev result result layeredsideintegr comput save auxiliari variabl use spatialuserobjectauxmd output csv file use spatialuserobjectvectorpostprocessormd addit comput option addit option perform averag interpol cumul sum explain layeredaveragemd document exampl input syntax exampl integr variabl u taken boundari right direct three layer everi linear iter result averag store variabl layered_integr use spatialuserobjectauxmd end everi time step output csv file use spatialuserobjectvectorpostprocessormd list testtestsuserobjectslayered_side_integrallayered_side_integrali blockuserobject auxkernel vectorpostprocessor syntax paramet userobjectslayeredsideintegr syntax input userobjectslayeredsideintegr syntax children userobjectslayeredsideintegr nearestpointlayeredaverag domain virtual divid number subdomain accord nearest point provid user variabl averag taken individu subdomain separ abil decompos subdomain layer along particular direct number layer larger one recommend interfac two layer align mesh syntax descript userobjectsnearestpointlayeredaverag syntax paramet userobjectsnearestpointlayeredaverag syntax input userobjectsnearestpointlayeredaverag syntax children userobjectsnearestpointlayeredaverag bibtex bibliographi nearestpointlayeredintegr domain virtual divid number subdomain accord nearest point provid user variabl integr taken individu subdomain separ abil decompos subdomain layer along particular direct number layer larger one recommend interfac two layer align mesh syntax descript userobjectsnearestpointlayeredintegr syntax paramet userobjectsnearestpointlayeredintegr syntax input userobjectsnearestpointlayeredintegr syntax children userobjectsnearestpointlayeredintegr bibtex bibliographi verifyelementuniqueid syntax descript userobjectsverifyelementuniqueid object use debug mesh issu alert note distribut mesh perform mpi_allgath oper send id process oper may requir lot memori process syntax paramet userobjectsverifyelementuniqueid syntax input userobjectsverifyelementuniqueid syntax children userobjectsverifyelementuniqueid elemsideneighborlayerstest syntax descript userobjectselemsideneighborlayerstest overview user object test whether ghost element correctli reserv element_side_neighbor_lay use specifi number layer ghost element preserv via either geometr algebra relationship manag syntax paramet userobjectselemsideneighborlayerstest syntax input userobjectselemsideneighborlayerstest syntax children userobjectselemsideneighborlayerstest layeredbas lowlevel base class contain common logic comput store spatial partial sum given cardin direct intend deriv layer calcul layeredintegralmd deriv class comput store data structur use produc field valu suitabl transfer domain may overlap even repres similar area contain similar geometr relationship exampl layer calcul may use transfer heat produc within cylindr object surround outsid may differ shape might repres line layeredbas object deriv restartablemd maintain state data across time step interfaceqpvalueuserobject import note userobejct support multiprocess thread support time descript syntax descript userobjectsinterfaceqpvalueuserobject interfaceqpvalueuserobject user object comput store averag variabl valu rate across interfac quadratur kind averag valu one avail interfacevaluetoolsinterfacevaluetoolsmd valu type store userobject select via value_typ input paramet exampl get variabl valu variabl rate user must add two separ user object input file interfaceqpvalueuserobject provid two type valu moos system qp valu call getqpvalu element side averag valu call getsideaveragevalu store valu convert auxvari use interfacevalueuserobjectauxinterfacevalueuserobjectauxmd auxkernel exampl input file syntax list testtestsuserobjectsinterface_user_objectinterface_value_user_object_qpi blockuserobject syntax descript userobjectsinterfaceqpvalueuserobject syntax paramet userobjectsinterfaceqpvalueuserobject syntax input userobjectsinterfaceqpvalueuserobject syntax children userobjectsinterfaceqpvalueuserobject layeredintegr syntax descript userobjectslayeredintegr defin layer paramet defin layer explain layeredaveragemd document retriev result result layeredintegr comput save auxiliari variabl use spatialuserobjectauxmd output csv file use spatialuserobjectvectorpostprocessormd addit comput option addit option perform averag interpol cumul sum explain layeredaveragemd document exampl input syntax exampl integr variabl u taken whole domain direct three layer everi linear iter result averag store variabl layered_integr use spatialuserobjectauxmd end everi timestep output csv file use spatialuserobjectvectorpostprocessormd list testtestsuserobjectslayered_integrallayered_integral_testi blockuserobject auxkernel vectorpostprocessor syntax paramet userobjectslayeredintegr syntax input userobjectslayeredintegr syntax children userobjectslayeredintegr postprocessorspatialuserobject postprocessorspatialuserobject store postprocessor valu insid user object gain spatial posit use via spatialvalu api use multiapp setup need transfer postprocessor valu sub app live posit subapp exist exampl multiapp setup list testtestsuserobjectspostprocessor_spatial_user_objectmasteri list testtestsuserobjectspostprocessor_spatial_user_objectsubi syntax paramet userobjectspostprocessorspatialuserobject syntax input userobjectspostprocessorspatialuserobject syntax children userobjectspostprocessorspatialuserobject functionelementintegraluserobject syntax descript userobjectsfunctionelementintegraluserobject functionelementintegraluserobject mostli use appli integr oper function creat user object inherit class integr oper anoth class defin interact mesh creat custom spatial integr user object functionlayeredintegraluserobjectfunctionlayeredintegralmd use user object perform similar role functionelementintegralmd except set default output consol csv use postprocessor prefer way perform spatial function integr syntax descript userobjectsfunctionelementintegraluserobject syntax paramet userobjectsfunctionelementintegraluserobject syntax input userobjectsfunctionelementintegraluserobject syntax children userobjectsfunctionelementintegraluserobject geometryspher syntax descript userobjectsgeometryspher whenev mesh chang node suppli boundari snap surfac sphere specifi center radiu allow adapt refin curv geometri syntax paramet userobjectsgeometryspher syntax input userobjectsgeometryspher syntax children userobjectsgeometryspher activateelementsbypath user object use function path metric activ add element move element inact subdomain activ subdomain use user provid point xt yt zt compon defin function specifi paramet function_x function_i function_z input element activ time t_ element close distanc activate_dist point xt_ yt_ zt_ syntax paramet userobjectsactivateelementsbypath syntax input userobjectsactivateelementsbypath syntax children userobjectsactivateelementsbypath nearestpointlayeredsideaverag domain virtual divid number subdomain accord nearest point provid user layer side averag comput side individu subdomain separ syntax descript userobjectsnearestpointlayeredsideaverag syntax paramet userobjectsnearestpointlayeredsideaverag syntax input userobjectsnearestpointlayeredsideaverag syntax children userobjectsnearestpointlayeredsideaverag bibtex bibliographi layeredsidediffusivefluxaverag syntax descript userobjectslayeredsidediffusivefluxaverag diffus flux phi comput follow equat equat phi int_parti omega dvecr nabla uvecr cdot vecnvecr dpartial omega partial omega boundari integr diffus coeffici u variabl interest vecn normal boundari vecr indic posit exampl input file syntax list testtestsuserobjectslayered_side_integrallayered_side_diffusive_flux_averagei idexample_id blockuserobject captionexampl input file snippet layeredsidediffusivefluxaverag syntax paramet userobjectslayeredsidediffusivefluxaverag syntax input userobjectslayeredsidediffusivefluxaverag syntax children userobjectslayeredsidediffusivefluxaverag internalsideuserobject internalsideuserobject creat algorithm execut side edg element mesh subdomain mesh elementqualitycheck syntax descript userobjectselementqualitycheck descript userobject base avail libmesh qualiti metric check qualiti element work uniform mix element type exampl input syntax list testtestsuserobjectselement_quality_checkfailure_errori blockuserobject syntax paramet userobjectselementqualitycheck syntax input userobjectselementqualitycheck syntax children userobjectselementqualitycheck nearestpointintegralvariablepostprocessor domain virtual divid number subdomain accord nearest point provid user variabl integr taken individu subdomain separ syntax descript vectorpostprocessorsnearestpointintegralvariablepostprocessor syntax paramet vectorpostprocessorsnearestpointintegralvariablepostprocessor syntax input vectorpostprocessorsnearestpointintegralvariablepostprocessor syntax children vectorpostprocessorsnearestpointintegralvariablepostprocessor bibtex bibliographi nodaluserobject nodaluserobject userobjectsyntaxuserobjectsindexmd execut node domain run parallel processor execut subset total node parallel aggreg may necessari execut one time singl node nodaluserobject may made blockrestrictableblockrestrictablemd restrict two block user may set paramet respect input file block choos whether moos visit execut node share block boundari multipl time default execut multipl time nodalnormalspreprocessor syntax descript userobjectsnodalnormalspreprocessor nodalnormalspreprocessor popul nodal_normal_x nodal_normal_i nodal_normal_z variabl local quadratur weight time gradient shape function object creat addnodalnormalsactionmd boundari specifi paramnodalnormalsaddnodalnormalsactionboundari paramet see syntaxnodalnormalsindexmd inform syntax paramet userobjectsnodalnormalspreprocessor syntax input userobjectsnodalnormalspreprocessor syntax children userobjectsnodalnormalspreprocessor shapeelementuserobject shapeelementuserobject intermedi base class deriv user object need evalu shape function _phi _grad_phi ghostinguserobject ghostinguserobject maintain local data structur element involv geometr algebra ghost object normal setup automat displayghostingactionmd exampl input syntax syntax descript userobjectsghostinguserobject syntax paramet userobjectsghostinguserobject syntax input userobjectsghostinguserobject syntax children userobjectsghostinguserobject bibtex bibliographi nearestnodenumberuo userobject comput closest node given point tie node smallest id use use geochemistryconsoleoutputhttpmooseframeworkorgdocsdoxygenmodulesgeochemistryconsoleoutputhtml object identifi node output requir alert note probabl want set execute_on initi avoid unnecessari comput unless adapt mesh case set execute_on initi timestep_begin syntax paramet userobjectsnearestnodenumberuo syntax input userobjectsnearestnodenumberuo syntax children userobjectsnearestnodenumberuo layeredsideaverag syntax descript userobjectslayeredsideaverag defin layer paramet defin layer explain layeredaveragemd document block paramet longer allow defin layer unless boundari paramet set retriev result result layeredsideaverag comput save auxiliari variabl use spatialuserobjectauxmd output csv file use spatialuserobjectvectorpostprocessormd addit comput option addit option perform averag interpol cumul sum explain layeredaveragemd document exampl input syntax exampl averag variabl u taken boundari right direct three layer everi linear iter result averag store variabl layered_integr use spatialuserobjectauxmd end everi time step output csv file use spatialuserobjectvectorpostprocessormd list testtestsuserobjectslayered_side_integrallayered_side_averagei blockuserobject auxkernel vectorpostprocessor syntax paramet userobjectslayeredsideaverag syntax input userobjectslayeredsideaverag syntax children userobjectslayeredsideaverag solutionuserobject syntax descript userobjectssolutionuserobject descript solut user object read variabl mesh one simul anoth order use solutionuserobject three addit paramet requir auxvariableauxvariablesindexmd functionfunctionsindexmd auxkernelauxkernelsindexmd auxvari repres variabl read solut user object solutionuserobject set read old output file solutionfunct requir interpol time space data solutionuserobject final function requir queri function write valu auxvari exampl input syntax list testtestsauxkernelssolution_auxsolution_aux_exodus_interpi blockuserobject syntax paramet userobjectssolutionuserobject syntax input userobjectssolutionuserobject syntax children userobjectssolutionuserobject nearestpointlayeredsideintegr domain virtual divid number subdomain accord nearest point provid user layer side integr comput side individu subdomain separ syntax descript userobjectsnearestpointlayeredsideintegr syntax paramet userobjectsnearestpointlayeredsideintegr syntax input userobjectsnearestpointlayeredsideintegr syntax children userobjectsnearestpointlayeredsideintegr bibtex bibliographi layeredaverag syntax descript userobjectslayeredaverag defin layer layer definit handl layeredbas class summar one multipl layer defin direct normal axi number thick direct layer current may along three cartesian axe set use paramuserobjectslayeredaveragedirect paramet number layer set use paramuserobjectslayeredaveragenum_lay paramet unless paramuserobjectslayeredaveragebound paramet see set thick layer set three differ separ way set directli coordin along specifi direct use paramuserobjectslayeredaveragebound paramet simultan set number layer equal number bound minu one minimum maximum coordin along specifi direct specifi specifi total extent equal thick layer use paramuserobjectslayeredaveragedirection_min paramuserobjectslayeredaveragedirection_max paramet vector bound domain may specifi use paramuserobjectslayeredaveragelayer_bounding_block minimum maximum coordin along specifi direct set thick layer obtain look maximum coordin specifi bound block set layer minimum minimum coordin bound block set layerss maximum layer may restrict element certain subdomain use paramuserobjectslayeredaverageblock paramet retriev result result layeredaverag comput save auxiliari variabl use spatialuserobjectauxmd output csv file use spatialuserobjectvectorpostprocessormd addit comput option sampl paramet may specifi obtain layer averag directli set paramuserobjectslayeredaveragesample_typ direct default interpol layer averag set paramuserobjectslayeredaveragesample_typ interpol averag layer set paramuserobjectslayeredaveragesample_typ averag paramuserobjectslayeredaverageaverage_radiu paramet specifi tune distanc averag result addit cumul averag layer posit direct comput set paramuserobjectslayeredaveragecumul true exampl input syntax exampl averag variabl u taken whole domain direct two layer result averag store variabl layered_averag use spatialuserobjectauxmd output csv file use spatialuserobjectvectorpostprocessormd list testtestsuserobjectslayered_averagelayered_averagei blockuserobject auxkernel vectorpostprocessor syntax paramet userobjectslayeredaverag syntax input userobjectslayeredaverag syntax children userobjectslayeredaverag activateelementsuserobjectbas activateelementsuserobjectbas class activ ad element move element inact subdomain activ subdomain two metric activ element ie function path coupl variabl valu implement class activateelementsbypathactivateelementsbypathmd activateelementscoupledactivateelementscoupledmd respect user object updat boundari inform due addit element across subdomain user save boundari inform pass chang boundari name expand_boundary_nam input block note current implement deactiv element element activ nodalnormalsevalu syntax descript userobjectsnodalnormalsevalu nodalnormalsevalu ad automat addnodalnormalsactionmd object creat boundari specifi paramnodalnormalsaddnodalnormalsactionboundari paramet see syntaxnodalnormalsindexmd inform nodal normal comput nodal_normal_x nodal_normal_i nodal_normal_z variabl use divid valu node norm normal exampl input syntax exampl nodalnorm system use nodalnormalsevalu ad behind scene action smooth distanc comput two disjoint surfac list testtestsgeomsearchd_moving_penetration_smoothingpl_testnnsi blocknodalnorm syntax paramet userobjectsnodalnormalsevalu syntax input userobjectsnodalnormalsevalu syntax children userobjectsnodalnormalsevalu elementintegralvariableuserobject syntax descript userobjectselementintegralvariableuserobject elementintegralvariableuserobject use appli integr oper variabl creat user object take care multipli quadratur weight element volum perform reduct oper includ use thread done either special user object class templat integr oper exampl nearestpointlayeredintegralmd special nearestpointbas class layeredintegralmd perform nearest point layer integr inherit class integr oper anoth class defin interact mesh creat custom spatial integr user object layeredintegralmd use user object perform similar role elementintegralvariablepostprocessormd except set default output consol csv use postprocessor prefer way perform spatial variabl integr syntax paramet userobjectselementintegralvariableuserobject syntax input userobjectselementintegralvariableuserobject syntax children userobjectselementintegralvariableuserobject functionlayeredintegr syntax descript userobjectsfunctionlayeredintegr defin layer paramet defin layer explain layeredaverageuserobjectlayeredaveragemd document retriev result result functionlayeredintegr comput save auxiliari variabl use spatialuserobjectauxauxkernelsspatialuserobjectauxmd output csv file use spatialuserobjectvectorpostprocessorvectorpostprocessorsspatialuserobjectvectorpostprocessormd exampl input file syntax exampl integr function sini taken whole domain direct layer result integr store variabl layered_integr use spatialuserobjectauxauxkernelsspatialuserobjectauxmd output csv file use spatialuserobjectvectorpostprocessorvectorpostprocessorsspatialuserobjectvectorpostprocessormd list testtestsuserobjectsfunction_layered_integralfunction_layered_integrali startauxkernel endexecution syntax paramet userobjectsfunctionlayeredintegr syntax input userobjectsfunctionlayeredintegr syntax children userobjectsfunctionlayeredintegr coupledvarthresholdelementsubdomainmodifi syntax descript userobjectscoupledvarthresholdelementsubdomainmodifi overview coupledvarthresholdelementsubdomainmodifi model element death applic ablat fractur etc element activ applic addit manufactur sinter solidif etc move interfac applic metal oxid phase transform melt pool etc coupledvarthresholdelementsubdomainmodifi chang element subdomain base given criterion also handl correspond move boundaryinterfac nodesetsideset modif solut initi state materi properti initi demonstr use follow exampl consid unit squar domain auxiliari variabl defin function phixyt xti function repres signeddist function circl radiu whose center move along xaxi toward right initi domain decompos vertic line x element left side vertic line subdomain id element right side subdomain id coupledvarthresholdelementsubdomainmodifi use chang subdomain id element within circl revers vs irrevers modif coupledvarthresholdelementsubdomainmodifi appli onto entir domain paramet complement_subdomain_id set subdomain id element outsid circl set list testtestsuserobjectselement_subdomain_modifierreversiblei startmoving_circl end includeendtru media mediauserobjectsesm_reversiblejpg stylefloatcenterwidth captionth result revers element subdomain modifi three differ time step howev mani applic eg element death activ equival movement element subdomain revers case omit paramet complement_subdomain_id make subdomain modif irrevers list testtestsuserobjectselement_subdomain_modifierblock_restrictedi startmoving_circl end includeendtru media mediauserobjectsesm_irreversiblejpg stylefloatcenterwidth captionth result irrevers element subdomain modifi three differ time step move boundaryinterfac nodesetsideset modif chang element subdomain alter definit certain sideset nodeset coupledvarthresholdelementsubdomainmodifi option take paramet moving_boundary_nam help modifi correspond sidesetnodeset boundari provid moving_boundary_nam paramet alreadi exist modifi attempt modifi provid sidesetnodeset whenev element chang subdomain boundari exist modifi creat sideset nodeset provid name media mediauserobjectsesm_sidesetjpg stylefloatcenterwidth captionth evolv sideset green three differ time step media mediauserobjectsesm_nodesetjpg stylefloatcenterwidth captionth evolv nodeset green three differ time step nodal integr bc appli move boundari solut initi depend physic one may may want initi solut element relat node chang subdomain paramet apply_initial_condit default true determin whether initi condit reevalu suppos initi auxiliari variabl u everywher insid domain variabl valu subdomain blue doubl time step list testtestsuserobjectselement_subdomain_modifierinitial_conditioni startauxvari endexecution media mediauserobjectsesm_icjpg stylefloatcenterwidth captionth auxiliari variabl u three differ time step state materi properti initi similarli state materi properti reiniti element chang subdomain suppos initi diffus everywher diffus doubl time step list testtestsuserobjectselement_subdomain_modifierstateful_propertyi startmateri endexecution media mediauserobjectsesm_materialjpg stylefloatcenterwidth captionth diffus three differ time step syntax paramet userobjectscoupledvarthresholdelementsubdomainmodifi syntax input userobjectscoupledvarthresholdelementsubdomainmodifi termin syntax descript userobjectstermin pars logic express specifi paramuserobjectsterminatorexpress inform pars express may found function parser documentationhttpwarppovusersorgfunctionpars termin act two mode specifi paramuserobjectsterminatorfail_mod hard stop default termin simul condit met soft stop stop ongo solv let solver tri use smaller time step transient simul alert note use termin pass mode stop simul accept result use hard fail_mod info error_level messag output termin condit termin met specifi use paramuserobjectsterminatorerror_level paramet may output error forc hard failur warn rais attent issu abnorm solv condit inform messag indic termin act solv condit met expect normal use make termin stop simul accept result exampl input syntax exampl termin use fail time step solv base criterion dt solv softfail time step solver tri cut time step happen make termin pars criterion pass act time step list testtestsuserobjectsterminatorterminator_softi blockuserobject exampl termin use stop simul accept result follow criterion met dt stop simul done hard failur mode solv consid converg error level set info list testtestsuserobjectsterminatorterminator_passi blockuserobject syntax paramet userobjectstermin syntax input userobjectstermin syntax children userobjectstermin moosevariableconstmonomi syntax descript variablesmoosevariableconstmonomi special constant monomi variabl skip interpol quadratur point copi solut valu detail descript moos variabl system given base class documentationmoosevariablebasemd syntax paramet variablesmoosevariableconstmonomi syntax input variablesmoosevariableconstmonomi syntax children variablesmoosevariableconstmonomi arraymoosevari syntax descript variablesarraymoosevari overview array variabl defin set standard field variabl finit element famili order standard variabl array variabl refer compon array variabl array kernel moos kernel oper array variabl assembl residu jacobian compon array variabl sampl array kernel found arraydiffusionmd purpos array kernel reduc number kernel number compon array variabl larg potenti hundr thousand avoid duplic oper otherwis lot standard kernel array kernel use radiat transport extra independ direct variabl result larg number standard variabl similarli array kernel array initi condit array boundari condit array dg kernel array interfac kernel array constraint etc design use variabl group libmesh group compon array variabl togeth use templat avoid code duplic standard vector variabl use eigenhttpseigentuxfamilyorgdoxgroup__quickrefpagehtmlmatrix hold local dof solut quadratur point array variabl eas local oper use dens matric vector standard vector variabl proper size hold local jacobian residu assembl global jacobian matrix global residu vector follow map use understand templat outputtyp outputshap outputdata real real real realvectorvalu realvectorvalu real realeigenvector real realeigenvector three row correspond standard vector array variabl outputtyp data type use templat realeigenvector typedef moosetypesh eigenmatrixr eigendynam outputshap type shape function outputdata type basi function expans coeffici store moos array variabl grab solut vector kernel array variabl sinc array variabl differ outputdata type standard kernel use array variabl kernel array variabl arraykernel must deriv arraykernel differ virtual function computeqpresidu computeqpjacobian computeqpoffdiagjacobian declar function list languagecpp virtual void computeqpresidualrealeigenvector residu virtual realeigenvector computeqpjacobian virtual realeigenmatrix computeqpoffdiagjacobianconst moosevariablefebas jvar defin computeqpresidu deriv class function must defin residu input arguement residu input alreadi properli size call arraykernelc computeqpjacobian must return vector defin ondiagon term jacobian computeqpoffdiagjacobian must return matrix number row equal number compon number column number compon jvar use arraydiffusionmd exampl computeqpresidu function list arraydiffusionc revoidsarraydiffusioncomputeqpresidu _grad_u_qp eigenmatrix number row equal number compon array variabl number column libmesh_dim _array_grad_test_i_qp eigenmap classic _grad_test_i_qp type gradient thank eigen matrix arithmet oper simpl multipl express _d pointer materi properti real type scalar diffus coeffici assum diffus coeffici compon _d_array pointer realeigenvector materi properti assum diffus coeffici compon coupl _d_d_array pointer realeigenmatrix materi properti diffus coeffici repres dens matrix see arraydiffusionmd detail correspondingli computeqpjacobian list arraydiffusionc rerealeigenvectorsarraydiffusioncomputeqpjacobian note diagon entri diffus coeffici use fullycoupl case computeqpjacobian suppos assembl blockdiagon part jacobian full local jacobian assembl function computeqpoffdiagjacobian offdiagon variabl array variabl list arraydiffusionc rerealeigenmatrixsarraydiffusioncomputeqpoffdiagjacobian retun valu type eigen matrix number row column equal number compon arraykernel also virtual function includ list languagecpp virtual void initqpresidu virtual void initqpjacobian virtual void initqpoffdiagjacobianconst moosevariablefebas jvar function call insid quadratur point loop outsid testshap function loop use perform oper depend posit quadratur point depend testshap function instanc arraydiffusionmd use initqpresidu check size vector matrix diffus coeffici match number compon variabl list arraydiffusionc revoidsarraydiffusioninitqpresidu futur work chang current dof order element variabl avoid bunch statement isnod moosevariablefec refer libmesh issu httpsgithubcomlibmeshlibmeshissu use eigenmap faster solut vector access implement arrayinterfacekernel arrayconstraint use eigen api linear algebra easi use eigen lot api matrix arithmet manipul simplifi code help develop avoid write loop full list function visit eigen matrix doxygenhttpeigentuxfamilyorgdoxclasseigen__matrixhtml relev realeigenvector realeigenmatrix type moos list commonli use function residu jacobian evalu exposit definit vector matrix equat vecv beginbmatrix v_ v_ vdot v_n endbmatrix quad quad beginbmatrix m_ m_ dot m_n m_ m_ dot m_n vdot vdot ddot vdot m_n m_n dot m_nn endbmatrix set element valu equat vecvtextttsetzero rightarrow v_i equat vecvtextttseton rightarrow v_i equat vecvtextttsetconstantatexttt rightarrow v_i chang matrix represent equat vecvtextttasdiagon rightarrow beginbmatrix v_ v_ ddot v_n endbmatrix equat mtextttdiagon rightarrow beginbmatrix m_ m_ vdot m_nn endbmatrix elementwis oper equat vecv texttt vecvtextttcwiseproductvecwtexttt rightarrow v_i v_iw_i equat vecvtextttarray vecwtextttarray rightarrow v_i v_iw_i eigen tip trick advanc eigen uniqu featur use properli significantli impact perform recommend improv code perform aliasinghttpeigentuxfamilyorgdoxgroup__topicaliasinghtml techniqu eigen contruct temporari object perform matrix multipl avoid overrid data need use later comput instanc vec mat vec creat temporari vector mat vec assign vec end howev vec mat vec need temporari object assign result vec directli alias avoid vecnoalia noalia function use extrem caution sinc caus erron result eigen use what known express templateshttpsenwikipediaorgwikiexpression_templ enabl oper known compil time allow multipl oper occur singl element element loop provid compil optim improv cach effici mind often better write multipl eigen oper singl line assign instanc follow syntax list languagecpp b c listingend eigen compil singl loop list languagecpp unsign int bsize ai bi ci di listingend eigen also interfac access raw buffer use map classhttpeigentuxfamilyorgdoxgroup__tutorialmapclasshtml better understand eigen use full potenti highli recommend go eigen tutorialshttpeigentuxfamilyorgdoxmoduleshtml syntax paramet variablesarraymoosevari syntax input variablesarraymoosevari syntax children variablesarraymoosevari moosevari syntax descript variablesmoosevari detail descript moos variabl system given base class documentationmoosevariablebasemd syntax paramet variablesmoosevari syntax input variablesmoosevari syntax children variablesmoosevari moosevariablef phizero moos helper zero object shape function shape function gradient access moos object name zero object _phi_zero _grad_phi_zero _second_phi_zero object first two dimens maximum number degre freedom per variabl per element ii maximum number quadratur point per element phizerokernel test object check first two dimens _phi_zero _grad_phi_zero _second_phi_zero consist maximum number shape function quadratur point simul moosevariablefvr syntax descript adaptivitymarkersmoosevariablefvr overview moosevariablefv templat support creation finit volum variabl type time write one use instanti templat moosevariablefvr moos use cellcent finit volum conveni support constant monomi finit element type background one import paramet moosevariablefv object two_term_boundary_expans default fals fals boundari face associ dirichlet boundari conditionsfvdirichletbcmd simpli use cell centroid valu face valu howev two_term_boundary_expans set true variabl subblock finit volum variabl cell centroid valu reconstruct cell centroid gradient henc twoterm name use comput extrapol boundari face valu note care taken set paramet true solv twoterm extrapol boundari face valu requir simultan solv attach cell centroid gradient creat system equat system potenti singular multipl extrapol boundari face per cell see moos issuehttpsgithubcomidaholabmooseissu time reason expect cell multipl extrapol boundari face yield nonsingular system vector cell centroid face centroid parallel surfac normal none surfac normal parallel eg imagin orthogon quad three extrapol boundari face anoth paramet moosevariablefv templat use_extended_stencil default fals fals gradient comput use face valu linearli interpol current cell centroid neighbor cell centroid toggl true face valu comput weight function attach face vertic requir comput solut valu vertic function adjac cell extend stencil increas size jacobian matrix benefit suppos increas accuraci gradient comput howev current implement vertex approach actual less accur solut converg oh oppos oh smaller stencil may indic bug current vertexbas implement hope smart user come along fix exampl input file syntax creat moosevariablefvr user one follow input file variabl u famili monomi order constant fv true v type moosevariablefvr note user must specifi type want abl set finit volum variabl specif paramet like two_term_boundary_expans use_extended_stencil syntax paramet adaptivitymarkersmoosevariablefvr syntax input adaptivitymarkersmoosevariablefvr syntax children adaptivitymarkersmoosevariablefvr auxvari syntax descript variablesmoosevari auxiliari variabl use comput store intermedi quantiti main variabl one solv equat system detail descript moos variabl system given base class documentationmoosevariablebasemd syntax paramet variablesmoosevari syntax input variablesmoosevari syntax children variablesmoosevari moosevariablescalar syntax descript variablesmoosevariablescalar variabl type use solv ode independ variabl time eg variabl spatial depend syntax paramet variablesmoosevariablescalar syntax input variablesmoosevariablescalar syntax children variablesmoosevariablescalar moosevariablebas syntax descript variablesmoosevariablebas current class hierarchi moos variabl shown media mediavariablesmoose_variable_hierarchysvg captionmoos variabl hierarchi stylewidth moosevariablebas primit base class variabl inherit includ method access variabl finit element type order degress freedom scale factor name associ systembas two class inherit directli moosevariablebas moosevariablefebas moosevariablescalar moosevariablescalar repres moos variabl constant spatial domain number degre freedom equal order variabl eg follow variabl block would declar moosevariablescalar two associ degre freedom auxvari aux_scalar order second famili scalar moosevariablefebas abstract class encompass finiteel type variabl variabl vari spatial ultim inherit moosevariablefebas class implement relev variabl method return actual variabl solut variabl shape function sinc return type latter case depend whether finiteel variabl scalarvalu singlecompon vectorvalu multicompon natur exist moosevariablefebas class allow construct contain hold singl multicompon finit element variabl use instanc assembl class abstract coupl matrix entri jacobian comput object like kernel want fetch numer id variabl use coupl moreov design structur mirror fe design libmesh feabstract abstract base class implement method independ fe type class templat fegenericbaset implement type depend method analog moosevariablefet moosevariablefet implement method return variabl solut associ shape function addit contain method respons comput variabl solut quadratur point given degre freedom valu comput previou nonlinear solut standard tradit finit element variabl singlecompon instanti templat argument real hold variabl finit element famili lagrang monomi hermit etc multicompon vector finit element variabl instanti templat argument realvectorvalu current encompass finit element famili nedelec_on lagrange_vec former use electromagnet applic gener pde involv curl oper latter potenti use tensor mechan navierstok simul histor displac veloc variabl broken componentwis hide templat moos variabl system framework code moosevariablefer moosevariableferealvectorvalu alias moosevari vectormoosevari respect final moosevariableconstmonomi class take advantag finit element type constant valu element optim solut comput routin consequ overrid computeelemvalu similar method moosevariablefer accessor myriad way access moos variabl user interfac well outlin restart variabl restartediniti variabl valu file disk set paramet initial_from_file_var source_var_nam variabl subblock source_var_nam name sourc variabl file note user also set paramet mesh block order work describ exampl document filemeshgeneratormd systembas common interfac object kernel object exampl _si member _si member follow variabl accessor method take thread_id either stdstring variabl name unsign variabl id argument getvari return refer moosevariablefebas use access variabl finit element solut shape function need getfieldvari templat method take templat argument either real realvectorvalu return refer moosevari vectormoosevari respect use user know need complet type getscalarvari return refer moosevariablescalar getter method ultim queri differ map contain variablewarehous subproblem anoth common interfac object member _subproblem _subproblem follow accessor method take thread_id stdstring variabl name argument note accessor variabl id exist subproblem getvari return refer moosevariablefebas use access variabl finit element solut shape function need call systembasegetvari getstandardvari return refer moosevari use user know need complet type call systembasegetfieldvariabler getvectorvari return refer vectormoosevari use user know need complet type call systembasegetfieldvariablerealvectorvalu getscalarvari return refer moosevariablescalar note templat abstract avail systembas avail subproblem accessor method subproblem pure virtual ie implement made deriv class elimin choic templat accessor method base subproblem class coupleabl sinc interfac object alreadi suppli user primari variabl common way user access moos variabl coupleabl method follow accessor method return actual moos variabl object take argument variabl name compon use user pass multipl variabl singl coupledvar paramet getfevar return pointer moosevariablefebas use access variabl finit element solut shape function need getvar return pointer moosevari use complet type need getvectorvar return pointer vectormoosevari use complet type need userdevelop want access multipleal coupl variabl call follow method take argument getcoupledmoosevar return coupl moos variabl ie singlecompon moosevari multicompon vectormoosevari consequ return type stdvectormoosevariablefebas getcoupledstandardmoosevar return coupl singlecompon moosevari stdvectormoosevari getcoupledvectormoosevar return coupl multicompon vectormoosevari stdvectorvectormoosevari often time need userdevelop access actual moos variabl object instead requir variabl finit element solut gradient method exemplifi coupledvalu take variabl name correspond singlecompon moosevari return finit element solut quadratur point variablevalu coupledvectorvalu take variabl name correspond multicompon vectormoosevari return finit element solut quadratur point vectorvariablevalu coupledgradi take variabl name correspond singlecompon moosevari return finit element solut gradient quadratur point variablegradi coupledcurl take variabl name correspond multicompon vectormoosevari return curl finit element solut quadratur point vectorvariablecurl variabl functor evalu idfunctorvar deriv field class moosevariablebas eg deriv class templat moosevariablefieldt inherit moosefunctor quadraturebas overload evalu method implement moosevariablefieldt elemqparg elemsideqparg evalu overload true onthefli comput solut base inform contain within argument eg perform call libmesh fereinit method attach quadratur rule provid with call argument elementtyp overload howev simpli queri method like adsln slnold slnolder adslnneighbor slnoldneighbor success latter overload depend fact variabl alreadi reinitd request element neighbor type user unsur whether precondit met call like slower flexibl elemqparg overload overview differ spatial overload avail functor pleas see materialsindexmdspatialoverload finitevolumecentr evalu overload individu implement moosevariablefet moosevariablefvt class templat finit element implement current error runtim call could nontrivi implement onthefli evalu fe variabl coupl fv physic becom import moosevariablefvt implement finitevolumecentr evalu overload leverag preexist method like getextrapolatedboundaryfacevalu getinternalfacevalu getdirichletboundaryfacevalu call facelik argument getelemvalu getneighborvalu call elementlik argument syntax paramet variablesmoosevariablebas syntax input variablesmoosevariablebas syntax children variablesmoosevariablebas vectormoosevari syntax descript variablesvectormoosevari detail descript moos variabl system given base class documentationmoosevariablebasemd syntax paramet variablesvectormoosevari syntax input variablesvectormoosevari syntax children variablesvectormoosevari fvorthogonaldiffus syntax descript fvkernelsfvorthogonaldiffus overview object implement intercel flux equival beginequ fracu_n u_evert bmd_envert endequ diffus coeffici linearli interpol cell centroid n e denot neighbor element respect u_n valu diffus quantiti neighbor cell centroid u_e valu diffus quantiti element cell bmd_en distanc vector drawn element centroid neighbor centroid syntax paramet fvkernelsfvorthogonaldiffus syntax input fvkernelsfvorthogonaldiffus syntax children fvkernelsfvorthogonaldiffus fvbodyforc descript fvbodyforc implement forc term momentum transport structur mechan sourc term speciesmass transport strong form given domain omega defin beginequ underbracef_textrmfvbodyforc sum_in beta_i omega endequ f sourc term neg sink second term left hand side repres strong form kernel jacobian term kernel zero fracparti r_iu_hparti u_j sinc assum f function unknown u forc construct user suppli constant c functionfunctionsindexmd valu evalu current time quadratur point f andor postprocessorpostprocessorsindexmd valu p constant c suppli paramet valu may also control cours transient simul controlscontrolsindexmd block c f p suppli input paramet valu function postprocessor respect suppli c f p correspond paramet equival set valu uniti exampl syntax case demonstr use fvbodyforc forc term suppli base upon function form list testtestsfvkernelsfv_adapttransientadapti blockfvkernel syntax paramet fvkernelsfvbodyforc syntax input fvkernelsfvbodyforc syntax children fvkernelsfvbodyforc fvcoupledforc descript fvcoupledforc implement sourc term within domain omega proport coupl variabl beginequ underbracesigma v_textrmfvcoupledforc sum_in beta_i omega endequ sigma known scalar coeffici v coupl unknown valu second term left hand side correspond strong form kernel speci transport context valu sigma regard reaction rate coeffici exampl syntax list testtestsfvkernelsfv_coupled_varcoupledi blockfvkernel syntax paramet fvkernelsfvcoupledforc syntax input fvkernelsfvcoupledforc syntax children fvkernelsfvcoupledforc fvdiffus syntax descript fvkernelsfvdiffus steadyst diffus equat domain omega defin equat nabla cdot nabla u omega diffus coeffici diffus suppli materi properti kernel diffus term integr use diverg theorem turn volumetr second order deriv term first order deriv integr surfac equat int_el nabla cdot nabla u sum_elem face f d_f nabla u_f cdot vecn_f area_f vecn_f surfac normal side element consid alert note unless specifi otherwis use force_boundary_execut boundaries_to_forc paramet kernel execut variabl boundari unless boundari condit specifi instead equival specifi zero diffus flux boundari alert note kernel leverag automat differenti system jacobian comput time residu need defin separ exampl input syntax exampl show simpl diffus problem two variabl defin two subdomain limit legaci materi system two materi properti differ name otherwis clear boundari valu diffus coeffici list testtestsfvkernelsblockrestrictiondi syntax paramet fvkernelsfvdiffus syntax input fvkernelsfvdiffus syntax children fvkernelsfvdiffus fvreaction descript fvreaction implement simpl firstord reaction term rate reaction directli proport lambda u lambda rate coeffici u govern variabl fvreaction use help setup variat advectiondiffusionreact equat exampl syntax syntax fvreaction simpl take type variabl paramet exampl block shown diffusionreact equat list testtestsfvkernelsfv_coupled_varcoupledi blockfvkernel syntax paramet fvkernelsfvreact syntax input fvkernelsfvreact syntax children fvkernelsfvreact fvscalarlagrangemultipli object implement residu enforc constraint beginequ int_omega phi int phi_ endequ use lagrang multipli approach eg object enforc constraint averag valu phi match phi_ detail descript deriv correspond finit element constraint found scalar_constraint_kernelhttpsgithubcomidaholablarge_mediablobmasterframeworkscalar_constraint_kernelpdf finit volum version obtain simpli substitut varphi note int phi_ v_ syntax paramet fvkernelsfvscalarlagrangemultipli syntax input fvkernelsfvscalarlagrangemultipli syntax children fvkernelsfvscalarlagrangemultipli fvtimekernel syntax descript fvkernelsfvtimekernel time deriv automat comput base time integr scheme selectedsyntaxexecutionerstimeintegratorindexmd alert note creat new time deriv kernel develop consid inherit class provid matrixvector time tag ad validparam routin new class exampl input syntax exampl variabl v solut simpl timedepend diffus problem time deriv term equat ad numer system use fvtimekernel list testtestsfvkernelsfv_simple_diffusiontransienti blockfvkernel syntax paramet fvkernelsfvtimekernel syntax input fvkernelsfvtimekernel syntax children fvkernelsfvtimekernel fvmatadvect syntax descript fvkernelsfvmatadvect fvmatadvect kernel similar fvadvectionmd kernel except veloc materi properti instead constant vector may vari throughout domain advect quantiti order solv veloc one need add variablemateri insfvmaterialmodulesnavier_stokesdoccontentsourcematerialsinsfvmaterialmd optionaltru store copi veloc variabl materi properti expand functor materi variabl capabl veloc materi properti longer requir exampl input syntax exampl kernel set steadi state advect problem momentum mass former advected_quant set momentum case use constant unit densiti pleas refer navier stoke modul advanc fluid flow capabl list testtestsfvkernelsfv_eulerfv_euleri blockfvkernel syntax paramet fvkernelsfvmatadvect syntax input fvkernelsfvmatadvect syntax children fvkernelsfvmatadvect fvadvect syntax descript fvkernelsfvadvect fvadvect kernel implement advect term given domain omega defin equat underbracevecv cdot nabla u sum_in beta_i omega u advect quantiti variabl kernel v constant advect veloc veloc paramet kernel beta_i contribut residu kernel volumetr term transform use diverg theorem surfac integr comput sum face advect flux prefer comput volumetr gradient conserv advect natur achiev equat int_el vecv cdot nabla u sum_elem face f u_f vecv cdot n_f v area_f advect quantiti evalu face use advected_interpolation_method two method avail averag geometr weight averag element neighbor valu upwind first order upwind scheme use valu centroid element situat upwind face use veloc wind alert note kernel leverag automat differenti system jacobian comput time residu need defin separ boundari condit pure advect advect problem constant advect veloc two type boundari condit inflow outflow inflow boundari condit may specifi constant boundari valu fvdirichletbcmd caveat see document constant flux fvadvectionfunctionbcmd list fvkernelsmmsadvectioni blockfvbc outflow boundari condit may specifi fvconstantscalaroutflowbcmd list testtestsfvkernelsfv_constant_scalar_advectiond_constant_scalar_advectioni blockfvbc boundari condit specifi zero advect flux boundari also known nopenetr boundari condit alert note fvadvect kernel may execut boundari use force_boundary_execut boundaries_to_forc paramet howev somewhat situat mainstream use exampl input syntax exampl simpl timedepend advect problem solv constant advect veloc list testtestsfvkernelsfv_constant_scalar_advectiond_constant_scalar_advectioni blockfvkernel syntax paramet fvkernelsfvadvect syntax input fvkernelsfvadvect syntax children fvkernelsfvadvect elementsalonglin syntax descript vectorpostprocessorselementsalonglin descript elementsalonglin class vectorpostprocessor output element id everi element intersect line id provid vector name elem_id user defin line use start end point line termin point element line beyond point output id output class use moos inter number scheme start ad translat equival number format exodu start syntax paramet vectorpostprocessorselementsalonglin syntax input vectorpostprocessorselementsalonglin syntax children vectorpostprocessorselementsalonglin bibtex bibliographi nodalvaluesampl syntax descript vectorpostprocessorsnodalvaluesampl vectorpostprocessor use sampl nodal variabl node domain select block select boundari syntax paramet vectorpostprocessorsnodalvaluesampl syntax input vectorpostprocessorsnodalvaluesampl syntax children vectorpostprocessorsnodalvaluesampl bibtex bibliographi intersectionpointsalonglin syntax descript vectorpostprocessorsintersectionpointsalonglin csv output consist x z coordin intersect point facessid element line alert note object support replic mesh distribut version object may creat use ray trace modulemodulesray_tracingindexmd optionaltru syntax paramet vectorpostprocessorsintersectionpointsalonglin syntax input vectorpostprocessorsintersectionpointsalonglin syntax children vectorpostprocessorsintersectionpointsalonglin piecewisefunctiontabul syntax descript vectorpostprocessorspiecewisefunctiontabul object use check function gener piecewis defin function piecewiseconstantpiecewiseconstantmd piecewiselinearpiecewiselinearmd coarsenedpiecewiselinearcoarsenedpiecewiselinearmd syntax paramet vectorpostprocessorspiecewisefunctiontabul syntax input vectorpostprocessorspiecewisefunctiontabul syntax children vectorpostprocessorspiecewisefunctiontabul bibtex bibliographi constantvectorpostprocessor syntax descript vectorpostprocessorsconstantvectorpostprocessor constant data specifi vector name vector vector valu name vector valu separ semicolon constant vector postprocessor gener use output postprocess isol part system use constant input exampl subapp commun main app transfer vector postprocessor constantvectorpostprocessor may use replac transfer debug parametr studi purpos exampl input syntax exampl two constantvectorpostprocessor use specifi three vector b c tie vector postprocessor two conflict despit similar name list testteststransfersreporter_transfermaini blockvectorpostprocessor syntax paramet vectorpostprocessorsconstantvectorpostprocessor syntax input vectorpostprocessorsconstantvectorpostprocessor syntax children vectorpostprocessorsconstantvectorpostprocessor sidesetinfovectorpostprocessor syntax descript vectorpostprocessorssidesetinfovectorpostprocessor descript sidesetinfovectorpostprocessor assembl inform sideset print csv file current allow obtain area centroid bound box via min max min contain minimum x z coordin sideset max contain respect maximum valu note centroid guarante point contain sideset syntax paramet vectorpostprocessorssidesetinfovectorpostprocessor syntax input vectorpostprocessorssidesetinfovectorpostprocessor syntax children vectorpostprocessorssidesetinfovectorpostprocessor bibtex bibliographi spatialuserobjectvectorpostprocessor syntax descript vectorpostprocessorsspatialuserobjectvectorpostprocessor overview vectorpostprocessor evalu spatial user object set point set postprocessor spatial valu user object point postprocessor may use convert spatial user object nearestpointlayeredaverageuserobjectnearestpointlayeredaveragemd postprocessor transfer anoth applic multiappvectorpostprocessortransfertransfersmultiappvectorpostprocessortransfermd neither paramvectorpostprocessorsspatialuserobjectvectorpostprocessorpoint paramvectorpostprocessorsspatialuserobjectvectorpostprocessorpoints_fil provid object attempt get spatial point directli user object point repres locat space user object obtain uniqu valu use featur user object must defin spatialpoint interfac exampl input file syntax list testtestsvectorpostprocessorsspatial_userobject_vector_postprocessorspatial_userobjecti startuserobject endexecution syntax paramet vectorpostprocessorsspatialuserobjectvectorpostprocessor syntax input vectorpostprocessorsspatialuserobjectvectorpostprocessor syntax children vectorpostprocessorsspatialuserobjectvectorpostprocessor variablevaluevolumehistogram syntax descript vectorpostprocessorsvariablevaluevolumehistogram vectorpostprocessor let tabul volum simul domain given variabl certain valu csv output contain two column variabl valu bin upper valu name variabl first row volum variabl hold valu within bin name n first row exampl input syntax syntax paramet vectorpostprocessorsvariablevaluevolumehistogram syntax input vectorpostprocessorsvariablevaluevolumehistogram syntax children vectorpostprocessorsvariablevaluevolumehistogram sidevaluesampl syntax descript vectorpostprocessorssidevaluesampl data output csv output follow column id element quadratur point side belong valu request variabl x z coordin quadratur point side alert note vectorpostprocessor execut intern boundari node share one element quadratur point valu output everi quadratur point exampl input syntax exampl variabl u v solut two boundari valu diffus problem valu along top boundari along center intern sideset report use two sidevaluesampl row csv output sort accord x coordin along boundari former element id latter list testtestsvectorpostprocessorsside_value_samplerside_value_sampleri blockvectorpostprocessor syntax paramet vectorpostprocessorssidevaluesampl syntax input vectorpostprocessorssidevaluesampl syntax children vectorpostprocessorssidevaluesampl materialvectorpostprocessor syntax descript vectorpostprocessorsmaterialvectorpostprocessor materialvectorpostprocessor output csv sort follow first column element id last column quadratur point column materi properti request materialsyntaxmaterialsindexmd row major outer sort element id minor inner sort quadratur point quadratur point sort increas order element id also sort increas order regard user order elem_id paramet alert note scalar variabl float point integervalu support vector postprocessor vectorvalu materi properti current support though addit would difficult would welcom contribut exampl input syntax exampl request materialvectorpostprocessor output three materi properti defin mat materi list testtestsvectorpostprocessorsmaterial_vector_postprocessorbasici blockvectorpostprocessor syntax paramet vectorpostprocessorsmaterialvectorpostprocessor syntax input vectorpostprocessorsmaterialvectorpostprocessor syntax children vectorpostprocessorsmaterialvectorpostprocessor workbal short descript syntax descript vectorpostprocessorsworkbal descript idea comput perprocessor metric help determin qualiti partit current comput number local element node dof partit side partit side side element processor boundari also known edgecut partition lingo also comput surfac area partit physic much processor boundari partit hardwareid workbal also comput number side surfac area partit comput node call hardware_id cluster give amount internod commun use hierarch partition like one avail petscexternalpartitionerpetscexternalpartitionermd help reduc internod commun instanc x mesh partit run node processor processor total use workbal vectorpostprocessorvisualizationauxvectorpostprocessorvisualizationauxmd visual see much internod commun quantifi media mediavectorpostprocessorswork_balance_hardware_idpng stylewidth captionvisu internod commun left parmeti right hierarch parmeti hardware_id_surface_area hierarch hardware_id_surface_area syntax paramet vectorpostprocessorsworkbal syntax input vectorpostprocessorsworkbal syntax children vectorpostprocessorsworkbal bibtex bibliographi cylindricalaverag syntax descript vectorpostprocessorscylindricalaverag descript cylindricalaverag comput averag variabl cylindr shell cylind defin midpoint vector along cylind axi cylindr shell defin maximum radiu number desir shell alert warn averag averag quadratur point specif weight volum associ quadratur point taken account spatialaveragebaseexecut routin modifi purpos syntax paramet vectorpostprocessorscylindricalaverag syntax input vectorpostprocessorscylindricalaverag syntax children vectorpostprocessorscylindricalaverag bibtex bibliographi pointvaluesampl syntax descript vectorpostprocessorspointvaluesampl alert note point valu sampler use discontinu variabl edgefac dd element valu element lowest id return csv output row sampl point contain follow column id element contain sampl point convent mention valu variabl request x z coordin request sampl point exampl input syntax exampl variabl u v sampl three point use pointvaluesampl list testtestsvectorpostprocessorspoint_value_samplerpoint_value_sampleri blockvectorpostprocessor syntax paramet vectorpostprocessorspointvaluesampl syntax input vectorpostprocessorspointvaluesampl syntax children vectorpostprocessorspointvaluesampl elementvariablesdifferencemax syntax descript vectorpostprocessorselementvariablesdifferencemax postprocessor find maximum differ absolut differ paramvectorpostprocessorselementvariablesdifferencemaxfurthest_from_zero paramet set true vector postprocessor output csv follow column order maximum differ two variabl valu variabl locat maximum differ valu variabl b locat maximum differ first x cartesian coordin locat maximum differ second cartesian coordin locat maximum differ third z cartesian coordin locat maximum differ exampl input syntax exampl compar variabl u v use elementvariablesdifferencemax vector postprocessor list testtestsvectorpostprocessorselement_variables_difference_maxelement_variables_difference_maxi blockvectorpostprocessor syntax paramet vectorpostprocessorselementvariablesdifferencemax syntax input vectorpostprocessorselementvariablesdifferencemax syntax children vectorpostprocessorselementvariablesdifferencemax vectorofpostprocessor syntax descript vectorpostprocessorsvectorofpostprocessor vector postprocessor mainli use two purpos output select postprocessor desir csv file similarli csv output csv output vectorofpostprocessor columnord order postprocessor specifi postprocessor paramet combin postprocessor match expect vector postprocessor input kernel user object etc exampl input syntax exampl min max postprocessor combin min_max vectorofpostprocessor list testtestsvectorpostprocessorsvector_of_postprocessorsvector_of_postprocessorsi blockvectorpostprocessor syntax paramet vectorpostprocessorsvectorofpostprocessor syntax input vectorpostprocessorsvectorofpostprocessor syntax children vectorpostprocessorsvectorofpostprocessor linevaluesampl syntax descript vectorpostprocessorslinevaluesampl descript linevaluesampl sampl given variablesauxvari equal space point start end point user provid line segment sampl point valu written csv file everi time step sort order point chang use sort_bi paramet take x z id increas distanc start point input linevaluesampl could also use userobject multiappuserobjecttransfermultiappuserobjecttransfermd transfer valu auxvari master sub applic use linevaluesampl multiappuserobjecttransf error gener one variabl suppli input linevaluesampl transfer current work one variabl also calcul valu userobject linevaluesampl case given point point first project onto user defin line segment interpol valu project point return output project point fall outsid line segment infin return output variabl plot need scale done suppli postprocessor caution use make sure postprocessor evalu way valu lag call linevaluesampl alert note line valu sampler use discontinu variabl edgefac dd element valu element lowest id return syntax paramet vectorpostprocessorslinevaluesampl syntax input vectorpostprocessorslinevaluesampl syntax children vectorpostprocessorslinevaluesampl bibtex bibliographi linefunctionsampl syntax descript vectorpostprocessorslinefunctionsampl output csv default order follow row order point sampl along line column order alphabet order function sampl distanc along sampl line x z coordin sampl point ad output addit column order chang use sort_bi paramet exampl input syntax exampl linefunctionsampl use sampl two function across line function specifi directli function paramet simpl definit term x coordin pars directli function usual specifi function block list testtestsvectorpostprocessorsline_function_samplerline_function_sampleri blockvectorpostprocessor syntax paramet vectorpostprocessorslinefunctionsampl syntax input vectorpostprocessorslinefunctionsampl syntax children vectorpostprocessorslinefunctionsampl csvreader csvreader read csvhttpsenwikipediaorgwikicommaseparated_valu data file convert column vectorpostprocessor vector object use delimitedfilereadermooseutilsmddelimitedfileread util perform read file exampl input syntax list testtestsvectorpostprocessorscsv_readerreadi blockvectorpostprocessor syntax paramet vectorpostprocessorscsvread syntax input vectorpostprocessorscsvread syntax children vectorpostprocessorscsvread leastsquaresfithistori syntax descript vectorpostprocessorsleastsquaresfithistori descript leastsquaresfithistori use perform polynomi least squar fit data provid anoth vectorpostprocessor comput coeffici polynomi arbitrari userspecifi order minim error use standard leastsquar procedurethi object store polynomi coeffici set vector contain full histori valu transient analysi vectorpostprocessor close relat leastsquaresfitleastsquaresfitmd vectorpostprocessor perform type least squar fit store result singl vector histori store polynomi coeffici store set vector name coef_ coef_n n specifi order polynomi vector store full histori coefici time combin compon vector defin polynomi fit time step addit vector name time store valu solut time step transient analysi vector valu independ x depend variabl least squar fit perform provid anoth vectorpostprocessor must provid two equallys vector data upon oper name vectorpostprocesor provid use vectorpostprocessor paramet name data vector provid x_name y_name paramet vector data shift andor scale use option paramet default insuffici number point provid data vector order polynomi truncat one less number point truncate_ord paramet set fals error gener case syntax paramet vectorpostprocessorsleastsquaresfithistori syntax input vectorpostprocessorsleastsquaresfithistori syntax children vectorpostprocessorsleastsquaresfithistori bibtex bibliographi histogramvectorpostprocessor short descript syntax descript vectorpostprocessorshistogramvectorpostprocessor descript use comput histogram column anoth vectorpostprocessor vpp input vpp vpp number bin use histogram num_bin actual gener three column column origin vpp column_nam histogram data column_name_low lower bound bin column_name_upp upper bound bin plot moos come builtin plot capabl help plot output histogramvectorpostprocessor plot capabl part chigger suit visual tool locat moosepython directori use must add full path moosepython directori environ variabl call pythonpath use someth like bash export pythonpathfullpathtomoosepythonpythonpath complet script follow plot data python import matplotlibpyplot plt import mooseutil creat figur axe figur pltfigurefacecolorwhit axe figureadd_subplot read postprocessor data data mooseutilspostprocessorreaderhistogram_vector_postprocessor_out_histo_csv grab upper lower bin bound lower datavalue_low upper datavalue_upp comput midpoint width bin mid lower upper width upper lower grab data plot datavalu plot everyth axesbarmid widthwidth show plot save pltshow figuresavefigoutputpdf syntax paramet vectorpostprocessorshistogramvectorpostprocessor syntax input vectorpostprocessorshistogramvectorpostprocessor syntax children vectorpostprocessorshistogramvectorpostprocessor bibtex bibliographi elementvaluesampl syntax descript vectorpostprocessorselementvaluesampl vectorpostprocessor similar nodalvaluesamplernodalvaluesamplermd use sampl element variabl instead nodal variabl coordin use sampl point centroid associ element syntax paramet vectorpostprocessorselementvaluesampl syntax input vectorpostprocessorselementvaluesampl syntax children vectorpostprocessorselementvaluesampl bibtex bibliographi linematerialrealsampl syntax descript vectorpostprocessorslinematerialrealsampl overview class sampl real materi properti integr point element intersect userdefin line exampl input file syntax syntax paramet vectorpostprocessorslinematerialrealsampl syntax input vectorpostprocessorslinematerialrealsampl syntax children vectorpostprocessorslinematerialrealsampl eigenvalu syntax descript vectorpostprocessorseigenvalu vector postprocessor return real imaginari part eigenvalu comput eigen form two column output csv eigenvalu sort row exampl input syntax input file variabl u solut eigenvalu diffusionreact problem eigenvalu execution use comput eigenvalu system retriev eigenvalu vector postprocessor list testtestsproblemseigen_problemeigensolversnei blockvectorpostprocessor syntax paramet vectorpostprocessorseigenvalu syntax input vectorpostprocessorseigenvalu syntax children vectorpostprocessorseigenvalu sphericalaverag syntax descript vectorpostprocessorssphericalaverag distanc comput bin base locat quadratur point alert warn averag averag quadratur point specif weight volum associ quadratur point taken account spatialaveragebaseexecut routin modifi purpos csv data output consist follow column order column name variabl averag valu averag inner outer radiu shell sphere exampl input syntax exampl averag variabl c comput layer bin sphere radiu around origin default list testtestsvectorpostprocessorsspherical_averagespherical_averagei blockvectorpostprocessor syntax paramet vectorpostprocessorssphericalaverag syntax input vectorpostprocessorssphericalaverag syntax children vectorpostprocessorssphericalaverag vectormemoryusag syntax descript vectorpostprocessorsvectormemoryusag vector postprocessor gener multipl output column one row per mpi rank column name descript hardware_id rank common hardwar id share common ram ie locat comput node total_ram total avail ram comput node respect mpi rank locat physical_mem physic memori current rank use default unit mb virtual_mem virtual memori current rank use amount return strongli depend oper system reflect physic ram use simul default unit mb page_fault number hard page fault encount mpi rank number avail linux system indic amount swap activ indic low perform due insuffici avail ram node_util indic fraction total ram avail comput node occupi moos process current simul postprocessor provid minmaxaverag memori statist see memoryusagememoryusagemd exampl visual vectorpostprocessor visual use vectorpostprocessorvisualizationauxvectorpostprocessorvisualizationauxmd auxkernel div styleclearbothdiv media mediavectorpostprocessorsss_gridpng stylewidthmarginleftpxfloatleft captionrefin grid media mediavectorpostprocessorsss_processor_idpng stylewidthmarginleftpxfloatleft captionprocessor id use processoridauxprocessoridauxmd media mediavectorpostprocessorsss_hardware_idpng stylewidthmarginleftpxfloatleft captionhardwar id ie comput node div styleclearbothdiv media mediavectorpostprocessorsss_physical_mempng stylewidthmarginleftpxfloatleft captionphys memori use rank media mediavectorpostprocessorsss_node_utilizationpng stylewidthmarginleftpxfloatleft captionfract ram use current simul comput node div styleclearbothdiv syntax paramet vectorpostprocessorsvectormemoryusag syntax input vectorpostprocessorsvectormemoryusag syntax children vectorpostprocessorsvectormemoryusag bibtex bibliographi elementsalongplan syntax descript vectorpostprocessorselementsalongplan descript elementsalongplan class vectorpostprocessor output element id everi element intersect plane id provid vector name elem_id user defin plane use combin point plane normal plane plane extend infinit id output class use moos inter number scheme start ad translat equival number format exodu start syntax paramet vectorpostprocessorselementsalongplan syntax input vectorpostprocessorselementsalongplan syntax children vectorpostprocessorselementsalongplan bibtex bibliographi leastsquaresfit syntax descript vectorpostprocessorsleastsquaresfit descript leastsquaresfit use perform polynomi least squar fit data provid anoth vectorpostprocessor comput coeffici polynomi arbitrari userspecifi order minim error use standard leastsquar procedur object provid option either output polynomi coeffici least squar fit singl vector output userdefin number sampl polynomi use fit coeffici vectorpostprocessor close relat leastsquaresfithistoryleastsquaresfithistorymd vectorpostprocessor perform type least squar fit store result set vector store full histori individu coeffici transient analysi vector valu independ x depend variabl least squar fit perform provid anoth vectorpostprocessor must provid two equallys vector data upon oper name vectorpostprocesor provid use vectorpostprocessor paramet name data vector provid x_name y_name paramet vector data shift andor scale use option paramet default insuffici number point provid data vector order polynomi truncat one less number point truncate_ord paramet set fals error gener case user must defin whether output form polynomi coeffici sampl use output paramet option output polynommi coeffici use store vector name coeffici sampl request name sampl vector data specifi x_name y_name syntax paramet vectorpostprocessorsleastsquaresfit syntax input vectorpostprocessorsleastsquaresfit syntax children vectorpostprocessorsleastsquaresfit bibtex bibliographi fvscalarlagrangemultiplierinterfac class inherit creat interfac constraint finit volum lagrang multipli scalar variabl use enforc constraint interfac alert note lagrang multipli contribut diagon residu hurt numer converg linear solver lu subprecondition make sure use nonzero sub_pc_factor_shift_typ alert note kernel_coverage_check paramet problem block set fals lagrang multipli variabl variabl found block interfac fvdiffusioninterfac syntax descript fvinterfacekernelsfvdiffusioninterfac diffus flux obtain two point gradient diffus interpol interfac exampl input file syntax exampl two diffus problem sourc term solv side interfac heat exchang diffus interfac use averag volumetr diffus interfac diffus coeffici list testtestsfviksdiffusiontesti blockfvinterfacekernelsinterfac syntax paramet fvinterfacekernelsfvdiffusioninterfac syntax input fvinterfacekernelsfvdiffusioninterfac syntax children fvinterfacekernelsfvdiffusioninterfac fvonevardiffusioninterfac syntax descript fvinterfacekernelsfvonevardiffusioninterfac class meant use singl variabl eg variabl paramet provid variabl coeff correspond diffus conduct coeffici subdomain side boundari coeff correspond subdomain gradient variabl base greengauss comput gradient adjoin element centroid follow linear interpol face plu nonorthogon correct diffusionconduct coeffici interfac comput use linear interpol coeff coeff valu discret scheme oh accur exampl input file syntax list testtestsfviksonevardiffusiontesti blockfvinterfacekernelsinterfac syntax paramet fvinterfacekernelsfvonevardiffusioninterfac syntax input fvinterfacekernelsfvonevardiffusioninterfac syntax children fvinterfacekernelsfvonevardiffusioninterfac fvtwovarcontinuityconstraint syntax descript fvinterfacekernelsfvtwovarcontinuityconstraint constraint enforc use lagrang multipli variabl alert note lagrang multipli contribut diagon residu hurt numer converg linear solver lu subprecondition make sure use nonzero sub_pc_factor_shift_typ alert note kernel_coverage_check paramet problem block set fals lagrang multipli variabl variabl found block interfac exampl input file syntax exampl solv two diffus problem two adjac subdomain forc continu interfac recov expect solut diffus problem span entir domain list testtestsfvikscontinuitytesti blockfvinterfacekernelsinterfac syntax paramet fvinterfacekernelsfvtwovarcontinuityconstraint syntax input fvinterfacekernelsfvtwovarcontinuityconstraint syntax children fvinterfacekernelsfvtwovarcontinuityconstraint tecplot syntax descript outputstecplot overview tecplot output write variabl data format suitabl use tecplothttpswwwtecplotcom syntax paramet outputstecplot syntax input outputstecplot syntax children outputstecplot gnuplot syntax descript outputsgnuplot overview gnu output write postprocessor scalar variabl data format suitabl use gnuplothttpwwwgnuplotinfo syntax paramet outputsgnuplot syntax input outputsgnuplot syntax children outputsgnuplot gmv syntax descript outputsgmv overview gmv output write variabl inform use format suitabl gener mesh viewerhttpswwwgeneralmeshviewercom syntax paramet outputsgmv syntax input outputsgmv syntax children outputsgmv checkpoint syntax descript outputscheckpoint overview checkpoint output object design perform restart recoveryrestart_recovermd optionaltru simul output file creat contain complet snapshot simul file requir perform restart recoveri oper moosebas applic exampl input syntax simplest method enabl checkpoint file use shortcut syntax see syntaxoutputsindexmd follow write checkpoint file everi timestep keep recent two set file avoid excess data storag text output checkpoint true chang interv number store file paramet checkpoint object requir creat subblock list checkpoint_intervali blockoutput syntax paramet outputscheckpoint syntax input outputscheckpoint syntax children outputscheckpoint xdaxdr syntax descript outputsxda overview xdaxdr output object write solut inform use libmesh xda ascii xdr binari format syntax paramet outputsxda syntax input outputsxda syntax children outputsxda perfgraphoutput syntax descript outputsperfgraphoutput descript perfgraphmd object hold time data moos object control content get print screen detail data easiest way print perfgraph simpli add perf_graph true output block like output perf_graph true caus simpl short print perfgraph detail print youll want creat subblock output like output pgraph type perfgraphoutput execute_on initi final default final level default heaviest_branch true default fals heaviest_sect default control get print achiev set execute_on default set final caus inform print end simul control detail done set level default level print fairli basic perform inform set number higher caus detail come exampl level section self children total app feproblemcomputeuserobject feproblemsolv feproblemcomputeresidualintern feproblemcomputejacobianintern consoleoutputstep feproblemoutputstep perfgraphoutputoutputstep consoleoutputstep csvoutputstep exampl level section self children total app mooseapprun mooseappsetup mooseappruninputfil generatedmeshinit generatedmeshprepar generatedmeshupd generatedmeshcacheinfo feprobleminit generatedmeshmeshchang generatedmeshupd generatedmeshcacheinfo feproblemequationsystemsinit mooseappexecut mooseappexecuteexecution feprobleminitialsetup generatedmeshmeshchang generatedmeshupd generatedmeshcacheinfo feproblemprojectsolut feproblemreinitbecauseofghostingornewgeomobject feproblemupdategeometricsearch feproblemcomputeuserobject feproblemsolv feproblemcomputeresidualsi feproblemcomputeresidualintern feproblemcomputeresidualtag nonlinearsystembasecomputeresidualtag nonlinearsystembasecomputeresidualintern nonlinearsystembasekernel nonlinearsystembasenodalbc feproblemcomputejacobianintern feproblemcomputejacobiantag nonlinearsystembasecomputejacobiantag consoleoutputstep feproblemoutputstep perfgraphoutputoutputstep consoleoutputstep csvoutputstep column self children total repres time spent section section underneath section sum two percentag column follow one percent time left total runtim app level follow current level recommend note app free add code section whatev level wish suggest root whole applic time minim set import routin residualjacobian comput etc import initi routin set mesh initi system etc detail inform level action start print fairli unimport less use routin routin rare take much time heaviest branch output expens heaviest trace code set heaviest_branch true print someth like section self children total app mooseapprun mooseappexecut mooseappexecuteexecution feproblemsolv feproblemcomputeresidualsi feproblemcomputeresidualintern feproblemcomputeresidualtag nonlinearsystembasecomputeresidualtag nonlinearsystembasecomputeresidualintern nonlinearsystembasekernel heaviest section set heaviest_sect posit integ get print section take self time like section self nonlinearsystembasekernel nonlinearsystembasecomputejacobiantag mooseappsetupopt feproblemequationsystemsinit feproblemsolv generatedmeshinit app feproblemprojectsolut generatedmeshcacheinfo actioncreateproblemactionfeproblemact syntax paramet outputsperfgraphoutput syntax input outputsperfgraphoutput syntax children outputsperfgraphoutput bibtex bibliographi reporterdebugoutput syntax descript outputsreporterdebugoutput overview reporterdebugoutput object name suggest design write reporterreportersindexmd inform debug purpos pleas refer debugindexmd inform syntax paramet outputsreporterdebugoutput syntax input outputsreporterdebugoutput syntax children outputsreporterdebugoutput topresidualdebugoutput syntax descript outputstopresidualdebugoutput overview topresidualdebugoutput object name suggest design write residu inform debug purpos pleas refer debugindexmd inform syntax paramet outputstopresidualdebugoutput syntax input outputstopresidualdebugoutput syntax children outputstopresidualdebugoutput xmloutput syntax descript outputsxmloutput overview vectorpostprocessorsindexmd allow vector data gener data tradit output form csv file larg number vector problemat mani reason foremost csv file creat object timestep result larg number output file singl file desir object timestep xml output use vectorpostprocessor object execut distribut mode file creat processor util exampl input file syntax replic data vectorpostprocessor defin execut replic mode default singl xml file creat exampl xmlreplic enabl xml output result singl output file xml_outxml result content file shown snippet list xmli idxmlrepl blockvectorpostprocessor output captionexampl input file snippet vectorpostprocessor data xml output list outputsxmlgoldxml_outxml idxmlreplicatedout captionoutput result execut content xmlreplic notic distribut object creat vector data data popul initi setup data exist time distribut data distribut case actual vector data within vectorpostprocessor object contain portion complet vector processor exampl xmlreplic reexecut three process parallel type chang distribut xml file creat processor file contain portion data associ processor shown three file list outputsxmlgoldxml_distributed_outxml list outputsxmlgoldxml_distributed_outxml list outputsxmlgoldxml_distributed_outxml syntax paramet outputsxmloutput syntax input outputsxmloutput syntax children outputsxmloutput solutionhistori syntax descript outputssolutionhistori load content addclassdescript method overview solutionhistori output simpl output format write nonlinear linear solv histori file syntax paramet outputssolutionhistori syntax input outputssolutionhistori syntax children outputssolutionhistori moos document stub remov line content ad tableoutput controloutput syntax descript outputscontroloutput overview controloutput object enabl show activ paramet control via controlsindexmd output automat enabl commandlin use showcontrol flag syntax paramet outputscontroloutput syntax input outputscontroloutput syntax children outputscontroloutput csv syntax descript outputscsv overview csv output object creat file contain comma separ valu unless disabl see outputssyntaxoutputsindexmd postprocessor scalar variabl written singl file includ time column vector postprocessorssyntaxvectorpostprocessorsindexmd exist within simul addit set file creat one everi vector exist within vectorpostprocessor object timestep syntax paramet outputscsv syntax input outputscsv syntax children outputscsv output output output object purevirtu base class screen filebas output moos develop rare deriv object directli instead one intermedi base class use appropri instead dofmap syntax descript outputsdofmap overview debug simul may necessari investig acdof map dofmap output design provid machin readabl file format investig dof map syntax paramet outputsdofmap syntax input outputsdofmap syntax children outputsdofmap consol consol object moos buffer ostringstream object use screen base output mooseobject deriv class access _consol member screen write output object control variou way output block inform disabl output lower frequenc color color remov multiapp output use moos multiapp system output _consol object automat indent label accord multiapp level make easier identifi output come complex simul syntax paramet outputsconsol syntax input outputsconsol syntax children outputsconsol bibtex bibliographi materialpropertydebugoutput syntax descript outputsmaterialpropertydebugoutput overview materialpropertydebugoutput object name suggest design write materi properti inform debug purpos pleas refer debugindexmd inform syntax paramet outputsmaterialpropertydebugoutput syntax input outputsmaterialpropertydebugoutput syntax children outputsmaterialpropertydebugoutput variableresidualnormsdebugoutput syntax descript outputsvariableresidualnormsdebugoutput overview variableresidualnormsdebugoutput object name suggest design write variabl residu norm debug purpos pleas refer debugindexmd inform syntax paramet outputsvariableresidualnormsdebugoutput syntax input outputsvariableresidualnormsdebugoutput syntax children outputsvariableresidualnormsdebugoutput nemesi syntax descript outputsnemesi overview nemesi output parallel version exodusiiexodusmd format gener use run simul distribut mesh see meshindexmd inform syntax paramet outputsnemesi syntax input outputsnemesi syntax children outputsnemesi outputwarehous fileoutput vtk syntax descript outputsvtk overview vtk output write variabl postprocessor scalar variabl inform use visual toolkithttpsvtkorg format use object libmesh must configur enablevtk option syntax paramet outputsvtk syntax input outputsvtk syntax children outputsvtk xdaxdr syntax descript outputsxda overview xdaxdr output object write solut inform use libmesh xda ascii xdr binari format syntax paramet outputsxda syntax input outputsxda syntax children outputsxda json jsonoutput object exist output valu reportersindexmd acjson format report valu arbitrari type json output support output type correct output helper function exist exampl follow input snippet demonstr default method enabl json output list testtestsoutputsjsonbasicjsoni blockoutput result acjson output gener follow form time inform provid top level report valu nest within list time step list reportersiteration_infogoldlimit_outjson distribut output report valu comput reporter_mode_distribut see reportersindexmd json file process automat creat distribut data total number part part number file includ output to_json function similar fashion dataiomd function use restart recoveryrestart_recovermd optionaltru to_json method must exist type support output acjson file function defin nlohmannjsonhttpsgithubcomnlohmannjson libraryth librari reli upon moos json supportfor purpos exampl follow code snippet show declar definit to_json method mooseapp object list frameworkincludeoutputsjsonioh respcontentn moosedocsto_json list frameworksrcoutputsjsonioc startmoosedocsto_json_start endmoosedocsto_json_end includestartfals syntax paramet outputsjson syntax input outputsjson syntax children outputsjson exodu syntax descript outputsexodu overview exodu output object prefer way write simul result creat exodusii format file easili read peacock paraview visit postprocess applic exodusii mani benefit format binari format base netcdf file compact also store multipl timestep worth inform within one file reduc output file clutter storag simul result mesh chang adapt movement output displac mesh new file need written time exodu output simpli set exodu true output block control add subblock output set type exodu give full access paramet describ advanc paramet output_dimens output_dimens paramet allow overrid default select dimension output normal need moos usual figur dimension special case might want set option particular run simul gener displac field need use output_dimens forc dimens peacock paraview properli render displac syntax paramet outputsexodu syntax input outputsexodu syntax children outputsexodu pngoutput output pngoutput object class write png file input file follow exampl differ input variabl use output png type pngoutput transpar true indic whether background transpar resolut number pixel longest direct color rwb indic color scheme use requir variabl u select variabl use creat imag max max valu var_nam need scale min min valu var_nam need scale out_bounds_shad valu indic shade use background transpar valu transparentopaqu imag moos document stub remov content ad inputfileformatt alert construct titleundocu class inputfileformatt document moos document stub remov content ad sondefinitionformatt alert construct titleundocu class sondefinitionformatt document moos document stub remov content ad jsoninputfileformatt alert construct titleundocu class jsoninputfileformatt document moos document stub remov content ad yamlformatt alert construct titleundocu class yamlformatt document moos document stub remov content ad exodusformatt alert construct titleundocu class exodusformatt document hierarchicalgridpartition syntax descript meshpartitionerhierarchicalgridpartition descript hierarchicalgridpartition twolevel partition similar gridpartitionermd idea use coars grid number comput node node cluster go use first partit domain use finergrain grid within partit partit processor within comput node type scheme minim offnod commun minim network commun larg simul exampl exampl best way explain what go mesh hier_mesh mesh want partit x element total go run cluster go use comput nodeseach processor processor total shown hier_grid util gridpartitionermd get decent partit mesh specifi partit grid x problem partitionin quit bit offprocessor commun consid what second node third fourth row bottom total x element face offprocessor neighbor everyth two row case isnt even bad use even processor say node would long strip partit partit would commun fix use hierarchicalgridpartition use syntax shown hier_syntax tell go x arrang node x arrang processor node get hier_pid show processor assign node element face offprocessor neighbor even better number partit offprocessor commun four interior one middl node even small exampl weve cut offprocessor commun half use better partit much larger run larger number processor per comput node say even well see soon make even bigger differ list hierarchical_grid_partitioneri startmesh endvari idhier_syntax media mediahier_meshpng stylewidthfloatleft idhier_mesh captionorigin x mesh media mediahier_gridpng stylewidthfloatleft idhier_grid captionpartit use gridpartitionergridpartitionermd media mediahier_pidpng stylewidthfloatleft idhier_pid captionpartit use hierarchicalgridpartition syntax paramet meshpartitionerhierarchicalgridpartition syntax input meshpartitionerhierarchicalgridpartition syntax children meshpartitionerhierarchicalgridpartition bibtex bibliographi gridpartition syntax descript meshpartitionergridpartition descript partit mesh creat grid xyz assign element mesh separ cell within grid use simpl cartesian mesh want specifi partit fairli directli sometim human best partition exampl x grid partit use processor media mediapartitionergrid_partitioner_examplepng stylewidth captionx gridpartition exampl alert warn number cell nxnynz must equal number mpi process your attempt use work gridpartition work creat generatedmeshmd grid that reason object take similar input file paramet generatedmeshmd generatedmesh creat gridpartition guarante contain origin domain within assign processor id centroid element mesh partit search generatedmesh id element generatedmesh lie within assign processor_id syntax paramet meshpartitionergridpartition syntax input meshpartitionergridpartition syntax children meshpartitionergridpartition bibtex bibliographi randompartition syntax descript meshpartitionerrandompartition descript partit mesh randomli use want show import good partition show result bad partition work element randompartition scale random number number processor partit assign processor id element valu syntax paramet meshpartitionerrandompartition syntax input meshpartitionerrandompartition syntax children meshpartitionerrandompartition bibtex bibliographi libmeshpartition alert construct titleundocu class libmeshpartition document content list use start point document class includ typic automat document associ mooseobject howev contain ultim determin necessari make document clear user markdown libmeshpartition syntax descript meshpartitionerlibmeshpartition overview replac line inform regard libmeshpartition object exampl input file syntax describ includ exampl use libmeshpartition object syntax paramet meshpartitionerlibmeshpartition syntax input meshpartitionerlibmeshpartition syntax children meshpartitionerlibmeshpartition alertend syntax descript meshpartitionerlibmeshpartition syntax paramet meshpartitionerlibmeshpartition syntax input meshpartitionerlibmeshpartition syntax children meshpartitionerlibmeshpartition petscexternalpartition allow user use sever extern partit packag parmeti chaco ptscotch parti via petsc parmetishttpglarosdtcumnedugkhomemetisparmetisoverview parmeti mpibas parallel graph partition implement mainli multilevel kway algorithm basic idea multilevel kway algorithm coarsen graph firstli partit coarsen graph refin partit solv multiconstraint optim problem ptscotchhttpswwwlabrifrpersopelegrinscotch ptscotch softwar packag comput parallel static map parallel spars matrix block order graph implement graph bipartit method includ band diffus multilevel method chacohttpswwwcsstonybrookedualgorithimplementchacoimplementshtml chaco contain wide varieti algorithm option algorithm exploit geometri mesh other local connect global structur captur eigenvector relat matrix partyhttpscranrprojectorgwebpackagespartyvignettespartypdf parti packag aim provid recurs partit laboratori assembl variou high lowlevel tool build treebas regress classif model use packag access via unifi interfac moos petscexternalpartition use packag accomplish ad subblock mesh block input file exampl mesh type generatedmesh dim nx ny partition need use petscexternalpartition gain access extern packag type petscexternalpartition specifi packag want use could choos one chaco parti ptscotch parmeti part_packag parmeti parallel_typ distribut note order use chaco parti ptscotch need upgrad petsc petsc higher addit option downloadchaco downloadparti downloadptscotch encourag regular user upgrad petsc offici upgrad petsc soon carri packag partit exampl subdomain row col small medium larg media party_partspng captionparti colend col small medium larg media chaco_partspng captionchaco colend col small medium larg media parmetis_partspng captionparmeti colend col small medium larg media ptscotch_partspng captionptscotch colend rowend subdomain row col small medium larg media party_partspng captionparti colend col small medium larg media chaco_partspng captionchaco colend col small medium larg media parmetis_partspng captionparmeti colend col small medium larg media ptscotch_partspng captionptscotch colend rowend blockweightedpartition syntax descript meshpartitionerblockweightedpartition overview multiphys environ mesh block variabl work load other parallel work spread base partition assign equal number element processor caus imbalanc simul blockweightedpartition allow user specifi differ weight differ block eg low weight light block high weight heavi block weight proport rel number dof per element mesh block weight need prenorm particular number small number better larg number eg vs better vs usag list block_weighted_partitioneri blockmesh exampl row col small medium larg media weightedpartitionerpng captionweight partit subdomain colend col small medium larg media noweightedpartitionerpng captionregular partit subdomain colend rowend syntax paramet meshpartitionerblockweightedpartition syntax input meshpartitionerblockweightedpartition syntax children meshpartitionerblockweightedpartition singlerankpartition syntax descript meshpartitionersinglerankpartition descript partit element given parammeshpartitionersinglerankpartitionerrank use restrict applic run one processor syntax paramet meshpartitionersinglerankpartition syntax input meshpartitionersinglerankpartition syntax children meshpartitionersinglerankpartition bibtex bibliographi nonlineareigen syntax descript executionernonlineareigen overview eigenvalu execution one intend solv eigenvalu problem describ equat ax frackbx b linear nonlinear oper repres kernel differenti b kernel kernel must deriv b kernel eigenkernel current interest absolut minimum eigenvalu frack correspond eigenvector x system also seek solut gener nonlinear eigenvalu problem oper nonlinear depend eigenvalu nonlinear newton method section see eigenvalu problem view nonlinear problem equat beginalign ax frackbx k bx endalign use newton method solv howev make solv converg need fairli close initi guess fundament mode achiev sever free power iter newton iter k part solut vector instead appli elimin techniqu view equat equat ax fracbxbx use pjfnk precondit jacobianfre newton krylov method solv nonlinear problem precondit matrix affect linear converg newton iter converg issu suggest use afracbbx gradual reduc complex precondit matrix syntax paramet executionernonlineareigen syntax input executionernonlineareigen syntax children executionernonlineareigen inversepowermethod syntax descript executionerinversepowermethod overview eigenvalu execution one intend solv eigenvalu problem describ equat ax frackbx b linear nonlinear oper repres kernel differenti b kernel kernel must deriv b kernel eigenkernel current interest absolut minimum eigenvalu frack correspond eigenvector x system also seek solut gener nonlinear eigenvalu problem oper nonlinear depend eigenvalu invers power method algorithm initi equat beginalign k k_ x x_ endalign updat x k equat beginalign xn frackn abxn kn kn fracbxnbxn endalign check converg equat fracxnxnxn tol_x equat fracknknkn tol_k either true return step otherwis exit notic immedi fracbxk remain constant iter make fracbxk equal algorithm simplifi littl initi equat beginalign k k_ x k_ fracx_bx_ endalign updat x k equat beginalign xn frackn abxn kn bxn endalign check converg equat fracxnxnxn tol_x equat fracknknkn tol_k either true return step otherwis exit also simplifi algorithm solut automat normal make bxk postprocess normal solut xc norm c scalar constant minimum eigenvalu second smallest eigenvalu close ie domin ratio equal one invers power iter converg slowli case appli acceler chebyshev acceler base onthefli estim domin ratio invers power method appeal appli matrixfre scheme evalu ax frackbx use pjfnk invert exactli assembl matrix precondit purpos syntax paramet executionerinversepowermethod syntax input executionerinversepowermethod syntax children executionerinversepowermethod eigenvalu syntax descript executionereigenvalu syntax paramet executionereigenvalu syntax input executionereigenvalu syntax children executionereigenvalu feproblemsolvemd feproblemsolv class two main role handl varieti paramet linear nonlinear solv encapsul solv function call nonlinear multigrid refin steadi syntax descript executionersteadi overview steadi gener solver discret steadyst nonlinear linear problem equat ideqproblem mathbfrmathbfu mathbf default linesearch newton petsc use pjfnk precondit jacobianfre newton krylov method newton iter execution solv equat ideqlinearsolv mathbfjmathbfui delta mathbfui mathbfrmathbfui equat mathbfjmathbfui equiv mathbfrmathbfumathbfui jacobian matrix evalu mathbfui jacobian matrix depend mathbfui gener nonlinear problem constant linear problem right hand side also typic refer residu mathbfui eqproblem krylov method employ solv linear equat requir evalu matrixvector product mathbfjmathbfui mathbfi within moos framework jacobianfre newton krylov method use approxim matrix vector product finitediffer like approxim equat ideqmffd mathbfjmathbfui mathbfi approx fracmathbfrmathbfui epsilon mathbfi mathbfrmathbfuiepsilon scalar valu epsilon chosen petsc automat approxim mathbfjmathbfui mathbfi accur linear solv note linear problem mathbfrmathbfu express mathbfa mathbfumathbfb matrix mathbfa jacobian independ mathbfu mathbfb righthandsid vector right hand side eqmffd independ epsilon section petsc user manual matrixfre method detail algorithm choos valu epsilon actual petsc option mat_mffd_err control epsilon snes_mf_err unless set snes_mf_vers default could chang futur petsc updat krylov method typic also requir approxim actual jacobian mathbfmmathbfui approx mathbfjmathbfui precondit krylov solut linear iter note precondit matrix seldom exact jacobian mathbfj would requir much comput time memori comput case simpli imposs comput default type krylov method use gmre assumpt underli jacobian initi guess linear solv alway set zero impli initi linear residu nonlinear residu residu norm linear iter evalu petsc instanc updat hessenberg matrix gmre method use conclus nonlinear iter solut updat follow equat ideqnonlinearupd mathbfui mathbfui alpha delta mathbfui alpha determin linesearch algorithm see nonlinear newton iter need updat precondit matrix evalu residu updat solut linear iter simpli need residu evalu oper precondition built precondit matrix petsc precondition type refer method obtain approxim invers mathbfm mean comput element mathbfm note default precondition type depend number processor also depend assembl precondit matrix mathbfm typic incomplet lu pcilu default type one processor block jacobi pcbjacobi type multipl processor consequ see converg differ number processor note two approxim play jacobian mathbfj approxim matrix mathbfm easier comput matrix mathbfm invert approxim precondit matrix mathbfm view petsc option ksp_view_pmat solv type gener method nonlinear system solv control paramexecutionersteadysolve_typ paramet descript option pjfnk default solv type make execution perform jacobianfre linear solv newton iter precondition built precondit matrix mathbfm default precondit matrix blockdiagon block correspond singl moos variabl without custom precondit refer preconditioningpreconditioningindexmd offdiagon jacobian term ignor essenti activ matrixfre jacobianvector product precondit matrix jfnk mean precondit krylov solv jacobian assembl essenti activ matrixfre jacobianvector product precondit matrix linear use petsc control paramet ksp_onli set type sne solv linear system note work exact jacobian activ matrixfre calcul newton mean petsc use jacobian provid kernel typic exact krylov solv jacobian exact newton updat eqnonlinearupd reduc residu effect typic result unconverg newton iter fd mean jacobian assembl via finit differenc method costli use test purpos precondit krylov method need precondit effici even effect even though jacobian never form jfnk method still requir precondit moos automat without user intervent precondit fairli minim mani option exist implement improv precondit moos precondit jfnk use right precondit solv equat boldsymbolrboldsymbolui boldsymbolm boldsymbolm delta boldsymbolui boldsymbolrboldsymbolui boldsymbolm symbol repres precondit matrix process insid gmre appli action boldsymbolm vector right precondit matrix free version equat boldsymbolr boldsymbolu boldsymbolmboldsymbolv approx fracboldsymbolrboldsymbolu epsilon boldsymbolmboldsymbolv boldsymbolrboldsymboluepsilon petsc option petsc paramet either set command line use paramexecutionersteadypetsc_opt paramexecutionersteadypetsc_options_inam paramexecutionersteadypetsc_options_valu paramet sever petsc paramet user could frequent use list tabl captioncommon standalon petsc option petsc_opt descript snes_ksp_ew variabl linear solv toler use transient solv help show petsc option solv tabl captioncommon petsc option valu petsc_options_inam petsc_options_valu descript pc_type ilu default serial bjacobi default parallel sub_pc_typ ilu asm addit schwartz sub_pc_typ ilu lu full lu serial gamg petsc geometr amg precondition hypr hypr usual use boomeramg sub_pc_typ ilu lu hypr use bjacobi asm pc_hypre_typ boomeramg algebra multigrid pc_hypre_boomeramg cont inform threshold amg process _strong_threshold auto set ksp_gmres_restart number krylov vector store syntax paramet executionersteadi syntax input executionersteadi syntax children executionersteadi execution execution control execut behavior simul moos includ sever execution simul use transientmd execution simul base pde time depend chang time grid sequenc grid sequenc method particularli suit nonlinear problem seek creat initi guess significantli close solut newton method start quickli enter quadrat basin converg initi guess gener solv finit element problem one seri coars grid prolong coars grid solut form initi guess final fine grid grid sequenc conduct simpli specifi num_grid n n desir number grid perform nonlinear solv particular num_grid would one coars grid solv fine grid solv fine grid one level uniform refin rel coars grid note order use grid sequenc initi mesh correspond coarsest level mesh desir adapt libmesh incap coarsen mesh beyond initi provid user attribut report execution shortcut method use add attribut report mechan simul execution accomplish ad special postprocessormd simul report potenti chang scalar valu time transient syntax descript executionertransi normal usag transient execution primari workhors execution moos simul use basic transient execution allow simul step multipl step _time_ one nonlinear solv per timestep time type execut util one timederivativetimederivativemd kernel variabl solv time evolut primari paramet import paramet transient beyond steadysteadymd alreadi provid paramexecutionertransientdt initi timestep size paramexecutionertransientnum_step number step paramexecutionertransientend_tim finish time simul paramexecutionertransientschem timeintegr use see default implicitbackward euler see full list paramet class timeintegr import note transient simul gener use timeintegratortimeintegratorindexmd mention scheme paramet shortcut syntax select timeintegr howev also whole timeintegratortimeintegratorindexmd system creat specifi detail paramet time integr timestepp similarli choic move time choic timestep size import well default timesteppertimestepperindexmd constantdtconstantdtm mani choic made use timesteppertimestepperindexmd system load step transient also use simul dont necessarili need _time_ context transient calcul simpli thought seri nonlinear solv time paramet move forward mean one good exampl load step solid mechan calcul thing desir final steadi state solut get extrem difficult might employ load step slowli ramp boundari condit easili solv initi state initi condit final configur case would use time paramet control much forc appli instanc use functiondirichletbcfunctiondirichletbcmd case dont use timederivativetimederivativemd kernel transient behavior come chang condit base time time mean identifi gener like step time defin function time end_step full load appli quasitransi similarli load step use transient quasitransi calcul variabl evolv time deriv other solv steadi state step classic exampl coupl thermomechan normal heat flow move much slowli solid mechan therefor classic normal time deriv heat conduct equat none solid mechan timestep solidmechan solv full steadi state base current configur heat idea work perfectli moos transient simpli appli timederivativetimederivativemd kernel equat want leav other solv steadi state anoth usecas use transient solv steadi state case builtin paramet help detect steadi state stop solv reach see steadi state detect paramet section import know must turn _on_ steadi state detect use steady_state_detect true two paramet anyth paramet steady_state_toler correspond tau follow steadyst converg criteria beginequ fracun undelta tau un endequ syntax paramet executionertransi syntax input executionertransi syntax children executionertransi backup backup object simpli struct hold binari blob checkpoint data object contain stream hold global simul state data along separ vector hold individu thread state thread simul backup object part larger restartrecoveryrestart_recovermd optionaltru system moos backup object contain serial data moos dataloaddatastor routin found dataiohdataioh dataio dataiohc file contain declar definit moos templat dataloaddatastor method method scatter around framework modul user applic use store state inform recalcul restor oper method enabl moos checkpoint restart oper enabl sever key capabl moos framework includ checkpoint abil termin applic restart left use batch cluster system picard iter abil converg tighti coupl multiapp simul restart abil save state data restartrestart_recovermd optionaltru type simul use checkpoint format state data state data valu contain valu complex data structur cannont recomput avail inform coupl valu field variabl addit data directli own object coupl exampl consid defin dataloaddatastor routin object produc valu base old valu coupl variabl object contain state data simpl calcul base piec inform own object action necessari object restart object data structur consist vector pair id real number comput materi properti object contain state data action necessari object restart object simpl boolean use indic whether calcul quantiti set run routin object contain state inform sinc state valu depend intern logic object scenario need ask moos store boolean restartabledata see declarerestartabledata object contain datastructur custom type produc intern retriev exist valu coars simul state data may need defin dataload datastor function object see declarerestartabledata datastore_dataload declarerestartabledata iddeclarerestartabledata declarerestartabledata method use tell moos would like save part object backupbackupmd object method templat declar list frameworkincluderestartrestartableh rennndeclarerestartabledatan method templat moos return refer type request manag data storag builtin type combin contain builtin type need done type contain type custom defin dataload datastor routin tell moos serial new type datastoredataload routin iddatastore_dataload object request restart piec data contain custom type datastor dataload need defin function describ serial custom type declar two method may need special applic take form similar list frameworkincluderestartdataioh renglob load declarationsnn list frameworkincluderestartdataioh renglob store declarationsnn exampl typic serial routin defin term serial individu field custom type exampl class foo contain plain old data type youd defin load store term interm combin pod type order languagec class foo int bar stdstring baz stdvectorunsign int qux definit templat void datastorestdostream stream foo foo void context defin term simpl type moos alreadi know store storehelperstream foobar context storehelperstream foobaz context storehelperstream fooqux context templat void dataloadstdistream stream foo foo void context defin term simpl type moos alreadi know read note order call match datastor routin sinc type read stream loadhelperstream foobar context loadhelperstream foobaz context loadhelperstream fooqux context restart restart object special interfac object contain routin use develop declar custom data structur restart see dataiodataiomd restartrecoveryrestart_recovermd optionaltru page inform valuejumpind syntax descript adaptivityindicatorsvaluejumpind descript valuejumpind error indic appropri use discontinu finit element discret similar gradientjumpind estim error given element integr jump chosen variabl valu across boundari face neighbor syntax paramet adaptivityindicatorsvaluejumpind syntax input adaptivityindicatorsvaluejumpind syntax children adaptivityindicatorsvaluejumpind gradientjumpind syntax descript adaptivityindicatorsgradientjumpind descript gradientjumpind object comput error comput chang gradient variabl across element interfac exampl input file syntax follow code snippet demonstr use gradientjumpind object within typic input file list gradient_jump_indicator_testi blockadapt syntax paramet adaptivityindicatorsgradientjumpind syntax input adaptivityindicatorsgradientjumpind syntax children adaptivityindicatorsgradientjumpind laplacianjumpind syntax descript adaptivityindicatorslaplacianjumpind descript laplacianjumpind object comput error comput chang laplacian variabl across element interfac alert warn titlelaplacianjumpind requir second deriv laplacian nabla u nablacdotnabla u oper requir second derivati respect spacial dimens select finit element must least second order calcul valid exampl input file syntax follow code snippet demonstr use laplacianjumpind object within typic input file list biharmonici blockadapt syntax paramet adaptivityindicatorslaplacianjumpind syntax input adaptivityindicatorslaplacianjumpind syntax children adaptivityindicatorslaplacianjumpind analyticalind syntax descript adaptivityindicatorsanalyticalind descript analyticalind object comput differ solut variabl known function name suggest design comput analyt error practic indic use debug verif applic exampl input file syntax follow exampl demonstr creation analyticalind object within input file use mooseparsedfunctionmd object comput known solut list analytical_indicator_testi blockfunct adapt syntax paramet adaptivityindicatorsanalyticalind syntax input adaptivityindicatorsanalyticalind syntax children adaptivityindicatorsanalyticalind iterationinfo report object track iter inform number linear nonlinear iter paramreportersiterationinfoitem paramet control item comput exampl input syntax follow input file snippet demonstr use iterationinfo object list iteration_infoiteration_infoi blockreportersiteration_info syntax paramet reportersiterationinfo syntax input reportersiterationinfo syntax children reportersiterationinfo accumulatereport syntax descript reportersaccumulatereport overview accumulatereport give abil accumul report valu time assign vector report valu current support report valu type int real cover postprocessorsindexmd stdstring stdvectorint stdvectorr cover vectorpostprocessorsindexmd stdvectorstdstr type need support easili ad ad line statement accumulatereporterinitialsetup list frameworksrcreportersaccumulatereporterc revoidnaccumulatereporterinitialsetup syntax paramet reportersaccumulatereport syntax input reportersaccumulatereport syntax children reportersaccumulatereport meshinfo report object track mesh inform number element node degreesoffreedom paramreportersmeshinfoitem paramet control item comput exampl input syntax follow input file snippet demonstr use meshinfo object list mesh_infomesh_infoi blockreportersmesh_info syntax paramet reportersmeshinfo syntax input reportersmeshinfo syntax children reportersmeshinfo constantreport syntax descript reportersconstantreport overview constantreport give abil produc integ real number string report data along vector type user must specifi follow paramet type int paramreportersconstantreporterinteger_nam paramreportersconstantreporterinteger_valu real paramreportersconstantreporterreal_nam paramreportersconstantreporterreal_valu stdstring paramreportersconstantreporterstring_nam paramreportersconstantreporterstring_valu stdvectorint paramreportersconstantreporterinteger_vector_nam paramreportersconstantreporterinteger_vector_valu stdvectorr paramreportersconstantreporterreal_vector_nam paramreportersconstantreporterreal_vector_valu stdvectorstdstr paramreportersconstantreporterstring_vector_nam paramreportersconstantreporterstring_vector_valu user may specifi one valu type creat multipl report valu type exampl input file syntax list constant_reporterconstant_reporteri blockconst indent headerreport footer syntax paramet reportersconstantreport syntax input reportersconstantreport syntax children reportersconstantreport perfgraphreport descript perfgraphmd hold time memori usag data moos applic report store full perform graph perfgraphmd report valu graph first entri valu graph root node key name root node node graph contain follow entri level level defin section gener node see perfgraphmdlogginglevel memori amount memori megabyt alloc dealloc within node includ children num_cal number time node call time amount time spent second within node includ children remain entri repres key valu pair children said node applic run multipl process graph individu process report perfgraphreporterreaderperfgraphreporterreadermd optionaltru python util use rebuild travers graph built report syntax paramet reportersperfgraphreport syntax input reportersperfgraphreport syntax children reportersperfgraphreport meshcollectiongener syntax descript meshmeshcollectiongener overview meshcollectiongener creat new mesh collect submesh provid input paramet submesh link way interact occur due contact constraint syntax paramet meshmeshcollectiongener syntax input meshmeshcollectiongener syntax children meshmeshcollectiongener lowerdblockfromsidesetgener syntax descript meshlowerdblockfromsidesetgener overview mesh gener accept list sideset creat lower dimension block element along side order newli creat lower dimension element block match order parent element eg first order first order parent second order second order parent syntax paramet meshlowerdblockfromsidesetgener syntax input meshlowerdblockfromsidesetgener syntax children meshlowerdblockfromsidesetgener orientedsubdomainboundingboxgener syntax descript meshorientedsubdomainboundingboxgener overview exampl syntax list testtestsmeshgeneratorssubdomain_bounding_box_generatororiented_subdomain_bounding_box_generatori blockmesh syntax paramet meshorientedsubdomainboundingboxgener syntax input meshorientedsubdomainboundingboxgener syntax children meshorientedsubdomainboundingboxgener combinergener syntax descript meshcombinergener overview combinergener allow user combin output multipl meshgener singl mesh somewhat similar stitchedmeshmd differ combinergener make attempt heal join mesh like stitchedmeshmd combinergener suit creation disjoint mesh individu piec directli tie togeth usag three main way use combinergener combin multipl meshgener straightforward thing simpli combin output multipl meshgener togeth singl mesh exampl list testtestsmeshgeneratorscombiner_generatorcombiner_multi_inputi blockmesh gener mesh look like media mediameshgeneratorscombiner_multipng stylewidth combin multipl meshgener translat also possibl translat move input meshgener combin done use posit option take triplet float point number interpret displac vector move input mesh alert note specifi posit number posit must match number input unless one input specifi moment list testtestsmeshgeneratorscombiner_generatorcombiner_multi_input_translatei blockmesh gener mesh look like media mediameshgeneratorscombiner_multi_translatepng stylewidth altern displac vector suppli file positions_fil option mesh equival gener follow list moosetesttestsmeshgeneratorscombiner_generatorcombiner_multi_input_translate_from_filei blockmesh positionstxt file contain float point triplet list moosetesttestsmeshgeneratorscombiner_generatorpositionstxt restrict posit also appli number entri position_fil copi singl input multipl time translat final option provid exactli one input specifi multipl posit caus singl input copi multipl time posit copi specifi posit paramet exampl list testtestsmeshgeneratorscombiner_generatorcombiner_generatori blockmesh gener mesh look like media mediameshgeneratorscombinerpng stylewidth capabl achiev positions_fil option syntax paramet meshcombinergener syntax input meshcombinergener syntax children meshcombinergener boundarydeletiongener syntax descript meshboundarydeletiongener syntax paramet meshboundarydeletiongener syntax input meshboundarydeletiongener syntax children meshboundarydeletiongener renameblockgener syntax descript meshrenameblockgener renam set block name use renameblockgener chang block name result independ order follow chang name block meaningless insid set name block outsid renam type renameblockgener input some_mesh old_block meaningless new_block insid outsid merg block renameblockgener use merg block togeth result independ order parammeshrenameblockgeneratornew_block contain block id parammeshrenameblockgeneratornew_block contain block name result necessarili independ order follow result merg element block block merg type renameblockgener input some_mesh old_block new_block discuss previous provid name parammeshrenameblockgeneratornew_block result may orderingdepend name provid parammeshrenameblockgeneratornew_block alreadi exist mesh take id first renam take follow exampl assum block some_block exist yet mergenam type renameblockgener input some_mesh old_block new_block some_block some_block mergenam type renameblockgener input some_mesh old_block new_block some_block some_block result block name some_block contain element block howev block some_block take id first renam execut id some_block case gener mergenam case gener mergenam case provid parammeshrenameblockgeneratornew_block id follow exampl assum block exist yet result mergeblock type renameblockgener input some_mesh old_block new_block mergeblock type renameblockgener input some_mesh old_block new_block block creat id contain element previous block summari possibl orderingdepend result renameblockgener depend whether name provid parammeshrenameblockgeneratornew_block said name exist yet syntax paramet meshrenameblockgener syntax input meshrenameblockgener syntax children meshrenameblockgener breakboundaryonsubdomaingener syntax descript meshbreakboundaryonsubdomaingener syntax paramet meshbreakboundaryonsubdomaingener syntax input meshbreakboundaryonsubdomaingener syntax children meshbreakboundaryonsubdomaingener concentriccirclemeshgener syntax descript meshconcentriccirclemeshgener overview concentriccirclemeshgener object gener mesh concentr circl user refin mesh provid high number ring specifi concentr circl region high number sector quadrant test concentric_circle_mesh_generatoritesttestsmeshgeneratorsconcentric_circle_mesh_generatorconcentric_circle_mesh_generatori explain use concentriccirclemeshgener object execut test gener mesh bash projectsmoosetestmoose_testopt concentric_circle_mesh_generatori meshonli execut test engin mathemat physic solver bash projectsmoosetestmoose_testopt concentric_circle_meshi alert note awar concentriccirclemeshgener work replicatedmesh type inform concentriccirclemeshgener work creat first quadrant call top_right mooseenum call portion control portion mesh would gener onefourth portion circl gener rotat top_right portion half portion gener stitch two differ onefourth portion depend user prefer user must provid input paramet number azimuth sector quadrant list radii specif locat radii concentr circl list ring number ring concentr circl inner mesh fraction ratio length inner squar radiu innermost circl mesh volum concentr circl preserv onoff iter number number iter laplac smooth user choos mesh enclos squar ad concentr circl mesh portion specifi howev requir default set gener full concentr circl develop inform one need enhanc concentriccirclemeshgener laplac smooth constrain center circl effici algorithm ad node element includ connect may need found concentriccirclemeshgeneratorc exampl syntax list testtestsmeshgeneratorsconcentric_circle_mesh_generatorconcentric_circle_mesh_generatori blockmesh syntax paramet meshconcentriccirclemeshgener syntax input meshconcentriccirclemeshgener syntax children meshconcentriccirclemeshgener filemeshgener syntax descript meshfilemeshgener support file format filemeshgener default type moos name suggest read mesh extern file moos support read write larg number format could extend read extens descript e exd sandia exodusii format dat tecplot ascii file fro acdl surfac triangul file gmv lanl gmv gener mesh viewer format mat matlab triangular ascii file read msh gmsh ascii file n nem sandia nemesi format plt tecplot binari file write node ele poli tetgen ascii file read write inp abaqu inp format read ucd avss ascii ucd format unv idea univers format xda xdr libmesh format vtk pvtu visual toolkit cpr checkpoint file read mesh file sandia exodusii format user use paramet exodus_extra_element_integ load element variabl set extra element integ mesh name extra element integ name element variabl mesh file gener also use restart variabl exodu file format order indic mesh file use restart variabl simpli set paramet use_for_exodus_restart true initial_from_file_var paramet must also set variabl subblock describ moosevariablebasemdrestart order perform variabl restart filemeshgener document syntax paramet meshfilemeshgener syntax input meshfilemeshgener syntax children meshfilemeshgener subdomainidgener syntax descript meshsubdomainidgener syntax paramet meshsubdomainidgener syntax input meshsubdomainidgener syntax children meshsubdomainidgener sidesetsfrompointsgener syntax descript meshsidesetsfrompointsgener similar sidesetfromnormalsgeneratorsidesetsfromnormalsgeneratormd may easier use user know extern coordin mesh without know normal vector around point multipl point provid defin multipl sideset syntax paramet meshsidesetsfrompointsgener syntax input meshsidesetsfrompointsgener syntax children meshsidesetsfrompointsgener planedeletiongener syntax descript meshplanedeletiongener overview allow delet element lie one side plane plane specifi via point vector normal plane element whose centroid lie direct normal vector plane remov mesh option new_boundari paramet also specifi make newlycr freesurfac boundari id exampl mesh gener type generatedmeshgener dim nx ny nz delet type planedeletiongener point normal input gener new_boundari media mediameshgeneratorsplane_deletion_beforepng captionth origin mesh stylewidthpaddingpx media mediameshgeneratorsplane_deletion_afterpng captionwith element remov show new boundari stylewidthpaddingpx syntax paramet meshplanedeletiongener syntax input meshplanedeletiongener syntax children meshplanedeletiongener parsedgeneratesideset syntax descript meshparsedgeneratesideset syntax paramet meshparsedgeneratesideset syntax input meshparsedgeneratesideset syntax children meshparsedgeneratesideset annularmeshgener syntax descript meshannularmeshgener overview meshgener object creat mesh annular shape quad element distribut sever ring user choos inner outer radii well number element radial angular direct also possibl creat discshap mesh class user choos valu inner radiu creat mesh compos tri element center disc quad everywher els dmin neq dmax neq creat fraction annulu disc descript annularmesh mesh gener build simpl annular disc mesh creat draw radial line concentr circl mesh consist quadrilater thu form therefor sophist pave use construct mesh inner radiu outer radiu must specifi inner radiu zero disc mesh creat posit annulu creat annulu one subdomain block number wherea disc two subdomain subdomain zero consist outer quadrilater block number consist triangular element eman origin minimum maximum angl may also specifi default zero respect valu chosen sector annulu sector disc creat angl measur anticlockwis xx axi number element radial direct angular direct may specifi default mesh space uniform radial direct follow option avail control radial mesh growth factor control element size radial direct may specifi case radial element size innermost ring multipli factor concentr ring element move inner outer radiu growth factor posit element radial dimens increas increas radial posit growth factor neg element radial dimens decreas increas radial posit list valu defin radial posit ring interior node specifi allow direct control element size everi one concentr ring case number radial element specifi infer length list sideset also creat sideset call rmin set side minimum radiu zero disc sideset call rmax set side maximum radiu sideset call dmin set side minimum angl creat case sector annulu disc sideset call dmax set side maximum angl creat case sector annulu disc syntax paramet meshannularmeshgener syntax input meshannularmeshgener syntax children meshannularmeshgener renameboundarygener syntax descript meshrenameboundarygener renam set boundari name use renameboundarygener chang boundari name result independ order follow chang name boundari meaningless interior name boundari exterior renam type renameboundarygener input some_mesh old_boundari meaningless new_boundari interior exterior merg boundari use renameboundarygener merg boundari result necessarili independ order exampl take follow merg type renameboundarygener input some_mesh old_boundari new_boundari bottom_and_left bottom_and_left top_and_right top_and_right result two boundari boundari name bottom_and_left contain side origin boundari boundari name top_and_right contain side origin boundari take first execut bottom_and_left renameboundarygener use origin boundari id second execut bottom_and_left use new id associ bottom_and_left merg result similar third fourth execut alert tip titleth use id order independ order depend behavior exist new boundari provid name take follow instead merg type renameboundarygener input some_mesh old_boundari new_boundari result boundari contain side origin boundari boundari contain side origin boundari alertend syntax paramet meshrenameboundarygener syntax input meshrenameboundarygener syntax children meshrenameboundarygener imagesubdomaingener syntax descript meshimagesubdomaingener exampl syntax normal usag imagesubdomaingener involv creation standard mesh exampl generatedmeshgener use mesh input imagesubdomaingener provid imag sampl see exampl list testtestspreconditionersfspfsp_test_imagei blockmesh alert note exampl paramet threshold use set color valu subdomain id set upper_valu default subdomain id set lower_valu default inform extend paramet seen input paramet section input imag kittenpng media mediaframeworkmesh_modifierskittenpng stylewidthpxfloatcentermarginleftpx mesh subdomain id output media mediaframeworkmesh_modifierskitten_outpng stylewidthpxfloatcentermarginleftpx syntax paramet meshimagesubdomaingener syntax input meshimagesubdomaingener syntax children meshimagesubdomaingener sidesetsaroundsubdomaingener syntax descript meshsidesetsaroundsubdomaingener overview default sidesetsaroundsubdomaingener creat sideset id defin user around associ block id multipl sideset multipl block defin option paramet allow specif behavior normal vector defin use normal face whose outward face normal equival within specifi toler normal_tol ad sideset replac boolean paramet set whether old sideset replac preserv default preserv fixed_norm boolean paramet inherit sidesetsgeneratorbas set whether sideset defin qualifi face paint onto adjac face default fals allow sideset slightli curv boundari easili defin fix normal set fixed_norm true disabl behavior syntax paramet meshsidesetsaroundsubdomaingener syntax input meshsidesetsaroundsubdomaingener syntax children meshsidesetsaroundsubdomaingener boundingboxnodesetgener syntax descript meshboundingboxnodesetgener overview meshgener allow user specifi bound box overlay mesh domain node insid outsid bound box ad new nodeset specifi user syntax paramet meshboundingboxnodesetgener syntax input meshboundingboxnodesetgener syntax children meshboundingboxnodesetgener stitchedmeshgener syntax descript meshstitchedmeshgener exampl consid follow three mesh media mediameshstitched_mesh_leftpng stylewidthfloatleft captionfig left portion stitch mesh left media mediameshstitched_mesh_centerpng stylewidthfloatleftmarginleft captionfig center portion stitch mesh center media mediameshstitched_mesh_rightpng stylewidthfloatright captionfig right portion stitch mesh right use stitchedmeshgener object within meshmeshindexmd block input file shown input file snippet three squar mesh join singl mesh shown figur list testtestsmeshgeneratorsstitched_mesh_generatorstitched_mesh_generatori blockmesh media mediameshstitched_mesh_outpng captionfig result stitch mesh combin three squar mesh syntax paramet meshstitchedmeshgener syntax input meshstitchedmeshgener syntax children meshstitchedmeshgener sidesetsfromnormalsgener syntax descript meshsidesetsfromnormalsgener see also allsidesetsbynormalsgeneratorallsidesetsbynormalsgeneratormd alert note mesh contain multipl disjoint face normal ad sideset alert note gener intern within block sideset well intern face desir normal extern boundari block sideset use sidesetsaroundsubdomaingeneratorsidesetsaroundsubdomaingeneratormd parammeshsidesetsaroundsubdomaingeneratornorm paramet syntax paramet meshsidesetsfromnormalsgener syntax input meshsidesetsfromnormalsgener syntax children meshsidesetsfromnormalsgener elementgener syntax descript meshelementgener overview meshgener object allow user creat singl element possibl creat simpl mesh ad element one one user provid posit node element well type element want quad tri element node connect elementgener document syntax paramet meshelementgener syntax input meshelementgener syntax children meshelementgener patchmeshgener overview meshgener object allow user creat patch mesh patch mesh one interior element four exterior element patch test one interior element six exterior element element patch mesh uniqu shape see citemacnealpatch detail mesh result mesh sideset name left right top bottom mesh sideset name front back syntax paramet meshpatchmeshgener syntax input meshpatchmeshgener syntax children meshpatchmeshgener bibtex bibliographi meshgener base class meshgener system two type mesh gener creat mesh exampl generatedmeshgeneratormd annularmeshgeneratormd filemeshgeneratormd modifi exist mesh exampl meshextrudergeneratormd stitchedmeshgeneratormd renameblockgeneratormd renameboundarygeneratormd purpos object creat complex mesh use one input file inde use sever meshgener block input file repres differ step necessari creat complex mesh note option exist print mesh inform screen see showingmeshinform track problem gener complex mesh multipl mesh gener input file exampl mesh gmg type generatedmeshgener dim nx ny nz tmg type tiledmeshgener input gmg x_width y_width z_width left_boundari left right_boundari right top_boundari top bottom_boundari bottom front_boundari front back_boundari back x_tile y_tile z_tile output exodu true let analyz differ step first use generatedmeshgeneratormd creat mesh label gmg simpli regular cube use mesh input via input gmg creat larger mesh use tiledmeshgeneratormd develop meshgener mesh gener creat mesh care must taken parallel type mesh overrid gener method obtain base mesh object return gener mesh obtain base mesh object three option mesh gener agnost parallel type either replic distribut use meshgeneratorbuildmeshbaseobject gener base mesh see generatedmeshgeneratormd exampl mesh gener replic use meshgeneratorbuildreplicatedmesh gener base mesh mesh gener distribut use meshgeneratorbuilddistributedmesh gener base mesh see distributedrectilinearmeshgeneratormd exampl use api creat base mesh gener creat mesh import intern prepar mesh use depend parallel type mesh mesh gener modifi exist mesh input paramet meshgeneratornam multipl stdvectormeshgeneratornam applic obtain mesh modifi obtain said mesh via meshgeneratorgetmesh meshgeneratorgetmeshbynam exampl see renameboundarygeneratormd stitchedmeshgeneratormd act said mesh overrid gener method return result mesh mesh gener instanti subgener creat exist mesh primari gener combin andor modifi easiest way call meshgeneratoraddmeshsubgener take argument gener class name object name instanti follow arbitrari number namevalu pair subgener paramet set return refer mesh subgener creat primari gener call show mesh inform paramet parammeshgeneratedmeshgeneratorshow_info print screen detail inform mesh immedi gener use quickli verifi properti mesh sideset subdomain volum take simpl exampl mesh gmg type generatedmeshgener dim nx ny show_info true result onscreen output similar follow ran two process generatedmeshgener gmg mesh inform generatedmeshgener gmg elem_dimens generatedmeshgener gmg spatial_dimens generatedmeshgener gmg n_node generatedmeshgener gmg n_local_nod generatedmeshgener gmg n_elem generatedmeshgener gmg n_local_elem generatedmeshgener gmg n_active_elem generatedmeshgener gmg n_subdomain generatedmeshgener gmg n_partit generatedmeshgener gmg n_processor generatedmeshgener gmg n_thread generatedmeshgener gmg processor_id generatedmeshgener gmg is_preparedtru generatedmeshgener gmg is_replicatedtru generatedmeshgener gmg generatedmeshgener gmg mesh bound box generatedmeshgener gmg minimum xyz generatedmeshgener gmg maximum xyz generatedmeshgener gmg delta xyz generatedmeshgener gmg generatedmeshgener gmg mesh element type generatedmeshgener gmg quad generatedmeshgener gmg generatedmeshgener gmg mesh nodeset generatedmeshgener gmg none generatedmeshgener gmg generatedmeshgener gmg mesh sideset generatedmeshgener gmg sideset bottom side edg elem quad node generatedmeshgener gmg side volum generatedmeshgener gmg bound box minimum xyz generatedmeshgener gmg bound box maximum xyz generatedmeshgener gmg bound box delta xyz generatedmeshgener gmg sideset right side edg elem quad node generatedmeshgener gmg side volum generatedmeshgener gmg bound box minimum xyz generatedmeshgener gmg bound box maximum xyz generatedmeshgener gmg bound box delta xyz generatedmeshgener gmg sideset top side edg elem quad node generatedmeshgener gmg side volum generatedmeshgener gmg bound box minimum xyz generatedmeshgener gmg bound box maximum xyz generatedmeshgener gmg bound box delta xyz generatedmeshgener gmg sideset left side edg elem quad node generatedmeshgener gmg side volum generatedmeshgener gmg bound box minimum xyz generatedmeshgener gmg bound box maximum xyz generatedmeshgener gmg bound box delta xyz generatedmeshgener gmg generatedmeshgener gmg mesh edgeset generatedmeshgener gmg none generatedmeshgener gmg generatedmeshgener gmg mesh subdomain generatedmeshgener gmg subdomain elem quad activ activ node generatedmeshgener gmg volum generatedmeshgener gmg bound box minimum xyz generatedmeshgener gmg bound box maximum xyz generatedmeshgener gmg bound box delta xyz generatedmeshgener gmg global mesh volum distributedrectilinearmeshgener syntax descript meshdistributedrectilinearmeshgener overview similar generatedmeshgener build line rectangl rectangular prism differ though way mesh construct parallel generatedmeshgener creat full copi mesh everi processor distributedrectilinearmeshgener creat element node processor assign make _much_ faster parallel much leaner memori alert note awar distributedrectilinearmeshgener turn parallel_typ distribut make sure everyth your use problem work use inform distributedrectilinearmeshgener work first creat dual graph element connect ever build element use petscexternalpartitionermd partit graph assign element processor processor read partit map build element need processor final step includ ad ghost element make sure boundari condit right exampl syntax list distributed_rectilinear_mesh_generatori blockmesh syntax paramet meshdistributedrectilinearmeshgener syntax input meshdistributedrectilinearmeshgener syntax children meshdistributedrectilinearmeshgener meshextrudergener syntax descript meshmeshextrudergener overview mesh extrud gener tool increas dimension lower dimens mesh element convert one copi correspond higher dimension element along specifi axi mesh extrud also add extra sideset result increas dimension origin mesh exist sideset extrud visual exampl input mesh media mediaframeworkmesh_modifiersquadpng stylewidthpx captiond mesh consist ring quad element output meshextrudergener media mediaframeworkmesh_modifiersextrude_anglepng captionresult mesh extrus along vector syntax paramet meshmeshextrudergener syntax input meshmeshextrudergener syntax children meshmeshextrudergener patternedmeshgener syntax descript meshpatternedmeshgener overview patternedmeshgener object similar tiledmeshgeneratortiledmeshgeneratormd howev restrict two dimens add abil creat tile pattern arbitrari number input mesh exampl input mesh shown figur organ two dimension pattern within input file shown creat pattern shown figur list testtestsmeshgeneratorspatterned_mesh_generatorpatterned_mesh_generatori blockmesh media mediameshquad_meshpng stylefloatleftwidth captionfig input put mesh quad_mesh media mediameshtri_meshpng stylefloatleftwidthmarginleft captionfig input put mesh tri_mesh media mediameshpatterned_mesh_inpng stylefloatrightwidth captionfig result mesh creat use patternedmesh syntax paramet meshpatternedmeshgener syntax input meshpatternedmeshgener syntax children meshpatternedmeshgener planeidmeshgener syntax descript meshplaneidmeshgener overview planeidmeshgener object appli extra id axial plane defin extrud mesh extra id control planeidmeshgener take mesh object axial layer structur input axial plane structur given parammeshplaneidmeshgeneratorplane_coordin contain list coordin defin plane bottom top n plane n coordin point defin axial plane uniformli subdivid mutipl layer extrus distinct extra id option assign individu layer plane parammeshplaneidmeshgeneratornum_ids_per_plan defin number uniqu id plane defin parammeshplaneidmeshgeneratorplane_coordin note gener work extrud geometri concept axial layer valid axi plane specfi use parammeshplaneidmeshgeneratorplane_axi exampl syntax list testtestsmeshgeneratorsplane_id_mesh_generatorplane_id_pindi blockmesh syntax paramet meshplaneidmeshgener syntax input meshplaneidmeshgener syntax children meshplaneidmeshgener tiledmeshgener syntax descript meshtiledmeshgener exampl name suggest tiledmeshgener object may util repeat mesh multipl time test tiled_mesh_generatoritesttestsmeshgeneratorstiled_mesh_generatortiled_mesh_generatori use illustr use tiledmeshgener object test file shown bottom section refer media mediameshtiled_mesh_outputpng stylefloatrightwidthmarginleft captionfig tile cube creat cube input media mediameshtiled_mesh_inputpng stylefloatrightwidthmarginleft captionfig cube util input tiledmesh object exampl util cube cube mesh input shown figur regular cube domain x zdirect specifi input file test see mesh use creat two tile x z direct execut exampl creat new mesh moos test applic execut special meshonli flag indic mesh oper perform run command creat result mesh file tiled_mesh_test_in intend use separ input file run complet simul bash cd projectsmoosetesttestsmeshgeneratorstiled_mesh_gener projectsmoosetestmoose_testopt tiled_mesh_generatori meshonli list testtestsmeshgeneratorstiled_mesh_generatortiled_mesh_generatori syntax paramet meshtiledmeshgener syntax input meshtiledmeshgener syntax children meshtiledmeshgener stackgener syntax descript meshstackgener overview stackgener object allow creat new mesh stitch sever mesh top creat stack paramet provid input mesh dimens mesh stack togeth mesh dimens name boundari stitch vertic height bottom final mesh stackgener document syntax paramet meshstackgener syntax input meshstackgener syntax children meshstackgener fancyextrudergener syntax descript meshfancyextrudergener overview fancyextrudergener add custom option meshextrudergeneratormeshextrudergeneratormd syntax paramet meshfancyextrudergener syntax input meshfancyextrudergener syntax children meshfancyextrudergener cartesianmeshgener syntax descript meshcartesianmeshgener overview cartesianmeshgener object builtin mesh gener capabl creat line rectangl hexahedra box mesh space nonuniform linerectanglehexahedron assign separ subdomain id mesh automat creat side set logic name number follow left right bottom right top left back bottom right top left front length width height element well subdomain id set independ linear subdivis x z addit subdivid subel exampl syntax list testtestsmeshgeneratorscartesian_mesh_generatorcartesian_mesh_di blockmesh syntax paramet meshcartesianmeshgener syntax input meshcartesianmeshgener syntax children meshcartesianmeshgener parsedsubdomainmeshgener syntax descript meshparsedsubdomainmeshgener exampl desir exampl mesh squar contain block center squar block squar locat bottom left quarter block remain edg squar block combinatori express defin block x x express x partial defin block region outsid block also need exclud input file syntax need gener exampl shown list testtestsmeshgeneratorsparsed_subdomain_mesh_generatorparsed_subdomain_mgi blockmesh final mesh output media large_mediaparsed_subdomain_meshparsed_subdomain_meshpng stylewidthfloatcent syntax paramet meshparsedsubdomainmeshgener syntax input meshparsedsubdomainmeshgener syntax children meshparsedsubdomainmeshgener elementsubdomainidgener syntax descript meshelementsubdomainidgener syntax paramet meshelementsubdomainidgener syntax input meshelementsubdomainidgener syntax children meshelementsubdomainidgener sidesetsfromboundingboxgener syntax descript meshsidesetsfromboundingboxgener overview meshgener use two way defin new sideset multipl boundari default provid multipl boundari id node exist provid boundari within bound box outsid locat outsid assign new boundari id defin new sideset overlap boundari boundary_id_overlap true provid multipl boundari id node within bound box outsid locat outsid current assign list boundari id assign new boundari id syntax paramet meshsidesetsfromboundingboxgener syntax input meshsidesetsfromboundingboxgener syntax children meshsidesetsfromboundingboxgener sidesetsbetweensubdomainsgener syntax descript meshsidesetsbetweensubdomainsgener syntax paramet meshsidesetsbetweensubdomainsgener syntax input meshsidesetsbetweensubdomainsgener syntax children meshsidesetsbetweensubdomainsgener subdomainboundingboxgener syntax descript meshsubdomainboundingboxgener overview meshgener take userspecifi axi align box defin term extrem coordin lower left upper right chang subdomain id element element certain subdomain id either insid outsid box specifi id syntax paramet meshsubdomainboundingboxgener syntax input meshsubdomainboundingboxgener syntax children meshsubdomainboundingboxgener extranodesetgener syntax descript meshextranodesetgener syntax paramet meshextranodesetgener syntax input meshextranodesetgener syntax children meshextranodesetgener meshsidesetgener syntax descript meshmeshsidesetgener overview element side explicitli mesh mooselibmesh ie shape function live lower dimension side run kernel lower dimension manifold need explicitli mesh accomplish mesh gener tool like cubit use meshgener simul appropri element simul element mesh select side set boundari choic lower dimension side element dictat higher dimension volum element type coupl side volum mesh newlygener lower dimension side element share node higher dimension volum element coupl variabl volum element work coupl direct straight forward lower dimension variabl exist node adjac volum element volum kernel run volum quadratur point taper valu adjac edg found use risk syntax paramet meshmeshsidesetgener syntax input meshmeshsidesetgener syntax children meshmeshsidesetgener spiralannularmeshgener syntax descript meshspiralannularmeshgener overview gener mesh annular shape node locat differ concentr ring inner outer circl element triangular requir paramet inner_radiu outer_radiu nodes_per_r num_r given paramet radial bia comput automat also possibl specifi want secondord mesh tri element becom tri element simpli chang use_tri paramet true exampl input file exampl follow input file block list testtestsmeshgeneratorsspiral_annular_mesh_generatorspiral_annular_mesh_generatori blockmesh result mesh look like media large_mediaspiral_annular_meshspiralannularmesh_examplepng stylewidth syntax paramet meshspiralannularmeshgener syntax input meshspiralannularmeshgener syntax children meshspiralannularmeshgener generatedmeshgener syntax descript meshgeneratedmeshgener overview generatedmeshgener object builtin mesh gener capabl creat line rectangl rectangular prism box mesh automat creat boundari logic name number follow left right bottom right top left back bottom right top left front length width height domain well number element direct specifi independ syntax paramet meshgeneratedmeshgener syntax input meshgeneratedmeshgener syntax children meshgeneratedmeshgener refinesidesetgener syntax descript meshrefinesidesetgener overview meshgener object allow user refin one boundari mesh well neighbor element boundaryboundari user provid name boundaryboundari modifi well correspond level refin boundari must match order aforement boundari name list eg boundari wish modifi left right refin left right refin list need look like default refin libmesh refin neighbor boundari avoid mesh problem gener share default disabl set parammeshrefinesidesetgeneratorenable_neighbor_refin fals addit user must provid type refin perform parammeshrefinesidesetgeneratorboundary_sid primari mere refin element boundari secondari refin neighbor boundari refin element boundari neighbor element syntax paramet meshrefinesidesetgener syntax input meshrefinesidesetgener syntax children meshrefinesidesetgener ringlebmeshgener syntax descript meshringlebmeshgener overview mesh appli ringleb problem problem test spatial accuraci highord method flow transon smooth geometri also smooth highord curv boundari represent appear critic govern equat govern equat euler equat gamma geometri let k streamlin paramet ie k constant streamlin two stream line two wall boundari kk_max inner wall kk_min outer wall let q veloc magnitud fix k k_min leq k leq k_max variabl q vari q_ k q defin speed sound densiti rho pressur p quantiti denot j beginequ asqrt fracgammaqquad rho afracgammaquad p fracgammaafrac gammagammaquad j fraca fraca fraca fraclog fracaa endequ pair qk set beginequ xqk fracrholeft frackfracq right fracj quad mathrmand quad yqk pm frack rho q sqrtfracqk endequ mesh exampl exampl let consid follow input file mesh ringleb type ringlebmeshgener kmin num_k_pt num_q_pt kmax n_extra_q_pt gamma triangl true correspond mesh look like media large_mediaringleb_meshringleb_meshpng stylewidth syntax paramet meshringlebmeshgener syntax input meshringlebmeshgener syntax children meshringlebmeshgener blockdeletiongener syntax descript meshblockdeletiongener overview blockdeletiongener use remov element mesh match user provid subdomain id mesh gener oper base geometr oper sometim easier remov discret element block certain problem exampl mesh model pipe interior want model fluid flow may delet subdomain associ pipe alert note block delet mesh refer input variabl materi longer block restrict delet block exampl exampl input syntax exampl input file remov block singl blockdeletiongener leav block simul list testtestsmeshgeneratorsblock_deletion_generatorblock_deletion_testi blockmesh syntax paramet meshblockdeletiongener syntax input meshblockdeletiongener syntax children meshblockdeletiongener transformgener syntax descript meshtransformgener overview transform meshgener appli one three linear transform translat rotat scale entir mesh addit follow specif translat avail translate_center_origin translat center mesh origin translate_min_origin translat minimum mesh origin sever independ modifi may execut specif order perform complex transform class simpli call method libmesh meshtoolsmodificationhttpsmooseframeworkinlgovdocsdoxygenlibmeshnamespacelibmesh__meshtools__modificationhtml namespac syntax paramet meshtransformgener syntax input meshtransformgener syntax children meshtransformgener movenodegener syntax descript meshmovenodegener overview meshgener object allow user move one node locat exist mesh user provid id node modifi well new posit node syntax paramet meshmovenodegener syntax input meshmovenodegener syntax children meshmovenodegener breakmeshbyblockgener syntax descript meshbreakmeshbyblockgener descript class implement meshgener split monolith mesh block similar propos vp nguyen citenguyen split mesh node share multipl block duplic n time n number block share particular node duplic node assign one block element share node updat new sideset identifi new interfac ad alway link element belong block lower id option interfac split q differ sideset q number adjac block pair achiev set split_interfacetru use model interfac differ paramet two type block restrict option provid name surrounding_block block_pair surrounding_block creat interfac surround specifi block surrounding_block provid addit boundari interface_transit ad set add_transition_interfacetru interface_transit boundari identifi interfac provid block rest mesh block_pair option creat interfac emphbetween specifi block pair multipl block pair provid separ semicolon block_pair option work add_transition_interfac default block restrict option use interfac gener block addit add_interface_on_two_sid paramet allow gener interfac boundari side interfac use enforc thermal mechan contact interfac exampl input file syntax singl interfac list testtestsmeshgeneratorsbreak_mesh_by_block_generatorbreak_mesh_djunction_autoi blockmesh multipl interfac split_interfacetru new gener interfac split block pair name join block name instanc one two neighbor block one name wood name steel blockid equal respect new interfac name wood_steel name order follow block id order simpl exampl new sideset block name wood one block name name default block plu blockid instanc block name new interfac name wood_block list testtestsmeshgeneratorsbreak_mesh_by_block_generatorbreak_mesh_djunction_splittruei blockmesh syntax paramet meshbreakmeshbyblockgener syntax input meshbreakmeshbyblockgener block_pair option block_pair option node share specif block pair newli creat exampl three differ case shown one two three new node creat respect media mediameshgenerators_blocks_examplepng stylewidth list testtestsmeshgeneratorsbreak_mesh_by_block_generatorbreak_mesh_block_pairs_restricted_blocksi blockmesh imagemeshgener syntax descript meshimagemeshgener overview imagemeshgener object conveni tool set mesh match pixel structur two three dimension imag gener use union imagefunctionimagefunctionmd object perform simul reli imag data set initi condit grain structur default gener mesh size dimens imag creat one element per pixel syntax paramet meshimagemeshgener syntax input meshimagemeshgener syntax children meshimagemeshgener smoothmeshgener syntax descript meshsmoothmeshgener exampl iter paramet control number smooth step smooth step iter mesh toward true smooth mesh measur laplacian smoother note mesh reach steadi state iter mesh stop move much exampl origin mesh go iter smoother media mediameshsmoothgif idinllogo caption iter laplacian smooth color element qualiti higher better stylewidthpaddingpx syntax paramet meshsmoothmeshgener syntax input meshsmoothmeshgener syntax children meshsmoothmeshgener allsidesetsbynormalsgener syntax descript meshallsidesetsbynormalsgener overview mesh gener use ad possibl sideset mesh base uniqu normal direct work well regular shape dont curv mani disjoint surfac similar normal desir howev capabl follow slowli chang normal around surfac curv assign singl sideset accomplish set fixed_norm fals case cylind mesh given exactli three normal one two bottom respect third normal curv surfac cylind alert note sideset number assign predict util assign sideset number base uniqu normal seen iter mesh enhanc could made care control assign syntax paramet meshallsidesetsbynormalsgener syntax input meshallsidesetsbynormalsgener syntax children meshallsidesetsbynormalsgener refineblockgener syntax descript meshrefineblockgener overview meshgener object allow user refin one block mesh user provid id block modifi well correspond level refin block must match order aforement block id list eg block wish modifi refin block block block block refin list need look like default refin libmesh refin neighbor block avoid mesh problem gener share default disabl enable_neighbor_refinementfals syntax paramet meshrefineblockgener syntax input meshrefineblockgener syntax children meshrefineblockgener genericconstantmateri syntax descript materialsgenericconstantmateri use quickli creat simpl constant materi properti test initi survey problem simpli materi properti vari much domain explor simul exampl input file syntax exampl creat adgenericconstantmateri diffus coeffici fluid flow simul add prefix ad simul make use automat differenti comput jacobian exactli diffus coeffici retriev admaterialproperti diffus kernel list testtestsfvkernelsmmsadvectiondiffusioni blockmaterialsdiff syntax paramet materialsgenericconstantmateri syntax input materialsgenericconstantmateri syntax children materialsgenericconstantmateri genericconstantranktwotensor syntax descript materialsgenericconstantranktwotensor overview genericconstantranktwotensor creat ranktwotensor materi properti use constant valu fill tensor use quickli creat simpl constant tensor materi properti test initi survey problem simpli materi properti vari much domain explor simul exampl input file syntax list testtestsmaterialsgeneric_materialsgeneric_constant_rank_two_tensori blockmaterialstensor syntax descript materialsgenericconstantranktwotensor syntax paramet materialsgenericconstantranktwotensor syntax input materialsgenericconstantranktwotensor syntax children materialsgenericconstantranktwotensor adgenericfunctionranktwotensor syntax descript materialsadgenericfunctionranktwotensor overview adgenericfunctionranktwotensor creat ranktwotensor materi properti use function fill tensor exampl input file syntax list testtestsmaterialsgeneric_materialsad_generic_function_rank_two_tensori blockmaterialstensor syntax descript materialsadgenericfunctionranktwotensor syntax paramet materialsadgenericfunctionranktwotensor syntax input materialsadgenericfunctionranktwotensor syntax children materialsadgenericfunctionranktwotensor genericfunctormateri syntax descript materialsgenericfunctormateri overview object creat functor materi propertiesmaterialsindexmdfunctorprop eg properti get evalu onthefli oppos tradit static materi properti eg materi properti preevalu class functor materi properti combin equival genericconstantmaterialmd genericfunctionmaterialmd variabl materi materi convert variabl materi properti evalu functor request locat element centroid element face centroid quadratur point defin overload functor argument default class cach functor evalu clear cach begin everi time step cach clear behavior control set execute_on paramet alert note adtyp properti defin materi must match variabl automat consid ad functor even auxiliari variabl ad version materi adgenericfunctormateri input vector ad functor creat ad functor materi properti exampl input file syntax exampl adgenericfunctormateri use defin linearli vari space diffus coeffici finit volum diffus calcul add prefix ad simul make use automat differenti comput jacobian exactli diffus coeffici retriev moosefunctoradr base class functormaterialpropertyadr diffus kernel diffus kernel obtain diffus coeffici directli face evalu face flux list testtestsmaterialsboundary_materialfv_material_quadraturei blockmaterialsk syntax paramet materialsgenericfunctormateri syntax input materialsgenericfunctormateri syntax children materialsgenericfunctormateri materialadconvert materialadconvert use explicitli convert regular materi properti ad materi properti visa versa alert warn use materialadconvertermaterialadconvertermd object ranktwotensor eigenstrain tensormechanicsact set automatic_eigenstrain_nam true eigenstrain list materialadconvert input tensor includ eigenstrain_nam list pass set automatic_eigenstrain_nam fals popul list manual compon need includ descript syntax syntax descript materialsmaterialadconvert syntax paramet materialsmaterialadconvert syntax input materialsmaterialadconvert syntax children materialsmaterialadconvert genericconstantdarray syntax descript materialsgenericconstantdarray use quickli creat simpl constant array materi properti test initi survey problem simpli materi properti vari much domain explor simul exampl input file syntax exampl genericconstantarray use defin anisotrop reaction term diffusionreact simul equat second compon u contain reaction term sourc term reaction first compon list testtestsbcsarray_vacuumarray_vacuumi blockmaterialsrc syntax paramet materialsgenericconstantdarray syntax input materialsgenericconstantdarray syntax children materialsgenericconstantdarray parsedmateri syntax descript materialsparsedmateri set singl materi properti comput use pars function express parsedmateri object take function express input paramet form function parser express pars materi unlik parsedfunct coupl nonlinear variabl materi properti configur block nonlinear variabl function depend parammaterialsparsedmaterialarg well constant parammaterialsparsedmaterialconstant_nam parammaterialsparsedmaterialconstant_express materi properti parammaterialsparsedmaterialmaterial_property_nam postprocessor parammaterialsparsedmaterialpostprocessor_nam declar constant declar pars express depend previous defin constant one applic would definit temperatur boltzmann constant k_b defect format energi e_f equilibrium defect concentr defin use boltzmann factor expfrace_dk_bt exampl follow materi object creat singl properti visual purpos phase phase phase list modulescombinedexamplesphase_fieldmechanicspatterni startphasemap endmatrix syntax paramet materialsparsedmateri syntax input materialsparsedmateri syntax children materialsparsedmateri genericfunctionmateri syntax descript materialsgenericfunctionmateri use quickli creat simpl function materi properti test initi survey problem simpli materi properti vari much defin function domain explor simul exampl input file syntax exampl genericfunctionmateri use defin diffus coeffici invers proport time diffus coeffici retriev materialproperti diffus kernel list testtestsfunctionsgeneric_function_materialgeneric_function_material_testi blockmaterialsgfm syntax paramet materialsgenericfunctionmateri syntax input materialsgenericfunctionmateri syntax children materialsgenericfunctionmateri genericfunctorgradientmateri syntax descript materialsgenericfunctorgradientmateri overview object creat vector functor materi propertiesmaterialsindexmdfunctorprop gradient functor alert note adtyp properti defin materi must match variabl automat consid ad functor even auxiliari variabl ad version materi adgenericfunctorgradientmateri input vector ad functor creat ad vector functor materi properti exampl input file syntax exampl adgenericfunctorgradientmateri use comput gradient variabl u multipli diffus coeffici obtain diffus flux flux comput element centroid one element face list testtestsmaterialsfunctor_propertiesgradientsfunctorgradientsi blockmateri auxkernel syntax paramet materialsgenericfunctorgradientmateri syntax input materialsgenericfunctorgradientmateri syntax children materialsgenericfunctorgradientmateri derivativematerialinterfac model develop particular use finit element method often conveni encapsul express valu togeth deriv deriv often need comput jacobian matrix entri moos use materi properti provid valu express directli comput variabl solv store deriv materi properti respect variabl depend also use materi properti use standard name scheme name materi properti deriv deriv materi properti f respect variabl c would name dfdc enforc name scheme provid derivativematerialinterfac veneer templat provid method declar get materi properti deriv materi properti derivativematerialinterfac util inherit suppli origin parent class templat argument exampl use materi declar get materi properti deriv kernel get materi properti deriv use materi class header c includ derivativematerialinterfaceh includ materialh templat interfac materi class mymateri public derivativematerialinterfacemateri privat materialpropertyr f materialpropertyr dfdc materialpropertyr dfdc note possibl templat interfac arbitrari class includ class deriv materi kernel implement c includ mymaterialh mymaterialmymaterialconst inputparamet paramet derivativematerialinterfacematerialparamet get c variabl valu number name _ccoupledvaluec _c_varcoupledc _c_namegetvarc name declar materi properti first second deriv wrt c fdeclarepropertyrealf dfdcdeclarepropertyderivativerealf _c_name dfdcdeclarepropertyderivativerealf _c_name _c_name materi properti deriv need declar comput materi correspond undifferenti properti though oftentim natur choic provid encapsul use kernel class header c includ derivativematerialinterfaceh includ kernelh templat interfac kernel class mykernel public derivativematerialinterfacekernel protect const materialpropertyr f const materialpropertyr dfdc note materi properti deriv fetch declar class need store const refer recommend use constant refer regular materi properti well written implement c includ mykernelh mykernelmykernelconst inputparamet paramet derivativematerialinterfacekernelparamet get c variabl valu number name _ccoupledvaluec _c_varcoupledc _c_namegetvarc name fetch materi properti first deriv wrt c fgetmaterialpropertyrealf dfdcgetmaterialpropertyderivativerealf _c_name may also request deriv get eta variabl valu number name _etacoupledvalueeta _eta_varcoupledeta _eta_namegetvareta name fetch materi properti first deriv wrt eta dfdetagetmaterialpropertyderivativerealf _eta_nam eta deriv may necessarili declar anywher simul interfac return default valu zero case see default valu request nonexist materi properti deriv use getmaterialpropertyderiv method zero object return real type vector tensor object zero entri know kernel util deriv alway implement complet express includ possibl deriv even though might provid everi simul genericfunctionvectormateri syntax descript materialsgenericfunctionvectormateri use quickli creat simpl function vector materi properti test initi survey problem simpli materi properti vari much defin function domain explor simul exampl input file syntax exampl adgenericfunctionvectormateri use defin linearli vari space quadrat time anisotrop diffus coeffici finit volum diffus calcul add prefix ad simul make use automat differenti comput jacobian exactli diffus coeffici retriev admaterialproperti diffus kernel list testtestsfunctionsgeneric_function_materialgeneric_function_vector_material_testi blockfunct materialsgfm syntax paramet materialsgenericfunctionvectormateri syntax input materialsgenericfunctionvectormateri syntax children materialsgenericfunctionvectormateri derivativesummateri syntax descript materialsderivativesummateri descript materi gener new materi properti sum valu deriv specifi set function materi use arg argument union set depend variabl specifi derivativesummateri gather necessari deriv sum exampl usag list testtestsmaterialsderivative_sum_materialrandom_ici blockmaterialsfree_energi syntax paramet materialsderivativesummateri syntax input materialsderivativesummateri syntax children materialsderivativesummateri genericvectorfunctormateri syntax descript materialsgenericvectorfunctormateri functor system allow use differ functor type function variabl materi properti exampl compon x z vector functor materi properti use quickli creat simpl constant anisotrop materi properti test initi survey problem simpli materi properti vari much domain explor simul nonfunctor equival materi genericconstantvectormaterialmd constant valu genericfunctionvectormaterialmd function default class cach function evalu clear cach begin everi time step cach clear behavior control set execute_on paramet alert note adtyp compon must match variabl automat consid ad functor even auxiliari variabl ad version materi adgenericvectorfunctormateri input vector ad functor creat ad vector functor materi properti exampl input file syntax exampl creat genericvectorfunctormateri gener anisotrop vector diffus comput integr diffus flux specifi boundari mesh list testtestspostprocessorsside_diffusive_flux_integralside_diffusive_flux_integrali blockmaterialsmat_props_vector exampl creat genericvectorfunctormateri two anisotrop friction factor porou media flow simul note syntax declar two materi properti valu materi list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrcfrictioni blockmaterialsdarci syntax paramet materialsgenericvectorfunctormateri syntax input materialsgenericvectorfunctormateri syntax children materialsgenericvectorfunctormateri genericconstantvectormateri syntax descript materialsgenericconstantvectormateri use quickli creat simpl constant anisotrop materi properti test initi survey problem simpli materi properti vari much domain explor simul exampl input file syntax exampl creat genericconstantvectormateri gener anisotrop vector diffus comput integr diffus flux specifi boundari mesh list testtestspostprocessorsside_diffusive_flux_integralside_diffusive_flux_integrali blockmaterialsmat_props_vector syntax paramet materialsgenericconstantvectormateri syntax input materialsgenericconstantvectormateri syntax children materialsgenericconstantvectormateri adgenericconstantranktwotensor syntax descript materialsgenericconstantranktwotensor overview adgenericconstantranktwotensor creat ranktwotensor materi properti use constant valu fill tensor exampl input file syntax list testtestsmaterialsgeneric_materialsad_generic_constant_rank_two_tensori blockmaterialstensor syntax descript materialsadgenericconstantranktwotensor syntax paramet materialsadgenericconstantranktwotensor syntax input materialsadgenericconstantranktwotensor syntax children materialsadgenericconstantranktwotensor genericfunctionranktwotensor syntax descript materialsgenericfunctionranktwotensor overview genericfunctionranktwotensor creat ranktwotensor materi properti use function fill tensor exampl input file syntax list testtestsmaterialsgeneric_materialsgeneric_function_rank_two_tensori blockmaterialstensor syntax descript materialsgenericfunctionranktwotensor syntax paramet materialsgenericfunctionranktwotensor syntax input materialsgenericfunctionranktwotensor syntax children materialsgenericfunctionranktwotensor derivativeparsedmateri syntax descript materialsderivativeparsedmateri materi class everyth parsedmateri plu automat symbol differenti function express function materi properti deriv follow name scheme defin derivativematerialpropertynameinterfac maximum order deriv gener set use derivative_ord paramet requir deriv evalu eg split oper kernel requir third order deriv secondord deriv requir jacobian discuss non linear auxiliari variabl declar parammaterialsderivativeparsedmaterialarg paramet constant declar parammaterialsderivativeparsedmaterialconstant_nam parammaterialsderivativeparsedmaterialconstant_express materi properti declar parammaterialsderivativeparsedmaterialmaterial_property_nam postprocessor parammaterialsderivativeparsedmaterialpostprocessor_nam may use pars function express note constant defin use pars express long express use number andor constant alreadi defin left current constant line exampl yaml constant_nam kb e constant_express e tkb e defin term kb constant left e materi properti list parammaterialsderivativeparsedmaterialmaterial_property_nam special syntax mcc c c variabl use declar variabl depend well select deriv materi properti exampl dmdmcccc would make second deriv respect c avail dm pars function express variabl depend declar necessari deriv coupl materi properti automat pull construct deriv pars function phase field applic would definit mobil term beginequ frac dfracparti fpartial c endequ contain second deriv function f custom switch function deriv grand potenti model list modulesphase_fieldtesttestsgrandpotentialpfmgrandpotentialpfmi blockmaterialscoupled_eta_funct ft defin would accur construct automat deriv wrt eta eta contain second higher deriv h make sure set derivative_ord h high enough parammaterialsderivativeparsedmaterialmaterial_property_nam pars functionmaterialpropertydescriptor classhttpmooseframeworkorgdocsdoxygenmodulesclassfunctionmaterialpropertydescriptorhtml understand follow syntax express descript f materi properti call f declar variabl depend ie vanish deriv fcphi materi properti call f declar depend c phi use derivativefunctionmateri rule look deriv use roundbracketnot dxdxabaab third deriv fracpartialxpartialaparti b abdepend materi properti x refer dx function express dfdfc deriv f wrt c although cdepend f explicitli declar use roundbracketnot implicitli assum deriv wrt c request add outputsexodu materi block automat write deriv function exodu output syntax paramet materialsderivativeparsedmateri syntax input materialsderivativeparsedmateri syntax children materialsderivativeparsedmateri piecewiseconstantbyblockmateri syntax descript materialspiecewiseconstantbyblockmateri overview object use provid materi properti valu finit volum calcul discontinu subdomain subdomain prop_nam requir map paramet subdomain_to_prop_valu use specifi properti valu subdomain name basi first member pair subdomain name second member real valu syntax paramet materialspiecewiseconstantbyblockmateri syntax input materialspiecewiseconstantbyblockmateri syntax children materialspiecewiseconstantbyblockmateri adderivativesummateri syntax descript materialsadderivativesummateri descript materi gener new materi properti sum valu deriv specifi set function materi use arg argument union set depend variabl specifi adderivativesummateri gather necessari deriv sum exampl usag list testtestsmaterialsderivative_sum_materialrandom_ici blockmaterialsfree_energi syntax paramet materialsadderivativesummateri syntax input materialsadderivativesummateri syntax children materialsadderivativesummateri adpiecewiselinearinterpolationmateri syntax descript materialsadpiecewiselinearinterpolationmateri model comput materi properti use piecewis linear interpol defin depend properti specifi variabl properti comput fx use piecewis linear interpol coupl variabl provid valu x locat evalu syntax paramet materialsadpiecewiselinearinterpolationmateri syntax input materialsadpiecewiselinearinterpolationmateri syntax children materialsadpiecewiselinearinterpolationmateri piecewisebyblockfunctormateri syntax descript materialspiecewisebyblockfunctormateri overview object use provid materi properti valu discontinu subdomain subdomain parammaterialspiecewisebyblockfunctormaterialprop_nam requir specifi name materi properti map paramet parammaterialspiecewisebyblockfunctormaterialsubdomain_to_prop_valu use specifi properti valu subdomain name basi first member pair subdomain name second member real valu materi shorthand specifi genericconstantmaterialmd restrict block syntax paramet materialspiecewisebyblockfunctormateri syntax input materialspiecewisebyblockfunctormateri syntax children materialspiecewisebyblockfunctormateri functoradconvert syntax descript materialsfunctoradconvert convert ad regular functor vice versa lead irremedi loss deriv inform use automat differenti systemsystemsnonlinearsystemmdad miss deriv inform use convert regular functor true ad functor use lead imperfect jacobian impact converg properti newton solv exampl safe convers function adfunct viceversa safe sinc function hold deriv data auxvari regular functor safe sinc auxiliari variabl hold deriv data exampl input syntax exampl gymnast functor convers shown exampl reader note convers ad functor regular functor regular function necessari list testtestsmaterialsfunctor_propertiesad_conversiond_dirichleti blockmateri syntax paramet materialsfunctoradconvert syntax input materialsfunctoradconvert syntax children materialsfunctoradconvert piecewiselinearinterpolationmateri syntax descript materialspiecewiselinearinterpolationmateri model comput materi properti use piecewis linear interpol defin depend properti specifi variabl properti comput fx use piecewis linear interpol coupl variabl provid valu x locat evalu syntax paramet materialspiecewiselinearinterpolationmateri syntax input materialspiecewiselinearinterpolationmateri syntax children materialspiecewiselinearinterpolationmateri genericconstantarray syntax descript materialsgenericconstantarray array materi properti multidimension materi properti note vector materi properti also option array dimens realli number dimens problem ddd use quickli creat simpl constant array materi properti test initi survey problem simpli materi properti vari much domain explor simul exampl input file syntax exampl genericconstantarray use defin anisotrop diffus coeffici anisotrop diffusionreact problem list testtestsbcsarray_vacuumarray_vacuumi blockmaterialsdc syntax paramet materialsgenericconstantarray syntax input materialsgenericconstantarray syntax children materialsgenericconstantarray dirichletbc syntax descript bcsdirichletbc descript dirichletbc simplest type nodalbc use impos socal essenti boundari condit system partial differenti equat pde boundari condit forc particular set degre freedom dof defin boundari paramet take singl control valu class appropri use pde form beginequ beginalign nabla u f quad omega u g quad partial omega_d fracparti uparti n h quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari case dirichletbc object use impos condit subset boundari denot partial omega_d case valu correspond constant g user must defin one sideset correspond boundari subset partial omega_d preset boundari condit paramet preset true valu boundari condit appli solv begin preset fals boundari condit enforc solv progress situat preset boundari condit better exampl input syntax list testtestsbcsmatched_value_bcmatched_value_bc_testi startright_v end includeendtru syntax paramet bcsdirichletbc syntax input bcsdirichletbc syntax children bcsdirichletbc coupledvarneumannbc syntax descript bcscoupledvarneumannbc descript coupledvarneumannbc gener neumannbc instead coupl singl real valu valu paramet coupl variabl provid v paramet paramet scale use scale boundari condit valu default ie scale note scale actual field variabl spatial depend scale possibl use local turn bc exampl input syntax list testtestsbcscoupled_var_neumanncoupled_var_neumanni startright end includeendtru syntax paramet bcscoupledvarneumannbc syntax input bcscoupledvarneumannbc syntax children bcscoupledvarneumannbc hfemdirichletbc syntax descript bcshfemdirichletbc descript hfemdirichletbc use impos dirichlet boundari hfem hybrid finit element method hfemdirichletbc object left uast lambda_d right_parti omega_d left lambda_dast u g right_parti omega_d subset boundari denot partial omega_d thu requir parambcshfemdirichletbcvari paramet u parambcshfemdirichletbclowerd_vari paramet lambda_d parambcshfemdirichletbcvalu correspond g refer dgkernelsindexmd full hfem weak form poisson equat exampl input syntax list testtestskernelshfemdirichleti startal end includeendtru syntax paramet bcshfemdirichletbc syntax input bcshfemdirichletbc syntax children bcshfemdirichletbc convectivefluxbc syntax descript bcsconvectivefluxbc descript convectivefluxbc boundari condit determin valu boundari base upon initi final valu flux boundari durat exposur exampl input syntax list testtestsbcsmisc_bcsconvective_flux_bci blockbc syntax paramet bcsconvectivefluxbc syntax input bcsconvectivefluxbc syntax children bcsconvectivefluxbc functiondirichletbc syntax descript bcsfunctiondirichletbc descript functiondirichletbc gener dirichletbcdirichletbcmd impos possibl tempor spatiallydepend valu defin moos functionfunctionsindexmd object particular set degre freedom dof defin boundari paramet pde form beginequ beginalign nabla u f quad omega u gtvecx quad partial omega_d fracparti uparti n htvecx quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari functiondirichletbc object use impos condit function welldefin vecx partial omega_d case function paramet correspond moos function object repres mathemat function gtvecx user must defin one sideset correspond boundari subset partial omega_d via boundari paramet preset boundari condit paramet preset true valu boundari condit appli solv begin preset fals boundari condit enforc solv progress situat preset boundari condit better exampl input syntax list testtestsbcsfunction_dirichlet_bctesti blockbc syntax paramet bcsfunctiondirichletbc syntax input bcsfunctiondirichletbc syntax children bcsfunctiondirichletbc arrayneumannbc descript boundari condit appli neumann boundari condit compon array variabl standard variabl version neumannbcmd differ current valu compon assign exampl input syntax syntax paramet bcsarraydirichletbc syntax input bcsarraydirichletbc syntax children bcsarraydirichletbc diffusionfluxbc syntax descript bcsdiffusionfluxbc descript diffusionfluxbc fluxbc appropri use boundari term aris diffusiondiffusionmd kernelsyntaxkernelsindexmd diffusionfluxbc enforc boundari condit pers see eg dirichletbcdirichletbcmd neumannbcneumannbcmd relat class instead class respons comput residu jacobian contribut due boundari contribut aris integr part diffusiondiffusionmd kernelsyntaxkernelsindexmd alert note standard theori ellipt oper requir specif boundari condit part boundari implicitli comput residu contribut manner instead replac correct data fall outsid theori said instanc approach give reason result practic see exampl paper citegriffithsnoboundari exampl consid poisson problem mix boundari condit beginequ beginalign nabla u f quad omega u g quad partial omega_d fracparti uparti n h quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n cup partial omega_f boundari boundari condit specifi partial omega_f weak formul problem find u satisfi dirichlet boundari condit beginequ labelweakform int_omega left nabla u cdot nabla v fv right textdx int_parti omega_n hv textd underbraceint_parti omega_f fracparti uparti n v textds_textttdiffusionfluxbc endequ hold everi v mathcalv v v homega v text partial omega_d ie test function vanish dirichlet boundari diffusionfluxbc class would use comput last term weakform bibtex bibliographi exampl input syntax list testtestsmortarcontinuitydconformingequalgradienti startal end includeendtru syntax paramet bcsdiffusionfluxbc syntax input bcsdiffusionfluxbc syntax children bcsdiffusionfluxbc postprocessorneumannbc syntax descript bcspostprocessorneumannbc inform neumann boundari condit mathemat mean may found neumannbcmd document common postprocessor input postprocessorneumannbc receivermd postprocessor popul transfer syntaxmultiappsindexmd two simul coupl boundari condit numer flux boundari exampl input syntax exampl valu variabl aux sampl use pointvalu postprocessor reus neumann boundari condit nonlinear variabl u use postprocessorneumannbc list testtestsbcspp_neumannpp_neumanni blockpostprocessor bc syntax paramet bcspostprocessorneumannbc syntax input bcspostprocessorneumannbc syntax children bcspostprocessorneumannbc eigendirichletbc eigendirichletbc provid eigenvalu solver handl dirichlet boundari condit right hand side differ regular dirichlet bc eigendirichletbc alway return regardless residu jacobian matrix correspond row total zero without ad one matrix diagon syntax descript bcseigendirichletbc syntax paramet bcseigendirichletbc syntax input bcseigendirichletbc syntax children bcseigendirichletbc bibtex bibliographi adfunctiondirichletbc syntax descript bcsadfunctiondirichletbc descript adfunctiondirichletbc gener dirichletbcdirichletbcmd impos possibl tempor spatiallydepend valu defin moos functionfunctionsindexmd object particular set degre freedom dof defin boundari paramet pde form beginequ beginalign nabla u f quad omega u gtvecx quad partial omega_d fracparti uparti n htvecx quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari adfunctiondirichletbc object use impos condit function welldefin vecx partial omega_d case function paramet correspond moos function object repres mathemat function gtvecx user must defin one sideset correspond boundari subset partial omega_d via boundari paramet note adfunctiondirichletbc comput jacobian use automat differenti preset boundari condit paramet preset true valu boundari condit appli solv begin preset fals boundari condit enforc solv progress situat preset boundari condit better exampl input syntax list testtestsbcsad_bcsad_bci blockbc syntax paramet bcsadfunctiondirichletbc syntax input bcsadfunctiondirichletbc syntax children bcsadfunctiondirichletbc functionneumannbc syntax descript bcsfunctionneumannbc descript functionneumannbc gener neumannbcneumannbcmd use impos flux boundari condit system partial differenti equat pde flux repres spatial temporallyvari moos functionfunctionsindexmd pde form beginequ beginalign nabla u f quad omega u gtvecx quad partial omega_d fracparti uparti n htvecx quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari functionneumannbc object use impos condit function welldefin relev time vecx partial omega_n case function paramet correspond moos function object repres mathemat function htvecx user must defin one sideset correspond boundari subset partial omega_n via boundari paramet exampl input syntax list testtestscontrolstime_periodsbcsbcs_integratedi startright end includeendtru syntax paramet bcsfunctionneumannbc syntax input bcsfunctionneumannbc syntax children bcsfunctionneumannbc functiongradientneumannbc functiongradientneumannbc add weak form contribut langl psi_i vecn cdot k nabla f rangl vecn unit normal vector boundari k coeffici correspond thermal conduct diffus f function space time specifi input file paramet exact_solut paramet name suggest functiongradientneumannbc object use specifi neumann condit exact solut pde known syntax descript bcsfunctiongradientneumannbc syntax paramet bcsfunctiongradientneumannbc syntax input bcsfunctiongradientneumannbc syntax children bcsfunctiongradientneumannbc penaltydirichletbc syntax descript bcspenaltydirichletbc descript penaltydirichletbc integratedbc use enforc dirichlet boundari condit differ dirichletbcdirichletbcmd class way handl enforc appropri partial differenti equat pde form beginequ beginalign nabla u f quad omega u g quad partial omega_d fracparti uparti n h quad partial omega_n endalign endequ instead impos dirichlet condit directli basi replac equat associ degre freedom dof auxiliari equat ug penaltydirichletbc base variat statement find u homega beginequ labelweakform int_omega left nabla u cdot nabla v fv right textdx int_parti omega_n hv textd int_parti omega_d fracepsilon ugv textd endequ hold everi v homega weakform epsilon userselect paramet must taken small enough ensur u approx g partial omega_d userselect class paramet penalti correspond fracepsilon must chosen larg enough ensur good agreement dirichlet data larg result jacobian becom illcondit result fail solv overal accuraci loss benefit penaltybas approach includ simplifi dirichlet boundari condit enforc nonlagrang finit element base maintain symmetri origin problem avoid need zero contribut row special postassembl step integr part revers weakform one obtain beginequ labelweakform int_omega left nabla u f right v textdx int_parti omega_n left fracparti uparti n h right v textd int_parti omega_d left fracparti uparti n fracepsilon ug right v textd endequ therefor recov perturb version origin problem flux boundari condit beginequ fracparti uparti n fracepsilon ug partial omega_d endequ replac origin dirichlet boundari condit shown citejuntunennitsch order solut perturb problem converg solut origin problem limit epsilon rightarrow penalti paramet must depend mesh size refin mesh problem becom increasingli illcondit relat method impos dirichlet boundari condit known nitsch method citejuntunennitsch suffer illcondit issu slate inclus moos time futur bibtex bibliographi exampl input syntax list testtestsbcspenalty_dirichlet_bcpenalty_dirichlet_bc_testi blockbc syntax paramet bcspenaltydirichletbc syntax input bcspenaltydirichletbc syntax children bcspenaltydirichletbc arraydirichletbc descript boundari condit appli dirichlet boundari condit compon array variabl standard variabl version dirichletbcmd differ boundari valu compon assign exampl input syntax list testskernelsarray_kernelsarray_diffusion_testi blockbc syntax paramet bcsarraydirichletbc syntax input bcsarraydirichletbc syntax children bcsarraydirichletbc weakgradientbc syntax descript bcsweakgradientbc descript weakgradientbc integratedbc appropri use boundari term aris diffusiondiffusionmd kernelsyntaxkernelsindexmd weakgradientbc enforc boundari condit pers see eg dirichletbcdirichletbcmd neumannbcneumannbcmd relat class instead class respons comput residu jacobian contribut due boundari contribut aris integr part diffusiondiffusionmd kernelsyntaxkernelsindexmd class comput residu contribut ident diffusionfluxbcdiffusionfluxbcmd class pleas see class document detail inform exampl input syntax list testtestsbcsmisc_bcsweak_gradient_bc_testi starttop end includeendtru syntax paramet bcsweakgradientbc syntax input bcsweakgradientbc syntax children bcsweakgradientbc eigenarraydirichletbc array version eigendirichletbc provid eigenvalu solver handl dirichlet boundari condit righthand side differ regular dirichletbc eigenarraydirichletbc alway return regardless residu correspond row matrix zero without ad one diagon syntax descript bcseigendirichletbc syntax paramet bcsdirichletbc syntax input bcsdirichletbc syntax children bcsdirichletbc advectorfunctiondirichletbc syntax descript bcsadvectorfunctiondirichletbc descript advectorfunctiondirichletbc extens functiondirichletbcbcsdirichletbc lagrang vector variabl use impos socal essenti boundari condit system partial differenti equat pde boundari condit forc particular set degre freedom dof defin boundari paramet take control valu class appropri use pde form beginequ beginalign nabla vecu vecf quad omega vecu vecg quad partial omega_d fracparti vecuparti n vech quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari case vectorfunctiondirichletbc object use impos condit subset boundari denot partial omega_d case vecg suppli function paramet function_x function_i function_z paramet suppli user take default valu user must defin one sideset correspond boundari subset partial omega_d note bc comput jacobian use automat differenti syntax paramet bcsadvectorfunctiondirichletbc syntax input bcsadvectorfunctiondirichletbc syntax children bcsadvectorfunctiondirichletbc sinneumannbc syntax descript bcssinneumannbc descript sinneumannbc integratedbc impos timevari flux form beginequ gt left beginarrayl g_ g_t g_ sin left fracpi tt right leq g_t geq endarray right endequ g_ g_t initi final valu g respect final time valu control initi final durat paramet respect valu appli one sideset specifi boundari paramet vari space type boundari condit applic timevari pde exampl beginequ beginalign fracparti uparti nabla u f quad omega fracparti uparti n gt quad partial omega endalign endequ frequent use ramp difficult boundari condit final valu short time interv rather impos instantan time approach make nonlinear solver robust improv initi guess use newton iter well prevent solver converg nonphys solut nonlinear pde exampl input syntax list testtestsbcssin_bcsin_neumann_testi startright end includeendtru syntax paramet bcssinneumannbc syntax input bcssinneumannbc syntax children bcssinneumannbc advectormatchedvaluebc syntax descript bcsadvectormatchedvaluebc descript advectormatchedvaluebc advectornodalbc appli system two variabl use impos equal two solut along given boundari class appropri system partial differenti equat pde form beginequ beginalign nabla vecu vecf_ quad omega nabla vecv vecf_ quad omega fracparti vecuparti n vech_ quad partial omega_n fracparti vecvparti n vech_ quad partial omega_n vecu vecv quad partial omega_d endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari vecu vecv unknown vecf_ vecf_ forc function may depend vecu vecv vech_ vech_ given flux v paramet use specifi variabl whose valu tie vecu exampl variabl name happen v well exampl input syntax list testtestsinterfacekernelsad_coupled_vector_valuecoupledi startmiddl end includeendtru syntax paramet bcsadvectormatchedvaluebc syntax input bcsadvectormatchedvaluebc syntax children bcsadvectormatchedvaluebc vectorfunctiondirichletbc syntax descript bcsvectorfunctiondirichletbc descript vectorfunctiondirichletbc gener vectordirichletbcvectordirichletbcmd impos possibl tempor spatiallydepend valu lagrang vector compon moos functionfunctionsindexmd object degre freedom fall boundari defin boundari paramet pde form beginequ beginalign nabla vecu vecf quad omega vecu vecgtvecx quad partial omega_d fracparti vecuparti n vechtvecx quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari vectorfunctiondirichletbc object use impos condit function welldefin vecx partial omega_d case function_x function_i function_z paramet correspond set moos function object repres mathemat function vecgtvecx user must defin one sideset correspond boundari subset partial omega_d via boundari paramet syntax paramet bcsvectorfunctiondirichletbc syntax input bcsvectorfunctiondirichletbc syntax children bcsvectorfunctiondirichletbc vectordirichletbc syntax descript bcsvectordirichletbc descript vectordirichletbc extens dirichletbcbcsdirichletbc lagrang vector variabl use impos socal essenti boundari condit system partial differenti equat pde boundari condit forc particular set degre freedom dof defin boundari paramet take control valu class appropri use pde form beginequ beginalign nabla vecu vecf quad omega vecu vecg quad partial omega_d fracparti vecuparti n vech quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari case vectordirichletbc object use impos condit subset boundari denot partial omega_d case valu correspond constant compon vecg user must defin one sideset correspond boundari subset partial omega_d syntax paramet bcsvectordirichletbc syntax input bcsvectordirichletbc syntax children bcsvectordirichletbc addirichletbc syntax descript bcsaddirichletbc descript addirichletbc simplest type nodalbc use impos socal essenti boundari condit system partial differenti equat pde boundari condit forc particular set degre freedom dof defin boundari paramet take singl control valu class appropri use pde form beginequ beginalign nabla u f quad omega u g quad partial omega_d fracparti uparti n h quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari case addirichletbc object use impos condit subset boundari denot partial omega_d case valu correspond constant g user must defin one sideset correspond boundari subset partial omega_d note addirichletbc comput jacobian use automat differenti preset boundari condit paramet preset true valu boundari condit appli solv begin preset fals boundari condit enforc solv progress situat preset boundari condit better exampl input syntax list testtestsbcsad_bc_preset_nodalbc_preset_nodali blockbc syntax paramet bcsaddirichletbc syntax input bcsaddirichletbc syntax children bcsaddirichletbc neumannbc syntax descript bcsneumannbc descript neumannbc simplest type integratedbc use impos flux boundari condit system partial differenti equat pde class appropri use pde form beginequ beginalign nabla u f quad omega u g quad partial omega_d fracparti uparti n h quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari case neumannbc object use impos condit subset boundari denot partial omega_n valu paramet correspond constant h user must defin one sideset correspond boundari subset partial omega_n normal deriv notat fracparti uparti n equiv nabla u cdot hatn hatn outward unit normal partial omega_n exampl input syntax list testtestsbcsd_neumannd_neumanni startright end includeendtru syntax paramet bcsneumannbc syntax input bcsneumannbc syntax children bcsneumannbc sindirichletbc syntax descript bcssindirichletbc descript sindirichletbc nodalbc impos timevari boundari valu form beginequ gt left beginarrayl g_ g_t g_ sin left fracpi tt right leq g_t geq endarray right endequ g_ g_t initi final valu g respect final time valu control initi final durat paramet respect valu appli one sideset specifi boundari paramet vari space type boundari condit applic timevari pde exampl beginequ beginalign fracparti uparti nabla u f quad omega u gt quad partial omega endalign endequ frequent use ramp difficult boundari condit final valu short time interv rather impos instantan time approach make nonlinear solver robust improv initi guess use newton iter well prevent solver converg nonphys solut nonlinear pde exampl input syntax list testtestsbcssin_bcsin_dirichlet_testi blockbc syntax paramet bcssindirichletbc syntax input bcssindirichletbc syntax children bcssindirichletbc admatchedvaluebc syntax descript bcsadmatchedvaluebc descript admatchedvaluebc adnodalbc appli system two variabl use impos equal two solut along given boundari class appropri system partial differenti equat pde form beginequ beginalign nabla u f_ quad omega nabla v f_ quad omega fracparti uparti n h_ quad partial omega_n fracparti vpartial n h_ quad partial omega_n u v quad partial omega_d endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari u v unknown f_ f_ forc function may depend u v h_ h_ given flux v paramet use specifi variabl whose valu tie u exampl variabl name happen v well exampl input syntax list testtestsbcsad_matched_value_bctesti startleft_u end includeendtru syntax paramet bcsadmatchedvaluebc syntax input bcsadmatchedvaluebc syntax children bcsadmatchedvaluebc vectorneumannbc syntax descript bcsvectorneumannbc descript vectorneumannbc integratedbc weakli impos flux boundari condit fracparti uparti n vecvcdothatn user specifi vector vecv unit normal vector hatn determin geometri domain omega class appropri use system partial differenti equat pde form beginequ beginalign nabla u f quad omega u g quad partial omega_d fracparti uparti n vecv cdot hatn quad partial omega_n endalign endequ alert note correspond choic ofvecv result solut sinc compon vecvwhich orthogon outward normal vector effect result class exist mainli conveni true solut constant flux easier specifi neumann boundari condit part boundari differ outward normal vector simpli specifi true constant flux vector allow moos dot appropri outward normal necessari exampl input syntax list testtestsbcsmisc_bcsvector_neumann_bc_testi starttop end includeendtru syntax paramet bcsvectorneumannbc syntax input bcsvectorneumannbc syntax children bcsvectorneumannbc adfunctionpenaltydirichletbc syntax descript bcsadfunctionpenaltydirichletbc descript adfunctionpenaltydirichletbc gener adpenaltydirichletbcadpenaltydirichletbcmd impos possibl tempor spatiallydepend valu defin moos functionfunctionsindexmd object particular set degre freedom dof defin boundari paramet pde form beginequ beginalign nabla u f quad omega u gtvecx quad partial omega_d fracparti uparti n htvecx quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari adfunctionpenaltydirichletbc object use impos condit function welldefin vecx partial omega_d case function paramet correspond moos function object repres mathemat function gtvecx user must defin one sideset correspond boundari subset partial omega_d via boundari paramet instead impos dirichlet condit directli basi replac equat associ degre freedom dof auxiliari equat ugtvecx adfunctionpenaltydirichletbc base variat statement find u homega beginequ labelweakform int_omega left nabla u cdot nabla v fv right textdx int_parti omega_n hv textd int_parti omega_d fracepsilon ugtvecxv textd endequ hold everi v homega weakform epsilon userselect paramet must taken small enough ensur u approx gtvecx partial omega_d userselect class paramet penalti correspond fracepsilon must chosen larg enough ensur good agreement dirichlet data larg result jacobian becom illcondit result fail solv overal accuraci loss benefit penaltybas approach includ simplifi dirichlet boundari condit enforc nonlagrang finit element base maintain symmetri origin problem avoid need zero contribut row special postassembl step integr part revers weakform one obtain beginequ labelweakform int_omega left nabla u f right v textdx int_parti omega_n left fracparti uparti n htvecx right v textd int_parti omega_d left fracparti uparti n fracepsilon ugtvecx right v textd endequ therefor recov perturb version origin problem flux boundari condit beginequ fracparti uparti n fracepsilon ugtvecx partial omega_d endequ replac origin dirichlet boundari condit shown citejuntunennitsch order solut perturb problem converg solut origin problem limit epsilon rightarrow penalti paramet must depend mesh size refin mesh problem becom increasingli illcondit relat method impos dirichlet boundari condit known nitsch method citejuntunennitsch suffer illcondit issu slate inclus moos time futur exampl input syntax list testtestsbcsad_penalty_dirichlet_bcfunction_penalty_dirichlet_bc_testi blockbc syntax paramet bcsadfunctionpenaltydirichletbc syntax input bcsadfunctionpenaltydirichletbc syntax children bcsadfunctionpenaltydirichletbc vectorpenaltydirichletbc syntax descript bcsvectorpenaltydirichletbc descript vectorpenaltydirichletbc implement vector form penaltydirichletbcpenaltydirichletbcmd enforc weak sens dirichlet boundari condit set boundari penalti time inner product test function differ current solut dirichlet data given pvecuast vecu vecu_ p scalar defin penalti valu vecuast test function vecu vecu_ vector differ current solut dirichlet data boundari condit use problem mesh refin could potenti smooth problem data coarser mesh howev problem refin mesh lead illcondit problem difficult solv exampl input syntax list testtestskernelsvector_feelectromagnetic_coulomb_gaugei blockbc syntax paramet bcsvectorpenaltydirichletbc syntax input bcsvectorpenaltydirichletbc syntax children bcsvectorpenaltydirichletbc matchedvaluebc syntax descript bcsmatchedvaluebc descript matchedvaluebc nodalbc appli system two variabl use impos equal two solut along given boundari class appropri system partial differenti equat pde form beginequ beginalign nabla u f_ quad omega nabla v f_ quad omega fracparti uparti n h_ quad partial omega_n fracparti vpartial n h_ quad partial omega_n u v quad partial omega_d endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari u v unknown f_ f_ forc function may depend u v h_ h_ given flux v paramet use specifi variabl whose valu tie u exampl variabl name happen v well exampl input syntax list testtestsbcsmatched_value_bcmatched_value_bc_testi startleft_u end includeendtru syntax paramet bcsmatchedvaluebc syntax input bcsmatchedvaluebc syntax children bcsmatchedvaluebc postprocessordirichletbc syntax descript bcspostprocessordirichletbc inform dirichlet boundari condit mathemat mean may found dirichletbcmd document common postprocessor input postprocessordirichletbc receivermd postprocessor popul transfer syntaxmultiappsindexmd two simul coupl boundari condit set valu variabl boundari exampl input syntax exampl demonstr use case outlin postprocessordirichletbc right boundari variabl x postprocessor input boundari condit incoming_x incoming_i respect list testtestsmultiappscentroid_multiappsub_appi blockpostprocessor bc syntax paramet bcspostprocessordirichletbc syntax input bcspostprocessordirichletbc syntax children bcspostprocessordirichletbc arrayvacuumbc descript syntax descript bcsarrayvacuumbc standard variabl version vacuumbcmd current alpha implement boundari condit array size number compon array variabl made full matrix allow compon coupl boundari condit syntax paramet bcsarrayvacuumbc syntax input bcsarrayvacuumbc syntax children bcsarrayvacuumbc bibtex bibliographi arraypenaltydirichletbc descript syntax descript bcsarraypenaltydirichletbc standard variabl version penaltydirichletbcmd syntax paramet bcsarraypenaltydirichletbc syntax input bcsarraypenaltydirichletbc syntax children bcsarraypenaltydirichletbc bibtex bibliographi onedequalvalueconstraintbc syntax descript bcsonedequalvalueconstraintbc constraint impos use lagrang multipli scalar variabl inform mortar method may found constraint documentationsyntaxconstraintsindexmd exampl input syntax exampl two line connect use onedequalvalueconstraintbc mortar constraint sign impos variabl valu boundari node specifi parambcsonedequalvalueconstraintbcvg paramet lagrang multipli lm also subject nodalequalvalueconstraint achiev continu interfac list testtestsmortarddi blockbc syntax paramet bcsonedequalvalueconstraintbc syntax input bcsonedequalvalueconstraintbc syntax children bcsonedequalvalueconstraintbc vacuumbc syntax descript bcsvacuumbc vacuum defin incom flux outsid boundari common approxim reactor physic beyond certain distanc nuclear system assum neutron may still leav system come back contribut residu equat int_parti omega alpha uvecr psi_tvecr ds partial omega domain definit psi_t test function exampl input syntax input vacuumbc use impos incom flux boundari condit diffus problem rz geometri problem top boundari variabl u list testtestscoord_typecoord_type_rz_integratedi blockbc syntax paramet bcsvacuumbc syntax input bcsvacuumbc syntax children bcsvacuumbc adpenaltydirichletbc syntax descript bcsadpenaltydirichletbc descript adpenaltydirichletbc adintegratedbc use enforc dirichlet boundari condit differ addirichletbcaddirichletbcmd class way handl enforc appropri partial differenti equat pde form beginequ beginalign nabla u f quad omega u g quad partial omega_d fracparti uparti n h quad partial omega_n endalign endequ instead impos dirichlet condit directli basi replac equat associ degre freedom dof auxiliari equat ug adpenaltydirichletbc base variat statement find u homega beginequ labelweakform int_omega left nabla u cdot nabla v fv right textdx int_parti omega_n hv textd int_parti omega_d fracepsilon ugv textd endequ hold everi v homega weakform epsilon userselect paramet must taken small enough ensur u approx g partial omega_d userselect class paramet penalti correspond fracepsilon must chosen larg enough ensur good agreement dirichlet data larg result jacobian becom illcondit result fail solv overal accuraci loss benefit penaltybas approach includ simplifi dirichlet boundari condit enforc nonlagrang finit element base maintain symmetri origin problem avoid need zero contribut row special postassembl step integr part revers weakform one obtain beginequ labelweakform int_omega left nabla u f right v textdx int_parti omega_n left fracparti uparti n h right v textd int_parti omega_d left fracparti uparti n fracepsilon ug right v textd endequ therefor recov perturb version origin problem flux boundari condit beginequ fracparti uparti n fracepsilon ug partial omega_d endequ replac origin dirichlet boundari condit shown citejuntunennitsch order solut perturb problem converg solut origin problem limit epsilon rightarrow penalti paramet must depend mesh size refin mesh problem becom increasingli illcondit relat method impos dirichlet boundari condit known nitsch method citejuntunennitsch suffer illcondit issu slate inclus moos time futur bibtex bibliographi exampl input syntax list testtestsbcsad_penalty_dirichlet_bcpenalty_dirichlet_bc_testi blockbc syntax paramet bcsadpenaltydirichletbc syntax input bcsadpenaltydirichletbc syntax children bcsadpenaltydirichletbc dgfunctiondiffusiondirichletbc syntax descript bcsdgfunctiondiffusiondirichletbc note boundari condit specif dg diffus problem use syntaxfunctionsindexmd dirichlet boundari condit mean spatial time depend either known impos inform dirichlet boundari condit mathemat mean may found dirichletbcmd document inform may found discontinu galerkin discret dgkernel documentationsyntaxdgkernelsindexmd exampl input syntax exampl diffus problem solv dg dirichlet boundari condit impos boundari use exact_fn function epsilon sigma paramet dg paramet list testtestsdgkernelsd_diffusion_dgd_diffusion_dg_testi blockbc syntax paramet bcsdgfunctiondiffusiondirichletbc syntax input bcsdgfunctiondiffusiondirichletbc syntax children bcsdgfunctiondiffusiondirichletbc arrayhfemdirichletbc descript boundari condit appli dirichlet boundari condit hfem hybrid finit element method compon array variabl standard variabl version hfemdirichletbcmd differ boundari valu compon assign exampl input syntax list testtestskernelshfemarray_dirichleti startal end includeendtru syntax paramet bcsarraydirichletbc syntax input bcsarraydirichletbc syntax children bcsarraydirichletbc matneumannbc syntax descript bcsmatneumannbc descript matneumannbc gener neumannbcneumannbcmd use impos flux boundari condit system partial differenti equat pde flux repres product constant moos materi materialmaterialsindexmd pde form beginequ beginalign nabla cdot c nabla u f quad omega u gtvecx quad partial omega_d c fracparti uparti n hmtvecx quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari matneumannbc object use impos condit materi welldefin relev time vecx partial omega_n case boundary_materi paramet correspond moos materi object user must defin one sideset correspond boundari subset partial omega_n via boundari paramet exampl input syntax list testtestsbcsmat_neumann_bcmat_neumanni blockbcstop syntax paramet bcsmatneumannbc syntax input bcsmatneumannbc syntax children bcsmatneumannbc adneumannbc syntax descript bcsadneumannbc descript adneumannbc simplest type adintegratedbc use impos flux boundari condit system partial differenti equat pde class appropri use pde form beginequ beginalign nabla u f quad omega u g quad partial omega_d fracparti uparti n h quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari case adneumannbc object use impos condit subset boundari denot partial omega_n valu paramet correspond constant h user must defin one sideset correspond boundari subset partial omega_n normal deriv notat fracparti uparti n equiv nabla u cdot hatn hatn outward unit normal partial omega_n exampl input syntax list testtestsbcsad_d_neumannd_neumanni startright end includeendtru syntax paramet bcsadneumannbc syntax input bcsadneumannbc syntax children bcsadneumannbc functionpenaltydirichletbc syntax descript bcsfunctionpenaltydirichletbc descript functionpenaltydirichletbc gener penaltydirichletbcpenaltydirichletbcmd impos possibl tempor spatiallydepend valu defin moos functionfunctionsindexmd object particular set degre freedom dof defin boundari paramet pde form beginequ beginalign nabla u f quad omega u gtvecx quad partial omega_d fracparti uparti n htvecx quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari functionpenaltydirichletbc object use impos condit function welldefin vecx partial omega_d case function paramet correspond moos function object repres mathemat function gtvecx user must defin one sideset correspond boundari subset partial omega_d via boundari paramet instead impos dirichlet condit directli basi replac equat associ degre freedom dof auxiliari equat ugtvecx functionpenaltydirichletbc base variat statement find u homega beginequ labelweakform int_omega left nabla u cdot nabla v fv right textdx int_parti omega_n hv textd int_parti omega_d fracepsilon ugtvecxv textd endequ hold everi v homega weakform epsilon userselect paramet must taken small enough ensur u approx gtvecx partial omega_d userselect class paramet penalti correspond fracepsilon must chosen larg enough ensur good agreement dirichlet data larg result jacobian becom illcondit result fail solv overal accuraci loss benefit penaltybas approach includ simplifi dirichlet boundari condit enforc nonlagrang finit element base maintain symmetri origin problem avoid need zero contribut row special postassembl step integr part revers weakform one obtain beginequ labelweakform int_omega left nabla u f right v textdx int_parti omega_n left fracparti uparti n htvecx right v textd int_parti omega_d left fracparti uparti n fracepsilon ugtvecx right v textd endequ therefor recov perturb version origin problem flux boundari condit beginequ fracparti uparti n fracepsilon ugtvecx partial omega_d endequ replac origin dirichlet boundari condit shown citejuntunennitsch order solut perturb problem converg solut origin problem limit epsilon rightarrow penalti paramet must depend mesh size refin mesh problem becom increasingli illcondit relat method impos dirichlet boundari condit known nitsch method citejuntunennitsch suffer illcondit issu slate inclus moos time futur exampl input syntax list testtestsbcspenalty_dirichlet_bcfunction_penalty_dirichlet_bc_testi blockbc syntax paramet bcsfunctionpenaltydirichletbc syntax input bcsfunctionpenaltydirichletbc syntax children bcsfunctionpenaltydirichletbc adfunctionneumannbc syntax descript bcsadfunctionneumannbc descript adfunctionneumannbc gener adneumannbcadneumannbcmd use impos flux boundari condit system partial differenti equat pde flux repres spatial temporallyvari moos functionfunctionsindexmd pde form beginequ beginalign nabla u f quad omega u gtvecx quad partial omega_d fracparti uparti n htvecx quad partial omega_n endalign endequ omega subset mathbbrn domain partial omega partial omega_d cup partial omega_n boundari adfunctionneumannbc object use impos condit function welldefin relev time vecx partial omega_n case function paramet correspond moos function object repres mathemat function htvecx user must defin one sideset correspond boundari subset partial omega_n via boundari paramet exampl input syntax list testtestsbcsad_function_neumann_bctesti blockbc syntax paramet bcsadfunctionneumannbc syntax input bcsadfunctionneumannbc syntax children bcsadfunctionneumannbc annularmesh syntax descript meshannularmesh descript annularmesh mesh gener build simpl annular disc mesh creat draw radial line concentr circl mesh consist quadrilater thu form therefor sophist pave use construct mesh inner radiu outer radiu must specifi inner radiu zero disc mesh creat posit annulu creat annulu one subdomain block number wherea disc two subdomain subdomain zero consist outer quadrilater block number consist triangular element eman origin minimum maximum angl may also specifi default zero respect valu chosen sector annulu sector disc creat angl measur anticlockwis x axi number element radial direct angular direct may specifi addit growth factor element size radial direct may chosen elements radial direct multipli factor concentr ring element move inner outer radiu sideset also creat sideset call rmin set side minimum radiu zero disc sideset call rmax set side maximum radiu sideset call dmin set side minimum angl creat case sector annulu disc sideset call dmax set side maximum angl creat case sector annulu disc exampl syntax full annulu minimum radiu maximum radiu smaller element near insid annulu disc would creat set rmin zero list testtestsmeshmesh_generationannulusi blockmesh sector annulu sit degre sector disc would creat set rmin zero list testtestsmeshmesh_generationannulus_sectori blockmesh exampl use sideset list testtestsmeshmesh_generationannulus_sectori blockbc syntax paramet meshannularmesh syntax input meshannularmesh syntax children meshannularmesh meshgeneratormesh syntax descript meshmeshgeneratormesh meshgeneratormesh moosemesh object mesh gener build may act directli mesh eventu possibl multipl mesh gener chain togeth contribut merg mesh alert note parammeshmeshgeneratormeshfinal_gener use ambigu construct mesh use simul warn output paramet provid ambigu detect howev case paramet requir warn realli indic issu chain mesh gener syntax paramet meshmeshgeneratormesh syntax input meshmeshgeneratormesh syntax children meshmeshgeneratormesh generatedmesh syntax descript meshgeneratedmesh descript generatedmesh object builtin mesh gener capabl creat line rectangl rectangular prism box mesh automat creat side set logic name number follow left right bottom right top left back bottom right top left front length width height domain well number element direct specifi independ exampl syntax list testtestskernelsad_mat_diffusionad_d_steady_statei blockmesh syntax paramet meshgeneratedmesh syntax input meshgeneratedmesh syntax children meshgeneratedmesh concentriccirclemesh syntax descript meshconcentriccirclemesh descript concentriccirclemesh object gener mesh concentr circl particularli would use gener mesh typic lwr fuel user refin mesh provid higher number ring specifi concentr circl region higher number sector quadrant test concentric_circle_meshitesttestsmeshcconcentric_circle_meshconcentric_circle_meshi explain use concentriccirclemesh object execut test gener mesh bash projectsmoosetestmoose_testopt concentric_circle_meshi meshonli execut test engin mathemat physic solver bash projectsmoosetestmoose_testopt concentric_circle_meshi alert note awar concentriccirclemesh work replicatedmesh type inform concentriccirclemesh work creat first quadrant call top_right mooseenum call portion control portion mesh gener onefourth portion circl gener rotat top_right portion half portion gener stitch two differ onefourth portion depend user usag user must provid input paramet number sector quadrant list radii list ring inner mesh fraction boolean volum preserv function list radii specif locat radii concentr circl list ring number ring concentr circl inner mesh fraction ratio length inner squar radiu innermost circl mesh volum concentr circl preserv onoff user choos mesh moder ad mesh concentr circl portion specifi howev requir default set gener full concentr circl develop inform your go enhanc concentriccirclemesh may develop windmil approach moder might necessari new algorithm ad node element includ connect may need found concentriccirclemeshc smooth method incorpor develop mesh exampl syntax list testtestsmeshconcentric_circle_meshconcentric_circle_meshi syntax paramet meshconcentriccirclemesh syntax input meshconcentriccirclemesh syntax children meshconcentriccirclemesh filemesh syntax descript meshfilemesh support file format filemesh default type moos name suggest read mesh extern file moos support read write larg number format could extend read extens descript e exd sandia exodusii format dat tecplot ascii file fro acdl surfac triangul file gmv lanl gmv gener mesh viewer format mat matlab triangular ascii file read msh gmsh ascii file n nem sandia nemesi format plt tecplot binari file write node ele poli tetgen ascii file read write inp abaqu inp format read ucd avss ascii ucd format unv idea univers format xda xdr libmesh format vtk pvtu visual toolkit syntax paramet meshfilemesh syntax input meshfilemesh syntax children meshfilemesh stitchedmesh syntax descript meshstitchedmesh overview stitchedmesh object allow multipl mesh file stitch togeth form singl mesh use simul exampl consid follow three mesh media mediameshstitched_mesh_leftpng stylewidthfloatleft captionfig left portion stitch mesh left media mediameshstitched_mesh_centerpng stylewidthfloatleftmarginleft captionfig center portion stitch mesh center media mediameshstitched_mesh_rightpng stylewidthfloatright captionfig right portion stitch mesh right use stitchedmesh object within meshmeshindexmd block input file shown input file snippet three squar mesh join singl mesh shown figur list testtestsmeshstitched_meshstitched_meshi blockmesh media mediameshstitched_mesh_outpng captionfig result stitch mesh combin three squar mesh syntax paramet meshstitchedmesh syntax input meshstitchedmesh syntax children meshstitchedmesh imagemesh syntax descript meshimagemesh descript imagemesh object conveni tool set mesh match pixel structur two three dimension imag gener use union imagefunctionimagefunctionmd object perform simul reli imag data set initi condit grain structur default gener mesh size dimens imag creat one element per pixel exampl syntax list testtestsfunctionsimage_functionimage_mesh_di blockmesh syntax paramet meshimagemesh syntax input meshimagemesh syntax children meshimagemesh spiralannularmesh mesh deriv moosemesh annular shape node locat differ concentr ring inner outer circl element triangular requir paramet inner_radiu outer_radiu nodes_per_r num_r given paramet radial bia comput automat also possibl specifi want secondord mesh tri element becom tri element simpli chang use_tri paramet true exampl input file exampl follow input file mesh type spiralannularmesh use_tri true inner_radiu nodes_per_r outer_radiu num_r result mesh look like media large_mediaspiral_annular_meshspiralannularmesh_examplepng stylewidth spiralannularmesh document syntax paramet meshspiralannularmesh syntax input meshspiralannularmesh syntax children meshspiralannularmesh tiledmesh syntax descript meshtiledmesh exampl name suggest tiledmesh object may util repeat mesh multipl time test tiled_mesh_testitesttestsmeshtiled_meshtiled_mesh_testi use illustr use tiledmesh object test file shown bottom section refer execut test moos test applic must compil bash cd projectsmoosetest make j navig locat test bash cd testsmeshtiled_mesh media mediameshtiled_mesh_outputpng stylefloatrightwidthmarginleft captionfig tile cube creat cube input media mediameshtiled_mesh_inputpng stylefloatrightwidthmarginleft captionfig cube util input tiledmesh object exampl util cube cube mesh input shown figur regular cube domain x zdirect specifi input file test see mesh use creat two tile x z direct execut exampl creat new mesh moos test applic execut special meshonli flag indic mesh oper perform run command creat result mesh file tiled_mesh_test_in intend use separ input file run complet simul bash projectsmoosetestmoose_testopt tiled_mesh_testi meshonli list testtestsmeshtiled_meshtiled_mesh_testi syntax paramet meshtiledmesh syntax input meshtiledmesh syntax children meshtiledmesh patternedmesh syntax descript meshpatternedmesh patternedmesh object similar tiledmeshtiledmeshmd restrict two dimens add abil creat tile pattern arbitrari number input mesh exampl input mesh shown figur organ two dimension pattern within input file shown creat pattern shown figur list testtestsmeshpatterned_meshpatterned_meshi media mediameshquad_meshpng stylefloatleftwidth captionfig input put mesh quad_mesh media mediameshtri_meshpng stylefloatleftwidthmarginleft captionfig input put mesh tri_mesh media mediameshpatterned_mesh_inpng stylefloatrightwidth captionfig result mesh creat use patternedmesh syntax paramet meshpatternedmesh syntax input meshpatternedmesh syntax children meshpatternedmesh ringlebmesh overview mesh appli ringleb problem problem test spatial accuraci highord method flow transon smooth geometri also smooth highord curv boundari represent appear critic govern equat govern equat euler equat gamma geometri let k streamlin paramet ie k constant streamlin two stream line two wall boundari kk_max inner wall kk_min outer wall let q veloc magnitud fix k k_min leq k leq k_max variabl q vari q_ k q defin speed sound densiti rho pressur p quantiti denot j beginequ asqrt fracgammaqquad rho afracgammaquad p fracgammaafrac gammagammaquad j fraca fraca fraca fraclog fracaa endequ pair qk set beginequ xqk fracrholeft frackfracq right fracj quad mathrmand quad yqk pm frack rho q sqrtfracqk endequ mesh overlook exampl let consid follow input file mesh type ringlebmesh kmin num_k_pt num_q_pt kmax n_extra_q_pt gamma triangl true correspond mesh look like media large_mediaringleb_meshringleb_meshpng stylewidth ringlebmesh document syntax paramet meshringlebmesh syntax input meshringlebmesh syntax children meshringlebmesh moosemesh moosemesh base class mesh object moos must inherit moosemesh respons hold underli data structur hold actual mesh libmesh cach mani commonli access entiti moos current requir activ mesh everi simul even mesh strictli necessari wrap third parti applic run nonf type calcul mesh howev consist singl element sideset nodeset moos appli sever differ object side set node set either comput quantiti interest set boundari condit import understand differ two concept nodeset simpli set node typic boundari contain common id node set id creat assign mesh builder program cubit gmsh sideset collectio dim element side edg typic boundari plane within mesh creat assign mesh build program default moos construct node set correspond side set within mesh mean alway prefer side set node set wont issu appli kind boundari condit boundari type object within moos detail user moos abil control whether side set node set automat construct default node set construct side set convers true paramet control follow paramet respect meshconstruct_node_list_from_side_listtru meshconstruct_side_list_from_node_listfals mesh miss side set node set may abl get around issu set second paramet true minim interfac inherit moosemesh develop respons creat mesh clone mesh use displac mesh problem method need overridden buildmesh safeclon geometricsearchdata sometim inform need exchang disconnect piec mesh exampl includ mechan contact gap heat conduct radiat constraint mesh tie geometr search system allow applic track evolv geometr relationship current entail two main capabl nearestnodelocatornearestnodelocatormd penetrationlocatorpenetrationlocatormd capabl work parallel parallel serialmesh locat request use four differ method geometricsearchdata api getquadraturepenetrationloc getpenetrationloc getquadraturenearestnodeloc getnearestnodeloc quadratur base method use within quadraturepoint base object like materialsmaterialsindexmd eg heatconduct modul gapconduct object integratedbcssyntaxbcsindexmd eg heatconduct modul gapheattransf object element auxkernelsauxkernelsindexmd eg element version gapvalueauxgapvalueauxmd nearestnodedistanceauxnearestnodedistanceauxmd penetrationauxpenetrationauxmd nonquadratur base method use nodal object nodefaceconstraintsconstraintsindexmd eg contact modul mechanicalcontactconstr object nodal auxkernelsauxkernelsindexmd eg nodal version gapvalueauxgapvalueauxmd nearestnodedistanceauxnearestnodedistanceauxmd penetrationauxpenetrationauxmd geometr search object like nearestnodelocatornearestnodelocatormd penetrationlocatorpenetrationlocatormd hold geometr purpos call algebra api like feproblembaseprepar queri libmeshdofobject inform inform may may initi time geometr search object updat queri attempt may result fail assert segmentaton fault penetrationloc penetrationloc provid perpendicular distanc secondari node primari side contact point primari side distanc return neg penetr hasnt yet occur posit get nearestnodeloc includ penetrationlocatorh call getpenetrationlocatorprimary_id secondary_id creat object algorithm penetrationloc util nearestnodelocatornearestnodelocatormd patch_siz still import media mediageomsearchpenetration_diagramjpg nearestnodeloc nearestnodeloc provid nearest node primari boundari node secondari boundari way around distanc two node also provid work gener neighborhood node primari side close secondari node size neighborhood control input file set patch_siz paramet mesh section media mediageomsearchnearest_node_diagramjpg use nearestnodeloc includ nearestnodelocatorh call getnearestnodelocatorprimary_id secondary_id creat object function distanc nearestnod take node id return either distanc nearest node node pointer nearest node respect referenceresidualproblem syntax descript problemreferenceresidualproblem descript default moos check converg use rel absolut criteria residu drop either absolut toler residu divid initi residu current time step drop rel toler solut consid converg work well mani problem scenario problemat converg larg scale differ solut variabl take l norm combin vector skew converg check becom increasingli domin variabl larger absolut valu residu vector scale differ increas model condit chang littl previou step initi residu low solut essenti converg nonlinear iter perform standard converg check use initi residu refer quantiti eventu fail step solut forc converg tighter limit time step numer roundoff error prevent solut converg tightli state problem valu residu degre freedom dirichlet boundari condit appli zero converg solut exampl mechan model dirichlet boundari condit prevent rigid bodi motion model experi free thermal expans reaction load point anoth exampl time step load appli referenceresidualproblem check converg compar residu differ refer quantiti instead initi residu user specifi refer vector use rel converg check solut variabl significantli differ scale converg check perform referenceresidualproblem check converg solut variabl individu l norm residu solut variabl less either rel toler time l norm correspond refer variabl absolut toler solut consid converg check converg individu variabl compar refer quantiti meaning even solut chang referenceresidualproblem address first two issu list third issu potenti problem referenceresidualproblem standard moos converg check deal discuss zero_resid use procedur requir user provid physic meaning refer quantiti vector reaction load case mechan integr flux case diffus problem typic suitabl purpos provid measur load appli system make refer quantiti simpli add extra_vector_tag reference_vector_nam paramvalu pair comput object want add refer vector explicit exampl given exampl sinc rel converg comput differ approach nonlinear rel toler requir achiev error typic differ default approach moos differ vari problem code user must evalu behavior model ensur appropri toler use deal residu zero boundari idzero_resid mention third case rel converg check fail converg solut problem zero boundari dirichlet boundari condit bc natur load condit would make referenceresidualproblem converg check fail norm refer vector would zero case manifest refer valu decreas rate residu rel converg never achiev mechan problem symmetri plane might happen one direct situat remedi group togeth residu compon displac variabl rather check individu refer vector one variabl group zero dirichlet bc restrict solut direct nonzero other residu set variabl check togeth variabl zero valu prevent converg normal would group variabl accomplish use group_vari option use provid one list name variabl group togeth case howev may degre freedom nonzero residu dirichlet bc even group variabl could happen mechan problem free expans dirichlet bc import prevent rigid bodi motion restrain deform bodi could also happen simpli load model time step necessari case also specifi absolut toler use nl_abs_tol problemspecif valu must higher residu solut longer converg tighter due numer roundoff error suffici low ensur solut converg limit reach exampl input syntax idexampl list testtestsproblemsreference_residual_problemreference_residuali blockproblem extra_tag_vector paramet indic addit vector ad nonlinear system paramet must contain name vector use reference_vector exampl creat one extra vector ref vector use hold refer residu comput object add refer vector simpli add extra_vector_tag reference_vector_nam paramvalu pair illustr list testtestsproblemsreference_residual_problemreference_residuali blockbc exampl use integr flux refer quantiti compar individu variabl residu group variabl list modulescombinedtesttestsreference_residualgroup_variablesi blockproblem multipl group variabl provid group_vari separ semicolon converg variabl given group_vari check individu given variabl includ one group syntax paramet problemreferenceresidualproblem syntax input problemreferenceresidualproblem syntax children problemreferenceresidualproblem eigenproblem syntax descript problemeigenproblem eigenproblem primari eigenvalu system moos framework offer linear nonlinear eigensolv leverag slepchttpsslepcupv capabl mainli ep system linear problem system support one eigenvalu multipl eigenvalu nonlinear problem current support solv smallest magnitud eigenvalu develop nonlinear eigensolv mainli motiv neutron transport critic calcul implement algorithm gener applic applic gener linear eigenvalu problem uniformli rewritten beginequ ax lambda bx endequ b matric x eigenvector lambda eigenvalu gener speak nonsingular matrix b singular eg eigenvalu problem dirichlet boundari condit mani solver slepc handl linear eigenproblem choos algorithm execution block exampl jacobi davidson list testtestsproblemseigen_problemeigensolversgipmi blockexecution linkfals note use linear solver slepc need form accur b util repres underli physic b incorrect like end wrong eigenvalu eigenvector reason want use linear eigenvalu solver need implement jacobian hand ad correspond kernel detail linear eigensolv found slepc user manualhttpsslepcupvesdocumentationslepcpdf multiphys environ physic often nonlinear instanc neutron transport temperatur feedback case b constant anymor instead depend eigenvector directli indirectli describ nonlinear solver write gener nonlinear eigenvalu problem beginequ ax lambda bx endequ acdot bcdot nonlinear function eigenproblem system kernel acdot refer noneigen kernel bcdot refer eigen util newton method solv problem defin lambda fracbx rewrit nonlinear eigen problem beginequ fx ax lambda bx endequ newton appli solv problem issu deriv lambda respect x dens use jacobianfre newton method overcom difficulti action jacobian solut vector approxim via finit differ handl variou use case variant newton provid system current list pjfnk precondit jacobianfre newton krylov precondit matrix form use noneigen kernel option allow user incorpor eigen kernel precondit matrix still gener wont encourag user sinc precondit matrix might singular close solut list testtestsproblemseigen_problemeigensolversnei blockexecution linkfals jfnk jacobianfre newton krylov user respons provid precondition allow user build custom precondition use sweeper radiat transport might effici underli problem list testtestsproblemseigen_problempreconditionersne_pbpi blockexecution precondit linkfals pjfnkmo matrixonli precondit jacobianfre newton krylov mathemat option pjfnk differ residu evalu pjfnk call user residualfunct evalu routin includ finit element calcul pjfnkmo form residu vector via matrixvector multipl x ax bx bx use matric constant option effici problem nonlinear ie matric constant use solv option attempt reevalu b newton iter solv option valid picard iter matric constant picard iter condit chang picard iter reevalu two matric begin picard iter list testtestsproblemseigen_problemjfnk_mone_array_moi blockexecution linkfals newton newton method jacobian precondit matric option ad consist nonlinear system nonlinear eigensystem sinc option account deriv eigenvalu respect eigenvector option effici user use gener gener eigenproblem take care follow custom solv normal scale paramet eigenvector set type slepc eigenvalu solver whether start solv free power iter mani select eigenvector interest residu syntax paramet problemeigenproblem syntax input problemeigenproblem syntax children problemeigenproblem feproblem feproblem class repres normal default problem class encompass necessari object actual physic solv feproblem object contain one nonlinearsystemmd one auxiliarysystemmd syntax descript problemfeproblem syntax paramet problemfeproblem syntax input problemfeproblem syntax children problemfeproblem bibtex bibliographi externalproblem intermedi class use extens point inherit extern coupl code moosewrap app extern coupl interfac overrid solv method along method test converg last solv inform use externalproblem wrap applic may found applic develop documentationmodulesdoccontentapplication_developmentmoose_wrapped_appsmd optionaltru exampl extern petsc applic externalpetscproblemmodulesexternal_petsc_solverdoccontentsourceexternalpetscproblemmd optionaltru inherit externalproblem run pure petsc solver also abl sync petsc solut moos variabl cardin cardinalhttpsgithubcomneamsthcoecardin open sourc coupl moos mont carlo code openmchttpsgithubcomopenmcdevopenmc spectral element cfd code nekrshttpsgithubcomneknekr extern solver moosebas applic externalproblem use order solv custom transfer implement pass field applic bibtex bibliographi feproblembas feproblembas class intermedi base class contain common logic run variou moos simul moos two builtin type problem feproblemmd solv normal physic problem eigenproblemmd solv eigenvalu problem addit moos contain externalproblemmd problem use creat moosewrap appsmoose_wrapped_appsmd optionaltru conveni zero one advantag moos framework eas build multiphys simul coupl firstclass featur fill residu materi properti coupl natur coupl option often handi access valid data structur may use inplac actual coupl variabl make possibl avoid branch statement insid residu statement comput intens area code one way moos make possibl make sever differ type zero variabl avail follow statement illustr option coupl may implement zero cpp constructor initi list kernel _velocity_vectorisparamvalidvelocity_vector coupledgradientvelocity_vector _grad_zero residu statement return _test_i_qp _velocity_vector_qp _grad_u_qp select reinit system automat determin variabl made avail use current element reinit variabl track call coupl interfac variabl need simpli prepar save signific amount time system sever activ variabl finit element concept shape function idshape_funct weak form essenti need ad physic moos tradit finit element softwar work necessari need discret weak form select set simpl basi function amen manipul comput media mediaproblemsbasisfunctionexamplejpg captionexampl linear lagrang shape function associ singl node triangular mesh stylewidth media mediaproblemsodenlinearlagrangejpg captiond linear lagrang shape function stylewidth discret expans u take follow form u approx u_h sum_jn u_j phi_j phi_j call basi function phi_j form basi trial function u_h analog xn use earlier gradient u expand similarli nabla u approx nabla u_h sum_jn u_j nabla phi_j galerkin finit element method basi function use trial test function psi phi_i_in substitut expans back weak form get leftnablapsi_i knabla u_h right langlepsi_i knabla u_hcdot hatn rangl leftpsi_i vecbeta cdot nabla u_hright leftpsi_i fright quad ildotsn lefthand side equat gener refer ith compon residu vector write r_iu_h shape function function get multipli coeffici sum form solut individu shape function restrict global basi function individu element analog xn function polynomi fit fact use shape function typic shape function famili lagrang hermit hierarch monomi cloughtouch moos support lagrang shape function common interpolari node ie coeffici correspond valu function node exampl shape function media mediaproblemslinearlagrangegraphjpg stylewidth linear lagrang media mediaproblemsquadraticlagrangegraphjpg stylewidth quadrat lagrang media mediaproblemscubiclagrangegraphjpg stylewidth cubic lagrang media mediaproblemscubichermitegraphjpg stylewidth cubic hermit lagrang shape function exampl biquadrat basi function defin quad element psi_ associ corner node zero opposit edg psi_ associ midedg node zero edg psi_ associ center node symmetr geq element media mediaproblemsquadcornerjpg stylewidth psi_ media mediaproblemsquadedgepng stylewidth psi_ media mediaproblemsquadcenterjpg stylewidth psi_ numer integr idnumerical_integr remain nondiscret part weak form integr split domain integr sum integr element int_omega fvecx textdvecx sum_ int_omega_ fvecx textdvecx chang variabl element integr map integr refer element hatomega_ sum_ int_omega_ fvecx textdvecx sum_ int_hatomega_ fvecxi leftmathcalj_eright textdvecxi mathcalj_ jacobian map physic element refer element approxim refer element integr numer use quadratur typic gaussian quadratur sum_ int_hatomega_ fvecxi leftmathcalj_eright textdvecxi approx sum_ sum_q w_q f vecx_q leftmathcalj_evecx_qright vecx_q spatial locat qth quadratur point w_q associ weight moos handl multipl jacobian weight automat thu kernel respons comput fvecx_q part integrand certain common situat quadratur approxim exact exampl dimens gaussian quadratur exactli integr polynomi order n n quadratur point note sampl u_h quadratur point yield beginalign uvecx_q approx u_hvecx_q sum u_j phi_jvecx_q nabla u vecx_q approx nabla u_hvecx_q sum u_j nabla phi_jvecx_qendalign weak form becom beginalign r_iu_h sum_ sum_q w_q leftmathcalj_erightleft nablapsi_icdot k nabla u_h psi_i leftvecbetacdot nabla u_h right psi_i f rightvecx_q sum_f sum_q_fac w_q_face leftmathcalj_fright leftpsi_i k nabla u_h cdot vecn rightvec x_q_face endalign second sum boundari face f moos kernel must provid term squar bracket evalu vecx_q vec x_q_face necessari syntax descript problemfeproblem syntax paramet problemfeproblem syntax input problemfeproblem syntax children problemfeproblem bibtex bibliographi displacedproblem syntax descript problemdisplacedproblem displacedproblem encompass normal undisplac feproblembasemd feproblemmd eigenproblemmd exampl function attribut displacedproblem often forward normal encompass problem modifi displac affect behavior adaptivitysyntaxadaptivityindexmd displacedproblem object contain displac nonlinear system displac auxiliari system displac mesh undisplac mesh also obtain displacedproblem alert note displacedproblem automat creat createdisplacedproblemactionmd parammeshsetupmeshactiondisplac paramet set mesh block syntax paramet problemdisplacedproblem syntax input problemdisplacedproblem syntax children problemdisplacedproblem dumpobjectsproblem syntax descript problemdumpobjectsproblem run input file overrid problemtyp paramet dumpobjectsact set problemdump_path paramet full _hit_ input file syntax path action dump individu moos object variabl creat action pars setup stage dumpobjectsproblem execut input object creat paramet set select action dump screen moos halt execut exampl input file two_block_newi test tensormechan master action action set auxvari auxkernel materi mechan probem let see examin exactli particular action block block file set compil tensor_mechan modul execut run tensor_mechanicsopt testtestsactiontwo_block_newi problemtypedumpobjectsproblem problemdump_pathmodulestensormechanicsmasterblock obtain output auxkernel stress_xx_block type ranktwoaux block execute_on timestep_end index_i index_j rank_two_tensor stress variabl stress_xx strain_yy_block type ranktwoaux block execute_on timestep_end index_i index_j rank_two_tensor total_strain variabl strain_yy auxvari stress_xx block famili monomi order constant strain_yy block famili monomi order constant kernel tm_block type stressdivergencetensor block compon displac disp_x disp_i use_displaced_mesh true variabl disp_x tm_block type stressdivergencetensor block compon displac disp_x disp_i use_displaced_mesh true variabl disp_i materi block_strain type computefinitestrain block displac disp_x disp_i variabl disp_x block disp_i block list testtestsactiontwo_block_newi blockmodulestensormechanicsmast block input file creat auxvari auxkernel trigger generate_output paramet kernel inform choic coordin system finit strain calcul materi note particular action creat moos object select block set moos variabl set union block handl action syntax paramet problemdumpobjectsproblem syntax input problemdumpobjectsproblem syntax children problemdumpobjectsproblem bibtex bibliographi arrayconstant syntax descript icsarrayconstant compon array variabl must specifi simultan constant valu may set whole domain particular block specifi boundari exampl input syntax exampl constant initi condit set array variabl u auxiliari array variabl v size respect list testtestsicsarray_constant_icarray_constant_ic_testi blockic syntax paramet icsarrayconstant syntax input icsarrayconstant syntax children icsarrayconstant initialcondit base class defin field initi condit vectorfunction vectorfunction allow compon vector variabl defin use functionsyntaxfunctionsindexmd object function suppli requir vectorvalu method suppli function defin sinc use popul vector variabl syntax descript icsvectorfunction syntax paramet icsvectorfunction syntax input icsvectorfunction syntax children icsvectorfunction bibtex bibliographi arrayfunction syntax descript icsarrayfunction compon array variabl must specifi simultan exampl input syntax exampl initi condit set array variabl u auxiliari array variabl v size use two sinusoid function list testtestsicsarray_function_icarray_function_ic_testi blockic function syntax paramet icsarrayfunction syntax input icsarrayfunction syntax children icsarrayfunction scalarcomponent syntax descript icsscalarcomponent compon scalar variabl must set simultan exampl input syntax exampl initi valu scalar variabl v size set use scalarcomponent list testtestsicscomponent_iccomponent_ici blockic syntax paramet icsscalarcomponent syntax input icsscalarcomponent syntax children icsscalarcomponent scalarinitialcondit base class defin scalar initi condit function syntax descript icsfunction set initi condit via functionsyntaxfunctionsindexmd describ paramet paramicsfunctionicfunct restrict particular block boundari use paramicsfunctionicblock paramicsfunctionicboundari paramet respect set function initi condit preserv integr function set volumetr quantiti unitsm satisfi total volumeintegr see integralpreservingfunctionicicsintegralpreservingfunctionicmd exampl input syntax exampl set initi valu variabl u use mooseparsedfunctionmd particular exampl show inform gradient pars function kept initi condit use mesh refin list testtestsicsfunction_icparsed_functioni blockic function syntax paramet icsfunction syntax input icsfunction syntax children icsfunction random random initi variabl use randomli gener number either follow uniform distribut userdefin rang use min max paramet follow arbitrari distribut defin distribut object specifi use distribut paramet initi seed valu may set seed paramet random object produc parallel agnost random field alert note result current parallel agnost use distributedmesh class descript syntax descript icsrandom syntax paramet icsrandom syntax input icsrandom syntax children icsrandom bibtex bibliographi boundingbox boundingbox allow set initi condit valu insid outsid specifi box box align x z axe specifi pass x z coordin bottom left point top right point coordin bottom_left point must less coordin top_right point set initi condit bottom_left point top_right insid valu use otherwis outsid valu use alert note use ic singl bound box specifi within domain multipl bound box need capabl implement phase_field modul multiboundingbox class descript syntax descript icsboundingbox syntax paramet icsboundingbox syntax input icsboundingbox syntax children icsboundingbox bibtex bibliographi integralpreservingfunction syntax descript icsintegralpreservingfunction descript set initi condit preserv integr paramicsintegralpreservingfunctionicfunct use specifi overal form initi condit appli initi condit beginequ labeleq uvecr t_ q_ fvecr t_ endequ u variabl f function q_ scale factor use preserv total paramicsintegralpreservingfunctionicmagnitud upon volum integr beginequ labeleq q_fracqint_omega fdomega endequ q total magnitud omega domain integr exampl input syntax exampl set sinusoid heat sourc gener form sinleftfracpi zhright total magnitud upon volum integr mean actual initi condit q_sinleftfracpi zhright q_ determin order satisfi specifi total volum integr list testtestsicsintegral_preserving_function_icsinusoidal_zi startic endexecution syntax paramet icsintegralpreservingfunction syntax input icsintegralpreservingfunction syntax children icsintegralpreservingfunction vectorconstant vectorconstant class use set initi valu compon vector variabl x compon set x_valu paramet compon y_valu z compon z_valu note x_valu requir y_valu z_valu suppli default zero syntax descript icsvectorconstant syntax paramet icsvectorconstant syntax input icsvectorconstant syntax children icsvectorconstant scalarconstant syntax descript icsscalarconstant syntax paramet icsscalarconstant syntax input icsscalarconstant syntax children icsscalarconstant constant syntax descript icsconstant set constant initi condit describ paramet paramicsconstanticvalu restrict particular block boundari use paramicsconstanticblock paramicsconstanticboundari paramet respect exampl input syntax exampl constant initi condit set variabl u auxiliari array variabl u_aux valu u_aux block set differ two constant object list testtestsicsconstant_icsubdomain_constant_ic_testi blockic syntax paramet icsconstant syntax input icsconstant syntax children icsconstant functionscalar syntax descript icsfunctionscalar function evalu simul start time point coordin exampl input syntax exampl scalar variabl n solut first order ode initi use function f sinc start time simul f evalu co list testtestsicsfunction_scalar_icfunction_scalar_ici blockic function syntax paramet icsfunctionscalar syntax input icsfunctionscalar syntax children icsfunctionscalar equalvalueembeddedconstraint syntax descript constraintsequalvalueembeddedconstraint constraint act upon overlap portion two block secondari block primari block constraint enforc secondari variabl secondari block primari variabl primari block valu mesh dimens two block match constraint iter node secondari block search primari element contain secondari node secondari node locat within element constraint appli forc secondari node valu solut variabl primari element evalu locat secondari point use number applic exampl mechan problem use connect lower dimension element truss element continuum element use model reinforc way requir reinforc continuum mesh coincid node mathemat formul option avail control constraint appli kinemat option strictli enforc valu solut secondari node equal valu primari element point constraint enforc updat secondari residu r_ primari residu r_m beginequ beginalign r_ r_ f_c k_pu_secondari u_primari r_m r_m phi_i r_scopi endalign endequ r_scopi copi residu secondari node constraint appli k_p userspecifi penalti paramet formul use penalti paramet penal error converg solut error due penalti penalti factor must specifi consist scale solut variabl appli penalti option use penalti formul error solut proport userspecifi penalti paramet k_p constraint enforc modifi secondari primari residu constraint enforc updat secondari residu r_ primari residu r_m beginequ beginalign r_ r_ k_pu_secondari u_primari r_m r_m phi_i k_pu_secondari u_primari endalign endequ r_scopi ghost residu penalti paramet must select care small valu lead larg differ secondari node solut solut primari element larg valu may lead poor converg syntax paramet constraintsequalvalueembeddedconstraint syntax input constraintsequalvalueembeddedconstraint syntax children constraintsequalvalueembeddedconstraint linearnodalconstraint syntax descript constraintslinearnodalconstraint linearnodalconstraint class constrain secondari node move linear combin primari node primari node id correspond weight taken input along secondari node set secondari node id nodal constraint enforc either use penalti formul kinemat formul syntax paramet constraintslinearnodalconstraint syntax input constraintslinearnodalconstraint syntax children constraintslinearnodalconstraint bibtex bibliographi oldequalvalueconstraint oldequalvalueconstraint class use enforc continu variabl across mortar interfac period boundari condit variabl specifi use primary_vari paramet solut valu match differ variabl secondary_vari paramet also suppli lagrang multipli use perform constraint enforc syntax descript constraintsoldequalvalueconstraint syntax paramet constraintsoldequalvalueconstraint syntax input constraintsoldequalvalueconstraint syntax children constraintsoldequalvalueconstraint bibtex bibliographi equalgradientconstraint equalgradientconstraint class use enforc continu compon variabl gradient across mortar interfac period boundari condit gradient compon match specifi use unsign paramet compon variabl specifi use primary_vari paramet gradient match differ variabl secondary_vari paramet also suppli lagrang multipli use perform constraint enforc syntax descript constraintsequalgradientconstraint syntax paramet constraintsequalgradientconstraint syntax input constraintsequalgradientconstraint syntax children constraintsequalgradientconstraint bibtex bibliographi coupledtiedvalueconstraint syntax descript constraintscoupledtiedvalueconstraint constraint impos strongli side interfac contribut residu exampl input syntax exampl valu variabl u v defin left right domain tie left right boundari two disconnect domain use coupledtiedvalueconstraint list testtestsconstraintscoupled_tied_value_constraintcoupled_tied_value_constrainti blockconstraint syntax paramet constraintscoupledtiedvalueconstraint syntax input constraintscoupledtiedvalueconstraint syntax children constraintscoupledtiedvalueconstraint tiedvalueconstraint syntax descript constraintstiedvalueconstraint constraint impos strongli side interfac contribut residu pleas see coupledtiedvalueconstraintmd two variabl case tiedvalueconstraint may also use two differ variabl howev diagon term jacobian constraint implement coupledtiedvalueconstraintmd exampl input syntax exampl valu variabl u defin left right domain tie left right boundari two disconnect domain use tiedvalueconstraint list testtestsconstraintstied_value_constrainttied_value_constraint_testi blockconstraint syntax paramet constraintstiedvalueconstraint syntax input constraintstiedvalueconstraint syntax children constraintstiedvalueconstraint equalvalueboundaryconstraint syntax descript constraintsequalvalueboundaryconstraint differ two variabl singl variabl valu primari node secondari node boundari simpli multipli penalti factor ad residu exampl input syntax exampl variabl diffus constrain equal node top boundari use e penalti factor list testtestsconstraintsequal_value_boundary_constraintequal_value_boundary_constraint_testi blockconstraint syntax paramet constraintsequalvalueboundaryconstraint syntax input constraintsequalvalueboundaryconstraint syntax children constraintsequalvalueboundaryconstraint equalvalueconstraint equalvalueconstraint class use enforc continu variabl across mortar interfac period boundari condit variabl specifi use primary_vari paramet solut valu match differ variabl secondary_vari paramet also suppli lagrang multipli use perform constraint enforc syntax descript constraintsequalvalueconstraint syntax paramet constraintsequalvalueconstraint syntax input constraintsequalvalueconstraint syntax children constraintsequalvalueconstraint bibtex bibliographi automaticmortargener automaticmortargener class use defin mortar segment mesh properli integr discontinu caus normal project nonmatch facet mesh gener mortar segment mesh outlin citeosti_ short nodalnorm project use map point primari interfac secondari interfac secondari interfac element split project node form mortar segment mesh element gener mortar segment mesh challeng variou approach exist moos follow approach suggest citepusod defin mortar segment local linear secondari interfac secondari interfac compos entir tri face alreadi linear gener mortar segment mesh reduc project primari face element onto secondari face element along secondari face normal perform polygon clip subsequ triangular mortar segment mesh therefor simpli submesh secondari mesh case definit delic quadrilater face second order geometri quad face firstord quad face gener linear twist potatochip quad element complic simpl project polygon clip defin tri face circumv problem mortar segment mesh defin local linear quad element see linear quad face element allow polygon clip algorithm use tri face element mortar segment mesh element produc coincid secondari mesh mortar segment mesh disconnect secondari element media mediaframeworkconstraintslinearizedquadjpg second order geometri tri quad face element defin second order geometri curvilinear simplifi clip procedur secondari primari face element subdivid firstord face element subsequ linear illustr clip triangular routin appli linear subel creat mortar segment see citepusoseg media mediaframeworkconstraintssecondorderlinearizedjpg quadratur point defin mortar segment live linear element map back second order element follow analog revers procedur one illustr point map linear element first order subel subsequ transform origin second order element bibtex bibliographi addauxvariableact syntax descript auxvariablesaddauxvariableact action deriv addvariableactionmd check auxiliari variabl famili type ad problemsyntaxproblemindexmd auxiliari variabl directli solv nonlinear system specifi object insid auxvari block inform auxiliari variabl found auxvari syntax pagesyntaxauxvariablesindexmd syntax paramet auxvariablesaddauxvariableact setupdebugact syntax descript debugsetupdebugact overview actionactionmd object act whenev debug block exist input file provid paramet list creat variou output object well flag debug action andor parser system execut pleas refer debugindexmd detail syntax paramet debugsetupdebugact headingnon setuptimestepperact syntax descript executionertimesteppersetuptimestepperact timestepp specifi object insid timestepp block execution block shown list testteststime_steppersconstant_dtconstant_dti blockexecution action set timestepp transient execution inform timestepp may found timestepp syntax documentationsyntaxexecutionertimestepperindexmd syntax paramet executionertimesteppersetuptimestepperact setupmeshact syntax descript meshsetupmeshact setupmeshact respons set mesh base may come meshgener legaci mesh load file paramet split mesh restart recoveri process uniform refin paramet convers first second order mesh creation displac mesh modif mesh gener process use split mesh mesh initi inform mesh may found mesh syntax documentationsyntaxmeshindexmd syntax paramet meshsetupmeshact addmeshgeneratoract add meshgener object system list meshgener input file action add applicationmooseappmd prefer syntax ad meshgener add mesh block syntax paramet meshaddmeshgeneratoract setupquadratureact syntax descript executionerquadraturesetupquadratureact quadratur specifi object insid quadratur block execution block shown list testtestsquadratureorderblockorderi blockexecution action add default quadratur rule problem add custom request quadratur specifi block inform quadratur may found quadratur syntax documentationsyntaxexecutionerquadratureindexmd syntax paramet executionerquadraturesetupquadratureact moos action system moos action deriv base class action use set problem moos object includ mesh gener kernel materi user object etc action option link input syntax provid valid paramet action moos input parser behind scene action assoc task determin action act act function action call moos associ multipl task allow case develop respons switch function base current task act function full list task avail moosec file develop allow regist new task moos action system action built either input parser intern moos exist entir simul moos lot builtin action ad individu object input file moos action system far beyond basic capabl provid builtin action develop encourag explor moos action system creat action order perform problem setup one place potenti simplifi input syntax significantli one exampl use action append mesh gener gener boundari surround particular subdomain impos specif boundari condit base inform necessarili insid mesh gener block relationship manag action ad mooseobject custom action object associ relationship manag addrelationshipmanagersmooserelationshipmanagertyp input_rm_typ must overridden contactact contact modul porousflowactionbas porou flow modul provid exampl overrid method reason behind must done action system pleas see relationshipmanagermdrm_act addmaterialact syntax descript materialsaddmaterialact materi specifi object insid materi block action add problemsyntaxproblemindexmd inform materi paramet found materi syntax documentationsyntaxmaterialsindexmd syntax paramet materialsaddmaterialact mooseobjectact base class action creat moos object type object specifi class pleas refer action pageactionmd inform action addkernelact syntax descript kernelsaddkernelact action handl kernel auxkernel kernel specifi object insid kernel block auxkernel specifi object insid auxkernel block action add problemsyntaxproblemindexmd inform kernel found kernel syntax documentationsyntaxkernelsindexmd syntax paramet kernelsaddkernelact adddgkernelact syntax descript dgkernelsadddgkernelact dgkernel specifi object insid dgkernel block action add problemsyntaxproblemindexmd inform discontinu galerkin kernel dgkernel may found dgkernel syntax pagesyntaxdgkernelsindexmd syntax paramet dgkernelsadddgkernelact createproblemact syntax descript problemcreateproblemact inform problem system may found problem syntax documentationsyntaxproblemindexmd syntax paramet problemcreateproblemact globalparamsact syntax descript globalparamsglobalparamsact global paramet set globalparam block shown list miscdisplaced_mesh_couplingadi blockglobalparam inform globalparam system may found globalparam syntax documentationsyntaxglobalparamsindexmd syntax paramet globalparamsglobalparamsact adaptivityact syntax descript executioneradaptivityadaptivityact adapt object may specifi insid adapt block marker indic adapt specifi within nest subblock action add algebra geometr relationship managersrelationshipmanagermd set paramet adapt object initi inform adapt found adapt syntax pagesyntaxadaptivityindexmd syntax paramet executioneradaptivityadaptivityact addtransferact addtransferact gener mooseobjectactionmd creat transfer object list within transfer block input file syntax paramet transfersaddtransferact setuptimeintegratoract syntax descript executionertimeintegratorsetuptimeintegratoract timeintegr specifi object insid timeintegr block execution block shown list testtestsvariablestime_derivatives_neighbortesti blockexecution mooseobjectactionmd add problemsyntaxproblemindexmd inform timeintegr may found timeintegr syntax documentationsyntaxexecutionertimeintegratorindexmd syntax paramet executionertimeintegratorsetuptimeintegratoract addelementalfieldact syntax descript adaptivityindicatorsaddelementalfieldact moos adapt system reli error calcul inform marker dictat element refin coarsen error marker reli auxiliari field variabl action creat field variabl pleas refer syntaxadaptivityindexmd detail regard adapt system syntax paramet adaptivityindicatorsaddelementalfieldact addindicatoract addindicatoract mooseobjectactionmd creat specifi indic object block adaptivityind block input file action add object problemsyntaxproblemindexmd see syntaxadaptivityindexmd inform syntax paramet adaptivityindicatorsaddindicatoract adddirackernelact syntax descript dirackernelsadddirackernelact dirackernel specifi object insid dirackernel block action add problemsyntaxproblemindexmd inform dirac kernel may found dirac kernel syntax pagesyntaxdirackernelsindexmd syntax paramet dirackernelsadddirackernelact setupmeshcompleteact syntax descript meshsetupmeshcompleteact action ran mesh setup ensur mesh readi simul take care delet unnecessari remot element trigger uniform refin gener prepar mesh neighbor search renumb partit syntax paramet meshsetupmeshcompleteact setuppreconditioneract syntax descript preconditioningsetuppreconditioneract precondition nonlinear system specifi object insid precondition block actionmd take care ad nonlinearsystembasemd inform precondition may found precondit syntax documentationsyntaxpreconditioningindexmd syntax paramet preconditioningsetuppreconditioneract addnodalkernelact syntax descript nodalkernelsaddnodalkernelact kernel nodal variabl specifi object insid nodalkernel block mooseobjectactionmd add problemsyntaxproblemindexmd inform nodalkernel may found nodalkernel syntax documentationsyntaxnodalkernelsindexmd syntax paramet nodalkernelsaddnodalkernelact adddamperact syntax descript dampersadddamperact damper specifi object insid damper block action add problemsyntaxproblemindexmd inform damper may found damper syntax documentationsyntaxdampersindexmd syntax paramet dampersadddamperact addvectorpostprocessoract syntax descript vectorpostprocessorsaddvectorpostprocessoract vector postprocessor vectorpostprocessor specifi object insid vectorpostprocessor block mooseobjectactionmd add problemsyntaxproblemindexmd inform vectorpostprocessor may found vectorpostprocessor syntax documentationsyntaxvectorpostprocessorsindexmd syntax paramet vectorpostprocessorsaddvectorpostprocessoract displayghostingact displayghostingact output ghost simul moos attempt ghost minimum amount data run simul order know ghost need object add one relationshipmanag class object set sever auxvari auxkernel output geometr algebra ghost output ghost add follow paramet mesh block mesh output_ghost true include_local_in_ghost true include_local_in_ghost paramet also includ processor local element ghost field give complet view ghost exampl list testtestsauxkernelsghosting_auxghosting_auxi blockmesh bibtex bibliographi setupresidualdebugact syntax descript debugsetupresidualdebugact overview actionactionmd object act whenev debug block exist input file provid paramet list creat necessari object comput residu variabl list paramdebugsetupresidualdebugactionshow_var_residu paramet pleas refer debugindexmd detail syntax paramet debugsetupresidualdebugact headingnon addoutputact syntax descript outputsaddoutputact overview mooseobjectactionmooseobjectactionmd act exist output block creat output object see syntaxoutputsindexmd inform syntax paramet outputsaddoutputact materialderivativetestact syntax descript debugmaterialderivativetestmaterialderivativetestact set materialderivativetestkernelmaterialderivativetestkernelmd materialderivativeranktwotestkernelmaterialderivativeranktwotestkernelmd materialderivativerankfourtestkernelmaterialderivativerankfourtestkernelmd kernel correspond variabl act spars coupl matrix optim jacobian test perform syntax paramet debugmaterialderivativetestmaterialderivativetestact addcontrolact syntax descript controlsaddcontrolact input file block paramet may control enableddisabledmodifi use control specifi control block action add controlwarehous inform control system may found control syntax pagesyntaxcontrolsindexmd syntax paramet controlsaddcontrolact dynamicobjectregistrationact syntax descript problemdynamicobjectregistrationact object requir simul present precompil librari alreadi link applic use may dynam link use follow syntax handl dynamicobjectregistrationact list modulesmisctesttestsdynamic_loadingdynamic_obj_registrationdynamic_objectsi blockproblem inform dynam load may found googlehttpslmgtfyappqdynamicload syntax paramet problemdynamicobjectregistrationact addfvinterfacekernelact syntax descript fvinterfacekernelsaddfvinterfacekernelact finit volum interfac kernel specifi object insid fvinterfacekernel block action add problemsyntaxproblemindexmd inform finit volum interfac kernel found fvinterfacekernel syntax pagesyntaxfvinterfacekernelsindexmd syntax paramet fvinterfacekernelsaddfvinterfacekernelact addpostprocessoract syntax descript postprocessorsaddpostprocessoract postprocessor specifi object insid postprocessor block mooseobjectactionmd add problemsyntaxproblemindexmd inform postprocessor may found postprocessor syntax documentationsyntaxpostprocessorsindexmd syntax paramet postprocessorsaddpostprocessoract copynodalvarsact syntax descript variablescopynodalvarsact action handl initial_from_file_var variablessyntaxvariablesindexmd paramet use list restartscalarvarparti blockvari syntax restrict restart exodu file inform altern option restart simul may found restartrecov systemapplication_usagerestart_recovermd optionaltru syntax paramet variablescopynodalvarsact setadaptivityoptionsact actionmd set adapt simul base toplevel adapt input file block see syntaxadaptivityindexmd inform setuppredictoract syntax descript executionerpredictorsetuppredictoract predictor specifi object insid predictor block execution block action check transient execution use set predictor nonlinearsystembasemd inform predictor may found predictor syntax documentationsyntaxexecutionerpredictorindexmd syntax paramet executionerpredictorsetuppredictoract adddistributionact syntax descript distributionsadddistributionact distribut specifi object insid distribut block action add problemsyntaxproblemindexmd inform distribut may found distribut syntax pagesyntaxdistributionsindexmd syntax paramet distributionsadddistributionact addperiodicbcact period boundari condit enforc valu constraint separ boundari mesh capabl use model quasiinfinit domain system conserv quantiti moos full support period bc mesh adapt restrict specif variabl support arbitrari translat vector defin period automat period boundari detect recommend list auto_periodic_bc_testi blockbc translat period boundari list periodicperiodic_bc_testi blockbc function transform period boundari list periodictrapezoidi blockfunct bc syntax paramet bcsperiodicaddperiodicbcact bibtex bibliographi checkfvbcact syntax descript fvbcscheckfvbcact check integr finit volum boundari condit request problem block shown list fvkernelsmmsadvectiveoutflowktlimitedadvectioni blockproblem inform finit volum boundari condit may found fvbc syntax documentationsyntaxfvbcsindexmd syntax paramet fvbcscheckfvbcact adduserobjectact syntax descript userobjectsadduserobjectact userobject specifi object insid userobject block mooseobjectactionmd add problemsyntaxproblemindexmd inform userobject may found userobject syntax documentationsyntaxuserobjectsindexmd syntax paramet userobjectsadduserobjectact addconstraintact syntax descript constraintsaddconstraintact constraint specifi object insid constraint block action add problemsyntaxproblemindexmd inform constraint may found constraint syntax documentationsyntaxconstraintsindexmd syntax paramet constraintsaddconstraintact createexecutioneract syntax descript executionercreateexecutioneract action add default precondition none specifi action examin paramet execution block consist problem inform execution may found execution syntax documentationsyntaxexecutionerindexmd syntax paramet executionercreateexecutioneract addfunctionact syntax descript functionsaddfunctionact function specifi object insid function block action add problemsyntaxproblemindexmd inform function may found function syntax documentationsyntaxfunctionsindexmd syntax paramet functionsaddfunctionact addreporteract action creat report object report block add problemsyntaxproblemindexmd inform system see reportersindexmd syntax paramet reportersaddreporteract addfvkernelact syntax descript fvkernelsaddfvkernelact finit volum kernel specifi object insid fvkernel block action add problemsyntaxproblemindexmd inform finit volum kernel found fvkernel syntax documentationsyntaxfvkernelsindexmd syntax paramet fvkernelsaddfvkernelact addscalarkernelact syntax descript scalarkernelsaddscalarkernelact action handl scalarkernel auxscalarkernel kernel scalar variabl specifi object insid scalarkernel block auxiliari kernel scalar variabl specifi object insid auxscalarkernel block mooseobjectactionmd add problemsyntaxproblemindexmd inform scalarkernel may found scalarkernel syntax documentationsyntaxscalarkernelsindexmd syntax paramet scalarkernelsaddscalarkernelact addvariableact syntax descript variablesaddvariableact finit element scalar variabl specifi object insid variabl block mooseobjectactionmd add problemsyntaxproblemindexmd inform variabl may found variabl syntax documentationsyntaxvariablesindexmd syntax paramet variablesaddvariableact deprecatedblockact syntax descript deprecatedblockdeprecatedblockact larg design chang may requir deprec block block_nam syntax may use develop let user know need updat input file syntax paramet deprecatedblockdeprecatedblockact addmarkeract addmarkeract mooseobjectactionmd creat specifi marker object block adaptivitymark block input file add problemsyntaxproblemindexmd see syntaxadaptivityindexmd inform syntax paramet adaptivitymarkersaddmarkeract checklegacyparamsact action provid inform warn user use legaci input paramet construct method said construct method deprec remov futur see _mdlegacyinputparameterdeprec optionaltru inform readexecutorparamsact alert construct titleundocu action class readexecutorparamsact document content list use start point document class includ typic automat document associ action howev contain ultim determin necessari make document clear user syntax descript executorsreadexecutorparamsact overview replac line inform regard readexecutorparamsact action exampl input file syntax describ includ exampl use readexecutorparamsact action syntax descript executorsreadexecutorparamsact syntax paramet executorsreadexecutorparamsact partitioneract syntax descript meshpartitionerpartitioneract partition specifi object insid partition block within mesh block shown list testtestspartitionersgrid_partitionergrid_partitioneri blockmesh inform partition may found partition syntax documentationsyntaxmeshpartitionerindexmd syntax paramet meshpartitionerpartitioneract addfieldsplitact syntax descript preconditioningaddfieldsplitact field split specifi object insid fsp block nest precondit block action add problemsyntaxproblemindexmd moos use field splitssourcesplitssplitmd schur decomposit preconditionsyntaxpreconditioningindexmd nonlinear system syntax paramet preconditioningaddfieldsplitact addmultiappact action respons ad multiapp object list within multiapp block moos input file action add problemsyntaxproblemindexmd see syntaxmultiappsindexmd inform syntax paramet multiappsaddmultiappact addnodalnormalsact syntax descript nodalnormalsaddnodalnormalsact nodal normal use comput normal nodal variabl variou locat specifi object insid nodalnorm block compos nodalnormalspreprocessor nodalnormalsevalu mooseobjectactionmd add problemsyntaxproblemindexmd action add save nodal normal nodal_normal_x nodal_normal_i nodal_normal_z auxiliari lagrang nodal variabl order specifi paramnodalnormalsaddnodalnormalsactionord paramet inform nodalnorm may found nodalnorm syntax documentationsyntaxnodalnormalsindexmd syntax paramet nodalnormalsaddnodalnormalsact addboundsvectorsact syntax descript boundsaddboundsvectorsact bound vector specifi object insid bound block action add nonlinear systemnonlinearsystemmd inform ad vector linear system use bound block may found bound syntax pagesyntaxboundsindexmd syntax paramet boundsaddboundsvectorsact commonoutputact syntax descript outputscommonoutputact overview action act output block exist add shortcut syntax option paramoutputsexodu paramet well common paramet appli output object exampl follow enabl two output object set output paramoutputsinterv everi timestep object text output exodu true csv true interv pleas refer syntaxoutputsindexmd inform syntax paramet outputscommonoutputact addsampleract syntax descript samplersaddsampleract sampler specifi object insid sampler block mooseobjectactionmd add problemsyntaxproblemindexmd inform sampler may found sampler syntax documentationsyntaxsamplersindexmd syntax paramet samplersaddsampleract addinitialconditionact syntax descript icsaddinitialconditionact initi condit specifi object insid ic block action add problemsyntaxproblemindexmd inform set variabl initi condit found ic syntax documentationsyntaxicsindexmd syntax paramet icsaddinitialconditionact addbcact syntax descript bcsaddbcact boundari condit specifi object insid bc block action add problemsyntaxproblemindexmd inform boundari condit found bc syntax pagesyntaxbcsindexmd pleas note finit volum boundari condit fvbc specifi fvbc block handl addfvbcactionmd action syntax paramet bcsaddbcact addinterfacekernelact syntax descript interfacekernelsaddinterfacekernelact interfac kernel specifi object insid interfacekernel block action add problemsyntaxproblemindexmd inform interfac kernel found interfacekernel syntax pagesyntaxinterfacekernelsindexmd syntax paramet interfacekernelsaddinterfacekernelact addfvbcact syntax descript fvbcsaddfvbcact finit volum boundari condit specifi object insid fvbc block action add problemsyntaxproblemindexmd inform finit volum boundari condit found fvbc syntax pagesyntaxfvbcsindexmd pleas note finit element boundari condit bc specifi bc block handl addbcactionmd action syntax paramet fvbcsaddfvbcact createdisplacedproblemact syntax descript meshcreatedisplacedproblemact displac problem creat set displac variabl mesh block unless use_displaced_mesh fals set inform use displac problem may found mesh syntax documentationsyntaxmeshindexmd syntax paramet meshcreatedisplacedproblemact penaltyinterfacediffus overview penaltyinterfacediffus interfac condit forc variabl equival use penalti time flux equival implicitli satisfi long side interfac residu object present mathemat written follow beginequ beginalign fracparti u partial n p u u_neighbor d_neighbor fracparti u_neighbor partial n_neighbor p u u_neighbor endalign endequ d_neighbor materi properti current element neighbor respect n n_neighbor outward normal vector element neighbor typic n n_neighbor p penalti suppli paramet paraminterfacekernelspenaltyinterfacediffusionpenalti exampl input file syntax list testtestsinterfacekernelshybridinterfacei startpenalti end includeendtru syntax paramet interfacekernelspenaltyinterfacediffus syntax input interfacekernelspenaltyinterfacediffus syntax children interfacekernelspenaltyinterfacediffus interfacereact descript speci transport two domain domain domain interfac consid follow reaction take place beginequ mxrightleftharpoonsk_bk_fm endequ first order reaction rate assum quasisteadyst beginequ reaction rate frac partial c_ partial k_f c_ k_b c_ approx endequ c_ speci concentr domain c_ speci concentr domain k_f forward reaction coeffici k_b backward reaction coeffici interfacereact object use impos condit associ kernel interfacereactionc interfacereactionh addit flux match domain could achiev interfacediffusioninterfacekernelsindexmd kernel interfac work togeth give full mathemat physic mean problem two exampl steadyst transientst shown moos test directori d_interfacereaction_d_steadyi d_interfacereaction_d_transienti exampl input syntax list testtestsinterfacekernelsd_interfacereaction_d_steadyi startinterface_react end includeendtru syntax paramet interfacekernelsinterfacereact syntax input interfacekernelsinterfacereact syntax children interfacekernelsinterfacereact interfacediffus overview kernel establish flux equival interfac follow beginequ fracparti u partial n d_neighbor fracparti u_neighbor partial n endequ d_neighbor materi properti current element neighbor respect n outward normal vector current element kernel use standalon interfac condit enforc variabl continu instead consid combin kernel matchedvaluebcmd strong interfac condit exampl input file syntax list testtestsinterfacekernelshybridinterfacei startdiffus end includeendtru syntax paramet interfacekernelsinterfacediffus syntax input interfacekernelsinterfacediffus syntax children interfacekernelsinterfacediffus multiappuserobjecttransf syntax descript transfersmultiappuserobjecttransf descript multiappuserobjecttransf transfer inform userobject mastersub applic auxvari submast applic base direct transfer to_multiappfrom_multiapp transfer restrict subdomain use paramtransfersmultiappuserobjecttransferblock paramet boundari use paramtransfersmultiappuserobjecttransferboundari paramet multiapp auxvari sub applic nodal auxvari node sub applic valu correspond posit master applic queri master userobject valu set auxvari node similar approach follow element auxvari centroid element instead nodal posit multiapp nodal auxvari master applic first determin whether node contain within bound box sub applic master node lie within sub applic bound box valu sub applic userobject locat transfer master auxvari similar approach follow element auxvari centroid master element instead nodal posit all_master_nodes_contained_in_sub_app option set true error gener master nodeel lie within bound box sub applic error also gener master nodeel lie within bound box sub applic syntax paramet transfersmultiappuserobjecttransf syntax input transfersmultiappuserobjecttransf syntax children transfersmultiappuserobjecttransf bibtex bibliographi multiappnearestnodetransf syntax descript transfersmultiappnearestnodetransf exampl input file syntax follow exampl demonstr use multiappnearestnodetransf transfer data tosub fromsub subappl list multiapp_nearest_node_transfertosub_masteri blocktransf idtosub captionexampl use multiappnearestnodetransf transfer data subappl list multiapp_nearest_node_transferfromsub_masteri blocktransf idfromsub captionexampl use multiappnearestnodetransf transfer data subappl syntax paramet transfersmultiappnearestnodetransf syntax input transfersmultiappnearestnodetransf syntax children transfersmultiappnearestnodetransf multiappreportertransf syntax descript transfersmultiappreportertransf overview multiappreportertransf provid method transfer report valu see reportersreportersindexmd type main applic subappl includ vector real number vectorpostprocessorsvectorpostprocessorsindexmd well real number postprocessorspostprocessorsindexmd paramtransfersmultiappreportertransferfrom_report specifi data come paramtransfersmultiappreportertransferto_report specifi data go list report name must length directli correspond vectorpostprocessorsvectorpostprocessorsindexmd syntax vpp_namevector_nam reportersreportersindexmd syntax reporter_namevalue_nam transfer data main applic data main copi subappl paramtransfersmultiappreportertransfersubapp_index use data transfer specifi subappl transfer data main applic paramtransfersmultiappreportertransfersubapp_index must suppli one subappl exampl input file syntax alert tip initi arbitrari data contain paramtransfersmultiappreportertransferto_report follow object postprocessor receivermd vectorpostprocessor constantvectorpostprocessormd report constantreportermd alertend transfer vectorpostprocessor transfer data vectorpostprocessor list reporter_transfermaini blockvectorpostprocessor captionmain applic vpp list reporter_transfersubi blockvectorpostprocessor captionsubappl vpp list reporter_transfermaini blockvpp_to_vpp vpp_from_vpp captionmain applic vpp transfer indent headertransf footer transfer report vector transfer data report vector vectorpostprocessor list reporter_transfermaini blockreport captionmain applic report list reporter_transfersubi blockvectorpostprocessor captionsubappl vpp list reporter_transfermaini blockvector_to_vpp vector_from_vpp captionmain applic vector transfer indent headertransf footer transfer report real number transfer data report real number postprocessor list reporter_transfermaini blockreport captionmain applic report list reporter_transfersubi blockpostprocessor captionsubappl postprocessor list reporter_transfermaini blockreal_from_pp real_to_pp captionmain applic real transfer indent headertransf footer transfer report integ string transfer integ string data report list reporter_transfermaini blockreport captionmain applic report list reporter_transfersubi blockreport captionsubappl report list reporter_transfermaini blockint_to_int int_from_int string_from_str string_to_str captionmain applic report transfer indent headertransf footer syntax paramet transfersmultiappreportertransf syntax input transfersmultiappreportertransf syntax children transfersmultiappreportertransf multiappinterpolationtransf multiappinterpolationtransf transfer nearest node sourc variabl nearest node target mesh use mesh interpol includ abil util displac configur either sourc target multiappinterpolationtransf also offer extrapol nonoverlap domain target data comput sourc node insid target mesh interpol transfer like multiappmeshfunctiontransfermultiappmeshfunctiontransfermd abl extrapol data work fulli overlap domain nodal transfer use default set interpol scheme interp_typeinverse_dist num_point find three closest point sourc mesh node target mesh sourc data three closest node interpol target node use invers distanc weightinghttpsenwikipediaorgwikiinverse_distance_weight invers distanc interpol best suit interpol point cloud data sourc mesh onto target mesh alert note multiappmeshfunctiontransfermultiappmeshfunctiontransfermd may better choic nodal transfer two mesh fulli overlap domain element shape function use transfer howev mention multiappinterpolationtransf use extrapol data mesh domain fulli overlap use multiappinterpolationtransf default interpol set mesh mesh nodal transfer data determinist point interpol target mesh exactli distanc away num_point sourc mesh nondeterminist behavior multiappinterpolationtransf nodetonod transfer lead differ data transfer numer problem chang someth like parallel decomposit compil set inconsist occur structur mesh target mesh refin version sourc mesh scenario target node place equidist sever sourc node structur mesh quadrilater refin mesh target node would equidist node sourc mesh default num_point three point chosen four equidist node sourc mesh arbitrari shown depend parallel decomposit mesh problem made determinist increas num_point node element use interpol exampl syntax list testteststransfersmultiapp_interpolation_transferfromsub_masteri starttransf endelemental_fromsub footer syntax paramet transfersmultiappinterpolationtransf syntax input transfersmultiappinterpolationtransf syntax children transfersmultiappinterpolationtransf multiappmeshfunctiontransf perform transfer field data tofrom postprocessor data within subappl locat specifi subappl posit transfer util finit element function master applic via libmeshmeshfunct object perform transfer exampl input file syntax follow exampl demonstr use multiappmeshfunctiontransf transfer data tosub fromsub subappl list multiapp_mesh_function_transfertosubi blocktransf idtosub captionexampl use multiappmeshfunctiontransf transfer data subappl list multiapp_mesh_function_transferfromsubi blocktransf idfromsub captionexampl use multiappmeshfunctiontransf transfer data subappl syntax paramet transfersmultiappmeshfunctiontransf syntax input transfersmultiappmeshfunctiontransf syntax children transfersmultiappmeshfunctiontransf multiappvariablevaluesamplepostprocessortransf syntax descript transfersmultiappvariablevaluesamplepostprocessortransf exampl input file syntax follow input file snippet demonstr use multiappvariablevaluesamplepostprocessortransf transfer valu field variabl subappl posit postprocessor subappl list centroid_multiappcentroid_multiappi blocktransf syntax paramet transfersmultiappvariablevaluesamplepostprocessortransf syntax input transfersmultiappvariablevaluesamplepostprocessortransf syntax children transfersmultiappvariablevaluesamplepostprocessortransf multiappclonereportertransf syntax descript transfersmultiappclonereportertransf overview transfer similar multiappreportertransfermd key differ first object transfer subappl main app second report valu declar onthefli ie report valu subapp clone onto main app alreadi exist valu main app third multipl subappl valu collect vector report type main app alert warn possibl transfer report valu alreadi clone object instanc let say hierarch structur multiapp primari main secondari tertiari app object use clone valu tertiari secondari use clone valu secondari primari exampl input syntax multipl sub applic exampl show multiapp multipl sub applic use input file differ report valu control parammultiappstransientmultiappcli_arg list reporter_transferclonei blockmulti_report indent headermultiapp footer transfer syntax pretti minim give report valu name found subireporter_transfersubi subapp report object name main app object name use associ clone valu object list reporter_transferclonei blockmulti_rep indent headertransf footer run serial singl output file produc show vector report valu creat list reporter_transfergoldclone_serialjson languagejson startmulti_repfrom_sub_ppvalu endmulti_vppfrom_sub_vppa parallel sub app report valu split differ file one processor exampl run processor split sub app root processor sub app clone_outjsonreporter_transfergoldclone_outjson clone_outjsonreporter_transfergoldclone_outjson clone_outjsonreporter_transfergoldclone_outjson clone_outjsonreporter_transfergoldclone_outjson show valu processor clone_outjsonreporter_transfergoldclone_outjson clone_outjsonreporter_transfergoldclone_outjson empti list reporter_transfergoldclone_outjson languagejson startmulti_repfrom_sub_ppvalu endmulti_vppfrom_sub_vppa list reporter_transfergoldclone_outjson languagejson startmulti_repfrom_sub_ppvalu endmulti_vppfrom_sub_vppa singl sub applic singl subappl multiapp report valu directli clone versu creat vector list reporter_transferclonei blocksingle_app indent headermultiapp footer list reporter_transferclonei blocksingl indent headertransf footer result output serial root processor parallel contain transfer valu nonroot processor default constructor valu type list reporter_transfergoldclone_outjson languagejson startsinglefrom_sub_ppvalu endtim list reporter_transfergoldclone_outjson languagejson startsinglefrom_sub_ppvalu endtim syntax paramet transfersmultiappclonereportertransf syntax input transfersmultiappclonereportertransf syntax children transfersmultiappclonereportertransf multiapppostprocessortransf syntax descript transfersmultiapppostprocessortransf exampl input file syntax multiapppostprocessortransf allow postprocessor valu transfer master applic subappl exampl input file snippet set transfer postprocessor valu master applic postprocessor subappl list multiapp_postprocessor_transfermasteri blocktransf syntax paramet transfersmultiapppostprocessortransf syntax input transfersmultiapppostprocessortransf syntax children transfersmultiapppostprocessortransf multiappvectorpostprocessortransf multiappvectorpostprocessortransf transfer valu master vectorpostprocessor subapp postprocessor vice versa number entri vectorpostprocessor data vector must equal number subapp associ provid multiappsmultiappsindexmd transfer sendsrec nth entri vectorpostprocessor tofrom nth subapp syntax descript transfersmultiappvectorpostprocessortransf alert note direct vectorpostprocessortovectorpostprocessor transfer see multiappreportertransfermultiappreportertransfermdvector_transf syntax paramet transfersmultiappvectorpostprocessortransf syntax input transfersmultiappvectorpostprocessortransf syntax children transfersmultiappvectorpostprocessortransf multiappcopytransf multiappcopytransf allow copi variabl nonlinearsyntaxvariablesindexmd auxiliaryauxvariablesindexmd multiappsmultiappsindexmd type variabl includ higher order element nodal support limit mesh master sub applic must ident exampl syntax list testteststransfersmultiapp_copy_transferlinear_lagrange_to_submasteri blocktransf syntax paramet transfersmultiappcopytransf syntax input transfersmultiappcopytransf syntax children transfersmultiappcopytransf multiappconservativetransf essenti preserv physic quantiti transfer process specif applic instanc neutron calcul total power need preserv power densiti transfer thermal calcul implement conserv transfer transfer perform follow step user get solut sourc app readi calcul tobepreserv physic quantiti base solut physic quantiti calcul use postprocessor user determin want comput quantiti solut transfer target domain new physic quantiti calcul use target solut calcul implement postprocessor user comput accord physic target solut adjust accord sourc physic quantiti target physic quantiti conserv quantiti calcul base adjust target solut valu often print screen user conveni main pictur conserv transfer explain mathemat follow q_u_ q_u_ q_ function use comput quantiti interest sourc domain u_ sourc physic field q_ implement postprocessor q_ u_ correspond counterpart target side emphas user free implement postprocessor q_i accord physic interest exampl input file syntax follow exampl demonstr use multiappconservativetransf transfer solut list multiapp_conservative_transfermaster_conservative_transferi blocktransf captionexampl use multiappconservativetransf transfer data conserv list multiapp_conservative_transfermaster_conservative_transferi blockpostprocessor captionfrom postprocessor list multiapp_conservative_transfersub_conservative_transferi blockpostprocessor captionto postprocessor note postprocessor need execut transfer multiappprojectiontransf syntax descript transfersmultiappprojectiontransf exampl input file syntax follow exampl demonstr use multiappprojectiontransf transfer data tosub fromsub subappl list multiapp_projection_transfertosub_masteri blocktransf idtosub captionexampl use multiappprojectiontransf transfer data subappl list multiapp_projection_transferfromsub_masteri blocktransf idfromsub captionexampl use multiappprojectiontransf transfer data subappl syntax paramet transfersmultiappprojectiontransf syntax input transfersmultiappprojectiontransf syntax children transfersmultiappprojectiontransf multiapppostprocessorinterpolationtransf syntax descript transfersmultiapppostprocessorinterpolationtransf overview perform transfer postprocessor valu subappl field variabl master applic use interpol base locat subappl exampl input file syntax follow input file snippet demonstr use multiapppostprocessorinterpolationtransf interpol averag valu two subappl field variabl master applic list multiapp_postprocessor_interpolation_transfermasteri blocktransf syntax paramet transfersmultiapppostprocessorinterpolationtransf syntax input transfersmultiapppostprocessorinterpolationtransf syntax children transfersmultiapppostprocessorinterpolationtransf multiapppostprocessortoauxscalartransf syntax descript transfersmultiapppostprocessortoauxscalartransf exampl input file syntax multiapppostprocessortoauxscalartransf transfer postprocessor valu scalar auxvari follow exampl postprocessor valu master applic transfer scalar auxvari subappl list multiapp_postprocessor_to_scalarmasteri blocktransf syntax paramet transfersmultiapppostprocessortoauxscalartransf syntax input transfersmultiapppostprocessortoauxscalartransf syntax children transfersmultiapppostprocessortoauxscalartransf multiappvariablevaluesampletransf syntax descript transfersmultiappvariablevaluesampletransf exampl input file syntax follow input file snippet demonstr use multiappvariablevaluesampletransf transfer valu field variabl subappl posit field variabl subappl list multiapp_variable_value_sample_transfermasteri blocktransf syntax paramet transfersmultiappvariablevaluesampletransf syntax input transfersmultiappvariablevaluesampletransf syntax children transfersmultiappvariablevaluesampletransf multiappscalartoauxscalartransf syntax descript transfersmultiappscalartoauxscalartransf exampl input file syntax follow exampl demonstr use multiappscalartoauxscalartransf transfer data tosub fromsub subappl list multiapp_scalar_to_auxscalar_transferto_submasteri blocktransf idtosub captionexampl use multiappscalartoauxscalartransf transfer data subappl list multiapp_scalar_to_auxscalar_transferfrom_submasteri blocktransf idfromsub captionexampl use multiappscalartoauxscalartransf transfer data subappl syntax paramet transfersmultiappscalartoauxscalartransf syntax input transfersmultiappscalartoauxscalartransf syntax children transfersmultiappscalartoauxscalartransf patch becom code alert note follow contributingframeworkcontributingmd moos use extens set autom process peer review take code contributor begin pull request contributor submit code moos push modif forkhttpshelpgithubcomarticlesforkarepo moos repositori contributor submit pull request pr pull modif fork next branch main moos repositori test everi turn pr open github automat signal civethttpcivetinlgov creat multipl job httpcivetinlgovhttpcivetinlgov client process run build machin pull code contribut check basic format make sure refer issu see contributingframeworkcontributingmd run precheck fail check pleas click job explor detail went wrong first time develop like run minor problem make chang branch continu push server tri note need close pr fail pass check make adjust push pass precheck might find civet wait actual build code happen contribut moos first time unfamiliar protect system abus malic rest assur develop take look contribut soon activ civet target civet run code sever platform varieti configur make sure new bug introduc result contribut check back later result test pr peer review point code pass test moos develop assign review code comment moos develop place pr rais potenti issu pull request cleanup issu code submit job submitt respond comment take correct action correct action usual come two form small fix small fix requir submitt amend patch set fix small issu forc push patch back branch fork basic sequenc bash local clone fork git co branch_nam checkout branch push fork pr use make chang git add filenamec use git add mark chang need commit git commit amend amend top commit includ small chang git push forc origin branchnam forc chang back branch fork github actual command use step vari give idea what involv pr longliv may good idea rebas patch top recent activ real moos repo push bash git fetch upstream git rebas upstreamdevel may fix conflict stage bigger chang featur need ad code accept moos team also achiev simpli ad patch branch alway rememb refer ticket number work commit messag patch go moos merg point moos develop believ code fit inclus moos merg code next branch main moos repositori act merg automat kick set process civethttpcivetinlgov signal test done across multipl platform pass code chang automat merg master branch main moos repo stabl branch autom merg master cue civet spawn job automat build doxygen documentationhttpwwwmooseframeworkcomdocsdoxygenmooseclasseshtml browseabl input file syntaxhttpmooseframeworkcomdocssyntaxmoos test time metricshttpmooseframeworkcomdocstim test coveragehttpmooseframeworkcomdocscoverageframework inact pull request polici pull request remain inact unaddress comment fail test period day may close member moos team discret pull request may reopen origin develop interest parti time activ resum unmerg pr found use filter isunmerg softwar qualiti polici moos follow stringent guidelin softwar qualiti test system design manner shield daytoday develop associ burden howev requir new code document specif manner meet guidelin pleas refer frameworkdocumentingmd addit inform contribut moos collabor effort alway welcom contribut contribut moos need keep mind hundr peopl depend code job everi day specif polici procedur autom process maintain high code qualiti allow mani chang code daili alert tip titlestart discuss prior invest time recommend discuss commun contribut help determin best approach work even avoid spend time someth alreadi possibl moos broad capabl activ commun engag commun certainli benefici style haligncent start discussionhttpsgithubcomidaholabdiscuss alertend code standard modifi ad moos need follow strict moos code standardsqaframework_scsmd guidelin ensur common look feel code moos allow develop seamlessli move section code give user consist interfac referenc issu everi modif moos must refer issu number mean everi pull request prhttpshelpgithubcomarticlesaboutpullrequest flow moos must contain least one commit refer issu relev work eg ref number number issu number moos github issuehttpsgithubcomidaholabmooseissu page pr complet address issu automat close prepend close fix issu refer eg close issu number automat check test system work fork first step modifi moos creat forkhttpshelpgithubcomarticlesforkarepo commit set chang fork moos navig httpsgithubcomidaholabmoosehttpsgithubcomidaholabmoos click fork button upper right fork buttonhttpsgithubcomidaholabmooseforkdestinationbox clone fork local machin replac usernam github usernam alert note titlessh recommend recommend use ssh url instead http gener fewer problem firewal authent way howev requir addit step set key pleas follow instruct provid github setup ssh keyshttpshelpgithubcomarticlesconnectingtogithubwithssh bash git clone gitgithubcomusernamemoosegit add upstream remot add real moos repositori remot name upstream bash cd moos git remot add upstream gitgithubcomidaholabmoosegit make modif creat branch work bash git checkout b branch_nam upstreamdevel make modif commit branch sure refer issu number commit messag bash git add your_fileh your_filec git commit messag commit close see git addhttpgitscmcomdocsgitadd git commithttpgitscmcomdocsgitcommit assist command note moos team prefer format commit messag follow short descript titl pr less charact blank line detail pr need bullet list encourag fix enhanc refer ticket use keyword close appropri automat close issu pr merg close contribut chang rebas top current set patch devel branch real moos repo bash git fetch upstream git rebas upstreamdevel add document moos follow stringent guidelin softwar qualiti test system design manner shield daytoday develop associ burden howev requir new code document specif manner meet guidelin pleas refer frameworkdocumentingmd addit inform push modif back github push branch back fork github bash git push origin branch_nam creat pull request github util pull request pr allow submit chang store fork back main moos repositori gener interest pr work look offici github documentationhttpshelpgithubcomarticlesusingpullrequest moos util fork pull collabor develop model main thing rememb issu pr moos pr specifi go next branch pull request assigne case pr assign moos develop assigne design help ensur request review merg cancel necessarili review aim make sure everi pr address monitor also serv point contact pr creator alert note moos develop expect assign pr know would best review content next phase cover patch becom codeframeworkpatch_to_codemd take process pr ultim make way master branch moos autotool develop ever need modifi moos configur set need edit moose_dirframeworkconfigureac chang go effect need run autoreconf gener configur script configureac requir specif version autoconf order avoid gener unnecessari git diff autoconf version requir specifi ac_prereq macro configureac adequ version autoconf libmesh build libmesh build set autotool cd moose_dirlibmesh bootstrap buildautotool prepend mooselibmeshcontribautotoolsbin path environ variabl document moos moos moosebas applic gener focu creat c object eg kernel bc etc import object document allow develop user understand purpos object moosedoc systemmoosedocsindexmd optionaltru aim make document object straightforward natur moreov access object document simpl allow document remain uptod code continu advanc order ensur moos document continu improv requir exist document new chang code within moos new mooseobject must descript class paramet new mooseobject must also includ associ markdown descript page develop modifi exist class updat exist markdown document file new test must contain requir link design issu mooseobject c document first step add document applic validparam function done ad paramet document string call class descript method descript paramet also provid ad variou add method inputparamet object exampl boxmarkermd follow paramet document ad present paramet summari tabl gener site list frameworksrcmarkersboxmarkerc startparamsaddrequiredparam endbottom_left includeendtru string suppli function appear paramet tabl within document gener exampl see paramet tabl boxmarkermd secondli short descript class suppli addclassdescript function exampl diffusiondiffusionmd object follow class descript list frameworksrckernelsdiffusionc startaddclassdescript endform includeendtru document object gener string ad first portion page system overview tabl exampl kernel overviewsyntaxkernelsindexmd includ tabl object list tabl includ class descript sourc code markdown document clear consist document necessari compon code develop within moos expect develop submit new mooseobject eg kernel boundarycondit framework modul creat correspond markdown file document new class document class within moos modul locat within doc directori class regist frameworkdoc contain core moos level object modulestensor_mechanicsdoc contain object tensor mechan modul etc ad document moos modul execut must exist accomplish use follow command bash cd projectsmoosemodul make j replac number core system write document page new class moos modul use moosedoc execut build document stub new class howev execut modul must use exampl add new class tensor mechan modul bash cd projectsmoosemodulestensor_mechan make j cd doc moosedocspi gener tensormechanicsapp gener page framework moos test applic use follow bash cd projectsmoosetest make j cd doc moosedocspi gener mooseapp gener command need run add new object eg kernel boundarycondit etc applic stub file creat local live version websit use add content see live websitelivewebsit section live websit local websit creat serv done run follow command command complet take sever minut messag print site host httphttp bash cd projectsmoosemodulesdoc moosedocspi build serv server run markdown file within repositori may modifi chang save local server automat updat content content ad modifi follow standard document pagesmoosedocsstandardsmd optionaltru guidelin media gener media file place within contentmedia directori within framework modul directori howev larg file mb movi need larg media repositori use within moos folder large_media submodul larg file ad repositori submodul updat moos reflect chang requir design issu moos follow strict softwar qualiti standard meet standard everi test within moos must provid three item test test specif requir descript requir test test text requir must list test specif file test file design list markdown file associ test explain system object design document file path need complet must uniqu issu list github issueshttpsgithubcomidaholabmooseissu associ test item test inform regard write requir test see what_is_a_requirementmd item provid associ test file exampl test my_test type csvdiff input my_testi csvdiff my_testcsv requir myobject shall kind thing mayb descript multipl line design myobjectmd some_relevant_filemd issu also possibl provid common valu design issu top level test specif shown design issu appear within block top level valu overridden test design myobjectmd issu one type csvdiff input onei csvdiff one_outcsv requir system shall must comput valu two type runexcept input twoi expect_err requir system shall produc error foo paramet wrong issu multipl test may associ singl requir test multipl way case test within specif may group singl requir test within group provid addit detail via detail paramet import requir text detail complet sentenc combin shown follow exampl test group arbitrari name use issu design myobjectmd requir system shall solv laplac equat type exodiff input input_di exodiff input_d_out detail type exodiff input input_di exodiff input_d_out detail type exodiff input input_di exodiff input_d_out detail overview moos fv pleas see fv_designmd finit volum design decis moos moos tradit finit element fe framework built take heavi advantag libmesh fe librari tradit finit volum fv method doesnt realli shapefunct describ continu solut within mesh cell instead use constant solut within mesh elementcel much moos use libmesh fe relev fv document give overview fv similar differ fe respect implement moos explain fv design implement current form order fulli enabl take advantag perfom opportun simplifi fv method implement moos new set fvspecif system built alongsid moos fe infrastructur new set system creat moos receiv power automat differenti ad support fv system least initi creat ad support mind nonad manual jacobian version support press need aris variabl fvspecif depend variabl class creat along side fespecif one share common base function respons calcul provid fv cellfac solut valu object need higherord reconstruct also plumb eventu ghost cell boundari condit import function handl automat level kernel boundari condit code written nearli like fe equival previous variabl class hierarchi fieldvariablespecif intermedi class fv variabl howev field variabl need includ fieldvari oper perform moos previous possibl fv variabl would share entir interfaceapi fe variabl would poor choic mani nonoverlap api need two eg shape test function relat function need fv variabl new fieldvari intermedi class introduc variabl class heirarchi facilit appropri separ api allow common oper perform field variabl fv kernel flux kernel fv method use gaussdiverg theorem convert volum integr diverg oper surfac integr repres flux variou quantiti face mesh cell unlik fe kernel testweight function need coupl cell occur numer flux calcul face contribut mesh cell side oppos direct sign calcul numer flux requir access variabl valu properti side face fe kernel hand requir one set volumetricelement valu cell interest fv kernel also need deal thing normal face vector crossdiffus correct factor nonorthogon mesh etc differ make impract messi tri integr moos kernel system motiv decis creat separ fv kernel system element kernel fv method elementbas calcul sourc time term handledcal normal fe element residu jacobian mesh loop time deriv kernel sourc term fall categori shape function integr basic aspect fv simpler fe opportun oper lower comput cost per element fe method fv implement follow differ fe skip initializationstorag shapefunct data structur skip calcul depend variabl valu quadraturepoint coeffici degre freedom solut vector directli use fv need one valu per cell skip element integr routinesloop need fv cellconst solut take full advantag opportun take signific work fv perform expect improv time quadratur point concept retain fv moos allow futur expans higherord cell solut variabl represent addit preserv similar api user alreadi familiar moos object system loop face signific portion fv method natur cellfac orient libmesh provid facil loop work face fvspecif data structur creat facilit loop mesh face comput residu contribut numer flux face loop implement along side exist element node etc loop use fe use calcul numer flux contribut fv kernel boundari condit face info metadata need fv gather front recomput whenev mesh chang cach moos mesh data structur need respect dirichlet boundari condit among thing influenc decis face info data structur becom hub object retriev relev inform calcul residu contribut discuss done boundari condit section boundari condit similar reason decis fv kernel system motiv creation separ fv boundari condit system well fv fluxintegr boundari condit somewhat similar fe integr bc still lack testweight function fv dirichlet bc howev must implement completedli differ fe strongli motiv creation separ fv bc system dirichlet boundari condit bc fv method creat directli set degre freedom like fe method fv degre freedom exist mesh boundari variou approach deal fv ghostel approach select due popular robust approach dirichlet bc implement weak bc normal flux kernel term appli mesh boundari face sinc flux kernel calcul use inform cell side face use desir dirichlet bc valu extrapol ghost cell valu side face actual mesh cell necessari cell properti also reflectedmirror exist cell design chosen allow handl ghostel creation use exist flux kernel automat enforc dirichlet bc procedur result dirichlet bc object actual respond calcul residu contribut instead inform ghostel initi normal flux bc use calcul boundari residu contribut differ motiv creation separ fv bc system mani object moos get inform current mesh locat directli access inherit member variabl becom somewhat tricki handl fv natur ghost element tradit object need cell volum would access element pointer use libmesh api doesnt work element dont exist yet still need provid inform calcul dirichlet bc residu contribut need abl provid inform doesnt exist need make sure code doesnt tri access irrelev wrong inform directli assembl feproblem class reason among other fv object convent establish object retriev need inform face info object pass around rather retriev bind refer usual meshrel data everyon get need inform one place easi monitor code may wrong thing also becom simpl matter provid volum nonexist cell add featur requir intercept modifi face inform object need reconstruct gradient reconstruct implement use greengauss method eg beginequ nabla phi_c fracomega sumlimits_fac phi_f vecs_f endequ phi_f valu quantiti interest face vecs_f equal surfac area time outward normal eg vecs_f ahatn valu phi_f comput coupl way first default moos use compact stencil simpl linear interpol neighbor cell center valu face second use vertexbas extend stencil face valu taken weight averag face vertex valu turn taken weight averag cell center neighbor point use vertexbas extend stencil method specifi finit volum variabl input block like follow list extendedcartesiani blockvari regular orthogon mesh compact extend stencil demonstr second order converg respect mesh refin nonorthogon mesh test see compactnonorthogonaladvectiondiffusionreactioni extendedextendedadri input file compact stencil display second order converg vertexbas extend stencil drop half order order converg skew mesh testfv_adaptsteadyadapti skew introduc via unequ neighbor mesh refin level compact stencil maintain first order converg addit skewnesscorrect avail compact stencil use follow equat beginequ phi_f phi_f nabla phi_f vecr_fvecr_f endequ mean approxim face valu phi_f intersect line connect cell centroid face vecr_f correct use approxim gradient point correct vector vecr_fvecr_f yield second order converg skewedskewnesscorrectionadvdiffreactskewedi mesh compact stencil fall back first order howev come addit comput cost system assembl process due reduc stencil size smaller memori footprint jacobian matrix reduc comput expens demonstr converg properti gener recommend use compact stencil vertexbas extend stencil suppos accur citemoukalledfinit perhap bug implement need found skewnesscorrect stencil demonstr accur howev consider slow factor approx depend cach option assembl process due fact addit face gradient need comput regular orthogon grid face gradient nabla phi_f comput use simpl linear interpol neighbor cell gradient eg nabla phi_c nabla phi_f howev nonorthgon grid correct made correct implement shown section citemoukalledfinit beginequ nabla phi_f overlinenabla phi_f leftfracphi_f phi_cd_cf leftoverlinenabla phi_f cdot vece_cfrightright vece_cf endequ overlinenabla phi_f denot linearli interpol face pressur gradient known limitationsissu fe fv variablecoupl work particularli fe variabl tri coupl fv variabl segfault tri access quadratur point index higher zero also fv variabl coupl fe variabl ideal get cellaverag valu current get valu solut cell index quadratur point see idaholabmoosehttpsgithubcomidaholabmooseissu fv function work mesh displac yet see idaholabmoosehttpsgithubcomidaholabmooseissu test vectorfv varaibl almost certainli dont work yet contribut moosehttpsmooseframeworkinlgovframework_developmentcontributinghtml pr associ issu sure refer includ ref issu close issu eg close pr implement enhanc exist issu pleas add follow reason need featur enhanc design concis descript design enhanc impact enhanc chang exist api add someth new pr implement bug fix pleas creat issu bug refer issu name featur enhanc request new featur enhanc exist capabl titl label task assigne reason need featur enhanc design concis descript design enhanc impact enhanc chang exist api add someth new name bug report report bug prevent proper oper framework applic titl label defect p normal assigne bug descript clear concis descript problem note miss featur bug step reproduc step reproduc behavior input file modif exist input file etc impact prevent get work done annoy config navig breadcrumbsfals scrollspyfals moosedoc test page content within directori test purpos follow link test page variou extens within moosedoc extensionscoremd extensionsautolinkmd extensionsincludemd extensionsstylemd extensionsmediamd extensionsgallerymd extensionslistingmd extensionstablemd extensionsdevelmd extensionspackagemd extensionsalertmd extensionskatexmd extensionsbibtexmd extensionscommonmd extensionslayoutmd extensionsmaterialiconmd extensionscontentmd extensionsconfigmd extensionsgraphmd extensionsnavigationmd extensionsappsyntaxmd extensionstemplatemd extensionscivetmd extensionssqamd extensionsacronymmd extensionsspecialmd extensionsifelsemd extensionspysyntaxmd extensionsdatetimemd extensionsgitutilsmd extensionsmodalmd subsit link test subconfigurationpythonmoosedocstestsubsite_configyml languageyaml test also load build job hyperlink home page render moosedoc subsitesubsiteindexmd optionaltru config disabl extensionstex main extens corecoremd autolinkautolinkmd place holder actual moosedoc test refer moosedocsindexmd modul directori page moosedocstestcont test page dont want includ much alert note futur would like actual moosedoc page websit test site see httpsgithubcomidaholabmooseissu config disabl extensionstex congress shall make law respect establish religion prohibit free exercis thereof abridg freedom speech press right peopl peaceabl assembl petit govern redress grievanc templat load filetemplatemd projectmoos config disabl extensionstex hold truth selfevid men creat equal endow creator certain unalien right among life liberti pursuit happi secur right govern institut among men deriv power consent govern whenev form govern becom destruct end right peopl alter abolish institut new govern lay foundat principl organ power form shall seem like effect safeti happi prudenc inde dictat govern long establish chang light transient caus accordingli experi hath shewn mankind dispos suffer evil suffer right abolish form accustom long train abus usurp pursu invari object evinc design reduc absolut despot right duti throw govern provid new guard futur secur templat load fileexampletemplatemd projectmoos templat item keyfieldwithitem content second head pysyntax class namemoosedocsextensionspysyntaxpysyntax pysyntax function namemoosedocsextensionspysyntaxmake_extens bibtex extens work citeslaughterframework citeslaughterframework slaughtercontinu citeslaughterframework slaughtercontinu gastonphys citepslaughterframework citepslaughterframework slaughtercontinu bibtex bibliographi common extens know moos base libmesh tabl extens center head head item item left head head item item right head head item item float tabl idfloatt captionthi caption h config disabl extensionstex includ firstmd includ secondmd layout extens row col small medium larg lorem ipsum dolor sit amet consectetur adipisc elit sed eiusmod tempor incididunt ut labor et dolor magna aliqua col small medium larg sed ut perspiciati und omni ist natu error sit voluptatem accusantium doloremqu laudantium totam rem aperiam eaqu ipsa quae ab illo inventor veritati et quasi architecto beata vita dicta sunt explicabo rowend katex extens inlin inlin eqyaxb block equat idpythagorean b c equat g_munu pi gt_munu rho_lambda g_munu includ katex_includemd equat idcalculu int_ab fxdx fb fa fundament theorem calculu calculu macro equat c pmsqrta binrr equat pftt c equat refer eqrefcalculu eqrefsecond_law eqrefkatex_includemdsecond_law eqrefkatex_includemdsecond_law deprec yx beginequ x endequ core extens code block text cpp int languagepython rang print quotat multilin quotat lorem ipsum dolor sit amet consectetur adipisc elit sed eiusmod tempor incididunt ut labor et dolor magna aliqua ut enim ad minim veniam qui nostrud exercit ullamco labori nisi ut aliquip ex ea commodo consequat dui aut irur dolor reprehenderit volupt velit ess cillum dolor eu fugiat nulla pariatur excepteur sint occaecat cupidatat non proident sunt culpa qui officia deserunt mollit anim id est laborum nest quotat list quotat contain quotat nest quotat list two item second contain quot well number list one two head one two three four five six head style stylecolor unord list singl level list idunorderedsinglelevellist item item item third item content content contain paragraph second paragraph list item apart list item b start new list two blank line item b nest list idunorderednestedlist item item item item item item item quotat item item order list singl level list idorderedsinglelevellist one two three like contain two paragraph new paragraph four start number two three fortytwo fortythre twelv thousand three hundr fortyf twelv thousand three hundr fortysix nest item within huge number nest list idorderednestedlist one two quot go deeper fiftyfour shortcut shortcut link popular search engin googl googl httpswwwgooglecom inlin format superscript super script subscript sub script underlin underlin emphasi emphas bold bold strike strike mono mono yo dawg heard like format creat underlin format text contain text stikethrough contain bold format emphasi somesuperscript text asubscript hope like link idlink link googlehttpswwwgooglecom skip level head test git util git commit gitcommit includ extens includ preamblemd startw hold end includeendtru includ preamblemd linew hold includ preamblemd repcontentrightsgovern indent prepend append headerhead footerfoot includ amendmentsmd graph extens plot scatter datax namex x namexx markers plot scatter filenametest_fileswhite_elephant_jan_csv idwhiteeleph captionweath data januari white eleph weather station dataxtim yair_temp_set_ nameair temp layoutxaxistitletim day yaxistitletemperatur c titlejanuari white eleph weather station data whiteeleph weather station idaho materi icon paragraph icon help faiconquestioncircl icon iconhom inlin text icon iconerror tighttru inherit style set parent stylefonts externalclasswithunregisteredsyntax syntax paramet postprocessorsexternalclasswithunregisteredsyntax parampostprocessorsexternalclasswithunregisteredsyntaxfoo config navig nameconfig extens config extens page name modifi special extens schaumldl schdle list idtwo two style extens style haligncent text center style border colorblu text border blue text includ inlin style color border text border config disabl extensionstex equat idspecial_rel fracsqrt fracnuc equat idsecond_law f ifels extens functionhasmooseappmoosetestapp shown functionhasmooseappraytracingapp skip els els shown functionhasmooseappraytracingapp skip elif functionhasmooseappmoosetestapp elif shown els skip functionhasmooseappraytracingapp skip elif functionhasmooseappraytracingapp skip els els shown elif functionhasmooseappmoosetestapp block shown ifend elif functionhasmooseappmoosetestapp shown els shown autolink extens coremd localcoremd local head idlocalhead localhead locallocalhead nonloc head id coremdorderedsinglelevellist nonlocalcoremdunorderedsinglelevellist sourc filenam controlsrealfunctioncontrolc codecontrolsrealfunctioncontrolc sourc languag testrun_test languagepython option link optionalnot_a_real_file_namemd optionaltru exact option indexmd exacttru homeindexmd exacttru altern link local alternativenot_a_real_file_namemd alternativelocalhead alternativenot_a_real_file_namemd alternativecoremdunorderedsinglelevellist exact alternativenot_a_real_file_namemd alternativeextensionscoremd exacttru option alternativenot_a_real_file_namemd alternativealso_not_realmd optionaltru altern link googlenot_a_real_file_namemd alternativehttpswwwgooglecom alert extens alert note note alert note titletitl note titl alert note titletitl prefixfals note titl without prefix alert error error alert warn warn alert tip help tip alert construct construct alert error alert code c int x alertend alert tip titlegooglehttpsgooglecom titl link alert note titleacinl titl acinl acronym alert note iconfals note without icon alert note iconnamelocal_gas_st note custom icon content extens tabl content idtableofcont content toc level column hidetableofcont atoz index follow complet list page content atoz level page list follow list markdown page within extens directori content locationextens level content toc toc toc outlin page idoutlinepag follow list head extens directori except section head order appear main index page content outlin max_level hideoutlinepag pagescoremd autolinkmd includemd stylemd mediamd gallerymd listingmd tablemd develmd packagemd alertmd katexmd bibtexmd commonmd layoutmd materialiconmd contentmd configmd graphmd navigationmd appsyntaxmd templatemd civetmd sqamd acronymmd alert note titlerebuild outlin new head creat delet live serv outlin wont updat rebuild although case delet header link stop work also start work delet recreat todo find way check contentpi rendercontentoutlin head link actual work case doesnt delet live serv remov list ie dont add first place also find way handl newli creat head would much tricki sinc complet head list remain static follow initi build simplest way handl creationdelet reserv outlin directori idoutlinedirectori follow list level head extens directori subdirectori except section head alphabet order name moosedown file creat head content outlin locationextens recursivetru max_level hideoutlinedirectori nextprevi pagin next previou button design last element page howev case markdown content ad afterward margin enforc button need appear item distinct page main bodi similar breadcrumb navig separ margin enforc follow button configur link page appear one main index page content pagin previousmaterialiconmd nextconfigmd button page titl follow button configur link page appear one main index page use page titl text content pagin previousmaterialiconmd nextconfigmd use_titletru datetim extens datetim today datetim today formatb today datetimetoday nicer format datetimetoday formatb config disabl extensionstex equat famou equat idspecial_rel fracsqrt fracnuc equat idsecond_law f media extens imag outsid float media flag_of_michigansvg latex_srcflag_of_michiganpdf stylewidthtextaligncent insid float media flag_of_washingtonsvg stylewidthtextaligncent latex_srcflag_of_washingtonpdf captionimag float cation media flag_of_montanasvg latex_srcflag_of_montanapdf idmontanaflag captionimag float caption label stylewidth media flag_of_new_yorksvg latex_srcflag_of_new_yorkpdf idnewyorkflag captionimag float center stylewidthtextaligncent media flag_of_idahosvg latex_srcflag_of_idahopdf prefixflag captionimag float custom prefix ididahoflag stylewidthtextaligncent link imag montana montanaflag new york newyorkflag idaho idahoflag width media flag_of_michigansvg latex_srcflag_of_michiganpdf stylewidthtextaligncent media flag_of_michigansvg latex_srcflag_of_michiganpdf captionwidth set stylewidth video media httpsuploadwikimediaorgwikipediacommonsccbig_buck_bunny_kwebm posterbig_buck_bunnyjpg latex_srcbig_buck_bunnyjpg stylewidthdisplayblockmarginleftautomarginrightauto media httpsuploadwikimediaorgwikipediacommonsccbig_buck_bunny_kwebm idbigbugbunni posterbig_buck_bunnyjpg latex_srcbig_buck_bunnyjpg stylewidth captionbig bug bunni opensourc movi short media httpwwwyoutubecomembedtjwbsyalai idtrainingwebinar latex_srctrainingwebinarpng captionmoos train webinar given june applic syntax extens syntax descript controlsrealfunctioncontrol syntax paramet controlsrealfunctioncontrol syntax paramet controlsrealfunctioncontrol groupsadvanc hideimplicit headingnon syntax paramet controlsrealfunctioncontrol showfunct enabl visiblerequir syntax list control syntax input controlsrealfunctioncontrol syntax children kernelsbodyforc galleri extens card level_setvortex_outmp titl level set benchmark stylewidth lorem ipsum dolor sit amet consectetur adipisc elit sed eiusmod tempor incididunt ut labor et dolor magna aliqua ut enim ad minim veniam qui nostrud exercit ullamco labori nisi ut aliquip ex ea commodo consequat dui aut irur dolor reprehenderit volupt velit ess cillum dolor eu fugiat nulla pariatur excepteur sint occaecat cupidatat non proident sunt culpa qui officia deserunt mollit anim id est laborum galleri card level_setvortex_outmp titleimag card level_setvortex_outmp titleimag card level_setvortex_outmp titleimag galleryend devel extens exampl devel exampl test without float devel exampl idmarkdownexampl captionth exampl command test devel exampl idmarkdownexampl captionth exampl command block format first paragraph second paragraph develend set avail set code block list codeset devel set modulemoosedocsextensionscor objectcodeblock devel set modulemoosedocsextensionscor objectcodeblock captionset code block idcodeset eq exampl devel exampl captiontest equat foo famou equat idfoo e mc develend civet extens test result current commit civetresult test result latest merg commit civetmergeresult civet badg testsoutputscommonexodu civet report testsoutputscommonexodu list extens test number list idon one includ listing_includemd list idthre three refer list three test caption list caption list captionth caption caption inlin content list prefixfil captionth caption idfil caption prefix number refer special prefix file list space list void function void anotherfunct listingend test limit height contain list limit pixel vertic list maxheightpx includ stdioh void greetingvoid printfhello worldn int mainint argc char argv greet listingend languag list languagec void function file list display c sourc file exclud moos header hide modal link list frameworksrckernelsdiffusionc linkfals iddiffusionc display validparam definit limit height pixel vertic list frameworksrckernelsdiffusionc startinputparamet enddiffus maxheightpx hit file extract mesh kernel block use special prefix list moosetesttestskernelssimple_diffusionsimple_diffusioni blockmesh kernel prefixxxxxx idprfx extract diff block indent space add auxkernel header footer list moosetesttestskernelssimple_diffusionsimple_diffusioni blockkernelsdiff indent headerauxkernel footer remov test block hide modal link list moosetesttestskernelssimple_diffusiontest linkfals removetest remov issu design paramet list moosetesttestskernelssimple_diffusiontest removeteststestissu teststestdesign extract bc block remov left block valu paramet list moosetesttestskernelssimple_diffusionsimple_diffusioni blockbc removeleft bcsrightvalu templat extens project project amaz field default templat field keyfieldwithdefault requiredfals default messag great field replac templat field keyfieldwithitem field miss replac templat field keyfieldwithoutitem item suppli isnt get error sqa extens requir sqa requir linkdesignfals categorydemo verif valid sqa verif categorydemo sqa valid categorydemo crossrefer sqa crossrefer categorydemo collect specif collect sqa requir collectionsandrew categorydemo type specif type sqa requir categorydemo typestesttyp navig extens folderindexmd modal extens hidden filepythonmoosedocstestmoosedocspi pythonmoosedocstestmoosedocspi allow filepythonmoosedocstestconfigyml languageyaml pythonmoosedocstestconfigyml languageyaml packag extens packag name archosx packag code pathtogcc__gcc__ packageend sentenc gccpackagegcc config disabl extensionstex well regul militia necessari secur free state right peopl keep bear arm shall infring acronym extens acmtu acmtu page acronym list acronym list directori acronym list acronym list locationextens complet acronym list acronym list completetru folder content test navig folderfoldermd config disabl extensionstex file test content folder handl file folder config navig breadcrumbsfals includ subsiteindexmd config navig breadcrumbsfals moosedoc subsit test content test routin build page use multipl translat load differ configur extensionsfolderindexmd file test primari content overwrit page local name one also built moosedoc test page sitepythonmoosedocstestconfigyml languageyaml although page specifi configur file pythonmoosedocstestsubconfigconfigymlpythonmoosedocstestsubconfigconfigyml languageyaml ad subtransl websitesubsiteindexmd built subconfigur accord load_config method load_configpypythonmoosedocscommonload_configpi henc content set reconfigur pythonmoosedocstestsubsite_configymlpythonmoosedocstestsubsite_configyml languageyaml templat load filesqaapp_indexmdtempl categoryframework appmoosetestapp templat item keysqarecord sqa record categorycategori templat item keysqareport sqa report categorycategori moosetest document moos test contain addit page purpos guarante frameworkdoc content build standalon site follow link provid conveni run test local sourceindexmd exacttru syntaxindexmd exacttru sqaframework_srsmd sqaframework_rtmmd templat load filesqaapp_indexmdtempl categoryframework appmoosetestapp moos conda environ directori contain conda recip necessari moos applic base develop instal instruct instal miniconda anacondahttpsdocscondaioprojectscondaenlatestuserguideinstallindexhtml recommend miniconda configur conda work condaforg inl public server bash conda config add channel condaforg conda config add channel httpscondasoftwareinlgovpubl instal mooselibmesh moosetool packag name environ moos bash conda creat name moos mooselibmesh moosetool activ moos environ new termin open bash conda activ moos folk may receiv addit instruct attempt activ profil follow instruct tri activ moos environ success activ moos environ see moos within prompt close reopen termin window know need conda activ moos need everi termin open wish make automat append conda activ moos shell profil moos team make period updat conda packag stay uptod activ moos environ perform updat bash conda activ moos conda updat welcom code verif tutori style haligncent fontsiz entergetting_startedexamples_and_tutorialstutorial_verificationpresentationindexmd exacttru code verif moos practic guid idtitl style haligncent wwwmooseframeworkorgindexmd exacttru style haligncent fontsiz tutori code verificationtutorial_verificationindexmd alternativehttpsmooseframeworkinlgovgetting_startedexamples_and_tutorialstutorial_verif includ getting_startedexamples_and_tutorialstutorial_verificationpresentationtutorial_contentsmd includ workshopintroinl_backgroundmd includ workshopintromoose_introductionmd includ getting_startedexamples_and_tutorialstutorial_verificationpresentationtutorial_introductionmd includ getting_startedexamples_and_tutorialstutorial_verificationpresentationtutorial_convergencemd includ getting_startedexamples_and_tutorialstutorial_verificationpresentationtutorial_heatmd includ getting_startedexamples_and_tutorialstutorial_verificationpresentationtutorial_analyticalmd includ getting_startedexamples_and_tutorialstutorial_verificationpresentationtutorial_mmsmd bibtex bibliographi titlelevel heat conduct theori heat equat equat rhovecx cvecxfracparti tpartial nabla ktvecx nabla dotqtextforvecx omega temperatur time vecx vector spatial coordin rho densiti c specif heat capac k thermal conduct dotq heat sourc omega spatial domain boundari condit defin boundari domain partial omega type applic discuss specif applic heat equat throughout tutori theori weak form weak form heat equat necessari util acfem done integr domain omega multipli set test function phi_i perform step result weak form follow provid innerproduct notat equat lparen phi_i rhovecx cvecxfracparti t_hpartial rparen lparen nabla phi_i ktvecx nabla t_h rparen langl phi_i ktvecx nabla t_h cdot hatn rangl lparen phi_i dotq rparen forallphi_i phi_i finit element test function t_h finit element solut hatn boundari outward face normal vector boundari term result use integr part diverg theorem deriv also includ provis applic dirichlet boundari condit detail necessari tutori practic kernel object moos volum term repres kernel object ad within kernel input block problem necessari object exist within heat conduct modul lparen phi_i rhovecx cvecxfracparti t_hpartial rparenimpli heatconductiontimederiv list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockkernel removekernelst_cond kernelst_sourc practic kernel object lparen nabla phi_i ktvecx nabla t_h rparenimpli heatconduct list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockkernel removekernelst_tim kernelst_sourc lparen phi_i dotq rparenimpli heatsouc list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockkernel removekernelst_tim kernelst_cond practic boundarycondit object moos boundari term repres boundarycondit object ad within bc input block problem necessari object exist within framework langl phi_i ktvecx nabla t_h cdot hatn rangleimpli neumannbc list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockbc removebcsbottom practic boundarycondit object dirichlet condit prescrib valu boundari also util list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockbc removebcstop verif theori term verif root softwar engin practic softwar qualiti standard institut electr electron engin ieee defin verif assur product servic system meet need custom identifi stakehold often involv accept suitabl extern custom practic purpos verif process ensur softwar perform calcul expect moosebas applic ensur equat solv correctli process process perform verif studi simpl practic perform simul known solut measur error refin simul spatial tempor repeat step error reduc expect rate simul numer correct converg theori numer integr acfem known rate converg exact solut decreas time step element size theori error error e shall defin l_norm differ finit element solut u_h known solut u equat e sqrtsum_in uh_i u_i n number node simul one common measur error mani other would work well theori delta time step size easili comput equat delta t_i t_i time time step number theori element size predefin measur element size often altern directli comput element inform use exampl squar root number degreesoffreedom use measur element size regular grid practic error moos includ number error calcul lagrang shape function l_norm comput node adequ list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockpostprocessor removepostprocessorsh practic delta list tutorial_verificationapptesttestsstep_mmsd_mms_temporali linkfals blockpostprocessor removepostprocessorserror practic element size list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockpostprocessor removepostprocessorserror practic spatial converg media mms_spatialpng stylewidthfloatrightmarginleftem error decreas decreas element size firstord element converg slope two secondord three plot loglog scale practic tempor converg media mms_spatialpng stylewidthfloatrightmarginleftem error decreas decreas time step size slope equal order method plot loglog scale method manufactur solut summari practic exact solut known sinc would reason perform simul answer known possibl manufactur solut use acmm twodimension heat equat use simul physic system use basi spatial tempor converg studi use acmm theori method manufactur solut acmm summar three basic step assum solut acpd interest ttx appli assum solut comput residu function exampl equat beginalign fracparti tpartial x quad xrightarrowclapassum quad fracpartialparti xtx tx endalign add neg comput function perform desir converg studi exampl acpd becom equat fracparti tpartial x tx acpd known solut ttx use comput error perform converg studi assum solut form solut arbitrari certain characterist desir elimin unnecessari accumul error spatial studi solut exactli repres shape function exactli repres numer integr scheme tempor studi solut exactli repres shape function exactli repres numer integr scheme theori problem statement twodimension heat equat shall use simul cross section snow subject radi cool surfac intern heat due solar absorpt domain defin x textrmm textrmm heat sourc dotq appli approxim intern heat due solar absorpt sourc rais zero maximum wcdot back zero hour sec period follow sine function durat approxim daylight hour idaho fall idaho decemb left side domain shade right subject maximum sourc defin use sine function top surfac subject neumann boundari condit knabla cdot hatn q_kxt approxim radi cool snow surfac theori materi properti variabl valu unit t_ k k wcdot mcdot k rho kgcdot c_p jcdot kgcdot k kappa q_kx wcdot tx k practic simul heat conduct modul capabl perform simul thu input file need simul problem domain problem requir twodimension rectangular domain defin use mesh system defin mesh block input list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockmesh variabl singl unknown temperatur comput unknown declar use variabl system variabl block use default configur firstord lagrang finit element variabl list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockvari initi conduct initi condit t_ appli use initi condit system ic block case constant valu throughout domain provid list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockic heat sourc volumetr heat sourc dotq defin use function system use function block variabl x z alway avail repres correspond spatial locat time list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockfunct kernel volumetr portion weak form equat defin use kernel system kernel block exampl done use three kernel object follow list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockkernel boundari condit boundari portion equat weak form defin use boundari condit system bc block top domain neumann condit appli constant outward flux button domain textrmm constant temperatur defin remain boundari insul known natur boundari condit list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockbc execut problem solv use newton method firstord backward euler method timestep second min simul time nine hour set appli within execution block use execution system list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockexecution output exodusii csv format enabl within output block use output system list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockoutput practic run execut simul straightforward simpli execut heat conduct modul execut input file includ use option follow projectsmoosemodulesheat_conductionheat_conductionopt d_maini media tutorial_verificationd_mainmp stylewidthmarginleftautomarginrightautodisplayblock practic converg rate acmoos includ python packageth mm packagefor perform converg studi shall use spatial converg assum solut assum solut desir acpd equat tsinpi xcdotsinpi solut exactli repres firstord shape function firstord time integr captur time portion equat exactli thu result tempor error accumul spatial converg forc function mm packag comput necessari forc function output input file syntax forc function assum solut list tutorial_verificationapptesttestsstep_mmsstep_functionpi linkfals startmoosedocsstartspati endmoosedocsendspati includestart execut script assum name spatial_functionpi result follow output list python spatial_functionpi mms_forc type parsedfunct valu cprhosinxpisinypi piktsinxpisinypi shortwaveexpykappasinxpisinpithour var hour rho shortwav k cp kappa val mms_exact type parsedfunct valu tsinxpisinypi spatial converg input acmoos allow multipl input file suppli execut done input combin singl file compris union two file addit block requir perform spatial converg studi creat independ file forc solut function forc function exact solut ad use pars function similar exist function with simul list tutorial_verificationapptesttestsstep_mmsd_mms_spatiali linkfals blockfunct forc function heat sourc forc function appli simul ad anoth heat sourc kernel object list tutorial_verificationapptesttestsstep_mmsd_mms_spatiali linkfals blockkernel error element size perform studi error element size requir ad postprocessor block list tutorial_verificationapptesttestsstep_mmsd_mms_spatiali linkfals blockpostprocessor output csv output also need ad ad expect list tutorial_verificationapptesttestsstep_mmsd_mms_spatiali linkfals blockoutput boundari initi condit initi boundari condit simul satisfi assum solut easiest approach remedi use assum solut set initi condit boundari condit list tutorial_verificationapptesttestsstep_mmsd_mms_spatiali linkfals blockbc ic spatial converg run mm packag use perform converg studi case first secondord shape function consid list tutorial_verificationapptesttestsstep_mmsstep_studypi linkfals startmoosedocsstartspati endmoosedocsendspati includestartfals media tutorial_verificationd_mms_spatialpng tempor converg assum solut assum solut desir acpd equat xcdot ycdottextrmexp solut exactli repres firstord shape function thu result spatial error accumul firstord time integr captur time portion equat exactli tempor converg forc function mm packag comput necessari forc function output input file syntax forc function assum solut list tutorial_verificationapptesttestsstep_mmsstep_functionpi linkfals startmoosedocsstarttempor endmoosedocsendtempor includestart execut script assum name temporal_functionpi result follow output list python temporal_functionpi mms_forc type parsedfunct valu exycprhoexpet shortwaveexpykappasinxpisinpithour var kappa rho shortwav cp hour val mms_exact type parsedfunct valu xyexpet tempor converg input third input creat content follow input spatial counter part includ complet list tutorial_verificationapptesttestsstep_mmsd_mms_temporali linkfals tempor converg run mm packag use perform converg studi case first secondord shape function consid list tutorial_verificationapptesttestsstep_mmsstep_studypi linkfals startmoosedocsstarttempor endmoosedocsendtempor includestartfals media tutorial_verificationd_mms_temporalpng analyt solut summari best method verifi simul comparison known mathemat solut heat equat one solut shall consid verifi model verif process shall broken four part defin problem known exact solut simul problem comput error known solut simul perform converg studi theori problem statement citeincroperafundament present onedimension solut heat equat equat ttx t_ fracdotqk bigglbrack sqrtfracalpha tpi expbigglparenfracx alpha tbiggrparen x bigglparen textrmerfbigglparenfracxsqrtalpha biggrparen biggrparen biggrbrack temperatur t_ initi temperatur time x posit dotq heat sourc k thermal conduct alpha thermal diffus thermal diffus defin ratio thermal conduct k product densiti rho specif heat capac c_p system subject neumann boundari condit left boundari x natur boundari condit opposit boundari media tutorial_verificationd_exactmp stylewidthmarginleftautomarginrightautodisplayblock practic simul acmoos oper use input file input file shall detail capabl simul problem use demonstr locat input file arbitrari creat edit use text editor program domain domain problem defin use mesh system use mesh block input file list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockmesh variabl singl unknown temperatur comput unknown declar use variabl system variabl block use default configur firstord lagrang finit element variabl list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockvari kernel volumetr portion equat weak form defin use kernel system kernel block list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockkernel boundari condit boundari portion equat weak form defin use boundari condit system bc block x neumann condit appli valu e default x given name left list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockbc execut problem solv use newton method secondord backward differ formula bdf timestep second simul time one second set appli within execution block use execution system list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockexecution output exodusii csv format enabl within output block use output system list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockoutput practic run execut simul straightforward simpli execut heat conduct modul execut input file includ use option follow projectsmoosemodulesheat_conductionheat_conductionopt d_analyticali practic comput error comput error exact solut must ad error comput use acfem solut exact solut known solut defin use function system function block list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockfunct var val onetoon relationship eg k defin manner name var use definit equat valu paramet l_ error l_norm differnc comput exact solut comput use nodallerror object creat within postprocessor block along averag element size list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockpostprocessor media tutorial_verificationd_analyticalmp stylewidthmarginleftautomarginrightautodisplayblock practic converg rate acmoos includ python packageth mm packagefor perform converg studi shall use spatial converg perform spatial converg input file creat need execut decreas element size acmoos done ad meshuniform_refinex option command line x integ repres number refin perform list tutorial_verificationapptesttestsstep_analyticalstep_studypi linkfals startmoosedocsstartspati endmoosedocsendspati includestartfals media tutorial_verificationd_analytical_spatialpng tempor tempor converg studi nearli ident spatial tempor studi time step reduc list tutorial_verificationapptesttestsstep_analyticalstep_studypi linkfals startmoosedocsstarttempor endmoosedocsendtempor includestartfals media tutorial_verificationd_analytical_temporalpng practic close remark result converg data indic simul converg known solut correct rate linear shape function secondord time integr thu state simul verifi content idcont content toc hidetitl content refer theori vs practic theori mention put theori practic focu babbler implement fullycoupl problem porou flow heat conduct solid mechan implement moos tutori applic developmenthttpsmooseframeworkorggetting_startedexamples_and_tutorialstutorial_app_develop applic design teach peopl core concept moos creat custom applic applic name babbler name refer pie babblershttpsenwikipediaorgwikisouthern_pied_babbl one animi known teach young thorton raihani httpsdoiorgjanbehav babbler also defin person talk constantlyhttpswwwmerriamwebstercomthesaurusbabbl context live train also true moos team config navig breadcrumbsfals scrollspyfals babblerapp babbler implement fullycoupl problem porou flow heat conduct solid mechan implement moos tutori applic developmenthttpsmooseframeworkorggetting_startedexamples_and_tutorialstutorial_app_develop applic design teach peopl core concept moos creat custom applic applic name babbler name refer pie babblershttpsenwikipediaorgwikisouthern_pied_babbl one animi known teach young thorton raihani httpsdoiorgjanbehav babbler also defin person talk constantlyhttpswwwmerriamwebstercomthesaurusbabbl context live train also true moos team config navig breadcrumbsfals scrollspyfals babblerapp babbler implement fullycoupl problem porou flow heat conduct solid mechan implement moos tutori applic developmenthttpsmooseframeworkorggetting_startedexamples_and_tutorialstutorial_app_develop applic design teach peopl core concept moos creat custom applic applic name babbler name refer pie babblershttpsenwikipediaorgwikisouthern_pied_babbl one animi known teach young thorton raihani httpsdoiorgjanbehav babbler also defin person talk constantlyhttpswwwmerriamwebstercomthesaurusbabbl context live train also true moos team config navig breadcrumbsfals scrollspyfals babblerapp babbler implement fullycoupl problem porou flow heat conduct solid mechan implement moos tutori applic developmenthttpsmooseframeworkorggetting_startedexamples_and_tutorialstutorial_app_develop applic design teach peopl core concept moos creat custom applic applic name babbler name refer pie babblershttpsenwikipediaorgwikisouthern_pied_babbl one animi known teach young thorton raihani httpsdoiorgjanbehav babbler also defin person talk constantlyhttpswwwmerriamwebstercomthesaurusbabbl context live train also true moos team config navig breadcrumbsfals scrollspyfals babblerapp babbler implement fullycoupl problem porou flow heat conduct solid mechan implement moos tutori applic developmenthttpsmooseframeworkorggetting_startedexamples_and_tutorialstutorial_app_develop applic design teach peopl core concept moos creat custom applic applic name babbler name refer pie babblershttpsenwikipediaorgwikisouthern_pied_babbl one animi known teach young thorton raihani httpsdoiorgjanbehav babbler also defin person talk constantlyhttpswwwmerriamwebstercomthesaurusbabbl context live train also true moos team config navig breadcrumbsfals scrollspyfals babblerapp babbler implement fullycoupl problem porou flow heat conduct solid mechan implement moos tutori applic developmenthttpsmooseframeworkorggetting_startedexamples_and_tutorialstutorial_app_develop applic design teach peopl core concept moos creat custom applic applic name babbler name refer pie babblershttpsenwikipediaorgwikisouthern_pied_babbl one animi known teach young thorton raihani httpsdoiorgjanbehav babbler also defin person talk constantlyhttpswwwmerriamwebstercomthesaurusbabbl context live train also true moos team config navig breadcrumbsfals scrollspyfals babblerapp babbler implement fullycoupl problem porou flow heat conduct solid mechan implement moos tutori applic developmenthttpsmooseframeworkorggetting_startedexamples_and_tutorialstutorial_app_develop applic design teach peopl core concept moos creat custom applic applic name babbler name refer pie babblershttpsenwikipediaorgwikisouthern_pied_babbl one animi known teach young thorton raihani httpsdoiorgjanbehav babbler also defin person talk constantlyhttpswwwmerriamwebstercomthesaurusbabbl context live train also true moos team config navig breadcrumbsfals scrollspyfals babblerapp moos applic develop slide applic develop tutori yet creat pleas refer websit inform regard content tutori applic developmenthttpsmooseframeworkinlgovgetting_startedexamples_and_tutorialstutorial_app_developmentindexhtml darcythermomech fork darcythermomech creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp darcythermomech fork darcythermomech creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp darcythermomech fork darcythermomech creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp darcythermomech fork darcythermomech creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp darcythermomech fork darcythermomech creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp darcythermomech fork darcythermomech creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp darcythermomech fork darcythermomech creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp darcythermomech fork darcythermomech creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp darcythermomech fork darcythermomech creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp welcom moos workshop style haligncent fontsiz enterworkshopindexmd exacttru moos workshop style haligncent fontsiz datetim today formatb style haligncent wwwmooseframeworkorgindexmd exacttru includ workshopintroinl_backgroundmd includ workshopintromoose_introductionmd includ workshopintromoose_multiphysicsmd includ workshopproblemoverviewmd includ workshopproblemsummarymd includ workshopproblemstepmd includ workshopnumericalfem_overviewmd includ workshopnumericalfem_shapemd includ workshopnumericalfem_solvemd includ workshopcpp_basicsmd includ workshopcpp_scopemd includ workshopcpp_typesmd includ workshopcpp_classesmd includ workshopcppstandardsmd includ workshopproblemstepmd endendintro includ workshopsystemsmooseobjectmd includ workshopsystemsinputparametersmd includ workshopsystemskernelsmd step pressur kernel idstepb continu includ workshopproblemstepmd startendintro includ workshopproblemlaplace_youngmd includ workshopsystemsmeshmd includ workshopsystemsoutputsmd includ workshopproblemstepmd endendintro includ workshopsystemsmaterialsmd includ workshopsystemsfunctionsmd step pressur kernel materi idstepb continu includ workshopproblemstepmd startendintro includ workshopinfrastructuretestingmd includ workshopproblemstepmd endendintro includ workshopsystemsauxkernelsmd step veloc auxiliari variabl continu includ workshopproblemstepmd startendintro includ workshopproblemstepmd endendsteadi includ workshopsystemsexecutionersmd includ workshopsystemstimeintegratorsmd includ workshopsystemstimesteppersmd step heat conduct idstepb continu includ workshopproblemstepmd startstarttransi endendtransi includ workshopsystemsboundaryconditionsmd step heat conduct idstepc continu includ workshopproblemstepmd startstartbc includ workshopproblemstepmd includ workshopproblemstepmd endendintro includ workshopsystemsadaptivitymd endendintro step mesh adapt idstepb continu includ workshopproblemstepmd startendintro includ workshopproblemstepmd endendintro includ workshopsystemsuserobjectsmd includ workshopsystemspostprocessorsmd includ workshopsystemsvectorpostprocessorsmd step postprocessor continu includ workshopproblemstepmd startendintro includ workshopproblemstepmd endendintro includ workshopmodulesmodulesmd step mechan idstepb continu includ workshopproblemstepmd startendintro includ workshopproblemstepmd endendintro includ workshopsystemsmultiappsmd includ workshopsystemstransfersmd step multiscal simul idstepb continu includ workshopproblemstepmd startendintro includ workshopproblemstepmd endendintro includ workshopsystemsactionsmd step custom syntax idstepb continu includ workshopproblemstepmd startendintro includ workshopinfrastructuremmsmd includ workshopinfrastructuredebuggingmd includ workshopinfrastructurerestartmd includ workshopsystemsindexmd bibtex bibliographi titlelevel test system overview moos includ extend test system python execut code differ input file kernel logic set kernel test verif test system flexibl perform mani differ oper test expect error condit addit custom tester object creat test setup relat test group individu directori consist name convent recommend organ test hierarchi similar applic sourc ie kernel bc materi etc test found dynam match pattern highlight text test kernel my_kernel_test my_kernel_test input mesh my_kernel_testi input file test test specif file gold gold standard folder valid solut out solut test specif test specif use hit format format standard moos input file text test my_kernel_test type exodiff input my_kernel_testi exodiff my_kernel_test_out kernel_check_except type runexcept input my_kernel_exceptioni expect_err bad stuff happen variabl w test object runapp run moosebas applic specifi option exodiff check exodu file differ within specifi toler csvdiff check csv file differ within specifi toler vtkdiff check vtk file differ within specifi toler runexcept test error condit checkfil check exist specif file complet run imagediff compar imag eg png differ within specifi toler pythonunittest run python unittest base test analyzejacobian compar comput jacobian finit differ version petscjacobiantest compar comput jacobian use petsc run test bash run_test j inform view help bash run_test h test object option bash run_test dump input name input file exodiff list output filenam compar abs_zero absolut zero toler exodiff rel_err rel error toler exodiff prereq name test need complet run test min_parallel minimum number processor use test default max_parallel maximum number processor use test note test individu test run rel quickli second rule output gener file check repositori moos develop reli applic test refactor verifi correct poor test coverag higher code failur rate point test step execut prior follow command run without audienc know test step fail need updat use genericconstantmateri bash cd projectsmoosetutorialsdarcy_thermo_mechstep_darcy_materi cp step_darcy_pressuretestskernelsdarcy_pressuredarcy_pressurei testskernelsdarcy_pressur debug debugg often effect print statement help find bug mani debugg exist lldb gdb totalview ddd intel debugg etc typic best use debugg associ compil lldbgdb use simpl use includ moos packag segment fault segment fault segfault signal error denot memori bug often array access bound bash segment fault segfault good error debugg easili pinpoint problem exampl input file list examplesex_debuggingexi exampl run input file bash cd projectsmooseexamplesex_debug make j exopt exi time step time dt time step time dt segment fault debug compil use debugg moosebas applic must compil someth optim mode opt debug dbg mode recommend produc full line number inform stack trace text cd projectsmooseexamplesex_debug methoddbg make j creat debug version applic exdbg run debugg compil debug applic execut use either gdb gcc lldb clang bash gdb arg exdbg exi bash lldb exdbg exi command start debugg load execut open debugg command prompt use gdb lldb prompt gdb lldb type h hit enter get help set breakpoint mpi_abort code paus maintain stack trace bash lldb b mpi_abort breakpoint libmpidylibmpi_abort address xbf run applic type r hit enter applic hit breakpoint bash lldb r process launch exdbg x_ applic stop get backtrac bash lldb bt thread queue comapplemainthread stop reason breakpoint frame xbf libmpidylibmpi_abort frame xefc libexdbgdylibmoosearraydoubleoperatorthisx const moosearrayh frame xeb libexdbgdylibexamplediffusioncomputeqpresidualthisxa examplediffusionc frame xb libmoosedbgdylibkernelcomputeresidualthisxa kernelc backtrac show examplediffusioncomputeqpresidu attempt made access entri moosearray entri c return _coupled_coef_qp diffusioncomputeqpresidu one item index line _coupled_coef therefor consid _coupled_coef declar bug examplediffusionh member variabl _coupled_coef variablevalu declar refer bash const variablevalu _coupled_coef store refer caus copi variablevalu made construct copi never resiz ever valu written examplediffusionh list examplesex_debuggingincludekernelsexamplediffusionh examplediffusionc list examplesex_debuggingsrckernelsexamplediffusionc method manufactur solut mm method manufactur solut mm use tool code verif make sure mathemat model properli solv mm work assum solut substitut pde obtain forc term modifi pde forc term ad solv numer result compar assum solut check norm error success finer grid verifi code obtain theoret converg rate exampl mm pde nabla cdot nabla u assum solut u sinalphapi x forc function f alpha pi sin alpha pi x need solv nabla cdot nabla u f exampl input file list examplesex_ppsexi exampl run via commandlin bash cd projectsmooseexamplesex_pp make j use number processor system exopt exi mm python packag bash export pythonpathpythonpathprojectsmoosepython exampl exact solut mms_exactpi list examplesex_ppsmms_exactpi bash cd projectsmooseexamplesex_pp mms_exactpi bash piasinxpia forc type parsedfunct valu piasinxpia var val exact type parsedfunct valu sinxpia var val error analysi compar two solut solut analyt solut f_ f_ follow express frequent use equat f_f__l_omega int_omega f_f_ textdomega f_f__h_textsemiomega int_omega leftnabla leftf_f_rightright textdomega finit element theori converg rate known quantiti success refin grid two calcul comput moos util elementlerror elementhsemierror postprocessor object respect exampl converg studi mms_spatialpi list examplesex_ppsmms_spatialpi exampl converg result bash cd projectsmooseexamplesex_pp mms_spatialpi media darcy_thermo_mechex_mmspng restart recoveri system definit restart run simul use data previou simul use differ input file recov resum exist simul prematur termin solut file mesh format contain field data addit mesh ie normal output file checkpoint snapshot simul includ mesh solut state data n n restart context mean number processor previou current simul match n restart context differ number processor may use previou current simul variabl initi method best suit restart simul mesh previou simul exactli match mesh current simul initi condit need set one variabl method requir valid solut file moos support n restart use method text mesh moos support read field data exodusii xdaxdr mesh checkpoint file e xda xdr cp file previous method restart support serial mesh distribut serial variablesnod famili lagrang order first initial_from_file_var nodal initial_from_file_timestep auxvariableselement famili monomi order constant initial_from_file_var element initial_from_file_timestep checkpoint advanc restart recoveri moos requir checkpoint file enabl automat checkpoint use default option everi time step keep last two simul simpli add follow flag input file text output checkpoint true control checkpoint system creat subblock input file allow chang file format suffix frequenc output number checkpoint file keep etc set num_fil least minim chanc end corrupt restart file list outputscheckpointcheckpoint_intervali blockoutput advanc restart method best suit situat mesh previou simul current simul match variabl state data load perviou simul support modifi variabl support dt time_step default moos automat use last valu found checkpoint file n n restart support use method text mesh serial number match correspond execution paramet file out_cp_meshcpr method restart support serial mesh distribut serial problem note suffix left paramet restart_file_bas out_cplatest may also use specif number reload data possibl load project data onto differ mesh solut file usual initi condit new simul moos support use solutionuserobject recov simul termin due fault recov simpli use recov commandlin flag requir checkpoint file bash frogopt inputi recov multiapp restart run multiapp simul need enabl checkpoint output sub app input file master app store restart data sub app file creat multiphys code multiphys popular achiev scientist adept creat applic domain collabor across research group andor disciplin head sand develop coupl code someth better modular key data access strict interfac code separ respons allow decoupl code lead reus less bug challeng fem shape function dof element qp materi properti analyt function global integr transfer data much need fem assembl complex make comput scienc code brittl hard reus consist set system need carri common action system separ interfac moos pluggabl system system break apart respons direct commun system everyth flow moos interfac object mix match achiev simul goal incom data chang dynam output manipul eg multipl radiu cylindr coordin object lift one applic use anoth moos pluggabl system style haligncent row col small medium larg stylemarginleftautomarginrightpx action auxkernel base bc constraint control damper dgkernel dirackernel distribut execution colend col small medium larg stylemarginright function geomsearch ic indic interfacekernel kernel linesearch marker materi mesh colend col small medium larg stylemarginright meshgener meshmodifi multiapp nodalkernel output parser partition postprocessor precondition predictor colend col small medium larg stylemarginright problem relationshipmanag sampler split timeintegr timestepp transfer userobject util variabl vectorpostprocessor colend rowend styleend finiteel reactor fuel simul media darcy_thermo_mechsimulatormv stylewidthmarginleftautomarginrightautodisplayblock moos physic modul style haligncent chemic reaction contact extern petsc solver fluid properti function expans tool heat conduct level set navier stoke phase field porou flow rdg stochast tool tensor solid mechan xfem shallow water work progress ray trace work progress media darcy_thermo_mechmoose_herd_png stylemarginleftautomarginrightautodisplayblock idaho nation laboratori style haligncent wwwinlgov establish inl lead nuclear energi rd laboratori depart energi establish worldclass capabl model simul advanc energi system stylecolorgrey inl one largest employ idaho employe intern inl budget billion inl site nuclear reactor design construct includ first reactor gener usabl amount electr experiment breeder reactor erb media darcy_thermo_mechinl_erbjpg stylewidthmarginleftautomarginrightautodisplayblock advanc test reactor atr world power test reactor construct volum cubic meter kg uranium oper c media darcy_thermo_mechinl_atrjpg stylewidthmarginleftautomarginrightautodisplayblock transient reactor test facil treat treat test facil specif design evalu respons fuel materi accid condit highintens gw shortdur ms neutron puls sever accid test media darcy_thermo_mechinl_treatpng stylewidthmarginleftautomarginrightautodisplayblock moos introduct style haligncent multiphys object orient simul environ media darcy_thermo_mechmoose_intropng stylewidthmarginleftautomarginrightautodisplayblock histori purpos develop start opensourc design solv comput engin problem reduc expens time requir develop new applic easili extend maintain work effici mani processor provid objectori extens system creat aspect simul tool moos team media darcy_thermo_mechmoose_teampng stylewidthmarginleftautomarginrightautodisplayblock media darcy_thermo_mechmoose_designpng stylewidthmarginleftautomarginrightautodisplayblock gener capabl continu discontinu galerkin fem finit volum fulli coupl fulli implicit explicit acad unstructur mesh fem shape higher order geometri mesh adapt refin coarsen massiv parallel mpi thread user code agnost dimens parallel shape function etc objectori pluggabl system media darcy_thermo_mechmoose_systemspng stylewidthmarginleftautomarginrightautodisplayblock exampl code media darcy_thermo_mechmoose_codepng stylewidthmarginleftautomarginrightautodisplayblockboxshadownon softwar qualiti moos follow nuclear qualiti assur level nqa develop process commit undergo review use github pull request must pass set applic regress test avail user moos includ test suit document system allow agil develop maintain nqa process util continu integr environ verif enhanc test civet develop process media darcy_thermo_mechcivet_flowpng stylewidthmarginleftautomarginrightautodisplayblock commun httpsgithubcomidaholabmoosediscuss media darcy_thermo_mechmoose_userspng stylewidthmarginleftautomarginrightautodisplayblock media darcy_thermo_mechmoose_contributorspng stylewidthmarginleftautomarginrightautodisplayblockbackgroundwhit media darcy_thermo_mechmoose_add_delpng stylewidthmarginleftautomarginrightautodisplayblockbackgroundwhit step mesh adapt idstep endintro step coars solut list stepa_coarsei step run visual bash cd projectsmoosetutorialsdarcythermo_mechstep_adapt make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepa_coarsei step b fine solut list stepb_finei step b run visual bash cd projectsmoosetutorialsdarcythermo_mechstep_adapt make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepb_finei step c adapt mesh solut list stepc_adapti step c run visual bash cd projectsmoosetutorialsdarcythermo_mechstep_adapt make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepa_adapti media darcy_thermo_mechstepabc_resultmp step multipl subdomain list stepd_adapt_blocksi media darcy_thermo_mechstepd_resultmp step heat conduct idstep pressur equat handl heat conduct equat next equat cleft fracparti tpartial epsilon vecucdotnabla right nablacdot k nabla initi steadi heat conduct equat consid equat nabla cdot k nabla anoth diffusiontyp term depend thermal conduct k term implement moos heat conduct modul adheatconduct adheatconductionh list heat_conductionincludekernelsadheatconductionh adheatconductionc list heat_conductionsrckernelsadheatconductionc adheatcondut kernel conjunct genericconstantmateri need perform steadi state heat conduct solv inlet outlet genericconstantmateri genericconstantmateri simpl way defin constant materi properti two input paramet provid use list syntax common moos text prop_nam conduct densiti prop_valu step steadyst input file list step_heat_conductionproblemsstepa_steadyi step b run input file bash cd projectsmoosetutorialsdarcythermo_mechstep_heat_conduct make j use number processor system cd problem darcy_thermo_mechopt stepa_steadyi starttransi transient heat conduct b creat timedepend problem add time deriv equat c fracparti tpartial nabla cdot k nabla time term exist heat conduct modul adheatconductiontimederiv thu updat input file requir run transient case endsteadi adheatconductiontimederivativeh list heat_conductionincludekernelsadheatconductiontimederivativeh adheatconductiontimederivativec list heat_conductionsrckernelsadheatconductiontimederivativec step b timedepend input file list step_heat_conductionproblemsstepb_transienti step b run input file bash cd projectsmoosetutorialsdarcythermo_mechstep_heat_conduct make j use number processor system cd problem darcy_thermo_mechopt stepb_transienti startbc outflow boundari condit c flow assum exit pipe larg tank model bc boundari condit citegriffithsno boundari term left k nabla cdot mathbfn psi_i right comput implicitli rather replac known flux done neumannbc endtransi heatconductionoutflowh list step_heat_conductionincludebcsheatconductionoutflowh heatconductionoutflowc list step_heat_conductionsrcbcsheatconductionoutflowc stepc outflow input file list step_heat_conductionproblemsstepc_outflowi step c run visual peacock bash cd projectsmoosetutorialsdarcythermo_mechstep_heat_conduct make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepb_transienti step c result media darcy_thermo_mechstepc_resultwebm step equat coupl idstep pressur heat equat develop independ point step coupl togeth equat nabla cdot fracmathbfkmu nabla p cleft fracparti tpartial underbraceepsilon vecucdotnabla t_textrmdarcyadvect right nabla cdot k nabla object creat everyth except vecucdotnabla term kernel darcyadvect develop term sophist materi object creat includ temperatur depend darcyadvectionh list step_coupled_darcy_heat_conductionincludekernelsdarcyadvectionh darcyadvectionc list step_coupled_darcy_heat_conductionsrckernelsdarcyadvectionc packedcolumnh list step_coupled_darcy_heat_conductionincludematerialspackedcolumnh packedcolumnc list step_coupled_darcy_heat_conductionsrcmaterialspackedcolumnc heatconductionoutflowh list step_coupled_darcy_heat_conductionincludebcsheatconductionoutflowh heatconductionoutflowc list step_coupled_darcy_heat_conductionsrcbcsheatconductionoutflowc step coupl pressur heat equat list step_coupled_darcy_heat_conductionproblemsstepa_coupledi auto variabl scale obtain optimum numer solut nonlinear variabl scale moos includ abil automat scale nonlinear variabl condit number without scale condit number use determin variabl scale requir bash cd projectsmoosetutorialsdarcythermo_mechstep_coupled_darcy_heat_conduct make j darcy_thermo_mechopt stepa_coupledi meshnx meshni executionernum_step executionerautomatic_sc pc_type svd pc_svd_monitor ksp_view_pmat bash time step time dt nonlinear r e svd condit number e singular valu nearli zero svd smallest singular valu e e e e e svd largest singular valu e e e e e linear r e linear r e mat object mpi process type seqaij row row row e e e e e e row e e e e e e row e e e e e e e e e condit number scale bash cd projectsmoosetutorialsdarcythermo_mechstep_coupled_darcy_heat_conduct make j darcy_thermo_mechopt stepa_coupledi meshnx meshni executionernum_step pc_type svd pc_svd_monitor ksp_view_pmat bash time step time dt nonlinear r e svd condit number e singular valu nearli zero svd smallest singular valu e e e e e svd largest singular valu e e e e e linear r e linear r e mat object mpi process type seqaij row row row row e e e e e e row step run visual peacock bash cd projectsmoosetutorialsdarcythermo_mechstep_coupled_darcy_heat_conduct make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepa_coupledi step result media darcy_thermo_mechstepa_resultwebm step b oscil pressur temperatur depend vari inlet output pressur inlet left p sinpi outlet right p cospi viscos densiti thermal conduct specif heat capac fluid setup vari function temperatur step b input file list step_coupled_darcy_heat_conductionproblemsstepb_transient_inflowi step b run visual peacock bash cd projectsmoosetutorialsdarcythermo_mechstep_coupled_darcy_heat_conduct make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepb_transient_inflowi step b result media darcy_thermo_mechstepb_resultmp decoupl heat equat list step_coupled_darcy_heat_conductionproblemsstepc_decoupledi tutori step style haligncent step step step step step step step step step step step step first step solv simpl diffus problem requir code step introduc basic system moos equat nablacdotnabla p step order implement darci pressur equat kernel object need repres equat nablacdotfracmathbfkmunabla p step instead pass constant paramet pressur diffus kernel object materi system use suppli valu allow properti vari space time well coupl variabl simul step veloc comput pressur base darci law equat vecu fracmathbfkmu nabla p veloc comput use auxiliari system step solv transient heat equat use heat conduct modul equat c fracparti tpartial nabla cdot k nabla step solv pressur temperatur coupl system equat ad advect term heat equat equat nabla cdot fracmathbfkmu nabla p cleft fracparti tpartial epsilon vecucdotnabla right nabla cdot k nabla step transient simul travel wave profil move porou medium instead use uniform mesh resolv wave profil dynam adapt mesh solut step postprocessor vectorpostprocessor object use comput aggreg valu simul averag temperatur boundari temperatur along line within solut domain step thermal expans porou media ad coupl set equat use tensor mechan modul without ad addit code step moos capabl run multipl applic togeth transfer data variou applic problem replac thermal conduct calcul materi valu comput anoth applic run phasebas microstructur simul step moos includ system creat custom input syntax common task step syntax two equat veloc auxiliari calcul simplifi endus step pressur kernel materi idstep instead pass constant paramet darcypressur object use materi system suppli valu equat nabla cdot fracmathbfkmu nabla p textbfk permeabl tensor mu fluid viscos system allow properti vari space time coupl variabl simul endintro packedcolumn materi two materi properti must produc consumpt darcypressur object permeabl viscos shall comput singl materi object packedcolumn refer articl permeabl vari size steel sphere linear interpol use defin properti packedcolumnh list step_darcy_materialincludematerialspackedcolumnh packedcolumnc list step_darcy_materialsrcmaterialspackedcolumnc darcypressur kernel exist kernel object use input paramet defin permeabl viscos must updat consum newli creat materi properti darcypressureh list step_darcy_materialincludekernelsdarcypressureh darcypressurec list step_darcy_materialsrckernelsdarcypressurec step input file list step_darcy_materialproblemsstepi step run visual peacock bash cd projectsmoosetutorialsdarcythermo_mechstep_darcy_materi make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepi step run via commandlin bash cd projectsmoosetutorialsdarcythermo_mechstep_darcy_materi make j use number processor system cd problem darcy_thermo_mechopt stepi step visual result bash projectsmoosepythonpeacockpeacock r step_out media darcy_thermo_mechstep_resultpng step b variabl sphere updat input file vari sphere size along length pipe step b input file list step_darcy_materialproblemsstepbi step b visual result media darcy_thermo_mechstepb_resultpng handson laplac young problem statement given domain omega find u equat nabla cdot left ku nabla u right kappa u omega equat quad ku nabla u cdot hatn sigma partial omega equat ku equiv fracsqrt nabla u kappa sigma laplaceyoung solut media darcy_thermo_mechlaplaceyoungpng stylewidthmarginleftautomarginrightautodisplayblock step multiscal simul idstep run full simul comput thermal conduct poros microstructur endintro randomcorrosionh list step_multiappsincludeauxkernelsrandomcorrosionh randomcorrosionc list step_multiappssrcauxkernelsrandomcorrosionc step microscal input file list step_multiappsproblemsstep_microi step run visual microscal bash cd projectsmoosetutorialsdarcythermo_mechstep_multiapp make j use number processor system cd problem projectsmoosepythonpeacockpeacock step_microi step microscal result media darcy_thermo_mechstep_micro_resultmp packedcolumnh list step_multiappsincludematerialspackedcolumnh packedcolumnc list step_multiappssrcmaterialspackedcolumnc step multiscal input file list step_multiappsproblemsstepi step run visual multiscal bash cd projectsmoosetutorialsdarcythermo_mechstep_multiapp make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepi step multiscal result media darcy_thermo_mechstep_resultmp step geometri diffus idstep first consid steadyst diffus equat domain omega find u equat nabla cdot nabla u omega u left u right nabla u cdot hatn remain boundari weak form equat innerproduct notat given equat leftnabla psi_i nabla u_hright quad foral psi_i psi_i test function u_h finit element solut input file capabl moos modul applic compil singl execut input file use defin capabl use perform simul moos use hierarch input text hit format list step_diffusionproblemsstepi blockkernel basic moos input file requir six part cover greater detail later mesh defin geometri domain variabl defin unknown problem kernel defin equat solv bc defin boundari condit problem execution defin problem solv output defin solut written step input file list step_diffusionproblemsstepi step run visual peacock bash cd projectsmoosetutorialsdarcythermo_mechstep_diffus make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepi step run via commandlin bash cd projectsmoosetutorialsdarcythermo_mechstep_diffus make j use number processor system cd problem darcy_thermo_mechopt stepi step visual result bash projectsmoosepythonpeacockpeacock r step_out media darcy_thermo_mechstep_resultpng step pressur kernel idstep kernel object implement darci pressur equat kernel object need add coeffici diffus equat equat nabla cdot fracmathbfkmu nabla p textbfk permeabl tensor mu fluid viscos kernel c class inherit mooseobject use moos code volum integr acpd endintro darcypressur kernel implement coeffici new kernel object must creat darcypressur object inherit addiffus use input paramet specifi permeabl viscos darcypressureh list step_darcy_pressureincludekernelsdarcypressureh darcypressurec list step_darcy_pressuresrckernelsdarcypressurec step input file list step_darcy_pressureproblemsstepi step run visual peacock bash cd projectsmoosetutorialsdarcythermo_mechstep_darcy_pressur make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepi step run via commandlin bash cd projectsmoosetutorialsdarcythermo_mechstep_darcy_pressur make j use number processor system cd problem darcy_thermo_mechopt stepi step visual result bash projectsmoosepythonpeacockpeacock r step_out media darcy_thermo_mechstep_resultpng step custom syntax idstep add custom syntax build object common darci thermal mecahn problem veloc auxiliari variabl kernel pressur kernel temperatur kernel endintro setupdarcysimulationh list step_actionincludeactionssetupdarcysimulationh setupdarcysimulationc list step_actionsrcactionssetupdarcysimulationc darcythermomechapph list step_actionincludebasedarcythermomechapph darcythermomechappc list step_actionsrcbasedarcythermomechappc step input file list step_actionproblemsstepi step run visual bash cd projectsmoosetutorialsdarcythermo_mechstep_act make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepi step result media darcy_thermo_mechstep_resultmp step mechan idstep mechan comput elast thermal strain tube allow expand along axial direct equat beginalign nabla cdot boldsymbolsigma boldsymbolsigma_ boldsymbolb boldsymbol mathrminomega boldsymbolu boldsymbolgmathrmingamma_ boldsymbolg boldsymbolsigma cdot boldsymbolnboldsymboltmathrmingamma_ boldsymbolt endalign boldsymbolsigma cauchi stress tensor boldsymbolsigma_ addit sourc stress pore pressur boldsymbolu displac vector boldsymbolb bodi forc boldsymboln unit normal boundari boldsymbolg prescrib displac boundari boldsymbolt prescrib traction boundari endintro packedcolumnh list step_mechanicsincludematerialspackedcolumnh packedcolumnc list step_mechanicssrcmaterialspackedcolumnc step input file list step_mechanicsproblemsstepi step run visual bash cd projectsmoosetutorialsdarcythermo_mechstep_mechan make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepi step result media darcy_thermo_mechstep_resultmp step veloc auxiliari variabl idstep veloc primari variabl interest comput base pressur equat vecu fracmathbfkmu nabla p endintro darcyveloc auxkernel primari unknown nonlinear variabl pressur pressur comput auxiliarysystem comput output veloc field use coupl pressur variabl permeabl viscos properti auxiliari variabl come two flavor nodal element nodal auxiliari variabl coupl gradient nonlinear variabl sinc gradient c_ continu variabl welldefin node element auxiliari variabl coupl gradient nonlinear variabl sinc evalu occur element interior darcyvelocityh list step_velocity_auxincludeauxkernelsdarcyvelocityh darcyvelocityc list step_velocity_auxsrcauxkernelsdarcyvelocityc step input file list step_velocity_auxproblemsstepi step run visual peacock bash cd projectsmoosetutorialsdarcythermo_mechstep_velocity_aux make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepi step run via commandlin bash cd projectsmoosetutorialsdarcythermo_mechstep_velocity_aux make j use number processor system cd problem darcy_thermo_mechopt stepi step visual result bash projectsmoosepythonpeacockpeacock r step_out media darcy_thermo_mechstep_resultpng tighter solv toler bash cd projectsmoosetutorialsdarcythermo_mechstep_velocity_aux make j use number processor system cd problem darcy_thermo_mechopt stepi executionernl_rel_tol media darcy_thermo_mechstep_result_tightpng step postprocessor idstep aggreg valu base simul data use understand simul well defin coupl valu across coupl equat two main system aggreg data postprocessor vectorpostprocessor endintro step input file list step_postprocessorsproblemsstepi step run visual bash cd projectsmoosetutorialsdarcythermo_mechstep_postprocessor make j use number processor system cd problem projectsmoosepythonpeacockpeacock stepi media darcy_thermo_mechstep_resultmp problem statement consid system contain two pressur vessel differ temperatur vessel connect via pipe contain filter consist closepack steel sphere predict veloc temperatur fluid insid filter pipe length diamet media darcy_thermo_mechproblem_schematicpng stylewidthmarginleftautomarginrightautodisplayblock style fontsizelarg pamuk ozdemir friction factor permeabl inerti coeffici oscil flow porou media pack ballshttpswwwsciencedirectcomsciencearticlepii experiment thermal fluid scienc v pp govern equat conserv mass equat iddarcy_mass nabla cdot vecu conserv energi equat iddarcy_energi cleft fracparti tpartial epsilon vecucdotnabla right nablacdot k nabla darci law equat iddarcy_veloc vecu fracmathbfkmu nabla p rho vecg vecu fluid veloc epsilon poros mathbfk permeabl tensor mu fluid viscos p pressur rho densiti vecg graviti vector temperatur assum vecg impos divergencefre condit darcy_mass darcy_veloc lead follow system two equat unknown p equat nabla cdot fracmathbfkmu nabla p equat cleft fracparti tpartial epsilon vecucdotnabla right nabla cdot k nabla paramet rho c k porositydepend densiti heat capac thermal conduct combin fluidsolid medium defin equat rho equiv epsilon rho_f epsilon rho_ c equiv epsilon rho_f c_p_f epsilon rho_ c_p_ k equiv epsilon k_f epsilon k_ epsilon poros c_p specif heat subscript f refer fluid solid respect materi properti properti valu unit viscos water mu_f time textrmpcdottextrm densiti water rho_f textrmkgtextrmm densiti steel rho_ textrmkgtextrmm thermal conduct water k_f textrmwtextrmmtextrmk thermal conduct steel k_ textrmwtextrmmtextrmk specif heat capac water c_p_f textrmjtextrmkgtextrmk specif heat capac steel c_p_ textrmjtextrmkgtextrmk boundari condit system system comput residu contribut boundari term acpd boundarycondit bc object comput residu boundari intern side domain two flavor bc object nodal integr integr bc integr bc integr boundari intern side inherit adintegratedbc structur similar kernel object must overrid computeqpresidu adintegrtedbc object member _u _grad_u valu gradient variabl kernel oper _test _grad_test valu psi gradient nabla psi test function quadratur point _phi _grad_phi valu phi gradient nabla phi trial function quadratur point _i _j _qp current index test function trial function quadratur point respect _normal outward normal vector boundari element _boundary_id boundari id _current_elem _current_sid pointer element index current boundari side nonintegr bc nonintegr bc set valu residu directli boundari intern side inherit adnodalbc structur similar kernel object must overrid computeqpresidu nodalbc object member _u valu variabl kernel oper _qp current index use interfac consist _boundary_id boundari id _current_nod pointer current node oper dirichlet bc set condit valu variabl boundari equat u g_ quad texton quad partialomega_ becom equat u g_ quad texton quad partialomega_ dirichletbch list frameworkincludebcsdirichletbch dirichletbcc list frameworksrcbcsdirichletbcc integr bc integr bc includ neumann bc actual integr extern face element equat left beginarrayrl nabla u nabla psi_i f psi_i langl nabla ucdot hatboldsymbol n psi_irangl quad foral nabla u cdot hatboldsymbol n g_quad texton quadpartialomega endarray right becom equat nabla u nabla psi_i f psi_i langl g_ psi_irangl quad foral nabla u cdot hatboldsymbol n boundari integr zero natur boundari condit neumannbch list frameworkincludebcsneumannbch neumannbcc list frameworksrcbcsneumannbcc period bc period boundari condit use model quasiinfinit domain system conserv quantiti mesh adapt restrict specif variabl support arbitrari translat vector defin period mesh system system defin finit element mesh creat mesh complic geometri gener use cubit sandia nation laboratori cubitsandiagovhttpscubitsandiagov mesh gener work long output file format libmesh read filemesh filemesh default type list meshgmshgmsh_testi moos support read write larg number format could extend read extens descript dat tecplot ascii file e exd sandia exodusii format fro acdl surfac triangul file gmv lanl gmv gener mesh viewer format mat matlab triangular ascii file read msh gmsh ascii file n nem sandia nemesi format plt tecplot binari file write node ele poli tetgen ascii file read write inp abaqu inp format read ucd avss ascii ucd format unv idea univers format xda xdr libmesh format vtk pvtu visual toolkit generatedmesh builtin mesh gener implement line rectangl rectangular prism list initial_adaptivity_testi blockmesh side name logic way number left right bottom right top left back bottom right top left front name entiti support humanread name assign block sideset nodeset use throughout input file paramet requir id accept either number name name assign id exist mesh eas input file mainten list name_on_the_flyi blockmesh bc materi replic mesh run parallel default mode oper use replic mesh creat complet copi mesh processor text parallel_typ replic distribut mesh chang type distribut run parallel oper portion mesh own processor store processor text parallel_typ distribut mesh larg read singl processor split prior simul copi mesh larg memori machin use splitmesh option split mesh n piec run execut usesplit displac mesh calcul take place either initi mesh configur request displac configur enabl displac provid vector displac variabl name spatial dimens mesh block list dg_displacementi blockmesh object enforc use displac mesh within validparam function list penetrationauxc lineuse_displaced_mesh moos pluggabl system includ actionsmd end includ auxkernelsmd end includ boundaryconditionsmd end includ constraintsmd end includ controlsmd end includ dampersmd end includ dgkernelsmd end includ dirackernelsmd end includ distributionsmd end includ executionersmd end includ functionsmd end includ geomsearchmd end includ initialconditionsmd end includ indicatorsmd end includ interfacekernelsmd end includ kernelsmd end includ linesearchesmd end includ markersmd end includ materialsmd end includ meshmd end includ meshgeneratorsmd end includ meshmodifiersmd end includ multiappsmd end includ nodalkernelsmd end includ outputsmd end includ parsermd end includ partitionermd end includ postprocessorsmd end includ preconditionermd end includ predictormd end includ problemmd end includ relationshipmanagersmd end includ samplersmd end includ splitsmd end includ timeintegratorsmd end includ timesteppersmd end includ transfersmd end includ userobjectsmd end includ vectorpostprocessorsmd end predictor system system predict next iter simul base previou solut iter mooseobject userfac object moos deriv mooseobject allow common structur applic basi modular design moos basic header customobjecth c pragma includ baseobjecth class customobject public baseobject public static inputparamet validparam customobjectconst inputparamet paramet protect virtual real dosometh overrid const real _scale basic sourc customobjectc c includ customobjecth registermooseobjectcustomapp customobject inputparamet customobjectvalidparam inputparamet param baseobjectvalidparam paramsaddclassdescriptionth customobject someth scale paramet paramsaddparamrealscal scale factor use someth return param customobjectcustomobjectconst inputparamet paramet baseobjectparamet _scalegetparamrealscal doubl customobjectdosometh sort import calcul need scale factor return _scale time integr system system defin scheme numer integr time timeintegr set use scheme paramet within execution block type transient follow option exist impliciteul backward euler default bdf second order backward differ formula cranknicolson second order cranknicolson method dirk second order diagonallyimplicit rungekutta dirk newmarkbeta second order newmarkbeta method structur dynam timeintegr block also possibl specifi time integr separ subblock within input file allow addit type paramet defin includ custom timeintegr object list newmark_beta_prescribed_parametersi blockexecution converg rate consid test problem equat beginarrayrl fracparti uparti nabla u f ut u_ left u right_parti omega u_d endarray tt omega f chosen exact solut given u x u_ u_d initi dirichlet boundari condit correspond exact solut media darcy_thermo_mechtime_convergence_implicitpng userobject system system defin arbitrari interfac moos object userobject system provid data calcul result moos object postprocessor userobject comput singl scalar valu vectorpostprocessor userobject comput vector data userobject defin interfac moos object call retriev data execut userobject comput specifi time execute_on option input file execute_on initi timestep_end execute_on linear execute_on nonlinear execute_on timestep_begin final fail restrict specif block sideset nodeset userobject type variou type userobject elementuserobject execut element nodaluserobject execut node sideuserobject execut boundari internalsideuserobject execut intern side interfaceuserobject execut interfac generaluserobject execut userobject anatomi virtual void initi call begin userobject calcul virtual void execut call geometr entiti element node etc per calcul generaluserobject virtual void threadjoinconst userobject uo thread execut function use join togeth calcul gener differ thread cast uo const refer specif userobject type extract data aggreg data object requir generaluserobject thread virtual void final last function call calcul complet take data calcul perform execut perform oper get final valu perform parallel commun necessari ensur processor comput valu user defin interfac userobject defin interfac defin const function exampl userobject comput averag valu variabl everi block mesh might provid function like cpp real averagevaluesubdomainid block const anoth mooseobject need userobject would call averagevalu get result calcul use userobject moos object retriev userobject manner similar retriev function gener good idea take name userobject input file cpp inputparamet blockaveragediffusionmaterialvalidparam inputparamet param materialvalidparam paramsaddrequiredparamuserobjectnameblock_average_userobject comput return param userobject come const refer userobject type object cpp const blockaveragevalu _block_average_valu refer set initi list object call templat getuserobject method cpp blockaveragediffusionmaterialblockaveragediffusionmaterialconst inputparamet paramet materialparamet _block_average_valuegetuserobjectblockaveragevalueblock_average_userobject use refer call interfac function defin userobject cpp _diffusivity_qp _block_average_valueaveragevalue_current_elemsubdomain_id postprocessor system system comput reduct aggreg calcul base solut variabl result singl scalar valu type postprocessor elementpostprocessor oper element nodalpostprocessor oper node sidepostprocessor oper boundari internalsidepostprocessor oper intern element side interfacepostprocessor oper subdomain interfac generalpostprocessor oper per execut postprocessor anatomi postprocessor userobject initi execut threadjoin final method use implement aggreg oper real getvalu call intern within moos retriev final scalar valu valu return function referenc object use postprocessor aggreg routin postprocessor creat custom data must ensur valu commun properli mpi threadbas parallel simul mpi sever util method exist perform common aggreg oper gathersumscalar sum across processor gatherminscalar min processor gathermaxscalar max processor builtin postprocessor type moos includ larg number builtin postprocessor elementaveragevalu sideaveragevalu elementlerror elementherror mani default postprocessor output format tabl screen option use output block store csv file text output csv true use postprocessor postprocessor valu use within object creat const refer postprocessorvalu initi refer initi list list postprocessordth linepostprocessorvalu list postprocessordtc linegetpostprocessorvalu default postprocessor valu possibl set default valu postprocessor allow object oper without creat postprocessor object cpp paramsaddparampostprocessornamepostprocessor doc string addit valu may suppli input file lieu postprocessor name transfer system system move data master subappl multiapp transfer data typic handl auxiliari postprocessor system data receiv applic coupl valu normal way subappl abl solv field interpol interpol transfer use domain overlap geometri sourc field evalu destin point gener node element centroid evalu put receiv auxvari field name variabl multiapptransf take direct paramet specifi flow inform option from_multiapp to_multiapp list exec_on_mismatchi blocktransf userobject interpol mani userobject comput spatiallyvari data associ directli mesh userobject overrid real spatialvaluepoint provid valu given point space userobjecttransf sampl spatiallyvari data one app put valu auxvari anoth list d_d_masteri blocktransf postprocessor transfer postprocessor transfer allow transfer scalar valu applic transfer multiapp valu either put postprocessor valu put constant auxvari field transfer multiapp master valu interpol subapp auxiliari field list multiapp_postprocessor_transfermasteri blocktransf materi system system defin materi properti use multipl system allow variabl coupl materi system oper creat producerconsum relationship among object materi object produc properti moos object includ materi consum properti produc properti properti produc must declar avail use declarepropertytyp method return writabl refer overrid computeqpproperti comput declar properti one quadratur point within method refer obtain declar properti updat consum properti consum materi properti call correct get method object store constant refer member variabl getmaterialpropertytyp use within nonad object retriev nonad materi properti getadmaterialpropertytyp use within ad object retriev ad materi properti materi properti evalu quantiti recomput quadratur point need multipl materi object may defin properti differ part subdomain boundari state materi properti valu store timestep unless state properti enabl accomplish call getmaterialpropertyoldtyp getmaterialpropertyoldertyp use old valu materi properti avail simul solid mechan plastic constitut model tradit type valu call state variabl moos call state materi properti state materi properti requir memori default materi properti default valu materi properti may assign within validparam function cpp addparammaterialpropertynamecombination_property_nam name properti provid luggag combin scalar real valu may default getmaterialpropertyrealcombination_property_nam call default return valu comput via delcareproperti call within materi object materi properti output output materi properti enabl set output paramet follow exampl creat two addit variabl call mat mat show output file list output_blocki blockmateri output support properti type output materi properti arbitrari c type type output type auxkernel variabl name real materialrealaux prop realvectorvalu materialrealvectorvalueaux prop_ prop_ prop_ realtensorvalu materialrealtensorvalueaux prop_ prop_ prop_ prop_ etc geometr search system system locat geometr element within simul nearest node across gap meshmodif system system alter finit element mesh ad subdomain boundari split system system split precondit matrix optim nonlinear solv multiphys problem parser system system convert input data moos object creat simul time stepper system system suggest time step transient execution list adapt_tstep_grow_dtfunci blockexecution custom object creat inherit timestepp overrid computedt builtin timestepp moos includ mani builtin timestepp object constantdt solutiontimeadaptivedt iterationadaptivedt functiondt postprocessordt dt timesequencestepp iterationadaptivedt iterationadaptivedt grow shrink time step base number iter taken obtain converg solut last converg step list adapt_tstep_shrink_init_dti blockexecution dt adapt timestepp take one time step size delta get hat u_n u_n take two time step size fracdelta get u_n u_n calcul local rel time discret error estim equat hat e_n equiv fracu_n hat u_n_max u_n_ hat u_n_ obtain global rel time discret error estim e_n equiv frachat e_ndelta adapt base target error toler e_tol maximum accept error toler e_max e_n e_max continu new time step size equat delta t_n equiv delta t_n cdot leftfrace_tole_n rightp p global converg rate time step scheme e_n ge e_max solver fail shrink delta paramet e_tol e_max specifi input file e_tol e_max execution block timesequencestepp provid vector time point use paramet time_sequ object simpli move time point t_start t_end paramet automat ad sequenc time point satisfi t_start t_end consid solv fail step n addit time point t_new fract_nt_n insert step resolv initi condit system system initi field variabl nonlinear auxiliari prior execut simul execution system system dictat simul solv strategi steadyst execution steadyst execution gener solv nonlinear system list steady_timei blockexecution steadi execution solv nonlinear system multipl time adapt refin mesh improv solut transient execution transient execution solv nonlinear system least per time step option definit dt start time step size num_step number time step start_tim start time simul end_tim end time simul scheme time integr scheme discuss next list executionertransienti blockexecution steadyst detect option definit steady_state_detect whether tri detect achiev steadyst default fals steady_state_toler use determin steadyst compar differ solut vector current old time step default e common execution option number option appear execution block use control solver common option option definit l_tol linear toler default e l_max_it max linear iter default nl_rel_tol nonlinear rel toler default e nl_abs_tol nonlinear absolut toler default e nl_max_it max nonlinear iter default timekernel object timekernel object add two member variabl kernel object _u_dot time deriv associ nonlinear variabl _du_dot_du deriv _u_dot respect _u timekernel base class base overrid use timekernel adtimekernel computeqpresidu use time term acpd multipli test function gradient test function _test _grad_test must appli timekernelvalu adtimekernelvalu precomputeqpresidu use time term comput acpd multipli test function use _test overrid appli automat timekernelgrad adtimekernelgrad precomputeqpresidu use time term comput acpd multipli gradient test function use _grad_test overrid appli automat dirackernel system system comput residu calcul point sourc control system system pragmat modifi input paramet object simul input paramet everi mooseobject includ set custom paramet within inputparamet object use construct object inputparamet object object creat use static validparam method everi class contain validparam declar cpp static inputparamet convectionvalidparam validparam definit cpp inputparamet convectionvalidparam inputparamet param kernelvalidparam start parent paramsaddrequiredparamrealvectorvalueveloc veloc vector paramsaddparamrealcoeffici diffus coeffici return param inputparamet object class descript class level document may includ within sourc code use addclassdescript method c paramsaddclassdescriptionus method provid summari class creat option paramet add input file paramet type int includ default valu cpp paramsaddparamintyear provid year born text userobject date_object type date year requir paramet add input file paramet type int must suppli input file cpp paramsaddrequiredparamintmonth provid month born text userobject date_object type date month coupl variabl variou type object moos support variabl coupl done use addcoupledvar method cpp paramsaddcoupledvartemperatur temperatur c interest paramsaddcoupledvarpressur pressur kpa atomspher text variabl p userobject temp_pressure_check type checktemperatureandpressu temperatur pressur p provid valu would use within input file possibl use variabl name constant valu function postprocessor name righthand side text pressur p pressur pressur x later pressur pp_name later rang check paramet input variabl may restrict rang valu directli validparam function list timesteppersconstantdtc startparamsaddrangecheckedparam endparamsaddclassdescript syntax warppovusersorgfunctionparserfparserhtmlhttpwarppovusersorgfunctionparserfparserhtml document applic capabl gener document validparam function option paramet document class descript display moos gui peacock option command line dump dump option search string search string may contain wildcard charact search block name paramet option command line showinput gener tree base input file option mooseframeworkorgsyntaxsyntaxindexmd alternativehttpsmooseframeworkorgsyntax c type builtin type stdvector support via templat method addparamrealyear year born addparamintcount doc addparamunsign intanother_num doc addparamstdvectorint vec doc support paramet type includ point realvectorvalu realtensorvalu subdomainid boundaryid moos use larg number string type make peacock contextawar type treat like string caus compil error mix improperli templat function subdomainnam boundarynam filenam variablenam functionnam userobjectnam postprocessornam meshfilenam outfilenam nonlinearvariablenam auxvariablenam complet list see instanti bottom frameworkincludeutilsmoosetypesh mooseenum moos includ smart enum util overcom mani defici standard c enum type work integ string context selfcheck consist cpp includ mooseenumh valid option specifi space separ list option suppli default valu second argument mooseenum case preserv caseinsensit mooseenum option_enumfirst second fourth second use string context option_enum first dosometh use integ context switch option_enum case break case break case break default mooseenum inputparamet object specif set name option use mooseenum pars error check code omit cpp inputparamet myobjectvalidparam inputparamet param parentobjectvalidparam mooseenum componentx z default suppli paramsaddrequiredparammooseenumcompon compon x z compon return param peacock creat drop box use mooseenum invalid valu suppli error messag provid multipl valu mooseenum multimooseenum oper way mooseenum support multipl order option cpp inputparamet myobjectvalidparam inputparamet param parentobjectvalidparam multimooseenum transformsscal rotat translat paramsaddrequiredparammultimooseenumtransform transform transform perform return param damper system system limit comput chang solut nonlinear iter prevent solver dramat alter solut one step next may prevent exampl solver attempt evalu nonphys valu neg temperatur nodal kernel system system comput residu contribut acpd node within finit element mesh adapt system hadapt hadapt method automat refiningcoarsen mesh region highlow estim solut error concentr degre freedom dof error highest reduc dof solut alreadi wellcaptur comput measur error use indic object mark element refin coarsen base error use marker object mesh adapt employ steadi transient execution refin pattern row col width moos employ selfsimilar isotrop refin pattern refin element split element type exampl use quad element four child element creat element refin coarsen happen revers children delet parent element reactiv origin mesh start refin level colend col width media darcy_thermo_mechadaptivity_patternpng rowend indic object indic report amount error element builtin indic includ gradientjumpind jump gradient variabl across element edg good curvatur indic work well wide rang problem fluxjumpind similar gradientjump except scalar coeffici eg thermal conduct provid produc physic flux quantiti laplacianjumpind jump second deriv variabl use c shape function analyticind comput differ finit element solut usersuppli function repres analyt solut problem marker object indic comput error element decis refin coarsen element must made use marker object errorfractionmark select element base contribut total error errortolerancemak refin error greater specifi valu coarsen less valuethresholdmark refin variabl valu greater specif valu coarsen less uniformmark refin coarsen element boxmark refin coarsen insid outsid given box combomark combin sever marker input syntax list adaptivitycycles_per_stepcycles_per_stepi blockadapt interfacekernel system system assist coupl differ physic across subdomain set flux two speci equival across boundari two domain multiapp system system perform multipl simul within main simul moos origin creat solv fullycoupl system acpd system need bear fulli coupl multiscal system gener loos coupl scale system fast slow physic decoupl time simul involv input extern code may solv multiapp system creat simul looselycoupl system fullycoupl equat multiapp hierarchi app consid solv independ alway main drive simul main app number multiapp object multiapp repres mani subappl subapp subapp solv differ physic main applic subapp anoth moos applic could extern applic subapp multiapp thu creat multilevel solv media darcy_thermo_mechmultiapp_hierarchypng input file syntax multiapp object declar multiapp block app_typ name mooseapp deriv applic run eg animalapp posit list coordin describ offset subappl physic space main applic execute_on allow control subappl execut initi linear nonlinear timestep_begin timestep_end input_fil one input file suppli subapp file provid list step_multiappsproblemsstepi blockmultiapp parallel multiapp system design effici parallel execut hierarch problem main applic util processor processor split among subapp within multiapp run simultan multipl multiapp execut one anoth dgkernel system system comput residu contribut volum term discontinu galerkin finit element method sampler system system defin distribut sampl strategi use stochast tool modul function system system defin analyt express base spatial locat x z time function object creat inherit function overrid virtual valu option method well function function access moos object call getfunctionnam name match name input file function use mani object exist moos util function functiondirichletbc functionneumannbc function bodyforc object function paramet set input file control function object use pars function parsedfunct allow function defin string directli input file eg list parsedfunctioni blockfunct possibl includ function shown well scalar variabl postprocessor valu function definit default function whenev function object ad via addparam default provid constant valu pars function string use default cpp ad function default constant paramsaddparamfunctionnamepressure_grad gradient ad function default pars function paramsaddparamfunctionnamepower_histori tsini power histori parsedfunct constantfunct object automat construct base default valu function name suppli input file mesh gener system system gener finit element mesh use success geometr construct routin build grid extrud space auxiliari system system direct calcul field variabl auxvari design postprocess coupl proxi calcul term nonlinear variabl defin moos languag variabl solv use nonlinear system acpd use kernel boundarycondit object term auxiliari variabl defin moos languag variabl directli calcul use auxkernel object auxvari auxiliari variabl declar auxvari input file block auxiliari variabl field variabl associ finit element shape function serv proxi nonlinear variabl auxiliari variabl current come two flavor element constant higher order monomi nodal linear lagrang auxiliari variabl old older state like nonlinear variabl element auxiliari variabl element auxiliari variabl comput averag valu per element constant auxkernel object comput element valu coupl nonlinear variabl element nodal auxiliari variabl text auxvari aux order constant famili monomi nodal auxiliari variabl element auxiliari variabl comput node store linear lagrang variabl auxkernel object comput nodal valu coupl nonlinear variabl nodal auxiliari variabl text auxvari aux order lagrang famili first auxkernel object directli comput auxvari valu overrid computevalu oper element nodal auxiliari variabl oper nodal variabl computevalu oper node oper element variabl oper element auxkernel object member _u _grad_u valu gradient variabl auxkernel oper _q_point coordin current qpoint valid element auxkernel _current_nod use nodal variabl _qp current quadratur point use nodal element variabl consist _current_elem pointer current element oper element _current_nod pointer current node oper nodal vectorauxkernel object directli comput vector auxvari valu overrid computevalu differ return valu realvectorvalu instead real text auxvari aux order first famili lagrange_vec output system system produc output simul data screen file output system design like system moos modular expand possibl creat multipl output object output specif time timestep interv custom subset variabl variou file type exist shortcut syntax common output type well common paramet shortcut syntax follow two method creat output object equival within intern moos text output exodu true text output type exodu common paramet text output interv exodu true type exodu interv overrid interv toplevel output name default name scheme output file util input file name eg inputi suffix differ depend output defin _out suffix use output creat use shortcut syntax subblock use actual subblock name suffix text output exodu true creat input_out creat input_other type exodu interv base type exodu file_bas creat out use file_bas anywher output block disabl default name behavior style fontsiz includ output_typesmd marker system system set statu element refin coarsen remain automat mesh adapt distribut system system defin statist distribut eg uniform normal weibul function use stochast tool modul partition system system partit finit element mesh parallel execut simul relationship manag system system defin geometr algebra inform need perform calcul parallel line search system system meant creat custom line search use nonlinear solv kernel system system comput residu contribut volumetr term within acpd use galerkin finit element method kernel object kernel object repres one term acpd kernel object requir comput residu quadratur point done call computeqpresidu method kernel object member _u _grad_u valu gradient variabl kernel oper _test _grad_test valu psi gradient nabla psi test function quadratur point _phi _grad_phi valu phi gradient nabla phi trial function quadratur point _q_point coordin current quadratur point _i _j current index test trial function respect _qp current quadratur point index kernel base class base overrid use kernel adkernel computeqpresidu use term acpd multipli test function gradient test function _test _grad_test must appli kernelvalu adkernelvalu precomputeqpresidu use term comput acpd multipli test function use _test overrid appli automat kernelgrad adkernelgrad precomputeqpresidu use term comput acpd multipli gradient test function use _grad_test overrid appli automat diffus recal steadyst diffus equat domain omega equat nabla cdot nabla u omega weak form equat includ volum integr innerproduct notat given equat leftnabla psi_i nabla u_hright quadforal psi_i psi_i test function u_h finit element solut addiffusionh list addiffusionh addiffusionc list addiffusionc problem system system defin numer system compris simul precondition system system defin precondit matrix use nonlinear solver constraint system system impos constraint within simul limit heat flux across gap fix solut variabl across interfac use mortar method vectorpostprocessor system system reduct aggreg calcul base solut variabl result one mani vector valu type vectorpostprocessor elementvectorpostprocessor oper element nodalvectorpostprocessor oper node sidevectorpostprocessor oper boundari internalsidevectorpostprocessor oper intern element side generalvectorpostprocessor oper per execut vectorpostprocessor anatomi postprocessor userobject initi execut threadjoin final method use implement aggreg oper virtual vectorpostprocessorvalu getvector const stdstring vector_nam call intern within moos retriev final vector valu given name valu return function referenc object use vector postprocessor vectorpostprocessor object oper bit like materi object vector declar within initi execut threadjoin final method vector updat desir data creat member variabl refer vector data list workbalanceh line_pid initi refer use declarevector method name list workbalancec linedeclarevectorpid builtin vectorpostprocessor type moos includ larg number builtin vectorpostprocessor nodalvaluesampl linevaluesampl pointvaluesampl mani vectorpostprocessor output option enabl use output block csv file vector timestep creat text output csv true use vectorpostprocessor postprocessor valu use within object creat const refer vectorpostprocessorvalu initi refer initi list list leastsquaresfith line_x_valu list leastsquaresfitc line_x_valuesget indic system system comput error estim use automat mesh refin coarsen action system system programmat creation simul object input file syntax creat action inherit action mooseobjectact overrid act method notic constructor use copi inputparamet object design allow paramet manipul reus object creation action object action design build specif object case step tensor mechan list problemsstepi blockmodulestensormechanicsmast syntax task moos action system oper task task connect one mani action task act method call task thu act method use creat number object gener follow macro call within applic registeral method creat necessari syntax task build desir object registersyntaxact action_syntax creat input file syntax provid action_syntax associ action provid registersyntaxtaskact action_syntax task also creat name task execut registertasknam is_requir creat name task action associ addtaskdependencyact depends_on creat depend two task help control order oper task execut mooseobjectact object action design build one mani mooseobject case damper block adddamperactionh list adddamperactionh adddamperactionc list adddamperactionc moosec list basemoosec linedamp c fundament c preprocessor command first charact line includ iostream includ myheaderh defin someword valu ifdef ifndef endif cpp pragma pragma clang diagnost push pragma clang diagnost ignor wunusedparamet pragma clang diagnost pop intrins data type basic type variant bool char unsign int unsign long short float doubl long void note void antidatatyp use function return noth oper purpos symbol math comparison logic comparison memori new delet sizeof assign member access name resolut curli brace use group statement togeth creat new layer scope get express composit mathemat express cpp b c composit boolean express cpp b f e note oper use shortcircuit b f exampl may get evalu scope resolut oper cpp stdpowr b stdsqrtd dot pointer oper cpp my_objsomefunct b my_ptrsomefunct type cast cpp float pi cpp int approx_pi static_castintpi limit type cast work chang fundament differ type cpp float f float wont compil care assumpt cpp unsign int huge_valu ok int static_castinthuge_valu wont work control statement dowhil loop cpp int booleanexpress booleanexpress ifthenels test cpp booleanexpress els booleanexpress els previou exampl booleanexpress valid c statement result true fals alway fals switch statement cpp switch express case constant command execut expressionconst break case constant case constant command execut expressionconst expressionconst break default command execut previou case match declar definit c split code multipl file header h bodi c header gener contain declar statement type use give name type bodi gener contain definit descript type includ built memori consum oper function perform declar exampl free function cpp returntyp functionnametyp name type name object member function method cpp class classnam returntyp methodnametyp name type name definit exampl function definit cpp returntyp functionnametyp name type name states class method definit cpp returntyp classnamemethodnametyp name type name statement function exampl addit cpp includ iostream int addit int int b return b int main int z addit stdcout result z n return forward declar cpp includ iostream int addit int int b int main int z addit stdcout result z n return int addit int int b return b make makefil list depend rule satisfi depend moosebas applic suppli complet makefil build moosebas applic type text make compil link execut compil link g myexampl myexamplec compil g myexampleo c myexamplec link g myexampl myexampleo compilerlink flag librari l includ path librari name l remov lead lib trail file extens link libutilsso would link lutil g ihomepermcjinclud lhomepermcjlib lutil wall myexec myexeco execut basic execut myexec find share librari runtim linux ldd ld_library_path maco otool addit exampl continu header file addh cpp pragma int addit int int b function declar header typic contain declar sourc file addc cpp includ addh int addit int int b return b driver program mainc cpp includ addh includ iostream int main int z addit stdcout result z return compil addit exampl g g c addo addc g g c maino mainc g g main maino addo c flag mean compil link command store makefil execut automat make command c type templat standard templat librari stl static vs dynam type system c staticallytyp languag mean type check perform compiletim oppos runtim python matlab exampl dynamicallytyp languag static type pro con pro safeti compil detect mani error optim compil optim size speed document flow type use express self document con explicit code need convert cast type abstract creat gener algorithm difficult templat c implement gener program paradigm templat mani finer detail c templat usag beyond scope short tutori fortun small amount syntact knowledg requir make effect basic use templat cpp templat class getmax b b return els return b templat continu cpp templat class getmax b return b b ternari oper int j k float x z k getmaxi j use int version z getmaxx use float version k getmaxinti j explicitli call int version templat special cpp templateclass void printt valu stdcout valu stdendl templat void printboolbool valu valu stdcout truen els stdcout falsen templat special continu cpp int main int bool b true printa print printb print true c standard templat librari stl vectorhttpwwwcpluspluscomreferencevectorvector listhttpwwwcpluspluscomreferencelistlist maphttpwwwcpluspluscomreferencemapmap multimaphttpwwwcpluspluscomreferencemultimapmultimap sethttpwwwcpluspluscomreferencesetset multisethttpwwwcpluspluscomreferencesetset stackhttpwwwcpluspluscomreferencestackstack queuehttpwwwcpluspluscomreferencequeuequeu priority_queuehttpwwwcpluspluscomreferencepriorityqueuepriorityqueu dequehttpwwwcpluspluscomreferencedequedequ bitsethttpwwwcpluspluscomreferencebitsetbitset unordered_maphttpwwwcpluspluscomreferenceunorderedmapunorderedmap unordered_sethttpwwwcpluspluscomreferenceunorderedsetunorderedset use c vector contain cpp includ vector int main start element stdvectorint v unsign int ivsiz vi cpp includ vector int main start element stdvectorint v unsign int vpush_backi cpp includ vector int main start element stdvectorint v vresiz creat element unsign int vi c scope memori overload scope scope extent program variabl seen use local variabl scope point declar end enclos block global variabl enclos within scope avail within entir file variabl limit lifetim variabl goe scope destructor call dynamicallyalloc via new memori automat freed end scope name scope class scope cpp class myobject public void mymethod namespac scope cpp namespac mynamespac float void mymethod scope resolut oper doubl colon use refer member insid name scope cpp definit mymethod function myobject void myobjectmymethod stdcout hello worldn mynamespacea mynamespacemymethod namespac permit data organ featur need full encapsul assign prequel pointer ref recal assign c use singl equal oper cpp b assign assign one common oper program two operand requir assign locat left hand side memori locat express right hand side pointer nativ type like int long hold locat anoth variabl object memori use avoid expens copi larg object facilit share memori exampl one object own memori associ data allow other object access pointer pointer syntax declar pointer cpp int p use addressof oper initi pointer cpp int p use derefer oper get set valu pointedto pointer cpp p set valu p stdcout p n print stdcout n print pointer syntax continu cpp int int p declar pointer p set p equal address p p get valu point p add store result locat stdcout n print stdcout p n print stdcout p n print address xffffbfec pointer power unsaf previou slide cpp p almost anyth want p cpp p p happen cpp p access memori refer rescu refer altern name object stroustrup think alia origin variabl cpp int int r defin initi ref r r stdcout n print stdcout r n print stdcout r n print address refer safe refer modifi cpp r r wont compil refer never start uniniti cpp int r wont compil note class declar may contain refer initi must occur constructor summari pointer refer pointer variabl hold memori address anoth variabl cpp int iptr declar iptr c int b iptr refer altern name object stroustrup must refer exist object cpp int iref c must initi int b iref call convent happen make function call cpp result somefunctiona b my_shap function chang valu insid b myshap chang reflect code call expens argument copi around c default pass valu copi pass argument refer alia addit syntax swap exampl pass valu cpp void swapint int b int temp b b temp int int j swap j j argument stdcout j print j swap swap exampl pass refer cpp void swapint int b int temp b b temp int int j swap j j argument stdcout j print j properli swap dynam memori alloc need dynam memori alloc data size specifi run time rather compil time persist without global variabl scope effici use space flexibl dynam memori c new alloc memori delet free memori recal variabl typic limit lifetim within nearest enclos scope dynam memori alloc limit lifetim automat memori cleanup watch memori leak delet everi new normal usag dynam memori alloc unnecessari exampl dynam memori cpp int int b b new int dynam alloc bs valu b int c b stdcout c print delet b exampl dynam memori use refer cpp int int b new int dynam alloc int r b creat refer newli creat variabl r int c r stdcout c print delet b const const keyword use mark variabl paramet method argument constant typic use refer pointer share object guarante modifi cpp stdstring namemyobject printnam void printconst stdstring name attempt modifi name caus compil time error function overload c may reus function name long differ paramet list type differ return type enough differenti overload signatur cpp int fooint valu int foofloat valu int foofloat valu bool is_initi use get object constructor moos c standard clang format moos use clangformat automat format code bash git clangformat branch_name_her singl space around binari oper space around unari oper space insid bracket parenthesi express avoid brace singl statement control statement ie etc c constructor space demonstr bottom exampl file layout header file h extens header file alway go either includ subdirectori includ c sourc file c extens sourc file go src subdirectori src file header sourc file name must match name class file defin henc set h c file contain code singl class srcclassnamec includeclassnameh name classnam class name util camel case note h c filenam must match class name methodnam method function name util camel case lead letter lower case _member_vari member variabl begin underscor lower case use underscor word local_vari local variabl lowercas begin letter use underscor word exampl code sampl cover mani code style convent cpp namespac moos lower case namespac name dont add indent level namespac int return type go separ line junkfunct indent two space name moos space control keyword space side someclass a_ref someclass a_point omit curli brace singl statement follow statement must line name squirrel dostuff els dootherstuff curli brace singl statement branch loop unsign int some_numb space control keyword dosometh space around assign oper real foo switch stuff space control keyword switch indent case statement case junk break case use curli brace declar case statement int bar junk bar break default junk foo space control keyword stdcout count foo short function definit singl line someclasssomefunc constructor initi list line someclasssomeclass member_a member_b fourspac indent one item per line long ie wont fit one line initi list someotherclasssomeotherclass member_a member_b member_c member_d member_ member_f member_g member_h brace separ line sinc func def alreadi longer line namespac moos use auto use auto new code unless complic readabl make sure variabl good name use auto cpp auto dof elemdof_numb auto obj getsomeobject auto elem_it meshactive_local_elements_begin auto item_pair mapfindsome_item use refer auto objbegin objend dosometh use refer auto obj contain dosometh use auto kind function method declar lambda cpp list captur variabl valu refer captur list explicitli possibl stdfor_eachcontainerbegin containerend local_varfoo foo fooitem local_var fooitem local_var c use overrid keyword overridden virtual method use stdmake_sharedt alloc new memori share pointer use libmesh_make_uniquet alloc new memori uniqu pointer make use stdmove effici possibl variabl initi creat new variabl use pattern cpp unsign int builtin type someobject junk object someobject stuff new someobject pointer trail whitespac tab moos allow trail whitespac tab repositori tri run follow onelin appropri directori bash find name chi name py xarg perl pli e ss includ firstli includ thing absolut necessari header file pleas use forward declar cpp forward declar class someth nonsystem includ use quot space includ filenam cpp includ localincludeh includ libmeshlibmesh_includeh includ system_librari incod document tri document much possibl use doxygen style comment cpp kernel class respons calcul residu variou physic class kernel public constructor use often initi intern refer need residu comput param system system variabl param var_nam variabl kernel go comput residu kernelsystem system stdstring var_nam function use get stuff base junk param junk index stuff want get return stuff associ junk pass int returnstuffint junk protect stuff class hold stdvectorint stuff python possibl follow rule python modif four space use indent member variabl name follow python class myclass def __init__self selfpublic_memb self_protected_memb self__private_memb code recommend use refer whenev possibl method return pointer object return object store pointer refer return object store refer creat new class includ depend header file c file whenev possibl avoid use global variabl everi destructor must virtual function definit c file possibl c class object orient program object orient definit class new data type contain data method oper data think blue print build object interfac defin classs publicli avail method member instanc variabl one new data type also known object analog use one blueprint build mani build use one class build mani object object orient design instead manipul data one manipul object defin interfac data encapsul idea object new type black box implement detail unimport long object work advertis without side effect inherit give us abil abstract factor common data function relat type singl locat consist avoid code duplic enabl code reus polymorph give us abil write gener algorithm automat work deriv type encapsul pointh cpp class point public pointfloat x float constructor accessor float getx float geti void setxfloat x void setyfloat privat float _x _y constructor method call explicitli implicitli build object alway name class return type may mani overload version differ paramet constructor bodi use special syntax initi call initi list everi member initi initi list refer initi point class definit pointc cpp includ pointh pointpointfloat x float _xx _yy float pointgetx return _x float pointgeti return _y void pointsetxfloat x _x x void pointsetyfloat _y data safe encapsul chang implement without affect user type chang implement pointh cpp class point public pointfloat x float float getx float geti void setxfloat x void setyfloat privat store vector valu rather separ scalar stdvectorfloat _coord new point class bodi pointc cpp includ pointh pointpointfloat x float _coordspush_backx _coordspush_backi float pointgetx return _coord float pointgeti return _coord void pointsetxfloat x _coord x void pointsetyfloat _coord use point class mainc cpp includ pointh int main point p point p point point p compil error default constructor stdcout pgetx pgeti n pgetx pgeti n oper overload userdefin type object make sens use builtin oper perform function type exampl without oper overload ad coordin two point assign result third object might perform like cpp point b c assign c b use accessor csetxagetx bgetx csetyageti bgeti howev abil reus exist oper new type make follow possibl cpp c b oper overload continu insid point class defin new member function special oper keyword cpp point pointoperatorconst point p return point_x p_x _y p_i point pointoperatorconst point p _x p_x _y p_i return use point oper cpp includ pointh int main point p p p p p p stdcout pgetx pgeti n advanc exampl shapeh cpp class shape public shapeint x int _xx _yy constructor virtual shape destructor virtual float area pure virtual function void printposit bodi appear elsewher protect coordin centroid shape int _x int _y deriv class rectangleh cpp includ shapeh class rectangl public shape public rectangleint width int height int x int shapexi _widthwidth _heightheight virtual rectangl virtual float area return _width _height protect int _width int _height deriv class circleh cpp includ shapeh class circl public shape public circleint radiu int x int shapexi _radiusradiu virtual circl virtual float area return pi _radiu _radiu protect int _radiu const doubl pi inherit use inherit deriv class describ term base class rectangl shape deriv class type compat base class ancestor use base class variabl point refer instanc deriv class cpp rectangl rectangl shape s_ref rectangl shape s_ptr rectangl deciph long declar read declar right left cpp mesh pointer mesh object mesh mesh param refer inputparamet object inputparamet param follow ident valu refer constant real object const real valu real const valu write gener algorithm cpp creat coupl shape rectangl r circl c printinformationr pass rectangl shape refer printinformationc pass circl shape refer void printinformationconst shape shape shapeprintposit stdcout shapearea n homework idea implement new shape call squar tri deriv rectangl directli instead shape advantagesdisadvantag two design implement triangl shape interest subclass triangl imagin add anoth constructor rectangl class accept coordin instead height width numer implement numer integr remain nondiscret part weak form integr first split domain integr sum integr element equat idref_elem int_omega fvecx textdvecx sum_ int_omega_ fvecx textdvecx chang variabl element integr map integr refer element hatomega_ equat sum_ int_omega_ fvecx textdvecx sum_ int_hatomega_ fvecxi leftmathcalj_eright textdvecxi mathcalj_ jacobian map physic element refer element refer element quad media darcy_thermo_mechfem_quad_refpng stylewidthmarginleftautomarginrightautodisplayblock quadratur quadratur typic gaussian quadratur use approxim refer element integr numer equat int_omega fvecxdvecx approx sum_q w_q fvecx_q w_q weight function quadratur point q certain common situat quadratur approxim exact exampl dimens gaussian quadratur exactli integr polynomi order n n quadratur point quadratur appli ref_elem yield equat analyz numer equat sum_ int_hatomega_ fvecxi leftmathcalj_eright textdvecxi approx sum_ sum_q w_q f vecx_q leftmathcalj_evecx_qright vecx_q spatial locat qtextrmth quadratur point w_q associ weight moos handl multipl jacobian mathcalj_ weight w_q automat thu kernel object respons comput fvecx_q part integrand sampl u_h quadratur point yield equat beginalign uvecx_q approx u_hvecx_q sum u_j phi_jvecx_q nabla u vecx_q approx nabla u_hvecx_q sum u_j nabla phi_jvecx_q endalign thu weak form example_weak_form becom equat idexample_weak_residu beginalign vecr_iu_h sum_ sum_q w_q leftmathcalj_erightunderbraceleft nablapsi_icdot k nabla u_h psi_i leftvecbetacdot nabla u_h right psi_i f rightvecx_q_textrmkernel object sum_f sum_q_fac w_q_face leftmathcalj_frightunderbraceleftpsi_i k nabla u_h cdot vecn rightvec x_q_face_textrmboundarycondit object endalign second sum boundari face f moos kernel boundarycondit object provid term squar bracket evalu vecx_q vec x_q_face necessari respect newton method newton method root find method good converg properti updat form find root scalar equat defin fx fx mathbbr rightarrow mathbbr given equat beginalign fx_n delta x_n fx_n x_n x_n delta x_n endalign newton method moos residu vecr_iu_h defin example_weak_residu nonlinear system equat equat vecr_iu_h qquad ildot n use solv coeffici u_j jldotsn system nonlinear equat newton method defin equat idnewton beginalign mathbfjvecu_n deltavecu_n vecrvecu_n vecu_n vecu_n deltavecu_n endalign mathbfjvecu_n jacobian matrix evalu current iter equat j_ijvecu_n fracparti vecr_ivecu_nparti u_j jacobian free newton krylov jfnk mathbfjvecu_ndelta vecu_n vecrvecu_n linear system solv newton step moos iter krylov method use produc sequenc iter delta vecu_n_k rightarrow delta vecu_n kldot mathbfjvecu_n vecrvecu_n remain fix iter process linear residu step k defin equat idjfnk_linear_residu vecrho_k equiv mathbfjvecu_ndelta vecu_n_k vecrvecu_n moos print norm vector vecrho_k linear iter nonlinear residu print moos vecrvecu_n krylov method construct subspac mathcalk_k iter k equat mathcalk_k textspan vecb mathbfavecb mathbfavecb ldot mathbfakvecb mathbfa equiv mathbfjvecu_n vecb equiv vecrvecu_n differ krylov method produc delta vecu_n_k iter differ way conjug gradient vecrho_k orthogon mathcalk_k gmresminr vecrho_k minimum norm delta vecu_n_k mathcalk_k biconjug gradient vecrho_k orthogon mathcalk_kmathbfjvecu_nt import part mathbfj never explicitli need construct subspac action mathbfj vector requir action approxim equat idjfnk_jacobian mathbfjvecv approx fracvecrvecu epsilonvecv vecrvecuepsilon form mani advantag need analyt deriv form mathbfj time need comput mathbfj residu comput space need store mathbfj precondit jfnk krylov method need precondit effici even effect see citetknolljacobian reduc total number linear iter krylov method theori converg number linear iter equal number unknown system even though jacobian never form jfnk method still requir precondit use right precondit equat mathbfj vecu_i mathbfm mathbfmdelta vecu_i vecrvecu_i mathbfm symbol repres precondit matrix process gmre action mathbfm vector requir rightprecondit jfnk_linear_residu becom equat idpjfnk_linear_residu vecrho_k equiv mathbfj vecu_i mathbfm mathbfmdelta vecu_i_k vecrvecu_i jfnk_jacobian becom equat idpjfnk_jacobian mathbfj vecu_i mathbfmvecv approx fracvecrvecu_i epsilon mathbfmvecv vecrvecu_iepsilon moos solv type solv type specifi execution block within input file execution solve_typ pjfnk avail option includ pjfnk precondit jacobian free newton krylov default jfnk jacobian free newton krylov newton perform solv use exact jacobian precondit fd petsc comput term use finit differ method debug jfnk kernel method computeqpresidu call comput vecrvecu_n nonlinear step newton linear step jfnk_linear_residu computeqpresidu method call comput mathbfjvecv use jfnk_jacobian pjfnk kernel method computeqpresidu call comput vecrvecu_n nonlinear step newton linear step pjfnk_linear_residu computeqpresidu method call comput mathbfj vecu_i mathbfmvecv use pjfnk_jacobian computeqpjacobian computeqpoffdiagjacobian method use comput valu precondit matrix mathbfm newton kernel method computeqpresidu call comput vecrvecu_n nonlinear step newton computeqpjacobian computeqpoffdiagjacobian method use comput precondit matrix mathbfm assum mathbfm mathbfj thu approxim pjfnk_jacobian need allow residu jacobian calcul remain constant linear iter pjfnk_linear_residu summari finit element method way numer approxim solut pde like polynomi fit fem find coeffici basi function solut combin coeffici basi function solut sampl anywher domain integr comput numer use quadratur newton method provid mechan solv system nonlinear equat precondit jacobian free newton krylov jfnk method allow us avoid explicitli form jacobian matrix still comput action automat jacobian calcul moos use forward mode automat differenti metaphysicl packag move forward idea applic develop abl develop entir app without write singl jacobian statement potenti decreas applic develop time term comput perform present ad jacobian slower comput handcod jacobian parallel extrem well benefit use newton solv often result decreas solv time overal manual jacobian calcul remaind tutori focu use acad comput jacobian term possibl comput manual recommend new kernel object use ad fem deriv ident follow relationship use comput jacobian term equat iddiff_u fracparti u_hparti u_j sum_kfracparti partial u_jleftu_k phi_kright phi_j equat idgrad_u fracparti leftnabla u_hrightparti u_j sum_k fracparti partial u_jleftu_k nabla phi_kright nabla phi_j newton simpl equat consid advectiondiffus equat nonlinear k vecbeta f equat beginalign nablacdot knabla u vecbeta cdot nabla u f endalign thu ith compon residu vector equat beginalign vecr_iu_h leftnablapsi_i knabla u_h right langlepsi_i knabla u_hcdot hatn rangl leftpsi_i vecbeta cdot nabla u_hright leftpsi_i fright endalign use previouslydefin rule diff_u grad_u fracparti u_hparti u_j fracparti leftnabla u_hrightparti u_j ij entri jacobian equat beginalign j_iju_h leftnablapsi_i fracparti kpartial u_jnabla u_h right leftnablapsi_i k nabla phi_j right left langlepsi_i fracparti kpartial u_jnabla u_hcdot hatn rightrangl left langlepsi_i knabla phi_jcdot hatn rightrangl leftpsi_i fracparti vecbetaparti u_j cdotnabla u_hright leftpsi_i vecbeta cdot nabla phi_jright leftpsi_i fracparti fpartial u_jright endalign even simpl equat jacobian entri nontrivi depend partial deriv k vecbeta f may difficult timeconsum comput analyt multiphys set mani coupl equat complic materi properti jacobian might extrem difficult determin finit element method fem polynomi fit introduc concept fem consid polynomi fit exercis fit polynomi known set point well set coeffici unkown function form equat fx bx cx dot b c scalar coeffici x x basi function thu problem find b c etc fx pass point given gener equat fx sum_id c_i xi c_i coeffici determin fx uniqu interpolari number point need fit defin linear system must solv find coeffici polynomi exampl defin set point equat x_ y_ x_ y_ x_ y_ substitut x_i y_i data model equat y_i bx_i cx_i lead follow linear system b c equat beginbmatrix endbmatrix beginbmatrix b c endbmatrix beginbmatrix endbmatrix solv coeffici result equat beginbmatrix b c endbmatrix beginbmatrix frac frac endbmatrix coeffici defin solut function equat fx frac x frac x media darcy_thermo_mechfem_examplepng stylewidthmarginleftautomarginrightautodisplayblock style haligncent fontsiz solut function coeffici coeffici meaningless number use defin function solut coeffici rather function creat multipli respect basi function sum function fx go point given also defin everywher fx evalu point x exampl comput equat f sum_i c_i sum_i c_i g_i c_i correspond coeffici solut vector g_i respect function simplifi fem fem method numer approxim solut acpd fem find solut function made shape function multipli coeffici ad togeth like polynomi fit except function typic simpl although galerkin finit element method differ finit differ finit volum method find piecewis continu function approxim solut govern pde polynomi fit evalu finit element solut anywher domain fem wide applic larg rang pde domain support rich mathemat theori proof accuraci stabil converg solut uniqu weak form use fem find solut pde start form weight residu variat statement weak form process refer gener weak form weak form provid flexibl mathemat numer need moos solv problem gener weak form gener involv step write strong form pde rearrang term zero right equal sign multipli whole equat test function psi integr whole equat domain omega integr part use diverg theorem get desir deriv order function simultan gener boundari integr integr part diverg theorem suppos varphi scalar function vecv vector function continu differential function product rule state equat nablacdotvarphivecv varphinablacdotvecv vecvcdotnabla varphi function integr volum v rearrang equat idintegrate_by_part int varphinablacdotvecvdv int nablacdotvarphivecvdv int vecvcdotnablavarphidv diverg theorem transform volum integr surfac integr surfac equat iddivergence_theorem int nabla cdot varphivecvtextdv int varphivecvcdothatntextd hatn outward normal vector surfac combin integrate_by_part divergence_theorem yield equat idint_and_div boxedint varphi nablacdotvecvdv int varphivecvcdothatnd intvecvcdotnablavarphidv exampl advectiondiffus write strong form equat equat nablacdot knabla u vecbeta cdot nabla u f rearrang get zero righthand side equat nablacdot knabla u vecbeta cdot nabla u f multipli test function psi equat psi leftnablacdot knabla uright psileftvecbeta cdot nabla uright psi f integr domain omega equat int_omegapsi leftnablacdot knabla uright int_omegapsileftvecbeta cdot nabla uright displaystyleint_omegapsi f integr part appli diverg theorem use int_and_div leftmost term pde equat int_omeganablapsicdot knabla u int_partialomega psi leftknabla u cdot hatnright int_omegapsileftvecbeta cdot nabla uright int_omegapsi f write inner product notat term equat inherit exist moos type shown equat idexample_weak_form underbraceleftnablapsi knabla u right_kernel underbracelanglepsi knabla ucdot hatn rangle_boundarycondit underbraceleftpsi vecbeta cdot nabla uright_kernel underbraceleftpsi fright_kernel finit element shape function basi function row col width weak form essenti need ad physic moos tradit finit element softwar work necessari weak form must discret use set basi function amen manipul comput media darcy_thermo_mechfem_hat_functionpng stylewidthbackgroundwhit style fontsiz imag copyright citetbeckerfinit colend col width media darcy_thermo_mechfem_basis_functionspng stylewidthmarginleftautomarginrightautodisplayblockbackgroundwhit rowend shape function discret expans u take follow form equat u approx u_h sum_jn u_j phi_j phi_j basi function form basi trial function u_h n total number function discret domain gradient u expand similarli equat nabla u approx nabla u_h sum_jn u_j nabla phi_j galerkin finit element method basi function use trial test function equat psi phi_i_in substitut expans back exampl weak form example_weak_form yield equat idexample_weak_form leftnablapsi_i knabla u_h right langlepsi_i knabla u_hcdot hatn rangl leftpsi_i vecbeta cdot nabla u_hright leftpsi_i fright quad ildotsn lefthand side equat refer ith compon residu vector vecr_iu_h shape function function get multipli coeffici sum form solut individu shape function restrict global basi function individu element analog xn function polynomi fit fact use shape function typic shape function famili lagrang hermit hierarch monomi cloughtouch lagrang shape function common interpolari node ie coeffici correspond valu function node exampl shape function media darcy_thermo_mechfem_linear_lagrangepng stylewidthmarginleftautomarginrightdisplayinlinebackgroundwhit media darcy_thermo_mechfem_quadratic_lagrangepng stylewidthmarginleftmarginrightautodisplayinlinebackgroundwhit media darcy_thermo_mechfem_cubic_lagrangepng stylewidthmarginleftautomarginrightdisplayinlinebackgroundwhit media darcy_thermo_mechfem_cubic_hermitepng stylewidthmarginleftmarginrightautodisplayinlinebackgroundwhit lagrang shape function exampl biquadrat basi function defin quad element psi_ associ corner node zero opposit edg psi_ associ midedg node zero edg psi_ associ center node symmetr geq element row col width media darcy_thermo_mechfem_quad_phipng stylewidth style haligncent psi_ colend col width col width media darcy_thermo_mechfem_quad_phipng stylewidth style haligncent psi_ colend col width col width media darcy_thermo_mechfem_quad_phipng stylewidth style haligncent psi_ colend rowend modul chemic reaction chemic reaction modul provid set tool calcul multicompon aqueou reactiv transport porou media origin develop moos applic rat citepguo contact moos contact modul provid necessari tool model mechan contact use algorithm enforc constraint surfac mesh prevent penetr develop contact forc extern petsc solver extern petsc solver modul provid support standalon nativ petsc applic coupl moosebas applic fluid properti fluid properti modul provid consist interfac fluid properti densiti viscos enthalpi mani other well deriv respect primari variabl consist interfac allow differ fluid use input file simpli swap name fluid properti userobject plugandplay manner function expans tool moos modul continu meshagnost highfidel reduceddata multiapp coupl function expans fx methodolog repres inform moment function seri citepfluss relat fourier seri represent cyclic data moment gener via numer integr term function seri repres field interest moment use reconstruct field separ app citepwendtawendtckerbi heat conduct basic util solv transient heat conduct equat equat rho c_p pftt nablacdot k nabla level set level set modul provid basic function solv level set equat simpli multidimension advect equat equat pfut vecvcdotnabla u navier stoke moos navierstok modul librari implement simul tool solv navierstok equat use continu galerkin finit element cgfe method navierstok equat usual solv use either pressurebas incompress formul assum constant fluid densiti densitybas compress formul phase field moos phase field modul librari simplifi implement simul tool employ phase field model porou flow porousflow modul librari physic fluid heat flow porou media formul extrem gener manner capabl solv problem arbitrari number phase ga liquid etc fluid compon speci present fluid phase use set primari variabl reconstruct discontinu galerkin rdg moos rdg modul librari implement simul tool solv convectiondomin problem use class socal reconstruct discontinu galerkin rdg method specif rdg method implement modul rdgpp equival secondord cellcent finit volum method fvm stochast tool stochast tool modul toolbox design perform stochast analysi moosebas applic tensor mechan tensor mechan modul librari simul tool solv continuum mechan problem modul use simul linear finit strain mechan includ elast cosserat elast plastic micromechan plastic creep damag due crack properti degrad extend finit element method xfem moosebas implement extend finit element method numer method especi design treat discontinu darcythermomech fork darcythermomech creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp darcythermomech fork darcythermomech creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp multiapptut fork multiapptut creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp config navig breadcrumbsfals scrollspyfals multiapptutapp welcom multiapp tutori style haligncent fontsiz entergetting_startedexamples_and_tutorialstutorial_multiappspresentationindexmd exacttru moos multiapp style haligncent wwwmooseframeworkorgindexmd exacttru includ getting_startedexamples_and_tutorialstutorial_multiappspresentationintromd includ getting_startedexamples_and_tutorialstutorial_multiappspresentationstep_multiappsmd includ getting_startedexamples_and_tutorialstutorial_multiappspresentationstep_transfersmd includ getting_startedexamples_and_tutorialstutorial_multiappspresentationstep_couplingmd comment command sinc citat actual made current content leav list empti bibtex bibliographi titlelevel ive also comment bibtex extens specif configyml point tutori need make citat enabl possibl configur duplic entri crswong step multiapp input file syntax multiapp object declar multiapp block requir type like mani block app_typ requir name mooseapp deriv app go execut gener name applic execut therefor paramet omit default howev system design run applic compil link current app multiapp execut point master solv set execute_on paramet posit paramet list coordin pair describ offset subappl physic space master applic list multiappstransient_multiappdt_from_masteri blockmultiapp posit idmultiappposit posit paramet coordin offset master app domain subapp domain illustr paramet requir posit provid set x z coordin subapp number coordin set determin actual number subappl creat larg number posit file provid instead use positions_fil paramet x z coordin vector ad coordin subapp domain put domain specif locat within master domain subapp domain start easi think move point around use posit subapp complet differ scale posit point master domain app locat multiapp posit media frameworkmultiapps_positionspng idmultiapps_po stylewidthmarginleftautomarginrightauto captionexampl multiapp object posit parallel execut multiapp system design effici parallel execut hierarch problem master applic util processor within multiapp processor split among subapp subapp processor processor solv multipl subapp subapp given multiapp run simultan parallel multipl multiapp execut one anoth dynam load multiapp build dynam librari default applic load without ad makefil regist simpli set proper type input file eg animalapp moos attempt find librari dynam path rel prefer set input file use paramet library_path path need point lib folder within applic directori moose_library_path may also set includ path moos search applic must compil separ sinc main applic makefil knowledg subapp applic depend basic multiapp row col width get start let consid simpl system two app shown right transfer coupl applic march forward time togeth solv output colend col width media multiapps__hierarchypng stylewidthmarginleftautomarginrightautodisplayblockboxshadownon rowend _masteri list step_multiapps_masteri _subi list step_multiapps_subi note subapp input file doesnt even know run within multiapp hierarchi run _masteri look order execut inspect output modifi execute_on see happen subapp constrain dt default multiapp system negoti timestep dt make sens entir hierarchi choos smallest dt app current request let modifi subapp smaller timestep see happen list step_multiapps_sub_sublim caption_sub_sublim run _master_sublim note timestep use app media multiapps__timestepspng stylewidthmarginleftautomarginrightautodisplayblockboxshadownon subcycl forc app take timestep size limit often better allow subapp take smaller timestep instanc subapp cfd calcul timestep size may limit numer criteria materi properti cfl condit etc allow set sub_cyclingtru multiapp block list step_multiapps_master_subcyclei blockmultiapp caption_master_subcyclei run _master_subcyclei note timestep size use solv subapp take howev mani timestep need reach master app time happen timestep arent even default intermedi step output final solut subapp reach master time enabl output step solv subapp turn output_subcycl multiapp block multipl subapp complic scenario multipl subapp within multiapp achiev give subapp posit subapp domain lie within master domain two way provid posit posit space separ xyz triplet posit subapp positions_fil filenam includ xyz triplet one per line positions_fil option use mani subapp instanc ten thousand two option specifi input file posit singl input file everi subapp util input file one input file posit everi subapp util separ input file multipl subapp hierarchi list step_multiapps_master_multiplei blockmultiapp caption_master_multiplei media multiapps__hierarchypng stylewidthmarginleftautomarginrightautodisplayblockboxshadownon run _master_multiplei note three solv multiapp execut note name output file tri use positions_fil instead tri use differ input file posit sinc subapp offset master domain output_in_posit option use make output mesh subapp reflect true posit within simul turn revisu subapp solut parallel row col width oper parallel multiapp subapp spread across avail processor mpirank faster execut master app alway run full amount processor reason often advantag make master largest difficult solv multiapp execut oneatatim clear momentarili subapp within multiapp execut simultan possibl achiev avail processor evenli split among subapp within multiapp shown right colend col width media multiapps__parallelismpng stylewidthmarginleftautomarginrightautodisplayblockboxshadownon rowend run _master_paral tri mpi proc note multiapp execut time tri keepcout note execut parallel use mpiexec n theapp inputi replac number mpi process start cluster need consult cluster document instruct multipl multiapp discuss multiapp repres arbitrari tree solv often case one solv may one multiapp instanc nuclear reactor simul may need solv underneath what happen fuel separ what happen fluid parallel multiapp receiv full amount processor avail master app processor split subapp mean multiapp execut inturn parallel one order execut automat determin base need transfer bit show work well execut _master_twoappsi run hierarchi like one multipl multiapp cont list step_multiapps_master_twoappsi blockmultiapp caption_master_twoappsi media multiapps__hierarchypng stylewidthmarginleftautomarginrightautodisplayblockboxshadownon run _master_twoappsi note app execut run parallel proc multipl level multiapp hierarchi also arbitrarili deep app within hierarchi also multiapp subapp etc allow arbitrarili deep multiscal simul consid nuclear reactor simul seismic analysi kilomet scale seismic simul meter scale contain simul meter scale secondari simul meter scale pressur vessel simul centimet scale neutron simul centimet scale fluid simul millimet scale cfd calcul centimet scale fuel simul micron scale materi simul possibl run _one_ calcul moos multiapp run _master_multilev list step_multiapps_master_multilev blockmultiapp caption_master_multilev list step_multiapps_sub_multilev blockmultiapp caption_sub_multilev introduct moos start may framework enabl rapid develop new simul tool nqa compliant applic develop focus implement physic pde rather numer implement issu seamlessli coupl nativ moos applic use moos multiapp transfer effici coupl nonn code use moosewrap app open sourc februari media imagesmoosepng stylewidthmarginleftautomarginrightautodisplayblockbackgroundwhit coupl row col width looselycoupl physic solv separ linearnonlinear solv data exchang per timestep typic tightlycoupl picard physic solv separ linearnonlinear solv data exchang physic resolv converg fullycoupl physic solv one linearnonlinear solv colend col width media imagescouplingpng stylewidthmarginleftautomarginrightautodisplayblockboxshadownon rowend multiapp transfer moos origin creat solv fullycoupl system pde system need fulli coupl multiscal system multipl timescal coupl extern code moos situat look like looselycoupl system fullycoupl equat multiapp system allow multipl moos extern applic run simultan parallel singl multiapp might repres thousand individu solv transfer system moos design push pull field data multiapp multiapp row col width moosebas solv nest achiev multiscal multiphys simul macroscal simul coupl embed microstructur simul arbitrari level solv solv spread parallel make effici use comput resourc effici tie togeth multipl team code moosewrap extern applic exist anywher hierarchi app know run within multiapp hierarchi colend col width media imagesmultiapp_hierarchypng stylewidthmarginleftautomarginrightautodisplayblock rowend transfer transfer allow move data multiapp three main catergori transfer exist moos field map l project interpol evalu postprocess spatial data eg layer integr averag assembl averag data etc scalar transfer postprocessor valu integr averag point evalu etc transfer scalar interpol field use multiscal transfer agnost dimens make sens transfer multiapp singl transfer actual transfer subapp multiapp simultan step coupl multiapp coupl need combin capabl perform coupl calcul know trivial easi moosebas calcul coupl auxiliari variabl postprocessor valu obviou go work develop standalon calcul standin valu auxiliari field coupl put togeth multiapp hierarchi util transfer move valu one app anoth fill auxiliari field real valu profit left explor control calcul loos coupl row col width rememb back intro simplest coupl loos simpli exchang valu per timestep move easili achiev multiapp transfer default multiapp execut correct moment timestep dictat execute_on transfer associ multiapp also execut time simul move next timestep problem colend col width media imagescouplingpng stylewidthmarginleftautomarginrightautodisplayblockboxshadownon rowend loos coupl exampl _masteri continu microstructur calcul add kernel materialproperti coupl transfer field master app thought comput sourc term use forc function subapp subapp comput materi properti upscal master app via postprocessorinterpolationtransf end smooth field whole master domain repres diffus fed diffus diffus equat solv master app run _masteri list step_coupling_masteri caption_masteri picard loos coupl though easi stabl may accur sinc data exchang per timestep real possibl solut app equilibrium especi true timestep grow larger fix iter back forth app reach stationari point moos call picard iter though mani name includ tight coupl get behavior multiapp need set picard_max_it execution block master someth greater note point larg multiapp hiearchi one caveat order work app need backuprestor capabl moosebas applic alreadi work necessari moosewrap app picard cont media imagescoupling__picardpng stylewidthmarginleftautomarginrightautodisplayblockbackgroundwhit run _masteri solv problem moment ago use picard iter note iter unfold watch picard residu continu go picard iter converg met picard subcycl due advanc backuprestor capabl within moos actual abil picard iter even instanc two app util timestep one case use subcycl allow take much larger timestep one physic say solidmechan much smaller timestep anoth cfd still find stationari point two import bit app need state restor back start time current timestep master app tri take graphic next slide help picard subcycl cont media imagescoupling__subcycling_picardpng stylewidthmarginleftautomarginrightautodisplayblockbackgroundwhit run _masteri problem solv subapp take smaller timestep sub_cycl everyth still work even parallel step transfer transfer overview transfer move inform multiapp hierachi three differ place transfer read inform deposit inform auxiliaryvari field postprocessor userobject mostus transfer meshfunct interpol field one domain anoth nearestnod move field data match nodescentroid postprocessor move pp data one app anoth userobject evalu spatial uo one app app nodescentroid deposit inform auxiliaryvari field import moos move data fill field app dont need know care data came got multiappmeshfunctiontransf row col width call meshfunct make field solut aux spatial function evalu anywher within domain use sampl field nodescentroid receiv app mesh order popul auxiliari variabl field requir paramet direct like transfer either to_multiapp from_multiapp multi_app multiapp interact source_vari variabl read variabl auxiliari variabl write made conserv postprocessor quantiti colend col width media imagestransfers__meshfunctionpng stylewidthmarginleftautomarginrightautodisplayblockboxshadownon rowend master input file list step_transfers_master_meshfunctioni caption_master_meshfunctioni subapp input file list step_transfers_sub_meshfunctioni caption_sub_meshfunctioni run _master_meshfunctioni note transfer happen look output file tri chang subapp posit see happen multiappnearestnodetransf sometim interpol costli doesnt make sens instanc calcul xy plane repres infinit volum z direct may need coupl calcul cover space case nodesel within xy column receiv valu transfer calcul calcul easili achiev nearestnodetransf idea node element centroid constantmonomi field receiv mesh pair nearest match send mesh data easili move send mesh receiv mesh use pair may seem rudimentari extrem handi nearestnod setup row col width explor nearestnodetransf creat situat x squar send receiv three column stick shown right list step_transfers_master_nearestnodei blocktransf caption_master_nearestnodei colend col width media imagestransfers__geometrypng stylewidthmarginleftautomarginrightautodisplayblock rowend run _master_nearestnodei open output step time watch valu chang valu column relat valu subapp multiappuserobjecttransf often field need move spatial homogen valu instanc simul repres fluid flow pipe go domain gener heat may advantag integr heat gener around pipe within domain transfer pipe simul situat handl straighforwardli userobject transfer rememb postprocessor special userobject comput singl valu userobject thought postprocessor comput much singl valu within moos special design userobject hold data spatial correl spatial userobject abil evalu point space sometim time spatial userobject could use transfer nearestpointlayeredaverag comput averag field layer go direct nearestpoint version creat multipl layeredaverag element surround given point nearestpointlayeredintegr similar nearestpointlayeredsideaverag similar solutionuserobject present solut file spatial userobject run _master_uoti list step_transfers_master_uoti caption_master_uoti exampl similar last one except weve made master domain well idea integr field master vicin subapp transfer subapp revers subapp field averag layer go column averag valu transfer back master multiscal transfer row col width subapp domain repres infinitesim small portion master domain differ type transfer need instanc master domain x subapp domain nm x nm point tri interpol field master domain effect subapp lie point insid master domain final class transfer move scalar valu play role sampl transfer variablevaluesampletansf automat evalu singl valu master domain subapp posit move subapp revers direct postprocessor transfer move homogen valu subapp master app colend col width media imagestransfers__multiscalepng stylewidthmarginleftautomarginrightautodisplayblockboxshadownon rowend run _master_multiscal list step_transfers_master_multiscalei caption_master_multiscalei variablevaluesampletransf use get valu master domain subapp revers postprocessorinterpolationtransf work take valu comput microsimul interpol creat smooth field stork fork stork creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp config navig breadcrumbsfals scrollspyfals storkapp moduleschemical_reactionsindexmd templat load filestubsmoose_systemmdtempl namereactionnetwork syntaxreactionnetworktempl load filestubsmoose_systemmdtempl namesolidkineticreact syntaxreactionnetworksolidkineticreactionstempl load filestubsmoose_systemmdtempl nameaqueousequilibriumreact syntaxreactionnetworkaqueousequilibriumreact totalconcentrationaux syntax descript auxkernelstotalconcentrationaux calcul total concentr jmathrmth primari speci sum free concentr c_j stoichiometr contribut secondari equilibrium speci particip beginequ c_j mathrmtot c_j sum_i nu_ji c_i endequ nu_ji stoichiometr coeffici jmathrmth primari speci imathrmth secondari equilibrium speci syntax paramet auxkernelstotalconcentrationaux syntax input auxkernelstotalconcentrationaux syntax children auxkernelstotalconcentrationaux kineticdispreconcaux syntax descript auxkernelskineticdispreconcaux calcul concentr miner use kinet reaction rate i_m calcul use kineticdisprerateauxkineticdisprerateauxmd beginequ fracd c_md i_m endequ syntax paramet auxkernelskineticdispreconcaux syntax input auxkernelskineticdispreconcaux syntax children auxkernelskineticdispreconcaux equilibriumconstantaux syntax descript auxkernelsequilibriumconstantaux descript calcul equilibrium constant k_eq given seri temperatur log_k_eq point return log_k_eq five point provid log_k_eq calcul use maierkelli type fit beginequ log_k_eq c_ logt c_ c_ c_t c_t endequ temperatur kelvin two four data point provid linear leastsquar fit use calcul log_k_eq one data point provid log_k_eq set constant valu exampl input file syntax list moduleschemical_reactionstesttestsequilibrium_constmaier_kellyi blockauxkernel syntax paramet auxkernelsequilibriumconstantaux syntax input auxkernelsequilibriumconstantaux syntax children auxkernelsequilibriumconstantaux aqueousequilibriumrxnaux syntax descript auxkernelsaqueousequilibriumrxnaux calcul concentr imathrmth secondari speci c_i term primari speci concentr c_j use mass action equat beginequ c_i frack_igamma_i prod_jn_c leftgamma_j c_jrightnu_ji endequ k_i equilibrium constant gamma_i activ coeffici n_c number primari speci syntax paramet auxkernelsaqueousequilibriumrxnaux syntax input auxkernelsaqueousequilibriumrxnaux syntax children auxkernelsaqueousequilibriumrxnaux phaux syntax descript auxkernelsphaux calcul ph solut defin beginequ ph log_ lefta_h right endequ a_h activ h ion beginequ a_h gamma_h c_h endequ gamma_h activ coeffici h ion c_h molar concentr free h ion syntax paramet auxkernelsphaux syntax input auxkernelsphaux syntax children auxkernelsphaux kineticdisprerateaux syntax descript auxkernelskineticdisprerateaux calcul kinet reaction rate base transit state theori beginequ i_m pm k_m a_m left omega_mthetarighteta endequ i_m posit dissolut neg precipit k_m rate constant a_m specif reactiv surfac area omega_m term miner satur ratio express beginequ omega_m frack_m prod_jgamma_j c_jnu_jm endequ k_m equilibrium constant miner gamma_j activ coeffici c_j concentr jmathrmth primari speci nu_jm stoichiometr coeffici rate constant k_m typic report refer temperatur commonli circc use arrheniu relat temperatur depend k_m given beginequ k_mt k_m expleftfrace_ar leftfract_ fractrightright endequ k_m rate constant refer temperatur t_ e_a activ energi r ga constant expon theta eta reaction rate equat specif miner reaction measur experiment simplic set uniti modul syntax paramet auxkernelskineticdisprerateaux syntax input auxkernelskineticdisprerateaux syntax children auxkernelskineticdisprerateaux totalmineralvolumefract syntax descript postprocessorstotalmineralvolumefract calcul total volum fraction coupl miner speci beginequ phi_m fracv_mv endequ v_m total volum miner speci refer volum v volum mesh syntax paramet postprocessorstotalmineralvolumefract syntax input postprocessorstotalmineralvolumefract syntax children postprocessorstotalmineralvolumefract primarytimederiv syntax descript kernelsprimarytimederiv deriv concentr jmathrmth primari speci wrt time implement weak form beginequ phi fracparti c_jpartial endequ phi poros syntax paramet kernelsprimarytimederiv syntax input kernelsprimarytimederiv syntax children kernelsprimarytimederiv darcyfluxpressur syntax descript kernelsdarcyfluxpressur darci flux beginequ mathbfq frackmu leftnabla p rho mathbfgright endequ k permeabl mu fluid viscos p pressur rho fluid densiti mathbfg graviti kernel use pressur variabl graviti densiti provid default behaviour kernel ident diffus kernel alert note kmu rho expect materi properti call conduct densiti respect syntax paramet kernelsdarcyfluxpressur syntax input kernelsdarcyfluxpressur syntax children kernelsdarcyfluxpressur templat load filestubsmoose_objectmdtempl namedesorptionfrommatrix syntaxkernelsdesorptionfrommatrix primarydiffus syntax descript kernelsprimarydiffus diffus flux jmathrmth primari speci implement weak form beginequ nabla cdot leftphi nabla c_j right endequ phi poros diffus syntax paramet kernelsprimarydiffus syntax input kernelsprimarydiffus syntax children kernelsprimarydiffus coupleddiffusionreactionsub syntax descript kernelscoupleddiffusionreactionsub diffus flux jmathrmth primari speci present secondari equilibrium speci implement weak form beginequ nabla cdot leftphi nabla leftsum_i nu_ji c_iright right endequ phi poros diffus nu_ji stoichiometr coeffici c_i concentr imathrmth secondari equilibrium speci syntax paramet kernelscoupleddiffusionreactionsub syntax input kernelscoupleddiffusionreactionsub syntax children kernelscoupleddiffusionreactionsub coupledbeequilibriumsub syntax descript kernelscoupledbeequilibriumsub deriv concentr jmathrmth primari speci present secondari equilibrium speci wrt time implement weak form beginequ fracpartialparti leftphi sum_i nu_ji c_iright endequ phi poros nu_ji stoichiometr coeffici c_i concentr imathrmth secondari equilibrium speci syntax paramet kernelscoupledbeequilibriumsub syntax input kernelscoupledbeequilibriumsub syntax children kernelscoupledbeequilibriumsub coupledconvectionreactionsub syntax descript kernelscoupledconvectionreactionsub convect flux concentr jmathrmth primari speci present secondari equilibrium speci implement weak form beginequ mathbfq cdot left nabla leftsum_i nu_ji c_iright right endequ nu_ji stoichiometr coeffici c_i concentr imathrmth secondari equilibrium speci mathbfq darci veloc beginequ mathbfq frackmu leftnabla p rho mathbfgright endequ k permeabl tensor mu fluid viscos p pressur rho fluid densiti mathbfg graviti default graviti term includ alert note kmu rho expect materi properti call conduct densiti respect syntax paramet kernelscoupledconvectionreactionsub syntax input kernelscoupledconvectionreactionsub syntax children kernelscoupledconvectionreactionsub templat load filestubsmoose_objectmdtempl namedesorptiontoporespac syntaxkernelsdesorptiontoporespac coupledbekinet syntax descript kernelscoupledbekinet deriv concentr jmathrmth primari speci present miner speci wrt time implement weak form beginequ fracpartialparti leftphi sum_m c_m right endequ phi poros c_m concentr mmathrmth miner speci syntax paramet kernelscoupledbekinet syntax input kernelscoupledbekinet syntax children kernelscoupledbekinet primaryconvect syntax descript kernelsprimaryconvect convect flux concentr jmathrmth primari speci implement weak form beginequ mathbfq cdot leftnabla c_j right endequ mathbfq darci veloc beginequ mathbfq frackmu leftnabla p rho mathbfgright endequ k permeabl tensor mu fluid viscos p pressur rho fluid densiti mathbfg graviti default graviti term includ alert note kmu rho expect materi properti call conduct densiti respect syntax paramet kernelsprimaryconvect syntax input kernelsprimaryconvect syntax children kernelsprimaryconvect templat load filestubsmoose_objectmdtempl namelangmuirmateri syntaxmaterialslangmuirmaterialtempl load filestubsmoose_objectmdtempl namemollifiedlangmuirmateri syntaxmaterialsmollifiedlangmuirmateri chemicaloutflowbc syntax descript bcschemicaloutflowbc integr boundari condit specifi nabla u boundari aris integ part diffus term beginequ nabla cdot leftphi nabla c_j right endequ phi poros diffus syntax paramet bcschemicaloutflowbc syntax input bcschemicaloutflowbc syntax children bcschemicaloutflowbc templat load filestubsmoose_actionmdtempl nameaddcoupledsolidkinspeciesact syntaxreactionnetworksolidkineticreactionsaddcoupledsolidkinspeciesactiontempl load filestubsmoose_actionmdtempl nameaddcoupledeqspeciesact syntaxreactionnetworkaqueousequilibriumreactionsaddcoupledeqspeciesactiontempl load filestubsmoose_actionmdtempl nameaddsecondaryspeciesact syntaxreactionnetworkaqueousequilibriumreactionsaddsecondaryspeciesactiontempl load filestubsmoose_actionmdtempl nameaddprimaryspeciesact syntaxreactionnetworkaqueousequilibriumreactionsaddprimaryspeciesact chemic reaction modul chemic reaction modul provid set tool calcul multicompon aqueou reactiv transport porou media origin develop moos applic rat citepguo theori first part defin chemistri problem choos set independ primari speci everi speci includ miner express term chemic speci express combin primari speci term secondari speci follow citelichtn mass conserv equat formul term total concentr primari speci j psi_j form beginequ fracpartialparti leftphi psi_j right nabla cdot leftmathbfq phi nabla rightpsi_j sum_mn_m nu_jm i_m q_j quad j ldot n_c endequ phi poros hydrodynam dispers tensor n_m number miner form kinet reaction nu_jm stoichiometr coeffici jmathrmth speci mmathrmth kinet reaction i_m reaction rate mmathrmth miner q_j sourc sink jmathrmth speci mathbfq darci flux beginequ mathbfq frackmu leftnabla p rho mathbfgright endequ k permeabl mu fluid viscos p pressur rho fluid densiti mathbfg graviti total concentr jmathrmth primari speci psi_j defin beginequ psi_j c_j sum_in_ nu_ji c_i endequ c_j concentr primari speci c_i concentr imathrmth secondari speci n_ total number secondari speci nu_ji stoichiometr coeffici aqueou equilibrium reaction concentr imathrmth secondari speci c_i calcul mass action equat correspond equilibrium reaction beginequ sum_j nu_ji mathcala_j rightleftharpoon mathcala_i endequ mathcala_j refer jmathrmth speci yield beginequ c_i frack_igamma_i prod_jn_c leftgamma_j c_jrightnu_ji endequ k_i equilibrium constant gamma_i activ coeffici n_c number primari speci solid kinet reaction miner precipitationdissolut possibl via kinet reaction form beginequ sum_j nu_ji mathcala_j rightleftharpoon mathcalm_m endequ mathcalm_m refer mmathrmth miner speci reaction rate i_m base transit state theori simpl form give beginequ i_m pm k_m a_m left omega_mthetarighteta endequ i_m posit dissolut neg precipit k_m rate constant a_m specif reactiv surfac area omega_m term miner satur ratio express beginequ omega_m frack_m prod_jgamma_j c_jnu_jm endequ k_m equilibrium constant miner rate constant k_m typic report refer temperatur commonli circc use arrheniu relat temperatur depend k_m given beginequ k_mt k_m expleftfrace_ar leftfract_ fractrightright endequ k_m rate constant refer temperatur t_ e_a activ energi r ga constant expon theta eta reaction rate equat specif miner reaction measur experiment simplic set uniti modul rate chang molar concentr c_m mmathrmth miner speci beginequ fracparti c_mpartial i_m endequ express term miner volum fraction beginequ phi_m overlinev_m c_m endequ overlinev_m molar volum mmathrmth miner speci beginequ fracparti phi_mparti overlinev_m i_m endequ total poros phi_t defin term volum fraction miner speci beginequ phi_t sum_m phi_m endequ way chang poros due miner precipit dissolut calcul use calcul chang materi properti permeabl implement detail physic describ implement number kernel auxkernel kernel transport primari speci calcul use follow kernel primarytimederivativeprimarytimederivativemd rate chang primari speci concentr primaryconvectionprimaryconvectionmd convect flux primari speci primarydiffusionprimarydiffusionmd diffus primari speci transport primari speci present secondari speci includ use coupledbeequilibriumsubcoupledbeequilibriumsubmd rate chang primari speci concentr equilibrium secondari speci coupledconvectionreactionsubcoupledconvectionreactionsubmd convect primari speci concentr equilibrium secondari speci coupleddiffusionreactionsubcoupleddiffusionreactionsubmd diffus primari speci concentr equilibrium secondari speci amount primari speci convert immobil miner phase given coupledbekineticcoupledbekineticmd rate chang primari speci concentr miner speci due dissolut precipit darci flux calcul use darcyfluxpressuredarcyfluxpressuremd darci flux auxkernel follow auxkernel use calcul secondari speci miner concentr well total primari speci concentr solut ph aqueousequilibriumrxnauxaqueousequilibriumrxnauxmd concentr secondari speci c_i imathrmth equilibrium reaction kineticdisprerateauxkineticdisprerateauxmd kinet rate i_m mmathrmth kinet reaction kineticdispreconcauxkineticdispreconcauxmd concentr miner speci totalconcentrationauxtotalconcentrationauxmd total concentr given primari speci phauxphauxmd ph solut equilibriumconstantauxequilibriumconstantauxmd temperaturedepend equilibrium constant materi properti kernel requir sever materi properti defin use follow name poros diffus conduct defin use one materi avail framework exampl constant properti implement use genericconstantmaterialgenericconstantmaterialmd follow list moduleschemical_reactionstesttestsaqueous_equilibriumspeciesi blockmateri captionrequir materi properti complic formul ad creat new materi requir boundari condit flux boundari condit chemicaloutflowbcchemicaloutflowbcmd provid defin nabla u boundari postprocessor total volum fraction given miner speci calcul use totalmineralvolumefractiontotalmineralvolumefractionmd postprocessor reaction network parser chemic reaction modul includ reaction network parser action system enabl chemic reaction specifi natur form input file parser add requir variabl auxvari kernel auxkernel repres total geochem model use reaction network parser reactionnetwork block ad input file equilibrium reaction enter reactionnetwork block use aqueousequilibriumreact subblock kinet reaction enter solidkineticreact subblock input file syntax equilibrium reaction follow form beginequ beginalign nu_ mathcala_ nu_ mathcala_ ldot mathcala_eq log_k_eq nu_ mathcala_ nu_ mathcala_ ldot mathcala_eq log_k_eq endalign endequ individu equilibrium reaction provid primari speci left hand side equilibrium speci follow sign follow log equilibrium constant comma use delimit reaction multipl equilibrium reaction enter syntax solid kinet reaction similar except equilibrium constant enter reaction block demonstr use reaction network parser consid geochem model use citeguo featur aqueou equilibrium reaction well kinet miner dissolut precipit equilibrium reaction beginequ beginalign h hco_ rightleftharpoon co_aq k_eq hco_ rightleftharpoon h co_ k_eq ca hco_ rightleftharpoon h caco_aq k_eq ca hco_ rightleftharpoon cahco_ k_eq ca rightleftharpoon h caoh k_eq h rightleftharpoon oh k_eq endalign endequ kinet reaction beginequ ca hco_ rightleftharpoon h caco_ endequ equilibrium constant k_eq specif reactiv surfac area a_m ml kinet rate constant k_m time molm activ energi e_a jmol list moduleschemical_reactionsexamplescalcium_bicarbonatecalcium_bicarbonatei blockreactionnetwork captionexampl aqueousequilibriumreact action reactiv transport system provid input file without use reaction network parser howev add line input case due larg number kernel provid object action syntax syntax complet groupschemicalreactionsapp level bibtex bibliographi modulesfsiindexmd waveheightauxkernel syntax descript auxkernelswaveheightauxkernel descript auxkernel calcul wave height fluid pressur done follow beginequ labeleqnwav d_w fracprho g endequ p fluid pressur g acceler due graviti rho fluid densiti d_w wave height syntax paramet auxkernelswaveheightauxkernel syntax input auxkernelswaveheightauxkernel syntax children auxkernelswaveheightauxkernel acoust inertia syntax descript kernelsacousticinertia descript kernel comput residu contribut doubl time deriv pressur term beginequ labeleqnsampl fracc_o fracparti ppartial endequ kernel similar inertialforceinertialforcemd kernel also kernel part fluidstructur interact code pleas refer fluidstructur interact use acousticsfsi_acousticsmd theoret detail alert note titleunit defin mass weight quantiti eqnsampl invers squar fluid speed sound taken water standard si unit ie kg n valu order time small fluidstructur interact problem run standard si unit presenc fracc_o result bad scale jacobian matric henc poor converg avoid converg issu recommend giga newton use instead newton giga kg use instead kg syntax paramet kernelsacousticinertia syntax input kernelsacousticinertia syntax children kernelsacousticinertia convectedmesh descript convectedmesh implement correspond weak form compon term beginequ rho leftfracpartialvecd_mparti cdot nablaright vecu endequ rho densiti vecd_m fluid mesh displac vecu fluid veloc term essenti obtain correct convect deriv fluid case fluid mesh dynam eg simul fluidstructur interact free surfac fluid boundari condit syntax descript bcsfluidfreesurfacebc descript free surfac fluid bc appli mix dirichletneumann condit simul graviti wave condit follow beginequ labeleqnfre fracparti ppartial z alphafracpartialpparti endequ p fluid pressur g acceler due graviti bc part fluidstructur interact code pleas refer fluidstructur interact use acousticsfsi_acousticsmd theoret detail syntax paramet bcsfluidfreesurfacebc syntax input bcsfluidfreesurfacebc syntax children bcsfluidfreesurfacebc structureacoust interfac syntax descript interfacekernelsstructureacousticinterfac descript interfac kernel enforc displac pressurestress continu across fluid structur domain interfac kernel part fluidstructur interact code pleas refer fluidstructur interact use acousticsfsi_acousticsmd theoret detail alert note titleel neighbor definit normal vector interfac kernel element alway structur neighbor alway fluid furthermor normal vector alway point structur fluid mean defin sideset use sidesetsbetweensubdomainsgener option moos mesh primary_block structur paired_block fluid sideset defin use paraview use respect option syntax paramet interfacekernelsstructureacousticinterfac syntax input interfacekernelsstructureacousticinterfac syntax children interfacekernelsstructureacousticinterfac coupledpenaltyinterfacediffus descript class ensur continu flux variabl neighbor_var across interfac addit via penalti factor coupledpenaltyinterfacediffus enforc continu valu secondary_coupled_var primary_coupled_var latter two paramet option input file paramet specifi default neighbor_var variabl respect note penalti method suffici high penalti paramet display optim converg rate p strong enforc valu continu result degrad converg rate discuss phenomena see moos forum discussionhttpsgroupsgooglecomforumsearchinmooseusersyaqialexcsortdatemooseusersfigqrzlgnqozmrbaaj syntax paramet interfacekernelscoupledpenaltyinterfacediffus syntax input interfacekernelscoupledpenaltyinterfacediffus syntax children interfacekernelscoupledpenaltyinterfacediffus fluidstructur interact modul system document listfsisystemsmd fluidstructur interact modul librari simul tool solv fluid structur problem wherein behavior interdepend modul provid simpl approach implement even advanc capabl plugnplay design enabl user incorpor relev physic specif vari simul straightforward procedur ad new physic modul current capabl simul fluidstructur interact behavior use acoust formul fluid inform physic avail herefsi_acousticsmd effort underway add capabl arbitrari lagrangian eulerian modul explor capabl fluidstructur interact modul use varieti simul fluid structur compon interdepend fluid behavior affect structur behavior viceversa develop new fluidstructur interact code consid becom develop follow moos standard contribut code documentationmoosedocsgeneratemd optionaltru syntax complet groupsfsiapp fluidstructur interact acoust fluidstructur interact solv model fluid acoust domain structur elast domain interfac fluid structur domain ensur displac continu stress structur pressur fluid boundari domain govern equat fluid domain weak form discuss model interfac two domain discuss govern equat fluid domain follow assumpt made fluid inviscid irrot subject small displac lose gain mass strong weak form assumpt mass conserv equat given citeprienstrasandbergkohnk beginequ labeleqnfluid_continu fracparti rho_fparti trho_o nabla cdot fracparti mathbfu_fparti endequ rho_f variabl fluid densiti rho_o densiti fluid rest mathbfu_f fluid displac vector momentum equat given citeprienstrasandbergkohnk beginequ labeleqnfluid_momentum rho_o fracparti mathbfu_fparti tnabla p endequ p fluid pressur constitut relat given beginequ labeleqnfluid_constitut p c_o rho_f endequ substitut eqnfluid_momentum take first time deriv eqnfluid_continu give beginequ labeleqnintermedi fracparti rho_fparti nabla p endequ write equat term pressur use constitut relat beginequ labeleqnstrongform fracc_o fracparti ppartial nabla p endequ result strong form multipli equat eqnstrongform test function nu_f integr fluid domain beginequ labeleqnfluid_ int_omega_f bignu_ffracc_ofracparti ppartial nu_f nablap big dv endequ use green theorem weak form given beginequ labeleqnfluid_ int_omega_f nu_ffracc_ofracparti ppartial tdv int_omega_f nabla nu_f cdot nabla pdv int_gamma_f nu_f nabla p cdot mathbfn_fda endequ kernel boundari condit first term left hand side eqnfluid_ similar inertia term acousticinertiaacousticinertiamd kernel model term second term left hand side eqnfluid_ diffus term diffusiondiffusionmd kernel model right hand side repres boundari condit either dirichletdirichletbcmd condit neumannneumannbcmd condit use boundari condit free surfac condit fluid domain fluid domain subject shake experi wave surfac due chang pressur wave call graviti wave acoust formul alon captur graviti wave addit boundari condit call free surfac boundari condit need simul graviti wave pressur free surfac fluid wave gener due dynam action given beginequ labeleqnfree_ p rho_ogd_w endequ d_w height wave refer initi free surfac appli dynam action height express beginequ labeleqnfree_ beginalign d_w mathbfn cdot mathbfu u_z nabla d_w nabla bigmathbfn cdot mathbfubig fracparti u_zparti z endalign endequ u_z repres normal compon fluid displac abovebelow free surfac pressur equat eqnfree_ express use equat eqnfluid_momentum beginequ labeleqnfree_ beginalign nabla p rho_ogfracparti u_zparti z rho_ofracpartialu_zparti fracpartialu_zparti gfracparti u_zparti z endalign endequ equat free surfac graviti condit term vertic displac u_z fracprho_og express term pressur well citepzhao beginequ labeleqnfree_ fracpartialpparti gfracparti ppartial z endequ boundari condit like coupl dirchlet neumann condit term fracparti ppartial repres dirichlet condit term fracparti ppartial z repres neumann condit free surfac condit implement use fluidfreesurfacebcfluidfreesurfacebcmd boundari condit fluid structur interfac model boundari fluid structur denot gamma_sf boundari displac normal direct fluid structur domain citepsandbergwangxbathexeverstinex beginequ labeleqnint_ mathbfu_ cdot mathbfn mathbfu_f cdot mathbfn endequ mathbfn normal vector given mathbfn mathbfn_f mathbfn_ take doubl time deriv eqnint_ give beginequ labeleqnint_ fracparti mathbfu_sparti cdot mathbfn fracparti mathbfu_fparti cdot mathbfn endequ use eqnfluid_momentum equat give beginequ labeleqnint_ rho_ofracparti mathbfu_sparti cdot mathbfn nabla p cdot mathbfn endequ addit continu pressur boundari express structur cauchi stress tensor beginequ labeleqnint_ mathbfs_s_gamma_sfpmathbfi endequ mathbfi ident matrix structureacousticinterfacestructureacousticinterfacemd interfac kernel enforc normal displac stresspressur continu across fluid structur domain eqnint_ eqnint_ respect templat load filesqaapp_sllmdtempl categoryfsi appfsi templat load filesqaapp_sddmdtempl categoryfsi appfluid structur interact templat load filesqaapp_stpmdtempl categoryfsi appfluid structur interact templat load filesqaapp_indexmdtempl categoryfsi appfluid structur interact templat load filesqaapp_farmdtempl categoryfsi appfsi templat load filesqaapp_rtmmdtempl categoryfsi appfluid structur interact templat load filesqaapp_vvrmdtempl categoryfsi appfluid structur interact templat load filesqaapp_srsmdtempl categoryfsi appfluid structur interact richard modul alert error titledeprec modul richard modul deprec remov pleas use porousflow modul instead richard contain function includ porousflow pleas reach moos discuss forumhttpsgithubcomidaholabmoosediscuss levelset fork levelset creat new moosebas applic inform see httpmooseframeworkorgcreateanapphttpmooseframeworkorgcreateanapp moduleslevel_setindexmd levelsetcflcondit comput minimum timestep base courantfriedrichslewi cfl condit cfl condit defin beginequ c delta sum_infracu_x_idelta x_i leq c_max endequ c courant number c_max maximum allow courant number u magnitud veloc delta time step delta x interv distanc three dimens repres index x z compon levelsetcflcondit postprocessor estim c use magnitud maximum veloc across quadratur point element u_max comput minimum element length element finit element mesh h_min beginequ c fracu_maxdelta th_min leq c_max endequ final assum c_max maximum allow courant number maximum allow timestep comput beginequ delta leq frach_minu_max endequ exampl syntax levelsetcflcondit ad input file postprocessorspostprocessorsindexmd block follow list moduleslevel_settesttestsreinitializationmasteri blockpostprocessor removearea design work set timestep within timesteppertimestepperindexmd block also notic point possibl appli scale factor comput timestep allow simul oper level timestep limit list moduleslevel_settesttestsreinitializationmasteri blockexecution syntax paramet postprocessorslevelsetcflcondit syntax input postprocessorslevelsetcflcondit syntax children postprocessorslevelsetcflcondit levelsetvolum postprocessorpostprocessorsindexmd object util comput area volum insid outsid level set contour valu comput postprocessor estim comput use weight averag level set variabl valu quadratur point element exampl syntax list moduleslevel_settesttestsreinitializationmasteri blockpostprocessor removecfl syntax paramet postprocessorslevelsetvolum syntax input postprocessorslevelsetvolum syntax children postprocessorslevelsetvolum levelsetadvectionsupg kernel add streamlin upwindpetrovgalerkin supg stabil term citepbrooksstreamlin doneafinit advect term level set equat beginequ labeleqlevelsetadvectionsupgweak lefttau vecv psi_i vecvcdotnabla u_hright endequ vecv level set veloc f forc term tau defin beginequ labeleqlevelsetadvectionsupgtau tau frachvecv endequ h element length exampl syntax levelsetadvectionsupg kernelsyntaxkernelsindexmd use conjunct complet level set equat exampl follow provid necessari object complet level set equat supg stabil list moduleslevel_setexamplesvortexvortex_supgi blockkernel syntax paramet kernelslevelsetadvectionsupg syntax input kernelslevelsetadvectionsupg syntax children kernelslevelsetadvectionsupg bibtex bibliographi levelsetolssonreiniti kernel implement nontim portion conserv reiniti algorithm citeolssonconserv transform u_h smooth function rang rather sign distanc use certain type problem phase identif weak form origin reiniti equat find u_h beginequ leftfracparti u_hparti tau psi_iright underbraceleftnablapsi_i fhatn_ast epsilonnabla u_hright_textrmlevelsetolssonreiniti endequ tau pseudo time reiniti hatn_ast normal vector comput level set variabl u_h pseudo time tau epsilon interfac thick fequiv u_hu_h u_htau u_h avoid tangenti diffus modifi reiniti formul propos restrict compress flux normal direct weak form modifi reiniti equat find u_h beginequ leftfracparti u_hparti tau psi_iright underbraceleftnablapsi_i fhatn_ast epsilonnabla u_hcdothatn_asthatn_astright_textrmlevelsetolssonreiniti endequ tau pseudo time reiniti hatn_ast normal vector comput level set variabl u_h pseudo time tau epsilon interfac thick fequiv u_hu_h u_htau u_h steadyst u_h detect see levelsetolssonterminatormd entir process repeat time tdelta preliminari numer test indic origin reiniti formul work better maintain smooth interfac origin reiniti formul set default modifi reiniti formul use set use_modified_reinitilization_step true although addit work need done investig numer instabl issu exampl syntax levelsetolssonreiniti kernel typic employ reiniti subapp see moos multiappmultiappsindexmd system within context kernel invok kernel follow list moduleslevel_settesttestsreinitializationrein blockkernel syntax paramet kernelslevelsetolssonreiniti syntax input kernelslevelsetolssonreiniti syntax children kernelslevelsetolssonreiniti bibtex bibliographi levelsetadvect level set equat typic defin shown equat levelsetadvect kernel implement advect portion equat beginequ fracparti uparti underbracevecv cdot nabla u_textrmlevelsetadvect endequ u level set variabl time vecv known veloc field advect level set variabl weak form portion equat defin find u_h beginequ psi_i vecvcdotnabla u_h endequ exampl syntax kernel util within kernelssyntaxkernelsindexmd block conjunct time deriv kernel timederivativetimederivativemd list moduleslevel_settesttestsreinitializationmasteri blockkernel syntax paramet kernelslevelsetadvect syntax input kernelslevelsetadvect syntax children kernelslevelsetadvect levelsetforcingfunctionsupg kernel add streamlin upwindpetrovgalerkin supg stabil term citepbrooksstreamlin doneafinit forc sourc term partial differenti equat beginequ labeleqlevelsetforcingfunctionsupgweak lefttau vecv psi_i fright endequ vecv level set veloc f forc term tau defin beginequ labeleqlevelsetforcingfunctionsupgtau tau frachvecv endequ h element length exampl syntax levelsetforcingfunctionsupg kernelsyntaxkernelsindexmd use conjunct forc term exampl bodyforcebodyforcemd defin follow kernel block list moduleslevel_settesttestsverificationd_level_set_supg_mmsd_level_set_supg_mmsi blockphi_forc given forc term possibl add supg term forc function kernel block follow list moduleslevel_settesttestsverificationd_level_set_supg_mmsd_level_set_supg_mmsi blockphi_forcing_supg syntax paramet kernelslevelsetforcingfunctionsupg syntax input kernelslevelsetforcingfunctionsupg syntax children kernelslevelsetforcingfunctionsupg bibtex bibliographi levelsettimederivativesupg kernel add streamlin upwindpetrovgalerkin supg stabil term citepbrooksstreamlin doneafinit time term level set equat beginequ labeleqlevelsettimederivativesupgweak lefttau vecv psi_i fracparti u_hparti tright endequ vecv level set veloc f forc term tau defin beginequ labeleqlevelsettimederivativesupgtupgtau tau frachvecv endequ h element length exampl syntax levelsettimederivativesupg kernelsyntaxkernelsindexmd use conjunct complet level set equat exampl follow provid necessari object complet level set equat supg stabil list moduleslevel_setexamplesvortexvortex_supgi blockkernel syntax paramet kernelslevelsettimederivativesupg syntax input kernelslevelsettimederivativesupg syntax children kernelslevelsettimederivativesupg bibtex bibliographi levelsetreinitializationmultiapp levelsetreinitializationmultiapp name suggest execut reiniti equat level set solut multiappmultiappsindexmd object requir subappl use levelsetreinitializationproblemlevelsetreinitializationproblemmd allow proper reset pseudo reiniti time exampl syntax list moduleslevel_settesttestsreinitializationmasteri blockmultiapp syntax paramet multiappslevelsetreinitializationmultiapp syntax input multiappslevelsetreinitializationmultiapp syntax children multiappslevelsetreinitializationmultiapp levelsetolssontermin object util termin level set reiniti solv steadyst u_h see levelsetolssonreinitializationmd detect beginequ labeleqnsteady_st fracu_hm u_hmdeltatau delta endequ delta problemdepend toler u_hm equiv u_htaumdelta tau steadyst achiev u_h set equal reiniti solut u_h entir process repeat time tdelta exampl syntax list moduleslevel_settesttestsreinitializationrein blockuserobject syntax paramet userobjectslevelsetolssontermin syntax input userobjectslevelsetolssontermin syntax children userobjectslevelsetolssontermin levelsetreinitializationproblem object special moos problem object add custom call reset simul initi state level set reiniti step repeat levelsetreinitializationmultiapplevelsetreinitializationmultiappmd object requir subappl problem type levelsetreinitializationproblem exampl syntax levelsetreinitializationproblem invok set type paramet within problemproblemindexmd input file list moduleslevel_settestteststransfersmarkerssingle_levelsubi blockproblem syntax paramet problemlevelsetreinitializationproblem syntax input problemlevelsetreinitializationproblem syntax children problemlevelsetreinitializationproblem levelsetproblem object special moos problem object add custom call execut transfer multiapp allow mesh adapt master applic appli subappl use within level set modul allow master applic govern adapt mesh subappl perform level set reiniti step exampl syntax levelsetproblem invok set type paramet within problemproblemindexmd input file list moduleslevel_settestteststransfersmarkersmulti_levelmasteri startproblem endexecution syntax paramet problemlevelsetproblem syntax input problemlevelsetproblem syntax children problemlevelsetproblem levelsetolssonbubbl citeolssonconserv defin level set function phi differ tradit sign distanc function defin level set function rang defin thick epsilon commonli refer smear heavisid function h_smphi beginequ h_smphi begincas phi epsilon frac fracphiepsilon fracpisinfracpiphiepsilon epsilon le phi le epsilon phi epsilon endcas endequ typic interfac level set function defin contour interfac boundari layer defin exampl follow code creat bubbl lower left corner domain rang x ydirect shown figur list moduleslevel_settesttestsfunctionsolsson_bubbleolsson_bubblei blockfunct syntax paramet functionslevelsetolssonbubbl syntax input functionslevelsetolssonbubbl syntax children functionslevelsetolssonbubbl bibtex bibliographi levelsetolssonplan citeolssonconserv defin level set function phi differ tradit sign distanc function defin level set function rang defin thick epsilon commonli refer smear heavisid function h_smphi beginequ h_smphi begincas phi epsilon frac fracphiepsilon fracpisinfracpiphiepsilon epsilon le phi le epsilon phi epsilon endcas endequ typic interfac level set function defin contour interfac boundari layer defin levelsetolssonplan creat plane defin point normal vector plane valu greater point side plane normal vector less opposit side list moduleslevel_settesttestsfunctionsolsson_planeolsson_planei blockfunct syntax paramet functionslevelsetolssonplan syntax input functionslevelsetolssonplan syntax children functionslevelsetolssonplan bibtex bibliographi levelsetolssonvortex syntax descript functionslevelsetolssonvortex one often util benchmark problem level set equat involv vortex veloc field twodimens result full revers advect variabl time levelsetolssonvortex provid veloc x direct v_x v_i defin citeolssonconserv beginequ beginalign v_x sinpi xsinpi v_i sinpi sinpi x endalign endequ two method defin revers veloc direct instanten cosin former simpli switch sine veloc midpoint provid revers time later appli cosin multipli revers smooth exampl input syntax list moduleslevel_settesttestsfunctionsolsson_vortexolsson_vortexi blockfunct syntax paramet functionslevelsetolssonvortex syntax input functionslevelsetolssonvortex syntax children functionslevelsetolssonvortex bibtex bibliographi levelsetmeshrefinementtransf solv level set equat perform reiniti level set variabl often requir maintain conserv sign distanc characterist within moos reiniti step solv handl use multiappmultiappsindexmd system allow subappl perform reiniti use adapt mesh master applic mesh adapt inform must transfer master applic subappl transfer perform levelsetmeshrefinementtransf exampl syntax list moduleslevel_settestteststransfersmarkersmulti_levelmasteri blocktransf syntax paramet transferslevelsetmeshrefinementtransf syntax input transferslevelsetmeshrefinementtransf syntax children transferslevelsetmeshrefinementtransf constant veloc circl one simplest problem demonstr level set equat appli constant veloc field initi field case circl two dimens follow exampl assum compil work level set modul execut base content moosemoduleslevel_setcircl directori creat input file exampl begin defin minim input file solv level set equat input file use initi circle_i mesh first meshmeshindexmd must defin simpl problem rectangular twodimension domain rang x direct list moduleslevel_setexamplescirclecircle_i blockmesh variabl unknown solv defin phi well auxiliari variabl defin veloc input level set equat notic veloc variabl defin vel_x vel_i defin initi condit problem veloc remain constant valu defin initi condit list moduleslevel_setexamplescirclecircle_i startvari endic initi condit initi condit auxiliari variabl defin via shortcut syntax previou section howev phi variabl must also initi accomplish use levelsetolssonbubblelevelsetolssonbubblemd function part level set modul case circl radiu defin midpoint domain list moduleslevel_setexamplescirclecircle_i startic endbc boundari condit problem assign period boundari condit phi x direct easili accomplish within moos list moduleslevel_setexamplescirclecircle_i blockbc kernel level set equat see theorylevel_settheorymd may defin moos use two kernelsyntaxkernelsindexmd object timederivativetimederivativemd levelsetadvectionlevelsetadvectionmd notic levelsetadvectionlevelsetadvectionmd requir unknown solv phi assign variabl paramet well two veloc variabl velocity_x velocity_i paramet list moduleslevel_setexamplescirclecircle_i blockkernel postprocessor exampl singl postprocessorspostprocessorsindexmd defin levelsetcflconditionlevelsetcflconditionmd use defin minimum timestep use execut solv equat discuss follow section list moduleslevel_setexamplescirclecircle_i blockpostprocessor execut exampl transient problem henc transienttransientmd execut use import aspect illustr executionerexecutionerindexmd block use postprocessordtpostprocessordtmd time stepper allow levelsetcflconditionlevelsetcflconditionmd postprocessor govern timestep problem list moduleslevel_setexamplescirclecircle_i blockexecution output final outputssyntaxoutputsindexmd defin singl type output exodu output contain mesh field data simul list moduleslevel_setexamplescirclecircle_i blockoutput result media level_setexample_circle_mp stylewidthmarginleftpxfloatright idexample_circle_ captionresult execut circle_i show phi field variabl contour initi black solut progress green example_circle_ show result simul defin execut circle_i input file done use follow command bash cd projectsmoosemoduleslevel_setexamplescircl level_setopt circle_i given constant veloc input file x direct initi circl translat degre angl perform three complet transect domain less cycl could achiev alter end time execution block ideal circl would maintain shape throughout simul sinc simpli advect constant veloc case result shown example_circle_ clearli show initi circl deform simul one method improv solut increas number finit element mesh done command line bash level_setopt circle_i meshuniform_refin caus two uniform refin mesh increas problem size dramat due increas number element problem also caus time step decreas timestep function element size see levelsetcflconditionlevelsetcflconditionmd simpl exampl increas number timestep increas problem size notic caus intract increas run time media level_setexample_circle_mp stylewidthmarginleftpxfloatright idexample_circle_ captionresult execut circle_i two uniform refin level show phi field variabl contour initi black solut progress green example_circle_ show result run circle_i two uniform refin appli improv solut drastic simpl exampl may adequ level set modul level set modul provid basic function solv level set equat follow link provid detail inform theori use level set modul theori manuallevel_settheorymd includ moduleslevel_setlevel_set_examplesmd refer follow tabl list object contain within level set modul brief descript purpos object may select navig detail page level set modul task follow addit task complet make level set modul use robust realworld applic develop autom techniqu set variou reiniti tune paramet delta tau epsilon etc see theorylevel_settheorymd page detail implement signeddistancepreserv reiniti scheme base establish method eg citeminreiniti implement addit stabil techniqu galerkin least squar citehughesviii method shockdiscontinu captur scheme citehughesbeyondshakibcompress creat modulespecif input file syntax level set problem simplifi input file gener usag solv addit benchmark problem variou stabil reiniti scheme investig differ mesh refin adapt strategi said problem object action syntax syntax complet groupslevelsetapp level bibtex bibliographi vortex classic challeng benchmark problem level set vortex problem problem similar rotat bubbl see rotat bubbl exampleexample_rotatemd problem involv initi u_h see theorylevel_settheorymd bubbl radiu omega bubbl advect vortex veloc field see levelsetolssonvortexlevelsetolssonvortexmd bubbl return origin posit signific differ rotat bubbl exampleexample_rotatemd exampl veloc function therefor detail discuss vari input file omit case rotat bubbl exampleexample_rotatemd three scenario consid level set equat alon supg stabil reiniti complet input file locat moduleslevel_setexamplesvortex directori moos figur vortex_out vortex_reinit_out show result three scenario solut qualiti reiniti case figur vortex_reinit_out obvious lack reason solut behav manner fulli understood respect level set modul someth need investig media level_setvortex_outmp idvortex_out stylewidthmarginrightfloatleft captionresult solv vortex problem level set equat alon media level_setvortex_outmp idvortex_supg_out stylewidthmarginrightfloatleft captionresult solv vortex problem level set equat use supg stabil media level_setvortex_reinit_outmp idvortex_reinit_out stylewidthfloatleft captionresult solv vortex problem level set equat reiniti area comparison three method shown figur area_comparison reiniti exampl perform expect area result shown indic reiniti step implement modul may lack addit work done add addit stabil reiniti scheme uncov inconsist seen media level_setexample_vortex_areapng idarea_comparison stylefloatrightwidth captioncomparison area insid vortex simul moduleslevel_setexample_circlemd moduleslevel_setexample_rotatemd moduleslevel_setexample_vortexmd rotat circl second exampl typic benchmark problem level set equat rotat bubbl problem involv initi u_h see theorylevel_settheorymd bubbl radiu omega bubbl advect given veloc field vecvyx tpi bubbl return origin posit level set equat circle_rotate_out show result solv rotat bubbl problem level set equat alon initi behav consist manner howev near end simul nodetonod oscil appear solut evid contour line shown circle_rotate_out expect oscil influenc area region encapsul level set contour shown figareacompar discuss area comparisonareacomparison section complet input file run portion exampl includ may execut follow bash cd projectsmoosemodulelevel_setexamplesrotating_circl level_setopt rotating_circlei list moduleslevel_setexamplesrotating_circlecircle_rotatei level set equat supg ad supg stabilizationset theorylevel_settheorymd detailsmitig oscil present first step shown circle_rotate_supg_out ad supg stabil trivial simpli add time advect supg kernel input file circle_rotate_supgi shown previous kernel block appear list moduleslevel_setexamplesrotating_circlecircle_rotate_supgi blockkernel ad stabil improv numer solut suffer loss conserv phase field variabl discuss area comparisonareacomparison section shown figareacompar level set equat reiniti ad reinitializt case scheme propos citeolssonconserv requir use moos multiappmultiappsindexmd enabl reiniti two input file requir master subappl master input file must add necessari multiappsmultiappsindexmd transferstransfersindexmd block problem hand circle_rotate_masteri easili accomplish ad follow input file first step ie includ supg kernel list moduleslevel_setexamplesrotating_circlecircle_rotate_masteri startmultiapp endoutput next subappl input file must creat shown input file mimic master input file close three notabl except first kernelssyntaxkernelsindexmd block util time deriv new object levelsetolssonreinitializationlevelsetolssonreinitializationmd implement reiniti scheme citeolssonconserv second problemproblemindexmd set use levelsetreinitializationproblemlevelsetreinitializationproblemmd final userobjectsuserobjectsindexmd block includ termin levelsetolssonterminatorlevelsetolssonterminatormd respons stop reiniti solv steadyst achiev accord criteria defin citeolssonconserv list moduleslevel_setexamplesrotating_circlecircle_rotate_subi circle_rotate_master_out show result bubbl problem reiniti result look similar supg result howev consid area conserv discuss area comparisonareacomparison section reiniti scheme yield superior solut problem media level_setcircle_rotate_outmp idcircle_rotate_out stylewidthmarginrightfloatleft captionresult solv rotat circl problem level set equat alon media level_setcircle_rotate_supg_outmp idcircle_rotate_supg_out stylewidthmarginrightfloatleft captionresult solv rotat circl problem level set equat use supg stabil media level_setcircle_rotate_master_outmp idcircle_rotate_master_out stylewidthfloatleft captionresult solv rotat circl problem level set equat reiniti area comparison idareacomparison figareacompar plot area circl three simul note unstabil unreiniti level set equat area conserv stabil issu readili appar instabl especi obviou figareacompar drastic area chang due numer oscil solut field ad supg stabil help amelior stabil concern suffer loss area conserv reiniti scheme stabl areaconserv media level_setarea_comparisonpng idfigareacompar stylewidthfloatrightmarginleftpx captioncomparison area insid bubbl simul reiniti method perform well comput expens pick pseudo timestep size delta tau steadyst criteria delta interfac thick epsilon correctli reiniti problem nontrivi difficulti nevertheless level set modul provid valuabl start point proofofconcept research interest method exist algorithm doubt tune need specif applic term conserv comput cost requir bibtex bibliographi level set modul theori introduct level set method commonli use front track problem citeosherlevel model multidimension advect equat beginequ labeleqnpure_advect fracparti uparti vecvcdotnabla u endequ time vecv known veloc field u variabl repres interfac tradit u taken sign distanc interfac problem pose signific challeng numer stabil techniqu must employ avoid nodetonod oscil intermedi reiniti step must undertaken evolv interfac physicallyconsist manner basic requir solv level set equat moos summar follow mileston object solv level set equat numer use galerkin finit element method appli standard stabil scheme implement basic reiniti scheme order test demonstr use level set modul benchmark rotat bubbl problem requir three aforement compon undertaken weak form weak form eqnpure_advect find u_h approx u beginequ labeleqnpure_advection_weak leftfracparti u_hparti psi_iright vecv cdot nabla u_h psi_i endequ hold admiss test function psi_i u_h finit element approxim u employ innerproduct notat uv equiv int_omega uv textdx conveni solv eqnpure_advection_weak moos requir addit singl physic kernel second term lefthand side eqnpure_advection_weak kernel includ level set modul levelsetadvect allow one use coupl variabl repres veloc field stabil pure convect equat implement level set equat galerkin finit element method requir numer stabil nodetonod oscil avoid standard solut accuraci maintain level set modul also includ kernel implement streamlin upwindpetrovgalerkin supg stabil method citebrooksstreamlinedoneafinit eqnpure_advection_weak given beginequ labeleqnsupg leftfracparti u_hparti vecvcdotnabla u_h psi_i frachvecvvecv cdot nablapsi_iright endequ h element length vecv euclidean norm veloc vector note hdepend term add stabil numer scheme introduc symmetr velocitydepend artifici viscos contribut beginequ leftfrachvecv vecvcdotnabla u_h vecv cdot nablapsi_i right endequ socal consist manner true solut u satisfi eqnpure_advect easi see inspect also satisfi eqnsupg sinc strong form residu appear first slot inner product stabil term implement code two addit kernelssyntaxkernelsindexmd levelsettimederivativesupglevelsettimederivativesupgmd levelsetadvectionsupglevelsetadvectionsupgmd reiniti advect variabl u often use track move front therefor desir total amount u present omega remain throughout simul equival state area within given contour u chang also frequent desir u remain sign distanc function throughout cours simul vast amount research method guarante either conserv sign distanc properti level set modul moos current implement conserv reiniti algorithm transform u_h smooth function rang rather sign distanc use certain type problem phase identif weak form reiniti equat find u_h beginequ labeleqnreinit_weak leftfracparti u_hparti tau psi_iright leftnablapsi_i f epsilonnabla u_hcdothatn_asthatn_astright endequ hold everi admiss psi_i tau pseudo time reiniti hatn_ast normal vector comput level set variabl u_h pseudo time tau epsilon interfac thick fequiv u_hu_h u_htau u_h steadyst u_h detect beginequ labeleqnsteady_st fracu_hm u_hmdeltatau delta endequ delta problemdepend toler u_hm equiv u_htaumdelta tau steadyst achiev u_h set equal reiniti solut u_h entir process repeat time tdelta bibtex bibliographi modulesrdgindexmd templat load filesqaapp_sllmdtempl apprdgapp categoryrdg templat load filesqaapp_rtmmdtempl apprdgapp categoryrdgtempl load filesqaapp_indexmdtempl apprdgapp categoryrdgtempl load filesqaapp_srsmdtempl apprdgapp categoryrdgtempl load filesqaapp_vvrmdtempl apprdgapp categoryrdgtempl load filesqaapp_farmdtempl apprdgapp categoryrdgtempl load filesqaapp_sddmdtempl apprdgapp categoryrdgtempl load filesqaapp_stpmdtempl apprdgapp categoryrdg boundaryfluxpostprocessor syntax descript postprocessorsboundaryfluxpostprocessor postprocessor use queri flux vector comput via object deriv boundaryfluxbas comput side integr specifi entri flux specifi boundari postprocessor use conserv test inflow outflow flux domain integr note case one still need integr postprocessor time done timeintegratedpostprocessortimeintegratedpostprocessormd postprocessor syntax paramet postprocessorsboundaryfluxpostprocessor syntax input postprocessorsboundaryfluxpostprocessor syntax children postprocessorsboundaryfluxpostprocessor aefvkernel syntax descript dgkernelsaefvkernel syntax paramet dgkernelsaefvkernel syntax input dgkernelsaefvkernel syntax children dgkernelsaefvkernel aefvfreeoutflowboundaryflux syntax descript userobjectsaefvfreeoutflowboundaryflux syntax paramet userobjectsaefvfreeoutflowboundaryflux syntax input userobjectsaefvfreeoutflowboundaryflux syntax children userobjectsaefvfreeoutflowboundaryflux aefvupwindinternalsideflux syntax descript userobjectsaefvupwindinternalsideflux syntax paramet userobjectsaefvupwindinternalsideflux syntax input userobjectsaefvupwindinternalsideflux syntax children userobjectsaefvupwindinternalsideflux aefvslopelimitingon syntax descript userobjectsaefvslopelimitingon syntax paramet userobjectsaefvslopelimitingon syntax input userobjectsaefvslopelimitingon syntax children userobjectsaefvslopelimitingon aefvmateri syntax descript materialsaefvmateri syntax paramet materialsaefvmateri syntax input materialsaefvmateri syntax children materialsaefvmateri aefvbc syntax descript bcsaefvbc syntax paramet bcsaefvbc syntax input bcsaefvbc syntax children bcsaefvbc rdg modul moos rdg modul librari implement simul tool solv convectiondomin problem use class socal reconstruct discontinu galerkin rdg method specif rdg method implement modul rdgpp equival secondord cellcent finit volum method fvm cellcent fvm regard subset rdg method case baselin polynomi solut element constant monomi fvm wide use numer method area comput fluid dynam cfd heat transfer comput acoust magnetohydrodynam mhd modul provid systemat solut implement requir compon secondord fvm slope reconstruct slope limit numer flux proper boundari condit alert note avoid ambigu term rdg understood cellcent fvm modul two term use interchang follow text advect equat best help develop andor user better understand rdg method tri develop new applic use exist rdgbase code use advect equat simplest convectiondomin system think exampl describ implement cellcent fvm moos advect equat conserv quantiti describ scalar field psi express mathemat continu equat beginequ labeleqadvection_equ fracparti psiparti nablacdotpsibf v endequ nablacdot diverg oper bf v veloc field flow assum incompress veloc field satisfi beginequ nablacdotbf v endequ equat rewritten beginequ fracparti psiparti bf vcdotnablapsi endequ finit volum method eqadvection_equ discret space use cellcent fvm fvm comput domain omega divid set nonoverlap control volum omega_i one combin common element type eg line segment triangl quadrilater tetrahedra prism pyramid hexahedra control volum integr form govern equat requir satisfi beginequ labeleqfvm_integr int_omega_ifracpartialpsiparti trm dv int_omega_inablacdotpsibf vrm dv endequ cellaverag conserv variabl psi_i taken unknown defin beginequ psi_i fracv_iint_omega_ipsirm dv endequ v_i volum control volum omega_i follow equat deriv use diverg theorem beginequ labeleqfvm_divergence_theorem_bc v_ifracrm dpsi_irm dt sum_j n_iint_gamma_ijpsi_ijbf v_ijcdotbf n_ijrm ds sum_gamma_ib partialomegaint_gamma_ibpsi_ibbf v_ibcdotbf n_ibrm ds endequ gamma_ijpartialomega_icappartialomega_j denot interior common face cell omega_i omega_j gamma_ibpartialomega_icappartialomega denot face boundari domain omega bf n_ij bf n_ib unit vector normal face gamma_ij gamma_ib respect cell omega_i n_i repres set neighbor cell omega_j share common face gamma_ij numer solut discontinu cell interfac interfac flux uniqu defin flux psi_ijbf v_ijcdotbf n_ij appear second term eqfvm_divergence_theorem_bc replac numer flux function mathcalhpsi_ij psi_ji bf n_ij ie beginequ mathcalhpsi_ij psi_ji bf n_ij approx psi_ijbf v_ijcdotbf n_ij endequ psi_ij psi_ji conserv variabl left right side cell interfac j case firstord fvm solut cell assum constant space interior face gamma_ij two state simpli psi_ij psi_i psi_ji psi_j order guarante consist conserv mathcalhpsi_ij psi_ji bf n_ij requir satisfi beginequ mathcalhpsi_ij psi_ij bf n_ij bf v_ijcdotbf n_ijpsi_ij endequ beginequ mathcalhpsi_ij psi_ji bf n_ij mathcalhpsi_ji psi_ij bf n_ij endequ similarli flux function domain boundari psi_ibbf v_ibcdotbf n_ib determin mathcalhpsi_ib psi_b bf n_ib ie beginequ mathcalhpsi_ib psi_b bf n_ib approx psi_ibbf v_ibcdotbf n_ib endequ use appropri boundari condit satisfi characterist theori final boundari integr eqfvm_divergence_theorem_bc approxim use one point quadratur midpoint face semidiscret form equat may written beginequ labeleqfvm_semi_discret v_ifracrm dpsi_irm dt sum_j n_imathcalhpsi_ij psi_ji bf n_ijs_ij sum_gamma_ib partialomegamathcalh_bpsi_ib psi_b bf n_ibs_ib endequ s_ij length cell edg area cell face assembl element contribut system ordinari differenti equat govern evolut discret solut time written beginequ bfit mfracrm dpsirm dt bf rpsi endequ bfit denot mass matrix bf w global vector degre freedom bf rpsi residu vector bfit block diagon structur coupl degre freedom unknown vector associ psi_i within omega_i result invers bfit easili comput advanc consid one cell time numer flux scheme exampl advect equat flux function approxim use upwind scheme ie beginequ mathcalhpsi_ij psi_ji bf n_ij apsi_i apsi_j endequ beginequ fracvperp_ij vperp_ij endequ beginequ fracvperp_ji vperp_ji endequ beginequ vperp_ij bf v_ijcdotbf n_ij endequ beginequ vperp_ji bf v_jicdotbf n_ij endequ tvd slope limit firstord fvm gener stabl arbitrari grid howev secondord fvm base piecewis linear reconstruct suffer nonphys oscil vicin strong discontinu convectiondomin flow one common approach address issu appropri slope limit slope limit wide use fvm modifi piecewis linearli reconstruct gradient solut variabl thu satisfi totalvari diminish tvd condit moos implement tvd slope limit possibl unstructur grid trivial know indic left right neighbor element ith element ie loop element three classic slope limit implement exampl advect equat describ minmod slope limit one choic slope give secondord accuraci smooth solut still satisfi tvd properti minmod slope beginequ phi_i rm minmod left fracpsi_ipsi_idelta x fracpsi_ipsi_idelta x right endequ minmod function two argument defin beginequ rm minmoda b begincas text b text ab b text b text ab text ab le endcas endequ b sign select one smaller modulu els return zero rather defin slope ith cell alway use downwind differ would give laxwendroff method alway use upwind differ would give beamwarm method minmod method compar two slope choos one smaller magnitud two slope differ sign valu psi_i must local maximum minimum easi check case must set phi_i order satisfi tvd condit minmod method fairli good job maintain good accuraci smooth hump also sharp discontinu squar wave oscil sharper resolut discontinu achiev limit reduc slope sever minmod near discontinu superbe slope limit one choic limit give sharper reconstruct still give second order accuraci smooth solut socal superbe limit introduc citeroesom beginequ labeleqsuperbeelimit phi_irm maxmodphi_iphi_i endequ beginequ phi_i rm minmod left fracpsi_ipsi_idelta x fracpsi_ipsi_idelta x right endequ beginequ phi_i rm minmod left fracq_iq_idelta x fracq_iq_idelta x right beginequ onesid slope compar twice opposit onesid slope maxmod function eqsuperbeelimit select argument larger modulu region solut smooth tend return larger two onesid slope still give approxim henc expect secondord accuraci superbe limit also tvd gener superbe method discontinu stay consider sharper minmod method hand tendenc smooth hump becom steeper squar sometim problem superbe choos larger neighbor slope tend steepen smooth transit near inflect point mc slope limit anoth popular choic monoton centraldiffer limit mc limit propos citevantoward beginequ labeleqmclimit phi_i rm minmod left leftfracq_iq_idelta xright leftfracq_iq_idelta xright leftfracq_iq_idelta xright right endequ compar central differ fromm method twice onesid slope either side smooth region reduc center slope fromm method henc tend artifici steepen smooth slope extent superbe mc limit appear good default choic wide class problem exampl problem idexampl problem descript test case valid rdg implement advect equat three slope limit introduc use simul rightgo squareshap wave initi condit ic contain contact discontinu x x simplic wave speed set media anim_d_aefv_square_wavegif idsquare_wav stylewidthmarginleftpxfloatright captiontim evolut rdg solut simul rightgo squareshap wave dg numer result demonstr oscillationfre solut qualiti wave propag anim present addit numer result present square_wav input file content input file block describ detail clariti globalparam mandatori declar order constant famili monomi specifi piecewis cellaverag solut variabl cellcent finit volum method conveni provid paramet rdgrelat object use input file slope_reconstruct rslope slope_limit lslope slope reconstruct slope limit explicit time integr method use conveni declar implicit fals jacobian matric comput list modulesrdgtesttestsadvection_dd_aefv_square_wavei blockglobalparam mesh list modulesrdgtesttestsadvection_dd_aefv_square_wavei blockmesh note onedimension comput domain rang x x defin element equal distribut domain function list modulesrdgtesttestsadvection_dd_aefv_square_wavei blockfunct note case piecewis constant function use specifi initi condit squareshap wave profil userobject list modulesrdgtesttestsadvection_dd_aefv_square_wavei blockuserobject note prefix aefv repres advect equat finit volum abbrevi uniqu name class aefvslopereconstructionon work place code consist slope reconstruct limit accomplish one user object aefvslopelimitingon calcul limit slope element aefvupwindinternalsideflux calcul intern side flux use simpl upwind scheme aefvfreeoutflowboundaryflux calcul boundari side flux use free outflow bc variabl list modulesrdgtesttestsadvection_dd_aefv_square_wavei blockvari note declar nonlinear variabl u type famili variabl declar globalparam conveni kernel list modulesrdgtesttestsadvection_dd_aefv_square_wavei blockkernel note alway set implicit true time deriv kernel use explicit time integr fvm volumetr integr flux term possibl kernel block includ sourc term exampl dgkernel list modulesrdgtesttestsadvection_dd_aefv_square_wavei blockdgkernel note intern side flux term declar block bc list modulesrdgtesttestsadvection_dd_aefv_square_wavei blockbc note boundari side flux term declar block materi list modulesrdgtesttestsadvection_dd_aefv_square_wavei blockmateri note block calcul actual materi properti use trigger calcul slope everi element interpol variabl valu side center refer bibtex bibliographi exampl kinet rate model use formula beginequ r ms k efrace_art endequ r mol reaction rate g mass miner number mole multipli molar weight cmg specif surfac area miner k molsm reaction intrins rate constant e_a jmol reaction activi area r ldotsjkmol ga constant k temperatur palandri kharaka compil rate paramet waterminer interact kinet applic geochem model list paramet wide number miner mani case base limit experiment data may subject larg error speci palandri assum k e_a albit page neutral mechan anhydrit page neutral mechan anorthit page neutral mechan calcit page neutral mechan chalcedoni assum quartz clinochla page neutral chlinochlora illit assum phlogopit kfeldspar page neutral mechan kaolinit page neutral mechan laumontit data quartz page neutral mechan f paragonit page neutral mechan phlogopit page neutral mechan zoisit page averag other modulescombinedindexmd combin modul name impli combin modul combin capabl modul modul provid capabl main purpos provid execut link togeth capabilit modul allow coupl togeth test demonstr purpos coupl physic tutori set tutori problemscombinedtutorialsintroductionindexmd show capabl physic modul use togeth make use combin modul use stochast tool multiphys model purpos document present multiphys exampl use stochast tool modulemodulesstochastic_toolsindexmd intent showcas capabl modul produc statist relev result includ uncertainti propag sensit well modul surrog model infrastructur problem interest thermomechan model use combin heat conductionmodulesheat_conductionindexmd tensor mechanicsmodulestensor_mechanicsindexmd modul problem involv multipl uncertain materi properti multipl quantiti interest qoi use mont carlo sampl polynomi chao surrog model effect properti uncertainti quantifi uncertainti propag global sensit analysi problem descript problem interest involv steadyst thermomechan model geometri finit hollow cylind two concentr layer differ materi properti seen figgeom due symmetri cylind repres mesh inner surfac ring expos surfac heat sourc cosin shape along axi cylind peak center end outsid cylind convect boundari condit cylind free displac direct due thermal expans relev materi geometr properti list tabmat_prop tabl also list uncertain paramet describ follow section refer temperatur displac profil shown figsol_temp figsol_dispz uncertain properti set arbitrari valu full input file model shown listthermo media combinedgeompng captionmodel problem geometri idfiggeom stylewidth tabl captionmateri properti thermomechan cylind idtabmat_prop properti symbol valu unit half cylin height l inner radiu r inner ring width r_ outer ring width r_ outer heat transfer coef h_mathrmout wmcdotk outer free temperatur t_inftymathrmout k end heat transfer coef h_mathrmend wmcdotk end free temperatur t_inftymathrmend k heat sourc magnitud q_t uncertain w inner thermal conduct k_ uncertain wmcdotk outer thermal conduct k_ uncertain wmcdotk inner young modulu y_ uncertain pa outer young modulu y_ uncertain pa inner poisson ratio nu_ uncertain outer poisson ratio nu_ uncertain inner thermal expans coef alpha_ uncertain k outer thermal expans coef alpha_ uncertain k rest temperatur t_ k row media combinedtemppng captiontemperatur k idfigsol_temp stylewidthfloatleft media combineddisppng captiondisplac idfigsol_disp stylewidthfloatleft media combineddispxpng captionxdisplac idfigsol_dispx stylewidthfloatleft media combineddispypng captionydisplac idfigsol_dispi stylewidthfloatleft media combineddispzpng captionzdisplac idfigsol_dispz stylewidthfloatleft rowend list examplesstochasticgraphite_ring_thermomechanicsi captionthermomechan model input file idlistthermo uncertain paramet total nine properti model known exactli known probabl valu occur probabl repres paramet probabl densiti function paramet independ uniform distribut mathcaluab b lower upper limit valu properti respect tabuprop list detail properti distribut tabl captionuniform distribut paramet uncertain properti idtabuprop index properti b k_ k_ q_t alpha_ time time alpha_ time time y_ time time y_ time time nu_ nu_ quantiti interest total ten qoi model involv temperatur displac temperatur center inner surfac t_c temperatur center outer surfac t_c temperatur end inner surfac t_e temperatur end outer surfac t_e xdisplac center inner surfac delta_xc xdisplac center outer surfac delta_xc xdisplac end inner surfac delta_x xdisplac end outer surfac delta_x zdisplac end inner surfac delta_z zdisplac end outer surfac delta_z figqoi show geometr qoi locat model media combinedqoipng captiongeometr descript quantiti interest idfigqoi stylewidth result exercis use statisticsstatisticsmd sobol sensitivitypolynomialchaosreportermd capabl avail stochast tool modul goal exercis understand uncertainti paramet affect result qoi done sampl model differ perturb paramet perform statist calcul result qoi valu two method use perform analysi first use sampler system perturb uncertain properti retriev qoi undergo analysi second train polynomi chao surrogatepolynomialchaosmd use reduc order model sampl perform analysi idea mani evalu model necessari comput accur statist quantiti surrog model speed comput requir much fewer full model evalu train significantli faster evalu train use latin hypercub samplinglatinhypercubesamplermd thermomechan model run total sampl input file shown listlh order four polynomi chao surrog train use smolyak spars quadratur total run full model train input shown listtrain evalu input shown listev tabrt show runtim sampl full order model train evalu surrog see cumul time train evalu surrog much smaller sampl full order model build surrog requir far fewer evalu full model evalu surrog much faster evalu full model tabl captionstochast runtim result idtabrt simul sampl cpu time fullord sampl hr polynomi chao train hr polynomi chao evalu list combinedexamplesstochasticlhs_uniformi idlistlh captionlatin hypercub sampl statist input file list combinedexamplesstochasticpoly_chaos_train_uniformi idlisttrain captionpolynomi chao train input file list combinedexamplesstochasticpoly_chaos_uniformi idlistev captionpolynomi chao evalu input file statist tabstat show statist result sampl thermomechani model polynomi chao surrog mu sigma repres mean standard deviat qoi ci confid interv note confid interv polynomi chao statist relev sinc valu found analyt use integr techniqu fighist_temp fighist_dispz compar sever probabl distribut qoi sampl fullord model polynomi chao surrog tabl captionstatist result idtabstat qoi mu ci sigma ci pc mu pc sigma t_c t_c t_e t_e delta_xc e e e e e e e e delta_xc e e e e e e e e delta_x e e e e e e e e delta_x e e e e e e e e delta_z e e e e e e e e delta_z e e e e e e e e row media combinedtemp_center_inner_histpng captiont_c histogram idfighist_temp stylewidthfloatleft media combineddispx_center_inner_histpng captiondelta_xc histogram idfighist_dispx stylewidthfloatleft media combineddispz_inner_histpng captiondelta_z histogram idfighist_dispz stylewidthfloatleft rowend sobol sensit sobol sensit sobol indici metric compar global sensit paramet qoi exampl demonstr sever differ type sensit first total sensit measur total sensit paramet figsobol_tot show valu qoi paramet second correl sensit measur sensit due combin paramet figheat_temp figheat_dispz show heat map valu sever qoi media combinedsobol_totalpng captiontot sobol sensit idfigsobol_tot stylewidth row media combinedtemp_center_inner_sobolpng captiont_c sobol sensit idfigheat_temp stylewidthfloatleft media combineddispx_center_inner_sobolpng captiondelta_xc sobol sensit idfigheat_dispx stylewidthfloatleft media combineddispz_inner_sobolpng captiondelta_z sobol sensit idfigheat_dispz stylewidthfloatleft rowend supplementari figur probabl distribut qoi galleri larg card combinedtemp_center_inner_histpng titlet_c card combinedtemp_center_outer_histpng titlet_c card combinedtemp_end_inner_histpng titlet_ card combinedtemp_end_outer_histpng titlet_ card combineddispx_center_inner_histpng titledelta_xc card combineddispx_center_outer_histpng titledelta_xc card combineddispx_end_inner_histpng titledelta_x card combineddispx_end_outer_histpng titledelta_x card combineddispz_inner_histpng titledelta_z card combineddispz_outer_histpng titledelta_z galleryend sobol sensit heatmap qoi galleri larg card combinedtemp_center_inner_sobolpng titlet_c card combinedtemp_center_outer_sobolpng titlet_c card combinedtemp_end_inner_sobolpng titlet_ card combinedtemp_end_outer_sobolpng titlet_ card combineddispx_center_inner_sobolpng titledelta_xc card combineddispx_center_outer_sobolpng titledelta_xc card combineddispx_end_inner_sobolpng titledelta_x card combineddispx_end_outer_sobolpng titledelta_x card combineddispz_inner_sobolpng titledelta_z card combineddispz_outer_sobolpng titledelta_z galleryend step basic thermalmechan coupl tutori heat conduct tensor mechan modul basic thermal mechan problem develop heat conduct tutori culmin modelheat_conductiontutorialsintroductiontherm_stepamd solv heat equat simpl rectangular domain includ term heat conduct timedepend effect volumetr heat tensor mechan tutori includ modeltensor_mechanicstutorialsintroductionstepamd show thermal expans account use prescrib temperatur field model shown build thermal mechan model simultan solv thermal mechan respons evid examin file coupl physic model defin combin compon physic singl input file defin interact physic list modulescombinedtutorialsintroductionthermal_mechanicalthermomech_stepi input file variabl variabl block input file look like thermalonli problem singl variablet defin initi condit kelvin obviou question variabl defin mechan coupl physic problem usual defin moos defin multipl variabl associ kernel actual done model modulestensormechanicsmast action block automat set displac variabl dont explicitli appear variabl block input file action set variabl name defin displac paramet defin globalparam case thu three solut variabl disp_x disp_i list modulescombinedtutorialsintroductionthermal_mechanicalthermomech_stepi blockvari kernel similar variabl block kernel relat temperatur solut defin kernel block case due fact modulestensormechanicsmast action autom set kernel associ displac variabl dont explicitli appear input file model includ kernel conduct time deriv volumetr term heat equat list modulescombinedtutorialsintroductionthermal_mechanicalthermomech_stepi blockkernel modulestensormechanicsmast block autom process set multipl object relat solut mechan problem object set block includ variabl kernel displac solut materi comput strain object associ output stress addit simplifi input ensur consist set option select desir formul list modulescombinedtutorialsintroductionthermal_mechanicalthermomech_stepi blockmodulestensormechanicsmasteral materi materi properti must defin thermal mechan model thermal model thermal conduct specif heat densiti need mechan model elast tensor thermal eigenstrain stress comput model list essenti combin model use singlephys thermal mechan model list modulescombinedtutorialsintroductionthermal_mechanicalthermomech_stepi blockmateri bc boundari condit must prescrib individu physic way singlephys model variabl paramet boundari condit block defin variabl boundari condit appli list modulescombinedtutorialsintroductionthermal_mechanicalthermomech_stepi blockbc precondit precondit block use defin full matrix coupl variabl use precondit memori intens default blockdiagon matrix typic result improv converg multiphys model remain block execution output would singlephys model case question coupl introduc thermal mechan solut model click answercombinedtutorialsintroductionthermomech_answermd youv answer question run exampl move step combinedtutorialsintroductionstepmd introduc third block particip contact problem introduct coupl thermomechan model tutori provid introduct set model combin model heat transfer mechan deform includ contact build materi introduct heat conductionheat_conductiontutorialsintroductionindexmd introduct tensor mechanicstensor_mechanicstutorialsintroductionindexmd introduct contactcontacttutorialsintroductionindexmd tutori complet recommend prior tutori three part tutori build complex basic thermalmechan couplingcombinedtutorialsintroductionthermomech_stepmd basic problem solv coupl system equat thermal mechan respons singl block build singleblock problem introduct heat conduct introduct tensor mechan tutori thermalmechan contactcombinedtutorialsintroductionstepmd problem show coupl thermalmechan simul two block interact thermal mechan contact defin advanc thermalmechan contactcombinedtutorialsintroductionstepmd problem add complex previou problem ad addit bodi contact interact coupl introduc thermal mechan solut model place coupl temperatur displac solut explicitli appear input file block defin thermal eigenstrain list modulescombinedtutorialsintroductionthermal_mechanicalthermomech_stepi blockmaterialsexpans block temperatur paramet indic variabl use defin temperatur field case variabl specifi solut variabl result coupl thermal mechan solut note specifi variabl either variabl part solut case auxiliari variabl might prescrib use function case mechanicsonli modeltensor_mechanicstutorialsintroductionstepamd case build upon addit depend eigenstrain temperatur solut also depend thermal solut mechan solut immedi appar thermal kernel default run displac mesh distort comput mechan model mani model neglig effect import case particularli thermal contact includ step first thermal mortar contact continu final stepcontacttutorialsintroductionstepmd mechan contact tutori first time incorpor thermal contact stay within mortar method list modulescombinedtutorialsintroductionthermal_mechanical_contactthermomech_cont_stepi note thermal contact action need add object requir mortar base thermal contact manual input file variabl thermal part problem add temperatur variabl suppli initial_condit temperatur unit valu right valu set cool heat bc note like physic variabl object variabl restrict block see globalparam second variabl add lagrang multipli thermal contact physic mean heat flux variabl block restrict lower dimension mortar subdomain contact action creat us name subdomain name contact action subblock _secondary_subdomain append paramvariablesmoosevariablefamili paramvariablesmoosevariableord paramet defin shape function famili element order first order lagrang connect lagrang multipli moos default set futur input might see paramet omit lagrang shape function pure nodal interpolari shape function constraint gapconductanceconstraintgapconductanceconstraintmd bare bone gap conduct constraint object avail moos could serv start point develop complex gap conduct model take account surfac rough contact pressur exampl constraint object act lagrang multipli paramconstraintsgapconductanceconstraintvari tlm affect paramconstraintsgapconductanceconstraintsecondary_vari temperatur enforc energi balanc make sure enabl evalu constraint displac mesh captur larg displac deformatio set paramconstraintsgapconductanceconstraintuse_displaced_mesh paramet true displac mesh copi mesh node move displac variabl valu tri set paramet fals compar result hint gap distanc constraint see comput origin mesh chang time chose gap conduct paramconstraintsgapconductanceconstraintk heat flux across gap comput frac kl l width gap set primari secondari boundari subdomain subdomain choos lower dimension mesh mechan contact action set us pure thermal contact problem need creat lower dimension subdomain manual use lowerdblockfromsidesetgeneratorlowerdblockfromsidesetgeneratormd mesh gener bc heat_left cool_right two dirichlet boundari condit set bottom left cantilev elev temperatur bottom right cantilev lower temperatur establish temperatur differ result heat flux two cantilev materi need add two materi block thermal properti heatconductionmaterialheatconductionmaterialmd provid thermal conduct specif heat densitydensitymd materi comput updat materi densiti displac mesh take volumetr deform account specific_heat densiti properti use heatconductiontimederivativeheatconductiontimederivativemd kernel thermal_conduct properti use heatconductionheatconductionmd kernel execution make small chang petsc option add pc_factor_shift_typ nonzero option paramexecutionertransientpetsc_options_inam paramexecutionertransientpetsc_options_valu respect help direct solver deal saddl point structur jacobian matrix zero diagon note also lower timestep better see go set back convinc problem still converg well youv answer question run exampl move step combinedtutorialsintroductionstepmd introduc third block particip contact problem step thermal contact node face list modulescombinedtutorialsintroductionthermal_mechanical_contactthermomech_cont_stepi input file modulesreactorindexmd multicontroldrumfunct syntax descript functionsmulticontroldrumfunct overview multicontroldrumfunct function object assign valu absorb volum fraction use simul control drum rotat power transient must use mesh gener patternedhexmeshgeneratorpatternedhexmeshgeneratormd get access essenti meshmetadata multicontroldrumfunct capabl handl multipl control drum within singl mesh principl control drum common reactiv control approach usual cylindr geometri outer ring contain absorb yellow reflector blue section see figur control_drum use multicontroldrumfunct object rotat absorb section simul entir ring need singl block function object creat time space depend function repres volum percentag absorb ring block function suppos work either functionauxfunctionauxmd assign valu element auxiliari variabl genericfunctionmaterialgenericfunctionmaterialmd assign valu materi properti three possibl scenario entir mesh element within absorb section function valu percent absorb entir mesh element within reflector section function valu percent absorb mesh element intercept absorberreflector boundari function valu equal volum percentag absorb part mesh element media reactorfunctionsrotate_control_drumpng styledisplay blockmarginleftautomarginrightautowidth idschemat captiona schemat draw show typic control drum structur import paramet multicontroldrumfunct object key paramet simul rotat control drum set paramet need control drum see figur control_drum paramfunctionsmulticontroldrumfunctionstart_angl azimuth angl start posit absorb section begin rotat paramfunctionsmulticontroldrumfunctionangle_rang azimuth angl rang absorb section paramfunctionsmulticontroldrumfunctionangular_spe rotat speed control drum degre per second posit valu mean counterclockwis rotat neg valu mean clockwis rotat default rotat control drum start never end option user set paramfunctionsmulticontroldrumfunctionrotation_start_tim paramfunctionsmulticontroldrumfunctionrotation_end_tim custom control drum rotat time paramfunctionsmulticontroldrumfunctionuse_control_drum_id true multicontroldrumfunct also use element extra integ control_drum_id mesh determin domain control drum pleas refer patternedhexmeshgeneratorpatternedhexmeshgeneratormd detail control_drum_id assign paramfunctionsmulticontroldrumfunctionuse_control_drum_id fals domain control drum determin base nearest control drum posit media reactorfunctionsmulti_cdspng styledisplay blockmarginleftautomarginrightautowidth idmulti_drum captionan exampl control drum simul multicontroldrumfunct object see input filemodulesreactortesttestsfunctionsmulti_control_drum_functionmulti_cdi exampl syntax list modulesreactortesttestsfunctionsmulti_control_drum_functionmulti_cdi blockfunct syntax paramet functionsmulticontroldrumfunct syntax input functionsmulticontroldrumfunct syntax children functionsmulticontroldrumfunct patternedhexmeshgener syntax descript meshpatternedhexmeshgener overview patternedhexmeshgener object gener mesh stitch hexagon mesh gener polygonconcentriccirclemeshgeneratorpolygonconcentriccirclemeshgeneratormd hexagonconcentriccircleadaptiveboundarymeshgeneratorhexagonconcentriccircleadaptiveboundarymeshgeneratormd base userdefin hexagon grid pattern gener mesh option contain extra background region andor extern duct region form hexagon extern shape rather jag boundari edg geometri inform order gener hexagon pattern mesh three fundament paramet need parammeshpatternedhexmeshgeneratorinput vector mesh gener name use element form pattern mesh parammeshpatternedhexmeshgeneratorpattern twodimension vector repres pattern mesh gener element must integ n n length vector paramet parammeshpatternedhexmeshgeneratorinput parammeshpatternedhexmeshgeneratorpattern_boundari mooseenum paramet either hexagon none none select object stitch parammeshpatternedhexmeshgeneratorinput mesh pattern mesh without extran geometri result outer boundari zigzag edg hexagon select background region ad gener mesh hexagon shape instead zigzag one concentr duct region may also option ad hexagon peripheri paramet hexagon user refer figur pattern_hex detail media reactormeshgeneratorspattern_hexpng styledisplay blockmarginleftautomarginrightautowidth idpattern_hex captiona schemat show differ none hexagon pattern_boundari parammeshpatternedhexmeshgeneratorpattern_boundari set hexagon user also provid parammeshpatternedhexmeshgeneratorduct_s either apothem radiu style add extern duct region gener hexagon mesh also parammeshpatternedhexmeshgeneratorhexagon_s must also provid defin extern hexagon boundari size either apothem radiu hexagon determin parammeshpatternedhexmeshgeneratorhexagon_size_styl case parammeshpatternedhexmeshgeneratorhexagon_s small enough hexagon extern boundari may cut stitch hexagon mesh long concentr circular ring region cut rest mesh deform accommod limit extern boundari control drum relat meshmetadata one applic object gener mesh prismat reactor core case set parammeshpatternedhexmeshgeneratorgenerate_core_metadata true control drum mesh also use part parammeshpatternedhexmeshgeneratorinput construct core mesh facilit use control drum rotat simul object seri meshmetadata gener includ control_drum_posit vector control drum center posit meshmetadata also output ascii file set parammeshpatternedhexmeshgeneratorgenerate_control_drum_positions_fil true provid parammeshpatternedhexmeshgeneratorposition_fil control_drum_angl vector azimuth angl control drum center posit center core control_drums_azimuthal_meta twodimension vector contain sort azimuth angl node correspond control drum center control drum addit parammeshpatternedhexmeshgeneratorassign_control_drum_id set true control drum parammeshpatternedhexmeshgeneratorinput mesh index use element extra integ call control_drum_id illustr figur cd_id control_drum_id index base azimuth angl control drum media reactorfunctionsazi_cd_idpng styledisplay blockmarginleftautomarginrightautowidth idcd_id captiona schemat draw index rule control_drum_id patternedhexmeshgener object meshmetadata well control_drum_id use moos object multicontroldrumfunctionmulticontroldrumfunctionmd simul control drum rotat power transient exampl syntax list modulesreactortesttestsmeshgeneratorspatterned_hex_mesh_generatorpatterned_patterni blockmeshpattern_ syntax paramet meshpatternedhexmeshgener syntax input meshpatternedhexmeshgener syntax children meshpatternedhexmeshgener peripheraltrianglemeshgener syntax descript meshperipheraltrianglemeshgener overview peripheraltrianglemeshgener creat connect function polytrihttpsgithubcomjhassepolytri triangul librari moos mesh gener system sinc motiv effort mesh region reactor fuel core core peripheri typic cylind design creat circular triangul outer boundari use outer boundari exist meshgener defin boundari singl hole region triangul librari exclud outer circl properti specifi parammeshperipheraltrianglemeshgeneratorouter_circle_radiu parammeshperipheraltrianglemeshgeneratorouter_circle_num_seg input paramet option addit circl radiusseg definit core region outer boundari provid librari use steiner point help improv qualiti triangl produc specifi similar primari outer boundari vector radii segment count parammeshperipheraltrianglemeshgeneratorextra_circle_radii parammeshperipheraltrianglemeshgeneratorextra_circle_num_seg input paramet figur triangle_simpl show exampl triangul around exist core mesh media mediameshgeneratorstriangle_abtrpng styledisplay blockmarginleftautomarginrightautowidth idtriangle_simpl captionan exampl triangul gener peripheraltrianglemeshgener object around exist core mesh triangul librari default use point given outer boundari polylin hole boundari polylin perform triangul result lower qualiti triangl lead difficulti use triangul fem calcul librari thu also allow input number steiner point extra triangul point use help improv qualiti triangul figur triangle_stein show exampl triangul ring steiner point ad improv triangl qualiti media mediameshgeneratorstriangle_abtr_steinerpng styledisplay blockmarginleftautomarginrightautowidth idtriangle_stein captionan exampl triangul gener peripheraltrianglemeshgener object use option steiner point ring improv triangl qualiti exampl syntax list modulesreactortesttestsmeshgeneratorsperipheral_triangle_mesh_generatorabtr_trii blockmeshtmg syntax paramet meshperipheraltrianglemeshgener syntax input meshperipheraltrianglemeshgener syntax children meshperipheraltrianglemeshgener extraelementidcopygener syntax descript meshextraelementidcopygener overview extraelementidcopygener use copi extra element id extra element id target extra element id exist input mesh ad mesh gener copi extra element id name subdomain_id reserv subdomain id use name sourc extra element id target extra element id syntax paramet meshextraelementidcopygener syntax input meshextraelementidcopygener syntax children meshextraelementidcopygener peripheralringmeshgener syntax descript meshperipheralringmeshgener overview peripheralringmeshgener object add peripher region use firstord quadrilater element ie quad circular extern boundari input mesh common use mesh gener mesh circular peripher region reactor core mesh gener use recurs mesh add mani ring peripher region desir inform use mesh gener requir input mesh defin parammeshperipheralringmeshgeneratorinput nameid extern boundari defin parammeshperipheralringmeshgeneratorinput_mesh_external_boundari peripheralringmeshgener examin extern boundari input mesh confirm whether algorithm function properli given extern boundari trivial extern boundari input mesh must singleseg close loop object calcul azimuth angl node extern boundari input mesh node input mesh extern boundari use start point line segment whose end point node lie circl defin parammeshperipheralringmeshgeneratorperipheral_ring_radiu segment therefor align along azimuth angl start point intermedi node may also ad parammeshperipheralringmeshgeneratorperipheral_layer_num greater uniti current algorithm work azimuth angl boundari node chang monoton extern boundari travers ad peripher block must assign id given parammeshperipheralringmeshgeneratorperipheral_ring_block_id along option name given parammeshperipheralringmeshgeneratorperipheral_ring_block_nam new extern boundari mesh also assign id name parammeshperipheralringmeshgeneratorexternal_boundary_id parammeshperipheralringmeshgeneratorexternal_boundary_nam respect option user preserv volum peripher ring region set parammeshperipheralringmeshgeneratorpreserve_volum true enabl correct polygon effect media reactormeshgeneratorscore_ringpng styledisplay blockmarginleftautomarginrightautowidth idpattern_hex captionth peripher block teal creat mesh gener use input shown exampl syntax section exampl syntax list modulesreactortesttestsmeshgeneratorsperipheral_ring_mesh_generatorcore_ringi blockmeshpr syntax paramet meshperipheralringmeshgener syntax input meshperipheralringmeshgener syntax children meshperipheralringmeshgener hexagonconcentriccircleadaptiveboundarymeshgener syntax descript meshhexagonconcentriccircleadaptiveboundarymeshgener overview hexagonconcentriccircleadaptiveboundarymeshgener object gener mesh concentr circl hexagon enclosur without extern duct similar polygonconcentriccirclemeshgeneratorpolygonconcentriccirclemeshgeneratormd major paramet function object describ document polygonconcentriccirclemeshgeneratorpolygonconcentriccirclemeshgeneratormd major uniqu featur object parammeshhexagonconcentriccircleadaptiveboundarymeshgeneratornum_sectors_per_sid paramet overridden enabl stitch anoth hexagon mesh provid via parammeshhexagonconcentriccircleadaptiveboundarymeshgeneratorinput object object therefor creat hexagon mesh directli stitch hexagon mesh gener polygonconcentriccirclemeshgeneratorpolygonconcentriccirclemeshgeneratormd patternedhexmeshgeneratorpatternedhexmeshgeneratormd object work hexagon instead gener polygon inform order adapt extern boundari match input mesh typic gener patternedhexmeshgeneratorpatternedhexmeshgeneratormd two extra input paramet must provid parammeshhexagonconcentriccircleadaptiveboundarymeshgeneratorsides_to_adapt vector paramet includ six element list refer hexagon side number adapt mesh entri must nonrep integ see figur schemat hexagon side index counterclockwis start upperright side parammeshhexagonconcentriccircleadaptiveboundarymeshgeneratorinput vector paramet includ number element parammeshhexagonconcentriccircleadaptiveboundarymeshgeneratorsides_to_adapt element input hexagon mesh whose boundari node queri use adapt mesh side hexagon mesh creat input hexagon mesh gener patternedhexmeshgeneratorpatternedhexmeshgeneratormd polygonconcentriccirclemeshgeneratorpolygonconcentriccirclemeshgeneratormd multipl mesh may input one correspond side index valu specifi parammeshhexagonconcentriccircleadaptiveboundarymeshgeneratorsides_to_adapt input mesh may repeat multipl time media reactormeshgeneratorspolygonpng styledisplay blockmarginleftautomarginrightautowidth idschemat captiona schemat draw show hexagon side indic hexagonconcentriccircleadaptiveboundarymeshgener object parammeshhexagonconcentriccircleadaptiveboundarymeshgeneratorhexagon_s provid must consist parammeshhexagonconcentriccircleadaptiveboundarymeshgeneratorhexagon_s valu parammeshhexagonconcentriccircleadaptiveboundarymeshgeneratorinput gener one major applic object gener mesh control drum case parammeshhexagonconcentriccircleadaptiveboundarymeshgeneratoris_control_drum set true correspond meshmetadata gener futur use control drum relat object exampl syntax list modulesreactortesttestsmeshgeneratorshexagon_concentric_circle_adaptive_boundary_generatorhex_di blockmesh simpl hexagon mesh store exodu file use input hexagonconcentriccircleadaptiveboundarymeshgener side gener mesh set adapt input mesh ie side input mesh shown figur hex_adapt note side gener mesh match input mesh side media reactormeshgeneratorshex_adaptpng styledisplay blockmarginleftautomarginrightautowidth idhex_adapt captiona schemat draw show input gener mesh exampl case syntax paramet meshhexagonconcentriccircleadaptiveboundarymeshgener syntax input meshhexagonconcentriccircleadaptiveboundarymeshgener syntax children meshhexagonconcentriccircleadaptiveboundarymeshgener azimuthalblocksplitgener syntax descript meshazimuthalblocksplitgener overview azimuthalblocksplitgener object use modifi mesh gener either polygonconcentriccirclemeshgeneratorpolygonconcentriccirclemeshgeneratormd hexagonconcentriccircleadaptiveboundarymeshgeneratorhexagonconcentriccircleadaptiveboundarymeshgeneratormd object divid select radial block origin mesh two azimuth section move node exact azimuth posit multipl radial block defin parammeshazimuthalblocksplitgeneratorold_block modifi simultan azimuth rang new block defin parammeshazimuthalblocksplitgeneratorstart_angl parammeshazimuthalblocksplitgeneratorangle_rang degre algorithm find node azimuth angl closest given azimuth rang move exact azimuth posit extern block ie block contain extern boundari mesh select modifi node extern boundari alter object facilit mesh stitch hand extern block select node extern boundari move well see figur schemat detail media reactormeshgeneratorsaziblockpng styledisplay blockmarginleftautomarginrightautowidth idschemat captiona schemat draw show function azimuthalblocksplitgener object move node azimuth direct chang volum circular block volum preserv radiu correct made parammeshazimuthalblocksplitgeneratorpreserve_volum set true exampl syntax list modulesreactortesttestsmeshgeneratorsazimuthal_block_split_generatorazi_block_id_modi blockmeshcd_azi_defin syntax paramet meshazimuthalblocksplitgener syntax input meshazimuthalblocksplitgener syntax children meshazimuthalblocksplitgener hexidpatternedmeshgener syntax descript meshhexidpatternedmeshgener overview hexidpatternedmeshgener object gener hexagon lattic mesh report id assign object inherit function lattic mesh gener name patternedhexmeshgeneratorpatternedhexmeshgeneratormd stitch togeth hexagon cell add addit function assign report id lattic cell object use success output mesh add id pin assembl level exampl report id inform hexidpatternedmeshgener object adopt exist input structur patternedhexmeshgeneratorpatternedhexmeshgeneratormd geometri build use addit keyword control report id assign user select id assign scheme use parammeshhexidpatternedmeshgeneratorassign_typ follow scheme current avail cell default assign uniqu id compon lattic sequenti order pattern assign id base id input tile manual assign id base userdefin map defin parammeshhexidpatternedmeshgeneratorid_pattern default number scheme start upper left hand corner hexagon grid includ duct region increment grid travers left right top bottom presenc duct region separ report id automat gener element duct region duct region assign report id start next integ higher highest one use insid duct name report id variabl provid parammeshhexidpatternedmeshgeneratorid_nam depend hierarch level compon id valu store extra element integ mesh exampl report id individu pin pin_id assign assembl built id pin level uniqu determin pin arrang within assembl type similarli assembl report id assembly_id assign core construct process certain region exclud label id exampl dummi region later delet accommod list mesh object parammeshhexidpatternedmeshgeneratorexclude_id input paramet id assign mesh object usag paramet help retain sequenti number dummi region later delet label area interest exampl syntax exampl hexidpatternedmeshgener use gener hexagon assembl pin reprot id pin_id list modulesreactortesttestsmeshgeneratorsreporting_idhexagonal_idassembly_reporting_idi blockmeshassembl syntax paramet meshhexidpatternedmeshgener syntax input meshhexidpatternedmeshgener syntax children meshhexidpatternedmeshgener coarsemeshextraelementidgener syntax descript meshcoarsemeshextraelementidgener overview mesh gener add extra element integ input mesh base coars mesh extra element integ element input mesh assign element id coars element contain centroid fine element default user use parammeshcoarsemeshextraelementidgeneratorcoarse_mesh_extra_element_id paramet use extra element id coars mesh assign instead default coars element id reserv name subdomain_id use parammeshcoarsemeshextraelementidgeneratorcoarse_mesh_extra_element_id use subdomain id coars mesh user option check fine mesh embed coars mesh use parammeshcoarsemeshextraelementidgeneratorenforce_mesh_embed paramet ie everi element fine mesh must contain within one one coars element region parammeshcoarsemeshextraelementidgeneratorcoarse_mesh_extra_element_id coars mesh syntax paramet meshcoarsemeshextraelementidgener syntax input meshcoarsemeshextraelementidgener syntax children meshcoarsemeshextraelementidgener polygonconcentriccirclemeshgener syntax descript meshpolygonconcentriccirclemeshgener overview media reactormeshgeneratorspolyccpng styledisplay blockmarginleftautomarginrightautowidth idsampl captiona typic mesh gener polygonconcentriccirclemeshgener object polygonconcentriccirclemeshgener object gener mesh concentr circl regular polygon enclosur without extern duct typic mesh gener object shown figur sampl polygon side eg triangl squar pentagon hexagon mesh use object central concentr circular region term ring well peripher polygon region term duct option see figur schemat region exclud ring duct term background region geometri inform fundament geometri paramet need object parammeshpolygonconcentriccirclemeshgeneratornum_sid number side polygon enclosur parammeshpolygonconcentriccirclemeshgeneratorpolygon_size_styl style paramet parammeshpolygonconcentriccirclemeshgeneratorpolygon_s given paramet either apothem center side distanc radiu center vertex distanc parammeshpolygonconcentriccirclemeshgeneratorpolygon_s size polygon enclosur term either apothem radiu select anoth paramet parammeshpolygonconcentriccirclemeshgeneratorpolygon_size_styl media reactormeshgeneratorspolygonpng styledisplay blockmarginleftautomarginrightautowidth idschemat captiona schemat draw show differ region gener polygonconcentriccirclemeshgener object concentr circl region need parammeshpolygonconcentriccirclemeshgeneratorring_radii must provid defin outer radiu ring duct region need parammeshpolygonconcentriccirclemeshgeneratorduct_s must provid defin inner boundari duct similar parammeshpolygonconcentriccirclemeshgeneratorpolygon_s parammeshpolygonconcentriccirclemeshgeneratorduct_s either apothem radii correspond duct decid parammeshpolygonconcentriccirclemeshgeneratorduct_sizes_styl mesh inform paramet need mesh categor azimuth radial inform determin mesh densiti azimuth mesh discret control parammeshpolygonconcentriccirclemeshgeneratornum_sectors_per_sid vector length parammeshpolygonconcentriccirclemeshgeneratornum_sid element parammeshpolygonconcentriccirclemeshgeneratornum_sectors_per_sid must even integ number azimuth interv correspond side side index counterclockwis upperright polygon side first side shown figur schemat radial mesh discret control separ paramet ring background duct region parammeshpolygonconcentriccirclemeshgeneratorring_interv parammeshpolygonconcentriccirclemeshgeneratorbackground_interv parammeshpolygonconcentriccirclemeshgeneratorduct_interv respect meshmeshdata gener parammeshpolygonconcentriccirclemeshgeneratornum_sid set hexagon mesh produc polygonconcentriccirclemeshgener use patternedhexmeshgeneratorpatternedhexmeshgeneratormd creat pattern mesh function reli seri meshmetadata gener polygonconcentriccirclemeshgener includ pitch_meta type real provid sidetosid distanc hexagon gener pattern_pitch_meta type real similar pitch_meta use mesh produc stitch assembl hexagon mesh gener patternedhexmeshgener background_intervals_meta type unsign int make valu input paramet parammeshpolygonconcentriccirclemeshgeneratorbackground_interv avail mesh gener node_id_background_meta type dof_id_typ record maximum node id background node provid refer node modif max_radius_meta type real provid maximum radiu ring region patternedhexmeshgener compromis circular geometri num_sectors_per_side_meta type stdvectorunsign int make valu input paramet parammeshpolygonconcentriccirclemeshgeneratornum_sectors_per_sid avail mesh gener azimuthal_angle_meta type stdvectorr contain sort azimuth angl node extern boundari inform default mesh gener object contain mixtur quad tri element specif central region mesh consist triangular element wherea rest mesh consist quadrilater element user also option gener pure quad mesh set quad_center_el true see figur tri_and_quad media reactormeshgeneratorstri_quadpng styledisplay blockmarginleftautomarginrightautowidth idtri_and_quad captiona schemat draw show differ mesh algorithm parammeshpolygonconcentriccirclemeshgeneratorquad_center_el set fals true ring region present radii ring autoadjust preserv mesh annular area volum true area volum set parammeshpolygonconcentriccirclemeshgeneratorpreserve_volum true default azimuth angl use discret mesh uniformli space _angle_ sector polygon howev uniform space angl lead nonuniform mesh interv polygon extern side unless exactli sector per side use howev uniformli space mesh polygon extern boundari may facilit mesh stitch user may forc uniform mesh polygon extern boundari set parammeshpolygonconcentriccirclemeshgeneratoruniform_mesh_on_sid true default block id number start center region increment mesh region radial outward user may instead set specif block id name valu ring background duct region use parammeshpolygonconcentriccirclemeshgeneratorring_block_id parammeshpolygonconcentriccirclemeshgeneratorbackground_block_id parammeshpolygonconcentriccirclemeshgeneratorduct_block_id parammeshpolygonconcentriccirclemeshgeneratorring_block_nam parammeshpolygonconcentriccirclemeshgeneratorbackground_block_nam parammeshpolygonconcentriccirclemeshgeneratorduct_block_nam user awar two case central geometr region defin two block instead one ring present parammeshpolygonconcentriccirclemeshgeneratorbackground_interv ring present first entri parammeshpolygonconcentriccirclemeshgeneratorring_radii case central geometr region contain block default addit usag block id name array requir extra entri first geometr region extra block definit need accommod flexibl defin central region either quadrilater triangular element still stitch properli neighbor region extern boundari default boundari id user may instead set specif boundari id andor name valu use external_boundary_id external_boundary_nam exampl syntax list modulesreactortesttestsmeshgeneratorspatterned_hex_mesh_generatorpatterned_patterni blockmeshhex_ syntax paramet meshpolygonconcentriccirclemeshgener syntax input meshpolygonconcentriccirclemeshgener syntax children meshpolygonconcentriccirclemeshgener cartesianidpatternedmeshgener syntax descript meshcartesianidpatternedmeshgener overview cartesianidpatternedmeshgener object gener cartesian lattic mesh report id assign object inherit function lattic mesh gener name patternedmeshgeneratorpatternedmeshgeneratormd stitch togeth cartesian cell add addit function assign report id lattic cell object use success output mesh add id pin assembl level exampl report id inform cartesianidpatternedmeshgener object adopt exist input structur patternedmeshgeneratorpatternedmeshgeneratormd geometri build use addit keyword control report id assign user select id assign scheme use parammeshcartesianidpatternedmeshgeneratorassign_typ follow scheme current avail cell default assign uniqu id compon lattic sequenti order pattern assign id base id input tile manual assign id base userdefin map defin parammeshcartesianidpatternedmeshgeneratorid_pattern default number scheme start upper left hand corner grid increment grid travers left right top bottom name report id provid parammeshcartesianidpatternedmeshgeneratorid_nam depend hierarch level compon exampl report id individu pin pin_id assign assembl built id pin level uniqu determin pin arrang within assembl type id valu store extra element integ mesh similarli assembl report id assembly_id assign core construct process certain region exclud label id exampl dummi region later delet accommod list mesh object parammeshcartesianidpatternedmeshgeneratorexclude_id input paramet id assign mesh object usag paramet help retain sequenti number dummi region later delet label area interest exampl syntax exampl cartesianidpatternedmeshgener use gener cartesian assembl pin reprot id pin_id list modulesreactortesttestsmeshgeneratorsreporting_idcartesian_idassembly_reporting_idi blockmeshassembl syntax paramet meshcartesianidpatternedmeshgener syntax input meshcartesianidpatternedmeshgener syntax children meshcartesianidpatternedmeshgener subdomainextraelementidgener syntax descript meshsubdomainextraelementidgener overview subdomainextraelementidgener assign extra element id base mesh subdomain id input mesh extra element id exist input mesh mesh gener add parammeshsubdomainextraelementidgeneratorsubdomain paramet accept subdomain name subdomain id parammeshsubdomainextraelementidgeneratorextra_element_id paramet twodimension vector separ semicolon white space normal moos input syntax twodimension vector first dimensition must equal size parammeshsubdomainextraelementidgeneratorextra_element_id_nam paramet size subvector must equal size parammeshsubdomainextraelementidgeneratorsubdomain paramet list subdomain_elem_ids_testi blockmesh idlistreactor_subdomain_extra_id_mesh captiona sampl input extra_element_id paramet sampl input four subdomain list parammeshsubdomainextraelementidgeneratorsubdomain paramet three extra element id name parammeshsubdomainextraelementidgeneratorextra_element_id_nam paramet thu two semicolon parammeshsubdomainextraelementidgeneratorextra_element_id separ number three group three id name accordingli group four number correspond four subdomain default element id provid parammeshsubdomainextraelementidgeneratordefault_extra_element_id element subdomain specifi parammeshsubdomainextraelementidgeneratorsubdomain paramet parammeshsubdomainextraelementidgeneratordefault_extra_element_id activ parammeshsubdomainextraelementidgeneratorsubdomain paramet includ mesh subdomain alert note parammeshsubdomainextraelementidgeneratordefault_extra_element_id set parammeshsubdomainextraelementidgeneratorsubdomain contain mesh subdomain extra element id alreadi exist mesh extra id element miss subdomain chang extra element id newli ad mesh gener invalid id set element miss subdomain syntax paramet meshsubdomainextraelementidgener syntax input meshsubdomainextraelementidgener syntax children meshsubdomainextraelementidgener simplehexagongener syntax descript meshsimplehexagongener overview simpl version polygonconcentriccirclemeshgeneratorpolygonconcentriccirclemeshgeneratormd default parammeshsimplehexagongeneratorelement_typ tri mesh gener creat hexagon mesh num_sectors_per_sid see figur simple_hex mesh also one singl layer background region name hexagon mesh gener simplehexagongener contain six triangular element option user also gener even simpler hexagon mesh contain two quadrilater element set parammeshsimplehexagongeneratorelement_typ quad see figur simple_hex_quad addit mesh gener also creat meshmetadata polygonconcentriccirclemeshgener produc mesh use patternedhexmeshgeneratorpatternedhexmeshgeneratormd input media reactormeshgeneratorssimple_hexpng styledisplay blockmarginleftautomarginrightautowidth idsimple_hex captiona schemat draw show typic simpl hexagon mesh gener simplehexagongener object parammeshsimplehexagongeneratorelement_typ tri media reactormeshgeneratorssimple_hex_quadpng styledisplay blockmarginleftautomarginrightautowidth idsimple_hex_quad captiona schemat draw show typic simpl hexagon mesh gener simplehexagongener object parammeshsimplehexagongeneratorelement_typ quad exampl syntax list modulesreactortesttestsmeshgeneratorssimple_hexagon_generatorsim_hexi blockmeshshg syntax paramet meshsimplehexagongener syntax input meshsimplehexagongener syntax children meshsimplehexagongener reactor modul overview reactor modul aim add advanc mesh capabl moos user creat complexgeometri mesh relat reactor without turn extern mesh softwar modul consist seri new mesh gener enabl mesh hexagonalgeometri reactor core function mesh gener cover creat unit hexagon mesh basic compon core polygon mesh also creat stitch unit hexagon mesh ad appropri peripher region form hexagon assembl region creat unit hexagon mesh adapt extern boundari stitchabl assembl mesh stitch assembl mesh adaptiveboundari unit hexagon mesh form core mesh modifi unit hexagon mesh creat azimuth section block enabl static simul rotat control drum ad report id extra element integ mesh element identifi pin assembl region ad peripher region given input mesh produc mesh circular extern boundari asid mesh gener reactor modul also includ function object enabl dynam simul rotat control drum reactor core mesh object syntax syntax complet groupsreactorapp level templat load filesqaapp_vvrmdtempl categoryreactor appreactor templat load filesqaapp_stpmdtempl categoryreactor appreactor templat load filesqaapp_indexmdtempl categoryreactor appreactorapp templat load filesqaapp_srsmdtempl categoryreactor appreactor templat load filesqaapp_rtmmdtempl categoryreactor appreactor templat load filesqaapp_sddmdtempl categoryreactor appreactor modulesnavier_stokesindexmd compress navierstok system overview replac line inform regard navierstok system exampl input file syntax describ includ exampl use navierstok system syntax list modulescompressiblenavierstok objectstru actionsfals subsystemsfals syntax list modulescompressiblenavierstok objectsfals actionsfals subsystemstru syntax list modulescompressiblenavierstok objectsfals actionstru subsystemsfals incompressiblenavierstok system overview replac line inform regard incompressiblenavierstok system alert note finit volum implement incompress navier stoke equat see insfvnavier_stokesinsfvmd exampl input file syntax describ includ exampl use incompressiblenavierstok system syntax list modulesincompressiblenavierstok objectstru actionsfals subsystemsfals syntax list modulesincompressiblenavierstok objectsfals actionsfals subsystemstru syntax list modulesincompressiblenavierstok objectsfals actionstru subsystemsfals cnsfvhllcfluidenergyimplicitbc syntax descript fvbcscnsfvhllcfluidenergyimplicitbc overview object implement implicit boundari condit fluid energi equat use hartenlaxvan leercontact hllc formul implicit mean boundari condit use externalexplicit boundari condit inform eg extern input boundari condit block like dirichlet neumann valu instead boundari condit form boundari flux base inform domain interior eg inform neighbor interior cell centroid cell center valu gradient descript hllc flux comput pleas see cnsfvhllcbasemd syntax paramet fvbcscnsfvhllcfluidenergyimplicitbc syntax input fvbcscnsfvhllcfluidenergyimplicitbc syntax children fvbcscnsfvhllcfluidenergyimplicitbc cnsfvhllcstagnationinletbc base object appli stagnat boundari condit mass momentum energi equat stagnation_temperatur stagnation_pressur requir paramet object deriv class cnsfvhllcstagnationinletbc comput sever boundari quantiti suppli stagnat temperatur pressur boundari temperatur comput assumpt laid herehttpsenwikipediaorgwikistagnation_temperatur via relat beginequ t_b t_ fracvc_p endequ t_b boundari temperatur t_ stagnat temperatur v veloc c_p specif heat capac cnsfvhllcstagnationinletbc v drawn cell centroid border boundari eg implicit t_b comput static pressur boundari comput use isentrop relat beginequ p_b p_ leftfract_t_brightfracgammagamma endequ p_ stagnat pressur gamma ratio specif heat eg c_pc_v arm boundari pressur temperatur cnsfvhllcstagnationinletbc also comput boundari valu specif intern energi e densiti rho specif total enthalpi h_t use flux express deriv masscnsfvhllcmassstagnationinletbcmd momentumcnsfvhllcmomentumstagnationinletbcmd energycnsfvhllcfluidenergystagnationinletbcmd class insfvsymmetryvelocitybc object implement symmetri boundari condit veloc appli boundari forc gradient veloc parallel boundari zero boundari normal direct insfvsymmetryvelocitybc appli everi veloc compon symmetri boundari similarli insfvsymmetrypressurebcinsfvsymmetrypressurebcmd appli pressur symmetri boundari syntax paramet fvbcsinsfvsymmetryvelocitybc syntax input fvbcsinsfvsymmetryvelocitybc syntax children fvbcsinsfvsymmetryvelocitybc insfvsymmetrypressurebc though appli pressur object ensur veloc perpendicular symmetri boundari zero set mass flow rate across symmetri boundari zero addit insfvsymmetrypressurebc insfvsymmetryvelocitybcinsfvsymmetryvelocitybcmd appli everi veloc compon symmetri boundari syntax paramet fvbcsinsfvsymmetrypressurebc syntax input fvbcsinsfvsymmetrypressurebc syntax children fvbcsinsfvsymmetrypressurebc pcnsfvhllcmassbc pcnsfvhllcmassbc templat class implement mass flux boundari condit porou hartenlaxvan leercontact hllc given either specifi boundari momentum temperatur function boundari pressur function note function correspond static boundari quantiti oppos stagnat quantiti detail differ templat instanti given pcnsfvhllcspecifiedmassfluxandtemperaturemassbc syntax paramet fvbcspcnsfvhllcspecifiedmassfluxandtemperaturemassbc syntax input fvbcspcnsfvhllcspecifiedmassfluxandtemperaturemassbc syntax children fvbcspcnsfvhllcspecifiedmassfluxandtemperaturemassbc pcnsfvhllcspecifiedpressuremassbc syntax paramet fvbcspcnsfvhllcspecifiedpressuremassbc syntax input fvbcspcnsfvhllcspecifiedpressuremassbc syntax children fvbcspcnsfvhllcspecifiedpressuremassbc wcnsfvmomentumfluxbc syntax descript fvbcswcnsfvmomentumfluxbc momentum flux equat phi rho v dfracdotmrho phi momentum flux rho densiti v fluid veloc assum normal surfac dotm mass flow rate inlet area two option specifi momentum flux specifi mass flow rate postprocessor divid area inlet may also postprocessor specifi inlet veloc postprocessor densiti functor functor usual functor materi properti defin generalfunctorfluidpropsmd scale factor may use inlet align x direct case project necessari boundari condit use compon momentum equat boundari condit work postprocessor may replac constant valu input intend use case boundari condit receiv valu coupl applic use receivermd postprocessor exampl input syntax exampl input inlet boundari condit momentum conserv equat specifi use wcnsfvmomentumfluxbc momentum flux specifi use mass flow rate inlet area list modulesnavier_stokestesttestsfinite_volumewcnsboundary_conditionsflux_bcs_mdoti blockfvbc syntax paramet fvbcswcnsfvmomentumfluxbc syntax input fvbcswcnsfvmomentumfluxbc syntax children fvbcswcnsfvmomentumfluxbc pinsfvmomentumadvectionoutflowbc syntax descript fvbcspinsfvmomentumadvectionoutflowbc overview object implement rho dfracepsilon leftvec u_d cdotnablarightvec u_d compon term incompress porou media navier stoke momentum equat along domain boundari u_d interstiti darci veloc simultan requir normal gradient superfici veloc compon boundari zero syntax paramet fvbcspinsfvmomentumadvectionoutflowbc syntax input fvbcspinsfvmomentumadvectionoutflowbc syntax children fvbcspinsfvmomentumadvectionoutflowbc wcnsfvinlettemperaturebc syntax descript fvbcswcnsfvinlettemperaturebc three option specifi inlet temperatur system specifi temperatur postprocessor specifi energi flow rate postprocessor mass flow rate postprocessor specif heat capac functor functor usual functor materi properti defin generalfunctorfluidpropsmd scale factor use account project inlet flow surfac align specifi energi flow rate postprocessor mass flow rate postprocessor specif heat capac densiti functor functor usual functor materi properti defin generalfunctorfluidpropsmd scale factor use account project inlet flow surfac align boundari condit work postprocessor may replac constant valu input intend use case boundari condit receiv valu coupl applic use receivermd postprocessor alert note specifi inlet temperatur use wcnsfvinlettemperaturebc preserv energi flow boundari case part discret error specifi incom energi flux use wcnsfvenergyfluxbcmd current conserv approach exampl input syntax exampl input inlet boundari condit energi conserv equat specifi use two wcnsfvinlettemperaturebc inlet temperatur specifi use energi mass flow rate postprocessor list modulesnavier_stokestesttestsfinite_volumewcnsboundary_conditionsdirichlet_bcs_mdoti blockfvbc syntax paramet fvbcswcnsfvinlettemperaturebc syntax input fvbcswcnsfvinlettemperaturebc syntax children fvbcswcnsfvinlettemperaturebc insfvoutletpressurebc object simpli wrap fvfunctiondirichletbcfvfunctiondirichletbcmd requir paramet function describ pressur along outlet boundari variabl paramet correspond pressur variabl insfvoutletpressurebc also inherit insfvfullydevelopedbc allow modif coeffici use comput rhiechow interpol insfvmomentumadvectioninsfvmomentumadvectionmd appli insfvoutletpressurebc pressur fvbc given veloc boundari way zero viscou flux implicitli appli veloc boundari syntax paramet fvbcsinsfvoutletpressurebc syntax input fvbcsinsfvoutletpressurebc syntax children fvbcsinsfvoutletpressurebc pcnsfvimplicitmomentumpressurebc syntax descript fvbcspcnsfvimplicitmomentumpressurebc overview object add boundari pressur flux base cell interior implicit inform porou analog cnsfvmomimplicitpressurebcmd syntax paramet fvbcspcnsfvimplicitmomentumpressurebc syntax input fvbcspcnsfvimplicitmomentumpressurebc syntax children fvbcspcnsfvimplicitmomentumpressurebc cnsfvhllcmassbc cnsfvhllcmassbc templat class implement mass flux boundari condit hartenlaxvan leercontact hllc given either specifi boundari momentum temperatur function boundari pressur function note function correspond static boundari quantiti oppos stagnat quantiti detail differ templat instanti given cnsfvhllcspecifiedmassfluxandtemperaturemassbc syntax paramet fvbcscnsfvhllcspecifiedmassfluxandtemperaturemassbc syntax input fvbcscnsfvhllcspecifiedmassfluxandtemperaturemassbc syntax children fvbcscnsfvhllcspecifiedmassfluxandtemperaturemassbc cnsfvhllcspecifiedpressuremassbc syntax paramet fvbcscnsfvhllcspecifiedpressuremassbc syntax input fvbcscnsfvhllcspecifiedpressuremassbc syntax children fvbcscnsfvhllcspecifiedpressuremassbc cnsfvhllcmomentumstagnationinletbc syntax descript fvbcscnsfvhllcmomentumstagnationinletbc overview object implement conserv momentum portion stagnat boundari condit base stagnat pressur stagnat temperatur pleas see cnsfvhllcstagnationinletbcmd equat theori behind comput boundari condit base stagnat temperatur pressur syntax paramet fvbcscnsfvhllcmomentumstagnationinletbc syntax input fvbcscnsfvhllcmomentumstagnationinletbc syntax children fvbcscnsfvhllcmomentumstagnationinletbc insfvnaturalfreeslipbc object implement free slip boundari condit appli veloc compon bc oper simpli set total momentum boundari flux eg sum advect viscou flux zero syntax paramet fvbcsinsfvnaturalfreeslipbc syntax input fvbcsinsfvnaturalfreeslipbc syntax children fvbcsinsfvnaturalfreeslipbc wcnsfvscalarfluxbc syntax descript fvbcswcnsfvscalarfluxbc flux scalar quantiti c equat phi v c dfracdotm crho phi scalar quantiti flux rho densiti v fluid veloc c inlet valu scalar quantiti dotm mass flow rate inlet area three option specifi scalar flux specifi surfac integr scalar quantiti flow rate directli divid area inlet obtain local flux specifi inlet veloc postprocessor inlet valu scalar quantiti specifi inlet valu scalar quantiti postprocessor mass flow rate densiti functor inlet surfac area last three quantiti use comput inlet veloc boundari condit work postprocessor may replac constant valu input intend use case boundari condit receiv valu coupl applic use receivermd postprocessor exampl input syntax exampl input inlet boundari condit scalar quantiti conserv equat specifi use wcnsfvscalarfluxbc scalar quantiti flux specifi use mass flow rate inlet area list modulesnavier_stokestesttestsfinite_volumewcnsboundary_conditionsflux_bcs_mdoti blockfvbc syntax paramet fvbcswcnsfvscalarfluxbc syntax input fvbcswcnsfvscalarfluxbc syntax children fvbcswcnsfvscalarfluxbc cnsfvhllcmassimplicitbc syntax descript fvbcscnsfvhllcmassimplicitbc overview object implement implicit boundari condit mass context hllc formul implicit mean boundari flux form entir intern domain inform syntax paramet fvbcscnsfvhllcmassimplicitbc syntax input fvbcscnsfvhllcmassimplicitbc syntax children fvbcscnsfvhllcmassimplicitbc insfvmomentumadvectionoutflowbc object implement rholeftvec u cdotnablarightvec u compon term incompress navier stoke momentum equat along domain boundari simultan requir normal gradient veloc compon boundari zero syntax paramet fvbcsinsfvmomentumadvectionoutflowbc syntax input fvbcsinsfvmomentumadvectionoutflowbc syntax children fvbcsinsfvmomentumadvectionoutflowbc cnsfvhllcmassstagnationinletbc syntax descript fvbcscnsfvhllcmassstagnationinletbc overview object implement conserv mass portion stagnat boundari condit base stagnat pressur stagnat temperatur pleas see cnsfvhllcstagnationinletbcmd equat theori behind comput boundari condit base stagnat temperatur pressur syntax paramet fvbcscnsfvhllcmassstagnationinletbc syntax input fvbcscnsfvhllcmassstagnationinletbc syntax children fvbcscnsfvhllcmassstagnationinletbc wcnsfvenergyfluxbc syntax descript fvbcswcnsfvenergyfluxbc energi flux equat phi v rho c_p dfracdotea dfracdotm c_p ta phi energi flux rho densiti c_p specif heat capac v fluid veloc assum normal surfac fluid temperatur dote energi flow rate dotm mass flow rate inlet area three option specifi energi flux specifi energi flow rate postprocessor divid area inlet may also postprocessor specifi inlet veloc inlet temperatur postprocessor specif heat capac densiti functor specifi inlet mass flow rate specif heat capac n inlet temperatur postprocessor functor need usual functor materi properti defin generalfunctorfluidpropsmd boundari condit work postprocessor may replac constant valu input intend use case boundari condit receiv valu coupl applic use receivermd postprocessor exampl input syntax exampl input inlet boundari condit energi conserv equat specifi use wcnsfvenergyfluxbc energi flux specifi use mass flow rate inlet area specif heat capac temperatur list modulesnavier_stokestesttestsfinite_volumewcnsboundary_conditionsflux_bcs_mdoti blockfvbc syntax paramet fvbcswcnsfvenergyfluxbc syntax input fvbcswcnsfvenergyfluxbc syntax children fvbcswcnsfvenergyfluxbc pcnsfvhllcfluidenergybc pcnsfvhllcfluidenergybc templat class implement momentum flux boundari condit porou hartenlaxvan leercontact hllc given either specifi boundari momentum temperatur function boundari pressur function note function correspond static boundari quantiti oppos stagnat quantiti detail differ templat instanti given pcnsfvhllcspecifiedmassfluxandtemperaturefluidenergybc syntax paramet fvbcspcnsfvhllcspecifiedmassfluxandtemperaturefluidenergybc syntax input fvbcspcnsfvhllcspecifiedmassfluxandtemperaturefluidenergybc syntax children fvbcspcnsfvhllcspecifiedmassfluxandtemperaturefluidenergybc pcnsfvhllcspecifiedpressurefluidenergybc syntax paramet fvbcspcnsfvhllcspecifiedpressurefluidenergybc syntax input fvbcspcnsfvhllcspecifiedpressurefluidenergybc syntax children fvbcspcnsfvhllcspecifiedpressurefluidenergybc cnsfvhllcmomentumimplicitbc syntax descript fvbcscnsfvhllcmomentumimplicitbc overview object implement implicit boundari condit momentum context hllc formul implicit mean boundari flux form entir intern domain inform syntax paramet fvbcscnsfvhllcmomentumimplicitbc syntax input fvbcscnsfvhllcmomentumimplicitbc syntax children fvbcscnsfvhllcmomentumimplicitbc pcnsfvstrongbc syntax descript fvbcspcnsfvstrongbc overview object accept function describ boundari valu pressur fluid temperatur superfici veloc superfici veloc function also use suppli superfici momentum inform insteadi set velocity_function_includes_rho true function provid quantiti boundari valu quantiti determin extrapol neighbor boundari cell centroid use cell centroid valu gradient inform mix userprovid function extrapol boundari valu pressur fluid temperatur superfici velocitymomentum flux mass momentum energi even passiv scalar comput syntax paramet fvbcspcnsfvstrongbc syntax input fvbcspcnsfvstrongbc syntax children fvbcspcnsfvstrongbc insfvsymmetryscalarbc though appli veloc object ensur veloc perpendicular symmetri boundari zero set mass flow rate across symmetri boundari zero addit insfvsymmetryscalarbc insfvsymmetryvelocitybcinsfvsymmetryvelocitybcmd appli everi veloc compon symmetri boundari syntax paramet fvbcsinsfvsymmetryscalarbc syntax input fvbcsinsfvsymmetryscalarbc syntax children fvbcsinsfvsymmetryscalarbc cnsfvhllcmomentumbc cnsfvhllcmomentumbc templat class implement momentum flux boundari condit hartenlaxvan leercontact hllc given either specifi boundari momentum temperatur function boundari pressur function note function correspond static boundari quantiti oppos stagnat quantiti detail differ templat instanti given cnsfvhllcspecifiedmassfluxandtemperaturemomentumbc syntax paramet fvbcscnsfvhllcspecifiedmassfluxandtemperaturemomentumbc syntax input fvbcscnsfvhllcspecifiedmassfluxandtemperaturemomentumbc syntax children fvbcscnsfvhllcspecifiedmassfluxandtemperaturemomentumbc cnsfvhllcspecifiedpressuremomentumbc syntax paramet fvbcscnsfvhllcspecifiedpressuremomentumbc syntax input fvbcscnsfvhllcspecifiedpressuremomentumbc syntax children fvbcscnsfvhllcspecifiedpressuremomentumbc cnsfvhllcfluidenergybc cnsfvhllcfluidenergybc templat class implement fluid energi flux boundari condit hartenlaxvan leercontact hllc given either specifi boundari fluid energi temperatur function boundari pressur function note function correspond static boundari quantiti oppos stagnat quantiti detail differ templat instanti given cnsfvhllcspecifiedmassfluxandtemperaturefluidenergybc syntax paramet fvbcscnsfvhllcspecifiedmassfluxandtemperaturefluidenergybc syntax input fvbcscnsfvhllcspecifiedmassfluxandtemperaturefluidenergybc syntax children fvbcscnsfvhllcspecifiedmassfluxandtemperaturefluidenergybc cnsfvhllcspecifiedpressurefluidenergybc syntax paramet fvbcscnsfvhllcspecifiedpressurefluidenergybc syntax input fvbcscnsfvhllcspecifiedpressurefluidenergybc syntax children fvbcscnsfvhllcspecifiedpressurefluidenergybc cnsfvhllcmomentumspecifiedpressurebc syntax descript fvbcscnsfvhllcmomentumspecifiedpressurebc overview object inherit cnsfvhllcmomentumimplicitbcmd add specified_pressure_funct paramet evalu provid function substitut implicit pressur valu eg interior pressur valu boundari flux evalu syntax paramet fvbcscnsfvhllcmomentumspecifiedpressurebc syntax input fvbcscnsfvhllcmomentumspecifiedpressurebc syntax children fvbcscnsfvhllcmomentumspecifiedpressurebc cnsfvmomimplicitpressurebc syntax descript fvbcscnsfvmomimplicitpressurebc overview object add boundari pressur flux base cell interior implicit inform freeflow analog pcnsfvimplicitmomentumpressurebcmd although object also use poros set include_poros true input file object look materi properti name poros syntax paramet fvbcscnsfvmomimplicitpressurebc syntax input fvbcscnsfvmomimplicitpressurebc syntax children fvbcscnsfvmomimplicitpressurebc cnsfvhllcfluidenergystagnationinletbc syntax descript fvbcscnsfvhllcfluidenergystagnationinletbc overview object implement fluid energi portion stagnat boundari condit base stagnat pressur stagnat temperatur pleas see cnsfvhllcstagnationinletbcmd equat theori behind comput boundari condit base stagnat temperatur pressur syntax paramet fvbcscnsfvhllcfluidenergystagnationinletbc syntax input fvbcscnsfvhllcfluidenergystagnationinletbc syntax children fvbcscnsfvhllcfluidenergystagnationinletbc insfvwallfunctionbc object impos wall shear stress momentum equat accord standard wall function besid impos correspond shear stress ensur zero advect flux wall nonpenetr syntax paramet fvbcsinsfvwallfunctionbc syntax input fvbcsinsfvwallfunctionbc syntax children fvbcsinsfvwallfunctionbc insfvmassadvectionoutflowbc object comput residu jacobian contribut incompress version mass continu equat eg nablacdotvec u along domain boundari boundari condit use desir pressur valu extrapol boundari face user wish certain valu pressur outflow boundari use insfvoutletpressurebcinsfvoutletpressurebcmd syntax paramet fvbcsinsfvmassadvectionoutflowbc syntax input fvbcsinsfvmassadvectionoutflowbc syntax children fvbcsinsfvmassadvectionoutflowbc wcnsfvmassfluxbc syntax descript fvbcswcnsfvmassfluxbc mass flux equat phi rho v dfracdotma phi mass flux rho densiti v fluid veloc dotm mass flow rate inlet area two option specifi mass flux specifi mass flow rate postprocessor divid area inlet may also postprocessor specifi inlet veloc postprocessor densiti functor functor usual functor materi properti defin generalfunctorfluidpropsmd boundari condit work postprocessor may replac constant valu input intend use case boundari condit receiv valu coupl applic use receivermd postprocessor exampl input syntax exampl input inlet boundari condit mass conserv equat specifi use wcnsfvmassfluxbc mass flux specifi use mass flow rate inlet area list modulesnavier_stokestesttestsfinite_volumewcnsboundary_conditionsflux_bcs_mdoti blockfvbc syntax paramet fvbcswcnsfvmassfluxbc syntax input fvbcswcnsfvmassfluxbc syntax children fvbcswcnsfvmassfluxbc insfvnoslipwallbc object simpli wrap fvfunctiondirichletbcfvfunctiondirichletbcmd requir paramet function describ boundari wall veloc veloc compon specifi variabl appli insfvnoslipwallbc veloc compon given boundari insfvnoslipwallbc specifi everi veloc compon boundari syntax paramet fvbcsinsfvnoslipwallbc syntax input fvbcsinsfvnoslipwallbc syntax children fvbcsinsfvnoslipwallbc pcnsfvhllcmomentumbc pcnsfvhllcmomentumbc templat class implement momentum flux boundari condit porou hartenlaxvan leercontact hllc given either specifi boundari momentum temperatur function boundari pressur function note function correspond static boundari quantiti oppos stagnat quantiti detail differ templat instanti given pcnsfvhllcspecifiedmassfluxandtemperaturemomentumbc syntax paramet fvbcspcnsfvhllcspecifiedmassfluxandtemperaturemomentumbc syntax input fvbcspcnsfvhllcspecifiedmassfluxandtemperaturemomentumbc syntax children fvbcspcnsfvhllcspecifiedmassfluxandtemperaturemomentumbc pcnsfvhllcspecifiedpressuremomentumbc syntax paramet fvbcspcnsfvhllcspecifiedpressuremomentumbc syntax input fvbcspcnsfvhllcspecifiedpressuremomentumbc syntax children fvbcspcnsfvhllcspecifiedpressuremomentumbc pinsfvsymmetryvelocitybc overview object implement symmetri boundari condit superfici veloc appli boundari forc gradient veloc parallel boundari zero boundari normal direct pinsfvsymmetryvelocitybc appli everi superfici veloc compon symmetri boundari similarli insfvsymmetrypressurebcinsfvsymmetrypressurebcmd appli pressur symmetri boundari syntax descript fvbcspinsfvsymmetryvelocitybc syntax paramet fvbcspinsfvsymmetryvelocitybc syntax input fvbcspinsfvsymmetryvelocitybc syntax children fvbcspinsfvsymmetryvelocitybc insfvinletvelocitybc object simpli wrap fvfunctiondirichletbcfvfunctiondirichletbcmd requir paramet function describ veloc along inlet boundari variabl paramet correspond veloc compon variabl appli insfvinletveloc veloc compon given boundari insfvinletveloc specifi everi veloc compon boundari fvbc pressur appli boundari instead valu pressur inlet extrapol interior syntax paramet fvbcsinsfvinletvelocitybc syntax input fvbcsinsfvinletvelocitybc syntax children fvbcsinsfvinletvelocitybc wcnsfvinletvelocitybc syntax descript fvbcswcnsfvinletvelocitybc two option specifi compon inlet veloc specifi veloc postprocessor specifi mass flow rate postprocessor densiti functor functor usual functor materi properti defin generalfunctorfluidpropsmd scale factor use account project inlet flow surfac align boundari condit work postprocessor may replac constant valu input intend use case boundari condit receiv valu coupl applic use receivermd postprocessor alert note specifi inlet veloc use wcnsfvinletvelocitybc preserv mass momentum flow boundari case part discret error specifi incom mass momentum flux use wcnsfvmassfluxbcmd wcnsfvmomentumfluxbcmd current conserv approach exampl input syntax exampl input boundari condit mass conserv equat momentum equat specifi use two wcnsfvinletvelocitybc one compon veloc inlet veloc specifi use mass flow rate postprocessor list modulesnavier_stokestesttestsfinite_volumewcnsboundary_conditionsdirichlet_bcs_mdoti blockfvbc syntax paramet fvbcswcnsfvinletvelocitybc syntax input fvbcswcnsfvinletvelocitybc syntax children fvbcswcnsfvinletvelocitybc nsfvfunctorheatfluxbc syntax descript fvbcsnsfvfunctorheatfluxbc nsfvfunctorheatfluxbc version nsfvheatfluxbcmd use functor materi properti pleas see document boundari condit syntax paramet fvbcsnsfvfunctorheatfluxbc syntax input fvbcsnsfvfunctorheatfluxbc syntax children fvbcsnsfvfunctorheatfluxbc nsfvheatfluxbc syntax descript fvbcsnsfvheatfluxbc descript boundari condit split constant heat flux among twophas fluid solid domain base number differ model gener consenu best boundari condit flow virtual model split constant heat flux among multipl phase quit crude citepalazmi set phase fluid boundari condit specifi heat flux fluid energi conserv equat beginequ int_gammakappa_fcdotnabla t_fcdothatndgamma endequ beginequ kappa_fcdotnabla t_fcdothatnfraczeta_fzeta_szeta_ftildeq endequ tildeq total heat flux specifi valu paramet zeta_f fluidphas valu zeta zeta_ solidphas valu zeta zeta placehold discuss shortli set phase solid boundari condit specifi heat flux solid energi conserv equat beginequ int_gammakappa_scdotnabla t_scdothatndgamma endequ beginequ kappa_scdotnabla t_scdothatnfraczeta_szeta_szeta_ftildeq endequ split paramet determin form zeta heat flux split assign base poros case zeta_fepsilon zeta_sepsilon effect thermal conduct case zeta_fkappa_f zeta_skappa_ thermal conduct case zeta_fk_f zeta_sk_ zeta may also calcul either local valu wall set local local domainaverag postprocessor set local global instanc well known poros wall uniti due point contact pebbl wall split heat flux base poros uniti poros would result entir heat flux deposit fluid phase realiti combin conduct convect radiat process alway result heat deposit phase local paramet attempt captur phasic behavior independ closur precis wall boundari condit specifi interpret constitut domain may choos global valu repres averag entir geometri possibl finitewidth region near wall follow combin split method local follow paramet must provid split poros local local poros coupl variabl split poros local global average_poros postprocessor split thermal_conduct local local noth materi properti grab dont requir user input split thermal_conduct local global average_k_fluid average_k_solid postprocessor split effective_thermal_conduct local local poros coupl variabl due intern represent kappa_f epsilontildekappa_f tildekappa_fequivfrackappa_fepsilon split effective_thermal_conduct local global average_kappa average_kappa_solid postprocessor well average_ep postprocessor due intern represent kappa_f epsilontildekappa_f alert note protect case first time step thermal conduct effect thermal conduct might yet initi case coupl postprocessor yet evalu use equal flux split syntax paramet fvbcsnsfvheatfluxbc syntax input fvbcsnsfvheatfluxbc syntax children fvbcsnsfvheatfluxbc bibtex bibliographi specificvolumeaux syntax descript auxkernelsspecificvolumeaux beginequ v dfracalpha arho endequ v specif volum alpha volum fraction area rho densiti syntax paramet auxkernelsspecificvolumeaux syntax input auxkernelsspecificvolumeaux syntax children auxkernelsspecificvolumeaux insdivergenceaux syntax descript auxkernelsinsdivergenceaux syntax paramet auxkernelsinsdivergenceaux syntax input auxkernelsinsdivergenceaux syntax children auxkernelsinsdivergenceaux nstemperatureaux syntax descript auxkernelsnstemperatureaux syntax paramet auxkernelsnstemperatureaux syntax input auxkernelsnstemperatureaux syntax children auxkernelsnstemperatureaux nsspecifictotalenthalpyaux syntax descript auxkernelsnsspecifictotalenthalpyaux syntax paramet auxkernelsnsspecifictotalenthalpyaux syntax input auxkernelsnsspecifictotalenthalpyaux syntax children auxkernelsnsspecifictotalenthalpyaux specificinternalenergyaux syntax descript auxkernelsspecificinternalenergyaux beginequ u e dfracrho vecu_l rho endequ u specif intern energi e specif total energi rho vecu fluid momentum syntax paramet auxkernelsspecificinternalenergyaux syntax input auxkernelsspecificinternalenergyaux syntax children auxkernelsspecificinternalenergyaux courant syntax descript auxkernelscour overview courant object comput courant number given coupl variabl repres veloc compon u v w use current timestep size element size courant number formula beginequ c fracudelta th endequ u norm veloc delta timestep size h local element size unit length knowledg courant number use determin timestep size use explicit time integr relat courantfriedrichslewi conditionhttpsenwikipediaorgwikicourantefriedrichselewy_condit syntax paramet auxkernelscour syntax input auxkernelscour syntax children auxkernelscour internalenergyaux syntax descript auxkernelsinternalenergyaux syntax paramet auxkernelsinternalenergyaux syntax input auxkernelsinternalenergyaux syntax children auxkernelsinternalenergyaux enthalpyaux syntax descript auxkernelsenthalpyaux beginequ h dfracrho e prho endequ h specif enthalpi rho densiti rho e total energi p pressur syntax paramet auxkernelsenthalpyaux syntax input auxkernelsenthalpyaux syntax children auxkernelsenthalpyaux wallfunctionwallshearstressaux function comput wall shear stress obtain use standard wall function insfvwallfunctionbcsourcefvbcsinsfvwallfunctionbcmd assum first cell centroid locat log layer syntax paramet auxkernelswallfunctionwallshearstressaux syntax input auxkernelswallfunctionwallshearstressaux syntax children auxkernelswallfunctionwallshearstressaux nsinternalenergyaux syntax descript auxkernelsnsinternalenergyaux syntax paramet auxkernelsnsinternalenergyaux syntax input auxkernelsnsinternalenergyaux syntax children auxkernelsnsinternalenergyaux nsvelocityaux syntax descript auxkernelsnsvelocityaux syntax paramet auxkernelsnsvelocityaux syntax input auxkernelsnsvelocityaux syntax children auxkernelsnsvelocityaux wallfunctionyplusaux comput dimensionless wall distanc use wall shear stress calcul standard wall function insfvwallfunctionbcsourcefvbcsinsfvwallfunctionbcmd syntax paramet auxkernelswallfunctionyplusaux syntax input auxkernelswallfunctionyplusaux syntax children auxkernelswallfunctionyplusaux insfvmixinglengthturbulentviscosityaux syntax descript auxkernelsinsfvmixinglengthturbulentviscosityaux comput mix length eddi viscos use zeroequ turbul model beginequ nu_t l_m s_ijs_ij endequ syntax paramet auxkernelsinsfvmixinglengthturbulentviscosityaux syntax input auxkernelsinsfvmixinglengthturbulentviscosityaux syntax children auxkernelsinsfvmixinglengthturbulentviscosityaux insstresscomponentaux insstresscomponentaux calcul stress compon incompress navierstok simul specifi comp param allow valu obtain desir stress compon note veloc paramet expect nonvector variabl eg auxkernel current make sens handcod set in object syntax descript auxkernelsinsstresscomponentaux syntax paramet auxkernelsinsstresscomponentaux syntax input auxkernelsinsstresscomponentaux syntax children auxkernelsinsstresscomponentaux nsmachaux syntax descript auxkernelsnsmachaux syntax paramet auxkernelsnsmachaux syntax input auxkernelsnsmachaux syntax children auxkernelsnsmachaux nspressureaux syntax descript auxkernelsnspressureaux syntax paramet auxkernelsnspressureaux syntax input auxkernelsnspressureaux syntax children auxkernelsnspressureaux walldistancemixinglengthaux auxkernel comput turbul mix length assum proport distanc nearest wall delta paramet set user mix length take escudi modif cap mix length distanc wall proport delta detail pleas refer httpsmooseframeworkinlgovmodulesnavier_stokesrans_theoryhtml syntax paramet auxkernelswalldistancemixinglengthaux syntax input auxkernelswalldistancemixinglengthaux syntax children auxkernelswalldistancemixinglengthaux inscour syntax descript auxkernelsinscour syntax paramet auxkernelsinscour syntax input auxkernelsinscour syntax children auxkernelsinscour insqcriterionaux calcul scalar variabl calcul function shear rate properti fluid flow call q use visual complic flow pattern tend occur run turbul fluid flow simul quantiti calcul beginequ q frac barbaromega barbar endequ barbaromega barbar respect antisymmetr symmetr strain rate tensor take contour q piec visual softwar q boundari vortic flow reveal inform see paper citejeong syntax descript auxkernelsinsqcriterionaux syntax paramet auxkernelsinsqcriterionaux syntax input auxkernelsinsqcriterionaux syntax children auxkernelsinsqcriterionaux internalvolumetricflowr syntax descript postprocessorsinternalvolumetricflowr syntax paramet postprocessorsinternalvolumetricflowr syntax input postprocessorsinternalvolumetricflowr syntax children postprocessorsinternalvolumetricflowr cfltimesteps syntax descript postprocessorscfltimesteps overview object comput timestep necessari satisfi cfl numberhttpsenwikipediaorgwikicourantefriedrichselewy_condit specifi cfl paramet default valu cfl timestep comput global minimum beginequ dt fractextcfl h_mina_k c_k endequ h_min minimum element side length a_k fluid speed ktextth phase c_k speed sound ktextth phase syntax paramet postprocessorscfltimesteps syntax input postprocessorscfltimesteps syntax children postprocessorscfltimesteps mfrpostprocessor syntax descript postprocessorsmfrpostprocessor overview object receptor boundari mass flow rate comput advect boundari condit object like pcnsfvstrongbcmd long mfr_postprocessor paramet set object like pcnsfvstrongbcmd object right thing eg boundari condit object set mass flow rate perfaceinfo basi object perform aggreg process process thread syntax paramet postprocessorsmfrpostprocessor syntax input postprocessorsmfrpostprocessor syntax children postprocessorsmfrpostprocessor nsentropyerror syntax descript postprocessorsnsentropyerror syntax paramet postprocessorsnsentropyerror syntax input postprocessorsnsentropyerror syntax children postprocessorsnsentropyerror volumetricflowr syntax descript postprocessorsvolumetricflowr syntax paramet postprocessorsvolumetricflowr syntax input postprocessorsvolumetricflowr syntax children postprocessorsvolumetricflowr insexplicittimestepselector syntax descript postprocessorsinsexplicittimestepselector syntax paramet postprocessorsinsexplicittimestepselector syntax input postprocessorsinsexplicittimestepselector syntax children postprocessorsinsexplicittimestepselector insadmasspspg object add stabil incompress mass continu equat form leftnablapsi_i fractaurhovec rright tau stabil paramet rho densiti vec r strong residu momentum equat stabil vec r includ pressur gradient term produc diffus term like leftnablapsi_i nabla pright mass equat ondiagon depend saddl point natur incompress equat remov equal order shape function use veloc pressur variabl syntax descript kernelsinsadmasspspg syntax paramet kernelsinsadmasspspg syntax input kernelsinsadmasspspg syntax children kernelsinsadmasspspg momentumconvectiveflux syntax descript kernelsmomentumconvectiveflux syntax paramet kernelsmomentumconvectiveflux syntax input kernelsmomentumconvectiveflux syntax children kernelsmomentumconvectiveflux insadenergysourc object add heat sourc incompress energi equat form function name set source_funct paramet note function evalu posit kernel sourc term function evalu neg kernel sink term syntax descript kernelsinsadenergysourc syntax paramet kernelsinsadenergysourc syntax input kernelsinsadenergysourc syntax children kernelsinsadenergysourc instemperatur syntax descript kernelsinstemperatur syntax paramet kernelsinstemperatur syntax input kernelsinstemperatur syntax children kernelsinstemperatur insadmomentumtimederiv object add rhofracparti vec uparti term incompress navier stoke momentum equat rho densiti vec u veloc time syntax descript kernelsinsadmomentumtimederiv syntax paramet kernelsinsadmomentumtimederiv syntax input kernelsinsadmomentumtimederiv syntax children kernelsinsadmomentumtimederiv nsmomentuminviscidfluxwithgradp syntax descript kernelsnsmomentuminviscidfluxwithgradp syntax paramet kernelsnsmomentuminviscidfluxwithgradp syntax input kernelsnsmomentuminviscidfluxwithgradp syntax children kernelsnsmomentuminviscidfluxwithgradp distributedpow syntax descript kernelsdistributedpow syntax paramet kernelsdistributedpow syntax input kernelsdistributedpow syntax children kernelsdistributedpow insadboussinesqbodyforc object add rhoalphavecgt t_ref term incompress navier stoke in equat rho densiti alpha thermal expans coeffici vecg graviti vector temperatur t_ref refer temperatur term introduc boussinesq approxim in equat allow model natur convect syntax paramet kernelsinsadboussinesqbodyforc syntax input kernelsinsadboussinesqbodyforc syntax children kernelsinsadboussinesqbodyforc nsenergyviscousflux syntax descript kernelsnsenergyviscousflux syntax paramet kernelsnsenergyviscousflux syntax input kernelsnsenergyviscousflux syntax children kernelsnsenergyviscousflux inschorinpredictor syntax descript kernelsinschorinpredictor syntax paramet kernelsinschorinpredictor syntax input kernelsinschorinpredictor syntax children kernelsinschorinpredictor insadenergyadvect object add rho c_p vec u cdot nabla term like heat conductionconvect equat rho densiti c_p specif heat capac vec u veloc repres _u code nabla temperatur gradient repres _grad_u code syntax descript kernelsinsadenergyadvect syntax paramet kernelsinsadenergyadvect syntax input kernelsinsadenergyadvect syntax children kernelsinsadenergyadvect nsmomentuminviscidflux syntax descript kernelsnsmomentuminviscidflux syntax paramet kernelsnsmomentuminviscidflux syntax input kernelsnsmomentuminviscidflux syntax children kernelsnsmomentuminviscidflux nssupgenergi syntax descript kernelsnssupgenergi syntax paramet kernelsnssupgenergi syntax input kernelsnssupgenergi syntax children kernelsnssupgenergi nsmassinviscidflux syntax descript kernelsnsmassinviscidflux syntax paramet kernelsnsmassinviscidflux syntax input kernelsnsmassinviscidflux syntax children kernelsnsmassinviscidflux insadmomentumpressur object add nabla p term incompress navier stoke momentum equat user specifi boolean integrate_p_by_part input paramet determin whether term integr part weak form syntax descript kernelsinsadmomentumpressur syntax paramet kernelsinsadmomentumpressur syntax input kernelsinsadmomentumpressur syntax children kernelsinsadmomentumpressur insadmass object comput residu jacobian contribut incompress version mass continu equat eg nablacdotvec u syntax descript kernelsinsadmass syntax paramet kernelsinsadmass syntax input kernelsinsadmass syntax children kernelsinsadmass insadmomentumsupg object add stabil incompress momentum equat form lefttau vec u cdot nablapsi_i vec rright tau stabil paramet vec u veloc vector vec r strong residu momentum equat term add addit consist streamlin diffus higher reynold number simul without produc crippl oscil syntax descript kernelsinsadmomentumsupg syntax paramet kernelsinsadmomentumsupg syntax input kernelsinsadmomentumsupg syntax children kernelsinsadmomentumsupg insadenergysupg object add stabil incompress energi equat form lefttau vec u cdot nablapsi_i vec rright tau stabil paramet vec u veloc vector vec r strong residu momentum equat tau calcul base advect veloc thermal conduct densiti heat capac time step size mesh size term add addit consist streamlin diffus higher reynold number simul without produc crippl oscil syntax descript kernelsinsadenergysupg syntax paramet kernelsinsadenergysupg syntax input kernelsinsadenergysupg syntax children kernelsinsadenergysupg nsgravitypow syntax descript kernelsnsgravitypow syntax paramet kernelsnsgravitypow syntax input kernelsnsgravitypow syntax children kernelsnsgravitypow insadenergyambientconvect object add term incompress energi equat form alpha leftt t_ambientright alpha base real alpha paramet set user t_ambient similarli set real t_ambient paramet term addit meant repres volumetr approxim energi exchang extern heat exchang ambient surround heat sourcesink syntax descript kernelsinsadenergyambientconvect syntax paramet kernelsinsadenergyambientconvect syntax input kernelsinsadenergyambientconvect syntax children kernelsinsadenergyambientconvect insadmomentumadvect object add rholeftvec u cdotnablarightvec u term incompress navier stoke momentum equat note code right multipli vec u eg perform nablavec u cdot vec u nabla vec u store jacobian matrix formhttpsenwikipediaorgwikijacobian_matrix_and_determin syntax descript kernelsinsadmomentumadvect syntax paramet kernelsinsadmomentumadvect syntax input kernelsinsadmomentumadvect syntax children kernelsinsadmomentumadvect insadmomentumcoupledforc object add term incompress momentum equat directli proport coupl vector variabl coupled_vector_var vector function vector_funct posit coupl variabl function compon repres momentum sourc compon direct eg xcompon posit object impos momentum sourc x direct syntax paramet kernelsinsadmomentumcoupledforc syntax input kernelsinsadmomentumcoupledforc syntax children kernelsinsadmomentumcoupledforc pressuregradi syntax descript kernelspressuregradi syntax paramet kernelspressuregradi syntax input kernelspressuregradi syntax children kernelspressuregradi insadmomentumvisc object add munabla vec u term incompress navier stoke momentum equat note use condit nabla cdot vec u arriv form eg use laplacian form viscou term syntax descript kernelsinsadmomentumvisc syntax paramet kernelsinsadmomentumvisc syntax input kernelsinsadmomentumvisc syntax children kernelsinsadmomentumvisc insadgravityforc object add simpl gravit forc term incompress navier stoke equat form rhovecg rho densiti vecg graviti vector syntax paramet kernelsinsadgravityforc syntax input kernelsinsadgravityforc syntax children kernelsinsadgravityforc insmomentumtimederiv syntax descript kernelsinsmomentumtimederiv syntax paramet kernelsinsmomentumtimederiv syntax input kernelsinsmomentumtimederiv syntax children kernelsinsmomentumtimederiv nssupgmass syntax descript kernelsnssupgmass syntax paramet kernelsnssupgmass syntax input kernelsnssupgmass syntax children kernelsnssupgmass insmomentumlaplaceform syntax descript kernelsinsmomentumlaplaceform syntax paramet kernelsinsmomentumlaplaceform syntax input kernelsinsmomentumlaplaceform syntax children kernelsinsmomentumlaplaceform nssupgmomentum syntax descript kernelsnssupgmomentum syntax paramet kernelsnssupgmomentum syntax input kernelsnssupgmomentum syntax children kernelsnssupgmomentum inspressurepoisson syntax descript kernelsinspressurepoisson syntax paramet kernelsinspressurepoisson syntax input kernelsinspressurepoisson syntax children kernelsinspressurepoisson distributedforc syntax descript kernelsdistributedforc syntax paramet kernelsdistributedforc syntax input kernelsdistributedforc syntax children kernelsdistributedforc inschorinpressurepoisson syntax descript kernelsinschorinpressurepoisson syntax paramet kernelsinschorinpressurepoisson syntax input kernelsinschorinpressurepoisson syntax children kernelsinschorinpressurepoisson nstemperaturel syntax descript kernelsnstemperaturel syntax paramet kernelsnstemperaturel syntax input kernelsnstemperaturel syntax children kernelsnstemperaturel insadsmagorinskyeddyviscos object comput residu jacobian contribut eddi viscos term given smagorinski larg eddi simul model detail tend use paper citebouffanai recommend use kernel add term momentum equat beginequ nu_sg rho nabla vec u endequ subgridscal eddi viscos calcul beginequ nu_sg c_ bardelta barbar endequ symmetr strain rate tensor magnitud calcul beginequ barbar sum_i sum_j nabla vec u nabla vec ut endequ filter length calcul way kernel use common approach use cube root element volum filter length divid local element polynomi degre veloc variabl smagorinski constant c_ come theori citesmagorinski set default reason valu list modulesnavier_stokestesttestsfinite_elementinslid_drivenad_lid_driven_lesi blockkernel syntax descript kernelsinsadsmagorinskyeddyviscos syntax paramet kernelsinsadsmagorinskyeddyviscos syntax input kernelsinsadsmagorinskyeddyviscos syntax children kernelsinsadsmagorinskyeddyviscos bibtex bibliographi inschorincorrector syntax descript kernelsinschorincorrector syntax paramet kernelsinschorincorrector syntax input kernelsinschorincorrector syntax children kernelsinschorincorrector nsgravityforc syntax descript kernelsnsgravityforc syntax paramet kernelsnsgravityforc syntax input kernelsnsgravityforc syntax children kernelsnsgravityforc instemperaturetimederiv syntax descript kernelsinstemperaturetimederiv syntax paramet kernelsinstemperaturetimederiv syntax input kernelsinstemperaturetimederiv syntax children kernelsinstemperaturetimederiv insadheatconductiontimederiv descript insadheatconductiontimederiv kernel implement time deriv domain omega given beginequ underbracerho c_p fracparti uparti t_textrminsadheatconductiontimederiv sum_in beta_i omega endequ rho materi densiti c_p specif heat second term left hand side correspond strong form kernel correspond insadheatconductiontimederiv weak form use innerproduct notat beginequ r_iu_h psi_i rho c_pfracparti u_hparti quad foral psi_i endequ u_h approxim solut psi_i finit element test function jacobian given automat differenti perfect long c_p rho provid use admateri deriv object syntax paramet kernelsinsadheatconductiontimederiv syntax input kernelsinsadheatconductiontimederiv syntax children kernelsinsadheatconductiontimederiv insmass syntax descript kernelsinsmass syntax paramet kernelsinsmass syntax input kernelsinsmass syntax children kernelsinsmass insmassrz syntax descript kernelsinsmassrz syntax paramet kernelsinsmassrz syntax input kernelsinsmassrz syntax children kernelsinsmassrz nsenergyinviscidflux syntax descript kernelsnsenergyinviscidflux syntax paramet kernelsnsenergyinviscidflux syntax input kernelsnsenergyinviscidflux syntax children kernelsnsenergyinviscidflux insmomentumlaplaceformrz syntax descript kernelsinsmomentumlaplaceformrz syntax paramet kernelsinsmomentumlaplaceformrz syntax input kernelsinsmomentumlaplaceformrz syntax children kernelsinsmomentumlaplaceformrz totalenergyconvectiveflux syntax descript kernelstotalenergyconvectiveflux syntax paramet kernelstotalenergyconvectiveflux syntax input kernelstotalenergyconvectiveflux syntax children kernelstotalenergyconvectiveflux insproject syntax descript kernelsinsproject syntax paramet kernelsinsproject syntax input kernelsinsproject syntax children kernelsinsproject nsmomentumviscousflux syntax descript kernelsnsmomentumviscousflux syntax paramet kernelsnsmomentumviscousflux syntax input kernelsnsmomentumviscousflux syntax children kernelsnsmomentumviscousflux insmomentumtractionformrz syntax descript kernelsinsmomentumtractionformrz syntax paramet kernelsinsmomentumtractionformrz syntax input kernelsinsmomentumtractionformrz syntax children kernelsinsmomentumtractionformrz insmomentumtractionform syntax descript kernelsinsmomentumtractionform syntax paramet kernelsinsmomentumtractionform syntax input kernelsinsmomentumtractionform syntax children kernelsinsmomentumtractionform inscompressibilitypenalti syntax descript kernelsinscompressibilitypenalti syntax paramet kernelsinscompressibilitypenalti syntax input kernelsinscompressibilitypenalti syntax children kernelsinscompressibilitypenalti massconvectiveflux syntax descript kernelsmassconvectiveflux syntax paramet kernelsmassconvectiveflux syntax input kernelsmassconvectiveflux syntax children kernelsmassconvectiveflux nsenergythermalflux syntax descript kernelsnsenergythermalflux syntax paramet kernelsnsenergythermalflux syntax input kernelsnsenergythermalflux syntax children kernelsnsenergythermalflux inssplitmomentum syntax descript kernelsinssplitmomentum syntax paramet kernelsinssplitmomentum syntax input kernelsinssplitmomentum syntax children kernelsinssplitmomentum hllcuserobject syntax descript userobjectshllcuserobject overview object comput hllc left middl right wavespe see cnsfvhllcbasemd veloc speed pressur densiti specif intern energi element neighbor materi properti left right materi properti want think way intern face wave speed use object like wavespeedvppmd syntax paramet userobjectshllcuserobject syntax input userobjectshllcuserobject syntax children userobjectshllcuserobject insadobjecttrack insadobjecttrack user object use track kernel ad incompress navier stoke in simul object queri insadmateri determin materi propertiesstrong residu need calcul base kernel potenti contribut pspg supg stabil kernel creation object prevent duplic paramet kernel insadmateri exampl input file user use specifi insadmateri whether transient term simul howev addit insadobjecttrack input longer requir simpli put insadmomentumtimederiv object input file insadmateri know calcul transient term insadobjecttrack syntax paramet userobjectsinsadobjecttrack syntax input userobjectsinsadobjecttrack syntax children userobjectsinsadobjecttrack insfvscalarfieldvari insfvscalarfieldvari finit volum variabl toggl two_term_boundary_expans true default paramet determin whether extrapol boundari face valu determin boundari cell centroid valu boundari cell centroid gradient boundari cell centroid valu syntax paramet variablesinsfvscalarfieldvari syntax input variablesinsfvscalarfieldvari syntax children variablesinsfvscalarfieldvari insfvenergyvari insfvenergyvari finit volum variabl toggl two_term_boundary_expans true default paramet determin whether extrapol boundari face valu determin boundari cell centroid valu boundari cell centroid gradient boundari cell centroid valu syntax paramet variablesinsfvenergyvari syntax input variablesinsfvenergyvari syntax children variablesinsfvenergyvari pinsfvsuperficialvelocityvari variabl type specif porou media incompress navier stoke equat kernel equat expect variabl type use written superfici veloc nonlinear variabl syntax paramet adaptivitymarkerspinsfvsuperficialvelocityvari syntax input adaptivitymarkerspinsfvsuperficialvelocityvari syntax children adaptivitymarkerspinsfvsuperficialvelocityvari insfvpressurevari insfvpressurevari finit volum variabl toggl two_term_boundary_expans true default paramet determin whether extrapol boundari face valu determin boundari cell centroid valu boundari cell centroid gradient boundari cell centroid valu syntax paramet variablesinsfvpressurevari syntax input variablesinsfvpressurevari syntax children variablesinsfvpressurevari insfvvelocityvari insfvvelocityvari finit volum variabl overrid default comput cell gradient must account modifi comput boundari face valu along fulli develop flow boundari addit toggl two_term_boundary_expans true default paramet determin whether extrapol boundari face valu determin boundari cell centroid valu boundari cell centroid gradient boundari cell centroid valu syntax paramet variablesinsfvvelocityvari syntax input variablesinsfvvelocityvari syntax children variablesinsfvvelocityvari pinsfvmomentumgrav object add simpl gravit forc term incompress porou media navier stoke momentum equat form epsilon rho vecg epsilon poros rho densiti vecg graviti vector syntax paramet fvkernelspinsfvmomentumgrav syntax input fvkernelspinsfvmomentumgrav syntax children fvkernelspinsfvmomentumgrav fvporositytimederiv syntax descript fvkernelsfvporositytimederiv overview object simpli multipli residu fvtimekernelmd poros word object comput beginequ int_omega_c epsilonfracparti uparti dv endequ u correspond variabl paramet syntax paramet fvkernelsfvporositytimederiv syntax input fvkernelsfvporositytimederiv syntax children fvkernelsfvporositytimederiv pcnsfvktdc syntax descript fvkernelspcnsfvktdc overview object implement defer correct approach follow way transient simul beginequ bmf_n f bmf_nho left frightleftbmf_nho bmf_nlo bmf_nloright endequ bmf flux ho denot high order lo denot low order n refer current timestep n refer previou timestep f correspond ho_implicit_fract paramet default valu f ho_implicit_fract correspond canon defer correct approach default valu result best nonlinear converg use implicit time integr scheme howev fluid variabl signific gradient may take long time term actual time march steadyst solut intent simul set ho_implicit_fract result solut behavior directli use pcnsfvktmd object inherit result worst nonlinear converg also transient accuraci converg rapidli steadyst solut exist term time term time step lower ho_implicit_fract gener converg steadyst solut quicker steady_state_toler tight syntax paramet fvkernelspcnsfvktdc syntax input fvkernelspcnsfvktdc syntax children fvkernelspcnsfvktdc pcnsfvmasshllc syntax descript fvkernelspcnsfvmasshllc overview object implement mass equat portion porou hllc implement describ detail pcnsfvhllcmd syntax paramet fvkernelspcnsfvmasshllc syntax input fvkernelspcnsfvmasshllc syntax children fvkernelspcnsfvmasshllc cnsfvmasshllc syntax descript fvkernelscnsfvmasshllc overview object implement mass equat intercel flux hartenlaxvan leercontact hllc formul describ cnsfvhllcbasemd syntax paramet fvkernelscnsfvmasshllc syntax input fvkernelscnsfvmasshllc syntax children fvkernelscnsfvmasshllc pinsfvmassadvect object comput residu jacobian contribut incompress version mass continu equat eg nablacdot rho vec u_d appli diverg theorem comput advect flux mass across cellel face use rhiechow interpol comput mass flow across face kernel revert default averag interpol near poros chang behavior may disabl smooth_poros boolean syntax paramet fvkernelspinsfvmassadvect syntax input fvkernelspinsfvmassadvect syntax children fvkernelspinsfvmassadvect insfvmomentumgrav object add simpl gravit forc term incompress navier stoke equat form rhovecg rho densiti vecg graviti vector syntax paramet fvkernelsinsfvmomentumgrav syntax input fvkernelsinsfvmomentumgrav syntax children fvkernelsinsfvmomentumgrav cnsfvhllcbase cnsfvhllcbase base class hartenlaxvan leercontact hllc residu comput object inherit comput wave speed hllc formul base class hllc residu object use document page outlin hllc equat hllc flux defin beginequ bmf_hllc begincas bmf_l textrmif leq s_l bmf_l textrmif s_l leq leq s_ bmf_r textrmif s_ leq leq s_r bmf_r textrmif geq s_r endcas endequ bmf_lr left right evalu respect convect flux beginequ bmf beginbmatrix rho a_n rho a_n u p n_x rho a_n v p n_i rho a_n w p n_z rho e_t p endbmatrix endequ a_n bmacdothatn bma lbrace u v wrbrace hatn normal vector face n_x n_i n_z repres x z compon normal vector respect u v w repres x z compon veloc bma respect p static pressur e_t e lparenbmvcdotbmvrparen e specif intern energi rho densiti s_l s_ s_r left middl right wave speed respect s_ given citeptororiemann beginequ s_ fracp_r p_l rho_l a_nllefts_l a_nlright rho_r a_nr lefts_r a_nrrightrho_l lefts_l a_nlright rho_rlefts_r a_nrright endequ intermedi flux state denot describ citeptororiemann beginequ bmf_l bmf_l s_lleftbmu_l bmu_lright bmf_r bmf_r s_rleftbmu_r bmu_rright endequ solut state bmu_lr given left right evalu beginequ bmu_k beginbmatrix rho_k rho_k u_k rho_k v_k rho_k w_k rho_k e_tk endbmatrix endequ kl kr respect intermedi solut state state describ left right evalu citeptororiemann beginequ bmu_k rho_k leftfracs_k a_nks_k s_right beginbmatrix n_x lefts_ a_nkright u_k n_i lefts_ a_nkright v_k n_z lefts_ a_nkright w_k e_tk lefts_ a_nkrightlefts_ fracp_krho_klefts_k a_nkrightright endbmatrix endequ final piec finish definit hllc flux specifi evalu left right wave speed s_l s_r evalu varieti way current cnsfvhllcbase implement evalu follow follow citepbattenaverag beginequ s_l textminlparen a_nl c_l a_ntextro c_textroerparen s_r textmaxlparen a_nr c_r a_ntextro c_textroerparen endequ c denot local speed sound medium textro denot roeaverag quantiti comput via beginequ b_textro fracsqrtrho_l b_l sqrtrho_r b_rsqrtrho_l sqrtrho_r endequ b quantiti a_n c bibtex bibliographi pinsfvenergytimederiv descript kernel implement time deriv domain omega given beginequ epsilon fracparti rho c_pf t_fpartial endequ fluid phase beginequ epsilon fracparti rho_ c_p t_spartial endequ solid phase epsilon poros rho_f fluidsolid materi densiti c_pf fluidsolid specif heat t_f fluidsolid temperatur time deriv densiti specif heat capac ignor paramfvkernelspinsfvenergytimederivativedrho_dt paramfvkernelspinsfvenergytimederivativedcp_dt provid incompress flow former provid variat kinet energi consid kernel syntax paramet fvkernelspinsfvenergytimederiv syntax input fvkernelspinsfvenergytimederiv syntax children fvkernelspinsfvenergytimederiv pcnsfvmomentumfrict kernel add friction term fulli compress porou media navier stoke momentum equat kernel requir paramet momentum_nam provid darci forchheim model well superposit two support friction forc darci drag model beginequ f_i dfracd_iepsilon p_i endequ forchheim drag model beginequ f_i dfracf_iepsilon rho p_i endequ f_i ith compon friction forc d_i ith compon darci friction factor epsilon poros p_i ithcompon momentum f_i ithcompon forchheim friction factor darcy_nam forchheimer_nam paramet suppli drag forc two model sum compon determin momentum_compon paramet syntax paramet fvkernelspcnsfvmomentumfrict syntax input fvkernelspcnsfvmomentumfrict syntax children fvkernelspcnsfvmomentumfrict pinsfvmomentumadvect object implement part nabla cdot leftepsilon rhovec u otim vec uright compon term incompress porou media navier stoke momentum equat term express term superfici veloc u_d beginequ nabla cdot leftdfracepsilon rhovec u_d otim vec u_dright mathbfdfracepsilon nabla cdot leftrhovec u_d otim vec u_dright leftrhovec u_d otim vec u_dright nabla dfracepsilon endequ kernel model first term surfac contribut use diverg theorem second term may model absenc poros discontinu use pinsfvmomentumadvectionporositygradientmd kernel averag rhiechow interpol use advect veloc interpol use rhiechow interpol comput mass flow across face kernel revert default averag interpol near poros chang behavior may disabl smooth_poros boolean averag upwind interpol use advect quantiti case momentum compon rho u_di u_i denot x z compon intersiti veloc cartesian coordin r z compon veloc rz coordin syntax paramet fvkernelspinsfvmomentumadvect syntax input fvkernelspinsfvmomentumadvect syntax children fvkernelspinsfvmomentumadvect pinsfvenergyadvect object add rho epsilon c_p vec u cdot nabla term finit volum formul heat transport equat user control materi quantiti advect advected_quant paramet default valu name rho_cp_temp correspond materi properti name declar insfvmaterialmd syntax paramet fvkernelspinsfvenergyadvect syntax input fvkernelspinsfvenergyadvect syntax children fvkernelspinsfvenergyadvect insfvmomentumboussinesq object add rhoalphavecgt t_ref term incompress navier stoke in equat rho densiti alpha thermal expans coeffici vecg graviti vector temperatur t_ref refer temperatur term introduc boussinesq approxim in equat allow model natur convect syntax paramet fvkernelsinsfvmomentumboussinesq syntax input fvkernelsinsfvmomentumboussinesq syntax children fvkernelsinsfvmomentumboussinesq pinsfvmomentumpressureflux object add nabla epsilon p pressur gradient term incompress porou media navier stoke momentum equat surfac term use diverg theorem formul better handl discontinu poros attempt comput pressur gradient near discontinu note poros gradient origin integr part ad pinsfvmomentumpressureporositygradi pressur lagrang multipli ensur incompress constraint syntax paramet fvkernelspinsfvmomentumpressureflux syntax input fvkernelspinsfvmomentumpressureflux syntax children fvkernelspinsfvmomentumpressureflux insfvmassadvect object comput residu jacobian contribut incompress version mass continu equat eg nablacdot rho vec u appli diverg theorem comput advect flux mass across cellel face syntax paramet fvkernelsinsfvmassadvect syntax input fvkernelsinsfvmassadvect syntax children fvkernelsinsfvmassadvect pinsfvmomentumpressur object add epsilon nabla p term incompress navier stoke momentum equat volumetr term formul caus oscil near poros discontinu pinsfvmomentumpressurefluxmd kernel prefer pressur lagrang multipli ensur incompress constraint syntax paramet fvkernelspinsfvmomentumpressur syntax input fvkernelspinsfvmomentumpressur syntax children fvkernelspinsfvmomentumpressur insfvmomentumadvect object implement nabla cdot leftrhovec u otim vec uright compon term incompress navier stoke momentum equat averag rhiechow interpol use advect veloc interpol averag upwind interpol use advect quantiti case momentum compon rho u_i u_i denot x z compon veloc cartesian coordin r z compon veloc rz coordin syntax paramet fvkernelsinsfvmomentumadvect syntax input fvkernelsinsfvmomentumadvect syntax children fvkernelsinsfvmomentumadvect pinsfvenergyanisotropicdiffus descript kernel implement diffus term fluid energi equat kernel accept anisotrop thermal diffus materi properti isotrop thermal diffus may specifi use pinsfvenergydiffusionmd kernel beginequ nabla cdot left epsilon k nabla right endequ epsilon poros k thermal diffus fluid temperatur multipl epsilon may remov specifi paramfvkernelspinsfvenergyanisotropicdiffusioneffective_diffus paramet effect switch use k thermal diffus kappa effect thermal diffus inform may found effect thermal diffus model pronghorn manual gener account heat conduct radiat convect effect like chang flow direct due porou media recircul flow within pore eddi diffus turbul syntax paramet fvkernelspinsfvenergyanisotropicdiffus syntax input fvkernelspinsfvenergyanisotropicdiffus syntax children fvkernelspinsfvenergyanisotropicdiffus pnsfvpgradepsilon syntax descript fvkernelspnsfvpgradepsilon overview object add residu equival beginequ int_omega_c p nabla epsilon dv endequ object must includ simul epsilon nabla p term integr part done pcnsfvktmd pcnsfvhllcmd object object accept poros function poros profil complic solutionfunctionsolutionfunctionmd may use repres alert note yet see good result poros repres discontinu function straightchannel poros jump test momentum energi sourcessink poros step chang repres discontinu fashion outlet pressur densiti latter solv compress problem match inlet pressur densiti howev step chang approxim steep continu ramp inlet outlet pressur densiti match behavior observ kurganovtadmorpcnsfvktmd hllcpcnsfvhllcmd discret advect flux syntax paramet fvkernelspnsfvpgradepsilon syntax input fvkernelspnsfvpgradepsilon syntax children fvkernelspnsfvpgradepsilon wcnsfvmasstimederiv object add fracparti rhoparti term weakli compress navier stoke mass equat rho densiti time kernel appli along insfvmassadvectionmd kernel form conserv mass equat syntax paramet fvkernelswcnsfvmasstimederiv syntax input fvkernelswcnsfvmasstimederiv syntax children fvkernelswcnsfvmasstimederiv pcnsfvmomentumhllc syntax descript fvkernelspcnsfvmomentumhllc overview object implement momentum equat portion porou hllc implement describ detail pcnsfvhllcmd syntax paramet fvkernelspcnsfvmomentumhllc syntax input fvkernelspcnsfvmomentumhllc syntax children fvkernelspcnsfvmomentumhllc pinsfvmomentumdiffus kernel implement diffus term porou media navier stoke momentum equat diffus term repres brinkmantyp viscou stress incompress approxim simplifi express stress tensor diffus term express term superfici veloc beginequ nabla cdot left mu nabla dfracvecu_depsilon right nabla cdot left dfracmuepsilon nabla vecu_d right nabla cdot left mu u_d nabla dfracepsilon right diverg theorem use comput term examin flux element face second term challeng comput near discontinu poros includ default continu poros variat smooth_poros paramet may use includ syntax paramet fvkernelspinsfvmomentumdiffus syntax input fvkernelspinsfvmomentumdiffus syntax children fvkernelspinsfvmomentumdiffus pinsfvmomentumadvectionporositygradi object implement invers poros gradient term porou media navier stoke momentum equat advect term bold beginequ nabla cdot leftdfracepsilon rhovec u_d otim vec u_dright dfracepsilon nabla cdot leftrhovec u_d otim vec u_dright mathbfleftrhovec u_d otim vec u_dright nabla dfracepsilon endequ term induc oscil solut near poros discontinu syntax paramet fvkernelspinsfvmomentumadvectionporositygradi syntax input fvkernelspinsfvmomentumadvectionporositygradi syntax children fvkernelspinsfvmomentumadvectionporositygradi insfvmixinglengthscalardiffus kernel use mixinglength model comput turbul diffus passiv scalar nabla cdot overlin c vec u appear reynoldsaverag conserv equat exampl passiv scalar includ energi trace chemic case energi turbul schmidt number paramet actual refer turbul prandtl number syntax paramet fvkernelsinsfvmixinglengthscalardiffus syntax input fvkernelsinsfvmixinglengthscalardiffus syntax children fvkernelsinsfvmixinglengthscalardiffus insfvmomentumpressur object add nabla p term incompress navier stoke momentum equat pressur lagrang multipli ensur incompress constraint syntax paramet fvkernelsinsfvmomentumpressur syntax input fvkernelsinsfvmomentumpressur syntax children fvkernelsinsfvmomentumpressur fvmatproptimekernel syntax descript fvkernelsfvmatproptimekernel overview object simpli popul residu valu materi properti pass specifi mat_prop_time_deriv respons materi provid properti ensur time deriv comput properli syntax paramet fvkernelsfvmatproptimekernel syntax input fvkernelsfvmatproptimekernel syntax children fvkernelsfvmatproptimekernel insfvenergyadvect object add rho c_p vec u cdot nabla term finit volum formul heat transport equat user control materi quantiti advect advected_quant paramet default valu name rho_cp_temp correspond materi properti name declar insfvmaterialmd syntax paramet fvkernelsinsfvenergyadvect syntax input fvkernelsinsfvenergyadvect syntax children fvkernelsinsfvenergyadvect wcnsfvmixinglengthenergydiffus kernel use mixinglength model comput turbul diffus energi nabla cdot overlin c vec appear reynoldsaverag conserv equat c ratio equat c dfracrho c_p nu_tpr_t rho fluid densiti c_p specif heat capac nu_t turbul kinemat viscos pr_t turbul prandtl number syntax paramet fvkernelswcnsfvmixinglengthenergydiffus syntax input fvkernelswcnsfvmixinglengthenergydiffus syntax children fvkernelswcnsfvmixinglengthenergydiffus pinsfvenergydiffus descript kernel implement diffus term fluid energi equat thermal diffus isotrop kernel anistrop diffus use pinsfvenergyanisotropicdiffusionmd kernel beginequ nabla cdot left epsilon k nabla right epsilon nabla cdot k nabla k nabla nabla epsilon endequ epsilon poros k thermal conduct fluid temperatur poros gradient term creat oscil presenc poros discontinu gener neglect comput kernel alert note switch use regular diffus effect diffus use paramfvkernelspinsfvenergydiffusioneffective_diffus paramet syntax paramet fvkernelspinsfvenergydiffus syntax input fvkernelspinsfvenergydiffus syntax children fvkernelspinsfvenergydiffus insfvscalarfieldadvect object add nabla cdot vec u phi term arbitrari scalar field phi phi set materi properti use advected_quant materialpropertynam paramet valu paramet provid input file associ nonlinear variabl use advect quantiti nonlinear variabl type moosevariablefvr consist insfv name convent type insfvscalarfieldvariableinsfvscalarfieldvariablemd syntax paramet fvkernelsinsfvscalarfieldadvect syntax input fvkernelsinsfvscalarfieldadvect syntax children fvkernelsinsfvscalarfieldadvect pcnsfvhllc deriv porou hllc discret follow base extens materi citeptororiemann draw mostli chapter detail pertin moos implement freeflow hllc discret found cnsfvhllcbasemd solut properti across contact wave hllc restor middl contact wave hll formul gener riemann invari reveal quantiti chang constant across wave perform gener riemann invari analysi porou euler equat follow way convert epsilon nabla p term nabla cdotleftbmiepsilon pright p nabla epsilon ignor latter term compos flux vector bmf term instead treat part sourc vector bm defin conserv variabl set onedimens simplic beginequ labeleqconserved_variable_set bmu beginbmatrix rho epsilon rho epsilon u rho epsilon e_t endbmatrix endequ flux vector beginequ bmf beginbmatrix rho epsilon u rho epsilon u epsilon p rho epsilon u lefte_t fracprhoright endbmatrix endequ sourc vector beginequ bm beginbmatrix p nabla epsilon endbmatrix endequ arm definit write euler equat succintli beginequ labeleqgeneral_eul bmu_t bmf_x bm endequ also write eqgeneral_eul quasilinear form beginequ bmu_t bmabmu_x bm endequ bma jacobian matrix partial deriv bmf respect bmu shown ideal ga eigenvalu bma beginequ lambda_ u c lambda_ u lambda_ u c endequ c speed sound medium correspond eigenvector beginequ labeleqeigenvector bmk beginbmatrix u c h_t uc endbmatrix bmk beginbmatrix u fracu endbmatrix bmk beginbmatrix u c h_t uc endbmatrix endequ h_t e_t prho total specif enthalpi second eigenvector k correspond middl contact wave gener time system variabl set beginequ bmw leftw_w_ w_mright endequ eigenvector beginequ bmki leftk_ik_i k_miright endequ itextth gener riemann invari given leftm right ode beginequ labeleqgri fracdw_k_i fracdw_k_i fracdw_mk_mi endequ take conserv variabl set eqconserved_variable_set contact wave eigenvector eqeigenvector substitut eqgri yield relat beginequ fracdleftrhoepsilonright fracdleftrhoepsilon urightu fracdleftrhoepsilon e_trightfracu endequ equal algebra manipul yield follow relationship across contact wave beginequ labeleqcontact_relationship u constant epsilon p constant endequ use eqcontact_relationship construct porou hllc flux porou hllc flux discontinu wave solut wavespe s_i associ lambda_i characterist rankinehugoniot condit state flux chang accord beginequ delta bmf s_idelta bmu endequ appli rankinehugoniot condit help us establish discret porou hllc flux appli rankinehugoniot condit left wave result beginequ labeleqleft_wav bmf_l bmf_l s_lleftbmu_l bmu_lright endequ analog center contact wave beginequ labeleqcenter_wav bmf_r bmf_l s_leftbmu_r bmu_lright endequ right wave beginequ labeleqright_wav bmf_r bmf_r s_rleftbmu_r bmu_rright endequ star flux written bmf_k bmfleftbmu_kright k denot l r preliminarili write beginequ labelequnknown_u bmu_k beginbmatrix rho_k rho_k u_k rho_k e_tk endbmatrix endequ goal eventu express bmu_k consequ bmf_k term known left right quantiti leverag inform eqcontact_relationship help us construct star region solut beginequ labeleqstar_region_info begincas epsilon_l p_l epsilon_r p_r u_l u_r u_ endcas endequ per citeptororiemann justifi select middl wave speed equal star region veloc beginequ labeleqvelocity_star_eqn s_ u_ endequ manipul mass momentum energi compon eqleft_wav eqright_wav construct equat star region densiti pressur total specif energi function known left right state middl wave speed s_ substitut s_ anyplac encount u_l u_r star region densiti relationship given beginequ labeleqdens rho_k rho_k fracs_k u_ks_k s_ endequ star region pressur relationship given beginequ labeleqpressure_eqn p_k p_k rho_klefts_k u_krightlefts_ u_kright endequ total specif energi relationship given beginequ labeleqenergy_eqn e_tk e_tk lefts_ u_krightlefts_ fracp_krho_klefts_k u_krightright endequ substitut eqdens eqpressure_eqn eqenergy_eqn equnknown_u use u_ s_ eqvelocity_star_eqn arriv vector express bmu_k beginequ bmu_k epsilon_k rho_k leftfracs_k u_ks_k s_right beginbmatrix s_ e_tk lefts_ u_krightlefts_ fracp_krho_klefts_k u_krightright endbmatrix endequ must establish equat s_ combin eqpressure_eqn pressur inform eqstar_region_info arriv beginequ labeleqstar_veloc s_ fracepsilon_r p_r epsilon_l p_l rho_l epsilon_l u_l lefts_l u_lright rho_r epsilon_r u_r lefts_r u_rrightepsilon_l rho_l lefts_l u_lright epsilon_r rho_r lefts_r u_rright endequ left right wave speed s_l s_r comput way free flow outlin cnsfvhllcbasemd s_l s_r final hllc flux construct beginequ labeleqporous_hllc bmf_hllc begincas bmf_l textrmif leq s_l bmf_l textrmif s_l leq leq s_ bmf_r textrmif s_ leq leq s_r bmf_r textrmif geq s_r endcas endequ note although deriv assum onedimension setup intermedi solut state bmu_k gener threedimens way analog multidimension freeflow intermedi solut express cnsfvhllcbasemd inde porou intermedi state simpli express beginequ bmu_kpor epsilon_k bmu_kfre endequ s_ express accord eqstar_veloc mass compon eqporous_hllc implement pcnsfvmasshllcmd momentum pcnsfvmomentumhllcmd fluid energi pcnsfvfluidenergyhllcmd bibtex bibliographi cnsfvfluidenergyhllc syntax descript fvkernelscnsfvfluidenergyhllc overview object implement energi equat intercel flux hartenlaxvan leercontact hllc formul describ cnsfvhllcbasemd syntax paramet fvkernelscnsfvfluidenergyhllc syntax input fvkernelscnsfvfluidenergyhllc syntax children fvkernelscnsfvfluidenergyhllc pinsfvenergyambientconvect descript kernel implement volumetr convect heat transfer term fluid solid energi equat add follow term rh equat fluid energi equat beginequ ep h t_ t_f endequ solid energi equat beginequ ep h t_f t_ endequ epsilon poros h heat transfer coeffici t_ solid temperatur t_f fluid temperatur syntax paramet fvkernelspinsfvenergyambientconvect syntax input fvkernelspinsfvenergyambientconvect syntax children fvkernelspinsfvenergyambientconvect pcnsfvmomentumgrav object add simpl gravit forc term compress porou media navierstokeseul momentum equat form epsilon rho vecg epsilon poros rho densiti vecg graviti vector syntax paramet fvkernelspcnsfvmomentumgrav syntax input fvkernelspcnsfvmomentumgrav syntax children fvkernelspcnsfvmomentumgrav insfvmomentumfrict syntax descript fvkernelsinsfvmomentumfrict syntax paramet fvkernelsinsfvmomentumfrict syntax input fvkernelsinsfvmomentumfrict syntax children fvkernelsinsfvmomentumfrict pcnsfvdensitytimederiv syntax descript fvkernelspcnsfvdensitytimederiv overview object comput residu beginequ int_omega_c epsilon fracpartialleftrho urightparti dv endequ epsilon poros rho densiti u correspond variabl specifi variabl paramet object current work rho variabl eg doesnt work comput partial rhoparti occur materi syntax paramet fvkernelspcnsfvdensitytimederiv syntax input fvkernelspcnsfvdensitytimederiv syntax children fvkernelspcnsfvdensitytimederiv insfvmomentumtimederiv object add rhofracparti vec u_iparti term incompress navier stoke momentum equat rho densiti vec u_i refer ith compon veloc vecu time kernel must appli everi compon veloc syntax paramet fvkernelsinsfvmomentumtimederiv syntax input fvkernelsinsfvmomentumtimederiv syntax children fvkernelsinsfvmomentumtimederiv insfvmixinglengthreynoldsstress kernel use mixinglength model comput reynold stress rho overlin vec u vec u appear reynoldsaverag momentum equat veloc scale comput use smagorinski formul syntax paramet fvkernelsinsfvmixinglengthreynoldsstress syntax input fvkernelsinsfvmixinglengthreynoldsstress syntax children fvkernelsinsfvmixinglengthreynoldsstress insfvenergytimederiv descript insfvenergytimederiv kernel implement time deriv domain omega given beginequ underbracerho c_p fracparti uparti t_textrminsfvenergytimederiv sum_in beta_i omega endequ rho materi densiti c_p specif heat second term left hand side correspond strong form kernel jacobian comput automat differenti syntax paramet fvkernelsinsfvenergytimederiv syntax input fvkernelsinsfvenergytimederiv syntax children fvkernelsinsfvenergytimederiv cnsfvmomentumgrav object add simpl gravit forc term compress navierstokeseul equat form rhovecg rho densiti vecg graviti vector syntax paramet fvkernelscnsfvmomentumgrav syntax input fvkernelscnsfvmomentumgrav syntax children fvkernelscnsfvmomentumgrav wcnsfvenergytimederiv descript wcnsfvenergytimederiv kernel implement time deriv domain omega given beginequ rho c_p fracparti uparti rho fracparti c_ppartial u fracparti rhoparti c_p u sum_in beta_i omega endequ rho materi densiti c_p specif heat second term left hand side correspond strong form kernel jacobian comput automat differenti syntax paramet fvkernelswcnsfvenergytimederiv syntax input fvkernelswcnsfvenergytimederiv syntax children fvkernelswcnsfvenergytimederiv pcnsfvkt syntax descript fvkernelspcnsfvkt overview object implement kurganovtadmor citepkurganovnew kt scheme comput intercel advect flux euler equat outlin import equat draw citepgreenshieldsimplement kt flux secondord gener laxfriedrich flux given face f written beginequ labeleqkt_flux bmf alpha phi_fbmpsi_f left alpharightphi_fbmpsi_f omega_fleftbmpsi_f bmpsi_fright endequ bmpsi_fpm repres vector advect quantiti beginequ phi_fpm epsilon_fpmbma_fpmcdothatn endequ epsilon poros bma lbrace uvwrbrac u v w compon particl veloc hatn normal vector point definit phi slightli differ citepgreenshieldsimplement contain face area essenti describ implement pcnsfvkt area multipl happen base class fvfluxkernel alpha defin beginequ alpha begincas frac textfor kurganovtadmor fracpsi_fpsi_f psi_f textfor kurganov noell petrova endcas endequ beginequ psi_f textmaxleftc_f phi_f c_f phi_f right psi_f textmaxleftc_f phi_f c_f phi_f right endequ c local comput speed sound default method comput alpha omega kurganov noell petrova citepkurganovsemidiscret knp sinc report citepgreenshieldsimplement less diffus enabl sharper front captur kt method comput alpha omega omega given beginequ omega_f begincas alpha textmaxleftpsi_f psi_fright textfor kt alphaleft alpharightleftpsi_f psi_fright textfor knp endcas endequ interpol bmpsi_fpm describ limitersindexmd syntax paramet fvkernelspcnsfvkt syntax input fvkernelspcnsfvkt syntax children fvkernelspcnsfvkt bibtex bibliographi cnsfvmomentumhllc syntax descript fvkernelscnsfvmomentumhllc overview object implement momentum equat intercel flux hartenlaxvan leercontact hllc formul describ cnsfvhllcbasemd syntax paramet fvkernelscnsfvmomentumhllc syntax input fvkernelscnsfvmomentumhllc syntax children fvkernelscnsfvmomentumhllc nsfvenergyambientconvect syntax descript fvkernelsnsfvenergyambientconvect syntax paramet fvkernelsnsfvenergyambientconvect syntax input fvkernelsnsfvenergyambientconvect syntax children fvkernelsnsfvenergyambientconvect pinsfvmomentumboussinesq object add epsilonrhoalphavecgt t_ref term incompress porou media navier stoke pin momentum equat epsilon poros rho densiti alpha thermal expans coeffici vecg graviti vector temperatur t_ref refer temperatur term introduc boussinesq approxim pin equat allow model natur convect effect buoyanc syntax paramet fvkernelspinsfvmomentumboussinesq syntax input fvkernelspinsfvmomentumboussinesq syntax children fvkernelspinsfvmomentumboussinesq pcnsfvfluidenergyhllc syntax descript fvkernelspcnsfvfluidenergyhllc overview object implement fluid energi equat portion porou hllc implement describ detail pcnsfvhllcmd syntax paramet fvkernelspcnsfvfluidenergyhllc syntax input fvkernelspcnsfvfluidenergyhllc syntax children fvkernelspcnsfvfluidenergyhllc pinsfvmomentumtimederiv object add rhofracparti vec u_diparti term porou media incompress navier stoke momentum equat rho densiti vec u_di refer ith compon superfici veloc vecud time kernel must appli everi compon veloc syntax paramet fvkernelspinsfvmomentumtimederiv syntax input fvkernelspinsfvmomentumtimederiv syntax children fvkernelspinsfvmomentumtimederiv pinsfvmomentumfrict kernel add friction term porou media navier stoke momentum equat kernel must use canon pinsfv variabl set eg pressur superfici veloc varieti model support friction forc linear friction laminar flow beginequ f_i f v_i endequ quadrat friction turbul flow beginequ f_i f v_i v_i endequ darci drag model beginequ f_i dfracf_iepsilon rho v_i endequ forchheim drag model beginequ f_i dfracf_iepsilon rho v_i endequ f_i ith compon friction forc f friction factor may anisotrop epsilon poros rho fluid densiti v_i fluid superfici veloc syntax paramet fvkernelspinsfvmomentumfrict syntax input fvkernelspinsfvmomentumfrict syntax children fvkernelspinsfvmomentumfrict wcnsfvmomentumtimederiv object add rhofracparti vec u_iparti fracparti rhoparti vec u_i term weakli compress navier stoke momentum equat rho densiti vec u_i refer ith compon veloc vecu time kernel must appli everi compon veloc syntax paramet fvkernelswcnsfvmomentumtimederiv syntax input fvkernelswcnsfvmomentumtimederiv syntax children fvkernelswcnsfvmomentumtimederiv pinsfvmomentumpressureporositygradi object add p nabla epsilon pressur gradient term incompress porou media navier stoke momentum equat element sourc term use conjunct pinsfvmomentumpressureflux kernel syntax paramet fvkernelspinsfvmomentumpressureporositygradi syntax input fvkernelspinsfvmomentumpressureporositygradi syntax children fvkernelspinsfvmomentumpressureporositygradi pnsfvmomentumpressurefluxrz syntax descript fvkernelspnsfvmomentumpressurefluxrz overview object add residu equival beginequ int_omega_c epsilon fracpr dv endequ use perform axisymmetr simul problemcoord_typerz epsilon nabla p term integr part done pcnsfvktmd pcnsfvhllcmd syntax paramet fvkernelspnsfvmomentumpressurefluxrz syntax input fvkernelspnsfvmomentumpressurefluxrz syntax children fvkernelspnsfvmomentumpressurefluxrz wavespeedvpp syntax descript vectorpostprocessorswavespeedvpp overview object take elem_id side_id input paramet output wave speed associ user care use object awar follow faceinfo object may associ given elem_id side_id instanc faceinfo live face associ elem_id side_id left elem_id side_id right faceinfo data retriev elem_id side_id pair faceinfo object alway associ lower element id case user request wave speed elem_id side_id wave speed would output element number differ replic distribut mesh mode even user get desir output given elem_id side_id pair run replic mesh may get output run distribut mesh reason state bullet syntax paramet vectorpostprocessorswavespeedvpp syntax input vectorpostprocessorswavespeedvpp syntax children vectorpostprocessorswavespeedvpp fvconvectioncorrelationinterfac syntax descript fvinterfacekernelsfvconvectioncorrelationinterfac surfac convect flux fluid beginequ q_ h_correl t_solid t_fluid endequ q_ surfac convect heat flux h_correl heat transfer coeffici defin correl materi properti t_solidfluid temperatur adjac solid fluid exampl input file syntax exampl cold fluid flow next centrallyh solid region heat diffus solid region convect interfac transfer heat fluid list modulesnavier_stokestesttestsfinite_volumefviksconvectionconvection_chann blockfvinterfacekernel syntax paramet fvinterfacekernelsfvconvectioncorrelationinterfac syntax input fvinterfacekernelsfvconvectioncorrelationinterfac syntax children fvinterfacekernelsfvconvectioncorrelationinterfac porousconservedvarmateri syntax descript materialsporousconservedvarmateri overview object porou version freeflow object conservedvarvaluesmaterialmd use variabl set beginequ beginbmatrix rho epsilon rho u epsilon rho v epsilon rho w rho e_t endbmatrix endequ epsilon poros rho densiti u v w compon veloc e_t total specif energi equival e leftbmacdotbmaright e specif intern energi bma lbrace u v wrbrace porousconservedvarmateri take variabl comput necessari quantiti solv compress porou version euler equat syntax paramet materialsporousconservedvarmateri syntax input materialsporousconservedvarmateri syntax children materialsporousconservedvarmateri mixinglengthturbulentviscositymateri materi calcul total_viscos essenti sum materi kinemat viscos turbul kinemat viscos comput use mix length model syntax descript materialsmixinglengthturbulentviscositymateri syntax paramet materialsmixinglengthturbulentviscositymateri syntax input materialsmixinglengthturbulentviscositymateri syntax children materialsmixinglengthturbulentviscositymateri rhofromptfunctormateri syntax descript materialsrhofromptfunctormateri overview object take fluid properti object coupl pressur temperatur variabl provid functor materi properti rho evalu local pressur temperatur rho_from_p_t_pressurex _temperaturex x repres physic locat eg element face syntax paramet materialsrhofromptfunctormateri syntax input materialsrhofromptfunctormateri syntax children materialsrhofromptfunctormateri generalfunctorfluidprop syntax descript materialsgeneralfunctorfluidprop overview object use singlephasefluidproperti derivedobject comput follow properti specif heat constant volum c_v specif heat constant pressur c_p dynam viscos mu thermal conduct k prandtl number textpr poreparticl reynold number textr hydraul reynold number textre_h interstiti reynold number textre_i time deriv specif heat constant pressur c_p densiti rho pressur temperatur deriv specif heat constant pressur c_p densiti rho dynam viscos mu thermal conduct k prandtl number textpr pore reynold number textr syntax paramet materialsgeneralfunctorfluidprop syntax input materialsgeneralfunctorfluidprop syntax children materialsgeneralfunctorfluidprop porousprimitivevarmateri syntax descript materialsporousprimitivevarmateri overview object use variabl set beginequ beginbmatrix p epsilon u epsilon v epsilon w t_f endbmatrix endequ epsilon poros u v w compon veloc p pressur t_f fluid temperatureporousprimitivevarmateri take variabl comput necessari quantiti solv compress porou version euler equat syntax paramet materialsporousprimitivevarmateri syntax input materialsporousprimitivevarmateri syntax children materialsporousprimitivevarmateri insadeqn object comput strong residu incompress energi equat use stabil kernel well core insadenergi kernel strong weak form eg term integr part syntax descript materialsinsadeqn syntax paramet materialsinsadeqn syntax input materialsinsadeqn syntax children materialsinsadeqn insfvmateri materi comput advect quantiti use insfv advect object eg quantiti like rho u rho v rho w syntax descript materialsinsfvmateri syntax paramet materialsinsfvmateri syntax input materialsinsfvmateri syntax children materialsinsfvmateri air syntax descript materialsair syntax paramet materialsair syntax input materialsair syntax children materialsair soundspeedmat syntax descript materialssoundspeedmat overview object simpli comput sound_spe materi properti given singlephasefluidproperti deriv object specifi fp paramet object reli pressur fluid temperatur comput materi properti materi object syntax paramet materialssoundspeedmat syntax input materialssoundspeedmat syntax children materialssoundspeedmat insadmateri object comput strong residu use stabil kernel well core insad kernel strong weak form eg term integr part syntax descript materialsinsadmateri syntax paramet materialsinsadmateri syntax input materialsinsadmateri syntax children materialsinsadmateri porousmixedvarmateri syntax descript materialsporousmixedvarmateri overview object use variabl set beginequ beginbmatrix p epsilon rho u epsilon rho v epsilon rho w t_f endbmatrix endequ epsilon poros rho densiti u v w compon veloc p pressur t_f fluid temperatureporousmixedvarmateri take variabl comput necessari quantiti solv compress porou version euler equat syntax paramet materialsporousmixedvarmateri syntax input materialsporousmixedvarmateri syntax children materialsporousmixedvarmateri insadstabilizedeqn object comput stabil paramet tau_ use streamlineupwind kernel energi equat syntax descript materialsinsadstabilizedeqn syntax paramet materialsinsadstabilizedeqn syntax input materialsinsadstabilizedeqn syntax children materialsinsadstabilizedeqn insadtaumateri object comput stabil paramet tau use pressurestabl streamlineupwind kernel syntax descript materialsinsadtaumateri syntax paramet materialsinsadtaumateri syntax input materialsinsadtaumateri syntax children materialsinsadtaumateri generalfluidprop syntax descript materialsgeneralfluidprop overview object use singlephasefluidproperti derivedobject comput specif heat constant volum c_v specif heat constant pressur c_p dynam viscos mu thermal conduct k prandtl number textpr poreparticl reynold number textr hydraul reynold number textre_h interstiti reynold number textre_i syntax paramet materialsgeneralfluidprop syntax input materialsgeneralfluidprop syntax children materialsgeneralfluidprop conservedvarvaluesmateri syntax descript materialsconservedvarvaluesmateri overview object take conserv freeflow variabl set comput necessari quantiti solv compress freeflow euler equat conserv variabl set case beginequ beginbmatrix rho rho u rho v rho w rho e_t endbmatrix endequ rho densiti u v w compon veloc e_t total specif energi equival e leftbmacdotbmaright e specif intern energi bma lbrace u v wrbrace syntax paramet materialsconservedvarvaluesmateri syntax input materialsconservedvarvaluesmateri syntax children materialsconservedvarvaluesmateri nsimposedvelocitybc syntax descript bcsnsimposedvelocitybc syntax paramet bcsnsimposedvelocitybc syntax input bcsnsimposedvelocitybc syntax children bcsnsimposedvelocitybc implicitneumannbc syntax descript bcsimplicitneumannbc syntax paramet bcsimplicitneumannbc syntax input bcsimplicitneumannbc syntax children bcsimplicitneumannbc nsmassspecifiednormalflowbc syntax descript bcsnsmassspecifiednormalflowbc syntax paramet bcsnsmassspecifiednormalflowbc syntax input bcsnsmassspecifiednormalflowbc syntax children bcsnsmassspecifiednormalflowbc advectionbc syntax descript bcsadvectionbc boundari condit account advect scalar quantiti phi veloc vecv usual appli outflow boundari condit origin integr part nabla cdot vecv phi multipli test function psi use green ident give beginequ int_omega psi nabla cdot vecv phi omega int_omega nabla psi cdot vecv phi omega int_parti omega psi phi vecn cdot vecv endequ boundari partial omega divid two part inflow outflow satsifi beginequ beginalign partial omegavecn cdot vecv partial omegavecn cdot vecv endalign endequ boundari condit appli inflow boundari eg valu phi may known set dirichlet boundari condit howev term beginequ int_parti omega psi phi vecn cdot vecv endequ still need appli pde cover advectionbc syntax paramet bcsadvectionbc syntax input bcsadvectionbc syntax children bcsadvectionbc insmomentumnobcbctractionform syntax descript bcsinsmomentumnobcbctractionform syntax paramet bcsinsmomentumnobcbctractionform syntax input bcsinsmomentumnobcbctractionform syntax children bcsinsmomentumnobcbctractionform nsmassunspecifiednormalflowbc syntax descript bcsnsmassunspecifiednormalflowbc syntax paramet bcsnsmassunspecifiednormalflowbc syntax input bcsnsmassunspecifiednormalflowbc syntax children bcsnsmassunspecifiednormalflowbc nsmomentumviscousbc syntax descript bcsnsmomentumviscousbc syntax paramet bcsnsmomentumviscousbc syntax input bcsnsmomentumviscousbc syntax children bcsnsmomentumviscousbc nsthermalbc syntax descript bcsnsthermalbc syntax paramet bcsnsthermalbc syntax input bcsnsthermalbc syntax children bcsnsthermalbc nsstagnationpressurebc syntax descript bcsnsstagnationpressurebc syntax paramet bcsnsstagnationpressurebc syntax input bcsnsstagnationpressurebc syntax children bcsnsstagnationpressurebc nsmomentuminviscidspecifiedpressurebc syntax descript bcsnsmomentuminviscidspecifiedpressurebc syntax paramet bcsnsmomentuminviscidspecifiedpressurebc syntax input bcsnsmomentuminviscidspecifiedpressurebc syntax children bcsnsmomentuminviscidspecifiedpressurebc nsinflowthermalbc syntax descript bcsnsinflowthermalbc syntax paramet bcsnsinflowthermalbc syntax input bcsnsinflowthermalbc syntax children bcsnsinflowthermalbc nspressureneumannbc syntax descript bcsnspressureneumannbc syntax paramet bcsnspressureneumannbc syntax input bcsnspressureneumannbc syntax children bcsnspressureneumannbc energyfreebc syntax descript bcsenergyfreebc syntax paramet bcsenergyfreebc syntax input bcsenergyfreebc syntax children bcsenergyfreebc nsenergyviscousbc syntax descript bcsnsenergyviscousbc syntax paramet bcsnsenergyviscousbc syntax input bcsnsenergyviscousbc syntax children bcsnsenergyviscousbc nsmomentuminviscidspecifiednormalflowbc syntax descript bcsnsmomentuminviscidspecifiednormalflowbc syntax paramet bcsnsmomentuminviscidspecifiednormalflowbc syntax input bcsnsmomentuminviscidspecifiednormalflowbc syntax children bcsnsmomentuminviscidspecifiednormalflowbc massfreebc syntax descript bcsmassfreebc syntax paramet bcsmassfreebc syntax input bcsmassfreebc syntax children bcsmassfreebc insadmomentumnobcbc insadmomentumnobcbc class use implement boundari condit develop griffithshttpsonlinelibrarywileycomdoiabssicicaidfldecoo accord griffith boundari condit equival impos condit origin analyt problem pst deriv finit element variabl order p vanish point close outflow claim reduc error rel natur boundari condit syntax descript bcsinsmomentumnobcbclaplaceform syntax paramet bcsinsmomentumnobcbclaplaceform syntax input bcsinsmomentumnobcbclaplaceform syntax children bcsinsmomentumnobcbclaplaceform nsenergyinviscidspecifiednormalflowbc syntax descript bcsnsenergyinviscidspecifiednormalflowbc syntax paramet bcsnsenergyinviscidspecifiednormalflowbc syntax input bcsnsenergyinviscidspecifiednormalflowbc syntax children bcsnsenergyinviscidspecifiednormalflowbc nsenergyinviscidspecifieddensityandvelocitybc syntax descript bcsnsenergyinviscidspecifieddensityandvelocitybc syntax paramet bcsnsenergyinviscidspecifieddensityandvelocitybc syntax input bcsnsenergyinviscidspecifieddensityandvelocitybc syntax children bcsnsenergyinviscidspecifieddensityandvelocitybc nsstagnationtemperaturebc syntax descript bcsnsstagnationtemperaturebc syntax paramet bcsnsstagnationtemperaturebc syntax input bcsnsstagnationtemperaturebc syntax children bcsnsstagnationtemperaturebc momentumfreeslipbc syntax descript bcsmomentumfreeslipbc syntax paramet bcsmomentumfreeslipbc syntax input bcsmomentumfreeslipbc syntax children bcsmomentumfreeslipbc nsmomentumconvectiveweakstagnationbc syntax descript bcsnsmomentumconvectiveweakstagnationbc syntax paramet bcsnsmomentumconvectiveweakstagnationbc syntax input bcsnsmomentumconvectiveweakstagnationbc syntax children bcsnsmomentumconvectiveweakstagnationbc nsenergyinviscidspecifiedbc syntax descript bcsnsenergyinviscidspecifiedbc syntax paramet bcsnsenergyinviscidspecifiedbc syntax input bcsnsenergyinviscidspecifiedbc syntax children bcsnsenergyinviscidspecifiedbc nsenergyinviscidspecifiedpressurebc syntax descript bcsnsenergyinviscidspecifiedpressurebc syntax paramet bcsnsenergyinviscidspecifiedpressurebc syntax input bcsnsenergyinviscidspecifiedpressurebc syntax children bcsnsenergyinviscidspecifiedpressurebc nsmomentumpressureweakstagnationbc syntax descript bcsnsmomentumpressureweakstagnationbc syntax paramet bcsnsmomentumpressureweakstagnationbc syntax input bcsnsmomentumpressureweakstagnationbc syntax children bcsnsmomentumpressureweakstagnationbc nsimposedvelocitydirectionbc syntax descript bcsnsimposedvelocitydirectionbc syntax paramet bcsnsimposedvelocitydirectionbc syntax input bcsnsimposedvelocitydirectionbc syntax children bcsnsimposedvelocitydirectionbc nsmassweakstagnationbc syntax descript bcsnsmassweakstagnationbc syntax paramet bcsnsmassweakstagnationbc syntax input bcsnsmassweakstagnationbc syntax children bcsnsmassweakstagnationbc instemperaturenobcbc syntax descript bcsinstemperaturenobcbc syntax paramet bcsinstemperaturenobcbc syntax input bcsinstemperaturenobcbc syntax children bcsinstemperaturenobcbc nspenalizednormalflowbc syntax descript bcsnspenalizednormalflowbc syntax paramet bcsnspenalizednormalflowbc syntax input bcsnspenalizednormalflowbc syntax children bcsnspenalizednormalflowbc nsmomentuminviscidnopressureimplicitflowbc syntax descript bcsnsmomentuminviscidnopressureimplicitflowbc syntax paramet bcsnsmomentuminviscidnopressureimplicitflowbc syntax input bcsnsmomentuminviscidnopressureimplicitflowbc syntax children bcsnsmomentuminviscidnopressureimplicitflowbc insmomentumnobcbclaplaceform syntax descript bcsinsmomentumnobcbclaplaceform syntax paramet bcsinsmomentumnobcbclaplaceform syntax input bcsinsmomentumnobcbclaplaceform syntax children bcsinsmomentumnobcbclaplaceform nsenergyweakstagnationbc syntax descript bcsnsenergyweakstagnationbc syntax paramet bcsnsenergyweakstagnationbc syntax input bcsnsenergyweakstagnationbc syntax children bcsnsenergyweakstagnationbc momentumfreebc syntax descript bcsmomentumfreebc syntax paramet bcsmomentumfreebc syntax input bcsmomentumfreebc syntax children bcsmomentumfreebc nsenergyinviscidunspecifiedbc syntax descript bcsnsenergyinviscidunspecifiedbc syntax paramet bcsnsenergyinviscidunspecifiedbc syntax input bcsnsenergyinviscidunspecifiedbc syntax children bcsnsenergyinviscidunspecifiedbc nsfunctioninitialcondit nsfunctioninitialcondit use initi variabl evalu fluid properti use functionssyntaxfunctionsindexmd pressur temperatur veloc exampl input file syntax exampl initi densiti desir initi temperatur pressur condit list modulesnavier_stokestesttestsicstest_functioni blockicsrho syntax paramet icsnsfunctioninitialcondit syntax input icsnsfunctioninitialcondit syntax children icsnsfunctioninitialcondit pnsinitialcondit pnsinitialcondit use initi variabl evalu fluid properti porou flow calcul accept interstiti superfici veloc initi superfici interstiti veloc variabl energi exampl input file syntax exampl initi first compon superfici momentum specifi superfici veloc superfici veloc specifi vector could altern specifi interstiti veloc poros list modulesnavier_stokestesttestsicspns_testi blockicssuperficial_rh syntax paramet icspnsinitialcondit syntax input icspnsinitialcondit syntax children icspnsinitialcondit nsinitialcondit nsinitialcondit use initi variabl evalu fluid properti exampl input file syntax exampl initi densiti desir initi temperatur pressur condit list modulesnavier_stokestesttestsicstesti blockicsrho syntax paramet icsnsinitialcondit syntax input icsnsinitialcondit syntax children icsnsinitialcondit cnsaction syntax descript modulescompressiblenavierstokescnsact overview action use set navierstok equat subdomain boundari condit must cover entir boundari enclos subdomain action trigger modulescompressiblenavierstok input syntax exampl input file syntax describ includ exampl use cnsaction action syntax paramet modulescompressiblenavierstokescnsact insact syntax descript modulesincompressiblenavierstokesinsact overview action use set incompress navierstok equat subdomain boundari condit must cover entir boundari enclos subdomain action trigger modulesincompressiblenavierstok input syntax exampl input file syntax syntax paramet modulesincompressiblenavierstok navierstok modul moos navierstok modul librari implement simul tool solv navierstok equat use either continu galerkin finit element cgfe finit volum fv method navierstok equat usual solv use either pressurebas incompress formul assum constant fluid densiti densitybas compress formul although plan add finit volum weaklycompress pressuredbas implement nottoodist futur document specif finit element finit volum implement pleas refer page continu galerkin finit elementnavier_stokescgfemd incompress finit volumeinsfvmd weakli compress finit volumewcnsfvmd porou media incompress finit volumepinsfvmd compress finit volum hllccnsfvhllcbasemd porou media compress finit volum kurganovtadmorpcnsfvktmd porou media compress finit volum hllcpcnsfvhllcmd turbul model theorynavier_stokesrans_theorymd give brief tabular summari navierstok implement tabl idnavier_stokes_summari captionsummari navierstok implement prefix jacobian compress turbul support friction support method advect strategi in handcod incompress none porou cgfe supg insad ad incompress smagorinski porou cgfe supg ns handcod compress none porou cgfe supg insfv ad incompress mix length porou fv rc cd veloc limit advect wcnsfv ad weakli compress mix length porou fv rc cd veloc limit advect pinsfv ad incompress none darci forcheim fv rc cd veloc limit advect cnsfvhllc ad compress none porou fv hllc piecewis constant data pcnsfvhllc ad compress none darci forcheim fv hllc piecewis constant data pcnsfvkt ad compress none darci forcheim fv kurganovtadmor limit data tabl definit ad automat differenti supg streamlineupwind petrovgalerkin rc rhiechow interpol cd central differenc interpol equival averag interpol hllc harten lax van leer contact data includ advector veloc advect quantiti limit differ limit appli interpol cellcent data face summari limit option found limitersindexmd syntax complet groupsnavierstokesapp continu galerkin finit element navier stoke cgfe method implement solv either incompress compress navierstok equat origin cgfe method usual numer stabl solv problem peclet number greater supg streamlin upwind petrov galerkin scheme implement stabil solut smooth compress flow lowdiffus discontinuityshockcaptur scheme requir current absent cgfe method obtain nonoscillatori solut flow problem contain contact discontinu shock wave compress flow problem user choos cgfe method flow field suffici smooth incompress flow implement pressurestabil petrovgalerkin pspg streamlineupwind petrovgalerkin supg method former stabil allow use equal order shape function introduc ondiagon depend pressur equat remov saddlepoint natur problem latter supg method allow simul much higher reynold number supg use overview incompress navierstok capabl pleas see journal articl herehttpswwwsciencedirectcomsciencearticlepiisviadihub preprint herehttpsarxivorgpdfpdf note automat differenti version incompress object creat object current perform handcod peer use seamlessli simul mesh deform guarante gener correct jacobian known limit ad in implement limit present handcod in implement stabil method inconsist second order lagrange_vec basi use veloc variabl second deriv implement libmesh vector fe type consequ add contribut viscou term includ laplacian oper note in rz note regard in rz equat deriv two addit term introduc rcompon strong represent momentum equat viscou term one addit term introduc rcompon weak represent momentum equat viscou term one addit term introduc zcompon strong represent momentum equat viscou term zero addit term introduc zcompon weak represent momentum equat viscou term addit pressur term enter weak form rcompon momentum equat pressur term integr part addit term appear strong form term integr part integr part part form weak form addit term introduc mass balanc equat deriv rz weak form inspect heremediajwpetersonrzderivationpdf rz in test suffici long channel flow fulli develop channel exit grad_u normal equal zero premis true pressur integr part natur boundari condit impos outflow boundari pressur outflow also zero rz channel test steadi simul volumetr inflow rate equal volumetr outflow rate inflow equal correspond exact integr beginequ pi int_ r r mathrmdr endequ r repres inlet function normal veloc compon inlet summari volumetr outflow differ in formul formul outflow integr part natur bc integr part natur bc integr part nobcbc integr part nobcbc nobcbc case meshuniform_refin appli outflow converg correct solut note result tabl achiev whether use standard variabl handcod jacobian in implement vector variabl ad jacobian in implement fact steadi test four case use gold file two implement stabil rz in test summari differ stabil in rz test natur boundari condit use outflow case note second order basi capabl exactli captur quadrat charact inlet flow function first order basi order tabl refer veloc order formul inflow outflow ad integr part first order supg pspg handcod integr part first order supg pspg ad integr part first order supg pspg handcod integr part first order supg pspg ad integr part second order supg pspg handcod integr part second order supg pspg ad integr part second order supg pspg handcod integr part second order supg pspg note tabl case incorrect result outflow approach correct solut mesh refin second order handcod case achiev correct result base level mesh refin equival ad case ye global outflow variabl integr part case accur comparison toler exodiff execut ad handcod case show file differ given first order case ident symlink handcod ad firstord case gold directori differ due inabl calcul second deriv vector variabl lead inabl includ laplacian veloc strong form momentum residu first order basi inabl includ laplacian term induc error howev second order basi in recommend comput displac mesh use handcod in implement slightli faster includ laplacian term supg pspg stabil method mean complet consist exhibit less error finit element solut comput displac mesh use ad implement includ deriv respect displac jacobian nonlinear solv effici use ad implement either run unstabil second order basi veloc first order basi pressur desir stabil use first order basi veloc variabl introduc inconsist recal vector variabl ad implement current includ laplacian term first order basi incur error second order basi finit volum incompress porou media navier stoke equat modul implement porou media navier stoke equat express term superfici viscos vecv_d ep vecv ep poros vecv interstiti veloc superfici viscos also known extrins darci veloc nonlinear variabl use pressur temperatur known primit superfici set variabl mass equat beginequ div rho vecv_d endequ momentum equat friction graviti forc exampl forc beginequ dfracparti rho mathbfv_dparti nabla cdot dfracrhoepsilon mathbfv_d otim mathbfv_d nabla cdot mu nabla dfracmathbfv_depsilon epsilon nabla p epsilon mathbff_g mathbff_f endequ fluid phase energi equat convect heat transfer term beginequ dfracparti epsilon rho c_p t_fpartial nabla cdot dfracrhoepsilon mathbfv_d rho c_pf t_f nabla cdot kappa_f nabla t_f epsilon alpha t_f t_ endequ solid phase energi equat convect heat transfer energi sourc dotq beginequ dfracparti epsilon rho c_p t_spartial nabla cdot kappa_ nabla t_ epsilon alpha t_f t_ epsilon dotq endequ rho fluid densiti mu viscos c_p specif heat capac alpha convect heat transfer coeffici implement straight channel defin straight channel use simpl cartesian mesh list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockmesh non linear variabl specifi among insfv pinsfv set variabl evalu comput gradient face specif treatment navier stoke equat list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockvari porou media navier stoke equat implement use fvkernel correspond term equat follow exampl first kernel mass advect kernel kernel correspond conserv mass act pressur nonlinear variabl appear mass equat rhie chow interpol mass flux element face action veloc momentum equat list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockfvkernelsmass add kernel act x compon momentum essenti transcrib first compon momentum equat moos momentum advect term defin pinsfvmomentumadvect kernel poros constant poros gradient term defin pinsfvmomentumadvectionporositygradi kernel includ momentum equat requir veloc advect quantiti interpol method kernel fvflux kernel use diverg theorem comput diverg base face flux rather volumetr diverg valu veloc interpol method may averag rc rhie chow latter prefer avoid oscil pressur due grid colloc list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockfvkernelsu_advect next term momentum diffus term aris viscou stress fluid incompress approxim simplifi treatment term also evalu use diverg theorem list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockfvkernelsu_viscos pressur gradient term momentum equat express use pinsfvmomentumpressur term list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockfvkernelsu_pressur set kernel defin compon superfici veloc transcrib compon momentum equat test featur varieti boundari condit list fvbc block may use time user select activ desir one list follow exampl boundari condit first compon superfici veloc slip wall list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockfvbcsnoslipu free slip wall list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockfvbcsfreeslipu symmetri axi symmetri condit also indic pressur variabl list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockfvbcssymmetryu list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockfvbcssymmetryp inlet veloc specifi mass flux given densiti constant list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockfvbcsinletu momentum advect outflow meanpressur approach equival execut momentum advect kernel boundari list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockfvbcsoutletu alert note pinsfv version boundari condit exist may insfv version valid use replac veloc superfici veloc pressur boundari condit usual set outlet list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockfvbcsoutletp meanpressur approach usual caviti problem user may specifi mass advect boundari condit equival execut mass advect kernel boundari list modulesnavier_stokestesttestsfinite_volumepinschannelflowdrci blockfvbcsoutletpnovalu exampl input heat straight channel channel featur porou media temperatur exchang convect fluid solid phase fluid temperatur obey porou media navier stoke energi equat advect diffus fluid energi inlet boundari condit set fvneumannbc specifi incom flux altern would use fvdirichletbc specifi inlet temperatur depend numer scheme comput advect quantiti face exact solid temperatur default constant input file howev activ relev nonlinear variabl fvkernel fvbc input also allow solv solid phase temperatur list modulesnavier_stokestesttestsfinite_volumepinschannelflowheateddrcheatedi exampl input straight channel poros chang channel featur chang poros either sharp discontinu continu variat two region depend poros initi condit ic block rhie chow interpol momentum equat featur pressur gradient superfici momentum advect diffus term featur poros invers poros gradient illdefin near discontinu deal issu discontinu case use fluxbas formul pressur gradient pinsfvmomentumpressureflux studi case continu poros gradient smooth_poros boolean paramet may provid kernel enabl full treatment pressur poros gradient list modulesnavier_stokestesttestsfinite_volumepinschannelflowporosity_jumpdrcepsjumpi input one test verifi conserv mass momentum energi featur straight diverg channel test also featur postprocessor measur flow conserv quantiti intern extern boundari geometri switch use inact paramet mesh block list modulesnavier_stokestesttestspostprocessorsconservation_pinsfvi pronghorn predefin temperatur pressur depend materi properti closur relat effect viscos thermal conduct drag model model requir model nuclear reactor found pronghorn applic access pronghorn may request herehttpsinlgovncrc creat softwar request weakli compress finit volum navier stoke weakli compress implement navier stoke equat finit volum larg base incompress versioninsfvmd except constant densiti replac functor materi properti incompress kernel adapt use functor materi properti kernel adapt directli kernel differ two formul time deriv kernel includ densiti time deriv wcnsfvmasstimederivativemd wcnsfvmomentumtimederivativemd wcnsfvenergytimederivativemd lid driven caviti heat flow show exampl input file caviti move lid differ heat sourc side caviti list modulesnavier_stokestesttestsfinite_volumeinsboussinesqtransientwcnsfvi heat channel flow show exampl input file heat channel fluid progress heat channel volumetr heat sourc list modulesnavier_stokestesttestsfinite_volumewcnschannelflowdtransienti turbul model introduct moos navierstok modul includ experiment turbul model capabl present model insuffici standalon predict simul recommend user tune model paramet problem interest use experiment data higherfidel code refer solut reynold averag one common approach turbul flow model use reynold averag procedur procedur relev variabl decompos averag valu fluctuat valu exampl veloc decompos bmv overlinebmv bmv overlinebmv averag valu bmv fluctuat compon difficult rigor defin meant averag meant fluctuat concept roughli defin averag compon compon intend explicitli resolv numer solver fluctuat compon remaind vari scale smaller solver mesh size andor faster solver time step detail discuss refer book bailli comtebellot citepbailly_ch moukal et al citepmoukalled_ch averag procedur also understood relat obey includ beginequ overlinea b overlinea overlineb endequ beginequ overlineoverlinea b overlineaoverlineb endequ beginequ overlinefracparti aparti fracparti overlineaparti endequ beginequ overlinea endequ beginequ overlineoverlinea b endequ equat turbul flow deriv appli reynold averag procedur relev equat exampl consid conserv linear momentum xdirect written beginequ fracparti rho v_xpartial nabla cdot rho v_x bmv f_x endequ rho fluid densiti v veloc f_x xcompon forc felt fluid first step reynold averag process appli decomposit analysi restrict incompress flow mean rho overlinerho rho appli decomposit variabl give beginequ fracparti rho left overlinev_x v_x rightparti nabla cdot rho left overlinev_x v_x right left overlinebmv bmv right overlinef_x f_x endequ solver resolv averag behavior next step appli averag oper term beginequ fracparti rho overlinev_xparti nabla cdot rho overlinev_xoverlinebmv nabla cdot rho overlin v_x bmv overlinef_x endequ beginequ fracparti rho overlinev_xparti nabla cdot rho overlinev_xoverlinebmv overlinef_x nabla cdot rho overlin v_x bmv labeleqrans_mom_x endequ quantiti rho overlinev_x bmv seen eqrans_mom_x known reynold stress model chang resolv momentum due covari unresolv veloc field model need relat reynold stress known quantiti system like averag veloc one model frequent use engin analysi boussinesq hypothesi treat reynold stress function form similar one use viscou stress boussinesq hypothesi turbul momentum transfer forc due viscou friction analyz term viscou stress tensor bmtau beginequ bmf_textvisc nabla cdot bmtau endequ newtonian fluid stress tensor given beginequ bmtau mu left nabla bmv left nabla v rightt frac left nabla cdot bmv right bmi right mu_b left nabla cdot bmv right bmi endequ mu dynam viscos mu_b bulk viscos ident matrix boussinesq hypothesi model reynold stress analog form citepbailly_ch moukalled_ch beginequ rho overlinebmv bmv mu_t left nabla overlinebmv left nabla overlinebmv rightt right frac rho k_t bmi endequ mu_t eddi viscos k_t turbul kinet energi defin beginequ k_t frac left overlinebmv cdot bmv right endequ boussinesq hypothesi also state term epsilon_m eddi diffus momentum beginequ rho overlinebmv bmv rho epsilon_m left nabla overlinebmv left nabla overlinebmv rightt right frac rho k_t bmi labeleqboussinesq endequ note epsilon_m analog kinemat viscos nu mu rho epsilon_m also refer eddi viscos sourc practic matter second term righthandsid eqboussinesq frequent neglect implicitli subsum pressur term momentum equat new pressur variabl refer turbul pressur instead thermodynam pressur citepmoukalled_ch neglect term result model beginequ rho overlinebmv bmv rho epsilon_m left nabla overlinebmv left nabla overlinebmv rightt right labeleqboussinesq endequ stress model implement insfvmixinglengthreynoldsstresssourcefvkernelsinsfvmixinglengthreynoldsstressmd kernel turbul energi transfer model effect turbul conserv energi deriv follow process use conserv momentum first reynoldsaverag procedur appli conserv equat flux due fluctuat covari term replac model analog one use molecular process conserv energi express beginequ fracparti rho c_p tpartial nabla cdot rho c_p bmv nabla cdot q_textcond q_t endequ c_p specif heat capac q_textcond heat flux due molecular conduct q_t captur sourc loss heat note equat conserv energi case constant rho c_p conduct term model fourier law beginequ q_textcond lambda nabla endequ lambda thermal conduct substitut fourier law give form beginequ fracparti rho c_p tpartial nabla cdot rho c_p bmv nabla cdot lambda nabla q_t endequ reynold averag procedur appli find beginequ fracparti rho c_p overlinetparti nabla cdot rho c_p overlinet bmv nabla cdot lambda nabla overlinet overlineq_t endequ beginequ fracparti rho c_p overlinetparti nabla cdot rho c_p overlinetoverlinebmv nabla cdot rho c_p overlinet bmv nabla cdot lambda nabla overlinet overlineq_t endequ boussinesq hypothesi turbul momentum transfer model turbul heat transfer analog molecular mechan beginequ rho c_p overlinet bmv rho c_p epsilon_q nabla overlinet endequ epsilon_q eddi diffus heat citeplienhard_ch diffus heat relat diffus momentum beginequ textpr_t fracepsilon_mepsilon_q endequ textpr_t turbul prandtl number citeplienhard_ch turbul transfer trace speci problem also requir model transport trace chemic eg dye fluid analysi limit dilut substanc signific impact bulk fluid properti like rho mu conserv passiv speci express beginequ fracparti cpartial nabla cdot c bmv nabla cdot gamma nabla c q_c endequ c concentr speci number molecul mole per unit volum gamma molecular diffus coeffici fick law alreadi appli equat q_c unspecifi sourc andor loss term appli reynold averag procedur lead equat beginequ fracparti overlinecparti nabla cdot overlinecoverlinebmv nabla cdot overlinec bmv nabla cdot gamma nabla overlinec overlineq_c endequ molecular analog beginequ overlinec bmv epsilon_c nabla overlinec endequ epsilon_c turbul diffus passiv speci turn model relationship beginequ textsc_t fracepsilon_mepsilon_c endequ textsc_t turbul schmidt number citeptominaga mixinglength model mani model use cfd code comput eddi viscos mu_t popular isotrop equat model kepsilon komega howev moos navierstok modul support simpl algebra mixinglength model present deriv mix length model gener consid geometri nearwal region let x direct tangenti wall direct perpendicular wall notat eddi diffus model citepbailly_ch todreas_ch beginequ epsilon_m l_m bigg fracparti v_xpartial bigg endequ l_m mix length characterist length turbul eddi fluid mix length discuss model use analysi simpl geometri inconveni appli gener mesh wall may take arbitrari shape clear way defin direct parallel perpendicular wall gener case eg consid mesh cell wall two side consequ use smagorinski veloc scale beginequ epsilon_m l_m s_ijs_ij endequ s_ij cdot left fracparti u_iparti x_j fracparti u_jparti x_i right momentum diffus model implement insfvmixinglengthreynoldsstresssourcefvkernelsinsfvmixinglengthreynoldsstressmd kernel correspond model diffus passiv scalar like energi implement insfvmixinglengthscalardiffusionsourcefvkernelsinsfvmixinglengthscalardiffusionmd kernel model need mix length one popular choic assum mix length proport distanc nearest wall citepbailly_ch todreas_ch beginequ l_m k endequ walldist k known von krmn constant von krmn k often use nearwal region citeptodreas_ch modif model done citepescudi claim mix length grow linearli boundari layer region take constant valu prevent excess growth prandtl origin mix length model equat mix length beginequ l_m kappa y_d quad kappa y_d kappa_ delta l_m kappa_ delta quad kappa y_d geq kappa_ delta endequ kappa von karman constant kappa_ escudi model delta length unit repres thick veloc boundari layer note larg valu delta mix length prandtl origin model obtain mix length implement walldistancemixinglengthauxsourceauxkernelswalldistancemixinglengthauxmd auxiliari kernel note walldist calcul expens larg mesh mesh constant time cost amort set execute_on paramet initi wall distanc comput begin simul tune mix length practic mix length distribut highli problemdepend also known defici mix length model exampl model predict turbul mix veloc gradient zero consequ recommend user compar result gener model refer solut either experi softwar higher fidel model comparison also use tune appropri mix length model system interest exampl directori includ simpl circular pipe problem show k tune simul pressur drop match correl also note moos auxkernel use implement differ mix length model exampl nearwal region core region pipe assign differ mesh block walldistancemixinglengthaux combin constantaux model mix length proport walldist nearwal region constant elsewher wall function boundari condit veloc wallbound flow veloc gradient present near wall region quit steep therefor mesh resolut need captur gradient becom expens econom comput time storag wall function propos equat empir deriv satisfi physic near wall region certain assumpt experiment dimension analysi show high valu wall shear stress tau_w relat mean veloc parallel wall socal logarithm law wall citepmoukalled_ch citeplaundernumer beginequ v_t frackappa lney endequ v_t fracv_tv_tau dimensionless walltangenti veloc compon v_t walltangenti veloc compon centroid adjac cell wall v_tau sqrtfractau_wrho friction veloc fracy_d v_taunu dimensionless wall distanc kappa von karman constant e log law offset log law offset set smooth wall valu citeplaundernumericaltheoret viscou sublay low valu function form veloc linear v_ti log law offset obtain match viscou sublay profil logarithm law wall citeplaundernumer rough wall current support nonetheless could done modif log law offset logarithm law wall provid implicit equat magnitud wall shear stress orient wall shear stress dictat orient tangenti veloc parallel wall sens opposit veloc sens implement present insfvwallfunctionbcsourcefvbcsinsfvwallfunctionbcmd shear stress use solv momentum equat invok valu flux sourc term second condit need nonpenetr veloc wall mass flux face zero citepsegalisna locat first cell centroid must auxiliari kernel wallfunctionyplusauxsourceauxkernelswallfunctionyplusauxmd use obtain valu anoth auxiliari kernel allow obtain wall shear stress wallfunctionwallshearstressauxsourceauxkernelswallfunctionwallshearstressauxmd standard wall function origin calibr fulli develop turbul flow steadi state absenc extern forc advers pressur gradient may provid accur result separ recircul low reynold number flow bibtex bibliographi incompress finit volum navier stoke moos incompress navier stoke finit volum insfv implement use coloc grid suppress checkerboard pattern pressur field insfv object support rhiechow interpol veloc user get feel insfv look test lid driven caviti flow exampl solv in equat mass momentum energi close caviti inlet outlet boundari one pressur degre freedom must constrain order elimin nullspac done use fvscalarlagrangemultipli object implement meanzero pressur approach finit element theori meanzero approach describ herehttpsgithubcomidaholablarge_mediablobmasterframeworkscalar_constraint_kernelpdf finit volum implement complet simpli substitut uniti test function list modulesnavier_stokestesttestsfinite_volumeinsliddrivenliddrivenwithenergyi channel flow exampl noslip freeslip channel flow differ two input boundari condit block noslip case dirichlet condit appli tangenti veloc case u condit appli freeslip dirichlet condit appli pressur outlet boundari input necessari particular noslip case dirichlet condit appli finit volum variabl boundari zerogradi condit implicitli appli invalid boundari condit noslip fulli develop flow know pressur constant across channel crosssect decreas direct flow otherwis without pressur drivingforc go drive flow wall slow one may reason ask implicitli appli zero normalgradi condit dirichlet condit appli fvfluxkernel execut along boundari valu field neighbor ghost cell fvfluxkernel alway execut along boundari fvdirichletbc activ execut ensur dirichlet condit weakli enforc fvdirichletbc activ fvfluxkernel may still forc execut along boundari specifi force_boundary_execut true respect block forc execut fvfluxkernel boundari dirichlet bc present eg implicit applic zero normalgradi condit typic ident appli correspond fvfluxbc latter access cell center valu adjac boundari directli use cellcent valu fvfluxbc see exampl fvconstantscalaroutflowbcfvconstantscalaroutflowbcmd implicitli appli zero normalgradi condit futur see moos issu httpsgithubcomidaholabmooseissu hope abl appli appropri outflow condit slip list modulesnavier_stokestesttestsfinite_volumeinschannelflowdrcnoslipi free slip list modulesnavier_stokestesttestsfinite_volumeinschannelflowdrci axisymmetr channel flow channel flow axisymmetr coordin also implement exampl solv noslip problem use averag interpol veloc list modulesnavier_stokestesttestsfinite_volumeinschannelflowcylindricaldaveragenoslipi rhiechow interpol use simpli specifi velocity_interp_methodrc either input file command line axisymmetr exampl free slip condit use rhiechow interpol shown list modulesnavier_stokestesttestsfinite_volumeinschannelflowcylindricaldrcslipi skewnesscorrect skewnesscorrect differ variabl enabl defin face_interp_methodskewnesscorrect paramet insfvvari select option advect kernel proven increas accuraci unstructur grid case skew triangul increas order l error oh oh veloc oh oh pressur exampl see list modulesnavier_stokestesttestsfinite_volumeinsmmsskewcorrectionskewedvortexi templat load filesqaapp_indexmdtempl categorynavier_stok appnavi stoke templat item keysqareport sqa report categorycategori templat load filesqaapp_vvrmdtempl categorynavier_stok appnavi stoke templat load filesqaapp_srsmdtempl categorynavier_stok appnavi stoke templat load filesqaapp_rtmmdtempl categorynavier_stok appnavi stoke templat load filesqaapp_stpmdtempl categorynavier_stok appnavi stoke templat load filesqaapp_sddmdtempl categorynavier_stok appnavi stoke templat load filesqaapp_farmdtempl categorynavier_stok appnavi stoke templat load filesqaapp_sllmdtempl categorynavier_stok appnavi stoke titl moos geochemistri modul tag c geochemistri reactiv transport thmc author name andi wilkin orcid affili name christoph p green orcid affili name logan harbour orcid affili name robert podgorney orcid affili affili name csiro commonwealth scientif industri research organis index name idaho nation laboratori index date januari bibliographi paperbib summari geochem model use understand chemistri natur water aqueou solut interact miner mani area practic interest exampl geotherm well reservoir contamin flow aquif ore creation mine techniqu petroleum ga exploit rock diagenesi model frequent extrem complic thousand interact chemic speci often requir comput softwar find chemic concentr reactiv transport simul involv predict transport chemicalspeci temperatur spatial domain aquif addit solv chemic model point time domain model use explor spatiotempor depend concentr precipit dissolut sorption etc often requir signific comput resourc complex simul greatli increas deform subsurfac also model deform may occur flow process eg via thermal expans chemic chang eg via dissolut weaken rock moos geochemistri modul enabl user solv model statement need numer model essenti solv increasingli complic problem interplay differ physic perhap act differ scale import instanc understand impact subsurfac co_ inject carbon sequestr project involv assess waterchemistri rockminer chang result temperatur chang presenc co_ chang impact poros permeabl subsurfac subsurfac deform possibl fractur due inject anoth exampl understand ore deposit commonli involv assess fluid heat flow interact geochemistri tecton featur eg fault within earth crust similar remark hold hydraul fractur aquif thermal energi storag insitu leach fossil fuel extract use enhanc recoveri techniqu research typic answer question use separ model subset physic process looselycoupl model solv use multipl softwar packag employ singl softwar packag pflotranhttpswwwpflotranorg pflotranpap pflotranuserref contain desir featur moos geochemistri modul introduc allow research perform standalon geochem model within moos framework also draw upon power moos modul solv complic coupl transport geomechan geochem model use singl code exist softwar number commerci free open close sourc packag solv reactivetransport model crunchflowhttpswwwnetldoegovsitesdefaultfilesnetlfilecrunchflowmanualpdf steefel beisman geochemist workbenchhttpswwwgwbcom bethke_ minphttpswwwminpcom su maher pflotranhttpswwwpflotranorg pflotranpap pflotranuserref toughreacthttpstoughlblgovsoftwaretoughreact xu other phreeqchttpswwwusgsgovsoftwarephreeqcvers pankhurst pankhurst reaktorohttpsreaktoroorg leal limit transport capabl focuss instead reaction initi opengeosyshttpswwwopengeosysorg kolditz bilk phasthttpswwwusgsgovsoftwarephastacomputerprogramsimulatinggroundwaterflowsolutetransportandmulticompon pankhurst focu transport use extern code phreeqc perform geochem solv code hphttpswwwpcprogresscomendefaultaspxhdlibhp simunek coupl togeth exist transport reaction solver steefel provid code comparison mani code develop decad team research sophist reactionmodel capabl along wellestablish gui assist model creation analysi result mani use hundr studi thousand research overview comparison softwar geochemistri modul built upon provid part opensourc massiv parallel fulli implicit multiphys simul framework moos multiphys objectori simul environ permannmoos moos opensourc librari idaho nation laboratori provid highlevel interfac libmesh finit element librari libmesh petsc nonlinear solver petscwebpag petscuserref petsceffici moos geochemistri modul follow strict qualiti controlshttpsmooseframeworkorgsqaindexhtml geochemistri modul test suitehttpsmooseframeworkinlgovapplication_developmenttest_systemhtml contain test rang simpl unit test fullyfledg benchmark commerci geochemist workbenchhttpswwwgwbcom softwar outlin articl moos geochemistri modul solv model involv aqueou geochemistri includ aqueou equilibrium kinet oxidationreduct sorption surfac complex dissolutionprecipit ga buffer one aspect make geochemistri modul differ code mention eas coupl addit physic geochem function particular use conjuct moos porousflow modul wilkin sophist reactivetransport simul may perform includ multiphas unsatur fluid flow highprecis equat state fluid dynam poros permeabl distribut sophist numer stabil geomechan may also incorpor use moos tensormechan modul explor interplay geomechan stress strain fluid heat reaction fractur skeleton materi may also includ use moos xfem modul jiangceram zhangmodifi addit advantag moos api allow easi modif exist physic addit new physic har power moos mean geochemistri simul effici use multiprocessor automat util threadingopenmp without develop user worri softwar technic moos scale well core user perspect varieti integr scheme unstructur mesh may use variou timestep scheme may employ varieti io format avail exodu vtk file well csv plaintext user may util multiapp system allow simul embed insid simul enabl intuit coupl differ physic differ spatiotempor scale gener gui help user creat run analys model said aforement code offer advantag offer specialist featur avail geochemistri modul includ preprocess postprocess capabl far superior gener gui offer moos learn curv may also easier geochemistri modul function subset describ authorat pedagog textbook bethke_ possibl describ geochemicalmodel concept short articl reader refer bethke_ inform conveni sourc code geochemistri modul bundl within moos framework detail document modul capabl extens suit exampl found httpsmooseframeworkorgmodulesgeochemistryindexhtml reaction function section describ type geochem reaction geochemistri modul solv equilibrium kinet reaction may use model solv geochemistri modul databas geochem databas defin possibl scope geochem model includ inform compon reaction geochemistri modul use databas specif json formathttpswwwjsonorg default databas use geochemistri modul exampl test json version freeli avail januari llnl thermodynam databasehttpswwwgwbcomthermophp conveni python script provid convert popular geochemist workbenchhttpswwwgwbcom eq eq databas format requir json format type speci reaction user may select databas subset chemic compon reaction relev particular model aqueou speci equilibrium miner equilibrium aqueou solut may precipit dissolv subset possibl miner may chosen usersuppli list miner may prevent precipit dissolv gase gase equilibrium extern buffer atmospher subset possibl gase may use speci altern oxid state redox coupl user may set individu coupl equilibrium disequilibrium aqueou solut sorb speci equilibrium aqueou solut govern langmuir approach surfacecomplex approach account electr state porousskeleton surfac vari ph ionic strength solut composit miner redox speci sorb speci whose dynam govern kinet rate rate sum term may depend mass kinet speci specif surfac area molal activ promot speci temperaturedepend arrheniu term activityproduct equilibrium constant kinet speci approach allow acidneutralalkali promot list correl prepar palandri use geochemistri model well mani type rate activ fugac model debyehuckel bdot model along relat formula neutral speci water code geochemistri modul virial pitzerhmw model includ activ miner speci assum uniti spycherre spycher fugac formula toughreact prausnitz use geochemistri modul constraint constraint must suppli user member equilibrium basi order geochem system uniqu mathemat solut follow type constraint possibl geochemistri modul water mass solvent water total bulk mole number activ aqueou basi speci free molal total bulk number activ ph may control instanc precipit miner free precipit mole number total bulk mole number gase fix fugac fugac sorb site free molal unoccupi site total bulk mole number addit kinet speci must provid initi mole number reaction path follow reaction path avail geochemistri modul ad reactant userdefin rate reactant may basi speci secondari speci miner etc control temperatur userdefin function chang temperatur alter composit ad coolerhott reactant userdefin rate remov activ constraint one speci remov ga fugac constraint usersuppli time control activ speci ph ga fugac usersuppli function discard mass miner present equilibrium solut call dump bethke_ remov miner mass end timestep call flowthrough bethke_ ad pure h_o remov equal mass water compon solut contain call flush bethke_ combin may use instanc chang temperatur control activ speci mathemat solut strategi timestep geochemistri modul calcul mass solvent water molal aqueou speci dissolv gase miner activ product satur indic mole number precipit miner molal unoccupi surfac site surfac potenti molal sorb speci mole number kinet speci activ activ coeffici achiev fullyimplicit underrelax iter newtonraphson procedur use inform found herehttpsmooseframeworkinlgovmodulesgeochemistrytheoryindexhtml procedur care taken avoid numer overflow underflow multipl substep may perform timestep ensur good converg miner allow precipit dissolv procedur rate recalcul begin everi newtonraphson step charg neutral enforc featur yet implement geochemistri modul function allow handl common model task number featur yet implement includ virial pitzerhmw activ model certain kinet rate form use biogeochem model michaelismenten monod k_d freundlich approach sorption isotop fraction geochemistri modul includ dedic gui help model creation analysi reactiv transport one notabl featur moos framework abil coupl differ physic togeth differ type coupl avail tight full coupl operatorsplit etc perform reactivetransport simul use geochemistri modul operatorsplit approach must use sequenti iter nonit approach sia snia user must therefor care timestep size steefel usual moos porousflow modul wilkin employ simul transport nongeochemistri physic mechan mean timestep involv twostep process porousflow modul transport solut aqueou phase well temperatur distribut fullyimplicit approach use solv transport note chemic reaction held fix stage result provid temperatur extra chemic sourc term ad geochem equat point spatial domain extra sourc term total compon concentr transport speci sourc geochemistri modul solv mole number speci point spatial domain use newtonraphson method mention previou section stage nongeochemistri physic transport mechan etc held fix easi use multipl substep within andor may necessari timescal transport chemic reaction differ also possibl iter sia approach steefel operatorsplit approach also use reactivetransport solver geochemist workbenchhttpswwwgwbcom porousflow modul sophist multicompon multiphas transport code employ mean pressur temperatur tightli coupl fluid flow densiti viscos etc may depend solut concentr temperatur pressur poros permeabl chang precipit dissolut multiphas flow use coupl sophist geomechan includ plastic adhikaryrobust wilkinsmethod fractur larg strain straightforward sophist numer stabil avail user wish employ porousflow modul rudimentari transport capabl includ geochemistri modul model advectivediffus transport mobil concentr hydrodynam dispers assum precipit miner sorb speci sorption site immobil temperatur poros darci flux vector dispers tensor fix user may vari spatial tempor geochemistri modul provid dynam contrast porousflow modul temperatur evolut govern advectiondiffus equat instanc operatorsplit method provid mathemat solut describ comput aspect spatiallyvari geochemistri simul use larg amount memori sinc store inform complet geochem system finiteel node irrespect finiteel type hand ignor transport almost embarrasingli parallel solv effici use larg number processor even reactivetransport model scale well multipl processor sinc multicompon flow porou media essenti multipl coupl diffus equat autoreffigscaling_eg show exampl scale operatorsplit model fix size fix number timestep run multipl processor experi involv memori usag solver choic cpuscal found onlin documentationhttpsmooseframeworkorgmodulesgeochemistrytheorycompute_efficiencieshtml cpu time requir solv reactivetransport simul use porousflow geochemistri moduleslabelfigscaling_egjoss_paper_scalingpng width build use code build geochemistri modul twostep process download instal entir moos packag detail instruct moos websitehttpsmooseframeworkinlgovgetting_startedinstallationindexhtml even geochemistri interest without transport solid mechan etc moos come complet packag need instal entireti depend comput setup straightfoward person mac comput complic administ supercomput instal moos part framework compil compil physic modul includ geochemistri modul use follow instruct run command line cd projectsmoosemodul make cd projectsmoosemodulesgeochemistri make cd projectsmoosemodulesgeochemistryunit make comput n core make process may sped use command make jn instead simpli make check geochemistri modul correctli compil use follow instruct cd projectsmoosemodulesgeochemistryunit run_test cd projectsmoosemodulesgeochemistri run_test virtual test run pass may skip due particular comput setup instanc enough thread comput n core run_test command may sped use command run_test jn instead simpli run_test geochemistri execut call geochemistryopt found projectsmoosemodulesgeochemistri may use run pure geochemistri simul exampl run cool solut contact feldspar examplehttpsmooseframeworkinlgovmodulesgeochemistrytests_and_examplescooling_feldsparhtml command line use cd projectsmoosemodulesgeochemistrytestteststime_dependent_react geochemistryopt coolingi coupl reactivetransport simul use porousflow modul combinedopt execut must use exampl run webertensleep geot examplehttpsmooseframeworkorgmodulesgeochemistrytests_and_examplesgeotes_weber_tensleephtml command line use cd projectsmoosemodulescombinedexamplesgeochemporous_flowgeotes_weber_tensleep combinedopt exchangeri test exampl geochemistri modul code coveragehttpsmooseframeworkinlgovdocscoveragegeochemistryindexhtml current exce mani complic benchmark test geochemist workbench code exampl comprehens documentedhttpsmooseframeworkinlgovmodulesgeochemistrytests_and_examplesindexhtml section present one benchmark studi one exampl way illustr benchmark cool feldspar one geochemistri test exampl involv slowli cool aqueou solut circc circc detail found herehttpsmooseframeworkinlgovmodulesgeochemistrytests_and_examplescooling_feldsparhtml aqueou solut equilibrium contact albit maximum microclin muscovit quartz exampl document section bethke_ autoreffigfeldspar_eg show comparison result moos geochemistri modul geochemist workbench precipit volum function temperatur aqueou solut contact feldspar cooledlabelfigfeldspar_egjoss_paper_feldsparpng width exampl reactiv transport aquif thermal energi storag scenario webertensleep format usa propos store renewablygener hightemperatur water later use electr gener seedl osti_ storag phase format water reservoir produc heat circc pressur reinject cycl revers electr gener reactiv transport studyhttpsmooseframeworkorgmodulesgeochemistrytests_and_examplesgeotes_weber_tensleephtml assess potenti precipit engin equip mineralog chang around hotwat inject well deep reservoir provid one geochemistri modul exampl major ion webertensleep format water cl na so_ hco_ k ca hs host addit minor ion ph around ionic strength around molkg close limit molkg debyehuckel activ model bethke_ temperatur around circc observ mineralog involv quartz kfeldspar calcit siderit dolomit fechlorit illit host trace miner moos model involv coupl model repres heat exchang inject product transport water format geochem model reservoir three model loos coupl use moos multiapp approach use geochemistri chemistri porousflow transport modul coupl model reveal anhydrit main precipit heat exchang illit kaolinit dissolv around inject well kfeldspar quartz precipit around inject well autoreffigweber_tensleep_eg illustr result result deriv use higher resolut exampl includ test suit sinc latter must small enough rapidli pass moos automat regress test temperatur free volum quartz poros day hot water inject webertensleep aquif gray area repres lowperm cap rock aquiferlabelfigweber_tensleep_egjoss_paper_weber_tensleeppng acknowledg author thank moos framework team past present provid moos framework auxiliari function qualiti control test har document scaffold build script etc manuscript review provid ghanashyam hari neupan two csiro intern review also greatli appreci research made use resourc high perform comput center idaho nation laboratori support offic nuclear energi us depart energi nuclear scienc user facil contract deacid refer modulesgeochemistryindexmd timeindependentreactionsolv set simpl timeindepend moos simul spatial depend usual solut process kernel etc apart set dummi mesh variabl etc action add geochemistrytimeindependentreactorgeochemistrytimeindependentreactormd userobject mani auxvari correspond molal freemg freecm ph etc use geochemistryquantityauxgeochemistryquantityauxmd consol output object geochemistryconsoleoutputgeochemistryconsoleoutputmd simpl exampl action use test suit chemic model seawaterseawatermd water amazon riveramazonmd red sea binered_seamd morro de ferro groundwatermorromd microbi respirationmicrobial_redoxmd langmuir sorption selen loami soilselenatemd problem involv surfac complexationsurface_complexationmd exampl input file list modulesgeochemistrytesttestsequilibrium_modelsred_sea_precipi timedependentreactionsolv set simpl timedepend moos simul spatial depend usual solut process kernel etc apart set dummi mesh variabl etc action add geochemistrytimedependentreactorgeochemistrytimedependentreactormd userobject mani auxvari correspond molal freemg freecm ph etc use geochemistryquantityauxgeochemistryquantityauxmd consol output object geochemistryconsoleoutputgeochemistryconsoleoutputmd simpl exampl action use test suit progress ad chemicalsadding_feldsparmd progress chang temperaturecooling_feldsparmd progress ad chemic fix fugacityadding_pyritemd progress chang fugacitychanging_fugacity_with_calcitemd progress chang phchanging_ph_ironmd ad fluid differ temperaturespickupmd dump miner ad chemicalscalcite_buffermd flowthrough reaction remov mineralsflow_throughmd flush mineralsflushmd simpl exampl input file list modulesgeochemistrytestteststime_dependent_reactionssimplei spatialreactionsolv set moos simul spatial tempor depend usual solut process kernel etc action add geochemistryspatialreactorgeochemistryspatialreactormd userobject mani auxvari correspond molal freemg freecm ph etc use geochemistryquantityauxgeochemistryquantityauxmd consol output object geochemistryconsoleoutputgeochemistryconsoleoutputmd along nearestnodenumberuonearestnodenumberuomd userobject input file must also contain geochemicalmodeldefinitiongeochemicalmodeldefinitionmd geochemistri simul must along definit mesh execution simpl exampl input file list modulesgeochemistrytesttestsspatial_reactorspatial_i geochemicalmodelinterrog set simpl moos simul zero time step usual solut process usual output etc thing simul add geochemicalmodelinterrogatorgeochemicalmodelinterrogatormd userobject output balanc reaction equilibrium constantsreaction_balancingmd activ ratiosactivity_ratiosmd equilibrium temperatureeqm_temp_amd etc moos exit see geochemicalmodelinterrogatorgeochemicalmodelinterrogatormd userobject discuss exampl list modulesgeochemistrytesttestsinterrogate_reactionsclinoptilolitei geochemistryquantityaux auxkernel use extract inform geochemistryreactor underli geochemistri model larg number auxvari geochemistryquantityaux kernel often ad automat use geochemistri action instanc timedependentreactionsolvertimedependentreactionsolverindexmd howev user wish add manual exampl add auxvari measur ph list modulesgeochemistrytesttestsgeochemistry_quantity_auxneglogai startauxvari endpostprocessor syntax paramet auxkernelsgeochemistryquantityaux syntax input auxkernelsgeochemistryquantityaux syntax children auxkernelsgeochemistryquantityaux nodalvoidvolumeaux auxkernel extract void volum v_i associ node nodalvoidvolumenodalvoidvolumemd userobject variabl must therefor nodal variabl monomi instanc v_i allow translat mole reactant node m_i concentr molvolumeofsolut node beginequ mathrmconcentration_i fracm_iv_i endequ syntax paramet auxkernelsnodalvoidvolumeaux syntax input auxkernelsnodalvoidvolumeaux syntax children auxkernelsnodalvoidvolumeaux geochemistrydispers kernel implement pde fragment beginequ nablaphi dnabla c endequ part transporttheoryindexmd equat phi poros may fix real number may auxvari spatiallydepend hydrodynam dispers tensor call tensor_coeff input file c concentr molmaqu solut aqueou speci nabla denot vector spatial deriv syntax paramet kernelsgeochemistrydispers syntax input kernelsgeochemistrydispers syntax children kernelsgeochemistrydispers geochemistrytimederiv kernel implement pde fragment beginequ phi fracparti cpartial endequ part transporttheoryindexmd equat phi poros may fix real number may auxvari spatiallydepend c concentr molmaqu solut aqueou speci time two notabl featur kernel use case poros timedepend case phi insid time deriv mass lump node use order reduc possibl concentr becom neg syntax paramet kernelsgeochemistrytimederiv syntax input kernelsgeochemistrytimederiv syntax children kernelsgeochemistrytimederiv geochemistrykineticr defin kinet rate kinet speci gener form rate beginequ r kam left prod_alpham_alphap_alpha right left leftqkrightthetarighteta expleft frace_ar leftfract_ fractrightright mathrmsgn qk endequ rather complic equat simpl exampl given equat r unit mol rate kinet reaction posit kinet speci mass decreas eg dissolut neg kinet speci mass increas eg precipit k intrins rate constant product kam unit mol assum simul time unit second note mole unit use even initi amount kinet speci given mass volum unit exampl k given either surfac area unit kinet speci specif surfac area unit mg unit g mass kinet speci option exampl given alpha label denot promot speci m_alpha either mass solvent water kg promot speci h_o fugac ga promot speci ga activ promot speci either h oh mobil otherwis p_alpha dimensionless power q activ productgeochemistry_nomenclaturemd defin kinet speci reaction databas file k reaction equilibrium constant defin databas file theta eta dimensionless expon e_a unit jmol activ energi rjkmol ga constant t_ unit k refer temperatur unit k temperatur mathrmsgnqk qk kinet speci mass increas time qk kinet speci mass decreas time alert note note one geochemistrykineticr prescrib singl kinet speci sum individu rate defin overal rate speci see exampl simpli suppli geochemicalmodeldefinitiongeochemicalmodeldefinitionmd list rate exampl suppos kinet rate constant beginequ r k endequ forward backward reaction ie precipit dissolut set k constant valu unit mol assum simul time measur second multiply_by_mass fals use promoting_species_nam promoting_species_indic set theta eta set e_a exampl suppos kinet rate certain miner proport miner surfac area beginequ r ka endequ surfac area known fix set k coeffici proportion unit molm assum simul time measur second known miner surfac area unit multiply_by_mass fals use promoting_species_nam promoting_species_indic set theta eta set e_a exampl suppos kinet rate certain miner proport miner free mass beginequ r km endequ set k coeffici proportion unit molg assum simul time measur second multiply_by_mass true moos automat calcul miner free mass depend molar mass number free mole use promoting_species_nam promoting_species_indic set theta eta set e_a exampl suppos kinet rate certain miner proport miner surfac area beginequ r ka endequ surfac area isnt known miner specif surfac area surfac area per gram free miner mg known set k coeffici proportion unit molm assum simul time measur second miner specif surfac area unit mg multiply_by_mass true moos automat calcul miner free mass depend molar mass number free mole use promoting_species_nam promoting_species_indic set theta eta set e_a exampl suppos kinet rate certain redox coupl proport quantiti solvent water present beginequ r kn_w endequ set k coeffici proportion unit molkg assum simul time measur second multiply_by_mass fals promoting_species_nam ho promoting_species_indic set theta eta set e_a exampl suppos kinet rate certain redox coupl depend ph beginequ r k_mathrmacid a_h k_mathrmbas a_oh endequ two geochemistrykineticr userobject must creat multiply_by_mass fals theta eta e_a first k k_mathrmacid promoting_species_nam h promoting_species_indic second k k_mathrmbas promoting_species_nam oh promoting_species_indic suppli geochemicalmodeldefinitiongeochemicalmodeldefinitionmd use kinetic_rate_descript input exampl suppos kinet rate certain redox coupl depend ph molal ca temperatur beginequ r k_mathrmacid a_h m_caexpe_art endequ set k k_mathrmacid multiply_by_mass fals promoting_species_nam h ca promoting_species_indic e_a one_over_t syntax paramet userobjectsgeochemistrykineticr syntax input userobjectsgeochemistrykineticr syntax children userobjectsgeochemistrykineticr geochemicalmodeldefinit defin geochem system extract inform geochemistri databas store inform pertin model computationallyeffici datastructur elimin extran inform alert note geochemistri model must contain geochemicalmodeldefinit userobject userobject extens use utilspertinentgeochemicalsystem use fulli discuss input paramet class basis_speci list basi componentsbasismd relev aqueou equilibrium problemequilibriummd follow requir must satisfi otherwis mooseerror produc simul stop ho must appear first list member must appear list compon must chosen basi speci databasegeochemistrydatabaseindexmd sorb sitesequilibriummd decoupl redox state disequilibriumbasismd redox pairbasismd list kinetic_redoxtheoryindexmd list assum equilibrium aqueou solut consid secondari speciesbasismd speci except ho may later swap list either manual userprescrib swapswapmd replac miner ga fix fugac instanc numer solv simpl exampl swap see geochemicalmodelinterrogatorgeochemicalmodelinterrogatormd miner list contain miner equilibrium aqueou solut condit member list must miner databasegeochemistrydatabaseindexmd member appear list equilibrium reactionequilibriummd must consist basis_speci secondari speciesbasismd nonkineticallycontrol redox couplesbasismd express term basis_speci also sorb miner databas sorption sitesequilibriummd must consist basis_speci simul user comput satur indexgeochemistry_nomenclaturemd miner miner swappedswapmd basi desir requir numer solv simpl exampl swap see geochemicalmodelinterrogatorgeochemicalmodelinterrogatormd user perform manual swap initi condit must provid miner user choos whether miner allow precipit supress list along kinetic_miner list compris entir list miner problem other elimin consider gase list gasesbasismd equilibrium aqueou solut fugacitiesfugacitymd fix least time spatial locat member list must ga databas filegeochemistrydatabaseindexmd ga must appear list equilibrium reaction ga must involv basis_speci secondari speci nonkineticallycontrol redox coupl express term basis_speci list compris gase simul other elimin kinetic_miner list miner whose dynam govern rate lawtheoryindexmd equilibrium aqueou solut list includ miner databas filegeochemistrydatabaseindexmd member appear list equilibrium reactionequilibriummd miner must involv basis_speci secondari speci nonkineticallycontrol redox coupl express term basis_speci miner also sorb miner databasegeochemistrydatabaseindexmd sorption sitesequilibriummd must consist basis_speic member list must miner list miner never swappedswapmd basi supress kinetic_redox list redox pairsbasismd whose dynam govern rate lawtheoryindexmd equilibrium aqueou solut list includ redox coupl databas filegeochemistrydatabaseindexmd member appear list equilibrium reactionequilibriummd member must involv basis_speci secondari speci nonkineticallycontrol redox coupl express term basis_speci member list must basis_speci list speci never swappedswapmd basi kinetic_surface_speci list surfac sorb speciesbasismd whose dynam govern rate lawtheoryindexmd equilibrium aqueou solut list includ surfac speci databas filegeochemistrydatabaseindexmd member appear list equilibrium reactionequilibriummd member must involv basis_speci secondari speci nonkineticallycontrol redox coupl express term basis_speci speci never swappedswapmd basi kinetic_rate_descript list geochemistrykineticrategeochemistrykineticratemd user object defin kinet rate kinet speci suppli kinet speci rate prescrib reaction rate zero multipl geochemistrykineticrategeochemistrykineticratemd user object appli singl kinet speci case sum rate defin overal reaction rate kinet speci secondari speci complet list secondari speciesequilibriummd automat comput base inform use follow algorithm redox coupl databasegeochemistrydatabaseindexmd queri onebyon includ part kinetic_redox list part basis_speci list reaction involv basis_speci secondari speci alreadi encount mean redox coupl whose reaction involv alreadyencount redox coupl includ secondari speci list secondari speci databasegeochemistrydatabaseindexmd queri onebyon includ reaction involv basis_speci secondari speci alreadi encount surfac speci databasegeochemistrydatabaseindexmd queri onebyon includ kinetic_surface_speci list reaction involv basis_speci secondari speci encount far result list contain speci whose equilibrium reaction ultim express term basi speci list creat equilibrium reaction miner gase kinetic_redox kinetic_surface_speci also check ultim express term basi speci specifi condit equilibrium reactionequilibriummd member must involv basis_speci secondari speci nonkineticallycontrol redox coupl express term basis_speci creat pertin model aforement speci includ pertin model creat class includ name charg molecular weight ionic radii molecular volum stoichiometr coeffici equilibrium constant execut comput userobject perform constructor initi setup simul userobject noth exampl exampl simpli output equilibrium reaction involv clinoptilolit miner list modulesgeochemistrytesttestsinterrogate_reactionsclinoptilolitei syntax paramet userobjectsgeochemicalmodeldefinit syntax input userobjectsgeochemicalmodeldefinit syntax children userobjectsgeochemicalmodeldefinit geochemistrytimedependentreactor userobject usual ad via timedependentreactionsolvertimedependentreactionsolverindexmd action pleas see page mani exampl userobject purpos solv timedepend geochem system advanc user may wish add geochemistrytimedependentreactor object manual input file exampl list testteststime_dependent_reactionssimple_no_actioni syntax paramet userobjectsgeochemistrytimedependentreactor syntax input userobjectsgeochemistrytimedependentreactor syntax children userobjectsgeochemistrytimedependentreactor nodalvoidvolum userobject comput void volum associ node beginequ v_i int_vphi endequ phi poros v volum surround node finiteel languag beginequ v_i int_mathrmel psi_iphi endequ psi_i shape function node integr element attach node v_i allow translat mole reactant node m_i concentr molvolumeofsolut node beginequ mathrmconcentration_i fracm_iv_i endequ v_i may record auxvari use nodalvoidvolumeauxnodalvoidvolumeauxmd syntax paramet userobjectsnodalvoidvolum syntax input userobjectsnodalvoidvolum syntax children userobjectsnodalvoidvolum geochemistrytimeindependentreactor userobject usual ad via timeindependentreactionsolvertimeindependentreactionsolverindexmd action pleas see page mani exampl userobject purpos solv timeindepend geochem system advanc user may wish add geochemistrytimeindependentreactor object manual input file exampl list testtestsequilibrium_modelshcl_no_actioni syntax paramet userobjectsgeochemistrytimeindependentreactor syntax input userobjectsgeochemistrytimeindependentreactor syntax children userobjectsgeochemistrytimeindependentreactor geochemistryspatialreactor userobject usual ad via spatialreactionsolverspatialreactionsolverindexmd action pleas see page mani exampl userobject purpos solv timeandspac depend geochem system advanc user may also add geochemistryspatialreactor object manual input file syntax paramet userobjectsgeochemistryspatialreactor syntax input userobjectsgeochemistryspatialreactor syntax children userobjectsgeochemistryspatialreactor geochemistryconsoleoutput output write inform consol regard geochem system defin geochemistry_reactor particular point defin nearestnodenumb userobjectnearestnodenumberuomd quit verbos sinc provid inform molal free mass bulk composit surfac characterist nernst inform relev speci well descript characterist temperatur ph ionic strength therefor use caution otherwis stdout rapidli fill use understand debug model usual output ad use action timeindependentreactionsolvertimeindependentreactionsolverindexmd timedependentreactionsolvertimedependentreactionsolverindexmd advanc user may wish add object manual input file exampl list testtestsgeochemistry_console_outputconsolei blockoutput syntax paramet outputsgeochemistryconsoleoutput syntax input outputsgeochemistryconsoleoutput syntax children outputsgeochemistryconsoleoutput geochemicalmodelinterrog usual output ad use geochemicalmodelinterrog actiongeochemicalmodelinterrogatorindexmd purpos output output balanc reaction equilibrium constantsreaction_balancingmd activ ratiosactivity_ratiosmd equilibrium temperatureeqm_temp_amd etc depend interrog option invalid swap defin swap_into_basi swap_out_of_basi option simul exit explanatori error messag exampl output equilibrium reaction interrog reaction differ choic basi compon list modulesgeochemistrytesttestsinterrogate_reactionsclinoptilolitei exampl output activ ratiosproduct interrog activ list modulesgeochemistrytesttestsinterrogate_reactionsmuscovitei exampl comput temperatur interrog eqm_temperatur equilibrium list modulesgeochemistrytesttestsinterrogate_reactionsgypsumi exampl output ph pe interrog activ equilibrium list modulesgeochemistrytesttestsinterrogate_reactionshematitei syntax paramet outputsgeochemicalmodelinterrog syntax input outputsgeochemicalmodelinterrog syntax children outputsgeochemicalmodelinterrog addtimeinependentreactionsolveract action add geochemistrytimeindependentreactorgeochemistrytimeindependentreactormd userobject along geochemistryquantityauxgeochemistryquantityauxmd aux kernel geochemistryconsoleoutputgeochemistryconsoleoutputmd output addspatialreactionsolveract action add geochemistryspatialreactorgeochemistryspatialreactormd userobject along geochemistryquantityauxgeochemistryquantityauxmd aux kernel geochemistryconsoleoutputgeochemistryconsoleoutputmd output pleas see spatialreactionsolv pagespatialreactionsolverindexmd exampl addgeochemicalmodelinterrogatoract action add geochemicalmodelinterrogatorgeochemicalmodelinterrogatormd object addtimedependentreactionsolveract action add geochemistrytimedependentreactorgeochemistrytimedependentreactormd userobject along geochemistryquantityauxgeochemistryquantityauxmd aux kernel geochemistryconsoleoutputgeochemistryconsoleoutputmd output geochemistri modul overview geochemistri modul design solv geochem model capabl includ equilibrium aqueou system redox disequilibrium sorption surfac complex kinet combin fluid heat transport geochemistri modul design interfac easili porousflow modul complic reactiv transport scenario studi media geotes_weber_tensleep_dpng captiontemperatur poros ph free volum quartz day inject reactivetransport model idgeotes_wt_dafig detail theori numer solut techniqu comput aspectsgeochemistrytheoryindexmd examplesgeochemistrytests_and_examplesindexmd descript inputfil objectsgeochemistrysystemsmd z index webpagesgeochemistrycontentsmd instal usag instal moos use get start instruct framework compil compil physic modul includ geochemistri modul use follow instruct run command line bash cd projectsmoosemodul make cd projectsmoosemodulesgeochemistri make cd projectsmoosemodulesgeochemistryunit make comput n core make process may sped use command make jn instead simpli make check geochemistri modul correctli compil use follow instruct bash cd projectsmoosemodulesgeochemistryunit run_test cd projectsmoosemodulesgeochemistri run_test virtual test run pass may skip due particular comput setup instanc enough thread comput n core run_test command may sped use command run_test jn instead simpli run_test geochemistri execut call geochemistryopt found projectsmoosemodulesgeochemistri may use run pure geochemistri simul exampl run cool solut contact feldspar exampletests_and_examplescooling_feldsparmd bash cd projectsmoosemodulesgeochemistrytestteststime_dependent_react geochemistryopt coolingi coupl reactivetransport simul use porousflow modul combinedopt execut must use exampl run webertensleep geot exampletests_and_examplesgeotes_weber_tensleepmd command line bash cd projectsmoosemodulescombinedexamplesgeochemporous_flowgeotes_weber_tensleep combinedopt exchangeri nomenclatur terminolog speci speci real thing exist solut instanc hco_ co_aq cahco_ never neg mass phase phase region space physic distinct mechan separ homogen composit properti geochem system phase fluid phase compos water dissolv constitu potenti separ phase correspond miner contact fluid phase potenti separ ga phase differ gase co_ o_ etc buffer separ known fugac assum geochemistri ga count distinct phase compon compon use abstract might might real thing even neg mass instanc consid alkalin solut oh h choos h_o h compon basi set hydroxyl ion mathrmh_mathrmo mathrmh rightarrow mathrmoh made water molecul less hydrogen ion sinc alkalin solut overal composit posit amount water neg amount h molal h speic posit howev complet set compon form basi reaction system basi set compon use geochem model calcul basi uniqu basi describ system basi must satisfi rule speci phase consid model must combin compon basi number compon minim satisfi compon must linearli independ one anoth reaction exist form one compon other basi linearlyindepend complet set compon everi chemic system compos compon none compon compos other number compon basi n_i n_k n_m n_p come water compon number phase n_k n_m n_p gibb phase rule fix temperatur pressur state number degre freedom differ n_i henc given constraint concentr activ basi speci system equilibrium state determin howev calcul extent system amount fluid miner gase sorption site present requir extra n_k n_m n_p piec inform mole measur amount substanc beginequ mathrmnumb mole fracmathrmnumb particl molecul atom ion etcmathcaln_a endequ mathcaln_a avogadro number mole fraction measur amount constitu rel mixtur beginequ mathrmmol fraction fracmathrmnumb mole constituentmathrmnumb mole constitu mixtur endequ molal measur concentr constitu beginequ mathrmmol fracmathrmnumb mole constituentmathrmmass kg solvent water endequ chemic potenti partial deriv free energi g respect number mole speci mu partial gpartial n temperatur pressur number mole speci held fix activ defin term chemic potenti beginequ mu mu rtlog endequ mu jmol chemic potenti mu jmol chemic potenti standard state independ temperatur pressur constitu etc r ldotsjkmol ga constant k temperatur log natur logarithm dimensionless activ speci equilibrium reaction activ dimensionless measur effect concentr constitu solut beginequ gamma mm_mathrmref endequ gamma activ coeffici molal m_mathrmrefmolkg miner a_k gase activ proport fugacityfugacitymd mass action equat equilibrium constant reaction term activ reaction speci satur index mathrmsi log_qk q activ product k equilibrium constant reaction mathrmsi miner supersatur mean system tri precipit miner redox reaction involv transfer electron instanc mathrmf mathrmo_ mathrmh rightleftharpoon mathrmf mathrmh_mathrmo electron transfer fe fe fe lost electron oxidis electron donor electron receptor call redox coupl often reaction split half reaction show releasegain electron eg mathrmf rightarrow mathrmf mathrm nernst potenti quantifi redox potenti redox halfreact activ product q equilibrium constant k beginequ mathrmeh fracrtnflogqk mathrmeh fracrtnflog q endequ r ga constant temperatur kelvin f faraday constant n number electron consum half reaction eh standard potenti log base e notat tabl idtablegeochem_nomenclatur captionlist notat use document symbol unit physic descript rightleftharpoon denot equilibrium reaction instanc b rightleftharpoon c a_w label water a_i label aqueou basi speciesbasismd label quantiti exampl one a_i might na includ decoupl nonkineticallycontrol altern oxid state well miner zero precipit a_j label aqueou speci equilibrium basi call secondari speci includ set coupl redox speci miner precipit speci involv sorption a_barj redox speci govern kinet a_k label precipit miner equilibrium system reaction appear basisbasismd a_bark label compon govern kinet ratetheoryindexmd union a_barj a_barl a_barq a_l label miner includ a_j a_k even kinet control a_barl label miner kinet control a_m label gase known fugac appear basisbasismd a_n label gase a_q label sorb speci equilibrium aqueou solut combint basi speci adsorb onto sorb site miner make surfac complex massact equat complic a_j a_l get transport a_barq label sorb speci kinet control a_p label sorb site appear basi langmuir approach one sorb speci compet sorb surfacecomplex approach n_pgeq activ speci equilibrium reaction gamma mm_mathrmref gamma activ coeffici molal m_mathrmrefmolkg c molm concentr compon per volum aqueou solut concentr compon per volum porou skeleton phi c c_tast molm concentr mobil compon per volum aqueou solut c_w kgm mass solut water per volum aqueou solut c_k molm concentr miner compon a_k per volum aqueou solut f pa ga fugacityfugacitymd phi poros porou skeleton dynam control geochemistri modul gamma activ coefficientactivity_coefficientsmd molkg ionic strength fracsum_im_iz_i sum run free ion solut neutral complex count i_ molkg stiochiometr ionic strength i_ fracsum_im_iz_i complet dissoci complex assum sum run ion hypothet solut k equilibrium constant reaction molkg molal molal unoccupi sorption site m_p mol mole compon mu jmol chemic potenti mu partial gpartial n deriv free energi g respect number mole speci thing temperatur number mole speci held constant n kg mass compon instanc n_w mass solvent water n_k mol mole number miner k n_a mol avogadro constant n_a time mol mathcaln_a avogadro number mathcaln_a time n_i number basi speci a_i n_k number basi miner a_k n_m number basi gase a_m n_p number basi sorb site a_p nu stoichiometr coeffici q_l activ productequilibriummd miner l use construct satur index miner r_bark mol reaction ratetheoryindexmd kinet speci a_bark r_bark molsm reaction rate per volum aqueou solutiontheoryindexmd kinet speci a_bark si_l satur indexequilibriummd miner l miner supersatur posit undersatur neg z charg number substanc z index geochemistri modul content atoz level locationmodulesgeochemistri syntax complet groupsgeochemistryapp inform concern databas descript databasedb_descriptionmd convert databas moos formatgwb_databasemd databas readergeochemistry_database_readermd basisbasismd chemic databas notat definit describ geochemistry_nomenclaturemd geochemistri modul work chemic databas simpl jsonhttpswwwjsonorg format make easi pars varieti applic languag python databas convert python util modul contain python util translat moos format format eq gwbgwb_databasemd databas either format translat moos json databas use geochemistrypythondatabase_converterpi gwb_databas format gwb moose_databasejson exampl use suppli python convers util ensur databas produc adher requir format full list function obtain use help flag geochemistrypythondatabase_converterpi help usag database_converterpi h input format gwbeq output util read data thermodynam databas write moos thermodynam databas json format option argument h help show help messag exit input input input input databas format gwbeq databas format output output output output filenam default moose_thermojson databas format moos thermodynam databas jsonhttpswwwjsonorg file keyvalu pair variou speci datatyp specif structur moos databas outlin header inform requir header field contain sever option proven field origin databas format filenam well requir field temperatur point equilibrium constant evalu activ coeffici etc exampl option header inform shown header titl moos thermodynam databas origin moose_dirprojectsmoosemodulesgeochemistrypythonoriginal_dbsgwb_llnldat date origin format gwb header field must includ inform temperatur pressur equilibrium constant valu activ coeffici defin header temperatur pressur temperatur circc pressur bar bar pa lie along steam satur curv temperatur defin activityactivity_coefficientsmd fugactityfugacitymd model must defin header along appropri coeffici temperatur specifi header activ model debyehuckel fugac model tsonopoulo adh bdh bdot case debyehuckelactivity_coefficientsmd activ model specifi along debyehuckel paramet molkg b molkgmathringa dotb molkg instanc circc amolkg bmolkgmathringa dotbmolkg header field also contain activ coeffici neutral speci formula given activ coefficientsactivity_coefficientsmd descript neutral speci paramet b c defin activ coeffici speci eg header neutral speci ho b c note special keyword mathringa act flag solver use activ model instead debyehuckel formula alert note valu indic valu element molecular weight g element present databas provid element field element ag name silver molecular weight al name aluminum molecular weight basi speci basi speci field contain inform basi speci exampl basi speci ho element h charg radiu molecular weight ag element ag charg radiu molecular weight basi speci number requir field element element decomposit elementweight pair exampl basi speci ho hydrogen h molecul oxygen molecul charg electr charg basi speci radiu ionic radiu basi speci molecular weight molecular weight g aqueou secondari speci secondari speci field contain inform aqueou equilibrium speci basi speci caco speci ca hco h charg radiu molecular weight logk secondari speci number requir field speci basi speci decomposit basi speciesstoichiometri pair exampl caco describ reaction caco rightleftharpoon ca hco h charg electr charg secondari speci radiu ionic radiu secondari speci molecular weight molecular weight g logk equilibrium constant valu temperatur point specifi header redox coupl redox coupl field contain inform redox pair redox coupl ophth speci ho hco h oaq charg radiu molecular weight logk redox coupl number requir field speci basi speci decomposit basi speciesstoichiometri pair exampl phenolphthalein ophth describ redox reaction ophth ho oaq rightleftharpoon hco h charg electr charg redox speci radiu ionic radiu redox speci molecular weight molecular weight g logk equilibrium constant valu temperatur point specifi header miner miner defin miner speci field miner speci acanthit speci ag h hs molar volum molecular weight logk miner number requir field speci basi speci decomposit basi speciesstoichiometri pair exampl acanthit describ miner reaction acanthit rightleftharpoon ag hs h molecular weight molecular weight g molar volum miner volum cc logk equilibrium constant valu temperatur point specifi header gase gase defin ga speci field ga speci chg speci chaq molecular weight chi e pcrit tcrit omega logk ga speci number requir field speci basi speci decomposit basi speciesstoichiometri pair exampl chg describ ga reaction chg rightleftharpoon chaq molecular weight molecular weight g logk equilibrium constant valu temperatur point specifi header gase option includ fugac model paramet chi spycherreedfugacitymd fugac coeffici pcrit tcrit omega tsonopoulo pengrobinson model coeffici surfac speci surfac speci databas list surfac speci field surfac speci sfeo speci sfeoh h charg molecular weight log k dlogkdt surfac speci number requir field speci decomposit basi speciesstoichiometri pair usual charg electr charg secondari speci molecular weight molecular weight g log k dlogkdt equilibrium constant deriv wrt temperatur contrast type reaction speci equilibrium constant provid temperatur point list header surfac speci equilibrium constant defin use valu first temperatur point log k deriv wrt temperatur beginequ logk mathttlog k mathttdlogkdt t_ endequ log natur logarithm temperatur logk calcul t_ first temperatur specifi header exampl equilibrium constant surfac speci sfeo simpli beginequ logk endequ deriv wrt temperatur zero sorb miner sorb miner list databas provid site sorb occur miner sorb miner goethit sorb site sfeoh wfeoh surfac area sorb miner two requir field sorb site list sorb site basi speciessit densiti pair surfac area surfac area avail mg oxid oxid may present databas exampl oxid ago speci h ag ho molecular weight oxid two requir field speci basi speci decomposit basi speciesstoichiometri pair exampl silver oxid describ reaction ago h rightleftharpoon ag ho molecular weight molecular weight g python util moos thermodynam databas standard json file easili pars use python allow user readili access inform databas without need special reader geochemistri modul provid exampl python util pythondbutilspi illustr simpl examin databas use python exampl find secondari speci contain particular basi speci user queri databas use follow python code python import json import dbutil read databas opengeochemistrydatabasemoose_thermojson r dbfile moosedb jsonloaddbfil find aqueou equilibrium secondari speci contain ca dbutilssecondaryspeciescontainingbasismoosedb secondari speci ca return cahsio caophth caboh cachcoo cacl caco caf cahsio cahsio cahco cahpo cano caoh capo caso speci inform easili extract python import json import dbutil read databas opengeochemistrydatabasemoose_thermojson r dbfile moosedb jsonloaddbfil find aqueou equilibrium secondari speci contain ca dbutilsprintspeciesinfomoosedb calcit give calcit type miner speci speci ca hco h molar volum molecular weight logk addit util function print reaction format string also provid see pythondbutilspi chemic databas notat definit describ geochemistry_nomenclaturemd page describ gwb format use databas file download geochemist workbench site see thermo dataset chapter citegwb_refer httpsacademygwbcomhttpsacademygwbcom databas gwb format convert mooseformat databas use suppli python util bash geochemistrypythondatabase_converterpi gwb_databas format gwb moose_databasejson follow detail gwb databas sectionbysect descript header databas file begin descript header dataset thermodynam data gwb program dataset format jan activ model debyehuckel fugac model tsonopoulo alert note debyehuckel activ modelactivity_coefficientsmd model current support spycherre fugac modelfugacitymd model current support temperatur definit equilibrium coeffici activ coeffici etc evalu set temperatur assum circc defin line temperatur numer simul perform temperatur one valu fourthord polynomi fit data use steam satur curv pressur bar bar pa along steam satur curv temperatur defin given form pressur debyehuckel coeffici debyehuckel coefficientsactivity_coefficientsmd given next evalu temperatur defin deby huckel adh deby huckel b bdh bdot unit unit molkg b unit molkgmathringa dotb unit molkg instanc circc amolkg bmolkgmathringa dotbmolkg neutral speci activ coeffici temperatur depend paramet b c defin activ coeffici neutral speci c co c co c co e c co formula neutral speci given activ coefficientsactivity_coefficientsmd page special keyword mathringa act flag solver use instead debyehuckel formula instanc see basi speci boh see section citegwb_refer water activ activ wateractivity_coefficientsmd defin four coeffici tildea tildeb tild tild whose temperatur depend given c ho c ho c ho c ho note valu circc circc circc given valu indic valu element definit name chemic abbrevi mole weight provid follow line element silver ag mole wt g aluminum al mole wt g americium mole wt g end basi speci list basi speci properti given basi speci ho charg ion size mole wt g element speci h ag charg ion size mole wt g element speci ag boh charg ion size mole wt g element speci b h end entri first line defin name ho ag etc second line provid charg z ion size mathringa use comput activityactivity_coefficientsmd molecular weight neutral speci activityactivity_coefficientsmd calcul see section citegwb_refer ion size speci ho formula activ water use ion size speci ho activ set ion sizea activ calcul use co coeffici ion sizea formula alog_dotbi use remain data provid element decomposit redox pair databas also contain redox pair inform form redox coupl ophth charg ion size mole wt g speci reaction ho hco h oaq charg ion size mole wt g speci reaction ho h oaq end entri first line defin name ophth etc second line provid charg z ion size mathringa molecular weight former two use comput activityactivity_coefficientsmd decoupl redox pairsbasismd remain data provid equilibrium reaction term basi speci redox speci defin far along temperaturedepend equilibrium constant use redox pair coupledbasismd two purpos elimin altern oxidataion state ophth etc reaction favour basi speci b form anoth secondaryspeci reaction aqueou speci much databas concern equilibrium reaction produc secondari speci aqueou speci npooh charg ion size mole wt g speci reaction h ho npo npooh charg ion size mole wt g speci reaction h ho npo end entri first line defin name npooh etc second line provid charg z ion size mathringa molecular weight first two use comput activ coeffici speci remain data provid equilibrium reaction term basi speci redox coupl along temperaturedepend equilibrium constant free electron data base contain free electron e charg ion size mole wt g speci reaction ho og h end miner mineralis reaction defin th follow block miner baosioc type formula mole vol cc mole wt g speci reaction h ba sioaq ho acanthit type sulfid formula ag mole vol cc mole wt g speci reaction ag h hs end entri first line defin name baosioc acanthit etc type formula option use geochemistri modul mole volum mole weight quantifi activ miner uniti remain data provid equilibrium reaction term basi speci redox coupl along temperaturedepend equilibrium constant gase thermodynam gase reaction involv includ databas gase chg mole wt g chi e pcrit bar tcrit k omega speci reaction chaq end block first line defin name chg etc chi line defin spycherre coefficientsfugacitymd pcrit line use evalu tsonopoulo pengrobinson pressur model use geochemistri modul remain data defin equilibrium reaction constant bibtex bibliographi geochemistri databas reader descript gwb databas format given elsewheredb_descriptionmd page describ databas reader geochemistri modul databas format databas contain info follow standard temperatur circc equilibrium coeffici activ coeffici etc provid type interpol use comput equilibrium coeffici etc temperatur standard temperatur steam satur curv pressur bar pa standard temperatur debyehuckel coefficientsactivity_coefficientsmd evalu standard temperatur neutralspeci activ coefficientsactivity_coefficientsmd evalu standard temperatur coeffici requir comput activ wateractivity_coefficientsmd evalu standard temperatur definit name chemic formula mole weight g element basi speci includ name charg ion size activ comput mole weight g element decomposit option inform regard sorb site simpli consid anoth basi speci code includ name charg mole weight g element decomposit option redox pair includ name charg ion size activ comput mole weight g equilibrium reaction stoichiometri may involv basi speci well redox pair alreadi defin file read order equilibrium constant evalu standard temperatur equilibrium reaction option secondari aqueou speci includ name charg ion size activ comput mole weight g equilibrium reaction stoichiometri may involv basi speci well redox pair equilibrium constant evalu standard temperatur equilibrium reaction option inform concern free electron includ name charg ion size activ comput mole weight g equilibrium reaction stoichiometri may involv basi speci well redox pair equilibrium constant evalu standard temperatur equilibrium reaction option inform concern miner includ name mole volum cm mole weight g equilibrium reaction stoichiometri may involv basi speci well redox pair equilibrium constant evalu standard temperatur equilibrium reaction option inform concern gase includ name coeffici comput fugac equilibrium reaction stoichiometri may involv basi speci well redox pair equilibrium constant evalu standard temperatur equilibrium reaction option inform regard sorb miner involv surfac complex reaction includ name must one miner alreadi defin specif surfac area mg inform regard densiti molmolminer sorb site surfac sorb site must alreadi defin option inform concern surfac speci involv sorb includ name charg mole weight g equilibrium reaction stoichiometri may involv basi speci redox pair involv least one sorb site consid anoth basi speci code log_k reaction well deriv respect temperatur reader workflow initi pars user specifi filenam reader pars file check error record standard temperatur interpol type steamsatur curv inform coeffici requir comput activ follow list built list element list basi compon includ speci call basi speci databas sorb site redox pair list secondari speci includ free electron list miner list gase list sorb miner list surfac speci involv sorb elimin unus speci speci list databas use geochem model allow much inform databas elimin gener inform concern basi written herebasismd inform requir enabl elimin elimin useless inform reader expect user suppli follow inform list basi compon relev problem compon must chosen basi speci databas sorb site decoupl redox state disequilibrium geochemist workbench citepbethke_ basi specifi implicitli user provid swapswapmd inform initi ph initi free concentr initi bulk concentr basi compon involv charg balanc etc howev unambigi clariti geochemistri demand user specifi basi compon specifi swap initi condit etc list speci whose dynam govern kinet rate lawstheoryindexmd includ redox pair decoupl disequilibrium miner slowli precipit dissolv surfac speci slowli sorb list miner ignor throughout entir comput ignor miner sinc reader elimin knowledg miner never precipit never given initi condit never appear basi swap never involv surfac complex list miner includ comput possibl appear least spatial locat time take precid list miner ignor instanc ignore_miner include_miner feohppd mean feoh_ppd includ miner includ list gase whose fugac fix least time spatial locat elimin equilibrium redox speci redox speci equilibrium aqueou solut may elimin databas list redox compon follow remov redox compon specifi user list basi compon disequilibrium redox speci govern kinet rate law remain redox speci equilibrium may elimin use reaction specifi databas must perform top bottom databas file sinc redox speci occur redox speci reaction elimin unimport speci elimin equilibrium redox speci reader elimin speci unimport simul retain speci list basi compon specifi user dynam govern kinet rate miner explicitli includ secondari speci whose equilibrium reaction includ speci contain miner whose equilibrium reaction includ includ speci contain arent ignore_miner list gase whose equilibrium reaction includ speci contain include_ga list sorb miner whose sorb site includ speci arent ignore_miner list surfac speci whose reaction involv speci elimin reader contain inform pertin model reader interfac must support swapsswapmd shouldnt keep list current basi basi potenti vari nodetonod instead assum basi specifi user swap need provid new equilibrium constant stoichiometri etc interpol temperaturedepend thing index use integ instead speci name would ineffici allow check initi condit specifi correctli relat swap dump miner ad chemic chapter citebethke_ describ dump process wherebi miner ad initi solut equilibrium sought undissolv miner remov code achiev subtract n_k m_k set n_k set mole number surfac compon zero m_p well molal unoccupi surfac site m_p adsorb speci m_q final swap appropri aqueou speci a_j basi place a_k process chemic ad system andor temperatur vari andor ph vari etc section citebethke_ provid exampl dump process assum miner calcit use basi instead hco_ free mole number calcit correspond free volum calcit approx cm ph initi concentr na mmolal concentr ca mmolal charg balanc enforc cl moos input file geochemicalmodeldefinitiongeochemicalmodeldefinitionmd defin basi speci equilibrium miner ga interest problem well use piecewise_linear_interpol flag accur comparison geochemist workbenchhttpswwwgwbcom softwar list modulesgeochemistrytestteststime_dependent_reactionscalcite_dumpingi blockuserobject timedependentreactionsolveraddtimedependentreactionsolveractionmd defin swap initi bulk mole number aqueou speci current basistheorygwb_diffmd free mole number calcit ph via h activ system close default time calcit ad system maintain free mole number activ constraint remov h ph vari hcl ad rate mol use mode calcit dump system timestep calcit never precipit exampl dump actual happen first timestep list modulesgeochemistrytestteststime_dependent_reactionscalcite_dumpingi blocktimedependentreactionsolv execution provid mean time particular use total mol hcl ad list modulesgeochemistrytestteststime_dependent_reactionscalcite_dumpingi blockexecution result present run timestep improv appear graph set postprocessor record desir inform use auxvari automat ad timedependentreactionsolveraddtimedependentreactionsolveractionmd list modulesgeochemistrytestteststime_dependent_reactionscalcite_dumpingi blockpostprocessor gwb input file equival geochemist workbenchhttpswwwgwbcom file list modulesgeochemistrytestteststime_dependent_reactionscalcite_dumpingrea note slightli increas ca bulk composit explain heretheorygwb_diffmd result two case run system brought equilibrium calcit dump use mode input file mmol hcl ad system system brought equilibrium calcit dump use mode input file mmol hcl ad system citebethke_ present result figur gwb geochemistri modul produc result shown media calcite_dumping_png captioncog fugac hcl ad fluid compar bethk figur idcalcite_dumping__fig media calcite_dumping_png captionph hcl ad fluid compar bethk figur idcalcite_dumping__fig media calcite_dumping_png captionspeci concentr hcl ad fluid compar bethk figur idcalcite_dumping__fig bibtex bibliographi geochemistri modul test exampl theori behind geochemistri modul describ theori pagetheoryindexmd hope descript test exampl found help user actual implement geochem model geochemistri modul code accompani test rang simpl unit test complic benchmark list code coverag detail may found herehttpsmooseframeworkinlgovdocscoveragegeochemistryindexhtml mani test exampl drawn popular textbook citebethke_ textbook reproduc reader interest exampl background detail analysi result refer citebethke_ help new geochemistri modul user mani test exampl also provid geochemist workbenchhttpswwwgwbcom gwb equival gwb goldstandard geochemistri solver result also act benchmark geochemistri modul small inputfil relat differencestheorygwb_diffmd bewteen gwb geochemistri must consid benchmark full precis real model impact like much less error databas experiment observ equilibrium model variou water simpl hcl solutionhclmd chemic model seawaterseawatermd water amazon riveramazonmd red sea brinered_seamd model redox disequilibrium morro de ferro groundwatermorromd microbi respirationmicrobial_redoxmd explor solubl activ solubl gypsumgypsummd satur halit anhydrit sebkhat el melahsebkhatmd sorption surfac complex langmuir sorption selen loami soilselenatemd problem involv surfac complexationsurface_complexationmd task involv reaction balanc reaction term differ componentsreaction_balancingmd equilibrium activ ratiosactivity_ratiosmd comput equilibrium phph_pemd equilibrium temperatur activityeqm_temp_amd nonuniqu solut model exhibit nonuniqu solutionsnon_uniquemd simpl timedepend reaction path progress ad chemicalsadding_feldsparmd progress chang temperaturecooling_feldsparmd progress ad chemic fix fugacityadding_pyritemd progress chang fugacitychanging_fugacity_with_calcitemd progress chang phchanging_ph_ironmd ad fluid differ temperaturespickupmd dump miner ad chemicalscalcite_buffermd flowthrough reaction remov mineralsflow_throughmd flush mineralsflushmd kinet gradual dissolut quartzkinetic_quartzmd dissolut albit acid solutionkinetic_albitemd quartz deposit fracturekinetic_quartz_arrheniusmd reactiv transport geot simulationgeotes_dmd geot simul involv webertensleep formationgeotes_weber_tensleepmd geotherm simul involv flowforgemd bibtex bibliographi comput equilibrium temperatur activ page follow chapter citebethke_ geochemistri modul use provid equilibrium temperatur activ instanc use standard gwb databas anydrit instead ca compon use swapswapmd reaction beginequ mathrmgypsumrightleftharpoon mathrmanhydrit mathrmh_mathrmo endequ equilibrium equat beginequ log_k log_a_mathrmh_mathrmo endequ water activ equilibrium temperatur k found circc water activ equilibrium temperatur k found circc temperatur circc equilibrium attain water activ perform calcul use geochemistri modul geochemicalmodeldefinitiongeochemicalmodeldefinitionmd object must creat desir miner speci list modulesgeochemistrytesttestsinterrogate_reactionsgypsumi blockuserobject geochemicalmodelinterrogatorgeochemicalmodelinterrogatormd must creat specifi desir swap interrog eqm_temperatur instruct list modulesgeochemistrytesttestsinterrogate_reactionsgypsumi blockgeochemicalmodelinterrog output yield desir inform enough activit known comput equilibrium temperatur reaction gypsum ho ca logk gypsum degc first line state equilibrium temperatur reaction beginequ mathrmgypsum rightleftharpoon mathrmh_mathrmo mathrmca mathrmso_ endequ found activ ca so_ unknown howev anhydrit put basi place ca equilibrium temperatur found result found final line alter activ valu h_o use activity_valu input enabl find equilibrium temperatur differ a_mathrmh_mathrmo find activ water given tcircc simpli use interrog activ remov activity_speci activity_valu line page equilibrium activ ratiosactivity_ratiosmd produc a_ho a_ca a_so a_ho last line desir result a_mathrmh_mathrmo bibtex bibliographi impact co_ fugac solubl calcit section citebethke_ involv studi solubl calcit presenc progress chang co_ ga buffer assum bulk composit na mmolal bulk composit cl mmolal miner calcit use place ca basi initi free mole number mol correspond volum approx cm co_g use place h basi fugac initi charg balanc maintain hco_ fugac co_g chang dissolut calcit ph speci concentr record function time moos input file moos input file includ geochemicalmodeldefinitiongeochemicalmodeldefinitionmd defin basi speci equilibrium miner equilibrium gase case piecewise_linear_interpol flag set true equilibrium constant debyehuckel paramet evalu circc valu provid databas file without leastsquar bestfit smooth list modulesgeochemistrytestteststime_dependent_reactionschanging_fugacity_calcitei blockuserobject timedependentreactionsolveraddtimedependentreactionsolveractionmd specifi swap use initi free molal calcit initi fugac co_g bulk mole number speci system close default mean extern agent add remov calcit order maintain free mole number ie calcit precipit dissolv freeli activ fugac co_g control fug_co auxvari list modulesgeochemistrytestteststime_dependent_reactionschanging_fugacity_calcitei blocktimedependentreactionsolv fug_co fugacitycontrol list modulesgeochemistrytestteststime_dependent_reactionschanging_fugacity_calcitei blockauxkernel execution defin notion time list modulesgeochemistrytestteststime_dependent_reactionschanging_fugacity_calcitei blockexecution figur produc use timestep size regress test use bigger dt effici number postprocessor captur inform auxvari automat includ timedependentreactionsolveraddtimedependentreactionsolveractionmd list modulesgeochemistrytestteststime_dependent_reactionschanging_fugacity_calcitei blockpostprocessor gwb input file equival geochemist workbenchhttpswwwgwbcom input file list modulesgeochemistrytestteststime_dependent_reactionschanging_fugacity_calciterea result citebethke_ present result figur geochemist workbenchhttpswwwgwbcom geochemistri modul result shown media changing_fugacity_calcite_png captioncalcit volum co_ fugac vari compar bethk figur idchanging_fugacity_calcite__fig media changing_fugacity_calcite_png captionph solut contain calcit co_ fugac vari compar bethk figur idchanging_fugacity_calcite__fig media changing_fugacity_calcite_png captionspeci concentr co_ fugac vari solut contain calcit compar bethk figur idchanging_fugacity_calcite__fig bibtex bibliographi ad fluid differ temperatur section citebethke_ describ mix differ fluid bethk term pickup step simul begin form equilibrium solut seawat major element composit shown tableseawat addit tcircc ph follow miner prevent precipit quartz tridymit cristobalit chalcedoni hematit system equilibr final composit without precipit miner save tabl idtableseawat captionmajor element composit seawat speci concentr mmolal cl na mg so_ ca k hco_ sio_aq sr ba time zn time al time cu time fe time mn time o_aq free step hot hydrotherm fluid composit shown tablehydrotherm addit temperatur circc ph h_ssaq use basi instead o_aq system brought equilibrium miner allow precipit precipit miner dumpedcalcite_buffermd tabl idtablehydrotherm captionmajor element composit hydrotherm fluid speci concentr mmolal cl na mg time so_ time ca k hco_ ba time sio_aq sr time zn time cu time al time fe time mn time h_saq step seawat circc slowli mix geotherm fluid circc final ratio seawatergeotherm constant heat capac assum moos input file moos input file deal equilibr seawater_mixing_stepi seawater_mixing_stepi may found test suit focu mix geochemicalmodeldefinitiongeochemicalmodeldefinitionmd defin basi speci relev miner ga fugac comput simul list modulesgeochemistrytestteststime_dependent_reactionsmixingi blockuserobject timedependentreactionsolveraddtimedependentreactionsolveractionmd need discuss list modulesgeochemistrytestteststime_dependent_reactionsmixingi blocktimedependentreactionsolv top bottom block swap defin composit fluid defin via bulk mole composit speci well activ h set ph system close mean free type constraint convert bulk type constraint constraint case h_o h_o ad system maintain kg_solvent_wat constraint activ constraint h also remov mean h ad system maintain ph constraint initi temperatur circc temperatur system initi equilibr subsequ temperatur control variabl see variou sourc speci provid rate see mode set equal mode variabl see execution defin mean time list modulesgeochemistrytestteststime_dependent_reactionsmixingi blockexecution temperatur control use list modulesgeochemistrytestteststime_dependent_reactionsmixingi startt_auxk endho_r mean initi temperatur circc whenev sourc speci rate nonzero case reactant temperatur circc mode set dump tleq otherwis special mode list modulesgeochemistrytestteststime_dependent_reactionsmixingi startmode_auxk endt_auxk sourcespeci rate follow pattern list modulesgeochemistrytestteststime_dependent_reactionsmixingi startho_rate_auxk endal_r numer valu rate deriv geochemist workbenchhttpswwwgwbcom input file result match close possibl gwb result could equal deriv seawater_mixing_stepi seawater_mixing_stepi gwb input file equival geochemist workbenchhttpswwwgwbcom input file list modulesgeochemistrytestteststime_dependent_reactionsmixingrea result figur citebethke_ show result may compar result note two reason two softwar packag produc slightli differ result importantli interpol equilibrium constant high temperatur appear differ two softwar packag may verifi run simul test examplesgeochemistrytests_and_examplesindexmd higher temperatur observ result begin differ higher temperatur despit ident lower temperatur current situat mostli impact system tapprox circc caus aspect model differ less importantli initi equilibr process geochemist workbenchhttpswwwgwbcom first equilibr solut remov ph constraint allow precipit form dump precipit convers geochemistri modul first equilibr solut allow precipit form dump precipit remov ph constraint differ two approach precipit geochemistri addingremov hcl aqueou solut maintain userspecifi ph constraint mean initi configur ad seawat slightli differ explain differ behaviour talc miner earli stage simul may verifi creat anoth model fix bulk mole number h media mixing_png captionaqu solut temperatur idmixing_fig media mixing_png captionprecipit form idmixing_fig media mixing_png captionoxygen fugac idmixing_fig media mixing_png captionspeci concentr idmixing_fig bibtex bibliographi sorption onto ferric hydroxid exampl close follow section citebethke_ explor sorption mercuri lead sulfat onto hydrou ferric oxid ph definit sorption via surfac complex assum two sorb site beginequ a_pleft mathrmsfeoh mathrmwfeohright endequ citebethke_ use convent indic someth sorption sorb reaction written document equilibrium reactionsequilibriummd beginequ a_q rightleftharpoon nu_wqa_w sum_inu_iqa_i sum_knu_kqa_k sum_mnu_mqa_m nu_pqa_p endequ specif beginequ beginalign mathrmwfeoh_ rightleftharpoon mathrmwfeoh mathrmh log_k mathrmwfeo rightleftharpoon mathrmwfeoh mathrmh log_k mathrmwfeohg rightleftharpoon mathrmwfeoh mathrmh mathrmhg log_k mathrmwfeopb rightleftharpoon mathrmwfeoh mathrmh mathrmpb log_k mathrmwfeso_ rightleftharpoon mathrmwfeoh mathrmh mathrmso_ mathrmh_mathrmo log_k mathrmwfeohso_ rightleftharpoon mathrmwfeoh mathrmso_ log_k mathrmsfeoh_ rightleftharpoon mathrmsfeoh mathrmh log_k mathrmsfeo rightleftharpoon mathrmsfeoh mathrmh log_k mathrmsfeohg rightleftharpoon mathrmsfeoh mathrmh mathrmhg log_k mathrmsfeopb rightleftharpoon mathrmsfeoh mathrmh mathrmpb log_k endalign endequ sorption occur ferric hydroxid miner feoh_ call feohppd databas order complet descript surfac complex surfac potenti psi must specifi requir specif surfac area assum beginequ a_ mathrmmmathrmgminer endequ assum mol feohppd mol sfeoh mol feohppd mol wfeoh inform contain moos test databas ferric_hydroxide_sorptionjson read moos input file use geochemicalmodeldefinitiongeochemicalmodeldefinitionmd userobject list modulesgeochemistrytesttestssorption_and_surface_complexationferric_hydroxidei blockuserobject chemic composit miner quantiti sorb mole chemic composit water shown tableanalysi addit charg balanc perform cl two model run one ph ph tabl idtableanalysi captionel composit water sorption exampl speci concentr mmolkg na cl hg pb so_ free gram feohppd geochemistri languag mean time free mol miner rememb free mole mean quantiti float around aqueou solut contrast bulk composit consist free amount well amount form equilibrium secondari speci mean time time time mol sfeoh time time time mol wfeoh note bulk composit valu site free occupi sorb speci alert note bulk mole composit site sfeoh wfeoh must specifi geochemistri modul differ geochemist workbench work bulk composit intern timeindependentreactionsolveraddtimeindependentreactionsolveractionmd defin composit includ ph free mole number miner bulk composit sorb site list modulesgeochemistrytesttestssorption_and_surface_complexationferric_hydroxidei blocktimeindependentreactionsolv gwb input file equival geochemist workbenchhttpswwwgwbcom input file list modulesgeochemistrytesttestssorption_and_surface_complexationferric_hydroxiderea result citebethke_ comput result shown tablesurfac tableweak_conc tablestrong_conc tableperc_sorb geochemistri modul gwb softwar give result final note sometim geochemistri result differ geochemist workbench result mathrmth signific figur differ precis use permitt free space faraday constant etc tabl idtablesurfac captionsurfac characterist characterist ph ph surfac charg muccm surfac potenti mv tabl idtableweak_conc captionconcentr speci weak site site concentr mmolkg ph concentr mmolkg ph wfeoh_ wfeoh wfeo time wfeohg time wfeopb time wfeso_ time wfeohso_ time tabl idtablestrong_conc captionconcentr speci strong site site concentr mmolkg ph concentr mmolkg ph sfeoh_ time sfeoh time sfeo time time sfeohg time time sfeopb tabl idtableperc_sorb captionpercentag speci sorb speci sorb sorb hg pb so_ bibtex bibliographi solubl gypsum associ activ exampl close follow section citebethke_ solubl gypsum caso_h_o function nacl concentr explor simul initi undissolv gypsum small quantiti na cl nacl progress ad follow assumpt made gypsum use basi instead aqueou speci ca initi amount free gypsum mol approx g charg balanc perform so_ henc basi h na cl gypsum simul comput much gypsum dissolv function concentr nacl result shown figur citebethke_ moos input file input file begin defin basi aqueou speci equilibrium miner gypsum model piecewise_linear_interpol flag use accur comparison geochemist workbenchhttpswwwgwbcom softwar list modulesgeochemistrytesttestssolubilities_and_activitiesgypsum_solubilityi blockuserobject timedependentreactionsolveractionsaddtimedependentreactionsolveractionmd use simul ad nacl ca swap basi favor gypsum na cl provid small initi molal molal so_ actual control charg neutral free mole gypsum introduc initi system initi setup geochemistri modul find equilibrium configur correspond initi condit default close system close_system_at_tim input default stop gypsum enter system rate addit nacl defin mol flag enabl accur comparison geochemist workbenchhttpswwwgwbcom softwar list modulesgeochemistrytesttestssolubilities_and_activitiesgypsum_solubilityi blocktimedependentreactionsolv timestep output defin usual moos way case functiondt timestepp use captur nonlinear behaviour begin sinul list modulesgeochemistrytesttestssolubilities_and_activitiesgypsum_solubilityi blockexecution list modulesgeochemistrytesttestssolubilities_and_activitiesgypsum_solubilityi blockoutput auxvari captur amount dissolv gypsum use bulk_moles_gypsum free_mg_gypsum auxvari automat ad timedependentreactionsolveractionsaddtimedependentreactionsolveractionmd use simul ad nacl list modulesgeochemistrytesttestssolubilities_and_activitiesgypsum_solubilityi blockauxvari list modulesgeochemistrytesttestssolubilities_and_activitiesgypsum_solubilityi blockauxkernel final postprocessor allow desir inform written csv output file list modulesgeochemistrytesttestssolubilities_and_activitiesgypsum_solubilityi blockpostprocessor gwb input file equival geochemist workbenchhttpswwwgwbcom input file list modulesgeochemistrytesttestssolubilities_and_activitiesgypsum_solubilityrea total mole nacl ad system equival mol use moos input file extract result geochemist workbenchhttpswwwgwbcom inbuilt graph capabl may util cl molal vs mole ca solut may extract plaintext output file result result shown gypsum_solubilityfig media gypsum_solubilitypng captiongypsum solubl function chlorin molal idgypsum_solubilityfig bibtex bibliographi simul simpl geot experi page describ reactivetransport simul simpl geot scenario transport handl use porousflow modul geochemistri modul use simul heat exchang geochemistri simul coupl togeth operatorsplit approach use multiapp geolog thermal energi storag geot hot fluid pump subsurfac confin aquif store time pump back produc electr mani differ scenario propos includ differ borehol geometri use pump fluid differ pump strategi cyclic pump certain borehol borehol etc differ temperatur differ aquif properti etc page describ heat phase particularli simpl set two well borehol use cold product well pump aquif water aquif hot inject well pump hot fluid aquif connect heatexchang heat aquif water produc pass mean fluid pump inject well fact heat aquif water import practic waterconserv standpoint assess geochem aspect circul aquif water geot system media geotes_d_schematicpng captionschemat simpl geot simul idgeotes_d_schematicfig aquif geochemistri assum h_o na cl sio_aq present system unrealist simpl aquif allow page focu method construct complic model avoid rather lengthi input file databas file small geochem databas involv speci use reader build databas might find explor structur use list modulescombinedexamplesgeochemporous_flowgeotes_dsmall_databasejson initi condit aquif temperatur uniformli circc inject product aquif assum consist entir miner call quartzlik kinet rate use dissolut miner quartzlik similar quartz differ equilibrium constant structur order emphasis dissolut upon heat kg solvent water assum hold mol na cl certain amount sio_aq follow input file find free molal sio_aq contact quartzlik circc list modulescombinedexamplesgeochemporous_flowgeotes_daquifer_equilibriumi result molal necessari find initi molal quartzlik kinet speci appear basi see anoth similar examplekinetic_quartz_arrheniusmd treat equilibrium speci initi free mole number could specifi input file see exampl thisgypsummd spatiallydepend geochemistri simul operatorsplit approach use simul aquif geochemistri may consid separ porousflow simul heat exchang simul section describ aquif geochemistri simul model setup commenc defin basi speci miner rate descript kinet dissolut quartzlik list modulescombinedexamplesgeochemporous_flowgeotes_daquifer_geochemistryi blockuserobject paramet rate descript similar chosen anoth examplekinetic_quartz_arrheniusmd spatialreactionsolverspatialreactionsolverindexmd defin initi concentr speci reactant ad system list modulescombinedexamplesgeochemporous_flowgeotes_daquifer_geochemistryi blockspatialreactionsolv line block need discuss sinc spatialreactionsolv system describ exist node mesh node typic differ void volum fraction associ node coarselymesh region respons larg volum fluid node finelymesh region region small poros repres small volum fluid setup liter aqueou solut model node discuss rate reactant addit adjust reflect assum liter aqueou solut contain kg solvent water specifi quantiti na cl sio_aq free_mol constraint sio_aq set accord equilibrium simul describ assum cm quartzlik per cm liter aqueou solut correspond mol quartzlik reason choos cm quartzlik aquif poros assum calcul use beginequ phi fracv_mathrmfluidv_mathrmfluid v_mathrmminer frac endequ initi temperatur aquif assum circc simul given auxvari call temperatur auxvari provid porousflow simul describ source_species_r defin rate__per_l auxvari discuss mesh execution provid input file may run alon standalon fashion overwritten coupl porousflow simul remaind input file deal auxvari use transfer inform toandfrom porousflow simul porousflow simul provid temperatur pf_rate_ho pf_rate_na pf_rate_cl pf_rate_sio auxvari pf_rate quantiti rate chang fluidcompon mass kg node geochemistri modul expect ratesofchang mole mol node moreov sinc input file consid liter aqueou solut everi node nodal_void_volum use convert molslit aqueou solut instanc list modulescombinedexamplesgeochemporous_flowgeotes_daquifer_geochemistryi startrate_ho_per_l_auxk endrate_na_per_l input file provid porousflow simul updat massfract quartzlik dissolut occur increas sio_aq concentr instanc base transport mole number node mole number transport speci origin basi mole number h_o na cl free mole sio_aq case record auxvari use exampl list modulescombinedexamplesgeochemporous_flowgeotes_daquifer_geochemistryi starttransported_ho_auxk endtransported_na mass fraction comput use exampl list modulescombinedexamplesgeochemporous_flowgeotes_daquifer_geochemistryi starttransported_mass_auxk endmassfrac_na porousflow simul porousflow modul use perform transport assum aquif may adequ model use mesh inject well product well list modulescombinedexamplesgeochemporous_flowgeotes_dporous_flowi blockmesh list modulescombinedexamplesgeochemporous_flowgeotes_dproductionbh recal porousflow modul consid mass fraction molefract molal etc denot massfract na f massfract cl f massfract sio_aq f massfract h_o may work sum massfract uniti variabl list modulescombinedexamplesgeochemporous_flowgeotes_dporous_flowi blockvari initi condit chosen reflect temperatur mole number aquif geochemistri input file initi porepressur mpa use correspond approxim depth much remaind input file typic porousflow simul point particular interest involv transfer inform aquif geochemistri simul heatexchang simul transfer aquif geochemistri simul porousflow input file transfer rate chang speci kg node aquif geochemistri simul achiev save chang kernel residu evalu auxkernel use save_component_rate_in list modulescombinedexamplesgeochemporous_flowgeotes_dporous_flowi blockporousflowfullysatur transfer aquif geochemistri simul end timestep aquif geochemistri simul provid updat massfract porousflow simul list modulescombinedexamplesgeochemporous_flowgeotes_dporous_flowi startmassfrac_from_geochem end interfac heatexchang simul input file simul fluidandheat inject well fluidandheat extract well heat inject model use fix valu temperatur injection_nod list modulescombinedexamplesgeochemporous_flowgeotes_dporous_flowi blockbc injection_temperatur variabl set exchang simul via multiapp transfer fluid inject model use porousflowpolylinesink list modulescombinedexamplesgeochemporous_flowgeotes_dporous_flowi startinject_na endinject_cl block sumquantityuo measur inject mass purpos check correct amount fluid inject injected_r constant specifi top input file kgsm combin injected_r p_or_t_val line_length multiplying_var mean variabl f massfract na subject sourc size injection_rate_massfrac_na borehol posit four injection_rate_massfrac_ variabl set exchang simul via multiapp transfer fluid heat product well also simul porousflowpolylinesink list modulescombinedexamplesgeochemporous_flowgeotes_dporous_flowi startproduce_na endproduce_cl block produced_mass_na record amount na produc injected_r constant specifi top input file kgsm mass_fraction_compon instruct porousflow captur zeroth mass fraction na heat energi captur use similar techniqu notic use_enthalpi flag list modulescombinedexamplesgeochemporous_flowgeotes_dporous_flowi startproduce_heat end produced_mass_ quantiti temperatur product well provid heatexchang input file howev input file work mole unit mass fraction translat need list modulescombinedexamplesgeochemporous_flowgeotes_dporous_flowi startkg_na_produced_this_timestep endkg_cl_produced_this_timestep list modulescombinedexamplesgeochemporous_flowgeotes_dporous_flowi startmole_rate_na_produc endmole_rate_cl_produc list modulescombinedexamplesgeochemporous_flowgeotes_dporous_flowi startmoles_na endmoles_cl heatexchang simul input file use timedependentreactionsolvertimedependentreactionsolverindexmd object absenc data concern kinet quartzlik heatexchang miner treat equilibrium speci nonkinet list modulescombinedexamplesgeochemporous_flowgeotes_dexchangeri blocktimedependentreactionsolv notic follow point quartzlik provid small initi free_mole_mineral_speci mean sio_aq find initi concentr equilibrium mode mean heatexchang mode use mean timestep fluid present system remov fluid ad source_speci ad system taken cold_temperatur precipit record remov system case quartzlik littl precipit occur cold_temperatur less aquif temperatur system heat temperatur precipit record remov system case quartzlik precipit occur solubl higher temperatur source_speci set production_rate_ auxvari quantiti pump product well porousflow simul provid multiapp transfer porousflow simul describ simul provid porousflow simul inject temperatur circc also provid massfract inject fluid achiev record transport mole number list modulescombinedexamplesgeochemporous_flowgeotes_dexchangeri starttransported_ho_auxk endtransported_na convert mole number mass fraction list modulescombinedexamplesgeochemporous_flowgeotes_dexchangeri starttransported_mass_auxk endmassfrac_na quantiti interest record postprocessor list modulescombinedexamplesgeochemporous_flowgeotes_dexchangeri blockpostprocessor result figur depict heat advect hot well cold well well quartzlik dissolut caus small chang poros aquif media geotes_d_temperaturepng captionaquif temperatur inject heat aquiferbrin system green dot show inject product borehol posit idgeotes_d_temperaturefig media geotes_d_porositypng captionaquif poros inject heat aquiferbrin system caus dissolut aquif quartz green dot show inject product borehol posit idgeotes_d_porosityfig comparison quartzunlik similar set simul aquifer_un_quartz_geochemistryi exchanger_un_quartzi may found directori instead quartzlik use quartzunlik miner precipit upon heat rather cool expect hotfluid inject littl impact upon aquif structur lot quartzunlik precipit heat exchang heat produc reservoir fluid inde follow figur show occur media geotes_dpng captionminer precipit heat exchang quartzlik quartzunlik case quartzlik precipit becom solubl heat contrast quartzunlik miner idgeotes_dfig geot experi involv webertensleep format page describ reactivetransport simul geot system webertensleep format transport handl use porousflow modul geochemistri modul use simul heat exchang geochemistri simul coupl togeth operatorsplit approach use multiapp geolog thermal energi storag geot hot fluid pump subsurfac confin aquif store time pump back produc electr mani differ scenario propos includ differ borehol geometri use pump fluid differ pump strategi cyclic pump certain borehol borehol etc differ temperatur differ aquif properti etc page describ heat phase particularli simpl set two well borehol use cold product well pump aquif water aquif hot inject well pump hot fluid aquif connect heatexchang heat aquif water produc pass mean fluid pump inject well fact heat aquif water import practic waterconserv standpoint assess geochem aspect circul aquif water geot system media geotes_d_schematicpng captionschemat simpl geot simul idgeotes_d_schematicfig observ geochem composit aquif mineralog composit weber format water measur circc typic analysi shown tableweber_analysi minor point sinc hs redox speci concentr fix oxid state water swap basi speci o_aq simul speci nh_ basi speci may swap basi replac no_ simul speci b basi speci boh_ use instead concentr mgl speci si basi speci sio_aq use instead concentr mgl tabl idtableweber_analysi captiontyp composit weber format water measur circc speci concentr mgl cl hco hs si al ca mg fe k na sr f b br ba li nh n ph mineralog webertensleep aquif also measur typic composit shown tableweber_mineralog volum fraction sum small measur error tabl idtableweber_mineralog captiontyp mineralog webertensleep aquif miner volum fraction quartz kfeldspar kaolinit e siderit goethit pyrrhotit dolomit calcit fechlorit illit chalcedoni anhydrit barit e celestit fluorit albit equilibrium model circc simplest simul possibl one find molal primari secondari speci given measur concentr tableweber_analysi prevent miner precipit perform analysi concentr shown tableweber_analysi must convert mole number shown tableeqm_deg tableeqm_deg assum l aqueou solut contain exactli kg solvent water tabl idtableeqm_deg captioncomposit model circc ph speci measur conc mgl mol weight gmol molal molkgsolv water cl hco hs sioaq al ca mg fe k na sr f boh br ba li nh moos model begin defin basi speci tableeqm_deg well ho h fix ph oaq allow redox coupl particular hs fe well miner interest tableweber_mineralog except fechlorit sinc databas list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepeqm_model_degc_no_precipi blockuserobject alert note none input file page set remove_all_extrapolated_secondary_speci true geochemicalmodeldefinitiongeochemicalmodeldefinitionmd set flag true remov odd secondari speci whose equilibrium constant measur small rang temperatur sinc extrapol experiment result lead unrealist valu caus converg issu simpli fortun simul page need flag set gener flag set true model involv high temperatur timeindependentreactionsolveraddtimeindependentreactionsolveractionmd defin swap mention measur concentr nh hs use instead oaq chargebal speci assum cl bulk mole number speci tableeqm_deg ph instead mole number geochemistri modul accept unit mg conveni temperatur miner allow precipit exploratori simul list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepeqm_model_degc_no_precipi blocktimeindependentreactionsolv moos output includ overal inform mass solvent water kg total mass kg mass aqueou solut kg without free miner ph pe ionic strength molkgsolv water stoichiometr ionic strength molkgsolv water activ water temperatur reveal mani miner supersatur expect water sourc aquif contain miner cool miner illit ho h sioaq al mg k logk si kaolinit ho h sioaq al logk si kfeldspar ho h sioaq al k logk si albit ho h sioaq al na logk si pyrrhotit ho h fe hs logk si barit ba logk si quartz sioaq logk si chalcedoni sioaq logk si siderit h hco fe logk si dolomit h hco ca mg logk si calcit h hco ca logk si fluorit ca f logk si celestit sr logk si anhydrit ca logk si one use piec inform report bulk composit h mol geochem technic point worth recognis coupl appar strang featur analys present tableweber_analysi tableweber_mineralog barit supersatur allow precipit remov almost ba found solut seemingli contradict tableweber_analysi accord tableweber_mineralog barit found small concentr mechan must present prevent precipit kinet law chalcedoni quartz present tableweber_mineralog sio quartz stabl time chalcedoni disappear kinet rate may respons observ complex subtl one complet ignor follow sinc purpos present describ use geochemistri modul get stuck technic detail geochemistri even turn import real life geochem model webertensleep format circc temperatur webertensleep aquif approxim circc poros approxim build geochem model format follow process use water composit describ tableeqm_deg equilibr circc prevent precipit miner previou section ph constraint remov h allow enter system system brought circc allow precipit system assum volum l cm brought contact cm miner composit shown tableweber_mineralog poros therefor close exactli due minor amount precipit step result system brought equilibrium allow miner precipit dissolv requir assum miner govern kinet law conveni use equilibrium model previou section model step bulk composit h mol use sourc miner speci shown tablemodel_mineralog chalcedoni includ dissolv favor quartz fechlorit includ appear databas ensur final poros close beginequ mathrmmodel volum cmmathrm time mathrmmodel vol endequ tabl idtablemodel_mineralog captionmineralog use model poros assum miner measur vol model vol model vol cm molar volum cmmol mole siderit pyrrhotit dolomit illit chalcedoni anhydrit calcit quartz kfeldspar kaolinit e e e fechlorit barit e e e goethit celestit fluorit albit moos input file use timedependentreactionsolveraddtimedependentreactionsolveractionmd rais temperatur add sourc miner first part inputfil block ident model save fix bulk composit h instead fix ph second part add sourc miner rate given tablemodel_mineralog temperatur circc final temperatur around circc desir list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepeqm_model__to_degci blocktimedependentreactionsolv moos output includ summari mass solvent water kg total mass kg mass aqueou solut kg without free miner ph pe ionic strength molkgsolv water stoichiometr ionic strength molkgsolv water activ water temperatur moos output also includ composit speci basi consist miner free speci shown tablemodel_bulk tabl idtablemodel_bulk captioncomposit model circc express basi includ miner free speci mass solvent water kg speci bulk composit mole free quartz mole calcit mole kfeldspar mole siderit mole dolomit mole anhydrit mole pyrrhotit mole illit mole kaolinit mole barit mole na molal cl molal molal li molal boh molal br molal f molal sr molal nh e molal interest compar concentr speci model aqueou solut remov miner assemblag inform also output geochemistri modul shown tablemodel_transported_bulk concentr cl impact chargeneutr concentr hco al k ba much less model compar observ due miner precipit concentr speci impact miner ident na sr f b br li nh model concentr remain speci similar observ tabl idtablemodel_transported_bulk captioncomposit circc remov miner comparison origin measur speci measur conc molal model conc molal cl hco hs sioaq al e ca mg fe k na sr f boh br ba e li nh model also reveal goethit albit flourit supersatur probabl precipit equilibrium aqueou solut appar contradict tableweber_mineralog goethit ho pyrrhotit kaolinit calcit anhydrit dolomit kfeldspar illit siderit logk si albit ho kaolinit quartz calcit anhydrit dolomit kfeldspar illit na logk si fluorit anhydrit f logk si chalcedoni quartz logk si celestit sr logk si total miner volum report cm ensur poros exactli free amount quartz reduc cm mol reactiv transport simul lead bulk composit mol complet definit geochem system use present summari bulk composit determin tablemodel_bulk basi tabl amend quartz bulk composit mol geochemistri modul use unit g mg etc page use molebas unit exclus miner basi tablemodel_bulk assum equilibrium aqueou system geochemistri modul easili handl kinet reaction simpl geot exampl may found heregeotes_dmd kinet use present miner goethit albit flourit assum never precipit scale heat aqueou solut circc geochem system defin may heat circc order explor potenti scale heat exchang follow method use aqueou solut remov aquif remov free miner remov model defin aqueou solut slowli heat circc circc immedi remov precipit soon form techniqu studi worst case scenario scale heat exchang possibl precipit form dissolv upon heat techniqu use remov precipit prevent dissolut timedependentreactionsolveraddtimedependentreactionsolveractionmd defin swap need bring miner basi describ tablemodel_bulk bulk composit result basi tablemodel_bulk amend quartz bulk composit mol recal geochemistri modul use unit gram mg conveni page use molebas unit exclus fluorit albit goethit miner precipit initi temperatur mode use mean precipit remov start time step temperatur control auxvari call temp_control list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepscalingi blocktimedependentreactionsolv execution give mean time list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepscalingi blockexecution temp_control simpl functionaux list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepscalingi starttemp_controller_auxk endanhydrite_mol_auxk mole dump heat exchang scale record sequenc geochemistryquantityauxgeochemistryquantityauxmd list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepscalingi startanhydrite_mol_auxk enddolomite_mol_auxk record result postprocessor yield result shown geotes_weber_tensleep_scalingfig interest compar nic spycher model webertensleep format predict around kgmformat water anhydrit around cmlformat water quit similar current model around cmlformat water dolomit cmlformat water calcit cmlformat water siderit current model predict none could due combin differ activ model differ geochem model ph lower differ definit scale media geotes_weber_tensleep_scalingpng captiondegre scale precipit expect heat exchang accord model format water idgeotes_weber_tensleep_scalingfig spatial aquif geochemistri input file creat geochem model circc easi creat version includ spatial depend although input file may run interest phenomena observ sinc temperatur fiex sourcespeci rate zero coupl porous_flow input file describ temperatur sourcespeci rate nontrivi input file begin geochemicalmodeldefinitiongeochemicalmodeldefinitionmd list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepaquifer_geochemistryi blockuserobject spatialreactionsolverspatialreactionsolverindexmd defin swap need bring basi state defin tablemodel_bulk initi composit tablemodel_bulk amend quartz bulk composit mol pleas note key concept finit element node consid litr aqueou solut initial_temperatur temperatur finiteel node control temperatur auxvari provid parent porous_flow simul sourc speci rate per litr aqueou solut variou auxvari need simul list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepaquifer_geochemistryi blockspatialreactionsolv remaind input file mostli concern translat porousflow inform mass fraction sourc rate node geochemistri inform mole litr fluid block translat porous_flow rate rate chang speci mass node kg rate chang per litr aqueou solut node list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepaquifer_geochemistryi startrate_h_per_l_auxk endrate_cl_per_l_auxk molar mass gmol speci h nodal_void_volum volum aqueou solut held node block translat geochemistri mole transport h mass fraction h list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepaquifer_geochemistryi startmassfrac_h_auxk endmassfrac_cl_auxk use transported_mass list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepaquifer_geochemistryi starttransported_mass_auxk endmassfrac_h_auxk poros calcul use free miner volum list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepaquifer_geochemistryi startporosity_auxk endnodal_void_volume_auxk inject product porou flow webertensleep aquif around thick inject produc entir thick may lead unaccept low effici buoyant hot water rise top aquif never recov purpos exampl assum thick horizont aquif bound cap physic properti list tableaquifer_phys tabl idtableaquifer_phys captionphys properti aquif cap properti quantiti aquif thick aquif depth aquif initi porepressur mpa aquif initi temperatur circc aquif horizont permeabl time aquif vertic permeabl time aquif poros aquif thermal conduct wmk cap thick cap isotrop permeabl cap poros cap thermal conduct wmk geotherm gradient shown geotes_d_schematicfig well geometri consist singl vertic well inject entir aquif thick singl vertic well produc entir aquif thick inject phase geot system explor paramet list tableinject inject product rate chosen porepressur remain posit product well given rel low aquif permeabl tabl idtableinject captioninject paramet geot system properti quantiti inject product rate kg inject temperatur circc inject fluid heat product water precipit remov inject time day distanc well injectionproduct simul may perform use porous_flow modul present focuss geochemistri highlight porous_flow input file mention variabl massfract transport speci origin geochem basi swap call f_h f_cl f_so etc initi condit defin tablemodel_transported_bulk convert massfract shown tableinitial_composit tabl idtableinitial_composit captioncomposit circc transport speci ie includ miner express origin basi speci mole molar weight gmol mass g mass fraction ho h e cl hco e sioaq e al e e e ca mg e fe e k e na sr e f e boh br e ba e e li e oaq e interfac child geochemistri simul detail rate chang transport speci must record perform via save_component_rate_in featur porousflowfullysatur action list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepporous_flowi starttime_deriv_h endtime_deriv_cl interfac child geochemistri simul creat use multiapp transfer provid sourcespeci rate geochemistri simul updat mass fraction transport speci use result geochemistri simul list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepporous_flowi blockmultiapp list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepporous_flowi blocktransf inject product perform porousflowpolylinksink instanc list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepporous_flowi startinject_h endinject_cl block injection_rate_massfrac_h set initi mass fraction repres pump unadulter reservoir water system list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepporous_flowi startinjection_rate_massfrac_h endinjection_rate_massfrac_cl eventu sourc parent simul exchangeri see product dirackernel record produc mass speci postprocessor interfac exchangeri list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepporous_flowi startproduce_h endproduce_cl convert mole rate use function list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepporous_flowi startmoles_h endmoles_cl heat exchang heat exchang simul accept produc water porous_flow simul heat circc allow precipit form remov inject remain fluid back porous_flow simul core timedependentreactionsolveraddtimedependentreactionsolveractionmd first line similar previou input file notic mode exchang mode initi fluid remov exchang start precipit fluid porous_flow simul output temperatur control ramp_temperatur auxvari ramp circc approxim day allow aquifer_geochemistri simul easili converg source_speci rate provid porous_flow simul list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepexchangeri blocktimedependentreactionsolv source_species_r provid porous_flow simul use transfer list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepexchangeri startproduction_h endproduction_cl composit fluid inject exchang porous_flow simul depend transport composit list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepexchangeri starttransported_h_auxk endtransported_cl_auxk convert mass fraction list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepexchangeri startmassfrac_h_auxk endmassfrac_cl_auxk pass porous_flow simul list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepexchangeri startinjection_h endinjection_cl similar transfer use temperatur inject fluid amount precipit miner record use geochemstryquantityauxgeochemistryquantityauxmd list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepexchangeri startdumped_siderite_auxk enddumped_pyrrhotite_auxk write input file input file aqueou geochemistri simul porou flow simul heat exchang simul quit lengthi repetit simpli larg number speci involv avoid typo python script provid write input file list modulescombinedexamplesgeochemporous_flowgeotes_weber_tensleepcreate_input_filespi result precipit heat exchang precipit form heat exchang format water heat product temperatur circc sinc product temperatur moreorless constant around circc simul run long enough signific thermalbreakthrough occur precipit rate moreorless constant result shown geotes_weber_tensleep_exchangerfig result similar case parcel format water heat see geotes_weber_tensleep_scalingfig greatest problem anhydrit note simul heat format water remov precipit form prevent subsequ dissolut may occur worstcas scenario media geotes_weber_tensleep_exchangerpng captiondegre scale precipit expect heat exchang accord full exchangerporous_flowaquifer_geochemistri model idgeotes_weber_tensleep_exchangerfig result mineralog chang around inject well miner precipit dissolv around inject well shown geotes_weber_tensleep_mineralogy_absfig geotes_weber_tensleep_mineralogy_relfig volum illit kaolinit undergo dissolut inde miner dissolv contrast kfeldspar quartz precipit volum dissolut exce precipit volum poros increas margin origin valu media geotes_weber_tensleep_mineralogy_abspng captionabsolut chang miner volum around inject well idgeotes_weber_tensleep_mineralogy_absfig media geotes_weber_tensleep_mineralogy_relpng captionrel chang miner volum around inject well idgeotes_weber_tensleep_mineralogy_relfig result contour geotes_wt_dfig show result day simul input file produc result employ fine mesh set remove_all_extrapolated_secondary_speci true geochemicalmodeldefinitiongeochemicalmodeldefinitionmd ensur converg media geotes_weber_tensleep_dpng captiontemperatur poros ph free volum quartz day inject coupl model idgeotes_wt_dfig effici relat pagecompute_efficienciesmd explor memori consumpt impact linear solver choic computetim scale number processor problem chemic model seawat exampl close follow section citebethke_ chemic analysi major element composit seawat shown tableanalysi tableatm list partial pressur gase atmospher tabl idtableanalysi captionmajor element composit seawat speci concentr mgkg cl na so_ mg ca k hco_ sio_aq o_aq tabl idtableatm captionparti pressur gase atmospher ga pressur atm n_ o_ h_o co_ ch_ time co time so_ time n_o time h_ sim time no_ time exampl assum co_g o_g fugac set approxim partial pressur fix co_ fugac fix ph accord reaction beginequ mathrmh mathrmhco_ rightleftharpoon mathrmco_mathrmg mathrmh_mathrmo endequ fix fugac o_g defin oxid state accord beginequ mathrmo_mathrmaq rightleftharpoon mathrmo_mathrmg endequ final assum extent system kg solvent water along solut dissolv moos input file precipit moos input file contain usual geochemicalmodeldefinitiongeochemicalmodeldefinitionmd specifi databas file use case basi speci equilibrium miner equilibrium gase flag piecewise_linear_interpol true order compar geochemist workbench result list modulesgeochemistrytesttestsequilibrium_modelsseawater_no_precipi blockuserobject instruct moos find equilibrium configur timeindependentreactionsolveractionsaddtimeindependentreactionsolveractionmd use swap defin fugac gase fix defin bulk mole number aqueou speci also fix appropri number differ concentr mgkg given tabl may work use tdstests_and_examplesic_unit_conversionsmd prevent_precipit input prevent miner precipit find equilibrium configur even satur indic posit flag enabl accur comparison geochemist workbenchhttpswwwgwbcom softwar list modulesgeochemistrytesttestsequilibrium_modelsseawater_no_precipi blocktimeindependentreactionsolv moos input file precipit moos input file similar noprecipit case two differ prevent_precipit input chang swap differ initi condit mgco_ discuss citebethke_ list modulesgeochemistrytesttestsequilibrium_modelsseawater_precipi geochemist workbench input file geochemist workbenchhttpswwwgwbcom input file precipit case list modulesgeochemistrytesttestsequilibrium_modelsseawater_preciprea nonprecipit case similar see seawater_no_preciprea file result geochemistri result mirror geochemist workbench exactli error chargeneutr error geochemistri simul report error emol charg solut emol solut mass solut mass kg ionic strength water activ ionic strength molkgsolv water water activ ph pe eh precipit ph pe eh v aqueou speci distribut molal abund speci result tablemolalities_etc tabl idtablemolalities_etc captioncalcul molal activ coeffici activ abund speci seawat speci molal molkg activ coeff log_a cl na mg time so_ time k time mgcl time naso_ time ca time mgso_ time cacl time nacl time hco_ time caso_ time nahco_ time o_aq time kso_ time mghco_ time sio_aq time kcl time miner satur indic equilibrium solut tablemolalities_etc greater number miner suggest miner precipit allow occur geochemistri simul gwb simul predict dolomit quartz actual precipit code produc precipit mass shown tableminer tabl idtableminer captioncalcul initi satur indic final mass precipit stabl phase assemblag miner initi si amount form mg antigorit tremolit talc chrysotil sepiolit dolomiteord dolomit anthophyllit huntit dolomitedi magnesit calcit aragonit quartz bibtex bibliographi progress ad potassium feldspar page follow chapter citebethke_ involv comput equilibrium system kfeldspar ad hypothet water initi composit water shown tablecomposit assum temperatur circc initi ph cm kfeldspar slowli ad system tabl idtablecomposit captioniniti bulk composit hypothet water speci concentr molal approx conc mgkgsolvent water hco_ time cl time ca time so_ time na time mg time sio_aq time k time al time moos input file definit geochemicalmodeldefinitiongeochemicalmodeldefinitionmd specifi databas file use case basi speci equilibrium miner flag piecewise_linear_interpol true order compar geochemist workbench result list modulesgeochemistrytestteststime_dependent_reactionsadd_feldspari blockuserobject moos input file initi condit reaction rate timedependentreactionsolveractionsaddtimedependentreactionsolveractionmd defin initi condit desir reaction process ph defin specifi activ h note time zero initi equilibr activ constraint remov via remove_fixed_act input bulk composit chemic speci specifi moles_bulk_speci per tablecomposit rate addit kfeldspar defin time mol correspond cm flag effici enabl accur comparison geochemist workbenchhttpswwwgwbcom softwar list modulesgeochemistrytestteststime_dependent_reactionsadd_feldspari blocktimedependentreactionsolv moos input file time step total step cours use simul list modulesgeochemistrytestteststime_dependent_reactionsadd_feldspari blockexecution moos input file output set postprocessor captur output use auxvari ad automat timedependentreactionsolveractionsaddtimedependentreactionsolveractionmd list modulesgeochemistrytestteststime_dependent_reactionsadd_feldspari blockpostprocessor result citebethke_ predict miner kaolinit muscovit quartz kfeldspar phengit precipit kaolinit dissolv kfeldspar gradual ad solut result present citebethke_ figur result faith reproduc geochemistri modul add_feldsparfig media add_feldsparpng captionminer precipit kfeldspar ad system idadd_feldsparfig bibtex bibliographi dissolut pyrit without fix oxygen fugac section citebethke_ involv studi dissolut pyrit without fix oxygen fugac initi composit water shown tablecomposit addit initi configur hematit use place fe free concentr time mol approx mg o_g use place o_aq fugac set ph tabl idtablecomposit captioniniti bulk composit speci concentr molal approx conc mgkg ca time mg time na time hco_ time so_ time cl chargebal time hematit place fe time mol free mg free two case studi case oxygen leav system initi equilibr case oxygen fugac fix throughout simul moos input file case similar geochemicalmodeldefinitiongeochemicalmodeldefinitionmd defin basi speci equilibrium miner equilibrium gase list modulesgeochemistrytestteststime_dependent_reactionsdissolution_pyrite_i blockuserobject execution defin timestep endtim list modulesgeochemistrytestteststime_dependent_reactionsdissolution_pyrite_i blockexecution figur gener use timestep size regressiontest file use larger timestep size effici set postprocessor defin desir output use auxvari automat ad timedependentreactionsolveraddtimedependentreactionsolveractionmd list modulesgeochemistrytestteststime_dependent_reactionsdissolution_pyrite_i blockpostprocessor case oxygen enter leav system mg pyrit slowli ad system without allow oxygen enter exit system moos input file timedependentreactionsolveraddtimedependentreactionsolveractionmd involv specifi swap initi free mole number hematit ph via h activ bulk mole composit aqueou speci og fugac system close default activ constraint remov h ph vari simul extern agent longer fix og mean extern agent control og fugac longer addingremov og aqueou solut mgsecond pyrit ad system list modulesgeochemistrytestteststime_dependent_reactionsdissolution_pyrite_i blocktimedependentreactionsolv gwb input file equival geochemist workbenchhttpswwwgwbcom input file list modulesgeochemistrytestteststime_dependent_reactionsdissolution_pyrite_rea result follow graph demonstr agreement geochemistri modul gwb softwar may also compar citebethke_ figur media dissolution_pyrite__png captionprecipit volum pyrit react system close oxygen iddissolution_pyrite__fig media dissolution_pyrite__png captionsolut ph pyrit react system close oxygen iddissolution_pyrite__fig media dissolution_pyrite__png captionspeci concentr pyrit react system close oxygen iddissolution_pyrite__fig case fix oxygen fugac mg pyrit slowli ad system fix fugac oxygen f_mathrmo_ oxygen enter leav system moos input file timedependentreactionsolveraddtimedependentreactionsolveractionmd almost ident case differ activ constraint remov h og mgsecond pyrit ad system list modulesgeochemistrytestteststime_dependent_reactionsdissolution_pyrite_i blocktimedependentreactionsolv result follow graph demonstr agreement geochemistri modul gwb softwar may also compar citebethke_ figur media dissolution_pyrite__png captionprecipit volum pyrit react system open oxygen iddissolution_pyrite__fig media dissolution_pyrite__png captionsolut ph pyrit react system open oxygen iddissolution_pyrite__fig two case clearli dramat differ case mg pyrit dissolv precipit hematit hematit suddenli dissolv pyrit dissolut occur case pyrit dissolut hematit precipit continu indefinit rather acid solut bibtex bibliographi kineticallycontrol dissolut albit acid solut section citebethke_ describ gradual dissolut albit acid solut govern kinet rate law reaction beginequ mathrmalbit rightarrow mathrmh_mathrmo mathrmna mathrmal mathrmsio_mathrmaq mathrmh endequ rate beginequ r a_sk a_mathrmhleft fracqk right endequ assum kg solvent water addit molal cl molal na molal sio_aq molal al temperatur circc initi g mol albit low ad water specif surfac area a_ cmgalbit low rate constant ktime molcm time molcmday ph fix entir simul moos input file moos input file defin model use geochemicalmodeldefinitiongeochemicalmodeldefinitionmd defin basi speci well defin dynam miner albit control kinet rate law list modulesgeochemistrytesttestskineticskinetic_albitei startdefinit end rate law albit defin geochemistrykineticrategeochemistrykineticratemd userobject note promoting_speci list modulesgeochemistrytesttestskineticskinetic_albitei startrate_albit enddefinit timedependentreactionsolveraddtimedependentreactionsolveractionmd defin follow initi concentr speci see note initi mole number albit system close time zero default free_mol constraint becom inact sio_aq al ad remov system extern agent time ph via activ constraint h constraint remov effect mean hcl continu ad remov system maintain ph rememb cl chargebal speci kinet rate updat newton solv find equilibrium configur time step help stabil sinc implicit approach geochemist workbenchhttpswwwgwbcom appear comput kinet rate begin time step explicit approach list modulesgeochemistrytesttestskineticskinetic_albitei blocktimedependentreactionsolv alert note bulk composit na mole mean mole aqueou solut free other bound secondari speci nacl addit na bound insid g mole albit wish defin entir bulk composit aqueou plu kinet use bulk_composition_with_kinet keyword would set mole case speci h_o al sio_aq h bulk mole number constraint arent impact albit execution defin timestep time measur day input file list modulesgeochemistrytesttestskineticskinetic_albitei blockexecution auxvari auxkernel postprocessor output allow mole number albit miner record csv file use moles_albit auxvari ad automat timedependentreactionsolveraddtimedependentreactionsolveractionmd list modulesgeochemistrytesttestskineticskinetic_albitei startauxvari gwb input file equival geochemist workbenchhttpswwwgwbcom input file list modulesgeochemistrytesttestskineticskinetic_albiterea note bulk composit na mention run gwb increas bulk composit cl order enforc charg neutral look strang initi composit uncharg impact result present result result shown compar citebethke_ figur media kinetic_albitepng captionchang mole number kineticallycontrol albit compar bethk figur idkinetic_albitefig bibtex bibliographi sorption selen loami soil exampl close follow section citebethke_ explor sorption selen seo_ predict langmuir approach assum sampl consist kg water g dri soil correspond cm dri soil number mole sorb site per gram dri soil time molg set total mole number sorb site m_p time mol appear moos input file equilibrium constant langmuir sorption time ph charg balanc enforc na selen redox coupl databas decoupl basi h h na selen sorbingsit sorb reaction involv selen sorbingsit sorbedselen conveni introduc moos addit databas file includ aforement equilibrium constant geochemicalmodeldefinitiongeochemicalmodeldefinitionmd therefor read list modulesgeochemistrytesttestssorption_and_surface_complexationselenatei blockuserobject timeindependentreactionsolveractionsaddtimeindependentreactionsolveractionmd set extent system kg solvent water ph via h activ rough initi condit chargebal speci na total mole number sorb site time mol free molal selen independ variabl problem list modulesgeochemistrytesttestssorption_and_surface_complexationselenatei blocktimeindependentreactionsolv langmuir approach use reaction form beginequ mathrmsorbedselen rightleftharpoon mathrmselen mathrmsorbingsit endequ equilibrium constant k time case assum activ coeffici equal mean molal relat via beginequ labelmsorb m_mathrmsorbedselen m_mathrmselenatem_mathrmsorbingsit k endequ equat bulk composit mole number sorbingsit beginequ m_mathrmsorbingsit n_wm_mathrmsorbingsit m_mathrmsorbedselen endequ n_w mass solvent water substitut msorb yield beginequ m_mathrmsorbedselen fracm_mathrmsorbingsiten_w fracr r endequ r m_mathrmselenatek analysi preceed paragraph fairli accur describ current situat ionic strength close zero activ close uniti moos input file use molal_sorbedselen auxvari produc timeindependentreactionsolveractionsaddtimeindependentreactionsolveractionmd obtain mole sorb selen per gram dri soil list modulesgeochemistrytesttestssorption_and_surface_complexationselenatei startauxvari endoutput run simul differ free_mol selen produc result shown tableselen tabl idtableselen captionsorb selen molgram dri soil predict langmuir theori selen conc molal sorb selen approx formula sorb selen moos time time time time time time bibtex bibliographi reaction balanc page follow chapter citebethke_ geochemistri modul use provid balanc reaction term userdefin compon caclinoptilolit reaction miner caclinoptilolit written databas beginequ mathrmclinoptilca rightleftharpoon mathrmh_mathrmo mathrmca mathrmal mathrmsio_mathrmaq mathrmh endequ equilibrium constant log_k circc use basisswapsswapmd express term muscovit instead al quartz instead sio_aq oh instead h beginequ mathrmclinoptilca rightleftharpoon fracmathrmk fracmathrmh_mathrmo mathrmca fracmathrmmuscovit mathrmquartz fracmathrmoh endequ log_k perform calcul use geochemistri modul geochemicalmodeldefinitiongeochemicalmodeldefinitionmd object must creat desir miner speci list modulesgeochemistrytesttestsinterrogate_reactionsclinoptilolitei blockuserobject geochemicalmodelinterrogatorgeochemicalmodelinterrogatormd must creat specifi desir swap list modulesgeochemistrytesttestsinterrogate_reactionsclinoptilolitei blockgeochemicalmodelinterrog first last line output yield desir inform clinoptilca ho ca al sioaq h logk clinoptilca ho ca muscovit sioaq h k logk clinoptilca ho ca muscovit quartz h k logk clinoptilca ho ca muscovit quartz oh k logk pyrit standard reaction miner pyrit beginequ mathrmpyrit rightleftharpoon mathrmh_mathrmo mathrmf fracmathrmo_mathrmaq mathrmso_ mathrmh endequ use basisswapsswapmd express term feoh_ppd instead fe beginequ mathrmpyrit rightleftharpoon fracmathrmh_mathrmo fracmathrmo_mathrmaq mathrmfeoh_mathrmppd mathrmso_ mathrmh endequ altern express term h_saq instead so_ beginequ mathrmpyrit rightleftharpoon mathrmh_mathrmo fracmathrmo_mathrmaq mathrmf mathrmh_mathrmsaq mathrmh endequ term h_saq so_ beginequ mathrmpyrit rightleftharpoon mathrmh_mathrmo fracmathrmh_mathrmsaq mathrmf fracmathrmso_ fracmathrmh endequ perform calcul use geochemistri modul geochemicalmodeldefinitiongeochemicalmodeldefinitionmd object must creat desir miner speci list modulesgeochemistrytesttestsinterrogate_reactionspyritei blockuserobject geochemicalmodelinterrogatorgeochemicalmodelinterrogatormd must creat specifi desir swap list modulesgeochemistrytesttestsinterrogate_reactionspyritei blockgeochemicalmodelinterrog output yield desir inform pyrit ho fe h oaq logk pyrit ho feohppd h oaq logk pyrit ho fe h oaq logk pyrit ho fe hsaq h oaq logk pyrit ho fe hsaq h logk bibtex bibliographi comput ph page follow chapter citebethke_ geochemistri modul use provid valu ph assum equilibrium recal beginequ mathrmph log_a_mathrmh endequ denot activ exampl calcul involv miner hematit hematit equilibrium reaction beginequ mathrmhematit rightleftharpoon mathrmh_mathrmo mathrmh mathrmf fracmathrmo_mathrmaq endequ equilibrium constant log_k circc assum water activ a_mathrmf equilibrium read beginequ labeleqnph log_a_mathrmo_mathrmaq mathrmph endequ perform calcul use geochemistri modul geochemicalmodeldefinitiongeochemicalmodeldefinitionmd object must creat desir miner speci list modulesgeochemistrytesttestsinterrogate_reactionshematitei blockuserobject geochemicalmodelinterrogatorgeochemicalmodelinterrogatormd must creat specifi desir swap interrog activ instruct list modulesgeochemistrytesttestsinterrogate_reactionshematitei blockgeochemicalmodelinterrog output yield desir inform a_h a_oaq squareroot eqnph bibtex bibliographi chemic model red sea brine exampl close follow section citebethke_ chemic analysi major element composit hot hydrotherm brine red sea shown tableanalysi addit temperatur around circc ph tabl idtableanalysi captionmajor element composit red sea brine speci concentr mgkg cl na ca k so_ mg hco_ fe zn f ba pb cu moos input file precipit dissolut order estim brine oxid state citebethke_ recommend use miner sphalerit instead primari speci oaq miner barit instead primari aqueou speci ba citebethke_ use small initi valu g free amount miner avoid dissolut consid precipitationdissolut later calcul moos input file contain usual geochemicalmodeldefinitiongeochemicalmodeldefinitionmd specifi databas file use case basi speci equilibrium miner variou miner includ order make comparison precipitationdissolut case clearer timeindependentreactionsolveractionsaddtimedependentreactionsolveractionmd prevent miner precipit forbidden except sphalerit barit constrain fix number free mole addit miner impact system whatsoev except satur indic comput solut found flag piecewise_linear_interpol true order compar geochemist workbench result list modulesgeochemistrytesttestsequilibrium_modelsred_sea_no_precipi blockuserobject instruct moos find equilibrium configur timeindependentreactionsolveractionsaddtimedependentreactionsolveractionmd use swap defin miner sphalerit barit provid small number free mole ph fix use activ h kg solvent water bulk mole number aqueou speci also fix appropri number differ concentr mgkg given tabl may work use tdstests_and_examplesic_unit_conversionsmd prevent_precipit input prevent miner precipit find equilibrium configur even satur indic posit flag enabl accur comparison geochemist workbenchhttpswwwgwbcom softwar list modulesgeochemistrytesttestsequilibrium_modelsred_sea_no_precipi blocktimeindependentreactionsolv geochemist workbench input file precipit dissolut analog geochemist workbenchhttpswwwgwbcom input file case list modulesgeochemistrytesttestsequilibrium_modelsred_sea_no_preciprea result precipit dissolut geochemistri result match geochemsit workbench exactli error chargeneutr error geochemistri simul report error emol charg solut emol solut mass solut mass kg ionic strength water activ ionic strength greater default upperbound applic debyehuckel theori water activ ph pe eh ph specifi pe eh v aqueou speci distribut geochemistri output match citebethke_ gwb softwar write molal abund speci result shown tablemolalities_etc tabl idtablemolalities_etc captioncalcul molal activ coeffici activ abund speci red sea water speci molal molkg activ coeff log_a cl na nacl cacl k time ca time mgcl time mg time naso_ time so_ time co_aq time miner satur indic satur indic equilibrium solut tablemolalities_etc greater number miner bornit chalcopyrit chalcocit pyrit flourit galena covellit gwb geochemistri produc ident result miner precipit dissolut result slightli differ miner allow precipit sphalerit barit allow dissolv moos input file allow precipit dissolut moos input file almost ident one prevent_precipit option remov bulk number mole provid sphalerit barit dissolv free number mole specifi geochemistri assum mole miner ad remov extern agent order keep free number specifi henc specifi free mole number prevent dissolut bulk number mole set amount predict red_sea_no_precipi list modulesgeochemistrytesttestsequilibrium_modelsred_sea_precipi blocktimeindependentreactionsolv geochemist workbench input file allow precipit dissolut analog geochemist workbenchhttpswwwgwbcom input file case list modulesgeochemistrytesttestsequilibrium_modelsred_sea_preciprea alert note input file geochemist workbench differ subtli geochemistri modul free number miner mole specifi geochemist workbench proce solv system without precipit dissolut fix bulk mole number sphalerit barit continu solv allow precipit dissolut contrast geochemistri free number miner mole specifi assum condit meant hold throughout entir solv process henc geochemistri bulk number mole specifi altern timedependentreactionsolv could use replic gwb procedur result allow precipit dissolut allow miner precipit code citebethke_ predict sphalerit dissolv miner precipit small quantiti shown tableminer tabl idtableminer captioncalcul final mass precipit stabl phase assemblag red sea brine miner mass g fluorit time chalcocit time barit time bibtex bibliographi kineticallycontrol dissolut quartz section citebethke_ describ gradual dissolut quartz deioniz water govern simpl kinet rate law reaction beginequ mathrmquartz rightarrow mathrmsio_mathrmaq endequ rate beginequ r a_sk left fracqk right endequ assum kg water temperatur circc log_k initi g mol quartz ad water specif surfac area a_ cmgquartz rate constant ktime molcm time molcmday initi concentr sio_aq mmolal moos input file moos input file defin model use geochemicalmodeldefinitiongeochemicalmodeldefinitionmd defin basi speci well defin dynam miner quartz control kinet rate law note model contain h cl bit differ bethk set speci provid small bulk composit dont impact result reason geochemistri requir chargebal speci defin list modulesgeochemistrytesttestskineticsquartz_dissolutioni startdefinit end rate law quartz defin geochemistrykineticrategeochemistrykineticratemd userobject list modulesgeochemistrytesttestskineticsquartz_dissolutioni startrate_quartz enddefinit timedependentreactionsolveraddtimedependentreactionsolveractionmd defin initi concentr speci includ initi mole number quartz system close time zero default free_mol constraint sio_aq becom inact sio_aq ad remov system extern agent time list modulesgeochemistrytesttestskineticsquartz_dissolutioni blocktimedependentreactionsolv execution defin timestep time measur day input file list modulesgeochemistrytesttestskineticsquartz_dissolutioni blockexecution auxvari auxkernel postprocessor output allow mole number quartz miner record csv file use moles_quartz auxvari ad automat timedependentreactionsolveraddtimedependentreactionsolveractionmd list modulesgeochemistrytesttestskineticsquartz_dissolutioni startauxvari gwb input file equival geochemist workbenchhttpswwwgwbcom input file list modulesgeochemistrytesttestskineticsquartz_dissolutionrea result result shown compar citebethke_ figur media quartz_dissolutionpng captionchang mole number kineticallycontrol quartz compar bethk figur idquartz_dissolutionfig bibtex bibliographi satur indiec halit anhyrit sebkhat el melah exampl close follow section citebethke_ satur indic halit nacl anhydrit caso_ comput brine sampl sebkhat el melah composit brine shown tableanalysi addit ph charg balanc perform cl tabl idtableanalysi captionmajor element composit brine rz well sebkhat el melah speci concentr gl cl mg na so_ k br ca hco_ moos input file moos input file contain usual geochemicalmodeldefinitiongeochemicalmodeldefinitionmd specifi databas file use basi speci miner interest flag piecewise_linear_interpol true order compar geochemist workbenchhttpswwwgwbcom result list modulesgeochemistrytesttestssolubilities_and_activitiessebkhat_el_melahi blockuserobject instruct moos find equilibrium configur timeindependentreactionsolveractionsaddtimeindependentreactionsolveractionmd use bulk mole number aqueou speci also appropri number differ concentr gl given tabl may work use tdstests_and_examplesic_unit_conversionsmd ph set provid relev activ h prevent_precipit input prevent miner precipit find equilibrium configur even satur indic posit max_ionic_strength set larg case order match specifi citebethke_ exampl citebethke_ note debyehuckel theori valid ionic strength molal use exampl demonstr result larg error compar experi page comparison experi perform use exampl demonstr agreement geochemist workbenchhttpswwwgwbcom softwar flag enabl accur comparison geochemist workbenchhttpswwwgwbcom softwar list modulesgeochemistrytesttestssolubilities_and_activitiessebkhat_el_melahi blocktimeindependentreactionsolv geochemist workbench input file geochemist workbenchhttpswwwgwbcom input file precipit case list modulesgeochemistrytesttestssolubilities_and_activitiessebkhat_el_melahrea result geochemistri modul geochemist workbenchhttpswwwgwbcom predict ident reuslt agreement citebethke_ satur index halit approxim satur index anhydrit approxim bibtex bibliographi cool solut contact feldspar page follow section citebethke_ involv comput equilibrium system solut contact feldspar cool initi composit water shown tablecomposit addit albit low miner supress precipit disallow system initialis circc slowli cool circc tabl idtablecomposit captioniniti composit speci concentr na molal bulk cl molal bulk albit place al cm free maximum microclin place k cm free muscovit place h cm free quartz place sio_aq cm free citebethke_ predict microclin slowli precipit albit slowli dissolv muscovit quartz remain larg unchang see citebethke_ figur moos input file model definit moos input file defin basi speci equilibrium miner via geochemicalmodeldefinitiongeochemicalmodeldefinitionmd note appear remove_all_extrapolated_secondary_speci flag necessari ensur converg problem offend secondari speci alooh log_k defin low temperatur origin databas default process use speci extrapol equilibrium constant higher temperatur case k tcircc prevent geochemistri converg speci remov also remov geochemist workbenchhttpswwwgwbcom softwar list modulesgeochemistrytestteststime_dependent_reactionscoolingi blockuserobject moos input file model timedepend timedependentreactionsolveraddtimedependentreactionsolveractionmd defin swap mention chargebal speci constraint speci case hold initi time system close time miner ad initi could ad initi ensur correct number free mole initi temperatur temperatur function time flag allow accur comparison geochemist workbenchhttpswwwgwbcom softwar list modulesgeochemistrytestteststime_dependent_reactionscoolingi blocktimedependentreactionsolv alert note total bulk mole number na cl set instead set compar gwb result see timedepend temperatur defin auxvari list modulesgeochemistrytestteststime_dependent_reactionscoolingi startauxvari endpostprocessor along list modulesgeochemistrytestteststime_dependent_reactionscoolingi blockexecution moos input file record desir quantiti desir miner volum solut temperatur record postprocessor use auxvari automat includ timedependentreactionsolveraddtimedependentreactionsolveractionmd list modulesgeochemistrytestteststime_dependent_reactionscoolingi blockpostprocessor gwb input file equival geochemist workbenchhttpswwwgwbcom input file list modulesgeochemistrytestteststime_dependent_reactionscoolingrea alert warn although bulk composit na cl specifi molal gwb chang mole number cl ensur charg balanc reason bulk composit set moos input file case result virtual unchang result media coolingpng captionprecipit volum function temperatur idcooling_ppdfig bibtex bibliographi exampl model exhibit nonuniqu solut page follow chapter citebethke_ boehmit equilibrium assum temperatur circc miner boehmit use place h compon basi cm free boehmit supersatur miner ignor concentr compon given tableboehmit tabl idtableboehmit captionbulk concentr boehmit exampl speci concentr mmolkgsolv water k cl sio_aq hco_ case assum bulk concentr al molkgsolv water case use aloh_ instead al compon basi concentr molkgsolv water result citebethke_ predict composit equilibrium shown tableb_result moos produc result tabl idtableb_result captionequilibrium composit boehmit exampl quantiti case case ph total al mumol free aloh mumol time free aloh_ mumol time free aloh_ mumol time time pyrit exampl assum temperatur circc miner pyrit use place o_aq compon basi cm free pyrit ph supersatur miner ignor concentr compon given tablepyrit tabl idtablepyrit captionbulk concentr pyrit exampl speci concentr molkgsolv water na cl fe case assum bulk concentr so_ mmolal case use h_saq instead so_ compon basi bulk concentr mmolal result citebethke_ predict composit equilibrium shown tablepyrite_result moos produc result tabl idtablepyrite_result captionequilibrium composit pyrit exampl quantiti case case ph log_f_mathrmo_ total fe molal total molal sumso_ molal time sumh_saq molal time bibtex bibliographi flush miner chapter citebethke_ describ flush process specifi solut ad system time equal volum equilibrium solut consist solvent water primari aqueou speci disolv miner disolv gase remov code achiev alter m_w m_i m_k m_m appropri section citebethke_ describ exampl involv alkali flood petroleum reservoir assum quartz dissolv precipit rate beginequ r a_sk sqrta_mathrmh left fracqkright endequ a_ cm set specif surfac area cmgquartz k time molcm time molcmday a_mathrmh activ h initi configur given molal na molal ca molal cl chargebal speci tcircc ph initi miner mol approx cm free calcit place hco_ basi mol approx cm free dolomiteord place mg mol approx cm free muscovit place k mol approx cm free kaolinit place al mol approx cm free quartz place sio_aq simul contain follow miner analcim calcit dawsonit dolomiteord gibbsit kaolinit muscovit paragonit phlogopit cours day follow flush system kg h_o mole na mole oh moos stage run moos use stage approach first stage find free molal sioaq equilibrium configur system flush necessari find sinc quartz kinet miner part basi second stage sioaq take place basi stage first stage timeindepend simul list modulesgeochemistrytestteststime_dependent_reactionsflushing_equilibrium_atdegci moos stage stage add naoh solut use kineticallycontrol quartz geochemicalmodeldefinitiongeochemicalmodeldefinitionmd defin basi speci equilibrium miner also specifi quartz kinet miner list modulesgeochemistrytestteststime_dependent_reactionsflushingi startdefinit end kinet rate quartz specifi geochemistrykineticrategeochemistrykineticratemd userobject list modulesgeochemistrytestteststime_dependent_reactionsflushingi startrate_quartz enddefinit timedependentreactionsolveraddtimedependentreactionsolveractionmd specifi swap initi ph via h activ bulk composit aqueou speci note differ ca compar gwbtheorygwb_diffmd free mole number miner quartz kinet speci free molal sioaq stage temperatur initi number mole quartz kinet rate updat newton process find equilibrium configur timestep unnecessari comput ineffici exampl includ illustr system close default mean sioaq h_o addedremov system maintain free mole number speci fix ph remov flush mode activ reactant rate h_o ad rate molday naoh ad rate molday list modulesgeochemistrytestteststime_dependent_reactionsflushingi blocktimedependentreactionsolv execution defin timestep provid physic mean time list modulesgeochemistrytestteststime_dependent_reactionsflushingi blockexecution graph gener use dt file test suit use larger timestep effici set postprocessor record desir inform use auxvari automat ad timedependentreactionsolveraddtimedependentreactionsolveractionmd exampl list modulesgeochemistrytestteststime_dependent_reactionsflushingi startph endcm_analcim gwb input file equival geochemist workbenchhttpswwwgwbcom input file list modulesgeochemistrytestteststime_dependent_reactionsflushingrea note differ initi molal specifi ca case make notic differ result user desir exact correspond two softwar packag understand differencestheorygwb_diffmd result figur citebethke_ show result gwb geochemistri modul result shown figur media flushing_png captionph alkali flood experi compar bethk figur idflushing__fig media flushing_png captionvolum chang precipit miner alkali flood experi compar bethk figur idflushing__fig media flushing_png captionvolum chang dissolv miner alkali flood experi compar bethk figur idflushing__fig media flushing_png captionvolum chang kineticallycontrol quartz miner alkali flood experi compar bethk figur idflushing__fig bibtex bibliographi convert measur concentr chemic composit water may specifi mani differ way page discuss molal mean mole per kg solvent water note mass solvent water typic differ mass solut sinc latter includ solut moles_bulk_speci one accept input geochemistri total number mole speci includ free contribut number mole speci float around solut well number mole appear speci exampl solut contain free mole cl mole complex nacl total bulk number mole cl gkg mgkg measur bulk mass g mg speci per kg solut solut mass denomin sum solventwat mass mass solut use convers beginequ mathrmmol fracmathrmconcentr time mathrmmass_mathrmsolutionmathrmmolarmass endequ concentr specifi gkg mass solut includ solvent water solut molar mass speci unit gmol mass solut work td td definit td beginequ mathrmtd fracmathrmmass_mathrmsolutesmathrmmass_mathrmsolventwat mathrmmass_mathrmsolut fracmathrmmass_mathrmsolutesmathrmmass_mathrmsolut endequ td usual measur mgkg gkg geotherm simul involv flow page describ reactivetransport simul hypothet geotherm system forg site transport handl use porousflow modul geochemistri modul use simul geochemistri simul coupl togeth operatorsplit approach use multiapp input file appear confus reader could consult simpler model list geochemistri exampl pagegeochemistrytests_and_examplesindexmd simul involv pump cold fluid thin hot subsurfac confin aquif record result geochem chang get reactivetransport simul howev lot exploratori geochem model need although geochemistri modul accept input form variou conveni unit mgkg mug etc page use molebas unit exclus repres water composit water composit measur roosevelt hot spring close forg site may repres type water found forg fractur granit type water use present low td potabl water inject composit water shown tableforge_wat citevivek note iron composit either water ironbear miner consid present tabl idtableforge_wat captionwat composit use present concentr chemic speci measur mgkg water water roosevelt low td temperatur circc circc ph na k ca mg sioaq al cl hco mineralog xray diffract suggest composit forg granit shown tableforge_mineralog tabl idtableforge_mineralog captionmineralog forg site suggest xray diffract miner weight plagioclas kfeldspar quartz illit chlorit trace chloritesmectit trace biotit trace hornblend augit trace titanit trace apatit trace epidot trace calcit trace citevivek interpret plagioclas mix albit anorthit stuart simmon suggest biotit could phlogopit correspond stuart simmon identifi set repres miner use simul shown tablemodel_mineralog tabl idtablemodel_mineralog captionmineralog use simul miner weight albit anorthit kfeldspar quartz illit phlogopit anhydrit trace calcit trace paragonit trace chalcedoni trace kaolinit trace clinochla trace laumontit trace ziosit trace water equilibrium geochemistri input file find equilibrium solut water list modulescombinedexamplesgeochemporous_flowforgewater_degci note use flag remove_all_extrapolated_secondary_speci true flag remov odd secondari speci whose equilibrium constant measur small rang temperatur default geochemistri modul extrapol equilibrium constant speci frequent mean equilibrium constant unrealist high low high temperatur lead converg problem simul converg unrealist solut therefor flag use input file present miner allow precipit water small amount kfeldspar quartz form estim insitu reservoir water perform reactivetransport simul necessari start fluidfil reservoir purpos fluid composit critic sinc inject rapidli displac howev conveni fill initi reservoir fluid equilibrium reservoir rock make interpret reactivetransport simul easier chang mineralog attribut inject insitu reservoir water therefor section attempt find water composit equilibrium reservoir section miner present tablemodel_mineralog use except laumontit zoisit two present trace quantiti exist model rock mineralog tablemodel_mineralog unstabl imposs find equilibrium instanc anorthit decompos laumontit suggest rock mineralog control kinet consid later section laumontit zoisit includ also reveal model result could significantli impact choic miner follow method use estim water composit equilibrium reservoir mineralog water equilibr circc ph fix allow precipit form quartz kfeldspar precipit mention previou section system close ie ph longer fix small amount quartz kfeldspar precipit retain temperatur rais circc tleq allow precipit form dissolv quartz dissolv entir kfeldspar precipit remain calcit phlogopit precipit ph becom note use remove_all_extrapolated_secondary_speci true geochemicalmodeldefinit extrapol secondari speci retain instead result significantli differ probabl incorrect follow miner ad tleq albit mol weight anorthit mol weight kfeldspar mol weight quartz mol weight phlogopit mol weight illit mol weight mol number approxim measur xray diffract tablemodel_mineralog list modulescombinedexamplesgeochemporous_flowforgewater__to_degci free mole precipit albit anorthit kfeldspar quartz phlogopit paragonit calcit anhydrit rest miner precipit notic ad illit dissolv favor paragonit import interpret reactivetransport result reactivetransport initi mineralog given tablemodel_mineralog illit could dissolv regardless inject calcit constrain initi hco concentr anhydrit initi concentr tabl idtablewater__to_degc_result captionwat equilibrium mineralog circc ph speci concentr molal concentr mgkg na k ca mg e sioaq al e cl e hco insitu kinet analysi previou section produc water equilibrium rock mineralog well stabl miner assemblag howev analysi reveal tablemodel_mineralog may equilibrium illit dissolv perhap matter greatli illit mass fraction model includ laumontit zoisit sinc stabl anorthit appear appreci fraction xray analysi presum miner control kinet reactionstheoryindexmd use kinet may result quit differ result therefor section perform analysi insitu reservoir kinet act baselin reactivetransport simul present kinet rate model use formula beginequ labeleqnr r ms k expleftfrace_art right endequ r mol reaction rate g mass miner number mole multipli molar weight cmg specif surfac area miner k molsm reaction intrins rate constant e_a jmol reaction activi area r ldotsjkmol ga constant k temperatur citepalandri list paramet wide number miner mani case base limit experiment data may subject larg error tabl idtablekinetic_r captionr miner speci use present cmg specif surfac area miner k molsm reaction intrins rate constant e_a jmol reaction activi area speci palandri refer assum k e_a albit page neutral mechan anhydrit page neutral mechan anorthit page neutral mechan calcit page neutral mechan chalcedoni assum quartz clinochla page neutral chlinochlora illit assum phlogopit kfeldspar page neutral mechan kaolinit page neutral mechan laumontit data quartz page neutral mechan f paragonit page neutral mechan phlogopit page neutral mechan zoisit page averag other use analys rate illit anorthit convers order act refer reactivetransport simul insitu reservoir water previou section use miner ratio given tablemodel_mineralog introduc trace miner assum exist volum fraction necessari miner present simul rate precipit dissolut eqnrat depend miner mass zero miner precipit miner quantiti trace miner calcit anhydrit constrain initi hco concentr respect everi litr insitu reservoir water litr rock miner use repres poros miner introduc system close water allow enter system evolut follow follow input file model situat list modulescombinedexamplesgeochemporous_flowforgenatural_reservoiri result shown natural_reservoirfig natural_reservoir_percentagefig natural_reservoir_solutionfig figur reveal small amount calcit dissolv entir within year small amount anhydrit dissolv rapidli year return origin volum year simul commenc anorthit chalcedoni clinochla dissolv year simul commenc zoisit illit paragoni quartz increas volum laumonit increas slightli return origin small valu ph drop around cours first year rebound solvent water mass roughli halv first year correspond small poros decreas result depend quit crucial kinet rate constant poorli constrain experi instanc increas laumontit rate constant factor mean water get absorb miner precipit result geotherm reservoir zero poros conclud studi insitu dynam reservoir attent turn inject final reactivetransport model media natural_reservoir_mineralspng captionchang miner volum insitu reservoir water contact miner tablemodel_mineralog idnatural_reservoirfig media natural_reservoir_mineral_percentagepng captionpercentag chang miner volum insitu reservoir water contact miner tablemodel_mineralog idnatural_reservoir_percentagefig media natural_reservoir_solutionpng captionchang water volum chemistri insitu reservoir water contact miner tablemodel_mineralog idnatural_reservoir_solutionfig water circc reactivetransport simul involv inject water circc use determin free molal speci water find initi equilibrium found degc temperatur bulk composit measur temperatur speci supersatur howev sinc measur perform absenc free miner precipit must retard way miner prevent precipit model ph constraint remov system rais degc inject temperatur caus ph drop kaolinit illit supersatur input file perform simul list modulescombinedexamplesgeochemporous_flowforgewater_i note timedependentreactionsolvertimedependentreactionsolverindexmd ph initi set set activ h time miner prevent precipit initi temperatur circc system equilibr initi setup phase activ constraint h remov temperatur initi setup phase set circc inject impact reservoir mineralog water circc previou section mix rock composit tablemodel_mineralog order assess possibl chang reservoir reactiv transport simul simpli flush water repeatedli rock miner assemblag soon miner dissolv aqueou compon swept away replac new batch water soon precipit form water retain new batch water introduc readi potenti form precipit rate constant tablekinetic_r use input file perform simul list modulescombinedexamplesgeochemporous_flowforgereservoir_and_water_i result shown reservoir_and_water_fig reservoir_and_water__percentagefig explor keep baselin natural_reservoirfig natural_reservoir_percentagefig mind cool inject caus complet dissolut small quantiti anhydrit larg quantiti anorthit small quantiti calcit complet dissolv could also due natur reservoir process year cool inject caus gradual complet dissolut small quantiti zoisit laumontit year small quantiti clinochla gradual dissolv could also due natur reservoir process year larg quantiti albit begin dissolv year quantiti kfeldspar begin dissolv small quantiti kaolinit precipit miner precipit key result flush water circc prevent appreci precipit henc dissolut anorthit commenc year dissolut albit kfeldspar later lead signific loss miner consequenti increas poros fractur apertur result depend quit crucial kinet rate constant poorli constrain experi media reservoir_and_water_png captionchang miner volum water circc flush miner assemblag tablemodel_mineralog idreservoir_and_water_fig media reservoir_and_water__percentagepng captionpercentag chang miner volum water circc flush miner assemblag tablemodel_mineralog idreservoir_and_water__percentagefig inject simul without geochemistri simul involv inject cold fluid thin hot subsurfac confin aquif porousflow modul use simul transport solut temperatur model paramet display tablepf_param tabl idtablepf_param captionparamet porousflow simul quantiti valu aquif thick graviti reservoir initi temperatur circc reservoir initi pressur mpa reservoir permeabl reservoir poros reservoir thermal conduct wmk reservoir heat capac mjk inject rate kg inject temperatur circc product bottomhol pressur mpa separ inject product well porousflow oper use massfract mole number speci concentr reservoir tablewater__to_degc_result inject tableforge_wat must convert shown tablemass_fract tabl idtablemass_fract captionmass fraction water chargebal cl speci insitu gkg insitu mass frac inject water inject mass frac al e e e e ca e e e e cl e e e e h e e e e ho e e e hco e e e e k e e e e mg e e e e na e e e e e e e e sio e e e e input file simul situat ignor multiapp transfer time list modulescombinedexamplesgeochemporous_flowforgeporous_flowi result concern produc fluid shown forge_production_ratefig forge_production_rate_siofig forge_production_temperaturefig figur demonstr apart begin simul product rate equal inject rate fluid breakthrough occur quit rapidli certainli less month inject commenc thermal breakthrough occur month inject media forge_production_ratepng captionproduct rate idforge_production_ratefig media forge_production_rate_siopng captionproduct fraction sioaq idforge_production_rate_siofig media forge_production_temperaturepng captionproduct temperatur idforge_production_temperaturefig contour plot shown forge_pf_sio_contourfig forge_pf_temp_contourfig former demonstr inject fluidbreakthrough week inject media forge_pf_sio_contourpng captionmassfract sioaq contour week inject green dot show inject product well idforge_pf_sio_contourfig media forge_pf_temp_contourpng captiontemperatur contour year inject green dot show inject product well idforge_pf_temp_contourfig reactiv transport simul section prepar ground reactiv transport simul geochemistri part reactivetransport simul list modulescombinedexamplesgeochemporous_flowforgeaquifer_geochemistryi explor input file reveal half file virtual ident natural_reservoiri simul studi simul insitu kinet without influenc inject half input file involv interfac porous_flowi simul porousflow simul list previou section control flow aqueou speci interfac aquifergeochemistri simul porousflow simul provid auxvari call pf_rate_h pf_rate_na pf_rate_k etc chang mass speci node porousflow simul also provid auxvari temperatur specifi temperatur node sinc pf_rate_ variabl unit kg geochemistri modul expect ratesofchang mole convers must take place secondli aquifergeochemistri simul consid litr aqueou solut everi node nodal_void_volum amount fluid node use convers list modulescombinedexamplesgeochemporous_flowforgeaquifer_geochemistryi startrate_h_per_l_auxk endrate_na_per_l_auxk geochemistri code solv geochem system node depend rate sourc speci rate__per_l kinet massfract speci node comput transport mole number sent back porous_flowi simul order next step transport list modulescombinedexamplesgeochemporous_flowforgeaquifer_geochemistryi starttransported_mass_auxk endmassfrac_na_auxk result shown forge_rt_year_temperaturefig forge_rt_year_sofig follow may surmis figur region inject well two well experi temperatur chang region approxim well impact inject fluid chemistri impact obviou speci other poros decreas respons inject appear poros chang respons cool inject heat inject media forge_rt_year_temperaturepng captiontemperatur contour year inject reactivetransport simul green dot show inject product well black ring circc contour idforge_rt_year_temperaturefig media forge_rt_year_porositypng captionporos contour year inject reactivetransport simul green dot show inject product well black ring circc contour idforge_rt_year_porosityfig media forge_rt_year_albitepng captioncontour free albit volum year inject reactivetransport simul green dot show inject product well black ring circc contour idforge_rt_year_albitefig media forge_rt_year_phpng captioncontour ph year inject reactivetransport simul green dot show inject product well black ring circc contour idforge_rt_year_phfig media forge_rt_year_siopng captioncontour sioaq mass fraction year inject reactivetransport simul green dot show inject product well black ring circc contour idforge_rt_year_siofig media forge_rt_year_sopng captioncontour mass fraction year inject reactivetransport simul green dot show inject product well black ring circc contour idforge_rt_year_sofig bibtex bibliographi chemic model morro de ferro groundwat exampl close follow section citebethke_ chemic analysi major element composit morro de ferro groundwat shown tableanalysi addit temperatur circc ph ehmv tabl idtableanalysi captionmajor element composit morro de ferro groundwat speci concentr mglitr hco_ ca mg na k fe ii fe total mn zn cl so_ dissolv o_ assum redox equilibrium assum redox equilibrium oxid state set dissolv oxygen also free concentr o_aq set mglitr bulk composit fe mglitr charg balanc enforc cl moos input file moos input file contain geochemicalmodeldefinitiongeochemicalmodeldefinitionmd timeindependentreactionsolveractionsaddtimedependentreactionsolveractionmd bulk mole number aqueou speci also fix appropri latter number differ concentr mgl given tabl may work use tdstests_and_examplesic_unit_conversionsmd flag option ensur nice converg accur comparison geochemist workbenchhttpswwwgwbcom softwar list modulesgeochemistrytesttestsredox_disequilibriummorroi geochemist workbench input file equival gwb input file list modulesgeochemistrytesttestsredox_disequilibriummorrorea assum redox disequilibrium assum redox disequilibrium iron also free concentr o_aq set mglitr bulk composit fe mglitr bulk composit fe mglitr charg balanc enforc cl moos input file moos input file similar redoxequilibrium case differ fe includ basi sum bulk composit fe fe equal bulk composit fe equilibrium case list modulesgeochemistrytesttestsredox_disequilibriummorro_disequilibriumi geochemist workbench input file equival gwb input file list modulesgeochemistrytesttestsredox_disequilibriummorro_disequilibriumrea result geochemistri result mirror geochemist workbench exactli error chargeneutr error geochemistri simul report error less mol charg solut magnitud less mol solut mass solut mass kg ionic strength water activ ionic strength emolkgsolv water equilibrium case emolkgsolv water disequilibrium case water activ case ph pe ph case specifi constraint pe case nernst eh valu citebethke_ comput nernst eh valu redox halfreact beginequ beginalign fracmathrmo_mathrmaq mathrmh mathrm rightleftharpoon fracmathrmh_mathrmo mathrmehmathrmmv mathrmf mathrm rightleftharpoon mathrmf mathrmehmathrmmv endalign endequ code produc result latter one relev redoxdisequilibrium case aqueou speci distribut speci distribut predict citebethke_ shown righthand column tablemolalities_etc result obtain ignor potenti precipit miner code predict result precis tabl idtablemolalities_etc captioncalcul molal molkg iron speci morro de ferro groundwat assum redox equilibrium central column disequilibrium righthand column speci equilibrium disequilibrium fe time time feso_ time time fehco_ time time fecl time time feoh time time feoh_ time time feoh_ time time feoh time time feoh_ time time bibtex bibliographi flowthrough reaction remov miner chapter citebethke_ describ flowthrough process wherebi miner remov system stage reaction process progress ad chemic chang temperatur chang ph etc code achiev follow process stage equilibrium configur comput subtract n_k m_k set n_k tini number zero otherwis might swap basi set mole number surfac compon zero m_p well molal unoccupi surfac site m_p adsorb speci m_q section citebethke_ describ exampl involv evapor seawat note citebethke_ use hmw activ model geochemistri use debyehuckel approach moos result ident citebethke_ nevertheless hope follow descript help user set similar model initi composit seawat shown tableanalysi addit co_g use basi instead h fugac co_g fix equilibr miner dumpedcalcite_buffermd system tabl idtableanalysi captionmajor element composit seawat speci mole approx conc mgkg cl na so_ mg ca k hco_ two case run involv gradual remov mol h_o solut case water remov miner allow precipit potenti dissolv maintain equilibrium water remov miner allow precipit precipit immedi remov system follow flowthrough method g solvent water remain end simul moos input file flow geochemicalmodeldefinitiongeochemicalmodeldefinitionmd defin basi speci equilibrium miner gase list modulesgeochemistrytestteststime_dependent_reactionsseawater_evaporation_flow_throughi blockuserobject timedependentreactionsolveraddtimedependentreactionsolveractionmd defin swap bulk composit aqueou speci well co_g fugac via activ system close default case mean solvent water may ad system maintain kg solvent water fugac constraint remain throughout simul remove_act line h_o remov system rate mol mode defin via auxvari call mode list modulesgeochemistrytestteststime_dependent_reactionsseawater_evaporation_flow_throughi blocktimedependentreactionsolv timestepp execution defin mean time particular simul run mol water remov list modulesgeochemistrytestteststime_dependent_reactionsseawater_evaporation_flow_throughi startfunct endoutput note smaller timestep size use gener figur testsuit file use larger timestep effici mode defin auxkernel list modulesgeochemistrytestteststime_dependent_reactionsseawater_evaporation_flow_throughi startmode_auxk enddolomite_mol_auxk set auxvari auxkernel list modulesgeochemistrytestteststime_dependent_reactionsseawater_evaporation_flow_throughi startdolomite_mol_auxk endgypsum_mol_auxk record desir quantiti moos input file flow flowthrough case similar vari mode auxkernel postprocessor list modulesgeochemistrytestteststime_dependent_reactionsseawater_evaporation_no_flow_throughi gwb input file equival geochemist workbenchhttpswwwgwbcom input file list modulesgeochemistrytestteststime_dependent_reactionsseawater_evaporationrea result use hmw activ model mean result case differ case shown figur citebethke_ use debyehuckel model mean result case quit similar impact flowthrough evid toward end simul mirabilit miner particular geochemist workbenchhttpswwwgwbcom geochemistri modul result shown media seawater_evaporation_png captionminer precipit seawat evapor flowthrough use idseawater_evaporation_fig media seawater_evaporation_png captionminer precipit dissolv seawat evapor flowthrough use idseawater_evaporation_fig bibtex bibliographi quartz deposit fractur section citebethke_ describ quartz deposit hydrotherm fractur setup similar quartz dissolutionkinetic_quartzmd differ form reaction rate reaction beginequ mathrmquartz rightarrow mathrmsio_mathrmaq endequ rate beginequ r a_ eertleft fracqk right endequ assum kg water initi temperatur circc steadili reduc circc cours year miner quartz use instead sio_aq basi initi quartz equilibrium miner kineticallycontrol initi g mol quartz ad water specif surfac area a_ time cmgquartz activ energi ejmol silicacontain miner prevent precipit moos input file stage moos simul stage first determin molal sioaq equilibrium quartz necessari problem descript assum water enough time equilibr quartz miner circc stage quartz miner govern kinet rate system describ input file also includ small amount na cl impact result necessari geochemistri modul requir chargebal speci defin list modulesgeochemistrytesttestskineticsquartz_equilibrium_atdegci output simul molal sioaq mol moos input file stage second stage use molal perform timedepend simul temperatur reduc geochemistrykineticrategeochemistrykineticratemd defin list modulesgeochemistrytesttestskineticsquartz_depositioni startrate_quartz enddefinit timedependentreactionsolveraddtimedependentreactionsolveractionmd defin free molal sioaq initi time initi mole number quartz temperatur control use temp_control auxvari list modulesgeochemistrytesttestskineticsquartz_depositioni blocktimedependentreactionsolv temperatur control list modulesgeochemistrytesttestskineticsquartz_depositioni starttemp_controller_auxk enddiss_r time defin list modulesgeochemistrytesttestskineticsquartz_depositioni blockexecution figur gener use timestep yr set auxvari postprocessor defin desir output use mg_per_kg_sioaq variabl automat includ timedependentreactionsolveraddtimedependentreactionsolveractionmd list modulesgeochemistrytesttestskineticsquartz_depositioni startauxvari gwb input file equival geochemist workbenchhttpswwwgwbcom file list modulesgeochemistrytesttestskineticsquartz_depositionrea result citebethke_ present result figur look like media quartz_depositionpng captionchang free mass sioaq fluid flow fractur chang temperatur compar bethk figur idquartz_depositionfig media quartz_depositionpng captionquartz reaction rate fluid flow fractur chang temperatur compar bethk figur idquartz_depositionfig accuraci geochemistri simul depend timestep size figur gener use step size yr bibtex bibliographi energi avail microbi respir exampl close follow section citebethke_ energi avail microbi respir comput use nernst eh valu variou redox halfreact citebethke_ sever page interest explan repeat focuss primarili moos model valid moos result follow assumpt made follow altern oxid state redox disequilibrium chcoo chaq fe haq hs nh ph fugac co_g fix use basi place aqueou speci hco_ free cm miner feoh_ppd use basi place redox aqueou speci fe bulk composit basi speci e mol approx mgkg ca e mol approx mgkg cl e mol approx mgkg chargebal speci na e mol approx mgkg mg e mol approx mgkg e mol approx mgkg chaq e mol approx mgkg e mol approx mgkg chcoo e mol approx mgkg fe e mol approx mgkg nh e mol approx mgkg hs e mol approx mgkg free composit remain basi speci oaq e free molal approx mgkg free haq e free molal approx time molkg free bulk mineralis reaction ignor moos input file moos input file correspond model descript list modulesgeochemistrytesttestsredox_disequilibriummicrobiali gwb geochemist workbenchhttpswwwgwbcom input file correspond model list modulesgeochemistrytesttestsredox_disequilibriummicrobialrea nernst potenti citebethke_ comput nernst potenti redox coupl shown tablenernst tabl idtablenernst captionnernst potenti redox coupl reaction eh mv e fraco_aq h rightleftharpoon frach_o e h no_ rightleftharpoon h_o no_ e h no_ rightleftharpoon h_o nh_ e h no_ rightleftharpoon h_o nh_ e fe rightleftharpoon fe e h so_ rightleftharpoon h_o hs e frach fracch_coo rightleftharpoon h_o ch_aq e h hco_ rightleftharpoon h_o ch_aq e h rightleftharpoon h_aq e h hco_ rightleftharpoon h_o ch_coo output produc geochemist workbenchhttpswwwgwbcom softwar output produc geochemistri look littl differ nernst potenti e ho h oaq eh v e ho h eh v e ho h nh eh v e fe fe eh v e ho h hs eh v e ho h hco chaq eh v e h haq eh v e ho h hco chcoo eh v differ reaction written e lefthand side valu eh sometim differ fourth signific figur presum due geochemistri use higher precis gwb follow reaction miss e h no_ rightleftharpoon h_o nh_ eh e frach fracch_coo rightleftharpoon h_o ch_aq eh reason reaction appear geochemistri output minim set other deriv instanc differ two equat beginequ beginalign mathrm fracmathrmh_mathrmo mathrmh fracmathrmnh_ fracmathrmno_ mathrmeh time mathrmmv mathrm fracmathrmh_mathrmo mathrmh fracmathrmno_ fracmathrmno_ mathrmeh mathrmmv endalign endequ produc equat beginequ mathrm mathrmh_mathrmo mathrmh fracmathrmnh_ fracmathrmno_ mathrmeh mathrmmv endequ produc result mathrmeh mv divid rememb eh valu quot gwb normalis number electron manipul equat way describ number electron must account bibtex bibliographi acid solut particularli simpl geochemistri exampl involv comput molal etc speci acid solut fix ph moos input file step databas basi speci must specifi geochemistri simul case full moose_geochemdbjson databas use basi speci simpli h_o h cl piecewis linear interpol equilibrium constant debyehuckel activ coeffici use result agre exactli analog gwb simul list modulesgeochemistrytesttestsequilibrium_modelshcli blockuserobject moos input file step next piec input file involv specifi initi condit simul type timeindepend solv equilibrium configur sought chargebal speci chosen cl kg solvent water ph fix via logact list modulesgeochemistrytesttestsequilibrium_modelshcli blocktimeindependentreactionsolv moos input file option step postprocessor may use produc csv output exampl inform alreadi obtain consol output way exampl follow postprocessor output activ water ph solventwat mass cl molal etc list modulesgeochemistrytesttestsequilibrium_modelshcli blockpostprocessor addit list modulesgeochemistrytesttestsequilibrium_modelshcli blockglobalparam list modulesgeochemistrytesttestsequilibrium_modelshcli blockoutput equival gwb input file result may compar gener geochemist workbenchhttpswwwgwbcom gwb input file list modulesgeochemistrytesttestsequilibrium_modelshclrea result geochemistri modul produc result gwb precis summari total number iter requir error calcul emol charg solut mol chargebal speci cl mass solvent water kg mass aqueou solut kg ph ionic strength molkgsolv water stoichiometr ionic strength molkgsolv water activ water temperatur basi speci h bulk_mol mol bulk_conc mgkgsolut molal molkgsolv water free_conc mgkgsolvent water act_coeff loga cl bulk_mol mol bulk_conc mgkgsolut molal molkgsolv water free_conc mgkgsolvent water act_coeff loga equilibrium speci hcl molal emolkgsolv water free_conc emgkgsolv water act_coeff loga hcl h cl logk oh molal emolkgsolv water free_conc emgkgsolv water act_coeff loga oh ho h logk without action although user want use action system possibl build geochemistri model without use action slightli finegrain control equival input file list modulesgeochemistrytesttestsequilibrium_modelshcl_no_actioni chemic model amazon river water exampl close follow section citebethke_ chemic analysi major element composit water amazon river tableanalysi free o_aq concentr mgkg mean bulk composit addit ph assum extent system kg solvent water along solut dissolv tabl idtableanalysi captionmajor element composit amazon river water speci concentr mgkg hco_ sio_aq o_aq free ca so_ cl na mg al fe concentr cl list mgkg citebethke_ molal comput emolkgsolv water henc bulk composit must least emol sinc stoichiometr coeffici cl secondari speci posit impli bulk composit cl must mgkgsoln probabl typo book henc bulk concentr set mgkgsoln lead emol case charg balanc perform cl moos input file miner moos input file contain usual geochemicalmodeldefinitiongeochemicalmodeldefinitionmd specifi databas file use case basi speci equilibrium miner prevent precipit satur indic interest flag piecewise_linear_interpol true order compar geochemist workbenchhttpswwwgwbcom result list modulesgeochemistrytesttestsequilibrium_modelsamazoni blockuserobject instruct moos find equilibrium configur timeindependentreactionsolveractionsaddtimedependentreactionsolveractionmd use ph fix set activ h bulk mole number aqueou speci also fix appropri number differ concentr mgkg given tabl may work use tdstests_and_examplesic_unit_conversionsmd prevent_precipit input prevent miner precipit find equilibrium configur even satur indic posit flag enabl accur comparison geochemist workbenchhttpswwwgwbcom softwar list modulesgeochemistrytesttestsequilibrium_modelsamazoni blocktimeindependentreactionsolv gwb input file miner analog gwbhttpswwwgwbcom input file list modulesgeochemistrytesttestsequilibrium_modelsamazonrea result miner error chargeneutr error geochemistri simul report error emol charg solut mol solut mass solut mass kg ionic strength water activ ionic strength molkgsolv water water activ ph pe eh ph pe eh v speci distribut ignor miner supersatur citebethke_ state equilibrium calcul molal abund speci result tablemolalities_etc ident result produc geochemistri modul geochemist workbenchhttpswwwgwbcom softwar tabl idtablemolalities_etc captioncalcul molal activ coeffici activ abund speci amazon river water speci molal molkg activ coeff log_a hco_ time o_aq time cl time co_aq time sio_aq time ca time na time mg time so_ time miner geochemistri modul gwb softwar predict indent satur indic miner predict satur indic equilibrium solut tablemolalities_etc greater miner nontronit hematiti kaolinit beidellit pyrophyllit gibbsit paragonit quartz see figur citebethke_ fix miner volum altern model assum water equilibrium kaolinit hematit control aluminum iron concentr instead al kaolinit use basi instead fe hematit use basi free volum rather unimport citebethke_ suggest use valu tablemineral_fix tabl idtablemineral_fix captionaltern model amazon river water assum equilibrium kaolin hematit specifi amount miner free amount cm kaolinit hematit moos input file miner list modulesgeochemistrytesttestsequilibrium_modelsamazon_with_mineralsi gwb input file miner list modulesgeochemistrytesttestsequilibrium_modelsamazon_with_mineralsrea result miner accord model nontronit clay supersatur signific amount geochemistri modul produc ident result gwbhttpswwwgwbcom softwar bibtex bibliographi explor impact ph sorption section citebethke_ describ explor impact ph sorption page build upon surfac complex examplesurface_complexationmd sorption ferric hydroxid miner feoh_ studi exampl agreement citebethke_ geochemist workbenchhttpswwwgwbcom softwar geochemistri modul demonstr ph page ph vari amount sorption speci plot surfac complex examplesurface_complexationmd includ lead mercuri iron complex simplic exampl includ iron complex model definit therefor read list modulesgeochemistrytestteststime_dependent_reactionschanging_ph_ferric_hydroxidei blockuserobject timedependentreactionsolveraddtimedependentreactionsolveractionmd defin initi composit well vari ph time via controlled_act input list modulesgeochemistrytestteststime_dependent_reactionschanging_ph_ferric_hydroxidei blocktimedependentreactionsolv set_ah valu defin via functionaux follow way list modulesgeochemistrytestteststime_dependent_reactionschanging_ph_ferric_hydroxidei startauxvari endpostprocessor timestep defin execution list modulesgeochemistrytestteststime_dependent_reactionschanging_ph_ferric_hydroxidei blockexecution situat start_tim system close timedepend begin result mathrmph simpli record final quantiti interest record postprocessor use auxvari automat includ simul timedependentreactionsolveraddtimedependentreactionsolveractionmd list modulesgeochemistrytestteststime_dependent_reactionschanging_ph_ferric_hydroxidei blockpostprocessor citebethke_ present result figur bold line sinc fine line show differ type aqueou solut result faith reproduc geochemistri modul shown figur media changing_ph_ferric_hydroxide_figpng captionconcentr site ferric oxid surfac compar bethk figur idchanging_ph_ferric_hydroxide_fig media changing_ph_ferric_hydroxide_figpng captionsurfac potenti ferric oxid compar bethk figur idchanging_ph_ferric_hydroxide_fig bibtex bibliographi comput equilibrium activ ratio page follow chapter citebethke_ geochemistri modul use provid activ ratio assum equilibrium muscovit kaolinit use standard gwb databas compon kaolinit instead al use swapswapmd reaction beginequ mathrmmuscovit mathrmh_mathrmo mathrmh rightleftharpoon mathrmk mathrmkaolinit endequ equilibrium constant log_k circc assum water activ equilibrium activ ratio comput beginequ fraca_mathrmka_mathrmh endequ perform calcul use geochemistri modul geochemicalmodeldefinitiongeochemicalmodeldefinitionmd object must creat desir miner speci list modulesgeochemistrytesttestsinterrogate_reactionsmuscovitei blockuserobject geochemicalmodelinterrogatorgeochemicalmodelinterrogatormd must creat specifi desir swap interrog activ instruct list modulesgeochemistrytesttestsinterrogate_reactionsmuscovitei blockgeochemicalmodelinterrog final line output yield desir inform a_k a_al a_sioaq a_h a_k a_h muscovit miner geochem databas manipul give follow reaction muscovit beginequ beginalign mathrmmuscovit rightleftharpoon mathrmquartz mathrmmaximum mathrmh mathrmk log_k mathrmmuscovit rightleftharpoon mathrmtridymit mathrmmaximum mathrmh mathrmk log_k mathrmmuscovit rightleftharpoon mathrmamrphsilica mathrmmaximum mathrmh mathrmk log_k endalign endequ circc yield respect beginequ beginalign fraca_mathrmka_mathrmh fraca_mathrmka_mathrmh fraca_mathrmka_mathrmh endalign endequ perform calcul use geochemistri modul geochemicalmodeldefinitiongeochemicalmodeldefinitionmd object must creat desir miner speci list modulesgeochemistrytesttestsinterrogate_reactionsmuscovitei blockuserobject geochemicalmodelinterrogatorgeochemicalmodelinterrogatormd must creat specifi desir swap interrog activ instruct list modulesgeochemistrytesttestsinterrogate_reactionsmuscovitei blockgeochemicalmodelinterrog output yield desir inform a_ho a_k a_al a_sioaq a_h a_ho a_k a_al a_h a_k a_h a_k a_sioaq a_h a_k a_h a_k a_sioaq a_h a_k a_h caclinoptilolit prehnit quartz use standard gwb databas prehnit instead al quartz instead sio_aq use swapsswapmd reaction beginequ mathrmclinoptilolit mathrmca rightleftharpoon mathrmh_mathrmo mathrmprehnit mathrmquartz mathrmh endequ equilibrium constant log_k circc assum water activ equilibrium activ ratio comput beginequ fraca_mathrmcaa_mathrmh endequ produc result use geochemistri modul geochemicalmodeldefinitiongeochemicalmodeldefinitionmd object must creat desir miner speci list modulesgeochemistrytesttestsinterrogate_reactionsclinoptilolitei blockuserobject geochemicalmodelinterrogatorgeochemicalmodelinterrogatormd must creat specifi desir swap interrog activ instruct list modulesgeochemistrytesttestsinterrogate_reactionsclinoptilolitei blockgeochemicalmodelinterrog final line output yield desir inform a_ca a_al a_sioaq a_h a_ca a_sioaq a_h a_ca a_h bibtex bibliographi chemic basi notat definit describ geochemistry_nomenclaturemd choos basi primari speci first stage geochem simul throughout page use standard geochem notat follow citebethke_ subscript give mean quantiti instanc a_i primari speci a_l miner l given mean basi minim independ set chemic compon complet basi mathemat sens chemic compon express term basi via equilibrium kinet chemic reaction none basi compon express term basi compon exampl simpl basi left mathrmh_mathrmo mathrmh right secondari speci express basi oh equilibrium reaction mathrmoh rightleftharpoon mathrmh_mathrmo mathrmh practic basi often set equal chemic experiment measur water sampl common geochemicalsolv algorithm chang basi solv procedur variou reason concentr basi speci becom small use exampl h may swap outswapmd basi oh swap new basi mathrmh_mathrmo mathrmoh equilibrium reaction becom h rightleftharpoon mathrmh_mathrmo mathrmoh default basi read reaction databasegeochemistrydatabaseindexmd provid default list basi speci h_o alway present basi potenti along mani speci ag al fe h hco_ etc denot water a_w speci default basi a_i conveni label quantiti number mole substanc exampl one a_i ag anoth al etc stage beginequ mathrmbasi a_w a_i endequ equilibrium speci geochem databas contain larg list speci equilibrium basi speci nacl oh etc databas prescrib equilibrium speci reaction equilibrium constant reaction default basi may swappedswapmd one default basi speci conveni instanc experiment observ measur molal equilibrium speci perform swap basi beginequ mathrmbasi a_w a_i endequ a_i potenti contain speci label equilibrium speci databas redox disequilibrium databasegeochemistrydatabaseindexmd also contain number redox coupl repres basi speci eg fe altern oxidataion state eg fe user must defin redox speci coupl decoupl coupl default case redox pair equilibrium databas may use express altern oxid state term basi speci instanc mathrmf mathrmh_mathrmo mathrmf mathrmh mathrmo_mathrmaq allow fe elimin reaction similar swapswapmd favor basi speci h_o fe h o_aq altern oxid state may therebi consid secondari speci equilibrium constant appear basi decoupl case redox pair disequilibrium two possibl altern oxid state eg fe ad basi primari speci redox reaction specifi databas ignor mean necessari specifi initi condit solv concentr b redox reaction model use kinet approachtheoryindexmd case altern oxidataion state ad basi reaction specifi produc along reaction rate law choos redox pair decoupl ad nonkineticallycontrol altern oxid state basi beginequ mathrmbasi a_w a_i endequ a_i contain origin basi speci equilibrium speci via swap decoupl redox pair control kinet law miner databasegeochemistrydatabaseindexmd also contain inform concern mineralis reaction mineralis govern equilibrium massbal kinet miner exist precipit aqueou solut equilibrium solut govern kinet law default basi speci remov favour miner perform via swapswapmd way specifi particular concentr miner often miner thought immobil regard transporttheoryindexmd although assumpt might relax account exampl migrat colloid suspend sediment cours basi speci pb sensibl replac miner acanthit ag_ anglesit pbso_ would appropri includ desir miner basi beginequ mathrmbasi a_w a_i a_k endequ a_i contain origin basi speci potenti equilibrium speci swap decoupl redox pair control kinet law remov inclus miner a_k includ miner gase databasegeochemistrydatabaseindexmd also contain reaction involv gase fugacitiesfugacitymd gase known default basi speci remov favour gase perform via swapswapmd way specifi particular fugac ga cours basi speci pb sensibl replac ga co_g given reaction beginequ mathrmco_mathrmg rightleftharpoon mathrmh_mathrmo mathrmh mathrmhco_ endequ ga co_g could replac either h hco_ includ desir gase basi beginequ mathrmbasi a_w a_i a_k a_m endequ a_i contain origin basi speci potenti equilibrium speci swap decoupl redox pair control kinet law minu remov inclus miner gase a_k includ miner a_m includ gase sorption surfac complex compon may adsorb onto sorb site miner surfac either via equilibrium reaction kineticallycontrol reaction adsorb speci call surfac complex langmuir approach sorption particular miner number sorb site basi expand includ singl extra entri repres sorb site sorb speci compet adsorb onto singl type site adsorb flow via transport new sorb speci introduc a_q equilibrium equat involv remaind basi written includ sorb site basi expand beginequ mathrmbasi a_w a_i a_k a_m a_p endequ a_p singl new entri molal unoccupi site m_p total mole number sorb site m_p way basi speci molal total mole number sophist approach surfac complex account electr state porousskeleton surfac vari sharpli ph ionic strength solut composit model extra entri a_p type surfac site may includ basi beginequ mathrmbasi a_w a_i a_k a_m a_p endequ multipl a_p one surfacesit type surfac complex adsorb specifi type surfac site one surfac complex associ singl type surfac site compet occupi site may one type surfac site miner reaction form surfac complex ie speci made basi form porousskeleton surfac written massact involv surfac potenti suppli user bibtex bibliographi theori behind geochemistri modul geochemistri modul design solv reactiv transport geochem system geochemistri modul function subset describ authorat pedagog textbook citebethke_ order help user understand concept geochem model geochemistri theori document use notat idea drawn textbook reader undoubt find textbook invalu reaction geochemistri modul notat definit describ geochemistry_nomenclaturemd section describ type geochem reaction geochemistri modul solv section consid transport section geochem system conceptualis wellmix test tube contain aqueou solut possibl equilibrium gase atmospher possibl contain precipit miner equilibrium kinet reaction may use model solv geochemistri modul reader start explor world geochemistri might find introduct equilibrium reaction equilibrium constant etcequilibrium_reactionsmd use databas geochem databasesgeochemistrydatabaseindexmd contain list chemic compon along properti molar weight charg reaction speci along temperaturedepend equilibrium constant reaction henc geochem databas defin possibl scope geochem model built use databas chemic compon reaction databas possibl appear model geochemistri modul assum databas specif json format default databas use geochemistrymodul exampl test json version geochemist workbench gwb_llnldat januari databas python script provid convert popular geochemist workbenchhttpswwwgwbcom eq citeosti_ databas json format discuss concern databas found heregeochemistrydatabaseindexmd chemic compon model databas defin possibl chemic compon larg set user select compon appear model defin basistheorybasismd miner exclud includ gase includ kinet reaction see equilibrium reaction mass action equilibrium reaction specifi databas databas also contain temperaturedepend equilibrium constant k reaction definit nonbasi chemic speci express term basi compon secondari speci sinc secondari speci sorb reaction involv a_p beginequ labeleqmsecondeqn a_j rightleftharpoon nu_wja_w sum_inu_ija_i sum_knu_kja_k sum_mnu_mja_m endequ massact equilibriumequilibrium_reactionsmd reaction eqmsecondeqn equilibrium constant k_j may rearrang molal secondari speci beginequ labelmassactionsec m_j fraca_wnu_wjcdot prod_igamma_im_inu_ij cdot prod_ka_knu_kj cdot prod_mf_mnu_mjgamma_jk_j endequ geochemist typic ignor dimension inconsist equat instead convent omit dimensionful factor simpli use consist unit mole kg bar kelvin throughout calcul miner speci miner equilibrium includ basi equat trivial beginequ labeleqmmineraleqn a_l rightleftharpoon nu_wla_w sum_inu_ila_i sum_knu_kla_k sum_mnu_mla_m endequ defin activ product miner beginequ labeleqnminap q_l fraca_wnu_wlcdot prod_igamma_im_inu_il cdot prod_ka_knu_kl cdot prod_mf_mnu_mla_l endequ may compar express reaction equilibrium constant k_l defin satur index beginequ labeleqnminsi mathrmsi_l log_leftq_lk_lright endequ three possibl mathrmsi miner equilibrium mathrmsi miner supersatur mean system tri precipit miner mathrmsi miner undersatur mean aqueou solut dissolv miner sorb speci reaction sorb speci beginequ labeleqmsorbeqn a_q rightleftharpoon nu_wqa_w sum_inu_iqa_i sum_knu_kqa_k sum_mnu_mqa_m nu_pqa_p endequ use langmuir n_p surfacecomplex approach n_pgeq singl stoichiometr coeffici nu_pq determin type surfac site surfac complex a_q adsorb onto sum p langmuir approach sorption reaction form eqmsorbeqn equilibrium constant k_q massact read beginequ labelmass_act_lang m_q frack_q lefta_wnu_wqcdot prod_igamma_im_inu_iq cdot prod_ka_knu_kq cdot prod_mf_mnu_mq cdot m_pnu_pq right endequ m_p molal unoccupi site m_q molal sorb speci surfacecomplex account electr state porousskeleton surfac vari sharpli ph ionic strength solut composit mass action surfac complex a_q beginequ labeleqmq m_q frack_qez_afpsi_prt lefta_wnu_wqcdot prod_igamma_im_inu_iq cdot prod_ka_knu_kq cdot prod_mf_mnu_mq cdot m_pnu_pq right endequ set molal surfac complex z_q unit dimensionless electron charg surfac complex a_q psi_p unit jc v surfac potenti site a_p onto surfac speci a_q adsorb onto equat psi_p set f ldot cmol faraday constant r ldotsjkmol ga constant unit k temperatur comput surfac potenti psi_p requir addit equat beginequ labeleqpsi fraca_mathrmsffn_wsqrtrtepsilonepsilon_rho_w isinh leftfracz_pmpsi_p frtright sum_qz_qm_q endequ sum righthand side includ surfac speci sorb onto surfac site a_p righthand side equat depend psi_p equat eqmq addit notat introduc follow a_mathrmsf unit surfac area precipit miner upon a_p resid commonli user specifi specif surfac area mgof miner henc a_mathrmsf proport mole number miner precipit n_k coeffici proportion miner densiti unit gmol usersuppli specif surfac area epsilon unit dimensionless dielectr constant epsilon circc water epsilon_ time fm permitt free space rho_wkgm densiti water unit molkg ionic strengththeoryactivity_coefficientsmd z_pm charg background solut assum z_pm z_q unit dimensionless charg surfac complex a_q kinet reaction reaction kineticallycontrol speci a_barj decoupl redox reactionsbasismd a_barl miner slowli dissolv precipit a_barq kineticallycontrol surfac complex similar form eqmsecondeqn eqmmineraleqn eqmsorbeqn databas specifi equilibrium constant reaction use collect notat a_bark beginequ labeleqmkineqn a_bark rightleftharpoon nu_wbarka_w sum_inu_ibarka_i sum_knu_kbarka_k sum_mnu_mbarka_m nu_pbarka_p endequ equilibrium constant k_bark activ product beginequ labeleqnkinap q_bark fraca_wnu_wbarkcdot prod_igamma_im_inu_ibark cdot prod_ka_knu_kbark cdot prod_mf_mnu_mbark cdot a_pnu_pbarka_bark endequ form eqnminap mole number a_bark govern massact equat eqmq instead denot dissolut rate a_bark r_bark unit mol beginequ labelkinrateeqn fracmathrmdn_barkmathrmd r_bark endequ precipit assum follow rate dissolut geochemistri modul rate r_bark sum arbitrari number term form beginequ labeleqnindivr r kam left prod_alpham_alphap_alpha right left leftqkrightthetarighteta expleft frace_ar leftfract_ fractrightright mathrmsgn qk endequ term sum may differ paramet k p_alpha etc rather complic equat exampl given geochemistrykineticrategeochemistrykineticratemd document equat r unit mol rate kinet reaction posit kinet speci mass decreas eg dissolut neg kinet speci mass increas eg precipit k intrins rate constant product kam unit mol assum simul time unit second note mole unit use even initi amount kinet speci given mass volum unit exampl k given geochemistrykineticrategeochemistrykineticratemd document unit g mass kinet speci option either surfac area unit kinet speci r contain specif surfac area unit mg r contain alpha label denot promot speci m_alpha either mass solvent water kg promot speci h_o fugac ga promot speci ga activ promot speci either h oh mobil otherwis p_alpha dimensionless power q activ product given eqnkinap k reaction equilibrium constant defin databas file theta eta dimensionless expon e_a unit jmol activ energi rjkmol ga constant t_ unit k refer temperatur unit k temperatur mathrmsgnqk qk kinet speci mass increas time qk kinet speci mass decreas time overal kinet rate sum term form eqnindivr acidneutralalkali promot list correl prepar citepalandri may use geochemistri model activ fugac debyehuckel bdot model along relev formula neutral speci water code geochemistri modul virial pitzerhmw model yet includ detail may found hereactivity_coefficientsmd comput ga fugac use spycherre citepspych fugac formula citeptoughreact prausnitz detail may found herefugacitymd constraint constraint must suppli user member basi order geochem system uniqu mathemat solut follow type constraint possibl geochemistri modul water a_w mass solvent water n_w total bulk composit mole mass unit includ solvent water well water insid secondari speci sorb speci total bulk mole number n_wleft sum_jnu_wjm_j sum_qnu_wqm_qright possibl contribut kinet speci see number mole h_o kg water activ a_w logarithm log_a_w aqueou basi speci a_i free concentr m_i molal gkg_mathrmsolventwat etc unit total bulk composit mole mass unit total bulk mole number n_wm_i sum_jnu_ijm_j sum_qnu_iqm_q possibl contribut kinet speci see activ a_i gamma_im_i logarithm log_a_i ph may control exampl precipit miner a_k free precipit mole number n_k free mass free volum total bulk mole number n_k n_wsum_jnu_kjm_j sum_qnu_kqm_q possibl contribut kinet speci see total bulk mass gase fix fugac f_m log_f_m must provid sorb site a_p free concentr m_p molal gkg_mathrmsolventwat etc unit total bulk composit mole mass unit total bulk mole number n_wm_p sum_qnu_pqm_q possibl contribut kinet speci see use speci molar volum molar mass mass volum convert mole molal unit use intern within geochemistri code constraint must ensur chargeneutr geochemistri model chargebal speci must nomin molal adjust geochemistri modul ensur charg neutral addit kinet speci a_bark must provid initi mole number mass miner initi volum constraint_mean basi speci set bulk_composition_with_kinet sum total bulk composit also includ contribut kinet speci see kinetic_albit pagekinetic_albitemd exampl geochemistrymodul simul basi may chang respons precipit dissolut exampl howev constraint provid user alway respect except chargebal speci note instanc total bulk number h constrain h swap basi total mole number h conserv new basi reaction path follow reaction path avail geochemistri modul ad reactant userdefin rate reactant may basi speci secondari speci miner etc control temperatur userdefin function chang temperatur alter composit ad coolerhott reactant userdefin rate remov one speci activ constraint ga fugac constraint usersuppli time control speci activ ph ga fugac usersuppli function discard mass miner present equilibrium solut call dump citebethke_ remov miner mass end timestep set n_k small call flowthrough citebethke_ ad pure h_o remov equal mass water compon solut contain call flush citebethke_ combin may use instanc chang temperatur control speci activ work examplesgeochemistrytests_and_examplesindexmd provid differ geochemist workbench geochemistri modul variou differencesgwb_diffmd geochemist workbenchhttpswwwgwbcom geochemistri mean translat input file result involv subtleti equat solut method without transport geochem system fulli defin mole number speci ga fugac surfac potenti known without transport quantiti timedepend spatiallydepend follow known time mass solvent water n_w molal aqueou basi speci m_i molal unoccupi surfac site m_p surfac potenti psi_p mole number kinet speci n_bark mole number precipit miner n_k fugac gase f_m estim ionic strength stoichiometr ionic strength may perform obtain activ water a_w activ aqueou basi speci a_i gamma_i m_i recal miner activit uniti activ coeffici secondari speci gamma_j follow calcul molal secondari speci m_j use massactionsec well molal dissolv gase miner activ product q_l use eqnminap miner satur indic mathrmsi_l use eqnminsi molal sorb speci use mass_act_lang eqmq calcul molal secondari speci way allow refin estim stoichiometr ionic strength recalcul activ coeffici refin m_j henc item complet item could iter fulli defin geochem system slightli sophist iter scheme use geochemistri modul outlin focu geochem solver therefor spent item fact item may reduc note fugac gase f_m known definit potenti timedepend fix user miner decoupl system sinc miner activ uniti n_k impact equat n_kt may determin item complet latter point true a_mathrmsf psi_p depend n_k n_k fix user constraint mean accuraci psi_p equat lag one step behind n_w m_i m_p n_bark iter scheme outlin equat relat molal mole number basi mathemat solv procedur geochemistri modul form equat relat molal mole number basi speci molal secondari speci list separ pageequilibrium_eqnsmd ode set without transport system ode provid item total number mole water equilibrium system beginequ labeleqnbulkwat m_w n_wleft sum_jnu_wjm_j sum_qnu_wqm_qright endequ number mole h_o kg water second term due one mole secondari speci j contain nu_wj mole water insid similarli third term kinet contribut kinrateeqn provid first ode beginequ labeleqndmwdt fracmathrmdmathrmdt left n_wleft sum_jnu_wjm_j sum_qnu_wqm_qright right sum_barknu_wbarkr_bark q_w endequ q_wt extern sourc h_o defin user mention reaction path section similar set n_i equat provid consid total mole number speci a_i beginequ labeleqndmidt fracmathrmdmathrmdt left n_wleftm_i sum_jnu_ijm_j sum_qnu_iqm_qright right sum_barknu_ibarkr_bark q_i endequ q_it extern sourc basi speci a_i similarli set n_p equat express chang mole number a_p beginequ labeleqnmnpdt fracmathrmdmathrmdt left n_w leftm_p sum_qnu_pqm_q right right sum_barknu_pbarkr_bark q_p endequ q_pt extern sourc a_p eqpsi provid n_p addit algebra ode equat psi_p kinrateeqn complet descript n_bark ode beginequ labeleqndnbardt fracmathrmdn_barkmathrmd r_bark q_bark endequ extern sourc q determin reaction path see iter solut scheme previou section defin n_i n_p n_bark ode case surfac complex n_p algebra equat solv contrast citebethke_ geochemistri modul solv fullyimplicit fashion use newtonraphson procedur ensur uncondit stabil within timestep follow iter scheme use temperaturedepend quantiti debyehuckel quantiti calcul quantiti n_w m_i m_p n_bark initials previou timestep valu first timestep initi method describ citebethke_ use known basi activ ph prescrib fix ionic strength stoichiometr ionic strength water activ activ coeffici computedtheoryactivity_coefficientsmd basi activ comput use a_i gamma_im_i equilibrium molal comput repeat step userdefin amount time default repetit perform step newtonraphson iter solv implicit system given eqndmwdt eqndmidt eqnmnpdt eqpsi eqndnbardt instanc eqndmwdt read beginequ labeleqnrw beginalign r_w n_wtleft sum_jnu_wjm_jt sum_qnu_wqm_qtright n_wt dtleft sum_jnu_wjm_jt dt sum_qnu_wqm_qt dtright dt leftsum_barknu_wbarkr_barkt q_wt right endalign endequ m_jt defin term m_it etc massactionsec similarli m_qt r_barkt comput miner molal n_k repeat step newtonraphson procedur converg converg timestep commenc variou action dump flowthrough may perform see section concern reaction path overview solut scheme mani subtleti mention citebethke_ care must taken avoid overflow underflow number newtonraphson procedur fail converg userspecifi number step timestep size may halv procedur reattempt initi residu eqnrw speci larg initialguess molal may repeatedli halv doubl reduc residu solv equat eqnrw deriv activitycoeffici includ jacobian newtonraphson method underrelax avoid neg molal iter number q defin beginequ fracdelta mathrmmaxleft fracdelta n_wn_wq fracdelta m_im_iq fracdelta m_pm_pq right endequ nr updat take form beginequ beginalign n_wq n_wq delta delta n_w m_iq m_iq delta delta m_i m_pq m_pq delta delta m_p endalign endequ chargeneutr enforc throughout procedur newtonraphson converg molal miner check n_k miner complet consum similarli comput satur index miner basi may reveal supersatur miner allow precipit therefor nr converg follow procedur involv basi swapsswapmd use n_k comput one neg one neg remov basi replac secondari speci a_j satisfi mathrmmax_jm_jnu_kj nr procedur resolv saurat index miner a_l form reaction model check supersatur one supersatur one largest satur index ad basi someth remov basi someth prefer primari speci satisfi mathrmmax_inu_ilm_i primari speci appear reaction a_l miner reaction a_l satisfi mathrmmin_kn_knu_kl nr procedur resolv check undersatur supersatur etc whole procedur basi molal becom small numer instabl result make small correct molal lead larg deviat molal secondari speci case may swappedswapmd abund secondari speci transport perform reactivetransport simul coupl porousflow modul recommend enabl advanc featur pressur temperatur tightli coupl fluid flow instead specifi uncoupl dynam densiti viscos etc depend solut concentr temperatur pressur instead constant poros permeabl chang precipit dissolut multiphas flow coupl geomechan sophist numer stabil nevertheless rudimentari transport avail part geochemistri modul relev kernel geochemistrytimederivativegeochemistrytimederivativemd conservativeadvectionconservativeadvectionmd prefer upwinding_typ full geochemistrydispersiongeochemistrydispersionmd follow materi describ reactiv transport moos independ whether porousflow geochemistri modul use facilit transport volum concentr mass conserv defin concentr c compon water basi aqueou speci secondari aqueou speci etc beginequ c fracmv_mathrmsolut endequ v_mathrmsolut unit total volum aqueou solut total number mole compon henc unit c molm introduc porou skeleton aqueou solut flow aqueou solut inhabit void space introduc poros dimensionless beginequ phi fracv_mathrmvoidv_mathrmsolid v_mathrmvoid fracv_mathrmvoidv endequ v_mathrmsolid unit volum rock grain porou skeleton volum porou skeleton crush contain void v spatial volum contain porou skeleton henc quantiti beginequ int_v phi c endequ total number mole aqueou solut within volum v porou materi dynam phi provid geochemistri modul phi chang easiest use porousflow modul continu equat mass conserv read beginequ fracmathrmdmathrmd int_vphi c int_parti vnf int_v phi q endequ beginequ fracpartialparti tphi c nablacdot f phi q endequ unit time nabla unit vector spatial deriv f unit molsm fluid flux vector int_parti vnf flux unit mol volum v boundari q unit molsm sourc fluid rate product unit mol per unit volum fluid per unit volum porou materi reactivetransport equat water primari aqueou speci miner mobil dissolv gase transport precipit miner n_k sorb speci m_q sorption site m_p assum immobil henc follow concentr basi speci involv transport indic subscript beginequ beginalign c_tw c_w left sum_jnu_wjm_j right c_ti c_w left m_i sum_jnu_ijm_j right c_tk c_w sum_jnu_kjm_j c_tm c_w sum_jnu_mjm_j endalign endequ c_w n_wv_mathrmsolut addit mobil kinet speci miner sorb speci contribut righthand side equat form sum_barknu_astbarkn_barkv_mathrmsolut concentr speci c_tbark n_barkv_mathrmsolut also transport fluid densiti assum constant geochemistri modul therefor transport act basisbasismd speci total concentr spatial tempor vari function continu equat water compon therefor form beginequ fracmathrmdmathrmdtphi c_w nabla cdotmathbfq phi dnabla c_tw sum_barknu_wbarkphi r_bark phi q_w endequ c_w bulk composit water given eqnbulkwat mathbfq unit ms darci flux vector comput porousflow modul employ modul perform transport geochemistri modul mathbfq assum given user could userdefin set function field vari spatial tempor solv darci equat usual q_i sum_jfrack_ijmunabla_jp rho g_j k_ij unit permeabl mu unit pa fluid viscos p unit pa porepressur rho unit kgm densiti g_j unit ms acceler due graviti equat j indic spatial direct primari secondari speci unit ms hydrodynam dispers tensor porousflow advanc concept dispers geochemistri modul assum given geochemistri modul user r_bark unit molsm kinet rate per volum aqueou solut r_barkv_mathrmsolut kinet speci a_bark q_w unit molsm sourc h_o rate product unit mol per unit volum aqueou solut q_wv_mathrmsolut similar equat hold basi speci transport kinet speci exampl eqndmidt eqnmnpdt eqndnbardt multipli phiv_mathrmsolut appropri transport term form nablacdotmathbfq phi nabla c_tast ad alert note equat dissimilar citebethke_ use c_t timederiv use oper split contribut transport ad sourc term ode c_wc_i c_k c_m formula think incorrect actual give correct result solut method operatorsplit solut method strongli recommend sinc use reactivetransport code twostep method porousflow modul geochemistri modul transport solut aqueou phase well temperatur distribut nonisotherm porousflow case provid temperatur extra chemic sourc term point spatial domain extra sourc geochemistri modul solv mole number speci point spatial domain use newtonraphson method outlin section type model complic construct usual moos model user encourag consult examplestests_and_examplesindexmd comput aspect geochemistri simul use larg amount memori sinc store inform complet geochem system finiteel node option popul huge number auxvari use inform hand ignor transport almost embarrasingli parallel may solv effici use larg number processor solver choic significantli impact comput time separ pagecompute_efficienciesmd describ memori usag pure geochemistri simul comput time pure geochemistri simul scale number processor rel comput time spent transport reaction solver choic simul coupl porousflow reactiv transport multipl processor bibtex bibliographi comput effici geochemistri simul use larg amount memori sinc store inform complet geochem system finiteel node option popul huge number auxvari use inform hand ignor transport almost embarrasingli parallel may solv effici use larg number processor page explor comput aspect geot simulationgeotes_dmd webertensleep geot simulationgeotes_weber_tensleepmd forg geotherm simulationforgemd coupl porousflow geochemistri simul memori usag pure geochemistri simul spatiallydepend geochemistri simul rare run without transport use quantifi amount memori use geochemistri model alon without transport memori consumpt easili swamp consider tablespecies_s list number speci two simul use section tabl idtablespecies_s captions two simul webertensleep basi speci secondari speci miner total speci geochemistri action spatialreactionsolverspatialreactionsolverindexmd add larg number auxvari default record speci molal free mass free volum activ bulk composit etc may use add consider memori consumpt exampl quantifi tablemem_d tablemem_weber_tensleep tabl idtablemem_d captionmemori use geochemistryonli simul number node n mb zero auxvari mb auxvari tabl idtablemem_weber_tensleep captionmemori use webertensleep geochemistryonli simul number node n mb auxvari mb auxvari result summaris approxim formula beginequ mathrmmemori mb approx n time ns time na endequ n number node number speci two exampl number auxvari first term larg indepdend geochemistri import second term depend size geochem system quantifi cost keep track entir geochem node approxim byte per node recal total number speci geochem model third term depend size auxillari system approxim byte per node recal default auxvari ad action cours memori consumpt depend compil architectur formula provid approxim guid comput time pure geochemistri simul geochemistryonli part forg geotherm simulationforgemd aquifer_geochemistryi node exodu output may run use differ number processor order demonstr comput effici pure geochemistri simul transport fact exactli comput perform node case moos know evid tablecompute_forge_geochem geochem_scalingfig geochemicalonli simul scale well number processor tabl idtablecompute_forge_geochem captioncomput time forg geotherm simul use differ number processor number processor time requir media geochem_scalingpng captioncpu time requir solv forg geochemistryonli simul transport idgeochem_scalingfig rel computetim spent transport reaction common reaction part reactivetransport simul proce quickli compar transport part geochemistri modul bypass lot moos overhead spatial deriv requir use petsc tablerel_tim quantifi forg exampleforgemd exampl geochemistri test suit although one exampl larg cost full porousflow solv evid possibl comput time reduc precomput darci veloc timedepend temperatur field use geochemistrytimederivativegeochemistrytimederivativemd conservativeadvectionconservativeadvectionmd kernel advection_i input file tabl idtablerel_tim captioncomput time variou part typic reactivetransport simul mesh case node time step run use singl processor simul time requir note forg aquifer_geochemistryi basi speci kinet miner auxvari forg porous_flowi variabl dof auxvari simul need approxim nonlinear iter per timestep use ilu two combin multiapp enhanc effici compar porous_flowi demand small timestep aquifer_geochemistryi littl work test advection_i modifi mesh conc variabl variabl dof auxvari simul need approxim nonlinear iter per timestep use ilu solver choic simul coupl porousflow geochemistri simul often coupl porousflow order simul reactiv transport previou section demonstr transport part simul like much expens reactiv part henc use explor way improv effici one way precomput darci veloc temperatur field use geochemistrytimederivativegeochemistrytimederivativemd conservativeadvectionconservativeadvectionmd kernel howev often possibl therefor section quantifi comput time requir typic porousflow simul exampl forgeforgemd porous_flowi input file use mesh defin type generatedmeshgener dim nx ny xmin xmax ymin ymax lead dof split nice processor yield dof per processor simul run timestep converg nonlinear iter tablepre_ksp show varieti solver precondition choic provid fairli compar perform quit poor result one model use note hypr fsp asm ilu bjacobi perform similarli complic featur asm_overlap asm_shift_typ diagonal_scal diagonal_scale_fix strong precondition like mump benefici type simul contrast multiphas porousflow model tabl idtablepre_ksp captioncomput time timestep porous_flowi simul run processor dof per processor note time requir accur within due vageri hpc time requir precondition note hypr use boomeramg type default option hypr use boomeramg choos max_level hypr use boomeramg choos max_level hypr use boomeramg vari max_it fastest slowest hypr use boomeramg variou level strong_threshold bjacobi gmre ksp method fsp fieldsplit u mass fraction temperatur p porepressur use hypr gmre subsystem splitting_typ addit multipl asm ilu gmre ksp method virtual independ asm_overlap need nonzero shift_typ diagonal_scal diagonal_scale_fix asm ilu bcg ksp method sor default option fsp fieldsplit u mass fraction temperatur p porepressur use hypr gmre subsystem splitting_typ schur lu gmre ksp method lu use mump asm lu gmre ksp method asm ilu tfqmr ksp method fsp fieldsplit u mass fraction p porepressur temperatur use hypr gmre subsystem fieldsplit precondit littl complic simpli set pc_type hypr pc_hypre_typ boomeramg sampl block precondit fsp type fsp topsplit match follow block name split u p u p name subsolv splitting_typ multipl petsc_options_inam pc_fieldsplit_schur_fact_typ pc_fieldsplit_schur_precondit petsc_options_valu full selfp u var f_h f_na f_k f_ca f_mg f_sio f_al f_cl f_so f_hco temperatur petsc_options_inam pc_type ksp_type petsc_options_valu hypr gmre p var porepressur petsc_options_inam pc_type ksp_type petsc_options_valu hypr gmre exampl forgeforgemd porous_flowi input file use mesh defin type generatedmeshgener dim nx ny nz xmin xmax ymin ymax lead dof split nice processor yield dof per processor simul run timestep converg nonlinear iter tablepre_ksp_d show varieti solver precondition choic provid fairli compar perform quit poor result one model use note hypr best signific margin follow fsp hypr gmre asm ilu complic featur asm_overlap asm_shift_typ diagonal_scal diagonal_scale_fix strong precondition like asm lu mump add extra overhead type simul contrast multiphas porousflow model tabl idtablepre_ksp_d captioncomput time timestep porous_flowi simul run processor dof per processor simul use gmre ksp method restart note time requir accur within due vageri hpc time requir precondition note hypr use boomeramg type default option fsp fieldsplit u mass fraction temperatur p porepressur use hypr gmre subsystem splitting_typ multipl asm ilu asm_overlap asm ilu asm_overlap asm_shift_typ nonzero ksp_diagonal_scal ksp_diagonal_scale_fix bjacobi asm lu asm_overlap asm lu asm_overlap asm ilu asm_overlap asm lu asm_overlap lu use mump enthusiast reader play choic instanc eisenstatwalk option hope tabl provid use start point reactivetransport use multipl processor larg reactivetransport simul base forgeforgemd model use studi scale behaviour number processor given result mainli test scale behaviour linear solver porousflow simul mesh use type generatedmeshgener dim nx ny xmin xmax ymin ymax magnitud problem tabul tablescaling_forge_s simul run timestep use hypr boomeramg precondition porous_flowi tabl idtablescaling_forge_s captions larg reactivetransport simul paramet number node element porousflow dof porousflow auxvari dof geochemistri basi speci geochemistri kinet speci geochemistri auxvari dof result tabul tablescaling_result geochem_scalingfig tabl idtablescaling_result captions larg reactivetransport simul number processor walltim media reactive_transport_scalingpng captioncpu time requir solv forg reactivetransport simul involv multiapp coupl porousflow geochemistri idreactive_transport_scalingfig fugac notat definit describ geochemistry_nomenclaturemd core materi follow chapter citeprausnitz fugac coeffici follow citespych well appendix b citetoughreact section citebethke_ offer equat find difficult undrestand chemic potenti ga speci may part ga mixtur beginequ mu mu rt log fracff endequ mu jmol chemic potenti mu jmol constant f bar ga fugac atm might mathrmbarmathrmpa think fugac precis known small differ matter temperatur interest r ldotsjkmol ga constant k temperatur log natur logarithm f bar gasspeci fugac gasspeci fugac beginequ f chi p_mathrmparti chi x p endequ chi dimensionless fugac coeffici ga speci p_mathrmparti bar gasspeci partial pressur x dimensionless mole fraction ga speci within ga mixtur p bar total gasmixtur pressur ideal gase ideal mix chi henc pure ga x fp mu mu rtlog pp_ p_ atm mu chemic potenti atm nonid gase ideal mix appar good approxim beginequ logchi leftfracat fracbt crightp leftfracdt fracet frightfracp endequ spycherre formula p bar total gasmixtur pressur k temperatur log natur logarithm quantiti b ldot f given databasegeochemistrydatabaseindexmd alert note spycherre fugac formula use geochemistri modul alert warn believ convent massact equilibrium constant reaction involv ga involv fugac ga f includ contribut mu f equilibrium constant instanc reaction involv one secondari speci a_j number ga speci a_m beginequ a_j rightleftharpoon sum_mnu_m a_m endequ massact equilibrium beginequ k_j fracprod_mf_mnu_mgamma_jm_j endequ k_jt given databasegeochemistrydatabaseindexmd f_m fugac mmathrmth ga speci mixtur comput use formula athough dimension mismatch left right side equat believ ignor f_m mu_m lump k_j requir consist measur p bar kelvin bibtex bibliographi equilibrium equat solut method notat definit describ geochemistry_nomenclaturemd page follow citebethke_ notat introduc follow a_w water a_i aqueou basi speciesbasismd label quantiti exampl one a_i might na a_j aqueou speci call secondari speci a_k miner equilibrium system reaction appear basisbasismd a_l miner even exist equilibrium system might includ miner whose reaction kinet control a_m gase known fugac appear basisbasismd a_n gase a_q sorb speci get transport surfac complex a_p sorb site langmuir approch ionexchang approach one sorb speci compet sorb surfac complex approach equal number a_p a_q basi note index j etc give mean symbol index although unusu mathemat literatur common convent geochemistri n_in_kn_mn_p unknown basi beginequ mathrmbasi a_w a_i a_k a_m a_p endequ basi compon express term secondari speci secondari speci equilibrium basi sorb beginequ a_j rightleftharpoon nu_wja_w sum_inu_ija_i sum_knu_kja_k sum_mnu_mja_m endequ equat specifi databasegeochemistrydatabaseindexmd nu stoichiometr reaction coeffici databas specifi equilibrium constant k_j massact equilibriumequilibrium_reactionsmd read beginequ k_j fraca_wnu_wjcdot prod_igamma_im_inu_ij cdot prod_ka_knu_kj cdot prod_mf_mnu_mjgamma_jm_j endequ a_w activ wateractivity_coefficientsmd gamma_im_i activityactivity_coefficientsmd primari speci a_k activ miner k assum unityactivity_coefficientsmd written clariti f_m known ga fugacityfugacitymd m_j molal secondari speci gamma_j activ coefficientactivity_coefficientsmd secondari speci denot molalitygeochemistry_nomenclaturemd discuss activityactivity_coefficientsmd fugacityfugacitymd page geochemist typic ignor dimension inconsist equat instead convent omit dimensionful factor simpli use consist unit mole kg bar kelvin throughout calcul equat may rearrang molal secondari speci beginequ m_j fraca_wnu_wjcdot prod_igamma_im_inu_ij cdot prod_ka_knu_kj cdot prod_mf_mnu_mjgamma_jk_j endequ miner activ product satur index miner includ basi equat trivial beginequ a_l rightleftharpoon nu_wla_w sum_inu_ila_i sum_knu_kla_k sum_mnu_mla_m endequ defin activ product beginequ q_l fraca_wnu_wlcdot prod_igamma_im_inu_il cdot prod_ka_knu_kl cdot prod_mf_mnu_mla_l endequ may compar express reaction equilibrium constant k_l defin satur index beginequ mathrmsi_l log_leftq_lk_lright endequ three possibl mathrmsi miner equilibrium mathrmsi miner supersatur mean system tri precipit perhap slowli miner mathrmsi miner undersatur mean aqueou solut perhap slowli dissolv miner sorption k_d feundlich approach basi includ a_p equat summaris chapter citebethke_ howev bethk recommend use approach sinc adsorpt may occur without limit langmuir approach singl sorption site introduc basi n_p reaction sorb speci a_q written term basi beginequ a_q rightleftharpoon nu_wqa_w sum_inu_iqa_i sum_knu_kqa_k sum_mnu_mqa_m nu_pqa_p endequ nu_pq gener uniti written consist notat reaction associ equilibrium constant k_q mass action read beginequ m_q frack_q lefta_wnu_wqcdot prod_igamma_im_inu_iq cdot prod_ka_knu_kq cdot prod_mf_mnu_mq cdot m_pnu_pq right endequ m_p molal unoccupi site m_q molal secondari speci ion exchang ion exchang treat sorption speci surfac porou skeleton replac one adsorp ion anoth develop theori similar langmuir approach sorption howev new basi speci repres exchang site a_p introduc formula m_q similar langmuir equat involv electr charg ion involv exchang well multipl factor ionexchang approach current support geochemistri modul surfac complex approach basi includ entri a_p type surfac site consid reaction form surfac complex a_q beginequ a_q rightleftharpoon nu_wqa_w sum_inu_iqa_i sum_knu_kqa_k sum_mnu_mqa_m nu_pqa_p endequ mass action surfac complex a_q beginequ labeleqmq m_q frack_qez_afpsirt lefta_wnu_wqcdot prod_igamma_im_inu_iq cdot prod_ka_knu_kq cdot prod_mf_mnu_mq cdot m_pnu_pq right endequ set molal surfac complex z_q dimensionless electron charg surfac complex a_q psi jc v surfac potenti set f ldot cmol faraday constant r ldotsjkmol ga constant k temperatur comput surfac potenti psi requir addit equat citebethke_ write beginequ labeleqpsi fraca_mathrmsffn_wsqrtrtepsilonepsilon_rho_w isinh leftfracz_pmpsi frtright sum_qz_qm_q endequ note righthand side equat depend psi eqmq addit notat introduc follow a_mathrmsf surfac area materi upon a_q live usual miner system provid surfac area usual user specifi specif surfac area mgof miner henc a_mathrmsf proport mole number miner n_k coeffici proportion miner densiti gmol specif surfac area epsilon dimensionless dielectr constant epsilon circc water epsilon_ time fm permitt free space rho_wkgm densiti water ionic strength z_pm charg background solut citebethke_ assum z_pm z_q dimensionless charg surfac complex a_q equat relat molal mole number basi equat may form relat molal mole number basi speci molal secondari speci let n_w mass kg solvent water secondari speci also contain water one mole secondari speci j contain nu_wj mole water insid hold sorb speci therefor total number mole water beginequ m_w n_wleft sum_jnu_wjm_j sum_qnu_wqm_qright endequ number mole h_o kg water similarli term molal m_i molenumb total number mole substanc basisbasismd speci a_i beginequ m_i n_wleftm_i sum_jnu_ijm_j sum_qnu_iqm_qright endequ n_i equat let n_k mole number miner k note n_w mass n_k dimens mole follow notat citebethke_ may unknown sinc experi might commenc ad certain amount miner reaction might produc consum nevertheless total number mole basisbasismd miner k beginequ m_k n_k n_wleftsum_jnu_kjm_j sum_qnu_kqm_q right endequ n_k equat assum ga buffer infinit reservoir equilibrium reaction ned consid ga compon exist aqueou solut part secondari speci beginequ m_m n_w leftsum_jnu_mjm_j sum_qnu_mqm_qright endequ n_m equat total mole number sorb site m_p may written term molal sorb site m_p molal sorb speci m_q beginequ m_p n_w leftm_p sum_qnu_pqm_q right endequ full equat assumpt reduc equat summari full set equat beginequ beginalign m_w n_wleft sum_jnu_wjm_j sum_qnu_wqm_qright m_i n_wleftm_i sum_jnu_ijm_j sum_qnu_iqm_qright m_k n_k n_wleftsum_jnu_kjm_j sum_qnu_kqm_q right m_m n_w leftsum_jnu_mjm_j sum_qnu_mqm_qright m_p n_w leftm_p sum_qnu_pqm_q right m_j fraca_wnu_wjcdot prod_igamma_im_inu_ij cdot prod_ka_knu_kj cdot prod_mf_mnu_mjgamma_jk_j m_q frack_qmathcalc lefta_wnu_wqcdot prod_igamma_im_inu_iq cdot prod_ka_knu_kq cdot prod_mf_mnu_mq cdot m_pnu_pq right endalign endequ addit surfac complex present eqpsi provid equat surfac potenti psi equat mol total number mole substanc molkg molal n_w kg mass solvent water n_k mol mole number miner k nu dimensionless stoichiometr coeffici activ gamma activ coeffici f ga fugac k equilibrium constant mathcalc uniti langmuir approach sorption involv electon charg ion exchang involv surfac potenti surfac complex approach last two equat dimension consist see note equat relat n_i n_j n_k n_m n_p n_q quantiti well addit equat psi relev basi speci known molal secondari sorb speci may work simpli use final two equat known condit reaction take variti form h_o either m_w total number mole n_w number mole act solut known primari speci either m_i bulkcomposit number mole m_i molal free primari speci known eg specifi ph specifi m_h charg balanc must hold miner either m_k bulkcomposit number mole n_k number mole basi miner k known infinit buffer reservoir ga assum initi concentr ga irrelev user simpli specifi fix fugac sorption site either m_p m_p known solv equat follow assumpt made miner activ uniti mean secondari speci molal sorb speci molal depend miner activ mean given secondari speci molal sorb speci molal equat m_k n_k n_wleftsum_jnu_kjm_j sum_qnu_kqm_q right may use provid n_k term known m_k m_k term known n_k depend problem setup therefor equat trivial may ignor solut process simpli use solut found ga fugac f_m known fix reason previou bullet point mean equat m_m n_w leftsum_jnu_mjm_j sum_qnu_mqm_qright may ignor solut process simpli use provid m_m total number mole ga aqueou solut solut found activ coefficientsactivity_coefficientsmd known function surfac complex employ a_sf fix see eqpsi a_mathrmsf depend n_k often case break split reduc equat describ howev exampl found n_k fix specifi amount free miner mean reduc equat beginequ beginalign m_w n_wleft sum_jnu_wjm_j sum_qnu_wqm_qright m_i n_wleftm_i sum_jnu_ijm_j sum_qnu_iqm_qright m_p n_w leftm_p sum_qnu_pqm_q right endalign endequ well eqpsi appropri problem becom given m_w m_i m_p find n_w m_i m_p psi appropri newtonraphson nr procedur use n_w known first equat trivial neednt appear nr similarli m_i m_p known eg ph fix user equat neednt appear nr solut method nr procedur use find n_w m_i m_p term m_w m_i m_p citebethke_ describ detail use procedur help converg initi configur initi configur n_w m_i m_p whichev appropri set user specifi valu m_w m_i m_p result previou time step residu basi speci extrem larg start m_i repeatedli halv residu reach manag size less activ everi step nr procedur activ coeffici gamma_i gamma_j well activ water a_w comput base current valu m_i m_j deriv activ coeffici respect includ nr jacobian underrelax quantiti n_w m_i m_p never neg nr iter underrelax iter number q defin beginequ fracdelta mathrmmaxleft fracdelta n_wn_wq fracdelta m_im_iq fracdelta m_pm_pq right endequ nr updat take form beginequ beginalign n_wq n_wq delta delta n_w m_iq m_iq delta delta m_i m_pq m_pq delta delta m_p endalign endequ charg balanc basisspeci free molal specifi m_mathrmh charg balanc assur nr converg forc electr neutral end nr iter equat beginequ sum_iz_im_i endequ z_i charg basi speci a_i use set bulk concentr one basi speci one equat beginequ m_i n_wleftm_i sum_jnu_ijm_j sum_qnu_iqm_qright endequ replac chargebal equat set bulk concentr basi speci abund concentr greatest analyt uncertainti exist gener cl set user see section citebethke_ miner undersatur supersatur nr converg substitut result find n_k m_k may found n_k mean miner complet consum similarli comput satur index miner basi may reveal supersatur miner allow precipit therefor nr converg follow procedur involv basi swapsswapmd use n_k comput one neg one neg remov basi replac secondari speci a_j satisfi mathrmmax_jm_jnu_kj nr procedur resolv saurat index miner a_l form reaction model check supersatur one supersatur one largest satur index ad basi someth remov basi someth prefer primari speci satisfi mathrmmax_inu_ilm_i primari speci appear reaction a_l miner reaction a_l satisfi mathrmmin_kn_knu_kl nr procedur resolv check undersatur supersatur etc final due multitut complex procedur involv supersatur undesir supersatur miner ignor model know doesnt occur realiti primari speci low concentr sometim speci basi occur small concentr lead numer instabl make small correct molal lead larg deviat molal secondari speci case may swappedswapmd abund secondari speci citebethke_ doesnt give condit type swap occur whether suppos automat usercontrol process final check nr converg check satisfi follow check made mass compon conserv activ product equal equilibrium constant reaction bibtex bibliographi basi swap notat definit describ geochemistry_nomenclaturemd use swap constitu basisbasismd instanc problem definit may conveni includ miner ga speci part basi instead default primari speci iter procedur converg molal miner may neg case remov basi replac secondari speci iter procedur redon iter procedur converg miner may supersatur ad basi either primari speci anoth miner remov iter procedur redon speci basi occur small concentr lead numer instabl make small correct molal lead larg deviat molal secondari speci case swap abund secondari speci chapter citebethke_ describ swap procedur detail includ test valid basi swap procedur rewrit chemic reaction term new basi comput new equilibrium constant write system bulk composit new basi bibtex bibliographi equat relat molal mole number basi mathemat solv procedur geochemistri modul form equat relat molal mole number basi speci molal secondari speci notat definit describ geochemistry_nomenclaturemd let n_w mass kg solvent water secondari speci also contain water one mole secondari speci j contain nu_wj mole water insid hold sorb speci therefor total number mole water beginequ m_w n_wleft sum_jnu_wjm_j sum_qnu_wqm_qright endequ number mole h_o kg water similarli term molal m_i molenumb total number mole substanc basisbasismd speci a_i beginequ m_i n_wleftm_i sum_jnu_ijm_j sum_qnu_iqm_qright endequ n_i equat let n_k mole number precipit miner k note n_w mass n_k dimens mole follow notat citebethke_ may unknown sinc experi might commenc ad certain amount miner reaction might produc consum nevertheless total number mole basisbasismd miner k beginequ m_k n_k n_wleftsum_jnu_kjm_j sum_qnu_kqm_q right endequ n_k equat assum ga buffer infinit reservoir equilibrium reaction ned consid ga compon exist aqueou solut part secondari speci beginequ m_m n_w leftsum_jnu_mjm_j sum_qnu_mqm_qright endequ n_m equat total mole number sorb site m_p may written term molal sorb site m_p molal sorb speci m_q beginequ m_p n_w leftm_p sum_qnu_pqm_q right endequ without sourc kinet contribut full set equat beginequ beginalign m_w n_wleft sum_jnu_wjm_j sum_qnu_wqm_qright m_i n_wleftm_i sum_jnu_ijm_j sum_qnu_iqm_qright m_k n_k n_wleftsum_jnu_kjm_j sum_qnu_kqm_q right m_m n_w leftsum_jnu_mjm_j sum_qnu_mqm_qright m_p n_w leftm_p sum_qnu_pqm_q right m_j fraca_wnu_wjcdot prod_igamma_im_inu_ij cdot prod_ka_knu_kj cdot prod_mf_mnu_mjgamma_jk_j m_q frack_qmathcalc lefta_wnu_wqcdot prod_igamma_im_inu_iq cdot prod_ka_knu_kq cdot prod_mf_mnu_mq cdot m_pnu_pq right endalign endequ addit surfac complex present equat surfac potenti psi_p equat unit mol total number mole substanc unit molkg molal n_w unit kg mass solvent water n_k unit mol mole number miner k nu dimensionless stoichiometr coeffici activ gamma activ coeffici f ga fugac k equilibrium constant mathcalc uniti langmuir approach sorption involv electon charg ion exchang involv surfac potenti surfac complex approach note last two equat dimension consist instead convent omit dimensionful factor simpli use consist unit mole kg bar kelvin throughout calcul equat relat n_i n_j n_k n_m n_p n_q quantiti well n_p addit equat psi_p relev equilibrium reaction primer notat definit describ geochemistry_nomenclaturemd consid hypothet reaction beginequ bmathrmb rightleftharpoon cmathrmc dmathrmd endequ among speci b c b c reaction coeffici mean b molesgeochemistry_nomenclaturemd b creat remov c mole c mole vice versa free energi consid chang free energi g correspond increas number mole b n_b beginequ beginalign fracmathrmdgmathrmdn_b fracparti gpartial n_b fracparti gpartial n_cfracparti n_cpartial n_b fracparti gpartial n_dfracparti n_dpartial n_b fracparti gpartial n_b fracparti gpartial n_cfraccb fracparti gpartial n_dfracdb endalign endequ first line express number mole b chang number mole c must chang equilibrium reaction partial deriv indic keep everyth els fix second line introduc correct stoichiometri increas n_b must accompani correspond decreas n_c n_d equilibrium mean minimum free energi deriv must zero also total deriv respect n_c n_d must zero give result partial deriv eg partial gpartial n_b shouldnt zero system ever evolv along direct chang n_b keep n_c n_d fix chemic potenti introduc chemic potenti beginequ mu_b fracparti gpartial n_b endequ etc partial deriv taken constant n_c n_d well constant temperatur pressur equilibrium read beginequ bmu_b cmu_c dmu_d endequ given function form mu say n_c n_d find n_b use formula ideal solut theori ideal solut state constitu beginequ mu mu rt log x endequ mu jmol chemic potenti mu jmol constant number independ temperatur pressur constitu etc depend reaction question r ldotsjkmol ga constant k temperatur log natur logarithm x dimensionless mole fractiongeochemistry_nomenclaturemd constitu mass action ideal solut equilibrium read beginequ fracbmu_mathrmb cmu_mathrmc dmu_mathrmdrt log fracx_mathrmbbx_mathrmccx_mathrmdd endequ first term involv reaction standard free energi allow introduct socal equilibrium constant reaction defin beginequ log k fracbmu_mathrmb cmu_mathrmc dmu_mathrmdrt endequ note equilibrium constant constant least depend temperatur also reaction depend final equilibrium state beginequ k fracx_mathrmccx_mathrmddx_mathrmbb endequ call mass action nonid solut chemic potenti nonid case written beginequ mu mu rt log endequ paramet defin dimensionless constitu activityactivity_coefficientsmd depend temperatur potenti thing mass action nonid solut beginequ k fraca_mathrmcca_mathrmdda_mathrmbb endequ differ moos geochemist workbench geochemist workbenchhttpswwwgwbcom gwb softwar popular goldstandard geochemistri solver help new user geochemistri modul mani test examplesgeochemistrytests_and_examplesindexmd provid gwb equival hand c code behind geochemistri solver differ gwb citebethke_ part moos framework lead number differ advanc user awar almost case differ make littl differ final result certainli within accuraci databas experiment observ import exact equival requir benchmark temperatur depend special temperatur inspect test examplesgeochemistrytests_and_examplesindexmd reveal flag piecewise_linear_interpol frequent set true geochemicalmodeldefinitiongeochemicalmodeldefinitionmd special temperatur circc gwb perform fourthord leastsquar fit equilibriumconst data instead use data exactli tabul databas file high temperatur benchmarksgeochemistrytests_and_examplesindexmd run geochemistri modul result agre exactli gwb temperatur less roughli circc howev result sometim differ valu small discrep probabl due slightli differ interpol equilibrium constant although difficult complet sure without abl inspect gwb code stoichiometr ionic strength gwb softwar calcul stoichiometr ionic strength comput water activ via debyehuckel model use cl molal henc test examplesgeochemistrytests_and_examplesindexmd use flag stoichiometric_ionic_str_using_cl_onli true set bulk constraint user set moles_bulk_speci mean mole number current basi swap instanc follow mean mole na also addit na insid basi speci mirabilit mol free remain part bound secondari speci nacl mole cl free part bound secondari speci nacl free mole mirabilit precipit float around solut contain mole na mole so_ mole h_o list modulesgeochemistrytesttestsequilibrium_modelsbulk_constraintsi result shown tablebulk_constraint note mirabilit bulk mole number one mol mirabilit free quantiti mol dissolv solut ad molal speci na naso_ so_ nacl tabl idtablebulk_constraint captionspeci molal bulk_constraint simul speci molal na cl naso_ so_ nacl mirabilit bulk mol gwb input file look equival list modulesgeochemistrytesttestsequilibrium_modelsbulk_constraintsrea fact converg gwb unless chargebal speci move na file actual equival set na mol addit mol twice mol dissolv mirabilit mole mirabilit contain two mole na differ gwb expect bulk composit defin base swap geochemistri expect swap almost instanc issu swap differ small exampl extrem case instanc none result test examplesgeochemistrytests_and_examplesindexmd greatli impact differ differ prove annoy user geochemicalsolv could modifi flag allow gwbstyle system solv chang mere cosmet chang set activ user set constraint speci activ moos respect constraint turn instanc follow input file ph set remain throughout simul even calcit precipit list modulesgeochemistrytesttestsequilibrium_modelsph_constrainti final result g free calcit solut ph differ seeminglyequival gwb input file list modulesgeochemistrytesttestsequilibrium_modelsph_constraintrea note fix ph geochemist workbenchhttpswwwgwbcom softwar equilibr solut without precipit miner ph close system bulk mole composit h fix allow calcit precipit form alter ph final result g free calcit precipit ph user want replic gwb procedur two model must run success first miner user record bulk composit speci second miner bulk composit fix geochemistri modul enhanc prove annoy featur close_before_precipit flag ad timeindependentreactionsolveraddtimeindependentreactionsolveractionmd prevent_precipitation_on input ad timedependentreactionsolveraddtimedependentreactionsolveractionmd auxvari default precipit miner specifi prevent_precipit prevent otherwis precipit form ie prevent_precipit list ignor involv simpl manipul _prevent_precipit data geochemicalsolv bibtex bibliographi activ coeffici alert note debyehuckel bdot model along formula neutral speci water code geochemistri modul virial pitzerhmw model yet includ notat definit describ geochemistry_nomenclaturemd materi taken larg chapter citebethke_ recal activ speci defin term chemic potenti mu beginequ mu mu rt log endequ miner mineralis reaction speci equilibrium reaction activ dimensionless measur effect concentr constitu solut beginequ gamma mm_mathrmref endequ gamma activ coeffici molal m_mathrmrefmolkg purpos page describ model comput activ coeffici gamma ionic strength stoichiometr ionic strength denot ionic strength solut unit molkg beginequ fracsum_im_iz_i endequ sum run free ion solut neutral complex count denot stoichiometr ionic strength solut i_ unit molkg beginequ i_ fracsum_im_iz_i endequ complet dissoci complex assum sum run ion hypothet solut ionic strength comput geochemistryionicstrength util construct automat geochemistrytimeindependentreactorgeochemistrytimeindependentreactormd geochemistrytimedependentreactorgeochemistrytimedependentreactormd geochemistryspatialreactorgeochemistryspatialreactormd userobject includ flag comput two ionic strength use basi compon andor comput stoichiometr ionic strength use cl molal common practic geochem model userobject also allow set maximum ionic strength andor i_ exceed bound maximum ionic strength use formula prevent model use debyehuckel formula highli concentr solut applic sinc ionic strength add consider nonlinear geochem model userobject also option slowli increas maximumpermiss ionic strength debyehuckel bdot model electricallycharg speci see eqn citebethke_ beginequ log_gamma fracazsqrti mathringabsqrti dotbi endequ equat z charg number speci z see ionic strength solut mathringa ion size paramet measur angstrom mathringa given primari basi speci redox coupl secondari speci chemic databasegeochemistrydatabaseindexmd coeffici b dotb depend temperatur given chemic databasegeochemistrydatabaseindexmd circc amolkg bmolkgmathringa dotbmolkg neutral speci version z activ coeffici may comput use eqn citebethke_ beginequ log_gamma ai bi ci di endequ b c function temperatur tabul chemic databasesgeochemistrydatabaseindexmd assum measur molkg also databas must contain keyword mathringa instruct solver use express instead standard debyehuckel bdot model see section citegwb_refer neutral speci version alternativf activ coeffici z comput use beginequ log_gamma dotbi endequ chemic databasegeochemistrydatabaseindexmd contain keyword mathringa instruct solver use express instead standard debyehuckel bdot model see section citegwb_refer activ water activ water eqn citebethke_ beginequ log a_w fraci_ left fracalog tildeai_sleft hatbloghatb frachatbright fractildebi_ fractildeci_ fractildedi_ right endequ beginequ hatb tildeasqrti_ endequ express log natur logarithm i_ molkg stoichiometr ionic strength molkg number mole kg water kgmol standard debyehuckel paramet tildea tildeb tild tild temperaturedepend coeffici valu tildea tildeb tild tild given chemic databasegeochemistrydatabaseindexmd assum unit molal circc tildeakgmol tildebkgmol tildeckgmol tildedkgmol bibtex bibliographi modulescontactindexmd contact descript contact block use specifi paramet relat mechan contact enforc moos simul contactactionactionscontactactionmd associ input block class perform associ model setup task use contactact strictli requir greatli simplifi setup simul use contact enforc highlevel descript contact problem provid heremodulescontactindexmd block use specifi mechan normal tangenti contact use sever possibl model physic behavior interact frictionless glu coulomb friction contact enforc use nodefac primarysecondari algorithm avail use follow mathemat formul kinemat penalti tangenti penalti kinemat normal constraint penalti tangenti constraint augment lagrang reduc activ nonlinear function set ranf addit facefac contact use mortar method also specifi use block construct object primari task perform action creat constraint class perform contact enforc type constraint class construct depend formul physic interact model specifi use formul model paramet contact_action_constraint_t show constraint class creat variou type contact enforc tabl idcontact_action_constraint_t captionconstraint object construct contactact formul model constraint object kinemat mechanicalcontactconstraintconstraintsmechanicalcontactconstraintmd penalti mechanicalcontactconstraintconstraintsmechanicalcontactconstraintmd tangential_penalti mechanicalcontactconstraintconstraintsmechanicalcontactconstraintmd ranf frictionless ranfsnormalmechanicalcontactconstraintsranfsnormalmechanicalcontactmd mortar mechanicalcontactconstraintconstraintsmechanicalcontactconstraintmd mortar normalmortarmechanicalcontactconstraintsnormalmortarmechanicalcontactmd normalmortarlmmechanicalcontactconstraintsnormalmortarlmmechanicalcontactmd mortar coulomb tangentialmortarmechanicalcontactconstraintstangentialmortarmechanicalcontactmd tangentialmortarlmmechanicalcontactconstraintstangentialmortarlmmechanicalcontactmd addit constraint class sever object creat shown tabl idcontact_action_otherobj_t captionoth object construct contactact construct object purpos contactpressureauxauxkernelscontactpressureauxmd comput contact pressur store auxvari penetrationauxkernelspenetrationauxmd comput contact penetr store auxvari nodalareauserobjectnodalareamd comput nodal area store auxvari note nodefac contact enforc nodefac contact enforc base primarysecondari algorithm contact enforc node secondari surfac penetr face primari surfac approach best result primari surfac coarser two surfac contact enforc system reli moos geometr search system provid candid set face interact secondari node given time set candid face control patch_siz paramet patch_update_strategi option meshmeshmoosemeshmd block patch size must larg enough accommod slide occur time step gener recommend patch_update_strategyauto use formul paramet specifi techniqu use enforc contact default option use kinemat enforc algorithm transfer intern forc secondari node correspond primari face forc secondari node specif locat primari face use penalti paramet converg solut approach result penetr surfac penalti algorithm employ penalti approach penetr surfac penal converg solut small penetr invers proport penalti paramet regardless formul use robust mechan contact algorithm affect penalti paramet paramet small excess penetr penalti formul converg suffer kinemat formul paramet larg solver may struggl due poor condit system paramet system paramet deprec current default constraint gap offset paramet gap offset provid current contact formul enforc use mechanicalcontactconstraintconstraintsmechanicalcontactconstraintmd either secondary_gap_offset gap offset secondari side mapped_primary_gap_offset gap offset primari side map secondari side use gap offset paramet treat surfac virtual extend posit offset valu narrow neg offset valu specifi amount surfac treat closer away actual deform within materi gap offset region multipl contact pair user may need set mechan contact multipl contact pair applic user provid array primari secondari boundari name match consecut defin mechan contact pair contactrel input paramet appli contact pair defin action input alert note multipl contact pair featur yet avail mortar contact list testtestsmultiple_contact_pairsmultiple_pairsi blockcontact exampl input syntax idexampl nodefac frictionless contact list testtestssliding_blockslidingfrictionless_kinematici blockcontact nodefac friction contact list testtestssliding_blockslidingfrictional__penaltyi blockcontact normal frictionless mortar contact list testtestsmechanicalsmallproblemfrictionlessnodallmmortardispactioni blockcontact normal tangenti friction mortar contact list testtestsbouncingblockcontactfrictionalnodalminnormallmmortarfbtangentiallmmortaractioni blockcontact gap offset list testtestsmechanical_constraintfrictionless_kinematic_gap_offsetsi blockcontact syntax paramet contactcontactact syntax input contactcontactact syntax children contactcontactact mortarfrictionalpressurevectoraux descript mortarfrictionalpressurevectoraux output friction pressur vector compon use inform mortar contact solut geometri nodal inform use associ two friction lagrang multipli vector threedimens correspond tangent vector gener time mortar segment mesh gener auxiliari kernel automat includ contactact user select threedimension friction mortar contact comput friction pressur vector express beginequ boldsymbolp_mu lambda_fx cdot boldsymbolt_x lambda_fi cdot boldsymbolt_i endequ boldsymbolp_mu denot friction pressur vector lambda_fx lambda_fx two friction lagrang multipli boldsymbolt_x boldsymbolt_i two mutual perpendicular tangent vector note direct x need align global axe object auxkernelauxkernelsindexmd use purpos output note contactcontactindexmd action set object automat typic necessari includ input file input exampl creation auxiliari variabl ie friction pressur vector compon list testtestsdmortarcontactfrictionalmortardi blockauxvari creation componentwis auxiliari kernel list testtestsdmortarcontactfrictionalmortardi blockauxkernel syntax paramet auxkernelsmortarfrictionalpressurevectoraux syntax input auxkernelsmortarfrictionalpressurevectoraux syntax children auxkernelsmortarfrictionalpressurevectoraux contactpressureaux descript contactpressureaux output normal pressur incur due two bodi come contact comput via beginequ p_n fracboldsymbolfcdot boldsymbolna endequ p_n mathbbr denot contact pressur boldsymbolf mathbbrd repres contact forc dimens mathbbr nodal area see nodal areauserobjectnodalareamd object auxkernelauxkernelsindexmd use purpos output note contactcontactindexmd action set object automat typic necessari includ input file syntax paramet auxkernelscontactpressureaux syntax input auxkernelscontactpressureaux syntax children auxkernelscontactpressureaux contactlinesearch class petsccontactlinesearch deriv implement custom line search base petsc linesearchshel use mechan contact line search fanci take two paramet set moos execution block contact_line_search_ltol contact_line_search_allowed_lambda_cut contact_line_search_allowed_lambda_cut paramet specifi number time line search allow cut lambda allow cut lambda reduc half new residu evalu residu smaller smaller lambda cut continu reach contact_line_search_allowed_lambda_cut residu larger smaller lambda line search curtail smaller residu use recommend contact_line_search_allowed_lambda_cut smaller valu use smaller contact problem allow necessari residu increas transient problem requir signific chang contact state contact set chang user may option use looser linear toler set contact_line_search_ltol paramet contact set chang begin newton solv unnecessari comput expens avoid contact set resolv late newton solv linear toler return finer toler set tradit l_tol paramet line search help significantli phenomenon contact literatur known jam zigzag citepwriggerscomput newton solv bounc back forth differ contact set howev panacea partial assuag problem associ bad linear solv aris jacobianfre newtonkrylov solv noisi function function nois introduc larg penalti factor andor poor scale variabl develop want implement linesearch solver petsc creat class themself bibtex bibliographi contactsplit descript contactsplit class use creat splitbas precondition contact problem idea separ dof contact interfac dof rest domain allow user appli differ precondition dof type common practic direct precondition eg lu often util interfac problem problem size rel small condit number larg iter precondition eg boomeramg often employ interior problem problem often better condit problem size usual larg syntax descript preconditioningcontactsplit exampl input syntax list testtestsfieldsplitblocksdi blockprecondit syntax paramet preconditioningcontactsplit syntax input preconditioningcontactsplit syntax children preconditioningcontactsplit contactslipdamp syntax descript damperscontactslipdamp descript damper minim oscil inher solut friction contact problem limit chang contact state one nonlinear iter next design specif work nodefac mechan contact enforc use mechanicalcontactconstraintconstraintsmechanicalcontactconstraintmd damper specif address revers slip direct one nonlinear iter next node contact slip farther given nonlinear iter result residu caus node slip back opposit direct next nonlinear iter slip opposit direct next nonlinear iter larg enough caus node slip past origin contact point extrem difficult obtain converg solut node keep slip back forth past origin contact point nonlinear iter damper mitig problem scale back nonlinear solut updat limit amount slip experienc node slip direct opposit slip direct previou nonlinear iter node situat scale factor would bring node back origin posit comput minimum valu node taken overal scale factor simul mani node contact result initi small damp factor cours iter converg solut approach damp factor typic increas follow option paramet use adjust behavior damper min_damping_factor set minimum valu damp set number larger permit amount excess slip revers avoid solut get stuck extrem small damp factor max_iterative_slip allow damper also limit amount slip occur nonlinear iter addit limit slip revers prescrib length unit model damping_threshold_factor affect slip revers limit behavior damper magnitud slip small amount slip small node like actual stick state simpli move within limit permit penalti factor factor specifi threshold slip comput multipli limit impos penalti factor damper start limit slip revers set larger number make damper less effect node small amount slip addit limit nonlinear solut step damper also print use diagnost inform output stream includ statist number node variou contact state final note although damper primarili intend use friction contact use frictionless contact abil limit maximum amount slip exampl input syntax list testtestsfrictionalsliding_elastic_blocks_dsliding_elastic_blocks_di blockdamp syntax paramet damperscontactslipdamp syntax input damperscontactslipdamp syntax children damperscontactslipdamp contactdofsets contactdofsets class output number degre freedom greater certain toler specifi toler paramet default valu e usual applic indic class name indic mani node use first order lagrang shape function contact pressur lagrang multipli element face use constant monomi contact subdomain paramet name id repres lower dimension block lagrang multipli variabl live descript syntax syntax descript postprocessorscontactdofsets syntax paramet postprocessorscontactdofsets syntax input postprocessorscontactdofsets syntax children postprocessorscontactdofsets bibtex bibliographi nodalarea descript nodalarea comput nodal area along boundari object typic util contact simul comput contact pressur along interfac see contactpressureauxauxkernelscontactpressureauxmd nodalarea object comput tributari area node contact surfac use nodefac contact calcul object comput valu auxvari implement userobject calcul involv iter element face rather node note contactcontactindexmd action set object automat typic necessari includ input file syntax paramet userobjectsnodalarea syntax input userobjectsnodalarea syntax children userobjectsnodalarea augmentedlagrangiancontactproblem augment lagrangian contact algorithm involv nest solut strategi inner solv lagrangian multipli kept fix contact problem solv problem solv algorithm check see whether constraint satisfi decid converg reach model yet converg lagrangian multipli updat inner solv repeat augmentedlagrangiancontactproblem manag nest solut procedur describ repeat solut converg achiev check converg updat lagrangian multipli augmentedlagrangiancontactproblem syntax descript problemaugmentedlagrangiancontactproblem syntax paramet problemaugmentedlagrangiancontactproblem syntax input problemaugmentedlagrangiancontactproblem syntax children problemaugmentedlagrangiancontactproblem tangentialmortarmechanicalcontact tangentialmortarmechanicalcontact class use appli tangenti stress displac residu tangenti stress variabl lagrang multipl specifi use variabl paramet displac variabl must specifi either use secondary_vari primary_vari paramet must creat mani tangentialmortarmechanicalcontact class dimens simul eg two dimension simul must tangentialmortarmechanicalcontact instanc x displac compon syntax descript constraintstangentialmortarmechanicalcontact syntax paramet constraintstangentialmortarmechanicalcontact syntax input constraintstangentialmortarmechanicalcontact syntax children constraintstangentialmortarmechanicalcontact normalnodallmmechanicalcontact normalnodallmmechanicalcontact class use ensur karushkuhntuck condit mechan contact satisfi beginequ beginalign g ge lambda ge glambda endalign endequ g gap lambda contact pressur lagrang multipl variabl live secondari face object enforc constraint nodal zero penetr node observ primari face ncp_function_typ paramet specifi type nonlinear complimentar problem ncp function use option either min min function fb repres fischerburmeist function experi min function achiev better converg nonlinear solv c paramet use balanc size gap normal contact pressur contact pressur order gap order c set e order bring compon ncp function onto level achiev optim converg nonlinear solv syntax descript constraintsnormalnodallmmechanicalcontact syntax paramet constraintsnormalnodallmmechanicalcontact syntax input constraintsnormalnodallmmechanicalcontact syntax children constraintsnormalnodallmmechanicalcontact ranfsnormalmechanicalcontact enforc zero penetr constraint use reduc activ nonlinear function set ranf scheme algorithm follow min comparison penetr lagrang multipli lm associ zero penetr constraint penetr properli sign less lm replac nonlinear residu equat secondari node zeropenetr constraint equat repres simpli gap way gap requir zero advantag ranf scheme lagrang multipli eg saddlepoint consequ free use precondition like amg penalti term introduct ill condit matrix exact satisfact constraint ranfsnormalmechanicalcontact object includ pingpong protect detect secondari node altern back forth two differ element face suffici number time current facefacefacefacefac fix issu appli ranf explicitli appli number equal constraint equal mesh dimens tie togeth locat secondari node nearest primari node assert node primari face involv pingpong share pingpong protect necessari solv step fullbouncingblockranfsbouncingblockcontactbouncingblockranfsi test without protect solv converg timestep get cut syntax descript constraintsranfsnormalmechanicalcontact syntax paramet constraintsranfsnormalmechanicalcontact syntax input constraintsranfsnormalmechanicalcontact syntax children constraintsranfsnormalmechanicalcontact tangentialmortarlmmechanicalcontact tangentialmortarlmmechanicalcontact class use ensur karushkuhntuck condit coulomb friction contact satisfi beginequ beginalign phi mulambda_n lvert lambda_t rvert ge gamma fracv_tlambda_t ge gammaphi endalign endequ mu coeffici friction lambda_n lagrang multipli variabl repres contact pressur v_t slip veloc secondari face rel primari face lambda_t lagrang multipli variabl repres tangenti stress condit requir either secondari face stick primari face secondari face slip tangenti stress equal magnitud coeffici friction time normal contact pressur addit face slip forc exert secondari face direct slip ncp_function_typ paramet specifi type nonlinear complimentar problem ncp function use option either min min function fb repres fischerburmeist function experi fischerburmeist function achiev better converg nonlinear solv c paramet use balanc size slip veloc tangenti stress stress order veloc order c set order bring compon ncp function onto level achiev optim converg nonlinear solv syntax descript constraintstangentialmortarlmmechanicalcontact syntax paramet constraintstangentialmortarlmmechanicalcontact syntax input constraintstangentialmortarlmmechanicalcontact syntax children constraintstangentialmortarlmmechanicalcontact mechanicalcontactconstraint syntax descript constraintsmechanicalcontactconstraint descript mechanicalcontactconstraint class enforc mechan contact differ type three contact model avail glu frictionless coulomb beginequ boldsymbolt t_nboldsymboln t_tboldsymboltau endequ boldsymbolt denot total traction t_n normal traction t_t repres tangenti traction boldsymboln boldsymboltau normal tangenti unit vector respect normal contact constraint three contact type detail contact modul descriptionmodulescontactindexhtml differ among contact type lie constraint equat tangenti contact describ follow section contact model glu contact allow slip node come contact ie boldsymbolv_t boldsymbolv_t tangenti rel veloc due noslip condit glu contact often use model bond connect adjac bodi may mismatch mesh solid mechan contrast glu contact frictionless contact allow slip node contact tangenti traction assum ie boldsymbolv_t t_t frictionless contact often util contact surfac pretti smooth thu tangenti fraction along interfac omit differ two contact model coulomb model account friction along interfac caus rel motion node model use coulomb law comput tangenti traction proport normal traction via slip condit beginequ t_t mu t_n fracboldsymbolv_tboldsymbolv_tcdottau quad textif quad t_t mu t_n endequ mu friction coeffici contact formul enforc contact constraint three type formul avail kinemat penalti mortar kinemat penalti formul develop time turn robust mani mechan contact problem recent effort put develop mortarbas contact formul document howev focu kinemat penalti formul reader interest mortarbas mechan contact pleas go mortar constraint systemconstraintsindexmd inform overal workflow impos mechan constraint follow determin whether penetr occur constrain displac normal direct elimin penetr tangenti direct slip must satisfi friction model slip allow glu model constraint appli frictionless model kuhntuck condit must satisfi tangenti direct coulomb model mechan contact enforc step glu frictionless model summar penalti glu frictionless boldsymbolf_c k_p boldsymbolx boldsymbolx_p_t boldsymbolf_c boldsymbolnboldsymbolnt k_p boldsymbolx boldsymbolx_p boldsymbolr_ boldsymbolr_ boldsymbolf_c boldsymbolr_ boldsymbolr_ boldsymbolf_c boldsymbolr_m boldsymbolr_m phi_iboldsymbolf_c boldsymbolr_m boldsymbolr_m phi_i boldsymbolf_c kinemat glu frictionless boldsymbolf_c boldsymbolr_s_copi boldsymbolf_c boldsymbolnboldsymbolnt boldsymbolr_s_copi boldsymbolr_ boldsymbolr_sboldsymbolf_ck_pboldsymbolx boldsymbolx_p_t boldsymbolr_ boldsymbolr_ boldsymbolf_c boldsymbolnboldsymbolnt k_p boldsymbolx boldsymbolx_p_t boldsymbolr_m boldsymbolr_m phi_i boldsymbolf_c boldsymbolr_m boldsymbolr_m phi_i boldsymbolf_c note kinemat method use penalti paramet enforc condit secondari node desir posit primari face error small converg solut unlik penalti formul penalti complianc introduc contact surfac therefor converg solut error due penalti complianc friction contact coulomb model penalti method calcul normal forc tangenti predictor forc use penalti stiff check friction capac use kinemat method deform surround materi serv role penalti paramet contact gap offset gap offset provid current mechan contact constraint either secondary_gap_offset gap offset secondari side mapped_primary_gap_offset gap offset primari side map secondari side use gap offset paramet treat surfac virtual extend posit offset valu narrow neg offset valu specifi amount surfac treat closer away actual deform within materi gap offset region syntax paramet constraintsmechanicalcontactconstraint syntax input constraintsmechanicalcontactconstraint syntax children constraintsmechanicalcontactconstraint normalmortarlmmechanicalcontact similar normalnodallmmechanicalcontactnormalnodallmmechanicalcontactmd object except constraint enforc integr way via mortar method oppos pointwis node numer experimentsmodulescontactindexmdfrictionless_t suggest integr method enforc normal contact constraint display wors nonlinear converg pointwis method syntax descript constraintsnormalmortarlmmechanicalcontact syntax paramet constraintsnormalmortarlmmechanicalcontact syntax input constraintsnormalmortarlmmechanicalcontact syntax children constraintsnormalmortarlmmechanicalcontact normalnodalmechanicalcontact similar normalmortarmechanicalcontactnormalmortarmechanicalcontactmd object except contact forc appli nodefac geometr discret oppos mortar discret numer experimentsmodulescontactindexmdfrictionless_t show nonlinear solv converg nodefac discret contact forc compar slightli wors mortar applic syntax descript constraintsnormalnodalmechanicalcontact syntax paramet constraintsnormalnodalmechanicalcontact syntax input constraintsnormalnodalmechanicalcontact syntax children constraintsnormalnodalmechanicalcontact computeweightedgaplmmechanicalcontact karushkuhntuck condit mechan contact beginequ beginalign g ge lambda ge glambda endalign endequ g gap lambda contact pressur lagrang multipl variabl live secondari face per citepwohlmuthvari citeppoppdu variat consist discret version kkt condit beginequ beginalign tildeg_n_j ge lambda_n_j ge tildeg_n_j lambda_n_j endalign endequ n indic normal direct j denot jth secondari contact interfac node tildeg_n_j discret weight gap comput beginequ tildeg_n_j int_gamma_c phi_j g_nh da endequ gamma_c denot secondari contact interfac phi_j jth lagrang multipli test function g_nh discret version gap function computeweightedgaplmmechanicalcontact object comput weight gap appli kkt condit kkt condit enforc use nonlinear complimentar problem ncp function case simpl function minctildeg_n_j lambda_n_j c implement input paramet c use balanc size gap normal contact pressur contact pressur order gap order c set e order bring compon ncp function onto level achiev optim converg nonlinear solv syntax descript constraintscomputeweightedgaplmmechanicalcontact syntax paramet constraintscomputeweightedgaplmmechanicalcontact syntax input constraintscomputeweightedgaplmmechanicalcontact syntax children constraintscomputeweightedgaplmmechanicalcontact normalmortarmechanicalcontact normalmortarmechanicalcontact class use appli normal contact forc displac residu contact pressur variabl lagrang multipl specifi use variabl paramet displac variabl must specifi either use secondary_vari primary_vari paramet must creat mani normalmortarmechanicalcontact class dimens simul eg two dimension simul must normalmortarmechanicalcontact instanc x displac compon syntax descript constraintsnormalmortarmechanicalcontact syntax paramet constraintsnormalmortarmechanicalcontact syntax input constraintsnormalmortarmechanicalcontact syntax children constraintsnormalmortarmechanicalcontact tangentialnodallmmechanicalcontact similar tangentialmortarlmmechanicalcontacttangentialmortarlmmechanicalcontactmd object except constraint enforc pointwis node instead integr way use mortar method numer experimentsmodulescontactindexmdfrictional_t suggest pointwis method enforc tangenti contact constraint display wors nonlinear converg mortar method syntax descript constraintstangentialnodallmmechanicalcontact syntax paramet constraintstangentialnodallmmechanicalcontact syntax input constraintstangentialnodallmmechanicalcontact syntax children constraintstangentialnodallmmechanicalcontact computefrictionalforcelmmechanicalcontact class repres preliminari implement friction mortar contact constraint intend use lagrang multipli interpol dual base nonlinear complementar constraint employ base primaldu activ set strategi pdass see citepgitterlefinit constraint captur node stick slip state differ solut branch written beginequ c_tjlambda_jboldsymbolu boldsymboldotu maxmupressur c_ntildeg_nj abslambda_j c_t tildeu_tj lambda_j mu maxpressur c_ntildeg_nj lambda_j c_t tildeu_tj endequ lambda_j lagrang multipli refer tangenti contact pressur node j tildeu_tj weight tangenti veloc integr forward time tildeg_n_j weight normal gap c_n numer paramet c computeweightedgaplmmechanicalcontactcomputeweightedgaplmmechanicalcontactmd c_t numer paramet determin converg properti effect result nodal weight tangenti veloc comput beginequ tildev_tj int_gamma_c phi_j v_th da endequ gamma_c denot secondari contact interfac phi_j jth lagrang multipli test function v_th discret version tangenti veloc function object automat enforc normal contact constraint make call parent class computeweightedgaplmmechanicalcontact see computeweightedgaplmmechanicalcontactcomputeweightedgaplmmechanicalcontactmd input paramet detail preliminari recommend select c order moduli elast bodi contact c_t order magnitud less c select pure numer paramet repres initi difficulti run new model held constant good converg behavior attain syntax descript constraintscomputefrictionalforcelmmechanicalcontact syntax paramet constraintscomputefrictionalforcelmmechanicalcontact syntax input constraintscomputefrictionalforcelmmechanicalcontact syntax children constraintscomputefrictionalforcelmmechanicalcontact contact action syntax descript contactcontactact descript contactact moos action construct object need mechan contact enforc invok includ contactsyntaxcontactindexmd block top level moos input file see page document syntax block descript exampl usag paramet contact modul interact move bodi common occurr world therefor model problem essenti accur repres mechan behavior physic world howev finit element method inher mean model contact therefor specif contact algorithm requir algorithm enforc constraint surfac mesh prevent penetr develop contact forc moos contact modul provid necessari tool model mechan contact theori mechan contact two deform bodi base three requir beginequ g le endequ beginequ t_n ge endequ beginequ t_n g endequ penetr distanc typic refer gap g contact literatur one bodi anoth must posit contact forc t_n oppos penetr must posit normal direct either penetr distanc contact forc must zero time moos contact modul contact constraint enforc use either nodefac constraint use mortar method nodefac mechan contact contact constraint enforc use nodefac constraint manner similar detail citeheinstein_algorithm_ approach first geometr search determin secondari node penetr primari face node intern forc comput diverg stress move appropri primari face point contact forc distribut primari node employ finit element shape function addit secondari node constrain remain primari face prevent penetr modul current support frictionless friction glu contact mortarbas mechan contact model specif mechan contact enforc develop base moos mortar constraint systemconstraintsindexmd provid altern discret techniqu solv mechan contact result perform studi use approach summar mortarperformancemodulescontactmortarperformancemd row col small medium larg icondevice_hub tutori exampl classcent stylefontweight includ modulescontactcontact_examplesmd colend col small medium larg iconstorag implement detail analysi classcent stylefontweight mortar performancecontactmortarperformancemd colend rowend contact syntax block set model use contact enforc moos requir creation multipl type moos object use toplevel contactcontactindexmd syntax block streamlin process set object highli recommend support avail type contact follow input file exampl show basic usag contact block list testtestssliding_blockslidingfrictionless_kinematici blockcontact object action syntax syntax complet groupscontactapp level threedimension berkovich friction spheric indent threedimension problem use model penetr berkovich indent crystalplast base materi background indent test often use character behavior materi small scale exampl use berkovich indent driven prescrib displac boundari condit friction contact nodeonfac formul employ drive base materi deform result load displac curv obtain creat contact input exampl repres extens twodimensionalsphericalindenternodefacemd three dimens primari secondari surfac creat mesh sideset formul tangential_penalti employ kinemat approach normal direct penalti one tangenti direct list modulescontactexamplesd_berkovichindenter_berkovich_frictioni startcontact end media contactberkovich_webmp stylewidthpaddingleftpxfloattop captionfig indent anim indent repres cyan wirefram pileup take place caus deform along posit z direct see dark color anim critic converg friction problem use contactslipdampermd control stickslip behavior mani node contact nonlinear iter media contactberkovich_ldpng stylewidthfloatright captionfig loaddisplac curv numer result result forc exert materi resist indent may plot vertic displac problem base materi monocryst bodycent cubic bcc unit cell arbitrari paramet crystal plastic paramet calibr match given experiment nanoindent test exampl loaddisplac curv shown fig note element distort becom larg may impact numer result introductioncontacttutorialsintroductionindexmd modulescontacttwodimensionalsphericalindentermortarmd modulescontacttwodimensionalsphericalindenternodefacemd modulescontactberkovichindenternodefacemd mortarbas mechan contact perform result perform studi mortarbas contact approach shown frictionless contact algorithm comparison idfrictionless_t constraint displac ncp function time arbitrari unit time step nonlinear iter nodal mortar min nodal mortar fb nodal nodal min nodal nodal fb mortar mortar min mortar mortar fb nodal nodal ranf first column denot discret algorithm use appli frictionless contact constraint nodal denot use nodefaceconstraint mortar denot use mortarconstraint second column denot discret use appli contact forc displac residu third column denot type nonlinear complimentar problem ncp function use ensur contact constraint satisfi min indic canon min function see stdminhttpsencppreferencecomwcppalgorithmmin fb repres fischerburmeist function ranf denot reduc activ nonlinear function set scheme lagrang multipli use instead nonlinear residu equat secondari node replac gap function fourth column tabl simul time arbitrari unit sinc time differ across machin fifth column number time step requir reach simul end time final sixth column cumul number nonlinear iter taken simul note includ nonlinear iter fail time step note clearli mortar mesh gener slow simul surpris min ncp function undeni better solv normal contact pure nodal algorithm time step converg featur classic pingpong behavior nonlinear r e residual_ individu variabl disp_x disp_i e normal_lm e number node contact linear r e linear r e linear r e linear r e linear r e linear r e linear solv converg due converged_rtol iter nonlinear r e residual_ individu variabl disp_x disp_i normal_lm e number node contact linear r e linear r e linear r e linear r e linear r e linear r e linear solv converg due converged_rtol iter nonlinear r e residual_ individu variabl disp_x disp_i e normal_lm e number node contact linear r e linear r e linear r e linear r e linear r e linear r e linear solv converg due converged_rtol iter nonlinear r e friction contact algorithm comparison idfrictional_t lm normal lm tangenti displac ncp function normal ncp function tangenti time arbitrari unit time step nonlinear iter cli petsc option mortar mortar mortar fb fb none mortar mortar mortar min fb none nodal mortar mortar min fb none mortar mortar mortar min min none nodal nodal mortar min min snes_ksp_ew nodal nodal mortar fb fb na na na none note na solv converg time run differ machin frictionless case perform case use nodefaceconstraint discret enforc normal contact condit mortarconstraint discret enforc coulomb friction constraint applic forc displac residu interestingli perform case use differ ncp function normal tangenti constraint stdmin former fischerburmeist latter perform case use comparison nodefac penalti algorithm shown ncplmmortar vs penaltynodefac tabl compar time solver perform ncplmmortarin_and_outconstraintfrictional_lmi penaltynodefacein_and_outconstraintfrictional__penaltyi algorithm ncplm refer use ncp function contact constraint enforc lagrang multipli mortar design denot mortar discret use enforc tangenti coulomb friction condit appli contact forc displac residu algorithm time arb unit time step end time cumul nonlinear iter ncplmmortar penaltynodefac there cost associ gener mortar segment mesh partial offset fact mortar case take nearli half nonlinear iter penalti case petsc option contact recommend petsc option use mortar base friction contact puppet execution petsc_opt snes_converged_reason ksp_converged_reason snes_ksp_ew petsc_options_inam pc_type mat_mffd_err pc_factor_shift_typ pc_factor_shift_amount petsc_options_valu lu e nonzero e use eisenstatwalk advantag friction contact time wast linear solv earli nonlinear iter contact set stickslip condit resolv later nonlinear solv set constraint resolv linear iter use nonlinear solver move quadrat basin experi shown choic e matrix free finit differenc paramet work well mani problem howev user may want experi valu anywher e e depend multiphys small nonzero shift use avoid zero pivot lu decomposit may extran mani case note jacobian entri mortar base contact accur complet enough incomplet factor may use serial subblock solver block jacobi addit schwarz parallel may necessari larg problem lu scale recommend petsc option use nodefaceconstraint base contact shown puppet execution petsc_options_inam pc_type sub_pc_typ pc_asm_overlap ksp_gmres_restart petsc_options_valu asm lu scale effect effect scale nonlinear solv converg shown differ kind contact formul result base input file ranfsranfsandscalingbouncingblockranfsi kinematicbouncingblockkinematici tangenti penaltybouncingblocktanpeni run two process scheme cumul nonlinear iter cumul linear iter initi condit number variabl scale factor smp pjfnk ranf scale amg e smp pjfnk ranf residu autosc amg e e smp pjfnk ranf jacobian autosc amg e e smp pjfnk kinemat scale amg e smp pjfnk kinemat residu autosc amg e e smp pjfnk kinemat jacobian autosc amg e e smp pjfnk tangenti penalti scale amg e smp pjfnk tangenti penalti residu autosc amg e e smp pjfnk tangenti penalti jacobian autosc amg e e fd pjfnk ranf jacobian autosc lu e e fd pjfnk kinemat jacobian autosc lu e e import takeaway solv effici kinemat tangenti penalti formul independ scale within window problem ranf constraint residualsjacobian gap magnitud ranf solv realli perform better intern physic scale order magnitud bug ranf jacobian function ranf take nonlinear linear iter kinemat fd jacobian ranf take significantli less nonlinear linear iter kinemat twodimension friction spheric indent nodefac twodimension problem rz symmetri use model penetr spheric indent inelast base materi background indent test often use character behavior materi small scale exampl use spheric indent driven prescrib displac impos boundari condit friction contact nodeonfac formul employ drive base materi deform result load displac curv obtain exampl use twodimension mortar mechan contact consult twodimensionalsphericalindentermortarmd media contactfrictionpng stylefloatrightwidth caption fig snapshot indent process creat contact input contact input block allow user select primari secondari surfac formul type kinemat penalti tangential_penalti penalty_factor input paramet determin amount interpenetr contact surfac order make penalti factor consist among element surfac contact recommend select normalize_penalti true ensur penalti factor per area unit constant throughout simul final tangential_toler real number repres addit length consid contact search valu usual taken fraction characterist element length ensur edg contact miss list modulescontactexamplesd_indenterindenter_rz_nodeface_frictioni startcontact end use friction introduc complex state node contact name node tangenti forc surpass friction capac slip otherwis stick primari surfac behavior hinder converg node state chang one iter next prevent system residu reach reason toler valu heurist countermeasur implement contactslipdampermd base option paramet slip damper control stickslip state chang pingpong dampen problem use contactslipdamp significantli help converg list modulescontactexamplesd_indenterindenter_rz_nodeface_frictioni startdamp end input problem axisymmetr computeaxisymmetricrzfinitestrainmd symmetr boundari condit use numer result result forc exert materi resist indent may plot vertic displac problem base materi behav accord creep law maximum materi deform rel low allow smooth loaddisplac curv depict fig media contactnodeface_ldpng stylewidth captionfig loaddisplac curv creep materi model paramet calibr match given experiment nanoindent test note indent geometri reproduc real problem geometri modifi journal file element distort may becom larg twodimension spheric indent mortar twodimension problem rz symmetri use model penetr spheric indent inelast base materi background indent test often use character behavior materi small scale exampl use spheric indent driven prescrib displac boundari condit frictionless contact lowerdimension enforc mortar formul employ drive base materi deform result load displac curv obtain creat contact input mechan contact enforc lowerdimension domain weak sens type approach usual refer mortar employ approach user manual build lowerdimension subdomain primari secondari subdomain creat mesh sideset list modulescontactexamplesd_indenterindenter_rz_finei startmesh end alert note mortarbas mechan contact defin contact action manual userdriven definit use media contactd_indentermp stylefloatrightwidth captionfig spheric indent frictionless contact two dimens three block need defin first normalnodallmmechanicalcontact constraint use enforc karushkuhntuck contact condit normalmortarmechanicalcontact enforc contact constaint integr weak sens problem dimens list modulescontactexamplesd_indenterindenter_rz_finei startconstraint end note subdomain block creat mesh input use lowerdblockfromsidesetgener alert note mortar enforc avail twodimension contact input problem axisymmetr computeaxisymmetricrzfinitestrainmd symmetr boundari condit use numer result result forc exert materi resist indent may plot vertic displac problem base materi monocryst bodycent cubic bcc unit cell arbitrari paramet platic deform caus pile base materi contact surfac shown anim fig media contactmortar_ldpng stylewidth captionfig loaddisplac curv crystal plastic paramet calibr match given experiment nanoindent test exampl loaddisplac curv shown fig note friction may alter result indent geometri reproduc real problem geometri modifi journal file element distort may becom larg templat load filesqaapp_stpmdtempl categorycontact appcontact templat load filesqaapp_indexmdtempl categorycontact appcontact templat item keysqareport sqa report categorycategori templat load filesqaapp_sllmdtempl categorycontact appcontact templat load filesqaapp_sddmdtempl categorycontact appcontact templat load filesqaapp_rtmmdtempl categorycontact appcontact templat load filesqaapp_farmdtempl categorycontact appcontact templat load filesqaapp_srsmdtempl categorycontact appcontact templat load filesqaapp_vvrmdtempl categorycontact appcontact introduct contact user expect work introduct tensor mechanicstensor_mechanicstutorialsintroductionindexmd tutori first first contactcontacttutorialsintroductionstepmd continu final steptensor_mechanicstutorialsintroductionstepmd tensor mechan tutori add first attempt mechan contact mortar contactcontacttutorialsintroductionstepmd learn use mortar formul mechan contact look nodalvaluesamplernodalvaluesamplermdvectorpostprocessorvectorpostprocessorsindexmd see use paramvectorpostprocessorsnodalvaluesamplerblock paramet output pillars_normal_lm variabl pillars_secondary_subdomain subdomain add follow block stepi input vectorpostprocessor normal type nodalvaluesampl variabl pillars_normal_lm block pillars_secondary_subdomain sort_bi id execute_on initi timestep_end output block add csv true paramet run input end new output file step_out_normal_csv step_out_normal_csv one output time step plu one initi condit csv file find multipl column row order accord node id result continu path along mortar subdomain also order row coordin compon directori tutori input find small python script plot contact pressur use matplotlib panda serv start point custom plot gener note sinc explicitli request nodalvaluesampl use displac mesh use_displaced_mesh true coordin csv file refer undeform posit along contact surfac tri increas paramexecutionertransientend_tim replot contact pressur suppli script step first contact continu final steptensor_mechanicstutorialsintroductionstepmd tensor mechan tutori add first attempt mechan contact list modulescontacttutorialsintroductionstepi recal final step mechan tutori model two cantilev bent toward eachoth end occupi space without interact chang input file mesh add parammeshfilemeshpatch_update_strategi paramet set iter moos actual recommend set run model without paramet configur geometr search requir model contact contact major function addit previou input contactcontactindexmd action block heavi lift us set object requir enforc mechan contact one numer way support moos penalti kinemat mortar frictionless glu friction use paramcontactcontactactionprimari paramcontactcontactactionsecondari paramet specifi two interfac want interact mechan contact paramcontactcontactactionmodel paramet set select frictionless contact paramcontactcontactactionformul chose penalti method frictionless penalti base contact good initi choic contact model exhibit benign converg properti work well select paramcontactcontactactionpenalti factor e choic penalti guid stiff system factor close young modulu materi involv contact exceed recommend penalti contact allow nonzero interpenetr contact surfac kinemat mortar formul enforc penetr low solut converg allow util paramcontactcontactactionnormalize_penalti option compens mesh size effect bc note weve made small chang pressur bc chang appli pressur et et simpli demonstr purpos appli stronger pressur later simul forc cantilev bend establish contact larger area task question first run exampl look output see new field visual paraview exodu viewer choic particular pleas pay attent contact_forc penetr penetr visual penetr variabl may rescal visual start color scale neg penetr interest effect gap width see maximum interpenetr e half percent element width applic depend whether amount accept youv answer question run exampl move step contacttutorialsintroductionstepmd introduc mortar base contact step mortar contact mortar base mechan contact fairli recent addit moos offer benefit tighter converg better enforc contact constraint well better solut qualiti contact interfac quantiti like contact pressur quit matur node face contact use previou step mortar base contact problem current experiment stage edg edg contact edg drop fulli implement lead artifact sharp transit form incontact contact list modulescontacttutorialsintroductionstepi show step migrat node face contact problem penalti base contact problem previou step mortar formul extra work perform contact action moos mortar base contact use lagrang multipli enforc contact constraint lagrang multiplier addit solut variabl ad contact action live lower dimension subdomain along contact interfac contact action automat add lower dimension subdomain exist simul care add physic beyond lagrang multipli mean add block restrict kernel materi variabl add volum subdomain input file globalparam add block make sure block restrict object explicitli list input gener action default restrict subdomain two cantilev volum unrestrict mean would also live lower dimension mesh tri remov line see happen run mechan lower dimension subdomain introduc unphys artifici stiff chang result significantli besid ad block restrict chang contact block contact chang paramcontactcontactactionformul mortar remov paramcontactcontactactionpenalti paramcontactcontactactionnormalize_penalti paramet function mortar contact task question penetr let look penetr variabl visual penetr variabl may rescal visualizt start color scale neg pentrat interest effect gap width see maximum interpenetr e that quit improv compar penalti contact contact pressur note contact_pressur variabl ad use mortar formul physic mean lagrang multipli normal contact pressur visual contact pressur plot pillars_normal_lm variabl extract contact pressur data get better pictur contact pressur distribut along contact surfac help creat line plot pressur look nodalvaluesamplernodalvaluesamplermdvectorpostprocessorvectorpostprocessorsindexmd see use paramvectorpostprocessorsnodalvaluesamplerblock paramet output pillars_normal_lm variabl pillars_secondary_subdomain subdomain click answercontacttutorialsintroductionansweramd youv answer question run exampl move add thermal transport later thermal contact need build combinedopt execut follow along click continu tutorialcombinedtutorialsintroductionstepmd optionaltru ebcoupledvartest syntax descript materialsebcoupledvartest test see vector coupl variabl work expressionbuild descript expressionbuild system found hereexpressionbuildermd file set small system grain use expressionbuild creat function coupl variabl relat two grain syntax paramet materialsebcoupledvartest syntax input materialsebcoupledvartest syntax children materialsebcoupledvartest modulesphase_fieldindexmd templat load filestubsmoose_systemmdtempl namechpfcrffsplitvari syntaxvariableschpfcrffsplitvariablestempl load filestubsmoose_systemmdtempl namepfcrffvari syntaxvariablespfcrffvariablestempl load filestubsmoose_systemmdtempl namehhpfcrffsplitvari syntaxvariableshhpfcrffsplitvariablestempl load filestubsmoose_systemmdtempl namepolycrystalvari syntaxvariablespolycrystalvariablestempl load filestubsmoose_systemmdtempl namepfcrffkernel syntaxkernelspfcrffkerneltempl load filestubsmoose_systemmdtempl namepolycrystalelasticdrivingforc syntaxkernelspolycrystalelasticdrivingforcetempl load filestubsmoose_systemmdtempl namehhpfcrffsplitkernel syntaxkernelshhpfcrffsplitkerneltempl load filestubsmoose_systemmdtempl namepolycrystalstoredenergi syntaxkernelspolycrystalstoredenergytempl load filestubsmoose_systemmdtempl namepolycrystalkernel syntaxkernelspolycrystalkerneltempl load filestubsmoose_systemmdtempl namechpfcrffsplitkernel syntaxkernelschpfcrffsplitkerneltempl load filestubsmoose_systemmdtempl namerigidbodymultikernel syntaxkernelsrigidbodymultikerneltempl load filestubsmoose_systemmdtempl namemultiauxvari syntaxauxvariablesmultiauxvariablestempl load filestubsmoose_systemmdtempl namepolycrystal syntaxicspolycrystalicstempl load filestubsmoose_systemmdtempl namebicrystalcirclegrain syntaxicspolycrystalicsbicrystalcirclegrainictempl load filestubsmoose_systemmdtempl namebicrystalboundingbox syntaxicspolycrystalicsbicrystalboundingboxictempl load filestubsmoose_systemmdtempl nametricrystalcirclegrains syntaxicspolycrystalicstricrystalcirclegrainsictempl load filestubsmoose_systemmdtempl namepolycrystalrandom syntaxicspolycrystalicspolycrystalrandomictempl load filestubsmoose_systemmdtempl namepolycrystalcoloring syntaxicspolycrystalicspolycrystalcoloringictempl load filestubsmoose_systemmdtempl namepolycrystalvoronoivoid syntaxicspolycrystalicspolycrystalvoronoivoidictempl load filestubsmoose_systemmdtempl namematerialvectorauxkernel syntaxauxkernelsmaterialvectorauxkerneltempl load filestubsmoose_systemmdtempl namematerialvectorgradauxkernel syntaxauxkernelsmaterialvectorgradauxkerneltempl load filestubsmoose_systemmdtempl namematvecrealgradauxkernel syntaxauxkernelsmatvecrealgradauxkerneltempl load filestubsmoose_systemmdtempl namemodul syntaxmodulestempl load filestubsmoose_systemmdtempl namephasefield syntaxmodulesphasefieldtempl load filestubsmoose_systemmdtempl namenonconserv syntaxmodulesphasefieldnonconservedtempl load filestubsmoose_systemmdtempl nameeuleranglesrgb syntaxmodulesphasefieldeuleranglesrgbtempl load filestubsmoose_systemmdtempl nameconserv syntaxmodulesphasefieldconservedtempl load filestubsmoose_systemmdtempl namegrandpotenti syntaxmodulesphasefieldgrandpotentialtempl load filestubsmoose_systemmdtempl namegraingrowth syntaxmodulesphasefieldgraingrowthtempl load filestubsmoose_systemmdtempl namedisplacementgradi syntaxmodulesphasefielddisplacementgradientstempl load filestubsmoose_objectmdtempl nameeuleranglevariablesrgbaux syntaxauxkernelseuleranglevariablesrgbaux discretenucleationaux syntax descript auxkernelsdiscretenucleationaux auxkernel comput valu v beginequ v mr cdot v_ v_ v_ endequ v ist variabl auxkernel act discretenucleationmapdiscretenucleationmapmd data map valu mr rang remap use v_ no_nucleus_valu v_ nucleus_valu paramet discretenucleationaux auxkernel part discret nucleat systemnucleationdiscretenucleationmd companion kernel discretenucleationforcediscretenucleationforcemd syntax paramet auxkernelsdiscretenucleationaux syntax input auxkernelsdiscretenucleationaux syntax children auxkernelsdiscretenucleationaux bibtex bibliographi grainboundaryveloc comput veloc grain boundari edg display valu visual purpos one auxvari requir option variabl rang interest also avail overview use equat beginequ fracleft triangledown eta right fracdetadt v endequ comput perpendicular veloc quadratur point rang specifi exampl input file syntax list modulesphase_fieldtesttestsgrain_velocity_computationgrainboundaryvelocitytesti blockauxvariablesveloc list modulesphase_fieldtesttestsgrain_velocity_computationgrainboundaryvelocitytesti blockauxkernelsveloc syntax paramet auxkernelsgrainboundaryveloc syntax input auxkernelsgrainboundaryveloc syntax children auxkernelsgrainboundaryveloc templat load filestubsmoose_objectmdtempl namepfcrffenergydens syntaxauxkernelspfcrffenergydensitytempl load filestubsmoose_objectmdtempl nameeulerangleproviderrgbaux syntaxauxkernelseulerangleproviderrgbauxtempl load filestubsmoose_objectmdtempl nameoutputeulerangl syntaxauxkernelsoutputeuleranglestempl load filestubsmoose_objectmdtempl nameebsdreaderpointdataaux syntaxauxkernelsebsdreaderpointdataauxtempl load filestubsmoose_objectmdtempl namekksmultifreeenergi syntaxauxkernelskksmultifreeenergi bndscalcaux syntax descript auxkernelsbndscalcaux auxkernel comput valu v beginequ b sum_i v_i endequ b variabl auxkernel act v_i v set coupl order paramet use order paramet polycrystallin grain growth model result field b grain interior grain boundari frac along mid plan grain boundari syntax paramet auxkernelsbndscalcaux syntax input auxkernelsbndscalcaux syntax children auxkernelsbndscalcaux bibtex bibliographi templat load filestubsmoose_objectmdtempl namekksglobalfreeenergi syntaxauxkernelskksglobalfreeenergytempl load filestubsmoose_objectmdtempl namecrosstermgradientfreeenergi syntaxauxkernelscrosstermgradientfreeenergytempl load filestubsmoose_objectmdtempl namepfcenergydens syntaxauxkernelspfcenergydensitytempl load filestubsmoose_objectmdtempl nametotalfreeenergi syntaxauxkernelstotalfreeenergytempl load filestubsmoose_objectmdtempl namefeaturefloodcountaux syntaxauxkernelsfeaturefloodcountauxtempl load filestubsmoose_objectmdtempl nameebsdreaderavgdataaux syntaxauxkernelsebsdreaderavgdataauxtempl load filestubsmoose_objectmdtempl namegrainadvectionaux syntaxauxkernelsgrainadvectionauxtempl load filestubsmoose_objectmdtempl namefeaturevolumefract syntaxpostprocessorsfeaturevolumefract graintrack grain tracker util may use phasefield simul reduc number order paramet need model larg polycryst system graintrack util featurefloodcountfeaturefloodcountmd object indentifi extract individu grain solut field featurefloodcount object identifi grain graintrack two thing match grain current timestep grain previou timestep remap grain close come contact grain track abil track featur time interest mani simul type present algorithm track arbitrari featur unstructur mesh time track stage respons maintain consist uniqu identif arbitrari number move interact featur time track stage stage algorithm requir state data time step import implement perspect affect abil simul checkpoint termin success restart restart capabl use handl hardwar fault spread long run simul sever execut window common high perform comput environ first invoc featur track stage previou featur data compar track perform instead set id must assign identifi featur id may suppli extern desir fact restrict id suppli extern id need contigu must uniqu howev separ featur assign duplic id featur come contact simul data coalesc may may result correct simul extern assign desir featur track algorithm assign set contigu uniqu id individu featur accomplish first sort identifi featur min element id store featur data structur assign number base sort posit strategi ensur stabl sort insuscept differ mesh partit subsequ invoc featur inform previou time step compar featur current time step organ best match featur determin correctli comparison criterion global minim centroid distanc featur simultan centroid calcul averag element centroid make featur iter new list featur select featur previou list closest centroid distanc pair save best match data structur remain featur process possibl featur compet best match featur previou time step indic featur absorb otherwis disappear current step correspond featur previou step incorrectli identifi unrel featur best match case handl mark featur greater centroid distanc mismatch inact pair compar featur best match data structur mark match id previou time step save correspond match current time step unmatch featur new list previou list handl featur previou list unmatch mark inact unmatch featur current list new mean havent previous identifi former case occur exactli zero featur current list mean featur previou list remain unmatch latter case occur featur split new featur creat grain remap row col small medium larg media mediaphase_fieldremap_red_conflictsvg idremap_red_conflict captionr featur bound box intersect fast check colend col small medium larg media mediaphase_fieldremap_red_halosvg idremap_red_halo captionr featur halo intersect complet check colend rowend grain remap implement use recurs backtrack algorithm capabl perform sever variabl swap transform improperli color grain graph proper one backtrack algorithm run root process processor contain complet global grain graph pair grain locat close proxim remap_red_conflict remap_red_halo one arbitrarili chosen design target grain indic seek remap defin variabl valu differ solut variabl depend number neighbor graph variabl repres neighbor may may possibl creat valid graph remap target grain case depthlimit depthfirst search perform seek seri neighbor swap leav graph valid state begin array list size built popul number variabl color use variabl nearest grain repres variabl determin bound box distanc locat distanc store list correspond array posit along grain id case nearest bound box given variabl overlap target grain maintain neg count repres total number overlap id grain overlap otherwis store closest bound box edg bound box edg distanc given variabl dont bother calcul store inform grain match variabl indic grain live reserv order paramet sinc variabl inelig remap empti order paramet order paramet repres zero grain distanc infin infti enter correspond posit priorit variabl remap color distanc array sort revers order put grain furthest away near front leav sever overlap near back row col small medium larg media mediaphase_fieldremap_red_yellowsvg idremap_red_yellow captiondist check b featur colend col small medium larg media mediaphase_fieldremap_red_greensvg idremap_red_green captiondist check c featur colend col small medium larg media mediaphase_fieldremap_red_bluesvg idremap_red_blu captiondist check featur colend rowend row col small medium larg tabl idlarge_r styleborderpx solid blackwidthpx captionlarg red distanc variabl distanc varnoth b c colend rowend case neg distanc illustr large_r exampl target grain chosen larg grain label center right side imag color least one bound box overlap larg grain b c empti list varnoth use variabl repres target grain ensur variabl never consid possibl remap option row col small medium larg media mediaphase_fieldremap_green_redsvg idremap_green_r captiondist check featur colend col small medium larg media mediaphase_fieldremap_green_yellowsvg idremap_green_yellow captiondist check b featur colend col small medium larg media mediaphase_fieldremap_green_bluesvg idremap_green_blu captiondist check featur colend rowend row col small medium larg tabl idsmall_blu styleborderpx solid blackwidthpx captionsmal light blue distanc variabl distanc b c varnoth colend rowend iter array distanc look avail variabl suitabl remap target grain posit valu encount grain immedi remap algorithm return success howev neg valu encount must first perform finelevel check correspond grain halo see grain actual overlap immedi remap target grain return success encount case singl truli overlap grain bound box halo intersect algorithm tent mark target grain grain variabl effect simul remap oper recurs neighbor grain make new target algorithm abl find success remap recurs call return success valu indic caller tent mark remov success valu propag call stack item color distanc array exhaust without find success swap set swap algorithm return fail recurs call tent mark remov next valu array inspect find limit depthfirst search rel small depth work reason well fail imposs tightli color graph faster also help avoid huge runtim penalti exponenti growth rate possibl unlimit backtrack algorithm note tent mark indic turn dirti statu flag featur data structur dirti statu use independ bit exist simultan anoth statu row col small medium larg media mediaphase_fieldremap_to_red_presvg idremap_to_red_pr captionreadi remap colend col small medium larg media mediaphase_fieldremap_to_redsvg idremap_to_r captionremap colend col small medium larg media mediaphase_fieldremap_to_greensvg idremap_to_green captionremap c colend rowend halo imag row col small medium larg media mediaphase_fieldd_halos_startpng idd_start caption grain colend col small medium larg media mediaphase_fieldd_halos_endpng idd_end captiongrain structur sever simul step colend rowend descript syntax syntax descript postprocessorsgraintrack syntax paramet postprocessorsgraintrack syntax input postprocessorsgraintrack syntax children postprocessorsgraintrack featurefloodcount featurefloodcount object util inspect solut field look connect componentshttpsenwikipediaorgwikiconnected_component_graph_theori topolog connect region solut field share similar characterist typic mean region solut valu higher threshold object design work effici partit unstructur mesh hundr thousand processor row col small medium larg media mediaphase_fieldunstructured_png idunstructur captionth identif new featur colend col small medium larg media mediaphase_fieldunstructured_png idunstructur captionintermedi stage identif colend rowend row col small medium larg media mediaphase_fieldunstructured_png idunstructur captionidentif region complet colend col small medium larg media mediaphase_fieldunstructured_png idunstructur captionhalo extens complet colend rowend br algorithm identifi portion connect compon begin run flood fillhttpsenwikipediaorgwikiflood_fil algorthim processor recurs visit neighbor element unstructur mesh connect criteria met unstructur illustr identif new region processor dark shade element repres element identifi whose variabl valu exce given threshold lightli shade element surrond dark element repres current halo mark region halo mark alway extend one neighbor beyond current shade region use connect compon algorithm identifi potenti collis among disjoint region row col small medium larg media mediaphase_fieldgrain_stitching_small_splitsvg idgrain_stitch_split captionregular grid featur partit way colend col small medium larg media mediaphase_fieldgrain_stitching_smallsvg idgrain_stitch captionglob identif featur colend rowend br sever piec inform record processor includ mark element minimum id partit independ stabl order overlap element stitch grain_stitch_split show regular mesh partit among three processor sever region interest alpha charact repres possibl local order featur subscript repres processor id portion featur data structur serial sent rank process connect inform use discov global pictur grain_stitch syntax descript postprocessorsfeaturefloodcount syntax paramet postprocessorsfeaturefloodcount syntax input postprocessorsfeaturefloodcount syntax children postprocessorsfeaturefloodcount templat load filestubsmoose_objectmdtempl namepfcelementenergyintegr syntaxpostprocessorspfcelementenergyintegr discretenucleationtimestep syntax descript postprocessorsdiscretenucleationtimestep suppli postprocessor iterationadaptivedtiterationadaptivedtmd via timestep_limiting_postprocessor paramet timestep limit comput postprocessor comput accord two differ criteria time step limit nucleu insert nucleu ad nucleu list discretenucleationinserterdiscretenucleationinsertermd timestep limit set valu suppli use dt_max paramet one timestep conjunct iterationadaptivedt caus time step cut dt_max slowli grow back nucleat rate base timestep limit nucleat event onset timestep limit base user suppli upper bound probabl p_nuc pnucleu _more two_ nueceat event occur singl timestep probabl calcul beginequ labeleqpnuc p_nuc lambda_nucelambda_nuc endequ lambda_nuc total nucleat rate whole simul cell result probabl p_nuc obtain lambda_nuc given p_nuc equat eqpnuc numer invert lambda_nuc divid integr nucleat rate per unit time obtain largest possibl time step keep probabl two nuclei form user specifi upper bound media nucleation_timesteppng stylewidth marginleftpx captiontimestep dt nucleat simul discretenucleationtimestep limit time step green curv dtnuc show time step limit envelop curv determin upper bound two nucleu probabl sharp downward spike time step cutback nucleat event address two issu poisson statist sampl everi sampl point domain rate suffici low stay rare event regim ie either zero one event happen higher rate time resolut insuffici captur possibl nucleat event control probabl multipl nuclei form also reduc chanc overlap nuclei form discretenucleationtimestep postprocessor part discret nucleat systemnucleationdiscretenucleationmd syntax paramet postprocessorsdiscretenucleationtimestep syntax input postprocessorsdiscretenucleationtimestep syntax children postprocessorsdiscretenucleationtimestep bibtex bibliographi templat load filestubsmoose_objectmdtempl namefauxgraintrack syntaxpostprocessorsfauxgraintrackertempl load filestubsmoose_objectmdtempl namegrainboundaryarea syntaxpostprocessorsgrainboundaryarea discretenucleationdata syntax descript postprocessorsdiscretenucleationdata data extract discretenucleationinserterdiscretenucleationinsertermd select use valu paramet follow option valueoutput count number current activ nucleat site maintain insert updat boolean valu denot least one new nucleu insert remov ie hold time expir current timestep rate total nucleat rate per unit time entir domain insert number new nucleat point ad insert list delet number nucleat point remov due hold time expir discretenucleationdata postprocessor part discret nucleat systemnucleationdiscretenucleationmd syntax paramet postprocessorsdiscretenucleationdata syntax input postprocessorsdiscretenucleationdata syntax children postprocessorsdiscretenucleationdata bibtex bibliographi templat load filestubsmoose_objectmdtempl nameaveragegrainvolum syntaxpostprocessorsaveragegrainvolumetempl load filestubsmoose_objectmdtempl namegraintrackerelast syntaxpostprocessorsgraintrackerelasticitytempl load filestubsmoose_objectmdtempl namemultigrainrigidbodymot syntaxkernelsmultigrainrigidbodymot admatreact syntax descript kernelsadmatreact implement beginequ lvabdot v psi endequ l mob_nam reaction rate v either coupl variabl v explicitli specifi nonlinear variabl kernel oper forward automat differenti use comput offdiagon jacobian contribut alert warn note neg sign appear reactionreactionmd coefreactioncoefreactionmd syntax paramet kernelsadmatreact syntax input kernelsadmatreact syntax children kernelsadmatreact discretenucleationforc syntax descript kernelsdiscretenucleationforc implement weak form term beginequ mr cdot v_ v_ v_ psi endequ u ist variabl kernel act discretenucleationmapdiscretenucleationmapmd data psi test function map valu mr rang remap use v_ no_nucleus_valu v_ nucleus_valu paramet kernel use togeth reactionreactionmd kernel set nonlinear variabl field affin transform discret nucleat map data discretenucleationforc kernel part discret nucleat systemnucleationdiscretenucleationmd companion auxkernel discretenucleationauxdiscretenucleationauxmd syntax paramet kernelsdiscretenucleationforc syntax input kernelsdiscretenucleationforc syntax children kernelsdiscretenucleationforc kksphasechemicalpotenti syntax descript kernelskksphasechemicalpotenti enforc point wise equal phase chemic potenti beginequ fracdf_adc_afracdf_bdc_b endequ nonlinear variabl kernel c_a residu beginequ rfracdf_adc_a fracdf_bdc_b endequ jacobian jacobian need calcul beginequ jfrac partialparti u_jleft fracdf_adc_a fracdf_bdc_b right endequ ondiagon beginequ j phi_j left fracparti f_aparti c_a fracparti f_bpartial c_a partial c_b right endequ offdiagon q union argument vector f_a f_b repres code _coupled_moose_var get beginequ sum_i left fracparti f_aparti c_a partial q_ifracparti q_iparti u_j fracparti f_bpartial c_b partial q_ifracparti q_iparti u_j right endequ fracparti q_iparti u_j nonzero uequiv q_i case q_i argument select jvar beginequ j fracparti f_aparti c_a partial q_textjvarphi_j fracparti f_bpartial c_b partial q_textjvarphi_j endequ note code jvar index _coupled_moose_var resolv _jvar_map syntax paramet kernelskksphasechemicalpotenti syntax input kernelskksphasechemicalpotenti syntax children kernelskksphasechemicalpotenti acinterfacestress syntax descript kernelsacinterfacestress implement allencahn term l_inablafracparti e_elparti nabla eta_i elast energi contribut interfac stress e_elfracsigma_intepsilon weak form beginequ rfraclleftnabla fracparti sigma_intpartialnablaeta_iepsilon psi_m right endequ eta_i nonconserv nonlinear order paramet variabl kernel act l_i mob_nam scalar isotrop mobil associ order paramet psi_m test function integr part appli diverg theorem yield beginequ rfraclleft leftfracparti sigma_intpartialnablaeta_iepsilon nablapsi_mright leftfracparti sigma_intpartialnablaeta_iepsiloncdotvec npsi_mright right endequ syntax paramet kernelsacinterfacestress syntax input kernelsacinterfacestress syntax children kernelsacinterfacestress maskedbodyforc syntax descript kernelsmaskedbodyforc implement kernel sourc termbodi forc limit certain region mask materi properti function postprocessor also suppli multipli sourc term contribut ad kernel form beginequ c f p endequ mask suppli materi properti c constant sourc termbodi forc f function option p valu postprocessor option syntax paramet kernelsmaskedbodyforc syntax input kernelsmaskedbodyforc syntax children kernelsmaskedbodyforc bibtex bibliographi splitchwresaniso syntax descript kernelssplitchwresaniso anisotrop version splitchwressplitchwresmd expect tensor valu mobil syntax paramet kernelssplitchwresaniso syntax input kernelssplitchwresaniso syntax children kernelssplitchwresaniso bibtex bibliographi acmultiinterfac syntax descript kernelsacmultiinterfac implement allencahn interfac term multiphas system includ cross term form beginequ sum_jfrackappa_ijleft eta_inablaeta_j eta_jnablaeta_i right endequ eta_i nonlinear variabl kernel act eta_j eta nonconserv order paramet system kappa_ij kappa_nam gradient energi coeffic l_i mob_nam scalar isotrop mobil associ eta_i order paramet deriv interfaci free energi densiti f_int implement follow citenest equat also see footnot beginequ f_int sum_substackab bneq frac kappa_ab left eta_anablaeta_b eta_bnablaeta_aright endequ sum taken uniqu tupl _ab_ ie without permut _ba_ take function deriv taken use lemma beginequ fracdelta fdeltaeta fracparti fpartialeta nablafracparti fpartialnablaeta endequ obtain one dimension sum etaderiv beginequ beginalign fracdelta f_intdeltaeta_a sum_b kappa_ab left eta_anablaeta_b eta_bnablaeta_anablaeta_b nablalefteta_anablaeta_b eta_bnablaeta_aeta_bright right sum_substackbbneq kappa_ab left underbraceeta_anablaeta_b eta_bnablaeta_anablaeta_b_textord underbraceeta_beta_anablaeta_b eta_bnablaeta_a_textord right endalign endequ transform express weak form see deriv order _order _ term reduc shift gradient onto test function appli product rule beginequ v nablacdotmathbfw nabla v cdot mathbfw nablacdot vmathbfw endequ multipli test function psi integr volum omega identifi v w follow beginequ int_omegapsieta_beta_anablaeta_b eta_bnablaeta_a int_omegaunderbracepsieta_aeta_b_v_nablacdotunderbracenablaeta_b_mathbfw_ int_omegaunderbracepsieta_b_v_nablacdotunderbracenablaeta_a_mathbfw_ endequ beginequ int_omegaleft nablapsieta_aeta_bcdotnablaeta_bright int_omegaleftnablapsieta_bcdotnablaeta_aright int_omega nablacdotpsieta_aeta_bnablaeta_b int_omega nablacdotpsieta_bnablaeta_a endequ get rid last two term appli diverg theorem obtain beginequ underbrac int_omegaleft nablapsieta_aeta_bcdotnablaeta_bright int_omegaleftnablapsieta_bcdotnablaeta_aright _textvolum term underbrac int_partialomega mathbfncdotpsieta_aeta_bnablaeta_b int_partialomega mathbfncdotpsieta_bnablaeta_a _textboundari term endequ convert volum surfaceboundari integr appli product rule expand gradient product _volum terms_ obtain beginequ int_omegaleft left eta_aeta_bnablapsi psieta_bnablaeta_a psieta_anablaeta_b right cdotnablaeta_bright int_omegaleft left eta_bnablapsi psieta_bnablaeta_b rightcdotnablaeta_aright endequ residu total residu r_a beginequ beginalign r_a l_asum_substackbbneq akappa_ab bigg int_omegaleft psieta_anablaeta_b eta_bnablaeta_anablaeta_b right int_omegaleft left eta_aeta_bnablapsi psieta_bnablaeta_a psieta_anablaeta_b right cdotnablaeta_bright int_omegaleft left eta_bnablapsi psieta_bnablaeta_b rightcdotnablaeta_aright bigg endalign endequ ondiagon jacobian ondiagon jacobian j_a obtain take deriv respect eta_aj fracparti eta_aparti eta_aj phi_j fracparti nablaeta_ajparti eta_aj nablaphi_j beginequ beginalign j_a l_asum_substackbbneq akappa_ab bigg int_omegapsileft phi_jnablaeta_b eta_bnablaphi_jnablaeta_b right int_omegaleft left phi_jeta_bnablapsi psieta_bnablaphi_j psiphi_jnablaeta_b rightcdotnablaeta_b right int_omegaleft left eta_bnablapsi psieta_bnablaeta_b rightcdotnablaphi_j right bigg endalign endequ offdiagon jacobian diagon jacobian entri j_ab take deriv fracparti r_aparti eta_bj obtain beginequ beginalign j_ab l_akappa_abint_omegapsileft eta_anablaphi_j phi_jnablaeta_anablaeta_b eta_anablaeta_b eta_bnablaeta_anablaphi_j right int_omegaleft left eta_aphi_jnablapsi psiphi_jnablaeta_a psieta_anablaphi_j right cdotnablaeta_b left eta_aeta_bnablapsi psieta_bnablaeta_a psieta_anablaeta_b right cdotnablaphi_j right int_omegaleft left eta_bnablapsi psieta_bnablaeta_b rightcdotnablaeta_a left eta_bphi_jnablapsi psiphi_jnablaeta_b eta_bnablaphi_j rightcdotnablaeta_a right endalignedendequ note twophas case eta_beta_a reduc beginequ beginalign f_int frac kappa_ab left eta_anablaeta_a eta_anablaeta_aright frac kappa_ab left eta_anablaeta_a nablaeta_a eta_anablaeta_aright frac kappa_ab left nablaeta_a right endalign endequ familiar form implement acinterfaceacinterfacemd syntax paramet kernelsacmultiinterfac syntax input kernelsacmultiinterfac syntax children kernelsacmultiinterfac splitchmath syntax descript kernelssplitchmath implement bulk free free energi densiti equat f_textbulkc fraccc c concentr variabl kernel oper minima free energi densiti lie c c use togeth splitchwressplitchwresmd coupledtimederivativecoupledtimederivativemd set system two first order pde use concentr order paramet chemic potenti variabl syntax paramet kernelssplitchmath syntax input kernelssplitchmath syntax children kernelssplitchmath bibtex bibliographi templat load filestubsmoose_objectmdtempl namechsplitchemicalpotenti syntaxkernelschsplitchemicalpotentialtempl load filestubsmoose_objectmdtempl nameacsedgpoli syntaxkernelsacsedgpolytempl load filestubsmoose_objectmdtempl nameacgrgrelasticdrivingforc syntaxkernelsacgrgrelasticdrivingforc kksmultiacbulkc syntax descript kernelskksmultiacbulkc residu phase kk model nonlinear variabl eta_ beginequ r fracparti f_partial c_ left fracparti h_partial eta_ c_ fracparti h_partial eta_ c_ fracparti h_partial eta_ c_ right endequ c_i phase concentr phase h_i interpol function phase defin citefolch refer g_i use h_i maintain consist interpol function moos sinc kk model chemic potenti constrain equal posit fracparti f_partial c_ fracparti f_partial c_ fracparti f_partial c_ jacobian ondiagon nonlinear variabl eta_ ondiagon jacobian beginequ beginalign j phi_j fracparti rpartial eta_ phi_j fracparti f_partial c_ left fracparti h_partial eta_ c_ fracparti h_partial eta_ c_ fracparti h_partial eta_ c_ right endalign endequ offdiagon phase concentr sinc fracparti f_partial c_ appear residu offdiagon jacobian c_ littl complic c_ c_ beginequ beginalign j phi_j fracparti rpartial c_ phi_j left fracparti f_partial c_ left fracparti h_partial eta_ c_ fracparti h_partial eta_ c_ fracparti h_partial eta_ c_ right fracparti f_partial c_ fracparti h_partial eta_ right endalign endequ c_ beginequ beginalign j phi_j fracparti rpartial c_ phi_j fracparti f_partial c_ fracparti h_partial eta_ endalign endequ similarli c_ c_ c_ c_ handl first code offdiagon jacobian also need multipli l allencahn mobil offdiagon coupl variabl nonlinear variabl eta_ offdiagon jacobian eta_ beginequ beginalign j phi_j fracparti rpartial eta_ phi_j fracparti f_partial c_ left fracparti h_partial eta_ partial eta_ c_ fracparti h_partial eta_ partial eta_ c_ fracparti h_partial eta_ partial eta_ c_ right endalign endequ similar eta_ coupl variabl exampl temperatur beginequ beginalign j phi_j fracparti rpartial phi_j fracparti f_partial c_ partial left fracparti h_partial eta_ c_ fracparti h_partial eta_ c_ fracparti h_partial eta_ c_ right endalign endequ what implement code offdiagon jacobian eta_eta_ coupl variabl gener two equat nonlinear variabl v beginequ beginalign j phi_j fracparti rpartial v phi_j left fracparti f_partial c_ partial v left fracparti h_partial eta_ c_ fracparti h_partial eta_ c_ fracparti h_partial eta_ c_ right fracparti f_partial c_ left fracparti h_partial eta_ partial v c_ fracparti h_partial eta_ partial v c_ fracparti h_partial eta_ partial v c_ right right endalign endequ handl everyth except c_ c_ c_ handl separ first offdiagon jacobian also need multipli l allencahn mobil syntax paramet kernelskksmultiacbulkc syntax input kernelskksmultiacbulkc syntax children kernelskksmultiacbulkc kksphaseconcentr syntax descript kernelskksphaseconcentr enforc split concentr phase concentr weight switch function nonlinear variabl kernel c_b beginequ c hetac_ahetac_b endequ residu beginequ rhetac_a hetac_b c endequ jacobian ondiagon sinc nonlinear variabl c_b beginequ j phi_j fracparti rpartial c_b phi_j heta endequ offdiagon c_a beginequ j phi_j fracparti rpartial c_a phi_j heta endequ c beginequ j phi_j fracparti rpartial c phi_j endequ eta beginequ j phi_j fracparti rpartial eta phi_j fracdhdetac_bc_a endequ syntax paramet kernelskksphaseconcentr syntax input kernelskksphaseconcentr syntax children kernelskksphaseconcentr hhpfcrff syntax descript kernelshhpfcrff implement beginequ pm p u endequ sign determin posit paramet p prop_nam materi properti u either coupl variabl coupled_var explicitli specifi nonlinear variabl kernel oper syntax paramet kernelshhpfcrff syntax input kernelshhpfcrff syntax children kernelshhpfcrff acinterfacekobayashi syntax descript kernelsacinterfacekobayashi kernel interfaci energi anisotropi allencahn equat implement r kobayashi physica doip kernel implement first two term right side eq paper syntax paramet kernelsacinterfacekobayashi syntax input kernelsacinterfacekobayashi syntax children kernelsacinterfacekobayashi bibtex bibliographi ackappafunct ackappafunct kernel calcul term frac l fracparti kappaparti eta f_gnabla eta case kappa function eta f_g gradient energi function use phase field method descript gener inform kernel use variabl kappa deriv otherwis wast comput resourc kappa deriv calcul materi block use derivativematerialinterfac derivativeparsedmateri syntax paramet kernelsackappafunct syntax input kernelsackappafunct syntax children kernelsackappafunct acgbpoli syntax descript kernelsacgbpoli kernel implement coupl term non conserv polycrystallin grain model conserv concentr variabl could repres precipit ad graingrowthactiongraingrowthactionmd syntax paramet kernelsacgbpoli syntax input kernelsacgbpoli syntax children kernelsacgbpoli bibtex bibliographi allencahnelasticenergyoffdiag syntax descript kernelsallencahnelasticenergyoffdiag calcul offdiagon term beginequ fracpartialleftlfracdelta edelta crightpartialmathbfu fracpartialleftlfracdelta edelta crightpartialboldsymbolepsilonfracpartialboldsymbolepsilonpartialmathbfu endequ e elast energi boldsymbolepsilon strain first term right materi properti call dfdcdstrain exampl input file syntax list modulescombinedtesttestsphase_field_fracturecrackd_anisoi blockkernelsoff_disp syntax paramet kernelsallencahnelasticenergyoffdiag syntax input kernelsallencahnelasticenergyoffdiag syntax children kernelsallencahnelasticenergyoffdiag coefcoupledtimederiv syntax descript kernelscoefcoupledtimederiv coupledtimederivativecoupledtimederivativemd scalar prefactor lambda coef beginequ leftlambdafracparti vpartial tpsiright endequ v v coupl variabl see adcoefcoupledtimederivativeadcoefcoupledtimederivativemd ad version object syntax paramet kernelscoefcoupledtimederiv syntax input kernelscoefcoupledtimederiv syntax children kernelscoefcoupledtimederiv bibtex bibliographi cahnhilliardaniso syntax descript kernelscahnhilliardaniso anisotrop version cahnhilliardcahnhilliardmd expect tensor valu mobil note kernel implement compon free energi function f depend nabla c nabla c depend term aris gradient interfac energi handl separ chinterfacechinterfacemd kernel syntax paramet kernelscahnhilliardaniso syntax input kernelscahnhilliardaniso syntax children kernelscahnhilliardaniso adsplitchwr syntax descript kernelsadsplitchwr kernel implement weak form beginequ nabla u nablapsi endequ revers split cahnhilliard equat kernel variabl u chemic potenti mob_nam scalar mobil use togeth adsplitchparsedadsplitchparsedmd adcoupledtimederivativeadcoupledtimederivativemd set system two first order pde use concentr order paramet chemic potenti variabl implement anisotrop tensori mobil see adsplitchwresanisoadsplitchwresanisomd syntax paramet kernelsadsplitchwr syntax input kernelsadsplitchwr syntax children kernelsadsplitchwr bibtex bibliographi kkssplitchcr syntax descript kernelskkssplitchcr kkssplitchcreskkssplitchcresmd split version kernel calcul chemic potenti mu fracparti fpartial c nonlinear variabl kernel concentr c calcul fracparti cpartial nabla cdot mc nabla mu use coupledtimederivativecoupledtimederivativemd splitchwressplitchwresmd kernel respect describ herephase_fieldphase_field_equationsmd residu residu routin need calcul term r fracparti fpartial c mu exploit kk ident fracparti fpartial cfracdf_adc_afracdf_bdc_b arbitrarili use aphas instead beginequ r fracparti f_aparti c_a mu endequ jacobian ondiagon sinc explicit depend nonlinear variabl c residu equat diagon compon zero offdiagon look frac partialparti u_j deriv r uequiv c_a need appli chain rule keep term fracparti c_aparti u_jfracpartialparti c_aphi_j fracpartialparti c_a deriv beginequ beginalign j fracparti rpartial u_j phi_j fracpartialparti c_a left fracparti fpartial c_a mu right phi_j fracpartialfparti c_a endalign endequ mu beginequ beginalign j phi_j fracpartialparti mu left fracparti fpartial c_a mu right phi_j endalign endequ syntax paramet kernelskkssplitchcr syntax input kernelskkssplitchcr syntax children kernelskkssplitchcr coupledmaterialderiv syntax descript kernelscoupledmaterialderiv kernel add first deriv fracparti fpartial v given function materialphase_fieldfunctionmaterialsmd properti f f respect coupl variabl v v syntax paramet kernelscoupledmaterialderiv syntax input kernelscoupledmaterialderiv syntax children kernelscoupledmaterialderiv bibtex bibliographi templat load filestubsmoose_objectmdtempl namesinglegrainrigidbodymot syntaxkernelssinglegrainrigidbodymot adallencahn syntax descript kernelsadallencahn implement term beginequ lfracparti f_bulketapartialeta endequ eta variabl kernel act l mob_nam associ mobil f_bulk f_name bulk free energi densiti system provid function materialintroductionfunctionmateri nabla eta depend term free energi function system aris gradient interfac energi handl separ adacinterfaceadacinterfacemd kernel syntax paramet kernelsadallencahn syntax input kernelsadallencahn syntax children kernelsadallencahn bibtex bibliographi acbarrierfunct acbarrierfunct kernel implement term fracparti mpartial etafeta term free energi given citemoelans_quantitative_ barrier energi coeffici mani phase field model constant case function one variabl kernel includ descript gener inform kernel use variabl use calcul variabl lot math return valu deriv calcul materi block use derivativematerialinterfac derivativeparsedmateri kernel support singl valu gamma necessari use multipl gamma model nonconst syntax paramet kernelsacbarrierfunct syntax input kernelsacbarrierfunct syntax children kernelsacbarrierfunct adcoefcoupledtimederiv syntax descript kernelsadcoefcoupledtimederiv adcoupledtimederivativeadcoupledtimederivativemd scalar prefactor lambda coef beginequ leftlambdafracparti vpartial tpsiright endequ v v coupl variabl syntax paramet kernelsadcoefcoupledtimederiv syntax input kernelsadcoefcoupledtimederiv syntax children kernelsadcoefcoupledtimederiv bibtex bibliographi kksmultiphaseconcentr syntax descript kernelskksmultiphaseconcentr residu kk model n phase residu phase concentr constraint equat beginequ r left h_ c_ h_ c_ h_ c_ dot h_n c_n c right endequ c_i phase concentr phase c physic solut concentr h_i interpol function phase defin citefolch refer g_i use h_i maintain consist interpol function moos jacobian ondiagon sinc nonlinear variabl kernel c_n ondiagon jacobian beginequ beginalign j phi_j fracparti rpartial c_n phi_j h_n endalign endequ offdiagon physic concentr c offdiagon jacobian beginequ beginalign j phi_j fracparti rpartial c phi_j endalign endequ phase concentr c_i c_n beginequ beginalign j phi_j fracparti rpartial c_i phi_j h_i endalign endequ final order paramet eta_ beginequ beginalign j phi_j fracparti rpartial eta_ phi_j left fracparti h_partial eta_ c_ fracparti h_partial eta_ c_ fracparti h_partial eta_ c_ right endalign endequ offdiagon jacobian also need multipli l allencahn mobil syntax paramet kernelskksmultiphaseconcentr syntax input kernelskksmultiphaseconcentr syntax children kernelskksmultiphaseconcentr chinterfaceaniso syntax descript kernelschinterfaceaniso implement cahnhilliard term frackappa_inabla c_i gradient energi contribut anisotrop mobil case weak form beginequ left kappa_i nabla c_i nabla cdot m_i nabla psi_m right endequ kappa_i kappa_nam gradient energi coeffic c_i conserv nonlinear order paramet variabl kernel act m_i mob_nam tensori anisotrop mobil associ order paramet psi_m test function syntax paramet kernelschinterfaceaniso syntax input kernelschinterfaceaniso syntax children kernelschinterfaceaniso cahnhilliard syntax descript kernelscahnhilliard kernel act concentr variabl c_i implement weak form beginequ leftm sum_jnabla c_jfracparti fpartial c_i c_j nabla psiright endequ strong form term beginequ nabla mnabla fracparti fpartial c_i endequ fc_i local free energi densiti system depend arbitrari number concnetr variabl c_j use relat beginequ nabla fracparti fpartial c_i sum_jnabla c_jfracparti fpartial c_i c_j endequ impli f function anyth list moos variabl c_j mob_nam scalar isotrop mobil f f_name free energi densiti provid function materialintroductionfunctionmateri note kernel implement compon free energi function f depend nabla c nabla c depend term aris gradient interfac energi handl separ chinterfacechinterfacemd kernel see also anisotrop version kernel see cahnhilliardanisocahnhilliardanisomd expect tensor valu mobil syntax paramet kernelscahnhilliard syntax input kernelscahnhilliard syntax children kernelscahnhilliard conservedlangevinnois syntax descript kernelsconservedlangevinnois includ nucleationconservednoise_includemd syntax paramet kernelsconservedlangevinnois syntax input kernelsconservedlangevinnois syntax children kernelsconservedlangevinnois bibtex bibliographi simpleacinterfac syntax descript kernelssimpleacinterfac includ simple_kernels_includemd kernel implement weak form beginequ kappa l nabla u nablapsi endequ gradient contribut allencahn equat featur complet version see acinterfaceacinterfacemd kernel allow variabl depend mobil gradient energi paramet kappa syntax paramet kernelssimpleacinterfac syntax input kernelssimpleacinterfac syntax children kernelssimpleacinterfac adacinterfacekobayashi syntax descript kernelsadacinterfacekobayashi kernel interfaci energi anisotropi allencahn equat implement r kobayashi citekobayashi kernel implement first two term right side eq paper syntax paramet kernelsadacinterfacekobayashi syntax input kernelsadacinterfacekobayashi syntax children kernelsadacinterfacekobayashi bibtex bibliographi switchingfunctionconstrainteta syntax descript kernelsswitchingfunctionconstrainteta enforc constraint k sum_ieta_i epsilonlambda see multiphas modelsmultiphasewbmmd full deriv syntax paramet kernelsswitchingfunctionconstrainteta syntax input kernelsswitchingfunctionconstrainteta syntax children kernelsswitchingfunctionconstrainteta adchsoretmobl syntax descript kernelsadchsoretmobl use automat differenti add contribut due thermomigr cahnhilliard equat typic use adchsplitchemicalpotentialadchsplitchemicalpotentialmd adchsplitconcentrationadchsplitconcentrationmd syntax paramet kernelsadchsoretmobl syntax input kernelsadchsoretmobl syntax children kernelsadchsoretmobl templat load filestubsmoose_objectmdtempl namecoupledswitchingtimederiv syntaxkernelscoupledswitchingtimederiv acinterfac syntax descript kernelsacinterfac implement allencahn term frackappa_inabla eta_i gradient energi contribut isotrop mobil case weak form beginequ left kappa_i nabla eta_i nabla l_i psi_m right endequ kappa_i kappa_nam gradient energi coeffic eta_i nonconserv nonlinear order paramet variabl kernel act l_i mob_nam scalar isotrop mobil associ order paramet psi_m test function syntax paramet kernelsacinterfac syntax input kernelsacinterfac syntax children kernelsacinterfac admatanisodiffus syntax descript kernelsadmatanisodiffus anisotrop version admatdiffusionadmatdiffusionmd expect tensor valu diffus coeffici diffus syntax paramet kernelsadmatanisodiffus syntax input kernelsadmatanisodiffus syntax children kernelsadmatanisodiffus matgradsquarecoupl syntax descript kernelsmatgradsquarecoupl implement term beginequ p nabla psi endequ p prefactor materi properti psi coupl variabl phasefield model coupl electrostat field prefactor set use derivativeparsedmateri beginequ peta frac fracparti epsilonparti eta endequ epsilon phasedepend permitt eta order paramet nonlinear variabl kernel psi electr potenti syntax paramet kernelsmatgradsquarecoupl syntax input kernelsmatgradsquarecoupl syntax children kernelsmatgradsquarecoupl simplecoupledacinterfac syntax descript kernelssimplecoupledacinterfac includ simple_kernels_includemd kernel implement weak form beginequ kappa l nabla eta nablapsi endequ gradient contribut coupl allencahn equat common case eta variabl kernel act see simpleacinterfacesimpleacinterfacemd syntax paramet kernelssimplecoupledacinterfac syntax input kernelssimplecoupledacinterfac syntax children kernelssimplecoupledacinterfac bibtex bibliographi chmath syntax descript kernelschmath cahnhilliard bulk kernel hardcod free energi densiti f beginequ ffraccfracc endequ c conserv nonlinear order paramet variabl kernel act free energi densiti minim cpm syntax paramet kernelschmath syntax input kernelschmath syntax children kernelschmath adacinterfacekobayashi syntax descript kernelsadacinterfacekobayashi kernel interfaci energi anisotropi allencahn equat implement r kobayashi citekobayashi kernel implement third term right side eq paper syntax paramet kernelsadacinterfacekobayashi syntax input kernelsadacinterfacekobayashi syntax children kernelsadacinterfacekobayashi bibtex bibliographi kksacbulkc syntax descript kernelskksacbulkc kk allencahn kernel term direct composit depend instanc kernel need solut speci problem residu beginequ beginalign rfracdhdetaleftfracdf_adc_ac_ac_bright fracdhdetafracdf_adc_ac_ac_b endalign endequ jacobian ondiagon look frac partialparti u_j deriv r uequiveta need appli chain rule keep term fracparti etaparti u_jfracpartialparti eta phi_j fracpartialparti eta deriv beginequ beginalign j phi_j fracpartialparti eta left fracdhdetafracdf_adc_ac_ac_b right fracdhdetaphi_jfracdf_adc_ac_ac_b endalign endequ offdiagon sinc c_a c_b appear residu effect must calcul separ variabl depend c_a look frac partialparti u_j deriv r uequiv c_a need appli chain rule keep term fracparti c_aparti u_jfracpartialparti c_a phi_j fracpartialparti c_a deriv beginequ beginalign j phi_j fracpartialparti c_a left fracdhdetafracdf_adc_ac_ac_b right fracdhdeta phi_j left fracd f_adc_ac_ac_b fracd f_ad c_aright endalign endequ similarli c_b beginequ beginalign j phi_j fracpartialparti c_b left fracdhdetafracdf_adc_ac_ac_b right fracdhdeta phi_j fracd f_ad c_a endalign endequ variabl c_a c_b exampl temperatur beginequ beginalign j phi_j fracpartialparti left fracdhdetafracdf_adc_ac_ac_b right fracdhdeta phi_j fracpartialparti tleftfracd f_ad c_aright c_a c_b endalign endequ offdiagon jacobian contribut multipli allencahn mobil l point consist term allencahn equat syntax paramet kernelskksacbulkc syntax input kernelskksacbulkc syntax children kernelskksacbulkc kksmultiacbulkf syntax descript kernelskksmultiacbulkf residu phase kk model nonlinear variabl eta_ beginequ r leftfracparti h_partial eta_ f_ fracparti h_partial eta_ f_ fracparti h_partial eta_ f_ w_ fracparti g_partial eta_ right endequ c_i phase concentr phase h_i interpol function phase defin citefolch refer g_i use h_i maintain consist interpol function moos g_i eta_i eta_i also consist notat moos w_ free energi barrier height jacobian ondiagon nonlinear variabl eta_ ondiagon jacobian beginequ beginalign j phi_j fracparti rpartial eta_ phi_j left fracparti h_partial eta_ f_ fracparti h_partial eta_ f_ fracparti h_partial eta_ f_ w_ fracparti gpartial eta_ right endalign endequ offdiagon offdiagon jacobian eta_ similar eta_ beginequ beginalign j phi_j fracparti rpartial eta_ phi_j left fracparti h_partial eta_ partial eta_ f_ fracparti h_partial eta_ partial eta_ f_ fracparti h_partial eta_ partial eta_ f_ right endalign endequ offdiagon jacobian c_ similar c_ c_ beginequ beginalign j phi_j fracparti rpartial c_ phi_j fracparti h_partial eta_ fracparti f_partial c_ endalign endequ statement gener nonlinear variabl v beginequ beginalign j phi_j fracparti rpartial v left fracparti h_partial eta_ partial v f_ fracparti h_partial eta_ partial v f_ fracparti h_partial eta_ partial v f_ fracparti h_partial eta_ fracparti f_partial v fracparti h_partial eta_ fracparti f_partial v fracparti h_partial eta_ fracparti f_partial vright endalign endequ offdiagon jacobian also need multipli l allencahn mobil syntax paramet kernelskksmultiacbulkf syntax input kernelskksmultiacbulkf syntax children kernelskksmultiacbulkf kkschbulk syntax descript kernelskkschbulk nonsplit kk cahnhilliard bulk kernel fulli implement nonlinear variabl kernel concentr c residu residu routin need calcul term rnabla fracdfdc exploit kk ident fracdfdcfracdf_adc_afracdf_bdc_b arbitrarili use aphas instead gradient calcul chain rule note f_ac_a p_p_dotsp_n potenti function mani variabl beginequ r nabla fracdf_adc_a fracdf_adc_anabla c_a sum_i fracdf_adc_adp_inabla p_i endequ c_a p_p_dotsp_n vector argument f_a simplifi beginequ rsum_i fracdf_adc_ada_inabla a_i sum_i r_i nabla a_i endequ use r_i shorthand term fracdf_adc_ada_i repres code array _second_derivativesi access gradient a_i moos store _grad_argsi jacobian calcul jacobian involv deriv residu term r wrt individu coeffici u_j paramet f_a u stand variabl a_i beginequ fracdrdu_j sum_i left frac ddu_j r_inabla a_i right sum_i left r_ifracdnabla a_idu_j nabla a_i sum_k frac dr_ida_kfracda_kdu_j right endequ code u given jvar diagon case c c_a c_b diagon case offdiagon let focu diagon first fracda_kdu_j zero jvar equal k allow us remov sum k replac singl nonzero summand beginequ fracdrdu_j sum_i left r_ifracdnabla a_idu_j nabla a_i frac dr_ida_textjvarfracda_textjvardu_j right endequ first term squar bracket deriv fracdnabla a_idu_j nonzero jvar therefor pull term sum beginequ fracdrdu_j r_textjvarfracdnabla a_textjvardu_j sum_i nabla a_i frac dr_ida_textjvarfracda_textjvardu_j endequ rule frac ddu_j deriv get beginequ r_textjvar nabla phi_j sum_i nabla a_i frac dr_ida_textjvar phi_j endequ j _j code ondiagon diagon term look deriv wrt compon nonlinear variabl c kernel note f_a indirectli function c assum depend given cc_a chain rule thu yield term form beginequ fracdc_adc fracfracdf_bdc_bhetafracdf_bdc_bhetafracdf_adc_a endequ given equat kk follow offdiagon deriv get beginequ fracdf_adc_afracdc_adc nabla phi_j sum_i nabla a_i frac dr_idc_a fracdc_adc phi_j endequ ondiagon second approach let get back origin residu fracdfdc beginequ beginalign j phi_j fracddc nabla fracdfdc phi_j nabla fracdfdc quadquad textwith kk phi_j nabla fracfracdf_bdc_bfracdf_adc_a hetafracdf_bdc_bhetafracdf_adc_a endalign endequ syntax paramet kernelskkschbulk syntax input kernelskkschbulk syntax children kernelskkschbulk kksacbulkf syntax descript kernelskksacbulkf kk allencahn kernel term without direct composit depend residu beginequ rfracdhdetaf_af_bwfracdgdeta endequ jacobian ondiagon look frac partialparti u_j deriv r uequiveta need appli chain rule keep term fracparti etaparti u_jfracpartialparti etaphi_j fracpartialpartialeta deriv beginequ beginalign j phi_j fracpartialparti etaleft fracdhdetaf_af_b right w phi_j fracpartialparti etafracdgdeta fracdhdetaphi_jf_af_b wfracdgdetaphi_j endalign endequ implicit depend f_ac_a f_bc_a eta c_aceta c_bceta contribut jacobian fracparti f_aparti eta fracparti f_aparti eta offdiagon offdiagon compon calcul variabl f_a f_b depend exampl c_a beginequ j fracdhdetaleft fracparti f_aparti c_a fracparti f_bpartial c_arightphi_j endequ fracparti f_bpartial c_a kk formul term would need includ c_a variabl f_a depend howev code calcul deriv respect variabl f_a f_b depend gener way jacobian entri depend correctli comput use piec code exampl f_a f_b could depend temperatur case beginequ j fracdhdetaleft fracparti f_aparti fracparti f_bpartial trightphi_j endequ comput use code offdiagon jacobian contribut also multipli allencahn mobil l point consist term allencahn equat syntax paramet kernelskksacbulkf syntax input kernelskksacbulkf syntax children kernelskksacbulkf adchsplitchemicalpotenti syntax descript kernelsadchsplitchemicalpotenti use automat differenti solv chemic potenti weak sens mumu_prop coupl cahnhilliard equat solv speci diffus allow spatial deriv chemic potenti coupl materi state stress etc use model speci diffus mediat creep typic use adchsplitconcentrationadchsplitconcentrationmd combin adchsoretmobilityadchsoretmobilitymd incorpor effect thermodiffus syntax paramet kernelsadchsplitchemicalpotenti syntax input kernelsadchsplitchemicalpotenti syntax children kernelsadchsplitchemicalpotenti simplesplitchwr syntax descript kernelssimplesplitchwr includ simple_kernels_includemd kernel implement weak form beginequ nabla u nablapsi endequ revers split cahnhilliard equat featur complet version see splitchwressplitchwresmd kernel comput full jacobian even variabl depend mobil syntax paramet kernelssimplesplitchwr syntax input kernelssimplesplitchwr syntax children kernelssimplesplitchwr bibtex bibliographi templat load filestubsmoose_objectmdtempl namechsplitflux syntaxkernelschsplitfluxtempl load filestubsmoose_objectmdtempl namechpfcrff syntaxkernelschpfcrff simplechinterfac syntax descript kernelssimplechinterfac includ simple_kernels_includemd kernel implement weak form beginequ kappa nabla u nablapsi endequ gradient contribut cahnhilliard equat featur complet version see chinterfacechinterfacemd kernel allow variabl depend mobil gradient energi paramet kappa kernel requir use high order shape function eg third order hermit syntax paramet kernelssimplechinterfac syntax input kernelssimplechinterfac syntax children kernelssimplechinterfac bibtex bibliographi adacinterfac syntax descript kernelsadacinterfac implement allencahn term frackappa_inabla eta_i gradient energi contribut isotrop mobil case weak form beginequ left kappa_i nabla eta_i nabla l_i psi_m right endequ kappa_i kappa_nam gradient energi coeffici eta_i nonconserv nonlinear order paramet variabl kernel act l_i mob_nam scalar isotrop mobil associ order paramet psi_m test function syntax paramet kernelsadacinterfac syntax input kernelsadacinterfac syntax children kernelsadacinterfac adsplitchwresaniso syntax descript kernelsadsplitchwresaniso anisotrop version adsplitchwresadsplitchwresmd expect tensor valu mobil syntax paramet kernelsadsplitchwresaniso syntax input kernelsadsplitchwresaniso syntax children kernelsadsplitchwresaniso bibtex bibliographi acinterfacecleavagefractur syntax descript kernelsacinterfacecleavagefractur implement allencahn term crack propag prefer along weak cleavag plane specifi use cleavag plane normal boldsymbolm plane normal boldsymbolm penal use beta paramet citeclaytonknap set beta result isotrop damag respect cleavag plane ad term beginequ dfracbeta l_ left boldsymboli boldsymbolm otim boldsymbolm right left nabla otim nabla right endequ weak form beginequ int_omega left beta l_ left nabla boldsymbolm otim boldsymbolm nabla nabla right right psi dv endequ second term express simplifi beginequ beginalign int_omega psi leftboldsymbolm otim boldsymbolm nabla nabla right dv int_omega left nabla cdot left psi boldsymbolm left boldsymbolm cdot nabla right right left boldsymbolm cdot nablapsi right left boldsymbolm cdot nabla right left psi nabla cdot boldsymbolm right left boldsymbolm cdot nabla right right dv int_omega nabla cdot left psi boldsymbolm left boldsymbolm cdot nabla right right dv int_omega left boldsymbolm cdot nabla psi right left boldsymbolm cdot nabla right dv int_omega left psi nabla cdot boldsymbolm right left boldsymbolm cdot nabla right dv int_parti omega psi boldsymbolm left boldsymbolm cdot nabla right cdot boldsymboln ds int_omega left boldsymbolm cdot nabla psi right left boldsymbolm cdot nabla right dv int_omega left psi nabla cdot boldsymbolm right left boldsymbolm cdot nabla right dv endalign endequ last express first last term zero thu remain middl term jacobian beginequ beta l_ left int_omega left nabla psi cdot nabla phi_j right dv int_omega left boldsymbolm cdot nabla psi right left boldsymbolm cdot nabla phi_j right dv right endequ syntax paramet kernelsacinterfacecleavagefractur syntax input kernelsacinterfacecleavagefractur syntax children kernelsacinterfacecleavagefractur acinterfacedmultiphas syntax descript kernelsacinterfacedmultiphas implement allencahn term frackappa sum nabla eta_alpha gradient energi contribut anisotrop interfac energi case weak form beginequ leftnabla l psi frac frac partial kappa partial nabla eta_alpha sum nabla eta_beta j right endequ kappa kappa_nam gradient energi coeffic eta_alpha nonconserv nonlinear order paramet variabl kernel act l mob_nam scalar isotrop mobil associ order paramet psi test function syntax paramet kernelsacinterfacedmultiphas syntax input kernelsacinterfacedmultiphas syntax children kernelsacinterfacedmultiphas switchingfunctionconstraintlagrang syntax descript kernelsswitchingfunctionconstraintlagrang enforc constraint k sum_ieta_i epsilonlambda see multiphas modelsmultiphasewbmmd full deriv syntax paramet kernelsswitchingfunctionconstraintlagrang syntax input kernelsswitchingfunctionconstraintlagrang syntax children kernelsswitchingfunctionconstraintlagrang antitrappingcurr syntax descript kernelsantitrappingcurr implement antitrap current term correspond alloy solidif citeplapp_unified_ weak form beginequ left fuvabdot fracnabla vnabla v fracparti vpartial nabla psi right endequ f f_name functionmaterialfunctionmaterialsmd provid deriv u variabl kernel act v v coupl variabl time deriv taken b dot arg argument suscept function f contribut offdiagon jacobian entri psi test function fracnabla vnabla v repres unit normal interfac see also coupledsusceptibilitytimederivativecoupledsusceptibilitytimederivativemd syntax paramet kernelsantitrappingcurr syntax input kernelsantitrappingcurr syntax children kernelsantitrappingcurr bibtex bibliographi templat load filestubsmoose_objectmdtempl namechsplitconcentr syntaxkernelschsplitconcentr soretdiffus syntax descript kernelssoretdiffus implement weak form equat leftfracdcdot qcdot ck_bcdot nabla cdotnabla psiright c concentr variabl kernel oper q heat transport diffus use togeth splitchwressplitchwresmd splitchparsedsplitchparsedmd coupledtimederivativecoupledtimederivativemd set system two first order pde use concentr order paramet chemic potenti variabl syntax paramet kernelssoretdiffus syntax input kernelssoretdiffus syntax children kernelssoretdiffus bibtex bibliographi splitchpars syntax descript kernelssplitchpars implement weak form beginequ fracparti fpartial c psi mupsi kappanabla cnablapsi endequ c concentr variabl kernel oper f free energi materi properti accompani deriv properti mu chemic potenti variabl kappa gradient energi coeffici use togeth splitchwressplitchwresmd coupledtimederivativecoupledtimederivativemd set system two first order pde use concentr order paramet chemic potenti variabl syntax paramet kernelssplitchpars syntax input kernelssplitchpars syntax children kernelssplitchpars bibtex bibliographi acswitch syntax descript kernelsacswitch implement term form beginequ fracparti h_apartialeta_ai f_a fracparti h_bpartialeta_ai f_b dot endequ abdot phase h_a h_bdot switch function eta_ai order paramet phasegrain nonlinear variabl f_a f_bdot free energi grand potenti syntax paramet kernelsacswitch syntax input kernelsacswitch syntax children kernelsacswitch bibtex bibliographi splitchwr syntax descript kernelssplitchwr kernel implement weak form beginequ nabla u nablapsi endequ revers split cahnhilliard equat kernel variabl u chemic potenti mob_nam scalar mobil use togeth splitchparsedsplitchparsedmd coupledtimederivativecoupledtimederivativemd set system two first order pde use concentr order paramet chemic potenti variabl offdiagon onsag matrix term contain offdiagon compon onsag phenomenolog transport coeffici model drive forc result coupl order paramet term implement use kernel specifi differ coupl chemic potenti variabl w kernel variabl use w paramet beginequ nabla w nablapsi endequ strong form coupl system two variabl c_ c_ would beginequ beginalign fracparti c_partial nablacdot m_ nabla fracdelta fdelta c_ nablacdot m_ nabla fracdelta fdelta c_ fracparti c_partial nablacdot m_ nabla fracdelta fdelta c_ nablacdot m_ nabla fracdelta fdelta c_ endalign endequ moos implement would list modulesphase_fieldtesttestsphase_field_kernelssplitchwresi blockkernel implement anisotrop tensori mobil see splitchwresanisosplitchwresanisomd syntax paramet kernelssplitchwr syntax input kernelssplitchwr syntax children kernelssplitchwr bibtex bibliographi acgrgrpoli syntax descript kernelsacgrgrpoli kernel implement bulk part grain growth model citemoelans_quantitative_ allencahn equat beginequ leftlmueta_ieta_igammaeta_isum_jneq ieta_jpsiright endequ l mobil eta_i kernel variabl eta_j order paramet mu gamma model paramet contribut grain boundari energi sigma beginequ sigma ggammasqrtkappamu endequ kappa gradient energi coeffici acinterfaceacinterfacemd g function need numer determin see citemoelans_quantitative_ detail kappa_ij gamma_ij could defin specif grain boundari grain pair provid gbanisotropygbanisotropymd materi automat differenti version kernel implement adgraingrowthadgraingrowthmd syntax paramet kernelsacgrgrpoli syntax input kernelsacgrgrpoli syntax children kernelsacgrgrpoli bibtex bibliographi laplaciansplit syntax descript kernelslaplaciansplit implement weak form residu beginequ leftnabla cnablapsiright endequ strong form beginequ nablac endequ use togeth reactionreactionmd kernel u allow construct split formul beginequ unablac endequ u substitut reduc order pde syntax paramet kernelslaplaciansplit syntax input kernelslaplaciansplit syntax children kernelslaplaciansplit maskedexponenti syntax descript kernelsmaskedexponenti kernel implement term variationallyderiv equival form poisson equat electrochem grand potenti sinter model dilut solut energet repres contribut vacanc speci state charg z weak form term beginequ h_p z e n_vi eq exp left fracmu_i zevkt right endequ h_p switch function phase p valu phase p outsid phase z state charg vacanc e fundament electron charg n_vi eq equilibrium vacanc concentr speci mu_i chemic potenti speci v electr potenti k boltzmann constant temperatur k syntax paramet kernelsmaskedexponenti syntax input kernelsmaskedexponenti syntax children kernelsmaskedexponenti bibtex bibliographi acinterfacedmultiphas syntax descript kernelsacinterfacedmultiphas implement allencahn term frackappa sum nabla eta_alpha gradient energi contribut isotrop mobil case weak form beginequ left kappa nabla eta_alpha nabla l psi right endequ kappa_i kappa_nam gradient energi coeffic eta_i nonconserv nonlinear order paramet variabl kernel act l mob_nam scalar isotrop mobil associ order paramet psi test function assum kappa function nabla eta_alpha nabla eta_betatherefor kappa depend multipl order paramet syntax paramet kernelsacinterfacedmultiphas syntax input kernelsacinterfacedmultiphas syntax children kernelsacinterfacedmultiphas acgrgrmulti syntax descript kernelsacgrgrmulti implement term beginequ l mu left eta_alpha eta_alpha eta_alpha sum_betan sum_j alpha neq beta jp_beta gamma_alpha beta j eta_beta j right endequ multiphas multigrain grand potenti model paramet mu hardcod materi properti name mu gamma gamma_nam calcul use grandpotentialinterfacegrandpotentialinterfacemd materi l mob_nam interfaci mobil eta_alpha variabl kernel variabl eta_beta j v coupl phase grain order paramet l function materialfunctionmaterialsmd depend nonlinear variabl list v list arg syntax paramet kernelsacgrgrmulti syntax input kernelsacgrgrmulti syntax children kernelsacgrgrmulti bibtex bibliographi adgraingrowth syntax descript kernelsadgraingrowth adgraingrowth automat differenti version acgrgrpolyacgrgrpolymd kernel activ graingrowthactiongraingrowthactionmd use_automatic_differenti paramet kernel implement bulk part grain growth model citemoelans_quantitative_ allencahn equat beginequ leftlmueta_ieta_igammaeta_isum_jneq ieta_jpsiright endequ l mobil eta_i kernel variabl eta_j order paramet mu gamma model paramet contribut grain boundari energi sigma beginequ sigma ggammasqrtkappamu endequ kappa gradient energi coeffici adacinterfaceadacinterfacemd g function need numer determin see citemoelans_quantitative_ detail kappa_ij gamma_ij could defin specif grain boundari grain pair provid gbanisotropygbanisotropymd materi syntax paramet kernelsadgraingrowth syntax input kernelsadgraingrowth syntax children kernelsadgraingrowth bibtex bibliographi coupledallencahn syntax descript kernelscoupledallencahn implement term beginequ letaabdotsfracdelta fdeltaeta letaabdotsfracparti fetaabdotspartialeta endequ f free energi function system defin fint feta domega eta v coupl nonconserv order paramet l mob_nam associ mobil f f_name free energi densiti provid function materialintroductionfunctionmateri abdot arg addit variabl depend mobil free energi densiti see also common case eta variabl kernel act see allencahnallencahnmd syntax paramet kernelscoupledallencahn syntax input kernelscoupledallencahn syntax children kernelscoupledallencahn acinterfacekobayashi syntax descript kernelsacinterfacekobayashi kernel interfaci energi anisotropi allencahn equat implement r kobayashi citekobayashi kernel implement third term right side eq paper syntax paramet kernelsacinterfacekobayashi syntax input kernelsacinterfacekobayashi syntax children kernelsacinterfacekobayashi bibtex bibliographi alert note kernel part set simplifi phase field kernel creat educ purpos kernel use simplifi formul limit prohibit spatial vari mobil gradient energi sourc code kernel kept simpl without use advanc c featur adchsplitconcentr syntax descript kernelsadchsplitconcentr use automat differenti solv cahnhilliard equat use chemic potenti nonlinear variabl typic use adchsplitchemicalpotentialadchsplitchemicalpotentialmd combin adchsoretmobilityadchsoretmobilitymd incorpor effect thermodiffus syntax paramet kernelsadchsplitconcentr syntax input kernelsadchsplitconcentr syntax children kernelsadchsplitconcentr susceptibilitytimederiv syntax descript kernelssusceptibilitytimederiv implement beginequ fuabdotscdotfracparti uparti endequ f f_name functionmaterialfunctionmaterialsmd provid deriv exampl defin use derivativeparsedmaterialderivativeparsedmaterialmd u kernel variabl time deriv taken b dot arg argument suscept function f contribut offdiagon jacobian entri see also timederivativetimederivativemd syntax paramet kernelssusceptibilitytimederiv syntax input kernelssusceptibilitytimederiv syntax children kernelssusceptibilitytimederiv adsplitchpars syntax descript kernelsadsplitchpars implement weak form beginequ fracparti fpartial c psi mupsi kappanabla cnablapsi endequ c concentr variabl kernel oper f free energi materi properti accompani deriv properti mu chemic potenti variabl kappa gradient energi coeffici use togeth adsplitchwresadsplitchwresmd adcoupledtimederivativeadcoupledtimederivativemd set system two first order pde use concentr order paramet chemic potenti variabl syntax paramet kernelsadsplitchpars syntax input kernelsadsplitchpars syntax children kernelsadsplitchpars bibtex bibliographi coupledsusceptibilitytimederiv syntax descript kernelscoupledsusceptibilitytimederiv implement beginequ fuvabdotscdotfracparti vpartial endequ f f_name functionmaterialfunctionmaterialsmd provid deriv exampl defin use derivativeparsedmaterialderivativeparsedmaterialmd u variabl kernel act v v coupl variabl time deriv taken b dot arg argument suscept function f contribut offdiagon jacobian entri see also coupledtimederivativecoupledtimederivativemd syntax paramet kernelscoupledsusceptibilitytimederiv syntax input kernelscoupledsusceptibilitytimederiv syntax children kernelscoupledsusceptibilitytimederiv matanisodiffus syntax descript kernelsmatanisodiffus anisotrop version matdiffusionmatdiffusionmd expect tensor valu diffus coeffici diffus syntax paramet kernelsmatanisodiffus syntax input kernelsmatanisodiffus syntax children kernelsmatanisodiffus chinterfac syntax descript kernelschinterfac implement cahnhilliard term frackappa_inabla c_i gradient energi contribut isotrop mobil case weak form beginequ left kappa_i nabla c_i nabla cdot m_i nabla psi_m right endequ kappa_i kappa_nam gradient energi coeffic c_i conserv nonlinear order paramet variabl kernel act m_i mob_nam scalar isotrop mobil associ order paramet psi_m test function see also anisotrop version kernel see chinterfaceanisochinterfaceanisomd expect tensor valu mobil syntax paramet kernelschinterfac syntax input kernelschinterfac syntax children kernelschinterfac chbulkpfctrad syntax descript kernelschbulkpfctrad cahnhilliard kernel implement free energi densiti beginequ f fracccdotc_fracacfracbc endequ c pfc densiti coeffici c_ab provid pfctradmaterialpfctradmaterialmd syntax paramet kernelschbulkpfctrad syntax input kernelschbulkpfctrad syntax children kernelschbulkpfctrad switchingfunctionpenalti syntax descript kernelsswitchingfunctionpenalti penalti ad form free energi term equat f_pgamma kvec eta gamma penalti prefactor penalti k sum_ieta_i constraint constraint enforc approxim toler fracgamma depend shape unit free energi also see multiphas modelsmultiphasewbmmd syntax paramet kernelsswitchingfunctionpenalti syntax input kernelsswitchingfunctionpenalti syntax children kernelsswitchingfunctionpenalti langevinnois syntax descript kernelslangevinnois add uniform nois sourc term weak form beginequ chialpha pvec rpsi endequ chi random number dot alpha amplitud constant amplitud factor pvec r multipli materi properti use locat depend mask sourc term alert warn kernel produc parallel reproduc result parallel reproduc random nois system see conservedlangevinnoiseconservedlangevinnoisemd syntax paramet kernelslangevinnois syntax input kernelslangevinnois syntax children kernelslangevinnois gradientcompon syntax descript kernelsgradientcompon implement weak form residu beginequ u nabla_alpha v psi endequ u kernel variabl alpha compon coordin system direct v coupl variabl term effect set valu kernel variabl valu select compon gradient coupl variabl syntax paramet kernelsgradientcompon syntax input kernelsgradientcompon syntax children kernelsgradientcompon allencahn syntax descript kernelsallencahn beginequ letaabdotsfracparti f_bulketaabdotspartialeta endequ eta variabl kernel act l mob_nam associ mobil f_bulk f_name bulk free energi densiti system provid function materialintroductionfunctionmateri abdot arg addit variabl depend mobil free energi densiti nabla eta depend term free energi function system aris gradient interfac energi handl separ acinterfaceacinterfacemd kernel syntax paramet kernelsallencahn syntax input kernelsallencahn syntax children kernelsallencahn discretenucleationmark syntax descript adaptivitymarkersdiscretenucleationmark discretenucleationmark trigger mesh refin nucleu geometri user specifi refin physic nucleat system marker physic marker must combin use combomarkercombomarkermd combin effect discretenucleationmark part discret nucleat systemnucleationdiscretenucleationmd syntax paramet adaptivitymarkersdiscretenucleationmark syntax input adaptivitymarkersdiscretenucleationmark syntax children adaptivitymarkersdiscretenucleationmark bibtex bibliographi templat load filestubsmoose_actionmdtempl namepfcrffvariablesact syntaxvariablespfcrffvariablespfcrffvariablesactiontempl load filestubsmoose_actionmdtempl namepolycrystalcoloringicact syntaxicspolycrystalicspolycrystalcoloringicpolycrystalcoloringicact grandpotentialkernelact syntax descript modulesphasefieldgrandpotentialgrandpotentialkernelact inform grand potenti model see citeplapp_unified_ citemoelans_quantitative_ follow kernel gener chemic potenti variabl susceptibilitytimederivativesusceptibilitytimederivativemd matdiffusionmatdiffusionmd matanisodiffusionmatanisodiffusionmd coupledswitchingtimederivativecoupledswitchingtimederivativemd multipl kernel one correspond order paramet follow kernel gener order paramet timederivativetimederivativemd acinterfaceacinterfacemd acswitchingacswitchingmd acgrgrmultiacgrgrmultimd addit kernel need applic enter manual input file larg number input action categor four basic group global input appli throughout kernel switching_function_nam vector name switch function use distinguish phase use_displacesd_mesh standard option kernel appli kernel gener implicit standard option kernel appli kernel gener chemic potenti function defin behavior chemic potenti variabl chemical_potenti vector name chemic potenti variabl suscept vector name suscept chi vector length chemical_potenti entri vector correspond entri chemical_potenti mobil vector mobilitieseith scalar tensorsthat correspond chemical_potenti variabl entri consist diffus multipli suscept anisotrop entri tensor set true free_energies_w vector densiti function determin densiti correspond chemical_potenti total number entri number chemic potenti time number switch function primari set order paramet function input affect group autogener variabl use polycrystalvar action typic repres grain polycryst system op_num number order paramet autogener variabl block var_name_bas name order paramet autogener variabl block free_energies_gr vector chemic potenti densiti function use set order paramet entri correspond phase entri switching_function_nam mobility_name_gr name scalar mobil use set order paramet energy_barrier_gr name energi barrier coeffici citemoelans_quantitative_ use set order paramet gamma_gr name gamma coeffici use set order paramet control interfac energi order paramet kappa_gr name kappa coeffici use set order paramet second set order paramet function option set includ addit order paramet distinguish phase field associ first set order paramet additional_op vector addit order paramet use model option free_energies_op vector chemic potenti densiti function use set order paramet entri correspond phase entri switching_function_nam mobility_name_op name scalar mobil use set order paramet additional_op blank valu other call valu matter energy_barrier_op name energi barrier coeffici use set order paramet gamma_op name gamma coeffici use set order paramet control interfac energi order paramet gamma_grxop cross term gamma coeffici control interfac energi primari second set order paramet kappa_op name kappa coeffici use set order paramet syntax paramet modulesphasefieldgrandpotentialgrandpotentialkernelact exampl input file syntax list modulesphase_fieldtesttestsactionsgpm_kern startmodul endprecondit bibtex bibliographi templat load filestubsmoose_actionmdtempl namepfcrffkernelact syntaxkernelspfcrffkernelpfcrffkernelactiontempl load filestubsmoose_actionmdtempl namechpfcrffsplitkernelact syntaxkernelschpfcrffsplitkernelchpfcrffsplitkernelactiontempl load filestubsmoose_actionmdtempl namematvecrealgradauxkernelact syntaxauxkernelsmatvecrealgradauxkernelmatvecrealgradauxkernelactiontempl load filestubsmoose_actionmdtempl nameeuleranglergbact syntaxmodulesphasefieldeuleranglesrgbeuleranglergbactiontempl load filestubsmoose_actionmdtempl namepolycrystalstoredenergyact syntaxkernelspolycrystalstoredenergypolycrystalstoredenergyactiontempl load filestubsmoose_actionmdtempl namehhpfcrffsplitkernelact syntaxkernelshhpfcrffsplitkernelhhpfcrffsplitkernelactiontempl load filestubsmoose_actionmdtempl namehhpfcrffsplitvariablesact syntaxvariableshhpfcrffsplitvariableshhpfcrffsplitvariablesactiontempl load filestubsmoose_actionmdtempl namedisplacementgradientsact syntaxmodulesphasefielddisplacementgradientsdisplacementgradientsactiontempl load filestubsmoose_actionmdtempl namepolycrystalrandomicact syntaxicspolycrystalicspolycrystalrandomicpolycrystalrandomicactiontempl load filestubsmoose_actionmdtempl namepolycrystalkernelact syntaxkernelspolycrystalkernelpolycrystalkernelactiontempl load filestubsmoose_actionmdtempl namerigidbodymultikernelact syntaxkernelsrigidbodymultikernelrigidbodymultikernelact conservedact syntax descript modulesphasefieldconservedconservedact action simplifi input file syntax creat conserv phase field variabl phase field modul creat variabl kernel need solv conserv variabl three solv approach solve_typ support direct reverse_split forward_split variabl approach name conserv variabl block name direct direct solv second order spatial deriv term chinterfacechinterfacemd residu therefor requir higher order element reason variabl alway creat thirdord hermit matter famili order pass action reverse_split reverse_split add two variabl add conserv variabl coupl variabl store chemic potenti variabl famili order forward_split forward_split add two variabl add conserv variabl coupl variabl store laplacian conserv variabl variabl famili order kernel kernel ad depend solut approach direct timederivativetimederivativemd cahnhilliardcahnhilliardmd chinterfacechinterfacemd reverse_split conserv variabl coupledtimederivativecoupledtimederivativemd coupl variabl splitchwressplitchwr splitchparsedsplitchpars forward_split conserv variabl timederivativetimederivativemd matdiffusionmatdiffusionmd coupl variabl matdiffusionmatdiffusionmd coupledmaterialderivativecoupledmaterialderivativemd coefreactioncoefreactionmd syntax paramet modulesphasefieldconservedconservedact templat load filestubsmoose_actionmdtempl namemultiauxvariablesact syntaxauxvariablesmultiauxvariablesmultiauxvariablesactiontempl load filestubsmoose_actionmdtempl namepolycrystalelasticdrivingforceact syntaxkernelspolycrystalelasticdrivingforcepolycrystalelasticdrivingforceactiontempl load filestubsmoose_actionmdtempl namematerialvectorgradauxkernelact syntaxauxkernelsmaterialvectorgradauxkernelmaterialvectorgradauxkernelact nonconservedact syntax descript modulesphasefieldnonconservednonconservedact action simplifi input file syntax creat nonconserv phase field variabl phase field modul creat variabl requir kernel need solv nonconserv variabl variabl name nonconserv variabl block name kernel kernel ad timederivativetimederivativemd allencahnallencahnmd acinterfaceacinterfacemd syntax paramet modulesphasefieldnonconservednonconservedact templat load filestubsmoose_actionmdtempl namegraingrowthact syntaxmodulesphasefieldgraingrowthgraingrowthactiontempl load filestubsmoose_actionmdtempl namebicrystalboundingboxicact syntaxicspolycrystalicsbicrystalboundingboxicbicrystalboundingboxicactiontempl load filestubsmoose_actionmdtempl namepolycrystalvoronoivoidicact syntaxicspolycrystalicspolycrystalvoronoivoidicpolycrystalvoronoivoidicactiontempl load filestubsmoose_actionmdtempl namematerialvectorauxkernelact syntaxauxkernelsmaterialvectorauxkernelmaterialvectorauxkernelactiontempl load filestubsmoose_actionmdtempl nametricrystalcirclegrainsicact syntaxicspolycrystalicstricrystalcirclegrainsictricrystalcirclegrainsicactiontempl load filestubsmoose_actionmdtempl namebicrystalcirclegrainicact syntaxicspolycrystalicsbicrystalcirclegrainicbicrystalcirclegrainicactiontempl load filestubsmoose_actionmdtempl namepolycrystalvariablesact syntaxvariablespolycrystalvariablespolycrystalvariablesactiontempl load filestubsmoose_actionmdtempl namechpfcrffsplitvariablesact syntaxvariableschpfcrffsplitvariableschpfcrffsplitvariablesact conservednormalnois syntax descript userobjectsconservednormalnois see also conservedlangevinnoiseconservedlangevinnoisemd fluctuat base nucleationnucleationlangevinnoisemd syntax paramet userobjectsconservednormalnois syntax input userobjectsconservednormalnois syntax children userobjectsconservednormalnois polycrystalebsd polycrystalebsd use ebsdread object util algorithm polycryst initi conditionsicspolycrystalicsmd gener reduc order paramet model electron backscatt data inform capabl found ebsdicsebsdmd object descript descript syntax syntax descript postprocessorspolycrystalebsd syntax paramet postprocessorspolycrystalebsd syntax input postprocessorspolycrystalebsd syntax children postprocessorspolycrystalebsd templat load filestubsmoose_objectmdtempl namemaskedgrainforceandtorqu syntaxuserobjectsmaskedgrainforceandtorqu conservedmaskeduniformnois syntax descript userobjectsconservedmaskeduniformnois see also conservedlangevinnoiseconservedlangevinnoisemd fluctuat base nucleationnucleationlangevinnoisemd syntax paramet userobjectsconservedmaskeduniformnois syntax input userobjectsconservedmaskeduniformnois syntax children userobjectsconservedmaskeduniformnois polycrystalhex polycrystalhex object gener set point space hexagon pattern gener result voronoi tessel number grain must choosen sqrtdimn root integ furthermor suitabl number must chosen support mesh resolut grain boundari width grain structur gener color algorithm use assign order paramet grain reduc number order paramet may use typic number given tabl styleborderpx solid blackwidthpx dimens recommend op see polycryst initi conditionsicspolycrystalicsmd inform typic usag input file list modulesphase_fieldexamplesgrain_growthgrain_growth_d_graintrackeri blockuserobject linkfals list modulesphase_fieldexamplesgrain_growthgrain_growth_d_graintrackeri blockic descript syntax polycrystalhex syntax descript postprocessorspolycrystalhex syntax paramet postprocessorspolycrystalhex syntax input postprocessorspolycrystalhex syntax children postprocessorspolycrystalhex polycrystalcircl polycrystalcircl gener sever touch circl particl center radii either input file separ file object use gener ic suitabl sinter simul particl assign order paramet reduc set see polycryst initi conditionsicspolycrystalicsmd inform descript syntax syntax descript postprocessorspolycrystalcircl syntax paramet postprocessorspolycrystalcircl syntax input postprocessorspolycrystalcircl syntax children postprocessorspolycrystalcircl discretenucleationinsert syntax descript userobjectsdiscretenucleationinsert insert manag global list current activ nucleu stabil site insert object keep track chang nucleu list occur current timestep user object take two requir paramet hold_tim durat time stabil site remain activ probabl materi properti contain nucleat rate densiti materi properti calcul use classic nucleat theori exampl addit user option specifi whether nuclei fix radiu insert whether radiu vari base intern calcul constant radiu suppli via input file radiu paramet variabl radiu use provid materi properti name radiu default name provid final paramet time_dependent_statist boolean default true paramet indic whether timedepend nucleat statist use default true indic timedepend statist use ie nucleat probabl depend time step size valu fals indic timeindepend nucleat statist might use situat physic drive nucleu format occur much faster time scale physic microstructur evolut exampl grain boundari motion recrystal much slower disloc motion organ cell nuclei new grain result timeindepend statist appli discretenucleationinsert part discret nucleat systemnucleationdiscretenucleationmd syntax paramet userobjectsdiscretenucleationinsert syntax input userobjectsdiscretenucleationinsert syntax children userobjectsdiscretenucleationinsert templat load filestubsmoose_objectmdtempl namegrainforceandtorquesum syntaxuserobjectsgrainforceandtorquesum discretenucleationfromfil syntax descript userobjectsdiscretenucleationfromfil insert use verif test case instead stochast nucleu insert via probabl calcul discretenucleationinserterdiscretenucleationinsertermd object read csv file column nucleu insert time time coordin insert point x z nuclei insert fix radiu variabl radiu paramet radiu must greater specifi fix radiu use radiu fix addit column must suppli csv file column suppli time x z r note radiu suppli csv file overridden suppli valu radiu discretenucleationfromfil part discret nucleat systemnucleationdiscretenucleationmd syntax paramet userobjectsdiscretenucleationfromfil syntax input userobjectsdiscretenucleationfromfil syntax children userobjectsdiscretenucleationfromfil templat load filestubsmoose_objectmdtempl nameconstantgrainforceandtorqu syntaxuserobjectsconstantgrainforceandtorquetempl load filestubsmoose_objectmdtempl namerandomeulerangleprovid syntaxuserobjectsrandomeulerangleprovid solutionraster syntax descript userobjectssolutionraster mesoscal microstructur simul use phase field method util gener initi structur larg sacl molecular dynam simul one applic construct nanofoam atomist sampl simul spinod decomposit media mediaphase_fieldsolutionrasterizerpng stylewidthpaddingleftpxfloatright captionnano foam atomist configur gener use solutionraster moos provid built system templat atom coordin file xyz format simul result given mesh file workflow follow set phase field simul output finit element mesh file creat bulk xyz input file desir underli lattic crystal structur use minim input file shown load mesh xyz input moos load xyz input finit element mesh superpos use threshold carv _rejected_ atom retain _accepted_ atom final new xyz output written contain _accepted_ atom gener porou microstructur solutionraster user object deriv solutionuserobjectwikimoosesystemsuserobjectssolutionuserobject inherit input paramet take follow addit input paramet input paramet descript xyz_input xyz file input file input file contain atomist simul cell complet fill atom chosen crystal structur polycrystallin sampl suppli xyz_output output file contain filter map atom coordin file raster_mod filter filter mode solutionraster use threshold specifi nonlinear variabl reject accept atom input file pass output xyz file raster_mod map map mode solutionraster take atom input file add addit column data set contain valu specifi nonlinear variabl threshold valu select nonlinear variabl use filter mode use _accept_ _reject_ atom xyz_input file minim work input file follow input execut moos phase field modul execut load mesh file diffuse_out load atom coordin file inxyz accept atom coordin valu nonlinear variabl c valu write atom coordin file outxyz list modulesphase_fieldtesttestssolution_rasterizerrasteri syntax paramet userobjectssolutionraster syntax input userobjectssolutionraster syntax children userobjectssolutionraster templat load filestubsmoose_objectmdtempl namecomputegrainforceandtorqu syntaxuserobjectscomputegrainforceandtorqu conserveduniformnois syntax descript userobjectsconserveduniformnois see also conservedlangevinnoiseconservedlangevinnoisemd fluctuat base nucleationnucleationlangevinnoisemd syntax paramet userobjectsconserveduniformnois syntax input userobjectsconserveduniformnois syntax children userobjectsconserveduniformnois discretenucleationmap syntax descript userobjectsdiscretenucleationmap map object build smooth map nucleat site simul domain expand time x z radiu descript discretenucleationinserterdiscretenucleationinsertermd descript nucleat site finit size smooth interfac object take two paramet period variabl take period inform simul domain insert discretenucleationinsert object maintain nucleu list map object updat map timestep nucleu list chang discretenucleationmap part discret nucleat systemnucleationdiscretenucleationmd syntax paramet userobjectsdiscretenucleationmap syntax input userobjectsdiscretenucleationmap syntax children userobjectsdiscretenucleationmap polycrystalvoronoi polycrystalvoronoi userobject either gener set random point read set grain centroid file perform voronoi tesslat produc grain structur number grain may set user suitabl number must chosen support mesh resolut grain boundari width grain structur gener color algorithm use assign order paramet grain reduc number order paramet may use typic number given dimens recommend op see polycryst initi conditionsicspolycrystalicsmd inform typic usag input file list modulesphase_fieldexamplesgrain_growthgrain_growth_d_graintrackeri blockuserobject linkfals list modulesphase_fieldexamplesgrain_growthgrain_growth_d_graintrackeri blockic descript syntax syntax descript postprocessorspolycrystalvoronoi syntax paramet postprocessorspolycrystalvoronoi syntax input postprocessorspolycrystalvoronoi syntax children postprocessorspolycrystalvoronoi templat load filestubsmoose_objectmdtempl nameeulerangleupdat syntaxuserobjectseulerangleupdat fauxpolycrystalvoronoi special case polycrystalvoronoipolycrystalvoronoimd number grain equal number order paramet case expens featurefloodcountpostprocessorsfeaturefloodcountmd avoid descript syntax syntax descript postprocessorsfauxpolycrystalvoronoi syntax paramet postprocessorsfauxpolycrystalvoronoi syntax input postprocessorsfauxpolycrystalvoronoi syntax children postprocessorsfauxpolycrystalvoronoi conservedmaskednormalnois syntax descript userobjectsconservedmaskednormalnois see also conservedlangevinnoiseconservedlangevinnoisemd fluctuat base nucleationnucleationlangevinnoisemd syntax paramet userobjectsconservedmaskednormalnois syntax input userobjectsconservedmaskednormalnois syntax children userobjectsconservedmaskednormalnois templat load filestubsmoose_objectmdtempl namecomputeexternalgrainforceandtorqu syntaxuserobjectscomputeexternalgrainforceandtorqu ebsdread syntax descript userobjectsebsdread ebsdread user object read data electron backscatt diffract ebsdhttpsenwikipediaorgwikielectron_backscatter_diffract set initi condit phase field simul ebsd identifi grain phase structur sampl well crystal structur crystal orient ebsdread read inform special format data file reconstruct microstructur accomplish set initi condit phase field variabl addit store crystal structur orient inform use phase field mechan model note ebsdread mesh microstructur rather set phase field variabl initi condit reconstruct mesh microstructur recommend use oofhttpwwwctcmsnistgovoof averag orient grain euler angl best repres orient grain suffer gimbal lock therefor use quaternion comput averag orient grain firstli euler angl convert quaternion next segreg quaternion differ bin paramet bin specifi number bin perform weight averag quaternion weight quaternion correspond size bin resid averag quaternion convert euler angl represent variou weight averag perform rais power weight correspond quaternion paramet l_norm allow us rais power weight accord posit integ assign default valu l_norm set comput simpl weight averag quaternion syntax paramet userobjectsebsdread ebsd data file format ebsdread user object read data file taken ebsd data file follow format header marmot input file date jul column euler angl phi radian column euler angl phi radian column euler angl phi radian column xcoordin micron column ycoordin micron column zcoordin micron column grain number integ column phase number integ column symmetri class tsl phase nickel symmetri class number grain phase x_min x_max x_step x_dim y_min y_max y_step y_dim z_min z_max z_step z_dim open sourc code dreamdhttpdreamdbluequartznet option output format use _write inl file_ filter note data must squar grid rather hex grid ebsdread support addit custom data column syntax input userobjectsebsdread syntax children userobjectsebsdread fouriernois syntax descript functionsfouriernois object gener fourier seri random coeffici s_vec k c_vec k amplitud factor sigma scale seri cut given length scale lambda lambda result low pass filter white nois effici lambda chosen larger smallest mesh element size beginequ sigma sum_vc k vec k frac lambda s_vec ksin vec rcdot vec k c_vec kco vec rcdot vec k endequ altern seri construct entir random set seri term specifi number term num_term result nonperiod nois syntax paramet functionsfouriernois syntax input functionsfouriernois syntax children functionsfouriernois bibtex bibliographi templat load filestubsmoose_objectmdtempl namegraintexturevectorpostprocessor syntaxvectorpostprocessorsgraintexturevectorpostprocessortempl load filestubsmoose_objectmdtempl namegrainforcespostprocessor syntaxvectorpostprocessorsgrainforcespostprocessor featurevolumevectorpostprocessor vectorpostprocessor design pull data featurefloodcountfeaturefloodcountmd one deriv class particular featurefloodcount object store inform connect compon discov volum whether compon intersect boundari variabl number vpp use graintrack deriv object row number repres uniqu identifi featur valu stabl time step mean row number would alway repres grain id zerobas index also mean inform inact grain output ignor inact grain identifi var_num use vpp featurefloodcount object impli order featur var_num index coupl variabl repres featur n feature_volum volum featur comput integr solut element repres featur intersects_bound boolean indic whether featur intersect boundari centroid_x z option coordin featur centroid current support period boundari use typic output list grain_tracker_volume_out_grain_volumes_csv centroid output vectorposptrocessor also output centroid inform simul use period boundari condit enabl centroid output add output_centroid true vpp block input file usag use vpp simpli need specifi name featurefloodcount deriv object input file list grain_tracker_volumei blockvectorpostprocessor advanc paramet single_feature_per_el paramet crude attempt total volum conserv set boolean true volum everi element ad domin featur manner loss element one featur result addit element anoth featur loss volum grain boundari anyth els use assumpt class descript syntax descript vectorpostprocessorsfeaturevolumevectorpostprocessor syntax paramet vectorpostprocessorsfeaturevolumevectorpostprocessor syntax input vectorpostprocessorsfeaturevolumevectorpostprocessor syntax children vectorpostprocessorsfeaturevolumevectorpostprocessor bibtex bibliographi templat load filestubsmoose_objectmdtempl nameeulerangleupdatercheck syntaxvectorpostprocessorseulerangleupdatercheck ebsdmeshgener syntax descript meshebsdmeshgener mesh gener ebsd inform get optim reconstruct data accomplish mesh block use ebsdmeshgener type data file use ebsd reader use ebsdread userobject mesh creat one node per data point ebsd data file wish use mesh adapt allow mesh get coarser simul parammeshuniform_refin paramet use set mani time mesh coarsen work number element along _each_ dimens divis u u valu parammeshebsdmeshgeneratoruniform_refin paramet alert warn titleuniform_refin paramet contrari mesh object parammeshebsdmeshgeneratoruniform_refin paramet affect resolut final mesh set level coarsen appli ebsd data syntax paramet meshebsdmeshgener syntax input meshebsdmeshgener syntax children meshebsdmeshgener spheresurfacemeshgener syntax descript meshspheresurfacemeshgener object gener mesh approxim surfac sphere space use tri triangl element center radiu sphere may specifi media phase_fieldspheregif stylewidthmarginleftpxfloatright captiontarget mesh refin prior nucleu insert mesh construct iter refin initi icosahedron depth number step specifi use depth paramet refin step node snap sphere surfac defin radiu center refin step multipli number mesh element factor four syntax paramet meshspheresurfacemeshgener syntax input meshspheresurfacemeshgener syntax children meshspheresurfacemeshgener bibtex bibliographi polycrystaldiffusivitytensorbas polycrystaldiffusivitytensorbas materi build diffus tensor distinguish bulk grain boundari free surfac thu allow differ diffus rate region bulk diffus calcul use standard arrheniu equat d_b d_ expleftfrace_mk_b tright grain boundari bulk diffus approxim multipl bulk diffus d_gb w_gbd_b d_ w_ d_b diffus tensor calcul use calcul mobil tensor model syntax descript materialspolycrystaldiffusivitytensorbas syntax paramet materialspolycrystaldiffusivitytensorbas syntax input materialspolycrystaldiffusivitytensorbas syntax children materialspolycrystaldiffusivitytensorbas bibtex bibliographi templat load filestubsmoose_objectmdtempl namegbanisotropi syntaxmaterialsgbanisotropytempl load filestubsmoose_objectmdtempl nameforcedensitymateri syntaxmaterialsforcedensitymaterialtempl load filestubsmoose_objectmdtempl namecomputepolycrystalelasticitytensor syntaxmaterialscomputepolycrystalelasticitytensortempl load filestubsmoose_objectmdtempl namepolynomialfreeenergi syntaxmaterialspolynomialfreeenergi coupledvaluefunctionfreeenergi syntax descript materialscoupledvaluefunctionfreeenergi coupledvaluefunctionfreeenergi evalu moos function set four coupl variabl valu v input paramet coupl variabl valu substitut xyz function variabl order function free energi option chemic potenti coupl variabl suppli deriv chemic potenti comput automat use gradient timederiv method moosefunct class one exampl applic use piecewisemultilinearpiecewisemultilinearmd function data file contain pretabul gibb energi chemic potenti function four primari variabl valu syntax paramet materialscoupledvaluefunctionfreeenergi syntax input materialscoupledvaluefunctionfreeenergi syntax children materialscoupledvaluefunctionfreeenergi templat load filestubsmoose_objectmdtempl namegbwidthanisotropi syntaxmaterialsgbwidthanisotropytempl load filestubsmoose_objectmdtempl namepfctradmateri syntaxmaterialspfctradmaterialtempl load filestubsmoose_objectmdtempl namedeformedgrainmateri syntaxmaterialsdeformedgrainmateri mathebfreeenergi syntax descript materialsmathebfreeenergi implement bulk free free energi densiti equat f_textbulkc fraccc use expressionbuilderexpressionbuildermd system c c coupl concentr minima free energi densiti lie c c see also splitchmathsplitchmathmd syntax paramet materialsmathebfreeenergi syntax input materialsmathebfreeenergi syntax children materialsmathebfreeenergi templat load filestubsmoose_objectmdtempl namethirdphasesuppressionmateri syntaxmaterialsthirdphasesuppressionmaterialtempl load filestubsmoose_objectmdtempl nameexternalforcedensitymateri syntaxmaterialsexternalforcedensitymateri derivativetwophasemateri syntax descript materialsderivativetwophasemateri simplifi twophas model use singl order paramet switch two phase global free energi construct use meta materi class combin phase free energi two phase model derivativetwophasemateri use combin two phase free energi global free energi allencahnallencahnmd cahnhilliardcahnhilliardmd kernel use evolv system beginequ f lefthetaright f_a hetaf_b wgeta endequ syntax paramet materialsderivativetwophasemateri syntax input materialsderivativetwophasemateri note phase free energi usual singl well charact global free energi landscap howev doubl well charact exampl syntax children materialsderivativetwophasemateri electrochemicaldefectmateri electrochemicaldefectmateri defin suscept chi defect densiti ns nv solid void phase defect speci electrochem sinter model one instanti materi must includ defect speci materi properti model calcul electrochemicalsinteringmateri also must includ two energi model use solid phase parabol f_ frack_sc_sc_seq dilut f_ frace_fv_afrack_btv_ac ln c c void phase use parabol free energi also contribut grand potenti electr potenti form frac epsilon nabla v equilibrium solidphas vacanc concentr defect speci determin separ materi need suppli one done maxim flexibl sinter model includ effect gb vacanc segreg stoichiometri effect syntax paramet materialselectrochemicaldefectmateri syntax input materialselectrochemicaldefectmateri syntax children materialselectrochemicaldefectmateri bibtex bibliographi grandpotentialinterfac syntax descript materialsgrandpotentialinterfac multiphas grand potenti model parameter use bulk free energi coeffici mu gradient interfac coeffici kappa set interfac pair coeffici gamma_alpha beta j citeaagesengp note model multi phase poli crystal model indic alpha beta repres phase j repres grain materi class provid mention paramet calcul use physic paramet free energi area densiti sigma_alpha beta j sigma interfac pair phase interfac width l width comput paramet first either median sigma_alpha beta j chosen suppli user sigma_alpha beta j entri index sigma_index chosen overrid median comput chosen sigma_alpha beta j assign valu gamma_alpha beta j gamma valu set analyt expess hold beginequ beginalign kappa frac sigma_alpha beta j l_alpha beta j mu frac sigma_alpha beta j l_alpha beta j endalign endequ alert note titleinterfac width note interfac l width guarante interfac either median sigma_alpha beta j provid index suppli sigma_index interfac width function respect interfaci free energi kappa mu determin remain gamma_alpha beta j comput use fit relat citemoelansweb beginequ beginalign g_alpha beta j fracsigma_alpha beta jsqrtmukappa gamma_alpha beta j left g_alpha beta j g_alpha beta j g_alpha beta j g_alpha beta j right endalign endequ materi properti provid class directli use acgrgrmultiacgrgrmultimd acinterfaceacinterfacemd object indirectli use grandpotentialkernelactionactiongrandpotentialkernelactionmd syntax paramet materialsgrandpotentialinterfac syntax input materialsgrandpotentialinterfac syntax children materialsgrandpotentialinterfac bibtex bibliographi templat load filestubsmoose_objectmdtempl nameconstantanisotropicmobl syntaxmaterialsconstantanisotropicmobilitytempl load filestubsmoose_objectmdtempl namegbevolut syntaxmaterialsgbevolutiontempl load filestubsmoose_objectmdtempl nameasymmetriccrosstermbarrierfunctionmateri syntaxmaterialsasymmetriccrosstermbarrierfunctionmateri crosstermbarrierfunctionmateri syntax descript materialscrosstermbarrierfunctionmateri materi provid function gveceta parameter phase order paramet eta calcul phase transform barrier energi contain contribut pair order paramet g_order paramet set simpl function defin beginequ gveceta sum_isum_ji w_ij eta_ieta_j endequ g_order paramet set low defin beginequ gveceta sum_isum_ji w_ij eta_ieta_j endequ w_ij matrix coeffici pair term syntax paramet materialscrosstermbarrierfunctionmateri syntax input materialscrosstermbarrierfunctionmateri syntax children materialscrosstermbarrierfunctionmateri electrochemicalsinteringmateri defin switch function thermodynam paramet electrochem grand potenti sinter model model arbitrari number charg defect speci exist electrochemicalsinteringmateri defin switch function void solid phase well switch function solid grain boundari region also defin grand potenti densiti phase field free energi term kappa gamma defect speci electrochemicaldefectmateri object must also includ calcul suscept densiti phase two energi model use solid phase parabol f_ frack_sc_sc_seq dilut f_ frace_fv_afrack_btv_ac ln c c void phase use parabol free energi also contribut grand potenti electr potenti form frac epsilon nabla v equilibrium solidphas vacanc concentr defect speci determin separ materi need suppli one done maxim flexibl sinter model includ effect gb vacanc segreg stoichiometri effect syntax paramet materialselectrochemicalsinteringmateri syntax input materialselectrochemicalsinteringmateri syntax children materialselectrochemicalsinteringmateri bibtex bibliographi templat load filestubsmoose_objectmdtempl namepfparamspolyfreeenergi syntaxmaterialspfparamspolyfreeenergi timestepmateri syntax descript materialstimestepmateri materi set materi properti current time step size dt current time current time step number time_step materi properti exampl use pars materialsparsedmaterialmd syntax paramet materialstimestepmateri syntax input materialstimestepmateri syntax children materialstimestepmateri interfaceorientationmateri syntax descript materialsinterfaceorientationmateri materi comput angular orient order paramet interfac see kobayashi citekobayashi final nonnumb equat p doip syntax paramet materialsinterfaceorientationmateri syntax input materialsinterfaceorientationmateri syntax children materialsinterfaceorientationmateri bibtex bibliographi grandpotentialsinteringmateri defin switch function thermodynam paramet grand potenti sinter model grandpotentialsinteringmateri defin switch function void solid phase well switch function solid grain boundari region also defin susceptibilti vacanc densiti concentr potenti densiti phase field free energi term kappa gamma three energi model use solidphas parabol f_ frack_sc_sc_seq dilut f_ frace_fv_afrack_btv_ac ln c c ideal f_ cfrace_fv_a frack_btv_acln c clnc equilibrium solidphas vacanc concentr determin separ materi referenc one done maxim flexibl sinter model includ effect gb vacanc segreg stoichiometri effect syntax paramet materialsgrandpotentialsinteringmateri syntax input materialsgrandpotentialsinteringmateri syntax children materialsgrandpotentialsinteringmateri bibtex bibliographi admathfreeenergi materi implement analyt doubl well free energi beginequ f frac c c endequ first order deriv provid properti furthermor come forward mode automat deriv respect degre freedom current element free energi use ad version split cahnhilliard equat adsplitchwresadsplitchwresmd adsplitchparsedadsplitchparsedmd syntax paramet materialsadmathfreeenergi syntax input materialsadmathfreeenergi syntax children materialsadmathfreeenergi bibtex bibliographi mathfreeenergi materi implement analyt doubl well free energi beginequ f frac c c endequ third order deriv syntax paramet materialsmathfreeenergi syntax input materialsmathfreeenergi syntax children materialsmathfreeenergi bibtex bibliographi templat load filestubsmoose_objectmdtempl namepfcrffmateri syntaxmaterialspfcrffmaterialtempl load filestubsmoose_objectmdtempl namegbdependentdiffus syntaxmaterialsgbdependentdiffus grandpotentialtensormateri mobil calcul grand potenti model use tensor vacanc mobil grandpotentialtensormateri calcul vacanc mobil tensor mathbfmchi mathbfd solid void phase order paramet mobil lfrac fracml materi use diffus tensor defin diffmtrxbas vacanc diffus syntax paramet materialsgrandpotentialtensormateri syntax input materialsgrandpotentialtensormateri syntax children materialsgrandpotentialtensormateri bibtex bibliographi templat load filestubsmoose_objectmdtempl namestraingraddispderiv syntaxmaterialsstraingraddispderivativestempl load filestubsmoose_objectmdtempl namekksxevacsolidmateri syntaxmaterialskksxevacsolidmateri phasenormaltensor syntax descript materialsphasenormaltensor comput second order tensor p properti name given normal_tensor_nam equat p fracnabla v otim nabla vnabla v otim outer product two vector result tensor major axi parallel gradient coupl variabl v phase norm minor axi zero syntax paramet materialsphasenormaltensor syntax input materialsphasenormaltensor syntax children materialsphasenormaltensor variablegradientmateri syntax descript materialsvariablegradientmateri materi creat materi properti name given paramet prop contain l norm gradient coupl variabl syntax paramet materialsvariablegradientmateri syntax input materialsvariablegradientmateri syntax children materialsvariablegradientmateri mixedswitchingfunctionmateri syntax descript materialsmixedswitchingfunctionmateri order mix comput switch function repres order polynomi gener form adjust paramet k k beginequ ketaetaketaeta endequ order mix comput switch function repres order polynomi gener form adjust paramet k k beginequ ketaetaketaeta endequ syntax paramet materialsmixedswitchingfunctionmateri syntax input materialsmixedswitchingfunctionmateri syntax children materialsmixedswitchingfunctionmateri templat load filestubsmoose_objectmdtempl namederivativemultiphasemateri syntaxmaterialsderivativemultiphasematerialtempl load filestubsmoose_objectmdtempl nameswitchingfunctionphasemateri syntaxmaterialsswitchingfunctionphasematerialtempl load filestubsmoose_objectmdtempl namegrainadvectionveloc syntaxmaterialsgrainadvectionvelocityn_q _quantum concentration_ defin beginequ n_q leftfracpi k_b thrightfrac endequ ga atom mass default us specifi atom mass unit u custom use mass_unit_convers coupl temperatur n defin beginequ n frac nv frac comega endequ c c coupl concentr omega omega lattic site volum interfaceorientationmultiphasemateri syntax descript materialsinterfaceorientationmultiphasemateri materi account orient depend interfaci energi multiphas multiord paramet phasefield model assum interfac paramet kappa function gradient order paramet syntax paramet materialsinterfaceorientationmultiphasemateri syntax input materialsinterfaceorientationmultiphasemateri syntax children materialsinterfaceorientationmultiphasemateri idealgasfreeenergi syntax descript materialsidealgasfreeenergi materi defin helmholtz free energi densiti f ideal boltzmann ga beginequ f frac fv frac vu ts nk_btleftlnfrac n_qnright endequ includ gasfreeenergybasemd syntax paramet materialsidealgasfreeenergi syntax input materialsidealgasfreeenergi syntax children materialsidealgasfreeenergi templat load filestubsmoose_objectmdtempl nameswitchingfunctionmateri syntaxmaterialsswitchingfunctionmateri regularsolutionfreeenergi syntax descript materialsregularsolutionfreeenergi materi defin helmholtz free energi densiti f binari regular solut beginequ f frac omega c c k_bt clog c clog c endequ omega parammaterialsregularsolutionfreeenergyomega regular solut paramet syntax paramet materialsregularsolutionfreeenergi syntax input materialsregularsolutionfreeenergi syntax children materialsregularsolutionfreeenergi discretenucl syntax descript materialsdiscretenucl nucleat materi comput local free energi densiti contribut beginequ f_nuc gammasum_i c_ic_i endequ discretenucl materi part discret nucleat systemnucleationdiscretenucleationmd syntax paramet materialsdiscretenucl syntax input materialsdiscretenucl syntax children materialsdiscretenucl barrierfunctionmateri syntax descript materialsbarrierfunctionmateri two phase free energi phase transform barrier term g_order paramet set simpl function defin beginequ geta etaeta endequ g_order paramet set low defin beginequ geta etaeta endequ g_order paramet set high defin beginequ geta etaeta endequ syntax paramet materialsbarrierfunctionmateri syntax input materialsbarrierfunctionmateri syntax children materialsbarrierfunctionmateri elasticenergymateri syntax descript materialselasticenergymateri materi gener elast free energi contribut consist tensormechan stress diverg kernel allow proper coupl phase field problem mechan problem contribut elasticenergymateri chemic free energi possibl defin use derivativeparsedmateri sum use derivativesummateri form _total free energy_ pass phase field kernel elasticenergymateri appli _linear_ elast model coupl strain epsilon elast tensor c_ijkl comput elast energi beginequ e frac c_ijkl epsilon_ij epsilon_kl endequ materi util deriv c epsilon provid deriv e requir phase field equat yaml materi materi subblock defin stress elast tensor properti necessari deriv omit elasticenergi type elasticenergymateri arg c syntax paramet materialselasticenergymateri syntax input materialselasticenergymateri syntax children materialselasticenergymateri multibarrierfunctionmateri syntax descript materialsmultibarrierfunctionmateri materi provid function gveceta parameter phase order paramet eta calcul phase transform barrier energi contain doubl well contribut singl order paramet current g_order support simpl set function defin beginequ gveceta sum_i eta_ieta_i endequ syntax paramet materialsmultibarrierfunctionmateri syntax input materialsmultibarrierfunctionmateri syntax children materialsmultibarrierfunctionmateri templat load filestubsmoose_objectmdtempl namegbdependentanisotropictensor syntaxmaterialsgbdependentanisotropictensor adinterfaceorientationmateri syntax descript materialsadinterfaceorientationmateri materi comput angular orient order paramet interfac see kobayashi citekobayashi final nonnumb equat p doip syntax paramet materialsadinterfaceorientationmateri syntax input materialsadinterfaceorientationmateri syntax children materialsadinterfaceorientationmateri bibtex bibliographi templat load filestubsmoose_objectmdtempl namecompositemobilitytensor syntaxmaterialscompositemobilitytensor polycrystaldiffus syntax descript materialspolycrystaldiffus polycrystaldiffus materi build diffus function distinguish solid void phase grain boundari free surfac thu allow differ diffus rate region final diffus function express d_m h_m i_m d_v h_v i_v d_ c c i_ d_gb i_gb sum_i sum_j neq eta_i eta_j d_m bulk diffus coeffici matrixsolid phase d_v diffus coeffici within voidporebubbl phase d_ coeffici surfac diffus d_gb coeffici diffus along grain boundari prefactor diffus along variou interfac chosen int_ d_i feta_i deta_i approx d_i d_i denot diffus along interfac ie d_ d_gb i_m i_v i_ i_gb indic activ differ diffus mechan diffus valu differ region unknown replac weight bulk diffus coeffici syntax paramet materialspolycrystaldiffus syntax input materialspolycrystaldiffus syntax children materialspolycrystaldiffus bibtex bibliographi vanderwaalsfreeenergi syntax descript materialsvanderwaalsfreeenergi materi defin helmholtz free energi densiti f van der waal ga beginequ f frac fv frac vu ts nk_btleftln n_qleftfracnbrightrightna endequ b b van der waal coeffici includ gasfreeenergybasemd syntax paramet materialsvanderwaalsfreeenergi syntax input materialsvanderwaalsfreeenergi syntax children materialsvanderwaalsfreeenergi templat load filestubsmoose_objectmdtempl nameswitchingfunctionmultiphasemateri syntaxmaterialsswitchingfunctionmultiphasemateri ebsdmesh syntax descript meshebsdmesh mesh gener ebsd inform get optim reconstruct data accomplish mesh block use ebsdmesh type data file use ebsd reader use ebsdread userobject mesh creat one node per data point ebsd data file wish use mesh adapt allow mesh get coarser simul uniform_refin paramet use set mani time mesh coarsen work number element along _each_ dimens divis u u valu uniform_refin paramet alert warn titleuniform_refin paramet contrari mesh object uniform_refin paramet affect resolut final mesh set level coarsen appli ebsd data syntax paramet meshebsdmesh syntax input meshebsdmesh syntax children meshebsdmesh templat load filestubsmoose_objectmdtempl namepolycrystalcoloring syntaxicspolycrystalcoloringictempl load filestubsmoose_objectmdtempl namemultismoothsuperellipsoid syntaxicsmultismoothsuperellipsoid multiboundingbox multiboundingbox allow set initi condit valu field insid outsid multipl bound box box axisalign specifi pass xyz coordin opposit corner box exampl input exampl input may either suppli singl insid valu one valu box list multiboundingboxicdi blockic class descript syntax descript icsmultiboundingbox syntax paramet icsmultiboundingbox syntax input icsmultiboundingbox syntax children icsmultiboundingbox bibtex bibliographi templat load filestubsmoose_objectmdtempl namepfcfreezing syntaxicspfcfreezingictempl load filestubsmoose_objectmdtempl namespecifiedsmoothcircl syntaxicsspecifiedsmoothcircl bndscalcic syntax descript icsbndscalc bndscalcic initi locat grain boundari polycrystallin sampl benefici execut initi adapt base grain boundari locat note use order paramet initi diffus interfac exampl input syntax list polycrystal_bndscalcici blockicsbnd syntax paramet icsbndscalc syntax input icsbndscalc syntax children icsbndscalc bibtex bibliographi polycrystalvoronoivoid polycrystalvoronoivoid gener voronoi tesslat produc grain structur void randomli distribut along grain boundari centroid grain either gener set random point assign file requir number void greater zero gener use polycrystalvoronoipolycrystalvoronoimd repres voronoi grain structur without void typic usag input file list modulesphase_fieldtesttestsinitial_conditionspolycrystalvoronoivoidic_periodici blockicsc_ descript syntax syntax descript icspolycrystalvoronoivoid syntax paramet icspolycrystalvoronoivoid syntax input icspolycrystalvoronoivoid syntax children icspolycrystalvoronoivoid templat load filestubsmoose_objectmdtempl nametricrystaltriplejunction syntaxicstricrystaltriplejunctionictempl load filestubsmoose_objectmdtempl namebimodalsuperellipsoids syntaxicsbimodalsuperellipsoidsictempl load filestubsmoose_objectmdtempl namerndboundingbox syntaxicsrndboundingboxictempl load filestubsmoose_objectmdtempl namecross syntaxicscrossictempl load filestubsmoose_objectmdtempl namerndsmoothcircl syntaxicsrndsmoothcircl smoothcircl syntax descript icssmoothcircl insert singl disk sphere radiu r radiu smooth interfac width w_i int_width user specifi valu rang v_ v_ function depend interfac profil v_ outvalu variabl valu outsid diskspher v_ invalu valu interior cosin profil co beginequ vvec r xbegincas v_ textfor vec r leq r frac w v_ fracv_ v_ left cospifracvec r r frac wwright textfor r frac wlt vec r lt r frac w v_ textfor r frac w leq vec r endcas endequ hyperbol tangent profil tanh beginequ labeleqtanh vvec r v_ v_ frac lefttanhpi fracr vec rw right v_ endequ case vvec r initi condit valu vec r vec r_ vec r_ center point x z circl make vec r radiu vector media tanh_interfacepng stylewidthmarginleftpx captionth hyperbol tangent interfac scale slope midpoint cosin interfac co interfac strictli zero outsid particl strictli insid particl interfac width int_width denot exactli width transit region order paramet valu open interv v_v_ tanh interfac function asymptot requir differ definit interfac width chose slope midpoint match midpoint slope co interfac give rise factor pi eq eqtanh syntax paramet icssmoothcircl syntax input icssmoothcircl syntax children icssmoothcircl bibtex bibliographi templat load filestubsmoose_objectmdtempl namereconphasevar syntaxicsreconphasevarictempl load filestubsmoose_objectmdtempl namemultismoothcircl syntaxicsmultismoothcircl isolatedboundingbox isolatedboundingbox allow set initi condit valu field insid outsid multipl isol bound box box axisalign specifi pass xyz coordin corner smallest largest coordin box interfaci width assign diffus interfac exampl input list isolatedboundingboxic_di blockic media mediaphase_fieldisolated_bounding_boxpng captioniniti condit variabl defin exampl stylewidthdisplayblockmarginleftautomarginrightauto class descript syntax descript icsisolatedboundingbox syntax paramet icsisolatedboundingbox syntax input icsisolatedboundingbox syntax children icsisolatedboundingbox bibtex bibliographi nestedboundingbox nestedboundingbox allow set initi condit valu field insid multipl nest bound box valu outsid outermost box box axisalign specifi pass xyz coordin corner smallest largest coordin box order defin box coornid must innermost outermost box interfaci width assign diffus interfac partial overlap box support exampl input list nestedboundingboxic_di blockic media mediaphase_fieldnested_bounding_boxpng captioniniti condit variabl defin exampl stylewidthdisplayblockmarginleftautomarginrightauto class descript syntax descript icsnestedboundingbox syntax paramet icsnestedboundingbox syntax input icsnestedboundingbox syntax children icsnestedboundingbox bibtex bibliographi templat load filestubsmoose_objectmdtempl namesmoothcirclefromfil syntaxicssmoothcirclefromfileictempl load filestubsmoose_objectmdtempl namesmoothsuperellipsoid syntaxicssmoothsuperellipsoidictempl load filestubsmoose_objectmdtempl namelatticesmoothcircl syntaxicslatticesmoothcircleictempl load filestubsmoose_objectmdtempl namespecifiedsmoothsuperellipsoid syntaxicsspecifiedsmoothsuperellipsoidictempl load filestubsmoose_objectmdtempl namepolycrystalrandom syntaxicspolycrystalrandomictempl load filestubsmoose_objectmdtempl nameramp syntaxicsrampictempl load filestubsmoose_objectmdtempl namethumb syntaxicsthumb coupledvaluefunction syntax descript icscoupledvaluefunction coupledvaluefunction initi valu variabl valu coupl moos function evalu set four coupl variabl valu v input paramet coupl variabl valu substitut xyz function variabl order one exampl applic use piecewisemultilinearpiecewisemultilinearmd function data file contain pretabul depend variabl valu function four primari variabl valu capabl use intern degre freedom phase concentr kk modelkksmd need initi good initi guess improv converg first timestep kk case physic ic appli primari global alloy concentr variabl phase concentr initi pretabul data contain good approxim phase concentr primari global alloy concentr syntax paramet icscoupledvaluefunction syntax input icscoupledvaluefunction syntax children icscoupledvaluefunction bibtex bibliographi templat load filestubsmoose_objectmdtempl namebimodalinversesuperellipsoids syntaxicsbimodalinversesuperellipsoidsictempl load filestubsmoose_objectmdtempl nameclosepack syntaxicsclosepackictempl load filestubsmoose_objectmdtempl nametricrystalcirclegrains syntaxicstricrystalcirclegrainsictempl load filestubsmoose_objectmdtempl nameinterfacediffusionfluxmatch syntaxinterfacekernelsinterfacediffusionfluxmatchtempl load filestubsmoose_objectmdtempl nameinterfacediffusionboundaryterm syntaxinterfacekernelsinterfacediffusionboundarytermtempl load filestubsmoose_objectmdtempl nameequalgradientlagrangemultipli syntaxinterfacekernelsequalgradientlagrangemultipliertempl load filestubsmoose_objectmdtempl nameequalgradientlagrangeinterfac syntaxinterfacekernelsequalgradientlagrangeinterfac initi condit phase field method initi condit critic establish initi microstructur materi moos system creat initi condit icssyntaxicsindexhtml howev variou initi condit creat part phase field modul correspond c file ic found moosemodulesphase_fieldsrc except boundingbox found mooseframeworksrc boundingbox media phase_fieldboundingboxicpng stylewidthpxpaddingleftpxfloatright captionboundingbox boundingbox allow set initi condit valu insid outsid specifi box box align xyz axi specifi pass xyz coordin bottom left point top right point coordin bottom_left point must less coordin top_right point set initi condit bottom_left point top_right insid valu use otherwis outsid valu use inform found boundingboxicboundingboxicmd syntax page input x x coordin lower lefthand corner box coordin lower lefthand corner box z z coordin lower lefthand corner box x x coordin upper righthand corner box coordin upper righthand corner box z z coordin upper righthand corner box insid valu variabl insid box outsid valu variabl outsid box rndboundingbox media phase_fieldrndboundingboxicpng stylewidthpxpaddingleftpxfloatright captionrndboundingbox like boundingbox insid outsid valu randomli chosen uniform distribut mx_invalu mn_invalu insid box mx_outvalu mn_outvalu outsid box inform found rndboundingboxicrndboundingboxicmd syntax page input x x coordin lower lefthand corner box coordin lower lefthand corner box z z coordin lower lefthand corner box x x coordin upper righthand corner box coordin upper righthand corner box z z coordin upper righthand corner box mx_insid max valu variabl insid box mn_insid min valu variabl insid box mx_outsid max valu variabl outsid box mn_outsid min valu variabl outsid box smoothcircl media phase_fieldsmoothcircleicpng stylewidthpxpaddingleftpxfloatright captionsmoothcircl smoothcircl creat circl given radiu center given point domain int_width zero border circl smoothli transit invalu outvalu inform found smoothcircleicsmoothcircleicmd syntax page input x x coordin circl center coordin circl center z z coordin circl center default radiu radiu circl invalu variabl valu insid circl outvalu variabl valu outsid circl int_width interfaci width void surfac default d_sphere whether object sphere column default true rndsmoothcircl media phase_fieldrndsmoothcircleicpng stylewidthpxpaddingleftpxfloatright captionrndsmoothcircl smoothcircl valu insid circl randomli around invalu plu minu variation_invalu valu outsid circl randomli vari around outvalu plu minu variation_outvalu inform found rndsmoothcircleicrndsmoothcircleicmd syntax page input x x coordin circl center coordin circl center z z coordin circl center default radiu radiu circl invalu variabl valu insid circl outvalu variabl valu outsid circl int_width interfaci width void surfac default variation_invalu plu minu amount invalu variation_outvalu plu minu amount outvalu rand_se seed valu random number gener default multismoothcircl media phase_fieldmultismoothcircleicpng stylewidthpxpaddingleftpxfloatright captionmultismoothcircl multismoothcircl set variabl valu creat nbub number circl center point randomli posit throughout domain valu within circl invalu outsid outvalu inform found multismoothcircleicmultismoothcircleicmd syntax page input radiu radiu circl invalu variabl valu insid circl outvalu variabl valu outsid circl int_width interfaci width void surfac default d_sphere whether object sphere column default true numbub number bubbl place gb bubspac minimum space bubbl measur center center numtri number tri allow fit circl within domain throw error default lx length simul domain xdirect ly length simul domain ydirect lz length simul domain zdirect default rand_se seed random number gener default radius_vari plu minu fraction random variat bubbl radiu default latticesmoothcircl media phase_fieldlatticesmoothcircleicpng stylewidthpxpaddingleftpxfloatright captionlatticesmoothcircl latticesmoothcircl set variabl valu use set smooth circl see smoothcircl center uniform lattic randomli randomli perturb lattic valu within circl invalu outsid outvalu inform found latticesmoothcircleiclatticesmoothcircleicmd synatx page input radiu radiu circl invalu variabl valu insid circl outvalu variabl valu outsid circl int_width interfaci width void surfac default d_sphere whether object sphere column default true rnd_variat percent variat plu minu circl center locat lattic circles_per_sid length vector contain number bubbl along side x z lx length simul domain xdirect ly length simul domain ydirect lz length simul domain zdirect default rand_se seed random number gener default radius_variationplu minu fraction random variat bubbl radiu default specifiedsmoothcircl media phase_fieldspecifiedsmoothcircleicpng stylewidthpxpaddingleftpxfloatright captionspecifiedsmoothcircl specifiedsmoothcircl creat user specifi number smooth circl specif locat specif radii valu within circl invalu outsid outvalu inform found specifiedsmoothcircleicspecifiedsmoothcircleicmd syntax page input invalu variabl valu insid circl outvalu variabl valu outsid circl int_width interfaci width void surfac default d_sphere whether object sphere column default true x_posit vector contain xcoordin circl center y_posit vector contain ycoordin circl center z_posit vector contain zcoordin circl center radii vector contain radiu circl crossic media phase_fieldcrossicpng stylewidthpxpaddingleftpxfloatright captioncross crossic ic set variabl valu averag amplitud within smooth cross shape averag amplitud outsid cross cross defin within squar defin user inform found crossiccrossicmd syntax page input x x coordin lower lefthand corner box coordin lower lefthand corner box x x coordin upper righthand corner box coordin upper righthand corner box averag averag variabl valu within domain default amplitud variat averag within cross averag amplitud outsid cross averag amplitud thumbic thumb shape bicryst grain boundari mobil test inform found thumbicthumbicmd syntax page polycrystal polycrystal describ hereicspolycrystalicsmd phasefield tutori spinod decomposit ironchromium alloy introduct purpos tutori help new user learn process develop phasefield model moos framework give stepbystep instruct develop introduc variou builtin tool help system run better tutori explain basi phasefield theori cover object develop moos problem setup interest use phase field model spinod decomposit ironchromium alloy c time scale one week perform simul twodimension nm nm surfac interact iron chromium rel simpl depend sole concentr two speci therefor system model use cahnhilliard equationphase_field_equationsmd extern energi sourc beginequ frac partial c partial nabla cdot mc nabla leftfrac partial f_locc partial c kappa nabla cright endequ case c mole fraction chromium unitless mc mobil chromium frac mol j f_locc free energi densiti frac j mol kappa gradient energi coeffici frac j mol valu term look databas calcul thermodynam softwar packag problem valu fit equat reli equat beginequ g_jc a_j c b_j c c_j c lnc d_j c lnc e_j c c f_j c c c g_j c c c endequ free energi fit beginequ f_locc g_fc endequ mobil fit beginequ mc c c g_crc c c g_fec endequ coeffici use two equat c f variabl f valu cr variabl cr valu fe variabl fe valu a_f a_cr a_f b_f b_cr b_fe c_f c_cr c_fe d_f d_cr d_fe e_f e_cr e_f f_f f_cr f_fe g_f g_cr g_fe coeffici kappa alloy wt chromium initi uniformli distribut minor random variat problem analysi unit initi condit given weight percent equat given us molar basi therefor use molecular weight chromium convert initi condit wt mol chromium unit meter mesh would enter moos howev moos built toler allow mesh node closer togeth get around need chang length scale unit nanomet prevent valu becom larg small also chang energi scale unit electron volt convers meter nanomet convers joul electron volt rather convert valu tabl program convers input file convers within file plot media phase_fieldenergydensitycurvepng stylewidthpxpaddingleftpxfloatright captionfre energi densiti curv ironchromium alloy free energi densiti equat given doublewel energi curv mean alloy want decompos two phase distinct concentr equilibrium concentr found doubl tangent line free energi densiti curv doubl tangent line solv use numer solver equilibrium concentr mol mol chromium refer iron chromium phase respect curv doubl tangent line shown right perform materi balanc surfac use initi condit find surfac decompos chromium phase rest decompos iron phase curv right show mobil vari greatli depend concentr begin assum mc constant lot valu could choos reason one would valu initi condit mol chromium mobil frac mol j media phase_fieldmobilitycurvepng stylewidthpxpaddingleftpxfloatright captionmobl curv ironchromium alloy expect expect three thing simul first surfac decompos iron chromium phase equilibrium concentr second decompos surfac minim energi minim interfac contact two phase shape region circl larg stripe third phase field problem reduc free energi surfac scurv shape begin end simul rel littl chang free energi surfac rapid decreas somewher middl look develop model simul develop develop full work code step step build code written previou step step make simpl test model begin develop simplest model check one expect result step test modeltutorialstepmd step make faster test model simplest model work let add featur improv run step fast modeltutorialstepmd step add phase decomposit model model work run fast let put real initi condit real time frame see surfac decompos like expect step decompositiontutorialstepmd step make mobil function time use mobil function instead constant step mobil functiontutorialstepmd step check surfac energi curv let optim converg see free energi surfac chang time step energi curvetutorialstepmd conclus done tutori start defin problem equat variabl would lead solut develop expect problem would behav start develop simul start basic model could get ad featur make model converg faster develop model made realist kept ad featur tell us inform system help converg faster along way talk variou block paramet requir moos work properli well block paramet help run smoothli cours lot moos keep explor wiki find featur grain boundari anisotropi physic fidel accuraci predict grain growth depend accuraci phase field paramet ginzburglandau equat beginequ fracparti eta_iparti tl_ileftmulefteta_ieta_igamma_ieta_isum_jneq ieta_jrightnablacdotkappa_inablaeta_iright endequ paramet l_i mu gamma_i kappa_i determin gb properti energi sigma_gb mobil m_gb usual obtain molecular dynam comput differ method around relat paramet gb properti requir parametr parameter model reproduc desir gb properti phase field modul implement paramet determin method develop moelan et al citemoelans_quantitative_ isotrop gb properti phase field paramet express beginequ gamma endequ beginequ kappa approx frac sigma_gb l_gb endequ beginequ l approx frac fracm_gbl_gb endequ beginequ mu approx frac fracf_saddlegamma fracsigma_gbl_gb endequ l_gb diffus gb width f_saddlegamma chemic free energi saddl point paramet lkappagammamu uniform across system isotrop materi model implement gbevolutiongbevolutionmd media mediaphase_fielddouble_circle_grainpng captiondoublecircl grain test stylewidthpaddingleftpxfloatright system misorient depend gb properti set gb energi sigma_gbk mobil m_gbk function misorient angl k consid iter procedur use calcul paramet l_kkappa_kgamma_kmu misorient k interpol follow function obtain continu phase field paramet integr point beginequ psifracsumlimits_ipsumlimits_jippsi_keta_ieta_jsumlimits_ipsumlimits_jipeta_ieta_j endequ psi_k repres paramet l_k kappa_k gamma_k mu set constant detail parametr refer moelan doublecircl grain test use valid implement gb anisotropi misorient right figur two circular grain initi size embed matrix grain would shrink drive forc reduc total gb area proven chang grain area either circular grain follow beginequ aa_pi m_gbsigma_gbcdot endequ media mediaphase_fieldarea_evolution_grainpng captionarea evolut grain differ mobil stylewidthpaddingleftpxfloatright media mediaphase_fieldarea_evolution_grainpng captionarea evolut grain vari grain boundari energi stylewidthpaddingleftpxclearrightfloatright a_ initi grain area perform two test differ properti assign gb form two circular grain matrix first two gb boundari energi differ mobil m_ cdot m_ second obtain gb mobil differ energi sigma_ cdot sigma_ simul analyt grain area evolut compar follow figur apart littl nonlinear begin nd test simul due gb relax symmetr nonsymmetr profil grain area evolut agre quit well analyt solut show phase field paramet determin method reproduc exactli desir gb properti anisotrop gb properti implement materi gbanisotropygbanisotropymd determin phase field paramet phase field modul media phase_fieldpf_module_examples_verticalpng stylewidthpxpaddingleftpxfloatright captionphas field result produc use moos phase field modul systemsphase_fieldsystemsmd moos phase field modul librari simplifi implement simul tool employ phase field model multiphys capabl includ mechan heat conduct obtain employ tensor mechan heat conduct modul inform modul found basic phase field model inform phase_fieldphase_field_equationsmd basic inform equat underli phase field modul phase_fieldfunctionmaterialsexpressionbuildermd use automat differenti free energi materi object phase_fieldsolvingmd basic info solv phase field model phase_fieldfunctionmaterialkernelsmd work function materi carri around deriv phase_fieldfunctionmaterialsmd creat materi properti base valu arbitrari function express phase_fieldphase_field_model_unitsmd discuss unit phase field model phase_fieldanisotropymd support anisotrop mobil interfaci energi phase_fieldcalphadmd use thermodynam databas parameter phase field model phase_fieldquantitativemd simpl two compon model use polynomi free energi phase_fieldfaqmd frequent ask question phase field modul multipl phase model moos provid capabl enabl easi develop multiphas field model free energi express provid individu phase differ system exist combin _phase free energies_ _global free energy_ phase_fieldmultiphasewbmtwophasemd two phase one phase order paramet phase_fieldmultiphasekksmd perphas concentr two phase phase_fieldmultiphasewbmmd n phase n phase order paramet grand potenti modelgrandpotentialkernelactionmd solv legendr transform phase field equat independ variabl chemic potenti media mediaphase_fieldsolutionrasterizerpng stylewidthpxpaddingleftpxfloatright captionatomist input file gener use solutionraster multiphys coupl phase_fieldmechanics_couplingmd coupl phase field equat mechan phase field subsystem nucleat phase_fieldnucleationdiscretenucleationmd insert nuclei accord nucleat probabl densiti field phase_fieldnucleationlangevinnoisemd fluctuat base nucleat grain growth phase_fieldgrain_growth_modelmd background phase field model implement moos grain tracker algorithmgraintrackermd track arbitrari featur unstructur mesh time phase_fieldgrain_boundary_anisotropymd system misorient depend gb properti phase_fieldelastic_driving_force_grain_growthmd coupl mechan influenc grain growth initi condit phase_fieldinitial_conditionsmd basic phase field initi condit phase_fieldicspolycrystalicsmd creat polycrystallin structur use varieti method imag readerimagefunctionmd reconstruct initi condit imag sem optic etc ebsd readerphase_fieldicsebsdmd reconstruct initi condit ebsd ed data tutori fecr phase decompositionphase_fieldtutorialmd illustr use pars function kernel creat two phase decomposit simul misc phase_fieldfunctionmaterialsautomaticdifferentiationmd construct deriv given express symbol way phase_fieldfunctionmaterialsjitcompilationmd compil functionpars express mechan coupl coupl phase field mechan simul requir moos execut combin phase_field tensor_mechan modul one execut built moosemodulescombin directori also contain set exampl worth look full coupl phase field mechan goe way phase field variabl influenc mechan properti mechan state creat free energi contribut enter phase field equat mechan properti mechan properti system function phase field variabl tightli coupl simul elast tensor differ phase switch nonconserv order paramet differ elast tensor compositeelasticitytensorcompositeelasticitytensormd optionaltru tensor depend phase field variabl arbitrari way eigenstrain misfit strain stressfre strain differ phase switch nonconserv order paramet differ eigenstrain use simul lattic mismatch phase computevariableeigenstraincomputevariableeigenstrainmd optionaltru tensor variabl depend scalar prefactor best use turn eigenstrain depend concentr variabl compositeeigenstraincompositeeigenstrainmd optionaltru eigenstrain tensor built multipl tensor contribut weight materi properti elast free energi coupl phase field equat mechan contribut deform energi elast energi need enter free energi densiti system phase field equat assembl use cahnhilliard splitchpars allencahn function materi kernelsphase_fieldfunctionmaterialkernelsmd take free energi function materialphase_fieldfunctionmaterialsmd defin chemic free energi use function materialphase_fieldfunctionmaterialsmd elasticenergymaterialelasticenergymaterialmd automat comput free energi densiti contribut use local stress strain use derivativesummaterialderivativesummaterialmd sum chemic elast free energi contribut total free energi pass kernel diverg theorem diverg theorem state volum integr diverg vector field volum v bound surfac equal surfac integr vector field project outward face normal surfac beginequ int_omega nabla f dv int_partialomega fcdotmathbfnd endequ product rule product rule product scalar vector mathbfb use reduc deriv order express conjunct diverg theorem beginequ nabla amathbfb nabla cdot mathbfb nablacdotmathbfb endequ shuffl term note valid vector mathbfa scalar b well beginequ nabla cdot mathbfb nablacdotmathbfb nabla amathbfb endequ beginequ nabla cdot mathbfa b mathbfacdot nabla b nabla mathbfab endequ right term nabladot transform use diverg theorem use effect shift deriv test function build residu fundament lemma calculu variat function beginequ frho int f boldsymbolr rhoboldsymbolr nablarhoboldsymbolr dboldsymbolr endequ function deriv cahnhilliard equat calcul use rule beginequ fracdelta fdelta c fracparti fpartial c nabla cdot fracparti fpartialnabla c endequ note formula valid first order deriviv ie nabla gener formula requir advanc phase field model function beginequ frhoboldsymbolr int f boldsymbolr rhoboldsymbolr nablarhoboldsymbolr nablarhoboldsymbolr dot nablanrhoboldsymbolr dboldsymbolr endequ higher order deriv beginequ beginalign fracdelta frhodelta rho fracparti fpartialrho nabla cdot fracparti fpartialnablarho nabla cdot fracparti fpartialleftnablarhoright dot n nablan cdot fracparti fpartialleftnablanrhoright fracparti fpartialrho sum_in inablai cdot fracparti fpartialleftnablairhoright endalign endequ vector r isin mathcalrn nablai tensor whose ni compon partial deriv oper order beginequ left nablai right _alpha_ alpha_ cdot alpha_i frac partial partial r_alpha_ partial r_alpha_ cdot partial r_alpha_i qquad qquad textwher quad alpha_ alpha_ cdot alpha_i cdot n endequ weak form acinterfac kernel term lnablakappanablaeta multipli test function psi integr yield beginequ leftlnablakappanablaetapsiright leftnabla cdot underbracekappanablaeta_equiv mathbfaunderbracelpsi_equiv bright endequ move l right identifi vector term mathbfa scalar term b use third equal _product rule_ section obtain beginequ mathbfacdot nabla b nabla mathbfab endequ last term convert surfac integr use _diverg theorem_ tield beginequ left kappanablaetanablalpsi right left lkappa nablaeta cdot vec n psiright endequ function materi kernel kernel cahnhilliardcahnhilliardmd cahnhilliardanisocahnhilliardanisomd splitchparsedsplitchparsedmd allencahnallencahnmd solv cahnhilliard allencahn equat use free energi provid function materialphase_fieldfunctionmaterialsmd object includ pars function materi free energi express suppli configur file necessari deriv build residu jacobian element comput automat use automat differenti derivativeparsedmaterialderivativeparsedmaterialmd enabl rapid implement new phase field model without write custom kernel recompil code see also automat differentiationfunctionmaterialsautomaticdifferentiationmd moos applic develop express builderfunctionmaterialsexpressionbuildermd build fparser express compil time use oper overload calphad work progress script export moos readabl free energi express tdb thermodynam databas file found text moosepythoncalphadfree_energypi free_energypi tool allow user extract free energi express tdb thermodynam databas file thermocalc format tool export list moos materi block phase user specifi subset phase calphad function express implement use derivativeparsedmaterialderivativeparsedmaterialmd class user construct full moos input file around materi block renam variabl use export form suitabl name instal pycalphadhttpsgithubcomrichardotispycalphad python modul requir perform pars tdb file sympyhttpsgithubcomsympysympi requir build function form calphad express instal andor upgrad prerequisit use pip text pip instal upgrad sympi pip instal upgrad pycalphad thermodynam databas databas file obtain onlin comput phase diagram databasehttpcpddbnimsgojpindex_enhtml cpddb grain growth model grain boundari gb migrat reduc total free energi system variou sourc free energi drive gb migrat includ store defect energi deform energi gb energi variou model approach appli model grain boundari migrat though phase field method emerg one popular variou model predict similar behavior phasefield method emerg popular due flexibl comput effici grain growth model implement marmot moelan et al citemoelans_quantitative_ model grain repres continu order paramet eta_i equal one within grain zero grain free energi problem beginequ f_loc mu left sum_in leftfraceta_i fraceta_i right gamma sum_in sum_jin eta_i eta_j right frac endequ evolut grain order paramet defin allencahn equat specif grain growth model local energi kernel call acgrgrpolyacgrgrpolymd creat beginequ fracparti f_locparti eta_i mu left eta_i eta_i gamma sum_jn eta_i eta_j right endequ code kernel take form sumetaj _valsi_qp_valsi_qp return _mu_qp_u_qp_u_qp_u_qp _u_qp _gamma_u_qpsumetaj _u_qp store current order paramet valu eta_i _valsi_qp store valu eta_j sinc equat take form order paramet one kernel creat reus order paramet model paramet l_j mu kappa_j defin term grain boundari gb surfac energi sigma diffus gb width w_gb gb mobil m_gb express code variou moos materi variou type physic materi gener form equat materi gbevolutiongbevolutionmd grain growth model arbitrari number variabl depend number grain repres residu equat use solv valu order paramet specif time divid part implement separ kernel default input file moos variabl three kernel need variabl ad individu would cumbersom system therefor creat custom input file syntax autom creation variou order paramet kernel creat action system within moos basic action creat grain growth variabl kernel graingrowthactiongraingrowthactionmd given number order paramet n_cri base name number append var_name_bas variabl creat eg var_name_bas gr n_cri variabl gr gr gr creat initi condit ic polycryst model creat use ic block input file ic block addit block call polycrystal block variou option creat initi condit bicryst tricryst polycryst option shown tabl action name descript bicrystalboundingbox two grain defin bound box bicrystalcirclegrain circl grain matrix grain tricrystalcirclegrains two circl grain matrix grain polycrystalhexgrain n_grain grain hexagon structur polycrystalcoloring n_grain grain use plugin base tessel use user object polycrystalvoronoipolycrystalvoronoimd polycrystalrandom randomli seed grain order paramet addit option reconstruct microstructur experiment data use ebsd readericsebsdmd system given data export ebsd softwar specif format initi grain structur mimic microstructur data inform readi run grain growth simul first step verifi model predict analyt model grain growth deriv analyt model twograin configur circular grain imbed larger grain half loop grain imbed larger grain grain boundari veloc calcul accord beginequ v f endequ f drive forc simpl verif case drive forc depend curvatur grain boundari written beginequ f fracgammar endequ gamma gb energi r radiu curvatur chang area time equal beginequ beginarrayrl fracparti aparti pi r fracparti rpartial pi r v pi gamma endarray endequ thu area time calcul beginequ a_ pi gamma endequ a_ initi radiu circular grain follow approach half loop geometri give express beginequ a_ pi gamma endequ custom phase field action simplifi format input file use standard allencahn cahnhilliard equat custom action creat automat creat conserv nonconserv phase field field variabl correspond kernel addit kernel still ad use standard moos syntax action phase field block modul block nonconserv variabl creat use nonconservedactionnonconservedactionmd exampl see list modulesphase_fieldtesttestsactionsnonconserved_vari startmodul endic conserv variabl creat use conservedactionconservedactionmd exampl see list modulesphase_fieldtesttestsactionsconserved_split_vari startmodul endic list modulesphase_fieldtesttestsactionsconserved_direct_vari startmodul endic see also phase field faqfaq frequent ask question moos phasefield model anisotropi object model anisotrop behavior kernel cahnhilliardanisocahnhilliardanisomd bulk cahnhilliard kernel use derivativemateri free energi tensor anisotrop mobil chinterfaceanisochinterfaceanisomd gradient energi cahnhilliard kernel tensor anisotrop mobil matanisodiffusionmatanisodiffusionmd diffus equat kernel take anisotrop diffus materi properti splitchwresanisosplitchwresanisomd split formul cahnhilliard kernel chemic potenti variabl tensor anisotrop mobil materi constantanisotropicmobilityconstantanisotropicmobilitymd provid constant mobil tensor valu compositemobilitytensorcompositemobilitytensormd assembl mobil tensor multipl tensor contribut weight materi properti gbanisotropygbanisotropymd specifi grain boundari energi mobil paramet individu grain boundari defin order paramet pair basic phase field equat phase field approach microstructur featur describ use continu variabl variabl take two form conserv variabl repres physic properti atom concentr materi densiti nonconserv order paramet describ microstructur materi includ grain differ phase evolut continu variabl function gibb free energi defin system partial differenti equat pde thu defin kinet system free energi must describ function continu variabl repres microstructur system pde repres evolut variou variabl requir repres given system free energi function compris specif phase field model model may also coupl addit physic mechan heat conduct model equat may solv mani way includ finit differ spectral method finit element method fem moosephas field modul provid necessari tool rapidli develop phase field simul tool equat solv via fem phase field summari present gener form phase field pde show solv via fem pde evolut equat variou variabl function free energi function f evolut conserv variabl defin use modifi cahnhilliard equat ie beginequ labeleqch fracparti c_iparti nabla cdot m_i nabla fracdelta fdelta c_i endequ c_i conserv variabl m_i associ mobil evolut nonconserv order paramet repres allencahn equat accord beginequ labeleqac fracparti eta_jparti l_j fracdelta fdelta eta_j endequ eta_j order paramet l_j order paramet mobil free energi function phase field model use n conserv variabl c_i order paramet eta_j describ beginequ f int_v big f_locc_ ldotsc_n eta_ ldot eta_m f_grc_ ldotsc_n eta_ ldot eta_m e_d big dv endequ f_loc defin local free energi densiti function concentr order paramet vari model model gradient energi densiti beginequ f_gr sum_in frackappa_i nabla c_i summ_j frackappa_j nabla eta_j endequ kappa_i kappa_j gradient energi coeffici final e_d describ addit sourc energi system deform electrostat energi combin equat list evalu function deriv explanationsderivation_explanationsmd evolut variabl describ beginequ beginalign fracparti c_iparti nabla cdot m_i nabla left fracparti f_locparti c_i fracparti e_dparti c_i nablacdot kappa_i nabla c_i coloraaaaaaunderbrac nabla cdot left fracpartialkappapartialnabla c_i frac nabla c_i right _textfor kappanabla c coloraaaaaaunderbrac left fracpartialkappaparti c_i frac nabla c_i right _textfor kappac_i right labeleqcons_residual_strong fracparti eta_jparti l left fracparti f_locparti eta_j fracparti e_dparti eta_j nablacdot kappa_j nabla eta_j coloraaaaaaunderbrac nabla cdot left fracpartialkappapartialnablaeta_j frac nablaeta_j right _textfor kappanablaeta_j coloraaaaaaunderbrac left fracpartialkappapartialeta_j frac nablaeta_j right _textfor kappaeta right endalign endequ alert warn kappa l must either constant valu function moos variabl nonlinear auxiliari direct function _xyz_ need _xyz_ depend add linear lagrang auxvari problem depend _xyz_ kappa l depend alert note gray term requir case kappa coeffici function either order paramet gradient respect gener kernel kappaeta case prepar kernel kappanablaeta case need provid user prepar fem discret construct residu equat equal zero weak form usual manner first weight integr residu project construct use test function psi_m appli diverg theorem lower deriv order thu allencahn equat yield beginequ beginalign boldsymbolmathcalr_eta_i left fracparti eta_jparti psi_m right left nablakappa_jeta_j nabla lpsi_m right l left fracparti f_locparti eta_j fracparti e_dparti eta_j psi_m right leftlkappa_j nabla eta_j cdot vecn psi_m right endalign endequ oper repres volum integr inner product leftright oper repres surfac integr inner product solv cahnhilliard equat fem difficult due fourth order gradient solv two way first directli solv equat accord beginequ beginalign boldsymbolmathcalr_c_i left fracparti c_iparti psi_m right left kappa_i nabla c_i nabla cdot m_i nabla psi_m right left m_i nabla left fracparti f_loc partial c_i fracparti e_dparti c_i right nabla psi_m right left m_i nabla left kappa_i nabla c_i right cdot vecn psi_m right left m_i nabla left fracparti f_locparti c_i fracparti e_dparti c_i right cdot vecn psi_m right left kappa_i nabla c_i m_i nabla psi_m cdot vecn right endalign endequ second approach split fourth order equat two second order equat two variabl solv concentr c_i chemic potenti mu_i case two residu equat beginequ beginalign boldsymbolmathcalr_mu_i left fracparti c_iparti psi_m right left m_i nabla mu_i nabla psi_m right left m_i nabla mu_i cdot vecn psi_m right boldsymbolmathcalr_c_i left nabla c_i nablakappa_i psi_m right left nabla c_icdot vecn kappa_i psi_m right left left fracparti f_locparti c_i fracparti e_dparti c_i mu_i right psi_m right endalign endequ note revers equat use solv variabl might expect chang improv solv converg impact solut free energi base model develop goal moos phase field modul facilit develop advanc phase field model take advantag common structur ie usag cahnhilliard allencahn equat relianc free energi function thu free energi deriv paramet vari model take advantag modular structur moos develop seri kernel implement variou piec allencahn equat two solut approach cahnhilliard equat free energi deriv materi paramet provid materi object creat user creat use automat differenti system note use kernel requir choos use would develop kernel usual way moos allencahn residu equat without boundari term shown beginequ beginalign boldsymbolmathcalr_eta_i left fracparti eta_jparti psi_m right left nablakappa_jeta_j nabla lpsi_m right l left fracparti f_locparti eta_j fracparti e_dparti eta_j psi_m right endalign endequ divid three piec implement kernel shown residu term variabl paramet energi deriv kernel left fracparti eta_jparti psi_m right eta_j timederivativetimederivativemd left nablakappa_jeta_j nabla lpsi_m right eta_j kappa_j l acinterfaceacinterfacemd l left fracparti f_locparti eta_j fracparti e_dparti eta_j psi_m right eta_j l fracparti f_loc partial eta_j fracparti e_d partial eta_j allencahnallencahnmd residu direct solut cahnhilliard equat without boundari term beginequ boldsymbolmathcalr_c_i left fracparti c_iparti psi_m right left kappa_i nabla c_i nabla cdot m_i nabla psi_m right left m_i left nabla fracparti f_loc partial c_i nabla fracparti e_dparti c_i right nabla psi_m right endequ residu term variabl paramet energi deriv kernel left fracparti c_iparti psi_m right c_i timederivativetimederivativemd left kappa_i nabla c_i nabla cdot m_i nabla psi_m right c_i kappa_i m_i nabla m_i chinterfacechinterfacemd leftm_i left nabla fracparti f_loc partial c_i nabla fracparti e_dparti c_i rightnabla psi right c_i m_i fracparti f_loc partial c_i fracparti e_d partial c_i cahnhilliardcahnhilliardmd split form cahnhilliard solut two residu equat beginequ beginalign boldsymbolmathcalr_mu_i left fracparti c_iparti psi_m right left m_i nabla mu_i nabla psi_m right boldsymbolmathcalr_c_i left left kappa_i nabla c_i fracparti f_locparti c_i fracparti e_dparti c_i mu_i right psi_m right endalign endequ residu term variabl paramet energi deriv kernel left fracparti c_iparti psi_m right mu coupledtimederivativecoupledtimederivativemd left m_i nabla mu nabla psi_m right mu m_i splitchwressplitchwresmd left kappa_i nabla c_i fracparti f_locparti c_i fracparti e_dparti c_i mu_i right c kappa_i fracparti f_loc partial c_i fracparti e_d partial c_i splitchparsedsplitchparsedmd see also phase field faqfaqmd frequent ask question moos phasefield model actionsphase_fieldactionsmd simplifi setup phase field equat use moos action free energi materialsfunctionmaterialsfreeenergymd key compon modular free energi phase field model approach page list avail function materi explain defin free energi function combin multipl free energi contribut includ elast energi total free energi function materi kernelsfunctionmaterialkernelsmd kernel util free energi densiti provid function materi recommend phase field kernel expressionbuilderfunctionmaterialsexpressionbuildermd use automat differenti free energi defin c code multiphas modelsmultiphasewbmmd combin multipl singl phase free energi multiphas field model use tool mechan couplingmechanics_couplingmd free energi also combin deform energi calcul use tensor mechan modul syntax complet groupsphasefieldapp frequent ask question relationship interfac width meshgrid space phasefield model import understand differ interfac width grid space phasefield model interfac width function model paramet enter govern equat depend grid space detail discret exampl basic cahnhilliard model interfac width function gradient energi coeffici kappa height free energi barrier equilibrium phase chang grid space keep system dimens chang number element interfaci region width interfac coordin system chosen keep system dimens simul interfac two phase increasingli finer resolut plot result top one anoth would see interfac shape width repres increas number data point interfaci region interfac width coordin system would chang know mesh space use phasefield simul fine enough keep govern equat model make mesh finer long number element interfac high enough get physic result basic cahnhilliard model refer earlier good rule thumb would would want least element interfac defin c equilibrium valu c use linear lagrang element may abl get away fewer element look qualit differ time step may notic chang want lower resolut element interfac mention probabl plot system energi function time verifi decreas resolut affect system evolut quantit two phase polynomi free energi introduct speci separ phase field model singl concentr use model two phase system evolut concentr predict take deriv doublewel free energi free energi repres simpl thermodynam model beginequ f_c k_b c ln c c ln c wcc endequ howev natur log express significantli complic solut typic requir small time step converg altern thermodynam free energi use polynomi free energi simplifi numer solut decreas physic accuraci implement polynomi free energi three differ order phase field modul use solv problem polynomi equat implement three polynomi free energi differ order shown figur media phase_fieldfree_energiespng stylewidthpxpaddingleftpxfloatright captionplot three polynomi free energi thermodynam free energi shown refer simplest model fourth order free energi beginequ f_c w c c_eq c c_eq endequ w height energi barrier c_eq equilibrium concentr sixth eighth order polynomi defin equat beginequ fn_c n w sum_nn hn_n cn endequ beginequ beginalign h_ frac c_eq c_eq h_ frac c_eq frac c_eq frac h_ c_eq c_eq frac h_ c_eq c_eq frac h_ h_ endalign endequ beginequ beginalign h_ frac c_eqc_eq h_ fracc_eq frac c_eq frac h_ c_eq c_eq frac h_ c_eq c_eq frac h_ c_eq c_eq h_ c_eq c_eq h_ h_ endalign endequ quantit model develop creat quantit model use polynomi free energi valu mobil barrier height w kappa c_eq must determin term measur quantiti equilibrium concentr c_eq defin locat well free energi accord beginequ c_eq efrace_fk_b endequ determin paramet follow deriv moelan et al httpsdoiorgphysrevb simplifi deriv consid interfac along ydirect interfaci width defin beginequ beginalign l_i fracd xd c_x sqrtfrackappa_n mathrmmaxfn_loc endalign endequ polynomi free energi develop mathrmmaxfn_loc w thu beginequ l_i sqrtfrackappa w endequ therefor kappa_n express function barrier height interfaci width accord beginequ kappa w l_i labeleqkappa endequ defin barrier height w first determin surfac energi surfac energi calcul accord beginequ sigma intinfty_infti left fn_loc frackappa left fracparti cpartial x right right dxlabeleqgbenergi endequ accord principl variat calculu function extrem function zero first deriv ie beginequ fracparti f_locparti c kappa fracparti cpartial x endequ integr equat beginequ f_loc frackappa left fracparti cpartial x right endequ rearrang equat obtain beginequ fracparti cpartial x sqrt frac fn_lockappa labeleqdcdx endequ combin equat give beginequ beginalign sigma intinfty_infti left fn_loc frackappa frac fn_lockappa right dx intinfty_infti f_locc dx endalign endequ chang variabl substitut beginequ beginalign sigma int_ f_locc fracd xd c dc sqrt kappa int_ sqrtf_locc dc labeleqgbenergi endalign endequ defin valu integr int_ sqrtf_locc dc express beginequ beginalign int_ sqrtf_locc dc sqrtw fracn int_ sqrtsum_nn hn_n cfracn dc sqrtw k_n labeleqint endalign endequ k_n fracn int_ sqrtsum_nn hn_n cfracn dc function c_eq vari polynomi order n assum c_eq k_n becom constant valu calcul polynomi order accord beginequ beginalign k_ frac k_ frac sqrt frac sqrt ln leftfracsqrt sqrtsqrt sqrt right k_ endalign endequ k_ evalu numer thu surfac energi equal beginequ sigma k_n sqrt kappa w labeleqsurfenergi endequ solv w obtain beginequ w fracsigma k_n kappa_n endequ combin equat obtain beginequ kappa fracsigma l_i k_n endequ express substitut give beginequ w fracsigma k_n l_i endequ form mobil must deriv produc quantit physic behavior order phase field model accur describ vacanc diffus cahnhilliard equat must equival fickian diffus c ie beginequ nabla cdot nabla fracparti fpartial c nabla cdot nabla c endequ mobil polynomi free energi diffus thu c beginequ fracnabla cnabla partial fn_locparti c labeleqmob endequ polynomi free energi valu nabla partial f_locnparti c c written form beginequ nabla fracparti f_locnparti c n hn_ w nabla c labeleqmob endequ hn_ polynomi coeffici defin thu valu mobil determin combin equat obtain beginequ beginalign fracdn cn_ w_n frack_n n cn_ fracd l_i sigmalabeleqmi endalign endequ summar quantit express four model paramet requir polynomi free energi obtain use equat restat beginequ beginalign c_eq efrace_fk_b kappa fracsigma l_ik_n w fracsigma k_n l_i frack_n n hn_ fracd l_i sigma endalign endequ numer implement phase field modul polynomi free energi implement polynomialfreeenergypolynomialfreeenergymd materi moos phase field modul free energi contain materi order input paramet minim requir code code error free energi deriv obtain use automat differenti via expressionbuilderfunctionmaterialsexpressionbuildermd tool free energi use pars kernel splitchparsedsplitchparsedmd cahnhilliardcahnhilliardmd materi properti requir model implement pfparamspolyfreeenergypfparamspolyfreeenergymd also take polynomi order input elast drive forc grain growth media phase_fieldmoose_pf_hex_grgr_stresspng stylewidthpxpaddingleftpxfloatright captionelast energi driven grain growth hexagaon copper polycryst one shrink grain result calcul use exampl input file combin modul input file hex_grain_growth_d_eldrforcei grain boundari gb migrat reduc free energi system one sourc energi reduc grain boundari energi standard grain growth model account drive forc commonli call curvatur drive forc addit gb migrat reduc elast energi store system account drive forc grain growth model coupl mechan solut model summari model n_gr grain repres n_op order paramet n_gr geq n_op grain uniqu id gr repres specif order paramet op though order paramet use grain chang throughout simul assign order paramet grain control graintrackergraintrackermd user object crystal orient grain describ set three euler angl phi_ phi phi__gr euler angl defin rotat tensor mathbfr_gr use rotat elast tensor crystal frame refer boldsymbolmathcalc_ current frame thu elast tensor grain fulli defin beginequ boldsymbolmathcalc_gr mathbfr_gr boxtim mathbfr_gr boldsymbolmathcalc_ mathbfr_gr boxtim mathbfr_grt endequ boxtim fourthord tensor product phase field model grain boundari repres diffus intefac multipl order paramet nonzero valu thu elast tensor point space weight averag elast tensor grain nonzero order paramet ie beginequ boldsymbolmathcalcmathbfr fracsum_gr heta_grmathbfr boldsymbolmathcalc_gr sum_gr heta_grmathbfr endequ media phase_fieldmoose_pf_hex_grgr_stress_png stylewidthpxpaddingleftpxfloatright captionelast energi driven grain growth hexagaon copper polycryst one grow grain result calcul use exampl input file combin modul input file hex_grain_growth_d_eldrforcei interpol function h equal eta_gr eta_gr ie beginequ heta_gr frac sinpieta_gr endequ local stress calcul local elast tensor accord beginequ boldsymbolsigmamathbfr boldsymbolmathcalcmathbfr boldsymbolepsilonmathbfr endequ elast energi densiti calcul accord beginequ beginalign e_d frac boldsymbolsigmamathbfr cdot boldsymbolepsilonmathbfr frac boldsymbolmathcalcmathbfr boldsymbolepsilonmathbfr cdot boldsymbolepsilon mathbfr endalign endequ elast energi ad free energi system shown basic phase field equationsphase_field_equationsmd page allencahn equat defin evolut order paramet becom beginequ fracparti eta_grparti l left fracparti f_locparti eta_j fracparti e_dparti eta_gr kappa_j nabla eta_j right endequ beginequ fracparti e_dparti eta_gr frac fracparti boldsymbolmathcalcparti eta_gr boldsymbolepsilon cdot boldsymbolepsilon endequ partial deriv elast tensor respect order paramet defin beginequ fracparti boldsymbolmathcalcparti eta_gr heta_gr frac boldsymbolmathcalc_gr sum_gr heta_gr heta_gr fracsum_gr heta_gr boldsymbolmathcalc_gr leftsum_gr heta_gr right endequ media phase_fieldmoose_pf_grgr_stresspng stylewidthpxpaddingleftpxfloatright captionelast energi driven grain growth copper polycryst result calcul use exampl input file combin modul input file poly_grain_growth_d_eldrforcei model implement addit contribut elast energi allencahn equat describ grain growth implement phase field modul kernel acgrgrelasticdrivingforceacgrgrelasticdrivingforcemd add elast energi contribut must use acgrgrpolyacgrgrpolymd kernel addit residu weak form beginequ l left fracparti e_dparti eta_gr psi_m right endequ implement code accord cpp real acgrgrelasticdrivingforcecomputedfdoppffunctiontyp type access heterogen strain calcul solid mechan kernel ranktwotensor strain_elastic_strain_qp comput partial deriv stress wrt order paramet ranktwotensor d_stress _d_elastic_tensor_qp strain switch type case residu return d_stressdoublecontractionstrain comput deform energi drive forc case jacobian return mooseerrorinvalid type pass stress strain comput use kernel tensor mechan modul materi phase field modul creat comput polycryst elast tensor computepolycrystalelasticitytensorcomputepolycrystalelasticitytensormd also comput deriv elast tensor respect order paramet materi must use graintrackergraintrackermd user object basic grain growth model creat separ block input file everi order paramet would burdensom thu implement action add elast drive forc kernel order paramet action polycrystalelasticdrivingforceactionpolycrystalelasticdrivingforceactionmd must use polycrystalkernelactionpolycrystalkernelactionmd capabl test moosemodulescombinedtestsacgrgrelasticdrivingforc demonstr larger problem moosemodulescombinedexamplesphase_fieldmechanicshex_grain_growth_d_eldrforcei moosemodulescombinedexamplesphase_fieldmechanicspoly_grain_growth_d_eldrforcei function materi function materi describ famili moos materi classesmaterialsindexmd deriv functionmaterialbas base class function materi provid real materi properti hold valu arbitrari function express deriv function materi addit provid materi properti hold valu deriv function express respect coupl variabl defin derivative_ord avail function materi materi descript parsedmaterialparsedmaterialmd set singl materi properti comput use pars function express derivativeparsedmaterialderivativeparsedmaterialmd extend parsedmateri provid automat gener deriv function express wrt coupl variabl derivativesummaterialderivativesummaterialmd creat new materi properti contain sum multipl function materi properti includ sum deriv elasticenergymaterialelasticenergymaterialmd gener elast free energi function materi current stressstrain state includ necessari deriv switchingfunctionmaterialswitchingfunctionmaterialmd conveni materi gener soft switch function use multiphas model barrierfunctionmaterialbarrierfunctionmaterialmd conveni materi gener barrier function use multiphas model mathfreeenergymathfreeenergymd simpl doublewel free energi f frac c c concentr deriv see also automat differentiationfunctionmaterialsautomaticdifferentiationmd moos applic develop solv phase field model develop phase field model use implicit time integr need solv system nonlinear equat use moos moos use petsc packagehttpwwwmcsanlgovpetscdocument solv equat therefor petsc option found work well phase field model provid solut method three solv method avail moos set executionerexecutionerindexmd block use solve_typ paramet three possibl option newton direct solut system equat use newton method full accur jacobian requir thu preconditionerpreconditioningindexmd block must employ system multipl nonlinear variabl jfnk system solv use jacobian free newton krylov jfnk jacobian term need howev jfnk often perform well without precondit pjfnk system solv use precondit jfnk jacobian use precondit matrix fulli correct neglect offdiagon term precondit option use newton pjfnk petsc use manipul jacobianprecondition matrix method use manipul defin use petsc option execution block determin optim approach difficult identifi certain option work well phase field problem summar lu use lu decomposit directli appli invers jacobian matrix typic accur approach expens scale well beyond ten processor parallel requir _superlu_ compil petsc provid default instal moosegetting_startedinstallationindexmd optionaltru often good debug tool typic option block petsc_options_inam pc_type petsc_options_valu lu asm addit schwartz method asm domain decomposit method work well model method work well split cahnhilliard equat increas pc_asm_overlap improv perform increas comput expens typic option petsc_options_inam pc_type ksp_grmres_restart sub_ksp_typ sub_pc_typ pc_asm_overlap petsc_options_valu asm preonli lu asmilu incomplet factor method ilu allow specifi fill factor use pc_factor_level increas improv precondition default precondition work well ellipt problem pahs field equat boomeramg boomeramg hypr implement algebra multigrid method work well solv allencahn equat direct solut cahnhilliard method horribl perform solv split cahnhilliard equat common option petsc_options_inam pc_type pc_hypre_typ ksp_gmres_restart pc_hypre_boomeramg_strong_threshold petsc_options_valu hypr boomeramg phase field model unit phase field model often nondimension inher equat dimension thu critic understand correctli implement unit especi coupl multipl physic unit analysi phase field equat unit analysi break equat unit follow convent l length time e energi mol mole free energi function drive forc evolut phase field method minim free energi function free energi function written beginequ f int_v big f_locc_ ldotsc_n eta_ ldot eta_m f_grc_ ldotsc_n eta_ ldot eta_m e_d big dv endequ f_loc defin local free energi densiti unit el function concentr variabl c_i typic molar fraction order paramet eta_i gradient energi densiti beginequ f_gr sum_in frackappa_i nabla c_i summ_j frackappa_j nabla eta_j endequ kappa_i kappa_j gradient energi coeffici unit el final e_d describ addit sourc energi system deform electrostat energi unit el allencahn equat allencahn equat variat deriv take form beginequ fracparti eta_jparti l left fracparti f_locparti eta_j fracparti e_dparti eta_j kappa_j nabla eta_j right endequ unit equat beginequ fract fracl left fracel fracel fracel fracl right endequ unit l le cahnhilliard equat cahnhilliard equat variat deriv take form beginequ fracparti c_iparti v_m nabla cdot m_i nabla left fracparti f_locparti c_i fracparti e_dparti c_i kappa_i nabla c_i right endequ v_m molar volum refer state materi unit lmol unit equat beginequ fract fraclmol fracl fracl molt e fracl left fracel fracel fracel fracl right endequ unit m_i l mole note model includ v_m mobil term unit lt e calphad local free energi common approach phase field model use free energi individu phase taken calphad approach calphad free energi f_alpha typic unit emol therefor must convert free energi densiti use molar volum accord beginequ f_alpha fracf_alphav_m endequ note use multiphas model calphad free energi phase must convert refer molar volum v_m chang volum phase handl stressfre strain handl unit moos inher unit system moos thu unit phase field equat set user defin model specif unit set local free energi densiti kappa mobil paramet l unit term must consist addit energi sourc elast energi also must consist unit phase field modul valu creat use materi object thu unit system set kernel rather materi one use practic creat materi object take si unit input paramet use length_scal time_scal energy_scal input paramet convert actual unit problem exampl see pfparamspolyfreeenergypfparamspolyfreeenergymd materi input file block look like yaml copper type pfparamspolyfreeenergi block c c k int_width length_scal e time_scal e e ms brown em ev balluffi tabl ef ev balluffi tabl surface_energi jm taken phase_fieldtestspolynomialfreeenergysplit_order_testi templat load filesqaapp_sllmdtempl categoryphase_field appphas field templat load filesqaapp_indexmdtempl categoryphase_field appphas field templat item keysqareport sqa report categorycategori templat load filesqaapp_farmdtempl categoryphase_field appphas field templat load filesqaapp_srsmdtempl categoryphase_field appphas field templat load filesqaapp_vvrmdtempl categoryphase_field appphas field templat load filesqaapp_sddmdtempl categoryphase_field appphas field templat load filesqaapp_stpmdtempl categoryphase_field appphas field templat load filesqaapp_rtmmdtempl categoryphase_field appphas field kimkimsuzuki model kimkimsuzuki kk model current implement implement twophas model present citekim_phasefield_ featur singl order paramet eta hascompar wbmmultiphasewbmmdth ad complex introduc phaseconcentr c_a c_b ie concentr variabl compon phase addit global concentr c beginequ clefthetarightc_a hetac_b endequ main advantag addit yield abil chose interfaci free energi system _independent_ interfaci width thu length scale kk model especi suit system high heat solut convent phase field model lead unphys high interfaci free energi due miscibl gap contribut along smooth interfac note kk implement twophas system allow arbitrari number compon wherea compon repres one global concentr variabl two phase concentr variabl total free energi f system given phasefre energi beginequ f lefthetaright f_ac_a hetaf_bc_b wgeta endequ phase free energi function respect phase concentr addit variabl requir addit constraint equat mass conserv equat pointwis equal phase chemic potenti beginequ fracparti f_aparti c_a fracparti f_bpartial c_b endequ see also deriv kk system residu jacobiansmultiphasekksderivationsmd comparison analyt solut equilibrium interfacemultiphasekksanalyticalmd simpl compon exampl kk model kk phasefield model componentsmultiphasekksmulticomponentexamplemd analyt solut equilibrium interfac media mediaphase_fieldkks_cpng stylewidthpxmarginleftpxfloatright captioncomposit c simul domain media mediaphase_fieldkks_example_split_eta_png stylewidthpxmarginleftpxfloatright captionord paramet eta along media mediaphase_fieldkks_example_split_c_png stylewidthpxmarginleftpxfloatrightclearboth captioncomposit c along kk model analyt solut exist order paramet eta composit c equilibrium interfac beginequ eta_x frac lefttanhleft fracsqrtwsqrt epsilon xright right endequ beginequ c_x heta_xc_s heta_xc_l endequ use switch function heta etaetaeta gradient energi coeffici epsilon barrier function height w note typo eq citekim_phasefield_ epsilon denomin argument tanh function sqrtepsilon follow exampl equilibr flat interfac solid phase eta fs c_sc_se c_se liquid phase eta fl c_lc_le c_le simul vector postprocessor linevaluesampl use obtain valu eta c along result output csv file plot togeth analyt solut use noflux boundari condit boundari condit block requir input file list modulesphase_fieldexampleskimkimsuzukikks_example_nofluxi verif analyt solut media mediaphase_fieldkks_convergencepng stylewidthpxmarginleftpxfloatrightclearboth captionl error order paramet eta perform quantit comparison simul result analyt solut calcul l norm differ simul result analyt solut l norm defin case beginequ leftu u_hright_l left int_omega u u_h domega right endequ u analyt solut u_h equilibrium solut simul omega domain l norm obtain moos framework use elementlerrorelementlerrormd postprocessor shown properti finit element method linear lagrang element use split formul beginequ u u_h_l le ch endequ h characterist element size squar element h length one side c constant specif problem thu mesh refin l error decreas least quadrat h perform comparison analyt solut simul result noflux boundari condit use simul order paramet composit profil may shift slightli x x direct even analyt solut use initi condit make difficult compar analyt solut center x therefor simul x ge half domain use dirichlet boundari condit eta c x prevent interfac move verif size domain also reduc lower comput cost verifi l error decreas quadrat h see plot show l error versu h eta problem expect loglog scale point fit well straight line slope determin good agreement expect valu list modulesphase_fieldexampleskimkimsuzukikks_example_dirichleti twophas model moos provid capabl enabl easi develop multiphas field model free energi express provid individu phase two differ system exist combin phase free energi global free energi materi object intern deriv derivativefunctionmaterialbas doxygenhttpmooseframeworkorgdocsdoxygenmodulesclassderivativefunctionmaterialbasehtml like materi pars function kernelsparsedfunctionkernel use provid free energi express phase simplifi twophas model use singl order paramet switch two phase global free energi construct use meta materi class combin phase free energi two phase model derivativetwophasemateri doxygenhttpmooseframeworkorgdocsdoxygenmodulesclassderivativetwophasematerialhtml use combin two phase free energi global free energi allencahn cahnhilliard kernel use evolv system beginequ f lefthetaright f_a hetaf_b wgeta endequ syntax paramet materialsderivativetwophasemateri check exampl input modulesphase_fieldtestsmultiphasederivativetwophasemateriali see action exampl exampl materi block look like materi phase field mobil omit clariti puppet materi free energi phase free_energy_a type derivativeparsedmateri block f_name fa arg c function c third_deriv fals enable_jit true free energi phase b free_energy_b type derivativeparsedmateri block f_name fb arg c function c third_deriv fals enable_jit true switch type switchingfunctionmateri block eta eta h_order simpl barrier type barrierfunctionmateri block eta eta g_order simpl total free energi f hphifb hphifa free_energi type derivativetwophasemateri block f_name f name global free energi function use pars function kernel fa_nam fa f_name phase free energi function fb_name fb f_name phase b free energi function arg c eta eta order paramet switch b phase third_deriv fals output exodu note phase free energi singl well global free energi landscap howev doubl well charact exampl kk model definit beginequ f hetaf_a hetaf_bwgeta endequ beginequ c hetac_a hetac_b endequ beginequ fracdf_adc_a fracdf_bdc_b endequ materi kk system citekim_phasefield_ use multipl moos materi provid valu free energi function switch function heta doubl well function geta provid materi allow function bundl singl place use multipl kernel furthermor automat differenti featur use pars function materi prreplovid necessari deriv cost develop deriv store materi properti follow name scheme defin kksbasematerialc cahnhilliard kernel kkssplitchcr kkssplitchcreskkssplitchcresmd split version kernel calcul chemic potenti mu fracparti fpartial c nonlinear variabl kernel concentr c calcul fracparti cpartial nabla cdot mc nabla mu use coupledtimederivativecoupledtimederivativemd splitchwressplitchwresmd kernel respect describ herephase_fieldphase_field_equationsmd residu residu routin need calcul term r fracparti fpartial c mu exploit kk ident fracparti fpartial cfracdf_adc_afracdf_bdc_b arbitrarili use aphas instead beginequ r fracparti f_aparti c_a mu endequ jacobian ondiagon sinc explicit depend nonlinear variabl c residu equat diagon compon zero offdiagon look frac partialparti u_j deriv r uequiv c_a need appli chain rule keep term fracparti c_aparti u_jfracpartialparti c_aphi_j fracpartialparti c_a deriv beginequ beginalign j fracparti rpartial u_j phi_j fracpartialparti c_a left fracparti fpartial c_a mu right phi_j fracpartialfparti c_a endalign endequ mu beginequ beginalign j phi_j fracpartialparti mu left fracparti fpartial c_a mu right phi_j endalign endequ kkschbulk kkschbulkkkschbulkmd nonsplit version fulli implement nonlinear variabl kernel concentr c residu residu routin need calcul term rnabla fracdfdc exploit kk ident fracdfdcfracdf_adc_afracdf_bdc_b arbitrarili use aphas instead gradient calcul chain rule note f_ac_a p_p_dotsp_n potenti function mani variabl beginequ r nabla fracdf_adc_a fracdf_adc_anabla c_a sum_i fracdf_adc_adp_inabla p_i endequ c_a p_p_dotsp_n vector argument f_a simplifi beginequ rsum_i fracdf_adc_ada_inabla a_i sum_i r_i nabla a_i endequ use r_i shorthand term fracdf_adc_ada_i repres code array _second_derivativesi access gradient a_i moos store _grad_argsi jacobian calcul jacobian involv deriv residu term r wrt individu coeffici u_j paramet f_a u stand variabl a_i beginequ fracdrdu_j sum_i left frac ddu_j r_inabla a_i right sum_i left r_ifracdnabla a_idu_j nabla a_i sum_k frac dr_ida_kfracda_kdu_j right endequ code u given jvar diagon case c c_a c_b diagon case offdiagon let focu diagon first fracda_kdu_j zero jvar equal k allow us remov sum k replac singl nonzero summand beginequ fracdrdu_j sum_i left r_ifracdnabla a_idu_j nabla a_i frac dr_ida_textjvarfracda_textjvardu_j right endequ first term squar bracket deriv fracdnabla a_idu_j nonzero jvar therefor pull term sum beginequ fracdrdu_j r_textjvarfracdnabla a_textjvardu_j sum_i nabla a_i frac dr_ida_textjvarfracda_textjvardu_j endequ rule frac ddu_j deriv get beginequ r_textjvar nabla phi_j sum_i nabla a_i frac dr_ida_textjvar phi_j endequ j _j code ondiagon diagon term look deriv wrt compon nonlinear variabl c kernel note f_a indirectli function c assum depend given cc_a chain rule thu yield term form beginequ fracdc_adc fracfracdf_bdc_bhetafracdf_bdc_bhetafracdf_adc_a endequ given equat kk follow offdiagon deriv get v fracdf_adc_afracdc_adc nabla phi_j sum_i nabla a_i frac dr_idc_a fracdc_adc phi_j endequ ondiagon second approach let get back origin residu fracdfdc beginequ beginalign j phi_j fracddc nabla fracdfdc phi_j nabla fracdfdc quadquad textwith kk phi_j nabla fracfracdf_bdc_bfracdf_adc_a hetafracdf_bdc_bhetafracdf_adc_a endalign endequ allencahn kernel bulk allencahn residu need calcul term beginequ beginalign rfracdfdetafracddetalefthetaf_a hetaf_bwgeta right fracdf_adetafracddetalefthetaf_bhetaf_a wgetaright fracdf_adetaf_bfracdhdetaf_afracdhdetahetafracdf_bdetahetafracdf_adeta wfracdgdeta fracdf_adetafracdhdetaf_bf_ahetaleftfracdf_bdetafracdf_adetaright wfracdgdeta fracdhdetaf_bf_a underbracehetafracdf_adeta hetafracdf_bdeta_textchain rule term wfracdgdeta fracdhdetaf_bf_a hetafracdf_adc_afracdc_adeta hetafracdf_bdc_bfracdc_bdeta wfracdgdeta fracdhdetaf_bf_a fracdf_adc_alefthetafracdc_adeta hetafracdc_bdetaright wfracdgdeta endalign endequ _chain rule term_ result fact c_a c_b depend eta see eq kk set lambda hetafracdf_bdc_bhetafracdf_adc_a get beginequ beginalign fracdc_adeta fraclambda fracdhdetac_ac_bfracdf_bdc_b fracdc_bdeta fraclambda fracdhdetac_ac_bfracdf_adc_a endalign endequ substitut get beginequ beginalign r fracdhdetaf_bf_a fracdhdetafracdf_adc_ac_ac_bfraclambdaunderbraceleftheta fracdf_bdc_b hetafracdf_adc_aright_lambda wfracdgdeta endalign endequ simplifi beginequ rfracdhdeta leftf_af_bfracdf_adc_ac_ac_bright wfracdgdeta endequ split residu two kernel allow multipl phase concentr multi compon system kksacbulkf kksacbulkfkksacbulkfmd part without direct composit depend residu beginequ rfracdhdetaf_af_bwfracdgdeta endequ jacobian ondiagon look frac partialparti u_j deriv r uequiveta need appli chain rule keep term fracparti etaparti u_jfracpartialparti etaphi_j fracpartialpartialeta deriv beginequ beginalign j phi_j fracpartialparti etaleft fracdhdetaf_af_b right w phi_j fracpartialparti etafracdgdeta fracdhdetaphi_jf_af_b wfracdgdetaphi_j endalign endequ implicit depend f_ac_a f_bc_a eta c_aceta c_bceta contribut jacobian fracparti f_aparti eta fracparti f_aparti eta offdiagon offdiagon compon calcul variabl f_a f_b depend exampl c_a beginequ j fracdhdetaleft fracparti f_aparti c_a fracparti f_bpartial c_arightphi_j endequ fracparti f_bpartial c_a kk formul term would need includ c_a variabl f_a depend howev code calcul deriv respect variabl f_a f_b depend gener way jacobian entri depend correctli comput use piec code exampl f_a f_b could depend temperatur case beginequ j fracdhdetaleft fracparti f_aparti fracparti f_bpartial trightphi_j endequ comput use code offdiagon jacobian contribut also multipli allencahn mobil l point consist term allencahn equat kksacbulkc kksacbulkckksacbulkcmd part direct composit depend instanc kernel need compnent problem residu beginequ beginalign rfracdhdetaleftfracdf_adc_ac_ac_bright fracdhdetafracdf_adc_ac_ac_b endalign endequ jacobian ondiagon look frac partialparti u_j deriv r uequiveta need appli chain rule keep term fracparti etaparti u_jfracpartialparti eta phi_j fracpartialparti eta deriv beginequ beginalign j phi_j fracpartialparti eta left fracdhdetafracdf_adc_ac_ac_b right fracdhdetaphi_jfracdf_adc_ac_ac_b endalign endequ offdiagon sinc c_a c_b appear residu effect must calcul separ variabl depend c_a look frac partialparti u_j deriv r uequiv c_a need appli chain rule keep term fracparti c_aparti u_jfracpartialparti c_a phi_j fracpartialparti c_a deriv beginequ beginalign j phi_j fracpartialparti c_a left fracdhdetafracdf_adc_ac_ac_b right fracdhdeta phi_j left fracd f_adc_ac_ac_b fracd f_ad c_aright endalign endequ similarli c_b beginequ beginalign j phi_j fracpartialparti c_b left fracdhdetafracdf_adc_ac_ac_b right fracdhdeta phi_j fracd f_ad c_a endalign endequ variabl c_a c_b exampl temperatur beginequ beginalign j phi_j fracpartialparti left fracdhdetafracdf_adc_ac_ac_b right fracdhdeta phi_j fracpartialparti tleftfracd f_ad c_aright c_a c_b endalign endequ offdiagon jacobian contribut multipli allencahn mobil l point consist term allencahn equat constraint kernel kksphasechemicalpotenti kksphasechemicalpotentialkksphasechemicalpotentialmd enforc point wise equal phase chemic potenti beginequ fracdf_adc_afracdf_bdc_b endequ nonlinear variabl kernel c_a residu beginequ rfracdf_adc_a fracdf_bdc_b endequ jacobian jacobian need calcul beginequ jfrac partialparti u_jleft fracdf_adc_a fracdf_bdc_b right endequ ondiagon beginequ j phi_j left fracparti f_aparti c_a fracparti f_bpartial c_a partial c_b right endequ offdiagon q union argument vector f_a f_b repres code _coupled_moose_var get beginequ sum_i left fracparti f_aparti c_a partial q_ifracparti q_iparti u_j fracparti f_bpartial c_b partial q_ifracparti q_iparti u_j right endequ fracparti q_iparti u_j nonzero uequiv q_i case q_i argument select jvar beginequ j fracparti f_aparti c_a partial q_textjvarphi_j fracparti f_bpartial c_b partial q_textjvarphi_j endequ note code jvar index _coupled_moose_var resolv _jvar_map kksphaseconcentr kksphaseconcentrationkksphaseconcentrationmd enforc split concentr phase concentr weight switch function nonlinear variabl kernel c_b beginequ c hetac_ahetac_b endequ residu beginequ rhetac_a hetac_b c endequ jacobian ondiagon sinc nonlinear variabl c_b beginequ j phi_j fracparti rpartial c_b phi_j heta endequ offdiagon c_a beginequ j phi_j fracparti rpartial c_a phi_j heta endequ c beginequ j phi_j fracparti rpartial c phi_j endequ eta beginequ j phi_j fracparti rpartial eta phi_j fracdhdetac_bc_a endequ kimkimsuzuki exampl three compon list modulesphase_fieldexampleskimkimsuzukikks_example_ternaryi addit chemic compon ad kk model cahnhilliard equat must ad addit compon n compon n cahnhilliard equat requir addit cahnhilliard equat requir kernel kkssplitchcreskkssplitchcresmd coupledtimederivativecoupledtimederivativemd splitchwressplitchwresmd enforc composit chemic potenti constraint addit compon also requir kernel kksphaseconcentrationkksphaseconcentrationmd kksphasechemicalpotentialkksphasechemicalpotentialmd allencahn equat also modifi addit compon ad residu becom beginequ rfracdhdeta leftf_af_b sum_in fracdf_adc_iac_iac_ibright wfracdgdeta endequ n number compon singl kksacbulkfkksacbulkfmd kernel need compon case addit kksacbulkckksacbulkcmd kernel must ad addit compon multiphas model materi object intern deriv derivativefunctionmaterialbas doxygenhttpmooseframeworkorgdocsdoxygenmodulesclassderivativefunctionmaterialbasehtml like materi pars function kernelsfunctionmaterialkernelsmd use provid free energi express phase flexibl multiphas model use _n_ order paramet control n phase employ lagrang multipli base constraint enforc sum phase contribut one everi point simul cell multiphas model n phase derivativemultiphasematerialderivativemultiphasematerialmd use form global free energi beginequ f left sum_in h_ieta_if_i right gveceta endequ need enforc constraint kveceta beginequ kvec etaleftsum_i heta_iright underbrac fracepsilonlambda_textjacobian fill endequ ensur total weight phase free energi contribut point simul volum exactli uniti epsilon achiev use either hard soft constraint enforc method check exampl input moosemodulesphase_fieldexamplesmultiphasederivativemultiphasemateriali see action lagrang multipli constraint first hard method constraint enforc lagrang multipli techniqu avail lagrang multipli lambda nonlinear variabl a_ivecetavec cv weak form allencahn residu ith nonconserv order paramet need find vecetalambda satisfi boundari condit beginequ beginalign a_ivecetavec cv underbraceint_omegalambdafracparti kpartialeta_i vdx_l_eta_i underbraceint_omega qfracpartiallambda kpartiallambdadx_l_lambda endalign endequ hold everi test function v q l_ lagrang residu provid switchingfunctionconstraintetaswitchingfunctionconstraintetamd doxygenhttpmooseframeworkorgdocsdoxygenmodulesclassswitchingfunctionconstraintetahtml kernel one phase order paramet l_ lagrang residu provid switchingfunctionconstraintlagrangeswitchingfunctionconstraintlagrangemd doxygenhttpmooseframeworkorgdocsdoxygenmodulesclassswitchingfunctionconstraintlagrangehtml kernel jacobian fill term introduc small lambda depend constraint small epsilon factor default result ondiagon jacobian valu epsilon l_ kernel drop l_ kernel necessari forc jacobian matrix full rank avoid zero pivot petscerror greatli improv converg cost violat constraint epsilon howev constraint violat made small converg limit penalti constraint altern softer constraint enforc provid switchingfunctionpenaltyswitchingfunctionpenaltymd doxygenhttpmooseframeworkorgdocsdoxygenmodulesclassswitchingfunctionpenaltyhtml kernel effect add free energi penalti gamma kvec eta epsilon gamma penalti prefactor penalti constraint enforc approxim toler fracgamma depend shape unit free energi gradient interfac energi term multiphas model n deriv hereacmultiinterfacemd provid acmultiinterfaceacmultiinterfacemd kernel exampl exampl materi block look like materi phase field mobil omit clariti puppet materi free energi phase free_energy_a type derivativeparsedmateri block f_name fa arg c function c third_deriv fals enable_jit true free energi phase b free_energy_b type derivativeparsedmateri f_name fb arg c function c third_deriv fals enable_jit true switch type switchingfunctionmateri eta eta h_order simpl barrier type barrierfunctionmateri eta eta g_order simpl total free energi f hphifb hphifa free_energi type derivativetwophasemateri f_name f name global free energi function use pars function kernel fa_nam fa f_name phase free energi function fb_name fb f_name phase b free energi function arg c eta eta order paramet switch b phase third_deriv fals output exodu alert note phase free energi singl well global free energi landscap howev doubl well charact exampl automat differenti automat differenti mean construct deriv given express symbol way specif mean _not_ perform finit differenc deriv show phase field evolut equat commonli deriv free energi mobil automat differenti shift burden comput deriv oftentim complex known express free energi user softwar version _function parser_ librari ship moos contain automat differenti featur present upstream versionhttpwarppovusersorgfunctionpars includ automat differenti modul also add time compilationjitcompil support cpp includ libmeshfparser_adhh modul provid class cpp functionparseradbaser deriv cpp functionparserbaser provid addit method cpp int autodiffconst stdstring var var name variabl take deriv respect autodiff method must call initi pars optim function parser object automat differenti system transform compil bytecod pars function bytecod deriv autodiff method call multipl time gener high order deriv helper method cpp bool iszero call optim function parser object check function constant zero ie bytecod consist push command limit almost fparser opcod support _except_ pcall fcall function call fparser object call custom function automat differenti current complain take deriv function differenti countabl infinit number point int howev take deriv function like absolut valu ab differenti singl point limit arbitrari may chang futur version current version ad modul support differenti fparser object previous optim exampl follow code snippet illustr comput evalu deriv cpp functionparseradbaser fparser stdstring func sinaxxsinxa pars input express bytecod fparserparsefunc xa transform f dfdx fparserautodiffx run optim simplifi deriv fparseroptim evalu deriv method fparserbaser real param stdcout fparserevalparam stdendl print byte code deriv need debug enabl fparserprintbytecodestdcout optim fparser object use optim take deriv highli recommend automat differenti gener lot trivial term exampl deriv x x optim perform consider conveni pars automat differenti function come perform penalti despit optim pars function slower hand code compil function jit time compil avail pars function jit system util ad enable_jit true default option derivativeparsedmaterialderivativeparsedmaterialmd block moos attempt compil function deriv machin code use residu jacobian calcul almost fulli recov perform hand code free energi retain flexibl automat differenti see also expressionbuilderfunctionmaterialsexpressionbuildermd build fparser express compil time use oper overload free energi function materi free energi function basi evolut phase field variabl howev free energi never use directli phase field equat rather deriv free energi requir case free energi involv multipl coupl variabl differ deriv requir residu equat free energi base model approach function materialfunctionmateri class defin requir free energi deriv use respect kernel deriv defin code user gener use automat differenti deriv also come calphad type free energi requir order deriv requir residu shown basic phase field equationsphase_fieldphase_field_equationsmd page allencahn equat two solut approach cahnhilliard equat one addit deriv requir defin jacobian term use solut nonlinear system fem equat common also defin full free energi even requir visual debug purpos demonstr approach focu simpl system singl conserv concentr c vari free energi case beginequ f_loc frac c c endequ deriv beginequ beginalign fracparti f_locparti c cc fracparti f_locparti c c fracparti f_locparti c c endalign endequ second third deriv would requir use direct solut method via cahnhilliardcahnhilliardmd first second deriv would requir use split solut method via splitchparsedsplitchparsedmd model implement mathfreeenergymathfreeenergymd materi found phase field modul moos inherit derivativefunctionmaterialbas code mathfreeenergymathfreeenergymd shown cpp real mathfreeenergycomputef return _c_qp _c_qp _c_qp _c_qp real mathfreeenergycomputedfunsign int j_var return _c_qp_c_qp_c_qp real mathfreeenergycomputedfunsign int j_var unsign int k_var return _c_qp_c_qp real mathfreeenergycomputedfunsign int j_var unsign int k_var unsign int l_var return _c_qp altern write free energi materi take advantag derivativeparsedmaterialfunctionmateri free energi enter input file requir deriv taken automat approach highli encourag drastic simplifi model develop see also basic phase field equationsphase_fieldphase_field_equationsmd basic inform equat underli phase field modul function materialsfunctionmateri key compon modular free energi phase field model approach page list avail function materi explain defin free energi function combin multipl free energi contribut includ elast energi total free energi function materi kernelsfunctionmaterialkernel kernel util free energi densiti provid function materi recommend phase field kernel expressionbuilderexpressionbuild use automat differenti free energi defin c code time compil media mediaphase_fieldjitgraph_whitepng stylewidthmarginleftpxfloatright captionperform test result jit compil fparser modul version function parser librari ship moos contain time jit compil featur present upstream versionhttpwarppovusersorgfunctionpars includ jit modul also add automat differentiationfunctionmaterialsautomaticdifferentiationmd support cpp includ libmeshfparser_adhh modul provid class cpp functionparseradbaser deriv cpp functionparserbaser provid addit method cpp bool jitcompil call method fparser object execut attempt gener small temporari c file function perform calcul pars function launch compil compil use build libmesh compil c file small dynam librari file use dlopen immedi load librari file use dlsym bind compil function fparser object step succeed evalu call eval fparser object redirect compil function yield speedup order magnitud depend complex function temporari file clean jit compil succeed compil librari cach directori name jitcach local directori name function file construct use sha hash function byte code compil time around ms per function object cach jitcompil call return ms chang numer constant function usual trigger recompil compil function respect current fparser epsilon set almost fparser opcod support _except_ pcall fcall function call fparser object call custom function requir header file jit compil nonad pars function requir cmath standard librari header file compil ad function dual number requir adrealh header header recurs includ binaryonli applic distribut header may readili avail make command make adrealmonolithich use build redistribut header file suffici pars function jit compil file distribut along applic binari applic use header compil ad pars materi function moose_adfparser_jit_includ environ variabl set eg export moose_adfparser_jit_includeusrlocalincludeadrealmonolithich express builder build fparser express use c oper overload mix expressionbuild class moos class allow build fparser express use familiar c syntax introduct ebterm variabl use express type ebterm follow declar three variabl use express cpp ebterm cc cc phiphi ebfunct declar function g defin cpp ebfunct g gc c c c c powc perform substitut easi cpp ebfunct h hc c gc c cc use io oper output function term use explicit implicit cast ebfunct stdstring pass function fpars pars method fparser variabl built use arg method cpp functionparseradbaser gparser gparserparseg garg exampl use expressionbuild inherit addit base class free energi materi base common scenario inherit derivativeparsedmaterialhelp expressionbuild class definit would cpp class examplefreeenergi public derivativeparsedmaterialhelp public expressionbuild public examplefreeenergyconst inputparamet paramet protect variabl use free energi ebterm _t _c boltzmann constant const real _kb free energi express would built constructor cpp inputparamet examplefreeenergyvalidparam inputparamet param derivativeparsedmaterialhelpervalidparam paramsaddclassdescriptionexampl deriv free energi materi paramsaddrequiredcoupledvart temperatur paramsaddrequiredcoupledvarc concentr return param examplefreeenergyexamplefreeenergyconst inputparamet paramet derivativeparsedmaterialhelperparamet _tt use name validparam variabl _cc _kbe ebfunct g grand configur entropi contribut grand_c_t _kb _t _clog_c _clog_c total free energi g_c_t _c_c_c_c _grand_c_t functionparseg that functionpars call gener optim select user enable_jit config paramet compil function deriv name variabl declar ebterm varnam substitut coupl variabl name see also automat differentiationfunctionmaterialsautomaticdifferentiationmd moos applic develop time compilationfunctionmaterialsjitcompilationmd pars function moos applic develop step make faster test model input file step found s_fasttestihttpsgithubcomidaholabmooseblobdevelmodulesphase_fieldtutorialsspinodal_decompositions_fasttesti chang input file work improv accuraci model good idea add featur speed solut add adapt time step prevent moos take unnecessari deriv tell moos output inform help us speed simul even deriv order pars materi allow moos take deriv input function automat rather user input deriv hand moos default take rd order deriv problem need second order deriv calcul specifi moos take second order deriv prevent take unnecessari third deriv yaml local_energi defin function local free energi densiti given problem convert unit add scale factor type derivativeparsedmateri block f_name f_loc arg c constant_nam b c e f g ev_j constant_express e e e e e e e e e function ev_jdacbccclogcdclogc eccfcccgccc derivative_ord adapt time step adapt time step let simul chang time step size depend quickli surfac actual chang sever way tell moos decid chang time step simul link mani iter take previou time step converg done subblock execution block yaml execution type transient solve_typ newton l_max_it l_tol e nl_max_it nl_abs_tol e end_tim day need run long enough verifi model work properli petsc_options_inam pc_type ksp_gmres_restart sub_ksp_typ sub_pc_typ pc_asm_overlap petsc_options_valu asm preonli ilu timestepp turn time step type iterationadaptivedt dt cutback_factor growth_factor optimal_iter inform moos go maxim solut converg need know inform first go moos tell us mani time calcul residu tell us long spend simul know piec inform make small chang input file see chang affect converg add postprocessorssyntaxpostprocessor eventu add lot tell us simul start two yaml postprocessor evalu cumul residu calcul simul type numresidualevalu active_tim time comput spent simul type runtim time_typ activ postprocessor need output modifi output block output csv file termin consol tell us postprocessor valu yaml output exodu true consol true csv true print_perf_log true output_initi true consol type consol max_row anoth option improv speed converg system converg best residu variabl magnitud moos option call scale allow us multipli residu one variabl factor order get residu magnitud need know residu add debug block tell us residu everi iter yaml debug show_var_residual_norm true simul result run simul see solut ident first simul took small fraction time small fraction time step open csv file gener see inform long simul took addit look termin screen see time step converg two variabl residu magnitud scale necessari right simul go fast chang real initi condit see decompos like expect continu step add phase decomposit modelstepmd step energi curv input file step found s_energycurveihttpsgithubcomidaholabmooseblobdevelmodulesphase_fieldtutorialsspinodal_decompositions_energycurvei input file go make two chang simul complet first sinc notic variabl residu match scale one variabl get better match second calcul total energi surfac output check scurv shape scale yaml variabl c mole fraction cr unitless order first famili lagrang scale e w chemic potenti evmol order first famili lagrang wish remov debug block keep check scale correct free energi curv rememb cahn hilliard equat beginequ frac partial c partial nabla cdot mc nabla leftfrac partial f_locc partial c kappa nabla c right endequ energi come free energi densiti function term gradient energi curv need combin order calcul total energi surfac defin auxiliari variabl use builtin auxiliari kernel combin term output variabl exodu file integr variabl csv file yaml auxvari f_densiti local energi densiti evmol order constant famili monomi auxkernel calcul energi densiti combin local gradient energi f_densiti evmolnm type totalfreeenergi variabl f_densiti f_name f_loc kappa_nam kappa_c interfacial_var c auxiliari variabl f_densiti return total energi densiti point surfac order get total free energi integr variabl postprocessor yaml total_energi total free energi timestep type elementintegralvariablepostprocessor variabl f_densiti wish may remov postprocessor feel unnecessari simul point may continu tri optim simul chang valu precondit execution block result media phase_fieldfreeenergycurvepng stylewidthpxpaddingleftpxfloatright captionsurfac free energi curv surfac result look last simul realli want look surfac energi look like throughout simul plot total energi right note postprocessor valu calcul initi condit replic plot must remov valu csv file plot see energi plot scurv shape expect verifi expect system behav correct therefor assum model work correctli continu tutori conclusiontutorialmdconclus step make mobil function input file step found s_mobilityihttpsgithubcomidaholabmooseblobdevelmodulesphase_fieldtutorialsspinodal_decompositions_mobilityi input file chang go make two chang simul first make mobil function instead constant check surfac decompos chromium phase materi balanc say chang primarili materi block use derivativeparsedmateri defin equat mobil similar defin free energi densiti remov constant block add anoth materi check element chromium phase materi block look like yaml materi scale factor make easier solut converg without chang result defin first three materi must valu one kappa gradient energi coeffici ev nmmol type genericfunctionmateri prop_nam kappa_c prop_valu eeee kappa_cev_jnm_md mobil mobil nm molev type derivativeparsedmateri f_name arg c constant_nam acr bcr ccr dcr ecr fcr gcr afe bfe cfe dfe efe ffe gfe nm_m ev_j constant_express e e e function nm_mev_jdcc acrcbcrcccrclogcdcrclogc ecrccfcrcccgcrccc cc afecbfeccfeclogcdfeclogc efeccffecccgfeccc derivative_ord output exodu local_energi local free energi function evmol type derivativeparsedmateri f_name f_loc arg c constant_nam b c e f g ev_j constant_express e e e e e e e e e function ev_jdacbccclogcdclogc eccfcccgccc derivative_ord precipitate_ind return precipit type parsedmateri f_name prec_ind arg c function ifc note area surfac nm frac within differ materi argument block includ save time defin common argument rather materi includ global paramet block yaml globalparam block gener mesh use materi kernel mobil equat readi run howev chromium phase fraction output order output add postprocessor yaml precipitate_area fraction surfac devot precipit type elementintegralmaterialproperti mat_prop prec_ind bring number postprocessor result media phase_fieldmobilityeqpng stylewidthpxpaddingleftpxfloatright captionsimul result first figur right show result simul see chang mobil function reduc number featur second figur show fraction surfac cover chromium phase function time close calcul promis exact concentr gradient phase interfac still residu magnitud output screen may notic magnitud chang time residu concentr sever order magnitud smaller residu chemic potenti next simul scale concentr variabl case continu almost done next calcul total free energi surfac look scurv media phase_fieldsurfaceplotpng stylewidthpxpaddingleftpxfloatright captionchromium phase fraction step check surfac energi curvestepmd step add phase decomposit model input file step found s_decompihttpsgithubcomidaholabmooseblobdevelmodulesphase_fieldtutorialsspinodal_decompositions_decompi chang input file go chang four thing initi condit solut time go add mesh adapt add postprocessor initi condit know initi condit mol chromium minor variat input use random initi condit yaml ic concentration mol cr variat type random min max seed variabl c note seed random number gener seed effect simul behav solut time run simul long enough begin see behavior want run full seven day chang execution block yaml end_tim day mesh adapt order accur calcul phase interfac need rel fine mesh howev bulk phase significantli speed solut use coars mesh luckili moos come equip let us refin mesh need extra accuraci coarsen dont chang mesh block look like yaml mesh type generatedmesh dim distribut default elem_typ quad nx ny nz xmin xmax ymin ymax zmin zmax uniform_refin basic mesh element defin coarsest mesh uniform_refin option refin mesh first time step element mesh turn mesh adapt mesh would remain throughout simul would exact mesh use alreadi add mesh adapt go back execution block add adapt subblock tell want maximum refin level two factor finer coarsest mesh allow yaml execution type transient solve_typ newton l_max_it l_tol e nl_max_it nl_abs_tol e end_tim day petsc_options_inam pc_type ksp_grmres_restart sub_ksp_typ sub_pc_typ pc_asm_overlap petsc_options_valu asm preonli ilu timestepp type iterationadaptivedt dt cutback_factor growth_factor optimal_iter adapt coarsen_fract refine_fract max_h_level postprocessor mesh adapt turn interest mani element surfac calcul turn numnod postprocessor also interest size time step chang throughout simul add timesteps postprocessor also look number iter time step yaml postprocessor step_siz size time step type timesteps iter number iter need converg timestep type numnonlineariter node number node mesh type numnod evalu cumul residu calcul simul type numresidualevalu active_tim time comput spent simul type runtim time_typ activ simul result media phase_fielddecompositionresultspng stylewidthpxpaddingleftpxfloatright captiondecomposit result mesh shown imag right result simul mesh shown see adapt effect mesh mesh remain fine larg concentr gradient coarsen larg area littl chang see alloy decompos two phase phase form circl mean model like good depend random variat initi condit may also circl could stripe surfac next readi input mobil function see much surfac devot phase continu step make mobil functionstepmd step make simpl test model input file step found s_testmodelihttpsgithubcomidaholabmooseblobdevelmodulesphase_fieldtutorialsspinodal_decompositions_testmod input file block go start simplest input file add featur make model accur go use split cahnhilliardphase_field_equationsmd method converg faster direct method basic block need mesh variabl ic bc kernel materi precodit execution output mesh mesh block go creat two dimension mesh nm nm element yaml mesh gener nm x nm mesh type generatedmesh dim elem_typ quad nx ny nz xmin xmax ymin ymax zmin zmax variabl use split form two variabl defin mole fraction chromium chemic potenti yaml variabl c mole fraction cr unitless order first famili lagrang w chemic potenti evmol order first famili lagrang ic start want check second expect surfac minim interfac region form circular straight line region use bound box initi condit equilibrium concentr calcul free energi densiti curv yaml ic use bound box ic equilibrium concentr make sure model behav expect testic type boundingbox variabl c x x insid outsid bc common phase field simul use period boundari condit yaml bc period bc usual done phasefield model period c_bc auto_direct x kernel use kernel specifi split cahnhilliard equat note name free energi function mobil gradient energi coeffici f_loc kappa_c respect name materi block yaml kernel w_dot variabl w v c type coupledtimederiv coupled_r variabl w type splitchwr mob_nam coupled_pars variabl c type splitchpars f_name f_loc kappa_nam kappa_c w w materi materi block defin equat constant model defin f_locc mc kappa moos simplifi thing right go defin mc constant valu rather function also unit convers materi block note valu name kernel block addit unit convers accident discov converg properti improv use scale factor f_locc kappa multipli mc multipli invers chang solut seem help converg yaml materi scale factor make easier solut converg without chang result defin materi must valu one constant defin constant valu kappa_c eventu replac equat rather constant type genericfunctionmateri block prop_nam kappa_c prop_valu eeee eeee kappa_cev_jnm_md mnm_mev_jd local_energi defin function local free energi densiti given problem convert unit add scale factor type derivativeparsedmateri block f_name f_loc arg c constant_nam b c e f g ev_j constant_express e e e e e e e e e function ev_jdacbccclogcdclogc eccfcccgccc precondit split cahnhilliard best converg properti use newton solversolvingmd newton solver alway requir precondit yaml precondit coupl type smp full true execution execution block tell moos solv problem mani valu block arbitrari experi chang see chang solut see executionersyntaxpreconditioningindexhtml preconditioningsyntaxexecutionerindexhtml page inform system right main interest see model work shorten time simul run long enough see grain becom circular yaml execution type transient solve_typ newton l_max_it l_tol e nl_max_it nl_abs_tol e end_tim day need run long enough verifi model work properli petsc_options_inam pc_type ksp_grmres_restart sub_ksp_typ sub_pc_typ pc_asm_overlap petsc_options_valu asm preonli ilu dt output output block let us decid moos tell us simul output initi condit compar final condit yaml output exodu true consol true print_perf_log true output_initi true simul result media phase_fieldsimpleoutpng stylewidthpxpaddingleftpxfloatright captionfin result simpl test model media phase_fieldsimpleinpng stylewidthpxpaddingleftpxfloatright captioniniti condit simpl test model first imag right show initi condit simul second imag show end result simul result show chromium phase corner round shape becom circular exactli would expect happen surfac tri reduc free energi result promis sign simul work correctli continu step make faster test modelstepmd conservedlangevinnoiseconservedlangevinnoisemd kernel use plugabl user object act supplier random field system allow gener concentr conserv nois mean integr appli nois field guarante zero phase field simul avoid massconserv violat concentr drift kernel yield parallel reproduc result avail user object provid nois field conserveduniformnoiseconserveduniformnoisemd conservedmaskeduniformnoiseconservedmaskeduniformnoisemd conservednormalnoiseconservednormalnoisemd conservedmaskednormalnoiseconservedmaskednormalnoisemd uniform stand uniform random number distribut normal stand gaussian normal distribut user object mask name take materi properti use spatial depend multipli nois field allow select applic nois subregion sampl souch grain boundari temperatur depend nois amplitud discret nucleat media phase_fieldnucleationgif stylewidthmarginleftpxfloatright captionnucl system action fecuni system clockwis top left copper concentr nickel concentr nucleat penalti energi densiti bulk free energi densiti _discret nucleation_ system allow user incorpor nucleat phenomena phase field simul due lack thermal fluctuat also see langevin noisenucleationlangevinnoisemd nucleat phenomena intrins phase field method introduc nucleat artifici trigger stabil format nuclei local modif free energi densiti direct chang order paramet system compris user object materi class marker mesh adapt postprocessor auxkernel discretenucleationinserterdiscretenucleationinsertermd user object maintain global list current activ nucleu posit discretenucleationmapdiscretenucleationmapmd user object maintain smooth densiti map nuclei locat obtain discretenucleationinsert discretenucleationmaterialsdiscretenucleationmd materi calcul local free energi penalti base differ set given concentr variabl target concentr use data discretenucleationmap discretenucleationmarkermarkersdiscretenucleationmarkermd marker trigger refin point nucleu insert discretenucleationtimesteppostprocessorsdiscretenucleationtimestepmd postprocessor provid time step limit new nuclei use iterationadaptivedtiterationadaptivedtmd discretenucleationdatapostprocessorsdiscretenucleationdatamd postprocessor provid diagnost data nucleat event discretenucleationauxdiscretenucleationauxmd auxkernel map discretenucleationmapdiscretenucleationmapmd auxvari field discretenucleationforcediscretenucleationforcemd kernel map discretenucleationmapdiscretenucleationmapmd variabl field combin reactionreactionmd kernel nucleat approach approach requir use insert map user object advanc user may chose deriv userobject provid class exampl implement map realiz differ nucleu shape smooth interfac sphere provid discretenucleationmapdiscretenucleationmapmd multipl option exist applyt nucleu data variabl field simul free energi penalti base nucleat free energi penalti base approach eschew directli modifi conserv concentr nonconserv order paramet field instead bia thermodynam system way drive format nuclei locat provid discret nucleat system simpli state local free energi densiti modifi make nucleat state lower energi state caus solut diffus toward nucleat site conserv case bring chang nonconserv order paramet field moos provid discretenucleationmaterialsdiscretenucleationmd materi implement simpl harmon form penalti advanc user free implement free energi modif follow exampl set materi conserv order paramet use derivativesummaterialderivativesummaterialmd add nucleat free energi penalti physic free energi contribut system util cahnhilliard kernel nonconserv order paramet use either derivativesummaterialderivativesummaterialmd add nucleat free energi penalti physic free energi contribut system add addit allencahnallencahnmd kernel use nucleat penalti energi variabl influenc nucleat process latter approach also work hardcod free energi util function materialphase_fieldfunctionmaterialsmd approach direct order paramet modif case polycrystallin model use conjunct grain tracker direct modif nonconserv order paramet feasibl approach nucleat new grain polycrystallin model graintrackergraintrackermd requir use reserv stage order paramet order paramet grain tracker detect new grain never use target remap new grain nuclei insert success get pick remap onto evolv order paramet appli discretenucleationforcediscretenucleationforcemd reactionreactionmd kernel reserv order paramet set hold_tim insert caus modif reserv op singl timestep enough graintrack pick remap new nucleu advanc subject media phase_fieldrefinegif stylewidthmarginleftpxfloatright captiontarget mesh refin prior nucleu insert use mesh timestep adapt support discretenucleationmarkermarkersdiscretenucleationmarkermd discretenucleationtimesteppostprocessorsdiscretenucleationtimestepmd object langevin nois moos phase field modul support ad consist random nois term zeta pde beginequ fracparti cpartial dot zetatvec r endequ challeng finit element solv recomput resildu jacobian term multipl time per timestep nois field throughout given timestep ideal nois field also independ parallel simul legaci langevinnoisekernelslangevinnoisemd kernel suppli stabl nois field given timestep initi random number stream seed function timestep number begin everi residu calcul jacobian independ nois field includ nucleationconservednoise_includemd use maxim poissondisk sampl mp gener grain centroid random closepack rcp structur realiz spatial sampl process known maxim poissondisk sampl mp rcp structur averag aspect ratio voronoi cell approxim one rcp voronoi structur provid equiax grain structur mp algorithm describ citeebeida_ implement meshinggeniehttpsgithubcomtrilinostrilinostreemasterpackagesmeshinggeni packag trilinoshttpstrilinosorg meshinggeni gener list grain centroid text file read polycrystalvoronoi initi condit build instruct standalon version meshinggeni download releas version trilinoshttpsgithubcomtrilinostrilinosreleasestagtrilinosreleas note pleas git clone run cmake trilinospackagesmeshinggeniesrcstandalon directori run make execut file name meshinggeni locat trilinospackagesmeshinggeniesrcstandaloneapp directori run meshinggeni gener centroid grain run meshinggeni type meshinggeni inputdat input file inputdat first line p indic mp second line format r n_bp n_bf dimens r distribut radiu random seed n_bp number boundari point n_bf number boundari face next n_bp line x z boundari point order entri next n_bf line describ triangular boundari face use indic boundari point list order direct outward normal use right hand rule exampl input file ddat given text p input file ddat given text p output file contain centroid store maximal_sampledat first line contain dimens distribut radiu number grain exampl output file maximal_sampledat given text use centroid gener voronoi tessel phase field polycrystalvoronoipolycrystalvoronoimd read grain centroid text file perform voronoi tesslat produc grain structur syntax text userobject voronoi type polycrystalvoronoi grain_num file_nam grainstxt grainstxt contain grain centroid taken maximal_sampledat exampl text file grainstxt given text x bibtex bibliographi polycryst initi condit polycryst initi condit creat way read file gener voronoi tessel set point place regular crystal pattern hex circl case advantag simul system reduc number order paramet effici requir use grain trackergraintrackermd trickiest part run reduc order paramet model howev initi assign order paramet grain process akin solv graph coloringhttpsenwikipediaorgwikigraph_color fortun order paramet assign process taken care polycryst initi condit simpli extend polycrystaluserobjectbas class media mediaphase_fieldvoronoi_floodpng captiongrain structur associ neighbor graph overlaid extent class must begin provid report number grain initi condit list modulesphase_fieldincludeuserobjectspolycrystaluserobjectbaseh linegetnumgrain addit develop must provid implement report grain everi point domain list modulesphase_fieldincludeuserobjectspolycrystaluserobjectbaseh startgetgrainsbasedonpoint end final method report variabl valu current order paramet point must provid method call order paramet assign grain list modulesphase_fieldincludeuserobjectspolycrystaluserobjectbaseh linegetvariablevalueunsign object use implement build grain adjac graph feed stochast determinist graph color algorithm moos default use one builtin high perform color algorithm petsc packag howev simpl backtrack algorithm also includ work reason well smaller midsiz problem centroid grain randomli gener read file use maxim poissondisk sampl mp gener grain centroid describ mpsmpsmd see polycrystalvoronoipolycrystalvoronoimd polycrystalebsdpolycrystalebsdmd polycrystalcirclespolycrystalcirclesmd polycrystalhexpolycrystalhexmd read ebsd data read experiment electron backscatt diffract ebsdhttpsenwikipediaorgwikielectron_backscatter_diffract data three compon need ebsdmeshebsdmeshmd mesh object ebsdreaderebsdreadermd userobjcet initi condit reconvar action provid media mediaphase_fieldebsdreader_stresspng stylewidthmarginrightfloatleft captionreconstruct microstructur stress creat use combin modul exampl file ebsd_reconstruction_grain_growth_mechi media mediaphase_fieldebsdreader_examplepng stylewidthmarginleftfloatright captionreconstruct microstructur use ebsdread creat use phase_field modul exampl file ingrni mesh mesh gener ebsd inform specifi ebsd data file get optim reconstruct data accomplish mesh block use ebsdmeshebsdmeshmd type mesh creat one node per data point ebsd data file wish use mesh adapt allow mesh get coarser simul uniform_refin paramet use set mani time mesh coarsen block take form list modulesphase_fieldexamplesebsd_reconstructioningrni startmesh endglobalparam ebsd reader userobject userobject read data file use name suppli mesh block store data object local data materi point well averag data grain block syntax simpl list modulesphase_fieldexamplesebsd_reconstructioningrni startuserobject endvari appli initi condit initi condit variabl set ebsd data three possibl use case summar case creat grain structur grain number ebsd data ignor phase number grain structur creat ebsd data assign initi condit valu order paramet mani grain repres number order paramet requir block list modulesphase_fieldtesttestsreconstructionphase_reconstructioni startmesh endenddoc case initi variabl specif phase number ebsd data ignor grain number valu singl variabl initi ebsd data correspond singl phase number requir block list modulesphase_fieldtesttestsreconstructionphase_reconstructioni startmesh endenddoc case creat initi grain structur ebsd data correspond one phase number grain phase number use order paramet initi ebsd data use grain given phase number list modulesphase_fieldtesttestsreconstructionphase_reconstructioni startmesh endenddoc use ebsd crystal info ebsdread local grid data extract use getdatapoint function call pass locat point want data avail data extract given point phi first euler angl phi_ phi second euler angl phi phi third euler angl phi_ grain index grain phase index phase symmetri symmetri class tsl exampl use function shown cpp const ebsdreaderebsddata _ebsd_readergetdatap _euler_angl dphi _euler_angl dphi _euler_angl dphi ebsdread averag grain data extract use getavgdataunsign int function call pass grain number want data avail data extract phi averag first euler angl phi_ phi averag second euler angl phi phi averag third euler angl phi_ phase index phase grain symmetri symmetri class tsl p point centroid locat exampl use function show taken reconvar cpp const ebsdreaderebsdavgdata _ebsd_readergetavgdatagrn_index _centerpointsgr dp plot color represent crystal orient media mediaphase_fieldrgb_plotpng stylewidthmarginleftpxfloatright captionreconstruct microstructur color represent invers polefigur descript crystyal orient imag creat use phase_field modul exampl file ingrni common use invers pole figur represent crystal orient color grain repres ebsd data simplifi comparison experi moos tool output color valu invers pole figur represent visual use paraview spatial vari red green blue rgb valu output auxvari automat read paraview vector two auxkernel use output rgb valu first eulerangleproviderrgbauxhttpmooseframeworkorgdocsdoxygenmodulesclasseulerangleproviderrgbauxhtml simplest requir entir domain crystal structur second euleranglevariablesrgbauxhttpmooseframeworkorgdocsdoxygenmodulesclasseuleranglevariablesrgbauxhtml requir variou auxvari contain euler angl crystal structur phase number easiest way output valu use custom action block input file avail syntax text modul phasefield euleranglesrgb crystal_structur cubic euler_angle_provid ebsd grain_track grain_track recommend plot color use paraview euleranglergb action creat three auxvari default name rgb_x rgb_i rgb_z paraview automat creat vector variabl name rgb_ correctli repres color select rgb_ visual variabl properti section advanc properti toggl uncheck map scalar scalar color config navig breadcrumbsfals scrollspyfals externalpetscsolverapp externalpetscproblem interfac call pure petsc solver also sync petsc solut moos variabl variabl coupl moos applic extern petsc time stepper time stepper use queri dt petsc ts synchron time step size wrapper app extern petsc solver petscdmdamesh gener parallel distribut mesh petsc dmda dmda could pass applic externalpetscsolverapp creat fli note mesh object one layer ghost element design hold solut extern petsc applic solut coupl moosebas applic use exist multiapp transfer modulesxfemindexmd xfem descript xfem block must suppli run moos simul use xfem xfemactionactionsxfemactionmd associ block perform key model setup task xfem input syntax block provid interfac specifi paramet relat xfem includ block input file serv sever function caus algorithm run defin interv split mesh base set evolv defin interfac caus modifi quadratur rule use correctli integr element split interfac creat object gener output relat xfem algorithm provid syntax block variou paramet control behavior xfem specifi user includ provid qrule variabl xfem determin quadratur weight rule use specifi output_cut_plan variabl output cut element exodu mesh option provid paramet valu prescrib increment crack growth option setup near tip enrich paramet option allow user control amount debug inform print simul construct object three usersett paramet pass paramet xfem object use set relev option qrule variabl increment crack growth debug_output_level remain paramet result creation variou object allow input file concis follow tabl detail type class creat util output_cut_plan option xfemact tabl idincr_crack_xfem_action_t captioncorrespond among action function mooseobject xfemact output_cut_plan true function replac class associ paramet add auxvari variou cut paramet volum fraction calcul auxvariablesauxvariablesindexmd add auxkernel variou cut paramet volum fraction calcul xfemvolfracauxxfemvolfracauxmd xfemcutplaneauxxfemcutplaneauxmd sever object instanti use output_cut_plan option auxvari auxkernel store data defin xfem cut element volum fraction well definit two plane x z origin normal allow cut locat track throughout simul save user manual set auxvari associ auxkernel xfemvolfracaux volum fraction xfemcutplaneaux cut plane auxvari next class type creat use crack tip enrich detail tabl idnear_tip_xfem_action_t captioncorrespond among action function mooseobject xfemact use_crack_tip_enrich true function replac class associ paramet add enrich displac variabl variablessyntaxvariablesindexmd enrichment_displac vector enrich displac name add stress diverg tensor kernel crack tip enrich cracktipenrichmentstressdivergencetensorscracktipenrichmentstressdivergencetensorsmd crack_front_definit enrichment_displac displac add crack tip enrich boundari condit cracktipenrichmentcutoffbccracktipenrichmentcutoffbcmd cut_off_boundari cut_off_radiu crack_front_definit crack tip enrich use enrichment_displac ad firstord lagrang variabl next cracktipenrichmentstressdivergencetensor kernel ad enrich displac variabl kernel use crack_front_definit enrichment_displac diplac provid xfem action enrich displac variabl also associ cracktipenrichmentcutoffbc object ad action user specifi paramet userobject crack_front_definit vector boundarynam variabl cut_off_boundari respect real valu cut_off_radiu exampl input file syntax mani input file util qule output_cut_plan variabl list modulesxfemtesttestsbimaterialsglued_bimaterials_di blockxfem howev option exist specifi crack grow prescrib fashion list modulesxfemtesttestssolid_mechanics_basiccrack_propagation_di blockxfem addit xfem action contain variabl use employ near tip enrich use propag crack tip end within element list modulesxfemtesttestscrack_tip_enrichmentedge_crack_di blockxfem use xfem action output vari level problem solut detail chang valu debug_output_level variabl default set xfem output either turn debug_output_level greater detail ad output set variabl syntax paramet xfemxfemact syntax list xfem objectstru actionsfals subsystemsfals syntax list xfem objectsfals actionsfals subsystemstru syntax list xfem objectsfals actionstru subsystemsfals xfempressur syntax descript dirackernelsxfempressur overview xfempressur appli forc interfac cut xfem magnitud specifi user implement dirackernel compon normal vector interfac correspond hatx hati hatz vector compon use determin direct appli traction variabl disp_x paramet compon set variabl disp_i paramet compon set variabl disp_z paramet compon set magnitud pressur boundari condit specifi either scalar use input paramet factor function paramet exampl input syntax list testtestspressure_bcedge_d_pressurei blockdirackernel syntax paramet dirackernelsxfempressur syntax input dirackernelsxfempressur syntax children dirackernelsxfempressur cutsubdomainidaux syntax descript auxkernelscutsubdomainidaux overview allow use xfem model interfac materi xfem system use cut subdomain id denot subset standard moos subdomain element block materi point belong cutsubdomainidaux output valu cut subdomain id element alert note cut subdomain id special id use xfem differ libmesh subdomain id although cutelementsubdomainmodifieruserobjectscutelementsubdomainmodifiermd could use assign cut subdomain id element subdomain id exampl input file syntax syntax paramet auxkernelscutsubdomainidaux syntax input auxkernelscutsubdomainidaux syntax children auxkernelscutsubdomainidaux xfemcutplaneaux syntax descript auxkernelsxfemcutplaneaux descript moos xfem implement use phantom node techniqu element travers discontinu split two partial element contain physic nonphys materi xfemcutplaneaux output use xfem paraview pluginhttpsgithubcomidaholabxfemparaviewplugin moosexfemclip defin cut plane cut nonphys portion partial element automat ad output_cut_plan true xfemsyntaxxfemindexmd block xfemmarkeraux syntax descript auxkernelsxfemmarkeraux descript xfemmarkeraux return one crack tip element zero otherwis xfemvolfracaux syntax descript auxkernelsxfemvolfracaux descript moos xfem implement use phantom node techniqu element travers discontinu split two partial element contain physic nonphys materi xfemvolfracaux use comput volum fraction physic portion partial element meshcutlevelsetaux syntax descript auxkernelsmeshcutlevelsetaux descript meshcutlevelsetaux calcul level set valu interfac defin cutter meshinterfacemeshcutduserobjectinterfacemeshcutduserobjectmd interfacemeshcutduserobjectinterfacemeshcutduserobjectmd valu level set given point calcul sign distanc point surfac interfac sign determin whether point insid close interfac contour exampl input file syntax list modulesxfemtesttestsmoving_interfacephase_transition_di blockauxkernelsl syntax paramet auxkernelsmeshcutlevelsetaux syntax input auxkernelsmeshcutlevelsetaux syntax children auxkernelsmeshcutlevelsetaux bibtex bibliographi cracktipenrichmentstressdivergencetensor displac field consist summat standard displac neartip enrich neartip enrich enabl cracktipenrichmentstressdivergencetensor kernel comput contribut enrich variabl residu jacobian applic smallstrain calcul exampl input syntax syntax descript kernelscracktipenrichmentstressdivergencetensor syntax paramet kernelscracktipenrichmentstressdivergencetensor syntax input kernelscracktipenrichmentstressdivergencetensor syntax children kernelscracktipenrichmentstressdivergencetensor cutelementsubdomainmodifi syntax descript userobjectscutelementsubdomainmodifi overview cutelementsubdomainmodifi switch element subdomain id base cutsubdomainid mark geometr cut userobject object extend capabl describ coupledvarthresholdelementsubdomainmodifieruserobjectcoupledvarthresholdelementsubdomainmodifiermd allow subdomain defin base xfem interfac exampl input file syntax list modulesxfemtesttestsmoving_interfacemoving_bimaterial_finite_strain_esmi blockuserobject syntax paramet userobjectscutelementsubdomainmodifi syntax input userobjectscutelementsubdomainmodifi syntax children userobjectscutelementsubdomainmodifi linesegmentcutuserobject syntax descript userobjectslinesegmentcutuserobject overview linesegmentcutuserobject defin line segment cut xfem make dimension mesh start end point line segment defin cut_data vector four real valu start point x start point end point x end point default entir cut specifi perform propog cut may prescrib along line segment specifi time_start_cut time_end_cut paramet simul time cut lengthen r_total cdot fract_curr t_startt_end t_start timestep time_start_cut time_end_cut also option scale translat point given cut data scale translat x coordin must specifi separ specifi scale translat appli start end point exampl input syntax list testtestssecond_order_elementsdiffusion_d_quadi blockuserobject syntax paramet userobjectslinesegmentcutuserobject syntax input userobjectslinesegmentcutuserobject syntax children userobjectslinesegmentcutuserobject xfemranktwotensormarkeruserobject syntax descript userobjectsxfemranktwotensormarkeruserobject overview object use mark element cut xfem base scalar extract specifi ranktwotensor use store stress strain tensormechan princip stress compon stress standard scalar type extract ranktwotensor avail scalar exce userspecifi threshold crack extend current element threshold provid coupl variabl specifi either constant valu name variabl use introduc random strength use auxvari initi random initi condit determin whether element crack base either maximum valu scalar quantiti quadratur point element averag valu crack allow propag new element exceed criterion initi specifi boundari exampl input file syntax list testtestssolid_mechanics_basiccrack_propagation_di blockuserobjectsxfem_marker_uo syntax paramet userobjectsxfemranktwotensormarkeruserobject syntax input userobjectsxfemranktwotensormarkeruserobject syntax children userobjectsxfemranktwotensormarkeruserobject circlecutuserobject syntax descript userobjectscirclecutuserobject overview circlecutuserobject defin boundari circular cut xfem make dimension mesh user enter three point cut_data paramet x z coordin first center point circl follow two point boundari circl object calcul radiu angl circl respect xy plane verifi point defin circl rather ellips logic determin given point insid cut plane exampl input syntax list testtestssolid_mechanics_basicpenny_cracki blockuserobject syntax paramet userobjectscirclecutuserobject syntax input userobjectscirclecutuserobject syntax children userobjectscirclecutuserobject nodevalueatxfeminterfac syntax descript userobjectsnodevalueatxfeminterfac overview valu field variabl either side move interfac often need defin interfac veloc variabl gradient might discontinu across interfac fact interfac lie standard quadratur point make difficult get quantiti interfac use exist function moos nodevalueatxfeminterfac provid function return valu field variabl gradient posit neg side interfac run node cut mesh typic node cut mesh lie within element finit element mesh locat determin pointloc valu field variabl node locat obtain interpol element overlap element node valu shape function nodevalueatxfeminterfac object use xfemmovinginterfacevelocitybas deriv class calcul veloc interfac move interfac problem exampl input file syntax list modulesxfemtesttestsmoving_interfacephase_transition_di blockuserobjectsvalue_uo syntax paramet userobjectsnodevalueatxfeminterfac syntax input userobjectsnodevalueatxfeminterfac syntax children userobjectsnodevalueatxfeminterfac ellipsecutuserobject syntax descript userobjectsellipsecutuserobject overview ellipsecutuserobject defin boundari ellipt cut xfem make dimension mesh user enter three point cut_data paramet x z coordin center point ellips must specifi first follow point edg ellips longest shortest axe order object calcul two radii verifi point provid locat within plane logic determin whether given point locat insid cut plane exampl input syntax list testtestssolid_mechanics_basicelliptical_cracki blockuserobject syntax paramet userobjectsellipsecutuserobject syntax input userobjectsellipsecutuserobject syntax children userobjectsellipsecutuserobject levelsetcutuserobject syntax descript userobjectslevelsetcutuserobject overview userobject levelsetcutuserobject use level set field cut finit element mesh zero level set contour repres interfac exampl input file syntax list modulesxfemtesttestsdiffusion_xfemlevelsetcutd_auxi blockuserobjectslevel_set_cut_uo syntax paramet userobjectslevelsetcutuserobject syntax input userobjectslevelsetcutuserobject syntax children userobjectslevelsetcutuserobject linesegmentcutsetuserobject syntax descript userobjectslinesegmentcutsetuserobject overview linesegmentcutsetuserobject defin set line segment cut xfem make dimension mesh cut_data paramet consist n entri length six real valu n entri separ rather length cut_data vector must multipl six set six valu cut_data prescrib line segment cut start point x start point end point x end point start cut time end cut time object check ensur length cut_data multipl six provid start cut time end cut time valu differ cut lenghten r_total cdot fract_curr t_startt_end t_start timestep start cut time specifi end cut time linesegmentcutuserobject scale translat avail via option paramet appli applic compon cut_data exampl input syntax list testtestssecond_order_elementssquare_branch_quad_di blockuserobject syntax paramet userobjectslinesegmentcutsetuserobject syntax input userobjectslinesegmentcutsetuserobject syntax children userobjectslinesegmentcutsetuserobject interfacemeshcutduserobject syntax descript userobjectsinterfacemeshcutduserobject overview interfacemeshcutduserobject use cut mesh cutter mesh element type cutter mesh must edg node cutter mesh move veloc given function xfemmovinginterfaceveloc userobject exampl input file syntax list modulesxfemtesttestsmoving_interfacephase_transition_di blockuserobjectscut_mesh syntax paramet userobjectsinterfacemeshcutduserobject syntax input userobjectsinterfacemeshcutduserobject syntax children userobjectsinterfacemeshcutduserobject xfemphasetransitionmovinginterfaceveloc syntax descript userobjectsxfemphasetransitionmovinginterfaceveloc overview xfemphasetransitionmovinginterfaceveloc calcul interfac veloc given v frac dnabla ucdottextn u u_ exampl input file syntax list modulesxfemtesttestsmoving_interfacephase_transition_di blockuserobjectsveloc syntax paramet userobjectsxfemphasetransitionmovinginterfaceveloc syntax input userobjectsxfemphasetransitionmovinginterfaceveloc syntax children userobjectsxfemphasetransitionmovinginterfaceveloc crackmeshcutduserobject syntax descript userobjectscrackmeshcutduserobject overview class read mesh describ crack surfac use mesh initi cut element grow mesh increment base prescrib growth function code interfac domain integr method allow nonplanar crack growth base empir propag direct speed law exampl input syntax list testtestssolid_mechanics_basicedge_crack_d_propagationi blockuserobject syntax paramet userobjectscrackmeshcutduserobject syntax input userobjectscrackmeshcutduserobject syntax children userobjectscrackmeshcutduserobject rectanglecutuserobject syntax descript userobjectsrectanglecutuserobject overview rectanglecutuserobject defin boundari rectangular cut xfem make dimension mesh cut_data paramet vector length twelv defin x z real valu four vertic form rectangular cut object calcul midpoint rectangular cut normal includ logic determin given point locat within cut plane exampl input syntax list testtestssolid_mechanics_basicedge_crack_di blockuserobject syntax paramet userobjectsrectanglecutuserobject syntax input userobjectsrectanglecutuserobject syntax children userobjectsrectanglecutuserobject interfacemeshcutduserobject syntax descript userobjectsinterfacemeshcutduserobject overview interfacemeshcutduserobject use cut mesh cutter mesh node cutter mesh move veloc given function xfemmovinginterfacevelocitybas deriv userobject exampl input file syntax list modulesxfemtesttestsmoving_interfacephase_transition_di blockuserobjectscut_mesh syntax paramet userobjectsinterfacemeshcutduserobject syntax input userobjectsinterfacemeshcutduserobject syntax children userobjectsinterfacemeshcutduserobject combocutuserobject syntax descript userobjectscombocutuserobject overview combocutuserobject combin multipl geometriccutuserobject creat composit cut current geometriccutuserobject assum nonoverlap ie element cut one geometr cut geometriccutuserobject may defin set cutsubdomainid combocutuserobject follow keyvalu dictionari provid user assign cutsubdomainid cut subdomain exampl input file syntax syntax paramet userobjectscombocutuserobject syntax input userobjectscombocutuserobject syntax children userobjectscombocutuserobject levelsetbimaterialrankfour syntax descript materialslevelsetbimaterialrankfour descript materi levelsetbimaterialrankfour determin global materi properti switch two rank tensor materi properti differ base_nam base level set valu see levelsetbimaterialreallevelsetbimaterialrealmd inform alert note titlediffer use case ad nonad version nonad version class requir comput contribut stress offjacobian entri ad simul term requir nonad version class use select jacobian fracpartialsigmapartialepsilon comput two computestress materi defin level set posit domain neg domain respect base sign level set field ad version class use determin rank quantiti elast tensor c_ijkl exampl input file syntax list modulesxfemtesttestsbimaterialsglued_bimaterials_di blockmaterialscombined_dstressdstrain syntax paramet materialslevelsetbimaterialrankfour syntax input materialslevelsetbimaterialrankfour syntax children materialslevelsetbimaterialrankfour xfemcutswitchingmateri syntax descript materialsxfemcutswitchingmaterialr allow use xfem model interfac materi xfem system use cut subdomain id denot subset standard moos subdomain element block materi point belong base cut subdomain xfemcutswitchingmateri switch materi properti depend cut subdomain point locat within class read multipl version materi properti differ valu base_nam set valu materi properti without base name name properti appli current cut subdomain class four instanti describ use switch properti specif type xfemcutswitchingmaterialr xfemcutswitchingmaterialr switch two materi properti type real coexist element differ base_nam exampl input file syntax syntax paramet materialsxfemcutswitchingmaterialr syntax input materialsxfemcutswitchingmaterialr xfemcutswitchingmaterialranktwotensor xfemcutswitchingmaterialranktwotensor switch two materi properti type ranktwotensor coexist element differ base_nam exampl input file syntax syntax paramet materialsxfemcutswitchingmaterialranktwotensor xfemcutswitchingmaterialrankthreetensor xfemcutswitchingmaterialrankthreetensor switch two materi properti type rankthreetensor coexist element differ base_nam exampl input file syntax syntax paramet materialsxfemcutswitchingmaterialrankthreetensor xfemcutswitchingmaterialrankfourtensor xfemcutswitchingmaterialrankfourtensor switch two materi properti type rankfourtensor coexist element differ base_nam exampl input file syntax syntax paramet materialsxfemcutswitchingmaterialrankfourtensor levelsetbimaterialranktwo syntax descript materialslevelsetbimaterialranktwo descript materi levelsetbimaterialranktwo determin global materi properti switch two rank tensor materi properti differ base_nam base level set valu use select stress comput two computestress materi defin level set posit domain neg domain respect base sign level set field two computestress materi use complet differ constitut law see levelsetbimaterialreallevelsetbimaterialrealmd inform exampl input file syntax list modulesxfemtesttestsbimaterialsglued_bimaterials_di blockmaterialscombined_stress syntax paramet materialslevelsetbimaterialranktwo syntax input materialslevelsetbimaterialranktwo syntax children materialslevelsetbimaterialranktwo bibtex bibliographi levelsetbimaterialr syntax descript materialslevelsetbimaterialr descript level set function repres locat interfac two materi domain gener could differ materi properti system develop evalu proper model given materi system system oper evalu materi properti materi everi point select properti appropri given point switch materi properti done base levelsetbimaterialbas model select materi properti defin level set posit domain neg domain respect base sign level set field materi levelsetbimaterialr use switch two real materi properti switch rank rank tensor materi properti implement levelsetbimaterialranktwolevelsetbimaterialranktwomd levelsetbimaterialrankfourlevelsetbimaterialrankfourmd respect exampl input file syntax list modulesxfemtesttestsmoving_interfacemoving_diffusioni blockmaterialsdiff_combin syntax paramet materialslevelsetbimaterialr syntax input materialslevelsetbimaterialr syntax children materialslevelsetbimaterialr bibtex bibliographi computecracktipenrichmentsmallstrain syntax descript materialscomputecracktipenrichmentsmallstrain descript displac field contain standard enrich solut computecracktipenrichmentsmallstrain materi calcul strain total displac field includ contribut standard enrich solut dropin replac standard strain calcul applic smallstrain problem syntax paramet materialscomputecracktipenrichmentsmallstrain syntax input materialscomputecracktipenrichmentsmallstrain syntax children materialscomputecracktipenrichmentsmallstrain cracktipenrichmentcutoffbc moos permit variabl restrict specif block current provid straightforward way add variabl enrich region near crack tip ineffici workaround add new variabl associ enrich shape function whole mesh simpli fix dof zero node basi function support far away crack tip exampl input syntax syntax descript bcscracktipenrichmentcutoffbc syntax paramet bcscracktipenrichmentcutoffbc syntax input bcscracktipenrichmentcutoffbc syntax children bcscracktipenrichmentcutoffbc xfemequalvalueatinterfac syntax descript constraintsxfemequalvalueatinterfac descript xfemequalvalueatinterfac enforc u_gamma u_gamma interfac use penalti approach exampl input file syntax list modulesxfemtesttestssingle_var_constraint_dequal_valuei blockconstraintsxfem_constraint syntax paramet constraintsxfemequalvalueatinterfac syntax input constraintsxfemequalvalueatinterfac syntax children constraintsxfemequalvalueatinterfac bibtex bibliographi xfemsinglevariableconstraint syntax descript constraintsxfemsinglevariableconstraint overview without intervent phantom node method use moos xfem system result heavisid enrich solut field locat interfac zero flux condit mani case need impos constraint across interfac one solut field multiphys xfem simul purpos xfemsinglevariableconstraint object take jump solut flux singl variabl enforc prescrib jump constraint element fragment variabl constrain userobject defin interfac upon constraint occur must specifi next jump variabl valu flux interfac provid lastli method constraint enact defin use_penalti paramet paramet depend upon choic enforc method given alpha current two choic enforc method nitsch formul penalti method nitsch method advantag provid consist result requir stabil paramet alpha small possibl maintain solut stabil applic simpl diffus problem penalti method stabl give result consist nitsch appli wider varieti problem use penalti method alpha paramet quit larg rel jacobian entri physic penalti method appli exampl input file syntax list testtestsmoving_interfaceverificationd_xy_discretemati blockconstraint syntax paramet constraintsxfemsinglevariableconstraint syntax input constraintsxfemsinglevariableconstraint syntax children constraintsxfemsinglevariableconstraint xfemact syntax descript xfemxfemact descript xfemact moos action construct object need use xfem invok includ xfemsyntaxxfemindexmd block top level moos input file see page document syntax block descript exampl usag paramet xfem modul row col small medium larg xfem modul implement extend finit element method xfem moos framework use conjuct number physic modul enrich solut partial differenti equat pde form discontinu xfem theori implement detail theori manual xfem theori manualxfemtheorytheorymd embed interfacexfemtheoryembedded_interfacemd tabl provid object action syntaxobjectsactionsandsyntax section list object contain within xfem modul follow short explan object purpos link object name navig individu detail page object media xfemimagegif stylewidthfloatrightpaddingtop captioncrack propag circular mesh result hoop strain relief colend col small medium larg media xfemimagegif captionsid view deform cylind cut prescrib xfem media xfemimagegif captiontop view deform cylind cut prescrib xfem colend rowend applic xfem ideal suit problem involv local discontinu typic type problem fall one two categori strong weak discontinu strong discontinu character jump valu solut field across interfac wherea weak discontinu involv jump first deriv slope solut field across interfac exampl type problem xfem solv includ crack stationari crack crack propag manner directli prescrib user crack propag base solut stress stress intens factor etc interfac open glu close inclus interfac domain static dynam movement option stationari prescrib locat interfac interfac move manner directli prescrib user provid level set function interfac move base solut temperatur displac etc locat interfac use defin solut discontinu prescrib variou way includ userdefin cut plane use level set function evolut level set function option comput use level set modulelevel_setindexmd optionaltru recommend interfac move base calcul growth rate rather prescrib function softwar qualiti xfem modul follow strict softwar qualiti guidelin pleas refer xfem softwar qualiti assurancexfemsqaindexmd addit inform object action syntax syntax complet groupsxfemapp level templat load filesqaapp_sddmdtempl categoryxfem appxfem templat load filesqaapp_indexmdtempl categoryxfem appxfem templat item keysqareport sqa report categorycategori templat load filesqaapp_sllmdtempl categoryxfem appxfem templat load filesqaapp_rtmmdtempl categoryxfem appxfem templat load filesqaapp_stpmdtempl categoryxfem appxfem templat load filesqaapp_srsmdtempl categoryxfem appxfem templat load filesqaapp_farmdtempl categoryxfem appxfem templat load filesqaapp_vvrmdtempl categoryxfem appxfem model embed interfac addit model crack propag moos xfem modul also use repres embed interfac gener interfac locat defin individu object geometriccutuserobject defin interfac locat could done use level set geometr techniqu partit domain pair cut subdomain cut subdomain uniqu cut subdomain id multipl pair cut subdomain map onto set uniqu cut subdomain base userspecifi dictionari xfem use insert strong discontinu along interfac desir solut continu across interfac enforc use either penalti constraint nitsch method move interfac repres movement interfac user need updat interfac locat defin correspond geometriccutuserobject xfem modul handl updat interfac locat use socal healingandrecut algorithm nutshel everi time interfac locat updat correspond cut well underli strong discontinu complet remov therebi term heal updat interfac mark recut follow mesh cut algorithmxfemtheorytheorymdmesh_cutting_alg use updat interfac locat healingandrecut process historydepend data preserv interfac heal state materi properti children element interfac cach parent immedi recut time step state materi properti children element restor use cach algorithm flow detail algorithm flow data structur use store inform child element hereinaft refer cuteleminfo cei cei consist four compon child element parent element geometriccutuserobject cut subdomain id inform use restor cach state materi properti suppos two element mesh element id respect set max_xfem_upd ie xfem updat system solv first solv time step one timedepend sign distanc function defin interfac left interfac cut subdomain right interfac cut subdomain interfac move toward right time mesh cei data structur shown healing_recut_ healing_recut_ healing_recut_ first second third time step respect media mediaxfemhealing_recut_png idhealing_recut_ stylewidthpaddingpx captionth healingandrecut algorithm time step demonstr purpos cei denot use element id cut id actual implement pointer use store inform first solv first time step mesh yet cut xfem cei empti therefor noth happen function call xfemhealmesh cut mark element cut cut children element function call xfemcutmeshwithefa child element creat parent element correpond cut cut subdomain store current cei denot similarli cei entri store child element system solv interfac introduc media mediaxfemhealing_recut_png idhealing_recut_ stylewidthpaddingpx captionth healingandrecut algorithm time step demonstr purpos cei denot use element id cut id actual implement pointer use store inform second time step system first solv updat boundari condit sign distanc function may updat case interfac move toward right function call xfemhealmesh cut remov delet element sinc child element treat potenti parent element correspond entri cei updat reflect cut mark element cut base updat sign distanc function function call xfemcutmeshwithefa current cei first copi old cei four new entri store current cei shown healing_recut_ whenev new entri store current cei search old cei check new child element previous heal new child element said previous heal entri old cei parent element id cut cut subdomain id case new cei entri match old cei entri therefor cach materi properti previous heal child element copi onto new child element similarli cach materi properti previous heal child element copi onto new child element hand new cei entri found old cei data structur case materi properti parent element copi onto children element system solv updat interfac media mediaxfemhealing_recut_png idhealing_recut_ stylewidthpaddingpx captionth healingandrecut algorithm time step demonstr purpos cei denot use element id cut id actual implement pointer use store inform third time step thing mostli second time step except heal element recut updat sign distanc function case children element heal ie child element delet child element kept algorithm queri new cut subdomain id element sinc element cut subdomain id materi properti previous heal child element copi onto element xfem modul theori moos xfem modul librari implement extend finit element method xfem solv partial differenti equat pde form discontinu overview xfem fractur capabl pleas see journal articl citejiang phantomnodebas xfem xfem approach origin propos citebelytschko_elastic_ dolbow enrich standard continu finit element interpol solut field boldsymbolu function spatial coordin boldsymbolx time heavisid neartip enrich function beginequ boldsymboluboldsymbolxt underbracesum_in n_iboldsymbolx boldsymbolu_it_textcontinu underbracesum_jn n_jboldsymbolx hboldsymbolxboldsymbolb_jt_textheavisid enrich underbracesum_kn n_kboldsymbolx sum_l f_lboldsymbolxc_klt_textneartip enrich endequ n number node per finit element n_i standard finit element interpol function boldsymbolu_i nodal displac h heavisid function boldsymbolb_j addit nodal degre freedom correspond heavisid enrich f_l set enrich function captur asymptot neartip field boldsymbolc_k addit nodal degre freedom correspond neartip enrich approach requir addit degre freedom per solut variabl node whose support travers crack heavisid enrich well addit degre freedom per solut variabl node vicin crack tip neartip enrich appli set enrich node typic small subset node discret solut small fraction solut domain typic directli affect crack result drastic increas number unknown system equat howev difficult implement exist fem code permit node arbitrari number degre freedom phantom node method citehansbo also propos techniqu model meshindepend fractur phantom node method element intersect crack delet replac two element occupi physic locat origin element portion domain new element partial element repres physic materi combin physic portion partial element cover entir domain origin element split node connect nonphys portion element known phantom node solut field interpol partial element use standard finit element shape function field integr partial element done comput element contribut residu integr perform physic part element shortli phantom node techniqu propos shown citeareias_belytschko_ give exactli enrich origin propos xfem without neartip enrich function add number extra degre freedom system repres discontinu phantom node techniqu sever featur make attract originallypropos xfem heavisid enrich capabl implement standpoint gener less invas host fem code architectur requir addit nonstandard degre freedom requir minor modif element integr procedur addit degre freedom correspond standard solut field aid interpret result simplifi handl crack branch coalesc requir addit degre freedom element contain multipl crack origin xfem handl recurs cut element phantom node method citejhsongrichardson multiphys applic physic applic share common mesh phantom node techniqu automat enrich degre freedom solut variabl wherea addit enrich degre freedom would need explicitli ad origin xfem mesh cut algorithm idmesh_cutting_alg bulk complex implement phantom node method lie correctli resolv connect partial element creat element cut crack neighbor element share common crack edg share physic phantom node ensur continu finit element solut field across neighbor element materi given side crack convers element oppos side crack connect ensur discontinu properli repres phantom_node_a phantom_node_b illustr desir connect repres crack geometri algorithm base partli work richardson et al citerichardson develop present work describ cut algorithm reli use data structur known fragment term element fragment algorithm efa media xfemphantom_node_apng idphantom_node_a stylefloatleftwidth captionorigin mesh prescrib cut line shown red media xfemphantom_node_bpng idphantom_node_b stylefloatrightwidth captioncut mesh show phantom node partial element fractur mechan problem impos import requir behavior cut algorithm crack tip gener xfem permit crack tip locat anywher solut domain includ within finit element heavisid enrich use howev crack tip must coincid finit element boundari properli repres topolog crack tip cut edg partial element repres materi oppos side crack must merg uncut element ahead crack tip seen phantom_node_b addit repres crack propag time crack advanc new element merg edg element previous crack tip must disconnect special handl propag crack introduc addit complex cut algorithm one could avoid simpli discard cut mesh everi time crack advanc cut copi origin mesh howev simul state materi data associ element integr point import discard cut element contain uniqu materi data would lost cut mesh delet reason algorithm describ design oper cut mesh previou cut state everi time mesh modifi extend exist crack initi new crack approach also advantag avoid memori requir store uncut mesh data structur terminolog efa use mesh data structur consist element connect node like finit element mesh explicitli requir nodal coordin deal connect element physic locat element implement algorithm could use finit element data structur use host code present work separ mesh use efa allow featur specif algorithm ad data structur without impact rest host finit element code describ efa requir definit uniqu terminolog cut plane geometr plane use defin locat discontinu repres xfem defin number way simpl geometr descript level set function evolv indic physicsbas criteria stress fractur integr indic crack extend child element everi element travers cut plane replac multipl new element denot child element parent element element replac child element travers cut plane known parent element crack tip element element immedi ahead crack tip repres two partial element connect uncut face neighbor element denot crack tip element crack tip split element partial element behind crack tip overlap anoth partial element merg common element face crack tip call crack tip split element child node child element creat replac parent element node child element new node overlay exist node known child node parent node node duplic give rise child node known parent node embed node addit node creat intersect cut plane finit element edg cut plane node global number like standard finit element node associ degre freedom discret equat system use bookkeep efa fragment portion cut finit element repres materi locat one side one cut plane known fragment element could potenti cut multipl cut plane fragment repres smallest quantiti uncut materi within element union fragment given set child element complet cover domain origin parent element fragment defin set line segment make perimet set face make boundari line segment connect node either embed node perman node defin later new child element creat fragment parent element child element contain exactli one fragment temporari node child element creat new node creat locat node contain within fragment ie connect physic materi new node known temporari node temporari node ultim merg node connect determin either delet convert becom perman node defin later efa complet remain temporari node perman node perman node finit element node remain efa complet node may may connect physic materi perman node associ degre freedom global system equat phantom node phantom node subset physic node node connect physic materi actual handl differ finit element node need design node phantom node algorithm implement understand efa outcom help describ node phantom node algorithm flow efa design call repeatedli analysi repres dynam evolv crack topolog illustr efa_flow also outlin citezhang_finite_ time mesh modifi follow step taken media xfemefa_flowpng idefa_flow stylewidthmarginrightautomarginleftauto captionhigh level flow chart illustr step efa creat initi mesh mesh structur efa popul element node correspond host code mesh previous cut efa topolog cut mesh rather origin mesh use inform fragment embed node previou cut state also restor neighbor element connect element cut mesh well current crack tip element crack tip split element identifi mark cut element element newli intersect cut plane identifi new embed node creat locat edg intersect determin whether element cut identif locat intersect plane element edg perform host code embed node locat defin efa term edg locat fraction distanc edg distanc edg necessari disambigu embed node correspond cut plane multipl cut intersect element edg scenario natur handl algorithm discuss detail creat new fragment child element cut element identifi new fragment creat continu region within uncut element new child element creat correspond fragment split illustr process new temporari node creat children origin node portion child element outsid fragment origin perman node use node contain within fragment crack tip element one edg face intersect cut plane termin travers element element singl fragment creat contain embed node node singl new element creat correspond fragment element far right merg exampl element merg child element connect neighbor last phase algorithm merg newlycr child element neighbor element appropri done merg node common edg two element neighbor element merg materi connect mean share common edg face physic materi connect common portion element fragment use make determin fragment two neighbor element share common edg face element deem materi connect node edg face contain connect merg ensur spatial continu solut variabl region appropri repres continu materi rule follow merg node common edg temporari node merg perman node delet replac perman node two temporari node merg delet replac singl newlycr perman node final special scenario two perman node merg differ indic occur node edg face crack termin node also connect anoth edg face travers crack behind crack tip case one node alway child node child node delet replac perman node media xfemsplittingpng idsplit stylewidthmarginrightautomarginleftauto captionillustr process mark split element first determin element intersect cut plane left embed node denot e creat intersect element edg cut plane fragment creat continu region within cut element middl fragment identifi set edg defin boundari final new child element creat correspond fragment new temporari node denot replac node connect fragment right media xfemmergingpng idmerg stylewidthmarginrightautomarginleftauto captiondetermin whether two neighbor element share materi connect merg common edg two element upper left merg fragment share common edg e fragment element lower left share common edg element merg scenario right show crack tip split element left merg crack tip element right fragment share common edg e algorithm complet temporari node delet replac perman node efa gener set new child node set new child element creat well set parent element delet new child element node associ parent materi data transfer child element nodal solut data transfer child node efa show full process efa demonstr patch element partial intersect cut plane result mesh repres two crack tip end cut plane media xfemefapng idefa stylewidthmarginrightautomarginleftauto captionidentif cut locat cut edg media xfemefapng idefa stylewidthmarginrightautomarginleftauto captionreplac cut element partial element identif edg combin share materi shown blue line media xfemefapng idefa stylewidthmarginrightautomarginleftauto captionfin modifi mesh phantom node connect physic materi mention previous algorithm permit extens crack use state mesh cut previou step special treatment crack tip split element requir disconnect node share edg face crack tip previous locat step algorithm describ element previous split cut plane usual left alon new fragment child element creat special case crack fulli cut crack tip element howev crack tip split element adjac element creat singl new child element contain fragment present prior step result creation new temporari node merg node use standard procedur although efa illustr use mesh applic shown paper limit algorithm readili applic model distinct case describ descript algorithm gener relat use higher dimension geometr primit eg face instead edg case also directli issu efa extend approach challeng continu cut plane adjac crack element citeduan must also address final note efa describ two child element cut crack edg parent share common edg contain physic materi node edg merg result extra phantom node henc extra degre freedom everi solut variabl node behavior differ origin xfem would add one degre freedom node per field variabl compon scenario shown patch element shown virtual_edge_merg moos implement algorithm provid option merg edg recov origin xfem behavior use present work media xfemvirtual_edge_mergepng idvirtual_edge_merg stylewidthmarginrightautomarginleftauto captionscenario unmodifi element fragment algorithm result extra degre freedom without special treatment two coincid phantom node indic locat neighbor edg share physic materi partial element integr algorithm asid mesh cut algorithm major modif must made finit element code phantom node algorithm quadratur rule use perform volum integr comput integr diverg stress tensor comput element contribut residu adjust integr physic portion cut element commonli done form set triangular tetrahedr subel cover entir physic portion split element domain subel use integr new integr point introduc locat subel integr point signific drawback subdivis approach partial element integr state materi data integr point often case nonlinear mechan constitut model varieti behavior model use fuel perform analysi data must map new integr point approach integr partial element avoid map materi data new integr point use origin integr point scale weight factor numer integr procedur give reason approxim integr function portion domain simplest approach simpli scale weight factor equal physic volum fraction split element sophist approach known moment fit use least squar procedur comput separ weight integr point optim integr specifi set function recent studi citezhang show varieti problem moment fit approach give result slightli improv simpl volum fraction approach approach viabl problem practic interest moment fit scheme describ work use fourpoint integr rule linear quadrilater element use present studi visual result meshcut algorithm partial element integr scheme major chang finit element code strictli necessari xfem implement use phantom node algorithm howev phantom node approach replac cut element overlap element also help visual show physic portion cut element nonphys portion element obscur result interest import note phantom node approach actual displac field directli comput need modifi visual result beyond clip nonphys portion cut element account enrich necessari origin xfem xfem paraview pluginhttpsgithubcomidaholabxfemparaviewplugin moosexfemclip develop visual result produc xfem moos moosexfemclip avail paraview softwar option plugin user load paraview plugin manag set modulesperidynamicsindexmd templat load filestubsmoose_systemmdtempl namemodul syntaxmodul templat load filestubsmoose_systemmdtempl nameperidynam syntaxmodulesperidynam peridynam mechan system syntax list modulesperidynamicsmechan objectstru actionsfals subsystemsfals syntax list modulesperidynamicsmechan objectsfals actionsfals subsystemstru syntax list modulesperidynamicsmechan objectsfals actionstru subsystemsfals peridynam master action system descript peridynam mechan action conveni object simplifi part mechan system setup set forc densiti integr kernel displac construct mooseobject tabl idpd_mechanics_action_t captioncorrespond among action function mooseobject mechanicsactionpd action function replac class associ paramet mechan equilibrium condit bondbas small strain modelskernelsmechanicsbpdmd ordinari statebas small strain modelskernelsmechanicsospdmd forcestabil nonordinari statebas small strain modelkernelsforcestabilizedsmallstrainmechanicsnospdmd horizonstabil nonordinari statebas small strain model form ikernelshorizonstabilizedformismallstrainmechanicsnospdmd form iikernelshorizonstabilizedformiismallstrainmechanicsnospdmd horizonstabil nonordinari statebas finit strain model form ikernelshorizonstabilizedformifinitestrainmechanicsnospdmd form iikernelshorizonstabilizedformiifinitestrainmechanicsnospdmd displac string displac field variabl temperatur string temperatur field variabl ghost bond nonloc comput ghost element userobjectghostelempdmd none setup quadratur rule variablessyntaxvariablesindexmd type gauss_lobatto order first add auxvari bond statu auxvariablesauxvariablesindexmd initial_condit set exampl input syntax subblock subblock mechan action trigger moos object built none mechan subdomain restrict singl subblock use list modulesperidynamicstesttestssimple_testsd_finite_strain_hnospdi blockmodulesperidynamicsmechanicsmast differ mechan model need multipl subblock subdomain restrict use modulesperidynamicsmechanicsmast block_a block_b paramet suppli modulesperidynamicsmechanicsmast level act default mechan action subblock syntax paramet modulesperidynamicsmechanicsmastermechanicsactionpd associ action syntax list modulesperidynamicsmechanicsmast objectstru actionsfals subsystemsfals syntax list modulesperidynamicsmechanicsmast objectsfals actionsfals subsystemstru syntax list modulesperidynamicsmechanicsmast objectsfals actionstru subsystemsfals peridynam gener plane strain action system descript action set gener plane strain model includ kernel provid coupl offdiagon jacobian entri scalar kernel provid residu diagon jacobian user object comput residu diagon jacobian scalar variabl construct mooseobject tabl idpd_gps_action_t captioncorrespond among action function mooseobject generalizedplanestrainpd action function replac class associ paramet outofplan scalar variabl equilibrium condit gener plane strain scalarkernelgeneralizedplanestrainpdmd generalized_plane_strain_uo userobject name generalizedplanestrainuserobjectbasepd residu diagon jacobian calcul scalar outofplan strain variabl ordinari statebas gener plane strain userobjectgeneralizedplanestrainuserobjectospdmd nonordinari statebas gener plane strain userobjectgeneralizedplanestrainuserobjectnospdmd out_of_plane_stress_vari auxiliari variabl name outofplan stress ordinari statebas gener plane strain model none requir nonordinari statebas gener plane strain model scalar outofplan strain coupl inplan field variabl ordinari statebas gener plane strain offdiagon kernelgeneralizedplanestrainoffdiagospdmd nonordinari statebas gener plane strain offdiagon kernelgeneralizedplanestrainoffdiagnospdmd scalar_out_of_plane_strain string scalar variabl outofplan strain direct displac string displac field inplan variabl temperatur string temperatur field variabl exampl input syntax subblock subblock generalizedplanestrain action trigger moos object built none mechan subdomain restrict singl subblock use list modulesperidynamicstesttestsgeneralized_plane_straingeneralized_plane_strain_ospdi blockmodulesperidynamicsmechanicsgeneralizedplanestrain differ gener plane strain model need multipl subblock subdomain restrict use list modulesperidynamicstesttestsgeneralized_plane_straingeneralized_plane_strain_squares_ospdi blockmodulesperidynamicsmechanicsgeneralizedplanestrain paramet suppli modulesperidynamicsgeneralizedplanestrain level act default generalizedplanestrain action subblock syntax paramet modulesperidynamicsmechanicsgeneralizedplanestraingeneralizedplanestrainactionpd associ action syntax list modulesperidynamicsmechanicsgeneralizedplanestrain objectstru actionsfals subsystemsfals syntax list modulesperidynamicsmechanicsgeneralizedplanestrain objectsfals actionsfals subsystemstru syntax list modulesperidynamicsmechanicsgeneralizedplanestrain objectsfals actionstru subsystemsfals stretchbas failur criterion auxkernel descript stretchbasedfailurecriterionpd auxkernel determin statu mu individu bond use critic stretch failur criterion critic stretch failur criterion bond mechan stretch less critic valu s_ intact previou simul step bond consid intact valu return otherwis bond broken valu return critic stretch failur criterion beginequ mu left mathbfxprim mathbfx right leftbeginmatrix s_ s_ endmatrixright endequ bond critic stretch valu calcul bondbas model critic energi releas rate g_c beginequ s_ leftbeginmatrix sqrtfracpi g_ck delta texttwo dimension sqrtfrac g_ck delta textthre dimension endmatrixright endequ k bulk modulu delta horizon size deriv relationship found ref citepsillingmeshfre syntax paramet auxkernelsstretchbasedfailurecriterionpd syntax input auxkernelsstretchbasedfailurecriterionpd syntax children auxkernelsstretchbasedfailurecriterionpd rank two base failur criteria auxkernel descript ranktwobasedfailurecriterianospd auxkernel determin statu individu bond use rank two tensor ie strain stress base scalar quantiti ie axial strainstress maximum princip strainstress tresca strainstress von mise strainstress note list failur criteria class appli nonordinari statebas model auxkernel expand includ rank two tensor base failur criteria syntax paramet auxkernelsranktwobasedfailurecriterianospd syntax input auxkernelsranktwobasedfailurecriterianospd syntax children auxkernelsranktwobasedfailurecriterianospd boundari offset auxkernel descript boundaryoffsetpd auxkernel use retriev offset materi point compar initi fe element pd mesh object syntax paramet auxkernelsboundaryoffsetpd syntax input auxkernelsboundaryoffsetpd syntax children auxkernelsboundaryoffsetpd nodal rank two auxkernel descript nodalranktwopd auxkernel use output compon strain stress tensor equival scalar quantiti bondbas ordinari statebas model appli elast materi correspond model userobject nodalranktwocomponentpd nodalranktwoscalarpd use standalon calcul base concept deform gradient correspond model postprocess given deform gradient materi point rank two tensor strain stress calcul use relationship continuum mechan theori stress calcul materi constant ie young modulu poisson ratio requir input paramet syntax paramet auxkernelsnodalranktwopd syntax input auxkernelsnodalranktwopd syntax children auxkernelsnodalranktwopd nodal area auxkernel descript nodalvolumepd auxkernel use output area volum materi point pd mesh object syntax paramet auxkernelsnodalvolumepd syntax input auxkernelsnodalvolumepd syntax children auxkernelsnodalvolumepd bond statu converg postprocessor descript bondstatusconvergedpostprocessorpd postprocessor comput number peridynam bond chang statu given picard iter bond statu held constant nonlinear iter converg bond allow consid fail meet certain criteria everi time new bond fail solut repeat check addit bond would fail postprocessor design use conjunct picardsolv execution criterion converg picard iter repeatedli find updat nonlinear solut addit bond fail use result postprocessor converg criterion solut consid converg nonlinear solut toler reach number bond updat statu end time step fall within given toler maximum allow picard iter reach syntax paramet postprocessorsbondstatusconvergedpostprocessorpd syntax input postprocessorsbondstatusconvergedpostprocessorpd syntax children postprocessorsbondstatusconvergedpostprocessorpd nodal function l norm postprocessor descript nodalfunctionslnormpd postprocessor calcul l norm set function use discret summat formul beginequ textl int_omega left mathbff right domega sum v_mathbfx cdot left barmathbff_mathbfx right endequ v_mathbfx area volum materi point mathbfx barmathbff_mathbfx evalu function mathbff materi point mathbfx syntax paramet postprocessorsnodalfunctionslnormpd syntax input postprocessorsnodalfunctionslnormpd syntax children postprocessorsnodalfunctionslnormpd nodal variabl integr postprocessor descript nodalvariableintegralpd postprocessor calcul volum area integr nodal variabl use discret summat formul beginequ textval int_omega u domega sum v_mathbfx cdot baru_mathbfx endequ v_mathbfx area volum materi point mathbfx baru_mathbfx evalu variabl u materi point mathbfx syntax paramet postprocessorsnodalvariableintegralpd syntax input postprocessorsnodalvariableintegralpd syntax children postprocessorsnodalvariableintegralpd peridynam displac l differ postprocessor descript nodaldisplacementdifferencelnormpd postprocessor use calcul l norm differ displac analyt solut use discret summat formul beginequ textl differ int_omega left mathbfu_predict mathbfu_analyt right domega sum v_mathbfx cdot left mathbfu_predictionmathbfx mathbfu_analyticalmathbfx right endequ v_mathbfx area volum materi point mathbfx mathbfu_predictionmathbfx mathbfu_analyticalmathbfx predict analyt solut materi point mathbfx syntax paramet postprocessorsnodaldisplacementdifferencelnormpd syntax input postprocessorsnodaldisplacementdifferencelnormpd syntax children postprocessorsnodaldisplacementdifferencelnormpd kernel gener plane strain offdiagon base form horizonstabil peridynam correspond formul descript generalizedplanestrainoffdiagnospd kernel provid offdiagon coupl entri coupl scalar outofplan strain variabl displac temperatur variabl form horizonstabil peridynam correspond model kernel option gener plane strain model usual use better converg rate solut process syntax paramet kernelsgeneralizedplanestrainoffdiagnospd syntax input kernelsgeneralizedplanestrainoffdiagnospd syntax children kernelsgeneralizedplanestrainoffdiagnospd ordinari statebas peridynam mechan kernel descript mechanicsospd kernel calcul residu jacobian forc densiti integr ordinari statebas peridynam model infinitesim strain assumpt forc state forc state edg element ie bond beginequ mathbff left mathbfx mathbfxprim right left underlinemathbft left mathbfx tright underlinemathbft left mathbfxprimetright right cdotmathbfm endequ mathbfm unit vector deform configur beginequ underlinemathbftleftmathbfx tright underlineomega leftlangl boldsymbolxi rightrangl left d_mathbfx cdot cdot theta_mathbfx b cdot boldsymbolxi cdot sright endequ beginequ underlinemathbft left mathbfx right underlineomega leftlangl boldsymbolxi rightrangl left d_mathbfxprim cdot cdot theta_mathbfxprim b cdot boldsymbolxi cdot right endequ bond stretch theta dilat materi point paramet b model paramet express term materi constant detail residu jacobian formul found ref citephuirregular syntax paramet kernelsmechanicsospd syntax input kernelsmechanicsospd syntax children kernelsmechanicsospd form ii horizonstabil peridynam correspond small strain mechan kernel descript horizonstabilizedformiismallstrainmechanicsnospd kernel calcul residu jacobian entri forc densiti integr form ii horizonstabil peridynam correspond model infinitesim strain assumpt detail variou form horizon stabil approach provid document page describ peridynam modelsperidynamicsperidynamicmodelsmd syntax paramet kernelshorizonstabilizedformiismallstrainmechanicsnospd syntax input kernelshorizonstabilizedformiismallstrainmechanicsnospd syntax children kernelshorizonstabilizedformiismallstrainmechanicsnospd form ii horizonstabil peridynam correspond finit strain mechan kernel descript horizonstabilizedformiifinitestrainmechanicsnospd kernel calcul residu jacobian forc densiti integr form ii horizonstabil peridynam correspond model finit strain assumpt detail variou form horizon stabil approach provid document page describ peridynam modelsperidynamicsperidynamicmodelsmd syntax paramet kernelshorizonstabilizedformiifinitestrainmechanicsnospd syntax input kernelshorizonstabilizedformiifinitestrainmechanicsnospd syntax children kernelshorizonstabilizedformiifinitestrainmechanicsnospd bondbas peridynam heat sourc kernel descript heatsourcebpd kernel consid heat sourc directli contribut residu calcul heat conduct model sinc kernel iter element heat sourc resid discret materi point repetit materi point elementwis loop consid achiev divid residu element total number element connect materi point syntax paramet kernelsheatsourcebpd syntax input kernelsheatsourcebpd syntax children kernelsheatsourcebpd form horizonstabil peridynam correspond finit strain mechan kernel descript horizonstabilizedformifinitestrainmechanicsnospd kernel calcul residu jacobian forc densiti integr form horizonstabil peridynam correspond model finit strain assumpt detail variou form horizon stabil approach provid document page describ peridynam modelsperidynamicsperidynamicmodelsmd syntax paramet kernelshorizonstabilizedformifinitestrainmechanicsnospd syntax input kernelshorizonstabilizedformifinitestrainmechanicsnospd syntax children kernelshorizonstabilizedformifinitestrainmechanicsnospd ordinari statebas peridynam gener plane strain offdiagon kernel descript generalizedplanestrainoffdiagospd kernel provid offdiagon coupl entri coupl scalar outofplan strain variabl displac temperatur variabl ordinari statebas peridynam model kernel option gener plane strain model usual use better converg rate solut process syntax paramet kernelsgeneralizedplanestrainoffdiagospd syntax input kernelsgeneralizedplanestrainoffdiagospd syntax children kernelsgeneralizedplanestrainoffdiagospd kernel weak plane stress model base form horizonstabil peridynam correspond formul descript weakplanestressnospd kernel calcul residu jacobian entri outofplan strain variabl weak formul plane stress analysi inplan displac variabl govern horizonstabilizedformismallstrainmechanicsnospd small strain analysi horizonstabilizedformifinitestrainmechanicsnospd finit strain analysi syntax paramet kernelsweakplanestressnospd syntax input kernelsweakplanestressnospd syntax children kernelsweakplanestressnospd form horizonstabil peridynam correspond small strain mechan kernel descript horizonstabilizedformismallstrainmechanicsnospd kernel calcul residu jacobian entri forc densiti integr form horizonstabil peridynam correspond model infinitesim strain assumpt detail variou form horizon stabil approach provid document page describ peridynam modelsperidynamicsperidynamicmodelsmd syntax paramet kernelshorizonstabilizedformismallstrainmechanicsnospd syntax input kernelshorizonstabilizedformismallstrainmechanicsnospd syntax children kernelshorizonstabilizedformismallstrainmechanicsnospd bondbas peridynam heat conduct kernel descript heatconductionbpd kernel calcul residu jacobian heat flux integr bondbas peridynam heat conduct model detail residu jacobian formul found ref citepchenbondimplicit syntax paramet kernelsheatconductionbpd syntax input kernelsheatconductionbpd syntax children kernelsheatconductionbpd forcestabil nonordinari statebas peridynam mechan kernel descript forcestabilizedsmallstrainmechanicsnospd kernel calcul residu jacobian forc densiti integr fictiti bond forc stabil nonordinari statebas model infinitesim strain assumpt forc state fictiti bond forc stabil formul forc state edg element ie bond beginequ mathbff left mathbfx mathbfxprim right left underlinemathbft left mathbfx right leftlangl mathbfxprim mathbfx rightrangl underlinemathbft left mathbfxprim right leftlangl mathbfx mathbfxprim rightrangl right mathbff_ left mathbfxprim mathbfx right endequ beginequ underlinemathbft left mathbfx right leftlangl mathbfxprim mathbfx rightrangl underlineomega leftlangl boldsymbolxi rightrangl mathbfp_mathbfx mathbfk_mathbfx boldsymbolxi endequ beginequ underlinemathbft left mathbfxprim right leftlangl mathbfx mathbfxprim rightrangl underlineomega leftlangl boldsymbolxi rightrangl mathbfp_mathbfxprim mathbfk_mathbfxprim boldsymbolxi endequ beginequ mathbff_ left mathbfxprim mathbfx right e delta x underlineomega leftlangl boldsymbolxi rightrangl left mathbfu_mathbfxprim mathbfu_mathbfx right endequ e young modulu delta x grid space regular gird structur averag grid space irregular grid structur mathbfu solut vector dont distinguish cauchi stress first piolakichhoff stress infinitesim strain assumpt stress retriev computelinearelasticstress directli use forc state calcul syntax paramet kernelsforcestabilizedsmallstrainmechanicsnospd syntax input kernelsforcestabilizedsmallstrainmechanicsnospd syntax children kernelsforcestabilizedsmallstrainmechanicsnospd bondbas peridynam mechan kernel descript mechanicsbpd kernel comput residu jacobian forc densiti integr bondbas peridynam model infinitesim strain assumpt forc function forc state edg element ie bond beginequ mathbffleftmathbfx mathbfxprim tright csmathbfm endequ c micromodulu bond stretch mathbfm unit vector direct deform bond mathbfx mathbfxprim detail residu jacobian formul found citepchenbondimplicit syntax paramet kernelsmechanicsbpd syntax input kernelsmechanicsbpd syntax children kernelsmechanicsbpd bibtex bibliographi penalti dirichlet old valu nodal kernel syntax descript nodalkernelspenaltydirichletoldvaluepd descript penaltydirichletoldvaluepd nodalkernel use appli dirichlet boundari condit valu old variabl solut use penalti method nodeset similar impos dirichlet boundari condit use penalti method implement use nodal kernel exampl syntax list testtestsnodalkernelspenalty_dirichlet_old_valuei syntax paramet nodalkernelspenaltydirichletoldvaluepd syntax input nodalkernelspenaltydirichletoldvaluepd syntax children nodalkernelspenaltydirichletoldvaluepd nodal damag index userobject descript nodaldamageindexpd userobject comput valu auxvari calcul damag index materi point ratio total volum intact bond total volum bond associ materi point beginequ phi left mathbfxprim mathbfx right fracint_mathcalh_mathbfx mu left mathbfxprim mathbfx right dvprimeint_mathcalh_mathbfx dvprime endequ mu bond statu paramet whose valu comput use auxkernel bondstatuspd syntax paramet userobjectsnodaldamageindexpd syntax input userobjectsnodaldamageindexpd syntax children userobjectsnodaldamageindexpd userobject gener plane strain model base form horizonstabil peridynam correspond formul descript generalizedplanestrainuserobjectnospd userobject use provid residu jacobian scalar outofplan strain field variabl gener plane strain formul use form horizonstabil peridynam correspond formul outofplan stress compon retriev computestress materi class integr compon whole simul domain accomplish summat product materi point area compon valu residu differ stress integr appli forc outofplan direct jacobian deriv residu respect outofplan strain syntax paramet userobjectsgeneralizedplanestrainuserobjectnospd syntax input userobjectsgeneralizedplanestrainuserobjectnospd syntax children userobjectsgeneralizedplanestrainuserobjectnospd ordinari statebas peridynam gener plane strain userobject descript generalizedplanestrainuserobjectospd userobject use provid residu jacobian scalar outofplan strain field variabl gener plane strain formul use ordinari statebas peridynam model outofplan stress compon calcul use nodalstressstrainpd auxkernel class integr compon whole simul domain accomplish summat product materi point area compon valu residu differ stress integr appli forc ourofplan direct jacobian deriv residu respect outofplan strain syntax paramet userobjectsgeneralizedplanestrainuserobjectospd syntax input userobjectsgeneralizedplanestrainuserobjectospd syntax children userobjectsgeneralizedplanestrainuserobjectospd peridynam ghost element userobject descript ghostelempd userobject use ghost element inform requir calcul properti current processor processor due parallel comput nonloc interact peridynam theori syntax paramet userobjectsghostelempd syntax input userobjectsghostelempd syntax children userobjectsghostelempd nodal rank two compon userobject descript nodalranktwocomponentpd userobject use comput valu rank two tensor compon materi point correspond materi model compon variabl defin aux variabl valu comput use userobject rather auxkernel selfstabil correspond materi model rank two tensor eg strain stress materi point weight averag bondassoci correspond rank two tensor connect materi point beginequ mathbfa_mathbfx fracsum_nnp w leftlangl boldsymbolxi_n rightrangl mathbfa_boldsymbolxi_nsum_nnpw left langl boldsymbolxi_n right rangl endequ mathbfa_boldsymbolxi_n bondassoci rank two tensor w leftlangl boldsymbolxi_n rightrangl weight bondassoci rank two tensor syntax paramet userobjectsnodalranktwocomponentpd syntax input userobjectsnodalranktwocomponentpd syntax children userobjectsnodalranktwocomponentpd singularshapetensoreliminatoruserobjectpd descript singularshapetensoreliminatoruserobjectpd userobject use elimin occurr singular shape tensor peridynam simul userobject execut end timestep use updat bond statu provid auxkernel shape tensor form use neighbor bond includ potenti ghost bond neighbor processor node connect bond bond least one singular associ shape tensor treat broken would determin bondbas failur criterion break bond make shape tensor singular cascad effect process repeat singular shape tensor detect occurr singular shape tensor usual happen materi failur problem model use formul base peridynam deform gradient correspond model ordinari statebas gener plane strain model syntax paramet userobjectssingularshapetensoreliminatoruserobjectpd syntax input userobjectssingularshapetensoreliminatoruserobjectpd syntax children userobjectssingularshapetensoreliminatoruserobjectpd nodal rank two scalar userobject descript nodalranktwoscalarpd userobject use comput valu equival scalar quantiti rank two tensor materi point correspond materi model scalar variabl defin aux variabl valu comput use userobject rather auxkernel selfstabil correspond materi model equival scalar quantiti rank two tensor eg von mise stress materi point weight averag bondassoci correspond equival quantiti connect materi point beginequ alpha_mathbfx fracsum_nnp w leftlangl boldsymbolxi_n rightrangl alpha_boldsymbolxi_nsum_nnpw left langl boldsymbolxi_n right rangl endequ alpha_boldsymbolxi_n bondassoci scalar quantiti rank two tensor w leftlangl boldsymbolxi_n rightrangl weight bondassoci scalar quantiti rank two tensor current implement volum fraction use weight syntax paramet userobjectsnodalranktwoscalarpd syntax input userobjectsnodalranktwoscalarpd syntax children userobjectsnodalranktwoscalarpd nodal intact bond number userobject descript nodalnumintactbondspd userobject comput valu auxvari calcul number intactunbroken bond associ materi point syntax paramet userobjectsnodalnumintactbondspd syntax input userobjectsnodalnumintactbondspd syntax children userobjectsnodalnumintactbondspd peridynam gener plane strain scalarkernel descript generalizedplanestrainpd scalarkernel comput residu jacobian entri correspond scalar variabl valu residu jacobian retriev generalizedplanestrainuserobjectbasepd userobject residu calcul base beginequ r int_mathcala sigma_zz dmathcala endequ mathcala solut domain sigma_zz normal outofplan stress compon default z direct syntax paramet scalarkernelsgeneralizedplanestrainpd syntax input scalarkernelsgeneralizedplanestrainpd syntax children scalarkernelsgeneralizedplanestrainpd peridynam mesh gener descript meshgeneratorpd meshgener select convert finit element mesh boundari set peridynam mesh correspond boundari set case one element block exist finit element mesh user specifi element block convert peridynam element whether convert finit element retain newli creat peridynam element boundari sideset convers phantom element construct base peridynam materi point convert finit element adjac specifi fe boundari sideset fe mesh either triangular quadrilater finit element threenod triangular phantom element construct fe mesh sideset construct current accept hexahedr element syntax paramet meshmeshgeneratorpd syntax input meshmeshgeneratorpd syntax children meshmeshgeneratorpd correspond finit strain materi descript computefinitestrainnospd materi calcul strain rotat increment use peridynam correspond model finit strain assumpt class first construct deform gradientperidynamicsdeformationgradientsmd use rashid scheme citeprashidincrement formul increment corot finit strain model note materi computefinitestrainnospd use gener plane strain model simul syntax paramet materialscomputefinitestrainnospd syntax input materialscomputefinitestrainnospd syntax children materialscomputefinitestrainnospd bondbas peridynam constant horizon thermal materi descript thermalconstanthorizonmaterialbpd materi calcul microconduct use bondbas peridynam heat conduct model case regular uniform spatial discret detail bondbas peridynam heat conduct model refer peridynam modelsperidynamicsperidynamicmodelsmd page ref citepchenbondimplicit syntax paramet materialsthermalconstanthorizonmaterialbpd syntax input materialsthermalconstanthorizonmaterialbpd syntax children materialsthermalconstanthorizonmaterialbpd correspond plane small strain materi descript computeplanesmallstrainnospd materi calcul strain tensor use peridynam correspond model small strain assumpt two dimension analysi note materi computeplanefinitestrainnospd must use _weak_ plane stress gener plane strain model incorpor outofplan strain compon syntax paramet materialscomputeplanesmallstrainnospd syntax input materialscomputeplanesmallstrainnospd syntax children materialscomputeplanesmallstrainnospd correspond small strain materi descript computesmallstrainnospd materi calcul strain tensor base deform gradientperidynamicsdeformationgradientsmd peridynam correspond model small strain assumpt given deform gradient mathbff total strain tensor obtain beginequ boldsymbolepsilon_texttot frac left mathbfft mathbff right mathbfi endequ elast strain tensor obtain subtract eigen strain tensor total strain tensor beginequ boldsymbolepsilon_textelast boldsymbolepsilon_texttot boldsymbolepsilon_texteigen endequ comput elast strain tensor use stress calcul calcul stress tensor note materi computesmallstrainnospd use gener plane strain model simul syntax paramet materialscomputesmallstrainnospd syntax input materialscomputesmallstrainnospd syntax children materialscomputesmallstrainnospd ordinari statebas peridynam constant horizon small strain materi descript computesmallstrainconstanthorizonmaterialospd materi calcul paramet use ordinari statebas peridynam mechan model case regular uniform spatial discret detail ordinari statebas peridynam mechan model regular uniform spatial discret refer peridynam modelsperidynamicsperidynamicmodelsmd page ref citepmadencibook syntax paramet materialscomputesmallstrainconstanthorizonmaterialospd syntax input materialscomputesmallstrainconstanthorizonmaterialospd syntax children materialscomputesmallstrainconstanthorizonmaterialospd bondbas peridynam constant horizon small strain materi descript computesmallstrainconstanthorizonmaterialbpd materi calcul micromodulu use bondbas peridynam mechan model case regular uniform spatial discret detail bondbas peridynam mechan model regular uniform spatial discret refer peridynam modelsperidynamicsperidynamicmodelsmd page ref citepchenbondimplicit syntax paramet materialscomputesmallstrainconstanthorizonmaterialbpd syntax input materialscomputesmallstrainconstanthorizonmaterialbpd syntax children materialscomputesmallstrainconstanthorizonmaterialbpd ordinari statebas peridynam variabl horizon small strain materi descript computesmallstrainvariablehorizonmaterialospd materi calcul paramet use ordinari statebas peridynam mechan model case irregular nonuniform spatial discret detail ordinari statebas peridynam mechan model irregular nonuniform spatial discret refer peridynam modelsperidynamicsperidynamicmodelsmd page ref citephuirregular syntax paramet materialscomputesmallstrainvariablehorizonmaterialospd syntax input materialscomputesmallstrainvariablehorizonmaterialospd syntax children materialscomputesmallstrainvariablehorizonmaterialospd bondbas peridynam variabl horizon small strain materi descript computesmallstrainvariablehorizonmaterialbpd materi calcul micromodulu use bondbas peridynam mechan model case irregular nonuniform spatial discret detail bondbas peridynam mechan model irregular nonuniform spatial discret refer peridynam modelsperidynamicsperidynamicmodelsmd page ref citepchenbondirregular syntax paramet materialscomputesmallstrainvariablehorizonmaterialbpd syntax input materialscomputesmallstrainvariablehorizonmaterialbpd syntax children materialscomputesmallstrainvariablehorizonmaterialbpd correspond plane finit strain materi descript computeplanefinitestrainnospd materi calcul strain rotat increment use peridynam correspond model finit strain assumpt two dimension analysi class first construct planar deform gradientperidynamicsdeformationgradientsmd use rashid scheme citeprashidincrement formul increment corot finit strain model note materi computeplanefinitestrainnospd must use _weak_ plane stress gener plane strain model incorpor outofplan strain compon syntax paramet materialscomputeplanefinitestrainnospd syntax input materialscomputeplanefinitestrainnospd syntax children materialscomputeplanefinitestrainnospd bondbas peridynam variabl horizon thermal materi descript thermalvariablehorizonmaterialbpd materi calcul microconduct use bondbas peridynam heat conduct model case irregular nonuniform spatial discret detail bondbas peridynam heat conduct model refer peridynam modelsperidynamicsperidynamicmodelsmd page ref citepchenbondirregular syntax paramet materialsthermalvariablehorizonmaterialbpd syntax input materialsthermalvariablehorizonmaterialbpd syntax children materialsthermalvariablehorizonmaterialbpd rigid bodi motion preset old valu boundari condit descript rbmpresetoldvaluepd boundarycondit appli dirichlet boundari condit old variabl solut rigid bodi motion rbm materi point base singular shape tensor concept nonordinari statebas peridynam formul rigid bodi motion materi point ie fulli constrain degre freedom equival singular shape tensor bc use fix nonfullyconstrain materi point henc improv solvabl whole system syntax paramet bcsrbmpresetoldvaluepd syntax input bcsrbmpresetoldvaluepd syntax children bcsrbmpresetoldvaluepd peridynam mesh descript peridynamicsmesh mesh construct store extra unconvent mesh data peridynam also provid interfac class access data syntax paramet meshperidynamicsmesh syntax input meshperidynamicsmesh syntax children meshperidynamicsmesh peridynam mechan action descript mechanicsactionpd action use setup kernel compon displac userobject ghostelempd ghost connect solut processor due nonloc auxvari bond_statu peridynam mechan model detail action found mechanicsactionpdperidynamicsmechanicsmasterindexmd system page peridynam gener plane strain action descript generalizedplanestrainactionpd action use setup userobject generalizedplanestrainuserobeject scalarkernel generalizedplanestrainpd kernel generalizedplanestrainoffdiag peridynam gener plane strain model detail action found generalizedplanestrainactionpdperidynamicsmechanicsgeneralizedplanestrainindexmd system page peridynam mechan model media peridynamic_modelspng stylewidthpxpaddingleftpxfloattop captionschemat bondbas ordinari b nonordinari c state base peridynam materi respons first peridynam model term bondbas peridynam model bpd propos sill year citepsillingbond bpd materi point interact pairwis fashion neighbor materi point fall within horizon interact two materi point depend deform later sill et al citepsillingst gener bpd model term statebas peridynam model spd introduc concept state spd forc state two materi point depend deform state also deform state materi point within horizon depend direct forc state materi point pair spd model classifi ordinari statebas peridynam ospd nonordinari statebas peridynam nospd model spd model overcom sever issu within bpd model permit fix poisson ratio inconsist model plastic deform metal requir complet recast standard continuum materi model term pairwis forc function permit use within peridynam review bpd spd applic found citepbobaruhandbook peridynam theori equat motion eom materi point mathbfx refer configur time given beginequ rholeftmathbfxright ddotmathbfuleft mathbfxt right int_mathcalh_mathbfxmathbffleftmathbfxmathbfxprimet rightdv_xprim mathbfbleft mathbfxt right hspace pt forallleftmathbfxtright omega_r time left tau right endequ rholeftmathbfx right mass densiti mathbffleftmathbfx mathbfxprim tright forc densiti function mathbfbleftmathbfxtright extern forc densiti vector depend differ peridynam model forc densiti function differ formul variou formul forc densiti function outlin bondbas model beginequ mathbffleftmathbfx mathbfxprim tright csmathbfm endequ textitmicromodulu c valu textbfregular uniform spatial discret beginequ c leftbeginmatrix kprime pi h_ delta texttwo dimension k pi delta textthre dimension endmatrixright endequ textbfirregular nonuniform spatial discret beginequ c left beginmatrix kprime left boldsymbolxi right cdot c_v texttwo dimension k left boldsymbolxi right cdot c_v textthre dimension endmatrix right endequ beginequ c_v fracint_mathcalh_mathbfxdv int_mathcalh_mathbfxprim dv int_mathcalh_mathbfx dv cdot int_mathcalh_mathbfxprim dv endequ k bulk modulu kprime twodimension bulk modulu e young modulu h_ plane thick h_ crosssect area beginequ kprime left beginmatrix eleftvright textplan stress evv textplan strain endmatrix right endequ v poisson ratio textitbond stretch defin chang bond length divid initi bond length beginequ fraceleft boldsymbolxi right fracleft mathbfxprimeleftmathbfxprim right mathbfx left mathbfxtrightright left mathbfxprim mathbfx rightleft mathbfxprim mathbfx right fracleft boldsymbolxi boldsymboleta right left boldsymbolxi rightleft boldsymbolxi right endequ mathbfm unit vector direct deform bond mathbfx mathbfxprim beginequ mathbfm fracmathbfxprim left mathbfxprim right mathbfx left mathbfx rightleft mathbfxprim left mathbfxprim right mathbfx left mathbfx right right fracboldsymbolxi boldsymboletaleft boldsymbolxi boldsymboleta right endequ ordinari statebas model beginequ mathbff left mathbfx mathbfxprim right underlinemathbft left mathbfx right underlinemathbft leftmathbfxprim right endequ forc densiti vector underlinemathbft beginequ underlinemathbft left mathbfx right delta left d_mathbfx mathbfm cdot fracboldsymbolxileft boldsymbolxi right theta_mathbfx b right mathbfm endequ beginequ underlinemathbft left mathbfxprim right delta left d_mathbfxprim mathbfm cdot fracboldsymbolxileft boldsymbolxi right theta_mathbfxprim b right mathbfm endequ bond stretch theta dilat materi point calcul beginequ theta delta int_mathcalh fracboldsymbolxileft boldsymbolxi right cdot mathbfm dv endequ beginequ leftbeginmatrix left kprime mu right texttwo dimension left k mu right textthre dimension endmatrixright endequ textbfregular uniform spatial discret beginequ leftbeginmatrix left pi h_ delta right texttwo dimension left pi delta right textthre dimension endmatrixright endequ beginequ b leftbeginmatrix mu left pi h_ delta right texttwo dimension mu left pi delta right textthre dimension endmatrixright endequ textbfirregular nonuniform spatial discret beginequ leftbeginmatrix bigg leftdelta int_mathcalh da right texttwo dimension bigg leftdelta int_mathcalh dv right textthre dimension endmatrixright endequ beginequ delta_mathbfx b_mathbfx delta_mathbfxprim b_mathbfxprim left beginmatrix left kprime right left boldsymbolxi right texttwo dimension left k right left boldsymbolxi right textthre dimension endmatrix right cdot left delta_mathbfx d_mathbfx delta_mathbfxprim d_mathbfxprim right endequ mu shear modulu refer case regular uniform spatial discret found citepmadencibook citepvanl case irregular nonuniform spatial discret found citephuirregular nonordinari statebas model gener express forc densiti function written beginequ mathbff left mathbfx mathbfxprim right underlinemathbft left mathbfx tright leftlangl mathbfxprim mathbfx rightrangl underlinemathbftleft mathbfxprim right leftlangl mathbfx mathbfxprim rightrangl endequ underlinemathbft left mathbfx right leftlangl mathbfxprim mathbfx rightrangl short underlinemathbft leftlangl boldsymbolxi rightrangl forc densiti state exert materi point mathbfx mathbfxprim underlinemathbftleftmathbfxprim right leftlangl mathbfx mathbfxprim rightrangl short underlinemathbft leftlangl boldsymbolxi rightrangl forc densiti state exert materi point mathbfxprim mathbfx convent materi correspond model beginequ underlinemathbft leftlangl boldsymbolxi rightrangl underlineomega leftlangl boldsymbolxi rightrangl mathbfp_mathbfx mathbfk_mathbfx boldsymbolxi endequ beginequ underlinemathbft leftlangl boldsymbolxi rightrangl underlineomega leftlangl boldsymbolxi rightrangl mathbfp_mathbfxprim mathbfk_mathbfxprim boldsymbolxi endequ mathbfp first piolakirchhoff stress tensor mathbfk shape tensor definit shape tensor found deform gradientsperidynamicsdeformationgradientsmd page bondhorizon stabil materi correspond model two formul bondhorizon stabil materi correspond model avail form formul citepchenbond chenbond although calcul bondassoci deform gradient see deform gradientsperidynamicsdeformationgradientsmd page henc bondassoci forc state use deform state materi point within materi point horizon formul bondassoci deform gradient contribut forc state bond connect refer materi point materi point compens nonloc effect volum fraction factor use form formul approxim correct forc state howev greatli reduc nonloc formul henc comput less expens form ii formul nonloc effect explicitli account ie forc state bond sum contribut bondassoci deform gradient volum fraction factor use howev weight function base volum fraction use distribut energi associ materi point differ bondassoci horizon form formul forc state follow express beginequ underlinemathbftleftmathbfxtrightleftlangl mathbfxprimemathbfx rightrangl fracint_mathcalh_mathbfx cap h_boldsymbolxidv_mathbfxint_mathcalh_mathbfx dv_mathbfx underlineomegaleftlangl boldsymbolxi rightrangl mathbfp_boldsymbolxi mathbfk_boldsymbolxi boldsymbolxi endequ beginequ underlinemathbftleftmathbfxprimetrightleftlangl mathbfxmathbfxprim rightrangl fracint_mathcalh_mathbfxprim cap h_boldsymbolxidv_mathbfxint_mathcalh_mathbfxprim dv_mathbfx underlineomegaleftlangl boldsymbolxi rightrangl mathbfp_boldsymbolxi mathbfk_boldsymbolxi boldsymbolxi endequ form ii formul forc state follow express beginequ underlinemathbftleftmathbfxtrightleftlangl mathbfxprimemathbfx rightrangl sum_nn_mathbfxi fracint_mathcalh_mathbfx cap h_mathbfx_nprimedv_mathbfxsum_mn_mathbfx int_mathcalh_mathbfx cap h_mathbfx_mprimedv_mathbfx underlineomegaleftlangl boldsymbolxi rightrangl mathbfp_boldsymbolxin mathbfk_boldsymbolxin boldsymbolxi endequ beginequ underlinemathbftleftmathbfxprimetrightleftlangl mathbfxmathbfxprim rightrangl sum_nn_mathbfxi fracint_mathcalh_mathbfxprim cap h_mathbfx_ndv_mathbfxsum_mn_mathbfxprim int_mathcalh_mathbfxprim cap h_mathbfx_mdv_mathbfx underlineomegaleftlangl boldsymbolxi rightrangl mathbfp_boldsymbolxin mathbfk_boldsymbolxin boldsymbolxi endequ n_mathbfx n_mathbfxi total number materi point materi point horizon intersect materi point horizon bondassoci horizon note first piolakirchhoff stress tensor mathbfp shape tensor mathbfk bondassoci quatiti peridynam heat conduct model peridynam heat conduct equat beginequ rholeftmathbfx right c dott left mathbfx right int_mathcalh_mathbfx f left mathbfxmathbfxprim rightdv_xprim q left mathbfxt right hspace pt foral left mathbfx right omega_r time left tau right endequ c specif heat capac f respons function q specif heat sourc sink bondbas model beginequ f leftmathbfx mathbfxprim right k fract left mathbfxprim right left mathbfx rightleft mathbfxi right endequ textitmicroconduct k valu textbfregular uniform spatial discret beginequ k leftbeginmatrix lambda left pi h_ delta right texttwo dimension lambda left pi delta right textthre dimension endmatrixright endequ textbfirregular nonuniform spatial discret beginequ k left beginmatrix lambda left boldsymbolxi right cdot c_v texttwo dimension lambda left boldsymbolxi right cdot c_v textthre dimension endmatrix right endequ lambda materi thermal conduct c_v volum coeffici express bondbas mechan model coupl peridynam thermomechan model coupl peridynam thermomechan model temperatur heat conduct model contribut mechan stretch strain calcul mechan model kinemat written bond stretch bondbas ordinari statebas mechan model beginequ s_elast alpha fracdelta left mathbfx right delta left mathbfxprim right endequ dilat ordinari statebas mechan model beginequ theta delta int_mathcalh s_elast fracboldsymbolxileft boldsymbolxi right cdot mathbfm dv alpha delta endequ besid forc densiti vector underlinemathbft need updat consid thermal effect beginequ underlinemathbft left mathbfx right delta left d_mathbfx mathbfm cdot fracboldsymbolxileft boldsymbolxi right left theta_mathbfx frac a_ delta t_mathbfx right b right mathbfm endequ a_ alpha threedimension analysi a_ alpha twodimension analysi nonordinari statebas mechan model mechan strain tensor subtract thermal eigenstrain total strain beginequ mathbfepsilon_mechan mathbfepsilon_tot alpha delta mathbfi endequ return bond statu determin mechan model affect respons materi point peridynam heat conduct model peridynam modul media pd_fuel_fracture_examplespng stylewidthpxpaddingleftpxfloatright captionperidynam result fuel fragment moos peridynam modul librari solv classic solid mechan heat transfer problem use peridynam theori advanc deform model plastic creep peridynam modul use conjunct materi class tensor mechan modul inform modul found system document listperidynamicssystemsmd basic concept peridynam theori horizon statesperidynamicshorizonstatesmd materi point famili state deform gradientsperidynamicsdeformationgradientsmd weight least squar techniqu base nonloc deform gradient peridynam model bondbas mechan modelsperidynamicsperidynamicmodelsmd forc state depend bond action reaction opposit direct ordinari statebas mechan modelsperidynamicsperidynamicmodelsmd forc state depend bond within two famili action reaction opposit direct nonordinari statebas mechan modelsperidynamicsperidynamicmodelsmd forc state depend bond within two famili action reaction differ direct bondbas heat conduct modelsperidynamicsperidynamicmodelsmd respons function depend bond action reaction opposit direct coupl thermomechan modelsperidynamicsperidynamicmodelsmd peridynam mechan model coupl peridynam heat conduct model use materi tensor mechan correspond materi model peridynam correspond materi model concept strain stress tensor classic continuum mechan still appli ie given nonloc deform gradient calcul peridynam calcul base nonloc deform gradient establish constitut relationship stress strain follow methodolog local continuum theori strain stress tensor continuum mechan resid discret materi point rather quadratur point peridynam correspond materi model plastic creep materi model tensor mechan directli use peridynam nonlinear deform model strainstensor_mechanicsstrainsmd stressestensor_mechanicsstressesmd spatial discret similar mesh gener finit element method spatial discret requir discret domain interest discret materi point famili connect inform need built materi point current peridynam modul support two type discret scheme buildin regular ie rectangular domain discret extern exodusii fem element base domain discret deform gradient deform gradient fundament measur deform continuum mechan map line segment refer configur line segment consist materi point deform configur peridynam theori equival deform gradient formul use weight least squar numer techniqu given fact usual mani line segment connect individu materi point base concept weight least squar techniqu two type deform gradient formul discret peridynam domain deform gradient continuum mechan media line_mappingjpg stylewidthpxpaddingleftpxfloatright captionlin segment map deform consid line segment dmathbfx eman posit mathbfx refer configur omega_r deform dmathbfx current configur omega_c thu line segment deform configur omega_c given beginequ dmathbfx chimathbfx dmathbfx chimathbfx endequ taylor expans chimathbfx dmathbfx give beginequ chimathbfx dmathbfx chimathbfx fracparti chiparti mathbfxmathbfx cdot dmathbfx odmathbfx endequ odmathbfx indic higherord term dmathbfx substitut taylor expans previou equat assum dmathbfx infinitesim small give beginequ dmathbfx approx fracparti chiparti mathbfxmathbfx cdot dmathbfx equiv mathbffmathbfx cdot dmathbfx endequ express tend exact solut differenti dmathbfx goe zero deform gradient thu character deform neighborhood materi point mathbfx map infinitesim line segment dmathbfx eman mathbfx refer configur infinitesim line segment dmathbfx eman mathbfx deform configur peridynam materi point deform gradient media conventional_deformation_gradient_horizonjpg stylewidthpxpaddingleftpxfloatright captionconfigur convent peridynam deform gradient approxim bond boldsymbolxi exist uniqu map transfer rel posit vector state underlinemathbfxleftlangl boldsymbolxi rightrangl refer configur rel posit vector state underlinemathbfyleftlangl boldsymbolxi rightrangl current configur beginequ underlinemathbfyleftlangl boldsymbolxi rightrangl mathbff_boldsymbolxi cdot underlinemathbfxleftlangl boldsymbolxi rightrangl endequ mathbff_boldsymbolxi valu deform gradient bond boldsymbolxi connect materi point mathbfx neighbor materi point mathbfxprim equat defin oper peridynam deform gradient manner analog continuum deform gradient map vector state refer configur vector state current configur mathbff_boldsymbolxi becom deform gradient materi point mathbfx bond boldsymbolxi tend infinitesim length appli formul materi point mathbfx bond connect neighbor lead system overconstrain linear equat gener satisfi singl map mathbff_boldsymbolxi reason techniqu comput optim deform gradient mathbff sought map error materi point mathbfx singl neighbor mathbfxprim ell norm differ underlinemathbfyleftlangl boldsymbolxi rightrangl underlinemathbfxleftlangl boldsymbolxi rightrangl beginequ ell_mathbfxprim leftunderlinemathbfyleftlangl boldsymbolxi rightrangl mathbff cdot underlinemathbfxleftlangl boldsymbolxi rightrangl rightt leftunderlinemathbfyleftlangl boldsymbolxi rightrangl mathbff cdot underlinemathbfxleftlangl boldsymbolxi rightrangl right endequ thu weight least squar error among neighbor mathbfx given beginequ ell int_mathcalh_mathbfxomegaleftlangl boldsymbolxi rightrangl leftunderlinemathbfyleftlangl boldsymbolxi rightrangl mathbff cdot underlinemathbfxleftlangl boldsymbolxi rightrangl rightt leftunderlinemathbfyleftlangl boldsymbolxi rightrangl mathbff cdot underlinemathbfxleftlangl boldsymbolxi rightrangl rightdv_mathbfxprim endequ omegaleftlangl boldsymbolxi rightrangl nonneg weight influenc factor bond boldsymbolxi formul weight least squar error volum integr use consist volum integr govern equat peridynam correspond materi model optim local deform gradient mathbff weight least squar sens obtain minim ell respect compon beginequ fracparti ellparti mathbff int_mathcalh_mathbfxomegaleftlangl boldsymbolxi rightrangl leftunderlinemathbfyleftlangl boldsymbolxi rightrangl otim underlinemathbfxleftlangl boldsymbolxi rightrangl mathbff cdot underlinemathbfxleftlangl boldsymbolxi rightrangl otim underlinemathbfxleftlangl boldsymbolxi rightrangl rightdv_mathbfxprim endequ set equat zero yield local deform gradient weight least squar sens beginequ mathbff mathbfk_c cdot mathbfk_r endequ beginequ mathbfk_r int_mathcalh_mathbfxomegaleftlangl boldsymbolxi rightrangl underlinemathbfxleftlangl boldsymbolxi rightrangl otim underlinemathbfxleftlangl boldsymbolxi rightrangledv_mathbfxprim endequ call textitshap tensor beginequ mathbfk_c int_mathcalh_mathbfxomegaleftlangl boldsymbolxi rightrangl underlinemathbfyleftlangl boldsymbolxi rightrangl otim underlinemathbfxleftlangl boldsymbolxi rightrangledv_mathbfxprim endequ deriv nonloc deform gradient valid necessari condit must satisfi case three dimension analysi first mathbfk_r invert materi point neighbor textbfnoncoplanar second sinc deform gradient nine independ compon materi point must least textbfthre neighbor similar constraint appli twodimension case given condit deriv deform gradient proven symmetr positivedefinit note deriv deform gradient peridynam differ continuum mechan counterpart doesnt requir smooth motion continu region space continu function spatial posit instead defin materi point locat compat condit ie curl deform gradient zero usual satisfi deform gradient peridynam case homogen appli deform mathbff_ peridynam deform gradient exact regular discret continuum mechan counterpart textbfnot definit differ peridynam state use deriv found horizon statesperidynamicshorizonstatesmd page peridynam bondassoci deform gradient media bond_associated_deformation_gradient_horizonjpg stylewidthpxpaddingleftpxfloatright captionconfigur peridynam bondassoci deform gradient approxim base peridynam nodal deform gradient construct section obviou optim peridynam deform gradient materi point accur reflect deform everi bond associ materi point consequ forc state calcul deform gradient differ actual forc state bond sometim lead sever unphys issu peridynam model subhorizon materi collaps materi penetr use bondassoci deform gradient defin use remedi unphys issu inher peridynam correspond model discuss previous deform gradient mathbff_boldsymbolxi accur captur deform bond boldsymbolxi howev form full deform gradient problemat compon constraint bond case three dimens nine independ compon deform gradient mathbff_boldsymbolxi three independ constraint avail base refer current configur bond boldsymbolxi one possibl way introduc constraint chang solut map deform bond boldsymbolxi differ significantli actual solut also use deform state neighbor bond propos done use addit local bondassoci horizon mathbfh_mathbfxprim defin materi point mathbfxprim set materi point within horizon neighbor materi point mathbfx use approxim bondassoci deform gradient bond boldsymbolxi materi point mathbfx methodolog appli calcul bondassoci deform gradient bond boldsymbolxi materi point mathbfxprim approxim bondassoci deform gradient optim bond deform map compar nodal deform gradient sinc deform state adjac bond use approxim process forc state calcul necessari condit discuss previous approxim nodal deform gradient shape tensor appli bondassoci deform gradient shape tensor follow definit nodal deform gradient use differ domain mathcalh_mathbfx cap mathcalh_mathbfxprim rather mathcalh_mathbfx weight least squar approxim bondassoci deform gradient bond boldsymbolxi materi point mathbfx readili obtain beginequ mathbff_boldsymbolxi left int_mathcalh_mathbfx cap mathcalh_mathbfxprimeomegaleftlangl boldsymbolzeta rightrangl underlinemathbfyleftlangl boldsymbolzeta rightrangl otim underlinemathbfxleftlangl boldsymbolzeta rightrangledv_mathbfxprim right cdot mathbfk_boldsymbolxi endequ bondassoci shape tensor beginequ mathbfk_boldsymbolxi int_mathcalh_mathbfx cap mathcalh_mathbfxprimeomegaleftlangl boldsymbolzeta rightrangl underlinemathbfxleftlangl boldsymbolzeta rightrangl otim underlinemathbfxleftlangl boldsymbolzeta rightrangledv_mathbfxprim endequ given bondassoci deform gradient nodal deform gradient calcul weight averag bondassoci deform gradient beginequ mathbff fracdisplaystylesum_nnpwleftlangl boldsymbolxi_n rightrangl mathbff_boldsymbolxi_ndisplaystylesum_nnpwleftlangl boldsymbolxi_n rightrangl fracdisplaystylesum_nnpwleftlangl boldsymbolxi_n rightrangl left int_mathcalh_mathbfx cap mathcalh_mathbfxprimeomegaleftlangl boldsymbolxi rightrangl underlinemathbfyleftlangl boldsymbolxi rightrangl otim underlinemathbfxleftlangl boldsymbolxi rightrangledv_mathbfxprim right cdot mathbfk_boldsymbolxi_ndisplaystylesum_nnpwleftlangl boldsymbolxi_n rightrangl endequ np number neighbor materi point mathbfx weight function wleftlangl boldsymbolxi_n rightrangl determin contribut individu bondassoci deform gradient deform gradient materi point bondassoci deform gradient better captur deform state bond ie deform two materi point compar nodal deform gradient bondassoci deform gradient use deform state materi point within vicin rather whole famili famili size infinitesim nodal deform gradient bondassoci deform gradient recov counterpart classic continuum mechan inform found citepchenbond citepchenbond horizon media conventional_deformation_gradient_horizonjpg stylewidthpxpaddingleftpxfloatright captionconfigur discret materi point peridynam theori peridynam theori materi point separ finit distanc interact directli nonloc interact region materi point within bulk call textitperidynam horizon short textithorizon commonli region taken sphericalcircular shape radiu horizon region refer textithorizon size simpli horizon horizon usual denot use symbol mathcalh size delta materi point differ horizon size horizon materi point mathbfx denot mathcalh_mathbfx discuss textithorizon found citepbobaruhorizon state let mathcall_m denot set tensor order textitm thu mathcall_ mathbbr textitst order function underlinemathbfa leftlangl cdot rightrangl mathcalh rightarrow mathcall_m thu imag vector mathbfxi mathcalh state underlinemathbfa tensor order textitm written underlinemathbfaleftlangl xi rightrangl set state order textitm denot mathcala_m angl bracket use indic vector state oper state order call textitvector state set vector state denot mathcalv thu mathcalvmathcala_ vector state higher order state usual written uppercas bold font underscor eg underlinemathbfa state order call textitscalar state set scalar state denot mathcal thu mathcalsmathcala_ scalar state usual written lower case nonbold font underscor eg underlinea inform textitst found citepsillingst textitrel posit vector state two materi point refer configur omega_r beginequ underlinemathbfxleftlangl xi rightrangl boldsymbolxi mathbfxprim mathbfx endequ mathbfxprim mathbfx posit vector refer configur textitrel displac vector state two materi point beginequ underlinemathbfuleft mathbfxt right leftlangl xi rightrangl boldsymboleta mathbfuleft mathbfxprimet right mathbfuleft mathbfxtright endequ mathbfuleft mathbfxprimet right mathbfuleft mathbfxtright displac vector squar bracket notat similar mean standard parenthes indic depend quantiti use peridynam state textitrel posit vector state textitdeform state two materi point current configur omega_c beginequ underlinemathbfyleft mathbfxt right leftlangl xi rightrangl boldsymbolxi boldsymboleta mathbfxprimeleft mathbfxprimet right mathbfxleft mathbfxtright endequ beginequ mathbfxleft mathbfxt right mathbfx mathbfuleft mathbfxt right endequ beginequ mathbfxprim left mathbfxprimet right mathbfxprim mathbfuleft mathbfxprimet right endequ mathbfxleft mathbfxt right mathbfxprimeleft mathbfxprimetright posit vector current configur syntax complet groupsperidynamicsapp modulesfluid_propertiesindexmd fluidpropertiesinterrog system fluidpropertiesinterrog syntax use addfluidpropertiesinterrogatoractionaddfluidpropertiesinterrogatoractionmd syntax list fluidpropertiesinterrog objectstru actionsfals subsystemsfals syntax list fluidpropertiesinterrog objectsfals actionsfals subsystemstru syntax list fluidpropertiesinterrog objectsfals actionstru subsystemsfals fluidproperti system overview fluidproperti object defin interfac comput thermodynam properti fluid liquid gase interfac two independ intens thermodynam properti defin thermodynam state interfac object form fab f desir thermodynam properti b independ intens thermodynam properti defin thermodynam state correspond function name f_from_a_b see follow tabl list thermodynam properti correspond name interfac name symbol descript beta beta volumetr expans coeffici c c speed sound cp c_p isobar specif heat capac cv c_v isochor specif heat capac e e specif intern energi g g gibb free energi gamma gammafracc_pc_v ratio specif heat h h specif enthalpi k k thermal conduct mu mu dynam viscos p p pressur rho rho densiti specif entropi temperatur v v specif volum syntax list modulesfluidproperti objectstru actionsfals subsystemsfals syntax list modulesfluidproperti objectsfals actionsfals subsystemstru syntax list modulesfluidproperti objectsfals actionstru subsystemsfals templat load filestubsmoose_objectmdtempl namespecificenthalpyaux syntaxauxkernelsspecificenthalpyauxtempl load filestubsmoose_objectmdtempl namestagnationpressureaux syntaxauxkernelsstagnationpressureaux pressureaux syntax descript auxkernelspressureaux calcul pressur given specif volum specif intern energi syntax paramet auxkernelspressureaux syntax input auxkernelspressureaux syntax children auxkernelspressureaux bibtex bibliographi fluiddensityaux syntax descript auxkernelsfluiddensityaux descript calcul fluid densiti fluid properti object function pressur temperatur syntax paramet auxkernelsfluiddensityaux syntax input auxkernelsfluiddensityaux syntax children auxkernelsfluiddensityaux exampl exampl comput densiti use eo fluid properti object base nonlinear variabl repres pressur temperatur name pressur temperatur respect list testtestsauxkernelsfluid_density_auxi blockauxkernelsdens templat load filestubsmoose_objectmdtempl namestagnationtemperatureaux syntaxauxkernelsstagnationtemperatureaux temperatureaux syntax descript auxkernelstemperatureaux calcul temperatur given specif volum specif intern energi syntax paramet auxkernelstemperatureaux syntax input auxkernelstemperatureaux syntax children auxkernelstemperatureaux bibtex bibliographi saturationtemperatureaux syntax descript auxkernelssaturationtemperatureaux class comput satur temperatur phase fluid mixtur given pressur variabl evalu satur temperatur phase fluid properti user object syntax paramet auxkernelssaturationtemperatureaux syntax input auxkernelssaturationtemperatureaux syntax children auxkernelssaturationtemperatureaux bibtex bibliographi naninterfac object desir continu run despit gener nan class provid interfac choos whether throw error warn noth use quiet nan waterfluidproperti syntax descript modulesfluidpropertieswaterfluidproperti water implement fluid properti iapw industri formul thermodynam properti water steam formul calcul properti water steam use pressur temperatur input iapwsif formul split five differ region phase diagram five region implement fluid properti modul avoid iter region iapwsif formul backward equat citeiapwsregion implement viscos calcul use iapw formul citepiapw note critic enhanc implement thermal conduct calcul use iap formul citepiap although newer formul avail citepiapw significantli complic implement yet dissolut dilut ga water calcul use henri law citepiapw properti water tabl properti valu molar mass kgmol critic temperatur k critic pressur mpa critic densiti kgm tripl point temperatur k tripl point pressur pa rang valid waterfluidproperti userobject valid k le le k p le mpa k le le k p le mpa syntax paramet modulesfluidpropertieswaterfluidproperti syntax input modulesfluidpropertieswaterfluidproperti syntax children modulesfluidpropertieswaterfluidproperti bibtex bibliographi simplefluidproperti syntax descript modulesfluidpropertiessimplefluidproperti comput simpl fluid base constant bulk modulu densiti fluid densiti given beginequ rho rho_exppk_f alpha_f endequ k_f bulk modulu alpha_f thermal expans coeffici constant formul viscos thermal conduct constant valu specifi input file intern energi enthalpi given beginequ e c_v endequ beginequ h e gammafracprho endequ respect gamma call porepressure_coeffici usual set mani analyt studi assum gamma syntax paramet modulesfluidpropertiessimplefluidproperti syntax input modulesfluidpropertiessimplefluidproperti syntax children modulesfluidpropertiessimplefluidproperti idealrealgasmixturefluidproperti syntax descript modulesfluidpropertiesidealrealgasmixturefluidproperti class comput fluid properti gaseou mixtur condens primari compon noncondens secondari compon model assum ga mixtur occupi entir mixtur volum temperatur partial pressur p_i pressur specif intern energi follow mixtur relat denot index ga mixtur lack subscript denot mixtur quantiti beginequ p sumlimits_in p_it v_i endequ beginequ e sumlimits_in x_i e_it v_i endequ n number gase present mixtur v_i v x_i p_it v_i e_it v_i denot equationofst call respect ga partial specif volum v_i therefor v e known get p nonlinear equat et v solv first p calcul pt v syntax paramet modulesfluidpropertiesidealrealgasmixturefluidproperti syntax input modulesfluidpropertiesidealrealgasmixturefluidproperti syntax children modulesfluidpropertiesidealrealgasmixturefluidproperti stiffenedgastwophasefluidproperti class correspond liquid vapor phase approxim use stiffen ga equat state sgeo satur curv t_textsatp gener reason thermodynam equilibrium gibb free enthalpi phase must equal interfac see equat citeberri satur curv store number point determin userdefin paramet linear interpol use get valu surfac tension comput use follow form iapw use approxim surfac tension water citeiapws_surface_tens beginequ sigmat left fractt_crightb left c left fractt_crightright endequ temperatur k t_c critic temperatur k nm b c fluiddepend constant syntax paramet modulesfluidpropertiesstiffenedgastwophasefluidproperti syntax input modulesfluidpropertiesstiffenedgastwophasefluidproperti syntax children modulesfluidpropertiesstiffenedgastwophasefluidproperti bibtex bibliographi idealgasfluidproperti syntax descript modulesfluidpropertiesidealgasfluidproperti simpl formul suitabl ideal gase properti deriv ideal ga law beginequ p rho r endequ temperatur calcul use intern energi ideal ga beginequ u c_v endequ syntax paramet modulesfluidpropertiesidealgasfluidproperti syntax input modulesfluidpropertiesidealgasfluidproperti syntax children modulesfluidpropertiesidealgasfluidproperti brinefluidproperti syntax descript modulesfluidpropertiesbrinefluidproperti highprecis consist formul fluid properti binari salt nacl water mixtur pressur temperatur interest densiti enthalpi intern energi specif heat capac calcul use formul provid citedriesnera citedriesnerb viscos thermal conduct brine calcul use formul citephillip brine vapor pressur calcul use formul present citehaa solubl solid salt halit water given citepott default brinefluidproperti userobject use waterfluidpropertieswaterfluidpropertiesmd naclfluidpropertiesnaclfluidpropertiesmd construct intern suppli user brinefluidproperti userobject take option paramet water_fp use pass specif water formul allow user use tabul version water properti use tabulatedfluidpropertiestabulatedfluidpropertiesmd significantli speed calcul brine properti rang valid brinefluidproperti userobject valid k le le k mpa le p le mpa le x_mathrmnacl le syntax paramet modulesfluidpropertiesbrinefluidproperti syntax input modulesfluidpropertiesbrinefluidproperti syntax children modulesfluidpropertiesbrinefluidproperti bibtex bibliographi hydrogenfluidproperti syntax descript modulesfluidpropertieshydrogenfluidproperti fluid properti hydrogen mainli calcul use leachman et al equat state citepleachman formul use densiti temperatur primari variabl calcul properti densiti enthalpi intern energi use pressur temperatur interfac case porou flow modul hydrogen properti typic calcul first calcul densiti iter given pressur temperatur densiti use calcul properti intern energi directli viscos calcul use formul present citemuzni thermal conduct calcul use relationship present citeassael dissolut hydrogen water calcul use henri law citepiapw properti hydrogen tabl properti valu molar mass e kgmol critic temperatur k critic pressur mpa critic densiti kgm tripl point temperatur k tripl point pressur kpa rang valid hydrogenfluidproperti userobject valid k le le k p le mpa syntax paramet modulesfluidpropertieshydrogenfluidproperti syntax input modulesfluidpropertieshydrogenfluidproperti syntax children modulesfluidpropertieshydrogenfluidproperti bibtex bibliographi twophasefluidpropertiesindepend syntax descript modulesfluidpropertiestwophasefluidpropertiesindepend phase fluid properti class take paramet name two phase fluid properti object thu allow arbitrari combin phase fluid properti object use class disallow call phase fluid properti interfac exampl satur temperatur sinc class assum phase independ thu phase properti class use use test problem ideal reduc two phase test problem act independ syntax paramet modulesfluidpropertiestwophasefluidpropertiesindepend syntax input modulesfluidpropertiestwophasefluidpropertiesindepend syntax children modulesfluidpropertiestwophasefluidpropertiesindepend bibtex bibliographi heliumfluidproperti syntax descript modulesfluidpropertiesheliumfluidproperti descript heliumfluidproperti class provid fluid properti helium citepetersen standard deviat sigma densiti approxim pressur mpa mpa beginequ sigmasqrtfracp endequ p mpa isobar isochor specif heat constant uncertainti k mpa mpa higher temperatur standard deviat lower approxim beginequ sigmaleftfracprighttt_o endequ t_ok p mpa k standard deviat dynam viscos approxim k k approxim beginequ sigma endequ k standard deviat thermal conduct approxim k k beginequ sigmat endequ k speed sound calcul citeharlow beginequ csqrtfracleftlbrackfracprhofracc_vleftfracpartialrhoparti tright_prightrbrackc_vleftfracpartialrhoparti pright_tleftfracparti tpartial rhoright_p endequ rang valid heliumfluidproperti userobject valid k le le k mpa le p le mpa syntax paramet modulesfluidpropertiesheliumfluidproperti syntax input modulesfluidpropertiesheliumfluidproperti syntax children modulesfluidpropertiesheliumfluidproperti bibtex bibliographi naclfluidproperti syntax descript modulesfluidpropertiesnaclfluidproperti nacl fluid properti function pressur pa temperatur k alert note solid state halit properti current implement use brine formul properti halit given citedriesnerb apart thermal conduct calcul use data citeurqhart critic valu taken citeanderko properti nacl tabl properti valu molar mass kgmol critic temperatur k critic pressur mpa critic densiti kgm tripl point temperatur k tripl point pressur pa rang valid naclfluidproperti userobject valid solid phase region syntax paramet modulesfluidpropertiesnaclfluidproperti syntax input modulesfluidpropertiesnaclfluidproperti syntax children modulesfluidpropertiesnaclfluidproperti bibtex bibliographi nitrogenfluidproperti syntax descript modulesfluidpropertiesnitrogenfluidproperti fluid properti nitrogen mainli calcul use span et al equat state citepspan formul use densiti temperatur primari variabl calcul properti densiti enthalpi intern energi use pressur temperatur interfac case porou flow modul nitrogen properti typic calcul first calcul densiti iter given pressur temperatur densiti use calcul properti intern energi directli viscos thermal conduct calcul use formul present citelemmon dissolut nitrogen water calcul use henri law citepiapw properti nitrogen tabl properti valu molar mass kgmol critic temperatur k critic pressur mpa critic densiti kgm tripl point temperatur k tripl point pressur kpa rang valid nitrogenfluidproperti userobject valid k le le k p le mpa syntax paramet modulesfluidpropertiesnitrogenfluidproperti syntax input modulesfluidpropertiesnitrogenfluidproperti syntax children modulesfluidpropertiesnitrogenfluidproperti bibtex bibliographi sodiumsaturationfluidproperti syntax descript modulesfluidpropertiessodiumsaturationfluidproperti descript sodiumsaturationfluidproperti class provid fluid properti _saturated_ liquid sodium base correl use sasasassi reactor dynam safeti analysi code develop argonn nation laboratori liquid metal reactor citesa properti model obtain fit experiment data comput effici motiv use simpler function fit propos origin refer upon sasasassi implement base name citefink c_p c_v origin correlationsdata use sinc sasasassi implement differenti c_p c_v satur liquid densiti calcul empir fit two satur liquid densiti correl recommend fink leibowitz cover rang k rhotimesttimest equat fit fink leibowitz model within thermal conduct fit experiment data fink leibowitz k extrapol valu k base method describ gross citesa ktimestimesttimesttimest equat fit fink leibowitz data within dynam viscos given fit experiment data fink leibowitz k extrapol valu k base method describ gross citesa mutimesfractfractimestfractimest equat fit fink leibowitz data within isobar isochor specif heat obtain new fit experiment data fink leibowitz rang k c_ptimesttimesttimestttim c_vtimesttimestttim r valu fit c_p fit match experiment data within c_v match experiment data within enthalpi comput base definit c_p c_pequivleftfracparti hpartial tright_p neglect variat satur condit respect pressur ie poyntingtyp effect h comput integr express htht_refint_t_reftc_pdt t_ref refer temperatur ht_ref enthalpi refer temperatur express use evalu enthalpi base c_p fit htft ft integr c_p respect temperatur evalu jkgk constant repres ft_refht_ref select order match fink leibowitz correl k approach rather simpli use fink leibowitz correl outright use ensur exact compat thermodynam definit paricular fit c_p select class comput h base integr c_p match fink leibowitz correl within entir rang c_p fit valid rang valid fluid properti correspond satur condit sodium satur pressur syntax paramet modulesfluidpropertiessodiumsaturationfluidproperti syntax input modulesfluidpropertiessodiumsaturationfluidproperti syntax children modulesfluidpropertiessodiumsaturationfluidproperti tabulatedfluidproperti syntax descript modulesfluidpropertiestabulatedfluidproperti tabulatedfluidproperti userobject calcul fluid properti use bicub interpol data provid text file properti valu read csv file contain properti data monoton increas valu pressur temperatur must includ data file specifi phase space tabul fluid properti defin error thrown either temperatur pressur data includ monoton error also thrown userobject request provid fluid properti outsid phase space class intend use complic formul fluid properti densiti intern energi requir comput expens particularli case fluid equat state base helmholtz free energi function densiti temperatur like use cofluidpropertiescofluidpropertiesmd exampl densiti must solv iter use pressur temperatur increas comput burden use interpol tabul fluid properti significantli reduc comput time comput fluid properti defin use complex equat state may reduc overal comput cost dramat especi fluid properti calcul larg number time file format expect file format tabul fluid properti describ first line must header contain requir column name pressur temperatur also number fluid properti tabulatedfluidproperti understand densiti enthalpi internal_energi viscos k thermal conduct cp isobar specif heat capac cv isochor specif heat capac entropi alert note order import although pressur temperatur first make data easier human read data pressur temperatur column must monoton increas file format requir duplic pressur temperatur data pressur valu must includ num_t time temperatur valu repeat num_p time num_t num_p number temperatur pressur point respect class check requir number data point enter num_t num_p exampl valid fluid properti file provid text pressur temperatur densiti enthalpi internal_energi use tabulatedfluidproperti read exist file consid exampl tabulatedfluidproperti use reduc cost calcul co_ fluid properti exampl file contain tabul fluid properti name fluid_propertiescsv provid properti list file calcul use interpol remain properti provid fluidproperti interfac calcul use cofluidpropertiescofluidpropertiesmd userobject input file syntax necessari achiev list modulesfluid_propertiestestteststabulatedtabulatedi blockmodul write data file tabul fluid properti data file exist data properti specifi input file paramet interpolated_properti gener use pressur temperatur rang specifi input file begin simul exampl wish gener file contain tabul properti co_ densiti enthalpi viscos mathrmk le le mathrmk mathrmmpa le p le mathrmmpa divid equal point respect input file syntax necessari modul fluidproperti co type cofluidproperti tabul type tabulatedfluidproperti fp co fluid_property_fil fluid_propertiescsv interpolated_properti densiti enthalpi viscos temperature_min temperature_max pressure_min e pressure_max e num_t num_p tabul data written file correct format enabl suitabl data file creat futur use upfront comput expens requir initi data gener depend requir number pressur temperatur point howev provid number data point requir gener tabul data smaller number time properti member fluidproperti userobject use initi time gener data subsequ interpol time much less use origin fluidproperti userobject alert note fluid properti read file specifi input file deriv respect pressur temperatur calcul use bicub interpol remain fluid properti calcul use provid fluidproperti userobject syntax paramet modulesfluidpropertiestabulatedfluidproperti syntax input modulesfluidpropertiestabulatedfluidproperti syntax children modulesfluidpropertiestabulatedfluidproperti sodium fluid properti syntax descript modulesfluidpropertiessodiumproperti sodiumproperti inherit base class fluidproperti provid need function determin sodium fluid properti may use coolant channel simul follow method provid class thermal conduct ktemperatur enthalpi htemperatur heat capac heatcapacitytemperatur temperatur temperatureh densiti rhotemperatur deriv densiti wrt temperatur drho_dttemperatur deriv densiti wrt enthalpi drho_dhh properti liquid sodium obtain citefinkbf list modulesfluid_propertiestesttestssodiumexacti blockmodulesfluidpropertiessodium syntax paramet modulesfluidpropertiessodiumproperti syntax input modulesfluidpropertiessodiumproperti syntax children modulesfluidpropertiessodiumproperti bibtex bibliographi fluidpropertiesinterrog syntax descript userobjectsfluidpropertiesinterrog introduct fluidpropertiesinterrog user object use queri fluid properti object deriv follow type singlephasefluidproperti vapormixturefluidproperti twophasefluidproperti note twophasencgfluidproperti deriv user specifi thermodynam state evalu number fluid properti use number differ task follow determin valu initi condit problem setup verifi outofbound input fluid properti interfac get valu use test usag interrog use syntax addfluidpropertiesinterrogatoractionaddfluidpropertiesinterrogatoractionmd input file user need block fluidpropertiesinterrog block creat fluid properti object interrog conveni input file use interrog provid modul list fluid_propertiesfp_interrogatorfp_interrogatori valid input combin notat summar follow tabl symbol descript p pressur p_sat satur pressur p_crit critic pressur temperatur t_sat satur temperatur rho densiti v specif volum e specif intern energi e specif total energi h specif enthalpi delta h_ellrightarrow v latent heat vapor specif entropi c sound speed u fluid speed mu dynam viscos c_p specif heat constant pressur c_v specif heat constant volum k thermal conduct beta volumetr expans coeffici x_ncg mass fraction noncondens ga let set singlephas fluid properti defin beginequ mathcalp equiv p rho v e h c mu c_p c_v k beta endequ set quantiti stagnat state rather static state denot mathcalp_ let set valid input singlephas static fluid properti beginequ mathcala equiv p p rho rho e endequ set valid input singlephas stagnat fluid properti beginequ mathcala_ equiv p u p rho u rho e u rho rho u rho e endequ singlephas vapor mixtur fluid properti valid input set follow beginequ mathcala_mix equiv p x_ncg rho e x_ncg endequ beginequ mathcala_mix equiv p x_ncg u rho e x_ncg u rho rho u rho e x_ncg endequ follow tabl summar valid input combin singlephas fluid properti object note twophasencgfluidproperti inherit twophasefluidproperti column twophasefluidproperti use describ fluid properti class deriv twophasefluidproperti twophasencgfluidproperti base class valid input combin output singlephasefluidproperti mathcaliinmathcala mathcalp mathcaliinmathcala_ mathcalp mathcalp_ vapormixturefluidproperti mathcaliinmathcala_mix mathcalp mathcaliinmathcala_mix mathcalp mathcalp_ twophasefluidproperti mathcali p_crit mathcaliinp p_crit t_sat delta h_ellrightarrow v mathcaliint p_crit p_sat delta h_ellrightarrow v mathcaliinp p_crit delta h_ellrightarrow v mathcaliinmathcala mathcalinep p_crit mathcalp_el mathcalp_v mathcaliinmathcala_ p_crit mathcalp_el mathcalp_v mathcalp_el mathcalp_v twophasencgfluidproperti mathcali p_crit mathcaliinp p_crit t_sat delta h_ellrightarrow v mathcaliint p_crit p_sat delta h_ellrightarrow v mathcaliinp p_crit delta h_ellrightarrow v mathcaliinmathcala quad mathcalinep p_crit mathcalp_el mathcaliinmathcala_ p_crit mathcalp_el mathcalp_el mathcaliinmathcala_mix p_crit mathcalp_el mathcalp_v mathcaliinmathcala_mix p_crit mathcalp_el mathcalp_v mathcalp_el mathcalp_v syntax paramet userobjectsfluidpropertiesinterrog syntax input userobjectsfluidpropertiesinterrog syntax children userobjectsfluidpropertiesinterrog stiffenedgasfluidproperti syntax descript modulesfluidpropertiesstiffenedgasfluidproperti simpl fluid class implement stiffen equat state citepmetay beginequ p gamma rho e q gamma p_infti endequ gamma c_pc_v ratio specif heat capac q constant defin zero refer state intern energi p_infti constant repres attract fluid molecul make fluid stiff comparison ideal ga equat state typic use repres water high pressur syntax paramet modulesfluidpropertiesstiffenedgasfluidproperti syntax input modulesfluidpropertiesstiffenedgasfluidproperti syntax children modulesfluidpropertiesstiffenedgasfluidproperti bibtex bibliographi flibefluidproperti syntax descript modulesfluidpropertiesflibefluidproperti descript flibefluidproperti class provid fluid properti peritect molar composit lif bef_ commonli refer flibe densiti calcul citerichard pressur depend ad ensur finit deriv respect pressur need applic partial deriv densiti respect pressur assum e kgmpa citerichard may set userdefin valu slightli increas partial deriv densiti respect pressur may improv converg compress flow equat without significantli affect physic accuraci densiti estim citescarlat absens pressur depend uncertainti densiti pm citerichard viscos isobar specif heat thermal conduct calcul uncertainti pm pm pm respect citerichard viscos lif bef_ vari eight order magnitud caution use appli fluid properti lifbef_ mixtur slightli differ ratio citeromatoski isochor specif heat calcul accord definit beginequ c_vleftfracparti eparti tright_v endequ becom substitut definit e beginequ c_vleftfracparti hpartial tright_vleftfracpartialpvparti tright_v endequ molar mass calcul assum enrich lithium li isotop rang valid fluid properti applic liquid flibe atmospher pressur melt boil point flibe approxim degreec degreec respect citerichard fluid properti use outsid rang syntax paramet modulesfluidpropertiesflibefluidproperti syntax input modulesfluidpropertiesflibefluidproperti syntax children modulesfluidpropertiesflibefluidproperti flinakfluidproperti syntax descript modulesfluidpropertiesflinakfluidproperti descript flinakfluidproperti class provid fluid properti molar eutect composit lif naf kf commonli refer flinak densiti calcul citerichard pressur depend ad ensur finit deriv respect pressur need applic partial deriv densiti respect pressur assum e kgmpa citerichard may set userdefin valu slightli increas partial deriv densiti respect pressur may improv converg compress flow equat without significantli affect physic accuraci densiti estim citescarlat absens pressur depend uncertainti densiti pm citerichard viscos isobar specif heat thermal conduct calcul uncertainti pm pm pm respect citerichard isochor specif heat calcul accord definit beginequ c_vleftfracparti eparti tright_v endequ becom substitut definit e beginequ c_vleftfracparti hpartial tright_vleftfracpartialpvparti tright_v endequ rang valid fluid properti applic liquid flinak atmospher pressur melt boil point flibe approxim degreec degreec respect citerichard fluid properti use outsid rang syntax paramet modulesfluidpropertiesflinakfluidproperti syntax input modulesfluidpropertiesflinakfluidproperti syntax children modulesfluidpropertiesflinakfluidproperti methanefluidproperti syntax descript modulesfluidpropertiesmethanefluidproperti fluid properti methan mainli calcul use setzmann wagner equat state citepsetzmann formul use densiti temperatur primari variabl calcul properti densiti enthalpi intern energi use pressur temperatur interfac case porou flow modul methan properti typic calcul first calcul densiti iter given pressur temperatur densiti use calcul properti intern energi directli comput expens associ iter calcul mitig use tabulatedfluidpropertiestabulatedfluidpropertiesmd low pressur typic less mpa properti methan approxim use ideal gasidealgasfluidpropertiesmd much faster calcul howev higher pressur approxim lead larg differ see methane_dens media mediafluid_propertiesmethane_densitypng idmethane_dens stylewidthmarginleftpx captionmethan densiti k variou pressur transport properti viscos thermal conduct calcul use formul provid citeirvin dissolut methan water calcul use henri law citepiapw properti methan tabl properti valu molar mass kgmol critic temperatur k critic pressur mpa critic densiti kgm tripl point temperatur k tripl point pressur mpa rang valid methanefluidproperti userobject valid k le le k pressur mpa syntax paramet modulesfluidpropertiesmethanefluidproperti syntax input modulesfluidpropertiesmethanefluidproperti syntax children modulesfluidpropertiesmethanefluidproperti bibtex bibliographi cofluidproperti syntax descript modulesfluidpropertiescofluidproperti fluid properti co_ mainli calcul use span wagner equat state citepspanwagn formul use densiti temperatur primari variabl calcul properti densiti enthalpi intern energi howev fluid properti modul use pressur temperatur interfac suitabl use porou flow modul result co_ properti typic calcul first calcul densiti iter given pressur temperatur densiti use calcul properti intern energi directli viscos calcul use formul present citefenghour thermal conduct taken citescalabrin dissolut co_ water calcul use henri law citepiapw properti co_ tabl properti valu molar mass kgmol critic temperatur k critic pressur mpa critic densiti kgm tripl point temperatur k tripl point pressur mpa rang valid cofluidproperti userobject valid k le le k p le mpa syntax paramet modulesfluidpropertiescofluidproperti syntax input modulesfluidpropertiescofluidproperti syntax children modulesfluidpropertiescofluidproperti bibtex bibliographi saturationpressurefunct function comput satur pressur p_textsat given temperatur function tmathbfx beginequ p_textsatmathbfx p_textsattmathbfx endequ p_textsatt function provid via p_satt api object deriv twophasefluidproperti syntax paramet functionssaturationpressurefunct syntax input functionssaturationpressurefunct syntax children functionssaturationpressurefunct saturationtemperaturefunct function comput satur temperatur t_textsat given pressur function pmathbfx beginequ t_textsatmathbfx t_textsatpmathbfx endequ t_textsatp function provid via t_satp api object deriv twophasefluidproperti syntax paramet functionssaturationtemperaturefunct syntax input functionssaturationtemperaturefunct syntax children functionssaturationtemperaturefunct sodium properti materi syntax descript materialssodiumpropertiesmateri sodiumpropertiesmateri sampl function avail sodiumpropertiessodiumpropertiesmd provid materi properti follow materi properti creat liquid sodium thermal conduct ktemperatur enthalpi htemperatur heat capac cptemperatur temperatur enthalpi t_from_hh densiti rhotemperatur deriv densiti wrt temperatur drho_dttemperatur deriv densiti wrt enthalpi drho_dhh properti liquid sodium obtain citefinkbf list modulesfluid_propertiestesttestssodiumexacti blockmateri syntax paramet materialssodiumpropertiesmateri syntax input materialssodiumpropertiesmateri syntax children materialssodiumpropertiesmateri bibtex bibliographi adsaturationtemperaturemateri materi comput ad satur temperatur materi properti pressur ad materi properti t_satp interfac twophasefluidproperti object syntax paramet materialsadsaturationtemperaturemateri syntax input materialsadsaturationtemperaturemateri syntax children materialsadsaturationtemperaturemateri templat load filestubsmoose_objectmdtempl namefluidpropertiesmateri syntaxmaterialsfluidpropertiesmaterialtempl load filestubsmoose_objectmdtempl namefluidpropertiesmaterialpt syntaxmaterialsfluidpropertiesmaterialpt adsurfacetensionmateri materi comput ad surfac tension materi properti temperatur ad materi properti sigma_from_tt interfac twophasefluidproperti object syntax paramet materialsadsurfacetensionmateri syntax input materialsadsurfacetensionmateri syntax children materialsadsurfacetensionmateri saturationpressuremateri materi comput satur pressur materi properti temperatur materi properti p_satt interfac twophasefluidproperti object syntax paramet materialssaturationpressuremateri syntax input materialssaturationpressuremateri syntax children materialssaturationpressuremateri rhovapormixturefrompressuretemperatur initi condit set densiti vapor mixtur given pressur temperatur use singlephasefluidproperti vapormixtureinterfac interfac syntax paramet icsrhovapormixturefrompressuretemperatur syntax input icsrhovapormixturefrompressuretemperatur syntax children icsrhovapormixturefrompressuretemperatur specificenthalpyfrompressuretemperatur initi condit set specif enthalpi given pressur temperatur use singlephasefluidproperti interfac syntax paramet icsspecificenthalpyfrompressuretemperatur syntax input icsspecificenthalpyfrompressuretemperatur syntax children icsspecificenthalpyfrompressuretemperatur bibtex bibliographi rhofrompressuretemperatur initi condit set densiti given pressur temperatur use singlephasefluidproperti interfac syntax paramet icsrhofrompressuretemperatur syntax input icsrhofrompressuretemperatur syntax children icsrhofrompressuretemperatur bibtex bibliographi templat load filestubsmoose_actionmdtempl nameaddfluidpropertiesact syntaxmodulesfluidpropertiesaddfluidpropertiesact addfluidpropertiesinterrogatoract syntax descript fluidpropertiesinterrogatoraddfluidpropertiesinterrogatoract action perform number task need use fluidpropertiesinterrogatorfluidpropertiesinterrogatormd minim set creat dummi mesh execution problem creat consol output print perform interrog syntax paramet fluidpropertiesinterrogatoraddfluidpropertiesinterrogatoract bibtex bibliographi fluid properti modul fluid properti modul provid consist interfac fluid properti densiti viscos enthalpi mani other well deriv respect primari variabl consist interfac allow differ fluid use input file simpli swap name fluid properti userobject plugandplay manner fluid avail modul provid fluid properti mani differ gase liquid mixtur syntax list modulesfluidproperti groupsfluidpropertiesapp headinglevel actionsfals properti avail fluidproperti userobject provid access sever fluid properti two main formul avail use v e specif volum specif intern energi p pressur temperatur although fluid properti may avail term primari variabl depend actual fluid implement number follow fluid properti may avail densiti rho_from_p_spressur entropi densiti rho_from_p_tpressur temperatur dynam viscos mu_from_v_evolum energi dynam viscos mu_from_p_tpressur temperatur enthalpi h_from_p_tpressur temperatur enthalpi h_from_t_vtemperatur volum fluid name fluidnam gibb free energi g_from_v_evolum energi intern energi e_from_v_hvolum enthalpi intern energi e_from_p_rhopressur densiti intern energi e_from_t_vtemperatur volum intern energi e_from_p_tpressur temperatur isobar specif heat cp_from_v_evolum energi isobar specif heat cp_from_p_tpressur temperatur isochor specif heat cv_from_v_evolum energi isochor specif heat cv_from_t_vtemperatur volum isochor specif heat cv_from_p_tpressur temperatur molar mass kgmol molarmass pressur p_from_v_evolum energi pressur p_from_t_vtemperatur volum pressur p_from_h_spressur entropi ratio specif heat gammavolum energi ratio specif heat gamma_from_p_tpressur temperatur specif entropi s_from_v_evolum energi specif entropi s_from_p_tpressur temperatur specif entropi s_from_h_penthalpi pressur specif entropi s_from_t_vtemperatur volum specif volum v_from_p_tpressur temperatur speed sound c_from_v_evolum energi speed sound c_from_p_tpressur temperatur temperatur t_from_v_evolum energi temperatur t_from_p_hpressur enthalpi thermal conduct k_from_v_evolum energi thermal conduct k_from_p_tpressur temperatur thermal expans coeffici beta_from_p_tpressur temperatur deriv fluid properti respect primari variabl also avail sever fluid properti list evalu use follow notat rho_from_p_tp rho drho_dp drho_dt etc alert note fluid properti avail use interfac suitabl use moos automat differenti capabl see exampl next section full list avail method found either sourc code modul doxygenhttpmooseframeworkorgdocsdoxygenmodulesclasseshtml page fluidproperti class alert note fluid properti implement generaluserobject empti initi execut final method noth simul purpos provid conveni access fluid properti exist userobject interfac usag fluid properti userobject access moos object usual userobject interfac follow exampl provid detail explan step involv use fluid properti userobject moos object syntax requir input file exampl problem energyvolum primari variabl materi provid calcul fluid properti quadratur point sourc access fluid properti defin fluid properti modul moos object sourc code object must includ follow line code header file materi const refer base singlephasefluidproperti object requir list modulesfluid_propertiesincludematerialsfluidpropertiesmaterialh linesinglephasefluidproperti alert note forward declar singlephasefluidproperti class requir begin header file list modulesfluid_propertiesincludematerialsfluidpropertiesmaterialh lineclass singlephasefluidproperti sourc file singlephasefluidproperti class must includ list modulesfluid_propertiessrcmaterialsfluidpropertiesmaterialc line singlephasefluidpropertiesh fluid properti userobject pass materi input file ad userobject name paramet input paramet list modulesfluid_propertiessrcmaterialsfluidpropertiesmaterialc lineaddrequiredparam refer userobject initi constructor use list modulesfluid_propertiessrcmaterialsfluidpropertiesmaterialc linegetuserobject properti defin fluid properti userobject access refer materi computeqpproperti method calcul number properti quadratur point use valu _v_qp _e_qp list modulesfluid_propertiessrcmaterialsfluidpropertiesmaterialc startcomputeqpproperti similar fashion fluid properti access use automat differenti interfac use dualreal version provid valu deriv dualreal rho _fpp_from_t_vt v v dualreal result densiti rho exampl contain valu densiti deriv respect primari variabl v input file syntax fluid properti userobject implement input file modul block exampl use ideal ga formul specif volum energi input file syntax would list modulesfluid_propertiestesttestsideal_gastesti blockmodul exampl user specifi valu gamma ratio isobar isochor specif heat capacit r univers ga constant fluid properti access moos object name given input file list modulesfluid_propertiestesttestsideal_gastesti blockmateri due consist interfac fluid properti differ fluid substitut input file chang type userobject exampl use stiffen ga instead ideal ga modif requir input file list modulesfluid_propertiestesttestsstiffened_gastesti blockmodul creat addit fluid new fluid ad fluid properti modul inherit base class overrid method describ fluid properti use ident manner fluid properti userobject util fluid properti interrog fluidpropertiesinterrogatorfluidpropertiesinterrogatormd user object use queri elig fluid properti object addit object sever addit object provid auxkernel syntax list auxkernel groupsfluidpropertiesapp headinglevel actionsfals function syntax list function groupsfluidpropertiesapp headinglevel actionsfals materi syntax list materi groupsfluidpropertiesapp headinglevel actionsfals templat load filesqaapp_indexmdtempl categoryfluid_properti appfluid properti templat item keysqareport sqa report categorycategori templat load filesqaapp_sddmdtempl categoryfluid_properti appfluid properti templat load filesqaapp_sllmdtempl categoryfluid_properti appfluid properti templat load filesqaapp_farmdtempl categoryfluid_properti appfluid properti templat load filesqaapp_rtmmdtempl categoryfluid_properti appfluid properti templat load filesqaapp_srsmdtempl categoryfluid_properti appfluid properti templat load filesqaapp_vvrmdtempl categoryfluid_properti appfluid properti templat load filesqaapp_stpmdtempl categoryfluid_properti appfluid properti modulesheat_conductionindexmd modulesheat_conductionindexmd net radiat method system graydiffuseradi syntax invok radiationtransferactionmd simplifi set gray diffus radi exchang problem requir user provid boundari emiss boundari type boundari adiabat fixed_temperatur variable_temperatur variable_temperatur boundari list union paramgraydiffuseradiationadiabatic_boundari paramgraydiffuseradiationfixed_temperature_boundari graydiffuseradi syntax allow split boundari radiat patch use paramgraydiffuseradiationn_patch paramet allow comput accur view factor particip boundari assum geometri graydiffuseradi syntax assum radiat exchang caviti fill vacuum medium transpar thermal radiat caviti must enclos boundari specifi paramet paramgraydiffuseradiationboundari caviti enclos result comput may incorrect without moos issu warn error default moos raytrac modul use calcul view factor method discuss detail raytracingviewfactormd paramet paramgraydiffuseradiationview_factor_calcul set analyt forc use unobstructedplanarviewfactormd point maintain backward compat option may remov futur paramgraydiffuseradiationray_tracing_face_ord paramet import control accuraci view factor comput raytrac comput use qgrid quadratur avail libmesh place quadratur point uniform distanc boundari face increas paramgraydiffuseradiationray_tracing_face_ord increas accuraci view factor note mesh refin also enhanc accuraci view factor expens element cross raytrac procedur uniformli increas number quadratur point use paramgraydiffuseradiationray_tracing_face_ord essenti equival select refin mesh face radi transfer syntax list graydiffuseradi objectstru actionsfals subsystemsfals syntax list graydiffuseradi objectsfals actionsfals subsystemstru syntax list graydiffuseradi objectsfals actionstru subsystemsfals exampl input syntax list modulesheat_conductiontesttestsradiation_transfer_actionradiative_transfer_actioni blockgraydiffuseradiationcav syntax paramet graydiffuseradi templat load filestubsmoose_systemmdtempl namethermalcontact syntaxthermalcontacttempl load filestubsmoose_systemmdtempl namemodul syntaxmodul templat load filestubsmoose_systemmdtempl nameheatconduct syntaxmodulesheatconduct templat load filestubsmoose_systemmdtempl namethermalcontact syntaxmodulesheatconductionthermalcontact templat load filestubsmoose_systemmdtempl namethermalcontact syntaxmodulesheatconductionthermalcontactbc templat load filestubsmoose_objectmdtempl namegapheatpointsourcemast syntaxdirackernelsgapheatpointsourcemast fvinfinitecylinderradiativebc syntax descript fvbcsfvinfinitecylinderradiativebc overview object implement boundari flux form beginequ f sigma c leftt t_inftyright endequ sigma stefanboltzmann constant temperatur t_infti temperatur infin coeffici c given beginequ fracepsilon_b epsilon_c r_cepsilon_c r_c epsilon_b r_b left epsilon_cright endequ epsilon_b emiss boundari eg boundari paramet epsilon_c emiss theoret cylind surround theoret cylind bound boundari r_c radiu surround cylind r_b radiu correspond locat boundari syntax paramet fvbcsfvinfinitecylinderradiativebc syntax input fvbcsfvinfinitecylinderradiativebc syntax children fvbcsfvinfinitecylinderradiativebc functorthermalresistancebc syntax descript fvbcsfunctorthermalresistancebc functorthermalresistancebc simpli fvthermalresistancebcmd use functor materi properti see document detail syntax paramet fvbcsfunctorthermalresistancebc syntax input fvbcsfunctorthermalresistancebc syntax children fvbcsfunctorthermalresistancebc fvthermalresistancebc syntax descript fvbcsfvthermalresistancebc descript heat flux boundari condit fluid solid energi conserv equat use fluid energi equat boundari condit specifi beginequ int_gammakappa_f nabla t_fcdothatndgamma endequ beginequ kappa_fnabla t_fcdothatntildeq endequ tildeq impos heat flux discuss shortli use solid energi equat boundari condit specifi beginequ int_gammakappa_scdotnabla t_scdothatndgamma endequ beginequ kappa_scdotnabla t_scdothatntildeq endequ heat flux tildeq comput base thermal resist concept heat assum conduct multipl parallel slab constantproperti solid seri follow parallel convect radiat ambient temperatur n conduct layer conduct thermal resist r_c comput cartesian slab beginequ r_csum_infracdelta x_ik_i endequ delta x_i thick layer k_i thermal conduct layer cylindr annuli conduct thermal resist comput beginequ r_csum_infraclnleftfracdelta x_ir_ir_iright pi k_i endequ r_i inner radiu correspond layer inner radiu first cylindr annulu specifi inner_radiu paramet alert warn inner radiu cylindr bed also provid inner_radiu paramet set poros function nearwal behavior prevent error associ mix two differ interpret inner_radiu paramet best avoid set paramet globalparam input file block parallel convect radiat resist surfac conduct layer r_p comput beginequ r_pfracrlefth_rh_cright endequ r equal cylindr annuli outer radiu cylindr geometri uniti cartesian geometri h_c surfac convect coeffici h_r radiat heat transfer coeffici beginequ h_rvarepsilonsigmaleftt_st_inftyrightleftt_st_inftyright endequ varepsilon emiss last conduct layer sigma stefanboltzmann constant t_ surfac temperatur last conduct layer t_infti farfield temperatur surfac temperatur implicitli depend heat flux underrelax fix point iter use solv t_ quadratur point alert warn thermal resist concept appli conduct slab heat sourc system undergo transient boundari condit appli steadyst pseudosteadi transient alert note emiss paramet repres emiss _surface_ last layer conduct slab exampl input syntax exampl set thermal resist boundari condit top left boundari specifi emiss thermal conduct convect heat transfer coeffici model three heat transfer mechan present set absent inner iter paramet expos left boundari meant use finetun simul perform converg difficulti encount boundari list testtestsfvbcsfv_thermal_resistancetesti blockfvbc syntax paramet fvbcsfvthermalresistancebc syntax input fvbcsfvthermalresistancebc syntax children fvbcsfvthermalresistancebc jouleheatingheatgeneratedaux syntax descript auxkernelsjouleheatingheatgeneratedaux descript jouleheatingheatgeneratedaux auxkernel use comput heat gener joul heat heat power per unit volum comput dpdv bmj cdot bme e sigma bmj sigma bme current densiti bme electr field sigma electr conduct syntax paramet auxkernelsjouleheatingheatgeneratedaux syntax input auxkernelsjouleheatingheatgeneratedaux syntax children auxkernelsjouleheatingheatgeneratedaux viewfactorpp syntax descript postprocessorsviewfactorpp descript postprocessor extract view factor from_boundari to_boundari view factor userobject provid view_factor_object_nam exampl input file syntax list modulesheat_conductiontesttestsgray_lambert_radiatorgray_lambert_cavity_automatic_vfi blockpostprocessor syntax paramet postprocessorsviewfactorpp syntax input postprocessorsviewfactorpp syntax children postprocessorsviewfactorpp bibtex bibliographi convectiveheattransfersideintegr syntax descript postprocessorsconvectiveheattransfersideintegr descript postprocessor comput total heat flux q integr product temperatur differ heat transfer coeffici set boundari beginequ q intlimits_ h t_ t_f ds endequ set boundari t_ solid temperatur t_f fluid temperatur h heat transfer coeffici postprocessor use ensur conserv transfer robin boundari condit use exampl input file syntax list modulesheat_conductiontesttestspostprocessorsconvective_ht_side_integrali blockpostprocessor syntax paramet postprocessorsconvectiveheattransfersideintegr syntax input postprocessorsconvectiveheattransfersideintegr syntax children postprocessorsconvectiveheattransfersideintegr bibtex bibliographi graylambertsurfaceradiationpp syntax descript postprocessorsgraylambertsurfaceradiationpp descript postprocessor extract radios heat flux densiti temperatur graylambertsurfaceradi userobject boundari inform extract need specifi exampl input file syntax list modulesheat_conductiontesttestsgray_lambert_radiatorgray_lambert_cavityi blockpostprocessor syntax paramet postprocessorsgraylambertsurfaceradiationpp syntax input postprocessorsgraylambertsurfaceradiationpp syntax children postprocessorsgraylambertsurfaceradiationpp bibtex bibliographi homogenizedthermalconduct syntax descript postprocessorshomogenizedthermalconduct descript postprocessor comput beginequ k_ijtexthfraclefttextyrightint_textyk_ijleftbmi fracpartialpsikparti y_jrighttextdbmi endequ ktexth_ij homogen thermal conduct use conjunct heat conductionheatconductionmd kernel homogen heat conductionhomogenizedheatconductionmd kernel comput homogen thermal conduct valu accord beginequ int_i fracparti vpartial y_ik_ik fracparti psikparti y_j int_i fracparti vpartial y_ik_ik textdi endequ k diffus coeffici thermal conduct see citehaleshomogen exampl input file syntax list modulesheat_conductiontesttestshomogenizationheatconductiondi blockpostprocessorsk_xx syntax paramet postprocessorshomogenizedthermalconduct syntax input postprocessorshomogenizedthermalconduct syntax children postprocessorshomogenizedthermalconduct bibtex bibliographi templat load filestubsmoose_objectmdtempl namethermalconduct syntaxpostprocessorsthermalconductivitytempl load filestubsmoose_objectmdtempl nameanisoheatconduct syntaxkernelsanisoheatconductiontempl load filestubsmoose_objectmdtempl nameheatsourc syntaxkernelsheatsourc trussheatconduct syntax descript kernelstrussheatconduct kernel provid conduct term heat equat truss element crosssect area truss taken account similar standard heatconductionheatconductionmd kernel multipli contribut crosssect area provid use coupl variabl beginequ nabla cdot k nabla endequ crosssect area truss element k thermal conduct materi kernel use line element use model heat conduct network truss space import note use model space intent model heat conduct infinit medium cartesian coordin axisymmetr volum standard heatconduct kernel use situat syntax paramet kernelstrussheatconduct syntax input kernelstrussheatconduct syntax children kernelstrussheatconduct homogenizedheatconduct syntax descript kernelshomogenizedheatconduct descript kernel comput beginequ int_i fracparti vpartial y_ik_ik textdi endequ k_ik thermal conduct use conjunct heat conductionheatconductionmd kernel homogen thermal conductivityhomogenizedthermalconductivitymd postprocessor comput homogen thermal conduct valu accord beginequ int_i fracparti vpartial y_ik_ik fracparti psikparti y_j int_i fracparti vpartial y_ik_ik textdi endequ beginequ k_ijtexthfraclefttextyrightint_textyk_ijleftbmi fracpartialpsikparti y_jrighttextdbmi endequ ktexth_ij homogen thermal conduct see citehaleshomogen exampl input file syntax list modulesheat_conductiontesttestshomogenizationheatconductiondi blockkernelsheat_rhs_x syntax paramet kernelshomogenizedheatconduct syntax input kernelshomogenizedheatconduct syntax children kernelshomogenizedheatconduct bibtex bibliographi adheatconduct descript adheatconduct implement heat diffus equat heatconductionheatconductionmd within framework automat differenti adheatconduct kernel implement heat equat given fourier law heat flux given beginequ mathbfq knabla endequ k denot thermal conduct materi k either admateri tradit materi class inherit addiffusionaddiffusionmd class syntax descript kernelsadheatconduct syntax paramet kernelsadheatconduct syntax input kernelsadheatconduct syntax children kernelsadheatconduct bibtex bibliographi specificheatconductiontimederiv syntax descript kernelsspecificheatconductiontimederiv alert note kernel use derivativematerialinterfacederivativematerialinterfacemd access deriv specif heat densiti build jacobian see also heatcapacityconductiontimederivativemd syntax paramet kernelsspecificheatconductiontimederiv syntax input kernelsspecificheatconductiontimederiv syntax children kernelsspecificheatconductiontimederiv adjouleheatingsourc syntax descript kernelsadjouleheatingsourc overview adjouleheatingsourc implement heat sourc correspond electr joul heat jouleheatingsourcejouleheatingsourcemd within framework automat differenti strong form adjouleheatingsourc defin beginequ q mathbfj cdot mathbf sigma_elec nabla phi cdot nabla phi endequ phi electrostat potenti sigma_elec electr conduct materi sigma_elec defin admaterialproperti within heat conduct modul properti could current provid adelectricalconductivityadelectricalconductivitymd class inherit adkernelvaluekernelmd class exampl input file syntax exampl use adjouleheatingsourc found heat conduct modul test transient_ad_jouleheatingi list modulesheat_conductiontesttestsjoule_heatingtransient_ad_jouleheatingi blockkernelsheatsrc syntax paramet kernelsadjouleheatingsourc syntax input kernelsadjouleheatingsourc syntax children kernelsadjouleheatingsourc heatcapacityconductiontimederiv syntax descript kernelsheatcapacityconductiontimederiv alert note kernel use derivativematerialinterfacederivativematerialinterfacemd access deriv heat capac build jacobian see also specificheatconductiontimederivativemd syntax paramet kernelsheatcapacityconductiontimederiv syntax input kernelsheatcapacityconductiontimederiv syntax children kernelsheatcapacityconductiontimederiv templat load filestubsmoose_objectmdtempl nameheatconduct syntaxkernelsheatconduct admatheatsourc descript admatheatsourc implement forc term thermal transport repres heat sourc strong form given adomain omega defin beginequ underbracef_textrmbodyforc sum_in beta_i omega endequ f sourc term neg sink second term left hand side repres strong form kernel bodyforc weak form innerproduct notat defin beginequ r_iu_h psi_i f quad foral psi_i endequ psi_i test function u_h trial solut finit dimension space mathcalsh unknown u f given materi properti option constant scalar jacobian calcul automat via automat differenti syntax paramet kernelsadmatheatsourc syntax input kernelsadmatheatsourc syntax children kernelsadmatheatsourc bibtex bibliographi trussheatconductiontimederiv syntax descript kernelstrussheatconductiontimederiv kernel provid time deriv term heat equat truss element crosssect area truss taken account similar standard heatconductiontimederivativeheatconductiontimederivativemd kernel multipli contribut crosssect area provid use coupl variabl beginequ rho c_p fracparti tpartial endequ crosssect area truss element rho densiti materi c_p heat capac fo materi kernel use line element use model heat conduct network truss space import note use model space intent model heat conduct infinit medium cartesian coordin axisymmetr volum standard heatconductiontimederiv kernel use situat syntax paramet kernelstrussheatconductiontimederiv syntax input kernelstrussheatconductiontimederiv syntax children kernelstrussheatconductiontimederiv jouleheatingsourc syntax descript kernelsjouleheatingsourc overview strong form jouleheatingsourc defin beginequ q mathbfj cdot mathbf sigma_elec nabla phi cdot nabla phi endequ phi electrostat potenti sigma_elec electr conduct materi sigma_elec either admateri tradit materi within heat conduct modul default could current provid electricalconductivityelectricalconductivitymd gener problem semiconductorlinearconductivitysemiconductorlinearconductivitymd specif problem relat semiconductor class inherit heatsourceheatsourcemd class via derivativematerialinterfacederivativematerialinterfacemd jvarmapinterfacejvarmapinterfacemd exampl input file syntax exampl use jouleheatingsourc found heat conduct modul test transient_jouleheatingi list modulesheat_conductiontesttestsjoule_heatingtransient_jouleheatingi blockkernelsheatsrc syntax paramet kernelsjouleheatingsourc syntax input kernelsjouleheatingsourc syntax children kernelsjouleheatingsourc heatconductiontimederiv syntax descript kernelsheatconductiontimederiv alert warn kernel gener correct ondiagon jacobian temperatur depend specif heat c_p densiti rho kernel contribut offdiagon jacobian see also heatcapacityconductiontimederivativemd specificheatconductiontimederivativemd syntax paramet kernelsheatconductiontimederiv syntax input kernelsheatconductiontimederiv syntax children kernelsheatconductiontimederiv adheatconductiontimederiv descript adheatconductiontimederiv kernel implement time deriv domain omega given beginequ underbracerho c_p fracparti uparti t_textrmadheatconductiontimederiv sum_in beta_i omega endequ rho materi densiti c_p specif heat second term left hand side correspond strong form kernel correspond adheatconductiontimederiv weak form use innerproduct notat beginequ r_iu_h psi_i rho c_pfracparti u_hparti quad foral psi_i endequ u_h approxim solut psi_i finit element test function jacobian given automat differenti perfect long c_p rho provid use admateri deriv object syntax paramet kernelsadheatconductiontimederiv syntax input kernelsadheatconductiontimederiv syntax children kernelsadheatconductiontimederiv unobstructedplanarviewfactor descript unobstructedplanarviewfactor comput view factor n planar side radi heat exchang side need obstruct particular true side fulli enclos convex volum intend purpos userobject view factor f_ij side side j comput via doubl loop side element quadratur point defin view factor comput numer evalu beginequ f_ fraca_ pi int_a_ int_a_ fracco beta_ co beta_r da_ da_ endequ r distanc two point surfac a_ a_ beta_ beta_ angl line connect two point make normal surfac one two respect twodimension geometri differ formula evalu deriv origin formula consid geometri extrud infti infti along zaxi denot r_ distanc two point surfac one two project onto plane orthogon zaxi line project plane make angl beta_ beta_ normal surfac one two respect note normal compon zdirect follow relationship hold beginequ beginalign r r_ z_ z_ co beta_ co beta_ fracr_sqrtr_ z_ z_ co beta_ co beta_ fracr_sqrtr_ z_ z_ a_ delta z l_ da_ dz_ dl_ da_ dz_ dl_ endalign endequ view factor given beginequ f_ limlimits_delta z rightarrow infti fracl_ delta z pi int_l dl_ int_l dl_ fracco beta_ co beta_ r_pi left int_ delta z delta z dz_ int_ delta z delta z dz_ fracleft r_ z_ z_ right right endequ integr bracket evalu beginequ int_ delta z delta z dz_ int_ delta z delta z dz_ fracleft r_ z_ z_ right fracdelta z pi r_ endequ view factor twodimension geometri consequ given beginequ f_ frac l_ int_l int_l fracco beta_ co beta_r_ dl_ dl_ endequ view factor satisfi beginequ sumlimits_jn f_ij endequ check set paramet view_factor_tol enforc via normal set paramet normalize_view_factor stress userobject may give wrong result obstruct present exampl input syntax list modulesheat_conductiontesttestsview_factorsview_factor_di blockuserobject syntax paramet userobjectsunobstructedplanarviewfactor syntax input userobjectsunobstructedplanarviewfactor syntax children userobjectsunobstructedplanarviewfactor raytracingviewfactor syntax descript userobjectsraytracingviewfactor descript raytracingviewfactor use ray trace modul comput view factor gener caviti raytracingviewfactor requir face caviti planar allow obstruct obstruct refer situat boundari line sight boundari b obstruct boundari c b c boundari particip radi heat exchang raytracingviewfactor follow gener concept radi heat transfer geometri moos set boundari radi heat transfer caviti fill transpar medium boundari complet enclos caviti energi leav caviti radiat moos raytrac work caviti must mesh view factor comput essenti comput integr unobstructedplanarviewfactormd differ unobstructedplanarviewfactormd raytrac follow ray drawn start end quadratur point determin ray collid boundari particip radi heat transfer reach end quadratur point view factor integr increment contribut associ startingend quadratur point collis boundari occur raytracingviewfactor requir viewfactorraystudymd comput view factor user read correspond document import convent boundari normal boundari synonym sideset collect element face element face moos identifi element id local face id consequ face belong particular element simpli one element face element face domain boundari clear element belong element across face howev intern face question two neighbor element element face belong import exampl help clarifi let assum element e e neighbor adjac across element face local indic element e e respect element face e belong element e element face e belong element e import appli boundari condit boundari domain boundari let say element e belong block b element e belong block b want appli boundari condit heat equat solv block b case boundari appli boundari condit heat equat must compos element face belong b go back two neighbor exampl element face es must ad boundari belong element e belong block b defin temperatur user tri impos boundari condit element face es moos segfault distinct intern extern boundari import understand defin boundari around radiat caviti boundari enclos caviti either extern intern boundari extern boundari neighbor side face intern boundari valid element side extern boundari sideset must belong one caviti block simpli element side sideset howev intern sideset caviti boundari must belong element right outsid caviti element face e outsid caviti e immedi side insid caviti e use construct sideset reason intern sideset usual solv coupl heat conduct problem block outsid caviti boundari condit temperatur defin block must impos heat conductioncav interfac sidesetsbetweensubdomainsgeneratormd mesh gener use set caviti boundari mesh gener sideset belong primari side return exampl parammeshsidesetsbetweensubdomainsgeneratorprimary_block b parammeshsidesetsbetweensubdomainsgeneratorpaired_block b es element face use new sideset specif parammeshsidesetsbetweensubdomainsgeneratorprimary_block block around caviti parammeshsidesetsbetweensubdomainsgeneratorpaired_block block insid caviti exampl input syntax list modulesheat_conductiontesttestsview_factorsview_factor_obstructedi blockuserobject syntax paramet userobjectsraytracingviewfactor syntax input userobjectsraytracingviewfactor syntax children userobjectsraytracingviewfactor gapfluxmodelconduct syntax descript userobjectsgapfluxmodelconduct descript gapfluxmodelconduct comput conduct heat flux across gap follow exist implement radiat physic use modulargapconductanceconstraintmdmodulargapconductanceconstraintmd user requir select appropri gap_geometry_typ paramet plate cylind sphere model geometri modulargapconductanceconstraintmdmodulargapconductanceconstraintmd twodimension cartesian geometri restrict parallel xy coordin plane syntax paramet userobjectsgapfluxmodelconduct syntax input userobjectsgapfluxmodelconduct syntax children userobjectsgapfluxmodelconduct bibtex bibliographi constantviewfactorsurfaceradi descript constantviewfactorsurfaceradi implement exchang heat radiat sideset net radiat method net radiat method valid surfac gray diffus radiat purpos constantviewfactorsurfaceradi provid mean model radi exchang coarsegrain model constantviewfactorsurfaceradi comput radi exchang element surfac comput radi transfer averag sens sideset constantviewfactorsurfaceradi allow coupl radi heat transfer region heat equat solv net heat transfer caus radi heat transfer coupl temperatur field graylambertneumannbc constantviewfactorsurfaceradi also support definit adiabat fix temperatur sideset temperatur variabl ie variabl heat conduct equat need defin adiabat fix temperatur boundari particularli use caviti temperatur defin sideset immedi adjac heat conduct domain adiabat isotherm wall enclos caviti three differ type boundari condit constantviewfactorsurfaceradi variable_temperatur sideset temperatur provid temperatur variabl heat equat coupl constantviewfactorsurfaceradi boundari fixed_temperatur sideset temperatur given function differ variable_temperatur need solv temperatur fixed_temperatur fixed_temperatur sideset exampl outsid caviti radi heat transfer domain kept constant temperatur contact effect coolant adiabat sideset zero net heatflux impli inflow radiat equal outflow radiat surfac temperatur assum valu condit true adiabat sideset requir temperatur variabl defin explan input paramet paragraph describ input structur constantviewfactorsurfaceradi object follow paramet defin detail temperatur user must provid name temperatur variabl temperatur paramet temperatur variabl heat conduct equat solv boundari contain name _all_ sideset particip radi heat exchang fixed_temperature_boundari list sideset fix temperatur boundari fixed_temperature_boundari must subset boundari array fixed_boundary_temperatur contain function name specifi temperatur fix temperatur boundari fixed_boundary_temperatur must length fixed_temperature_boundari adiabatic_boundari list sideset adiabat boundari adiabatic_boundari must subset boundari array view_factor list view factor f_ij sideset sideset j order view_factor follow order boundari view factor must ad squar array may appear redund miss view factor comput use reciproc make imposs check row view factor matrix sum absolut necessari conserv energi ensur stabil coupl radi transfer heat conduct calcul row sum less percent correct sum row sum threshold error thrown exampl format view_factor three surfac beginequ f_ f_ f_ f_ f_ f_ f_ f_ f_ endequ exampl input syntax list modulesheat_conductiontesttestsgray_lambert_radiatorgray_lambert_cavityi blockuserobject syntax paramet userobjectsconstantviewfactorsurfaceradi syntax input userobjectsconstantviewfactorsurfaceradi syntax children userobjectsconstantviewfactorsurfaceradi viewfactorobjectsurfaceradi descript viewfactorobjectsurfaceradi inherit graylambertsurfaceradiationbas allow automat comput view factor view factor viewfactorobjectsurfaceradi provid viewfactorbas object eg unobstructedplanarviewfactorunobstructedplanarviewfactormd exampl input syntax list modulesheat_conductiontesttestsgray_lambert_radiatorgray_lambert_cavity_automatic_vfi blockuserobject syntax paramet userobjectsviewfactorobjectsurfaceradi syntax input userobjectsviewfactorobjectsurfaceradi syntax children userobjectsviewfactorobjectsurfaceradi gapfluxmodelsimpl syntax descript userobjectsgapfluxmodelsimpl descript gapfluxmodelsimpl comput radi heat flux across gap use modulargapconductanceconstraintmdmodulargapconductanceconstraintmd syntax paramet userobjectsgapfluxmodelsimpl syntax input userobjectsgapfluxmodelsimpl syntax children userobjectsgapfluxmodelsimpl bibtex bibliographi gapfluxmodelradi syntax descript userobjectsgapfluxmodelradi descript gapfluxmodelradi comput radi heat flux across gap follow exist implement radiat physic use modulargapconductanceconstraintmdmodulargapconductanceconstraintmd syntax paramet userobjectsgapfluxmodelradi syntax input userobjectsgapfluxmodelradi syntax children userobjectsgapfluxmodelradi bibtex bibliographi gapfluxmodelradi syntax descript userobjectsgapfluxmodelradi descript gapfluxmodelradi comput radi heat flux across gap use modulargapconductanceconstraintmdmodulargapconductanceconstraintmd syntax paramet userobjectsgapfluxmodelradi syntax input userobjectsgapfluxmodelradi syntax children userobjectsgapfluxmodelradi bibtex bibliographi viewfactorraystudi syntax descript userobjectsviewfactorraystudi descript viewfactorraystudi comput view factor caviti enclos sideset view factor comput send ray sideset along direct determin angular quadratur ray follow trace caviti hit sideset declar symmetri sideset view factor send receiv sideset comput number ray start one end side viewfactorraystudi use ray trace comput view factor twodimension threedimension caviti impos restrict geometri caviti particular allow nonplanar surfac radi exchang nonconvex caviti obstruct view two surfac third surfac theori central idea comput view factor use ray trace transform integr target area integr angular direct ie integr field view infinitesim element start surfac angular quadratur use numer approxim angular integr end ray trace modul use follow ray along direct angular quadratur determin surfac intersect first ray termin surfac contribut view factor surfac origin surfac increment view factor f_ij defin doubl integr patch j geometri view factor f_ij comput beginequationlabeleqview_factor f_ij fraca_i pi int_a_i int_a_j fracco alpha_i co alpha_jr_ij da_i da_j endequ integr taken point vecr_i a_i vecr_j a_j patch j combin point vecr_i vecr_j defin beginequ beginalign r_ij vecr_j vecr_i co alpha_i fracvecn_i cdot left vecr_j vecr_i right r co alpha_j fracvecn_j cdot left vecr_i vecr_j right r endalign endequ vecn_i normal vector patch point caviti vecn_j correspond counterpart patch j facilit comput view factor chang integr variabl vecr_j angular direct hatomega infinitesim element da_j becom beginequ da_j fracr_ijco alpha_j hatomega endequ hatomega sin alpha_i dalpha_i domega omega azimuth angl hatomega measur plane orthogon vecn_ respect arbitrarili chosen vector plane view factor comput beginequ f_ij fraca_i pi int_a_i int_hatomega a_j co alpha_ da_i hatomega fraca_i pi int_a_i int_hatomega a_j hatomega cdot vecn_i da_i hatomega endequ hatomega a_j angular direct start vecr_i intersect a_j intersect radiat patch defin mu_i co alpha_i final obtain beginequationlabeleqtrafo_view_factor f_ij fraca_i pi int_a_i int_hatomega a_j mu_i da_i hatomega endequ discret eqtrafo_view_factor rewrit slightli introduc function h_jleftvecrhatomegaright ray start locat vecr direct hatomega make first intersect surfac j eqtrafo_view_factor becom beginequationlabeleqtrafo_view_factor_ f_ij fraca_i pi int_a_i int_ pi mu_i h_jleftvecrhatomegaright da_i dhatomega endequ integr eqtrafo_view_factor_ discret use spatial quadratur area angular quadratur pi beginequationlabeleqtrafo_trafo f_ij fraca_i pi sumlimits_l sumlimits_kk w_l omega_k lefthatomega_kcdot vecn_lright h_jleftvecr_lhatomega_kright endequ l enumer spatial quadratur point k enumer angular direct vecr_l locat spatial quadratur point l vecn_l normal spatial quadratur point l hatomega_k kth angular direct role ray trace eqtrafo_trafo evalu h_jleftvecr_lhatomega_kright viewfactorraystudi use gaussian product quadratur integr space halfrang gausschebyshev quadratur angl select angular quadratur halfrang gausslegendrechebyshev quadratur adopt citepwalterslcq first restrict polar rang mu_i rotat angular direct polar angl measur respect vecn_i instead symmetri surfac requir special treatment differ surfac particip radi transfer symmetri surfac view factor comput symmetri surfac ie either surfac j f_ij symmetri surfac view factor comput ray neither start end symmetri surfac instead ray specularli reflect symmetri surfac facilit ray trace modul use reflectraybcmd exampl input syntax list modulesheat_conductiontesttestsview_factorsview_factor_di blockuserobject syntax paramet userobjectsviewfactorraystudi syntax input userobjectsviewfactorraystudi syntax children userobjectsviewfactorraystudi bibtex bibliographi fvheatconductiontimederiv descript fvheatconductiontimederiv kernel implement residu beginequ int_omega_c rho c_p fracparti uparti dv endequ rho materi densiti c_p specif heat capac constant pressur u temperatur variabl syntax paramet fvkernelsfvheatconductiontimederiv syntax input fvkernelsfvheatconductiontimederiv syntax children fvkernelsfvheatconductiontimederiv viewfactorvectorpostprocessor syntax descript vectorpostprocessorsviewfactorvectorpostprocessor descript viewfactorvectorpostprocessor output view factor boundari involv gray diffus view factor calcul list modulesheat_conductiontesttestsgray_lambert_radiatorgray_lambert_cavityi startview_factor end includeendtru syntax paramet vectorpostprocessorsviewfactorvectorpostprocessor syntax input vectorpostprocessorsviewfactorvectorpostprocessor syntax children vectorpostprocessorsviewfactorvectorpostprocessor bibtex bibliographi surfaceradiationvectorpostprocessor syntax descript vectorpostprocessorssurfaceradiationvectorpostprocessor descript surfaceradiationvectorpostprocessor output select temperatur heat_flux_dens radios emiss gray diffus view factor calcul particip boundari inform obtain graylambertsurfaceradiationbas deriv object list modulesheat_conductiontesttestsgray_lambert_radiatorgray_lambert_cavityi startlambert_vpp end includeendtru syntax paramet vectorpostprocessorssurfaceradiationvectorpostprocessor syntax input vectorpostprocessorssurfaceradiationvectorpostprocessor syntax children vectorpostprocessorssurfaceradiationvectorpostprocessor bibtex bibliographi patchsidesetgener descript mesh gener split given sideset sideset paramet n piec n_patch piec refer patch patch use net radiat transfer method via view factor sideset divid n patch use partition avail libmesh new sideset name old_side_name_id id number run n addit libmesh partition mesh gener also support grid partition grid partition superimpos dimension dimension problem uniform orthogon grid sideset partit element accord centroid sideset face fall orthogon grid superimpos grid congruent bound box sideset ensur sideset complet encompass within superimpos grid superimpos orthogon grid _always_ dimension sideset surfac line problem need orthogon coordin axe superimpos dimension mesh align coordin axi singl element direct dimension problem discuss turn dimension problem sidset collect line segment sideset dimension bound box sideset comput largest distanc along three axe comput ie max x_textmaxx_textmin y_textmaxz_textminx_textmaxz_textmin superimpos mesh n_patch subdivis along longest axi singl subdivis along two shorter axe dimension problem sidset collect face sideset dimension bound box sideset comput two largest distanc along three axe comput ie two largest set x_textmaxx_textmin y_textmaxz_textminx_textmaxz_textmin superimpos mesh singl subdivis along axe smallest extent number element along two larger dimens determin follow beginequ beginalign n_ lfloor sqrtfracdelta_delta_ n_p rfloor n_ lfloor sqrtfracdelta_delta_ n_p rfloor endalign endequ n_ n_ subdivis along longest second longest axe n_p equal n_patch due round n_ cdot n_ need equal n_patch number patch might adjust warn print happen exampl input syntax list modulesheat_conductiontesttestsgenerate_radiation_patchgenerate_radiation_patchi startpatch end includeendtru syntax paramet meshpatchsidesetgener syntax input meshpatchsidesetgener syntax children meshpatchsidesetgener gapconductanceconst descript gapconductanceconst materi provid userspecifi constant gap condanc use thermal contact enforc materi model typic directli specifi user creat use thermalcontactact detail document thermalcontactsyntaxthermalcontactindexmd system document page syntax descript materialsgapconduct syntax paramet materialsgapconduct syntax input materialsgapconduct syntax children materialsgapconduct bibtex bibliographi sidesetheattransfermateri syntax descript materialssidesetheattransfermateri descript interfac materi boudari restrict materi specif applic sidesetheattransferkernelsidesetheattransferkernelmd materi properti gener gap_conduct c_mathrmgap k_mathrmgap delta gap_tbulk t_mathrmbulk gap_h_primari h_mathrmgap gap_h_neighbor h_mathrmgap gap_emissivity_eff_primari beginequ epsilon_mathrmeff sigmaepsilonfracrhorhorho endequ gap_emissivity_eff_neighbor beginequ epsilon_mathrmeff sigmaepsilonfracrhorhorho endequ sigma stefanboltzmann constant defin time wmk input variabl defin materi default valu conduct kvecrt default conductivity_temperature_funct k_mathrmgapvecrt gap_temperatur k_mathrmgapvecrt gap_length delta default tbulk t_mathrmbulk default k h_primari h_mathrmgap default h_neighbor h_mathrmgap default emissivity_primari epsilon default emissivity_neighbor epsilon default reflectivity_primari rho default epsilon reflectivity_neighbor rho default epsilon exampl input file syntax defin conduct spacetim depend function list modulesheat_conductiontesttestssideset_heat_transfergap_thermal_di blockmaterialsgap_mat defin conduct temperatur depend function list modulesheat_conductiontesttestssideset_heat_transfergap_thermal_ktemp_di blockmaterialsgap_mat syntax paramet materialssidesetheattransfermateri syntax input materialssidesetheattransfermateri syntax children materialssidesetheattransfermateri bibtex bibliographi electricalconduct syntax descript materialselectricalconduct overview alert warn titleassumpt assum resist vari linearli temperatur accept small variat temperatur may break larger temperatur variat resist rho_elec respect temperatur defin beginequ rho_elect rho_ref alphat t_ref endequ rho_ref refer resist materi alpha temperatur coeffici materi t_ref refer temperatur electr conduct calcul via beginequ sigma_elec fracrho_elec endequ alert note titledefault paramet valu default use paramet object taken publish valu copper exampl input file syntax exampl use electricalconduct found heat conduct modul test transient_jouleheatingi list modulesheat_conductiontesttestsjoule_heatingtransient_jouleheatingi blockmaterialssigma syntax paramet materialselectricalconduct syntax input materialselectricalconduct syntax children materialselectricalconduct anisoheatconductionmateri syntax descript materialsanisoheatconductionmateri descript materi model anisoheatconductionmateri use model materi anisotrop thermal properti thermal conduct k repres rank two tensor beginequ beginbmatrix k_ k_ k_ k_ k_ k_ k_ k_ k_ endbmatrix labeleqaeqn endequ mandatori user suppli paramet thermal_conduct vector nine element k_ k_ k_ k_ k_ k_ k_ k_ k_ thermal conduct set function temperatur provid paramet thermal_conductivity_temperature_coefficient_funct alpha reference_temperatur t_ref thermal conduct function temperatur kt express beginequ kt k_o alpha t_ref endequ k_o thermal conduct base user suppli vector specif heat capac c_p suppli either constant valu function use paramet specific_heat note analys thermal conduct could potenti depend variabl eg solut concentr user provid diagon jacobian contribut analys exampl input syntax list testtestsheat_conduction_orthoheat_conduction_orthoi blockmaterialsheat syntax paramet materialsanisoheatconductionmateri syntax input materialsanisoheatconductionmateri syntax children materialsanisoheatconductionmateri bibtex bibliographi templat load filestubsmoose_objectmdtempl namegapconduct syntaxmaterialsgapconduct semiconductorlinearconduct syntax descript materialssemiconductorlinearconduct steinharthart equationhttpsenwikipediaorgwikisteinhartehart_equ empir model temperatur depend electr resist semiconductor use thermistor industri sinc provid better express temperatureresist relationship beginequ fractablnrclnr endequ r resist temperatur kelvin sigma electr conduct equal r b c steinharthart coeffici intrins semiconductor materi log conduct linear function coeffici c ref introduct ceram kingeri model materi conduct data log sigma vs fract beginequ fract b ln cdot log sigma b log sigma endequ b bln deriv respect beginequ ln sigma fracbafract endequ beginequ sigma exp fracbafract endequ beginequ fracd sigmadt fracbt expfracbafract endequ syntax paramet materialssemiconductorlinearconduct syntax input materialssemiconductorlinearconduct syntax children materialssemiconductorlinearconduct heatconductionmateri syntax descript materialsheatconductionmateri descript heatconductionmateri generalpurpos materi model heat conduct set thermal conduct specif heat integr point syntax paramet materialsheatconductionmateri syntax input materialsheatconductionmateri syntax children materialsheatconductionmateri functionpathellipsoidheatsourc syntax descript materialsfunctionpathellipsoidheatsourc descript materi gener move heat sourc ellipsoid shape follow userdefin path volumetr heat sourc q defin follow beginequ qxyz sqrtfracpifracalpha eta pr_x r_i r_z expleft left leftfracxf_xtr_x right leftfracyf_ytr_i right leftfraczf_ztr_z right rightright endequ p power eta effici alpha scale factor r_x r_i r_z effect heat spot radii three direct f_x f_i f_z heat spot travel path three direct materi properti design model heat gener laser beam addit manufactur process applic heat sourc similar characterist note use togeth admatheatsourceadmatheatsourcemd exampl input file syntax follow exampl input move ellipsoid heat sourc list modulesheat_conductiontesttestsfunction_ellipsoid_heat_sourcefunction_heat_sourcei blockmaterialsvolumetric_heat function specifi heat sourc move path list modulesheat_conductiontesttestsfunction_ellipsoid_heat_sourcefunction_heat_sourcei blockfunct syntax paramet materialsfunctionpathellipsoidheatsourc syntax input materialsfunctionpathellipsoidheatsourc syntax children materialsfunctionpathellipsoidheatsourc adelectricalconduct syntax descript materialsadelectricalconduct overview adelectricalconduct implement electr conduct materi properti electricalconductivityelectricalconductivitymd within framework automat differenti alert warn titleassumpt assum resist vari linearli temperatur accept small variat temperatur may break larger temperatur variat resist rho_elec respect temperatur defin beginequ rho_elect rho_ref alphat t_ref endequ rho_ref refer resist materi alpha temperatur coeffici materi t_ref refer temperatur electr conduct calcul via beginequ sigma_elec fracrho_elec endequ alert note titledefault paramet valu default use paramet object taken publish valu copper exampl input file syntax exampl use adelectricalconduct found heat conduct modul test transient_ad_jouleheatingi list modulesheat_conductiontesttestsjoule_heatingtransient_ad_jouleheatingi blockmaterialssigma syntax paramet materialsadelectricalconduct syntax input materialsadelectricalconduct syntax children materialsadelectricalconduct convectiveheatfluxbc syntax descript bcsconvectiveheatfluxbc boundari condit comput convect heat flux q h cdot t_inf h convect heat transfer coeffici temperatur t_inf far field temperatur h t_inf coupl materi properti see coupledconvectiveheatfluxbccoupledconvectiveheatfluxbcmd similar boundari condit coupl variabl list convective_heat_fluxequilibriumi blockbcsright syntax paramet bcsconvectiveheatfluxbc syntax input bcsconvectiveheatfluxbc syntax children bcsconvectiveheatfluxbc graylambertneumannbc syntax descript bcsgraylambertneumannbc boundari condit comput heat flux densiti result radi heat transfer surfac adjac boundari surfac must diffus gray radiat lambert radiat heat flux comput net radiat method describ citemodestradi inform avail hereuserobjectsconstantviewfactorsurfaceradiationmd two mode avail oper boundari condit mode switch reconstruct_emiss paramet set fals object queri net radiat object graylambertsurfaceradiationbas deriv class object net heat flux densiti surfac heat flux densiti appli constant particip sideset sideset larg flat heat flux densiti two adjac sideset suffici differ temperatur nonsmooth smoother temperatur distribut surfac usual obtain note larg fraction spatial distribut heat flux stem temperatur distribut henc emiss approxim made emiss allow spatial vari irradi sideset given sideset assum spatial flat heat flux locat vecx sideset comput beginequ dotq_ivecx epsilon_i left sigma tvecx h_iright endequ sigma stefanboltzmann constat epsilon_i emiss sideset h_i averag irradi sideset list modulesheat_conductiontesttestsgray_lambert_radiatorcoupled_heat_conductioni blockbc syntax paramet bcsgraylambertneumannbc syntax input bcsgraylambertneumannbc syntax children bcsgraylambertneumannbc coupledconvectiveheatfluxbc syntax descript bcscoupledconvectiveheatfluxbc boundari condit comput convect heat flux q scale cdot hw cdot t_inf hw convect heat transfer coeffici temperatur solv t_inf far field temperatur hw t_inf spatial vari variabl typic use case boundari condit coupl multiapp exchang heat flux possibl use vector coupl comput heat flux multiphas fluid case user need suppli alpha paramet repres volum fraction phase similarli multipl compon suppli htc t_infin number compon alpha hw t_infin must match heat flux comput q scale cdot sigma_k alphak cdot hwk cdot t_infk paramet scale use scale total heat flux default ie scale note scale actual field variabl spatial depend scale possibl use local turn bc list coupled_convective_heat_flux_two_phasei blockbcsright syntax paramet bcscoupledconvectiveheatfluxbc syntax input bcscoupledconvectiveheatfluxbc syntax children bcscoupledconvectiveheatfluxbc adinfinitecylinderradiativebc syntax descript bcsadinfinitecylinderradiativebc boundari condit comput radi heat flux boundari infinit cylind complet surround boundari assum cylind concentr enclos cylind geometri inform provid boundary_radiu cylinder_radiu paramet mesh queri geometr inform list radiative_bcsad_radiative_bc_cyli blockbcsradiative_bc syntax paramet bcsadinfinitecylinderradiativebc syntax input bcsadinfinitecylinderradiativebc syntax children bcsadinfinitecylinderradiativebc convectivefluxfunct syntax descript bcsconvectivefluxfunct descript convectivefluxfunct boundari condit use prescrib follow convect flux dotq boundari thermal model beginequ dotq htx t_textinf endequ h heat transfer coeffici tx temperatur locat x x locat given quadratur point surfac boundari condit appli t_textinf farfield temperatur fluid boundari expos farfield temperatur specifi use t_infin paramet moos function provid name function use pars function constant valu likewis heat transfer coeffici specifi use coeffici paramet also moos function option prescrib t_infin also appli paramet default heat transfer coeffici function defin term posit time standard usag moos function option coefficient_function_typ paramet set temperatur coeffici instead function temperatur function piecewiselinear use defin coeffici valu xaxi function would interpret temperatur valu pars function use purpos variabl pars equat would use temperatur rather time syntax paramet bcsconvectivefluxfunct syntax input bcsconvectivefluxfunct syntax children bcsconvectivefluxfunct templat load filestubsmoose_objectmdtempl namecoupledconvectiveflux syntaxbcscoupledconvectiveflux adfunctionradiativebc syntax descript bcsadfunctionradiativebc boundari condit comput radi heat flux boundari emiss function provid function beginequ sigma f_e t_inftyt_ endequ sigma stephanboltzmann constant f_e emiss function t_infti temperatur far surfac t_ temperatur surfac list radiative_bcsad_function_radiative_bci blockbcsbot_right syntax paramet bcsadfunctionradiativebc syntax input bcsadfunctionradiativebc syntax children bcsadfunctionradiativebc functionradiativebc syntax descript bcsfunctionradiativebc boundari condit comput radi heat flux boundari emiss function provid function beginequ sigma f_e t_inftyt_ endequ sigma stephanboltzmann constant f_e emiss function t_infti temperatur far surfac t_ temperatur surfac list radiative_bcsfunction_radiative_bci blockbcsbot_right syntax paramet bcsfunctionradiativebc syntax input bcsfunctionradiativebc syntax children bcsfunctionradiativebc gapheattransf syntax descript bcsgapheattransf descript gapheattransf calcul amount heat transfer across unmesh gap two differ block quadratur option gener recommend model option heat flux comput appli integr boundari condit quadratur point face use quadratur option gener give smoother result although small differ heat flux two surfac also import use appropri gap_geometry_typ paramet plate cylind sphere model geometri twodimension cartesian geometri restrict parallel xy coordin plane exampl input syntax list modulesheat_conductiontesttestsheat_conductiond_quadrature_gap_heat_transfernonmatchingi blockthermalcontact syntax paramet bcsgapheattransf syntax input bcsgapheattransf syntax children bcsgapheattransf infinitecylinderradiativebc syntax descript bcsinfinitecylinderradiativebc boundari condit comput radi heat flux boundari infinit cylind complet surround boundari assum cylind concentr enclos cylind geometri inform provid boundary_radiu cylinder_radiu paramet mesh queri geometr inform list radiative_bcsradiative_bc_cyli blockbcsradiative_bc syntax paramet bcsinfinitecylinderradiativebc syntax input bcsinfinitecylinderradiativebc syntax children bcsinfinitecylinderradiativebc templat load filestubsmoose_objectmdtempl nameheatconductionbc syntaxbcsheatconductionbc adconvectiveheatfluxbc syntax descript bcsadconvectiveheatfluxbc boundari condit comput convect heat flux q h cdot t_inf h convect heat transfer coeffici temperatur t_inf far field temperatur h t_inf coupl materi properti list ad_convective_heat_fluxequilibriumi blockbcsright syntax paramet bcsadconvectiveheatfluxbc syntax input bcsadconvectiveheatfluxbc syntax children bcsadconvectiveheatfluxbc viewfactorraybc syntax descript raybcsviewfactorraybc inform see viewfactorraystudymd raytracingviewfactormd syntax paramet raybcsviewfactorraybc syntax input raybcsviewfactorraybc syntax children raybcsviewfactorraybc modular gap conduct constraint syntax descript constraintsmodulargapconductanceconstraint modulargapconductanceconstraint class use specifi heat flux across gap flux comput user object deriv gapfluxmodelbas gapfluxmodelsimplegapfluxmodelsimplemd gapfluxmodelradiativegapfluxmodelradiativemd multipl model specifi contribut get sum syntax paramet constraintsmodulargapconductanceconstraint syntax input constraintsmodulargapconductanceconstraint syntax children constraintsmodulargapconductanceconstraint bibtex bibliographi gap conduct constraint syntax descript constraintsgapconductanceconstraint gapconductanceconstraint class use specifi heat flux across gap equival fracklleftu_m u_sright k gap conduct l gap distanc u_m temperatur primari side mortar interfac u_ temperatur secondari side constraint enforc done use lagrang multipli syntax paramet constraintsgapconductanceconstraint syntax input constraintsgapconductanceconstraint syntax children constraintsgapconductanceconstraint bibtex bibliographi thermal contact action descript thermalcontactact action set set model use enforc thermal contact across two surfac use node face approach see descript exampl use paramet thermalcontactsyntaxthermalcontactindexmd system document page gap offset paramet gap offset provid current contact formul via penetrationaux either secondary_gap_offset gap offset secondari side mapped_primary_gap_offset gap offset primari side map secondari side use gap offset paramet treat surfac virtual extend posit offset valu narrow neg offset valu specifi amount surfac treat closer away actual resist heat transfer within materi gap offset region multipl contact pair nodefac user may need set thermal contact multipl contact pair applic user provid array primari secondari boundari name match consecut defin thermal contact pair thermal contactrel input paramet appli contact pair defin action input list testtestsmultiple_contact_pairsmultiple_contact_pairsi blockthermalcontact radiat transfer action descript radiationtransferact action set radi heat transfer problem solv net radiat method see descript exampl use paramet graydiffuseradiationgraydiffuseradiationindexmd system document page sidesetheattransferkernel syntax descript interfacekernelssidesetheattransferkernel descript kernel model heat transfer across side set use three heat transfer mechan purpos model heat transfer across small gap without model gap heat transfer mechan side gap describ follow equat beginequ q_mathrmconduct q_mathrmconduct c_mathrmgap t_t_ endequ beginequ qpm_mathrmconvect pm h_mathrmgappm t_mathrmbulk t_pm endequ beginequ q_mathrmradi q_mathrmradi epsilon_mathrmefft_ epsilon_mathrmefft_ endequ indic indic primari neighbor side boundari respect c_mathrmgap gap conduct typic defin conduct divid gap width conduct h_mathrmgappm convect heat transfer coeffici h_primaryh_neighbor t_mathrmbulk bulk temperatur gap either defin materi properti variabl tbulk_mat tbulk_var epsilonpm_mathrmeff effect emmiss emissivity_eff_primaryemissivity_eff_neighbor beginequ epsilonpm_mathrmeff sigmaepsilonpmfracrhomprhorho endequ exampl input file syntax use materi properti gener sidesetheattransfermaterialsidesetheattransfermaterialmd list modulesheat_conductiontesttestssideset_heat_transfergap_thermal_di blockinterfacekernelsgap use bulk gap temperatur convect auxiliari variabl list modulesheat_conductiontesttestssideset_heat_transfergap_thermal_di blockinterfacekernelsgap_var syntax paramet interfacekernelssidesetheattransferkernel syntax input interfacekernelssidesetheattransferkernel syntax children interfacekernelssidesetheattransferkernel bibtex bibliographi conjugateheattransf syntax descript interfacekernelsconjugateheattransf descript interfacekernel model conjug heat transfer solid fluid interfac condit beginequ k vecn cdot nabla t_ h t_ t_f endequ impos equat k solid thermal conduct t_ solid temperatur h heat transfer coeffici t_f fluid temperatur condit appli directli fluid equat h t_f t_ appear boundari contribut solid equat integr heat conduct term result k vecn cdot nabla t_ integr boundari equal use substitut right hand side note gener fluid energi equat need solv temperatur therefor paramet variabl may tie intern energi case paramet t_fluid must provid class adopt convect primari side fluid side secondari side solid side therefor variabl expect primari variabl fluid energi equat neighbor_var expect solid temperatur assum solid energi equat solv solid temperatur exampl input file syntax list modulesheat_conductiontesttestsconjugate_heat_transferconjugate_heat_transferi blockinterfacekernel syntax paramet interfacekernelsconjugateheattransf syntax input interfacekernelsconjugateheattransf syntax children interfacekernelsconjugateheattransf bibtex bibliographi heat conduct modul heat transfer three mechan conduct convect radiat heat conduct modul allow model conduct radiat gray diffus surfac contain provis coupl temperatur field fluid domain boundari condit tutori problem tutorialmodulesheat_conductiontutorialsintroductionindexmd heat condict modul avail show step set basic model basic theori heat conduct heat conduct equat describ diffus heat solid stationari fluid beginequationlabeleqheat_equ rhot vecx ct vecxfracparti tpartial nabla ktvecx nabla dotq textforvecx omega endequ temperatur time vecx vector spatial coordinatess rho densiti c specif heat capac k thermal conduct dotq heat sourc omega domain emphas solid isobar isochor heat capac c_p c_v respect almost ident stagnant fluid c_v use boundari condit heat equat defin boundari domain partial omega boundari divid dirichlet boundari partial omega_d robin boundari partial omega_r partial omega partial omega_d cup partial omega_r beginequ beginalign ttvecx t_dtvecxtextforvecxin partial omega_d k vecn cdot nabla gtvecxt vecxin partial omega_r endalign endequ t_d gtvecxt known function vecn outward normal vecx function gtvecxt defin type robin boundari condit common case g beginequ beginalignedlabeleqrobin_bc_typ textneumann gtvecxt textconvect gtvecxt h t_infti textradi gtvecxt sumlimits_ji f_ij j_i j_j text surfac endalign endequ j loop surfac particip radi exchang f_ij view factor ith jth surfac j_j radios jth defin beginequ jt vecx epsilontvecx sigma epsilontvecx ht vecx endequ epsilontvecx emiss sigma time fracwtextm textk stefanboltzmann constant htvecx total irradi often surfac interest radi transfer singl isotherm surfac complet enclos case gtvecxt given beginequ gtvecxt sigma leftt t_inftyright endequ depend geometri eg beginequ beginalign textinfinit cylind fracepsilon epsilon_c r_cepsilon_c r_c epsilon r epsilon_c endalign endequ epsilon_c emiss enclos cylind r_c radiu enclos cylind r outer radiu domain assum cylindr well theori gray diffus radi exchang section discuss pertin equat net radiat method relat fundament spectral intens develop method taken citemodestradi net radiat method comput radi exchang surfac case attenu medium surfac point surfac radi heat transfer heat balanc formul locat vecx beginequationlabeleqheat_bal dotqvecx jvecx hvecx endequ j radios surfac point vecx h irradi surfac point vecx unit quantiti eqheat_bal textwtextm radios sum emiss power reflect portion irradi beginequationlabeleqradios jvecx epsilonvecx sigma rhovecx hvecx endequ epsilon emiss rho reflect gray diffus surfac reflect simpli rho epsilon beginequationlabeleqradiosity_gray jvecx epsilonvecx sigma epsilonvecx hvecx endequ point conveni repres radios temperatur irradi emiss distinct surfac suitabl averag actual distribut leav vecx argument add index indic quantiti averag extent surfac second balanc equat addit eqradiosity_gray obtain relat irradi onto surfac radios surfac beginequationlabeleqsecond_bal h_i sumlimits_jn f_ij j_j endequ n total number surfac f_ij view factor surfac surfac j elimin h_i eqsecond_bal use eqradiosity_gray give beginequationlabeleqfixed_q sumlimits_jn left delta_ij f_ij right j_j dotq_i endequ result use comput j_j surfac dotq_i known case adiabat surfac dotq_i conveni relationship deriv surfac t_i either known fixed_temperatur comput variable_temperatur first assert eqheat_bal eqradiosity_gray hold pointwis also hold averag face denot switch jvecx j_i similarli hvecx h_i solv eqheat_bal h_i elimin h_i eqradiosity_gray solv dotq give beginequ dotq_i fracepsilon_i epsilon_i left sigma t_i j_i right endequ use equat eqfixed_q elimin dotq_i beginequationlabeleqfixed_t sumlimits_jn left delta_ij epsilon_i f_ij right j_j epsilon_i sigma t_i endequ net radiat method implement eqfixed_q dotq adiabat boundari eqfixed_t fixed_temperatur variable_temperatur boundari fixed_temperatur boundari allow temperatur vari userdefin function variable_temperatur wall use moos variabl repres temperatur case constant extent surfac averag right hand side eqfixed_t follow beginequ sumlimits_jn left delta_ij epsilon_i f_ij right j_j beta_i endequ beginequ beta_i frac epsilon_i sigmaa_i int_a_i t_i da endequ a_i area surfac graylambertsurfaceradiationbas object comput averag temperatur t_i heat flux densiti dotq_i radios j_i averag quantiti surfac relationship net radiat method radi transport radi transport equat formul term spectral intens ivecx lambda hatomega lambda photon wavelength hatomega direct propag physic mean spectral intens energi transport area da vecx time interv dt time along direct within cone dhatomega hatomega wavelength within lambda lambda beginequ textenergi ivecx lambda hatomega dt da vecn cdot hatomega dhatomega dlambda endequ vecn normal face da intens comput code solv radi transfer equat eg rattlesnakehttpsrattlesnakeinlgovsitepageshomeaspx within moos framework solut radi transfer equat coupl heat conduct within solid domain balanc surfac eqheat_bal evalu net heat flux spectral intens beginequ dotqvecx intlimits_ pi dhatomega intlimits_infti dlambda vecn cdot hatomega ivecx lambda hatomega endequ boundari condit thermal radiat equat gray diffus surfac beginequationlabeleqrad_transfer_bc ivecx lambda hatomega fracpileftfracepsilontvecxlambda n pi h c_lambda left expfrach c_k_b lambda right left epsilontvecxlambdaright intlimits_hatomega cdot vecn hatomega cdot vecn ivecx lambda hatomega hatomega righttextforvecn cdot hatomega endequ n refract index medium surfac radiat epsilontvecxlambda emiss surfac wavelength lambda h planck constant k_b boltzmann constant c_ speed light vacuum first stress refract index close uniti vacuum weakli absorb ga may differ significantli uniti semitranspar media net radiat method appli semitranspar materi n assum uniti second normal factor pi eqrad_transfer_bc threedimension geometri accur given frac int hatomega ie size unit sphere divid four third radiat effect semitranspar media model moos base radiat transport code rattlesnak includ adiabat isotherm boundari boundari declar adiabat isotherm boundari adiabat isotherm boundari particip heat conduct solut process ie temperatur variabl need defin one defin use adiabat isotherm boundari conveni outer boundari heat conduct domain radi transfer wall either insul kept constant temperatur exampl think outsid reactor pressur vessel radi heat transfer reactor caviti cool system reactor caviti cool system may model isotherm wall top bottom caviti may model adiabat wall temperatur equat solv surfac radi transfer anoth surfac temperatur defin variabl object design gray diffus radi exchang implement net radiat method moos reli follow type object graylambertsurfaceradiationbas deriv object sideuserobject comput radios heat flux averag temperatur set sideset radi heat transfer net radiat method implement graylambertsurfaceradiationbas graylambertsurfaceradiationbas provid public interfac averag heat flux radios averag temperatur comput sideset graylambertsurfaceradiationbas need view factor provid manual constantviewfactorsurfaceradi provid viewfactorbas object viewfactorobjectsurfaceradi temperatur variabl must avail sideset mark isotherm adiabat viewfactorbas deriv object comput view factor provid via getviewfactor public interfac viewfactorbas daughter call viewfactorobjectsurfaceradi inherit graylambertsurfaceradiationbas futur object inherit viewfactorbas use raytrac modul moos comput view factor gener geometri automat graylambertneumannbc take averag heat flux comput graylambertsurfaceradiationbas appli boundari condit describ eqrobin_bc_typ futur action ad allow set viewfactor net radiat transfer use singl block object action syntax syntax complet groupsheatconductionapp level nafem benchmark transient heat conduct problem descript nafem onedimension transient heat conduct problem citepnafems_std_bench creat run use heat conduct modul moos descript problem summari result follow model bar length meter cross section meter width depth model use uniform size element either coars mesh element figt_coarse_mesh fine mesh element figt_fine_mesh transient heat conduct simul perform total simul time second simul model use element type media mediaheat_conductionnafems_t_coarse_meshpng stylewidthpxmarginleftpxfloatcent idfigt_coarse_mesh captioncoars mesh nafem transient heat conduct model media mediaheat_conductionnafems_t_fine_meshpng stylewidthpxmarginleftpxfloatcent idfigt_fine_mesh captionfin mesh nafem transient heat conduct model load zero intern heat gener boundari condit beginequ beginalign textsfat time textsfal temperatur circtextsfc textsfat time textsfat left end domain temperatur circtextsfc textsfat right end domain temperatur sinpi tcirctextsfc endalign endequ heat flux perpendicular domain materi properti beginequ beginalign textsfconduct textsfwmcirctextsfc textsfspecif heat textsfjkgcirctextsfc textsfdens textsfkgm endalign endequ refer solut temperatur posit meter along length bar end simul target solut valu circtextsfc result tabl summar temperatur solut problem use heat conduct modul moos valu parenthes differ moos result target solut percentag tabl idtablenafems_t_result captionsummari result element type coars mesh fine mesh edg edg quad quad quad hex hex hex summari result element type within target temperatur howev lower order element coars mesh exhibit somewhat higher deviat target valu practic mesh refin studi would perform level inaccuraci solut would observ resolv bibtex bibliographi templat load filesqaapp_indexmdtempl categoryheat_conduct appheat conduct templat item keysqareport sqa report categorycategori templat load filesqaapp_srsmdtempl categoryheat_conduct appheat conduct templat load filesqaapp_rtmmdtempl categoryheat_conduct appheat conduct templat load filesqaapp_sddmdtempl categoryheat_conduct appheat conduct templat load filesqaapp_sllmdtempl categoryheat_conduct appheat conduct templat load filesqaapp_farmdtempl categoryheat_conduct appheat conduct templat load filesqaapp_vvrmdtempl categoryheat_conduct appheat conduct templat load filesqaapp_stpmdtempl categoryheat_conduct appheat conduct happen chang thermal conduct absolut noth chang conduct term includ heat equat term equal zero scale conduct effect solut chang boundari condit hand affect solut introduct heat conduct tutori guid new user process set heat transfer model use heat conduct modul start simpl exampl build complex first stepsheat_conductiontutorialsintroductiontherm_stepmd problem minim set input need solv heat conduct problem ad boundari conditionsheat_conductiontutorialsintroductiontherm_stepmd build model previou step ad boundari condit sampl valu along lineheat_conductiontutorialsintroductiontherm_stepamd modifi previou exampl ad output valu temperatur variabl along line aid process result model ad addit term heat equationheat_conductiontutorialsintroductiontherm_stepmd earlier exampl includ conduct term heat equat add timederiv term ad volumetr heatingheat_conductiontutorialsintroductiontherm_stepamd build previou exampl ad term volumetr heat step first step let get start minim input file list modulesheat_conductiontutorialsintroductiontherm_stepi input file mesh creat simpl regular orthogon mesh block use generatedmeshgeneratorgeneratedmeshgeneratormd subblock mesh call meshgeneratorsmeshgeneratorsmeshgeneratormd chain togeth moos provid multitud gener creat modifi mesh commonli use meshgener filemeshgeneratorfilemeshgeneratormd use load mesh file gener third parti softwar like cubit gmsh sometim even mesh gener moos moos provid shorthand filemeshgener parammeshfilemeshfil paramet insid mesh eg mesh file pressure_vessel moos support varieti mesh file formatsfilemeshgeneratormd commonli use exodu ii format variabl toplevel block use defin variabl solv model variabl defin spatial vari field defin use set degre freedom finit element interpol function moos provid access wide varieti method defin variabl default lagrang variabl type defin finit element node interpol valu connect node within element case model singl variabl solv variabl name temperatur name variabl defin name open bracket block content block case default paramet use list modulesheat_conductiontutorialsintroductiontherm_stepi blockvari kernel toplevel block use defin kernel provid volum integr partial differenti equat solv gener separ kernel use defin term partial differenti equat full heat equat gener express multipl term describ heat conduct modul introductionheat_conductionindexmd howev simpl exampl includ conduct term equat solv take form beginequationlabeleqheat_conduction_equ nabla ktvecx nabla textforvecx omega endequ temperatur time vecx vector spatial coordin omega solut domain later problem seri add addit term heat equat singl heat_conduct block nest kernel block defin conduct term heat equat defin type heatconduct paramet defin name kernel object provid term variabl paramet defin variabl kernel oper one variabl case model multiphys simul individu kernel would assign oper specif variabl list modulesheat_conductiontutorialsintroductiontherm_stepi blockkernel materi materi block use defin materi properti evalu finit element integr point gener materi properti complex depend solut variabl quantiti comput code case constant valu defin heatconductionmateri model provid basic properti use term heat equat case properti need thermal conduct defin constant valu list modulesheat_conductiontutorialsintroductiontherm_stepi blockmateri execution executionerexecutionerindexmd block paramet relev solut current problem set type transienttransientmd select timedepend simul oppos type steadysteadymd chose run five simul step timestep list modulesheat_conductiontutorialsintroductiontherm_stepi blockexecution output use exodu true shorthand setup output object type exodu write exodu ii mesh solut file disk visual output use paraviewhttpswwwparavieworg list modulesheat_conductiontutorialsintroductiontherm_stepi blockoutput question unit question come often unit moos use look input file tri identifi place unit might relev click answerheat_conductiontutorialsintroductionansweramd expect outcom run first input file take moment think expect happen click answerheat_conductiontutorialsintroductionanswerbmd youv answer question run first exampl time move slightli complex scenario step heat_conductiontutorialsintroductiontherm_stepmd run model consid solut chang addit volumetr heat ad volumetr heat shift temperatur rel solut without volumetr heat larger upward shift center domain syntax list function run model consid initi condit boundari condit estim expect solut timedepend term includ initi condit k boundari condit prescrib lefthand side rectangular domain also k spatial uniform temperatur increas linearli function time k prescrib righthand side geometri domain boundari condit variat solut direct addit timederiv term caus delay respons appli temperatur increas righthand side domain instead linear temperatur increas left right would expect initi see littl temperatur increas left side domain local temperatur gradient increas go left right side domain run model consid expect solut problem conduct term equat solv laplac equat provid steadyst version heat equat spatial uniform valu defin left right side rectangular solut domain sinc steadyst solut solv timedepend effect temperatur field vari linearli x direct left right boundari prescrib valu right boundari increas time accord function step ad addit term heat equat previou step modifi boundari condit solv meaning problem provid steadyst solut heat equat neglect timedepend term step add term heat equat ad kernel heat equat full set term typic use heat transfer within solid stationari fluid beginequationlabeleqheat_equation_tutori rhot vecx ct vecxfracparti tpartial nabla ktvecx nabla dotq textforvecx omega endequ temperatur time vecx vector spatial coordinatess rho densiti c specif heat capac k thermal conduct dotq heat sourc omega solut domain first step add time deriv term equat subsequ step volumetr heat term ad list modulesheat_conductiontutorialsintroductiontherm_stepi input file variabl first chang necessari convert quasisteadyst problem transient problem defin reason initi condit temperatur variabl default initi valu variabl affect steadyst solut previou step signfic effect transient solut initial_condit paramet set variabl unit kelvin use close room temperatur list modulesheat_conductiontutorialsintroductiontherm_stepi blockvari kernel addit block ad kernel top level block includ time depend term rhot vecx ct vecxfracparti tpartial heat equat kernel provid term name heatconductiontimederiv term depend time deriv temperatur list modulesheat_conductiontutorialsintroductiontherm_stepi blockkernel materi heatconductiontimederiv kernel depend two addit materi properti densiti specific_heat must provid materi model specif heat provid ad addit paramet heatconductionmateri materi block densiti provid heatconductionmateri properti use physic model particular model solid mechan special model comput densiti deform materi commonli use calcul deform present simul constant properti use genericconstantmateri materi model use defin one properti provid name properti constant valu use simpl way defin densiti list modulesheat_conductiontutorialsintroductiontherm_stepi blockmateri question run model consid initi condit boundari condit estim expect solut timedepend term includ click answerheat_conductiontutorialsintroductionansweramd go ahead run input visual result see match behavior would expect explor paramet paramet would expect abl chang give solut match close steadyst solut tri chang paramet see expect effect rerun model click answerheat_conductiontutorialsintroductionanswerbmd sidebar problem also volumetr heat includ ad anoth kernel click sidebar ad volumetr heatingheat_conductiontutorialsintroductiontherm_stepamd comparison result python script call therm_soln_comparepi directori set plot result problem step show sidebysid comparison temperatur profil end analyi case script depend matplotlib panda librari avail python instal execut type therm_soln_comparepi directori problem run gener imag call therm_soln_comparepng line plot three case step sampl valu along line sidebar well go sampl variabl along line note previous step heat_conductiontutorialsintroductiontherm_stepmd problem expect provid solut temperatur vari linearli function x coordin variat solut store exodu file visual along line use tool like paraview moos also offer way directli output valu sampl along line commasepar valu csv file benefit includ calcul repeat mani time plot key quantiti autom solut sampl finit element interpol use intern moos provid accur descript solut valu sampl along line could use comput within moos simul sampl valu along line moos vectorpostprocessor system use wherea postprocessor moos comput singl valu vectorpostprocessor comput vector valu linevaluesampl vectorpostprocessor comput valu discret set point along line list modulesheat_conductiontutorialsintroductiontherm_stepai input file vectorpostprocessor add sampl along line singl block defin linevaluesampl nest within vectorpostprocessor top level block paramet selfexplanatori defin variabl sampl start end point line number point order valu output control sort_bi paramet case sort x valu sinc line orient along x axi line orient along one cartesian axe sort_bi id option use sort posit along line list modulesheat_conductiontutorialsintroductiontherm_stepai blockvectorpostprocessor output ad linevaluesampl block result valu comput exist intern code unless csv output request output block simplest way request add csv true similar exodu true paramet howev block specif csv output ad output block case allow specifi paramet make output manag file_bas paramet permit control base name output file default separ csv file output time step limit amount output execute_on final paramet make system output csv file last time step list modulesheat_conductiontutorialsintroductiontherm_stepai blockoutput exercis examin output first run model asi examin csv file output tri open file plot packag visual result output multipl time tri comment execute_on final line csv output block rerun model see multipl csv file gener one time step youv run exampl move step heat_conductiontutorialsintroductiontherm_stepmd addit term ad heat equat look input file tri identifi place unit might relev four locat input file two line physic mesh dimens xmax ymax block defin temperatur variabl one line defin thermal conduct one line defin time step dt chosen unit author input file decid long unit suppli paramet consist let start thermal conduct say unit watt per meterkelvin wmcdot k consist mesh dimens must meter temperatur kelvin note temperatur could also defin celsiu temperatur increment two unit choic celsiu kelvin would defin boundari condit temperaturedepend properti would depend specif unit time unit second consist si base unit watt base alert note moos provid system convert quaniti unit right input file list support unit found hereutilsunitsmd syntax list bc step ad volumetr heat step ad timederiv term heat equat show includ allow solut transient thermal problem thermal problem also involv volumetr heat sourc could aris due number phenomena includ exotherm chemic reaction nuclear fission resist heat list modulesheat_conductiontutorialsintroductiontherm_stepai input file kernel chang necessari includ volumetr heat term problem add addit block kernel volumetr heat sourc provid heatsourc kernel prescrib valu constant heat sourc prescrib heat sourc per unit volum option exist prescrib use function provid flexibl model wide varieti problem may seem unusu prescrib use kernel similar natur boundari condit howev volum integr prescrib kernel moos regardless whether sourc term term depend deriv solut list modulesheat_conductiontutorialsintroductiontherm_stepai blockkernel question run model consid solut chang addit volumetr heat click answerheat_conductiontutorialsintroductionanswercmd go ahead run input visual result see match behavior would expect explor paramet tri chang magnitud volumetr heat see affect solut paramet would expect abl chang give solut match close steadyst solut tri chang paramet see expect effect rerun model decreas either densiti specif would decreas rel import timederiv term heat equat limit either one decreas zero steadyst solut recov would effect simpli remov term heat equat done earlier version exampl step ad boundari condit previou step set basic thermal simul noth step prescrib valu temperatur left right side block list modulesheat_conductiontutorialsintroductiontherm_stepi input file bc bc stand boundari condit appli boundari sideset simul domain boundari condit object see mandatori boundari paramet expect list sideset name id list modulesheat_conductiontutorialsintroductiontherm_stepi blockbc dirichletbc two dirichlet boundari condit set left right surfac simul domain prescrib valu variabl surfac generatedmeshgener use creat simpl block mesh defin boundari name top bottom left right boundari block addit boundari ad use meshgener boundari defin extern mesh tool case temperatur left boundari fix constant valu use dirichletbcdirichletbcmd functiondirichletbc temperatur right boundari defin use timedepend function use functiondirichletbcfunctiondirichletbcmd name impli dirichlet boundari condit defin use function rather constant valu case express analyt function provid function paramet altern name separ defin function provid wide varieti function type availableheat_conductiontutorialsintroductionsupplementalamd boundari condit number boundari conditionsheat_conductiontutorialsintroductionsupplementalbmd avail gener boundari condit appli problem physicsspecif question run model consid expect solut problem conduct term click answerheat_conductiontutorialsintroductionansweramd go ahead run input visual result see match behavior would expect explor paramet experi differ set thermal conduct materi appli boundari condit happen chang thermal conduct click answerheat_conductiontutorialsintroductionanswerbmd sidebar problem like help plot valu solut sampl along line click sidebar plot along lineheat_conductiontutorialsintroductiontherm_stepamd youv answer question run exampl move step heat_conductiontutorialsintroductiontherm_stepmd addit term ad heat equat run first input file take moment think expect happen specifi boundari condit heat flux prescrib initi condit default zero zero temperatur initi condit alreadi solut given problem expect residu norm zero timestep instantli converg run input done alreadi compil heat_conductionopt execut run make j n n number cpu core avail moosemodulesheat_conduct run first tutori input type heat_conductionopt tutorialsintroductiontherm_stepi see framework inform output info mesh nonlinear system solv follow converg histori time step time time step time dt nonlinear r e solv converg time step time dt nonlinear r e solv converg time step time dt nonlinear r e solv converg time step time dt nonlinear r e solv converg time step time dt nonlinear r e solv converg modulesmiscindexmd templat load filestubsmoose_objectmdtempl namecoupleddirectionalmeshheightinterpol syntaxauxkernelscoupleddirectionalmeshheightinterpol internalvolum syntax descript postprocessorsinternalvolum descript internalvolum comput volum enclos space complet boundari enclos space must repres user specifi side set volum domain calcul integr surfac domain domain surfac specifi boundari given side set point outward internalvolum report neg volum exampl consid beginequ int_v divf dv int_d f cdot hatn ds endequ f field hatn normal surfac v volum domain surfac domain simplic exampl choos beginequ f left x rightt quad textthen quad divf endequ integr becom beginequ int_v dv int_d x cdot n ds endequ volum domain integr surfac domain x posit surfac time xcompon normal surfac exampl input syntax list modulescombinedtesttestsinternal_volumehexi startinternalvolum enddispz syntax paramet postprocessorsinternalvolum syntax input postprocessorsinternalvolum syntax children postprocessorsinternalvolum templat load filestubsmoose_objectmdtempl namecoefdiffus syntaxkernelscoefdiffus adthermodiffus descript adthermodiffus implement thermodiffus also call thermophoresi thermomigr soret effect movement speci due temperatur gradient mass flux j given beginequ mathbfjsnabla endequ soret diffus coeffici typic combin speci concentr temperatur materi paramet kept agnost formul ultim need formul separ materi properti definit syntax paramet kernelsadthermodiffus syntax input kernelsadthermodiffus syntax children kernelsadthermodiffus bibtex bibliographi templat load filestubsmoose_objectmdtempl namethermodiffus syntaxkernelsthermodiffusiontempl load filestubsmoose_objectmdtempl namerigidbodymodesd syntaxuserobjectsrigidbodymodesd densiti descript addens model creat ad materi properti name densiti coupl displac variabl model adjust densiti base deform syntax paramet materialsdens syntax input materialsdens syntax children materialsdens densiti syntax descript materialsdens descript densiti model creat materi properti name densiti coupl displac variabl model adjust densiti base deform syntax paramet materialsdens syntax input materialsdens syntax children materialsdens misc modul alert construct document misc modul need work object action syntax syntax complet groupsmiscapp level templat load filesqaapp_indexmdtempl categorymisc appmisc templat item keysqareport sqa report categorycategori templat load filesqaapp_stpmdtempl categorymisc appmisc templat load filesqaapp_sllmdtempl categorymisc appmisc templat load filesqaapp_farmdtempl categorymisc appmisc templat load filesqaapp_sddmdtempl categorymisc appmisc templat load filesqaapp_srsmdtempl categorymisc appmisc templat load filesqaapp_vvrmdtempl categorymisc appmisc templat load filesqaapp_rtmmdtempl categorymisc appmisc modulesray_tracingindexmd templat load filesqaapp_indexmdtempl appraytracingapp categoryray_tracingtempl load filesqaapp_vvrmdtempl appraytracingapp categoryray_tracingtempl load filesqaapp_rtmmdtempl appraytracingapp categoryray_tracingtempl load filesqaapp_stpmdtempl appraytracingapp categoryray_tracingtempl load filesqaapp_srsmdtempl appraytracingapp categoryray_tracingtempl load filesqaapp_sddmdtempl appraytracingapp categoryray_tracingtempl load filesqaapp_sllmdtempl appraytracingapp categoryray_trac templat load filesqaapp_farmdtempl appraytracingapp categoryray_trac raykernel raykernel oper line segment raymd within ray_tracingindexmd defin entri exit point raymd within element trace mesh base object raykernelbas standard moos convent denot kernel object contribut residu jacobian remain consist nomenclatur raykernel adraykernel object contribut residu jacobian raymd summari object deriv base desir oper segment follow raykernelmd segment contribut residu jacobian exampl line sourc see linesourceraykernelmd adraykernelmd segment contribut residu use automaticdifferenti comput jacobian genericraykernelmd templat object enabl segment contribut residu jacobian without automat differenti serv similar purpos generickernelmd integralraykernelmd perform integr segment accumul integr result raymd exampl integr variabl along line see variableintegralraykernelmd auxraykernelmd segment contribut auxvari userdefin manner exampl segment distanc accumul auxvari see raydistanceauxmd generalraykernelmd gener purpos object adapt oper segment manner cover class list remaind discuss focus use function offer within base object raykernelbasemd refer object specif discuss use raykernel method call segment raymd raykernel onseg method overridden special onseg oper pretrac method also avail overridden call trace begin processorthread signific inform pertain trace avail within onseg follow currentray current raymd trace segment _current_elem current element raymd trace _current_segment_start start point current segment oper necessarili element peripheri side _current_elem case raymd start within element _current_segment_end end point current segment oper necessarili element peripheri case raymd end within element _current_segment_length length current segment oper _current_intersected_sid side intersect _current_elem _current_segment_end _current_incoming_sid side intersect _current_elem _current_segment_end _current_intersected_extrema extrema element vertex edg see elemextremamd inform intersect _current_intersected_sid _current_segment_end _current_subdomain_id subdomain id _current_elem see raymd document member avail use trace mani standard moos interfac also avail within raykernel thing like access coupl variabl access materi access userobject access postprocessor etc end ray rayshouldcontinu denot whether raymd continu trace execut current object raymd case raykernel currentrayshouldcontinu fals raymd ceas trace execut raykernel intern follow set state raymd continu raykernel execut still allow execut segment contain final end point reach userset end point raymd trajectori set via raysetstartingendpoint specif case tell raymd hit end point currentrayatend reach userset maximum distanc raymd currentraydist currentraymaxdist reach global maximum distanc set studi paramet ray_dist currentraydist _studymaxraydist stop raymd trace call currentraysetshouldcontinuefals raymd set continu raykernel ever set continu current trace chang ray trajectori raymd current trace trajectori chang midtrac raykernel follow condit impos trajectori chang raymd must continu currentrayshouldcontinu true reach max distanc set continu anoth raykernel see end rayendingtheray inform new start point chang must remain within element object chang raymd end point set raysetstartingendpoint user set specif end point raymd intern set maximum distanc straightlin distanc start end trajectori never chang one trajectori chang call raykernel segment raymd must move trajectori chang chang trajectori raymd within raykernel method changeraystartdirect call paramet new start point raymd new direct travel exampl const point some_point must within _current_elem const point some_direct changeraystartdirectionsome_point some_direct start point raymd chang within element raymd distanc adjust accordingli raymd hit chang point instead origin increment distanc remov _current_segment_length new increment distanc segment distanc currentraycurrentpoint _current_segment_start modifyingregist ray data raykernel requir data auxiliari data raymd uniqu said object regist said requir constructor use _studyregisterraydata _studyregisterauxdata inform raymd registr suppli raytracingstudymd see raytracingstudymdraydataregistr exampl exist integralraykernelmd accumul integr data member raymd integralraykernelmd requir valu accumul therefor integralraykernelmd regist valu use list modulesray_tracingsrcraykernelsintegralraykernelc reintegralraykernelintegralraykernel list modulesray_tracingincluderaykernelsintegralraykernelh reclass integralraykernel regist data data guarante avail construct raysraymd access currentraydata currentrayauxdata case integralraykernelmd raymd data access list modulesray_tracingsrcraykernelsintegralraykernelc revoidsintegralraykernelonseg creat addit ray possibl gener anoth raymd trace within raykernel method thread safe first acquir new raymd use acquireray method inform acquir raysraymd see raytracingstudymdraypool take argument start point direct travel new raymd exampl const point some_point must within _current_elem const point some_direct stdshared_ptrray ray acquireraysome_point some_direct acquir raymd initi follow zero data aux data size regist raytracingstudi start point set user start element _current_elem uniqu id raymd acquir may modifi data member desir set trace raymd modifi desir follow insert buffer trace moveraytobufferray raybc raybc oper raymd ray_tracingindexmd intersect boundari extern intern boundari support base object rayboundaryconditionbasemd common use case raybc follow kill raymd boundari see kill raykillingtheray killraybcmd chang direct raymd boundari exampl reflect raymd see chang ray trajectorychangingtheraytrajectori reflectraybcmd creat anoth raymd boundari midtrac see creat new raycreatinganewray alert tip use raybc consid advanc use ray_tracingindexmd simpl use case like line sourc see line_sourcesmd line integr see line_integralsmd raybc requir support current avail contribut residu jacobian raybc support access coupl variabl materi element side raybc support plan futur implement need aris use raybc method call intersect boundari along trajectori raymd raybc onboundari method overridden special onboundari oper inform num_appli paramet see hit multipl boundarieshittingmultipleboundari signific inform pertain trace avail within onboundari follow currentray current raymd oper intersect boundari _current_elem element raymd intersect boundari _current_intersected_sid side _current_elem raymd intersect boundari _current_intersection_point point _current_elem _current_intersected_sid raymd intersect boundari _current_intersected_extrema extrema element vertex edg see elemextremamd inform intersect _current_intersected_sid _current_intersection_point _current_elem _current_bnd_id id boundari raymd intersect _current_subdomain_id subdomain id _current_elem see raymd document member avail use trace kill ray raybc stop raymd trace done killraybcmd list modulesray_tracingsrcraybcskillraybcc revoidskillraybconboundari similarli check anoth raybc set kill raymd segment const bool end currentrayshouldcontinu raybc execut point shouldcontinu trace raymd end chang ray trajectori raymd current trace trajectori chang boundari raybc follow condit impos raymd trajectori chang must continu currentrayshouldcontinu true must move hit boundari currentraydist raymd end point set raysetstartingendpoint user set specif end point raymd intern set maximum distanc straightlin distanc start end trajectori never chang new direct must entrant _current_elem _current_intersected_sid dot product outward normal side direct raymd must neg chang trajectori raymd within raybc method changeraydirect call new direct ray exampl const point some_direct must entrant changeraydirectionsome_direct note option paramet const bool skip_changed_check changeraydirect default one raybc allow chang trajectori raymd trace intersect boundari said option paramet set requir exist case appropri chang trajectori raymd multipl time point see hit multipl boundarieshittingmultipleboundari inform hit multipl boundari hit element vertex element edg possibl intersect multipl boundari point support onboundari call boundari hit everi raybc defin said boundari onboundari method pass singl argument num_appli argument denot mani raybc object appli point explain necess num_appli consid follow problem twodimension domain boundari left right top bottom singl reflectraybcmd object defin boundari problem whenev raymd hit boundari reflect specular manner one trace ray perfectli hit topright corner domain top right boundari exist correct specular reflect inward domain achiev appli specular reflect boundari seen figur media large_mediaray_tracingraybc_multiple_reflectpng stylewidth captionfigur exampl specular reflect two boundari recal act chang raymd direct achiev changeraydirect take option paramet const bool skip_changed_check case want appli reflectraybcmd twice pass num_appli argument skip_changed_check allow chang raymd trajectori multipl time reflectraybcmd appli done reflectraybcmd follow list modulesray_tracingsrcraybcsreflectraybcc revoidsreflectraybconboundari creat new ray possibl gener anoth raymd trace within raybc first acquir new raymd use acquireray method inform acquir raysraymd see raytracingstudymdraypool take argument direct new raymd exampl const point some_direct must entrant _current_intersected_sid stdshared_ptrray ray acquireraysome_direct acquir raymd initi follow zero data aux data size regist raytracingstudi start element _current_elem incom side _current_intersected_sid start point _current_intersected_point direct set user uniqu id raymd acquir may modifi data member desir set trace raymd modifi desir follow insert buffer trace moveraytobufferray ray ray data structur repres singl ray ray_tracingindexmd gener trace raytracingstudymd store data auxiliari data modifi along trace via raykernelsindexmd raybcsindexmd discuss use interact ray summar follow section defin ray trajectorydefiningaraytrajectori defin ray trajectori trace use raytracingstudymd modifi ray trajectorymodifyingaraytrajectori modifi ray trajectori trace via raykernelsindexmd raybcsindexmd use ray datausingraydata best access use data store ray get raygettingaray obtain ray use trace use member variabl avaiabl ray currentpoint current point ray trace start point trace furthest point ray travel raykernel execut end segment trace point ray kill currentelem current element ray trace start element ray trace raykernelraykernelsindexmd execut element segment trace raybcraybcsindexmd execut element raybcraybcsindexmd appli end trace element ray die currentincomingsid current incom side currentelem ray incom trace side ray begin trace valid raykernelsindexmd execut trace valid direct current direct ray trajectori data access data store ray auxdata access auxiliari data store ray distanc total distanc ray travel thu far maxdist userset maximum distanc ray travel user defin ray trajectori use setstartingendpoint set intern straightlin distanc start point userset end point endset whether user defin trajectori use setstartingendpoint method identifi whether maxdist set intern ensur ray end userdefin end point endpoint userset end point set via setstartingendpoint shouldcontinu whether ray continu trace raykernelsindexmd raybcsindexmd execut setshouldcontinu make possibl set ray kill raykernelsindexmd raybcsindexmd execut getinfo helper method creat stdstring use inform ray defin ray trajectori ray trajectori defin go trace raytracingstudymd descript defin ray trajectori trace chang ray trajectori midtrac see modifi ray trajectorymodifyingaraytrajectori first must defin start point ray achiev via setstart method take argument start point option start element option incom side start element requir ray trace exist case initi set start element exampl repeatableraystudybasemd intern determin start element start incom side ray via claim process next must defin ray travel start point achiev one follow method setstartingendpoint take argument desir end point ray trace hit said end point within mesh kill raykernelsindexmd raybcsindexmd along way intern handl set maxdist straightlin distanc start point end point ray initi use method end point boundari raybcsindexmd execut boundari kill intern execut raybcsindexmd setstartingdirect take argument desir direct ray travel ray initi method must kill either raykernelsindexmd raybcsindexmd maximum distanc maxdist raytracingstudymd maximum distanc paramet ray_max_dist ray situat hit boundari kill error gener util setstartingdirect method may also util setmaxdist set maximum distanc ray allow travel reach distanc kill execut raykernelsindexmd ray initi use setstartingendpoint method set maximum distanc said ray set intern straightlin distanc start userset end alert note gener ray easili becom complic task ray ad buffer trace must processor start element processor boundari neighbor processor start element recommend first see repeatableraystudymd suffici gener ray use case modifi ray trajectori possibl modifi trajectori ray trace via raykernelsindexmd raybcsindexmd modifi trajectori ray mid trace see raykernelsindexmdchangingtheraytrajectori chang ray trajectori raykernelraykernelsindexmd raybcsindexmdchangingtheraytrajectori chang ray trajectori raybcraybcsindexmd use ray data simplest form ray data vector arbitrarili size data auxiliari data live ray remain chang order ensur said data size appropri use case system exist regist need data raytracingstudymd guarante raytracingstudymd object raybcraybcsindexmd object raykernelraykernelsindexmd object access data need ray trace registr devis index ray data auxiliari data inform see raytracingstudymdraydataregistr specif data auxiliari data index data access use data auxdata member variabl ray get ray raytracingstudymd pool ray object avail use pool allow previouslyalloc ray object longer use reset reus without dealloc alloc memori pool _only_ way construct new ray object inform pool see raytracingstudymdraypool elemextrema descript elemextrema helper struct identifi raymd intersect extrema element trace element extrema defin vertex element extrema defin vertex edg intersect element extrema avaiabl raykernelsindexmd raybcsindexmd trace _current_intersected_extrema member variabl method interest use trace elemextrema atextrema whether interesct extrema atvertex whether intersect vertex atedg whether intersect edg vertex local vertex index intersect vertexpoint point vertex intersect edgevertic vertic defin edg intersect buildedg build elem edg intersect raytracingstudyresult syntax descript postprocessorsraytracingstudyresult syntax paramet postprocessorsraytracingstudyresult syntax input postprocessorsraytracingstudyresult syntax children postprocessorsraytracingstudyresult raydatavalu syntax descript postprocessorsraydatavalu raymd ray_tracingindexmd abil local store inform modifi along trace object enabl conveni access said data trace complet syntax paramet postprocessorsraydatavalu syntax input postprocessorsraydatavalu syntax children postprocessorsraydatavalu rayintegralvalu syntax descript postprocessorsrayintegralvalu inform exampl use see line_integralsmd syntax paramet postprocessorsrayintegralvalu syntax input postprocessorsrayintegralvalu syntax children postprocessorsrayintegralvalu raytracingangularquadratur alert construct boundingboxintersectionhelp boundingboxintersectionhelp helper util comput intersect line segment defin point direct boundingbox genericraykernel act switch adnonad base class raykernelsindexmd calcul residu contribut along trace raymd effect allow class either inherit raykernelmd nonad case adraykernelmd ad case via boolean is_ad en exampl see linesourceraykernelmd integralraykernel descript integralraykernel base class integr quantiti fr along raymd accumul integr data member raymd integr comput equat int_l frdr quad l vecr_ tvecr_ mid fr integr vecr_ vecr_ alert note integralraykernel use contribut residu jacobian along raymd case deriv raykernelmd adraykernelmd exampl see variableintegralraykernelmd integr variablevariablesindexmd auxvariableauxvariablesindexmd materialintegralraykernelmd integr materialmaterialsindexmd functionintegralraykernelmd integr functionfunctionsindexmd integr along desir quantiti inherit integralraykernel overrid computeqpintegr method _qp current quadratur point index exampl list modulesray_tracingsrcraykernelsvariableintegralraykernelc rerealsvariableintegralraykernelcomputeqpintegr mani use member variabl exist describ raymd segment inform see use raykernelsyntaxraykernelsindexmdusingaraykernel integr valu produc class deriv obtain use rayintegralvaluemd postprocessor exampl list testtestsraykernelsvariable_integral_ray_kernelvariable_integral_ray_kern startraykernel endproblem generalraykernel generalraykernel base class gener object wish oper raymd intersect boundari inform see raykernelsindexmd materialintegralraykernel descript syntax descript raykernelsmaterialintegralraykernel integr perform materi u equat int_l udr quad l vecr_ tvecr_ mid u materi properti achiev overrid computeqpintegr list modulesray_tracingsrcraykernelsmaterialintegralraykernelc rerealsmaterialintegralraykernelcomputeqpintegr result integr valu obtain use rayintegralvaluemd postprocessor syntax paramet raykernelsmaterialintegralraykernel syntax input raykernelsmaterialintegralraykernel syntax children raykernelsmaterialintegralraykernel linesourceraykernel syntax descript raykernelslinesourceraykernel summari describ nonad form avail linesourceraykernel adform also avail adlinesourceraykernel strong form given line equat l vecr_ tvecr_ mid defin equat underbracefr_textlinesourceraykernel sum_in beta_iur quad rinomegaquad rin l f sourc term neg sink along l second term left hand side repres strong form kernel boundari condit linesourceraykernel weak form innerproduct notat defin equat r_iu_h psi_i f_l quad foral psi_i psi_i test function u_h trial solut finit dimension space mathcalsh unknown u jacobian term kernel zero fracparti r_iu_hparti u_j sinc assum f function unknown u forc construct user suppli constant c functionfunctionsindexmd valu evalu current time quadratur point f postprocessorpostprocessorsindexmd valu p andor raymd data r constant c suppli paramet paramraykernelslinesourceraykernelvalu may also control cours transient simul controlscontrolsindexmd block c f p suppli input paramet paramraykernelslinesourceraykernelvalu paramraykernelslinesourceraykernelfunct paramraykernelslinesourceraykernelpostprocessor respect r suppli input paramet paramraykernelslinesourceraykernelray_data_factor_nam paramraykernelslinesourceraykernelray_aux_data_factor_nam product ray data given name suppli c f p r correspond paramet equival set valu uniti syntax paramet raykernelslinesourceraykernel syntax input raykernelslinesourceraykernel syntax children raykernelslinesourceraykernel raykernel descript raykernel base class object calcul residu vector contribut nonlinear scalar field variabl along raymd see also adraykernelmd ad version object simpl form raykernel linesourceraykernelmd implement line sourc along raymd use raykernel standard kernelkernelsindexmd raykernel subclass computeqpresidu function must overridden implement pde weak form term nonad object follow member function option overriden computeqpjacobian computeqpoffdiagjacobian two method provid extra inform help numer solver converg faster better insid raykernel class access sever member variabl comput residu jacobian valu mention function _i _j indic current test trial shape function respect _qp current quadratur point index _u _grad_u valu gradient variabl kernel oper index _qp ie _u_qp _test _grad_test valu psi gradient nabla psi test function qpoint index _i _qp ie _test_i_qp _phi _grad_phi valu phi gradient nabla phi trial function qpoint index _j _qp ie _phi_j_qp _q_point xyz coordin current quadratur point _current_elem pointer current element oper also avail overrid precalculateresidu precalculatejacobian precalculateoffdiagjacobian insert point immedti comput residu jacobian method use comput cach valu valid quadratur point mani use member variabl exist describ raymd segment inform see use raykernelsyntaxraykernelsindexmdusingaraykernel alert note rz rspheric coordin chang valid raykernel said coordin system way repres line sourc one would end planesurfac sourc volumetr sourc respect _coord_qp util raykernel nullraykernel syntax descript raykernelsnullraykernel syntax paramet raykernelsnullraykernel syntax input raykernelsnullraykernel syntax children raykernelsnullraykernel integralraykernelbas descript integralraykernelbas base class comput integr along raymd segment use parent class like integralraykernelmd raykernelmd adraykernelmd make avail standard assemblymd member like _q_point current quadratur point _jxw current weight overrid standard onseg behavior raykernelraykernelsindexmd replac computeintegr method overriden comput integr segment raydistanceaux syntax descript raykernelsraydistanceaux accumul achiev overrid onseg append auxvari via addvalu list modulesray_tracingsrcraykernelsraydistanceauxc revoidsraydistanceauxonseg syntax paramet raykernelsraydistanceaux syntax input raykernelsraydistanceaux auxraykernel descript auxraykernel base class contribut auxvariablesyntaxauxvariablesindexmd type constant monomi raymd segment exampl raydistanceauxmd accumul distanc travers raymd segment auxvari element segment use overrid onseg method use addvalu method add auxvariablesyntaxauxvariablesindexmd mani use member variabl exist describ raymd segment see use raykernelsyntaxraykernelsindexmdusingaraykernel variableintegralraykernel syntax paramet raykernelsvariableintegralraykernel integr perform along valu u equat int_l udr quad l vecr_ tvecr_ mid achiev overrid computeqpintegr list modulesray_tracingsrcraykernelsvariableintegralraykernelc rerealsvariableintegralraykernelcomputeqpintegr result integr valu obtain use rayintegralvaluemd postprocessor syntax paramet raykernelsvariableintegralraykernel syntax input raykernelsvariableintegralraykernel syntax children raykernelsvariableintegralraykernel killraykernel syntax descript raykernelskillraykernel syntax paramet raykernelskillraykernel syntax input raykernelskillraykernel syntax children raykernelskillraykernel raykernelbas raykernelbas base object raykernelsindexmd inform see raykernelsindexmd major use case inherit one mention object raykernelsindexmd adraykernel descript adraykernel base class object calcul residu vector contribut nonlinear scalar field variabl use automatic_differentiationindexmd along raymd see also raykernelmd nonad version object use adraykernel standard kernelkernelsindexmd adraykernel subclass computeqpresidu function must overridden implement pde weak form term insid adraykernel class access sever member variabl comput residu _i _j indic current test trial shape function respect _qp current quadratur point index _u _grad_u valu gradient variabl kernel oper index _qp ie _u_qp _test _grad_test valu psi gradient nabla psi test function qpoint index _i _qp ie _test_i_qp _phi _grad_phi valu phi gradient nabla phi trial function qpoint index _j _qp ie _phi_j_qp _q_point xyz coordin current quadratur point _current_elem pointer current element oper also avail overrid precalculateresidu insert point immedti comput residu use comput cach valu valid quadratur point mani use member variabl exist describ raymd segment inform see syntaxraykernelsindexmdusingaraykernel alert note rz rspehric coordin chang valid raykernel said coordin system way repres line sourceon would end planesurfac sourc volumetr sourc respect _coord_qp util raykernel functionintegralraykernel syntax descript raykernelsfunctionintegralraykernel integr perform function fr equat int_l frdr quad l vecr_ tvecr_ mid achiev overrid computeqpintegr list modulesray_tracingsrcraykernelsfunctionintegralraykernelc rerealsfunctionintegralraykernelcomputeqpintegr result integr valu obtain use rayintegralvaluemd postprocessor syntax paramet raykernelsfunctionintegralraykernel syntax input raykernelsfunctionintegralraykernel syntax children raykernelsfunctionintegralraykernel repeatableraystudi syntax descript userobjectsrepeatableraystudi alert note repeatableraystudi meant primari raytracingstudymd use major use case meant deriv repeat work adapt multipl execut transient residualjacobian evalu etc requir user knowledg gener ray determin processor element element ray need start depend start point defin ray follow paramet must first set paramuserobjectsrepeatableraystudynam list uniqu name identifi ray gener paramuserobjectsrepeatableraystudystart_point list point ray start use raykernelsindexmd raybcsindexmd repeatableraystudi must specifi ray raykernelsindexmdraybcsindexmd appli via paramuserobjectsrepeatableraystudynam paramet name suppli raykernelsindexmd raybcsindexmd name specifi repeatableraystudi set paramet must decid want defin remaind trajectori end point direct decis signific alert tip defin ray trajectori end point set paramuserobjectsrepeatableraystudyend_point paramet recommend method nonadvanc case ray trace reach userset end point exampl use case set raymd trajectori via end point line sourc line integr exampl found line_sourcesmd line_integralsmd respect defin end point defin remaind trajectori end point provid point want ray end paramuserobjectsrepeatableraystudyend_point paramet raymd end point set intern tracer set max distanc raymd individu end straightlin distanc provid start point provid end point raykernelsindexmd raybcsindexmd still end ray earlier along trajectori guarante end hit either end point possibl sooner studi global maximum ray distanc paramuserobjectsrepeatableraystudyray_dist paramet less distanc start end point ray kill due reach max distanc case reach end point kill execut raybcsindexmd exampl raymd reach end point said end point boundari raybcsindexmd raybcsindexmd execut raymd alert note ray trajectori set via end point allow trajectori modifi midtrac via raykernelsindexmd raybcsraybcsindexmd exampl ray reflect boundari via reflectraybcreflectraybcmd must instead defin ray paramuserobjectsrepeatableraystudydirect paramet want abl trajectori chang midtrac defin direct advanc use definit raymd trajectori consid advanc use user respons end raymd one follow four method kill raybcraybcsindexmd exampl killraybcmd kill raykernelraykernelsindexmd set maximum distanc allow travel via paramuserobjectsrepeatableraystudymax_dist paramet set maximum distanc ray allow travel via paramuserobjectsrepeatableraystudyray_dist paramet defin trajectori direct provid direct want ray travel paramuserobjectsrepeatableraystudydirect paramet direct need normal raymd intersect extern boundari set kill trajectori chang tracer error set ray data advanc use one also regist raymd dataauxiliari data initi desir import necessari use raykernelsindexmd contribut residu integr along lone raymd data mangement case handl hood syntax paramet userobjectsrepeatableraystudi visiblerequir trajectori syntax input userobjectsrepeatableraystudi raytracingstudi raytracingstudi base object gener trace raysraymd ray trace moduleray_tracingindexmd inform manipul raysraymd began trace see raykernelsindexmd raybcsindexmd alert tip major inform present advanc user use modul simpl case like line sourc see line_sourcesmd line integr see line_integralsmd util repeatableraystudymd pleas see repeatableraystudymd first gener understand repeatableraystudymd suffici use case pleas refer repeatableraystudybasemd instead execut phase execut raytracingstudi split two phase gener raysraymd trace defin move buffer trace propag raysraymd trace complet gener use raytracingstudi deriv overrid generateray method within generateray creat raysraymd use raypool set trajectori inform see raymddefiningaraytrajectori set data see raymdusingraydata inform move buffer trace moveraytobuff moveraystobuff know advanc number raysraymd ad buffer trace gener advis call reserveraybuff number raysraymd move buffer move buffer propag ray propag phase trace raysraymd ad buffer trace done intern propagatateray method note addit raymd object may ad trace propag phase via raykernelsindexmd raybcsindexmd inform see raykernelsindexmdcreatingadditionalray creat raymd within raykernelsindexmd raybcsindexmdcreatinganewray creat raymd within raybcsindexmd special mani method overridden deriv class summari method follow generateray must overrid defin move raysraymd buffer trace see gener preexecutestudi call gener postexecutestudi call propag postonseg call segment raymd oncompleteray call trace raymd end buildsegmentquadratur call gener quadratur across raymd segment helper system raytracingstudi contain mani system aid gener manipul raysraymd ray data registrationraydataregistr regist indic data auxiliari data store raymd ray registrationrayregistr regist name associ raymd requir raybcsindexmd raykernelsindexmd provid raysraymd appli ray bankingraybank bank raysraymd end access trace ray poolraypool share pool raysraymd allow reus call destruct side normal cachingsidenormalcach gener cach futur use outward normal element ray data registr data auxiliari data associ raymd store raymd form two stdvectorraydata raydata typic real access via raydata rayauxdata data registr system exist allow studi raykernelsindexmd raybcsindexmd request data auxiliari data need upon construct regist valu use method registerraydata registerrayauxdata return either singl index vector indic raydata rayauxdata vector util valu regist use name within multipl object index return exampl integralraykernelmd base object raykernelsindexmd integr field across line variabl materi etc order accumul integr valu kernel need data valu raymd regist need raymd data constructor store index access list modulesray_tracingsrcraykernelsintegralraykernelc reintegralraykernelintegralraykernel list modulesray_tracingincluderaykernelsintegralraykernelh reclass integralraykernel acquir raysraymd necessarili data size set accord registr use raypool time data access raymd via raydata rayauxdata size properli requir registr resiz regist size zero ray registr case raysraymd gener benefici registr system allow user access specif rayraymd name instead id specif exampl line sourc see line_sourcesmd line integr see line_integralsmd util repeatableraystudymd enabl disabl ray registr handl _use_ray_registr privat paramet default true ray registr enabl raykernelsindexmd raybcsindexmd must paramet paramraykernelsnullraykernelray set identifi raysraymd name said object execut ray registr disabl paramraykernelsnullraykernelray paramet use raykernelsindexmd raybcsindexmd execut raysraymd use raymd registr raymd must construct within studi use acquireregisteredray method take argument name raymd inform see raypool public method registeredrayid registeredraynam util map regist raymd name id id regist name respect ray bank often use examin raymd complet trace exampl use case obtain accumul integr raymd integr field along line see line_integralsmd integralraykernelmd within line integr raymd bank access obtain final accumul valu raymd _bank_rays_on_complet privat paramet set true raysraymd complet given processor store privat member variabl _ray_bank bank access raybank method via getbankedray return raymd request id processor end raymd addit method getbankedraydata getbankedrayauxdata avail get singl data valu raymd bank complet method result valu replic across processor ray pool simul ray_tracingindexmd gener signific number raymd object becom advantag minim construct new raymd object import whenev size data raymd signific construct raymd object handl via share pool pool ensur intern raysraymd nolong use reset use without extran alloc construct new raysraymd occur three place within generateray studi creat raysraymd insert buffer trace via acquireray method discuss follow within onseg raykernelsindexmd via acquireray method within onboundari raybcsindexmd via acquireray method multipl method exist acquir ray within studi acquireray acquir raymd gener uniqu id data size accord rayregistr acquireunsizedray acquir raymd gener uniqu id data size zero note whenev unsiz data access within raymd automat resiz ensur data consist acquirereplicatedray acquir raymd id replic across processor data size accord rayregistr must call processor time acquireregisteredray acquir raymd replic across processor given name util rayregistr exampl use see repeatableraystudymd acquirecopiedray acquir raymd initi anoth raymd acquir method gener new id exampl use see repeatableraystudybasemd raymd storag wrap stdshared_ptrray signific use shared_ptr destructor call use count reach zero nobodi hold onto raymd intern trace algorithm decreas use count trace raymd complet trace share ownership raymd exist use count reach zero raybank existsth raymd bank increas use count raymd avail use trace destruct raysraymd must construct use share pool whenev use count raymd goe zero raymd return pool futur use side normal cach often need obtain outward normal element side mani use case ray_tracingindexmd raytracingstudi provid outward side normal element fli also cach gener normal futur request side normal access getsidenorm method note side normal obtain cach evalu side centroid therefor element side nonplanar return normal approxim repeatableraystudybas repeatableraystudybas special raytracingstudymd simplifi raymd gener process describ exactli simplifi process describ difficulti raymd gener studi overcom mani issu alert tip use repeatableraystudybas consid advanc use ray_tracingindexmd pleas consid repeatableraystudymd use object find ray start element ray_tracingindexmd requir raymd processor contain element start move buffer trace one want specifi set start point ray becom necessari determin element said point contain commun ahead time raymd processor own element repeatableraystudybas option requir defin ray start point set intern ray claim commun processor own start element base userset start point addit incom side said start element set claim ray defin control _claim_after_define_ray privat paramet exampl studi use claim repeatableraystudymd trace mesh chang case mesh chang exampl mesh adapt step element raymd start may chang may also result chang processor raymd start repeatableraystudybas keep copi usergener ray time mesh chang inform avail trace ray inform start point direct data etc intern mesh chang repeatableraystudybas reclaim user ray ensur correct processor correct start element process process repeatableraystudybas gener ray follow defin raysdefineray done first execut studi claim raysclaimray done first execut studi mesh chang copi rayscopyray done everi execut studi defin ray userderiv object overload defineray method upon first execut studi method call within defineray creat ray see raymddefiningaraytrajectori move _ray member variabl action default perform generateray first call defin ray need claim defin start point start element start incom side ensur _claim_after_define_ray paramet set true paramet true assum start element start incom side set ray need claim claim intern place correct processor start element contain start point defin ray start point set start element set contain start point start incom side set ray also start within element fill _ray processor contain respect start element necessari util claim would set _claim_after_define_ray paramet fals raymd data auxiliari data set point also use execut studi import paramet chang _define_rays_repl privat paramet paramet true ray fill _ray defineray replic ray fill _ray across processor _claim_after_define_ray fals _define_rays_repl paramet set fals regardless user set possibl ray correct processor correct start element replic exampl exampl defin process see repeatableraystudymd list modulesray_tracingsrcuserobjectsrepeatableraystudyc revoidsrepeatableraystudydefineray case ray defin defineray replic across processor start point set start element start incom side set therefor claim requir claim ray note action follow section perform first execut studi thereaft mesh chang claim afterward need mesh chang privat paramet _claim_after_define_ray true ray within _ray start element set necessarili correct start processor _ray pass claimray object result _local_ray fill ray start local processor claim perform first call generateray thereaft call mesh chang redetermin start element start processor privat paramet _claim_after_define_ray fals ray within _ray alreadi start processor start element set _ray simpli copi _local_ray raymd object actual share pointer stdshared_ptrray copi process actual copi ray point object _ray copi seen list modulesray_tracingsrcuserobjectsrepeatableraystudybasec resssthesrayssins_raysss copi ray everi execut studi ray _local_ray copi insert buffer trace actual copi take place want ray within _local_ray alway valid later execut studi produc repeat behavior term ray trace list modulesray_tracingsrcuserobjectsrepeatableraystudybasec resssreservesaheadsofstimess coneraystudi syntax descript userobjectsconeraystudi ray gener direct product angular quadratur azimuth direct produc chebyshev quadratur polar direct produc gausslegendr quadratur case full quadratur produc project plane exampl use descript see flashlight_sourcemd syntax paramet userobjectsconeraystudi syntax input userobjectsconeraystudi syntax children userobjectsconeraystudi perprocessorraytracingresultsvectorpostprocessor syntax descript vectorpostprocessorsperprocessorraytracingresultsvectorpostprocessor object particularli use quantifi load balanc processor use ray_tracingindexmd pair well vectorpostprocessorvisualizationauxmd visual nonadvanc result avail follow rays_start number ray start processor rays_finish number ray finish ray end processor rays_receiv number ray receiv processor rays_sent number ray sent processor intersect number intersect encount ray processor generation_tim time spent generateray processor propagation_tim time spent propagateray processor ray_pool_cr number ray creat raytracingstudymdraypool processor face_hit number trace hit face processor vertex_hit number trace hit vertic processor edge_hit number trace hit edg processor moved_through_neighbor number time trace move neighbor processor intersection_cal number time trace attempt find intersect element processor vertex_neighbor_build number time neighbor map vertex built processor vertex_neighbor_lookup number time neighbor map vertex look processor edge_neighbor_build number time neighbor map edg built processor edge_neighbor_lookup number time neighbor map edg look processor point_neighbor_build number time point neighbor lookup perform processor failed_trac number allow trace failur occur processor syntax paramet vectorpostprocessorsperprocessorraytracingresultsvectorpostprocessor syntax input vectorpostprocessorsperprocessorraytracingresultsvectorpostprocessor syntax children vectorpostprocessorsperprocessorraytracingresultsvectorpostprocessor raytracingnemesi syntax descript outputsraytracingnemesi inform see raytracingmeshoutputmd syntax paramet outputsraytracingnemesi syntax input outputsraytracingnemesi syntax children outputsraytracingnemesi raytracingmeshoutput raytracingmeshoutput base class output ray trace ray_tracingindexmd element mesh format exodu nemesi mesh format current support found raytracingexodusmd raytracingnemesismd respect inform follow pertain exodu nemesi outputth differ format mesh output order output trace ray must enabl cach trace inform raytracingstudymd see tracecach segment raymd portion trace within element repres edg element enabl overlay trace ray actual mesh eas use visual softwar paraview section follow cheat bit use deriv class raytracingexodu repeatableraystudi param syntax cant use said syntax base class ray inform output inform segment also output gener form inform output constant valu ray segment support output inform raymd follow data rayraymd enabl paramoutputsraytracingexodusoutput_data auxiliari data rayraymd enabl paramoutputsraytracingexodusoutput_aux_data raymd id enabl append ray_id paramoutputsraytracingexodusoutput_properti paramet number intersect raymd encount segment enabl append intersect paramoutputsraytracingexodusoutput_properti paramet processor id segment execut enabl append pid paramoutputsraytracingexodusoutput_properti paramet number processor cross raymd encount segment enabl append processor_cross paramoutputsraytracingexodusoutput_properti paramet number trajectori chang raymd encount segment enabl append trajectory_chang paramoutputsraytracingexodusoutput_properti paramet note represent data raymd segment constant valu approxim data repres constant valu data sampl furthest point trace raykernelsindexmd raybcsindexmd execut anoth form approxim avail output data nodal sens data sampl point segment repres linearli enabl paramoutputsraytracingexodusoutput_data_nod paramet trace cach raytracingmeshoutput use cach inform trace produc output default cach enabl raytracingstudymd default method raytracingstudymd make use paramuserobjectsrepeatableraystudyalways_cache_trac paramet enabl cach trace addit wish output raymd data auxiliari data must set true paramuserobjectsrepeatableraystudydata_on_cache_trac paramuserobjectsrepeatableraystudyaux_data_on_cache_trac paramet respect simul mani ray trace store output segment could constrain memori could comput expens also option repres trace littl inform possibl option store cach inform trace raymd trajectori chang raymd cross processor function enabl paramuserobjectsrepeatableraystudysegments_on_cache_trac paramet raytracingstudymd exampl exampl go output segmentwis accumul integr simpl diffus variabl integr exampl describ ray_tracingexamplesline_integralsmd recap begin simpl diffus problem list modulesray_tracingtesttestsraykernelsvariable_integral_ray_kernelsimple_diffusion_line_integrali startmesh endoutput repeatableraystudymd util comput integr variabl u list modulesray_tracingtesttestsraykernelsvariable_integral_ray_kernelsimple_diffusion_line_integrali startuserobject endpostprocessor take note must enabl comment paramet paramuserobjectsrepeatableraystudyalways_cache_trac paramuserobjectsrepeatableraystudydata_on_cache_trac order enabl cach inform need output lastli go add raytracingexodusmd output object output trace exodu format nemesi format simpli use raytracingnemesismd list modulesray_tracingtesttestsraykernelsvariable_integral_ray_kernelsimple_diffusion_line_integrali startoutput enduserobject order enabl output set paramuserobjectsrepeatableraystudyexecute_on timestep_end per comment run exampl first run exampl constant data integr valu segment ray_tracingopt testtestsraykernelsvariable_integral_ray_kernelsimple_diffusion_line_integrali userobjectsstudyalways_cache_tracestru userobjectsstudydata_on_cache_tracestru outputsraysoutput_datatru outputsraysexecute_ontimestep_end overlay standard output problem simple_diffusion_line_integral_out ray output simple_diffusion_line_integral_rays visual u_integral_valu variabl ray output mesh obtain result constant media large_mediaray_tracingsimple_diffusion_line_integral_rays_constantpng idconst stylewidth captionsimpl diffus line integr exampl result ray integr valu overlay second instead plot ray data nodal sens valu segment repres linear fashion start end point valu done enabl enabl paramoutputsraytracingexodusoutput_data_nod ray_tracingopt testtestsraykernelsvariable_integral_ray_kernelsimple_diffusion_line_integraliuserobjectsstudyalways_cache_tracestru userobjectsstudydata_on_cache_tracestru outputsraysoutput_data_nodaltru outputsraysexecute_ontimestep_end overlay ray mesh result problem result obtain result nodal media large_mediaray_tracingsimple_diffusion_line_integral_rays_nodalpng idnod stylewidth captionsimpl diffus line integr exampl result ray integr valu overlay nodal output enabl raytracingexodu syntax descript outputsraytracingexodu inform see raytracingmeshoutputmd syntax paramet outputsraytracingexodu syntax input outputsraytracingexodu syntax children outputsraytracingexodu nullraybc syntax descript raybcsnullraybc syntax paramet raybcsnullraybc syntax input raybcsnullraybc syntax children raybcsnullraybc killraybc syntax descript raybcskillraybc ray kill set ray continu list modulesray_tracingsrcraybcskillraybcc revoidskillraybconboundari syntax paramet raybcskillraybc syntax input raybcskillraybc rayboundaryconditionbas descript rayboundaryconditionbas base object raybcsindexmd inform see raybcsindexmd reflectraybc syntax descript raybcsreflectraybc properli handl reflect domain cornersedg reflect boundari corneredg see syntaxraybcsindexmdhittingmultipleboundari inform achiev reflect chang direct raymd list modulesray_tracingsrcraybcsreflectraybcc revoidsreflectraybconboundari per specularli reflect direct static avail raybcsindexmd use list modulesray_tracingsrcraybcsreflectraybcc repointsreflectraybcreflecteddirect syntax paramet raybcsreflectraybc syntax input raybcsreflectraybc generalraybc descript generalraybc base class gener object wish oper raymd intersect boundari inform see raybcsindexmd addraybcact syntax descript raybcsaddraybcact inform see raybcsindexmd raybcraybcsindexmd requir raytracingstudymd associ provid paramraybcskillraybcstudi paramet paramraybcskillraybcstudi paramet provid associ raytracingstudymd one studi object exist multipl studi exist paramraybcskillraybcstudi paramet must provid syntax paramet raybcsaddraybcact addraykernelact syntax descript raykernelsaddraykernelact inform see raybcsindexmd raykernelsindexmdraykernel requir raytracingstudymd associ provid paramraykernelsnullraykernelstudi paramet paramraykernelsnullraykernelstudi paramet provid associ raytracingstudymd one studi object exist multipl studi exist paramraykernelsnullraykernelstudi paramet must provid syntax paramet raykernelsaddraykernelact ray trace modul ray trace modul trace ray finit element mesh notabl featur includ support trace mesh planar side support mesh adapt support contribut residu jacobian full coupl support along ray segment support ray interact intern extern boundari support storag manipul data uniqu ray support ray interact field variabl highli paralleliz test k mpi rank row col small medium larg media large_mediaray_tracingcone_ray_study_upng idconeraystudyu captionexampl flashlight_sourcemd within diffusionreact problem col small medium larg media large_mediaray_tracingcone_ray_study_rayspng idconeraystudyray captionoverlay ray trace problem coneraystudyu rowend exampl line_integralsmd integr field along line line_sourcesmd bodi forc term along line flashlight_sourcemd anisotrop point sourc emit cone direct object overview raymd basic data structur repres singl ray travers mesh raytracingstudymd userobjectuserobjectsindexmd gener execut raysraymd raybcsindexmd manipul raysraymd boundari intern extern raykernelsindexmd manipul raysraymd segment within element along raymd trajectori comput line integr ray_tracingindexmd util integr field along line throughout domain exampl field includ variablesvariablesindexmd auxvariablesauxvariablesindexmd materi propertiesmaterialsindexmd functionsfunctionsindexmd discuss follow describ integr variabl across line simpl diffus problem integr field process remain except definit raykernel problem definit begin standard simpl diffus problem list modulesray_tracingtesttestsraykernelsvariable_integral_ray_kernelsimple_diffusion_line_integrali startmesh endoutput problem seek valu integr u_h finiteel solut equat int_l_ u_hvecrdr quad l_ mid equat int_l_ u_hvecrdr quad l_ mid denot first line l_ diag second l_ right_up simplic note integr along second line l_ trivial due dirichlet boundari condit equat u_h quad impli equat int_l_ u_hvecrdr int_ u_h ydi int_ dy quad l_ mid defin studi repeatableraystudymd defin gener execut ray comput variabl line integr list modulesray_tracingtesttestsraykernelsvariable_integral_ray_kernelsimple_diffusion_line_integrali startuserobject endraykernel studi object defin two ray exectu timestep_end diag right_up defin raykernel raykernelsindexmd object execut segment ray case wish comput integr variabl defin variableintegralraykernelmd list modulesray_tracingtesttestsraykernelsvariable_integral_ray_kernelsimple_diffusion_line_integrali startraykernel endpostprocessor u_integr variableintegralraykernelmd accumul variabl line integr u variabl defin ray diag right_up alert note commonli use integralraykernelsintegralraykernelmd functionintegralraykernelmd materialintegralraykernelmd integr output lastli need obtain accumul integr studi util rayintegralvaluemd postprocessorpostprocessorsindexmd achiev list modulesray_tracingtesttestsraykernelsvariable_integral_ray_kernelsimple_diffusion_line_integrali startpostprocessor accumul integr seen output postprocessor valu time diag_line_integr right_up_line_integr e e e e e e segmentwis integr output segmentwis accumul integr also output mesh format use raytracingmeshoutputmd inform see raytracingmeshoutputmdexampl flashlight point sourc flashlight point sourc anisotrop point sourc emit cone direct hatomega cone defin vector along cone axi half open angl degre ray_tracingindexmd util exampl discret angular integr angular quadratur sampl within cone raymd gener direct raysraymd contribut pde solv domain via line sourc exampl consid problem twodimension mesh physic domain time contain reaction term form reactionmd kernel diffus term form diffusionmd kernel anisotrop point sourc locat emit sourc cone degre hatomega sqrt sqrt right boundari specularli reflect point sourc input begin basic definit mesh reactionmd diffusionmd kernel executionerindexmd list modulesray_tracingtesttestsuserobjectscone_ray_studycone_ray_studyi startmesh enduserobject defin studi coneraystudymd defin gener execut ray within cone list modulesray_tracingtesttestsuserobjectscone_ray_studycone_ray_studyi startuserobject endraybc summari set paramet follow paramuserobjectsconeraystudystart_point apex cone defin paramuserobjectsconeraystudydirect direct center line cone defin hatomega sqrt sqrt paramuserobjectsconeraystudyhalf_cone_angl half open angl cone degre defin degre paramuserobjectsconeraystudyray_data_nam name data raymd regist store weight angular quadratur paramuserobjectsconeraystudyexecute_on set pre_kernel raysraymd execut residu evalu paramuserobjectsconeraystudyalways_cache_trac enabl cach inform output raysraymd mesh form see raytracingmeshoutputmd defin raybc raybcsindexmd object oper raysraymd intersect boundari requir follow raybcraybcsindexmd reflect ray right boundari specular manner raybcraybcsindexmd end ray top boundari reflect right boundari specif add reflectraybcmd right boundari killraybcmd top boundari implement follow list modulesray_tracingtesttestsuserobjectscone_ray_studycone_ray_studyi startraybc endraykernel point import note necessari provid paramraybcskillraybcray paramet ad raykernelsindexmd raybcsraybcsindexmd unlik done line_sourcesmd comput line integralsline_integralsmd coneraystudymd raymd registr enabl see raytracingstudymdrayregistr inform raymd registr requir name associ rayraymd disabl coneraystudymd larg number raysraymd gener make unreason name one defin raykernel raykernelsindexmd object execut segment raysraymd case raymd act line sourc trace add linesourceraykernelmd follow list modulesray_tracingtesttestsuserobjectscone_ray_studycone_ray_studyi startraykernelsline_sourc endoutput take note suppli paramet paramraykernelslinesourceraykernelray_data_factor_nam recal within defin coneraystudyconeraystudymd suppli paramet paramuserobjectsconeraystudyray_data_nam raymd data store weight angular quadratur user defin scale factor paramraykernelslinesourceraykernelray_data_factor_nam paramet linesourceraykernelmd scale sourc given raymd data effect scale line sourc term angular quadratur weight user defin scale factor result problem ran ray_tracingopt testtestsuserobjectscone_ray_studyi result cone_ray_study_out pictur result media large_mediaray_tracingcone_ray_study_coarse_upng idresult captionresult diffusionreact problem flashlight point sourc refin result admittedli result result particularli satisfi visual sens need element let take advantag syntaxadaptivityindexmd take note adapt block list modulesray_tracingtesttestsuserobjectscone_ray_studycone_ray_studyi startadapt input number adapt step current set set via command line argument run mpiexec n ray_tracingopt testtestsuserobjectscone_ray_studyi adaptivitystep row col small medium larg media large_mediaray_tracingcone_ray_study_upng idadapt captionrefin result diffusionreact problem flashlight point sourc col small medium larg media large_mediaray_tracingcone_ray_study_u_meshpng idadaptivitymesh captionth result pictur adapt mesh overlay rowend result ray overlay littl prettypictur good also output gener raysraymd use raytracingmeshoutputmd recal paramuserobjectsconeraystudyalways_cache_trac paramet set true coneraystudymd enabl trace inform could cach use output take note output block raytracingexodusmd object list modulesray_tracingtesttestsuserobjectscone_ray_studycone_ray_studyi startoutput endadapt output file cone_ray_study_rays also gener simul overlay mesh top origin output adapt obtain follow adaptivityray media large_mediaray_tracingcone_ray_study_rayspng idadaptivityray captionresult diffusionreact problem flashlight point sourc adapt raytracingexodusmd overlay use line sourc ray_tracingindexmd make possibl contribut residu jacobian along segment line within finit element mesh simpl use case capabl sourc along ray given start end point within mesh exampl begin standard simpl diffus problem list modulesray_tracingtesttestsraykernelsline_source_ray_kernelsimple_diffusion_line_sourcei startmesh enduserobject within problem wish defin constant line sourc constant c two point equat vecr_ quad textand quad vecr_ strong form system equat nabla cdot nabla uvecr c delta_lvecr quad x quad equat u quad equat u quad equat delta_lvecr begincas vecr l textotherwis endcasesquad l vecr_ tvecr_ mid defin studi repeatableraystudymd defin gener execut ray comput line sourc list modulesray_tracingtesttestsraykernelsline_source_ray_kernelsimple_diffusion_line_sourcei startuserobject endraykernel studi object defin singl raymd name line_source_ray start end execut pre_kernel alert note must set execute_on pre_kernel studi raykernelsindexmd contribut residu jacobian defin raykernel raykernelsindexmd object execut segment ray case wish add line sourc defin linesourceraykernelmd list modulesray_tracingtesttestsraykernelsline_source_ray_kernelsimple_diffusion_line_sourcei startraykernel endadapt line_sourc linesourceraykernelmd contribut variabl u raymd line_source_ray valu result visual result follow result row col small medium larg media large_mediaray_tracingsimple_diffusion_line_sourcepng idresult captionsimpl diffus line sourc exampl result col small medium larg media large_mediaray_tracingsimple_diffusion_line_source_meshpng captionth result pictur result mesh overlay idresultmesh rowend purpos produc appeal pictur let add adapt mix refin region around ray take note adapt block input file list modulesray_tracingtesttestsraykernelsline_source_ray_kernelsimple_diffusion_line_sourcei startadapt set number adapt step via command line argument ie ray_tracingopt testtestsraykernelsline_source_ray_kernelsimple_diffusion_line_sourcei adaptivitystep lead wellrefin visual satisfi result resultadapt row col small medium larg media large_mediaray_tracingsimple_diffusion_line_source_adaptivitypng idresultadapt captionsimpl diffus line sourc exampl result adapt col small medium larg media large_mediaray_tracingsimple_diffusion_line_source_adaptivity_meshpng captionth result pictur resultadapt mesh overlay idresultadaptivitymesh rowend inl inl moos moosebas applic project lead sqa lead train style haligncent overview setup moosedoc sqa creat civet recip sqa enforc review merg perform releas includ sqa_moosedocsmd includ sqa_civetmd includ sqa_reviewmd includ sqa_releasemd sqa setup moosebas applic moosedoc moosedocsmoosedocsindexmd optionaltru util minim effort necessari moosebas applic instruct assum document setup within applic case applic test run follow command problem pleas use moos discuss forumhttpsgithubcomidaholabmoosediscuss assist cd doc moosedocspi build serv updat content allow design document complet content acmoos framework modul enabl applic must ad configyml within applic doc directori basic applic use heat conduct modul content section configyml follow content root_dirdoccont moose_dirframeworkdoccont moose_dirmodulesheat_conductiondoccont updat includ directori correctli popul mooseobject inherit list list includ file also updat within moosedoc appsyntaxmoosedocsextensionsappsyntaxmd optionaltru extens section configyml file follow extens moosedocsextensionsappsyntax execut root_dir includ root_dirinclud moose_dirframeworkinclud moose_dirmodulesheat_conductioninclud alert note necessari nqa complianc good practic complet document enabl templat extens moosedoc templatemoosedocsextensionstemplatemd optionaltru extens leverag allow share acsqa relat document minim effort necessari build nqa compliant softwar enabl extens add follow configyml file within extens section moosedocsextensionstempl activ true creat sqa document pln includ list repositori document necessari compliant acinl acsqa process templat exist major document within moosebas applic eg blackbear follow file creat doccontentsqa directori prefix reflect applic name blackbear_ccimd blackbear_farmd blackbear_rtmmd blackbear_scsmd blackbear_sddmd blackbear_sllmd blackbear_srsmd blackbear_stpmd blackbear_vvrmd alert note blackbear_vvrmd option file verif valid report vvr use detail verif valid test scientif sens applic sqa templat content within templat file load correspond app templat file exampl within blackbear_sddmd file follow includ templat load fileapp_sddmdtempl appblackbear categoryblackbear categori match prefix file name app regist moosebas applic name alert note certain templat requir section other option section requir section detail upon render websit build command sqa report aid monitor statu acsqa document commandlin report system exist use system report configur file sqa_reportsyml must creat doc directori moosebas applic file contain three section applic document requir follow slide configur blackbear applic present file applic nearli ident applic name major differ sqa report applic applic report provid feedback regard exist applic design page associ regist object applic blackbear exe_directori root_dir exe_nam blackbear app_typ blackbearapp content_directori doccont sqa report document document report provid assur necessari acsqa document place conform pln list stylemaxheightpx document working_dir blackbear_dirdoccont moose_dirframeworkdoccont software_requirements_specif sqablackbear_srsmd software_design_descript sqablackbear_sddmd software_test_plan sqablackbear_stpmd requirements_traceablity_matrix sqablackbear_rtmmd verification_validation_report sqablackbear_vvrmd failure_analysis_report sqablackbear_farmd safety_software_determin sqainl_recordsmdsafety_software_determin quality_level_determin sqainl_recordsmdquality_level_determin enterprise_architecture_entri sqainl_recordsmdenterprise_architecture_entri software_quality_plan sqainl_recordsmdsoftware_quality_plan configuration_management_plan sqainl_recordsmdconfiguration_management_plan asset_management_plan sqainl_recordsmdasset_management_plan verification_validation_plan sqainl_recordsmdverification_and_validation_plan software_library_list sqablackbear_sllmd communication_and_contact_inform sqablackbear_ccimd software_coding_standard sqablackbear_scsmd user_manu syntaxblackbear_indexmd symlink avoid duplic file error theory_manu syntaxblackbear_indexmd show_warn fals sqa report requir document report provid assur test specif properli document requir design issu describ pln requir blackbear directori testtest log_test warn show_warn fals include_non_test true sqa report run build sqa_reportsyml configur file applic report produc run moosedoc execut check command cd doc moosedocspi check sqa extens acsqa document report inform ad configyml use moosedoc sqamoosedocsextensionssqamd optionaltru extens accomplish ad extens extens section exampl follow includ applic includ heat conduct modul moosedocsextensionssqa activ true report includ root_dirdocsqa_reportsyml repo default httpsgithubcomidaholabblackbear moos httpsgithubcomidaholabmoos categori framework includ moose_dirframeworkdocsqa_frameworkyml heat_conduct includ moose_dirmodulesheat_conductiondocsqa_heat_conductionyml blackbear includ root_dirdocsqa_blackbearyml sqa extens sqa_blackbearmd configur includ sqa_blackbearyml file provid connect report configur moosedoc websit configur done separ file allow applic share inform includ file simpli indic locat test applic test spec testtest directori spec test directori blackbear_dirtesttest civet extens test result accivet display enabl moosedoc civetmoosedocsextensionssqamd optionaltru extens within extens section configyml file follow exampl blackbear applic moosedocsextensionscivet test_results_cach tmpcivetjob remot blackbear url httpscivetinlgov repo idaholabblackbear moos url httpscivetinlgov repo idaholabmoos locat moose_dir sqa document build complet document includ acsqa page follow method requir run build command cd doc moosedocspi build withsqa serv sqa review pln requir chang moosebas applic review independ review githubgitlab configur enforc review perform moos moosebas applic releas pln releas alert warn titleref pln pln detail must perform releas moos moosebas applic util refer present introduct aid follow requir process document pln overview releas process select stabl mainmast branch releas download test result complet second review document review creat releas log updat moosedoc configyml point download result commit result log use git tag label releas push tag main repositori select revis releas revis moos moosebas applic select releas long test complet pass alert note titlereleas must depend releas moosebas applic releas must use releas version moos depend applic releas applic mergepul request creat moos applic submodul updat releas tag follow process follow merg test chang complet download result checkout branch releas execut git log command git log commit baeaaefbcadacfadcbac head master upstreammast merg bdbd author moosetest bouncesinlgov date wed sep merg commit dfbbfcdfbd use hash download result civet see link taggz file place releas directori style stylefonts httpscivetinlgovsha_eventsidaholabmoosebaeaaefbcadacfadcbachttpscivetinlgovsha_eventsidaholabmoosebaeaaefbcadacfadcbac httpscivetinlgovsha_eventsidaholabmoosedfbbfcdfbdhttpscivetinlgovsha_eventsidaholabmoosedfbbfcdfbd perform releas review pln detail necessari step perform releas includ perform final review moos moosebas applic review must perform project lead intend ensur requir complet accur satisif acsqa document correct complet creat releas log releas log provid evid final review softwar conduct log text file release_logmd must ad releas directori repositori alert note pleas refer current version pln determin necessari reli log previou releas necessari compon log might alter sinc previou releas updat moosedoc configyml ensur result display gener websit correct pull store result configyml must updat disabl download enabl use result releas directori follow chang configyml releas blackbear git diff diff git adocconfigyml bdocconfigyml index bbcaa adocconfigyml bdocconfigyml extens activ true moosedocsextensionscivet test_results_cach tmpcivetjob remot blackbear download_test_result fals test_results_cach releas url httpscivetinlgov repo idaholabblackbear locat root_dir moos download_test_result fals test_results_cach moosereleas url httpscivetinlgov repo idaholabmoos locat moose_dir commit releas test result download releas log creat configyml creat addit must commit repositori suggest follow commit messag pattern follow git commit releas releas tag push releas releas complet tag git push tag main remot repositori tag must follow yyyymmdd pattern follow exampl creat tag push chang main remot repositori upstream git tag git push upstream alert note depend configur main repositori may name someth upstream upload releas websit option although requir pln websit releas upload consumpt user moos moosebas applic pleas contact moos develop assist process civet recip sqa necessari accivet recip acsqa includ build document run report enabl code coverag document sqa report follow block ad recip includ follow ensur document acsqa check execut mergepul request develop branch trigger_pull_request true trigger_push_branch devel list stylemaxheightpx document sqa script scriptsrun_cmdsh abort_on_failur fals allowed_to_fail fals app_subdir doc run_cmd moosedocspi check document build script scriptsmoosedocssh abort_on_failur fals allowed_to_fail fals moosedocs_arg withsqa document sync script scriptscopy_to_remotesh abort_on_failur fals allowed_to_fail fals from_directori site app_subdir doc civet_server_post_com check_exist siteindexhtml civet_server_post_edit_exist listingend code coverag code coverag ad build applic coverag enabl initi coverag run desir test report coverag result list stylemaxheightpx build script scriptsbuildsh abort_on_failur true coverag coverag initi script scriptscoverage_initializesh abort_on_failur fals add test step coverag report script scriptscoverage_extract_and_storesh coverage_tag main listingend alert note moos websit includ addit inform regard code coverageapplication_developmentcoveragemd optionaltru pleas use moos discuss forumhttpsgithubcomidaholabmoosediscuss assist rdherd introduct moos moosebas applic develop process overview nqa nqa complianc moos moosebas applic nqa practic includ nqamd includ plnmd nqa practic creat detail issu mergepul request creat qualiti document test creat complet document see document mooseframeworkdocumentingmd optionaltru perform thorough review merg pln softwar qualiti assur plan sqap moos moosebas applic pln purpos static document creat detail process rigor requir develop moos moosebas applic meet nqa standard use acinl templat procedur requir read associ train pln assumpt moos moosebas applic design qualiti level ql nonsafeti softwar manag follow process implement qualiti level ql safeti softwar follow stringent process howev provid safeti softwar user respons follow organ process moos moosebas applic use perform safeti function pln role line manag manag overal project ensur work scope defin adequ resourc exist time talent fund etc project lead manag daytoday develop code ensur work perform defin line manag perform softwar releas softwar qualiti assur lead manag acsqa process ensur pln implement chang control board ccb perform review chang request cr ensur code chang necessari test document conform pln pln document three class document defin moos moosebas applic static repositori develop pln static document softwar qualiti assur plan sqap pln defin acsqa process implement includ configur manag plan cmp verif valid plan vvp safetysoftwar determin ssd acinl tool ask seri question determin document softwar applic meet doe definit safeti softwar qualitylevel determin qld acinl tool ask seri question determin document qualiti level softwar applic qualiti level use appli grade approach rigor softwar develop manag acea entri acinl tool maintain inventori inl softwar applic associ attribut attribut includ softwar applic name version descript technic point contact associ ssd qld softwar manag plan place manag softwar applic pln static document alert note sdd qld ea entri acinl level document store outsid repositori necessari satisfi nqa standard creat acsqa process begin comment add space alert alert note vvp refer verif valid nqa process scienc pln repositori document defin document store repositori follow acsqa specif document must includ conform pln softwar requir specif sr softwar design descript sdd requir traceabl matrix rtm softwar test plan stp failureanalysi report far commun contact inform cci softwar code standard sc pln develop document follow record shall maintain document chang control process lead releas chang request pullmerg request issu githubgitlab test result civet releas log creat part releas pln review static document review chang static document follow review procedur nativ inl system sqa lead handl design verif review review shall conduct independ review review may reli assist individu final approv disapprov sole respons independ review comment retain githubgitlab system releas review releas requir addit releas review ensur complianc approv softwar requir test result civet consid part review pln softwar configur manag static document manag use acinl tool item includ repositori uniqu identifi revis releas inher capabl version control system pln softwar acquisit acinl procedur acquir hardwar softwar resourc lwp modifi specif exclud zero dollar opensourc softwar requir submit ibuy request acquisit mean librari like petsc acquir accept maintain git submodul follow normal chang control process pln softwar engin method littl restrict code shall develop independ review gatekeep regard specif implement chang everi regist mooseobject requir design page describ use object everi test case must defin requir test satisfi refer one design document refer least one follow issu motiv test case cr implement test case revis creat pln softwar test execut five step must exist chang request releas chang request test pullmerg request test code review independ review chang acccb member develop branch test ensur chang work togeth document build current websitedocument releas final review releas project lead cover inl cours inl pln standard practic convent metric moos moosebas applic must follow code standard defin softwar code standard sc document softwar develop moos moosebas applic reli continu agil integr process use testdriven develop pullmerg request pln support softwar githubgitlab repositori servic chang request issu track system softwar identifi project lead document within test result associ releas eg oper system compil softwar tool accivet acmoos test document system pln record collect mainten retent qualiti record identifi section held within githubgitlab recordkeep system edm specifi record moos moosebas applic manag per pln pln train line manag inl read pln rdherd project sqa lead oinl qnsqassq qualif read pln rdherd inl acccb inl qnsqassq qualif read pln rdherd nqa qualiti assur requir nuclear facil applic nqa regulatori standard creat acasm govern suppli item servic provid safeti function nuclear facil softwar consid item inl contract doe requir us abid nqa standard applic nqa sqa program inl acsqa program idaho nation laboratori acinl implement contractu requir acdo expect cfr subpart qualiti assur requir doe order qualiti assur american societi mechan engin asm nqaa edit qualiti assur requir nuclear facil applic appli softwar requir implement follow acinl document pdd softwar qualiti assur program lwp manag inform technolog asset associ templat form nqa sqa program inl sqa set activ wherebi softwar engin qualiti process method follow ensur proper qualiti achiev grade approach appli commensur consequ failur softwar rigor appli respect control work activ softwar meet doe definit safeti softwar high consequ failur less rigor appli softwar nonsafeti softwar lower consequ failur nqa sqa moos moos mani moosebas applic move beyond research project tool must develop follow nqa process defin acdo acinl nqa process nqa process design around tradit waterfal softwar develop model style haligncent media trainingwaterfallpng nqa standard nqa standard satisfi satisfi defin possibl use modern softwar develop process satisfi standard style haligncent media trainingagilepng stylewidth nqa traceabl connect traceabl four item key satisfi nqa standard chang request cr code chang requir requir function code design design code chang test requir shown satisfi nqa requir unitari cohes address one item complet fulli state one place miss inform consist contradict anoth consist document nonconjug atom must atom ie contain conjunct traceabl meet busi need current made obsolet passag time unambigu concis state without recours technic jargon verifi implement determin inspect test analysi style haligncent refer requirementsqawhat_is_a_requirementmd optionaltru inform list public noninl research use moos bibtex list bib_filesexternal_papers_using_moosebib inl research use moos bibtex list bib_filesinl_papers_using_moosebib cite inl research bibtex list bib_filesinl_papers_citing_moosebib cite noninl research bibtex list bib_filesexternal_papers_citing_moosebib alert note titletrain event prefixfals centertitletru style haligncent stylefontsizefontweightmarginbottompx upcom moos train event pleas refer discuss forumhttpsgithubcomidaholabmoosediscuss announcementhttpsgroupsgooglecomforumforummooseannounc mail list inform futur event media httpswwwyoutubecomembedtjwbsyalai style haligncent stylefontweightfontstyleital moos train webinar given june alertend config navig breadcrumbsfals scrollspyfals longnameparallel multiphys finit element framework home stylevisibilityhidden media mediamoose_logopng styledisplayblockmarginleftautomarginrightautowidth style haligncent fontsiz color multiphys objectori simul environ opensourc parallel finit element framework classcent stylefontweightfonts media gallerytwist_darkmp stylewidth controlsfals autoplaytru looptru row col small medium larg iconflash_on rapid develop classcent stylefontweight style haligncent extent systemssyntaxindexmd defin physic materi properti postprocess colend col small medium larg icongroup userfocus classcent stylefontweight style haligncent includ physicsmodulesindexmd multiscalesyntaxmultiappsindexmd support enabl collabor colend col small medium larg iconset get start classcent stylefontweight style haligncent oper maco linux window easi get startedgetting_startedindexmd colend rowend includ upcoming_trainingmd media mediainl_bluepng dark_srcmediainl_whitepng stylewidthdisplayblockmargintopemmarginleftautomarginrightauto row classrow col small medium larg instal moos iconlinkgetting_startedinstallationindexmd linux macosgetting_startedinstallationcondamd getting_startedinstallationwindowsmd getting_startedinstallationdockermd updat moosegetting_startedinstallationindexmdupd colend col small medium larg new user iconlinkgetting_startednew_usersmd getting_startednew_usersmdcreateanapp getting_startednew_usersmdhelpfulsoftwar getting_startednew_usersmdjoin getting_startednew_usersmdconfigur colend col small medium larg exampl tutori iconlinkgetting_startedexamples_and_tutorialsindexmd getting_startedexamples_and_tutorialstutorial_app_developmentindexmd getting_startedexamples_and_tutorialstutorial_multiappsindexmd getting_startedexamples_and_tutorialstutorial_verificationindexmd workshop slidesworkshopindexmd alternativemissing_configmd workshop videohttpswwwyoutubecomwatchvtjwbsyalai colend rowend cite moos page list refer use use moos public list public cite moos pleas refer publicationsmd moos public use moos moosebas applic pleas cite follow tex articlepermannmoos titl moos enabl massiv parallel multiphys simul author codi j permann derek r gaston david andrv robert w carlsen fand kong alexand lindsay jason miller john w peterson andrew e slaughter roy h stogner richard c martineau year journal softwarex volum page issn doi httpsdoiorgjsoftx url httpwwwsciencedirectcomsciencearticlepii keyword framework finiteel parallel multiphys multiscal multiapp system applic use multiapp system pleas also cite follow articlegastonphys titl physicsbas multiscal coupl full core nuclear reactor simul author derek r gaston codi j permann john w peterson andrew e slaughter david andrv yaqi wang michael p short daniel perez michael r tonk javier ortensi ling zou richard c martineau year journal annal nuclear energi volum page publish elsevi automat differenti applic use automat differenti pleas also cite follow articlelindsayautomat titleautomat differenti metaphysicl applic moos authorlindsay alexand stogner roy gaston derek schwen daniel matthew christoph jiang wen aagesen larri k carlsen robert kong fand slaughter andrew other journalnuclear technolog page year publishertaylor franci test document util accivet test moosedocspythonmoosedocsindexmd document pleas also cite follow articleslaughtercontinu author andrew e slaughter codi jpermann jason miller brian k alger stephen r novascon titl continu integr incod document autom nuclear qualiti assur conform journal nuclear technolog volum number page year publish taylor franci doi url httpsdoiorg modul use physic modul applic pleas cite appropri refer list navierstok use finit volum incompress compress weakli compress implement navierstok modul pleas cite techreport titl neamsthcrab author guillaum l giudicelli alexand lindsay ramiro freil jieun lee year number inlext institut idaho nation laboratori use finit volum incompress porou flow equat implement navierstok modul pleas cite inproceed titl coupl multiphys transient simul mkfhr reactor use finit volum capabl moos framework author guillaum giudicelli alexand lindsay paolo balestra robert carlsen javier ortensi derek gaston mark dehart abdalla aboujaoud april j novak year booktitl mathemat comput nuclear scienc engin publish american nuclear societi use finit element incompress portion navierstok modul pleas cite articlepetersonoverview titl overview incompress navierstok simul capabl moos framework author john w peterson alexand lindsay fand kong year journal advanc engin softwar volum page publish elsevi tensor mechan use multisurfac plastic capabl computemultiplasticitystress tensor mechan modul feel free contact andi wilkin unsur want demonstr moos advanc plastic featur pleas cite articleadhikaryrobust titl robust returnmap algorithm gener multisurfac plastic author deepak p adhikari chandana jayasundara robert k podgorney andi h wilkin year journal intern journal numer method engin month page volum doi nme use smooth multisurfac plastic plastic model deriv multiparameterplasticitystressupd cappedmohrcoulombstressupd tensilestressupd cappeddruckerpragerstressupd cappedweakplanestressupd etc feel free contact andi wilkin unsur want demonstr moos advanc plastic featur pleas cite follow articlewilkinsmethod titl method smooth multipl yield function author andi wilkin benjamin w spencer amit jain bora gencturk year journal intern journal numer method engin volum number page doi nme peridynam follow paper document formul use moos peridynam modul first paper document approach use irregular discret thermomechan coupl articlehuthermomechan titl thermomechan peridynam analysi irregular nonuniform domain discret author hu yile chen hailong spencer benjamin w madenc erdogan year journal engin fractur mechan month june page volum follow paper document stabil method use nonordinari statebas peridynam moos articlechenbond titl bondassoci deform gradient peridynam correspond model author chen hailong year journal mechan research commun month june page volum articlechenperidynam titl peridynam bondassoci correspond model stabil converg properti author chen hailong spencer benjamin w journal intern journal numer method engin year month februari number page volum porou flow follow paper present govern equat moos porou flow modul along discuss capabl implement detail articlewilkin doi joss url httpsdoiorgjoss year publish open journal volum number page author andi wilkin christoph p green jonathan ennisk titl porousflow multiphys simul code coupl problem porou media journal journal open sourc softwar articlewilkin titl opensourc multiphys simul code coupl problem porou media journal comput geoscienc volum page year issn doi jcageo author andi wilkin christoph p green jonathan ennisk geochemistri modul follow paper introduc moos geochemistri modul along discuss capabl implement detail articlewilkin doi joss url httpsdoiorgjoss year publish open journal volum number page author andi wilkin christoph p green logan harbour robert podgorney titl moos geochemistri modul journal journal open sourc softwar xfem follow paper document variou aspect moos xfem modul paper document algorithm use mesh cut partial element integr show applic sever coupl thermalmechan problem articlejiangceram titl ceram nuclear fuel fractur model extend finit element method author jiang wen spencer benjamin w dolbow john e journal engin fractur mechan year month januari page volum paper document moment fit algorithm option use improv accuraci moos xfem implement articlezhangmodifi titl modifi momentfit integr scheme xfem applic historydepend materi data author zhang ziyu jiang wen dolbow john e spencer benjamin w journal comput mechan year month august number page volum reactor follow technic report document function demonstr moos reactor modul techreportshemonmoos author shemon e jung kumar miao mo k oak richard institut argonn nation laboratori anlns titl moos framework mesh enhanc support reactor analysi year month sep type techreport doi place unit state url httpswwwostigovbiblio row classrow col small medium larg question qa discuss forumhttpsgithubcomidaholabmoosediscuss frequent ask questionshelpfaqindexmd contact ushelpcontact_usmd colend col small medium larg inform tool z indexhelpatozmd gitgitmd develop toolshelpdevelopmentindexmd finit element conceptsfinite_element_conceptsindexmd c fundamentalshelpcindexmd colend col small medium larg inl applic remot access iconlinkhelpinlindexmd inl applicationshelpinlapplicationsmd inl hpc binari accesshelpinlhpc_binarymd inl hpc remot connectivityhelpinlhpc_remotemd colend rowend galleri larg card gallerystreamlines_rockmp titleflow streamlin digit rock flow streamlin comput navierstokesmodulesnavier_stokesindexmd modul digit rock reconstruct imag readersourcefunctionsimagefunctionmd stack microct scan postprocess done paraviewhttpswwwparavieworg framework describ lesueur et al httpdoiorgjget style fontsiz fontweight credit martin lesueur multiphys geomechan labhttpsmglabprattdukeedu cardend card gallerytwist_gallerymp titlewir twist mechan model two copper wire twist togeth creat twist pair use tensor mechanicsmodulestensor_mechanicsindexmd contactmodulescontactindexmd modul style fontsiz fontweight credit materi scienc scientif comput depart ukaeahttpsccfeukaeaukresearch cardend card gallerygolem_app_reservoir_analysismp titlefault geotherm reservoir evolut c temperatur year injectionproduct complex doublet system fractur geotherm reservoir base golemhttpsgithubcomajacqueygolem moos base applic thermohydromechan simul fractur reservoir style fontsiz fontweight cacac jacquey ab flexibl parallel implicit model coupl thermalhydraulicmechan process fractur rockshttpswwwsolidearthnet solid earth cardend card gallerylaser_weldingmp titlelas melt pool use arbitrari lagrangianeulerian ale formul laser rotat around surfac stainless steel block steel first melt begin evapor recoil forc evapor deform surfac melt pool turn drive flow melt pool interior melt flow determin use incompress navierstokesmodulesnavier_stokesindexmd equat mesh deform determin use linear elast equat cardend card gallerycorner_flowmp titlesinglephas flow pack bed transient flow around corner use euler equat variabl poros see pronghorn porou media thermalhydraul reactor applicationshttpsescholarshiporgucitemkrw cardend card galleryeldermp titledens driven porou flow densiti driven porou flow simul elder problem use falconhttpsgithubcomidaholabfalcon mesh adapt use accur captur move front style fontsiz fontweight credit robert podgorney inl cardend card gallerystep_resultmp titlemultiscal simul engin scale porou flow model use darci equat within cylind assum porou media close pack steel sphere see multiappsindexmd cardend card gallerydensificationmp titl densif snow densif snow pack use empir densiti base continuum model use pikahttpsgithubcomidaholabpika cardend card gallerysnowmp titledendrit crystal growth process dendrit crystal growth anisotrop nucleat process present model numer simul dendrit crystal growthhttpswwwsciencedirectcomsciencearticlepiip style fontsiz fontweight credit yang xia depart materi scienc engin shanghai jiao tong univers shanghai cardend card gallerych_mp titl spinod decomposit spinod decomposit model cahnhilliard equat use thirdord hermit element phase field modulemodulesphase_fieldindexmd cardend card gallerydipole_antennamp titl halfwav dipol antenna electr field radiat pattern broadcast halfwav dipol antenna model use vectormoosevariablemd system firstord nedelec element cardend card gallerygrain_trackermp titl grain track graintrackergraintrackermd util dramat reduc number order paramet need model larg polycryst system phasefield modul video show dynam remap occur reus order paramet get close one simul evolv cardend card level_setvortex_outmp titlevortex benchmark level set equat commonli use interfac track especi interfac veloc known moos contain level set modul inform see level_setindexmd cardend card gallerysoilmp titlesoil desicc simul soil desicc simul use phasefield cohes fractur model see phasefield model fractur frictionless contact random fractur properti applic thinfilm fractur soil desiccationhttpsdoiorgjcma style fontsiz fontweight credit gari hu dolbow research grouphttpdolbowprattdukeedu cardend card contactd_indentermp titleaxisymmetr spheric indent elast spheric indent penetr base materi model tensormechan crystal plastic contactindexmd cardend card contactironing_gallerymp titlefrict iron problem mortar contact deform semicircular tool push highli deform materi gener tangenti deform contactindexmd cardend galleryend row classrow col small medium larg applic usag iconlinkapplication_usageindexmd commandlin optionscommand_line_usagemd peacockpeacockmd troubleshoot solvesfailed_solvesmd physic syntax physic modulesmodulesindexmd syntaxsyntaxindexmd list publicationspublicationsmd old wikideprecatedhttpswwwmooseframeworkorgoldwiki colend col small medium larg applic develop iconlinkapplication_developmentindexmd sourc pagessourceindexmd exacttru jacobian definitionjacobian_definitionmd hypreboomeramg preconditioninghypremd c utilitiesutilsindexmd modul doxygenhttpmooseframeworkorgdocsdoxygenmodulesclasseshtml framework develop iconlinkframework_developmentindexmd contributingframeworkcontributingmd code standardssqaframework_scsmd moos doxygenhttpsmooseframeworkorgdocsdoxygenmooseclasseshtml libmesh doxygenhttpsmooseframeworkorgdocsdoxygenlibmeshclasseshtml timpi doxygenhttpsmooseframeworkorgdocsdoxygentimpiclasseshtml colend col small medium larg moosedoc iconlinkmoosedocsindexmd moosedocsspecificationmd frameworkdocumentingmd softwar qualitysqaindexmd exacttru infrastructur pythonpythonindexmd build systembuild_systemmd test systemtest_systemmd benchmarkingperformance_benchmarkingmd test timinghttpsmooseframeworkorgdocstim colend rowend github backup fulfil audit requir repositori must backup intern servic accomplish two way first pull mirror setup github gitlabsoftwareinlgov updat sourc code branch whenev push made addit cron script run everi two week friday manual retriev issu pull request copi intern backup csv file full backup time increment backup necessari repositori mirror github gitlab retriev issu pr due implement slightli differ two servic issuespr backup accomplish hit github api json file issu use intern python tool pars json dictionari dump dictionari csv file backup maintain least two year older backup may remov time free disk space backup locat hpc machin insid homemooseadminauditingbackupsrepositori name backup ever need restor github csv import use github csv tool avail herehttpswwwnpmjscompackagegithubcsvtool whatev reason issu need introduc gitlab accomplish simpli renam bodi header csv descript script similarli alter save csv gitlab format replac well strongli recommend use builtin gitlab issu import abl import anyth github version repositori except titl descript issu well lose everi pull request github consid pull request issu gitlab view separ data structuretempl load filesqaapp_rtmmdtempl appmoos category_empty_ templat item keyfunctionalrequir requir acmoos provid depend acrtm document pleas refer document list assumptionsanddepend templat item keyusabilityrequir requir acmoos provid depend acrtm document pleas refer document list assumptionsanddepend templat item keyperformancerequir requir acmoos provid depend acrtm document pleas refer document list assumptionsanddepend templat item keysysteminterfacesrequir requir acmoos provid depend acrtm document pleas refer document list assumptionsanddepend moos softwar qualiti within moos code reliabl paramount moos employ rigor welldocu develop strategi order accomplish task comprehens set tool test document develop continu includ within framework use applic develop particular test moos moosebas applic primari import chang merg framework manual code review autom test ensur chang compat applic sinc moos opensourc project test process publicli avail wwwmoosebuildorghttpwwwmoosebuildorg moos develop idaho nation laboratori inl team comput scientist engin support variou fund agenc includ unit state depart energyhttpenergygov develop ongo inl collabor throughout world sqa record sqa train member acccb moos moosebas applic must complet acinl train cours rdherd introduct moos moosebas applic develop process rdherdsqatrainingccbindexmd project lead softwar qualiti lead moos moosebas applic must complet acinl train cours inl moos moosebas applic project lead sqa lead train inlsqatrainingleadindexmd test result releas moos employ continu integr strategi use accivet test result version document avail follow link civet mergeresult document sqa releas found use follow link httpsmooseframeworkorgreleasesmoos httpsmooseframeworkorgreleasesmoos vhttpsmooseframeworkorgreleasesmoosev github backup inform github backup moos mastodon tmap blackbearsqagithub_backupmd sqa report templat load filesqaapp_srsmdtempl appmoos category_empty_ templat item keyfunctionalrequir requir acmoos provid depend acsr document pleas refer document list assumptionsanddepend templat item keyusabilityrequir requir acmoos provid depend acsr document pleas refer document list assumptionsanddepend templat item keyperformancerequir requir acmoos provid depend acsr document pleas refer document list assumptionsanddepend templat item keysysteminterfacesrequir requir acmoos provid depend acsr document pleas refer document list assumptionsanddepend templat load filesqaapp_vvrmdtempl appmoos category_empty_ templat item keyintroduct moos compris framework set physic modul acvvr moos compris content framework well physic modul portion adher acvvr document link depend section link includ acvvr detail valid verif requir app combin compris complet set document app templat item keyverificationintro templat item keyverif verif document acmoos provid depend acvvr document pleas refer document list depend templat item keyvalidationintro templat item keyvalid valid document acmoos provid depend acvvr document pleas refer document list depend templat load filesqaapp_sddmdtempl appmoos category_empty_ templat item keyrequirementscrossrefer design document acmoos provid depend acsdd document pleas refer document list sqa depend suffixsdd categorycategori templateend templat load filesqaapp_farmdtempl appmoos category_empty_ templat item keyintroduct moos compris framework set physic modul acfar moos compris content framework well physic modul portion adher acfar document link depend section link includ acfar describ function nonfunct requir variou compon softwar combin compris complet set requir app templat item keydependenciesintro acfar moos whole includ framework modul support infrastructur detail file list templat item keyfailureanalysisrequirementsintro templat item keyfailureanalysisrequir requir acmoos provid depend acfar document pleas refer document list depend templat load filesqaapp_stpmdtempl appmoos category_empty_ templat load filesqaapp_sllmdtempl appacmoos category_empty_ templat item keydependenciesintro acsll app whole includ framework modul support infrastructur detail file list templat load filesqaapp_vvrmdtempl appmoos category_empty_ templat item keyintroduct moos compris framework set physic modul acvvr moos compris content framework well physic modul portion adher acvvr document link depend section link includ acvvr detail valid verif requir app combin compris complet set document app templat item keyverificationintro templat item keyverif verif document acmoos provid depend acvvr document pleas refer document list depend templat item keyvalidationintro templat item keyvalid valid document acmoos provid depend acvvr document pleas refer document list depend applic develop document page meant use develop develop moosebas applic syntaxsyntaxindexmd moos syntax document sourc codesourceindexmd exacttru moos sourc document doxygenhttpwwwmooseframeworkcomdocsdoxygenmooseclasseshtml moos doxygen build systembuild_systemmd hierarch make system function moos test systemtest_systemmd createmaintain test applic perform benchmarkingperformance_benchmarkingmd perform benchmark profilingprofilingmd profil applic order determin function hog comput time mooseutilsmooseutilsmd gener util use throughout framework applic utilsutilsindexmd gener util use throughout framework applic jacobian definitionjacobian_definitionmd comput deriv residu statement hypreboomeramg preconditioninghypremd indepth discuss use hypr algebra multigrid precondition boomeramg code standardssqaframework_scsmd expect code format debuggingapplication_developmentdebuggingmd tip debug moosebas applic relationshipmanagersrelationship_managersmd tell moos extra geomatr algebra inform need parallel moosewrap appsmoose_wrapped_appsmd coupl extern code moos profil moos code deepest investig perform characterist recommend use googl gperftoolshttpsgithubcomgperftoolsgperftool packag packag includ part environ packag moos instal process although work best linux platform also work reason well mac os instrument also work well profil applic mac system googl perform tool linux mac moos support profil gperftoolshttpsgithubcomgperftoolsgperftool builtin use must compil moos profil support enabl add profil support set gperf_dir environ variabl locat gperftool instal ie gperf_dirliblibprofilerso exist also recommend compil moos oprof mode get completeaccur profil result compil moos like normal look someth like export gperf_dirhomegperftoolsinstal export methodoprof cd yourmooseapprepositori make compil applic gperftool profil support enabl note get error attempt link gperftool eg gperf_dir defin environ build dbg devel mode moos libmesh insert number assert mode may significantli slow code mislead profil hot spot moreov gperftool hijack function like malloc execut link gperftool run valgrind produc meaning result henc use guarante method avail run valgrind cpu profil profil applic need run simul suitabl durat gener least second long set moose_profile_bas environ variabl file base use store profil data perform profil run might look someth like moose_profile_baserun_ mpiexec n yourapp_oprof input_filei use filenam base pass append suffix form procprof gener independ profil data file mpi rankprocess exampl would gener file run_prof run_prof run_prof run_prof allow includ directori filenam base use commandlin argument gperfprofileron commasepar list mpi rank gener profil file select rank exampl gperfprofileron moose_profile_bas gener run_prof run_prof argument given file rank gener heap profil similarli heap profil like heap_profile_inuse_interv moose_heap_baserun_ mpiexec n yourapp_oprof input_filei heap_profile_inuse_interv repres code dump heap profil inform whenev memori usag increas specifi number byte mb could choos small number well simul use much memori exampl gener file run_xxxxheap run_xxxxheap run_xxxxheap run_xxxxheap xxxx denot sequenc number eg first dump heap file second dump heap file etc instruct heap profil found herehttpsgperftoolsgithubiogperftoolsheapprofilehtml allow inclu directori filenam base use commandlin argument gperfprofileron commasepar list mpi rank gener profil file select rank exampl gperfprofileron moose_heap_bas gener run_xxxxheap run_xxxxheap argument given file rank gener argument use reduc number profil file profil larg number process analyz profil data profil data analyz use pprofhttpsgithubcomgooglepprof util includ latest moos environ packag also buildinstal use pprof exact compil version binari use creat profil must still locat profil creat pprof present two type profil time flat cumul flat time report amount time spent directli insid function ie exclud time spent transit call function cumul time report complet amount time spent function includ descend ie function call function transit pprof interact mode access pass profil file command pprof runprof interact mode run sever command interrog profil data command describ other sever option see enter help help cmdoption interact mode run pprof help command line follow section assum run pprof interact mode demonstr usag pprof cpu profil follow exact command line appli heap file well top n top n show top n function use flat time pprof runprof pprof top show node account ms ms total drop node cum ms show top node flat flat sum cum cum ms ms anonym namespacefe_lagrange_d_shap ms ms libmeshdofobjectstart_idx ms ms std_rb_tree_m_lower_bound ms ms moosevariabledatacomputevalu ms ms libmeshelemact ms ms feproblembasesetneighborsubdomainid ms ms _int_malloc ms ms libmeshelemwhich_child_am_i ms ms stdvectors ms ms stdvectoroper inlin ms ms _int_fre ms ms libmeshelemlevel pprof svg png svg png creat visual profil graph show function call relationship time spent function one use way look profil data output print screen default want redirect file pprof runprof pprof png runpng creat imag like media mediaapplication_developmentsampleprofilepng stylewidth note data repres imag function repres boxnod box includ two timespercentag upper one flat time lower one cumul time percentag total runtim repres arrow repres function call arrow point function function b label cumul time spent function b result call function red boxarrow cumul time spent functionpath larger box flat time function take list list functionnam show code function linebylin sidebysid flat cumul time spent line pprof runprof pprof list assemblyreinit routin assemblyreinit homecalsrwanimalsmooseframeworksrcbaseassemblyc ms flat cum total _current_physical_point physical_point void assemblyreinitconst elem elem ms ms _current_elem elem _current_neighbor_elem nullptr mooseassert_current_subdomain_id _current_elemsubdomain_id current subdomain set incorrectli _current_elem_volume_comput fals ms ms unsign int elem_dimens elemdim ms _current_qrule_volum _holder_qrule_volumeelem_dimens make sure qrule right one _current_qrul _current_qrule_volum setvolumeqrule_current_qrule_volum elem_dimens reinitfeelem ms computecurrentelemvolum ms ms instrument maco follow step get profil inform applic download full xcode distribut iprofil includ xcode command line tool distribut compil moos applic oprof mode run applic profil newer version maco mojav instrument time profil mooseappoprof inputi creat directori instrumentsclitrac denot number open use open instrumentsclitrac instrument applic open new window profil older version maco sierra iprofil timeprofil mooseappoprof inputi creat directori mooseappoprofdtp open use open mooseappoprofdtp instrument applic open new window profil debug point develop moosebas applic probabl need use debugg debugg allow stop program certain point thing happen memori segfault stop care step program inspect variabl valu go order find sourc problem particular ever see segfault signal mean time pull debugg debugg automat stop segfault reach show exactli invalid memori access occur good tutori debug see exampl ex_debuggingmd debug execut first step debug anyth build debug execut default moosebas applic built optim opt mode ensur fastest solv howev optim execut miss lot inform use debugg optim process caus code get reorder even skip make difficult step program build execut suitabl debug need set method environ variabl dbg export environ usual simpler use unix shortcut allow defin environ variabl time run command like bash methoddbg make j alway rememb modifi reflect number processor want use build usual number core comput build complet end debug execut look like yourappdbg execut perfect load debugg howev execut run slowli make sure begin debug come problem small possibl still show problem your tri fix debugg mani differ debugg exist lldb gdb ddd totalview commandlin debugg like lldb gdb might seem daunt first invalu tool quick debug debug complic scenario your run cluster learn one essenti comput scientist debug moosebas applic recommend lldb your use clang compil default mac osx gdb gcc compil default linux lldb gdb lldb gdb similar work commandlin take text input move program execut moos packag mac osx actual need run lldb use sudo elev privileg need attach program invok lldb moosebas applic mac osx would bash sudo lldb yourappdbg inputfilei tell lldb commandlin option point need pass execut run sudo ask password elev priveleg lldb also look see allow lldb run sudo without use password gdb run similar command bash gdb arg yourappdbg inputfilei linux gener work without need sudo done execut load wont start run opportun time set breakpoint usual recommmend set breakpoint mpi_abort use b command b mpi_abort start run execut use r command type r hit enter breakpoint fault reach recommend first use bt command output backtrac see exactli current callstack look like figur quit debugg use ctrld way that normal way quit lot commandlin interpret unix includ python anoth use command p print allow print valu variabl p variablenam learn full set command use help look number tutori onlin parallel debug firstli dont debug parallel dont parallel debug problem reproduc run parallel problem show serial much easier debug serial take long time problem run want run parallel dont instead tri make problem smaller debug serial said actual need debug parallel moos coupl commandlin argument help howev get need bit setup mac osx mac osx parallel debug setup note run lldb mac osx need run sudo give permiss attach run program sudo ask password unfortun parallel debug way enter password therefor need make run lldb sudo without password first thing get full path lldb use commandlin bash lldb use packag osx return someth like optmoosellvmbinlldb make note locat copi set termin asid youll need next step set lldb abl run sudo without password need modifi sudoer file issu command termin prefer new one still see path lldb first one bash sudo visudo mostlik go use vi text editor open sudoer file say mostlik technic open editor base editor environ variabl unfamiliar vi dont worri press go insert mode navig bottom file add line look like usernam nopasswd optmoosellvmbinlldb usernam must replac usernam path lldb need reflect got back lldb line place press esc exit insert mode type wq that colon w q command say write quit press enter youv complet abl run sudo lldb commandlin need enter password still need enter password creat new discuss forumhttpsgithubcomidaholabmoosediscuss figur what wrong go actual parallel debug setup readi debug parallel two option launch termin mpi process go launch termin use xterm mpi process termin run debugg attach run mpi process work either need local box xforward set ssh im go go let assum your work local mac workstat use packag order launch program mpi process termin debug would bash mpiexec n yourappdbg inputfilei startindebuggersudo lldb linux mostlik want put gdb sudo lldb everyth setup correctli see xterm window show lldb commandlin prompt debugg prompt alreadi attach run execut execut paus opportun time set breakpoint termin seper instanc might want go one b mpi_abort abl stop moos encount error readi continu use c command type c hit enter termin window tell continu go open termin window see applic start run origin termin breakpoint fault reach process termin window show commandprompt allow inspect variabl etc pass debugg command command line lldb accept debugg command command line option execut soon execuatbl load readi use set breakpoint immedi resum execut app bash mpirun n yourappdbg inputfilei startindebugg sudo lldb break set e c cont command set breakpoint halt thrown except replac break set e c b mpi_abort break moos error cont option automat run app breakpoint set launch applic tell wait manual attach debugg go use case need debug use lot mpi process dont want termin window one also handi your work cluster doesnt way xforward option work idea launch applic wait initi phase time attach debugg manual one process simpli run applic like bash mpiexec n yourappdbg inputfilei stopfordebugg caus applic print someth like follow wait second default need time use stopfordebugg number second want wait mpiexec n moose_testopt simple_diffusioni stopfordebugg stop second allow attach debugg process connect rank hostnam pid dereksmacproloc dereksmacproloc dereksmacproloc dereksmacproloc wait messag tell process run process id pid relev inform need abl attach debugg process case local mac want connect rank separ termin would sudo lldb p gdb similar mechan see doc launch lldb attach run program attach program paus allow set breakpoint use c command tell continu moos test system moos come rich system test moosebas applic test philosophi idea behind softwar test constantli evolv sinc begin softwar small simpl could possibl prove correct later human tester employ find flaw softwar releas late earli idea extrem program test driven develop realli push autom test late autom test util continu integr continu deploy system allow develop constantli integr chang still abl ship work product time manner recent site like github allow everi chang test _before_ integr within pull request within moos three differ test idea test typic regress test consist input file known good output gold file unit test test funcation small seper piec testhar piec softwar written _run_ test aggreg result moos use test continu integr ci continu deploy cd everi chang moos test across multipl oper system parallel thread debug valgrind sever configur averag test cluster run million test everi week develop framework applic testhar testhar piec python softwar respons find run test read testharnesstestharnessmd page hypr boomeramg overview hypr set solversprecondition lawrenc livermor nation laboratori main hypr websit found herehttpscomputationllnlgovprojectshyprescalablelinearsolversmultigridmethod moos mainli use hypr algebra multigrid amg packag boomeramg amg scalabl effici algorithm solut pde fairli ellipt mani differ set pde fall categori includ heat conduct solid mechan porou flow speci diffus etc amg algorithm hope fill detail amg work dont time right option boomeramg incred number option mani larg impact solv speed converg rate default set petsc ok small twodimension problem howev solv processor take time familiar option daunt start get deep alway turn mooseus help specifi option hypr use petsc commandlin option syntax commandlin take form option valu howev also suppli way set input file execution block precondition block set petsc_options_inam petsc_options_valu two hold paramet name valu respect would like set turn boomeramg turn hypreboomeramg precondit would use input file execution petsc_options_inam pc_type pc_hypre_typ petsc_options_valu hypr boomeramg equival set pc_type hypr pc_hypre_typ boomeramg commandlin notic take two option turn boomeramg one select hypr one select boomeramg hypr packag hypr technic contain mani solver precondition mani overlap petsc alreadi provid strong threshold far import option pc_hypre_boomeramg_stong_threshold option control primari coarsen mechan remov entri matrix simpli decid theyr unimport your set _threshold_ scale valu entri matrix must _kept_ everyth threshold discard mean set _higher_ amount discard matrix discard entri gener good iter speed ie fast trip boomeramg dramat impact qualiti precondition go far lead overal wors perform requir larger number linear iter default set gener work fine nowher close moos detect your use hypr boomeramg run automat assign pc_hypre_boomeramg_strong_threshold chosen read lot literatur smallscal optim test moos team howev golden number depend problem may need coarsen less help converg warn though highli recommend never set problem problem explod huge amount time memori taken precondition go deeper your read far youv probabl run real problem either your get speedscal want your get converg ill tri put order import opinion give guidanc one gener speed boomeramg improv scalabl typic come _more_ coarsen remind first thing make sure pc_hypre_boomeramg_strong_threshold set appropri problem see even set might tri increas tri find sweet spot effeci effect time ventur futher definit want turn perform log perf log put print_perf_log true output block input file end solv print tabl show time precondit want pay attent total time sub column total time nonlinear solv solv row object reduc solv mainli combin three thing compute_residu compute_jacobian precondition littl go linearnonlinear solver petsc first thing look much total time compute_jacobian compute_residu take push boomeramg far tri scale problem mani core happen compute_jacobian compute_residu take smaller smaller portion total solv time point want keep compute_residu compute_jacobian around total solv time remaind solv time solver precondit time major go boomeramg boomeramg take solv time either youv scale problem far tri keep least dof per processor k even better need start adjust boomeramg option option let dive advanc option max level first option want draw attent also one probabl leav alon point everyon want mess pc_hypre_boomeramg_max_level control number level multigrid solv ie number coarser problem produc default option might think could save time make smaller could make algorithm accur make larger actual neither truth one thing understand multigrid tri gener realli small coarsest problem actual solv usual use directgauss elimin solver artifici limit number level your allow algorithm reach coarsest level mean your expens direct solv _larger_ problem _slower_ ye reduc number level actual slow solv increas level well problem get coars increas number level typic effect even problem million dof typic need level see mani level boomeramg use turn pc_hypre_boomeramg_print_statist coarsen type mention speed hypr usual done coarsen main option control coarsen pc_hypre_boomeramg_coarsen_typ default set falgout good mix effici accuraci howev typic perform gain use aggress option particular solv problem tri use hmi pmi order use littl parallel commun excel job remov matrix entri get coarser problem lot option falgout hmi pmi im go list realli one want use agress coarsen anoth option lot coarsen aggress coarsen boomeramg actual mani paramet surround current avail us petsc option pc_hypre_boomeramg_agg_nl pc_hypre_boomeramg_agg_num_path pc_hypre_boomeramg_agg_nl number coarsen level appli aggress coarsen aggress coarsen think tri even harder remov matrix entri way look secondord connect exist path one import entri anoth import entri sever entri look pathway algorithm decid whether keep entri aggress coarsen result less time spent boomeramg lot less commun done also impact effect precondition quit lot balanc pc_hypre_boomeramg_agg_num_path number pathway consid find connect keep someth mean increas valu _reduce_ ammount aggress coarsen happen aggress coarsen level mean higher pc_hypre_boomeramg_agg_num_path improv accuracyeffect slow thing balanc default aggress coarsen pc_hypre_boomeramg_agg_nl turn set pc_hypre_boomeramg_agg_nl someth higher zero recommend start even ok pc_hypre_boomeramg_agg_num_path default aggress set aggress coarsen level caus mani linear iter tri increas number path _first_ go see help reduc number linear iter doesnt may need back number aggress coarsen level balanc act interpol truncat also coarsen interpol oper one way set pc_hypre_boomeramg_truncfactor valu work similarli strong threshold higher set entri ignor recommend valu around start adjust mayb speed adjust etc accuraci balanc interpol type speak interpol expens done greatli effect accuraci effici boomeramg ideal choos interpol oper match physic check hypr manual variou hypr paper discuss interpol oper better physic good rule thumb chang set pc_hypre_boomeramg_interp_typ default classic tend realli slow unnecessari especi problem recommend start exti ye that valu option stand extendedi good around option low commun overhead mani option im go enumer p max im go honest dont quit understand pc_hypre_boomeramg_p_max exactli ive read still cant quit get descript petsc max element per row interpol oper set low seem good job set higher seem make solv less accur howev goe intuit dont quit understand what go someon know pleas email mooseus good eplan put togeth evolv boomeramg option line look like here one im current use laplacian solv element core bash pc_type hypr pc_hypre_typ boomeramg pc_hypre_boomeramg_strong_threshold pc_hypre_boomeramg_agg_nl pc_hypre_boomeramg_agg_num_path pc_hypre_boomeramg_max_level pc_hypre_boomeramg_coarsen_typ hmi pc_hypre_boomeramg_interp_typ exti pc_hypre_boomeramg_p_max pc_hypre_boomeramg_truncfactor good place start your look advanc usag strong enough take mani linear iter reduc number aggress coarsen level pc_hypre_boomeramg_agg_nl still slow reduc number aggress coarsen path tri differ coarsen type like pmi add bit truncat mayb go balanc full list option full list hypr option present petsc found use help grep c hypr hypr precondition option pc_hypre_typ boomeramg choos one pilut parasail boomeramg am pchypresettyp hypr boomeramg option pc_hypre_boomeramg_cycle_typ v choos one v w none pc_hypre_boomeramg_max_level number level grid allow none pc_hypre_boomeramg_max_it maximum iter use per hypr call none pc_hypre_boomeramg_tol converg toler per hypr call use fix number iter none pc_hypre_boomeramg_truncfactor truncat factor interpol truncat none pc_hypre_boomeramg_p_max max element per row interpol oper unlimit none pc_hypre_boomeramg_agg_nl number level aggress coarsen none pc_hypre_boomeramg_agg_num_path number path aggress coarsen none pc_hypre_boomeramg_strong_threshold threshold strongli connect none pc_hypre_boomeramg_max_row_sum maximum row sum none pc_hypre_boomeramg_grid_sweeps_al number sweep grid level none pc_hypre_boomeramg_nodal_coarsen use nodal base coarsen hypre_boomeramgsetnod pc_hypre_boomeramg_vec_interp_vari variant algorithm hypre_boomeramgsetinterpvecvari pc_hypre_boomeramg_grid_sweeps_down number sweep cycl none pc_hypre_boomeramg_grid_sweeps_up number sweep cycl none pc_hypre_boomeramg_grid_sweeps_coars number sweep coars level none pc_hypre_boomeramg_smooth_typ schwarzsmooth choos one schwarzsmooth pilut parasail euclid none pc_hypre_boomeramg_smooth_num_level number level complex smoother use none pc_hypre_boomeramg_eu_level number level iluk euclid smoother none pc_hypre_boomeramg_eu_droptoler drop toler iluk euclid smoother none pc_hypre_boomeramg_eu_bj fals use block jacobi ilu euclid smoother none pc_hypre_boomeramg_relax_type_al symmetricsorjacobi choos one jacobi sequentialgaussseidel seqboundarygaussseidel sorjacobi backwardsorjacobi symmetricsorjacobi lscaledsorjacobi gaussianelimin cg chebyshev fcfjacobi lscaledjacobi none pc_hypre_boomeramg_relax_type_down symmetricsorjacobi choos one jacobi sequentialgaussseidel seqboundarygaussseidel sorjacobi backwardsorjacobi symmetricsorjacobi lscaledsorjacobi gaussianelimin cg chebyshev fcfjacobi lscaledjacobi none pc_hypre_boomeramg_relax_type_up symmetricsorjacobi choos one jacobi sequentialgaussseidel seqboundarygaussseidel sorjacobi backwardsorjacobi symmetricsorjacobi lscaledsorjacobi gaussianelimin cg chebyshev fcfjacobi lscaledjacobi none pc_hypre_boomeramg_relax_type_coars gaussianelimin choos one jacobi sequentialgaussseidel seqboundarygaussseidel sorjacobi backwardsorjacobi symmetricsorjacobi lscaledsorjacobi gaussianelimin cg chebyshev fcfjacobi lscaledjacobi none pc_hypre_boomeramg_relax_weight_al relax weight level hypr estim k determin k cg step none pc_hypre_boomeramg_relax_weight_level set relax weight particular level weightlevel none pc_hypre_boomeramg_outer_relax_weight_al outer relax weight level k determin k cg step none pc_hypre_boomeramg_outer_relax_weight_level set outer relax weight particular level weightlevel none pc_hypre_boomeramg_no_cf fals use cfrelax none pc_hypre_boomeramg_measure_typ local choos one local global none pc_hypre_boomeramg_coarsen_typ falgout choos one cljp rugestueben modifiedrugestueben falgout pmi hmi none pc_hypre_boomeramg_interp_typ classic choos one classic direct multipass multipasswt exti exticc standard standardwt ff ff none pc_hypre_boomeramg_print_statist print statist none pc_hypre_boomeramg_print_statist print statist none pc_hypre_boomeramg_print_debug print debug inform none pc_hypre_boomeramg_nodal_relax fals nodal relax via schwarz none moos build system overview moos build system hierarch makefil base system idea matter hierarchi moos applicationsmodulesframework simpli type make rebuild everyth need rebuilt basic way build moos applic simpli bash make within applic directori consid applic name frog depend two physic modul tensor_mechan heat_conduct type make within frog directori automat build framework tensor_mechan heat_conduct frog addit makefil moos system design parallel build use j flag run make allow build much faster instanc processor workstat bash make j caus make spawn compil process time compil x faster serial compil control process environ variabl moos build system reli environ variabl control build process environ variabl set effect method set opt dbg oprof devel build execut differ amount optim debug capabl see method section inform method set space separ method option enumer way ever want set method moose_dir _optional_ directori moos repositori usual makefil find unless nonstandard path moose_un default true set fals turn uniti build inform see build system optim section moose_header_symlink default true set fals turn header symlink advanc option reason disabl like notic dramat slowdown set fals build method creat debug build mention two environ variabl control type execut get creat method method execut ultim creat method suffix like somethingmethod valid option opt default build optim execut suitabl run calcul dbg execut meant use debugg like gdb lldb slow meant use larg problem devel someth inbetween opt dbg attempt faster also runtim check assert mooseassert oprof normal use use code profil run code util like oprof gprof vtune etc method use specifi full set space separ option _ever_ want use use build libmesh build libmesh librari method build system optim advanc inform meant inform optim happen within moos build system necessari understand use build moos two main build optim header symlink uniti build header symlink moos moosebas applic includ directori organ subdirectori system kernel bc auxkernel etc current differ moos system mean applic could potenti directori search includ file addit applic composeus eachoth use physic modul time add anoth applicationmodul your gain anoth includ directori lead explos includ directori path applic modul framework path expans path lead compil slow path need search compil time find header combat build phase directori name buildheader_symlink creat applicationmodul header file within applicationmodul symlink directori mean applicationmodul add add _one_ includ directori instead greatli speed compil process uniti build within subdirectori underneath src directori typic moosebas applic find definit multipl closelyrel object c file instanc srckernel would like find kernel inherit kernelh howev compil file separ commonli done includ tree would found compil one file individu addit c file would creat separ file would ultim need link final librari applic differ idea compil file togeth provid consider save evalu includ ultim produc _one_ file link provid huge save compil time follow show time make j variou set applicationsmodulesframework falcon comput idaho nation laboratori plain see much time save use header symlink uniti build media mediaapplication_developmentfalcon_compile_speedpng stylewidthfloatrightmarginleftpx captioncompil speed falcon way achiev moos use idea uniti build uniti build compil multipl c file togeth creat c file includ c file moos happen directori call buildunity_src applic modul default behavior turn set moose_unityfals environ applic disabl perman put moose_un fals top makefil addit also keep uniti build individu directori within project default src srcbase uniti built gener contain mix object dont benefit built simultan add list set app_non_unity_dir variabl makefil includ appmk like app_non_unity_dir srccontribthird_party_cod srccontribother_non_unity_dir includ framework_dirappmk make sure prepend directori sign revis gener build process gener c header file contain repositori version inform use within applic header file gener default disabl set make variabl applic makefil must set appmk file includ gen_revis includ framework_dirappmk revis file contain version string git hash revis string contain detail inform tag inform note name app appear instead moos individu applic file autogener edit ifndef moose_revision_h defin moose_revision_h defin moose_revis git commit fabbafa defin moose_vers fabbafa endif moose_revision_h work moos build system moos use tri true unix standard build tool gnu makehttpswwwgnuorgsoftwaremak gnu autoconfhttpswwwgnuorgsoftwareautoconf tool ubiquit reliabl stabl mani build system believ usabl tool includ build process well runtim experi philosophi show way weve structur makefil build moosebas applic moos includ standard configur script chang select configur option moos find option librari necessari within moos libmesh find need add new librari new variabl best way learn look alreadi go alert note import rememb run configur moos complet option maintain statu quo chang develop workflow sinc moos histor configur script addit mean user build moosebas applic go framework directori run configur prior build applic build gnu autotool gener recommend instal gnu autotool packag manag reason differ version tool make drastic chang gener output libmesh solv problem distribut gnu autotool sourc build libmesh autotool simpli chang directori libmesh root normal mooselibmesh run bootstrap script build instal autotool libmesh contrib directori mooselibmeshcontribautotoolsbin youll probabl want add path path ad new cpreprocessor variabl mooseconfigh add new variabl mooseconfigh youll first want add variabl configureac use one variabl definit macro ac_defin youll run autohead follow autoconf ad new make variabl want add option depend moos isnt alreadi handl libmesh build system youll want like want use ac_subst macro ad appropri logic defin variabl youll edit conf_varmkin file note sinc moos doesnt use automak dont gener complet makefil run configur rather option includ conf_varmk normal makefil exist make run configur option step build moos moosebas applic file list frameworkconfigureac input file process autoconf creat configur script modifi file need rerun autoconf regener configur script defin new variabl eg ac_defin need run autohead autoconf frameworkincludebasemooseconfighin file autogener run autohead frameworkconf_varmkin file put new expans express typic form varaibl moosewrap app overview moos design coupl exist code rel straightforward process exist code rel modular may requir make intrus chang order get talk moos provid attract solut develop creat new code scratch may feasibl exist code contain capabl well outsid scope moos normal capabl page describ extens point direct creat new thin wrapper applic allow applic plug work exist moosebas moosewrap code wrap interfac hand interfac wrap exist code interfac enumer describ detail extern app object externalproblemexternalproblemmd object extern mesh object timestepp object option extern executionertransientmd object wrap interfac repres minimum set object need develop order coupl exist applic moosebas moosewrap applic howev sinc wrap app mooseapp normal moos system extend provid addit function capabl within combin simul exampl would includ new outputsoutputmd new postprocessorspostprocessormd new auxkernelsauxkernelmd etc better visual understand behavior combin simul extern app extern app normal mooseappmooseappmdderiv object get creat whenev develop creat stork new applic app object contain everi object simul provid necessari encapsul make multiapp system possibl part skeleton implement gener stork script suffici mani normal simul run howev two import method need implement complet fullycoupl multiapp function name backup restor method backup method return shared_ptr object contain backupbackupmd object extern applic object wrapper one binari blob contain state data extern applic ideal applic could restor complet intern state backup blob ask list mooseframeworkincludebasemooseapph rennnbackupn restor method complementari method backup method applic call backup object read use reconstruct state extern applic two method use moos framework resolv one step picard fixedpoint iter may taken tightli converg simul step list mooseframeworkincludebasemooseapph rennnrestoren externalproblemderiv object externalproblemexternalproblemmd object contain extra interfac function necessari creat maintain current solut inform externalmesh object specif externalproblem creat final overrid solv method trigger three differ callback syncsolutionsdirectionto_external_app externalsolv syncsolutionsdirectionfrom_external_app call sequenc ensur updatetod inform mesh pull extern applic use solv extern solv complet anoth callback send data back extern applic mesh made allow moos either read write field variabl externalmesh ensur accur updat date time addit nativ represent extern applic data externalmesh ensur addit code transfer inform among activ applic simul need written test verifi exampl sampl project transfer use two mesh discret without need write project oper custom made transfer would applic specif extern app target order moos understand variabl maintain externalmesh anoth overrid method creat call problem setup assist ad necessari auxvariablesauxvariablemd simul gener list variabl need specif coupl rel static howev develop may find conveni suppli vari list avail paramet normal problem construct list mooseframeworkincludeproblemsexternalproblemh rennnaddexternalvariablesn extern mesh idexternalmesh extern mesh moosen mesh hold geometri field inform extern applic extern mesh object moos framework extern mesh normal moosemeshmoosemeshmdderiv object must creat coupl applic hold geometr inform extern code coupl meshmeshderiv object main method must implement build method normal user must queri applic reconstruct geometri externalmesh media mediaapplication_developmentexternal_meshpng idexternal_mesh captionexternalmesh illustr timestepp object timestepp system moos design allow full control time step select without requir user implement complex detail transient execut strategi mani type coupl develop consid start custom timestepp object tie extern applic moos togeth timestepp object work concert externalproblem execut solver step extern applic simplifi call sequenc look like timestepperprestep timesteppercomputedt externalproblemexternalsolv timestepperconverg timestepperpoststep call overridden creation two new deriv object enough flexibl function coupl mani extern applic extern execution coupl develop requir ultim flexibl transienttransientmd execution extend overrid exist simul execut behavior would potenti allow develop replac almost everi part execut control coupl simul howev small number api overridden littl impact moos behavior see transient execution detail code coverag alert construct place holder train materi detail ad soon perform benchmark util perform benchmark moosebas applic includ main moos repositori util provid function benchmark track moos perform use run benchmark gener trend visual look stat compar benchark variou revis follow section describ setup benchmark machin use run benchmark visual result tune benchmark machin order obtain accur result need run benchmark process close isol possibl linux system eg use cpu isol via set kernel boot paramet text isolcpusn rcu_nocbsn boot loader eg grub benchmark toolsscript moos automat detect cpu isol linux schedul benchmark job cpu also disabl turbo function exampl intel_pst driver cpu text echo sysdevicessystemcpuintel_pstateno_turbo also want turn hyperthread core use benchmark bio someth like text echo sysdevicessystemcpucpunonlin hyperthread core want run look proccpuinfo pair cpu core id turn one pair need done everi boot use sysfsutil packag etcsysfsconf configur file persist boot ie text devicessystemcpuintel_pstateno_turbo devicessystemcpucpuonlin devicessystemcpucpuonlin test har benchmark benchmark run test har ie use run_test script eg run_test run speedtest done test har look test spec file name speedtest like test file contain regular moos test detail format file text benchmark benchmarknam type speedtest input inputfilenamei cli_arg anarg ahitformatcliargfoo option min_run default max_run default cumulative_dur default sec benchmarknam type speedtest input anotherinputfilenamei cli_arg somecliargbar run benchmark data store sqlite databas default name speedtestssqlit test har run without run speedtest flag test describ speedtest file run checkonli mode moos check input file wellform pars correctli without actual run manualdirect benchmark moosereposcriptsbenchmarkpi script use manual list directli run benchmark without test har hack debug etc script read benchlist text file specifi input file run correspond benchmark name along option argument benchlist file follow format text benchmark simple_diffusion_refin binari testmoose_testopt input testtestskernelssimple_diffusionsimple_diffusioni cli_arg meshuniform_refin simple_diffusion_refin binari testmoose_testopt input testtestskernelssimple_diffusionsimple_diffusioni cli_arg meshuniform_refin simple_diffusion_ref binari testmoose_testopt input testtestskernelssimple_diffusionsimple_diffusioni cli_arg meshuniform_refin add mani want run manual benchmark directli text scriptsbenchmarkpi run benchmark run binari specifi benchlist must alreadi exist benchmark data store sqlite databas default name speedtestssqlit specifi minimum number run benchmark problemsimul minrun default benchmark run mani time possibl within minut customiz via cumdur flag specifi minimum number time whichev larger analyz result regardless ran benchmark either script use test har moos revis avail benchmark data list databas run text benchmarkpi listrev dfbdcfceaaeccbbf ceddccbdcfbcccdcdef bfededaedefdb look stat compar benchmark data two revis run text benchmarkpi default use recent two revis benchmark data cc bbfebef benchmark old secrun new secrun speedup pvaluensampl simpl diffus refin p n simpl diffus refin p n simpl diffus refin p n benchmarkpi old df new b specifi revis compar manual df b benchmark old secrun new secrun speedup pvaluensampl simpl diffus refin p n simpl diffus refin p n simpl diffus refin p n gener visual run text scriptsbenchmarkpi trend gener svg box plot benchmark timerevis trend subdirectori indexhtml file also gener emb svg plot conveni view togeth browser relationship manag relationshipmanagermd jacobian definit use automat differenti nonlinearsystemmdad tradit handcod jacobian nonlinearsystemmdhand_coded_jac moos document stub remov line content ad modul block applic usag document page aid run moosebas applic develop moosebas applic see applic developmentapplication_developmentindexmd commandlin optionscommand_line_usagemd use commandlin option moosebas applic mesh block typemesh_block_typemd input file syntaxinput_syntaxmd peacockpeacockmd graphic user interfac result visual track appstracked_appsmd list applic develop troubleshoot fail solvesfailed_solvesmd restart recoveryrestart_recovermd restart recov definit restart run simul use data previou simul data context broad mean spatial field data nonspati variabl postprocessor state object data usual previou new simul use differ input file recov resum exist simul either due fault prematur termin solut file mesh format contain field data addit mesh ie normal output file checkpoint snapshot simul data includ mesh solut state object data typic one checkpoint store sever differ file n n restart context mean number processor previou current simul must match n restart context differ number processor may use previou current simul variabl initi method best suit restart simul mesh previou simul exactli match mesh current simul initi condit need set one variabl method requir valid solut file moos support n restart use method puppet mesh moos support read field data exodusii xdaxdr mesh checkpoint file e xda xdr cp file previous method restart support serial mesh distribut serial variabl nodal famili lagrang order first initial_from_file_var nodal initial_from_file_timestep auxvari element famili monomi order constant initial_from_file_var element initial_from_file_timestep enabl checkpoint advanc restart moos requir checkpoint file enabl automat checkpoint use default option everi time step keep last two simul simpli add follow flag input file puppet output checkpoint true need control checkpoint system creat subblock input file allow chang file format suffix frequenc output number checkpoint file keep etc complet list see doxygen page checkpoint alway set num_fil least minim chanc end corrupt restart file puppet output my_checkpoint type checkpoint num_fil interv advanc restart method best suit situat mesh previou simul current simul match variabl reload state data restor support modifi variabl support dt time_step default moos automat use last valu found checkpoint file n n restart support use method puppet mesh serial number match correspond execution paramet file out_cp_meshcpr method restart support serial mesh distribut serial problem note suffix left paramet restart_file_bas out_cplatest may also use specif number reload data possibl load project data onto differ mesh solut file usual initi condit new simul moos fulli support use solutionuserobjectsolutionuserobjectmd recov simul termin due fault recov simpli use th recov cli flag requir checkpoint file multiapp restart run multiapp simul need enabl checkpoint output sub app input file master app store restart data sub app file inform multiapp restartrecov found multiappssyntaxmultiappsindexmd time control restart start_tim continu previou simul overridden restart paramet omit input file default continu previou simul suppli paramet input file new simul begin suppli time track app moos design buid custom applic follow communiy driven list applic purpos list two fold everi moosebas applic librari thu natur creat new applic exist code moos developp strive keep applicatio uptod major chang occur list indic developp consid applic opensourc applic pikahttpsgithubcomidaholabpika phasefield model microstructur evolut ice hognosehttpsgithubcomshortlabhognos casl mesoscal corrosionoxid code mambahttpsgithubcomshortlabmamba casl code boil heat transfer chemistri porou media hyraxhttpsgithubcomumthorntongrouphyrax zirconium hydrid precipit growth lwr nuclear fuel clad ferrethttpsbitbucketorgmesoscienceferretgit kernel implement timedepend landauginzburg theori phase transit simul ferroelectr materi grimehttpsgithubcomshortlabgrim grand radiat inform microstructur evolv coupl spatial depend radiat damag microstructur evolut gardensnakehttpsgithubcomfriedmudgardensnak nodal neutron diffus code develop mit zapdoshttpsgithubcomshannonlabzapdo low temperatur plasma simul moltreshttpsgithubcomarfcmoltr molten salt reactor simul dgospreyhttpsgithubcomaladshawdgosprey discontinu galerkin offga separ recoveri model joint develop inl git dendragapushttpsgithubcomjaronsdendragapu applic explor modif picard iter slughttpsgithubcomadamlangeslug hyperloop air bear simul tool redbackhttpsgithubcompouredback rock mechan dissip thermohydromechanicalchem feedback joint develop csiro unsw australia idaho nation laboratori applic pleas contact moos discuss forumhelpcontact_usmd interest use one applic marmot nuclear materi phase field mechan applic rattlesnak fem diffus sn pn code bison flagship fuel perform code relap next gener nuclear reactor system safeti analysi code pronghorn transient prismat pebbl bed reactor analysi code mammoth reactor physic applic yak common object librari inl particl transport code osprey offga separ recoveryy dispers plug flow pack bed bighorn compress fluid dynam code privat app hognosedevhttpsgithubcomshortlabhognosedev develop privat repo hognos mambadevhttpsgithubcomshortlabmambadev develop privat repo mamba grimedevhttpsgithubcomshortlabgrimedev develop privat repo grime troubleshoot fail solv solv converg ie exceed maximum number nonlinear iter max_nl_it time step get cut occur eventu reach minimum time step solv fail time step time dt e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e solv converg time step time dt e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e solv converg error solv fail timestep alreadi dtmin continu solv may fail variou reason small initi toler run simul specif time step initi toler begin small e solv fail simpli nl_rel_tol would forc te residu small reach initi residu set preset bc e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e nonlinear r e solv converg may close steadyst regim previou solut close current solut case set nl_abs_tol fix problem bad linear converg specif time step linear iter drop take mani linear iter reach l_tol may never reach l_tol hit l_max_hit precondition work problem initi residu set preset bc nonlinear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e nonlinear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e linear r e solv converg case like requir mani nonlinear iter well reason linear iter dont drop could due miss term error jacobian way appli precondition petsc good problem make sure jacobian correct add offdiagon term multivari problem addit possibl reason poor linear solv problem poorli condit diagnos combat illcondit system pleas see nonlinearsystembasemdsc bad nonlinear converg linear iter drop fine take lot nonlinear iter problem nonlinear hard solv case decreas time step howev multivari problem two residu may differ magnitud make system hard solv print nonlinear residu use debug block check rel magnitud end solv order magnitud use scale paramet variabl block scale smaller variabl peacock peacock graphic front end moos input file syntax peacock allow user build modifi input file execut applic view result within one packag environ ad peacock yout path allow launch applic test directori peacock search filesystem directori tree find applic obviat need th specifi applic argument simplifi peacock usag add peacock yo path assum moose_dir locat git clone navig moose_dirpythonpeacock directori type pwd whatev print path peacock next add follow end bash_profil macintosh bashrc ubuntu file bash export pathpwdpath pwd print previou step note space around equal sign line usag follow exampl assum ad peacock path gener usag follow bash cd projectsyour applic directori peacock peacock search upward current directori attempt find applic execut syntax gather an present input syntax specif applic bash cd projectstrunkyour applic directoryyour test directori peacock your_input_filei peacock attempt find applic execut input file tab popul inform your_input_filei alert warn use sudo run peacock alertend input file tab input file tab showm allow creat edit input file automaticali load input file pass argument commandlin use open button input file tab media large_mediapeacockinput_file_with_text_no_alphapng stylewidth peacock open present tree view left side tab tree view repres input file syntax avail current applic launch peacock input file tree alreadi popul block paramet input file click littl arrow next item expandcontract part tree item blue rightclick bring menu add someth part input file instanc add kernel input file would rightclick kernel click add popup menu click add new window open allow specifi paramet kernel want add see paramet editor section item black doubleclick edit paramet instanc edit mesh section doubleclick mesh item paramet editor open see paramet editor section possibl tree view includ deactiv item delet item activ deactiv item ie addremov activ list input file simpli checkuncheck check box next deactiv whole section remov section input file delet item simpli rightclick click delet option popup menu use applic mesh section modifi mesh section use exodu mesh gener mesh caus view mesh appear righthand side input file tab see pictur freeli rotat leftbuttondrag pan middlebuttondrag shiftleftbuttondrag zoom rightbuttondrag view mesh turn draw mesh ie element edg locat window dropdown menu select block sideset nodeset would like highlight select one region turn red view geometri go wirefram mode click clear button clear highlight select anoth way highlight piec mesh select item tree view select boundarycondit item instanc sideset nodeset boundari condit appli automat highlight window appli item restrict particular block mesh final thing mesh view activ clip clip allow move plane mesh slice see insid view actual textbas input file gener current statu tree view click hold slider extrem right side window pull left uncov input file view edit window simpli display choic youv made tree view final would like save current input file click save button input filenam note suffix automat ad provid want unnecessari paramet editor iput file tab activ doubleclick edit item rightclick select add item tree view caus paramet editor window shown open window choos type item ad edit ther paramet object media large_mediapeacockparam_editor_with_text_no_alphapng stylewidth select type first thing youll want paramet editor window use larg dropdown menu top select type object edit note sometim option asterisk shown ad variabl paramet tabl select type paramet tabl fill possibl paramet object includ name valu option descript comment associ paramet let talk one column detail name name paramet ie thing left side textbas input file normal edit name set paramet paramet requir background name color orang see imag valu initi fill default valu current valu edit exist item paramet need edit chang valu paramet note boolean paramet dropdown menu column select truefals vector paramet _not_ need suppli singl quot around spacesepar valu ok unnecessari option peacock understand paramet provid help option valu paramet might someth show option column paramet mani paramet variabl name dropdown menu contain name item input file column select someth dropdown menu insert valu valu column paramet vector type ie input file would gener put valu paramet singl quot select thing option column append valu column paramet type vector select option column gener overwrit exist valu valu column option column use contextsensit purpos well instanc filenam paramet button open file present option column click button allow select file system path file insert valu column futur applic abl custom behavior option column make peacock perform exactli wish user comment comment column allow add comment associ paramet comment save input file use save button input file tab note use comment charact automat insert peacock open input file inlin comment paramet comment shown automat column block comment paramet tabl block comment box text enter box display comment begin block question see equival input file text imag use newlin creat multilin comment comment charact requir automat insert peacock applyadd button button bottom left either show appli add depend wheter edit ad item click button save chang new paramet button new paramet button add new row paramet tabl fill name valu cell new row add new paramet need add new paramet often button exist rare case peacock know valid paramet object occur certain circumst involv custom action cancel button close window without save chang click close button peacock window execut tab execut tab shown allow run current applic input input filw tab dont need save input file first edit appropri field input file tab go execut tab click run media large_mediapeacockexecute_with_text_no_alphapng stylewidth mpi thread allow run parallel use combin distribut share memori parallel leav box blank want run serial option allow suppli commandlin option simpli append commandlin pass petscspecifi option like unix command line run button begin execut applic input current defin input file tab enabl postprocessor csv checkbox enabl default caus comma separ valu csv file written postprocessor valu csv file necessari postprocessor plot tab function log box show output execut applic work similarli consol output termin window scroll way bottom continu display output current execut run scroll text window stop display new output even though new output continu ad bottom log kill stop current run job clear log clear text log box save log save current text file use provid extra inform ticketsissu postprocess tab postprocess tab pictur allow plot postprocessor valu live code execut larg dropdown menu top contain list current avail postprocessor check one block plot postprocessor appear plot updat automat new inform becom avail current run plot rightclick display addit option save plot file chang plot color clear button clear current plot media large_mediapeacockpostprocess_with_text_no_alphapng stylewidth visual tab visual tab pictur like mini paraview allow view result calcul live code execut start simul execut tab result automat start show visual tab visual tab intend replac paraview ensight visit fullyfeatur visual tool instead peacock visual capabl basic set function use simul run quickli check statu simul new visual capabl may ad peacock time gener user reli one tool mention previous advanc visual need media large_mediapeacockvisualize_with_text_no_alphapng stylewidth result view main view tab view result leftclick drag rotat result rightclick drag zoom middleclick an drag shiftleftclick pan show block checkuncheck block showhid result view contour allow color result variabl dropdown menu top left allow select variabl variabl vector valu ie sequenc variabl name end _x _y _z dropdown menu enabl allow select either particular compon magnitud vector use color minmax section visual tab legend minimum maximum current two differ option current custom set current minmax updat automat minmax current select time step option text box allow manual input custom min max valu edit custom valu press enter key use valu option select contour section store peacock set minmax custom valu valu rememb even select differ variabl come back one contour option includ variabl select maintain run run view mesh show element edg mesh displac displac vector detect gener variabl name disp_x disp_i disp_z box select enabl movement mesh node displac vector multipli box allow magnifi displac scalar valu enter number press enter use new valu reset view center result result view time time box allow select time step view time slider grab move left right go back forth time text box right side show current select time step number edit box press enter jump particular time step time slider work similarli scroll unix termin peacock execut tab slider way right new time step display automat written move slider left time step remain fix new result simpli append slide slider back right reattach incom result vcr control give abil step time step move begin end play button go time step loop button start play first timestep end reach note play loop mode new time step result produc automat ad end list time step time anim includ recent result automat clip turn clip mode see insid result slider allow move clip plane back forth model dropbox select direct normal vector point clip plane peacock usag via hpc cluster peacock use cluster support xforward pb interact job exampl run bash ssh x flogin modul load pb qsub x lselectncpusmemgb lwalltim modul load vtk cd projectsyour applic python moosepythonpeacockpeacock troubleshoot peacock fail launch first tri follow step updat moos clone clean pyc file moos pythonpeacock directori run peacock get follow error bash importerror modul name vtk either dont vtk instal instal correctli use moos redistribut packag includ vtk care compil commandlin usag commandlin option moosebas applic come quit commandlin option custom applic ad command line paramet mooseapp deriv object commandlin option set use either short syntax inputfilei longer syntax either longopt valu longoptionvalu space need valu need quot like longoptionvalu valu use import put space around print avail commandlin option use help exampl moosetest look like moose_testopt help usag moose_testopt option option checkinput check input file ie requir filenam quit color autoonoff whether use color consol output default definit show son style input definit dump input valid disallowtestobject dont regist test object syntax v version print applic version distributedmesh libmesh mesh underli moosemesh alway distributedmesh dump search_str show dump avail input file syntax error turn warn error errordeprec turn deprec code messag error erroroverrid error encount overridden paramet suppli multipl time e errorunus error encount unus input file option halftransi true simul run half specifi transient ie half timestep use test recoveri restart h help display cli usag statement input_fil specifi input file json dump input file syntax json format keepcout keep standard output processor run parallel listconstructedobject list moos object type name construct master app factori meshonli mesh_file_nam setup output input mesh default input_file_name_in minim ignor input file build minim applic transient execution nthreadsn run specifi number thread per process nocolor disabl color consol output notim disabl perform log overrid time pass conjunct flag notrapfp disabl float point except handl critic section code use debug mode recov file_bas continu calcul file_bas omit recent recoveri file util recoversuffix suffix use differ file extens cpr recoveri file redirectstdout keep standard output processor run parallel r n specifi addit initi uniform refin automat scale registri list known object action registryhit list known object action hit format showcontrol show control logic avail execut showinput show pars input file run simul showoutput show output execut time inform splitfil filenam option name split mesh file writeread splitmesh split commasepar list number chunk split mesh syntax dump associ action syntax path time enabl perform log time purpos disabl screen output perform log consol object trapfp enabl float point except handl critic section code enabl automat debug mode usesplit use split distribut mesh file w warnunus warn unus input file option yaml dump input file syntax yaml format solver option see solver manual detail petsc trilino import option import commandlin option awar import option specifi input file read like yourappopt inputi alway import cd directori input file rel path within input file treat properli dump dump show avail input file syntax applic quit overwhelm dump option take argument piec syntax search like yourappopt dump somekernel would show document object match somekernel recov output checkpoint file use checkpoint true output block input file recov allow continu solv die middl solv allow recov job kill power went job ran time cluster use must turn checkpoint true output block input file work recommend input file contain checkpoint true nthread nthread control number thread per mpi process moos use comput turn sharedmemori parallel mesh split option inform see split document mesh systemsplittingmd commandlin input file overrid input file paramet overridenset commandlin incred handi script paramet studi way work use directori type syntax let say kernel block input file conf kernel akernel type mykernel variabl somevar coeffici set valu coeffici commandlin would run applic like yourappopt theinputi kernelsakernelcoeffici import rememb use space commandlin overrid like input file syntax moos input file syntax basic work like comment section inlinecom field quotedstr field quotedstr field multilin string field unquoted_str cant whitespac field integ field float point number field true boolean fals case insensit field item item item array item string number field item item item item item doubl index array even jag subsect foo close subsect another_subsect close section also allow deprec another_sect brace express brace express allow assign computedcalcul valu field input file brace express follow syntax cmd arg arg argument whitespac delimit allow brace express brace express appear field valu either unquot quot ie insid stringvalu moos current five builtin braceexpress command replac varnam look paramet varnam input file search current scope look consecut parent scope one exist substitut valu replac express raw arg concaten argument valu interven space env varnam evalu name environ variabl fpars arg take function parser math expressionhttpwarppovusersorgfunctionparserfparserhtmlliter refer field current input file evalu function parser variabl referenc inputfil field look use procedur replac command unit arg unit to_unit take argument arg physic unit unit convert unit to_unit use mooseunitutilsunitsmd system exampl express unit jmol evat would evalu valu e to_unit argument option result noop serv document purpos unit jmol would evalu valu exampl foo foo section num bar replac raw foo num becom bar raw foo num shortcut express becom section num bar raw foo num becom fpars sectionbar foo foo becom import detail braceexpress evalu brace express evalu inputfil order ie lexic order top bottom input file brace express must depend field valu use brace express occur later input file although depend field valu without brace express occur later input file nest brace express evalu deepli nest outward singl field valu allow multipl brace express field valu present quot string eg foo bla bla evalu left right argument braceexpress beyond cmd eg foo replac command impli eg foo mean replac foo overrid input paramet command line see commandlinemd object inform input paramet chang command line mesh creat mesh complic geometri gener use cubit sandia nation laboratori cubit licens csimsoft fee depend type organ work mesh gener work long output file format libmesh read next section specif mesh format like take look ad support libmesh filemesh filemesh default type moos support read write larg number format could extend read extens descript dat tecplot ascii filehttpspeoplescfsuedujburkardtdatatectechtml e exd sandia exodusii formathttpsnalureadthedocsioenlatestsourceusernalu_runnalu_meshhtml fro acdl surfac triangul filehttpswwwreviversoftcomfileextensionsfro gmv lanl gmv gener mesh viewer formatwwwgeneralmeshviewercom mat matlab triangular ascii filehttpswwwreviversoftcomfileextensionsmat read msh gmsh ascii filehttpwwwmanpagezcominfogmshgmshgmsh_php n nem sandia nemesi formathttpsgsjaardemagithubioseaca plt tecplot binari filehttphomeustceducncbq_data_format_guidepdf write node ele poli tetgen ascii filehttpwiasberlindesoftwaretetgendocmanualmanualhtml read write inp abaqu inp formathttpswwwsharcnetcasoftwareabaqusdocumentationdocsvbooksusbdefaulthtmstartatptchsaushtml read ucd avss ascii ucd formathttppeoplescfsuedujburkardtdataucducdhtml unv idea univers formathttpsknowledgeautodeskcomsupportmoldflowinsightlearnexplorecaascloudhelpcloudhelpenumoldflowinsightfilesguidffdceedfeecfhtmhtml xda xdr libmesh formatshttpssourceforgenetplibmeshmailmanattachmentadacbcbbbaaafjscmailjscnasagov vtk pvtu visual toolkithttpswwwvtkorgwpcontentuploadsfileformatspdf generatedmesh type generatedmesh builtin mesh gener implement line rectangl rectangular prism box could extend side name logic way number left right bottom right top left back bottom right top left front length width height domain number element direct specifi independ name entiti support humanread name assign block sideset nodeset name automat read use throughout input file typic done insid cubit paramet take entiti id input file accept either number name name also assign id onthefli exist mesh eas input file mainten see exampl onthefli name also written exodusxdaxdr file illustr mesh exodu file format puppet mesh file three_block name appli fli mesh use input file addit written output file block_id block_nam wood steel copper boundary_id boundary_nam left right exampl name support illustr mesh unv file format name block boundari puppet mesh file three_blockunv name wood steel copper left right gener via salom softwar unv mesh read directli moos illustr comment number block_id block_nam wood steel copper boundary_id boundary_nam left right bc left_bc temperatur left edg fix k type dirichletbc preset true variabl boundari boundari left valu right_x temperatur right sideset fix k type dirichletbc variabl boundari boundari right valu illustr mesh unv file format requir onthefli name block boundari moos input file puppet mesh file three_blockunv number verifi unv mesh format repres particular block boundari geometri random bc id written highlight role verif within file number obtain mesh block_id block_nam wood steel copper boundary_id boundary_nam left right bc left_bc temperatur left edg fix k type dirichletbc preset true variabl boundari boundari left valu right_x temperatur right sideset fix k type dirichletbc variabl boundari boundari right valu parallel mesh use mesh data structur domin memori usag piec mesh own processor n actual store processor n mesh larg read singl processor split prior simul copi mesh larg memori machin use tool split mesh n piec seaca loadbal copi piec work directori cluster use nemesi reader read mesh use n processor displac mesh calcul take place either initi mesh configur request displac configur enabl displac provid vector displac variabl name spatial dimens section eg text displac disp_x disp_i disp_z enabl paramet set individu mooseobject enabl use displac coordin calcul cpp inputparamet somekernelvalidparam inputparamet param kernelvalidparam paramssetbooluse_displaced_mesh true return param also set input file good idea code pure lagrangian formul framework develop articl attach page use intend contribut moos reposistori inform repositori structur code standard test softwar qualiti avail new git weve creat inform get run well develop moosebas applic see applic developmentapplication_developmentindexmd overview contribut contributingframeworkcontributingmd patch becom codeframeworkpatch_to_codemd code standardssqaframework_scsmd format code goe framework git tip gitgitmd revis control system use document doxygenhttpwwwmooseframeworkorgdocsdoxygenmooseclasseshtml sourc code documentationsourceindexmd exacttru syntax documentationsyntaxindexmd build statu automat metric build statu externalhttpscivetinlgov build statu internalhttpsmoosebuildhpcinlgov code coveragehttpmooseframeworkorgdocscoverageframework test timinghttpmooseframeworkorgdocstim moos interfac interfacesframework_developmentinterfacesindexmd baseclass allow crosscut data retriev utilti perfgraphmd time section code moos mooseutil namespacemooseutilsmd basic util use throughout framework utilsutilsindexmd basic util use throughout framework system integr checkingsanity_checkingmd pars system integr check intern system moosevariablesmoose_variablesmd set object comput hold variablefield valu warehouseswarehousesmd object store dynam built moos object kernel bc etc code standardssqaframework_scsmd taggingtaggingmd build system work moos build systembuild_systemmd third parti librari third parti librari listsqalibrary_requirementsmd moos variabl system documentationmoosevariablebasemd warehous warehous object base mooseobjectwarehousebasehttpsgithubcomidaholabmooseblobdevelframeworkincludebasemooseobjectwarehousebaseh moos hold onto object built factori templat hold type object factori build main purpos acceler retriev set object need assembl end mani accessor getactiveobject intern set object cach make retriev quick thewarehous work current undertaken migrat moos use new warehous architectur userobject alreadi migrat new architectur singl warehous instanc thewarehous object queri made thewarehous class hold manag memori mooseobject allow flexibl queri select subset object thewarehous store customiz metadata object queri oper gener metadata treat static updat object ad result cach reus repeat ident queri inform api usag see doxygen document herehttpmooseframeworkorgdocsdoxygenmooseclassauxgroupexecutemooseobjectwarehousehtml mooseobjectwarehous mooseobjectwarehousehttpsgithubcomidaholabmooseblobdevelframeworkincludebasemooseobjectwarehouseh base mooseobjectwarehousebas add import function object support setupinterfacehttpsgithubcomidaholabmooseblobdevelframeworkincludebasesetupinterfaceh addit bit function hold set kernel go moosevari make retriev quick jacobian calcul tricki addobject support getactivevariableblockobject want warehous variabl kernel act nest mooseobjectwarehous add addobject howev need recurs stop one level pass recurs fals keep recurs death depend resolut git git free open sourc distribut track system gitscmcomhttpsgitscmcom power sourcecontrol tool power multius featur eas creat work multipl branch enabl pullrequest model develop use github sever gitbas host site develop code part job student reasearch take time learn littl bit git page provid tip moos team learn year meant beginn tutori git tutori resourc learn resourceshttpshelpgithubcomarticlesgitandgithublearningresourc download singl pr github want tri somebodi els code alway add new remot pull repositori lot howev might find huge number remot dont realli care better way httpshelpgithubcomarticlescheckingoutpullrequestslocallyhttpshelpgithubcomarticlescheckingoutpullrequestsloc git complet enabl bash complet git tabcomplet git co git br command download git_completionshhttpmooseframeworkorgstaticmediauploadsfilesgit_completionsh home directori append follow line end bash_profil bashrc bash sourc git_completionsh would like name current branch prompt download git_promptshhttpmooseframeworkorgstaticmediauploadsfilesgit_promptsh home directori append follow line end bash_profil bashrc bash sourc git_promptsh export ps__git_p assum prompt ad line bash_profil caus look like master whenev cd directori contain git repo master branch check git config first time tri commit git new machin itll like complain doesnt know tell set name email address run command hidden file creat home directori call gitconfig file custom make use git easier learn way around start might tri shorten longer command dont type time might also turn color especi work command line day suggest get start mani option ad gitconfighttpsgitscmcomdocsgitconfig user name name email email address color diff auto statu auto branch auto interact auto ui true pager true alia co checkout di diff st statu ci commit stat statu br branch tag system finit element calcul element need comput physic map refer element physic element basi function deriv basi materi element relat inform comput may expens becom even wors multipl global vectorsmatric need fill everi singl element visit multipl time basic idea tag system resolv challeng issu tag system everi element visit visit kernel correspond pde oper evalu local element residualmatrix current kernel addedinsertedcach multipl target global vectorsmatric kernel contribut multipl global vectorsmatric vectormatrix current kernel contribut implement assign tag multipl tag assign kernel calcul accumul local contribut multipl matricesvector simultan design kernellik object anyth comput residu jacobian inherit tagginginterfacetagginginterfacemd assign differ tag paramet vector_tag matrix_tag multipl local residualsmatric assembl assembl object global counterpart use nonlinearsystem feproblem data flow shown follow media mediaframeworktaggingtagging_flow_chartpng stylewidthpaddingleftpxfloatright captiontag flow chart kernel store multipl copi local residualmatrix copi ad global vector matric moos perform sever saniti check pars input file command line paramet object simul construct sever class error cover pars hit formerli getpot syntax strict fairli easi use understand syntax consist nest block delini squar bracket namevalu pair use set paramet throughout system token rule fairli loos token allow letter number underscor notabl space may occur insid section name paramet name parser run sever differ kind error detect syntax error miss bracket lack close section mismatch quot singl doubl etc semant error incorrect type number instead string incorrect moos type etc miss incorrect paramet moos report error requir paramet miss moos also report warn unknown mispel paramet suppli use develop use paramerror paramwarn creat error messag relat input file paramet param type error use parser gener line number inform offend problemat paramet simul saniti check moos perform sever saniti check simul run includ sever differ kind check block must activ kernel part pde consum materi properti must suppli check subdomain boundari specifi block boundari must exist mesh activ inact section input must exist invalid object type flag invalid coupl paramet must refer valid variabl function must refer valid function must pars valid function express postprocessor must refer valid postprocessor input file system coupl paramet check valid pluggabl system must refer right type variabl scalar vector array nonlinear auxiliari etc materi properti must defin everi block boundari consum multipl materi properti name defin overlap blocksboundari check disabl often come handi test purpos one common pair paramet use test use disabl kernel coverag check solv necessari disabl kernel coverag check skip solv system problem kernel_coverage_check fals solv fals util moos contain object provid util function may use simplifi calcul sever primari system exampl util includ interpol object function fit object file reader tensor object etc object document formattedtablemd inputparametersmd mathutilsmd formattedt formattedt object gener purpos util hold tabl data typic use hold postprocessorsyntaxpostprocessorsindexmd valu scalar variabl produc scalarkernelsscalarkernelsindexmd provid sever use util display data effici output data exampl output time num_dof e e e e e e number row display tabl control consol paramet max_row default output consol type consol max_row maximum number row display tabl show max_row recent row tabl indic row omit sideway ellipsi top tabl eg time num_dof e e e e e e e e e e e e e e e e e e e e control tabl width formattedt object also respect maximum width paramet run serial tabl read width termin break tabl multipl piec better readabl unfortun termin width paramet avail run mpi batch mode typic run cluster tabl width also control set environ variabl moose_pps_width desir width charact file output formattedt write csv file nativ effici one process attempt open output specifi csv file tabl object also cach filehandl sever write file incur cost open close file data alreadi output output command write data file reduc io overhead final object implement templat datastoredataload routin restart awar use moos restart system normal use within moos sever instanc formattedt exist insid tableoutputtableoutputmd object declar restart data mean append exist file moos run recov mode two main interfac one use interact formattedt object simpl interfac call overload adddata method take independ variabl time add individu valu tabl specif locat list frameworkincludeutilsformattedtableh revoidsadddatatim reflagsreu advanc interfac insert new row follow specif row valu without independ variabl list frameworkincludeutilsformattedtableh lineaddrow list frameworkincludeutilsformattedtableh revoidsadddatavalu reflagsreu interfac derivativematerialinterfacematerialsderivativematerialinterfacemd coupleableinterfacescoupleablemd setupinterfac execute_oninterfacessetupinterfacemd tagginginterfaceinterfacestagginginterfacemd moos python tool moos code written c everyth around support written python pythonpackag list toolsscript develop python distribut moos pythonsourceindexmd link sourc code document tabl idpythonpackag tool descript testharnessmd tool test applic work correctli code develop memory_loggermd tool gather memori usag run process csvdiffmd tool comput differ comma separ valu csv file pythonmmsmd util verifi solv method manufactur solut free_energypycalphad_free_energiesmd tool extract moos pars function express thermodynam databas file moosetreemoosetreeindexmd tool build search tree structur pyhitpyhitindexmd tool read write manipul moos input file combine_csvmd tool combin csv file togeth moosesqaindexmd tool manag sqa document reporterreadermd tool read jsonjsonoutputmd output reporterreportersindexmd data setup moos includ variou python packag within python directori order use packag python directori must made avail interpret accomplish set pythonpath environ variabl follow set command line insert bash environ bash export pythonpathpythonpathprojectsmoosepython combin csv moos abl output vector postprocessor comma separ valu csv file also gener csv file input output moos creat combin csv simpl tool combin csv file one file combin csv abl output combin csv file bilinear format may directli use moos eg piecewisebilinearmd input file requir specif format name basenam follow four digit code repres timestep number csv extens time file replac four digit code timecsv simpl exampl file name text basename_pattern_csv basename_pattern_csv basename_pattern_csv basename_pattern_timecsv standard usag combin csv command line script combine_csvpi display command line option help descript text combine_csvpi h nonbilinear format output singl csv file timestep number time timecsv file provid option use column header written w row valu order found input file x variabl name provid x first column valu bilinear usag output csv file bilinear format requir command line option b w also usual use timecsv file defin time correspond timestep number typic command line execut text combine_csvpi basename_pattern_ out_fil x x_name y_name w b bilinear output format transpos standard output data first column header also omit output error messag error messag put python except handl method initi error directli creat specif error combin csv messag identifi error went wrong usual produc wrong command line argument csvdiff tool suppli csvdiff tool csvdiffpi provid testhar capabl perform differenti comma separ valu csv file basic usag simplest behavior perform differenti two csv file b requir follow syntax csvdiffpi b two file program state exit return code exampl echo e xn tee b moosescriptscsvdiffpi b file echo detect differ state exit nonzero error code exampl echo e xn echo e xn b moosescriptscsvdiffpi b file b valu column x dont match rel diff e echo extend usag csvdiff tool use test specif field specif error toler also made detect perform differenti valu test certain threshold floor zero featur use direct argument csvdiffpi use comparison file syntax csvdiffpi csv_file csv_file addit argument alert note alway specifi two file wish perform differenti option argument valu help summari csv_file creat comparison file base csv file comparisonfil c comparison file use specifi comparison file perform differenti ignorefield str list space separ field ignor perform differenti difffield str list space separ field includ perform differenti abszero str float scientif notiat float valu repres zero floor valu lower amount consid zero default e relativetoler str float float scientif notat valu repres accept degre toler two oppos valu float comparison fall within toler consid number default e customcolumn str space separ list custom field id compar customabszero str float space separ list scientif notat float absolut zero correspond valu customcolum customrelerr str float space separ list scientif notat float rel toler correspond valu customcolum comparison file use comparison file ideal need adjust complex set field toler would make long confus command line argument csvdiff tool gener comparison file use set argument quickli gener comparison file run csvdiff tool appropri summari csv_file argument follow exampl use echo creat simpl csv file instruct csvdiffpi creat comparison file csv file redirect output file name acmp echo e xn moosescriptscsvdiffpi sumari acmp cat acmp time step rel floor min max global variabl rel e floor e x min e max e edit file modifi key section control toler instruct csvdiff ignor entir field togeth time step field special header current use present futur capabl yet ad csvdiff tool global variabl field allow chang toler everi field present csv file two key paramet rel floor modifi one valu immedi follow paramet suit need also modifi toler individu field case exampl x field csv file adjust field toler valu add paramet directli proceed x label time step rel floor min max global variabl rel e floor e x rel e min e max e chang noth rel error valu ad global rel error valu also add rel floor toler line well comment logic statement global variabl rel e floor e loosen toler x x floor e rel e run differenti test field z ad comment loosen floor error toler field x field ignor entir z field left alon end use global valu set forth global variabl header line real exampl consid follow two csv file file xyz file b yzx alert note purpos alter field header demonstr csvdiff capabl correctli map field label two file run csvdiffpi b see small differ e field time step simpli put row bit default global toler allow moosescriptscsvdiffpi b file b valu column dont match rel diff e creat comparison file set forth new toler allow two file consid ident start creat comparison file use file moosescriptscsvdiffpi summari acmp follow exampl chang would allow file consid ident loosen error toler time step rel floor min max global variabl rel e floor e rel e min e max e x min e max e z min e max e rais floor toler time step rel floor min max global variabl rel e floor e floor e min e max e x min e max e z min e max e ignor field includ statement time step rel floor min max global variabl rel e floor e min e max e x min e max e z min e max e remov offend field comparison file time step rel floor min max global variabl rel e floor e x min e max e z min e max e one exampl comparison file would allow b consid ident moosescriptscsvdiffpi b comparisonfil acmp file alert note titleexodifflik summari report summari report follow output style anoth popular tool exodiff summari design two summari report interchang method manufactur solut mm method manufactur solut mm one method may use valid system partial differenti equat pde solv expect method gener use heavili test thu basic util exist within moos aid build test first step process sure strong form equat well understood exampl diffus equat consid equat idmms_strong nabla cdot nabla u next assum solut equat import pick equat necessari order allow deriv comput spatial tempor perform spatial converg studi transient problem time portion appropri order allow tempor finit differ scheme repres solut exactli contrari spatial solut exactli repres finit element shape function function includ trigonometr exponenti term often use higher order polynomi also accept perform tempor converg studi opposit true spatial solut exactli repres finit element function tempor solut exactli repres tempor finit differ scheme exampl consid problem use second order time integr scheme cranknicolson first order lagrang finit element spatial studi appropri function would utxi perform tempor studi adequ function would utxi exampl problem spatial converg studi perform initi assum exact solut select equat idmms_exact u sinpi xsinpi use assum solut forc function f comput strong form equat idmms_pd nabla cdot nabla u f simpli done insert assum solut mms_exact lefthand side strong form equat mms_strong comput result result calcul forc function f equat idmms_forc f pisinxpisinypi mms_pde problem solv compar exact solut mms_exact comput forc function comput forc function done hand comput algebra system moos includ sympyhttpswwwsympyorg base tool aid comput forc function sympi packag instal via piphttpspippypaio minicondahttpsdocscondaio exampl follow python script comput print forc function current exampl list mmstestmms_exactpi endft mmsprint_fpars function output forc function need use mooseparsedfunctionmd object within moos input file call mmsprint_hit function output moos input file format hit forc function exact solut complet output function given text pisinxpisinypi forc type parsedfunct valu pisinxpisinypi exact type parsedfunct valu sinxpisinypi mmsevalu function automat invok x z avail variabl first argument partial differenti equat solv strong form second assum known solut variabl r reserv coordin system see sympyvectorcoordsysdhttpsdocssympyorglatestmodulesvectorcoordsyshtml optionaltru inform final variabl e_i e_j e_k also reserv repres basi vector coordin system simpli altern variabl ri rj rk follow tabl list addit argument may pass evalu function keyword type default descript variabl str u primari variabl solv within pde scalar list list constant scalar variabl includ solut pde vector list list constant vector variabl includ solut pde function list list arbitrari function x z solut pde vectorfunct list list arbitrari vector function x z solut pde neg bool fals flag return neg evalu function default fals thu function return correct place bodyforcebodyforcemd kernel object kwarg dict addit key valu pair suppli evalu addit function may includ x z variabl defin previou argument e_i e_j e_k suppli suppli function compon eg _x _y _z automat defin arbitrari vector suppli output includ compon name use vector name _x _y _z exampl follow exampl execut interact python shell includ arbitrari vector u scalar r python import mm f mmsevaluatediffh divuh divgradrh cosxyt variableh scalarsr vectorsu mmsprint_fparserf xrtcosxyt xysinxyt xtu_ysinxyt yrtcosxyt ytu_xsinxyt spatial converg use comput forc function possibl perform spatial converg studi problem ensur appropri rate converg achiev mesh refin file mms_spatial complet input file perform desir solv list mmstestmms_spatiali idmms_spati captioncomplet input file solv diffus equat use method manufactur solut spatial converg studi import boundari condit satisfi exactli often easiest method achiev use functiondirichletbcmd use exact solut done current problem problem error comput use elementlerrormd postprocessor element size comput use averageelementsizemd postprocessor mesh uniform may applic use number degre freedom proxi element size comput use numdofsmd postprocessor perform converg studi problem must solv increas level refin mani way accomplish includ use autom tool includ mm python packag code mms_spatial_script demonstr use run_spati function perform level refin first second order finit element list mmstestmms_spatialpi endtest idmms_spatial_script captionpython script perform plot spatial converg studi determin converg correct result input file may analyz plot data loglog plot mm packag includ convergenceplot object design applic plot method object accept output data run function shown mms_spatial_script result output execut script shown spatial_plot media mms_spatialpng idspatial_plot captionresult spatial mm converg studi legend plot includ slope plot line achiev theoret converg rate two three first second order element respect inform regard converg rate refer citetfishfirst tempor converg similar fashion possibl perform tempor converg studi exampl strong form consid see mms_strong howev assum solut modifi spatial solut exactli repres first order finit element assum solut given time_exact result forc function time_forc beginequ labeltime_exact u xyt endequ beginequ labeltime_forc f xyt endequ moos mm packag use comput input file syntax need repres function follow list mmstestmms_exactpi startftst output script shown print forc function well moos input file block need repres forc function exact solut complet input file tempor problem shown mms_tempor text xyt forc type parsedfunct valu xyt exact type parsedfunct valu xyt list mmstestmms_temporali idmms_tempor captioncomplet input file solv diffus equat use method manufactur solut tempor converg studi perform tempor converg studi simul must perform decreas time step size set input file tempor studi sure set end_tim paramet guarante run simul solv point time allow result solut compar mm packag includ run_tempor method perform variou run vari time step converg plot creat use object shown previous complet python code tempor mm converg studi given mms_temporal_script result plot shown temporal_plot list mms_temporalpi endtest idmms_temporal_script captionpython script perform plot tempor converg studi media mms_temporalpng idtemporal_plot captionresult tempor mm converg studi rate converg comput via slope line shown legend entri case expect rate converg one two achiev first second order finit differ scheme use time integr creat test creat aforement script run spatial tempor converg studi desir convert script actual test see test_systemmd easili achiev use creat test file within test directori applic exampl follow test file contain within moos execut script present exampl list mmstesttest idmms_test captiontest specif within moos run exampl mm converg studi script specif includ test check output result converg plot imag well perform diff data gener call run_spati run_tempor method csv file creat within script call to_csv method object return run function exampl spatial script contain follow line end script creat file test list mmstestmms_spatialpi starttest includestartfals bibtex bibliographi calphad thermodynam databas free energi extract free_energypi tool pythoncalphadfree_energypi allow user extract free energi express tdb thermodynam databas file thermocalc format tool export list moos materi block phase user specifi subset phase calphad function express implement use derivativeparsedmateri class user construct full moos input file around materi block renam variabl use export form suitabl name instal pycalphadhttpsgithubcomrichardotispycalphad docshttpspycalphadorgdocslatest python modul requir perform pars tdb file sympyhttpsgithubcomsympysympi requir build function form calphad express instal andor upgrad prerequisit use conda conda creat n pycalphad conda instal n pycalphad c pycalphad c msi c condaforg pycalphad conda activ pycalphad follow instal instruct pycalphad websit thermodynam databas databas file obtain onlin comput phase diagram databasehttpcpddbnimsgojpindex_enhtml cpddb nist materi data repositoryhttpsmaterialsdatanistgov testhar testhar python code behind run_test script moos everi moosebas applic respons find test run describ use run_test script creat test idea behind test describ moos test systemtest_systemmd document run_test run_test small python script found everi moosebas applic framework moosetest run_test script find test run compil binari app also run_test script moosescript may consid ad system path conveni run test directori contain test specif file basic usag run test applic make sure execut built gener run make see build systembuild_systemmd bash run_test j mani option run_test j option shown far wide use tell run_test script mani processor util local machin run test concurr put correct number instead script go find run test display result detail concurr found belowtestharnessmdparallel option idmoreopt see option run_test invok h mani option look import one failedtest run test fail note long keep use option set fail test chang nthread n caus test run openmppthreadtbb thread p n caus test run mpi process use guarante get result parallel valgrind run test valgrindhttpvalgrindorg util extens memori check catch segfault uniniti memori error recov run test recoveri mode run test halfway stop attempt recov run end rigor test test whether everyth applic work restartrecov opt default build optim execut suitabl run calcul dbg execut meant use debugg like gdb lldb slow meant use larg problem oprof normal use use code profil run code util like oprof gprof vtune etc pro alia oprof devel someth inbetween opt dbg attempt faster also runtim check assert mooseassert testroot testroot file small configur file format like moos input file read run_test script place root applic directori ie right next binari thing set file app_nam uniqu short name applic allow_warn true default set fals make warn run test _errors_ instead allow_overrid allow_unus true default set fals syntax error test input file treat error one thing recommend enforc use deprec code treat like error entir rigid requir imped normal flow develop instead develop period run test errordeprec see test use deprec code paramet fix point moos team respons fix deprec code tester tester repres individu test moos tester encompass set instruct perform task verifi result sever builtin tester framework tester system complet pluggabl extend list default tester list runapprunappmd exodiff csvdiff csvvalidationtestercsvvalidationtestermd filetest analyzejacobian checkfil imagediff petscjacobiantest runcommand runexcept vtkdiff test specif test control creat test specif file default testhar search directori tree file name test extens file use standard hit syntax moos usesapplication_usageinput_syntaxhtml optionaltru exampl given list moosetesttestskernelssimple_diffusiontest parallel test execut idparallel testhar design schedul sever test job concurr j n option run_test script determin number avail slot may use test maximum util given machin number set number core avail system testhar oversubscrib machin run differ combin parallel thread test job consum multipl slot eg test run mpi process thread would consum job slot reduc chanc test directori write one output checkpoint file concurr testhar normal schedul singl job singl directori test specif time concurr achiev schedul sever test differ directori time possibl howev tell testhar test directori schedul time use parallel_schedul syntax shown care taken use paramet avoid race condit file output extens use paramet discourag use place split test separ folder cumbersom split sever relat test test parallel_schedul true test test test alert note prereq paramet still honor use parallel_schedul true influenti environ variabl idenviron pythonpath pythonpath instruct python includ design path attempt import python modul normal need set sometim necessari exampl test testhar unittest anoth usecas develop want util moosedoc system creat moos documentationmoosedocsindexmd websit use right either case need modifi pythonpath moos relat develop almost alway want point moosepython pythonpath function path semicolon separ list path item contain within path left found item contain within path right method set method environ variabl one follow control type applic binari use variabl name argument usag method opt testhar use binari built optim run test your_appnameopt default method dbg testhar use binari built debug symbol run test your_appnamedbg method oprof testhar use binari built code profil run test your_appnameoprof method pro alia oprof method devel someth inbetween opt dbg alert note method describ also control via command line argument see option moose_term_format set moose_term_format follow well particular order case restrict control testhar print specif item variabl name argument usag moose_term_format c print caveat moose_term_format j print justif filler moose_term_format p print preformat statu charact buffer fill moose_term_format print statu moose_term_format nn print test name moose_term_format print test complet time exampl set moose_term_format tpnsc would print time preformat statu test name convert uppercas long name statu caveat order bash moose_term_formattpnsc run_test resimple_diffusiontest p ok kernelsad_simple_diffusiontest overs ok kernelssimple_diffusiontest overs caveat caveat moose_term_format caveat request print last testhar allow entir caveat print regardless moose_term_col see moose_term_col set moose_term_col posit integ set avail termin column count amount variabl name argument usag moose_term_col int allow mani column print output exampl set moose_term_col restrict default amount column testhar normal use print output bash moose_term_col run_test resimple_diffusiontest kernelsad_simple_diffusiontest ok kernelssimple_diffusiontest ok ran test second pass skip pend fail caveat moose_term_col specifi low moose_term_col testhar drop print justif filler see moose_term_format memori logger memori logger simpl tool gather inform run process thing memori usag stdout stack trace sampl either singl process multipl node job schedul environ current pb job schedul system support basic usag simplest use case scenario encapsul command would normal run memori logger argument memori logger text memory_loggerpi run mpiexec n absolutepathtomoose_testopt simple_diffusioni r alert note alway use absolut path run doubl quot memori logger knowledg path like somepath memori logger launch process normal begin track two process launch memori logger detect processs exit good ill explain log save instruct memori logger open file display inform either use matplotlib plot format inform output stdout read item display selfexplanatori except perhap percentag percentag current percent memori use point time total consum post process techniqu log file want ask memory_logg increas sampl rate obtain accur usag text memory_loggerpi repeatr run mpiexec n absolutepathtomoose_testopt simple_diffusioni r okay bit accur sever sampl remain unchang track howev sometim desir though print fashion data dump like use matplotlib far effici use matplotlib media mediamemory_loggerplot_multipng idmemoryloggerexampl stylewidthpxfloatright captionexampl memori logger plot visual result plot data matplotlib memoryloggerexampl text memory_loggerpi plot simple_diffusionr_memorylog simple_diffusionr_repeatrate_memorylog render multipl log simultan allow easi comparison track pb job memori logger abil track process across multipl node order work correctli must launch interact job qsub reason pb launch bunch memory_logg fashion instead need one memory_logg act server bunch other act agent gather data thing need provid pb argument text headnod qsub node memory_loggerpi pb run mpiexec absolutepathtomoose_testopt simple_diffusioni r memori logger encount pb argument look content pbs_nodefil determin machin use process job memori logger remot machin ssh launch memory_logg process instruct commun back origin memory_logg launch interact stack trace dark mode cool thing obtain stack trace track memori usag singl machin across pb node key featur tool order need suppli addit two argument pstack debugg gdblldb memori logger support two debugg purpos obtain stack trace gdb lldb text memory_loggerpi pstack debugg gdb run mpiexec absolutepathtomoose_testopt simple_diffusioni r pstack argument use track plot tell memori logger actual display stack trace inform avail log file text memory_loggerpi pstack plot simple_diffusion_memorylog stack trace repres form point along matplotlib line graph click dot caus memory_loggerpi print actual stack trace gleam time stdout howev choos display junk termin read text memory_loggerpi pstack read simple_diffusion_memorylog go past data tell ya page page also display stdout along matplotlib graph text memory_loggerpi pstack stdout plot simple_diffusion_memorylog media mediamemory_loggerdarkmodepng stylewidthpxfloatright captiondarkmod white back ground bright tri dark mode text memory_loggerpi pstack darkmod plot simple_diffusionr_memorylog simple_diffusionr_repeatrate_memorylog moosetre packag moosetre packag gener purpos creat tree structur python need packag stem moosedocsmoosedocsindexmd packag use tree object extens origin moosedoc use anytreehttpsanytreereadthedocsioenlatest packag structur moosedoc system evolv well amount document particular amount gener html output speed creat tree node becam critic anytre packag robust well design construct node fast enough object mimic behavior anytre perform saniti check result construct speedup time anytre time write document moosetre abl instanti e node sec wherea anytre requir sec test execut run test moosetre packag anytre instal node moosetre packag contain singl node object creat tree structur complet document class given pythonsourcemoosetreenodemd page search iter packag includ variou function locat iter tree pleas refer pythonsourcemoosetreesearchmd detail moos document system moosedoc moos moosebas applic continu advanc creat qualiti document becom key gain new user provid current user experi allow rapid develop howev creat qualiti document daunt task consequ uncommon larg project limit difficulttonavig outofd document amelior problem singlesourc document system develop base around fulli customiz markdown syntaxmoos style markdownmoosedocsspecificationmdthat includ featur tailor document moos code c mooseobject descript input paramet tabl may automat gener applic see appsyntaxmd crossreferenc link exampl sourc code may creat see autolinkmd dynam sourc code list allow sourc display without duplic updat automat code chang see listingmd singlesourc markdown file may convert variou media form includ websit like one slide show pdf via latex importantli custom markdown syntax easili creat possibl develop syntax meet need project follow link provid addit detail moos document system moosedocsspecificationmd frameworkdocumentingmd moosedocsstandardsmd creat websit applic follow page may use moosedocssetupmd moosedocsconfigmd moosedoc setup moosebas applic use moosedoc system creat custom websit current moos packagegetting_startedinstallationindexmd instal necessari depend exist also recent creat applic stork aug applic file simpl websit creat section aid set applic depend necessari document file build live websit applic run follow bash cd projectsyour_animaldoc moosedocspi build serv command complet messag print site host httphttp note new page ad build command need reexecut execut contain commandlin base help access use h flag follow cd projectsyour_animaldoc moosedocspi h configur file contain inform build websit addit detail regard file may found moosedocsconfigmd basic websit run next step document code best refer moos instruct document see frameworkdocumentingmd gener applic mimic moos process depend use moos packag packag old follow packag must instal done use piphttpspippypaioenst bash pip instal user pybtex livereload pylatexenc anytre panda creat document file exist applic without doc directori file must creat begin build websit first creat doc directori contain homepag applic bash cd projectyour_anim mkdir doc mkdir doccont echo youranimalapp doccontentindexmd second creat moosedoc execut configur file done copi file use stork script cp projectsmoosestorkdocmoosedocspi projectsyour_animaldoc cp projectsmoosestorkdocconfigyml projectsyour_animaldoc moosedoc configur order use moosedoc build command one configur file requir default moosedocspi script look file directori name end configyml config option use specifi file directli extens suggest must yaml file configur must contain content section option addit section describ finetun moosedoc build content content section typic list directori contain markdown content desir render html shown possibl use environ variabl within list particular moose_dir root_dir alway avail root_dir directori applic yaml content doccont moose_dirframeworkdoccont path may also includ wildcard wildcard match singl directori filenam exampl doccontentminim includ subdirectori content directori contain minim directori wildcard allow arbitrari level nest exampl doccontentminim includ minim directori directori content directori regardless depth content across multipl configur idmulticonfig case multipl configur file redund content permit two configur may specifi file typedirectori except content ad share pool complet combin list file avail translat importantli respect configur content file honor translat allow differ page use differ reader render execution extens provid extraordinari amount flexibl websit built good exampl resolv content conflict consid main moos websiteindexmd exacttru along workshopindexmd alternativemissing_configmd possibl build main site configurationmodulesdocconfigyml languageyaml run follow command list languagebash cd modulesdoc moosedocspi build config configyml workshop configurationtutorialsdarcy_thermo_mechdocconfigyml languageyaml list languagebash cd tutorialsdarcy_thermo_mechdoc moosedocspi build howev two configur specifi content thu made use yaml includ syntax creat separ workshop configur special combin build shown workshop_config file made sure add file alreadi ad main site configur left actual workshop page media bibliographi javascript etc need still avail combin build configur execution render extens simpli import origin file list modulesdocworkshop_configyml languageyaml idworkshop_config captionconfigur moos workshop design build alongsid main websit take advantag includ syntax alert tip titlebackup link find creat autolink across page differ configur concern fail build one configur consid use altern set see moosedocsextensionsautolinkmd page inform advanc content also advanc interfac content requir explain directori use build content relev file eg markdown extract suppli list directori set path rel suppli directori uniqu set file copi destin directori build markdown file render html first exampl follow illustr multipl sourc file combin destin directori text doccontentindexmd homelocalsharemoosesiteindexhtml moose_dirframeworkdoccontentutilitiesindexmd homelocalsharemoosesiteutiltiesindexmd advanc mode root locat specifi locat case content configur section contain dictionari dictionari shown toplevel key arbitrari name second level two key avail root_dir content root_dir directori includ content list folder andor file within root_dir consid yaml content app root_dir doccont framework root_dir moose_dirframeworkdoccontentutil content moosedoc given configur file within moosedoc folder includ directli within destin folder ie util directori remov shown text doccontentindexmd homelocalsharemoosesiteindexhtml moose_dirframeworkdoccontentutilitiesmoosedocssetupmd homelocalsharemoosesitemoosedocssetupmd extens extens section use enabl nondefault custom extens well chang configur exist extens list default extens shown defaultextens exampl follow snippet chang set commonmd extens note first level key name global arbitrari type key name requir valu match python packag load defaultextens yaml extens global type moosedocsextensionscommon shortcut includ frameworkdocglobalsyml variou extens well link document extens includ avail configur option found specif pagemoosedocsspecificationmd list commonload_configpi iddefaultextens captionlist default moosedoc extens startdefault_extens end includeendtru render render section allow type render select default materializerender complet render object mani avail option pleas refer sourc code avail option exampl render section shown list modulesdocconfigyml languageyaml startrender endextens reader reader section allow reader object defin default markdownread object use current type reader configur option section necessari moosedoc standard standard outlin page intend aid creat maintain easytoread focus consist document moos moos modul code content creation standard develop submit new class moos repositori also creat new markdown document file name creat class templat document stub file provid start place new markdown document page creat detail frameworkdocumentingmd endus focus intend audienc markdown document page endus littl develop experi markdown document page focu theoret background input file usag correspond class includ limit usabl rang class background descript long break inform multipl second third level head keep mind second level head appear righthand sidebar navig link citat inform appropri includ citat inform model implement class document avoid accident duplic citat inform document text list immedi cite sourc use citeexample_refer render author name public year document page refer current includ appropri bibtex file add refer citat inform bibtex file detail inform class inherit includ markdown text sinc inform alreadi provid doxygen link provid automat moosedoc system page layout use actual name class titl document page use second level head denot aid page navig begin markdown file document head descript immedi includ exampl syntax input file use head exampl input file syntax begin refer citat section end file head refer see templat document stub file placement exampl head use actual name class codeclassnam without space within first text paragraph descript head addit block input file requir run class document eg auxkernel requir auxvari includ addit requir block exampl input file syntax head exampl input syntax class document document written american english spell convent equat standard explain term use equat immedi equat eg sentenc begin term must includ new line equat sentenc use math option support katexhttpskhangithubiokatexfunctionsupporthtml refer equat use label within equat environ equat includ constant valu paramet use tabl list constant paramet variabl valu instead paragraph list power order magnitud format time cdot e exponenti term written exp left stuffinexpon right instead estuffinexpon tabl use give valu paramet use equat especi three paramet constant valu unit standard dimensionless paramet use notat dimensionless instead give unit regular font bold eg mathrmmum mu tabl standard includ caption caption describ content also includ label id tabl refer tabl within text number variabl tabl bold consist figur standard includ caption caption describ content also includ label id tabl refer figur within text imag file ad appropri modul framework folder doccontentmedia larg imag movi add large_mediahttpsgithubcomidaholablarge_media submodul repositori submodul locat top level repositori eg projectsmooselarge_media set figur imag width manner ensur wrap text readabl set text width text width suggest config navig breadcrumbsfals scrollspyfals iconerror_outlin tighttru page found stylefonts page request avail current moosedoc build may use config argument without includ requir configur file exampl want serv main moos websit workshop would run follow command list cd modulesdoc moosedocspi build serv config configyml workshop_configyml would simpli use default list configur file omit config option moos markdown specif moosedown follow detail moos flavor markdown use document moos moosebas applic moosedoc system motiv idmotiv shorthand html format markdown ubiquit especi among softwar develop howev standard exist origin implement incomplet current myriad implementationsoften deem flavorsof markdown commonmarkhttpcommonmarkorg propos standard howev specif syntact loos exampl defin list space mislead see exampl httpspeccommonmarkorgexampl exampl httpspeccommonmarkorgexampl show poorli defin behavior still exist state associ rule prevent spuriou list captur inadequ languag addit parser specif support custom extens ad difficulti user perspect pars strategi use complex context depend origin moosedoc use markdownhttppythonhostedorgmarkdown python packag work well gener sens howev moosedoc system matur shortcom found main problem respect moosedoc pars speed lack ast complex ad extens ie mani extens format lack ast limit abil convert suppli markdown format eg latex reason among other mention yet anoth markdown flavor born moos flavor markdown moosedown call moosedown languag design strict respect format well easili extend moosebas applic custom system meet document need strict allow simpl pars strategi use promot uniform among moosedown file moosedoc extens moosedoc system work use extens thu allow arbitrari languag syntax support moosedown languag defin use extens list follow tabl userext provid list extens use write document develext includ extens inform develop new extens tabl iduserext captionlist extens use write moosedown extens descript extensionscoremd basic markdown syntax code block list bold text extensionsautolinkmd automat link across page within markdown extensionstablemd provid mean implement tabl use tradit markdown format extensionskatexmd enabl use katex render equat extensionsbibtexmd enabl use bibtex citat bibliographi extensionscommonmd defin mean defin global shortcut syntax extensionslistingmd provid command includ sourc code directli repositori extensionsincludemd allow markdown file includ markdown file extensionsalertmd creat alert box draw attent content extensionsmediamd extens includ imag movi extensionsappsyntaxmd enabl use moos applic syntax within markdown file extensionssqamd provid tool write softwar qualiti document use templat extensionslayoutmd provid tool creat column tab via markdown extensionsacronymmd provid mean defin list acronym across page extensionsgraphmd add plotlyhttpsplotli support creat chart extensionsgallerymd tool build imag galleri extensionsstylemd command set text style extensionsifelsemd command ifelifels statement markdown extensionstemplatemd tool build moosedoc markdown templat extensionsdatetimemd function ad datetim inform extensionsgitutilsmd tool glean inform regard git repositori tabl iddevelext captionlist extens use write extens moosedown extens descript extensionscommandmd basi creat extens reli command see extensionsappsyntaxmd extensionsfloatsmd tool creat number andor caption content see extensionsmediamd extensionsmodalmd creat link modal window display code content extensionsdevelmd tool document moosedoc extens extensionspackagemd tool link moos environ packag extensionscontentmd creat complet list markdown page within directori ast httpsenwikipediaorgwikiabstract_syntax_tre html httpsenwikipediaorgwikihtml commonmark httpcommonmarkorg markdown httpsenwikipediaorgwikimarkdown templat extens templat extens provid basic capabl creat templat moosedoc markdown file extens use extensionssqamd help minim burden creat sqa document avail configur option extens given configtemplateext devel set idconfigtemplateext captionconfigur option templat extens modulemoosedocsextensionstempl objecttemplateextens arg configur option use set default templat argument exampl templat argument compani exist configur moos use follow exampl list languageyaml moosedocsextensionstempl arg compani ford use templat note section must creat section exampl render correctli switch order templat field exampl replac rather one load file reorder section easier hack fix devel extens allow use templat must load requir field defin assum exampl createtempl name examplemdtempl load modifi shown loadtempl devel exampl idloadtempl captionexampl load modifi templat markdown file templat load fileexampletemplatemd modelmustang templat item keydetail model begin product templateend develend notic command includ keyvalu input modelmustang keyvalu suppli set command pass templat argument argument use updat default argument suppli extens configur thu exampl would possibl overrid default compani also suppli load command complet list set templat item command provid templateitem devel set idtemplateitem captionavail set templat item command modulemoosedocsextensionstempl objecttemplateitemcommand creat templat templat moosedoc file special section design replac anoth file load templat begin creat file associ content constant head introduct within content begin ad requir option field intend custom file load templat complet list set templat field command provid templatefield devel exampl idcreatetempl captionexampl templat markdown file model inform introduct model car manufactur compani detail templat field keydetail provid detail inform regard specif compani model develend alert tip titletempl file extens within moos document mdtemplat file extens use templat file avoid templat get render copi output destin devel set idtemplatefield captionavail set templat field command modulemoosedocsextensionstempl objecttemplatefieldcommand pysyntax extens extens provid abil extract python document within markdown file intend use document complet python modul packag complet list avail configur item extens given pysyntaxconfig devel set modulemoosedocsextensionspysyntax objectpysyntaxextens idpysyntaxconfig captionconfigur item pysyntax extens class document class command extens provid complet document python class object exampl use command gener class document extens object pysyntax extens shown pysyntaxclassexampl devel exampl idpysyntaxclassexampl captionexampl use pysyntax class command pysyntax class namemoosedocsextensionspysyntaxpysyntax command design oper singl command within page exampl moosetreenod contain singl command gener complet document page moosetreenodemd list moosetreenodemd idmoosetreenod captionus pysyntax class command creat complet document page python class bibtex extens work citeslaughterframework citeslaughterframework slaughtercontinu citeslaughterframework slaughtercontinu gastonphys citepslaughterframework citepslaughterframework slaughtercontinu bibtex bibliographi common extens common extens allow definit global shortcut within configur file shortcut may defin exampl follow portion configur file use gener page defin libmesh moos websit shortcut may use tradit markdown shortcut shown commonexampl yaml global type moosedocsextensionscommon shortcut libmesh httplibmeshgithubio moos httpwwwmooseframeworkorg devel exampl idcommonexampl captionexampl use global defin shortcut moos base libmesh tabl extens tabl extens provid mean defin tabl use tradit markdown syntax shown examplebas also add abil creat number caption tabl examplecapt devel exampl captionexampl standalon tabl use markdown syntax idexamplebas head head item item develend devel exampl captionexampl tabl use markdown syntax display float idexamplecapt tabl idtableflo captionthi float tabl head head item item develend tabl extens also support left center right align column use tradit markdown format devel exampl captionexampl show align column left center right text align left text center align right develend layout extens layout extens allow dynam row column creat reli materi html output devel exampl captionexampl creat two column row col small medium larg lorem ipsum dolor sit amet consectetur adipisc elit sed eiusmod tempor incididunt ut labor et dolor magna aliqua ut enim ad minim veniam qui nostrud exercit ullamco labori nisi ut aliquip ex ea commodo consequat dui aut irur dolor reprehenderit volupt velit ess cillum dolor eu fugiat nulla pariatur excepteur sint occaecat cupidatat non proident sunt culpa qui officia deserunt mollit anim id est laborum col small medium larg sed ut perspiciati und omni ist natu error sit voluptatem accusantium doloremqu laudantium totam rem aperiam eaqu ipsa quae ab illo inventor veritati et quasi architecto beata vita dicta sunt explicabo nemo enim ipsam voluptatem quia volupta sit aspernatur aut odit aut fugit sed quia consequuntur magni dolor eo qui ration voluptatem sequi nesciunt nequ porro quisquam est qui dolorem ipsum quia dolor sit amet consectetur adipisci velit sed quia non numquam eiu modi tempora incidunt ut labor et dolor magnam aliquam quaerat voluptatem ut enim ad minima veniam qui nostrum exercitationem ullam corpori suscipit laboriosam nisi ut aliquid ex ea commodi consequatur qui autem vel eum iur reprehenderit qui ea volupt velit ess quam nihil molestia consequatur vel illum qui dolorem eum fugiat quo volupta nulla pariatur rowend develend float extens alert construct prefixfals titledevelop extens extens associ syntax moosedownmoosedocsspecificationmd file float extens provid syntax markdown howev provid build block creat numberedcapt item found mediamd katex extens render math enabl use katex extens add abil creat number equat well refer equat tradit shortcut syntax eg eqheat devel set modulemoosedocsextensionskatex objectkatexextens idkatexextensionconfig captionavail configur option katexextens object block equat number nonnumb equat defin use beginequ endequ environ common latex mathematicshttpsenwikibooksorgwikilatexmathemat shown katexnumb devel exampl idkatexnumb captionexampl syntax creat number equat katex equat idlineeq acdot x b develend includ nonnumb equat simpli exclud id command shown katexnonumb devel exampl idkatexnonumb captionexampl syntax creat nonnumb equat katex equat c b develend possibl refer number block equat first equat must contain id within text label use within shortcut link eg myeq see coremdshortcutlink equat refer eqlabelexampl provid complet exampl creat referenc equat prefix dictat extens prefix configur option see katexextensionconfig devel exampl ideqlabelexampl captionexampl refer label number block equat eqrefeqlabel famou equat equat ideqlabel e mc develend possibl refer equat page page contain referenc equat toplevel head use filenam page use head exist devel exampl ideqexternallabelexampl captionexampl refer label number block equat anoth page eqrefkatexmdeqlabel famou equat develend inlin equat inlin equat use tradit latex syntax ie content wrap singl inlin eq command shown katexinlin devel exampl idkatexinlin captionexampl inlin latex equat yphi inlin eqphibeta macro possibl defin macro within extens configur done use macro configur paramet see katexextensionconfig exampl main configur file contain follow allow equat katexmacro defin list modulesdocconfigyml startmoosedocsextensionskatex endmoosedocsextensionsappsyntax devel exampl idkatexmacro captionexampl use macro defin configur file pftt c katex httpskhangithubiokatex core extens core extens portion moosedoc languag design mimic markdown syntax moosedown far strict tradit markdown implement therefor follow section read detail understand support syntax especi familiar gener markdown format syntax separ two group blockcoreblock inlinecoreinlin block content made item make name suggest block text block text includ item code snippet quotat paragraph hand inlin item applic small portion text eg word bold ital two exampl inlin item alert note titlemoosedown restrict version markdown unifi content creat fast parser strict limit set markdown use defin moosedoc syntax follow section detail syntax compris syntax set idset gener block level syntax inlin syntax accept keyvalu pair set set appear within syntax vari detail follow section settingsexampl show set specifi link howev set appli uniform manner foremost key valu separ equal sign without space surround valu may contain space space equal sign except syntax set keyvalu pair default valu short descript provid tabl exampl codeset list avail set fenc code block discuss fencedcod section devel exampl idsettingsexampl captionexampl use set within link set keyvalu pair specifi separ equal sign space exist either side googlehttpswwwgooglecom stylecolort block syntax idcoreblock block level content name suggest block text case block must begin end empti line except start end file restrict allow special charact hash use start line without conflict head creation see head addit allow content set span across multipl line code idfencedcod code block snippetsa shown fencedcodeexamplear creat enclos code display tripl backtick commonli refer fenc code block two requir exist creat code block backtick must proceed empti line backtick must start begin line set code block defin keyvalu pair follow backtick codeset list avail set code block devel exampl captionbas fenc code block idfencedcodeexampl languagebash export methodopt devel set modulemoosedocsextensionscor objectcodeblock idcodeset captionavail set fenc code block quotat quotat block creat start line charact singl trail space shown quoteexampl addit line belong within quotat must also begin charact within quotat valid markdown accept shown quotenestedexampl devel exampl captionbas block quot idquoteexampl quotat devel exampl captionnest content block quot idquotenestedexampl quotat begin charact may contain valid markdown content includ quot code shown begin anoth quotat also contain fenc code block languagepython rang print sinc quotat block content must end empti line therefor nest quot must contain empti line head idhead head rang level one six specifi use hash charact number hash indic head level see headingbasicexampl follow requir defin head hash must follow singl space hash must proceed space set list headingset appli head titl text shown headingstandard head may also span multipl line shown headingmultilin devel exampl captionbas use six head level idheadingbasicexampl level one level two level three level four level five level six develend devel exampl captionus set within head idheadingstandard level two stylefontsizeptcolor idleveltwo devel exampl captionus set within head idheadingmultilin head may span multipl line use realli long stylefontsizept idleveltwo devel set modulemoosedocsextensionscor objectheadingblock captionavail set head idheadingset unord list idunord unord list item moosedown must begin dash shown unorderedbasicexampl block item list must proceed follow empti line howev list addit behavior allow nest content includ empti line stop list follow line begin anoth list marker ie case list continu empti line follow nonlist markereveryth except hyphenwil stop list otherwis list stop two empti line encount otherwis continu add item current list list item may contain list code markdown content item content may span mani line continu specifi indent content includ within item two space shown unorderednestedexampl devel exampl captionunord list basic syntax idunorderedbasicexampl item item develend devel exampl captionlist contain markdown content idunorderednestedexampl item code content contain within list valid moosedown syntax use int combo anoth item foo bar develend mention list contain list contain list etc sublist list list creat creat indent level list item contain sinc list block item must begin end empti line sinc list also follow aforement rule list continu unorderedsublistexampl demonstr syntax creat nest list devel exampl captionnest unord list idunorderedsublistexampl b b b b b b b b b b develend order list number list work nearli ident unord list see unord start number follow period singl space number use first item list number use start list see orderedexampl devel exampl idorderedexampl captionexampl order list start number second nest content foo bar anoth list contain nest content order list nest contain markdown code develend shortcut idshortcut possibl defin shortcut use within document via shortcut linkshortcutlink shortcut defin use tradit markdown syntax shortcutlink howev block item maintain consist behavior must surround blank line devel exampl idshortcutexampl captionmarkdown shortcut definit creat shortcut common item foo foo bar develend inlin content idcoreinlin inlin content compris format name suggest occur within line text exampl includ inlin code text format bold monospac inlin code idmonospac monospac text specifi encas text singl backtick content within backtick reproduc verbatim thu allow moosedoc syntax enclos within backtick monospaceexampl devel exampl idmonospaceexampl captionexampl monospac text follow moosedoc googl show verbatim enclos within backtick without backtick googl creat link googl httpswwwgooglecom develend text format inlin text format differ moosedoc tradit markdown mani way reason differ includ avoid reus symbol ie multipl format make syntax suitabl simpl pars multilin region support wide rang format format start charact must immedi follow nonwhitespac charact start charact must alwo proceed whitespac except case super subscript must proceecd nonwhitespac charact end charact must immedi proceed nonwhitespac charact follow tabl list avail format start end charact name charact moosedown result html underlin underlin underlin strong strong strong emphasi emphasi emphasi strikethrough strikethrough strikethrough superscript foobar foobar subscript foobar foobar format arbitrarili nest span multipl line within paragraph thu shown formatexampl complic compound format text possibl devel exampl idformatexampl captionexampl inlin text format moosedoc yo dawg heard like format creat underlin format text contain text stikethrough contain bold format emphasi somesuperscript text asubscript hope like link idlink moosedoc use tradit markdown syntax link howev also support set within link see settingsexampl set expect keyvalu pair common much moosedoc syntax avail set link includ linkset devel set modulemoosedocsextensionscor idlinkset objectlinkinlin captionavail set link shortcut link idshortcutlink link shortcut use typic markdown syntax key enclos squar bracket key key refer shortcut defin detail shortcut section refer shortcutexampl demonstr shortcut shortcut link use addit link shortcut creat directli syntax use refer head id set appli see headinglinkexampl use fashion head text directli replac shortcut link link head creat devel exampl idheadinglinkexampl captionexampl show use shortcut link refer head use shortcut link syntax possibl link head head link idhead develend punctuat render html moosedoc convert follow punctuat correct symbol tabl list convers perform moosedoc html ndash mdash markdown httpsenwikipediaorgwikimarkdown line break line break forc use within text follow space end line break devel exampl idbreak captionexampl line break sentenc line break develend escap charact case use charact bracket exclam need context recogn special markdown syntax case charact escap use charact follow exampl moosedoc html gitutil extens gitutil extens provid mechan glean inform regard git repositori document build command execut within devel set modulemoosedocsextensionsgitutil objectgitutilsextens idgitutilsconfig captionconfigur item gitutil extens commit commit subcommand insert current commit sha repositori work directori document build gitutilscommitexampl exampl demonstr use command avail set command provid gitutilscommitset devel set modulemoosedocsextensionsgitutil objectcommitcommand idgitutilscommitset captionavail set git commit command devel exampl idgitutilscommitexampl captionexampl report current commit git commit current commit gitcommit develend includ extens primari driver behind develop moosedoc system creat singl sourc document allow piec text reus multipl locat multipl format therefor possibl includ markdown within markdown use includ command avail set includ command given includeset devel set idincludeset captionset includ command modulemoosedocsextensionsinclud objectincludecommand exampleinclud use includ command import complet content anoth file exampleincluder import portion file use set devel exampl idexampleinclud captionexampl use includ command import complet file includ include_examplemd develend devel exampl idexampleincluder captionexampl use includ command import portion anoth file includ coremd repcontentth coresyntax develend markdown httpsenwikipediaorgwikimarkdown graph extens moosedoc use plotli creat interact graph graph invok plot command avail subcommand detail follow section plotlyextconfig list configur option extens devel set modulemoosedocsextensionsgraph objectgraphextens idplotlyextconfig captionavail configur option plotlyextens object syntax support chart type defin manner allow plotli set avail defin data well chart layout complet list avail option refer refer manualhttpsplotlyjavascriptrefer scatter line plot scatter linehttpsplotlyjavascriptlineandscatt plot creat scatter subcommand shown plotli document plot command accept singl json data structur contain data set line simplic remain consist librari data structur use within moosedoc shown plotlydataexampl devel exampl idplotlydataexampl captionexampl scatter plot use plotli data structur plot scatter datax namex x namexx markers develend circumst desir load scatter data file done use filenam set use x data contain column name rather actual data shown plotlyfileexampl aspect data field remain devel exampl idplotlyfileexampl captionexampl scatter plot use filebas data plot scatter filenametest_fileswhite_elephant_jan_csv dataxtim yair_temp_set_ nameair temp layoutxaxistitletim day yaxistitletemperatur c titlejanuari white eleph weather station develend complet list set avail plot scatter command includ plotscatterset devel set modulemoosedocsextensionsgraph objectgraphscatt idplotscatterset captionavail set plot scatter command plotli httpsplotli config extens config navig breadcrumbsfals style extens style extens exist appli name suggest style markdown text via style command list avail configur option provid styleextensionconfig extens configur devel set modulemoosedocsextensionsstyl objectstyleextens idstyleextensionconfig captionavail configur option styleextens object style command style appli block text via block version style command exampl center text horizont use halign set follow devel exampl idstyleblockexampl captionexampl use style command block text style haligncent text center develend devel exampl idstyleblockexampl captionexampl use style command block text multipl paragraph style haligncent text center text styleend develend inlin text may also style exampl follow creat color text within box devel exampl idstyleinlineexampl captionexampl use style command inlin text possibl creat style color border text within box use style command develend complet list avail set provid stylecommandset devel set modulemoosedocsextensionsstyl objectstylecommand idstylecommandset captionavail set style command ifels extens extens provid basic function markdown base condit statement allow render content condit requir extens add three command elif els command must use tradit order first option follow number elif command option final els command complet list avail configur option provid ifelseconfig follow section demonstr use command devel set modulemoosedocsextensionsifels objectifelseextens idifelseconfig captionavail configur option ifels extens modul configur item provid list python modul search call condit function default behavior modul equival ad follow modul item list moosedocsextensionsifels modul moosedocsextensionsifels function within modul call function set within statement set associ function discuss follow section simpl statement command requir function evalu suppli use function set function must exist within modul load extens use modul configur item see ifelseconfig extens origin creat allow content depend applic name scenario use demonstr use syntax basic use singl statement suppli function return true content display see iftru fals content ignor see iffals devel exampl idiftru captionsingl command function return true content display functionhasmooseappmooseapp document contain mooseapp inform devel exampl idiffals captionsingl command function return fals content ignor functionhasmooseappunknownapp document contain unknownapp inform possibl flip state return valu creat statement prefix function exclam mark shown ifnot devel exampl idifnot captionsingl statement function return fals content display functionhasmooseappunknownapp document contain unknownapp inform input function set expect function avail within modul load extens function must accept ifelseextens object first argument argument suppli markdown text append exampl hasmooseapp function shown exampl defin follow extens list moosedocsextensionsifelsepi startdef hasmooseapp endreturn ext includeendtru complet list set avail command provid ifset function set requir devel set modulemoosedocsextensionsifels objectifcommand idifset captionavail set command compound ifelifels statement creat ifelifels statement accomplish use command follow number elif command final option els command import understand implement actual use separ commandscommandmd command elif andor els use inlin block version command definit extens enforc command occur expect order devel exampl idifelifels captiona elif els statement mix command inlin block syntax functionhasmooseappunknownapp unknownapp found elif functionhasmooseappmooseapp applic includ object regist moos follow registermooseobjectmooseapp diffus elifend els instal mess develend command extens command extens add function directli howev provid mechan major exist extens built upon therefor custom command follow basic structur automat two form inlin block form inlin command format markdown command subcommand keyvalu keyvalu space keyvalu content option use continu first empti line block command format markdown command subcommand keyvalu keyvalu space keyvalu content option use includ empti line content end end version command commandend autolink extens autolink extens provid crosspag automat link markdown md file allow page site link partial name case shortcut style link see coremdshortcutlink head content may also includ automat autolinkconfig list avail configur option autolink extens devel set idautolinkconfig captionconfigur option autolink extens modulemoosedocsextensionsautolink objectautolinkextens automat link idautolink moosedown link within tradit markdown link syntax eg textlink may markdown filenam name must uniqu may incomplet entir page hierarchi search filenam compar use python strendswith method thu suppli name consid uniqu one path possibl path end suppli text see linkexampl devel exampl idlinkexampl captionexampl automat link anoth markdown page corecoremd syntax also support html bookmark style link demonstr linkbookmarkexampl devel exampl idlinkbookmarkexampl captionexampl automat link anoth markdown page includ html bookmark corecoremdshortcutlink option keyvalu pair use defin set automat link specifi like textlink keyvalu complet list avail set given linkset altern set particularli power serv substitut origin link file fail found input set may html bookmark url markdown file plu bookmark combin file demonstr alternativelinkexampl devel exampl idalternativelinkexampl captionexampl use altern set automat link origin markdown file found avail content bookmarknot_a_real_directorynot_a_real_file_namemd alternativesourc urlnot_a_real_file_namemd alternativehttpswwwgooglecom file bookmarknot_a_real_file_namemdnotarealbookmark alternativecoremdshortcutlink develend option exact set similarli appli handl altern link markdown file devel set modulemoosedocsextensionsautolink objectpagelinkcompon idlinkset captionavail set automat link note languag set effect unless link sourc filesourc alert warn titletri abus altern link altern set use mean circumv potenti broken content configur rather conscious special circumst exampl main purpos provid fallback develop site design multipl configurationsmoosedocsconfigmdmulticonfig crosslink expediti build one configur certain content condit unavail todo alert includ link appropri multiconfig document becom avail see automat link shortcut markdown includ syntax creat shortcut see coremdshortcutlink moosedown deem shortcut link autolink extens allow markdown filenam use within shortcut link case text first head use link text exampleshortcutlink devel exampl idexampleshortcutlink captionexampl shortcut link contain markdown filenam coremd also possibl includ html style bookmark filenam depend configur see autolinkconfig link text includ name text within bookmark option page head see exampleshortcutbookmarklink devel exampl idexampleshortcutbookmarklink captionexampl shortcut link contain markdown file includ html style bookmark coremdshortcutlink complet list avail set automat link shortcut given shortcutlinkset notic altern set avail use demonstr exampleshortcutalternativelink devel exampl idexampleshortcutalternativelink captionexampl use altern set automat shortcut link origin markdown file found avail content not_a_real_file_namemd alternativeautolink not_a_real_file_namemd alternativecoremd develend note explicit url like httpswwwgooglecom support automat shortcut link altern moosedoc log error attempt made devel set modulemoosedocsextensionsautolink objectpageshortcutlinkcompon idshortcutlinkset captionavail set automat link shortcut note languag set effect unless link sourc filesourc alert note titleapplic set altern option exact set given linkset shortcutlinkset effect link local bookmark eg bookmark sourc linksourc furthermor languag set applic sourc link automat sourc content idsourc filenam use within link shortcut link file contain git repositori bottom extend modal window creat display complet text shown examplefilelink devel exampl idexamplefilelink captionexampl show sourc code link modal window complet sourc code diffusionc diffus kerneldiffusionc develend similar pythonmoosedocsextensionslistingmd option languag set use specifi code languag use syntax highlight demonstr examplefilelinklanguag devel exampl idexamplefilelinklanguag captionexampl show sourc code link set languag use syntax highlight run_teststestrun_test languagepython develend alert extens alert extens provid alert command provid mechan make alert box highlight import item within markdown text avail configur item extens provid alertconfig devel set modulemoosedocsextensionsalert objectalertextens idalertconfig captionconfigur item alert extens basic alert four version alertserror warn note tipal demonstr alertexampleal avail set alert command list alertset devel set modulemoosedocsextensionsalert objectalertcommand idalertset captionavail set alert command devel exampl idalertexampleal captionexampl three type alert error warn note alert error error alert alert warn warn alert alert note note alert alert tip tip alert develend alert titl alertexampletitl demonstr use titl set within alert command contain inlin markdown see coremdcoreinlin devel exampl idalertexampletitl captionexampl use titl set wihtin alert command alert warn titlethi error bad umk develend block alert previou exampl show inlin version see coremdcoreinlin alert command sinc command built use commandmd also exist block version demonstr alertexampleblock devel exampl idalertexampleblock captionexampl show block version alert command alert note block version allow use block markdown syntax use alertend develend alert without titl also possibl creat alert without titl may use simpli highlight region text done ommit titl well set prefix set fals shown alertexamplenotitl devel exampl idalertexamplenotitl captionexampl use titl set wihtin alert command alert note prefixfals alert without titl might use highlight text develend content extens contentextens add content command list markdown page within directori exampl sourceindexmd exacttru page use build list sourc code relat page datetim extens datetim extens provid datetim command provid mechan date time oper extens base datetim packag part standard python librari devel set modulemoosedocsextensionsdatetim objectdatetimeextens iddatetimeconfig captionconfigur item datetim extens today today subcommand insert date execut document build occur call python datetimedatetoday function demonstr datetimetodayexampl avail set command provid datetimetodayset devel set modulemoosedocsextensionsdatetim objecttodaycommand iddatetimetodayset captionavail set datetim today command devel exampl iddatetimetodayexampl captionexampl show date build execut datetim today datetim today formatb today datetimetoday nicer format datetimetoday formatb develend content exist within include_examplemd file media extens media extens provid media markdown command ad imag video use throughout moosedoc content media command option creat number extensionsfloatsmd specifi id set caption may includ use caption set configur option media extens list configmediaext devel set idconfigmediaext captionconfigur option media extens modulemoosedocsextensionsmedia objectmediaextens imag media extens support includ standard html imag extens png gif jpg jpeg svg imag ad use media command follow filenam shown examplemedia imageset includ list avail set media command imag alert note style set may use exampl control placement size imag devel exampl idexamplemedia captionexampl media command imag media mediainl_bluepng stylewidthfloatrightmarginleftpx inl part us depart energi complex nation laboratori laboratori perform work strateg goal area doe energi nation secur scienc environ inl nation lead center nuclear energi research develop inl nation lead laboratori nuclear energi research develop demonstr deploy engag mission ensur nation energi secur safe competit sustain energi system uniqu nation homeland secur capabl develend devel set modulemoosedocsextensionsmedia objectimagecommand idimageset captionset avail imag use media command video local store host video display use media syntax work fashion imagesimag also includ extra set list videoset media httpclipsvorwaertsgmbhdevfewebm idbig_buck_bunni captionbig buck bunnyhttpsenwikipediaorgwikibig_buck_bunni opensourc anim short youtub video also display embed youtub url simpli provid media url must contain wwwyoutubecom end extens similar local store host video extra set provid list videoset media httpswwwyoutubecomembedtjwbsyalai idtrainingwebinar captionmoos train webinar given june devel set modulemoosedocsextensionsmedia objectvideocommand idvideoset captionset avail video use media command float imagesvideo case mani item within moosedoc system ie extensionstablemd possibl creat number imag may referenc shown exampleimagefloat id caption set avail imag video devel exampl idexampleimagefloat captionexampl imag caption number prefix media mediainl_bluepng idinllogo captionth idaho nation laboratori logo stylewidthpaddingpx develend appsyntax extens appsyntax extens defin syntax markdown commandcommandmd contain variou subcommand creat moos specif link tabl within markdown explain note exampl refer document associ kernel andor diffus kernel replac syntax system object document configur option extens list appsyntaxconfig devel set modulemoosedocsextensionsappsyntax objectappsyntaxextens idappsyntaxconfig captionconfigur option appsyntax extens class descript syntax descript descript subcommand add paragraph content inputparamet object class descript ad moos applic within validparam method avail set includ appsyntaxdescriptionset devel set modulemoosedocsextensionsappsyntax idappsyntaxdescriptionset objectsyntaxdescriptioncommand captionavail command set syntax descript command exampl filemesh object includ validparam function shown filemeshvalidparam notic addclassdescript method includ short descript object display text syntax descript command use follow moos input file syntax object appsyntaxdescript devel exampl idappsyntaxdescript captionexampl use syntax descript command syntax descript meshfilemesh stylecolorgreen develend list frameworksrcmeshfilemeshc starttempl end includeendtru idfilemeshvalidparam captionth validparam function filemesh object object paramet syntax paramet paramet subcommand provid mean display default input file syntax object shown appsyntaxparametersexampl avail set paramet commaond shown appsyntaxparametersset devel set modulemoosedocsextensionsappsyntax objectsyntaxparameterscommand idappsyntaxparametersset captioncommand set syntax paramet command devel exampl idappsyntaxparametersexampl captionexampl syntax paramet command syntax paramet dampersconstantdamp develend input file syntax input idinput mani case use know exampl tutori test object util input file therefor input subcommand defin appsyntaxinputsexampl list input file use includ constantdamp object appsyntaxinputsset provid avail set input command devel set modulemoosedocsextensionsappsyntax objectsyntaxinputscommand idappsyntaxinputsset captionavail command set syntax input command devel exampl idappsyntaxinputsexampl captionexampl use syntax input command syntax input dampersconstantdamp develend child object syntax children moos design idea inheritancehttpsenwikipediaorgwikiinheritance_objectoriented_program often use understand class inherit anoth children subcommand creat list child class given object shown appsyntaxchildrenexampl avail set children command provid devel exampl idappsyntaxchildrenexampl captionexampl use syntax children command syntax children kernelsdiffus develend devel set modulemoosedocsextensionsappsyntax objectsyntaxchildrencommand idappsyntaxchildrenset captioncommand set syntax children command action object system syntax list moos base system eg kernel system contain set object action subsystem use within input file block desir list avail object given system reason behind syntax list command avail set command includ appsyntaxlistset devel set modulemoosedocsextensionsappsyntax objectsyntaxlistcommand idappsyntaxlistset captioncommand set syntax list command devel exampl idappsyntaxlistexampl syntax list adapt develend complet syntax list syntax complet level galleri extens galleri extens provid mechan creat card use card command allow item organ galleri galleri command avail configur item extens list galleryconfig devel set modulemoosedocsextensionsgalleri objectgalleryextens idgalleryconfig captionconfigur item alert extens card gener galleri compos card howev card command work stand alon command name card deriv materializehttpsmaterializecsscomcardshtml framework moosedoc reli creat websit content set card command list cardset devel exampl idgalleryexamplecard captionexampl use card command card level_setvortex_outmp titlevortex benchmark stylewidth level set equat commonli use interfac track especi interfac veloc known moos contain level set modul inform see level_setindexmd develend devel set modulemoosedocsextensionsgalleri objectcardcompon idcardset captionset card command within galleri extens galleri galleri simpli collect card creat galleri simpli wrap card command blocklevel galleri command shown avail set galleri command list galleryset devel exampl idgalleryexamplegalleri captionexampl use galleri command galleri card level_setexample_circle_mp titletransl card level_setcircle_rotate_master_outmp titlerot card level_setvortex_outmp titlevortex galleryend develend devel set modulemoosedocsextensionsgalleri objectgallerycompon idgalleryset captionset galleri command within galleri extens devel extens alert construct devel extens defin command develop moosedoc extens extens develop document ad accordingli list extens list extens provid mechan creat sourc code list system allow inclus local content well complet partial snippet desir sourc code includ abil pars moos input file separ block main purpos avoid copi code input syntax document avoid outofd content extens provid list command see commandmd allow number caption appli extensionsfloatsmd provid addit detail follow tabl list avail configur option extens devel set modulemoosedocsextensionslist objectlistingextens list command capabl includ text local content arbitrari file sourc code file wide rang set avail special code import complet list avail set provid mooselist section provid variou exampl use set local list content possibl creat list use local content done use list command without agrument desir content follow command see commandmd detail content defin avail set command given listinglocalset devel exampl idexamplelistingloc captionexampl list content local markdown list idloc captiona function ad languagecpp doubl add_forty_twoconst doubl return develend devel set modulemoosedocsextensionslist objectlocallistingcommand idlistinglocalset captionset avail creat list local content file content includ complet file repositori exampl follow creat code list examplelistingcomplet devel set modulemoosedocsextensionslist objectfilelistingcommand idmooselist captionset avail captur text file list command devel exampl idexamplelistingcomplet captionexampl show complet file list frameworksrckernelsdiffusionc develend regular express match regular express util extract specif content file examplelistingr use regular express extract content class method devel exampl idexamplelistingr captionexampl list use set list frameworksrckernelsdiffusionc rerealsdiffusioncomputeqpresidu develend singl line match possibl show singl line file includ snippet allow line locat within file multipl match occur first match shown exampl call addclassdescript shown ad follow devel exampl idexamplelistinglin captionexampl display singl line file list frameworksrckernelsdiffusionc linecomputeqp develend rang line match code start end line contain string also possibl use start end option start omit snippet start begin file similarli end omit snippet includ remaind file content devel exampl idexamplelistingstartend captionexampl list use start end set list moosetesttestskernelssimple_diffusionsimple_diffusioni startkernel endexecution develend input file content idmooseinput like c file moos input file also addit capabl mainli block remov set see hitlistingset complet list includ content limit input block match suppli name notic suppli name may approxim howev uniqu first match appear similarli input file block may remov display content addit block name remov set also accept name individu input paramet howev full path paramet must specifi examplelistinginput demonstr proper use block remov syntax devel exampl idexamplelistinginput captionexampl use block remov set input file list moosetesttestskernelssimple_diffusionsimple_diffusioni blockkernel idinputblock captioncod list moos input file block list moosetesttestskernelssimple_diffusionsimple_diffusioni removeleft executionerpetsc_options_inam executionerpetsc_options_valu idinputremov captioncod list moos input file block paramet remov develend alert note titleth block remov set appli hit format file set given hitlistingset avail achit format list includ test specif filespythontestharnessmd devel set modulemoosedocsextensionslist objectinputlistingcommand idhitlistingset captionset avail input file list model inform introduct model car manufactur compani detail templat field keydetail provid detail inform regard specif compani model softwar qualiti assur extens sqa extens design aid track document satisfi nqa standard softwar qualiti simpli tool aid moosebas softwar project sure necessari inform exist meet standard first section detail use templat build softwar qualiti document second explain extens level configur final section briefli discuss avail extens command intend purpos work exampl pleas refer sqaindexmd exacttru sqa templat sqa extens leverag templat aid set necessari document satisfi nqa standard detail util templat system pleas refer extensionstemplatemd document two set templat gener set moosebas applic alert note titlenam file import use moosebas applic document templat file name use critic system correctli oper see moosebasedapplicationtempl detail gener set compris templat implement standard acinl templat use moosedoc use framework defin core sqa document moosebas applic link could use applic desir util moosedoc tradit moosebas applic set moosebas applic templat start point applic develop ad sqa document use templat automat link necessari document framework modul document applic make complet set document moosebas applic templat idmoosebasedapplicationtempl follow complet list templat includ within applic complet sqa document except index templat app_indexmdtempl name file load templat begin categori name follow three letter suffix use templat load categori name name provid categori configur extens pleas refer extensionconfigur section detail exampl configur categori name bull_frog app_stpmdtempl file load file name bull_frog_stpmd app_indexmdtempl use sqa land page automat link sqa document list name file load templat restrict gener recommend index file within sqa folder eg sqaindexmd app_stpmdtempl compris applic softwar test plan app_sddmdtempl compris applic softwar design document app_srsmdtempl compris applic softwar requir specif app_rtmmdtempl compris applic requir traceabl matrix app_vvrmdtempl compris applic verif valid report app_farmdtempl compris applic failur analysi report app_sllmdtempl compris applic softwar librari list app_ccimdtempl compris applic commun contact inform app_scsmdtempl compris applic softwar code standard gener templat avail gener sqa templat list unlik moosebas applic version land page templat exist name convent requir load templat templat base acinl templat standalon aid creat sqa document uniqu nonmoos applic also use framework document moosebas applic depend stpmdtemplat acinl templat softwar test plan sddmdtemplat acinl templat softwar design document srsmdtemplat acinl templat softwar requir specif rtmmdtemplat acinl templat requir traceabl matrix vvrmdtemplat templat build verif valid report acinl suppli templat farmdtempl templat build failur analysi report acinl suppli templat sllmdtemplat templat build softwar librari list acinl suppli templat ccimdtempl templat build commun contact inform acinl suppli templat scsmdtemplat templat build softwar code standard acinl suppli templat extens configur configsqaext list avail configur set sqa extens configur item includ moosedoc configur file eg configyml option extens fairli intric thu option shall discuss detail devel set idconfigsqaext captionconfigur option sqa extens modulemoosedocsextensionssqa objectsqaextens repo option dictionari name url use link issu within test specif default option popul dictionari link default keyword moos repositori test specif includ issu list default use moos repositori link issu moosebas applic specifi option correct repositori default exampl examplerepoconfig set default url exampl also demonstr add addit url ie pika list avail url list captionexampl use repo configur option idexamplerepoconfig moosedocsextensionssqa repo default httpsgithubcomidaholabmastodon pika httpsgithubcomidaholabpika within test specif issu includ issu number multipl repositori use exampl examplerepoconfig possibl issu list could look follow number without prefix would link url list default number pika prefix would link pika url list test issu pika alert note titlemoos libmesh alway avail moos libmesh repositori automat ad use moos libmesh keyword therefor issu number moos libmesh alway avail need specifi repo option categori idcategoriesconfig option defin variou sourc sqa document includ document applic allow one applic includ sqa document anoth applic point featur allow sqa document build otherin way moos allow physic build otherto minim effort need build complet sqa document categori option dictionari dictionari includ four key spec depend repo report examplecategoriesconfig exampl nest dictionari use option subopt detail follow directori list directori search requir defin within test specif spec list test specif name depend list categori depend exampl examplecategoriesconfig heat_conduct categori depend framework categori list allow depend list within variou sqa document shown sqamoose_srsmd report option sqa report gener see pythonmoosesqaindexmd addit detail list captionexampl use categori configur option idexamplecategoriesconfig moosedocsextensionssqa categori framework directori moose_dirtesttest spec test repo moos heat_conduct directori moose_dirmodulesheat_conductiontesttest spec test depend framework repo moos report includ moose_dirmodulesheat_conductiondocsqa_reportsyml requirementgroup dictionari link default requir group name desir group name moosesqaindexmd packag automat group requir top level folder within list directori provid categori defin item categori configur option see categoriesconfig list group use organ requir see framework_srsmd requirementgroup allow group name modifi exampl examplereqgroup demonstr use option list captionexampl use requirementgroup configur option idexamplereqgroup moosedocsextensionssqa requirementgroup dgkernel dgkernel object interfacekernel interfacekernel object report option provid inform gener applic level set sqa report shown sqaindexmd moos pleas refer pythonmoosesqaindexmd addit detail default_collect option includ singl string provid default collect name see requirementslist requir option default function thu requir gather specif consid function requir default append_run_exception_to_failure_analysi boolean true default add failure_analysi collect see requirementslist runexceptionframework_stpmdapprovalrequir test requir list sqa requir command list requir locat test specif project sqarequir list avail set command pleas refer moose_srsmdsystemrequir exampl use devel set idsqarequir captionconfigur option sqa extens requir command modulemoosedocsextensionssqa objectsqarequirementscommand avail option collect set list function requir defin use case correct unambigu complet consist verifi traceabl usabl requir system includ measur effect effici satisfact criteria specif context use perform requir defin critic perform condit associ capabl system requir interfac among system element extern entiti failure_analysi requir perform check simul integr error handl converg failur extens command follow section provid inform regard requir crossrefer list sqa crossrefer command provid list requir fashion requirementslist organ design document rather folder group pleas refer moose_sddmdrequirementscrossrefer exampl use devel set idsqacrossrefer captionconfigur option sqa extens crossrefer command modulemoosedocsextensionssqa objectsqacrossreferencecommand verificationvalid list sqa verif sqa valid command provid list requir fashion requirementslist organ includ requir includ verif andor valid item test specif sqaverif list avail option command illustr use follow specif includ verif item requir would includ requir list gener sqa verif command test spec type runapp input examplei verif examplemd requir system shall exampl demonstr verif devel set idsqaverif captionconfigur option sqa extens verif valid command modulemoosedocsextensionssqa objectsqaverificationcommand depend list sqa depend command creat list depend document use inform categoriescategori extens configur exampl moose_srsmd contain link variou sr document togeth form sqa entir moos project gener command need moosebas applic develop use avail templat devel set iddepend captionconfigur option sqa extens depend command modulemoosedocsextensionssqa objectsqadependenciescommand document sqa document command use automat defin link applic sqa document eg rtm sr moosebas applic sqa land page exampl document list stochast tool modul sqa pagestochastic_toolssqaindexmd use command gener command need moosebas applic develop use avail templat complet list avail set command provid document devel set iddocu captionconfigur option sqa extens document command modulemoosedocsextensionssqa objectsqadocumentcommand report sqa report command use gener complet sqa report moosebas applic land page exampl report stochast tool modul sqa pagestochastic_toolssqaindexmd use command gener command need moosebas applic develop use avail templat complet list avail set command provid report devel set idreport captionconfigur option sqa extens report command modulemoosedocsextensionssqa objectsqareportcommand modal extens alert construct prefixfals titledevelop extens extens associ syntax moosedownmoosedocsspecificationmd file modal extens render modal windowshttpsenwikipediaorgwikimodal_window contain code content gener anchor element trigger token may either includ string content explicitli absolut path project file read content token spawn moosedoc extens exampl automat link sourc file creat modal display complet content demonstr modalexampl devel exampl idmodalexampl captionmod trigger gener autolink extensionmoosedocsextensionsautolinkmdsourc frameworksrckernelsdiffusionc alert note titleth modal extens code current modal extens strictli display code content extens may still creat modal display type content use appropri style classesframeworkdoccontentcssmoosecss languagecss exampl search button top page trigger modal creat navig extensionpythonmoosedocsextensionsnavigationpi configur modal extens implement procedur prevent display file content help ensur sensit proprietari inform accident reveal public multipl extens creat token exampl syntax input command applic syntax extensionmoosedocsextensionsappsyntaxmdinput gener list moos input file toggl hide_sourc option see modalconfig disabl modal trigger leav filenam render plain text devel set idmodalconfig captionconfigur option modal extens modulemoosedocsextensionsmod objectmodalextens option list modalconfig set via configur filemoosedocsconfigmd hide_sourc option prevent display sourc file eg c file henc except option provid mean handpick file deem safe reveal configur demonstr use list pythonmoosedocstestconfigyml languageyaml startmoosedocsextensionsmod endmoosedocsextensionsdatetim default packag extens alert construct prefixfals titledevelop extens extens associ syntax moosedownmoosedocsspecificationmd file devel exampl captionexampl use inlin packag command moos packag darwin packagenam archosx acronym extens acronym extens provid conveni way defin acronym may use throughout document page page full text acronym definit display first time use shown acronymexampl alert note view websit tooltip creat acronym full name appear mous place acronym devel exampl idacronymexampl captionexampl use acronym acinl found chang name mani time acinl use sinc acronym list list acronym creat use acronym list command acronymlistset show avail option command devel set modulemoosedocsextensionsacronym objectacronymlistcompon idacronymlistset captionavail configur option acronym list command devel exampl idacronymlistexampl captionexampl acronym list command acronym list completetru develend configur avail configur option acronym extens provid acronymextconfig devel set modulemoosedocsextensionsacronym objectacronymextens idacronymextconfig captionavail configur option acronymextens object acronym defin configur eg configyml dictionari item acronym configur item yaml extens acronym type moosedocsextensionsacronym acronym inl idaho nation laboratori inel idaho nation engin laboratori ineel idaho nation engin environment laboratori addit multipl dictionari may use allow item pull multipl sourc exampl use acronym defin within framework well defin addit item follow may done yaml extens acronym type moosedocsextensionsacronym acronym framework includ moose_dirframeworkdocacronymsyml my_app inel idaho nation engin laboratori ineel idaho nation engin environment laboratori python sourc content atoz locationpythonsourc moostreenod pysyntax class namemoosetreenod moosetreesearch pysyntax function namemoosetreefindal pysyntax function namemoosetreefind pysyntax function namemoosetreeiter pyhitpyhit follow document public api pyhit python packag within moos pysyntax class namepyhitnod headinglevel pysyntax function namepyhitload pysyntax function namepyhitwrit pysyntax function namepyhitpars moos sqa tool moosesqa python packag set util gather requir test specif well gener softwar qualiti report softwar requir softwar requir inform directori collect use get_requirements_from_test function must provid two input list directori search list test specif name consid return dict list key top level folder group list entri contain requir object contain data requir exampl follow execut within moos repositori load requir inform moos test applic bash cd projectsmoosetest python python packag condaforg default jun clang darwin type help copyright credit licens inform import moosesqa req moosesqaget_requirements_from_teststest test sqa report inform output sqa check command ie moosedocspi check shown sqa land page sqaindexmd exacttru gener report object exist three type report object sqadocumentreport provid inform regard exist variou necessari document need satisfi nqa standard eg softwar test plan sqarequirementreport provid inform regard requir defin within test specif includ check duplic miss inform sqamooseappreport collect data regard inclus sourc syntax design document base moosebas applic regist syntax sqa softwar report may retriev use get_sqa_report function function requir one argument name report configur yaml file compris three section applic document requir section includ option sqamooseappreport sqadocumentreport sqarequirementreport respect file shown exampleconfig configur file stochast tool sqa pagestochastic_toolssqaindexmd avail option report gather sourc code variou report object creat report new applic need assist get start pleas contact moos develop via discuss forumhttpsgithubcomidaholabmoosediscuss list stochastic_toolsdocsqa_reportsyml idexampleconfig captionexampl sqa report configur file possibl gener report manual run follow command gener recommend sqa check command use applic doc directori bash cd projectsmoosemodulesstochastic_toolsdoc python python packag condaforg default jun clang darwin type help copyright credit licens inform import moosesqa report_tupl moosesqaget_sqa_reportssqa_reportsyml report report_tupl r report printrgetreport pyhit packag input file syntaxinput_syntaxmd moos use achit format pyhit packag provid tool read write manipul file within python packag use underli c librari use moos also reli moosetreepythonmoosetreeindexmd packag complet sourc document packag provid pyhit sourc documentationpythonsourcepyhitpyhitmd page exampl exampl demonstr use modul read input file inputi see pyhitinput modifi paramet retriev modifi comment write modifi content file use builtin format function list pyhittestsinputi idpyhitinput captioninput file use pyhit packag exampl exampl begin load two modul pyhit moosetre pyhit packag provid wrapper class pyhitnod c bind moos achit librari wrapper inherit moosetreenod gener pythonbas tree structur much function includ abil search tree exist moosetre packag import necessari modul desir input file see pyhitinput load use load function return root pyhitnod tree list pyhitteststest_examplespi idpyhitexampl captionexampl use pyhit packag read modifi write moos moos input file startmoosedocsexamplebegin endmoosedocsexampleend includestartfals content load tree search use moosetreefind function function requir node search function use search exampl function simpl lambda expressionhttpsdocspythonorgtutorialcontrolflowhtmlhighlightlambdalambdaexpress look node name gen child node mesh alert note lead backslash name search indic node contain mesh node unnam typic root node node locat modifi two way x_max paramet alter comment paramet chang note alter final modifi output written new file use pyhitwrit function modifyi content mesh block shown pyhitoutput list idpyhitoutput captionth modifi mesh block output input_modifiedi file mesh gen type generatedmeshgener dim xmax chang runapp tester runapp tester concret intermedi base class whose primari purpos assembl list command line argument run moosebas applic testhar handl figur right name applic includ suffix pass correct command line flag runapp tester add addit behavior processresult method inspect multipl output singl test test write multipl file eg exodusii csv maintain simplic testhar normal inspect multipl file differ type singl test howev possibl accomplish behavior use sever paramet control whether reexecut particular test file whether remov expect output test run normal handl testhar prevent falseposit test list moosetesttestsmiscshould_executetest captiondemonstr check two output one test file csvvalidationtest csvvalidationtest use valid purpos compar two csv file one produc simul one contain measur data comput mean standard deviat rel absolut error measur simul data point user specifi upper bound mean std deviat valu via mean_limit std_limit paramet respect error type either rel absolut set via err_typ paramet multipl file specifi cvsdiff paramet inspect valu user add v flag run run_test script check result come tabl like file comput request test_csv file file name csvdiff paramet comput mean std deviat simul valu request prescrib via mean_limit std_limit note current steadyst comparison support reporterread pysyntax class namemooseutilsreporterread perfgraphreporterread python util provid interfac read perfgraphreportermd output rebuild graph easi travers via perfgraphnod perfgraphsect object exampl usag take follow simpl diffus problem perfgraphreportermd set output final list testtestsreportersperf_graph_reporterperf_graph_reporteri realworldlik time pass command line argument meshgmgnx meshgmgni test execut singl element execut follow moose_dir environ variabl set directori contain moos list moose_dirtestmoose_testopt moose_dirtesttestsreportersperf_graph_reporterperf_graph_reporteri meshgmgnx meshgmgni run gener desir output moose_dirtesttestsreportersperf_graph_reporterperf_graph_reporter_jsonjson load perfgraphreporterread given output list languagepython import os mooseutilsperfgraphreporterread import perfgraphreporterread moose_dir osenvirongetmoose_dir pgrr perfgraphreporterreadermoose_dir testtestsreportersperf_graph_reporterperf_graph_reporter_jsonjson alert note exampl follow show detail call info method perfgraphsect perfgraphnod typic best way report data like use member method said class access data need appropri purpos show usag inform member method said class see refer refer method previou list class heaviest section determin five heaviest section list languagepython section pgrrheaviestsect printsect list perfgraphsect nonlinearsystembasekernel perfgraphsect feproblemequationsystemsinit perfgraphsect nonlinearsystembasecomputejacobiantag perfgraphsect feproblemsolv perfgraphsect meshgeneratormeshcacheinfo similarli obtain detail output list languagepython section pgrrheaviestsect printsectioninfo list perfgraphsect nonlinearsystembasekernel num call level time self children total memori self mb children mb total mb node moosetestapp main mooseapprun mooseappexecut mooseappexecuteexecution steadypicardsolv feproblemsolv feproblemcomputeresidualsi feproblemcomputeresidualintern feproblemcomputeresidualtag nonlinearsystembasenlcomputeresidualtag nonlinearsystembasecomputeresidualintern nonlinearsystembasekernel call time memori moosetestapp main mooseapprun mooseappexecut mooseappexecuteexecution steadypicardsolv feproblemsolv nonlinearsystembasenlinitialresidu feproblemcomputeresidualsi feproblemcomputeresidualintern feproblemcomputeresidualtag nonlinearsystembasenlcomputeresidualtag nonlinearsystembasecomputeresidualintern nonlinearsystembasekernel call time memori perfgraphsect feproblemequationsystemsinit num call level time self children total memori self mb children mb total mb node moosetestapp main mooseapprun mooseappsetup mooseappruninputfil actioninitproblemactionact feprobleminit feproblemequationsystemsinit call time memori perfgraphsect nonlinearsystembasecomputejacobiantag num call level time self children total memori self mb children mb total mb node moosetestapp main mooseapprun mooseappexecut mooseappexecuteexecution steadypicardsolv feproblemsolv feproblemcomputejacobianintern feproblemcomputejacobiantag nonlinearsystembasecomputejacobiantag call time memori perfgraphsect feproblemsolv num call level time self children total memori self mb children mb total mb node moosetestapp main mooseapprun mooseappexecut mooseappexecuteexecution steadypicardsolv feproblemsolv call time memori perfgraphsect meshgeneratormeshcacheinfo num call level time self children total memori self mb children mb total mb node moosetestapp main mooseapprun mooseappsetup mooseappruninputfil actioninitproblemactionact feprobleminit meshgeneratormeshmeshchang meshgeneratormeshupd meshgeneratormeshcacheinfo call time memori moosetestapp main mooseapprun mooseappsetup mooseappruninputfil actionsetupmeshcompleteactionmeshact actionsetupmeshcompleteactionmeshcompletesetupundisplac meshgeneratormeshprepar meshgeneratormeshupd meshgeneratormeshcacheinfo call time memori section name let say know want look time kernel evalu interest section nonlinearsystembasekernel obtain section question show inform list languagepython kernels_sect pgrrsectionnonlinearsystembasekernel printkernels_sectioninfo list perfgraphsect nonlinearsystembasekernel num call level time self children total memori self mb children mb total mb node moosetestapp main mooseapprun mooseappexecut mooseappexecuteexecution steadypicardsolv feproblemsolv feproblemcomputeresidualsi feproblemcomputeresidualintern feproblemcomputeresidualtag nonlinearsystembasenlcomputeresidualtag nonlinearsystembasecomputeresidualintern nonlinearsystembasekernel call time memori moosetestapp main mooseapprun mooseappexecut mooseappexecuteexecution steadypicardsolv feproblemsolv nonlinearsystembasenlinitialresidu feproblemcomputeresidualsi feproblemcomputeresidualintern feproblemcomputeresidualtag nonlinearsystembasenlcomputeresidualtag nonlinearsystembasecomputeresidualintern nonlinearsystembasekernel call time memori see residu solv evalu took total run time one residu evalu initi took total run time refer pysyntax class namemooseutilsperfgraphreporterread pysyntax class namemooseutilsperfgraphnod pysyntax class namemooseutilsperfgraphsect chigger python chigger python librari framework creat visual via script packag creat mite replac ensighthttpswwwensightcom packag basi peacock result tab chigger packag current heavi develop make tool interact via commandlin creat visual script rapidli pleas patient chang take shape associ document interest use chigger pleas refer test moosepythonchiggertest document complet contact us help pleas use moos discuss forumhttpsgithubcomidaholabmoosediscuss question inquir announc addit discuss forum also use mail list announc light traffic mooseannouncegooglegroupscomhttpsgroupsgooglecomforumforummooseannounc gmail user click join group button everyon els must send email mailtomooseannouncesubscribegooglegroupscommailtomooseannouncesubscribegooglegroupscom troubleshoot content find collect issu commonli experienc us point pleas use navig list right begin section experienc issu document design manner jump section pertin fix previou one includ helpfaqdiscussion_forummd includ helpfaqconda_issuesmd includ helpfaqbuild_issuesmd includ helpfaqfailing_testsmd content atoz alert tip proceed topic follow consid check discuss helpfaqwhat_is_femmd finit element concept finit element principlesfem_principlesmd shape functionsshape_functionsmd numer implementationnumerical_implementationmd nodal patch recoverynodal_patch_recoverymd numer integr feproblembasemdnumerical_integr newton method nonlinearsystemmdnewtons_method newton simpl equat nonlinearsystemmdsimple_newton chain rule nonlinearsystemmdchain_rul jacobian free newton krylov nonlinearsystemmdjfnk wrap finit element method way numer approxim solut pde like polynomi fit fem find coeffici basi function solut combin coeffici basi function solut sampl anywher domain comput integr numer use quadratur newton method provid mechan solv system nonlinear equat jacobian free newton krylov jfnk method allow us avoid explicitli form jacobian matrix still comput action basi function shape function feproblembasemdshape_funct polynomi fit introduc idea find coeffici function let consid simpl polynomi fit polynomi fit interpol set point look coeffici function form beginequ fx bx cx dot endequ b c scalar coeffici x x basi function find b c etc fx pass point given gener look beginequ fx sum_id c_i xi endequ c_i coeffici determin fx uniqu interpolari number point need fit need solv linear system find coeffici exampl defin set point beginequ beginarrayrl x_ y_ x_ y_ x_ y_ endarray endequ substitut x_i y_i data model beginequ y_i bx_i cx_i endequ lead follow linear system b c beginequ beginbmatrix endbmatrix beginbmatrix b c endbmatrix beginbmatrix endbmatrix endequ solv coeffici result beginequ beginbmatrix b c endbmatrix beginbmatrix frac frac endbmatrix endequ defin solut function beginequ fx frac x frac x endequ import solut function coeffici media mediafinite_element_conceptsquadraticpolynomialjpg stylewidth coeffici dont mean anyth number solut coeffici rather function creat multipli respect basi function sum function fx go point given also defin everywher evalu fx point x exampl comput f sum_i c_i gener f sum_i c_i g_i c_i correspond coeffici solut vector g_i respect function final note matrix consist evalu function point finit element simplifi method numer approxim solut partial differenti equat pde work find solut function made shape function multipli coeffici ad togeth like polynomi fit except function arent typic simpl xi although galerkin finit element method differ finit differ finit volum method find piecewis continu function approxim solut govern pde polynomi fit evalu finit element solut anywher domain way ad shape function evalu point multipli coeffici fem wide applic larg rang pde domain support rich mathemat theori proof accuraci stabil converg solut uniqu weak form use fe find solut pde start form weight residu variat statement weak form typic refer process gener weak form idea behind gener weak form give us flexibl mathemat numer weak form need input solv new problem gener weak form gener involv step write strong form pde rearrang term zero right equal sign multipli whole equat test function psi integr whole equat domain omega integr part use diverg theorem get desir deriv order function simultan gener boundari integr refresh diverg theorem transform volum integr surfac integr beginequ int_omega nabla cdot vecg textdx int_parti omega vecg cdot hatn textd endequ slight variat multipli smooth function psi beginequ beginarrayrl int_omega psi nabla cdot vecg textdx int_omeganabla cdot psi vecg textdx int_omeganabla psi cdot vecg textdx int_parti omega psi vecg cdot hatn textd int_omeganabla psi cdot vecg textdx endarray endequ finit element calcul exampl vecg kxnabla u diverg theorem impli beginequ int_omega psi leftnabla cdot kxnabla u right textdx int_omeganablapsi cdot kxnabla u textdx int_partialomega psileftkxnabla u cdot hatn right textd endequ often use follow inner product notat repres integr sinc compact beginequ left psinabla cdot kxnabla u right leftnablapsi kxnabla u right langl psi kxnabla u cdot hatn rangl endequ httpenwikipediaorgwikidivergence_theoremhttpenwikipediaorgwikidivergence_theorem exampl convect diffus write strong form equat beginequ nablacdot knabla u vecbeta cdotnabla u f phantomdisplaystyl int endequ rearrang get zero righthand side beginequ nablacdot knabla u vecbeta cdot nabla u f phantomdisplaystyl int endequ multipli test function psi beginequ psi leftnablacdot knabla uright psileftvecbeta cdotnabla uright psi f phantomdisplaystyl int endequ integr domain omega beginequ displaystyleint_omegapsi leftnablacdot knabla uright displaystyleint_omegapsileftvecbeta cdotnabla uright displaystyleint_omegapsi f phantomdisplaystyl int endequ appli diverg theorem diffus term beginequ displaystyleint_omeganablapsicdot knabla u displaystyleint_partialomega psi leftknabla u cdot hatnright displaystyleint_omegapsileftvecbeta cdotnabla uright displaystyleint_omegapsi f endequ write inner product notat term equat inherit exist moos type shown beginequ underbraceleftnablapsi knabla u right_kernel underbracelanglepsi knabla ucdot hatn rangle_boundarycondit underbraceleftpsi vecbeta cdotnabla uright_kernel underbraceleftpsi fright_kernel phantomdisplaystyl int endequ introduct moos offer option use zienkiewiczzhu patch recoveri techniqu evalu nodal gradient valu live node lead accur superconverg nodal gradient zienkiewiczzhu patch recoveri algorithm reli find element patch given node perform least squar regressionfit lsr sampl point construct patch element patch gener element patch defin beginequ omega_patchbigcup_in_c omega_i endequ n_ce number connect element current node gauss point element prove superconverg sampl point therefor sampl point patch simpli union quadratur point connect element discuss next section nodal gradient reconstruct fit set monomi term number monomi term degre freedom given n dpdp dimens mesh p polynomi order therefor need least n sampl point patch intern node side node enough sampl point perform fit corner node algorithm recommend use interior patch contain corner node complet multiindex monomi gradient field best fit complet set monomi p_boldsymbolalpha certain order p enumer combin p_boldsymbolalpha let boldsymbolalpha multiindex length dimens mesh beginequ boldsymbolalphaalpha_alpha_dhspaceinalpha_iinmathbbn_geq endequ let boldsymbolalphasum_idalpha_i defin famili monomi p_boldsymbolalpha_boldsymbolalpha function spatial coordin xyz beginequ p_boldsymbolalphamxalpha_yalpha_zalpha__boldsymbolalpha endequ exampl p beginequ boldsymbol pxyxxyy endequ number monomi term n dpdp case least squar fit rest algorithm remain straightforward follow standard least squar fit beginequ boldsymbol aboldsymbol cboldsymbol b endequ boldsymbol interpret patch stiff matrix boldsymbol b patch load vector boldsymbol c vector contain fit coeffici stiff matrix load vector assembl sampl point beginequ beginalign boldsymbol asum_in boldsymbol ptboldsymbol x_iboldsymbol pboldsymbol x_i boldsymbol bsum_in boldsymbol ptboldsymbol x_inabla uboldsymbol x_ilabeleq load vector endalign endequ note nabla uboldsymbol x_i solut gradient componentwis compon solut gradient share stiff matrix cach reduc comput cost fit nodal gradient comput beginequ nabla uboldsymbol xboldsymbol pboldsymbol xboldsymbol c endequ debug jacobian entriesdevelopmentanalyze_jacobianmd setup atom editor moosedevelopmentatom_editormd setup jupyt python notebooksdevelopmentjupytermd reduc compil time ccachedevelopmentccachemd setup jupyt python notebook jupyterhttpjupyterorg notebook web applic allow creat share document contain live python code equat visual explanatori text ideal vehicl distribut worksheet equat deriv graph even contain interact element instal jupyt moos come bundl miniconda instal instal addit python modul python base jupyt system suggest creat custom conda environ bash conda creat n jupyt cloneoptmooseminiconda new environ need activ necessari python packag instal bash sourc activ jupyt conda instal jupyt sympi run notebook server directori notebook file store execut bash jupyternotebook browser window sould open list notebook ipynb file ui element start new notebook _new_ dropdown top right select _python _ _notebooks_ new browser tab empti notebook open media mediajupyter_newpng start import sympyhttpwwwsympyorgenindexhtml enabl latex render equat python sympi import sympi import init_print init_printinguse_latextru next defin variabl function declar argument implement yet python c eta symbolsc eta h functionheta let defin express f use compon python f hc hc f lone f second line caus express print build symbol deriuv express f respect c eta python difff c difffeta yield media mediajupyter_examplepng enabl disabl environ switch back forth pristin moos miniconda environ jupyt environ use follow command bash sourc activ jupyt bash sourc deactiv jupyt jacobian debugg analyze_jacobianpi develop moos kernel bug implement offdiagon jacobian may lead bad converg problem util new kernel moos come jacobian debugg script assist develop task jacobian debugg use intern petsc function creat finit differenc jacobian matrix residu compar implement jacobian usual found computeqpjacobian computeqpoffdiagjacobian alert warn note moos default use ondiagon jacobian entri call computeqpoffdiagjacobian implement test add follow block input stylebackground precondit smp type smp full true alertend simpli run jacobian debugg input file follow bash moose_dirpythonjacobiandebuganalyzejacobianpi input_filei run moos applic autodetect peacock use comput jacobian use user suppli computejacobian method finit differenc residu jacobian matric agre analyz output error detect otherwis output human readabl diagnosi input file could look like kernel variabl ondiagon jacobian slightli kernel variabl ondiagon jacobian wrong offdiagon jacobian variabl u question kernel variabl u ondiagon jacobian need implement kernel variabl u ondiagon jacobian return zero note analyz put rel discrep hand code finit differenc natur languag alert note jacobian analysi solv perform jacobian check exactli given initi condit set ic care jacobian analyz still develop major featur work output faulti kernel class name straightforward input file multipl kernel contribut residualjacobian given variabl tip use random variabl make sure valu gradient variabl nonzero avoid trivial jacobian reduc mesh size greatli speed analysi done r option advanc view avail commandlin option jacobian debugg run script help option bash moose_dirpythonjacobiandebuganalyzejacobianpi help notabl option r resizemesh perform resiz gener mesh speed test option attempt reduc number element type generatedmesh mesh set nx ny nz valu either valu given option mesh_siz meshsizemesh_s set mesh dimens number element along dimens default requir r option e execut executableexecut execut would like build input file suppli execut search search execut default optim version execut avail peacock execut first search current directori parent directori debug output command line use run applic show exactli command run acquir data need analyz jacobian matrix use debug analyz case failur note analyzejacobianpi work solve_typ pjfnk activ precondit block execution block fine analyzejacobianpi turn boundari condit eg current test kernel integr boundari condit setup atom editor moos media mediaatom_screenshotpng stylewidthpxpaddingleftpxfloatright captionscreenshot atom action atomhttpatomio text editor develop github flexibl plugin structur sever plugin avail custom atom moos develop specif develop moos set atom instal packag download mac linux window oper system atom websitehttpatomio editor automat updat system core editor well instal plugin first step start atom first time select _atominstal shell commands_ activ atom apm shell command use termin close atom start moos project directori use atom ensur atom see full moos build environ import command media mediaatom_fuzzyfinderpng stylewidthpxpaddingleftpxfloatright captionopen new file fuzzi search cmdt cmdshiftp open command palett everi avail atom command access type letter dropdown list show keyboard shortcut cmdt open file anywher current project tree ie directori issu atom command need know precis path even precis spell filenam plugin tip instal plugin use apm command termin bash apm instal switchheadersourc media mediaatom_autocompletegif stylewidthpxpaddingleftpxfloatright captionautocomplet moos input file follow plugin instal effect develop moos base code edit moos input file use atom switchheadersourcehttpatomiopackagesswitchheadersourc use ctrlalt switch correspond header sourc file languagemoosehttpatomiopackageslanguagemoos syntax highlight automat indent moos input file c code snippetssnippet moos system highlight select moos c type autocompletemoosehttpatomiopackagesautocompletemoos context sensit autocomplet moos input file makerunnerhttpatomiopackagesmakerunn press ctrlr build current project within atom featur clickabl compil error messag jump straight locat compil error autocompleteclanghttpatomiopackagesautocompleteclang typeawar c autocomplet use make clang_complet project directori gener necessari configur file clangformathttpatomiopackagesclangformat use clangformat custom moos style rule format code set reformat automat save manual press cmdshiftk atomicrtagshttpatomiopackagesatomicrtag use rtag demon live index c symbol sourc tree provid _jump declaration_ featur see setup rtag moos recommend set whitespac core packag settingspackag search whitespac deactiv ignor whitespac current line sourc navig rtagshttpsgithubcomandersbakkenrtag download build rtag bash git clone httpsgithubcomandersbakkenrtagsgit cd rtag git submodul init git submodul updat mkdir mybuild cd mybuild cmake make j sudo make instal start rtag demon separ termin bash rdm leav termin open background get back old termin chang applic directori moosemodul run bash moose_unityfals make compile_commandsjson rc j caus make transmit list compil command rtag demon rtag demon immedi start index moos sourc code file observ process rdm termin window press alt atom cursor symbol even macro jump declar courtesi _atomicrtags_ packag use atom behind proxi enabl updat check plugin instal proxi inform must enter configur file atomapmrc creat file need text proxi httpserverport httpproxi httpserverport http_proxi httpserverport https_proxi httpserverport reduc compil time ccach ccachehttpccachesambaorg compil cach speed recompil cach previou compil detect compil done ccach deliv signific speedup develop moosebas applic work framework usag order use ccach moosebas applic necessari first build libmesh use ccach due fact moosebas applic ask libmesh built turn use flag build word use conda mooselibmesh packag use ccach order begin use ccach first creat new conda environ free mooselibmesh instal everyth necessari build libmesh ccach bash conda creat name ccacheenv moosepetsc moosetool conda activ ccacheenv export ccccach mpicc cxxccach mpicxx next build libmesh bash cd moos scriptsupdate_and_rebuild_libmeshsh alert note ccach condaforg packag oppos one control moos develop team necessari set cc cxx variabl manual time conda activ ccacheenv use ccach compil command execut ccach cccxx alias ccach modul ad ccach automag call appropri compil necessari userext list use command tabl iduserext captionlist use ccach command command descript ccach statist cach size hit miss ccach z reset statist ccach c clear compil cach ccach g set size cach eg gb use lldb use ccach might find difficult set breakpoint debug binari compil ccach fortun simpl fix problem bash echo set set targetinlinebreakpointstrategi alway lldbinit see discussionhttplldbllvmorgusetroubleshootinghtml backup consider use backup system comput like want exclud skip ccach cach binari folder chang frequent caus run disk space backup quickli use os x timemachin simpli add ccach list exclud folder binari access inlhpc follow inform provid hpc binari access applic aim get run instruct assum comfort run command termin aid instruct page clear convent use code block block dark blue background command execut local machin black background execut remot inl machin bash stylebackgroundcolorb command dark blue background execut local machin bash command black background execut remot machin alert note titleintern inlhpc websit access page provid variou link intern inlhpc websit httpshpcwebhpcinlgovhttpshpcwebhpcinlgov access site need browser setup correct set see hpc_remotemdsocksproxi login inlhpc setup connect inlhpc accomplish first configur local machin see hpc_remotemdsshconfig step need complet machin use access inlhpc resourc login inlhpc bash stylebackgroundcolorb ssh hpc user idhpclogin connect inlhpc machin login hpclogin need connect hpc machin sawtooth complet list machin pleas refer intern inl hpc websit hpcwebhpcinlgovhttpshpcwebhpcinlgov assum want work sawtooth access log one two avail login node sawtooth sawtooth bash ssh sawtooth log login node hpc machin verifi connect machin display host name bash echo hostnam sawtooth alert note titlelogin node use simul login node name suggest simpli access machin schedul job request interact job pleas run simul login node account could suspend occur often load applic environ next necessari load desir applic environ exampl assum bison desir applic other includ griffin blue_crab correct environ load use modul command follow bash modul load usemoos mooseapp bison point abl run execut exampl bison execut help display run follow command bash bisonopt help creat test input file demonstr use binari verifi oper correctli creat test input file exampl follow input file model steadyst diffus work moosebas applic list moosetesttestskernelssimple_diffusionsimple_diffusioni file creat inlhpc home directori copi via scp local machin case first creat locat file exampl follow creat test folder remot home directori bash mkdir test want creat file remot machin need use termin editor creat file emac vi altern creat file local machin copi remot run follow local machin assum creat file inputi aforement content bash stylebackgroundcolorb scp pathtothelocalinputi hpc user idhpclogintestinginputi run test simul startup interact job mention simul execut login node exampl start interact job request singl processor one hour within moos project queue bash qsub l selectncpu l walltim p moos command like take second even minut execut depend activ machin complet see messag similar follow bash qsub wait job sawtoothpb start qsub job sawtoothpb readi verifi comput node use echo hostnam command give node name exampl sawtooth exampl node name rin run interact mode also need load environ bash modul load usemoos mooseapp bison run simul previou section test input file creat inlhpc home directori within test folder moosebas applic design execut locat input file start navig locat bash cd test next execut applic argument follow input filenam exampl use bison creat test input file bash bisonopt inputi alert note titleavail binari user depend avail applic bison depend grant access specif applic pleas refer inlindexmd inform request access differ level avail view result idviewingresult mani way view result includ option use remot machin pleas refer visual system link hpcwebhpcinlgovhardwarehttpshpcwebhpcinlgovhardwar howev mani case desir view result local machin done copi content remot machin local machin use scp exampl copi output test run use follow command local machin bash stylebackgroundcolorb scp hpc user idhpclogintestinginput_out pathtothelocaldestin schedul job pb section provid basic exampl use acpb schedul job run inl resourc detail inform regard use acpb pleas visit inlhpc pb websitehttpshpcwebhpcinlgovhomepb gener schedul job requir two step creat acpb script describ requir resourc command execut submit script schedul creat acpb script use exampl problem simpl script schedul may creat top portion script provid acpb direct pass schedul notic line simpli argument pass schedul done via command line interact job bash binbash pb n test_run pb l selectncpusmpiproc pb l walltim pb p moos cd pbs_o_workdir sourc etcprofiledmodulessh modul load usemoos mooseapp bison mpirun bisonopt inputi meshuniform_refin recommend script creat locat input file execut ensur associ output simul end locat exampl script locat test folder testingtestsh acpb direct script includ n test_run set job name l selectncpusmpiproc indic util one comput select util core run mpi process l walltim alloc minut time simul p moos dictat job part moos queue complet list queue avail see hpc pb pagehttpshpcwebhpcinlgovhomepb alert note titleth number core differ machin sawtooth processor per comput node machin differ number pleas refer hpcwebhpcinlgovhttpshpcwebhpcinlgovhom list avail system second portion provid command execut cd pbs_o_workdir chang directori use job submit environ variabl defin leter command follow enabl modul command load requir modul problem final mpirun command follow applic execut input file execut exampl file simpl mesh refin extens make problem bit suit core submit script submit job schedul trivial first sure log one desir machin login node eg ssh sawtooth chang directori locat script associ input file use qsub command bash cd test qsub testsh run command return job id eg sawtoothpb qstat command use check statu job qstat u hpc user id sawtoothpb reqd reqd elap job id usernam queue jobnam sessid nd tsk memori time time sawtooth slauae short test_run gb q inform monitor job statu pleas refer inl job statushttpshpcwebhpcinlgovhomepbsjob_statu page inform qstat command also comprehens statu websit machin hpcwebhpcinlgovstatushttpshpcwebhpcinlgovstatu job complet expect output file avail locat input file test refer viewingresult previou exampl inform regard visual inl applic remot access acinl build maintain wide rang moosebas applic well achpc support applic follow link aid research learn avail code util acinl resourc run applic inlapplicationsmd inlhpc_remotemd inlhpc_binarymd inlhpc_ondemandmd request access idaccess inl applic may obtain outsid institut individu execut andor develop current follow access method avail certain applic hpc binari access user categori provid inlhpc account includ binari version desir applic readi use inlhpc resourc binari access user categori provid access binari version desir applic execut noninl system person workstat institut cluster sourc code access user categori provid complet sourc code access applic level access reserv individu develop new capabl applic contribut directli project request access acinl develop code pleas contact follow instruct inl model simul softwarehttpsmodsimcodeinlgovsitepageshomeaspx websit remot access inlhpc follow instruct design user access acinl achpc comput resourc oper machin outsid acinl ssh config idsshconfig edit sshconfig file local machin includ command proxi call intern inl site bash serveraliveinterv host controlmast auto controlpath sshmasterrhp hpc entri point host hpclogin hpclogininlgov hostnam hpclogininlgov dynamicforward forward host sawtooth sawtooth falcon falcon lemhi lemhi rod moosebuildhpcinlgov hpcgitlabhpcinlgov hpcschpcinlgov proxyjump hpclogin alert note titlewhat local remot user name differ remot usernam differ local usernam need add user direct appropri place see instruct herehpc_remote_different_usermd alert note titlewhat proxyjump direct fail ssh client version proxyjump command recogn pleas upgrad client possibl otherwis replac proxyjump direct follow line bash proxycommand ssh q x hpclogininlgov w hp alertend ssh tunnel creat tunnel hpc environ leav run requir access hpc resourc gitlab moos build etc close window loos connect resourc bash ssh hpc user idhpclogin alert note titleboth rsa pin token requir connect method requir rsa pin token need fullyqualifi domain name command host set ssh config file sock proxi idsocksproxi access common hpc resourc hpcgitlabhpcinlgov hpcwebinlgov etc within web browser traffic must rout sock proxi achiev use pac proxyauto configur file list moosescriptshpc_proxypac add proxi configur browser via follow url httpsrawgithubusercontentcomidaholabmoosemasterscriptshpc_proxypac document avail use firefoxhttpssupportmozillaorgenuskbconnectionsettingsfirefox add url within automat proxi configur url box recommend util googl chrome function requir set systemwid proxi configur log hpc gitlab go follow link httpshpcgitlabhpcinlgovhttpshpcgitlabhpcinlgov log use hpc id password rsa token pin ssh key creat ssh publicpriv key instal gitlab instruct found gitlab httpshpcgitlabhpcinlgovhelpsshreadmehttpshpcgitlabhpcinlgovhelpsshreadm request access abl connect httpshpcgitlabhpcinlgovhttpshpcgitlabhpcinlgov gener ssh publicpriv key pair pleas inform project owner requir access project receiv email state ad member said project abl creat fork repositori use httpshpcgitlabhpcinlgovhttpshpcgitlabhpcinlgov web site clone repositori fork bash git clone githpcgitlabhpcinlgovyour user idprojectgit view build statu moosebuild use browser modifi sock proxi set abl navig httpsmoosebuildhpcinlgovhttpsmoosebuildhpcinlgov visit intern hpc webpag httpshpcwebhpcinlgovhttpshpcwebhpcinlgov hpc ondemand hpc ondemandhttpshpcondemandinlgovpunsysdashboard servic provid inl allow user direct access resourc contain within hpc enclav via web browser order util servic must first request accounthttpsmodsimcodeinlgovsitepageshomeaspx request accept given necessari credenti provid hpc team head hpc ondemandhttpshpcondemandinlgovpunsysdashboard dashboard dashboard homepag use hpc ondemand first page see log home directori view home directori click file home directori launch file explor web browser tab file explor access file contain within home directori perform file oper normal achiev brows file use nativ file explor file explor also allow download upload file machin job job menu allow creat simpl bash script execut select hpc cluster alert note confus portabl batch system pb job cluster click item menu launch interact shell termin hpc machin abl anyth normal would nativ shell interact shell one excit featur hpc ondemand terminallik window use web browser media large_mediahpchpcondemand_terminalpng stylefilterdropshadow rem black prompt launch job build moos obtain civetlik test environ see civetlik environ rod idrodcivet often time code work machin fail continu integr test civet happen may surpris easi interact simul environ see build pagehttpscivetinlgov launch interact shell cluster machin seen ssh rod bash ssh rod next launch moosebuild enter interact civetlik environ bash moosebuild may notic similar civet use moosebuild well first thing want creat environ civet oper visual scan log build interest civet look load modul line locat within first line exampl languageyaml cp homemoosetestsingularitystart_moosebuildsh homemoosetestsingularitycivet_buildq_start_moosebuildkio sourc homemoosetestsingularitycivet_buildq_start_moosebuildkio instruct singular use default set forth moosebuild configsrelease_build_ubuntu mkdir p tmpubuntu chmod orwx tmpubuntu map tmpubuntu tmp within contain mkdir homemoosetestsingularitycivet_map_pathubuntu__cfbaeecedcceffbada use mooseenviron releas fcedbfeffc archubuntu build_dat pr_versionhttpsgithubcomidaholabpackage_builderpul rm homemoosetestsingularitycivet_buildq_start_moosebuildkio cp tmptmpunytg tmpubuntu tmp optsingularitybinsingular exec nohom homemoosetestsingularitycontainersubuntusimg tmptmpunytg load modul civetcivet mpichgccpetsc_defaultvtk advanced_modul autotool cmake inform immedi follow load modul look copi past content line load ident environ civet without quot bash modul load civetcivet mpichgccpetsc_defaultvtk advanced_modul autotool cmake readi clone build troubleshoot applic civet goe well eh poorli encount error civet alert note titleb courteou user rod rod singl stand workstat use multipl peopl pleas use quick troubleshoot light duti work wish run app use moosebuild extens pleas see civetlik environ cluster nodeshpc_ondemandmdclustercivet civetlik environ cluster node idclustercivet need comput power perhap failur occur mani hour know moosebuild also avail sawtooth lemhi falcon quick rundown start moosebuild machin follow run instruct detail run rod appli follow exampl run sawtooth bash modul load pb qsub lselectncpu lwalltim p moos modul load usemoos moosebuild moosebuild alert note use moosebuild rather singular fashion limit resourc avail one physic node look might allow pb launch singular contain wouldnt cool featur way remot access hpc connect differ usernam alert warn user follow instruct ifwhen oper machin locat outsid inl intern network ssh config file differ remot usernam follow exampl ident exampl provid main remot hpc connectivityhelpinlhpc_remotemd page except contain user direct case remot usernam differ local usernam bash serveraliveinterv host user doejohn controlmast auto controlpath sshmasterrhp hpc entri point host hpclogin hostnam hpclogininlgov dynamicforward forward host sawtooth sawtooth falcon falcon lemhi lemhi rod moosebuildhpcinlgov hpcgitlabhpcinlgov hpcschpcinlgov user doejohn proxyjump hpclogin back main pagehelpinlhpc_remotemd inl applic acinl develop larg number moosebas applic applic typic focus nuclear energi moos acinl simul capabl continu grow breadth applic continu expand well follow section highlight acinl develop applic bison row col small medium larg bison websitehttpsmooseframeworkorgbison bison finit elementbas nuclear fuel perform code applic varieti fuel form includ light water reactor fuel rod triso particl fuel metal rod plate fuel multiphys fuel analysi tool solv fullycoupl thermomechan problem col small medium larg media xfemimagegif stylewidth rowend c fundament part basic c reviewbasicsmd part scope memori overloadingscopemd part type templat stltypesmd part class object orient programmingclassesmd scope memori overload scope scope extent program variabl seen use local variabl scope point declar end enclos block global variabl enclos within scope avail within entir file variabl lifetim variabl goe scope destructor call dynamicallyalloc via new memori automaticali freed end scope name scope class scope cpp class myobject public void mymethod namespac scope cpp namespac mynamespac float void mymethod scope resolut oper doubl colon use refer member insid name scope cpp definit mymethod function myobject void myobjectmymethod stdcout hello worldn mynamespacea mynamespacemymethod namespac permit data organ featur need full encapsul assign prequel pointer ref recal assign c use singl equal oper cpp b assign assign one common oper program two operand requir assign locat left hand side memori locat express right hand side pointer pointer nativ type like int long pointer hold locat anoth variabl object memori pointer use avoid expens copi larg object ex function pass ponter larg object rather object pointer also facilit share memori ex one object own memori essoci data allow object access pointer pointer syntax declar pointer cpp int p use addressof oper initi pointer cpp int p use derefer oper get set valu pointedto pointer cpp p set valu p stdcout p n print stdcout n print cpp int int p declar pointer p set p equal address p p get valu point p add store result locat stdcout n print stdcout p n print stdcout p n print address xffffbfec pointer power unsaf previou slide cpp p almost anyth want p cpp p p happen cpp p access memori refer rescu refer altern name object think alia origin variabl cpp int int r defin initi ref r r stdcout n print stdcout r n print stdcout r n print address refer safe refer modifi cpp r r wont compil refer never start uniniti cpp int r wont compil note class declar may contain refer initi must occur constructor see exampl later summari pointer refer pointer variabl hold memori address anith variabl cpp int iptr declar iptr c int b iptr refer altern name object creat refer without exist object cpp int iref c must initi int b iref call convent happen make function call cpp result somefunctiona bmy_shap function chang valu insid b my_shap chang reflect code call expens argument copi around c default pass valu copi pass argument refer alia addit syntax swap exampl pass valu cpp void swapint int b int temp b b temp int int j swap j j argument stdcout j print j swap swap exampl pass refer cpp void swapint int b int temp b b temp int int j swap j j argument stdcout j print j properli swap dynam memori alloc need dynam memori alloc data size specifi run time rather compil time persist without global variabl scope effici use space flexibl dynam memori c new alloc memori delet free memori recal variabl typic limit lifetim within nearest enclos scope dynam memori alloc limit lifetim automat memori cleanup watch memori leak delet everi new normal usag dynam memori alloc unnecessari exampl dynam memori cpp int int b b new int dynam alloc bs valu b int c b stdcout c print delet b exampl dynam memori use refer cpp int int b new int dynam alloc int r b creat refer newli creat variabl r int c r stdcout c print delet b const const keyword use mark variabl paramet method argument constant typic use refer pointer share object guarante modifi cpp stdstring namemyobject printnam void printconst stdstring name attempt modifi name caus compil time error function overload c may reus function name long differ paramet list type differ return type enough differenti overload signatur cpp int fooint valu int foofloat valu int foofloat valu bool is_initi use get object constructor type templat standard templat librari stl static vs dynam type system c staticallytyp languag mean typecheck perform compiletim oppos runtim python matlab exampl dynamicallytyp languag static type pro con pro safeti compil detect mani error optim compil optim size speed document flow type use express selfdocu con explicit code need convert cast type abstract creat gener algorithm difficult use templat c implement gener program paradigm templat mani finer detail c templat usag beyond scope short tutori fortun small amount syntact knowledg requir make effect basic use templat cpp templat class getmax b b return els return b cpp templat class getmax b return b b ternari oper int j k float x z k getmaxi j use int version z getmaxx use float version k getmaxinti j explicitli call int version templat special cpp templateclass void printt valu stdcout valu stdendl templat void printboolbool valu valu stdcout truen els stdcout falsen cpp int main int bool b true printa print printb print true moos validparam special inputparamet class defin mooseincludeutilsinputparametersh static inputparamet yourobjectvalidparam method special custom object yourobject yourobjecth cpp class yourobject public somebas public static inputparamet validparam continu yourobjectc cpp inputparamet yourobjectvalidparam auto param somebasevalidparam paramsaddparamrealsome_valu e valu descript return param function use factori parser get set convert paramet input file use insid kernel need special validparam everi mooseobject creat c standard templat librari stl data structur vectorhttpwwwcpluspluscomreferencevectorvector listhttpwwwcpluspluscomreferencelistlist maphttpwwwcpluspluscomreferencemapmap multimaphttpwwwcpluspluscomreferencemultimapmultimap sethttpwwwcpluspluscomreferencesetset multisethttpwwwcpluspluscomreferencesetset stackhttpwwwcpluspluscomreferencestackstack queuehttpwwwcpluspluscomreferencequeuequeu priority_queuehttpwwwcpluspluscomreferencepriorityqueuepriorityqueu dequehttpwwwcpluspluscomreferencedequedequ bitsethttpwwwcpluspluscomreferencebitsetbitset unordered_maphttpwwwcpluspluscomreferenceunorderedmapunorderedmap c unordered_sethttpwwwcpluspluscomreferenceunorderedsetunorderedset c use c vector contain cpp includ vector int main start element stdvectorint v unsign int ivsiz vi cpp includ vector int main start element stdvectorint v unsign int vpush_backi cpp includ vector int main start element stdvectorint v vresiz creat element unsign int vi featur contain nest creat versatil structur cpp stdvectorstdvectorr v access item cpp unsign int vsize unsign int j j visiz j stdcout vij class object orient program object orient definit class new data type contain data method oper data think blue print build object interfac defin classs publicli avail method data instanc variabl one new data type also known object analog use one blue print build mani buid use one class build mani object object orient design instead manipul data one manipul object defin interfac data encapsul idea object new type black box implement detail unimport long object work advertis without side effect inherit give us abil abstract factor common data function relat type singl locat consist avoid code duplic enabl code reus polymorph give us abil write gener algorithm automat work deriv type encapsul pointh cpp class point public constructor pointfloat x float accessor float getx float geti void setxfloat x void setyfloat privat float _x _y constructor method call explicitli implicitli build object alway name class return type may mani overload version differ paramet constructor bodi use special syntax initi call initi list everi member initi initi list refer initi cpp pointpointfloat x float point base class would need construct first _xx _yy bodi often empti point class definit pointc cpp includ pointh pointpointfloat x float _xx _yy float pointgetx return _x float pointgeti return _y void pointsetxfloat x _x x void pointsetyfloat _y data safe encapsul chang implement without affect user type chang implement pointh cpp class point public pointfloat x float float getx float geti void setxfloat x void setyfloat privat store vector valu rather separ scalar stdvectorfloat _coord new point class bodi pointc cpp includ pointh pointpointfloat x float _coordspush_backx _coordspush_backi float pointgetx return _coord float pointgeti return _coord void pointsetxfloat x _coord x void pointsetyfloat _coord use point class mainc cpp includ pointh int main point p point p point point p compil error default constructor stdcout pgetx pgeti n pgetx pgeti n oper overload userdefin type object make sens use builtin oper perform function type exampl without oper overload ad coordin two point assign result third object might perform like cpp point b c assign c b use accessor csetxagetx bgetx csetyageti bgeti howev abil reus exist oper new type make follow possibl cpp c b oper overload insid point class defin new member function special oprat keyword cpp point pointoperatorconst point p return point_x p_x _y p_i point pointoperatorconst point p _x p_x _y p_i return use point oper cpp includ pointh int main point p p p p p p stdcout pgetx pgeti n advanc exampl shapeh cpp class shape public shapeint x int _xx _yy constructor virtual shape destructor virtual float area pure virtual function void printposit bodi appear elsewher protect coordin centroid shape int _x int _y deriv class rectangleh cpp includ shapeh class rectangl public shape public rectangleint width int height int x int shapexi _widthwidth _heightheight virtual rectangl virtual float area return _width _height protect int _width int _height deriv class circleh cpp includ shapeh class circl public shape public circleint radiu int x int shapexi _radiusradiu virtual circl virtual float area return pi _radiu _radiu protect int _radiu const doubl pi inherit use inherit deriv class describ term base class rectangl shape deriv class type compat base class ancestor use base class variabl point refer instanc deriv class cpp rectangl rectangl shape s_ref rectangl shape s_ptr rectangl deciph long declar read declar right left cpp mesh pointer mesh object mesh mesh param refer inputparamet object inputparamet param write gener algorithm cpp creat coupl shape rectangl r circl c printinformationr pass rectangl shape refer printinformationc pass circl shape refer void printinformationconst shape shape shapeprintposit stdcout shapearea n homework idea implement new shape call squar tri deriv rectangl directli instead shape advantagesdisadvantag two design implement triangl shape interest subclass triangl imagin add anoth constructor rectangl class accept coordin instead height width basic c preprocessor command first charact line includ iostream includ myheaderh defin someword valu ifdef ifndef endif predefin macro __file__ __line__ __cplusplu intrins data type basic type variant bool char unsign int unsign long short float doubl long void alert note void antidatatyp use exampl function return noth oper math comparison logic comparison memori new delet sizeof assign member access access pointer access refer object name resolut curli brace use group statement togeth creat new layer scope get express composit mathemat express cpp b c composit boolean express cpp b f e alert note oper use shortcircuit b f exampl ab ove may get evalu scope resolut oper cpp stdpowr b stdsqrtd dot pointer oper cpp my_objsomefunct b my_ptrsomefunct type cast cpp float pi cstyle cpp int approx_pi int pi c style cpp int approx_pi static_catintpi limit type cast work chang fundament differ type cpp float f float wont compil care assumpt cpp unsign int huge_valu ok int static_castinthuge_valu wont work control statement dowhil loop cpp int booleanexpress booleanexpress ifthenels test cpp booleanexpress els booleanexpress els previou exampl booleanexpress valid c statement result true fals exampl alway fals cpp switch express case constant command execut expressionconst break case constant case constant command execut expressionconst expressionconst break default command execut previou case match declar definit c split code multipl file header h bodi c header genral contain declar statement type use given name type bodi gener contain definit descript type includ ae built memori consum oper function perform declar exampl free function cpp returntyp functionnametyp name type name object member function method cpp class classnam returntyp methodnametyp name type name definit exampl function definit cpp returntyp functionnametyp name type name statement class method definit cpp returntyp classnamemethodnametyp name type name statement function exampl addit cpp includ iostream int addit int int b return b int main int z addit stdcout result z n return cpp includ iostream int addit int int b int main int z addit stdcout result z n return int addit int int b return b make makefil list depend rule satisfi depend moosebas applic suppli complet makefil build moosebas applic type make compil link execut compil link g myexampl myexamplec compil g myexampleo c myexamplec link g myexampl myexampleo compilerlink flag librari l includ path librari name l remov lead lib trail file extens link libutilsso would link lutil g ihomepermcjinclud lhomepermcjlib lutil wall myexec myexeco execut basic execut myexec find share librari runtim linux ldd ldlibrarypath mac otool dyldlibrarypath recal addit exampl cpp includ iostream int addit int int b move header int main int z addit stdcout result z return int addit int int b return b header file addh cpp ifndef add_h includ guard defin add_h int addit int int b function declar endif add_h header typic contain declar sourc file addc cpp includ addh int addit int int b return b driver program mainc cpp includ addh includ iostream int main int z addit stdcout result z return compil addit exampl g g c addo addc g g c maino mainc g g main maino addo c flag mean compil link command store makefil execut automat make command build issu idbuildissu build issu normal caus invalid environ perhap updat repositori occur mismatch moos applic combin two mooselibmesh conda packag date verifi conda environ activ date latest version moos packag bash conda activ moos conda updat conda activ moos fail see conda issuestroubleshootingmdcondaissu alert note ever updat perform conda good idea rebuild moos applic specif updat mooselibmesh andor moosepetsc may occur sever librari control may upgrad requir rebuild verifi moos repositori date correct vet version libmesh alert warn sure committedsav work follow command delet untrack file bash cd moos git checkout master git clean xfd output snip git fetch upstream git pull git submodul updat init verifi either moos directori set set correctli bash echo moose_dir return noth point correct moos repositori alert note user use set moose_dir command return someth sure unset bash unset moose_dir tri build simpl hello world exampl text visibl sure copi bash cd tmp cat eof helloc includ mpih includ stdioh int mainint argc char argv initi mpi environ mpi_initnul null get number process int world_siz mpi_comm_sizempi_comm_world world_siz get rank process int world_rank mpi_comm_rankmpi_comm_world world_rank get name processor char processor_namempi_max_processor_nam int name_len mpi_get_processor_nameprocessor_nam name_len print hello world messag printfhello world processor rank processorsn processor_nam world_rank world_siz final mpi environ mpi_fin eof mpicxx fopenmp helloc build fail correct conda environ load conda activ moos someth fail beyond scope document contact us via disuss forumfaqdiscussion_forummd build successful attempt execut hello word exampl bash mpiexec n tmpaout receiv respons similar follow bash hello world processor my_hostnam rank processor hello world processor my_hostnam rank processor hello world processor my_hostnam rank processor hello world processor my_hostnam rank processor succeed attempt rebuild moos applic youv made far work moos fail build time ask us discuss forumfaqdiscussion_forummd frequent ask question dont like conda alternativesfaq_conda_alternativesmd conda command workinghelptroubleshootingmdcondaissu cant build applic moosehelptroubleshootingmdbuildissu get gethostbynam failurehelptroubleshootingmdfailingtest test failhelptroubleshootingmdfailingtest build libmeshfaqfaq_build_libmeshmd build libmesh vtkfaqfaq_build_libmeshvtkmd build petscfaqfaq_build_petscmd stiff matrixhelpfaqwhat_is_femmd execut moos parallelgetting_startedexamples_and_tutorialstutorial_app_developmentstep_parallelmd mail list moos discuss forumhttpsgithubcomidaholabmoosediscuss technic qa moder traffic mooseannouncegooglegroupscomhttpsgroupsgooglecomforumforummooseannounc announc light traffic also brows old technic qa mail listhttpsgroupsgooglecomforumforummooseus compil libmesh idlibmesh compil libmesh requir proper environ let verifi thing attempt build possibl rebuild case verifi proper compil present linux packag code maxheight cc optmoosempich__mpich__gcc__gcc__binmpicc mpicc show gcc ioptmoosempich__mpich__gcc__gcc__includ loptmoosempich__mpich__gcc__gcc__lib wlrpath wloptmoosempich__mpich__gcc__gcc__lib wlenablenewdtag lmpi gcc optmoosegcc__gcc__bingcc packageend macintosh packag code maxheight cc optmoosempich__mpich__clang__llvm__binmpicc mpicc show clang wlcommonsuse_dylib ioptmoosempich__mpich__clang__llvm__includ loptmoosempich__mpich__clang__llvm__lib lmpi lpmpi clang optmoosellvm__llvm__binclang packageend look mpicc show return proper path path set return anyth see moduleshelptroubleshootingmdmodul help set proper environ set return verifi command return proper messag check petsc_dir set exist linux packag code maxheight echo petsc_dir optmoosepetsc__petsc_default__mpich__mpich___gcc__gcc__opt file petsc_dir optmoosepetsc__petsc_default__mpich__mpich___gcc__gcc__opt directori packageend macintosh packag code maxheight echo petsc_dir optmoosepetsc__petsc_default__mpich__mpich___clang__llvm__opt file petsc_dir optmoosepetsc__petsc_default__mpich__mpich___clang__llvm__opt directori packageend echo petsc_dir return noth would indic environ complet see moduleshelptroubleshootingmdmodul help set proper environ set return verifi command return proper messag file petsc_dir return error possibl perform manual instal would appear yet ran configur configur build directori taken care tri build libmesh bash cd moosescript update_and_rebuild_libmeshsh encount error step would like hear pleas seek help moos discuss forumhttpsgithubcomidaholabmoosediscuss provid diagnost libmesh configur log two file found follow locat mooselibmeshbuildconfiglog moosescriptslibmesh_diagnosticlog libmesh built success return begin step lead tri step compil libmesh vtk idlibmeshvtk libmesh default compil vtk use mooselibmesh conda packag howev attempt build version libmesh vtk support easiest way instal depend via conda run update_and_rebuild_libmeshsh script bash conda creat name customlibmesh moosepetsc mooselibmeshvtk conda activ customlibmesh cd projectsmoosescript update_and_rebuild_libmeshsh wish build vtk beyond scope document need explain libmesh new instal vtk provid lib includ path bash conda creat name customlibmesh moosepetsc conda activ customlibmesh cd projectsmoosescript update_and_rebuild_libmeshsh withvtklibpathtovtklib withvtkincludepathtovtkinclud vtk httpsvtkorg conda altern mean provid prebuilt librari limit conda long meet minimum requir list abl build librari stack capabl moos base develop homebrewhttpsbrewsh macportshttpswwwmacportsorg finkhttpswwwfinkprojectorg good altern maco machin tool provid finish easytoinstal binari leav need build petsc libmesh mooseyour applic spackhttpsspackreadthedocsioenlatestindexhtml anoth altern capabl build optim stack linux maco spack howev provid prebuilt binari spack instead suppli recip intend run build stack perhap advanc instruct get startedgetting_startedindexmd page would suffic lastli alway build everyth sourc your challeng includ sqaminimum_requirementsmd build use libmesh idlibmeshmyown libmesh suppli conda instal howev wish build use libmesh instal use update_and_rebuild_libmeshsh script due mooselibmesh instal conda creat set influenti environ variabl libmesh_dir would continu unset therefor advis creat new conda environ without mooselibmesh instal bash conda creat name customlibmesh moosepetsc conda activ customlibmesh cd projectsmoosescript update_and_rebuild_libmeshsh creat new conda environ customlibmesh instal need petsc depend build libmesh activ build libmesh discuss forum idforum issu solv pleas submit question moos discuss forumhttpsgithubcomidaholabmoosediscuss help fail test idfailingtest mani test fail good chanc fix simpl follow step narrow possibl caus first run test alway pass bash cd moosetest make j run_test always_ok p alert note titledid make j fail make j fail pleas proceed build issueshelptroubleshootingmdbuildissu like test fail test prove testhar avail libmesh built testhar work moos framework avail mean test fail may beyond scope troubleshoot guid howev continu read bold situat error list pleas submit fail test result moos discuss forumhttpsgithubcomidaholabmoosediscuss help test fail chanc test test fail reason environ variabl somehow instruct testhar use improp path tri follow rerun test may find receiv differ error time simpli continu troubleshoot use new error work way error list time ask moos discuss forumhttpsgithubcomidaholabmoosediscuss help check echo method return anyth tri unset unset method check echo moose_dir return anyth tri unset unset moose_dir check echo pythonpath return anyth tri unset unset pythonpath alert note titlemethod moose_dir set necessari perform rebuild see build issueshelptroubleshootingmdbuildissu fail import hit verifi activ conda moos environ echo conda_default_env command return moos see conda issueshelptroubleshootingmdcondaissu applic found applic yet built need success perform make make fail pleas see build issueshelptroubleshootingmdbuildissu perhap specifi invalid argument run_test see testhar optionspythontestharnessmdmoreopt specif help opt dbg oprof gethostbynam fail localhost errno fairli common occurr happen intern network stack rout correctli configur local loopback devic thank easi fix obtain hostnam bash hostnam mycoolnam linux macintosh add result hostnam etchost file like bash sudo vi etchost localhost follow line desir ipv capabl host localhost iplocalhost iploopback ff ipallnod ff ipallrout mycoolnam add line end host file everyon host file differ result ad necessari line describ macintosh nd method bash sudo scutil set hostnam mycoolnam receiv report second method sometim work timeout test fail due timeout error like good instal slow machin slow filesystem adjust amount time testhar allow test run time ad paramat test file pre test timeout type runapp input my_input_filei max_tim time second timeout occur default test crash crash indic testhar execut applic correctli applic exit nonzero return code see build issueshelptroubleshootingmdbuildissu possibl solut exodiff exodiff indic testhar execut applic applic exit correctli howev gener result differ suppli gold file test pass machin fail other would indic may appli tight toler accept error valu specif machin call phenomena machin nois csvdiff differ file format follow error check paradigm exodiff test build use petsc idpetscmyown petsc suppli conda instal howev wish build use petsc instal use update_and_rebuild_petscsh script build petsc necessari build libmesh well advis oper entir new conda environ sake keep environ sane bash conda creat name custompetsc moosempich conda activ custompetsc cd projectsmoosescript update_and_rebuild_petscsh update_and_rebuild_libmeshsh creat new conda environ custompetsc instal need mpich depend activ build petsc libmesh modul idmodul modul allow user control librari binari made avail within termin session worth mention modul command affect termin global routin ask user oper singl termin troubleshoot issu user instal one mooseenviron packag access modul pleas familiar commonli use modul command command command arg usag modul list list current load modul modul avail list avail modul modul load modul modul modul load space separ list modul modul purg remov load modul begin work modul manual best start clean especi durat faq purg current modul load bash modul purg load two default modul pertain oper system linux modul load moosedevgcc moosetool macintosh modul load moosedevclang moosetool load two modul inturn load necessari modul correct modul load approxim resembl follow list linux packag code maxheight modul list current load modulefil moosegcc__gcc__ moosecppunit__cppunit__gcc__gcc__ moosempich__mpich__gcc__gcc__ moosedevgcc moosepetsc__petsc_default__mpich_gcc__gcc__opt miniconda moosetbb__tbb__ moosetool packageend macintosh packag code maxheight modul list current load modulefil moosegcc__gcc__ moosecppunit__cppunit__clang__llvm__ mooseclang__llvm__ moosedevclang moosempich__mpich__clang__llvm__ miniconda moosepetsc__petsc_default__mpich__mpich__clang__llvm__opt moosetool moosetbb__tbb__ packageend termin mirror version number may vari slightli proper environ pleas return whenc came continu troubleshoot alert note titleughh none work find loop troubleshoot guid unabl solv issu still anoth attempt perform start time perform follow start packag code maxheight env bash export pathusrbinusrsbinsbin sourc optmoosemodules__modules__initbash packageend three command start new command interpret without default environ import error end solv due someth user environ note end solv issu someth one possibl mani bash profil get way point want contact moos discuss forumhttpsgithubcomidaholabmoosediscuss ask help track keep mind depend situat may ask contact administr machin oper hpc cluster exampl beyound control alertend alert note modul contain mooseenviron packag built hierarch directori structur modul may visibl modul load conda issu idcondaissu conda issu root caus issu page scroll section may look familiar follow instruct error channel access invalid receiv may victim us chang channel name underneath sorri remov offend channel bash conda config remov channel httpsmooseframeworkorgcondamoos conda config remov channel httpsmooseframeworkcomcondamoos conda config remov channel httpsmooseframeworkinlgovcondamoos receiv error channel present condakeyerror pleas ignor like three old channel next add correct channel bash conda config add channel httpscondasoftwareinlgovpubl your finish conda config show channel resembl follow bash conda config show channel channel httpscondasoftwareinlgovpubl condaforg default command found conda yet instal conda path incorrect set need recal instal conda instruct ask miniconda instal home directori miniconda requir set path accordingli bash export pathminicondabinpath path set tri run ever command initi attempt conda activ moos conda activ moos fail like bash commandnotfounderror shell properli configur use conda activ initi shell run conda init shell_nam current support shell bash fish tcsh xonsh zsh powershel see conda init help inform option import may need close restart shell run conda init possibl yet perform conda init properli see conda init could also mean older version conda environ tri activ somewher conda think simpli miss yet creat unfortun much diagnos go beyond scope document better left support team condahttpsdocscondaioenlatesthelpsupporthtml attempt creat new environ go bash conda creat name test quiet ye creat empti environ tri activ bash conda activ test ask initi conda see conda init command fail conda creat command error like involv conda first instal perhap sudo right anoth user look remov instal conda start get startedgetting_startedinstallationcondamd instruct failur natur also mean conda resourc file condarc bad shape way diagnos troubleshoot fashion file contain mooserel config refer bare minimum resembl follow bash channel httpscondasoftwareinlgovpubl condaforg default conda init conda init fail similarli noth possibl conda simpli know shell oper creat configur wrong shell figur shell oper bash echo ever return type shell oper also instruct conda initi exampl bash conda init zsh hint linux like conda init bash macintosh either bash zsh issu list quick fixattempt reinstal moosepackag bash conda deactiv conda remov moos ye conda creat moos mooselibmesh moosetool reinstal method ultim fail time submit error discuss forumfaqdiscussion_forummd finit element method idfem acfem mean solv ordinari often acpd continu given domain equat often difficult sometim even imposs evalu analyt geometri domain may arbitrari complex shape acfem close approxim solut certain case may produc exact solut acfem solut acpd assum take certain form problem domain discret irregular regular grid known mesh assum solut function interpol evalu special point grid space approxim real function discret point evalu made precis approxim solut mani approach acfem one common direct stiff methodhttpsenwikipediaorgwikidirect_stiffness_method probabl peopl first taught take introduct acf analysi cours method usual involv assembl system linear equat follow form equat idstiff bolda x b term bolda often refer stiff matrix direct stiff method bolda develop ad known coeffici correspond action b gener along compon acdof x x take unit valu one acdof time mention coeffici usual wellknown would normal obtain tabl avail literatur exampl stiff correspond six acdof eulerbernoulli beam three displac plu three rotat could normal found textbook mechan materi method direct stiff one howev mislead basic theori behind acfem mere conveni solut certain differenti equat demonstr consid eulerbernoulli beam equat equat idbeam dfracddx left dfracd udx right w beam often overlook structur analysi sinc nearli everi possibl solut found document make possibl use direct stiff approach downplay true purpos acf analysi beauti acfem possibl solv beam well mani differenti equat preexist knowledg sort solut acfem also gener purpos one ie procedur appli given acpd end result usual system equat like stiff readili solv comput intent forego discuss clear confus reader may exactli acfem finit element method method solv differenti equat simpl yet import definit acmoos user keep mind acmoos design coupl arbitrari number acpd develop multidisciplinari team scientist engin necessari fall back fundament acf analysi method like direct stiff fail provid level flexibl need caus gener acmoos employ galerkin methodhttpsenwikipediaorgwikigalerkin_method inform regard acfem implement acmoos refer helpfinite_element_conceptsindexmd page stiff matrix acmoos place special emphasi concept stiff matrix ie term bolda stiff matric emerg acf analysi procedur fact develop may ignor matric altogeth ie need worri exact detail algebra need concern govern equat mean wish evalu equat integr approxim solut peopl seem believ matric defin characterist acfem realli simpli consequ formul dont worri socal stiff matrix exist acmoos execut form anoth matrix oper handl extern ie portabl extens toolkit scientif comput petschttpswwwmcsanlgovpetsc solv procedur acmoos petsc commun back forth build condit produc solut stiff moos newslett novemb moos conda packag compat xcode newer maco monterey conda packag updat moosempich moosepetsc mooselibmesh merg httpsgithubcomidaholabmoosepul enabl full maco big sur compat previous unsupport xcode command line tool version updat also enabl support maco monterey clang compil also updat alert note titleintel mac updat appli intel mac offici appl silicon support way track moos issu httpsgithubcomidaholabmooseissu interest new develop alertend download new packag pleas activ moos conda environ perform follow command conda updat appropri version build number updat output least follow packag version build mooselibmesh build_ moosempich build_ moosepetsc build_ version build number increment time moos updat repres versionbuild compat first enabl issu new packag experienc pleas open new discuss posthttpsgithubcomidaholabmoosediscuss legaci input paramet deprec legaci input paramet construct method support nearli two year slate deprec mar said date object whose paramet construct updat compil previous input paramet defin templat special inputparamet validparamst requir forward declar object header follow cpp class somemooseobject templat inputparamet validparamssomemooseobject paramet defin sourc special inputparamet validparamst follow cpp templat inputparamet validparamssomemooseobject inputparamet param validparamssomeparentmooseobject paramsaddparamboolfoo fals descript return param new method input paramet construct involv defin static method object static inputparamet validparam transit object new input paramet construct method straightforward demonstr use exampl object first replac call validparamst tvalidparam header object remov forward declar describ add public static inputparamet validparam declar cpp includ someparentmooseobjecth class somemooseobject public someparentmooseobject public somemooseobjectconst inputparamet param static inputparamet validparam continu sourc object replac templat special inputparamet validparamst inputparamet tvalidparam method cpp inputparamet somemooseobjectvalidparam inputparamet param someparentmooseobjectvalidparam paramsaddparamboolfoo fals descript return param moos improv weakli compress fullycoupl implement navier stoke equat leverag functor system incompress navier stoke finit volum implement modifi support densiti variat formul similarli base rhie chow face interpol addit kernel necessari weakli compress formul time deriv densiti mass equat addit time deriv densiti multipli veloc momentum equat addit time deriv densiti multipli cp energi equat addit kernel ad handl mix length turbul model without normal energi equat densiti longer simpl time space vari fluid densiti kernel share incompress weakli compress formul transient exampl ad repositori weakli compress fullycoupl implement porou media equat porou media formul navier stoke equat similarli adapt handl weakli compress flow incompress kernel adapt handl weakli compress flow renam kernel renameblockgener renameblockgeneratormd updat support block merg mix oldnew block name id orderingindepend configur see document detail libmeshlevel chang chang dual shape function initi enabl edg drop mortar problem refactor autoconf compil option select allow test submodul stricter compil set reduc basi support empir interpol method incorpor integr term element side api support select svd precondition type improv calcul app visual project pars function mesh option preexist solut allow option noutput numer integr instead fix least workaround compil bug broken jit pars function compil appl compil fix broken timpi commun standard librari structur class larg string fix potenti leak timpi deriv data type caus valgrind error use case assort minor bugfix exodu iga read file multipl element block exodu iga file homogen implicit element weight element qualiti calcul infinit hex xdr header write potenti uniniti xdr version variabl bug fix minor enhanc miss user document ad initi condit time stepper kernel mesh gener postprocessor vector postprocessor nodal kernel functionbas initi condit ad conserv variabl formul fulli compress navier stoke equat moos newslett march moosedoc civet paper publish publish paper regard sqa practic associ use moosedoc civet use civet test andor moosedoc document pleas refer paper list citingmdtestinganddocument automat differenti paper publish publish paper automat differenti system use moos use automat differenti applic pleas refer paper list citingmdautomaticdifferenti earli construct subapp multiapp design chang multiapp made recent chang moos construct subappl subapp multiapp default right moos add multiapp main applic previous construct subapp happen within initi setup main applic execut action deriv multiapp set privat paramet use_posit multiapp fals overrid behavior delay construct featur requir sampler multiapp moos stochast modul chang affect calcul multiapp allow main applic inquiri subapp set object kernel boundari condit etc accordingli design document multiappssyntaxmultiappsindexmd along document updat relat multiapp bug fix minor chang fix stochast tool provid correct latin hypercub sampler also includ addit improv util shuffl resampl swap see shufflehhttpsgithubcomidaholabmooseblobnextframeworkincludeutilsshuffleh moosedoc includ abil mark content extern thu possibl includ syntax page anoth project without syntax regist page simpli state object avail negat need exclud specif file content prone error mainten problem eigenvalu execution work power iter use sinc slepc ep solver pars correctli moos side one outer iter allow ep newtonpjfnkjfnk chosen updat eigenvalu execution set maximum iter ep one one newtonbas eigensolv select eigenvalu execution work appropri power iter involv moos limit support map paramet input file current support map type string real string string conserv transfer enhanc conserv transfer conserv physic field adjust transfer solut userspecifi postprocessor executeon option execute_ontransf postprocessor requir transfer solut correctli might uncommon user forget specifi input paramet besid moosebas applic might hardcod executeon option user set transfer option code check user correct executeon option input file fix issu user correct execute_on option use conserv transfer code error use parallel pushpul multiapptransf multiapp field transfer nearestnod transfer project transfer parallel commun need obtain interpol valu parallel commun algorithm often impact transfer time scalabl previous commun algorithm employ scalabl replac old commun algorithm scalabl effici parallel algorithm parallel pushpul applic shown transfer time reduc factor four use new commun algorithm libmesh level chang timpi librari code includ standardtyp pack special wider varieti standard contain includ tupl array fix variables content includ list set map unord set map variables content fix calcul isogeometricanalysi mesh use ration bezier map configuretim detect default use c c flag compil support densevector densematrix construct stdinitializer_list effici improv jfnk solv moos newslett june multipl input file support user suppli multipl input file name option suppli input success merg one simul specif later file ad overwrit paramet allow user factor common paramet eg solver option postprocessor output set similar input file mooseappopt common_parametersi simulation_i output file name base _last_ input file name specifi unless outputsfile_bas paramet specifi multipl input specifi moos inform user paramet overrid top simul output assist user refactor input file sever new function ad hit commandlin tool hit merg output outfilei infilei infilei produc singl file outfilei merg infilei input would result moos simul multipl input file hit diff lefti righti hit diff left lefti lefti right righti righti perform diff left right file second exampl merg left right file respect first diff sensit order format comment input file hit common filei filei common_parametersi extract paramet common specifi input file valu use first step factor common set singl input file hit subtract common_parametersi simulation__ simulation_i remov paramet common_parametersi simulation__ creat simulation_i second step factor common paramet set input file result file run mooseappopt commoni simulation_i result simul mooseappopt simulation__ improv finit volum capabl sever new interfac kernel ad finit volum fluid flow particular simul gener diffus interfac kernel fvdiffusioninterfac variabl continu constraint kernel fvtwovarcontinuityconstraint relat postprocessor implement measur heat flux across interfac name interfacediffusivefluxaverageintegr libmeshlevel chang improv boundingbox perform active_local_subdomain_set mesh iter meshfunctionset_subdomain_id option genericprojector made flexibl solut transfer use side_hierarch finit element type ad variabl defin interfac element minor bug fix compat fix bug fix minor enhanc parsedpostprocessor ad framework remov need numer specif postprocessor differencepostprocessor scalepostprocessor kept backward compat input time_sect macro within tight possibl thread region within stochast tool modul remov see httpsgithubcomidaholabmoosepul news codeown featur activ moos repositori pull request modifi specif section code respect code owner automat contact review moos newslett decemb libmeshlevel chang flexibl transient adjoint calcul libmeshtimesolv class automat support timpimetaphysicl integr enabl easier parallel commun use moos automat differenti compat stricter gcc warn avoid gcc optim flag problem optim isogeometr analysi problem fix calcul element edg includ project onto higher order element edgebas degre freedom configur option requir hdf detect eas build newer exodusii librari version bug fix reduc basi code convers mesh second order preserv element integ support convert splinenodebas isogeometr analysi mesh unconstrain c ration bernsteinbezi form side element construct cach class optim moos news moos dynam project chang occur daili order help user stay current major chang project monthli highlight produc highlight email monthli moos userscontact_usmd moos announcementcontact_usmd list well provid januari _md decemb _md novemb _md octob _md septemb _md august _md juli _md june _md may _md april _md march _md februari _md januari _md decemb _md novemb _md octob _md septemb _md august _md juli _md june _md may _md april _md march _md februari _md januari _md decemb _md novemb _md octob _md septemb _md august _md juli _md june _md may _md april _md march _md februari _md januari _md decemb _md novemb _md octob _md septemb _md august _md juli _md june _md may _md moos news march moosedoc latex support support pdf output via pdflatex ad moosedoc capabl includ support latex output moosedoc extens capabl still earli stage develop ambiti would like test capabl follow demonstr tool bash cd projectsmoosetest make j cd projectsmoosepythonmoosedocstest moosedocspi build config latexyml open outputlatexmainpdf maco ad vector variabl coupl support ad automat differenti system support coupl vector variabl via adcoupledvectorvalu adcoupledvectorgradi function within adkernel object ad fluid properti support ad fluid properti system automat differenti current singlephasefluidproperti use call appropri function pass adreal valu eg c assum rho ad nonlinear variabl adreal specific_vol rho assum rhoe rhou ad nonlinear variabl adreal u rhourho adreal specific_internal_energi rhoe rho uu adreal pressur _fluid_prop_objectp_from_v_especific_vol specific_internal_energi ad tensor mechan tensor mechan stress diverg kernel coordin system convert automat differenti system addit ad version strain calcul coordin system support strain type small increment small finit ad new object name prefix ad initi ad support inelast model ad power law creep creep plastic model intern newton solv particularli difficult implement jacobian current often approxim elast stiff ad improv model consider provid perfect jacobian support ad tensor mechan addit framework level calcul depend quadratur point locat mesh displac ad particularli import calcul noncartesian geometri fluid properti interrog user fluid_properti modul util sampl thermodynam properti specifi state util valid fluid properti class deriv singlephasefluidproperti twophasefluidproperti syntax provid specifi thermodynam state sampl number properti print consol state see document fluidpropertiesinterrog detail meshonli output dimens improv sever enhanc made mesh dimens capabl correct dimens detect sever possibl edg case mesh sit xzplane addit meshonli command also properli consist check write proper mesh dimens simul regardless mesh createdgener pointsamplerbas class enhanc moos contain use pointsampl util use output solut base sever point capabl wrap sever use class moos linevaluesampl sidevaluesampl pointvaluesampl class request sampl set use point area domain along sideset middl simul recent addit class abil chang set sampl point invoc object allow user sever thing follow piec physic possibl captur high resolut solut inform simul evolv moosearray longer leak ok intern api anybodi touch moosearray know easi forgot clean memori alloc final fix decad moos without perform impact ad dgkernel ad capabl ad dgkernel dg user comput jacobian deriv parallel petsc extern partition mesh presplit start mesh reset singl partit stop us use parallel petsc partit capabl ad fix linear partition call petsc partition distribut graph construct partit process run parallel moos newslett may porou media incompress flow capabl ad support solv porou flow incompress navier stoke equat navier_stok modul includ mass momentum energi conserv fluid phase help addit kernel solid energi conserv equat handl time deriv heat convect term also includ weight gap mortar mechan contact implement implement variat consist discret scheme zeropenetr mechan contact constraint interest reader may refer associ issuehttpsgithubcomidaholabmooseissu pull requesthttpsgithubcomidaholabmoosepul finit volum interfac kernel ad interfac kernel finit volum physic use case interfac kernel enforc solut continu across interfac enforc flux continu materi properti must differ name differ subdomain ghost reason postprocessor usabl initi condit ad postprocessorinterfacemd initi condit postprocessor valu retriev use getpostprocessorvalu getpostprocessorvaluebynam postprocessor execut initi condit long execute_on paramet includ initi sqa updat updat document govern softwar qualiti practic chang result requir sqa document sqamoose_sllmd sqaframework_ccimd sqaframework_scsmd proport integr deriv control ad proport integr deriv pid control control system help basic tune optim task paramet simul evolv match target valu nest made easier meshgener subclass new meshgeneratoraddmeshsubgener api simplifi process creat c subclass meshgener constructor instanti meshgener class subgener fli specifi subgener argument programmat execut time subgener execut respect requir depend order new subclass access gener mesh either ab initio gener via chain subgener modifi andor combin produc gener mesh libmeshlevel chang nedelec_on vectorvalu space support tet element ad accessor easili get global set boundari subdomain id user vector parallel type store robust restart metaphysicl type compat nest eigen type enabl stdmove data timpi parallel_synch push pull fix wider petsc version compat bugfix elemis_child_on_edg memori leak fix petscmatrixmatrix_matrix_mult configur option fix enable_petsc_requir new crystal plastic base class ad materialbas version crystal plastic stress updat base class ie computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd facilit implement crystal plastic constitut law advantag new base class lie sever aspect modular base class design abl account one multipl crystal plastic deform mechan one time specif new crystal plastic base class allow individu combin deform contribut glide twin climb etc simplic new base class encapsul intern state variabl calcul one deform mechan singl materi class compar defin intern state variabl singl userobject requir finitestrainuobasedcpfinitestrainuobasedcpmd new design greatli reduc total number class need develop specif constitut relat user friendli reduct number materi class greatli simplifi input file user robust improv converg observ sever exist crystal plastic model convert new design alert note titledeprec finitestrainuobasedcp activ convert exist crystal plastic model computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd ad new capabl base computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd exist finitestrainuobasedcpfinitestrainuobasedcpmd class deprec forese futur therefor highli encourag develop user start transit new crystal plastic base class bug fix minor improv increas document navier stoke modul moos postprocessor auxiliari kernel moos newslett octob collabor comput center move new locat earli octob collabor comput center c locat includ open workspac softwar team meet room lot room collabor also new supercomput instal end year approxim core chang help inl continu grow leader comput softwar hardwar galleri larg card newsc_frontjpg titlecollabor comput center c card newsc_atriumjpg titleth atrium includ collabor area view snake river card newsc_confjpg titleconfer room futur moos workshop card newsc_podjpg titleth moos pod galleryend googl search main websit updat includ galleri exampl well googl base search provid better search result user explicitssprungekutta time integr time integr explicitssprungekutta creat implement strongstabilitypreserv ssp rungekutta method order time integr model fashion actuallyexpliciteul ie bypass nonlinear solver give option mass matrix comput invers requir user modifi implicit paramet residu object mesh gener enhanc mesh gener system throw error ambigu end point mesh gener tree addit new paramet final_gener ad disambigu mesh gener tree simpli termin mesh gener execut stack earli new compil support moos support gcc clang compil framework level referenceresidualproblem referenceresidualproblem object resid framework oppos contact modul easili use moos applic moreov prefer method use referenceresidualproblem chang instead use save_in variabl tag system employ exampl use new referenceresidualproblem setup found block list testtestsproblemsreference_residual_problemreference_residuali blockproblem bc referenceresidualproblem excel choic chang moos default converg criteria use ensur variabl differ residu scale individu converg assert converg case simul nearli steadyst eg initi residu small solver may crank residu numer infeas level referenceresidualproblem use conjunct automat scale tackl differ scale residu jacobian respect former ensur individu converg variabl latter ensur wellcondit matrix bug fix quadratur point index properli initi nodalbc object less commonli use public api work properli sideset properli preserv meshgeneratorextrud object moos newslett octob moosedoc continu improv document moos new websit recent went live moos pull request chang add test requir addit languag detail test purpos github issu associ test relev designdocument featur test addit document serv two purpos first use tri understand test second also use softwar lifecycl document also ongo work done convert moosedown latex announc task come week month parsedfunct improv parsedfunct take anoth function paramet similarli way take scalar valu postprocessor valu exampl syntax follow a_fn type parsedfunct valu sinx parsed_fn type parsedfunct valu sqrta var val a_fn obtain valu nest function honor time space posit evalu function ie exampl a_fn evalu time space posit parsed_fn function app objectact registr chang previous moosebas applic main app class contain sever registr method eg registerobject associatesyntax registerexecflag etc along special extern c function pair one move away function favor consolid simpl approach applic perform registr object syntax action exec flag special setup insid static registeral member function static void registerallfactori f actionfactori af syntax applic longer expect regist moos framework object directli perform registr transit depend fooapp applic depend heat_conduct modul barapp registeral function look someth like void fooappregisterallfactori f actionfactori af syntax registryregisterobjectstof fooapp registryregisteractionstoaf fooapp modulesappregisterallf af barappregisterallf af extern c void fooapp__registerallfactori f actionfactori af syntax fooappregisterallf af registrationrel code app constructor remov favor singl call registerall_factori _action_factori _syntax applic respons call registeral direct depend barapp depend fluid_properti modul bazapp registr occur automat call within barappregisteral need fooapp pleas add registeral function applicationsmodul applicationmodul depend applic removedelet old function includ fooapp__registerbla function favor new registeral applicationmodul downstream depend need keep old function pleas add deprec warn via moosedeprec macro downstream depend updat deprec messageswarn ad old registerobject etc function moos modul alert note registerapp fooapp__registerapp function still requir remain unchang applic test app eg footestapp new convent footestappfootestappconst inputparamet paramet mooseappparamet footestappregisteral _factori _action_factori _syntax getparamboolallow_test_object void footestappregisterallfactori f actionfactori af syntax bool use_test_obj fooappregisterallf af use_test_obj registryregisterobjectstof footestapp registryregisteractionstoaf footestapp regist test action syntax etc matrix assembl improv moos couplingmatrix object use indic variabl coupl one anoth check possibl ij variabl pair coupl work well number variabl small setup time scale like number variabl n address issu use differ couplingmatrix api allow us cach coupl variabl pair time loop variabl pair assembl global matrix smoothmesh meshmodifi smoothmesh meshmodifierhttpwwwmooseframeworkorgsourcemeshmodifierssmoothmeshhtml use perform userdefin number laplac mesh smooth iter mesh roughli speak laplac smooth algorithm work move node elementweight centroid neighbor node multipl iter tend converg final configur convex domain may run issu nonconvex domain smooth oper subdomainrestrict gener boundari node move futur plan extend capabl includ type mesh smooth algorithm elementqualityaux auxkernel elementqualityaux auxkernelhttpwwwmooseframeworkorgsourceauxkernelselementqualityauxhtml ad auxkernel call elemqu function build element auxvari field use visual purpos number differ element qualiti metric employ default use socal shape qualiti metric inform element qualiti metric see p knupp algebra mesh qualiti metric unstructur initi mesh finit element analysi design p section lowqual element nearlydegener quadshex sliver tetstri neg influenc matrix condit solut accuraci gener avoid possibl add feproblemderiv object via action custom problem advanc moos object use sever differ scenario includ coupl extern code externalproblem solv eigenvalu problem eigenproblem prior new capabl use custom problem requir user declar problem block input file custom type field process streamlin applic develop also use action add deriv feproblem object programmat make input file flexibl simpler allow type problem chosen depend inform input file way user switch back forth differ problem type minor modif input file test new capabl ad testsproblemsaction_custom_fe_problemaction_custom_fe_problem_testi test use dummi createspecialproblemact add feproblemderiv class type moosetestproblem new capabl access test via follow input file syntax testproblem name moos action test problem applic develop follow pattern establish createspecialproblemact make easier use custom problem type code bug fix bug nodalnormalbc prevent deriv class correctli use comput nodal normal fix commit bfahttpsgithubcomidaholabmoosecommitbfaaaccdfcbfafa moos newslett august ad scalar kernel scalar kernel use automat differenti adautomatic_differentiationindexmd ad necessari system ordinari differenti equat ode involv scalar variabl due exact jacobian offer parsedodekernelmd exampl ode involv contribut field variabl greatli benefit ad exampl element user object may comput adreal valu field variabl domain may use scalar equat creat ad scalar kernel deriv adscalarkernel implement method computeqpresidu caution use user object comput adreal valu sure execut user object nonlinear ensur deriv adreal valu popul multipl content configur moosedoc moosedoc capabl translat multipl set markdown moosedownmoosedocsspecificationmd file content use uniqu independ configur ie instanc reader render execution extens mean page websit may appear function unalik yet build togeth still singl moosedocspi build serv job serv home address think featur abil combin mani websit one exampl main moos websiteindexmd exacttru workshopindexmd alternativemissing_configmd built togeth even though translat moosedown html much differ way requir separ style javascript method anoth exampl two page could use two differ main menu bar differ execut instruct retriev applic syntaxmoosedocsextensionsappsyntaxmd notabl new featur provid abil crosslink content set use pythonmoosedocsextensionsautolinkmd build routin assum there differ page differ configur includ make edit live reload user assum interact page work exactli alway moosedocsconfigmd page revis reflect chang name pleas see moosedocsconfigmdmulticonfig section learn take advantag new system improv navier stoke flow capabl thermal boundari condit includ radi convect heat transfer boundari condit rework support primit mix conserv variabl set fluid flow initi condit conserv variabl set ad allow simpl initi densiti energi momentum temperatur veloc pressur bug fix minor enhanc explicitssprungekuttamd bug fix segment fault occur corner case use automat differenti due call computeadtimederiv initi stage data even though case result valu use quiet nan return instead tri use invalid pointer use time integr deriv explicittimeintegratormd solve_typ set anyth linear segment fault would occur error messag given instead miss class document ad action auxiliari kernel block boundari misspel code output name block boundari addit newli gener id simplifi search issu depend resolut user object auxiliari kernel cogniz respect execut flag depend resolut user object auxiliari kernel known fail given case incorrectli execut user object auxiliari kernel force_postaux boolean paramet user object may use reestablish correct order optionalparamet addit mesh uniform refin skip_deletion_repartition_after_refin instruct moos skip remoteel delet mesh repartit paramet default flag true uniform refin run effici time might extra ghost element number layer addit ghost element depend number uniform refin level flag use fine enough coars mesh want refin mesh level otherwis might introduc unbalanc workload larg ghost domain skip_refine_when_use_split instruct moos skip uniform refin use presplit mesh motiv ad paramet uniformli refin presplit mesh enabl highfidel simul set paramet fals load commandlin argument file multiapp inputfil paramet cli_args_fil ad load addit commandlin argument multiapp system file paramet popul subappl creation use want popul differ paramet subappl total number subappl larg otherwis input file manag add thousand paramet directli input file moos newslett octob experienc major disrupt servic due intern problem system inl consequ littl merg time moos repositori moos newslett decemb improv stochast tool sampler api sampler base class updat includ effici api comput sampl data parallel minim memori impact pleas refer distributed_samplesmd inform miscellan enhanc bug fix testhar properli detect failur part test use recov flag time print format fix nest call util made dont allow use contains_complete_histori paramet featurevolumevectorpostprocessor boundaryrenamegener bug fix old_boundary_nam use python updat pythonbas util within moos eg test har peacock moosedoc upgrad util python maintain support python offici languag support python httpswwwpythonorgdocsunsetpython offici end python support tool moos also end time upgrad use python pleas updat moos environ packag follow getting_startedindexmd instruct solid mechan modul retir schedul solid mechan capabl moos modul origin provid solid_mechan modul limit architectur materi model modul decis made sever year reimplement mechan capabl new modul call tensor_mechan signific develop effort migrat model inldevelop applic use mechan capabl base tensor_mechan get readi remov solid_mechan modul use model base solid_mechan applic gener deprec warn messag remov model base solid_mechan inldevelop moosebas applic june th remov solid_mechan modul moos one month later juli public chang come long time expect new model set base tensor_mechan modul bison team put togeth extens guidehttpsmooseframeworkorgbisontutorialsmechanics_conversionconversion_guidelineshtml migrat exist model use tensor_mechan part bison code document detail guid appli bison model gener principl applic convert model use mechan number advantag tensor_mechan biggest one cleaner modular architectur provid greater flexibl kind materi behavior model experi run time fairli compar solid_mechan tensor_mechan system primari motiv remov solid_mechan requir signific resourc maintain two set mechan model allow us focu resourc improv ad moos mechan capabl last coupl year new develop done tensor_mechan mani new model improv exist model avail tensor_mechan seriou stick juli st date retir solid_mechan concern impact schedul might work pleas let us know soon possibl appreci requir effort migrat model happi provid assist run issu pleas note still abl run solid_mechan model prejuli version moos access new featur beyond point choos havent alreadi done highli encourag start migrat exist model interest run futur version moos moos newslett juli moos workshop moos workshop slide updat moos workshopworkshopindexmd alternativemissing_configmd automat scale ad abil automat scale variabl block precondit matrix order improv converg linear solv user set automatic_scalingtru execution block moos run initi jacobian calcul use ondiagon computeqpjacobian statement kernel object moos inspect result matrix scale variabl residu jacobian entri subsequ calcul reciproc largest magnitud diagon element correspond variabl consequ largest diagon entri variabl order uniti user also elect scale calcul everi timestep set compute_scaling_oncefals execution block default scale factor calcul initi timestep use transient simul physic may chang substanti time mortar contact mortar base mechan contact ad contact modul good summari perform coupl test case given contact modul summarymodulescontactindexmd one test case optim solver option yield cumul nonlinear iter mortarbas contact vs iter penalti contact nearli factor two reduct current mortarbas contact case make use lagrang multipli nonlinearcomplementar function array variabl new variabl type name arraymoosevariablemd set object make use includ array kernel boundari condit etc also creat array variabl defin set standard field variabl finit element famili order standard variabl array variabl refer compon array variabl array variabl ad list testskernelsarray_kernelsarray_diffusion_testi blockvari specifi number compon compon paramet default valu one mean variabl either standard variabl vector variabl depend famili array kernel moos kernel oper array variabl assembl residu jacobian compon array variabl sampl array kernel found arraydiffusionmd similarli array kernel array initi condit array boundari condit array dg kernel array interfac kernel array constraint etc complet input file array variabl found array_diffusion_testi array variabl coupl standard kernel vice versa show array_diffusion_reaction_couplingi array_diffusion_reaction_other_couplingi purpos array variabl reduc number kernel bc etc number compon array variabl larg potenti hundr thousand avoid duplic oper otherwis lot standard kernel array variabl use radiat transport extra independ direct variabl result larg number standard variabl list moos object use array variabl arraydiffusionmd arrayreactionmd arraydirichletbcmd arraypenaltydirichletbcmd arrayvacuumbcmd arraydgdiffusionmd arrayconstanticmd arrayfunctionicmd arrayvariablecomponentmd elementintegralarrayvariablepostprocessormd applic develop deriv new array kernel boundari condit dg kernel initi condit templat array interfac kernel auxiliari kernel etc ad futur two simpl gener constant materi also ad use array arithmet oper genericconstantarraymd genericconstantdarraymd robust racecondit check testhar one common error regress test write accident creation output file racecondit multipl condit test input file multipl input file write output file testhar long abil check common race condit found user abl sneak unexpect race condit quit frequent moos intern samuel tew recent complet robust racecondit checker check use pr moos new system work isol test directori check filesystem test run examin file system activ make possibl look test may run concurr crossexamin output creat test run separ look conflict notifi civet potenti racecondit detect may also run mode local use option run_test script timedprint new util ad moos condit print progress inform form time dot termin specif block code take extend period time complet time block code elaps time also print give user inform activ consum nontrivi amount time inform print section code execut quickli develop may use capabl block code expect take signific amount time note capabl use frequent call section code cpp includ timedprinth console_timed_printrun timeconsum algorithm dot print close scope reach time elaps improv build parallel gnu make makefil rule improv addit parallel possibl use system newer gnu make instal user mani flavor linux may notic signific reduct build time build applic use sever librari modul moos sqa push moos team make big push get test document moosetest folder activ start june continu juli part effort extendedimprov syntax avail document test work sqa pleas see review requir section frameworkdocumentingmd support scalar kernel eigen system eigenvalu system suppos gener handl system differ engin area user case scalar kernel employ repres physic ad new capabl enhanc eigen system handl scalar kernel scalar kernel comput properli algebra system eigen equat produc algebra system eigen equat pass slepc comput eigenvalu note user need tag right hand side problem target applic gener eigenvalu problem first order l lagrang variabl multiapp transfer element variabl moos use handl constant monomi transfer field variabl applic implement sampl centroid element enhanc ad moos transfer element firstord l lagrang variabl sampl solut valu element node transfer applic note dont support element variabl higher first order moos newslett june distributedrectilinearmeshgener sinc begin moos generatedmeshmd gener cartesian mesh howev way work parallel distributedmesh nonoptim parallel complet generatedmeshmd actual built everi processor your use parallel_typ distribut entir mesh still built everi processor partit processor delet portion assign ad new capabilityhttpsgithubcomidaholabmoosepul call distributedrectilinearmeshgeneratormd new capabl allow processor uniqu creat portion mesh belong processor way much larger gener mesh creat parallel much quickli effici vectorpostprocessor parallel consist postprocessor output vectorpostprocessor vpp abl coupl back moos object howev one issu vector vpp produc requir complet processor root mpi process need valu vpp kernel mostlik run mpi process someth need done make complet vector avail mpi process new capabilityhttpsgithubcomidaholabmoosepul ad moos month automat handl parallel vpp output tell moos need complet copi vector everi processor add extra argument getvectorpostprocessorvalu like c getvectorpostprocessorvaluethe_vpp_parameter_nam the_vector_nam true true new part pass moos complet handl parallel free use vector valu processor addit new function call getscattervectorpostprocessorvalu ad help case vpp produc vector num_proc length object need access entri vector inform check bottom vectorpostprocessorsindexmd page media mediapartitionergrid_partitioner_examplepng stylewidthfloatrightmarginleftpx captionx gridpartition exampl gridpartition meshpartitionerindexmd respons assign portion domain mpi process run parallel never interact use default libmeshpartitionermd default use meti packag partit howev sometim want control partit month addedhttpsgithubcomidaholabmoosepul gridpartitionermd gridpartition allow use perfect grid similar generatedmesh element assign right exampl use gridpartition generatedmesh x grid use processor moos tag system previous global jacobian matrix global residu vector fill contribut kernel sweep done element sometim exampl eigenvalu solver explicit time stepper need flexibl way associ kernel vector matric arbitrari way kernel contribut one vector matric similarli matrix vector receiv contribut one kernel capabl current use build explicit sweep eigenvalu solver detail moos tag system taggingmd moosemeshclon moosemeshclon interfac return refer object alloc make easi forget explicitli delet object done new moosemeshsafeclon method return stdunique_ptrmoosemesh use instead moosemeshclon reimplement mooseerror base class level longer call overridden user code eventu remov altogeth porousflowjoin materi porou flowmodulesporous_flowindexmd modul automat add porousflowjoinerporousflowjoinermd materi requir need includ peski object current input file still continu run unchang may want delet object forget forevermor strain period new global strain calculationglobalstrainactionmd approach implement tensormechan modul relax stress along period direct allow correspond deform gener auxiliari displac fieldglobaldisplacementauxmd combin period displac enforc strain period approach enabl captur volum chang shear deform etc still maintain period bc displac tensormechan document tensor mechanicsmodulestensor_mechanicsindexmd modul complet set document class use engin scale thermomechan simul weve also improv document action link among action creat class includ recommend tensormechan masteractionmodulestensormechanicsmasterindexmd ensur consist among strain stress diverg formul mesh explod row col small medium larg visual tool chiggerindexmd basi peacock gui abil visual partit mesh explod element processor test script creat imag shown chiggerexplod list pythonchiggertestsnemesisexplodepi startimport colend col small medium larg media chiggerexploderpng idchiggerexplod captionvisu parallel partit use chiggerindexmd script colend rowend moos newslett march stochast tool stochast tool modulemodulesstochastic_toolsindexmd heavi develop gain power featur mani come near futur support distribut vectorpostprocessor vpp data ad framework allow massiv parallel stochast simul perform minim memori impact vpp must program support data distribut replic mode oper control parallel_typ paramet set distribut mode output file processor creat vpp statist calcul gener support replic distribut vpp data well multipl vector see vectorpostprocessorsstatisticsmd support comput bootstrap confid level interv ad statist calcul see vectorpostprocessorsstatisticsmd xmlxmloutputmd output object creat allow singl file vpp output improv mechan thermal contact jacobian jacobian kinematicformul base mechan contact improv accuraci impact variabl scale chang result significantli improv linear nonlinear converg contact problem use conjunct scale either manual automat thermal contact jacobian also improv month februari suppli depend thermal contact residu primarysid degre freedom includ block ondiagon temperatur offdiagon displac degre freedom libmesh level chang adapt lagrange_vec libmesh updat month februari enabl adapt lagrange_vec finit element famili updat also enabl use period boundari condit lagrange_vec much faster period boundari actual previou libmesh updat improv perform make worth mention period boundari use treesearch olog n complex instead linear search consequ moos user period bc capabl expect signific speedup simul especi larg problem simplifi testhar schedul parallel schedul capabl testhar chang reduc potenti pitfal creat sever relat test previous testhar would make test singl directori elig schedul time unless prereq paramet ad forc serial testhar schedul singl test singl directori default high concurr still achiev sever differ directori singl applic prereq paramet still use declar true depend sinc execut input file order guarante possibl forc parallel schedul within directori use new paramet parallel_schedul true top level test specif file see follow exampl test parallel_schedul true test test test extens use paramet recommend sinc could result unintend io race condit difficult catch file relat output exampl consid output due recov test mani develop routin perform workstat howev conveni use paramet develop sever highli relat test wish split separ directori moos newslett januari conda mpich updat gain enhanc support newer platform architectur alongsid variou bug fix enhanc moosempich packag updat mpich releas may httpswwwmpichorgmpichreleas updat obtain activ conda moos environ perform conda updat appropri version build number updat output least follow packag version build mooselibmesh build_ mooselibmeshvtk build_ moosempich build_ moosepetsc build_ moos improv peripheraltrianglemeshgener new mesh gener avail moos reactor modul peripheraltrianglemeshgeneratormd allow user take arbitrari input mesh typic reactor core automat add triangul area input mesh boundari circular peripheri thick peripheri element size within area reduc userspecifi paramet defin extra circl element vertic add output mesh may pass gener extens extrus etc triangle_stein show exampl triangul around exist core mesh media mediameshgeneratorstriangle_abtr_steinerpng styledisplay blockmarginleftautomarginrightautowidth idtriangle_stein captionan exampl triangul gener peripheraltrianglemeshgener use steiner point ring peripheralringmeshgener anoth new mesh gener peripheralringmeshgeneratormd also avail moos reactor modul mesh gener add peripher region use firstord quadrilater element ie quad circular extern boundari input mesh provid similar function peripheraltrianglemeshgeneratormd quadrilater element peripheralringmeshgener also work well reactor core explicit pin geometri addit coarser mesh assembl use recurs mesh add mani ring peripher region desir quad_peripheral_mesh show exampl peripher mesh gener mesh gener media reactormeshgeneratorscore_ringpng styledisplay blockmarginleftautomarginrightautowidth idquad_peripheral_mesh captionan exampl peripher ring cyan region gener peripheralringmeshgener libmeshlevel chang make comparedofobjectsbyid avail use build set node element pointer determinist order set order base pointer address make use stdcondition_vari _get_array elimin helgrind error multithread access petscvectorget updat timpi nanoflann updat use get_unique_tag messagetag remov cach feclough higher precis print assert failur resolv warn expectedli unbin entri clear input data structur use dont unnecessarili comput jacobian computeresidualandjacobian optim like leverag moos order comput residu jacobian simultan avoid duplic variabl materi properti reiniti bug fix minor enhanc boolean paramet extrap ad piecewiselinearmd set true specifi extrapol occur sampl outsid provid abscissa valu instead use nearest ordin valu moos newslett octob moosetool repositori remov effort extract python tool moos gener set tool halt need effort chang may consid futur support end petsc support end month petsc version older httpsgithubcomidaholabmoosepul moos code refer correspond prior version remov framework moos improv new featur reactor modul new modul call reactor introduc moosereactorindexmd enhanc moos mesh gener capabl nuclear reactor design specif hexagon pin assembl core current avail capabl allow analyst build hexagon pin duct assembl core use seri new meshgener simplehexagongeneratormd quickli build homogen hexagon pin assembl coars mesh represent polygonconcentriccirclemeshgeneratormd build heterogen pin cell option duct meshgener gener regular polygon pin cell number side triangl cartesian hexagon azimuth mesh discret may vari polygon side patternedhexmeshgeneratormd pattern pin cell assembl option add duct region also use pattern assembl core capabl modul allow reactor analyst avoid use extern licens mesh tool streamlin workflow significantli moosebas reactor physic analysi lower barrier entri user special attent paid allow user assign block name id extern boundari name id desir row col small medium larg media poly_pin_cellpng stylemarginautowidth captionheterogen pin cell creat polygonconcentriccirclemeshgeneratormd col small medium larg media ducted_assemblypng stylemarginautowidth captionduct assembl creat patternedhexmeshgeneratormd rowend media small_corepng stylemarginautowidth captionsmal core pinbypin assembl two control drum creat use patternedhexmeshgeneratormd variou input object addit function forthcom next week support static rotat control drum geometri autom extra element integ id assign call report id mesh identifi track pin assembl plane deplet zone triangular mesh capabl mesh core peripheri reactor geometri mesh builder use new submeshgener capabl moos streamlin input cartesian hexagon pin assembl core automat use id track region well appli materi assign mesh reactor modul capabl current forthcom discuss recent reporthttpsdoiorg modul develop fund doeneam multiphys technic area support advanc reactor analysi moosebas applic addit inform upcom capabl modul pleas contact emili shemon eshemonanlgov functor system new arbitrari evalu system made way moos purpos system allow arbitrari evalu functor object arbitrari point time space functor call varieti spatial argument includ element face inform object functor pull object deriv functorinterfac use getfunctor method moos object functor includ moosevariablesmoosevariablebasemdfunctorvar functormaterialpropertiesmaterialsindexmdfunctorprop function object use input file moosefunctornam paramet functor object comput valu call via oper gradient dot api also implement sever deriv functor type allow onthefli comput spatial gradient time deriv respect mortar constraint moos support mortar constraintsconstraintsindexmdmortarconstraint geometri mortar method enforc constraint introduc addit lagrang multipli variabl robust stabl nodeonfac constraint exampl moos mortar constraint previous avail includ solut continu equalvaluecontraintequalvalueconstraintmd enforc continu variabl valu two bodi period domain equalgradientconstraintequalgradientconstraintmd enforc continu variabl gradient contact normalmortarmechanicalcontactnormalmortarmechanicalcontactmd appli normal pressur surfac contact bodi computeweightedgaplmmechanicalcontactcomputeweightedgaplmmechanicalcontactmd enforc zeropenetr constraint bodi contact tangentialmortarmechanicalcontacttangentialmortarmechanicalcontactmd appli tangenti stress due friction computefrictionalforcelmmechanicalcontactcomputefrictionalforcelmmechanicalcontactmd constrain slip surfac friction contact thermal conduct gapconductancegapconductanceconstraintmd model heat transfer across gap miscellan bug fix crystal initi condit action correctli transfer block paramet initi condit creat user document ad postprocessor nodalproxymaxvalu postprocessor renam nodalmaxvalueid proxi term reserv use one variabl sampleperform action anoth exampl sampl valu variabl v maximum variabl u totalvariablevalu postprocessor renam timeintegratedpostprocessor new name accur describ function perform postprocessor libmeshlevel chang support tri triangl like tri plu one midel node tet tetrahedra like tri plu one midfac node face reduc basi eim updat side_hierarch finit element shape defin side discontinu side support triangl log_cal macro simplifi exceptionsaf perflog support use case refactor simplif finitedifferencemethod fallback calcul shape function gradient finit element type without analyt gradient implement exodusii_ioget_sideset_data_indic accessor method fix file handl leak exodusii use case leak trigger error run exodusii version read support new isogeometr analysi extens exodusii assort bug fix distcheck clang warn nondoubleprecis configur elempermut minor issu moos newslett decemb migrat github discuss moos develop team decid move new question github discuss forumhttpsgithubcomidaholabmoosediscuss report transfer abil transfer report valuesreportersindexmd subappl ad via multiappreportertransfermd multiapp userobject transfer multiappuserobjecttransf restrict block boundari use block boundari paramet help combin multipl transfer singl variabl also simplifi overal simul setup kernel bc etc scale support global ad index support ad automat manual scale moos global ad index configur obtain run configur withadindexingtypeglob work finit element finit volum variabl porou flow modul public paperhttpsjosstheojorgpapersjoss describ core physic porou flow modul publish outlin number porou flow model built publish past year includ groundwat model geotherm simul multiphas model assess miner problem pleas refer paper public involv porou flow modul geochemistri modul physic modul ad solv geochem model geochemistri modulegeochemistryindexmd capabl includ equilibrium aqueou system redox disequilibrium sorption surfac complex kinet combin fluid heat transport geochemistri modul design interfac easili porou flow modul complic reactiv transport scenario studi documentationgeochemistryindexmd contain mani detail exampl help get start geochemistri heap profil support ad heap profil use gperftool use track memori spike serial parallel simul instruct use capabl foundherehttpsmooseframeworkinlgovapplication_developmentprofilinghtml fix memori issu assemblyinit sever fulli coupl flag matric use assembl gener memori spike simul mani moos nonlinear variabl fix issu creat diagon flag matric coupl element moos nonlinear variabl often true use pjfnk precondition might also need fulli coupl matrix certain problem moos newslett juli jacobian tester moos python jacobian test capabl updat work petsc version user petsc version capabl test jacobian everi nonlinear iter instead initi condit old jacobian test capabl use petsc option snes_typ test termin applic execut one calcul jacobian petsc version snes_typ test option replac snes_test_jacobian option moos applic run normal handcod jacobian compar finitediffer jacobian everi nonlinear iter use sinc difficult captur possibl function state initi condit eg good result old option snes_typ test may lull applic develop think jacobian perfect circumst relationship manag presplit mesh relationshipmanagersrelationship_managersmd work properli use moos mesh splittersplittingmd capabl simul requir extra geometr inform relationshipmanag trigger mesh split process inform avail read presplit mesh bug fix fix incorrect input file line number error report certain circumst fix miss case unus paramet track moos error properli execution accident omit input file use splitmesh distributedmesh produc use error messag layeredbasederiv object restart petsc extern partition petscexternalpartitionerpetscexternalpartitionermd interfac incorpor moos interfac provid unifi api extern mesh partit packag parmeti chaco parti ptscotch mechan assign weight element side facilit workload balanc commun minim peacock exodu viewer improv row col small medium larg result tab peacock exodusview updat screenshot shown figexodus_tab result refresh effici tab redesign compact less frequentlyus control move menu item minmax toggl redesign cach variabl well control automat valu comput via visibl complet model block select compact use dropdown control possibl run peacock exodu viewer pass exodu r flag command line bash projectsmoosepythonpeacockpeacock r pathtoanexodusfilehere colend col small medium larg media peacockexodus_tabpng captionredesign exodu viewer tab idfigexodus_tab colend rowend moos newslett septemb moos improv perf graph live perfgraph util augment live capabl view join togeth perfgraph consoletimedprint allow perfgraph print statu execut program includ print what happen long section code took run much memori section ad alert warn make possibl chang consol necessari must util stdendl stdflush end consol output appear inform found perfgraphmd document exampl new capabl setup larg problem set uniformli refin updat mesh mb finish uniformli refin mb initi updat mesh chang updat mesh mb finish updat mesh chang mb still initi mb finish set mb local mesh refin capabl meshgener ad refineblockgeneratormd framework allow uniform refin multipl block desir number refin level block add new capabl adapt use similarli make refin oper easier set assist make converg studi cheaper avoid unnecessari refin ad refinesidesetgeneratormd framework allow refin multipl sideset differ number uniform refin sideset capabl prove use contact applic model discontinu geometri libmeshlevel chang major bugfix fe map calcul previous could approxim e rel error slightli perturb mesh fix invalid dozen gold test file e rel error solut fixoptim problem adjoint dirichlet condit option exodu v support elemcentroid implement deprec replac true_centroid accuraci vertex_averag speed adapt mesh refin support mesh infinit element timpi metaphysicl updat includ special commun automat differenti type depend minor bug compat fix optim bug fix minor enhanc nestedsolvemd method getstat ad get state solv allow user check solv converg converg criteria filemeshgener may skip partit use boolean paramet enabl partit mesh gener extrus mesh load filemeshgener blockboundari found kerneloth blockboundaryrestrict object code output name id miss locat lead easier interpret error messag point linevaluesampl consist select lowest id element report valu discontinu variabl edg node miss class document ad action auxkernel bc constraint damper dgkernel dirackernel feproblemsolv function fvkernel moos newslett june materi meshgener kernel system document materi systemsyntaxmaterialsindexmd document kernel systemsyntaxkernelsindexmd document meshgener systemsyntaxmeshindexmd document finit volum finit volum fv capabl moos continu develop made robust month may ensur fv work initi uniform mesh refin flux kernel function mesh dimens eg dd stochast tool modul stochast tool modul continu develop gain new featur includ numer exampl ad document stochastic_toolsindexmd creation stochastictool block automat defin automat set main applic necessari object oper without solv see examplesmonte_carlomd improv capabl transfer data stochast subappl navierstok modul addit made incompress ad insad navierstok capabl boussinesq approxim traction form viscou term moos public list public ad websit publicationsmd eigensolv enhanc signific eigensolv improv introduc shell matric nonlinear linear eigenvalu solver allow user attach custom precondition matrixfre option support array kernel add option precond_matrix_includes_eigen allow user add eigenvalu kernel precondit matrix option moos news may relationship manag new api enhanc relationshipmanag give develop full control parallel ghost geometr element node algebra solut inform simul allow develop reach beyond normal partit run algorithm may need access offpartit inform without manual parallel commun may notic inform relationshipmanag activ simul inform printout inform import capabl click hererelationship_managersmd pragma moos move away tradit includ guard use pragma instead slightli less error prone sinc dont need use differ cpp variabl everi file also reduc amount clutter header file pleas start use new scheme contribut moos pragma class someobject method manufactur solut mm method manufactur solut robust mean verifi simul tool correct therefor tool document perform type analysi ad code base pythonmmsmd auxkernel document document auxkernelsindexmd improv includ exampl system util vector variabl support auxiliari system vectorauxkernel base class creat allow vector auxiliari variabl exampl possibl creat auxiliari variabl popul pars function follow partial input file show exampl popul vector auxiliari variabl use pars function list vector_function_auxi blockauxvari function auxkernel improv support ad object moosedoc need includ residu templat argument ad object longer need within moosedoc syntax call exampl follow command use list avail paramet addiffus object list addiffusionmd linesyntax paramet requir use moosedoc track requir within test specif follow page provid detail inform expect document moos requir design issuesframeworkdocumentingmdrequirementdesignandissu what_is_a_requirementmd ad time kernel gener three adkernel base object list may use time deriv portion partial differenti equat inform kernel object gener provid syntaxkernelsindexmd document object purpos adtimekernelvalu object use time deriv term requir test function adtimekernelgrad object use time deriv term requir gradient test function adtimekernel object use time deriv term requir test function gradient test function graintrackerfeaturefloodcount enhanc featurefloodcount object detect percol among featur domain done suppli list primari secondari boundari percol track would interest addit featurefloodcount object calcul percent boundari coverag boundari may extern boundari intern boundari defin sideset miscellan enhanc bug fix executionerstart_tim work correctli perform restartrestart_recovermd simul reformat time dt printout dt longer print initi condit mislead fix bug second level multiapp properli restor picard iter moos newslett novemb applic develop tutori new tutorialgetting_startedexamples_and_tutorialstutorial_app_developmentindexmd arriv come restructur getting_startedindexmd section websit consolid getting_startedexamples_and_tutorialsindexmd page serv onestop shop avail learn content applic develop tutori base classic coupl darci pressur thermomechan tutori use demonstr live workshopgetting_startedexamples_and_tutorialsindexmdworkshop intend serv comprehens introduct moos framework releas new content partial finish hope complet come month continu work hard improv experi new user veteran one ensur easi access resourc need solv multiphys problem moos report system gener postprocessor vectorpostprocessor system creat new report system allow arbitrari type comput output via json inform pleas review see reportersindexmd unit convers input file physic unit pars conversionutilsunitsmd helper system ad moos unit object construct form string eg nm evat kgm unit parser support oper well parenthesi formul composit unit metric prefix support eg mpa kg mm input file valu convert inlin use brace expans syntaxapplication_usageinput_syntaxmd unit valu in_unit out_unit exampl unit bar nm pressur convers unit degc k temperatur convers celsiu kelvin unit jm evnm interfaci energi convers global ad index idglob new configur option moos withadindexingtyp allow option global local default valu local moos may soon transit global default user request global index use spars deriv contain addit data member store indic global index indic correspond global dof indic global index allow simpl code implement also make easi compos ad quantiti nonloc inform exampl use global ad index would straightforward build aggregatepostprocessor type quantiti use adkernel collect aggreg deriv inform use could potenti gener dens system matrix consum signific memori also comput resourc build sparsiti pattern flexibl valuabl perhap better exampl would build physic incorpor higherdimension lowerdimension variabl global index would make develop physic associ kernel much simpler expand finit volum framework support moos expand finit volum support significantli user block restrict finit volum variabl use finit volum variabl auxiliari variabl auxiliari kernel comput addit moos configur global moos support gradient reconstruct well crossdiffus correct nonorthogon mesh meshgener relationshipmanag relationshipmanagersrelationshipmanagermd ad meshgeneratorsmeshgeneratormd latter execut ensur run distribut mesh remot element requir later simul delet mesh gener execut meshmodifi remov meshmodifi object final remov year deprec meshgener input block also remov gener object place mesh block alert note titlemoosemesh base object develop futur moosemesh base object also remov time frame moment need perform custom mesh oper pleas creat meshgener object sqa statu report improv abil monitor document shortcom softwar qualiti program creat statu report tool aid continu improv document moos moosebas applic statu report moos provid sqaindexmd exacttru updat test machin process updat test hardwar come month expect see increas speed autom test mesh adapt enhanc mesh adapt done correctli displac distribut mesh exodu output use displac undisplac mesh sync user encourag use nemesi output distribut mesh exodu output use set regress test issu fix gather mesh zeroth mpi rank use exodu ad relationship manag mesh moos newslett febuari moosebison receiv effect nqa rate richard martineau director nuclear model simul happi share good news februari two highlycredenti extern softwar qualiti assessor asm nqa committe complet assess moos bison present outbrief affirm moos bison team excel job implement softwar qualiti softwar develop process practic final report avail midmarch specif invit assessor evalu moos bison strictest criteria ensur depart energi asm nuclear qualiti assur nqa requir met moos bison use safeti softwar applic ql ql includ atr requir nqa pedigre extrem proud team earn final grade effect python support remov moos util written python eg peacock run_test moosedoc requir python greater still python updat follow getting_startedindexmd instruct automat scale option residualbas scale automat scale support scale base residu well hybrid scale base preconditionerjacobian diagon entri residu entri blend residualjacobian scale base execution paramet resid_vs_jac_scaling_param resid_vs_jac_scaling_param correspond pure jacobian scale default resid_vs_jac_scaling_param correspond pure residu scale valu give nice blend excel choic multiphys simul residu scale may differ dramat physic scale group moos user may also group variabl purpos comput scale factor use recommend multipl variabl repres physic solid mechan navierstok experiment suggest use differ scale factor differ displac variabl exampl actual degrad solv perform group variabl togeth scale user specifi semicolon separ variabl list eg executionerscaling_group_variablesdisp_x disp_i vel_x vel_i sqa moosedoc ad capabl improv perform moosedoc support ongo effort implement document develop process nqa level standard mainli ad connect requir civet test result see framework_rtmmd csv valid tester new tester avail user valid work current test steadyst result transient support plan near futur tester comput mean standard deviat error measur comput valu user setup toler valu see csvvalidationtestermd multilevel multiapp restart picard iter multilevel subapp restart use latest solut via paramet keep_solution_during_restoretru initi guess potenti acceler simul moos newslett juli adinterfacekernel adinterfacekernel ad eas develop complex interfaci physic user inherit adinterfacekernel implement computeqpresidu function new prereq option test user use test option prereq wish run particular test last spec file ie test file complet featur intend use test spec file mani test note test within spec file must run pass attribut effect test hard code skip go skip due caveat like compil clang final test attribut prereq skip well test use prereq anoth test test spec file name error thrown simpl exampl use new option shown test c type runapp input test_ci prereq type runapp input test_ai prereq b b type runapp input test_bi configur test b run first test test c perform last unless b fail parallel mesh gener period boundari condit setup implement scalabl distribut fashion mesh gener parallel new option num_cores_for_partit introduc distributedrectilinearmeshgeneratormd allow user partit mesh use small number processor simul carri use larg number core potenti speedup parallel mesh gener moos newslett juli compress navierstok finit volum cnsfv navier_stok modul moos abil model transon superson flow use either harten lax van leer contact hllc kurganovtadmor discret strategi advect flux compress euler equat implement use finit volum method also implement varieti slope limit includ van leer minmod first second order upwind central differenc quick use interpol quantiti cell centroid face recommend compress fluid flow implement low mach number flow result overli diffus solut smooth eg high rayleigh number natur convect simul bug fix minor enhanc minor fix link document thank feedback httpsgithubcomidaholabmoosediscuss libmeshlevel chang mimic stl boost constructor alloc tri chang max order l famili add lumpedmassmatrix class test custom fe reinit libmesh_benchmark select benchmark exampl rb skip reinit dof elem commandlin overrid default metisvsparmeti init_nam point fix fe side unit test enablecomplex begin contains_vertex_of node equal test chunked_mapvector storag option weaken partitioner_test sfc processor bugfix pr libmeshlibmesh revert interior_par fix distribut refin multielem_dim mesh interior_par fix distribut refin multielem_dim mesh rb eim updat fix deprec warn slepc notquit use pool alloc mapvector check gdb command line print_trac compil gdb backtrac default moos newslett decemb moosedoc last month signific chang moosedoc python api see httpsgithubcomidaholabmoosepul hope thing notic improv perform particular live reload use pick page creat start well updat page use includ command automat includ page modifi moosedoc execut moosedocspi fast option option disabl slowest extens appsyntax navig allow quicker build complet websit also possibl disabl extens disabl option use help inform write document moos notic content locat chang much document content moos framework level document locat modulesdoccont chang made limit document framework directori syntax sourc page minim amount content includ applic includ framework document also allow framework level document refer modul content capabl moosedoc continu expand come month support latex pdf output focu websit exampl sever moos usag exampl ad websit httpsmooseframeworkorgexampl first sever exampl extens improv fill new user moos use exampl tutori sort learn basic solv problem moos work continu improv websit document new user tag system tag system enabl dg scalar interfac ad nodal integratedbc dirac kernel capabl use eigenvalu solver involv nodal kernel moos newslett novemb mesh metadata store moos gain new featur make easier manag mesh relat attribut simul setup name mesh metadata store purpos object hold kind attribut properti develop may wish publish mesh use object reason may want use metadata store need dynam cast underli mesh object gain access method attribut solv problem access meshmeshindexmd recoverrestart_recovermd need handl get paramet mesh differ normal startup vs recov run store properti store mean wont dynam cast underli mesh object get access specif api properti mesh anoth benefit use store dont treat normal simul recoverrestart_recovermd simul differ one youll abl retriev properti way either case simplifi startup code make lot differ use meshgener system build mesh programat metadata store popul earli recov run data avail execut custom action might creat interfac materi moos abil creat intefacemateri object interfacemateri capabl grab element face neighbor face variabl valu well element face neighbor face materi properti allow creation truli interfaci properti blend quantiti connect subdomain exampl applic interfacemateri cohes zone model exampl input file includ interface_value_materiali interface_value_material_split_meshi interface_value_material_split_mesh_statefuli sourc exampl interfacemateri deriv object interfacevaluematerialc jumpinterfacematerialc header exampl found interfacevaluematerialh jumpinterfacematerialh libpng detect test move moos configur anyon rememb moos got proper configur systembuild_systemmd good mean job correctli test exist libpng hack one moos makefil move moos configur system better reliabl turn detect fail rare case annoy deal system run test configur reliabl work without base configur result moos configur system manag make year without configur script want keep build process simpl develop abl deleg configur need libmesh configur system well final cave ad fullblown configur system moos use gnu autotool import part nobodi need chang work flow accommod new configur script complet option point hope keep way indefinit option librari configur may choos activ run script alway check option avail go framework directori run configur help miscellan enhanc bug fix testhar properli skip test requir presenc libpng kernel eigenvalu system made kernel eigenvalu system consist use nonlinear system said exist kernel regular nonlinear calcul use eigenvalu system without chang conserv transfer l lagrang conserv transfer support l lagrang nonlinear variabl integralbc support eigenvalu system enhanc eigenvalu system support integralbc help neutron transport calcul integralbc boundari condit often use eigenvalu calcul moos newslett may ad automat differenti ad capabl moos refactor applic develop longer use templat take advantag ad ad object api appear nearli ident nonad counterpart chang meant lower barrier entri ad applic develop well eas mainten framework doesnt come without tradeoff user employ solve_typ pjfnk extens use ad experi slowdown simul howev solve_typ newton recommmend solve_typ ad applic appreci slowdown observ one import chang materi properti declar ad must retriev ad properti similari regular properti eg allow pair declareget declareadpropertygetadmaterialproperti declarepropertygetmaterialproperti overview ad found hereautomatic_differentiationindexmd stochast tool surrog system within stochast tool modul enhanc support creation trainer evalu object includ abil store load arbitrari train data memori evalu load file document stochast tool modul improv includ exampl includ use new trainevalu object structur see modulesstochastic_toolsindexmd python paramet packag new python packag input paramet creat python directori new packag thoroughli test replac variou paramet system within moos python tool near futur pleas consid use new packag creat python tool applic desir paramet system finit volum experiment support solv pde use finit volum method ad moos conda environ instal tradit mooseenviron packag replac condapackag see installationcondamd moos newslett septemb sqa document complet document nqa primari focu past month interest see result labor pleas visit sqaindexmd exacttru meshgener meshmodifi meshmodifi offici deprec exist meshmodifi equival meshgener use achiev behavior mani applic use modifi big impact everyon move gener system next month two remov old system addit enhanc enabl better restart capabl old meshmodifi system remov new mesh syntax streamlin syntax meshgener rather separ top level block meshmodifi move gener subblock mesh block make sens logic might use sever gener build mesh there littl need separ mesh block conveni dont need explicitli set meshgeneratormesh type use new syntax gener mesh type assum meshgeneratormesh eg final mesh result process gener here exampl use new syntax build mesh mesh file_read type filemeshgener file twoblocks block_ type sidesetsaroundsubdomaingener input file_read establish depend reader block left new_boundari hull_ block_ type sidesetsaroundsubdomaingener input block_ depend first sideset creator block right new_boundari hull_ option skip parallel except check except check moos clean way abort solv run physic numer issu middl linear nonlinear evalu howev check except parallel scale expens term commun sinc except check involv global reduct new input file option executionerskip_exception_checkfals ad allow user toggl except check onoff confid simul produc except turn except check boost speed larger simul tradeoff thrown except may caus simul abort without usabl error case may even caus program hang simul complet use option make sure rerun option disabl seek support anyon note use option see messag startup log indic except check perform slepc support slepc support instal default petsc recent version moos redistribut packag use petsc submodul slepc support petsc submodul petsc manual instal instruct updat honor chang libmesh attempt pick slepc petsc_dir slepc_dir mandatori order use slepc chang transpar end user jacobian contribut element face comput thread jacobian block critic capabl physicsbas precondition rattlesnak amg updat face contribut dg kernel ignor result wrong calcul use dg kernel togeth amg updat new routin ad support jacobian calcul element face computejacobianblocksthread dg kernel new nonad vectorcompat time kernel handcod jacobian sometim still need formul vectorcompat time kernel thu vectortimekernel vectortimederiv avail altern advectortimekernel advectortimederiv new method coupledvectordotdu coupledvectordotdotdu also ad allow coupl jacobian entri object coupl time deriv exampl usag coupledvectordotdu found new coupledvectortimederiv kernel moos newslett septemb experienc major disrupt servic due intern problem system inl consequ littl merg time moos repositori moos newslett april moosetool work separ mani support tool eg test doc gui separ repositori moosetoolshttpsgithubcomidaholabmoosetool motiv desir nonmoos project use tool migrat ongo next month best minim impact user effort includ major improv respect portabl extensibl document end product robust use moos nonmoos applic bug fix user call feproblembasedisplacedproblemreinitelemneighborphi vector physic point reinit request problem previous feproblembasereinitelemneighborphi call gener case would attempt reinit undisplac displac problem would often lead fail invers error libmesh set physic point may lie within mesh subdomain undisplac problem displac problem vice versa moos newslett april softwarex paper publish new moos paper publish softwarex moos enabl massiv parallel multiphys simulationhttpsdoiorgjsoftx updat validparam framework modul updat use static function validparam pleas updat applic use new static function see httpsgithubcomidaholabmooseissu see chang moos updat applic perform follow step header h file remov class forward declar declar templat special validparam c forward declar class mycustomobject templat inputparamet validparamsmycustomobject header h file add static member function validparam class definit class mycustomobject public auxkernel public static inputparamet validparam sourc c file definit templat special c inputparamet validparamsmycustomobject inputparamet param validparamsauxkernel return param updat defin static member function follow sure updat call parent class validparam function use static version well c inputparamet mycustomobjectvalidparam inputparamet param auxkernelvalidparam return param imagefunct document imagefunctionmd document move old wiki stochast tool modul ad latinhypercubesamplermd gener sobolsamplermd oper arbitrari sampl scheme polynomialchaosmd surrog model includ reporterpolynomialchaosreportermd comput statist moment local sensit global sensit quadraturesamplermd includ spars grid techniqu includ gausssmolyak clenshawcurti quadratur grid new executableonli applic hpc cluster new way gain access intern inl code roll april intern extern licens user abl login inl comput resourc access moosebas applic binari built nativ cluster make build process unnecessari mani user analyst wish run code inform capabl made avail shortli bug fix modul makefil miss depend occasion caus corrupt combin librari file resolv user use new experiment conda environ may experienc test skip due odd compil name conda use issu resolv real distribut mesh gener distribut mesh generatordistributedrectilinearmeshgeneratormd develop gener work first creat distribut graph parallel repres element connect mesh go creat partit dual graph use petsc partitionerpetscexternalpartitionermd desir number equallys subgraph accord graph partit underli mesh element assign correspond mpi rank mpi rank build element need mpi rank final ghost element ad right place use parallel pull push moos newslett novemb moos develop workflow slightli modifi way moos chang submittedmerg github gener noth chang workflow use pull request next branch instead devel weve chang default github branch moos next automat select creat new pull request devel branch still exist exact mean still branch devel work chang moos automat differenti make use metaphysicl packagehttpsgithubcomroystgnrmetaphysicl moos forward mode automat differenti ad capabl capabl perhap use jacobian comput demonstr class inherit adkernel deriv class overrid computeqpresidu method jacobian comput automat carri deriv residu comput adkernel admateri class design deriv comput conduct jacobian comput phase comput residu deriv comput carri save substanti expens document ad ad percol framework eg addit adinterfacekernel addgkernel adintegratedbc adnodalbc best document exist test exampl input file includ ad_materiali ad_coupled_convectionad_coupled_convectioni ad_simple_diffusionad_simple_diffusioni exampl write adkernel see adcoupledconvectionh admatdiffusiontesth header adcoupledconvectionc admatdiffusiontestc sourc file exampl admateri found adcoupledmaterialh adcoupledmaterialc move forward idea applic develop abl develop entir app without write singl jacobian statement confid automat comput jacobian accur potenti decreas applic develop time order magnitud term comput perform note present ad jacobian inde slower comput handcod jacobian parallel extrem well relationship manag system evolut octob relationship manag system gain sever new capabl grain tracker enhanc graintrack continu improv upon robust enhanc new function sever area graintrack updat util latest improv ad relationship manag system graintrack creat separ geometr algebra relationship manag ensur proper amount solut inform necessari distribut simul stitch togeth separ grain region grain tracker enhanc ad octob graintrack enhanc support melt pool simul simul may begin zero grain previous graintrack support simul began nonzero number grain graintrack longer use recurs discoveri method identifi individu grain region processor modern linux mac oper system default fairli small stack size megabyt graintrack use finer mesh larger grain possibl run stack space creat difficult understand segment fault rather requir user adjust stack space use common capabl recurs algorithm simpli replac iter one allow much larger recurs explor featur handl degen bound box eg bound box robust fast intersect check addit algorithm check difficult track case involv nucleat evolut close proxim eg track robust vector initi condit initi condit suppli vector variabl current vectorconstant exist see vectorconstantich vectorconstanticc vector_constant_ici easili ad overrid valu method action refactor materialoutputact object relat object refactor made simplier previous task design metaact howev discov action could simplifi convert normal mooseobjectact direct new enhanc enabl mac os mojav support debug code sign entitl csvdifferpi csvdiff tester compar subset column enhanc come migrat improv random test remov deprec test framework modul dont updat fail test list run fail test failedtest bug fix avoid unnecessari data structur copi multipl systembas explicitli set current subdomain elementalvariablevalu postprocessor avoid assert avoid duplic run mesh adapt mesh modifi run moos use presplit mesh fix httpsgithubcomidaholabmooseissu httpsgithubcomidaholabmooseissu moos news februari continu automat differenti expans automat differenti conduct vectorkernel nodalbc vectornodalbc integratedbc vectorintegratedbc addit framework calcul depend import finit element quanitit like jxw shape function gradient consequ variabl gradient normal curvatur mesh displac calcul depend critic effici nonlinear solv largedeform solid mechan lasermeltingweld fluidstructureinteract problem improv support execute_on final support execut object final execut flag improv specif abil perform transfer final ad chang also involv improv support exodu output also limit final addit abil creat symbol link latest final version vectorpostprocessor output ad capabl control via csvmd output object use create_latest_symlink create_final_symlink input paramet flag flag enabl creat file _latest _final latest flag link last timestep current simul run final flag point file creat output object setup execut final multiapp input control support abil control multiapp command line argument multiapp initi ad allow input paramet multiapp defin via input file master applic exampl follow snippet show multiapp input block creat two subappl singl input file use cli_arg input paramet mesh size two applic modifi list command_linemasteri blockmultiapp advanc paramet manipul control systemcontrolsindexmd util exampl within stochast tool modulestochastic_toolsindexmd follow test demonstr abil set input paramet within subappl valu distribut list multiappscommandline_controlmaster_multiplei moos newslett may true explicit moos expliciteul option long time unfortun still involv lot nonlinear solut algorithm includ linear solv use mass matrix true explicit capabl merg moosehttpsgithubcomidaholabmoosepul new capabl differenti extrem lean fast provid abil lumpedmass explicit updat dont even need solv linear system inform see actuallyexpliciteulermd vector finit element moos supportshttpsgithubcomidaholabmoosepul vector finit element current avail element type lagrange_vec nedelec_on former equival vector scalar lagrang element use applic like tensor mechan navierstok user would specifi multipl kernel block displac veloc compon nedelec_on element specif tailor pde involv curl oper maxwel equat introductori exampl found moos test suit testtestskernelsvector_f control system improv controlsindexmd updat improv perform usabl respect perform paramet declar control cach object creation allow retriev effici easier previous everi object paramet interrog everi call chang respect usabl controllableparamet object longer templat getset method object requir templat argument allow control object gener exampl samplerreceivermd allow vector paramet modifi hypr document realli new capabl moos still import new set document use hypr boomeramg precondition developedhypremd document goe basic advanc usag must read anyon regularli use hypr direct linkhypremd alway get applic developmentapplication_developmentindexmd page debug debug moosebas execut especi parallel got larg upgrad monthhttpsgithubcomidaholabmoosepul straightforward start moosebas solv pop interact debug window attach mpi process use startindebugg larger job stopfordebugg give time attach whatev processor wish inform see application_developmentdebuggingmd workbal statisticsvectorpostprocessor vectorpostprocessorvisu new capabl mergedhttpsgithubcomidaholabmoosepul allow better inspect work balanc imbal parallel workbalancemd vectorpostprocessor output mani differ metric detail much work commun mpi process inform see workbalancemd order understand output workbalancemd use new statisticsvectorpostprocessor allow comput aggreg statist anoth vpp like workbal min max averag stddev etc addit would like visual vpp vector n_proc length use vectorpostprocessorvisualizationauxmd auxkernel instanc use visual num_elem vector workbal visual inspect perform partition moos base reorgan case havent notic moos went signfic reorganizationhttpsgithubcomidaholabmoosepul main activ move file base creat new subdirectori like loop system problem etc base directori outgrown time spring clean addit better organ also sped compil time laptop even beyond huge speedup gain uniti buildshttpsgithubcomidaholabmoosepul custom line search moos allowshttpsgithubcomidaholabmoosepul implement custom linesearch custom nonlinear solut algorithm user wish creat line search inherit linesearch class overrid linesearch method demonstr custom line search implement found petsccontactlinesearchcontactlinesearchmd class cut line search paramet lambda specifi number time long residu decreas effect intermedi basic bt linesearch perform search reduc residu allow temporari increas nonlinear residu moreov contact set chang earli nonlinear solv custom linear toler set order avoid oversolv mesh split function autom presplit mesh workflowsplittingmd use distribut mesh implement allow larg mesh easili partit split configur perform parallel run specif number processor help reduc memori usag drastic speed setupiniti time among improv parameterspecif error messag perform input paramet specif error check moos object action consid use new paramerror paramwarn function function act like mooseerror moosewarn except take extra argument specifi input paramet name use annot errorwarn output relev inputfil locat inform exampl cpp myobjectmyobjectinputparamet param getparamintfoo paramerrorfoo valu must greater equal would give user error like yourinputi userobjectsyourobjectfoo valu must greater equal line number input file paramet error check addit checkinghttpsgithubcomidaholabmoosepul implement warn moos object paramet set without ever specifi validparam function prevent set paramet incod end silent ignor destin object happen sometim due typo mert multipl paramet object creation among way error messag look like text attempt set unregist paramet yourobject object foo bar foobar etc plugin xfem result visual paraview moos xfem modul allow arbitrari meshindepend discontinu repres finit element model use extend finit element method xfem simul result techniqu requir addit process correctli visual techniqu gener pair overlap element need clip show physic relev part solut plugin visual result gener use techniqu merg master branch opensourc paraviewhttpsparavieworg visual tool plugin openli avail time githubhttpsgithubcomidaholabxfemparaviewplugin use necessari build paraview sourc plugin part paraview avail nightli build part upcom releas plugin enabl within paraview select toolsmanag pluginsmoosexfemclip select auto load option restart paraview result moosebas model use xfem load filter appli select filtersalphabeticalmoosexfemclip moos newslett februari alert construct titlein progress moos newslett edit progress pleas check back march complet descript moos chang alertend moos improv libmeshlevel chang bug fix minor enhanc moos newslett februari incompress navier stoke finit volum insfv finit volum implement incomprss navierstok equat test liddriven natur convect channel flow implement solv mass momentum conserv equat fulli coupl manner use rhiechow interpol veloc field order avoid checkerboard pattern pressur field checkerboard pattern also aris finit element calcul use unstabl equalord base pressur veloc conduct verif test check mass momentum energi conserv latter includ simul moreov mm test method shown secondord converg respect mesh refin default automat differenti ad configur chang transit moos use globallyindex spars deriv contain automat different default experi shown contain type hardli ever slower small amount case much faster previou default ad contain time local index nonspars chang default configur hope littlefelt user howev power ad develop chang may open door complex calcul exampl finit volum gradient reconstruct neighbor neighbor inform requir handl larger elementcel stencil local index contain would extrem difficult howev straightforward natur use global index contain global vs local mean index base global number degre freedom vs local number degre freedom one hope imagin residu becom depend nonloc inform local index scheme becom unten gridpartition improv gridpartitionermd creat uniform processor grid overlay mesh partit assign element tobepartit mesh within cell grid processor previous nativ moos mesh explicitli creat repres uniform processor grid could caus issu specif scenario nativ moos mesh interf attach geometr relationship manag issu address creat virtual grid instead nativ moos mesh oper mesh element assign done use virtual temporari grid default petsc configur chang user explor moos massiv parallel hpc featur larges problem determin petsc bit integ enabl default chang affect simul perform motiv allow moos smoothli run larges simul hundr million billion dof due chang libmesh dof index set bit integ well subdomainspecif quadratur order weve recent ad support allow user specifi differ quadratur order subdomainblock mesh done via executionerquadratur subblock input file execution quadratur custom_block custom_ord specifi quadratur order also appli facequadratur rule execut subdomain run face quadratur rule face border two subdomain differ quadratur order higher order use consist face also possibl bump quadratur order persubdomain basi via code moos object constructor c yourfancymooseobject_maybeamaterial_or_maybeuserobject_etcyourfancymooseobject_maybeamaterial_or_maybeuserobject_etcinputparamet param some_fancy_condit _fe_problembumpallqruleordernew_custom_ord desired_block moos newslett august moosedoc plot possibl includ line plot moos markdown plot creat use plotli addit inform may found graphmd page markdown plot scatter datax namex x namexx markers plot scatter datax namex x namexx markers meshmodifi creat lower dimension block possibl gener lower dimension block sideset use moos meshmodifi lowerdblockfromsideset requir paramet use modifi sideset vector boundaryid build new block new_block_id subdomainid new block option paramet new_block_nam user want defin name newli creat block order lower dimension element creat match order parent element eg creat block quad tri face newli creat block element type edg quad tri element would yield edg behavior analog snippet show input file syntax use lowerdblocksfromsideset meshmodifi lower type lowerdblockfromsideset sideset new_block_id new_block_nam lower_d thread gener user object gener user object execut singl thread region even applic ran multiplethread possibl thread gener user object user need inherit threadedgeneraluserobject class moos creat one thread instanc per thread possibl safe access user object thread possibl normal generaluserobject unless access guard spin mutex fluid_properti modul updat use threadedgeneraluserobject ensur fluid properti lookup alway thread safe loss perform note threadedgeneraluserobject avail user use pthread thread model reason threadedgeneraluserobject run thread region creat thread section would n_thread n_thread thread activ would caus perform loss thread gener user object need run properli openmp tbb plotli httpsplotli work differ version libmesh new flag ad update_and_rebuildsh script work differ version libmesh handi new featur make way libmesh roll moos yet use flag simpli check version libmesh want suppli skipsubmoduleupd command line keep version build libmesh graintrack enhanc peopl work phasefield use graintrack sever enhac updat ad juli first signific algorithm chang parallel merg grain across multipl processor complet result signific speed increas run larger problem second experiment boundari restrict capabl ad count featur specifi boundari new test case larg input file ad tolerate_failur option also ad along sever new perfgraph timer profil purpos paramet error warn format improv merg month paramwarn paramerror method new featur introduc earlier spring worth mention develop encourag use paraminfo paramwarn paramerror method instead mooseinfo moosewarn mooseerror method moos work input paramet former method report line number along user suppli messag inform warn error issu help user hunt input file problem bug fix layeredbas restart final better error unregist object averagegrainvolum correctli calcul divid number activ total grain moos news june revamp mortar fem mortarconstraint revamp mortar reli automaticmortargener object name suggest automat gener mortar segment mesh perform integr static mesh problem mortar segment mesh gener done upon initi setup dynam problem displac mesh mortar mesh gener done everi residu evalu verifi new mortar system satisfi prior error estim eg l norm observ order order converg primal lagrang multipli variabl respect pp discret well pp pp plot result well technic discuss found mortar github issuehttpsgithubcomidaholabmooseissu addit excel overview mortar implement given technic reporthttpswwwostigovbiblio exampl use new mortar constraint found moose_dirtesttestsmortar directori exampl demonstr use mortar conform nonconform mesh well period boundari condit physic exampl includ solut continu thermal mechan contact latter case finit differ jacobian use howev followon prhttpsgithubcomidaholabmoosepul demonstr use automat differenti pjfnk solv frictionless friction contact new mortar constraint system porousflow reduct numer diffus new type numer stabil ad porousflow complement exist full upwind stabil choic aim reduc numer diffus code base theoret work kuzmin turek user strongli encourag experi new featur collect learn strength weak real simul minor chang input filesporous_flowktmd need activ new stabil numer stabil lead pageporous_flowstabilizationmd list pro con variou stabil scheme provid link page explain quantifi numer diffus stochast tool batch mode stochast tool modulestochastic_toolsindexmd includ abil run full transient solv use batch mode use multiapp contain larg number subappl batch mode multiapp creat singl subappl reus perform multipl simul allow reduc memori usag compar default behavior inform pleas refer batch_modemd rankmap hardwareidaux new capabl ad moos enabl abil queri inform physic node mpi process run particular allow user find mpi process locat physic node cluster use partit advanc transfer capabl addit new auxkernelmd ad hardwareidauxmd auxkernel allow visual placement mpi process physic node cluster extrem use understand outcom advanc mesh partition petscexternalpartitionermd inform see hardwareidaux documentationhardwareidauxmd combinergener new meshgeneratormd call combinergeneratormd allow output multipl meshgener combin singl mesh somewhat similar stitchedmeshgeneratormd except make attempt actual stitch mesh togeth instead mere copi one mesh anoth fancyextrud anoth new meshgeneratormd fancyextrudergeneratormd new meshgener similar meshextrudergeneratormd extrud mesh mesh except provid mani option particular height multipl elev specifi subdomain id within elev swap object optim handl extrem larg mesh planedeletiongener yet anoth new meshgeneratormd planedeletiongeneratormd meshgener take plane input delet element one side plane mesh extrem handi take geometri slice region interest region repres symmetr portion whole petsc upgrad petsc upgrad new version provid better perform encourag moos user use new version use version petsc follow instruct moos websitegetting_startedindexmd updat environ packag conserv transfer conserv transfer ad moos support transfer physic quantiti conserv way conserv transfer current work multiappmeshfunctiontransf multiappinterpolationtransf multiappnearestnodetransf multiappuserobjecttransf vector support interfacekernel interfacekernel system updat add compat vector finit element usag interfacekernel standard finit element variabl remain vectorinterfacekernel avail vector finit element variabl exampl usag vectorinterfacekernel nedelec_on variabl found follow two input file testtestsinterfacekernelsd_interfacevector_di testtestsinterfacekernelsd_interfacevector_di simplifi modul makefil moos contain physic modul sever depend make system simplifi modul level depend longer need appear makefil depend list singl place eg modulesmk relev section everi modul abbrevi relev section phase_field makefil modul module_nam phase_field includ module_dirmodulesmk improv dynam load error messag moos long capabl load object dynam librari problem failur occur error messag state file open rare case error mislead improv error messag differenti miss unread file one exist fail load reason miss expect function lack dynam load support parallel test physic modul parallel test turn default physic modul build test physic modul make sure test produc result run serial parallel improv simul inform output consol moos display inform simul activ relationshipmanag consol month inform recent augment display pure libmesh ghostingfunctor wrap moos relationshipmanag activ moos newslett august advanc multiphys simul moos coreform coreform recent award depart energi sbir award parametr spline mesh gener nuclear engin current phase ii enabl broader use moos nuclear energi simul current phase inform pleas see complet inform advanc multiphys simul moos coreformhttpsforumcoreformcomtadvancingmultiphysicssimulationwithmooseandcoreform moos newslett august document adapt document improv adaptivitymd softwar qualiti document tool improv enabl document framework modul applic inherit see sqaindexmd exacttru exampl coupl relationship manag relationshipmanag system support coupl functor use tell petsc correct matrix sparsiti pattern use simul degre freedom coupl beyond tradit continu fem intrael coupl exampl discontinu galerkin finit element method element residu depend neighbor degre freedom moos user like wilkandi requir even exot sparsiti pattern scheme like kuzminturek femtvd scheme relationshipmanag defin custom coupl ad similar way geometr algebra ghost exampl validparam templat special advectivefluxcalculatorbas add two layer geometr algebra coupl ghost use code c paramsaddrelationshipmanagerelementpointneighborlay mooserelationshipmanagertypegeometr mooserelationshipmanagertypealgebra mooserelationshipmanagertypecoupl const inputparamet inputparamet rm_param rm_paramssetunsign shortlay need custom coupl specifi use mooserelationshipmanagertypecoupl enumer addit discuss relationshipmanag system found documentationrelationshipmanagermd moosevari mooseobject moosevari mooseobject rel small impact moos commun howev applic develop add variabl action encourag drop use deprec feproblembaseaddvari method switch new addvariablestdstr type stdstring name inputparamet param api moos news april mooseindex type ever written loop like c unsign int vectors may inadvert creat bug continu scale moos bigger simul routin reach well million element ten million dof may never loop everi singl element dof directli still case process inform exce storag capac unsign int long time weve tri make easier deal differ integ type may encount loop weve decid make foolproof mooseindex alway right type sign size use simpli pass instanc loop argument itll return right type note use index base counter rangebas counter wont met need c mooseindexsome_vector some_vectors mooseindexnum_valu num_valu addit new enumer function ad moos forward compat c structur bind may use method need index valu loop c includ enumerateh auto mooseenumeratevalu _consol itindex itvalu n miscellan enhanc bug fix automat differenti version incompress navier stoke equat document postprocessor improv postprocessorsindexmd scalar variabl valu read initi condit exodu file better format solver norm use referenceresidualproblem sever gcc fix llvm fix prepar next compil packag improv code coveragehttpsmooseframeworkinlgovdocscoverageframework report header includ header symlink turn export moose_header_symlinksfals environ moos newslett januari improv inl hpc remot connect hpc_remotemd instruct updat better user experi access webbas inl hpc resourc previou instruct involv use addit browser proxi access said resourc hpcgitlab moosebuild hpcweb etc new proxi configur file method much easier setup endus requir addit browser inform see hpc_remotemdsocksproxi ray trace modul media large_mediaray_tracingcone_ray_study_rayspng stylewidthfloatrightmarginleftpxmarginrightpx nativ ray trace capabl releas ray_tracingindexmd modul trace ray throughout finit element mesh notabl featur includ ray contribut residu jacobian along ray segment exampl line sourc trace mesh adapt support ray interact intern extern boundari support storag manipul data uniqu ray support ray interact field variabl support parallel execut sqa failur analysi report failur analysi report ad sqa document see framework_farmd exampl sqa extens document document set moosebas applic leverag capabl moosedoc sqa ad extensionssqamd strumpack support strumpackhttpsportalnerscgovprojectsparsestrumpack direct solver activ develop lawrenc berkeley nation laboratori certain problem found strumpack perform better direct solver option strumpack support ad latest petsc updat moos solver involv via option pc_type lu pc_factor_mat_solver_typ strumpack moos newslett januari grid sequenc moos support grid sequenc techniqu coars grid solut use initi guess fine grid solv current support steadi problem grid sequenc use solv highli nonlinear problem initi guess much nearer newton quadrat basin converg result significantli fewer nonlinear iter fine solv use grid sequenc simpl specifi num_gridsn execution block use grid sequenc provid mesh correspond coarsest grid solv exampl use grid sequenc mechan contact given inputbouncingblockcontactgridsequencinggridsequencingi support grid sequenc support transient problem plan soon ranf mechan contact contact modul object solv frictionless mechan contact use ranf algorithm ranf stand reduc activ nonlinear function set ranf follow advantag exactli solv nonpenetr condit penalti paramet requir penalti paramet requir detriment effect condit number system matrix exact constraint enforc achiev without requir explicit lagrang multipli variabl mean addit degre freedom import matrix properti preserv eg structur matrix result kernel positivedefinit matrix remain positivedefinit applic frictionless contact constraint allow use multigrid method use saddlepoint problem usual aris use lagrang multipli ranf algorithm make way contactact shortli implement friction contact also plan ranf exampl found herebouncingblockcontactbouncingblockranfsi monomial_vec support moos support monomial_vec fefamili use exampl form vector gradient anoth variabl monomial_vec use veloc auxiliari variabl moos darcy_mech tutorialdarcy_thermo_mechstep_velocity_auxproblemsstepi peridynam modul peridynamicsmodulesperidynamicsindexhtml modul implement peridynam formul solut mechan thermal problem ad moos peridynam meshfre techniqu repres interact materi point use bond sever individu fractur criterion reach major strength model techniqu allow arbitrari unguid initi growth fractur make particularli attract problem involv fragment modul provid multipl variant peridynam includ bondbas ordinari statebas nonordinari state base formul bondbas ordinari statebas formul limit elast prior fractur nonordinari statebas formul permit use arbitrari tensormechan materi model repres constitut behavior novel stabil techniqu requir use artif stiff use nonordinari statebas formul use peridynam moos user provid finit element mesh materi point gener centroid element usersuppli mesh along line element repres bond materi point peridynam model solv use implicit time integr make use moos abil solv coupl physic model work underway allow use peridynam conjunct finit element two domain interact contact constraint shell element mechan fournod shell elementmodulestensor_mechanicsshellelementsmd ad tensormechan enabl effici solut mechan problem thin structur topolog twodimension element threedimension space standard displac degre freedom well rotat degre freedom past tensormechan modul provid continuum element shell element togeth alreadyavail truss beam element build grow libari structur element deprec dirackernel mechan contact enforc origin implement mechan contact enforc moos use dirackernel system enforc nonpenetr constraint sinc time constraint system develop provid much better way enforc constraint option use constraint system enforc mechan contact avail sever year perform better dirackernalbas system allow jacobian entri relat contact correctli comput dirackernelbas contact enforc system mark deprec remov april user select new system specifi systemconstraint contact block see contact moduel documentationmodulescontactindexhtml inform usag pleas note appli contact enforc use dirackernel system dirackernel system use mani purpos moos still avail time bug fix mooseindex_md work properli compil moos c standard testhar report error code properli unexpect failur network disk io etc transient simul subapp restart steadi simul subapp steadi simul subpp use gener initi solut transient simul solut steadi masterapp subapp load initi solut transient masterapp subapp respect preset boundari condit presetbc like boundari condit dirichlet boundari condit also appli valu directli solut begin solv simplif preset prefix object deprec absorb correspond dirichlet object paramet preset preset boundari condit also began transit default dirichlet like boundari condit preset valu default preset paramet determin temporari legaci paramet use_legacy_dirichlet_bc applic see herehttpsgithubcomidaholabmooseblobcbdfcacadbacefbbetestsrcbasemoosetestappcl moos modul test applic legaci paramet set fals therefor default applic preset true applic util new suggest default set said legaci paramet similarli moos newslett septemb parallel agnost random number gener improv moos random number gener capabl improv month august moos abl gener paralleldecompositionindepend random number fieldbas calcul time support initi condit system notabl absent develop may access random number within initi condit remain consist number processor thread chang improv api behavior period distancebas method moos sever method return distanc point take account period previous method work line rectangl cube method use domain shape degrad properli eg return physic distanc use irregular domain graintrack perform improv perform polycryst initi condit object significantli improv complex old algorithm reduc largemathcaloleftleftdfracnorightright largemathcalon largen repres number partial grain piec largeo repres number order paramet use simul improv drastic reduc setup time larg simul new extern problem interfac moosewrap app new externalproblem object merg moos new object improv interfac use wrap coupl extern model simul softwar moos newslett januari first newslett year follow busi holiday break issu focu done work toward moosedoc develop document system continu three major addit plan first abil creat pdf complet first quarter year system use latex gener pdf includ abil compil page websit singl document second abil creat present markdown system like reli revealjshttpsrevealjscom third auto format plan markdown file allow text automat wrap space uniformli within markdown file ie clangformat markdown importantli moosedoc system matur core system level work wind year hope allow increas focu write document includ creation new tutori exampl chigger visual script tool chigger mite replac ensight undergo major overhaul new version two signific improv includ abil automat interpol timestep includ across timestep mesh adapt interact commandlin interfac creat allow compon visual modifi without close window automat differenti updat ranktwotensor rankfourtensor templat enabl automat differenti ad calcul note name ranktwotensor rankfourtensor still refer real form object usag tradit kernel materi remain linear tensor mechan test written demonstr use new capabl see tensor_mechanicstesttestsad_simple_linearlinearadi what ahead automat differenti plan soon add adnodalbc adintegratedbc addgkernel adinterfacekernel automat differenti version constraint moreov automat differenti includ finit element map calcul effect displac term like _grad_u _grad_test _grad_phi _normal _jxw etc includ jacobian final automat differenti extend work vector variabl eg nedelec_on lagrange_vec famili mortar method next year expect incorpor fulli gener mortar method moos use applic like mechan contact mortar method shown produc monoton result case nodefac constraint enforc yield oscillatori result fluidsructur interact begin roughli march coupl moos develop begin work fluidstructur interact modul believ gener interest commun hybrid algebra multigrid hybrid algebra multigrid combin petsc smoother hypr coarsen algorithm potenti provid choic differ applic shown use neutron transport calcul releas featur around march boundari preserv algebra multigrid exist amg method like remov boundari condit coarsen phase want develop boundari preserv algebra multigrid method tri preserv essenti boundari inform coarsen maymight end better converg algorithm develop avail resourc partit algorithm continu explor partit algorithm support cuttingedg largescal simul moos thank moos team would like thank everyon use moos past year help us develop tool honor provid tool free help uniqu meaning research ncrc applic remot access ncrc manag wide rang applic access applic meet need research around world pleas follow instruct level access grant level hpc ondemand executionncrc_ondemandmd level execut inl hpc systemshelpinlhpc_binarymd level local binari installationncrc_local_binarymd level sourc repositori accessncrc_repositorymd request access idaccess ncrc applic may obtain outsid institut individu execut andor develop current follow access method avail certain applic hpc binari access user categori provid inlhpc account includ binari version desir applic readi use inlhpc resourc binari access come soon user categori provid access binari version desir applic execut noninl system person workstat institut cluster sourc code access user categori provid complet sourc code access applic level access reserv individu develop new capabl applic contribut directli project request access acinl develop code pleas follow instruct ncrchttpsinlgovncrc websit hpc ondemand idgen_ondemand hpc ondemand servic provid inl allow user direct access resourc contain within hpc enclav via web browser recommend way access inl hpc resourc user gener inform use inl hpc ondemand go heregen_ondemandmd specif inform use ondemand run simul found level access instruct sourc repositori access follow instruct use aid obtain full sourc access ncrc code author access ncrc code maintain intern inl gitlab server access server recommend follow remot access instruct moos develop remot accesshelpinlhpc_remotemd page activ ssh tunnel sock proxi setup navig intern webserv may clone softwar open ticket interact maintain project httpshpcgitlabhpcinlgovhttpshpcgitlabhpcinlgov alert note must connect inl network via ssh instruct inl vpn employe project move extern face gitlab server may access server without special configur grant access one follow project griffin httpsgitlabsoftwareinlgovhttpsgitlabsoftwareinlgov binari access inlhpc follow inform provid hpc binari access applic aim get run instruct assum comfort run command termin aid instruct page clear convent use code block block dark blue background command execut local machin black background execut remot inl machin bash stylebackgroundcolorb command dark blue background execut local machin bash command black background execut remot machin alert note titleintern inlhpc websit access page provid variou link intern inlhpc websit httpshpcwebhpcinlgovhttpshpcwebhpcinlgov access site need browser setup correct set see hpc_remotemdsocksproxi login inlhpc setup connect inlhpc accomplish first configur local machin see hpc_remotemdsshconfig step need complet machin use access inlhpc resourc login inlhpc bash stylebackgroundcolorb ssh hpc user idhpclogininlgov connect inlhpc machin login hpclogin need connect hpc machin sawtooth complet list machin pleas refer intern inl hpc websit hpcwebhpcinlgovhttpshpcwebhpcinlgov assum want work sawtooth access log one two avail login node sawtooth sawtooth bash ssh sawtooth log login node hpc machin verifi connect machin display host name bash echo hostnam sawtooth alert note titlelogin node use simul login node name suggest simpli access machin schedul job request interact job pleas run simul login node account could suspend occur often load applic environ next necessari load desir applic environ exampl assum bison desir applic other includ griffin blue_crab correct environ load use modul command follow bash modul load usemoos mooseapp bison point abl run execut exampl bison execut help display run follow command bash appsherdbisonbisonopt help creat test input file demonstr use binari verifi oper correctli creat test input file exampl follow input file model steadyst diffus work moosebas applic list moosetesttestskernelssimple_diffusionsimple_diffusioni file creat inlhpc home directori copi via scp local machin case first creat locat file exampl follow creat test folder remot home directori bash mkdir test want creat file remot machin need use termin editor creat file emac vi altern creat file local machin copi remot run follow local machin assum creat file inputi aforement content bash stylebackgroundcolorb scp pathtothelocalinputi hpc user idhpclogininlgovtestinginputi run test simul startup interact job mention simul execut login node exampl start interact job request singl processor one hour within moos project queue bash qsub l selectncpu l walltim p moos command like take second even minut execut depend activ machin complet see messag similar follow bash qsub wait job sawtoothpb start qsub job sawtoothpb readi verifi comput node use echo hostnam command give node name exampl sawtooth exampl node name rin run interact mode also need load environ bash modul load usemoos mooseapp bison run simul previou section test input file creat inlhpc home directori within test folder moosebas applic design execut locat input file start navig locat bash cd test next execut applic argument follow input filenam exampl use bison creat test input file bash appsherdbisonbisonopt inputi alert note titleavail binari user depend avail applic bison depend grant access specif applic pleas refer inlindexmd inform request access differ level avail view result idviewingresult mani way view result includ option use remot machin pleas refer visual system link hpcwebhpcinlgovhardwarehttpshpcwebhpcinlgovhardwar howev mani case desir view result local machin done copi content remot machin local machin use scp exampl copi output test run use follow command local machin bash stylebackgroundcolorb scp hpc user idhpclogininlgovtestinginput_out pathtothelocaldestin schedul job pb section provid basic exampl use acpb schedul job run inl resourc detail inform regard use acpb pleas visit inlhpc pb websitehttpshpcwebhpcinlgovhomepb gener schedul job requir two step creat acpb script describ requir resourc command execut submit script schedul creat acpb script use exampl problem simpl script schedul may creat top portion script provid acpb direct pass schedul notic line simpli argument pass schedul done via command line interact job bash binbash pb n test_run pb l selectncpusmpiproc pb l walltim pb p moos cd pbs_o_workdir sourc etcprofiledmodulessh modul load usemoos mooseapp petsc bison mpirun appsherdbisonbisonopt inputi meshuniform_refin recommend script creat locat input file execut ensur associ output simul end locat exampl script locat test folder testingtestsh acpb direct script includ n test_run set job name l selectncpusmpiproc indic util one comput node select util core run mpi process l walltim alloc minut time simul p moos dictat job part moos queue complet list queue avail see hpc pb pagehttpshpcwebhpcinlgovhomepb alert note titleth number core differ machin sawtooth processor per comput node machin differ number pleas refer hpcwebhpcinlgovhttpshpcwebhpcinlgovhom list avail system second portion provid command execut cd pbs_o_workdir chang directori use job submit environ variabl defin leter command follow enabl modul command load requir modul problem final mpirun command follow applic execut input file execut exampl file simpl mesh refin extens make problem bit suit core submit script submit job schedul trivial first sure log one desir machin login node eg ssh sawtooth chang directori locat script associ input file use qsub command bash cd test qsub testsh run command return job id eg sawtoothpb qstat command use check statu job qstat u hpc user id sawtoothpb reqd reqd elap job id usernam queue jobnam sessid nd tsk memori time time sawtooth slauae short test_run gb q inform monitor job statu pleas refer inl job statushttpshpcwebhpcinlgovhomepbsjob_statu page inform qstat command also comprehens statu websit machin hpcwebhpcinlgovstatushttpshpcwebhpcinlgovstatu job complet expect output file avail locat input file test refer viewingresult previou exampl inform regard visual hpc ondemand open ondemandhttpsopenondemandorg web base hpc access portal ondemand allow user access hpc file open shell access linux desktop use interact app build job submiss submit cluster web browser ondemand web portal user given permiss abl use level code access access idaho nation lab open ondemand instanc access extern via hpcondemandinlgovhttpshpcondemandinlgov inl hpc usernam pin token intern ondemandhpcinlgovhttpsondemandhpcinlgov inl hpc usernam password authent ondemand system top navig bar menu item ncrc click show dropdown menu popul ncrc app grant level access follow document applic level ncrc applic hpc ondemandhttpshpcondemandinlgovpunsysdashboard servic provid inl allow user direct access resourc contain within hpc enclav via web browser request accept given necessari credenti provid hpc team head hpc ondemandhttpshpcondemandinlgovpunsysdashboard dashboard dashboard homepag use hpc ondemand first page see log home directori view home directori click file home directori launch file explor web browser tab file explor access file contain within home directori perform file oper normal achiev brows file use nativ file explor file explor also allow download upload file machin job job menu allow creat simpl bash script execut select hpc cluster alert note confus portabl batch system pb job cluster click item menu launch interact shell termin hpc machin abl anyth normal would nativ shell interact shell one excit featur hpc ondemand terminallik window use web browser media large_mediahpchpcondemand_terminalpng stylefilterdropshadow rem black prompt launch job build moos obtain civetlik test environ see command line access comfort use command line demand interfac may follow instruct herencrcncrc_binarymd submiss job inform recommend way level user submit job inl hpc ondemand form prepar purpos section page provid detail properli fill submiss form submit job figur provid preview ondemand interfac ncrc menu item select user option select code licens media large_mediancrclanding_w_ncrc_menupng stylewidthmarginleftpx captionncrc ondemand land page idncrc_land specifi project everi job submiss requir project specifi normal enter pb p option howev need enter p project name project name must select list hpc webhttphpcwebhpcinlgovhomepbsspecifyingaproject one project name appropri use best judgment choos applic project name project name avail applic job use one generalpurpos technic area job name eg ne_gen nuclear energi applic see figur media large_mediancrcapp_sub_png stylewidthmarginleftpx captiontop part ncrc job submiss form idncrc_job_ input file full path input file submit applic execut input file submit via command line may look like bash appopt inputi need appopt need full path equival inputi select file button open dialog allow brows inl hpc folder structur manual select input file prevent typo full path input file see figur advanc code input set advanc paramet default submiss form creat basic submiss command get submit request cluster bash appopt homeuserinputi form field allow add addit paramet exampl wish run perform log add time box applic would execut bash appopt homeuserinputi appopt time homeuserinputi allow put one box everyth put box enter appopt input file homeuserinputi get full list explan command line option pleas see command line usag documentationhttpsmooseframeworkinlgovapplication_usagecommand_line_usagehtml specif version hash option allow run specif build herd code get list differ version hash allow open termin appropri cluster run modul spider app present multipl version herd applic work directori inform default work directori set directori input file locat chang would prefer differ directori check checkbox enter new directori also use select directori button get file dialog box select directori instead type hand media large_mediancrcapp_sub_png stylewidthmarginleftpx captioncent part ncrc job submiss form idncrc_job_ hpc inform hpc inform section interact form creat schedul submiss select cluster wish run amount resourc time may request submiss depend cluster enter number hour request submiss finish number hour pass job end enter number node job select number core job follow tabl show limit system cluster max core per node max hour falcon lemhi sawtooth advanc hpc submiss set default schedul decid much memori assign job amount memori explic provid chang default behavior click show advanc hpc submiss set checkbox enter amount memori also select max amount memori node would like use node select core node also provid max amount memori media large_mediancrcapp_sub_png stylewidthmarginleftpx captionbottom part ncrc job submiss form idncrc_job_ local binari instal use ncrc client download binari local workstat ncrc client allow author user search instal upgrad ncrc binari avail inl server instal ncrc ncrc client avail via inl public conda channel repositori alert note client must instal base conda environ inl conda repositori bash conda activ base conda config add channel httpscondasoftwareinlgovpubl conda instal ncrc ncrc client syntax pre ncrc help usag ncrc h installremoveupdatesearchlist manag ncrc packag posit argument installremoveupdatesearchlist avail command instal instal applic remov print inform remov applic updat updat applic search perform regular express search ncrc applic list list avail ncrc applic option argument h help show help messag exit common ncrc usag exampl alert note applic need activ environ exampl assum environ yet activ list avail ncrc applic bash ncrc list use ncrc search nameofappl list detail ncrc applic avail pronghorn bison griffin sabertooth relap list avail version griffin bash ncrc search griffin load channel done name version build channel ncrcgriffin __ build_ ncrcapplic ncrcgriffin __ build_ ncrcapplic ncrcgriffin __ build_ ncrcapplic ncrcgriffin __ build_ ncrcapplic ncrcgriffin __ build_ ncrcapplic ncrcgriffin __ build_ ncrcapplic ncrcgriffin __ build_ ncrcapplic ncrcgriffin __ build_ ncrcapplic instal latest version bison default behavior bash conda activ base base base ncrc instal bison usernam johndo pintoken instal bison instal specif version bash conda activ base base base ncrc instal griffin__ usernam johndo pintoken instal griffin__ updat bison bash conda activ bison bison ncrc updat bison usernam johndo pintoken uninstal ncrc applic ncrc script wrapper tool unabl perform function user must deactiv environ remov environ use appropi conda command instead bash ncrc remov bison due way ncrc wrap conda command best remov environ applic instal begin deactiv applic environ remov conda deactiv conda env remov n bison use ncrc applic ncrc applic instal access use said binari andor view document alert note activ ncrc applic applic avail within path run bison test bash conda activ bison bison bison bisonopt test j fipd_rodlet_mesh_generatortest ok fill_gas_thermal_conductivitylegacyh ok trim triso_pebbled_pebble_from_csv min_cpu ok triso_pebblecylinder_d_rz ok triso_pebblecylinder_d ok triso_pebblesphere_d_rz ok triso_pebblesphere_d ok triso_pebblepl ok ran test second averag test time second maximum test time second pass skip pend fail run specif input file bash conda activ bison bison bison cd pathtomyinputfil bison bisonopt my_inputi use mpi bison mpiexec n bisonopt my_inputi view document bash conda activ bison bison bison echo bison_doc homejohndoeminicondaenvsbisonbisonsharebisondocindexhtml enter locat favorit web browser similarli macintosh machin make use open command open environ variabl bash conda activ bison bison open bison_doc get start content outlin max_level pagesinstallationindexmd new_usersmd examples_and_tutorialsindexmd content pagin use_titletru nextinstallationindexmd new user welcom moos page describ help way start develop moos proceed pleas visit installationindexmd page follow instruct get framework run creat applic idcreateanapp moos design build custom applic therefor use moos applic requir applic code input file creat particular problem set problem interest creat applic run storksh script sit outsid moos repositori singl argument name applic bash cd project moosescriptsstorksh yourappnam run script creat folder name your_app_nam project directori applic automat link moos obvious yourappnam desir name applic consid use acronym anim name prefer applic free choos whatev name suit need alert warn titleexecut stork outsid moos directori attempt run script insid moos repositori result error compil test applic idcompil bash cd projectsyourappnam make j run_test j applic work correctli output show singl pass test indic applic readi develop sure recompil test applic time moos updatedinstallationindexmdupd enabl modul enabl use variou modulesindexmd avail moos applic modifi section projectsyour_app_namemakefil shown list storkmakefileapp linkfals languagescript startmodul endxfem includeendtru begin use modul capabl recompil applic manner describ compil section alert tip titleonli enabl modul need modul enabl increas compil time thu recommend enabl modul asneed learn work applic next consid look examples_and_tutorialsindexmd page begin tour use input file implement custom behavior applic first tutorialtutorial_app_developmentindexmd demonstr moos applic develop work interest contribut moos pleas visit framework_developmentindexmd help softwar idhelpfulsoftwar text editor necessari creat applic file mani option avail pleas feel free chose editor meet need popular option applic develop atomhttpsatomio commun develop addon specif moos atom editor mooseatom_editormd graphic postprocessor particularli one read exodusiihttpsprodngsandiagovtechlibnoauthaccesscontrolcgipdf file also necessari acmoos includ acgui peacockapplication_usagepeacockmd anoth popular tool paraviewhttpswwwparavieworg applic free allow visual process result simul join commun idjoin join mail list announc mooseannouncegooglegroupscomhttpsgroupsgooglecomforumforummooseannounc gmail user click join group button otherwis send email mailtomooseannouncesubscribegooglegroupscommailtomooseannouncesubscribegooglegroupscom havent alreadi pleas sign github githubcomjoinhttpsgithubcomjoin visit moos discuss forumhttpsgithubcomidaholabmoosediscuss github technic qa custom moos configur idconfigur moos custom run configur script moose_dir note configur script must invok moose_dir summar configur option avail automat differenti withderivativetyp specifi deriv storag type use moos dualreal object option spars nonspars spars select semidynamicsparsenumberarray deriv storag type nonspars select numberarray detail overview storag type found dualreal documentationdualrealmd withderivativesizen specifi length underli deriv storag array default smaller number may chosen increas speed larger number may requir problem problem coupl mani variabl content pagin use_titletru previousinstallationindexmd nextexamples_and_tutorialsindexmd config navig collapsiblesectionsnon none none none close none exampl tutori page includ variou demonstr intend introduc basic acmoos creat custom applic solv uniqu challeng multiphys problem exampl tutori focus differ aspect moos primarili fundament system avail solv multiphys problem proceed pleas visit installationindexmd page getting_startednew_usersmd page assum reader minimi understand comput program cprogram exampl acmoos repositori directori name exampl sever subdirectori subdirectori code moosebas applic input file run simul exampl use run binari first compil run make applic subdirectori result applic binari name eg exopt use run input file guid explain exampl demonstr use provid exampl simpl getsexamplesex_inputfilemd exampl ad custom kernelexamplesex_kernelmd exampl multiphys couplingexamplesex_couplingmd exampl custom boundari conditionsexamplesex_bcsmd exampl automat mesh adaptivityexamplesex_amrmd exampl transient analysisexamplesex_transientmd exampl custom initi conditionsexamplesex_icsmd exampl materi propertiesexamplesex_materialsmd exampl state materi propertiesexamplesex_stateful_materialsmd exampl auxiliari variablesexamplesex_auxmd exampl preconditioningexamplesex_precmd exampl physic base preconditioningexamplesex_pbpmd exampl custom functionsexamplesex_functionsmd exampl postprocessor code verificationexamplesex_ppsmd exampl custom actionsexamplesex_actionsmd exampl creat custom timestepperexamplesex_timesteppermd exampl ad dirac kernelexamplesex_diracmd exampl ode couplingexamplesex_scalar_kernelmd exampl newton dampingexamplesex_dampersmd exampl userobjectsexamplesex_user_objectsmd exampl debuggingexamplesex_debuggingmd modul use exampl exampl problem provid individu modulesindexmd comprehens list avail given simpli expand exampl set modul header follow link contact includ modulescontactcontact_examplesmd geochemistri modulesgeochemistrytests_and_examplesindexmd level set includ moduleslevel_setlevel_set_examplesmd porou flow includ modulesporous_flowporous_flow_examplesmd reconstruct discontinu galerkin modulesrdgindexmdexampl stochast tool includ modulesstochastic_toolsstochastic_tools_examplesmd empti header break collaps section follow exampl combin heat conduct tensor mechan stochast tool modul demonstr one core purpos moosesolv multiphys problem modulescombinedexamplesstm_thermomechanicsmd tutori alert tip prefixfals titletutorial_app_developmentindexmd tutorial_app_developmentindexmd learn develop moosebas applic solv coupl system differenti equat multiphys set tutori teach creat custom moos object setup input file invok object process visual result simul alert tip prefixfals titletutorial_multiappsindexmd tutorial_multiappsindexmd learn use multiappmultiappsindexmd transfertransfersindexmd system coupl mani multiphys applic togeth across differ time length scale alert tip prefixfals titletutorial_verificationindexmd tutorial_verificationindexmd demonstr use analyt solut acmm code verif alert tip prefixfals titlepor flow tutori porou flow tutorialmodulesporous_flowtutorial_md tutori guid user commonlyus aspect porou flowmodulesporous_flowindexmd modul concern fluid inject borehol larg fluidfil reservoir tutori begin simpl darci flow gradual add complex phenomena coupl heat solid mechan multiphas flow chemic reaction workshop idworkshop acmoos develop team acinl occasion host live train registr typic open wish attend although space usual limit link train present recent video record train target advanc workshop present moos train workshopworkshopindexmd alternativemissing_configmd moos train workshop summer httpswwwyoutubecomwatchvtjwbsyalai moos multiapp workshoptutorial_multiappspresentationindexmd alternativemissing_configmd moos verif workshoptutorial_verificationpresentationindexmd alternativemissing_configmd moos train event typic announc home pageindexmd exacttru sure join mail listhelpcontact_usmd updat c program refer idprogram moos develop need basic understand comput program c get start possibl may help review follow resourc helpcindexmd cpluspluscomdoctutorialhttpwwwcpluspluscomdoctutori encppreferencecomhttpsencppreferencecom wschoolscomcppdefaultasphttpswwwwschoolscomcppdefaultasp geeksforgeeksorgcplusplushttpswwwgeeksforgeeksorgcplusplu bjarn stroustrup c program languag th editionhttpswwwstroustrupcomthhtml brian kernighan denni ritchi c program languag nd editionhttpsuswestamazonawscombelllabsmicrositedritchiecbookindexhtml besid check refer list strong clear googlehttpswwwgooglecom search go long way rememb alway find help communityhelpcontact_usmd content pagin use_titletru previousnew_usersmd tutori code verif idtutori tutori use analyt solut acmm present use code verif method style haligncent fontsiz tutori code verif presentationtutorial_verificationpresentationindexmd alternativemissing_configmd tutori content idcont content outlin locationgetting_startedexamples_and_tutorialstutorial_verif max_level hidetutori content content pagin nexttutorial_verificationstep_heat_conductionmd heat conduct introduct begin tutori overview transient heat equat present use basi tutori throughout variou step equat alreadi implement provid heat conduct modulemodulesheat_conductionindexmd complet descript pleas refer modul specif document transient heat equat equat idtutorialheateq rhovecx cvecxfracparti tpartial nabla ktvecx nabla dotqtextforvecx omega temperatur time vecx vector spatial coordin rho densiti c specif heat capac k thermal conduct dotq heat sourc omega spatial domain boundari condit defin boundari domain partial omega type applic discuss specif applic heat equat throughout tutori weak form see finit element principlesfinite_element_conceptsfem_principlesmd tutorialheateq innerproduct notat given equat idtutorialheateqweak lparen phi_i rhot vecx ct vecxfracparti t_hpartial rparen lparen nabla phi_i ktvecx nabla t_h rparen langl phi_i ktvecx nabla t_h cdot hatn rangl lparen phi_i dotq rparen forallphi_i phi_i finit element test function t_h finit element solut hatn boundari outward face normal vector boundari term result use integr part diverg theorem weak form deriv tutorialheateq content pagin previoustutorial_verificationindexmd nexttutorial_verificationstep_fem_convergencemd fem converg introduct tempor numer integr method well acfem known rate converg exact solut chang time step element size rate exploit verifi simul perform expect known converg rate associ theori well documentedeg citefishfirstth reader encourag research theori behind rate follow section briefli discuss known converg rate error sourc typic acfem simul two primari sourc error error acfem approxim error time integr cours sourc error float point arithmet model simplif first case error associ acfem approxim goe zero element size goe zero similarli time step numer integr goe zero associ error spatial converg spatial converg acfem defin rate error reduct decreas finit element size rate depend order shape function typic report slope line compar error yaxi element size xaxi loglog plot firstord shape function slope two secondord slope three exampl tutorialspatialexampl exampl converg plot simul firstord secondord shape function comput error l_ norm media mms_spatialpng idtutorialspatialexampl captionexampl result spatial converg studi alert tip titleelimin tempor error possibl perform spatial converg studi transient simul best design simul error associ numer integr elimin minim tempor converg tempor converg defin rate error reduct decreas time step size rate proport order numer integr scheme select typic report slope line compar error yaxi time step size xaxi loglog plot slope expect one firstord scheme two secondord scheme etc exampl tutorialtemporalexampl exampl converg plot simul firstord secondord time integr scheme comput error l_ norm media mms_temporalpng idtutorialtemporalexampl captionexampl result tempor converg studi alert tip titleelimin spatial error possibl perform tempor converg studi best design simul error associ acfem approxim elimin minim bibtex bibliographi includ make sure nextprevi last page content pagin previoustutorial_verificationstep_heat_conductionmd nexttutorial_verificationstep_analytical_solutionmd problem analyt solut introduct best method verifi simul comparison known mathemat solut heat equat defin step_fem_convergencemd one solut shall consid verifi model verif process shall broken four part defin problem known exact solut simul problem comput error known solut simul perform converg studi problem statement citeincroperafundament present onedimension solut heat equat equat idtutorialanalyticalsolut ttx t_ fracdotqk bigglbrack sqrtfracalpha tpi expbigglparenfracx alpha tbiggrparen x bigglparen textrmerfbigglparenfracxsqrtalpha biggrparen biggrparen biggrbrack temperatur t_ initi temperatur time x posit dotq heat sourc k thermal conduct alpha thermal diffus thermal diffus defin ratio thermal conduct k product densiti rho specif heat capac c system subject neumann boundari condit left boundari x natur boundari condit zero flux opposit boundari simul heat conduct modul acmoos capabl perform simul problem without modif valu present tutorialanalyticalvalu select simul durat second shall util tabl idtutorialanalyticalvalu captionnumer valu use solut valu tutorialanalyticalsolut variabl valu unit t_ k dotq e wcdot k wcdot mcdot k rho kgcdot c jcdot kgcdot k q_kt e wcdot q_kt wcdot simul setup follow instruct assum work version acmoos instal system inform get setup pleas refer instal instructionsgetting_startedinstallationindexmd simul perform reli heat conduct modul thu necessari compil specif modul assum acmoos clone directori name project within home directori assumpt follow command compil test heat conduct modul execut bash cd projectsmoosemodulesheat_conduct make j run_test j number use j number process avail system test execut without failur follow section follow setup simul simul input acmoos oper use input file input file detail capabl simul problem use demonstr section describ variou section input file creat current problem locat input file arbitrari assum content file name projectsproblemsverificationd_analyticali file creat edit use text editor program within file domain problem defin use mesh systemsyntaxmeshindexmd use mesh block input file follow creat onedimension mesh xdirect use element list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockmesh singl unknown temperatur comput unknown declar use variabl systemsyntaxvariablesindexmd variabl block use default configur firstord lagrang finit element variabl note within block name variabl arbitrari select match equat list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockvari volumetr portion weak form defin use kernel systemsyntaxkernelsindexmd kernel block exampl done use two kernel object follow list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockkernel subblock t_time defin time deriv t_cond defin conduct portion equat pleas refer tutorial_verificationstep_heat_conductionmd detail regard weak form heat equat block includ variabl paramet set equal remain paramet defin valu k rho c_p constant valu defin tutorialanalyticalvalu boundari portion weak form defin use boundari condit systemsyntaxbcsindexmd bc block x neumann condit appli valu e gener mesh default label boundari x left list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockbc natur boundari condit requir definit name suggest condit appli natur base weak form deriv problem solv use newton method secondord backward differ formula bdf timestep second simul time one second set appli within execution block use execution systemsyntaxexecutionerindexmd list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockexecution final output method defin case exodusii csv format enabl within output block use output systemsyntaxoutputsindexmd list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockoutput simul execut execut simul straightforward simpli execut heat conduct modul execut input file includ use option follow cd projectsproblemsverif moosemodulesheat_conductionheat_conductionopt d_analyticali complet output file produc name d_analytical_out file view use paraviewhttpswwwparavieworg application_usagepeacockmd comput error abl comput error respect known solut tutorialanalyticalsolut must ad input file accomplish via functionsmooseparsedfunctionmd object ad function block list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockfunct var val onetoon relationship eg k defin manner name var use definit equat valu paramet error singl valu time step sinc exact solut known l_norm comput use postprocessorsnodallerrormd object within postprocessor block comput error given variabl eg known solut defin t_exact function list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockpostprocessor addit comput error averag element size also output detail previous quantiti necessari perform converg studi anoth use item add input especi onedimension problem line sampl along length simul comput exact solut via vectorpostprocessor block list tutorial_verificationapptesttestsstep_analyticald_analyticali linkfals blockvectorpostprocessor block exact solut function t_exact finit element solut sampl along length simul l_norm well line sampl valu output csv file analysi tutorialsimulationresult show complet result includ simul solut exact solut absolut error function simul time media tutorial_verificationd_analyticalmp idtutorialsimulationresult captioncomparison simul result exact solut comput absolut error onedimension heat equat converg studi shown tutorialsimulationresult result obtain simul seem agre well known solut result provid evid finit element calcul perform correctli error shown could due problem finit element implement howev error reduc expect rate decreas mesh size timestep size reason finit element formul tempor numer integr implement correctli acmoos includ python packageth mm packagefor perform converg studi use detail regard packag pleas refer pythonmmsmd document spatial converg perform spatial converg input file creat need execut decreas element size acmoos done ad meshuniform_refinex option command line x integ repres number refin perform mm packag includ function run_spati perform automat modifi suppli input file perform increas level uniform refin run result collect pandasdatafram object use convergenceplot object creat plot exampl tutorialanalyticalspatialcod result spatial converg studi shown plot tutorialanalyticalspatialgraph case input file creat d_analyticali execut six level uniform refin notic extra argument meshnx suppli reduc number element initi mesh consol flag suppress screen output simul list tutorial_verificationapptesttestsstep_analyticalstep_studypi idtutorialanalyticalspatialcod captionexampl use mm packag run plot spatial converg linkfals startmoosedocsstartspati endmoosedocsendspati includestartfals result converg data indic simul converg known solut correct rate firstord element thu verifi finit element solut comput result expect media tutorial_verificationd_analytical_spatialpng idtutorialanalyticalspatialgraph captionresult spatial converg studi compar finit element simul known onedimension analyt solut tempor converg tempor converg studi nearli ident spatial shown tutorialanalyticaltemporalcod tempor studi run_tempor use initi time step set use dt number element alter result converg graph shown tutorialanalyticaltemporalgraph list tutorial_verificationapptesttestsstep_analyticalstep_studypi idtutorialanalyticaltemporalcod captionexampl use mm packag run plot tempor converg linkfals startmoosedocsstarttempor endmoosedocsendtempor includestartfals result converg data indic simul converg known solut correct rate secondord time integr thu verifi numer integr scheme oper expect media tutorial_verificationd_analytical_temporalpng idtutorialanalyticaltemporalgraph captionresult spatial converg studi compar finit element simul known onedimension analyt solut close remark analysi perform provid three level verif finit element solut match known solut minim error spatial error converg expect rate firstord finit element tempor error converg expect rate secondord numer integr result verifi simul correctli solv heat equat bibtex bibliographi includ make sure nextprevi last page content pagin previoustutorial_verificationstep_fem_convergencemd nexttutorial_verificationstep_mmsmd method manufactur solut introduct practic exact solut problem solv rare known sinc would reason perform simul answer known solut known error comput howev possibl manufactur solut use method known acmm step tutori twodimension heat equat use simul physic system use simul start point spatial tempor converg studi perform use acmm problem statement exampl twodimension heat equat shall use simul cross section snow subject radi cool surfac intern heat due solar absorpt domain problem defin x textrmm textrmm refer heat equat defin step tutorial_verificationstep_heat_conductionmd heat sourc dotq appli defin tutorial_heat_sourc sourc crude approxim intern heat due solar absorpt sourc rais zero maximum wcdot back zero hour sec period follow sine function durat approxim daylight hour idaho fall idaho decemb also left side domain shade right subject maximum sourc defin use sine function equat idtutorial_heat_sourc dotq cdotsinbiggfracx pibigg cdot textrmexpkappa cdot sinbiggfracpi tbigg kappa extinct coeffici system subject neumann boundari condit top surfac boundari approxim radi cool snow surfac left right side domain subject natur boundari condit problem approxim insul boundari condit final constant temperatur impos bottom boundari simul heat conduct modul acmoos capabl perform desir simul valu tutorialsnowvalu provid numer valu use simul solv nine hour simul time tabl idtutorialsnowvalu captionnumer valu use twodimension simul snow variabl valu unit t_ k k wcdot mcdot k rho kgcdot c_p jcdot kgcdot k kappa q_kx wcdot tx k previou step complet input file explain block block shall assum input file name projectsproblemsverificationd_maini file creat edit use text editor program problem requir twodimension rectangular domain defin use mesh systemsyntaxmeshindexmd defin mesh block input number element nx ny defin result squar element list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockmesh singl unknown temperatur comput unknown declar use variabl systemsyntaxvariablesindexmd variabl block use default configur firstord lagrang finit element variabl list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockvari initi condit t_ appli use initi condit systemsyntaxicsindexmd ic block case constant valu throughout domain provid list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockic volumetr heat sourc dotq defin use function systemsyntaxfunctionsindexmd use function block function defin tutorial_heat_sourc defin directli input file use pars function capabl var val paramet use defin name constant within equat variabl x z alway avail repres correspond spatial locat time list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockfunct volumetr portion weak form defin use kernel systemsyntaxkernelsindexmd kernel block exampl done use three kernel object follow list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockkernel subblock t_time defin time deriv t_cond defin conduct portion equat t_sourc defin heat sourc term pleas refer tutorial_verificationstep_heat_conductionmd detail regard weak form heat equat block includ variabl paramet set equal remain paramet defin valu k rho c_p constant valu defin tutorialsnowvalu boundari portion weak form defin use boundari condit systemsyntaxbcsindexmd bc block top domain neumann condit appli constant outward flux button domain textrmm constant temperatur defin list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockbc remain boundari insul known natur boundari condit requir definit name suggest condit appli natur base weak form deriv problem solv use newton method firstord backward euler method timestep second min simul time nine hour set appli within execution block use execution systemsyntaxexecutionerindexmd list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockexecution final output method defin case exodusii format enabl within output block use output systemsyntaxoutputsindexmd list tutorial_verificationapptesttestsstep_mmsd_maini linkfals blockoutput simul execut execut simul straightforward simpli execut heat conduct modul execut input file includ use option follow cd projectsproblemsverif moosemodulesheat_conductionheat_conductionopt d_maini complet output file produc name d_main_out file view use paraviewhttpswwwparavieworg application_usagepeacockmd tutorialsnowresult show chang temperatur across domain time key featur surfac remain cool heat sourc warm snow intern creat larg temperatur gradient surfac media tutorial_verificationd_mainmp idtutorialsnowresult captionsimul result applic heat equat simul snow twodimens mm overview acmm method manufactur known solut acpd case transient heat equat method explain detail context mm python packag includ acmoos pythonmmsmd brief overview shall provid reader refer packag document detail descript method summar three basic step defin assum solut acpd interest exampl ttx alert tip titleselect solut repres exactli form solut arbitrari certain characterist desir mainli solut select exactli repres acfem shape function numer integr scheme spatial tempor converg studi respect without characterist assum solut could possibl solv exactli thu error rate converg solut examin appli assum solut acpd comput residu function exampl consid follow simpl acpd equat fracparti tpartial x substitut assum solut ttx equat comput residu equat fracpartialparti xtx tx appli neg comput function perform desir converg studi exampl exampl acpd becom equat fracparti tpartial x tx acpd known solut ttx use comput error perform converg studi possibl perform step hand calcul becom difficult error prone complex equat reason mm python packag includ acmoos creat packag use appli step twodimension heat equat exampl defin spatial converg first step use acmm involv assum solut desir acpd case transient heat equat sourc term tutorial_spatial_solut shall assum solut spatial studi equat idtutorial_spatial_solut tsinpi xcdotsinpi assum solut two characterist exactli repres firstord acfem shape function firstord time integr exactli captur time portion equat result tempor error accumul mm packag shown tutorial_step_funct use comput necessari forc function packag directli output input file format comput forc function assum solut make ad input file trivial list tutorial_verificationapptesttestsstep_mmsstep_functionpi idtutorial_step_funct linkfals startmoosedocsstartspati endmoosedocsendspati includestart captioncomput forc function use acmm execut script assum name spatial_functionpi result follow output list python spatial_functionpi mms_forc type parsedfunct valu cprhosinxpisinypi piktsinxpisinypi shortwaveexpykappasinxpisinpithour var hour rho shortwav k cp kappa val mms_exact type parsedfunct valu tsinxpisinypi obvious ad input file val must updat correct valu desir simul acmoos allow multipl input file suppli execut done input combin singl file compris union two file addit block requir perform spatial converg studi creat independ file shall assum file name projectsproblemsverificationd_mms_spatiali forc function exact solut ad use pars function similar exist function within simul list tutorial_verificationapptesttestsstep_mmsd_mms_spatiali linkfals blockfunct forc function appli simul ad anoth heat sourc kernel object list tutorial_verificationapptesttestsstep_mmsd_mms_spatiali linkfals blockkernel perform studi error element size requir ad postprocessor done previou exampl step tutorial_verificationstep_analytical_solutionmd list tutorial_verificationapptesttestsstep_mmsd_mms_spatiali linkfals blockpostprocessor csv output also need ad list tutorial_verificationapptesttestsstep_mmsd_mms_spatiali linkfals blockoutput point tempt perform studi reader encourag howev result disappoint reason initi boundari condit simul satisfi assum solut case unless studi test boundari condit object specif easiest approach use assum solut set initi condit boundari condit done ad function base initi boundari condit object set activ line disabl subblock list list tutorial_verificationapptesttestsstep_mmsd_mms_spatiali linkfals blockbc ic case previou step tutori mm packag use perform converg studi case first secondord shape function consid list tutorial_verificationapptesttestsstep_mmsstep_studypi idtutorialspatialstudi captionexampl use mm packag run plot spatial converg linkfals startmoosedocsstartspati endmoosedocsendspati includestartfals result converg data indic simul converg known solut correct rate first secondord element thu verifi finit element solut comput result expect media tutorial_verificationd_mms_spatialpng idtutorialspatialgraph captionresult spatial converg studi compar finit element simul assum twodimension solut tempor converg tempor converg studi perform manner spatial studi first assum solut select defin tutorial_temporal_solut case spatial portion repres exactli shape function tempor function repres numer time integr scheme decay function select minim chang time tend easytorecogn solut xy equat idtutorial_temporal_solut xcdot ycdottextrmexp mm packag shown tutorial_temporal_funct use comput necessari forc function packag directli output input file format comput forc function assum solut make ad input file trivial list tutorial_verificationapptesttestsstep_mmsstep_functionpi idtutorial_temporal_funct linkfals startmoosedocsstarttempor endmoosedocsendtempor includestart captioncomput forc function use acmm execut script assum name temporal_functionpi result follow output list python temporal_functionpi mms_forc type parsedfunct valu exycprhoexpet shortwaveexpykappasinxpisinpithour var kappa rho shortwav cp hour val mms_exact type parsedfunct valu xyexpet third input file projectsproblemsverificationd_mms_temporali creat content nearli ident spatial counter part includ complet list tutorial_verificationapptesttestsstep_mmsd_mms_temporali linkfals differ function definit use time step size instead element size comput mm packag use perform studi list tutorial_verificationapptesttestsstep_mmsstep_studypi idtutorialtemporalstudi captionexampl use mm packag run plot spatial converg linkfals startmoosedocsstarttempor endmoosedocsendtempor includestartfals result converg data indic simul converg known solut correct rate first secondord time integr scheme thu verifi time integr comput correct result media tutorial_verificationd_mms_temporalpng idtutorialtemporalgraph captionresult tempor converg studi compar finit element simul assum twodimension solut close remark exampl demonstr converg studi may perform simul without known solut manufactur solut perform converg studi crucial build robust simul tool python packag provid aid perform analysi content pagin previoustutorial_verificationstep_analytical_solutionmd alert construct tutori incomplet feel free brows current avail content otherwis refer back examples_and_tutorialsindexmd page help train materi check moos application_developmentindexmd page inform tutori applic develop idtutori tutori reader shall work step creat custom moosebas applic solv realworld physic problem instruct begin defin problem convert govern acpd express compat moos tutori progress core c class avail develop solv problem well basic system moos discuss tutori focu live host examples_and_tutorialsindexmdworkshop new user encourag engag train read content care reproduc step without simpli copi past code tutori design indepth explan creat complet custom multiphys applic includ process use repositori test media tutorial_app_developmentmoose_intropng stylewidthdisplayblockmarginleftautomarginrightauto delet imag large_media use think look kind nice tutori content idcont content outlin locationgetting_startedexamples_and_tutorialstutorial_app_develop max_level hidetutori content no_prefix no_countprefac problemstat content pagin nexttutorial_app_developmentprefacemd content pagin previoustutorial_app_developmentstep_input_filemd nexttutorial_app_developmentstep_weak_formmd marginbottompx step introduct moos object step object purpos serv introduc demonstr concept consid problem discuss step tutorial_app_developmentstep_input_filemddemo explor basic laplac equat develop form c class anyon feel need review c andor objectori program highli encourag proceed remaind tutori getting_startedexamples_and_tutorialsindexmdprogram provid help start point moos object idobject core framework moos built around system system use objectori program provid welldefin interfac use system via c inherit short framework provid set base class system base class special use custom c object within applic achiev desir behavior problem practic object moos within applic develop follow pattern thu broad understand requir begin work moos exampl consid addiffus object contain within framework shown diffusionhdr diffusionsrc list frameworkincludekernelsaddiffusionh iddiffusionhdr captionhead file declar addiffus object list frameworksrckernelsaddiffusionc iddiffusionsrc captionsourc file defin addiffus object class use demonstr form object creat moosebas applic follow first begin declar header file foremost class header begin list frameworkincludekernelsaddiffusionh linepragma linkfals line ensur compil includ content file next base class inherit includ addiffus object base class adkernelgrad list frameworkincludekernelsaddiffusionh lineinclud linkfals final class creat defin definit contain three main compon common object creat within applic static validparam function creat input syntax list frameworkincludekernelsaddiffusionh linestat input linkfals constructor given name mooseobject own consum inputparamet object list frameworkincludekernelsaddiffusionh lineconst inputparamet linkfals one method overridden provid custom function desir applic list frameworkincludekernelsaddiffusionh lineprecomputeqpresidu linkfals alert note titleth method overridden differ system system within moos one base class object object special overrid one method method requir overridden vari base class pleas refer document system inform sourc c file simpli defin function three compon tutori progress basic structur syntax describ seen regularli purpos use method like validparam becom clear demonstr iddemo recal step tutorial_app_developmentstep_input_filemddemo forego acbvp govern follow acpd equat idlaplac nabla cdot nabla u omega necessari acknowledg acpd must express certain format abl solv moos assum natur boundari condit nabla u cdot hatn satisfi weak form eqreflaplac equat idweak int_omega nabla psi cdot nabla u domega enspac foral psi next steptutorial_app_developmentstep_weak_formmd exactli meant terminolog weak form explain worri yet sourc code mooseobject capabl solv laplac equat requir step tutorial_app_developmentstep_input_filemd demonstr addiffus provid capabl understand work consid diffusionsrc notic nabla u term integrand eqrefweak code list frameworksrckernelsaddiffusionc startadrealvectorvalu linkfals nabla psi term eqrefweak automat handl precomputeqpresidu method adkernelgradsourcekernelsadkernelgradmd base class need includ term manual alert tip titlemoos lot alreadi develop new mooseobject applic confirm someth like alreadi exist moos applic poss full capabl framework physic modul later addit capabl content pagin previoustutorial_app_developmentstep_input_filemd nexttutorial_app_developmentstep_weak_formmd content pagin previoustutorial_app_developmentstep_mat_propsmd nexttutorial_app_developmentstep_transient_kernelmd marginbottompx step develop auxkernel object step introduc auxiliari system moos base auxkernel class oper auxvari two compon analog kernel object oper variabl eg darcypressur object oper pressur variabl howev auxvari directli affect sourcesystemsnonlinearsystemmdth variou method contribut solv acpd galerkin acfem demonstr basic use system new vectorauxkernel object comput volumetr flux veloc associ given pressur gradient develop accord darci law simpl regress test new class creat also implement pressur vessel model pressure_diffusioni auxiliari variabl step tutorial_app_developmentstep_kernel_objectmdkernel mention kernel comput residu contribut volumetr term acpd weak form term expos primari depend variabl given problem ie multipli test function gradient nabla psi determin enforc dirichlet boundari condit solv result system equat exampl primari variabl darci equat pressur case solid mechan refer tensor mechanicsmodulestensor_mechanicsindexmd moos displac moos lingo type variabl refer nonlinear variabl contrast nonlinear variabl auxiliari variabl never primari depend variabl alway comput explicitli base given inform part solv procedur similar nonlinear variabl continu possibl differenti individu finit element vari base assum shape function often depend nonlinear variabl andor vice versa exampl one auxiliari variabl darci equat volumetr flux depend gradient scalar pressur field case solid mechan stress strain depend gradient displac field consid auxiliari variabl structur dynam acceler veloc consid auxiliari displac given moment depend valu case still auxiliari variabl may relat nonlinear one auxiliari variabl declar auxvariablessyntaxauxvariablesindexmd block access paramet nonlinear counterpart eg order famili design one follow two type depend input famili paramet element famili monomi famili monomial_vec nodal famili lagrang famili lagrange_vec necessari distinguish auxvari base acf shape function famili select dictat treat auxkernel object discuss next section alert note titlevari coupl rule element variabl coupl type variabl includ nonlinear variabl auxiliari one nodal variabl howev coupl nonlinear variabl nodal auxiliari one element one auxiliari kernel object syntaxauxkernelsindexmd moos one comput set explicitli known valu auxiliari variabl main advantag auxkernelsrcauxkernelsauxkernelc vectorauxkernel object variabl oper treat like moos variabl use decoupl system equat variou postprocess task object access follow variabl member _u _grad_u valu gradient variabl oper _q_point coordin current quadratur point member valid oper element variabl _qp current quadratur point node index _current_elem pointer current element oper element _current_nod pointer current node oper nodal one major differ auxkernel object kernel one former comput residu therefor involv test function psi also auxkernel object must overrid computevalu method oppos computeqpresidu virtual function membershttpsencppreferencecomwcpplanguagevirtu discuss tutorial_app_developmentstep_kernel_objectmdkernel section everi auxkernel object add paramet variabl taken validparam method base class paramet must provid string identifi auxvari object write result variabl type element computevalu method averag valu element acqp weight gaussian quadratur proport total volum area length element variabl type nodal valu comput directli node _qp member actual node index alert note titleonli element variabl coupl materi properti auxkernel object oper element variabl easili coupl materi properti defin gauss acqp access computevalu method accordingli variabl nodal howev acqp access neither materi properti demonstr iddemo volumetr flux vecu fluid porou medium govern darci law given eqreftutorial_app_developmentproblem_statementmddarci assum neglig gravit field homogen medium law express equat iddarci vecu underbracedfrackmu nabla p_clapauxiliari kernel omega assum everi term eqrefdarci known includ pressur variabl p develop vectorauxkernel object new mooseobject shall accept input name nonlinear variabl hold valu p retriev k mu term avail materi properti r space axisymmetr pipe model develop pressure_diffusioni pressur gradient two compon eg nabla p beginbmatrix partial_x p partial_i p endbmatrixmathrmt accord eqrefdarci xcompon volumetr flux distanc l must equat iddarcyx u_x dfrackmu dfracparti ppartial x enspac foral x l p constant along ydirect ie partial_i p pressur throughout plane omega describ univari function x independ assum p take form linear lagrang polynomi function given equat idpressurex px rarr px beginbmatrix dfracxl dfracxl endbmatrix beginbmatrix p_ p_ endbmatrix p_ p_ pressur domain boundari x_ x_ l respect differenti eqrefpressurex substitu eqrefdarcyx lead follow equat idvelocityx u_x dfrackmu l beginbmatrix endbmatrix beginbmatrix p_ p_ endbmatrix thu model satifi forego assumpt especi partial_i p p equiv px u_x constant monomi depend p_ p_ k mu l pipe model pressure_diffusioni p_ textrmpa p_ acbc appli sinc pressur flux boundari model inde satisfi partial_i p therefor eqrefvelocityx expect hold problem pressur variabl use default paramet order first famili lagrang verifi new class design evalu eqrefdarci work properli shall confirm lnorm result element valu lvert vecu rvert u_x textrmm obtain substitut p_ p_ k time textrmm mu_f time textrmpa cdot textrm l textrmm addit simpler model also expect satisfi eqrefvelocityx shall develop regress test sourc code idsourcedemo evalu eqrefdarci new vectorauxkernel object creat shall call darcyveloc word veloc use sinc vecu unit distancepertim although actual repres flow veloc fluid rather repres dischargeperarea start make directori store file object part auxkernel system includ commandsmkdirmd replac includeauxkernel srcauxkernel includeauxkernel creat file name darcyvelocityh add code given dvheader auxkernelhincludeauxkernelsauxkernelh header file includ provid vectorauxkernel base class need inherit validparam constructor method declar public member protect member declar computevalu method base class overriden method return realvectorvalu data typea tupl n valu correspond compon vector rn refer variabl _grad_p declar use coupl pressur p set darcypressur object comput nabla p variablegradi type numer differenti input field write point valu _qp indic _grad_p final two admaterialpropertyr variabl _permeabl _viscos declar use consum valu k mu set packedcolumn object exactli darcypressur class made previou steptutorial_app_developmentstep_mat_propsmdsourcedemo list tutorialstutorial_app_developmentstep_auxkernelsincludeauxkernelsdarcyvelocityh linkfals iddvhead captionhead file darcyveloc class srcauxkernel creat file name darcyvelocityc add code given dvsourc depend header file metaphysicl namespacehttpsgithubcomroystgnrmetaphysiclblobmastersrcnumericsincludemetaphysiclraw_typeh includ addit darcyvelocityh provid simpl method access raw valu acad type usual complex set contain store variabl deriv method use handl admaterialproperti data input need append defin vectorauxkernelvalidparam name nonlinear variabl contain valu p thu addrequiredcoupledvar method use defin paramet pressur inputparamet member like addrequiredparam type data accept string identifi variabl object found caus error constructor definit n compon gradient variabl provid pressur paramet retriev coupledgradi method couplablesrcinterfacescoupleablec classa member framework_developmentinterfacesindexmd system moos data return use set _grad_p next two materi properti name permeabl viscos retriev avail materi properti use set _permeabl _viscos respect final requir computevalu method defin righthand side eqrefdarci discret acqp deriv _permeabl _viscos variabl concern zero acqp anyway metaphysiclraw_valu function ensur valu k mu return acad data pass list tutorialstutorial_app_developmentstep_auxkernelssrcauxkernelsdarcyvelocityc linkfals iddvsourc captionsourc file darcyveloc class sure recompil applic proceed includ commandsmakemd input file idinputdemo new darcyveloc class avail possibl comput volumetr flux vecu fluid pressur vessel model first recal earlier demo section note u_x given constant monomi express ie eqrefvelocityx could also shown vecu vector constant monomi express px approxim linear lagrang polynomi even partial_i p mathllapsmal therefor make sens add auxvari block pressure_diffusioni use follow syntax list tutorialstutorial_app_developmentstep_auxkernelsproblemspressure_diffusioni blockauxvari linkfals veloc block creat element variabl order constant famili monomial_vec monomial_vec type vector monomi one good that exactli vecu requir variabl associ darcyveloc object realvectorvalu object someth similar proceed ad follow auxkernel block pressure_diffusioni list tutorialstutorial_app_developmentstep_auxkernelsproblemspressure_diffusioni blockauxkernel linkfals darcyveloc object creat associ variabl store result identifi along nonlinear variabl associ darcypressur object execute_on paramet made avail base class use control object run via execflagenumsrcutilsexecflagenumc method demonstr veloc calcul base current steadyst solut set execute_on timestep_end ensur darcyveloc object construct darcypressur object comput current solut p execut applic list languagebash cd projectsbabblerproblem babbleropt pressure_diffusioni program ran success formal test darcyveloc class order start creat directori store test file includ commandsmkdirmd replac testtestsauxkernelsdarcy_veloc folder creat file name darcy_velocity_testi add input given dvtest model creat file darcy_pressure_testi except auxvari auxkernel block ad use syntax demonstr pressure_diffusioni notic dvtest nonlinear variabl pressur creat order first famili lagrang even though default emphas major assumpt behind test requir result veloc vector compos constant monomi also notic l_tol e set execution block forc algebra solver converg absolut residu least less initi residu pjfnk type solver attempt comput new jacobian rather action solut vector see sourcesystemsnonlinearsystemmdjacobian_definit use tighter rel linear toler improv overal accuraci solut test purpos need verifi new darcyveloc class produc expect result lvert vecu rvert u_x howev found default linear toler yield slight deviat u_x element list tutorialstutorial_app_developmentstep_auxkernelstesttestsauxkernelsdarcy_velocitydarcy_velocity_testi linkfals iddvtest captioninput file test darcyveloc class exodiff object run input file confirm linear solver alway iter comput absolut residu least less one comput zeroth iter list languagebash cd projectsbabblertesttestsauxkernelsdarcy_veloc babbleropt darcy_velocity_testi result idresultdemo use peacock visual solut pressure_diffusioni model includ commandspeacock_rmd replac problem e pressure_diffusion_out use dropdown menu select velocity_ variabl render contour also check select compon adjac dropdown magnitud confirm result resembl one shown result media tutorial_app_developmentstep_resultpng stylewidthmarginleftautomarginrightauto idresult captionpressur vessel model result lvert vecu rvert indic differ smaller two element result conclud darcyveloc object produc expect result lvert vecu rvert textrmm point mesh still render seem regist slightli differ valu element indic mani differ color display practic purpos differ neglig neutral use tighter solver toler discuss inputdemo section test hypothesi there need modifi input file paramet overridden termin eg follow rerun rel linear toler list languagebash cd projectsbabblerproblem babbleropt pressure_diffusioni executionerl_tol next rerun peacock r new result observ uniform contour lvert vecu rvert illustr result note contour map round decim digit default min max field exodusview tab peacock might trim mani signific digit achiev solid contour like one shown media tutorial_app_developmentstep_resultpng stylewidthmarginleftautomarginrightauto idresult captionpressur vessel model result lvert vecu rvert use rel linear toler everi element show exactli predict veloc magnitud textrmm alert tip titleb awar mani differ type control toler usual varieti paramet avail execution object use set solver toler sometim even slight chang profound numer effect certain type toler supersed other exampl desir effect constant decim digitsth avail precis ieee decimalhttpsenwikipediaorgwikidecimal_floatingpoint_format format float refer doubl precis c achiev set nl_rel_tol e nonlinear iter requir case inform common solver paramet pleas see sourceexecutionerssteadymd sourceexecutionerstransientmd page alertend use peacock inspect result darcyveloc test includ commandspeacock_rmd replac testtestsauxkernelsdarcy_veloc e darcy_velocity_test_out select contour veloc magnitud confirm solid contour render signific digit illustr result model creat dvtest use p_ p_ textrmpa l textrmm sinc packedcolumn object use default diamet viscos paramet k time textrmm mu time textrmpa cdot textrm substitut valu eqrefvelocityx yield equat u_x dfrac time time beginbmatrix endbmatrix beginbmatrix endbmatrix time textrmm thu figur indic darcy_velocity_testi model must correct sinc u_x time media tutorial_app_developmentstep_resultpng stylewidthmarginleftautomarginrightauto idresult captionrend result lvert vecu rvert produc darcyveloc test everi element show exactli predict veloc magnitud time textrmm test idtestdemo sinc result darcy_velocity_testi input file deem good exodusii output becom certifi gold file includ commandsnew_goldmd replac auxkernelsdarcy_veloc e darcy_velocity_test_out alert note iconnamecr prefixfals titletaskcr specif darcyveloc test darcy_velocity_testi file written darcy_velocity_test_out file move gold test specif file name test gener testtestsauxkernelsdarcy_veloc left reader determin syntax necessari pleas review step tutorial_app_developmentstep_test_harnessmd sure write test file instruct final run testhar includ commandsrun_testsmd test pass termin output look someth like shown testkernelsdarcy_pressuretest ok testmaterialspacked_columntest ok testkernelssimple_diffusiontest ok testauxkernelsdarcy_velocitytest ok ran test second averag test time second maximum test time second pass skip pend fail commit idcommitdemo add chang made step git tracker includ commandsgit_addmd alert tip titlekeep tab local chang chang repositori made help frequent check output git statu andor git diff file good shape stage use git add chang made commit care use wildcard commit push chang remot repositori includ commandsgit_commitmd replacem develop auxkernel comput veloc associ pressur gradient accord darci law content pagin previoustutorial_app_developmentstep_mat_propsmd nexttutorial_app_developmentstep_transient_kernelmd content pagin previoustutorial_app_developmentindexmd nexttutorial_app_developmentproblem_statementmd marginbottompx prefac navig jump around page section use header link provid right tabl media tutorial_app_developmentscrollspypng stylewidthdisplayblockheightautomarginleftautomarginrightauto flip page iconarrow_back previou next iconarrow_forward button locat start end page media tutorial_app_developmentpaginationpng stylewidthdisplayblockmarginleftautomarginrightauto head back index page follow tutorial_app_develop link locat top page media tutorial_app_developmentbreadcrumbspng stylewidthdisplayblockmarginleftautomarginrightauto go section tutori tutorial_app_developmentindexmdcont section index page media tutorial_app_developmentoutlinepng stylewidthdisplayblockmarginleftautomarginrightauto note screenshot captur shutter applic shutterprojectorg border shadow produc run follow shell script convert border bordercolor rgb convert clone background shadow x swap background none layer merg repag imag scale page width base widest imag resolut breadcrumbspng todo nice bordershadow tool moosedoc media would nice acronym acronym list locationgetting_startedexamples_and_tutorialstutorial_app_develop content pagin previoustutorial_app_developmentindexmd nexttutorial_app_developmentproblem_statementmd anticip outlin next step transient kernel steadi heat conduct time deriv bc heat conduct outflow function necessari prerequisit step equat coupl darci advect definit need get physic modul action itd super cool could coupl tensormechan comput thermal strain even mechan contact eg mayb model sort expans joint connect one end pipe adjac pressur vessel contact modul seem robust day step develop timedepend kernel object alert construct remaind tutori current develop content avail soon refer back examples_and_tutorialsindexmd page help train materi check moos application_developmentindexmd page inform content pagin previoustutorial_app_developmentstep_auxkernelsmd workshop break step two part steadyst transient heat conduct think appropri consolid one step sinc weve alreadi introduc basic concept steadyst kernel workshop also whole spiel execution concept import think need briefli mention bodi text major differ execution chang type transient simpl problem one need worri timeintegrationdifferenti adapt stepper kind stuff need pull hood introductori moos tutori imo ps probabl ought mention someth exec flag common execute_on param content pagin previoustutorial_app_developmentstep_kernel_objectmd nexttutorial_app_developmentstep_parallelmd marginbottompx step defin set input paramet step introduc class use defin uniqu set paramet mooseobject valu paramet specifi user via input file demonstr darcypressur class creat previou steptutorial_app_developmentstep_kernel_objectmdsourcedemo modifi accept arbitrari real number _permeabl _viscos variabl instead hardcod one input paramet everi mooseobject includ set custom paramet within singl inputparametersframeworkincludeutilsinputparametersh object whose valu may control user via input file paramet defin validparam method method static allow call independ prior object construct output pars verifi core system moos becom access constructor method member instanc associ mooseobject declar valid paramet code validparam function customari declar param variabl initi validparam output base class eg list languagec inputparamet param adkernelgradvalidparam initi mean paramet given mooseobject alway includ defin base class paramet provid standard usabl inherit class eg variabl block boundari first item append param addclassdescript object alreadi demonstr darcypressurec file list tutorialstutorial_app_developmentstep_kernel_objectsrckernelsdarcypressurec linkfals startparamsaddclassdescript end includeendtru mani method avail inputparamet object provid differ strategi lend limit usercontrol object construct one basic addrequiredparam use defin paramet must set user list languagec paramsaddrequiredparamtnam descript requir data type input eg real stdvectorr stdstring anoth basic method addparam use defin option paramet list languagec paramsaddparamtnam valu descript valu default valu set paramet one specifi input file access paramet valu inputparamet object pass constructor method mooseobject paramet defin validparam method may referenc anywher throughout object sourc demonstr darcypressurec list tutorialstutorial_app_developmentstep_kernel_objectsrckernelsdarcypressurec linkfals startdarcypressuredarcypressureconst inputparamet paramet end adkernelgradparamet includeendtru basic method retriev userdefin input templat getparam method return constant refer desir paramet method use initi class member variabl refer paramet getparam method call within membernot constructor although typic necessari special case avoid much possibl sinc access invari input paramet invoc function tend unnecessarili expens case paramet access constructor initi class member variabl inform input paramet pleas visit sourceutilsinputparametersmd page demonstr iddemo recal previou steptutorial_app_developmentstep_kernel_objectmdphys upon appli acbvp isotropi assumpt weak form darci pressur equat equat iddarcyweak nabla psi dfrackmu nabla p darcypressur object shall modifi allow user defin constant properti k mu sourc code idsourcedemo requir paramet permeabl shall use set valu k option paramet viscos whose default valu dynam viscos water degre textrmc shall use set valu mu assum valid number mathbbr data type paramet real darcypressureh declar _permeabl _viscos refer variabl input valu may access without creat addit copi list tutorialstutorial_app_developmentstep_input_paramsincludekernelsdarcypressureh linkfals start refer variabl hold valu k mu end modifi part darcypressureh darcypressurec chang validparam definit follow list tutorialstutorial_app_developmentstep_input_paramssrckernelsdarcypressurec linkfals startinputparamet enddarcypressuredarcypressureconst inputparamet paramet paramet retriev constructor method use set valu _permeabl _viscos variabl userinput shall read getparam method thu chang constructor definit follow list tutorialstutorial_app_developmentstep_input_paramssrckernelsdarcypressurec linkfals startdarcypressuredarcypressureconst inputparamet paramet end includeendtru modifi part darcypressurec recompil applic includ commandsmakemd input file idinputdemo properti eqrefdarcyweak specifi input file howev sinc default viscos paramet desir valu mu_f time textrmpa cdot textrm need set kernel block pressure_diffusioni follow list tutorialstutorial_app_developmentstep_input_paramsproblemspressure_diffusioni blockkernel linkfals execut input file list languagebash cd projectsbabblerproblem babbleropt pressure_diffusioni result idresultdemo run follow command visual solut peacock includ commandspeacock_rmd replac problem e pressure_diffusion_out sinc numer chang made result ident previou steptutorial_app_developmentstep_kernel_objectmdresultdemo note command use peacock alia youll need set path environ variabl bash profil see application_usagepeacockmd page syntax shall henceforth use exclus whenev execut peacock commit idcommitdemo add chang made darcypressur object file pressure_diffusioni includ commandsgit_addmd replac includekernelsdarcypressureh srckernelsdarcypressurec problemspressure_diffusioni commit push chang remot repositori includ commandsgit_commitmd replacem defin permeabl viscos input paramet content pagin previoustutorial_app_developmentstep_kernel_objectmd nexttutorial_app_developmentstep_parallelmd content pagin previoustutorial_app_developmentstep_parallelmd nexttutorial_app_developmentstep_mat_propsmd marginbottompx step write regress test develop softwar scientif comput prudent maintain archiv certifi solut way develop easili check applic continu produc good result sourc code expand refactor step introduc application_developmenttest_systemmd provid tool develop regress testshttpsenwikipediaorgwikiregression_test base input file output demonstr two differ test darcypressur class creat use system testhar applic test system provid testharnesspythontestharnesstestharnesspi python modul system lend user rich set test method test input condit suppos invok error check whether error inde occur everi mooseobject autom test rapid verif primari approach use moos gold file refer involv execut input file compar outputsusu form csv andor exodusii filesto databas expect output store directori name gold exampl test approach demonstr step simpl diffus testgetting_startedexamples_and_tutorialstutorial_app_developmentstep_moose_appmdtest ran test setup idsetup testhar requir test relat file organ standard format reader must notic test directori applic root test group logic individu directori testtest consist name convent folder testtest usual hierarch structur similarli src includ directori exampl test file diffus class locat subdirectori testtestkernel sinc kernel object object design test directori contain follow input file design test applic gold directori contain certifi result match output test specif file provid instruct testhar test specif test specif file achit format one defin test run default testhar search directori tree file name test read spec familiar achit syntax use file demonstr specif simpl diffus test list tutorialstutorial_app_developmentstep_test_harnesstesttestskernelssimple_diffusiontest linkfals removetestsissu testsdesign teststestrequir type paramet specifi one avail test method case exodiff object use requir input file specifi input paramet exodusii format gold file specifi exodiff paramet demo section show use exodiff runexcept tester darcypressur class complet list test object pleas see discuss testerspythontestharnessmdtest alert tip titletest simpl cheap although import regress test comprehens ideal also simpl possibl process unnecessari sourc code input file creat object possibl beyond one class test moos develop abid second rule ie test complet two second run test run_teststutorialstutorial_app_developmentstep_test_harnessrun_test languagepython python script locat applic root execut invok testhar test specif find testtest basic command alreadi demonstr step getting_startedexamples_and_tutorialstutorial_app_developmentstep_moose_appmdtest includ commandsrun_testsmd execut simple_diffusionitutorialstutorial_app_developmentstep_test_harnesstesttestskernelssimple_diffusionsimple_diffusioni file conduct exodiff procedur testdemo section introduc two new specif shown command caus test run well alert note titletest execut parallel varieti way run_test script sever commandlin option use develop see pythontestharnessmdmoreopt common j n argument specifi number test run simultan use n processor independ run one test specif decreas total time take run test given test specif also made run parallel andor multithread manner discuss previou steptutorial_app_developmentstep_parallelmd addit run multipl uniqu test simultan specifi j argument invok acmpi use p n andor thread use nthread n nthreadsn exampl command run four test job two processor two thread includ commandsrun_testsmd replacej j p nthread regress test usual cheap individu parallel gener wont increas overal test speed besid possibl increas perform use p command also test sinc ought confirm applic capabl produc expect result parallel see discuss parallel test executionpythontestharnessmdparallel inform alertend demonstr iddemo demonstr show creat three test setup itemssetup mention earlier order offici test darcypressur kernel first notic weak form requir mu mathllapsmal equat nabla psi dfrackmu nabla p mu residu would yield nanhttpsenwikipediaorgwikinan valu applic would crash thu sourc code shall modifi prevent condit second test creat input viscos verifi proper unambigu error occur sourc code idsourcedemo sure one confirm viscos input lead crash ad diffus block pressure_diffusioni execut input file upon follow messag report termin list languagebash nonlinear solv converg due diverged_fnorm_nan iter solv converg abort solv converg statu diverged_fnorm_nan indic residu inde nan due divis zero pleas sure remov erron input simpli enter git restor pressure_diffusioni proceed sinc clear zerovalu viscos input invalid error occur within darcypressur class invok paramerror methodframework_developmentsanity_checkingmdmissingandincorrectparamet optionaltru viscos paramet add call constructor method darcypressurec list tutorialstutorial_app_developmentstep_test_harnesssrckernelsdarcypressurec linkfals startdarcypressuredarcypressur endadrealvectorvalu user tri input viscos messag print termin explicit went wrong viscos must nonzero real number modifi part darcypressurec lastli sure recompil applic includ commandsmakemd input file idinputdemo simpl diffus test great exampl regress test simpl cheap provid suffici verif class test ie diffus specif creat object besid diffus one mesh coars enough produc number acdof solv almost time fine enough result fairli complex system equat correct solut acbvp zero left uniti right obviou geometri squar direct map therefor make matter easi simple_diffusioni file copi modifi use darcypressur object start creat directori store test file relat darcypressur class includ commandsmkdirmd replac testtestskernelsdarcy_pressur folder creat file name darcy_pressure_testi add input given darcykerneltest valu input permeabl mm steel sphere medium viscos left default valu mu_f exodu paramet set true output block exodiff object refer output file list tutorialstutorial_app_developmentstep_test_harnesstesttestskernelsdarcy_pressuredarcy_pressure_testi linkfals iddarcykerneltest captioninput file test darcypressur class exodiff object execut input file darcykerneltest confirm solver complet file name darcy_pressure_test_out gener list languagebash cd projectsbabblertesttestskernelsdarcy_pressur babbleropt darcy_pressure_testi next creat file name zero_viscosity_errori folder add input given darcyerrortest viscos input deliber incur expect error also sinc actual acf problem go solv solv paramet set fals problem block increas perform process task unnecessari particular test list tutorialstutorial_app_developmentstep_test_harnesstesttestskernelsdarcy_pressurezero_viscosity_errori linkfals iddarcyerrortest captioninput file test darcypressur class runexcept object execut input file darcyerrortest confirm applic report error messag pass paramerror method list languagebash cd projectsbabblertesttestskernelsdarcy_pressur babbleropt zero_viscosity_errori result idresultdemo visual result darcy_pressure_testi input file peacock includ commandspeacock_rmd replac testtestskernelsdarcy_pressur e darcy_pressure_test_out confirm solut resembl shown result notic solut satisfi bvp p p foral also notic solut directli map spatial coordin along xdirect expect result clearli indic contour color display result thu one may declar solut good therefor darcypressur class function properli media tutorial_app_developmentstep_resultpng stylewidthmarginleftautomarginrightauto idresult captionrend solut produc darcypressur test test idtestdemo sinc result darcy_pressure_testi input file deem good exodusii output becom certifi gold file includ commandsnew_goldmd replac kernelsdarcy_pressur e darcy_pressure_test_out next creat file name test testtestskernelsdarcy_pressur add input given darcytestspec first test defin test block creat exodiff object attempt match output darcy_pressure_testi gold file creat second test defin zero_viscosity_error block creat runexcept object attempt match error messag incur zero_viscosity_errori string specifi expect_err paramet list tutorialstutorial_app_developmentstep_test_harnesstesttestskernelsdarcy_pressuretest linkfals removetestsissu testsdesign teststestrequir testszero_viscosity_errorrequir iddarcytestspec captiontest specif file darcypressur class final test includ new one run testhar includ commandsrun_testsmd test pass termin output look someth like shown testkernelsdarcy_pressuretest ok testkernelssimple_diffusiontest ok testkernelsdarcy_pressurezero_viscosity_error ok ran test second averag test time second maximum test time second pass skip pend fail commit idcommitdemo updat darcypressurec file add new test file git tracker includ commandsgit_addmd replac srckernelsdarcypressurec testtestskernelsdarcy_pressur commit push chang remot repositori includ commandsgit_commitmd replacem implement zeroviscos error creat test darci pressur kernel content pagin previoustutorial_app_developmentstep_parallelmd nexttutorial_app_developmentstep_mat_propsmd content pagin previoustutorial_app_developmentstep_input_paramsmd nexttutorial_app_developmentstep_test_harnessmd marginbottompx step execut parallel major object moos perform step briefli introduc parallel process demonstr basic command use run moos applic parallel basic tip evalu improv perform given moos multiprocess two type parallel support moos multiprocessinghttpsenwikipediaorgwikimultiprocess multithreadinghttpsenwikipediaorgwikithread_comput core moos design run parallel use messag pass interfacehttpsenwikipediaorgwikimessage_passing_interfac protocol acmpi librari program tool access hardwar control multipl cpu exchang inform work simultan run singl comput program share memori parallel also support variou thread librari use union acmpi gener approach solv acf simul parallel partit mesh run individu process assembl solv system equat mesh partit gener durat solv procedur decreas number cpu increas basic command idcommand mpiexec command use execut moosebas applic use acmpi exampl tutori applic execut follow syntax n argument suppli mpiexec command indic use processor execut list languagebash cd projectsbabbl mpiexec n babbleropt testtestskernelssimple_diffusionsimple_diffusioni case use acmpi alon best coars action desir thread may enabl use nthread option suppli directli applic execut exampl follow run applic thread list languagebash cd projectsbabbl babbleropt testtestskernelssimple_diffusionsimple_diffusioni nthread possibl use acmpi thread accomplish combin two method describ alert tip titleoptimum number hardwar problem depend number processor thread avail execut hardwar depend modern laptop typic processor thread gener recommend begin use acmpi thu typic use processor mpiexec command thread ad use processor acmpi thread would typic optimum arrang parallel execut hardwar problem depend may worth explor differ arrang run fullscal problem alert note titleparallel enabl peacock execut tab peacock mpiexec nthread option use select use mpi use thread checkbox specifi command syntax option set enabl default peacock prefer inform commandlin option pleas visit application_usagecommand_line_usagemd page model setup idmodelsetup mesh system moos provid sever strategi configur acf model solv parallel endus wont alter default set even applic develop need worri write parallel code sinc handl core system moos libmesh petsc howev advanc user like encount situat default parallel techniqu suitabl problem solv situat beyond scope tutori interest reader may refer follow inform syntaxmeshpartitionerindexmd syntaxmeshindexmdreplicatedanddistributedmesh syntaxmeshsplittingmd sourcepartitionerpetscexternalpartitionermd evalu enhanc perform moos includ tool evalu perform perfgraphoutputmd enabl report print termin detail amount time spent process differ part program well total execut time evalu perform report ideal parallel typecommand model setupmodelsetup found featur enabl commandlin time within input file eg output perf_graph true print perform report termin entir field scienc achpc massiv parallel process although valuabl one formal discuss made one concept worth mention scalabl parallelismhttpsenwikipediaorgwikiscalable_parallel refer softwar perform level larger problem use process smaller problem use fewer process moos select number process base number acdof system simpl way tri achiev scalabl alert tip titletri target acdofsperprocess moos develop tend agre ideal number acdof singl process may respons valu report num local dof termin printout begin everi execut cours except problem exhibit speedup less acdofsprocess use inform applic perform pleas visit application_developmentperformance_benchmarkingmd page demonstr demonstr import parallel execut current darci pressur input file ran two particular commandlin option first perform inform shall includ use time option second mesh uniformli refin use r option make problem larg enough analysi list languagebash cd projectsbabblerproblem babbleropt pressure_diffusioni r time alert warn titleus less refin older hardwar run problem level refin may much older system still possibl follow along exampl use less level refin r option split quadrilater element element time therefor result mesh time larger origin input file result element thu version execut command contain element chang evid mesh section termin output addit number acdof report import consid select number processor nonlinear system num dof num local dof number consid number local acdof number acdof root processor roughli equival number processor perform inform present end simul demonstr perform graph section call self avg memmb total avg memmb babblertestapp main actionsetupmeshactionmeshsetupmeshactionactsetup_mesh actionsetupmeshactionmeshsetupmeshactionactset_mesh_bas feproblemoutputstep exodusoutputstep steadypicardsolv feproblemoutputstep feproblemsolv feproblemcomputeresidualintern feproblemcomputeresidualintern feproblemcomputejacobianintern steadyfin feproblemoutputstep report indic total durat execut approxim second solv time approxim second obvious time vari base hardwar test parallel scale acf model execut increas number processor exampl follow execut problem two processor problem scalabl expect solv time twice fast list languagebash cd projectsbabblerproblem mpiexec n babbleropt pressure_diffusioni r time data present scale show decreas solv time number processor increas problem execut dell xp intel core ik core thread cach ghz perfect scale processor run eight time faster serial execut cours perfect scale possibl due necess perform parallel commun solv furthermor baselin portion execut workload alway run serial benefit parallel tabl idscal captionfour time refin pressure_diffusioni solv time increas number processor processor local acdof solv time sec clear mesh pressure_diffusioni problem refin sole purpos demonstr larg problem benefit parallel process howev unrefin mesh produc rel small problem practic singl process suffici moos acf problem involv less total acdof content pagin previoustutorial_app_developmentstep_input_paramsmd nexttutorial_app_developmentstep_test_harnessmd content pagin previoustutorial_app_developmentstep_moose_appmd nexttutorial_app_developmentstep_moose_objectmd marginbottompx step write input file step concept input file introduc file provid mean control acf simul moos demonstr concept steadyst diffus pressur one end pipe pressur vessel see tutorial_app_developmentproblem_statementmd page consid goal creat input file solv simpl acbvp problem detail demo section first basic inform regard input file execut provid mani step tutori concept introduc handson demonstr follow input file format idinput moos input file use extens format use achit format nest block structur convent block begin capit letter syntax dictat applic block start lower case letter arbitrari name assign creator input file complet list avail syntax associ object moosebas applic avail syntaxindexmd page demonstr format consid c class design model diffus field variabl u object singl instanc class invok input file follow syntax list tutorialstutorial_app_developmentstep_input_filetesttestskernelssimple_diffusionsimple_diffusioni blockkernel linkfals syntax type diffus denot c class name diffusionsourcekernelsdiffusionmd capabl solv laplac oper also commonli refer diffus term within subblock number namevalu pair provid correspond paramet requir given class although usual sever input paramet requir diffus need except variabl oper variabl also block input file least moos input file requir follow six block type meshsyntaxmeshindexmd defin geometri domain variablessyntaxvariablesindexmd defin unknown problem kernelssyntaxkernelsindexmd defin equat solv bcssyntaxbcsindexmd defin boundari condit problem executionersyntaxexecutionerindexmd defin problem solv outputssyntaxoutputsindexmd defin solut written obviou basic acf analysi problem requir mesh variabl equat boundari condit also method handl numer solv record result necessari execution output block requir purpos alert tip titleblock type name block suggest type object use within block task perform pleas visit syntax documentationsyntaxindexmd page complet list avail syntax associ object inform input file pleas visit application_usageinput_syntaxmd page execut input file idexecut sever way execut input filea coupl shall explain step tutorial_app_developmentstep_moose_appmd reader alreadi creat execut applic sure run follow command includ commandsmakemd execut use termin basic way execut input file termin user may navig directori input file store pass execut argument exampl input file applic default test may execut follow list languagebash cd projectsbabblertesttestskernelssimple_diffus babbleropt simple_diffusioni input file could also execut rel applic root directori list languagebash cd projectsbabbl babbleropt testtestskernelssimple_diffusionsimple_diffusioni applic run acf simul popul directori request output eg exodusii comma delimit file file call simple_diffusion_out creat mention help softwaregetting_startednew_usersmdhelpfulsoftwar file open visual result solut paraviewhttpswwwparavieworg peacock moos inhous acgui execut use peacock peacock provid second way execut input file demonstr run follow command list languagebash cd projectsbabblertesttestskernelssimple_diffus projectsmoosepythonpeacockpeacock simple_diffusioni open peacock window display mesh use simpl diffus testtutorial_app_developmentstep_moose_appmdtest execut input file click execut tab click run solv complet click exodusview tab view result alert warn titlefirst execut peacock slow peacock python applic initi execut binari file cach often take minut subsequ execut peacock quicker alert note titlebash alia peacock commandlin syntax run peacock simplifi creat bash alia sure visit application_usagepeacockmd page learn demonstr iddemo laplac equat shall employ model steadyst diffus pressur u domain omega thu find u equat idlaplac nabla cdot nabla u omega satisfi follow acbvp u textrmpa inlet left boundari u outlet right boundari nabla u cdot hatn hatn surfac normal vector remain boundari input file section setup input file model steadyst diffus pressur length pipe detail begin creat directori name problem includ commandsmkdirmd replac problem next use text editorgetting_startednew_usersmdhelpfulsoftwar creat file name pressure_diffusioni problem directori file blockstructur achit format use setup input need solv given acbvp alert note titleblock order doesnt matter block need list particular order within input file recal six basic blocksthos mention input sectionar requir mesh block geometri pipe whose dimens provid tutorial_app_developmentproblem_statementmd page shall defin use moos standard rectilinear mesh gener object generatedmeshsourcemeshgeneratedmeshmd list tutorialstutorial_app_developmentstep_input_fileproblemspressure_diffusioni blockmesh linkfals todo maintain whitespac use block list command creat planar mesh height equal pipe radiu thu problem shall solv use cylindr coordin problemsyntaxproblemindexmd block shall includ addit basic six block list tutorialstutorial_app_developmentstep_input_fileproblemspressure_diffusioni blockproblem linkfals purpos block indic planar mesh repres axisymmetr bodi defin respect cylindr coordin system pressur variabl u shall ad variabl block unambigu name ie pressur list tutorialstutorial_app_developmentstep_input_fileproblemspressure_diffusioni blockvari linkfals variabl list variabl solv use acfem next kernel block whose syntax demonstr earlier shall includ addiffusionsourcekernelsaddiffusionmd class use solv eqreflaplac pressur variabl oper list tutorialstutorial_app_developmentstep_input_fileproblemspressure_diffusioni blockkernel linkfals domain omega primari variabl u acpd specifi acbvp must enforc addirichletbcsourcebcsaddirichletbcmd class enforc dirichlet essenti boundari condit eg pressur prescrib pipe inlet outlet problem two separ addirichletbc object setup bc blockon end pipe list tutorialstutorial_app_developmentstep_input_fileproblemspressure_diffusioni blockbc linkfals necessari enforc neumann natur boundari condit nabla u cdot hatn sinc zerovalu flux problem solv time compon steadyst execution object steadysourceexecutionerssteadymd invok solv result equat list tutorialstutorial_app_developmentstep_input_fileproblemspressure_diffusioni blockexecution linkfals final comput acf solut shall output exodusii format ad follow syntax output block list tutorialstutorial_app_developmentstep_input_fileproblemspressure_diffusioni blockoutput linkfals lot way control solut use steadi class transientsourceexecutionerstransientmd class timedepend simul instanc paramet set petsc solver option influenti converg rate newton solv throughout tutori reader encourag test differ combin input paramet especi execution object run input file given reader may remov petsc option paramet run observ differ converg rate result idresultdemo execut way execut visual result input file discuss method review find prefer mean interact applic remind pressure_diffusioniinputdemo file exectu termin enter follow list languagebash cd projectsbabblerproblem babbleropt pressure_diffusioni input file ran termin pressure_diffusion_out file exist result render peacock run follow command includ commandspeacock_rmd replac problem peacock projectsmoosepythonpeacockpeacock e pressure_diffusion_out run command peacock window open exodusview tab result resembl shown result display media tutorial_app_developmentstep_resultpng stylewidthmarginleftautomarginrightauto idresult captionrend acfem solut eqreflaplac subject given acbvp notic acfem solut depict result satisfi boundari condit ie pressur pa observ inlet zero pressur outlet pressur distribut length pipe also appear uniform across radiu indic flux remain boundari thu nabla u cdot hatn also satisfi boundari commit idcommitdemo github repositori store new moosebas applic creat part previou steptutorial_app_developmentstep_moose_appmdrepo tutori repositori also contain first commit origin remot onlin copi new file exist local repositori ie problemspressure_diffusioni sinc input file verifi produc good result commit push remot proceed inspect statu local repositori compar head denot version exist follow recent commit list languagebash cd projectsbabbl git statu termin output read someth like follow list languagegit branch main branch date originmain untrack file use git add file includ commit problem noth ad commit untrack file present use git add track listingend indic new directori problem stage may may unstag file directori cours case proceed instruct provid output ad new file reinspect statu local repositori list languagebash git add problem git statu termin output follow list languagegit branch main branch date originmain chang commit use git restor stage file unstag new file problemspressure_diffusioni listingend commit chang simpli enter git commit user prompt enter messag describ chang chang messag ad might creat input file solv diffus problem shown exampl list languagegit creat input file solv diffus problem pleas enter commit messag chang line start ignor empti messag abort commit branch main branch date originmain chang commit new file problemspressure_diffusioni listingend exit git commit prompt simpli enter git push updat origin remot remot repositori githubcomyourgithubusernamebabbl inspect confirm chang publish alert tip titleinteract git mention step tutorial_app_developmentstep_moose_appmdrepo lot way interact git even acgui applic use gitth termin way import becom comfort approach softwar develop especi moos applic develop content pagin previoustutorial_app_developmentstep_moose_appmd nexttutorial_app_developmentstep_moose_objectmd content pagin previoustutorial_app_developmentstep_weak_formmd nexttutorial_app_developmentstep_input_paramsmd marginbottompx step develop kernel object step basic compon kernel present demonstr use new kernel creat solv darci pressur equat whose weak form deriv previou steptutorial_app_developmentstep_weak_formmddemo concept class inherit shall also demonstr object solv darci equat inherit adkernel class kernel object idkernel syntaxkernelsindexmd moos one comput residu contribut volumetr term within acpd use galerkin acfem one way identifi kernel check term weak form express multipli gradient test function nabla psi check repres integr whole domain omega kernelinherit notic addiffus object declar one inherit adkernelgrad base class turn inherit adkernel base class mean addiffus uniqu object build upon moos kernel system design list frameworkincludekernelsaddiffusionh lineclass addiffus idkernelinherit captionsyntax defin addiffus class object inherit adkernelgrad class alert note titleautomat differenti ad often use prefix class name stand automat differenti featur avail moos applic develop drastic simplifi implement new mooseobject nonad counterpart object subject next tutori one might inspect file provid base class ie adkernelhframeworkincludekernelsadkernelh adkernelcframeworksrckernelsadkernelc see tool avail decid properli implement new object type variabl member adkernel object access includ limit follow _u _grad_u valu gradient variabl oper _test _grad_test valu psi gradient nabla psi test function _i current index test function compon _q_point coordin current quadratur point _qp current quadratur point index sever method adkernel kernel object may overrid import one work evalu kernel term weak form explain kernelmethod tabl idkernelmethod captionmethod use differ type kernel object comput residu term base overrid use kernel adkernel computeqpresidu use term acpd multipli test function gradient test function _test _grad_test must appli kernelvalu adkernelvalu precomputeqpresidu use term comput acpd multipli test function use _test overrid appli automat kernelgrad adkernelgrad precomputeqpresidu use term comput acpd multipli gradient test function use _grad_test overrid appli automat step method awar precomputeqpresidu one use addiffusionframeworksrckernelsaddiffusionc qp stand quadratur point characterist featur gaussian quadraturehttpsenwikipediaorgwikigaussian_quadratur point weak form acpd numer integr finit element usual contain multipl quadratur point specif symmetr place locat gauss quadratur formula summat point yield exact valu integr polynomi omega demonstr iddemo previou steptutorial_app_developmentstep_weak_formmddemo shown weak form darci pressur equat follow equat iddarcyweak nabla psi dfracmathbfkmu nabla p langl psi dfracmathbfkmu nabla p cdot hatn rangl eqrefdarcyweak must satisfi follow acbvp p textrmpa inlet left boundari p outlet right boundari nabla p cdot hatn remain boundari therefor possibl drop second term eqrefdarcyweak express simpli equat iddarcyweakkernel nabla psi dfrackmu nabla p k scalar substitut assert permeabl isotrop full tensor mathbfk may consolid singl valu specifi problem statementtutorial_app_developmentproblem_statementmdmat page viscos fluid water mu mu_f time textrmpa cdot textrm also assum isotrop permeabl k time textrmm repres mm steel sphere medium insid pipe obtain set eqreftutorial_app_developmentproblem_statementmdperm sourc code idsourcedemo evalu eqrefdarcyweakkernel new adkernelgrad object creat shall call darcypressur start make directori store file object part kernel system includ commandsmkdirmd replac includekernel srckernel includekernel creat file name darcypressureh add code given darcyhead darcypressur class defin type adkernelgrad object header file adkernelgradh includ mooseobject must validparam method constructor includ part public member precomputeqpresidu method overridden eqrefdarcyweakkernel may set return valu accord kernelmethod final two variabl _permeabl _viscos creat store valu k mu respect assign const type ensur valu arent accident modifi set constructor method list tutorialstutorial_app_developmentstep_kernel_objectincludekernelsdarcypressureh linkfals iddarcyhead captionhead file darcypressur object srckernel creat file name darcypressurec add code given darcysourc header file object includ next registermooseobject method call babblerapp darcypressur object validparam method subject next steptutorial_app_developmentstep_input_paramsmd okay simpli copi past definit constructor method _permeabl _viscos attribut set accord valu given earlier final precomputeqpresidu method program return lefthand side eqrefdarcyweakkernel except nabla psi _grad_test term automat handl base class list tutorialstutorial_app_developmentstep_kernel_objectsrckernelsdarcypressurec linkfals iddarcysourc captionsourc file darcypressur object sinc sourc code modifi execut must recompil includ commandsmakemd input file idinputdemo instead addiffus class problem model use darcypressur pressure_diffusioni input file creat step tutorial_app_developmentstep_input_filemdinputdemo replac kernel block follow list tutorialstutorial_app_developmentstep_kernel_objectproblemspressure_diffusioni blockkernel linkfals execut input file list languagebash cd projectsbabblerproblem babbleropt pressure_diffusioni result idresultdemo visual solut peacock confirm resembl shown result includ commandspeacock_rmd replac problem peacock projectsmoosepythonpeacockpeacock e pressure_diffusion_out media tutorial_app_developmentstep_resultpng stylewidthmarginleftautomarginrightauto idresult captionrend acfem solut darci pressur equat subject given acbvp one convinc steadyst problem coeffici k mu_f constant sinc forego acbvp simpl one involv essenti boundari condit solut produc new darcypressur object shown result ident previou onetutorial_app_developmentstep_input_filemdresult produc addiffus object commit idcommitdemo add two new file darcypressureh darcypressurec git tracker updat pressure_diffusioni file includ commandsgit_addmd replac includekernel srckernel problemspressure_diffusioni commit push chang remot repositori includ commandsgit_commitmd replacem develop kernel solv darci pressur updat problem input file content pagin previoustutorial_app_developmentstep_weak_formmd nexttutorial_app_developmentstep_input_paramsmd content pagin previoustutorial_app_developmentstep_moose_objectmd nexttutorial_app_developmentstep_kernel_objectmd marginbottompx step gener weak form first question ask present acpd govern problem physic solv equat moos answer question use galerkin methodgalerkin involv express strong form govern acpd weak form step relev socal weak form acpd pertain creat applic deriv equat strong form discuss diffus equat previou two step shall revisit addit reader shall begin consid next phase tutori deriv weak form darci pressur equat given problem statementtutorial_app_developmentproblem_statementmdequ page alert warn titlethi introduct finit element method complet introduct acfem pleas refer myriad literatur inform present introduc concept simpli possibl purpos demonstr develop moosebas applic pleas visit helpfinite_element_conceptsindexmd page inform method weight residu idresidu method mean weight residualshttpsenwikipediaorgwikimethod_of_mean_weighted_residu assum solut acpd well approxim finit sum test function denot psi involv rearrang strong form acpd term one side equat zero multipli psi_i laplac equat method attempt find u equat idlaplaceresidu psi nabla cdot nabla u enspac foral psi lefthand side eqreflaplaceresidu call residu coeffici psi arbitrari except requir satisfi homogen boundari condit gener procedur express residu one readili solv moos first integr respect problem domain omega equat idlaplacesum int_omega psi nabla cdot nabla u next recal product rule differenti impli equat idlaplaceproduct psi nabla cdot nabla u nabla cdot psi nabla u nabla psi cdot nabla u substitut righthand side eqreflaplaceproduct result integr part eqreflaplacesum equat idlaplaceibp int_omega nabla psi cdot nabla u int_omega nabla cdot psi nabla u final notic second term eqreflaplaceibp volum integr whose integrand diverg field psi nabla u therefor possibl appli diverg theoremhttpsenwikipediaorgwikidivergence_theorem integr magnitud field along volum surfac normal hatn respect surfac domain gamma partial omega ie equat idlaplaceweak int_omega nabla psi cdot nabla u oint_gamma psi nabla u cdot hatn weak form laplac equat applic develop perspect conveni express weak form use inner product notat identifi moos class residu term shall inherit equat idlaplaceobject underbracenabla psi nabla u_clapkernel underbracelangl psi nabla u cdot hatn rangle_clapboundari condit procedur gener weak form idprocedur gener procedur express weak form acpd follow write strong form equat rearrang term one side equal sign zero multipli whole equat test function psi integr whole equat domain omega appli integrand sum rule separ term integr part use product rule differenti diverg higherord deriv primari variabl multipli psi repeat step appropri order differenti function achiev appli diverg theorem gener boundari integr necessari andor possibl express final weak form use inner product notat desir galerkin finit element method idgalerkin gener acfem assum solut acpd take simpl analyt form call shape functionssourceproblemsfeproblembasemdshape_funct eg polynomi assumpt enabl difficult analyt deriv express directli integr piecewisecontinu fashion galerkin acfem one use function approxim solut acpd use test function boldsymbolpsi mani approach achiev solut use acfem galerkin approach particularli use multiphys applic pure numer one whose effect independ underli physic demonstr iddemo consid zerograv divergencefre form darci pressur law given problem statementtutorial_app_developmentproblem_statementmdequ page domain omega enclos pipe two pressur vessel equat iddarcystrong nabla cdot dfracmathbfkmu nabla p omega procedur shall appli equat result step provid reader make attempt verifi conclus write strong form eqrefdarcystrong rearrang term done multipli equat psi equat nabla cdot dfracmathbfkmu nabla p psi enspac foral psi integr equat omega equat int_omega psi nabla cdot dfracmathbfkmu nabla p integr part equat int_omega nabla psi cdot dfracmathbfkmu nabla p int_omega nabla cdot psi dfracmathbfkmu nabla p appli diverg theorem equat int_omega nabla psi cdot dfracmathbfkmu nabla p oint_gamma psi dfracmathbfkmu nabla p cdot hatn express final weak form use inner product notat equat underbracenabla psi dfracmathbfkmu nabla p_clapclapkernel underbracelangl psi dfracmathbfkmu nabla p cdot hatn rangle_clapboundari condit import becom comfort notat weak form express shall henceforth use exclus content pagin previoustutorial_app_developmentstep_moose_objectmd nexttutorial_app_developmentstep_kernel_objectmd content pagin previoustutorial_app_developmentprefacemd nexttutorial_app_developmentstep_moose_appmd marginbottompx problem statement consid system contain two pressur vessel differ temperatur experi present citepamukfrict vessel connect via pipe contain filter consist closepack steel sphere shown problemschemat predict veloc temperatur fluid insid filter pipe length diamet fluid insid system liquid water approxim degre celciu steel sphere mm diamet media tutorial_app_developmentproblem_schematicpng stylewidthmarginleftautomarginrightauto idproblemschemat captionschemat pressur vessel system custom moosebas applic design solv citepamukfrict tutori outlin portion pipe length l shown problemschemat particular interest region shall serv problem domain omega govern equat idequ solv problem follow physic must consid conserv mass equat idmass nabla cdot vecu conserv energi equat idenergi c leftdfracparti tpartial epsilon vecu cdot nabla right nabla cdot k nabla darci law equat iddarci vecu dfracmathbfkmu leftnabla p rho vecg right variabl shown eqrefmass eqrefenergi eqrefdarci denot properti list variabl tabl idvari captiondisambigu problem variabl symbol properti vecu veloc volumetr flux vector c heat capac temperatur time epsilon poros k thermal conduct mathbfk permeabl tensor mu dynam viscos p pressur rho densiti vecg graviti vector zerograv condit assum ie vecg divergencefre condit eqrefmass impos onto eqrefdarci follow two unknown p must satisfi follow system two acpd equat idsystem nabla cdot dfracmathbfkmu nabla p newlin newlin c leftdfracparti tpartial epsilon vecu cdot nabla right nabla cdot k nabla system overal heat capac densiti thermal conduct weight contribut individu materi depend poros pack steel sphere medium three relationship defin follow equat idheatcap c equiv epsilon rho_f c_pf epsilon rho_ c_p equat iddens rho equiv epsilon rho_f epsilon rho_ equat idthermalcond k equiv epsilon k_f epsilon k_ c_p denot specif heat subscript f refer fluid materi water solid materi steel respect materi properti idmat materi properti fluid f solid given mat permeabl pack steel sphere medium present throughout pipe assum isotrop citepamukfrict provid follow relationship equat idperm kd frac beginbmatrix endbmatrix beginbmatrix endbmatrix time enspac foral diamet textrmmm sphere k denot scalar permeabl textrmm linear function todo properti list somewhat inconsist input code first comprehens list mat prop well see tutori second properti depend temperatur make differ assumpt valu differ step tutori ill need updat tabl clear assumpt tabl idmat captionmateri properti valu properti valu unit viscos water mu_f time textrmpacdottextrm steel sphere diamet d_ textrmmm densiti water rho_f textrmkgtextrmm densiti steel rho_ textrmkgtextrmm thermal conduct water k_f textrmwtextrmmtextrmk thermal conduct steel k_ textrmwtextrmmtextrmk specif heat capac water c_pf textrmjtextrmkgtextrmk specif heat capac steel c_p textrmjtextrmkgtextrmk content pagin previoustutorial_app_developmentprefacemd nexttutorial_app_developmentstep_moose_appmd content pagin previoustutorial_app_developmentstep_test_harnessmd nexttutorial_app_developmentstep_auxkernelsmd marginbottompx step develop materi object step basic compon materi class present demonstr use new mooseobject provid valu permeabl viscos need darcypressur class develop test new object shall written accord procedur outlin previou stepgetting_startedexamples_and_tutorialstutorial_app_developmentstep_test_harnessmd addit input file creat darcypressur object need modifi materi object syntaxmaterialsindexmd moos one defin spatial andor tempor vari properti store valu singl object type term belong system coeffici govern equat though may may continu differenti respect problem domain valu alway index individu acqp associ class method tend invok everi time step properti may access moos system like mani system moos materi coupl variabl properti calcul depend materialframeworksrcmaterialsmaterialbasec object develop c similar moos system kernel like kernel object inherit default set input paramet virtual methodshttpswwwgeeksforgeeksorgvirtualfunctioncpp base class thu recal preced step tutori reader may recogn format procedur develop new mooseobject present demo section produc consum properti idprodcon materi system reli producerconsum relationship among object materi admateri object produc properti moos object includ materi consum properti life span materi properti proceed follow properti must declar avail use declareadpropertytnam method return writabl refer may valid c type real stdvectorr valu associ name comput set within one avail methodstyp computeqpproperti object may call getadmaterialpropertytnam retriev properti refer name properti output idoutprop everi materi object input paramet control properti save output file properti design output provid name output_properti paramet input file valu properti written one output object exodusii file provid name output paramet paramet made especi use develop regress test part demonstr step alert warn titleproperti output paramet output paramet default none therefor must explicitli set order write valu request output_properti output file also properti produc materi object valid c type type support output pleas see syntaxmaterialsindexmdmaterialpropertyoutput discuss inform demonstr iddemo basic purpos materi system establish anoth object isotrop divergencefre weak form darci equat identifi ie equat iddarcyweak underbracenabla psi underbracedfrackmu_clapmateri nabla p_clapkernel demonstr new materi object develop produc k mu term eqrefdarcyweak darcypressur class modifi consum new mooseobject shall accept input diamet steel sphere tightli pack form porou medium tutorial_app_developmentproblem_statementmdmat section problem statement provid follow linear relationship permeabl textm media sphere diamet textmm equat idperm kd frac beginbmatrix endbmatrix beginbmatrix endbmatrix time enspac foral new object shall restrict input diamet domain eqrefperm enforc requir mu mathllapsmal sinc pressur vessel model use d_ textmm pressure_diffusioni shall modifi use valu input shown input reproduc isotrop permeabl valu k time textrmm introduc step tutorial_app_developmentstep_kernel_objectmddemo thu result darcy_pressure_testi file creat previou steptutorial_app_developmentstep_test_harnessmdtestdemo still match gold file modifi input sourc code idsourcedemo produc materi properti term eqrefdarcyweak new admateri object creat shall call packedcolumn name intend depict coars filter medium slender tube start make directori store file object part materi system includ commandsmkdirmd replac includemateri srcmateri includemateri creat file name packedcolumnh add code given pcheader header file base class includ inherit addit linearinterpolationhframeworkincludeutilslinearinterpolationh includ object linearinterpol classa member framework_developmentutilsindexmd system moosecan made evalu eqrefperm validparam constructor method first member declar typic computeqpproperti method base class overridden two variabl _diamet _input_viscos declar store valu input mu respect former two variabl need pass linearinterpol object order obtain k _permeability_interpol declar purpos final two admaterialproperti variabl declar ultim becom avail moos object need list tutorialstutorial_app_developmentstep_mat_propsincludematerialspackedcolumnh linkfals idpchead captionhead file packedcolumn class srckernel creat file name packedcolumnc add code given pcsourc enforc necessari restrict valu mu input pars addrangecheckedparam methodsourceutilsinputparametersmdrangecheckedparamet optionaltru method like addparam ie set default valu lieu user input diamet d_ viscos e mu_f use howev addit argument accept logic express oper paramet express fals given input error messag invok applic termin method provid conveni mean enforc mu mathllapsmal le le matter hardcod condit lead paramerrorth approach follow previou step type paramet abl valid way constructor definit two real type properti name permeabl viscos declar avail consumpt use declareadproperti method mention prodcon section two vector variabl sphere_s permeabl declar set domain rang eqrefperm abscissaordin pair fashion vector pass setdata method linearinterpol object wise task handl constructor sinc there need repeatedli send invari copi data solv step acqp index final computeqpproperti definit refer properti set moos libmesh work togeth resolv _qp index scheme _diamet variabl pass sampl method retriev permeabl list tutorialstutorial_app_developmentstep_mat_propssrcmaterialspackedcolumnc linkfals idpcsourc captionsourc file packedcolumn class darcypressur class need modifi consum permeabl viscos properti acqp index consequ also longer need input correspond valu darcypressureh chang delcar _permeabl _viscos variabl follow list tutorialstutorial_app_developmentstep_mat_propsincludekernelsdarcypressureh linkfals includestartfals startvirtu adrealvectorvalu end modifi part darcypressureh definit sourc file need modifi reader may simpli overwrit syntax given darcysourc still take moment review chang made run git diff darcypressurec list tutorialstutorial_app_developmentstep_mat_propssrckernelsdarcypressurec linkfals iddarcysourc captionsourc file darcypressur class modifi consum materi properti produc packedcolumn object sure recompil applic proceed includ commandsmakemd input file idinputdemo input file special test packedcolumn class order start creat directori store test file includ commandsmkdirmd replac testtestsmaterialspacked_column folder creat file name packed_column_testi add input given pctest filter block packedcolumn object creat viscos input trivial test purpos valu goe directli properti refer howev diamet input median valu domain select obvious correspond median valu rang k time therefor verifi term output request properti mean discuss outprop section format exodusii file exodiff tester may refer list tutorialstutorial_app_developmentstep_mat_propstesttestsmaterialspacked_columnpacked_column_testi linkfals idpctest captioninput file test packedcolumn class exodiff object execut input file pctest confirm solver complet file name packed_column_test_out gener list languagebash cd projectsbabblertesttestsmaterialspacked_column babbleropt packed_column_testi input problemspressure_diffusioni need modifi use packedcolumn object file updat kernel block add materi one eg list tutorialstutorial_app_developmentstep_mat_propsproblemspressure_diffusioni linkfals blockkernel materi sinc model use default input valu need specifi explicitli alert note iconnamecr prefixfals titletaskupd darcy_pressure_testi file similar modif one made pressure_diffusioni must also made darcy_pressure_testi otherwis associ test fail left reader implement correct chang file might start leav certain task reader one easi make increasingli challeng remain step there need feel guilti sinc essenti provid answer key form repo eventu perhap could make new alert brand alert exercis alert task eg thatd probabl overkil result idresultdemo use peacock queri permeabl viscos output packed_column_testi element includ commandspeacock_rmd replac testtestsmaterialspacked_column e packed_column_test_out exodusview tab properti valu resolv refer color bar enabl view mesh checkbox might help interpret imag verifi valu match expect one note sinc neither properti made spatial depend packedcolumn object assign number acqp contour render solid color result illustr result media tutorial_app_developmentstep_resultpng stylewidthmarginleftautomarginrightauto idresult captionrend permeabl viscos materi properti produc packedcolumn test properti spatial invari valu uniformli distribut throughout mesh test idtestdemo sinc result packed_column_testi input file deem good exodusii output becom certifi gold file includ commandsnew_goldmd replac materialspacked_column e packed_colum_test_out next creat file name test testtestsmaterialspacked_column add input given pctestspec list tutorialstutorial_app_developmentstep_mat_propstesttestsmaterialspacked_columntest linkfals removetestsissu testsdesign teststestrequir idpctestspec captiontest specif file packedcolumn class runexcept tester specifi previou step use test proper invoc paramerror input viscos longer use fact test fail may simpli remov testtestskernelsdarcy_pressuretest file remov zero_viscosity_error block leav test block unchang also delet zero_viscosity_errori alert tip titlelimit scope test applic one might wonder would benefici test input satisfi logic express pass addrangecheckedparam method lead error sure wouldnt hurt know almost develop tool avail moos alreadi test system sure darcy_pressure_testi file updat manner demonstr inputdemo section final run testhar includ commandsrun_testsmd test pass termin output look someth like shown testmaterialspacked_columntest ok testkernelsdarcy_pressuretest ok testkernelssimple_diffusiontest ok ran test second averag test time second maximum test time second pass skip pend fail commit idcommitdemo mani chang add git tracker wildcard help simplifi command includ commandsgit_addmd disregard warn gitignor file commit push chang remot repositori includ commandsgit_commitmd replacem develop materi comput properti fluid flow pack steel sphere medium modifi darci kernel content pagin previoustutorial_app_developmentstep_test_harnessmd nexttutorial_app_developmentstep_auxkernelsmd content pagin previoustutorial_app_developmentproblem_statementmd nexttutorial_app_developmentstep_input_filemd marginbottompx step creat custom moos applic first step tutori creat custom moos applic applic contain custom c object creat part tutori solv desir problem creat github account develop acmoos facilit github recommend applic also use github possibl thu reader encourag open accountaccount creat repositoryrepo store track progress new applic creat follow complet tutori step new file creat test addit chang shall save commit upload push remot repositori run stork script initi new applic idstork begin pleas visit getting_startedinstallationindexmd page obtain instruct instal moos depend instal local copi clone moos repositoryhttpsgithubcomidaholabmoos download projectsmoos templat applic automat gener proceed sure local copi moos uptod see getting_startedinstallationindexmdupd moos constantli evolv import local copi moos updat often possibl ensur applic develop oper current version moos initi new applic name must select moos applic usual name anim eg bisonhttpsmooseframeworkorgbison sometim applic name also acronym descript titl eg mastodonhttpsmooseframeworkorgmastodon stand multihazard analysi stochast timedomain phenomena name babbler select applic develop throughout tutori pleas feel free choos anoth name tutori applic design teach peopl core concept moos creat custom applic babbler refer pie babblershttpsenwikipediaorgwikisouthern_pied_babbl anim known teach young thorton raihani httpsdoiorgjanbehav babbler also defin person talk constantlyhttpswwwmerriamwebstercomthesaurusbabbl context live train fair descript moos team member media tutorial_app_developmentpied_babblersjpg stylewidthmarginleftautomarginrightauto captionimag two southern pie babbler babbler use placehold applic name demonstr provid throughout tutori name select execut follow command list languagebash cd project moosescriptsstorksh babbler substitut babbler name desir creat directori projectsbabbl contain new moos applic termin also prompt user initi new applic github repositori discuss git section compil applic execut idmak c compil languag therefor applic code must first transcrib singl binari file transcript code optim speed data alloc compil new applic run follow command termin number follow make j less equal number cpu avail includ commandsmakemd creat execut binari file call babbleropt applic root directori use run simul addit applic code command also compil code avail mooseframeworkhttpsgithubcomidaholabmoosetreemasterframework moosebas applic alway full power moos plu alert note titlecompil c code time chang made c file applic need recompil run make chang take effect inform compil moos applic pleas visit application_developmentbuild_systemmd page test applic idtest moos applic test system quickli verifi execut built properli sourc code perform expect work run simul compar output expect result babbleropt execut exist simpl test ran includ commandsrun_testsmd test pass termin output look someth like shown testkernelssimple_diffusiontest ok ran test second averag test time second maximum test time second pass skip pend fail later tutori test system explor greater detail test creat babbler applic enabl use github idgit githttpsgitscmcom version control system enabl team softwar develop manag contribut singl code base use git commit updat repositori mark checkpoint revisit even chang made repositori commit log show histori commit help track progress code push upload local version repositori remot onlin one open account idaccount creat account github pleas proceed githubcomjoinhttpsgithubcomjoin enter credenti keep mind select usernam sometim requir part command interact git appear publish work recommend reader choos alia simpl profession comfort creat repositori idrepo account creat github root page transform user person dashboard creat new repositori click dashboard link say new name repositori babbler whatev name applic directori descript new moosebas applic may help user need includ readm sinc applic directori creat stork script alreadi one stork script initi new applic singl git commit whose messag initi file publish applic new github repositori run follow command list languagebash cd projectsbabbl git remot add origin httpsgithubcomyourgithubusernamebabbl git push u origin main termin prompt github account credenti upload new repositori data upload view githubcomyourgithubusernamebabbl interact git use secur shell ssh idssh chang applic made push command ran may becom nuisanc enter github credenti time avoid possibl user associ comput github account use sshhttpswwwsshcomssh gener ssh key open termin run follow interact command list languagebash sshkeygen rsa c youremail termin prompt save key hit enter use default file sshid_rsapub ask whether overwrit file enter cancel proceed exist file ask passphras leav blank els key requir everi time use defeat purpos final uniqu key set print termin list languagebash cat sshid_rsapub copi output termin begin sshrsa end youremail github account person settingshttpsgithubcomsettingsprofil page navig ssh gpg key tab past output new ssh key form machin secur access github local repositori new applic store need link ssh version remot url list languagebash cd projectsbabbl git remot seturl origin gitgithubcomyourgithubusernamebabblergit credenti longer requir interact repositori termin lot way interact git reader encourag learn inform git pleas visit framework_developmentgitmd page content pagin previoustutorial_app_developmentproblem_statementmd nexttutorial_app_developmentstep_input_filemd config disabl extensionshtml tex list languagebash cd projectsbabblerd peacock r ee config disabl extensionshtml tex list languagebash cd projectsbabbl mkdir config disabl extensionshtml tex list languagebash cd projectsbabbl run_test j config disabl extensionshtml tex list languagebash cd projectsbabbl make j config disabl extensionshtml tex list languagebash git commit git push config disabl extensionshtml tex list languagebash cd projectsbabbl git add config disabl extensionshtml tex list languagebash cd projectsbabblertesttestsd mkdir gold mv ee gold exampl automat mesh adapt moos support mesh adapt automat refin coarsen mesh area higherlow error solv problem improv qualiti result addit reduc comput time dont need write c code use mesh adapt instead easili enabl fill adapt section input file list examplesex_amrexi blockadapt detail function provid adaptivitysyntaxadaptivityindexmd page moos includ multipl indicatorsindicatorsindexmd use comput differ error estim addit markersmarkersindexmd result result shown creat use refin step howev take run exi input file specifi run mesh refin step mesh result refin step shown media large_mediaexamplesexmeshpng stylewidthmarginleft captioniniti mesh media large_mediaexamplesexmeshpng stylewidthmarginleft captionadapt step media large_mediaexamplesexmeshpng captionadapt step stylewidth media large_mediaexamplesexmeshpng captionadapt step stylewidth media large_mediaexamplesexmeshpng captionadapt step stylewidth media large_mediaexamplesexmeshpng captionadapt step stylewidth media large_mediaexamplesexmeshpng captionadapt step stylewidth final solut refin step complet media large_mediaexamplesex_outpng captionexampl output stylewidth complet sourc file examplesex_amrexi examplesex_amrincludekernelsexamplecoefdiffusionh examplesex_amrsrckernelsexamplecoefdiffusionc content pagin use_titletru previousexamplesex_bcsmd nextexamplesex_transientmd exampl simpl get problem statement exampl briefli describ creation basic input file six requir section util moos solv problem consid steadyst diffus equat domain omega find u nabla cdot nabla u omega u bottom u top nabla u cdot hatn remain boundari weak form see finit element principlesfinite_element_conceptsfem_principlesmd equat innerproduct notat given nabla phi_i nabla u_h quad foral phi_i phi_i test function u_h finit element solut input file syntax basic moos input file requir six part mesh variabl kernel bc execution output mesh domain problem creat mesh block input file mesh read file muge rel path start directori input file text mesh file muge br media large_mediaexamplesmug_meshpng captionmug mesh file stylewidthdisplayblockmarginleftautomarginrightauto variabl simpl problem singl variabl diffus defin repres u continu problem diffus variabl approxim linear lagrang shape function list examplesex_inputfileexi blockvari kernel weak form problem statement repres diffus kernel object gener user write custom kernel resid moosebas applic case diffus kernel alreadi defin moos use particular kernel object input file subsect defin label diff arbitrari userdefin name util diffus kernel act previous defin variabl diffus list examplesex_inputfileexi blockkernel boundari condit bc boundari condit defin manner similar kernel problem two dirichlet boundari condit requir input file two boundari condit specifi use dirichletbc object provid moos list examplesex_inputfileexi blockbc within two subsect name top bottom user boundari condit link associ variabl ie diffus case boundari case mesh file muge defin label boundari top bottom refer boundari also often specifi number id depend mesh file gener note neumann boundari condit problem left right side satisfi implicitli necessari us defin howev nonzero neumann boundari condit mani builtin object provid moos eg neumannbc also creat custom boundari condit deriv exist object within moos execution type problem solv method solv defin within execution block problem steadyst use steadi execution use default solv method precondit jacobain free newton krylov list examplesex_inputfileexi blockexecution output two type output enabl output screen consol output exodu ii file exodu set file_bas paramet option exampl forc output file name out e extens use exodu ii format list examplesex_inputfileexi blockoutput run problem exampl may run use peacock run follow command form command line bash cd projectsmooseexamplesex_inputfil make j exopt exi gener result file out shown exampleresult file may view use peacock extern applic support exodu ii format eg paraview br media large_mediaexamplesex_resultspng idexampleresult caption exampl result stylewidthdisplayblockmarginleftautomarginrightauto next step although diffus kernel physic moos framework larg set physic includ moos moduleshttpmooseframeworkorgwikiphysicsmodul order implement physic need understand follow finit element methodshttpmooseframeworkorgwikimoosetrainingfem gener weak form pde chelpcindexmd objectori design anatomi moos objecthttpmooseframeworkorgwikimoosetrainingmooseobject check examplesexamples_and_tutorialsindexmdexampl complet sourc file exihttpsgithubcomidaholabmooseblobdevelexamplesex_inputfileexi mainchttpsgithubcomidaholabmooseblobdevelexamplesex_inputfilesrcmainc exampleapphhttpsgithubcomidaholabmooseblobdevelexamplesex_inputfileincludebaseexampleapph exampleappchttpsgithubcomidaholabmooseblobdevelexamplesex_inputfilesrcbaseexampleappc diffusionhhttpsgithubcomidaholabmooseblobdevelframeworkincludekernelsdiffusionh diffusionchttpsgithubcomidaholabmooseblobdevelframeworksrckernelsdiffusionc content pagin use_titletru nextexamplesex_kernelmd exampl auxiliari variabl complet sourc file exihttpsgithubcomidaholabmooseblobdevelexamplesex_auxexi exampleauxhhttpsgithubcomidaholabmooseblobdevelexamplesex_auxincludeauxkernelsexampleauxh exampleauxchttpsgithubcomidaholabmooseblobdevelexamplesex_auxsrcauxkernelsexampleauxc exampleappchttpsgithubcomidaholabmooseblobdevelexamplesex_auxsrcbaseexampleappc output media large_mediaexamplesexoutpng captionexampl output stylewidth content pagin use_titletru previousexamplesex_stateful_materialsmd nextexamplesex_precmd exampl ad dirackernel complet sourc file exihttpsgithubcomidaholabmooseblobdevelexamplesex_diracexi exampledirachhttpsgithubcomidaholabmooseblobdevelexamplesex_diracincludedirackernelsexampledirach examplediracchttpsgithubcomidaholabmooseblobdevelexamplesex_diracsrcdirackernelsexamplediracc exampleappchttpsgithubcomidaholabmooseblobdevelexamplesex_diracsrcbaseexampleappc output media large_mediaexamplesexdiracoutpng captionexampl result stylewidth content pagin use_titletru previousexamplesex_timesteppermd nextexamplesex_scalar_kernelmd exampl ode coupl complet sourc file exihttpsgithubcomidaholabmooseblobdevelexamplesex_scalar_kernelexi implicitodexhhttpsgithubcomidaholabmooseblobdevelexamplesex_scalar_kernelincludescalarkernelsimplicitodexh implicitodexchttpsgithubcomidaholabmooseblobdevelexamplesex_scalar_kernelsrcscalarkernelsimplicitodexc implicitodeyhhttpsgithubcomidaholabmooseblobdevelexamplesex_scalar_kernelincludescalarkernelsimplicitodeyh implicitodeychttpsgithubcomidaholabmooseblobdevelexamplesex_scalar_kernelsrcscalarkernelsimplicitodeyc scalardirichletbchhttpsgithubcomidaholabmooseblobdevelexamplesex_scalar_kernelincludebcsscalardirichletbch scalardirichletbcchttpsgithubcomidaholabmooseblobdevelexamplesex_scalar_kernelsrcbcsscalardirichletbcc exampleappchttpsgithubcomidaholabmooseblobdevelexamplesex_scalar_kernelsrcbaseexampleappc output media large_mediaexamplesexdiffusedpng stylewidth media large_mediaexamplesexodeplotpng stylewidth content pagin use_titletru previousexamplesex_diracmd nextexamplesex_dampersmd exampl transient analysi problem statement consid transient diffus equat domain omega find u nabla cdot nabla u fracparti uparti omega u bottom u top nabla u cdot hatn remain boundari initi condit ut_ everywher except top boundari u weak form equat innerproduct notat given nabla phi_i nabla u_h phi_i fracparti u_hparti quad foral phi_i phi_i test function u_h finit element solut construct problem first need transient term residu creat timedepend residu term inherit timederivativetimederivativemd class exampl creat constantscal timedepend residu along line kernel creat earlier exampl list examplesex_transientsrckernelsexampletimederivativec startinclud end maxheight input file similar simpl diffus input file exampl need add time deriv residu contribut list examplesex_transientexi blockkernel final need specifi transient relat paramet list examplesex_transientexi blockexecution mani option avail describ transient execution documentationexecutionerstransientmd also common use sophist way timestep simul exampl examplesex_timesteppermd goe detail specif time step scheme provid timestepp system documentationsyntaxexecutionertimestepperindexmd output solut snapshot begin end time run exopt exi media large_mediaexamplesexoutpng stylewidthdisplayinlineflex media large_mediaexamplesexoutpng stylewidthdisplayinlineflexmarginleft complet sourc file examplesex_transientexi frameworkincludekernelsdiffusionh frameworksrckernelsdiffusionc examplesex_transientincludekernelsexampletimederivativeh examplesex_transientsrckernelsexampletimederivativec examplesex_transientsrcbaseexampleappc content pagin use_titletru previousexamplesex_amrmd nextexamplesex_icsmd exampl precondit detail discuss precondit moos see syntaxpreconditioningindexmd summar accur complet precondit matrix import effici precondit jacobianfre newtonkrylov pjfnk solv absolut essenti solve_typ newton moos ultipl option buid precondit matrix default block diagon precondit singl matrix precondition smp finit differ precondition fdp physic base precondition pbp block diagon precondit use kernel integr boundari condit computeqpjacobian method build block diagon matrix account variabl coupl default user specifi preconditiong block input file singl matrix precondition build matrix use kernel integr bc computeqpjacobian computeqpoffdiagjacobian method latter respons contribut coupl variabl good simpl exampl computeqpoffdiagjacobian method coupledforcehttpsgithubcomidaholabmooseblobdevelframeworksrckernelscoupledforcec coupledforc contribut waekform residu equal r_i psi_i v determin correspond offdiagon jacobian contribut one must take deri fracparti r_iparti v_j psi_i fracparti vpartial v_j psi_i phi_j make use userspecifi computeqpoffdiagjacobian method one specifi hisher input file precondit smp type smp full true user may also choos omit certain offdiagon entri smp matrix outlin detail precondit articlehttpmooseframeworkorgwikimoosesystemsprecondition build precondit matrix finit differenc residu user specifi hisher input file precondit fdp type fdp full true creat nearperfect precondit matrix howev extrem slow work serial fdp use debug purpos complet sourc file defaultihttpsgithubcomidaholabmooseblobdevelexamplesex_precdefaulti smpihttpsgithubcomidaholabmooseblobdevelexamplesex_precsmpi fdpihttpsgithubcomidaholabmooseblobdevelexamplesex_precfdpi coupledforcehhttpsgithubcomidaholabmooseblobdevelframeworkincludekernelscoupledforceh coupledforcechttpsgithubcomidaholabmooseblobdevelframeworksrckernelscoupledforcec content pagin use_titletru previousexamplesex_auxmd nextexamplesex_pbpmd exampl custom action complet sourc file exihttpsgithubcomidaholabmooseblobdevelexamplesex_actionsexi convectiondiffusionactionhhttpsgithubcomidaholabmooseblobdevelexamplesex_actionsincludeactionsconvectiondiffusionactionh convectiondiffusionactionchttpsgithubcomidaholabmooseblobdevelexamplesex_actionssrcactionsconvectiondiffusionactionc exampleappchttpsgithubcomidaholabmooseblobdevelexamplesex_actionssrcbaseexampleappc content pagin use_titletru previousexamplesex_ppsmd nextexamplesex_timesteppermd exampl custom boundari condit moos provid sever basic boundari condit either use directli input file extend provid custom behavior exampl build system equat use exampl examplesex_couplingmd exampl extend moos builtin dirichlet neumann boundari condit object allow coupl independ variabl equat system also provid exampl use moos builtin period boundari condit detail inform boundari condit moos see bc system documentationsyntaxbcsindexmd coupl dirichlet dirichlet bc moos inherit nodalbc baseclass coupleddirichletbc exampl except cpp class coupleddirichletbc public nodalbc list examplesex_bcsincludebcscoupleddirichletbch startifndef sourc file creat input paramet use comput residu like prior exampl list examplesex_bcssrcbcscoupleddirichletbcc startinclud end maxheightpx run dirichlet_bci file give result like u v variabl coupl system media large_mediaexamplesex_bcsdirichlet_convectedpng stylewidthdisplayinlineflexmarginleft media large_mediaexamplesex_bcsdirichlet_diffusedpng stylewidthdisplayinlineflexmarginleft media large_mediaexamplesex_bcsdirichlet_xsecsvg stylewidthmarginleftautomarginrightauto coupl neumann exampl larg coupl dirichlet exampl except inherit integratedbc class instead cpp class coupledneumannbc public integratedbc residu calcul obvious bit differ list examplesex_bcssrcbcscoupledneumannbcc rerealscoupledneumannbccomput maxheightpx boundari condit class use file neumann_bci run file gener result look like media large_mediaexamplesex_bcsneumann_convectedpng stylewidthdisplayinlineflexmarginleft media large_mediaexamplesex_bcsneumann_diffusedpng stylewidthdisplayinlineflexmarginleft media large_mediaexamplesex_bcsneumann_xsecsvg stylewidthmarginleftautomarginrightauto period moos provid builtin support specifi period boundari condit periodic_bci input file demonstr function also take advantag moos abil pars userspecifi analyt function input file pars function use mani thing input file discuss detail exampl examplesex_functionsmd todo briefli explain use periodicbc result use period bc run periodic_bci media large_mediaexamplesex_out_pbcpng stylewidth complet sourc file examplesex_bcsdirichlet_bci examplesex_bcsincludebcscoupleddirichletbch examplesex_bcssrcbcscoupleddirichletbcc examplesex_bcsneumann_bci examplesex_bcsincludebcscoupledneumannbch examplesex_bcssrcbcscoupledneumannbcc examplesex_bcssrcbaseexampleappc examplesex_bcsperiodic_bci content pagin use_titletru previousexamplesex_couplingmd nextexamplesex_amrmd exampl creat custom timestepp complet sourc file exihttpsgithubcomidaholabmooseblobdevelexamplesex_timestepperexi transienthalfhhttpsgithubcomidaholabmooseblobdevelexamplesex_timestepperincludetimestepperstransienthalfh transienthalfchttpsgithubcomidaholabmooseblobdevelexamplesex_timesteppersrctimestepperstransienthalfc exampleappchttpsgithubcomidaholabmooseblobdevelexamplesex_timesteppersrcbaseexampleappc content pagin use_titletru previousexamplesex_actionsmd nextexamplesex_diracmd exampl physic base precondit complet sourc file exihttpsgithubcomidaholabmooseblobdevelexamplesex_pbpexi coupledforcehhttpsgithubcomidaholabmooseblobdevelframeworkincludekernelscoupledforceh coupledforcechttpsgithubcomidaholabmooseblobdevelframeworksrckernelscoupledforcec content pagin use_titletru previousexamplesex_precmd nextexamplesex_functionsmd exampl debug indepth discuss debug moos see debug documentationapplication_developmentdebuggingmd inevit point moos applic develop career creat bug sometim print statement suffici help determin caus error complex bug debugg effect print statement help pinpoint problem mani debugg exist lldb gdb totalview ddd etc typic best use debugg associ compil one avail focu lldbgdb sinc rel simpl use includ moos binari redistribut packag segment fault segfault signal error denot memori bug often array access bound termin see messag like text segment fault segfault good error debugg easili pinpoint problem debug exampl problem exampl similar exampl except common error introduc examplediffusionh variablevalu declar refer const variablevalu _coupled_coef store refer caus copi variablevalu made copi never resiz ever valu written attempt access variablevalu result segfault run optim mode text time step time dt time step time dt segment fault use debugg help us find problem debug execut use debugg moosebas applic must compil applic someth optim mode opt highli recommend debug dbg mode youll get full line number inform stack trace text cd projectsmooseexamplesex_debug methoddbg make j debug version applic call exdbg next need run applic use either gdb gcc lldb clang text gdb arg exdbg exi text lldb exdbg exi use either tool command line argument applic appear separ start debugg load execut leav debugg command prompt use gdb lldb prompt gdb lldb type h hit enter get help set breakpoint mpi_abort code paus maintain stack trace exit text b mpi_abort run applic type r hit enter applic hit breakpoint mpi_abort know crash type bt see backtrac text frame xba libmpidylibmpi_abort frame xde libexdbgdylibmoosearraydoubleoperatorthisx const moosearrayh frame xdab libexdbgdylibexamplediffusioncomputeqpresidualthisx examplediffusionc frame xcaffb libmoosedbgdylibkernelcomputeresidualthisx kernelc backtrac show examplediffusioncomputeqpresidu tri access entri moosearray entri look relev line code well see c return _coupled_coef_qpdiffusioncomputeqpresidu one thing index line _coupled_coef therefor look _coupled_coef declar realiz forgot ampersand fix exampl sourc code exihttpsgithubcomidaholabmooseblobdevelexamplesex_debuggingexi examplediffusionhhttpsgithubcomidaholabmooseblobdevelexamplesex_debuggingincludekernelsexamplediffusionh examplediffusionchttpsgithubcomidaholabmooseblobdevelexamplesex_debuggingsrckernelsexamplediffusionc content pagin use_titletru previousexamplesex_user_objectsmd exampl newton damp exihttpsgithubcomidaholabmooseblobdevelexamplesex_dampersexi exampl result damp text output initi condit true initi nonlinear residu nl step residual_ e nl step residual_ e nl step residual_ e e damp text output initi condit true initi nonlinear residu nl step residual_ e nl step residual_ e nl step residual_ e nl step residual_ e nl step residual_ e nl step residual_ e nl step residual_ e nl step residual_ e nl step residual_ e nl step residual_ e e content pagin use_titletru previousexamplesex_scalar_kernelmd nextexamplesex_user_objectsmd exampl custom initi condit moos provid sever way specifi initi condit ic transient problem function use specifi initi guess steadyst problem custom method creat addit use mani builtin method specifi initi condit detail inform builtin initi condit avail found initi condit system documentationsyntaxicsindexmd exampl demonstr creat use custom classobject set follow initi condit beginequ beginalign utt_ x z c x endalign endequ c userchosen coeffici accomplish need creat subclass moos initialcondit class specifi ic input file creat custom ic creat header file subclass initialcondit class add real ie float point number member variabl hold userspecifi coeffici see examplesex_icsincludeicsexampleich detail c file defin input paramet name coeffici store valu member variabl constructor use valu comput ic list examplesex_icssrcicsexampleicc maxheight use ic input file input file examplesex_icstransienti set simpl transient diffus problem initi condit specifi variabl block list examplesex_icstransienti blockvari also use initi condit run steadyst problem ie steadi execution effect function initi guess solver usual necesari occasion use steadi case ic specifi exactli way see eg examplesex_icssteadyi result result run transienti file see initi condit defin solut zero x along rear surfac halfcylind increas linearli toward us page final time see diffus overcom ic dirichlet bc dictat solut along top bottom surfac media large_mediaexamplesextransient_tpng stylewidthdisplayinlineflex captioniniti state media large_mediaexamplesextransient_tmidpng stylewidthdisplayinlineflex captionintermedi diffus state media large_mediaexamplesextransient_tendpng stylewidthdisplayinlineflex captionfin equilibrium state complet sourc file examplesex_icsincludeicsexampleich examplesex_icssrcicsexampleicc examplesex_icstransienti examplesex_icssteadyi content pagin use_titletru previousexamplesex_transientmd nextexamplesex_materialsmd exampl state materi properti result media large_mediaexamplesexoutpng captionbegin stylewidth media large_mediaexamplesexoutpng captionend stylewidth complet sourc file examplesex_stateful_materialsexi examplesex_stateful_materialsincludematerialsexamplematerialh examplesex_stateful_materialssrcmaterialsexamplematerialc content pagin use_titletru previousexamplesex_materialsmd nextexamplesex_auxmd exampl postprocessor code verif complet sourc file exihttpsgithubcomidaholabmooseblobdevelexamplesex_ppsexi exampl output media large_mediaexamplesexoutpng captionexampl output stylewidth text postprocessor valu time dof integr e e e e e e e e e e e e e e e e e e e e e media large_mediaexamplesexconvratepng stylewidth comparison fine grid solut also present exampl two input file ex_solution_comparison_i ex_solution_comparison_i demonstr use solutionuserobjectsourceuserobjectsolutionuserobjectmd read fine grid solut compar coars grid solut use elementlerror first input file comput fine grid solut output xda file xda file contain full set sata necessari perfectli read previou solutioneven adapt mesh second inout file use solutionuserobject read finegrid solut next solutionfunct util solutionuserobject present solut field moos function final elementlerrorpostprocessor util comput differ solut ex_compare_solutions_ihttpsgithubcomidaholabmooseblobdevelexamplesex_ppsex_compare_solutions_i ex_compare_solutions_ihttpsgithubcomidaholabmooseblobdevelexamplesex_ppsex_compare_solutions_i content pagin use_titletru previousexamplesex_functionsmd nextexamplesex_actionsmd exampl custom function complet sourc file exihttpsgithubcomidaholabmooseblobdevelexamplesex_functionsexi examplefunctionhhttpsgithubcomidaholabmooseblobdevelexamplesex_functionsincludefunctionsexamplefunctionh examplefunctionchttpsgithubcomidaholabmooseblobdevelexamplesex_functionssrcfunctionsexamplefunctionc exampleappchttpsgithubcomidaholabmooseblobdevelexamplesex_functionssrcbaseexampleappc content pagin use_titletru previousexamplesex_pbpmd nextexamplesex_ppsmd exampl multiphys coupl problem statement problem consid coupl system equat domain omega find u v beginequ beginalign nabla cdot nabla u nabla v cdot nabla u nabla cdot nabla v endalign endequ uv top boundari u v bottom boundari remain boundari natur boundari beginequ beginalign nabla u cdot hatn nabla v cdot hatn endalign endequ domain omega util exampl weak form equat innerproduct notat given beginequ beginalign nabla u_h nabla phi_i nabla v cdot nabla u phi_i quad foral phi_i nablavecv nablaphi_i quad foral phi_i endalign endequ phi_i test function u_h v_h finit element solut creat convect kernel convect compon problem requir kernel object describ exampl one small addit kernel util coupl variabl rather known constant exampleconvectionh need one new member variabl store gradient coupl variabl list examplesex_couplingincludekernelsexampleconvectionh startpriv end sourc file exampleconvectionc also includ new paramet defin variabl coupl kernel addit computeqpresidu computeqpjacobian function sourc file util coupl valu comput desir residu jacobian respect list examplesex_couplingsrckernelsexampleconvectionc startinclud end maxheightpx input file syntax first mesh defin load file muge list examplesex_couplingexi blockmesh two variabl defin diffus convect refer u v problem statement respect variabl case assign util linear lagrang shape function could use differ shape function andor order list examplesex_couplingexi blockvari problem requir three kernel two diffus kernel one variabl exampleconvect kernel creat import point two diffus term code util two instanc c object creat applic code two variabl addit actual coupl equat take place exampleconvect object some_vari input paramet creat exampleconvect kernel assign util diffus variabl list examplesex_couplingexi blockkernel given problem variabl dirichletbc appli top bottom done input file follow list examplesex_couplingexi blockbc maxheightpx final execution block setup solv problem output set view result list examplesex_couplingexi startexecution end run problem exampl may run use peacock run follow command form command line cd projectsmooseexamplesex_coupl make j exopt exi gener result file out shown figur file may view use peacock extern applic support exodu ii format eg paraview div stylewidth media large_mediaexamplesex_out_diffusedpng captionfigur exampl result diffus variabl stylewidthdisplayinlineflexmarginleft media large_mediaexamplesex_out_convectedpng captionfigur exampl result convect variabl stylewidthdisplayinlineflexmarginleft divbr exact solut simplifi analog problem given follow u u beginequ epsilon fracd ud x fracd ud x endequ exact solut problem beginequ u fracexpleftfracxepsilonright expleftfracepsilonright endequ complet sourc file examplesex_couplingexi examplesex_couplingincludekernelsexampleconvectionh examplesex_couplingsrckernelsexampleconvectionc examplesex_couplingsrcbaseexampleappc content pagin use_titletru previousexamplesex_kernelmd nextexamplesex_bcsmd exampl materi properti moos includ builtin support creat share materi properti thorughout simul calcul materi properti calcul runupd moos automat everi quadratur point kernel postprocessor object conveni access properti exampl demonstr convectiondiffus problem kernel util custom nonlinear materi properti refer materialsindexmd document inform materi system problem statement problem consid coupl system exampl examplesex_couplingmd equat beginalign nabla cdot nabla u nablavecv cdot nabla u alpha nabla cdot nabla v endalign slightli differ boundari condit uv bottom boundari u nabla v top boundari remain boundari take natur boundari condit alpha diffus coeffici nablavecv convect coeffici deriv coupl v diffus equat creat materi object creat custom materi properti write materi class list examplesex_materialsincludematerialsexamplematerialh startinclud endpriv examplemateri object coupl gradient diffus variabl use make convection_veloc materi properti also use tabul valu specifi input file paramet zcoordin current quadratur point linearli interpol valu diffus properti need creat member variabl hold materi properti addit one help comput properti valu list examplesex_materialsincludematerialsexamplematerialh startpriv maxheight need specifi appropri input file paramet user write code retriev data use calcul list examplesex_materialssrcmaterialsexamplematerialc startinclud endexamplematerialcomputeqpproperti maxheight computeqpproperti function put code actual calcul materi properti valu automat call moos right time quadratur point calcul materi properti valu set store calcul valu member variabl bound correspond properti classs constructor ie _diffus _convection_veloc list examplesex_materialssrcmaterialsexamplematerialc revoidsexamplematerialcomputeqpproperti plumb materi order use materi properti creat need object eg kernel actual support read inform materi properti problem examplediffus kernel use diffus materi properti coeffici provid examplemateri classobject special code three place member variabl store materi properti valu const materialpropertyr _diffus line constructor bind materi properti member valu comput actual materi object examplediffusionexamplediffusionconst inputparamet paramet diffusionparamet _diffusivitygetmaterialpropertyrealdiffus code use materi properti calcul someth eg residu jacobian real examplediffusioncomputeqpresidu return _diffusivity_qp diffusioncomputeqpresidu instead directli coupl anoth variabl convect kernel use veloc gradient term exampl examplesex_couplingmd instead use convection_veloc materi properti provid gradient exampleconvect kernel like examplediffus make three chang result exampleconvectionc look someth like list examplesex_materialssrckernelsexampleconvectionc startexampleconvect use materi properti materi properti give us flexibl changetweak problem detail without requir code modif compil everi time chang convect veloc term comput requir noth chang materi object use differ materi also appli differ subdomainsblock mesh let see use materi properti input file list examplesex_materialsexi blockmateri exi two materi object appli separ name subdomain mesh via block line object provid diffus convection_veloc properti convect diffus kernel look result media large_mediaexamplesex_convectedpng captionconvect stylewidthdisplayinlineflex media large_mediaexamplesex_diffusedpng captiondiffus stylewidthdisplayinlineflexmarginleft complet sourc file examplesex_materialsexi examplesex_materialsincludematerialsexamplematerialh examplesex_materialssrcmaterialsexamplematerialc examplesex_materialsincludekernelsexamplediffusionh examplesex_materialssrckernelsexamplediffusionc examplesex_materialsincludekernelsexampleconvectionh examplesex_materialssrckernelsexampleconvectionc content pagin use_titletru previousexamplesex_icsmd nextexamplesex_stateful_materialsmd exampl ad custom kernel overview exampl build exampl introduc creat custom kernel mechan ad physic moos either follow along file exampl directori moos repositori creat app explain heregetting_startednew_usersmdcreateanapp readi build custom physic code physicsproblem work moosebas applic problem statement consid steadyst advectiondiffus equat domain omega shown fig find u nabla cdot nabla u vecv cdot nabla u u bottom u top nabla u cdot hatn remain boundari veloc vecv known constant vertic zdirect zero otherwis weak form equat innerproduct notat given nabla phi_i nabla u_h vecv cdot nabla u phi_i quad foral phi_i phi_i test function u_h finit element solut creat advect kernel advect compon problem defin creat c object inherit exist moos object gener ad new object moos requir creat c object inherit appropri moos object case kernel follow file exampl demonstr examplesex_kernelincludekernelsexampleconvectionh examplesex_kernelsrckernelsexampleconvectionc addit creat new c class newli creat object class must regist c file c comment insid exampleconvect header implement file explain import detail input file syntax differ exampl exampl custom kernel object creat must includ sinc new object regist avail access use similar syntax diffus kernel thu kernel block input file becom puppet kernel diff type diffus variabl convect conv type exampleconvect variabl convect veloc note variabl name also chang exampl convect run problem exampl may run use peacock run follow command form command line cd projectsmooseexamplesex_kernel make j exopt exi gener result file out shown figur file may view use peacock extern applic support exodu ii format eg paraview br media large_mediaexamplesex_outpng captionexampl result stylewidthdisplayblockmarginleftautomarginrightauto complet sourc file examplesex_kernelexi examplesex_kernelincludekernelsexampleconvectionh examplesex_kernelsrckernelsexampleconvectionc examplesex_kernelsrcbaseexampleappc examplesex_kernelex_oversamplei content pagin use_titletru previousexamplesex_inputfilemd nextexamplesex_couplingmd exampl userobject problem timedepend diffus dirichlet boundari condit left right diffus coeffici calcul bu materi depend averag valu variabl block thu concentr diffus diffus coeffici increas coeffici differ block base averag variabl block achiev need object work togeth blockaveragevalu userobject comput averag valu variabl block domain provid averagevalu retriev averag valu particular block blockaveragediffusionmateri materi comput diffus base averag valu variabl comput blockaveragevalu userobject examplediffus kernel seen use diffus materi properti main purpos class provid averagevalu method acept subdomainid simpli integ valu specifi whcih block mesh perform averag valu calcul creat blockaveragevalu userobject first step creat userobject comput averag valu variabl block subdomain complet header sourc file custom userobject link within file comment detail function class blockaveragevaluehhttpsgithubcomidaholabmooseblobdevelexamplesex_user_objectsincludeuserobjectsblockaveragevalueh blockaveragevaluechttpsgithubcomidaholabmooseblobdevelexamplesex_user_objectssrcuserobjectsblockaveragevaluec creat blockaveragediffusionmateri materi second step creat materi object util block averag valu comput diffus coeffici complet header sourc file custom materi object link includ comment detail function materi class simpli creat materi object creat materi properti diffus comput blockaveragevalu class access via averagevalu method blockaveragediffusionmaterialhhttpsgithubcomidaholabmooseblobdevelexamplesex_user_objectsincludematerialsblockaveragediffusionmaterialh blockaveragediffusionmaterialchttpsgithubcomidaholabmooseblobdevelexamplesex_user_objectssrcmaterialsblockaveragediffusionmaterialc creat examplediffus kernel order util diffus materi properti kernel use materi properti coeffici requir accomplish creat new kernel case kernel inherit moos diffus kernel newli creat kernel simpli ultipli diffus kernel computeqpresidu computeqpjacobian method materi propeti complet code custom suppli link agian comment sourc detail behavior class examplediffusionhhttpsgithubcomidaholabmooseblobdevelexamplesex_user_objectsincludekernelsexamplediffusionh examplediffusionchttpsgithubcomidaholabmooseblobdevelexamplesex_user_objectssrckernelsexamplediffusionc run problem exampl may run use peacock run follow command command line cd projectsmooseexamplesex_user_object make j exopt exi gener result file ex_out shown figur file may view use peacock extern applic support exodu ii format eg paraview media large_mediaexamplesex_out_png captionfigur exampl result four time step stylewidth media large_mediaexamplesex_out_png captionfigur exampl result ten time step stylewidth complet input file exihttpsgithubcomidaholabmooseblobdevelexamplesex_user_objectsexi exampleappchttpsgithubcomidaholabmooseblobdevelexamplesex_user_objectssrcbaseexampleappc content pagin use_titletru previousexamplesex_dampersmd nextexamplesex_debuggingmd tutori multiapp demonstr idtutorialmultiapp tutori multiappmultiappsindexmd transfertransfersindexmd system use coupl multiphys applic togeth across differ time length scale tutori current standalon slide set link style haligncent fontsiz tutori multiapp presentationtutorial_multiappspresentationindexmd alternativemissing_configmd offlin instal use machin hpc cluster access internet follow instruct help creat environ suitabl moosebas develop pleas certain machin intend perform actual work document refer target machin meet minimum requir includ sqaminimum_requirementsmd depend list ultim need build follow stack creat environ suitabl moosebas develop target machin gcc llvm gcc mpi wrapper petsc libmesh moos prerequisit begin know first need oper machin internet access window machin pleas instal ubuntu httpswwwmicrosoftcomenuspubuntultsnsvwsrx microsoft store simpli access linux termin insid termin instal git curl need clone repositori involv later step sudo aptget instal git curl gcc highli like target machin oper alreadi contain accept version gcc pleas contact system administr instruct use system compil need head gnu gcchttpsgccgnuorg site follow instruct build gcc compil beyond list minimum version llvm option arguabl better compilerhttpsopensourceapplecomsourceclangclangclangtoolsclangwwwcomparisonhtml tradit gcc difficult build nevertheless wish make attempt head llvmorghttpllvmorg begin alert note choos llvm know also need build use gcc toolchain due lack fortran compil includ llvm mpi wrapper target machin hpc system like system alreadi mpi wrapper thu gcc llvm compil pleas contact system administr ask appropri make use cluster mpi wrapper chanc build choic make openmpihttpswwwopenmpiorg mvapichhttpsmvapichcseohiostateedu mpichhttpswwwmpichorg work well want head one product site follow instruct build mpi wrapper use gcc llvm compil choos alert note mvapich regard better wrapper hpc cluster howev also difficult build properli cluster specif hardwar may abl build easili enough may built properli optim make use said cluster hardwar prepar petsc libmesh moos copi three librari obtain one repositori moos repositori first creat toplevel directori name offlin ultim contain everyth need transfer target machin bash mkdir p offlinedownload next enter offlin directori perform clone oper obtain three product bash cd offlin git clone httpsgithubcomidaholabmoosegit cd moos git checkout master git submodul updat init git submodul foreach recurs git submodul updat init petsc clone part group obtain use configur option petsc obtain list contribut need download manual withpackagedownloaddir bash cd offlinemoos scriptsupdate_and_rebuild_petscsh withpackagesdownloaddirofflinedownload exampl command return someth like pre configur petsc compil system download follow packag homeyouofflinedownload fblaslapack githttpsbitbucketorgpetscpkgfblaslapack httpsbitbucketorgpetscpkgfblaslapackgetvptargz hypr githttpsgithubcomhyprespacehypr httpsgithubcomhyprespacehyprearchivebaaactargz meti githttpsbitbucketorgpetscpkgmetisgit httpsbitbucketorgpetscpkgmetisgetvptargz parmeti githttpsbitbucketorgpetscpkgparmetisgit httpsbitbucketorgpetscpkgparmetisgetvptargz ptscotch githttpsgitlabinriafrscotchscotchgit httpsgitlabinriafrscotchscotcharchivevscotchvtargz httpftpmcsanlgovpubpetscexternalpackagesscotchvtargz mump githttpsbitbucketorgpetscpkgmumpsgit httpsbitbucketorgpetscpkgmumpsgetvptargz scalapack githttpsbitbucketorgpetscpkgscalapack httpsbitbucketorgpetscpkgscalapackgetvptargz superlu_dist githttpsgithubcomxiaoyelisuperlu_dist httpsgithubcomxiaoyelisuperlu_distarchivevtargz slepc githttpsgitlabcomslepcslepcgit httpsgitlabcomslepcslepcarchivevslepcvtargz job pars jargon download packag offlinedownload certain preserv file name petsc list sever mean obtain contribut use either git tradit web link purpos simplic use tradit web method exampl file name may deprec bash cd offlinedownload curl l httpsbitbucketorgpetscpkgfblaslapackgetvptargz curl l httpsgithubcomhyprespacehyprearchivebaaactargz curl l httpsbitbucketorgpetscpkgmetisgetvptargz curl l httpsbitbucketorgpetscpkgparmetisgetvptargz curl l httpftpmcsanlgovpubpetscexternalpackagesscotchvtargz curl l httpsbitbucketorgpetscpkgmumpsgetvptargz curl l httpsbitbucketorgpetscpkgscalapackgetvptargz curl l httpsgithubcomxiaoyelisuperlu_distarchivevtargz curl l httpsgitlabcomslepcslepcarchivevslepcvtargz point everyth necessari download avail directori hierarchi offlin time may copi directori offlinenointernet access machin home directori time write talli disc space use equat approxim gb depend internet connect may want compress entir offlin directori instead save mb bash cd tar pzcf offlinetargz offlin alert note oper macintosh machin creat tarbal extract linux machin produc warn warn safe ignor copi tarbal extract bash tar xf offlinetargz c build petsc libmesh moos offlin directori avail target machin home directori build petsc libmesh moos use mpi wrappercompil establish earlier step petsc configur build instal petsc tohomelibspetsc first set environ make use compil mpi wrapper establish earlier step hpc machin normal involv load modul workstat may mean adjust path environ variabl verifi mpi wrapper avail bash mpicc mpicxx mpif mpif command return path mpi wrapper establish earlier step return noth fewer path ask someth wrong need figur enabl mpi wrapper proceed compil readi use build petsc bash cd offlinemoos scriptsupdate_and_rebuild_petscsh skipsubmoduleupd withpackagesdownloaddirofflinedownload prefixhomelibspetsc unfortun error incur step go beyond scope document like error relat miss librari one myriad contribut ask build petsc pleas submit detail log error moos discuss forumhttpsgithubcomidaholabmoosediscuss prepar ask contact system administr error natur normal requir admin right fulfil depend proceed petsc complet success alert note prefer instal petsc place moosepetsc need take prefix bash cd offlinemoos unset petsc_dir petsc_arch scriptsupdate_and_rebuild_petscsh skipsubmoduleupd withpackagesdownloaddirofflinedownload case need unset petsc_dir petsc_arch libmesh compil alertend libmesh configur build instal libmesh homelibslibmesh first need tell libmesh petsc instal instruct libmesh specif use mpi bash export petsc_dirhomelibspetsc export libmesh_dirhomelibslibmesh export ccmpicc cxxmpicxx fcmpif fmpif fmpif alert note select instal petsc place earlier need set petsc_dir libmesh pick petsc petsc submodul may follow unset petsc_dir bash unset petsc_dir petsc_arch alertend alert note want instal libmesh place need set libmesh_dir libmesh instal insid libmesh submodul may follow unset libmesh_dir bash unset libmesh_dir alertend configur build instal libmesh bash cd offlinemoos scriptsupdate_and_rebuild_libmeshsh skipsubmoduleupd unfortun error incur step go beyond scope document pleas submit detail log error moos discuss forumhttpsgithubcomidaholabmoosediscuss proceed libmesh complet success moos first need tell moos libmesh bash export libmesh_dirhomelibslibmesh alert note mention earlier libmesh instal place need set libmesh_dir moos look libmesh submodul bash unset libmesh_dir alertend build moos bash export moose_dirofflinemoos cd moose_dirtest make j error incur step go beyond scope document pleas submit detail log error moos discuss forumhttpsgithubcomidaholabmoosediscuss applic librari built abl build applic recap sever environ variabl previous set need alway set perform moosebas develop environ variabl set multipl time harmless bash export pathsomepathtompibinsomepathtogccbinpath exampl chang export ccmpicc cxxmpicxx fcmpif fmpif fmpif export moose_dirhomeofflinemoos need perform everi time log target machin wish perform develop applic end creat special profil sourc one command recommend multius cluster instruct document aid hpc administr build environ multipl endus use compil run moos base applic administr right abl complet instruct pleas forward instruct hpc administr document assum reader administr content herein suggest copi past enter instruct prerequisit sort environment modul manag softwar environ moduleshttpmodulessourceforgenet work mpi wrapper mpichopenmpimvapich wrap c compliant compil knowledg access control list acl mean safeguard directori tamper other alert warn pleas use singl solitari termin session throughout complet instruct environ setup begin creat area build bash export stack_srcmktemp tmpstack_src_tempxxxxxx cd stack_src set umask system secur umask set need adjust umask write file make instal readabl everyon bash umask choos base path export base path variabl home locat compil stack file relat librari necessari build moos store locat choos care locat access node cluster bash export packages_diroptmoos creat chown packges_dir histori teach us implicitli trust script download internet root access bad idea let us creat chown packages_dir directori instal anyth way thing instal done without invok sudo bash sudo mkdir p packages_dir sudo chown r user id packages_dir alert warn verifi umask set inde set continu bash umask alertend set modul even use modul follow provid inform environ variabl need moos develop creat moos modul bash mkdir p packages_dirmodulefil vi packages_dirmodulefilesmoosedevgcc add follow content file packag code maxheight modul moos modul set base_path insert packages_dir gcc mpi path prependpath path gcc mpi bin prependpath ld_library_path gcc mpi lib setenv cc mpicc setenv cxx mpicxx setenv f mpif setenv f mpif setenv fc mpif setenv petsc_dir base_pathpetscpetsc__petsc_default__ option miniconda instal prependpath path base_pathminicondabin packageend alert note replac insert packages_dir whatev set packages_dir liter enter packages_dir exampl left packages_dir optmoos would enter replac gcc mpi path addit inform need make gccmpi work cluster alertend make modul avail termin session export follow bash export modulepathmodulepathpackages_dirmodulefil command ad list global profil perhap etcprofilesd way perform user log machin modulefil place modulepath variabl set see modul avail load bash modul load moosedevgcc verifi modul load properli attempt echo petsc_dir packag code echo petsc_dir optmoosepetscpetsc__petsc_default__ packageend verifi mpi wrapper work run command result vari return someth bash mpicc optmoosempichgccbinmpicc mpicc show gcc ioptmoosempichgccinclud loptmoosempichgcclib wlrpath wloptmoosempichgcclib wlenablenewdtag lmpi gcc optmoosegccbingcc leav modul load remaind instruct petsc requir includ getting_startedinstallationmanual_petscmd includ getting_startedinstallationmanual_minicondamd clean chown clean temporari stuff chang ownership root write possibl bash rm rf stack_src sudo chown r rootroot package_dir conclud set environ moosebas develop howev decid instruct user enabl environ user need perform instruct provid follow link obtain build moosegetting_startedinstallationinstall_moosemd opensus includ getting_startedinstallationdeprecated_instructionsmd instal mambaforg idinstallconda follow step depend platform instal mambaforg run issu step pleas visit troubleshoot guid condatroubleshootingmdcondaissu optionaltru instal guid reli util mamba optim packag manag conda linux user bash curl l httpsgithubcomcondaforgeminiforgereleaseslatestdownloadmambaforgelinuxx_sh bash mambaforgelinuxx_sh b p mambaforg macintosh user intel processor bash curl l httpsgithubcomcondaforgeminiforgereleaseslatestdownloadmambaforgemacosxx_sh bash mambaforgemacosxx_sh b p mambaforg mambaforg instal home directori export path may use bash export pathhomemambaforgebinpath configur conda work inl public channel bash conda config add channel httpscondasoftwareinlgovpubl alert warn titlesudo conda find use sudo condasudo mamba someth right common reason need sudo due improp conda instal conda instal home directori without use sudo clone moos moos host githubhttpsgithubcomidaholabmoos clone directli use githttpsgitscmcom recommend creat directori name project put moos relat work instal moos run follow command termin bash mkdir project cd project git clone httpsgithubcomidaholabmoosegit cd moos git checkout master alert note master branch moos stabl branch updat test pass protect daytoday chang moos repositori instal moos instal moos framework click link correspond oper systemplatform follow instruct linux macosinstallationcondamd installationwindowsmd installationdockermd advanc instruct installationhpc_install_moosemd installationmanual_installation_gccmd installationmanual_installation_llvmmd installationmanual_installation_linux_lldbmd installationoffline_installationmd instal complet pleas proceed getting_startednew_usersmd page continu includ installationupdate_moosemd includ installationinstallation_troubleshootingmd content pagin use_titletru previousgetting_startedindexmd nextgetting_startednew_usersmd window alert warn use moos window experiment fulli support caveat peacock work correctli artifact render surfac normal flip differ flavor linux avail sure choos os support moos ultim work everi flavor linux document assum chosen ubuntu alertend includ installationwslmd close wsl termin complet close wsl termin reopen proceed conda instal instructionsgetting_startedinstallationcondamd alert note download folder use wsl locat mntcusersyour user namedownload alertend page deprec proceed new instruct get startedgetting_startedindexmd manual instal gccmpich includ sqaminimum_requirementsmd prerequisit cmake greater need build option packag distribut petsc moos requir unless system old one abl use system packag manag aptget yum zypper etc instal compat version cmake older system need obtain cmake sourc httpwwwcmakeorg build appropri system includ manual_prereqsmd includ manual_environmentmd includ manual_gccmd includ manual_mpich_gccmd includ manual_minicondamd bash_profil everyth instal time wrap environ variabl throw bash shell profil somewher append follow content new file call mooseenvironmentsh packag code binbash moos environ profil gcc __gcc__ mpich __mpich__ export packages_dirwhat ever export initi environ setup export pathpackages_dirgcc__gcc__binpackages_dirmpich__mpich__binpackages_dirminicondabinpath export ld_library_pathpackages_dirgcc__gcc__libpackages_dirgcc__gcc__libpackages_dirgcc__gcc__libgccx_pclinuxgnu__gcc__packages_dirgcc__gcc__libexecgccx_pclinuxgnu__gcc__packages_dirmpich__mpich__libld_library_path export c_include_pathpackages_dirmpich__mpich__includec_include_path export cplus_include_pathpackages_dirmpich__mpich__includecplus_include_path export fpathpackages_dirmpich__mpich__includefpath export manpathpackages_dirmpich__mpich__sharemanmanpath export ccmpicc export cxxmpicxx export fcmpif export fmpif packageend that either sourc file manual time need work moos base applic bash sourc pathtomooseenvironmentsh perman load time open termin ad sourc command bash_profil bashrc ever system use compil stack finish compil stack readi proceed obtain build moosegetting_startedinstallationinstall_moosemd mpich download mpich packagempich packag code cd stack_src curl l httpwwwmpichorgstaticdownloads__mpich__mpich__mpich__targz tar xf mpich__mpich__targz c packageend creat outoftre build locat configur build instal packag code maxheight mkdir stack_srcmpich__mpich__llvmbuild cd stack_srcmpich__mpich__llvmbuild configur prefixpackages_dirmpich__mpich__ enableshar enablesharedlibsclang enablefasto enabledebuginfo enabletotalview enabletwolevelnamespac fcgfortran fgfortran f cflag cxxflag fflag fcflag fflag fflag make j number core avail make instal packageend alert note order util newli built mpi wrapper need set variabl packag code export pathpackages_dirmpich__mpich__binpath export ccmpicc export cxxmpicxx export fcmpif export fmpif export c_include_pathpackages_dirmpich__mpich__includec_include_path export cplus_include_pathpackages_dirmpich__mpich__includecplus_include_path export fpathpackages_dirmpich__mpich__includefpath export manpathpackages_dirmpich__mpich__sharemanmanpath export ld_library_pathpackages_dirmpich__mpich__libld_library_path packageend alertend ubuntu includ getting_startedinstallationdeprecated_instructionsmd compil test moos bash cd projectsmoosetest make j run_test j instal success see test pass test skip depend system environ fedora includ getting_startedinstallationdeprecated_instructionsmd docker minimum system requir flavor linux maco window docker instal memori gb debug build processor bit x disk gb imag size obtain moos run test imag moos current host docker hub repositori herterubuntumoosehttpshubdockercomrherterubuntumoos hertercentosmoosehttpshubdockercomrhertercentosmoos ubuntu cento respect tag latest kept current master branch repositori tag commit hash use code moos git submodul sinc docker imag alreadi framework compil possibl go extant local copi moos run test singl command bash docker run ti herterubuntumooselatest binbash c cd test run_test one might expect procedur appli run cento imag bash docker run ti hertercentosmooselatest binbash c cd test run_test extend imag moos app fulli configur moos framework docker imag next logic step extend imag whichev moos app interest exampl consid anoth open sourc inl code known blackbear build imag blackbear start past follow new file name dockerfil docker herterubuntumooselatest workdir opt run git clone b master httpsgithubcomidaholabblackbeargit cd blackbear git submodul updat init make j grep c processor proccpuinfo workdir optblackbear first line file tell docker use moos base imag tag latest use blackbear moos submodul commit hash would use tag instead run instruct handl clone submodul checkout build step last support endus work directori set root imag blackbear repositori build imag use dockerfil run follow bash docker build blackbear like test ran singl command bash docker run ti blackbear run_test hope tutori shed light advantag container moos larg complex codebas develop endus applic instal moos conda packag idmoosepackag creat virtual conda environ first need initi mamba execut follow command restart termin session bash mamba init next creat uniqu conda environ moos name moos attempt activ bash mamba creat name moos q mamba activ moos within moos environ instal necessari packag bash mamba instal moosetool mooselibmesh packag instal moos environ need deactiv reactiv ensur environment variabl instal packag set properli bash mamba deactiv mamba activ moos run error pleas see troubleshoot guid condatroubleshootingmdcondaissu optionaltru alert note know need mamba activ moos termin window open wish make automat add command end shell profil gcc need modern c capabl compil minimum requir gcc packageminimum_gcc clang packageminimum_clang section focu build gcc packagegcc compil stack version gcc bash gcc version gcc gcc red hat copyright c free softwar foundat inc free softwar see sourc copi condit warranti even merchant fit particular purpos version less packageminimum_gcc need build newer version version greater packageminimum_gcc option skip gcc section packag code cd stack_src curl l httpmirrorsconcertpasscomgccreleasesgcc__gcc__gcc__gcc__targz tar xf gcc__gcc__targz c packageend obtain gcc prereq packag code maxheight cd stack_srcgcc__gcc__ contribdownload_prerequisit packageend configur build instal gcc packag code mkdir stack_srcgccbuild cd stack_srcgccbuild gcc__gcc__configur prefixpackages_dirgcc__gcc__ disablemultilib enablelanguagesccfortranjit enablecheckingreleas enablehostshar withpic make j number core avail make instal packageend error configuremak need investig everi oper system come across nuanc get stuff built normal issu go solv instal necessari develop librari use system packag manag aptget yum zypper etc hint would search internet build gcc packagegcc insert namevers oper system alert note order util newli built gcc packagegcc compil need set variabl packag code export pathpackages_dirgcc__gcc__binpath export ld_library_pathpackages_dirgcc__gcc__libpackages_dirgcc__gcc__libpackages_dirgcc__gcc__libgccx_pclinuxgnu__gcc__packages_dirgcc__gcc__libexecgccx_pclinuxgnu__gcc__ld_library_path packageend alertend obtain build moos includ getting_startedinstallationclone_moosemd includ getting_startedinstallationmanual_petscmd includ getting_startedinstallationbuild_libmeshmd includ getting_startedinstallationtest_moosemd head back getting_startedindexmd page continu tour moos hpc cluster follow instruct aim set baselin singleus environ build moos base applic job schedul capabl environ instead interest allow moosebas develop made avaial multipl user pleas see multiusergetting_startedinstallationclustermd setup instruct requir administr right normal user pleas ingor previou sentenc continu prereq ever compil choos use cluster gccclang mpichopenmpi minimum requir must c compat unsur pleas consult system admin cluster compil use use cmake modern version cmake requir build meta packag need includ petsc python x develop librari cluster like two requir avail via form environ manag softwar unfamiliar manag environ pleas consult cluster administr creat moos profil use editor add follow content homemoose_profil packag code maxheight export ccmpicc export cxxmpicxx export fmpif export fmpif export fcmpif packageend sourc moos profil bash sourc homemoose_profil sourc file readi begin moosebas develop alert note titlerememb sourc profil need perform sourc homemoose_profil everi new termin session perform work moos want automat add bash_profil bashrc ever profil use system includ getting_startedinstallationinstall_moosemd mint includ getting_startedinstallationdeprecated_instructionsmd maco catalina includ getting_startedinstallationdeprecated_instructionsmd miniconda peacock option moos gui frontend use mani librari easiest way obtain librari instal miniconda along sever minicondapip packag packag code maxheight cd stack_src curl l httpsrepoanacondacomminicondaminicondalatestlinuxx_sh sh minicondalatestlinuxx_sh b p packages_dirminiconda pathpackages_dirminicondabinpath conda instal coverag reportlab mako numpi scipi scikitlearn hpi hdf scikitimag request vtk pyyaml matplotlib pip lxml pyflak panda condabuild mock yaml pyqt swig ye packageend next need use pip instal addit librari suppli conda packag code pathpackages_dirminicondabinpath pip instal nocachedir pybtex livereload daemonlit pylint lxml pylatexenc anytre packageend msi instal msi follow instruct msi homepagehttpswwwmsysorg choos bit version keep suggest instal locat adapt two pacman run complet make sure open mingw termin use step prerequisit ms mpi toolchain git compil mpi instal use packag pacman basedevel binutil git mingwwx_toolchain pacman mingwwx_msmpi next download instal msmpisetupex msmpisdkmsi microsoft stick default instal path els modifi export pick version match msi msmpi sdk packag version time write ms mpi add ms mpi runtim tool path add bashrc export pathpathcprogram filesmicrosoft mpibin meti parmeti bla netcdf use msi packag petsc depend download compil petsc config script work msi packag includ minor patch make everyth work pacman mingwwx_meti mingwwx_parmeti mingwwx_openbla moos repositori creat project directori chang mkdir project cd project clone moos initi submodul git clone httpsgithubcomidaholabmoos cd moos git submodul updat init recurs add moose_dir environ variabl bashrc config reload bash configur make sure moos directori echo export moose_dirpwd bashrc bashrc petsc next build petsc prepar special configur script petsc make sure use preinstal prerequisit leav option featur may caus build fail cd moose_dirpetsc scriptspetsc_msys_configpi follow instruct print end configur output run make petsc built run make instal command well leav built petsc add two export petsc_dir petsc_arch bashrc import make sure prepend cmsi petsc_dir line bashrc look someth like export petsc_dircmsyshomewhoamiprojectsmoosepetsc export petsc_archpetsc_msys_config sourc bash configur get new environ variabl run scriptspetsc_msys_fixuppi fix broken path petsc_dirpetsc_archlibpetscconfpetscvari libmesh alert note libmesh requir patch enabl use extern netcdf instal patch master branch submodul yet set libmesh_dir environ variabl export libmesh_dirmoose_dirlibmeshinstal use libmesh moos submodul export libmesh_dirhomeprojectslibmeshinstal use separ libmesh repo assum repo alreadi check chang libmesh repo dir that usual parent libmesh_dir mkdir p libmesh_dirinstal cd libmesh_dir run libmesh script fix miss symlink mkdir p libmesh_dirinstal cd libmesh_dir contribbinfix_windows_symlinkssh next instal netcdf msi repositori version ship libmesh wont work pacman mingwwx_netcdf build opt version instead provid methodsopt dbg note may need take extra measur build tmpi want also build oprof method ie pass withmethod argument timpi configur start configur build process continu appropri subsect libmesh separ repo mkdir build cd build configur withmethodsopt prefixhomeprojectslibmeshinstal withstaticy withsharedno enablestat disableshar enableuniqueid disablemaintainermod enablepetschyprerequir enablemetaphysiclrequir enablenetcdfrequir netcdf_dircmsysmingw make make instal libmesh moos submodul cd moose_dir methodopt scriptsupdate_and_rebuild_libmeshsh enablestat disableshar enablenetcdfrequir netcdf_dircmsysmingw take minut moos final time build moos well start framework test adjust j option number avail core cd moose_dirtest make j run result execut nativ window shell may need copi dll current directori necessari run msi shell cp ldd moose_testoptex grep mingw cut fcut f unfortun final moos execut also need link hand first instal pcre pacman mingwwx_pcr get proper link option pcrecpp pkgconfig libpcrecpp lib static add end final link line check make n remov contrib pcre stuff uninstal conda moos environ wish remov moos environ time may use follow command bash conda deactiv moos current activ conda remov name moos sane environ mean clean noth bare minimum far avail librari go run environ addit ld_library_path extra path set strang umask set odd alias import step advis possibl creat separ account strictli use instruct document assum account call moos creat account current use cento includ getting_startedinstallationdeprecated_instructionsmd environ let tri make environ sane possibl set locat need bash bash noprofil export packages_dirsomepathwithwriteaccess export stack_srcmktemp tmpmoose_stack_srcxxxxxx umask mkdir p packages_dir alert warn titleproce use termin ever termin perform command must remain termin remaind instruct termin close necessari start maco high sierra older includ getting_startedinstallationdeprecated_instructionsmd manual instal llvmmpich alert note titlear sure get proper llvmmpich compil built substanti difficult gccmpichgetting_startedinstallationmanual_installation_gccmd combin need build llvm use modern gcc compil minim c compliant gcc compil also higher version gcc alway guarante success furthermor millag vari depend oper system build llvm finicki process unsur build llvm compil might best build gccmpichgetting_startedinstallationmanual_installation_gccmd compil stack instead alertend includ sqaminimum_requirementsmd prerequisit cmake greater need build llvm option packag distribut petsc moos requir unless system old one abl use system packag manag aptget yum zypper etc instal compat version cmake older system need obtain cmake sourc httpwwwcmakeorg build appropri system includ manual_prereqsmd includ manual_environmentmd includ manual_gccmd includ manual_llvmmd alert note order util newli built llvmclang compil need export variabl packag code export ccclang export cxxclang export pathpackages_dirllvm__llvm__binpath export ld_library_pathpackages_dirllvm__llvm__libld_library_path packageend alertend includ manual_mpich_llvmmd includ manual_minicondamd bash_profil everyth instal time wrap environ variabl throw bash shell profil somewher append follow content new file call mooseenvironmentsh packag code binbash moos environ profil gcc __gcc__ llvm __llvm__ mpich __mpich__ export packages_dirwhat ever export initi environ setup export pathpackages_dirllvm__llvm__binpackages_dirgcc__gcc__binpackages_dirmpich__mpich__binpackages_dirminicondabinpath export ld_library_pathpackages_dirllvm__llvm__libpackages_dirgcc__gcc__libpackages_dirgcc__gcc__libpackages_dirgcc__gcc__libgccx_pclinuxgnu__gcc__packages_dirgcc__gcc__libexecgccx_pclinuxgnu__gcc__packages_dirmpich__mpich__libld_library_path export c_include_pathpackages_dirmpich__mpich__includec_include_path export cplus_include_pathpackages_dirmpich__mpich__includecplus_include_path export fpathpackages_dirmpich__mpich__includefpath export manpathpackages_dirmpich__mpich__sharemanmanpath export ccmpicc export cxxmpicxx export fcmpif export fmpif packageend that either sourc file manual time need work moos base applic bash sourc pathtomooseenvironmentsh perman load time open termin ad sourc command bash_profil bashrc ever system use compil stack finish compil stack readi proceed obtain build moosegetting_startedinstallationinstall_moosemd llvmclang clone necessari repositori involv build llvmclang sourc packag code maxheight mkdir p stack_srcllvmsrc cd stack_srcllvmsrc git clone httpsgithubcomllvmmirrorllvmgit git clone httpsgithubcomllvmmirrorclanggit stack_srcllvmsrcllvmtoolsclang git clone httpsgithubcomllvmmirrorcompilerrtgit stack_srcllvmsrcllvmprojectscompilerrt git clone httpsgithubcomllvmmirrorlibcxxgit stack_srcllvmsrcllvmprojectslibcxx git clone httpsgithubcomllvmmirrorlibcxxabigit stack_srcllvmsrcllvmprojectslibcxxabi git clone httpsgithubcomllvmmirroropenmpgit stack_srcllvmsrcllvmprojectsopenmp git clone httpsgithubcomllvmmirrorclangtoolsextragit stack_srcllvmsrcllvmtoolsclangtoolsextra cd stack_srcllvmsrcllvm git checkout release___llvm_release__ cd stack_srcllvmsrcllvmtoolsclang git checkout release___llvm_release__ cd stack_srcllvmsrcllvmprojectscompilerrt git checkout release___llvm_release__ cd stack_srcllvmsrcllvmprojectslibcxx git checkout release___llvm_release__ cd stack_srcllvmsrcllvmprojectslibcxxabi git checkout release___llvm_release__ cd stack_srcllvmsrcllvmprojectsopenmp git checkout release___llvm_release__ cd stack_srcllvmsrcllvmtoolsclangtoolsextra git checkout release___llvm_release__ packageend configur build instal clang packag code mkdir p stack_srcllvmsrcbuild cd stack_srcllvmsrcbuild cmake llvm g unix makefil dcmake_install_prefixpackages_dirllvm__llvm__ dcmake_install_rpathstringpackages_dirllvm__llvm__lib dcmake_install_name_dirstringpackages_dirllvm__llvm__lib dcmake_build_with_install_rpath dllvm_targets_to_buildx dcmake_build_typereleas dcmake_macosx_rpathbooloff dpython_executablewhich python dcmake_cxx_link_flagslpackages_dirgcc__gcc__lib wlrpathpackages_dirgcc__gcc__lib dgcc_install_prefixpackages_dirgcc__gcc__ dcmake_cxx_compilerpackages_dirgcc__gcc__b dcmake_c_compilerpackages_dirgcc__gcc__bingcc make j number core avail make instal packageend alert note configur assum use custom version gcc built previou section note sever gccpackagegcc path case need provid correct path current toolchain also possibl llvm may build success omit line referenc gccpackagegcc entir alertend manual instal linux lldb alert note instruct vet ubuntu concept gener applic instruct realli intend develop stand slow gdb larg librariesexecut prefer speed lldb clang may also faster compil templat fair amount libmeshmoos compil instal clang compil choos manual probabl easier use packag manag ubuntu base linux system packag code sudo apt instal clang packageend ubuntu gener sever option clang compil instanc clang clang clang clang default clang packag elect go newest avail packag instal packag code export ccclang export cxxclang packageend order use variou option petsc packag must also avail fortran compil de facto choic gfortran packag code sudo apt instal gfortran export fcgfortran packageend compil flag subtleti least system default clang compil gener positionindepend code positionindepend execut eg default clang compil fnopic fnopi flag default set configur fortran support mpich fail inabl link object gener gfortran object gener clang fix need explicitli pass fpic fpie flag packag code export cppflagsfpic fpie packageend time write clang known issueshttpsbugzillaredhatcomshow_bugcgiid read debug info libstdc straightforward fix clang institut debug inform packag code export cflagsfstandalonedebug export cxxflagsfstandalonedebug packageend note pass option cppflag gfortran doesnt recogn fstandalonedebug option build mpich compil compil flag set proceed build mpi compil git command assum ssh key setup github clone use http protocol moreov build git sourc need autotool instal order run autogensh instal autotool use packag manag actual build autotool libmesh cding root libmesh sourc directori execut bootstrap buildautotool also download mpich tarbal prefer avoid git autotool stage packag code cd home git clone gitgithubcompmodelsmpichgit cd mpich git submoul updat init progress autogensh mkdir build cd build configur prefixhomempichinstal make j make instal packageend mpich compil built export path packag code export pathhomempichinstalledbinpath packageend build petsc petsc prefer configur detect packag code unset cc cxx fc cppflag cflag cxxflag packageend go build petsc use moos submodul script make sure youv clone moos see clone_moosemd packag code cd moose_dir scriptsupdate_and_rebuild_petscsh withmpidirhomempichinstal packageend build libmesh build libmesh let set compil ccach avail environ packag code export ccccach mpicc export cxxccach mpicxx export fcccach mpifort packageend els packag code export ccmpicc export cxxmpicxx export fcmpifort packageend let build packag code scriptsupdate_and_rebuild_libmeshsh withoutgdbcommand packageend build moos alway prefer make sure potenti stale object file remov moos directori tri link new librari use git clean make sure youv checkedin untrack file want preserv im also go pass tag exclus pattern use etag lot develop packag code git clean fxd e tag cd test methoddbg make j packageend instal use lldb next set instruct much ubuntu specif may still benefici across platform across distribut version built stack use clang im go use correspond lldb version packag code sudo apt instal lldb packageend tri use lldb straight box your probabl go see troubl messag begin tri debug packag code lldb moose_testdbg simple_diffusioni lldb target creat moose_testdbg current execut set moose_testdbg x_ lldb set set targetrunarg simple_diffusioni lldb b fec breakpoint locat pend warn unabl resolv breakpoint actual locat lldb r process launch homelindadprojectsmoosetestmoose_testdbg x_ locat ad breakpoint traceback recent call last file string line modul modulenotfounderror modul name lldb traceback recent call last file string line modul nameerror name run_one_lin defin traceback recent call last file string line modul nameerror name run_one_lin defin traceback recent call last file string line modul nameerror name run_one_lin defin traceback recent call last file string line modul nameerror name run_one_lin defin traceback recent call last file string line modul nameerror name run_one_lin defin traceback recent call last file string line modul nameerror name run_one_lin defin traceback recent call last file string line modul nameerror name run_one_lin defin packageend python import error irrit irrit perhap attempt print contain inform like stdvector your go get someth ugli packag code lldb p fe_fe_mapjxw traceback recent call last file string line modul nameerror name run_one_lin defin stdvectordoubl stdallocatordoubl size std_vector_basedoubl stdallocatordoubl _m_impl std_vector_basedoubl stdallocatordoubl _vector_impl_data _m_start xa _m_finish xa _m_end_of_storag xa packageend sever problem stem lldb interact python let debug first check lldb thing python inform go come packag code lldb p usrlibx_linuxgnupythonsitepackag file usrlibx_linuxgnupythonsitepackag usrlibx_linuxgnupythonsitepackag open usrlibx_linuxgnupythonsitepackag file directori sudo aptcach depend lldb lldb depend libc depend libedit depend libgcc depend liblldb depend libllvm depend libncurs depend libstdc depend libtinfo depend llvmdev depend pythonlldb break llvmtool replac llvmtool dpkg l pythonlldb usr usrlib usrlibllvm usrlibllvmlib usrlibllvmlibpython usrlibllvmlibpythonsitepackag usrlibllvmlibpythonsitepackageslldb usrlibpython usrlibpythondistpackag usrshar usrsharedoc usrsharedocpythonlldb usrsharedocpythonlldbcopyright usrlibllvmlibpythonsitepackageslldb_lldbso usrlibllvmlibpythonsitepackageslldblibllvmso usrlibllvmlibpythonsitepackageslldblibllvmso usrlibpythondistpackageslldb usrsharedocpythonlldbnewsdebiangz usrsharedocpythonlldbchangelogdebiangz packageend hmm lldb binari expect execut python code yet apt packag manag instal python support packag let instal correct python version packag code sudo apt instal pythonlldb file usrlibx_linuxgnupythonsitepackag usrlibx_linuxgnupythonsitepackag open usrlibx_linuxgnupythonsitepackag file directori packageend wow even instal python lldb support packag still lldb look python modul directori doesnt exist luckili stack overflowhttpsstackoverflowcomquestionslldberrorwithqtcreatorvinubuntu pythonlldb packag actual instal python bind usrlibllvmlibpythonsitepackag need creat symlink lldb binari look modul modul actual locat packag code cd usrlibx_linuxgnu sudo mkdir python cd python sudo ln sf usrlibllvmlibpythonsitepackag sitepackag packageend happen debugg packag code lldb p fe_fe_mapjxw stdvectordoubl stdallocatordoubl size packageend ah beauti code final step reason ever want load lldb modul insid standard python interpret need perform one addit symlink packag code ipython python default nov type copyright credit licens inform ipython enhanc interact python introduct overview ipython featur quickref quick refer help python help system object detail object use object extra detail import sy syspathappendusrlibx_linuxgnupythonsitepackag import lldb modulenotfounderror traceback recent call last usrlibx_linuxgnupythonsitepackageslldb__init__pi modul _lldb builtin modul import _lldb except importerror modulenotfounderror modul name _lldb handl except anoth except occur importerror traceback recent call last ipythoninputabfa modul import lldb usrlibx_linuxgnupythonsitepackageslldb__init__pi modul except importerror rel import work load python import _lldb tri _swig_properti properti importerror import name _lldb lldb usrlibx_linuxgnupythonsitepackageslldb__init__pi packageend differ __init__pi script lldb python modul absolut import run insid lldb binari attempt rel import run insid python interpret problem packag code file usrlibx_linuxgnupythonsitepackageslldb_lldbso usrlibx_linuxgnupythonsitepackageslldb_lldbso open usrlibx_linuxgnupythonsitepackageslldb_lldbso file directori packageend let creat final addit symlink packag code cd usrlibllvmlibpythonsitepackageslldb sudo ln sf liblldbso _lldbso packageend lldb import insid standard python interpret success packag code ipython python default nov type copyright credit licens inform ipython enhanc interact python introduct overview ipython featur quickref quick refer help python help system object detail object use object extra detail import sy syspathappendusrlibx_linuxgnupythonsitepackag import lldb packageend maco mojav includ getting_startedinstallationdeprecated_instructionsmd updat moos conda idupd moos use tradit version heavi develop updat continu therefor import continu updat moos use develop applic weekli updat recommend use conda environ alway perform updat conda moos repositori updat one alway updat bash conda activ moos conda updat updat moos repositori use follow command bash cd projectsmoos git fetch origin git rebas originmast return applic recompil test see getting_startednew_usersmdcreateanapp discuss inform bash cd projectsyourappnam make clobberal make j run_test j process build moosempich moos arm monterey alert construct titlework progress document intend live one support ad current best practic instal improv jan full public packag support ie moosempich moosepetsc mooselibmesh yet avail alertend alert note titlemambaforg guid assum mambaforg instal moos instal instruct condacondamd use perform instal note instruct x_ name mambaforg instal script replac arm alertend download macosx sdk via githubhttpsgithubcomphrackermacosxsdksreleasesdownloadmacosxsdktarxz extract sdk place opt set conda build environ conda deactiv conda creat n build conda activ build mamba instal boa deactiv reactiv ensur environ proper state conda deactiv conda activ build initi moos submodul well libmesh contrib submodul git submodul updat init petsc libmesh cd projectsmooselibmesh git submodul updat init recurs build moos packag local order depend step take time cd projectsmooseconda conda mambabuild mpich conda mambabuild libmeshvtk conda mambabuild petsc conda mambabuild libmesh conda mambabuild tool creat develop environ name someth test want conda deactiv conda creat n test conda activ test mamba instal c mambaforgeenvsbuildcondabld mooselibmesh moosetool alert tip import close reopen termin environ variabl properli set upon activ alertend build test moos conda activ test cd projectsmoosetest make j run_test j alert warn titlefail test method build moos pass framework unit test opt build mode current jan hand geochemistri test fail heavi test still need test thoroughli alertend mpich check see alreadi mpi wrapper avail machin one simpl way perform three necessari mpi wrapper binari bash mpicc mpicxx mpif wc l command return may skip mpich section howev end build gcc compil want skip step reason gener best build mpi wrapper base compil plan use download mpich packagempich packag code cd stack_src curl l httpwwwmpichorgstaticdownloads__mpich__mpich__mpich__targz tar xf mpich__mpich__targz c packageend creat outoftre build locat configur build instal packag code maxheight mkdir stack_srcmpich__mpich__gccbuild cd stack_srcmpich__mpich__gccbuild configur prefixpackages_dirmpich__mpich__ enableshar enablesharedlibsgcc enablefasto enabledebuginfo enabletotalview enabletwolevelnamespac ccgcc cxxg fcgfortran fgfortran f cflag cxxflag fflag fcflag fflag fflag make j number core avail make instal packageend alert note order util newli built mpi wrapper need set variabl packag code export pathpackages_dirmpich__mpich__binpath export ccmpicc export cxxmpicxx export fcmpif export fmpif export c_include_pathpackages_dirmpich__mpich__includec_include_path export cplus_include_pathpackages_dirmpich__mpich__includecplus_include_path export fpathpackages_dirmpich__mpich__includefpath export manpathpackages_dirmpich__mpich__sharemanmanpath export ld_library_pathpackages_dirmpich__mpich__libld_library_path packageend alertend compil petsc default use petsc submodul insid moos nonlinearlinear solver petsc built use follow script bash cd projectsmoos unset petsc_dir petsc_arch scriptsupdate_and_rebuild_petscsh alert note prefer instal petsc specifi locat use follow bash cd projectsmoos unset petsc_dir petsc_arch scriptsupdate_and_rebuild_petscsh prefixwhereyouwanttoputpetsc followup libmesh compil need set petsc_dir bash export petsc_dirwhereyouwanttoputpetsc alertend petsc built success see output like follow packag code maxheight check librari work make petsc_diryourhomeprojectsmoosescriptspetsc petsc_archarchmoos check packageend could option check petsc work follow bash cd petsc make petsc_diryourhomeprojectsmoosescriptspetsc petsc_archarchmoos check petsc produc output like packag code maxheight run check exampl verifi correct instal use petsc_diryourhomeprojectsmoosescriptspetsc petsc_archarchmoos cc exampl srcsnestutorialsex run success mpi process cc exampl srcsnestutorialsex run success mpi process cc exampl srcsnestutorialsex run success hypr cc exampl srcsnestutorialsex run success mump cc exampl srcsnestutorialsex run success superlu_dist complet test exampl packageend conda moos environ prefer method obtain depend necessari moosebas applic develop via conda myriad array librari follow instruct creat environ machin use conda time option instal moos directli window system yet support ongo effort made add conda instal option window experiment wslinstallationwindowsmd option avail includ installationinstall_minicondamd includ installationinstall_conda_moosemd includ getting_startedinstallationclone_moosemd includ getting_startedinstallationtest_moosemd head back getting_startedinstallationindexmd optionaltru page continu tour moos includ installationuninstall_condamd instal troubleshoot pleas see moos faqhelpfaqindexmd optionaltru page common issu issu list would excel time visit moos discuss forumhttpsgithubcomidaholabmoosediscuss ask help begin perform follow extern instruct instal ubuntu httpswwwmicrosoftcomenuspubuntultsnsvwsrx microsoft store instal vcxsrvhttpssourceforgenetprojectsvcxsrvreview need peacock launch vcxsrv time reboot basic time vcxsrv run wish use graphic capabl moos peacock start vcxsrv launch wsl termin found better perform instruct vcxsrv use softwar render nativ opengl launch vcxsrv search option nativ opengl uncheck option remain default edit hostnam within wsl launch window command prompt administr rightclick window start button select command promptadmin result menu appear modifi window host file locat cwindowssystemdriversetchost includ result hostnam resolv necessari due way mpich messag pass interfac pass inform among run applic like moos parallel cusersyour_user_nam hostnam desktoplbg cusersyour_user_nam notepad cwindowssystemdriversetchost localhost name resolut handl within dn localhost localhost desktoplbg add updat ubuntu instal addit librari launch wsl perform updat instal necessari opengl librari bash sudo aptget updat sudo aptget upgrad sudo aptget instal xapp libglumesa configur wsl use vcxsrv modifi bash profil allow wsl connect vcxsrv bash echo export displaylocalhost bashrc transit step preexist user previous instal mooseenviron packag remov remov mooseenviron packag need perform alert note titlestep applic firsttim user first time moos user pleas skip instal minicondacondamdinstallconda alertend use conda longer necessari optmoos present machin depend type machin pleas follow oper system command cento sudo yum remov mooseenviron fedora sudo dnf remov mooseenviron opensus sudo zypper remov mooseenviron debian ubuntu mint sudo dpkg r mooseenviron macintosh sudo rm rf optmoos alert warn titl sudo danger especi car command verifi twice enter termin instruct ask compil libmesh moos directli reli libmesh finiteel framework strong tie moos contain particular version libmesh vet user pull compil version libmesh simpli need run script moos bash cd projectsmoos scriptsupdate_and_rebuild_libmeshsh alert warn use sudo run update_and_rebuild_libmeshsh physic modul moos includ set commun develop physic modul build creat applic chemic reactionsmoduleschemical_reactionsindexmd combinedmodulescombinedindexmd contactmodulescontactindexmd fluid propertiesmodulesfluid_propertiesindexmd fluidstructur interactionmodulesfsiindexmd function expans toolsmodulesfunctional_expansion_toolsindexmd geochemistrymodulesgeochemistryindexmd heat conductionmodulesheat_conductionindexmd level setmoduleslevel_setindexmd miscmodulesmiscindexmd navierstokesmodulesnavier_stokesindexmd peridynamicsmodulesperidynamicsindexmd phase fieldmodulesphase_fieldindexmd porou flowmodulesporous_flowindexmd ray tracingmodulesray_tracingindexmd reactormodulesreactorindexmd reconstruct discontin galerkinmodulesrdgindexmd richardsmodulesrichardsindexmd stochast toolsmodulesstochastic_toolsindexmd tensor mechanicsmodulestensor_mechanicsindexmd xfemmodulesxfemindexmd purpos modul encapsul common kernel boundari condit etc prevent code duplic exampl includ heat conduct solid mechan navierstok other modul organ applic link requir alert warn export control physic eg neutron put modul combin exampl contain list exampl util combin physic modul list modulescombinedexamplesstm_thermomechanicsmd modulesfunctional_expansion_toolsindexmd function seri aux syntax descript auxkernelsfunctionseriestoaux descript auxkernel expand fx name auxvari initi nonlinear solv subclass functionaux perform actual work differ functionseriestoaux ensur provid function subclass functionseri ensur execut exec_timestep_begin exampl input file syntax list modulesfunctional_expansion_toolsexamplesd_volumetric_cartesianmaini blockauxkernel idinput captionexampl use functionseriestoaux syntax paramet auxkernelsfunctionseriestoaux syntax input auxkernelsfunctionseriestoaux syntax children auxkernelsfunctionseriestoaux function seri syntax descript functionsfunctionseri descript function workhors function expans tool modul bridg gap function seri associ coeffici exampl provid access orthonorm function seri userobject class need evalu function expans also provid standard function seri requir coupl fx solver auxkernel bc etc configur correl paramet includ physic boundari seri type seri order coeffici provid implement mutablecoefficientsfunctioninterfac function seri provid composit member variabl via compositeseriesbasisinterfac alert note titleseri normal generation_typ expansion_typ paramet provid functionseri pass singl seri zernik legendr aforement paramet mooseenum time write possibl valu orthonorm standard sqrt_mu user make specif input file generation_typ default orthonorm expansion_typ default standard note combin gener expans must togeth appli squar orthonorm coeffici see work david griesheim detail sqrt_mu seri generationexpans appli orthonorm constant orthonorm seri generationexpans appli squar orthonorm constant standard seri generationexpans appli factor consequ valid combin includ orthonorm gener standard expans default sqrt_mu gener expans standard gener orthonorm expans suggest user stick default unless coupl extern code requir differ normal exampl input file syntax list modulesfunctional_expansion_toolsexamplesd_volumetric_cartesianmaini blockfunct iddcart captionexampl use cartesian functionseri list modulesfunctional_expansion_toolsexamplesd_volumetric_cartesianmaini blockfunct iddcart captionexampl use cartesian functionseri list modulesfunctional_expansion_toolsexamplesd_volumetric_cylindricalmaini blockfunct iddcyl captionexampl use cylindr functionseri list modulesfunctional_expansion_toolstesttestsstandard_usevolume_coupling_custom_normi blockfunct idcustomnorm captionexampl specifi custom normal syntax paramet functionsfunctionseri syntax input functionsfunctionseri syntax children functionsfunctionseri fx boundari valu userobject syntax descript userobjectsfxboundaryvalueuserobject descript userobject captur moment fx repres valu boundari via subclass templat fxintegralbaseuserobject sideintegralvariableuserobject polici paramet fxintegralbaseuserobject also ensur provid function subclass functionseri exampl input file syntax list modulesfunctional_expansion_toolsexamplesd_interfacesubi blockuserobject idinput captionexampl use fxboundaryvalueuserobject syntax paramet userobjectsfxboundaryvalueuserobject syntax input userobjectsfxboundaryvalueuserobject syntax children userobjectsfxboundaryvalueuserobject fx volum userobject syntax descript userobjectsfxvolumeuserobject descript userobject captur moment fx repres field valu volum via subclass templat fxintegralbaseuserobject elementintegralvariableuserobject polici paramet fxintegralbaseuserobject also ensur provid function subclass functionseri exampl input file syntax list modulesfunctional_expansion_toolsexamplesd_volumetric_cartesianmaini blockuserobject idinput captionexampl use fxvolumeuserobject syntax paramet userobjectsfxvolumeuserobject syntax input userobjectsfxvolumeuserobject syntax children userobjectsfxvolumeuserobject fx boundari flux userobject syntax descript userobjectsfxboundaryfluxuserobject descript userobject captur moment fx repres flux boundari via subclass templat fxintegralbaseuserobject sideintegralvariableuserobject polici paramet also requir diffus paramet either constant valu name materi properti fxintegralbaseuserobject also ensur provid function subclass functionseri exampl input file syntax list modulesfunctional_expansion_toolsexamplesd_interfacemaini blockuserobject idinput captionexampl use fxboundaryfluxuserobject syntax paramet userobjectsfxboundaryfluxuserobject syntax input userobjectsfxboundaryfluxuserobject syntax children userobjectsfxboundaryfluxuserobject fx valu bc syntax descript bcsfxvaluebc descript bc provid fix febas dirichlet boundari condit subclass functiondirichletbc perform actual work differ fxvaluebc ensur provid function subclass functionseri configur provid functionseri use memoiz cach fx evalu improv perform exampl input file syntax list modulesfunctional_expansion_toolsexamplesd_interfacemaini blockbc idinput captionexampl use fxvaluebc syntax paramet bcsfxvaluebc syntax input bcsfxvaluebc syntax children bcsfxvaluebc fx valu penalti bc syntax descript bcsfxvaluepenaltybc descript bc provid strongli encourag febas dirichlet boundari condit subclass functionpenaltydirichletbc perform actual work differ fxvaluepenaltybc ensur provid function subclass functionseri configur provid functionseri use memoiz cach fx evalu improv perform syntax paramet bcsfxvaluepenaltybc syntax input bcsfxvaluepenaltybc syntax children bcsfxvaluepenaltybc fxfluxbc syntax descript bcsfxfluxbc descript bc provid strongli encourag febas neumann boundari condit subclass functionneumannbc perform actual work differ fxfluxbc ensur provid function subclass functionseri configur provid functionseri use memoiz cach fx evalu improv perform exampl input file syntax list modulesfunctional_expansion_toolsexamplesd_interfacemaini blockbc idinput captionexampl use fxfluxbc syntax paramet bcsfxfluxbc syntax input bcsfxfluxbc syntax children bcsfxfluxbc multiapp fx transfer syntax descript transfersmultiappfxtransf descript transfer transfer coeffici fxgener object fxuserobject fxutil object functionseri leverag mutablecoefficientsinterfac object must subclass perform transfer search associ multiapp object name object perform transfer also ensur subclass mutablecoefficientsinterfac exampl input file syntax list modulesfunctional_expansion_toolsexamplesd_volumetric_cartesianmaini blocktransf idinput captionexampl use multiappfxtransf syntax paramet transfersmultiappfxtransf syntax input transfersmultiappfxtransf syntax children transfersmultiappfxtransf function expans tool moos modul continu meshagnost highfidel reduceddata multiapp coupl descript function expans fx methodolog repres inform moment function seri citepfluss relat fourier seri represent cyclic data moment gener via numer integr term function seri repres field interest moment use reconstruct field separ app citepwendtawendtckerbi current two main flavor fx coupl avail interfac volumetr alert note titlenomenclatur context fx identifi use initi fe howev sinc moos finiteel fe code initi fx use throughout modul prevent confus alert warn titledisplac mesh modul use nondisplac mesh interfac coupl interfacebas coupl provid coupl physic distinct solut share common interfac fx use extract valu andor flux condit boundari one app transfer boundari condit coupl app coupl boundari repres common interfac two solut volumetr coupl volumetricbas coupl provid coupl solut share space coupl yet separ physic field one app collaps fx moment valu transfer app use solut use modul set either functional_expansion_tool ye all_modul ye applic makefil follow object avail use auxkernel name descript functionseriestoauxfunctionseriestoauxmd expand fx name auxvari initi nonlinear solv bc name descript fxfluxbcfxfluxbcmd provid strongli encourag fxbase neumann boundari condit fxvaluebcfxvaluebcmd provid fix fxbase dirichlet boundari condit fxvaluepenaltybcfxvaluepenaltybcmd provid strongli encourag fxbase dirichlet boundari condit function name descript functionseriesfunctionseriesmd workhors fx tool modul evalu term function seri use captur moment expand fx fxbase object depend functionseri instanc kernel although kernel directli provid modul yet three framework vari degre use name descript bodyforcebodyforcemd may use coupl functionseri object directli solut instead use functionseriestoaux coupledforc bodyforc approach use highli recommend set enable_cach true associ functionseri object coupledforcecoupledforcemd coupl auxvari variabl solut anoth variabl use conjunct functionseriestoaux nullkernelnullkernelmd may requir use situat variabl kernel need may occur exampl app use recommend functionseriestoauxcoupledforc approach transfer name descript multiappfxtransfermultiappfxtransfermd transfer fx coeffici moment name fx object multi sub app support object contain coeffici transfer instanc functionseri fxuserobject userobject name descript fxboundaryfluxuserobjectfxboundaryfluxuserobjectmd captur moment fx repres flux boundari fxboundaryvalueuserobjectfxboundaryvalueuserobjectmd captur moment fx repres valu boundari fxvolumeuserobjectfxvolumeuserobjectmd captur moment fx repres field valu volum exampl pleas refer examplesexamplesmd includ modul object use support function seri modul current support fx base legendr zernik polynomi seri construct cartesian basi set legendr cylindr legendr zernik basi set nonsepar seri ie fullyconvolv cross term use implement exampl select fx shown functionseriesfunctionseriesmd addit function seri polynomi otherwis ad inherit singleseriesbasisinterfac class found util folder composit seri current cartesian cylindricalduo class need updat support newlyavail seri addit composit seri may suitabl spheric shell data implement inherit compositeseriesbasisinterfac functionseri class need updat support newlyavail seri caveat fx recommend span space discontinu citepellisb one exampl would space contain two distinct materi significantli differ properti instead use multipl fx region continu recommend approach increas order fx alway result improv represent numer integr fx moment yield larg error enough quadratur point includ citepgriesheimera bibtex bibliographi todo investig implement use nearestpointbas approach easili equip multipl fx implement materialsderiv fxbase class provid continu materi properti implement kernelderiv class la bodyforc automat set enable_cach true associ functionseri object add error check multiappfxtransf multipl object name differ type ie function userobject name object type ad implement support mutablecoefficientsinterfac multipl set fx coeffici implement support variou type fx deriv separ seri variou orthonorm add function seri fourier annular zernik r shell r cylindr boundari condit zernikebas spheric harmon spheric composit seri add check ensur work undisplac mesh context object action syntax syntax complet groupsfunctionalexpansiontoolsapp level exampl exampl util functionalexpansiontool modulefrequ also use function heatconduct moduleto demonstr use case multiapp coupl moos picard iter use case converg solut exampl locat exampl directori functional_expansion_tool modul interfac cartesian d_interfac dinterfac basic coupl master sub app share interfac master app provid flux term sub app sub app return valu flux condit d_interface_different_submesh demonstr meshagnost fx method solv exact problem d_interfac time mesh sub app ident master app extra configur requir solut compar d_interfac d_interface_no_materi demonstr solut similar d_interfac without materi depend heatconduct modul conduct kernel diffus use instead straight main framework volumetr cartesian d_volumetric_cartesian basic coupl master sub app share cartesian physic space master app provid field valu sub app perform calcul sub app solut field transfer back coupl master app solut approach coupl sub app solut mast app via functionseriestoauxcoupledforc approach solut slightli faster direct coupl use bodyforcebas approach easili loos higherord inform coarser mesh d_volumetric_cartesian version d_volumetric_cartesian divis higher fx order _y_ d_volumetric_cartesian version d_volumetric_cartesian divis higher fx order _z_ light simul probabl take minut run d_volumetric_cartesian_different_submesh demonstr meshagnost fx method solv exact problem d_volumetric_cartesian time mesh sub app ident master app extra configur requir solut compar d_volumetric_cartesian d_volumetric_cartesian_direct demonstr bodyforcebas method coupl sub app solut master app solut solut compar d_volumetric_cartesian solut accur coupledforcebas approach slight comput perform hit cylindr d_volumetric_cylindr basic coupl master sub app share cylindr physic space mesh use file _cyltete_ found _exampl _ main moos framework master app provid field valu sub app perform calcul sub app solut field transfer back coupl master app solut approach coupl sub app solut mast app via recommend functionseriestoauxcoupledforc approach d_volumetric_cylindrical_subapp_mesh_refin demonstr meshagnost fx method solv exact problem d_volumetric_cylindr time mesh adapt enabl sub app mean sub app mesh constantli chang throughout simul solut compar d_volumetric_cylindr _exodus_ output enabl sub app mesh chang visual ensur sub app mesh chang throughout solut modulesstochastic_toolsindexmd trainer system overview object within trainer block deriv surrogatetrain design creat train data use model see surrogatesindexmd creat surrogatetrain creat trainer new object inherit surrogatetrain deriv generaluserobjectmd surrogatetrain overrid execut function loop row given samplersamplersindexmd specifi paramtrainersnearestpointtrainersampl paramet list surrogatetrainerc revoidssurrogatetrainerexecut method execut per execut flag see setupinterfacemd processor three virtual function deriv class overrid list surrogatetrainerh startprotect endposttrain includestartfals includeendtru pretrain call sampler loop typic use resiz variabl given number data point train call within sampler loop member variabl _local_row _row declar gettrainingdata updat posttrain call sampler loop typic use mpi commun gather train data order eas gather requir data need train surrogatetrain includ api get report data take care necessari size check distribut data index idea behind emul element loop behavior moos object instanc kernel valu _u correspond solut element data referenc gettrainingdata correspond valu data sampler row return refer use train function four function deriv class call gather train data list surrogatetrainerh starttraining_data_begin endtraining_data_end includestartfals gettrainingdatatconst reporternam rname get vector train data report valu type stdvectort whose name defin rname getsamplerdata simpli return vector sampler row declar train data idtrainingdata model data must declar object constructor use declaremodeldata method defin follow desir type provid templat argument name data first input paramet second option provid initi valu train data name provid arbitrari use model object design work train data see surrogatesindexmd list surrogatetrainerh startmoosedocs_begin endmoosedocs_end includestartfals method return refer desir type popul aforement train method exampl polynomialchaostrainermd trainer object scalar valu order store store declar refer desir type header list polynomialchaostrainerh line_ord within sourc declar refer initi declar method includ data initi list polynomialchaostrainerc line_orderdeclar train data system leverag restartrestartablemd within moos data store arbitrari type automat use restart simul output mdoel data train model data output binari file use surrogatetraineroutputmd object exampl input file syntax follow input file snippet add polynomialchaostrainermd object train pleas refer document individu model detail list poly_chaosmain_d_mci blocktrain syntax list trainer objectstru actionsfals subsystemsfals syntax list trainer objectsfals actionsfals subsystemstru syntax list trainer objectsfals actionstru subsystemsfals sampler system samplerssamplermd object moos design gener arbitrari set data sampl number distribut object sampler oper return vector stdvectorr matrix libmeshdensematrixr one three method getnextlocalrow method return singl row complet sampl matrix prefer method access sampl data sinc memori footprint limit singl row rather potenti larg matric method method use follow c dof_id_typ getlocalrowbegin getlocalrowend stdvectorr row getnextlocalrow getlocalsampl method return subset row sampl matrix current processor matrix popul demand store ensur low memori footprint prefer method access sampl data getsampl method return complet sampl matrix sampler object matrix popul ondemand store sinc often larg thu consum signific amount memori gener method avoid favor getlocalsampl system design row matrix repres complet set sampl pass subappl via samplertransientmultiappmd samplerfullsolvemultiappmd surrog system overview stochast tool modul contain system train run surrog model object inherit surrogatemodel class ad simul use surrog block input file surrogatemodel object standalon util design directli call object similar fashion moos function objectsfunctionsindexmd refer usingmodel inform creat surrogatemodel model creat inherit surrogatemodel overrid evalu method method also call object requir data howev model class implement arbitrari interfac need use surrogatemodel idusingmodel model object obtain object use getsurrogatemodel getsurrogatemodelbynam method first expect input paramet name desir object name determin later function simpli accept actual name object exampl polynomialchaosreportermd object requir polynomialchaosmd object header refer desir model declar sourc refer initi get method list polynomialchaosreporterh linestdvectorconst polynomialchao list polynomialchaosreporterc linegetsurrogatemodel get train data idtrainingdata train data comput trainer objecttrainersindexmd gather use getmodeldata method templat argument give data type singl argument name train data name match name given associ train object exampl order mention polynomialchaostrainermd need actual model header constant refer desir type declar refer initi sourc list polynomialchaosh line_ord list polynomialchaosc line_orderget train data suppli one two way use file directli trainer file base data initi happen use paramsurrogatespolynomialchaosfilenam suppli file must declar data name type get method use within class refer surrogatetraineroutputmd inform also possibl use data directli trainer object use paramsurrogatespolynomialchaostrain paramet method directli share train data trainer updat data model refer data exampl input file syntax follow input file snippet add polynomialchaosmd surrog model evalu pleas refer document individu model detail list poly_chaosmain_d_mci blocksurrog syntax list surrog objectstru actionsfals subsystemsfals syntax list surrog objectsfals actionsfals subsystemstru syntax list surrog objectsfals actionstru subsystemsfals distribut system distribut object moos functionfunctionsindexmdlik method call ondemand object maintain state custom distribut object creat typic fashion creat c class inherit distribut base class three function requir overridden pdf cdf quantil pdf method must return valu probabl densiti function pdf distribut similarli cdf method must return valu cumul distribut function cdf final quantil method must return invers cdf commonli refer quantil functionhttpsenwikipediaorgwikiquantile_funct base class distribut system distribut includ moos howev system design use stochast tool modulemodulesstochastic_toolsindexmd modul includ implement mani common distribut exampl uniformdistributionh header uniformdistributionuniformdistributionmd overrid aforement method list modulesstochastic_toolsincludedistributionsuniformdistributionh iduniformdistributionh captionhead uniformdistribut object includ three requir method overrid creat distribut util distribut object within input file first object must creat secondli object must defin use distribut distribut object may creat input file within distribut block shown list modulesstochastic_toolstesttestsdistributionsuniformi blockdistribut use distribut object must inherit distributioninterfac provid method getdistribut method accept name input paramet ad via call addparamdistributionnam method gener applic develop use method getdistributionbynam method accept explicitli defin name distribut gener applic develop util method method return refer distribut object call variou method object discuss previous syntax list distribut objectstru actionsfals subsystemsfals syntax list distribut objectsfals actionsfals subsystemstru syntax list distribut objectsfals actionstru subsystemsfals stochastictool system stochastictool block provid paramet provid conveni run stochast simul exampl block present automat creat necessari object run paramet studi style stochast analysi main input file perform solv simpli spawn simul pleas refer examplesparameter_studymd exampl list examplesparameter_studymaini blockstochastictool syntax paramet stochastictool syntax list stochastictool objectstru actionsfals subsystemsfals syntax list stochastictool objectsfals actionsfals subsystemstru syntax list stochastictool objectsfals actionstru subsystemsfals covari system overview surrog model allow covari function often refer kernel function simpli kernel project input paramet differ input space gaussian process surrog exampl surrog covari function defin covari block creat covari function covari function creat inherit covaraincefunctionbas overrid method base class use covari function trainer within surrogatetrain framework stochast tool modul covari function often use within trainer object trainer inherit covarianceinterfac class enabl determin covari object name list gaussianprocesstrainerh lineclass gaussianprocesstrain mani trainer use covari function compat mani differ type covari function polymorph c pointer often use list gaussianprocesstrainerh linecovariancefunctionbas covari found name use interfac list gaussianprocesstrainerc linecovariance_funct surrog covari function may also use surrog conveni surrog abl determin correct covari use train step surrog given trainer load file covari function link via trainer object list surrogatesgaussianprocessc startcovariance_funct end nullptr includeendtru surrog load train data file loadcovariancedataactionmd automat reconstruct covari object use train phase call surrog setupcovari method make linkag recreat done store buildhyperparammap trainer store hyperparamet use surrog exampl input file syntax list testtestssurrogatesgaussian_processgp_squared_exponential_trainingi blockcovari syntax list covari objectstru actionsfals subsystemsfals syntax list covari objectsfals actionsfals subsystemstru syntax list covari objectsfals actionstru subsystemsfals montecarlo montecarlo object sampl provid distribut use tradit mont carlohttpsenwikipediaorgwikimonte_carlo_method sampl exampl input syntax list modulesstochastic_toolstesttestssamplersmonte_carlomonte_carlo_uniformi blocksampl syntax paramet samplersmontecarlosampl syntax input samplersmontecarlosampl syntax children samplersmontecarlosampl nestedmontecarlo syntax descript samplersnestedmontecarlo overview sampler meant emul nest loop mont carlo sampl column sampl matrix sampl frequenc base loop part column associ inner loop sampl row column associ outer loop sampl inner loop complet number row loop defin paramsamplersnestedmontecarlonum_row paramet first entri outer loop last entri inner loop entri paramet must associ set distribut specifi paramsamplersnestedmontecarlodistribut defin sampler column exampl input syntax follow exampl defin mont carlo sampler three nest loop outer loop sampl middl inner column defin distribut first three associ outer loop second middl last one inner list modulesstochastic_toolstesttestssamplersnested_monte_carlonested_monte_carloi blocksampl result matrix column row time time shown result fifth column chang everi row third fourth column chang everi row firth column chang everi row list modulesstochastic_toolstesttestssamplersnested_monte_carlogoldnested_monte_carlo_out_data_csv syntax paramet samplersnestedmontecarlo syntax input samplersnestedmontecarlo syntax children samplersnestedmontecarlo cartesianproductsampl syntax descript samplerscartesianproductsampl overview cartesian product creat sampl possibl combin set valu z time b time cdot time l time exampl given vector vecx_ vecx_ vecx_ result cartesian product z equat z beginbmatrix endbmatrix implement cartesianproductsampl util refer lazi scheme calcul z matrix use algorithm simpli mean given row n matrix comput directli without need comput valu prior entri sampl work effici parallel creat distribut sampl data equat zn beginbmatrix fracnbccdotslm textrmmod b fracnccdotslm textrmmod b vdot l fracnm textrmmod l fracn textrmmod endbmatrix exampl input file syntax follow input file snippet demonstr creation cartesianproductsampl object three variabl variabl provid use triplet provid start point stepsiz number step exampl triplet result list cartesian_productgridi blocksamplerssampl result cartesian product provid output file shown list cartesian_productgoldgrid_out_data_csv syntax paramet samplerscartesianproductsampl syntax input samplerscartesianproductsampl syntax children samplerscartesianproductsampl sobol sobol sampler object gener necessari matric sampl perform variancebas sensit analysi refer citesaltellimak complet detail syntax paramet samplerssobolsampl syntax input samplerssobolsampl syntax children samplerssobolsampl bibtex bibliographi quadraturesampl syntax descript samplersquadraturesampl overview numer quadratur method select specif point weight integr function beginequ int_abyxfxdx sum_qn_qw_qyx_q endequ yx function integr fx weight function n_q number quadratur point w_q x_q quadratur weight point respect sampler gener point weight base weight function desir integr order uniform weight function use gausslegendr quadratur normal weight function use gausshermit quadratur two quadratur exactli integr polynomi order n_q multidimension quadratur follow option avail set paramsamplersquadraturesamplersparse_grid none default tensor grid smolyak smolyak spars grid clenshawcurti clenshawcurti spars grid gener multidimension quadratur grid combin quadratur exampl tensor grid describ equat mathcaladn_q q_n_q otimesdotsotim q_dn_q number dimens q_dj onedimens quadratur set dimens j point contrast smolyak clenshawcurti grid describ equat mathcaladn_q sum_n_qd leq bmi leq n_q n_qdbmi binomn_qdn_qdbmi leftq_i_ otimesdotsotim q_di_dright bmi sum_dd i_d see citegerstnernumer detail regard spars grid tensor grid tensor grid creat creat take cartesian product point kroeneck product weight dimens full order quadratur set result number point n_qd number dimens current gauss quadratur type use tensor grid tensornpt show number point sever differ n_q tensorgrid show point tensor grid gausslegendr quadratur n_q tabl idtensornpt captionresult number grid point tensor grid n_q media tensor_gridsvg idtensorgrid smolyak spars grid smolyak spars grid multidimension quadratur meant integr complet monomi type grid effect use polynomialchaosmd idea instead take cartesian product full order quadratur use combin lower order quadratur complet monomi space smolyak spars grid scheme reduc number point significantli high dimension space smolyaknpt show number point sever differ n_q smolyakgrid show point smolyak grid gausslegendr quadratur n_q tabl idsmolyaknpt captionresult number grid point smolyak spars grid n_q media smolyak_gridsvg idsmolyakgrid clenshawcurti spars grid clenshawcurti cc grid similar smolyak spars differ smolyak grid use gauss quadratur cc grid appropri use cc quadratur onedimens gauss quadratur accur converg rate cc nest point mean high dimens cc grid might accur fewer number sampl point ccnpt show number point sever differ n_q ccgrid show point cc grid n_q tabl idccnpt captionresult number grid point clenshawcurti spars grid n_q media cc_gridsvg idccgrid implement sampler use input distribut creat multidimension quadratur arbitrari order sampler use sampl subapp anoth object use result sampl quadratur weight sampler integr quantiti exampl input file syntax first distribut made defin weight function integr list poly_chaosmain_d_quadi blockdistribut quadraturesampl use distribut creat quadratur n_q order point definit order import use polynomi chao list poly_chaosmain_d_quadi blocksamplersquadratur syntax paramet samplersquadraturesampl syntax input samplersquadraturesampl syntax children samplersquadraturesampl adapt import sampl ai syntax descript samplersadaptiveimport descript ai use estim small failur probabl p_f use comput expens finit element model effici implement correctli ai result order mangitud reduct number call model compar crude mont carlo simul exampl crude mont carlo requir e call model estim p_f coeffici variat cov percent ai could requir e call model cov ai two phase learn phase ai algorithm learn import distribut input paramet like caus model failur sampl phase sampl learn import distribut version ai propos citeaunew implement moos slight modif instead use kernel densiti character import distribut normal densiti use due simplic robust brief algorithm detail learn import distribut input paramet markov chain mont carlo algorithm specif metropoli algorithm use user suppli initial_valu vector input paramet would result model failur markov chain initi suffici sampl failur region markov chain oper standard normal space input paramet transform normal distribut mean standard deviat center around current sampl mathbfx new sampl mathbfx propos consid propos distribut normal accept ratio comput beginequ labeleqnais_ alpha fracnmathbfxnmathbfx endequ n standard normal distribut propos sampl accept probabl alpha manner suffici sampl gener failur region enough sampl result model failur simul imporat distribut fit sampl normal distribut fit input paramet independ sampl import distribut made use independ normal distribut differ work citeaunew use multidimension kernel densiti distribut howev experi suggest normal distribut robust wide varieti case sampl import distribut obtain equat equat citeaunew use estim p_f cov respect figur ais_sch present schemat ai method media adaptive_importance_samplersvg stylewidth idais_sch captionschemat ai method interact adaptivemontecarlodecis class ai algorithm propos step decisionmak step whether accept propos sampl ai class propos new sampl adaptivemontecarlodecis class use decisionmak pleas refer adaptivemontecarlodecisionadaptivemontecarlodecisionmd detail exampl input syntax input file use ai algorithm somewhat similar sampler class except three differ first sampler block present list modulesstochastic_toolstesttestssamplersadaptiveimportancesampleraisi blocksampl proposal_std propos standard deviat standard normal space use learn phase output_limit limit valu greater character model failur num_samples_train number sampl learn import distribut std_factor factor multipli standard deviat import sampl character import distribut use_absolute_valu use failur defin nonexceed rather exceed inputs_report output_report report valu transfer inform ai sampler adaptivemontecarlodecis report second report block present adaptivemontecarlodecis report list modulesstochastic_toolstesttestssamplersadaptiveimportancesampleraisi blockreport output report input report initi third execution block present list modulesstochastic_toolstesttestssamplersadaptiveimportancesampleraisi blockexecution notic unlik sampler class type transient num_step code block total number sampl requir learn phase sampl plu import sampl phase sampl output format ai sampler output csv json file howev json output prefer output format postprocess sampler data adapt mont carlo algorithm json file consist input output_requir correspond time_step input uncertain input paramet model output_requir indic function whether model output exceed output_limit time_step sampl index first num_samples_train time step sampl learn phase use estim p_f cov next num_step num_samples_train requir import sampl use estim p_f cov syntax paramet samplersadaptiveimport syntax input samplersadaptiveimport syntax children samplersadaptiveimport latinhypercub syntax descript samplerslatinhypercub overview sampler implement latin hypercub strategi present citemckaycomparison wish ensur also input variabl x_k portion distribut repres input valu divid rang x_k n strata equal margin probabl ln sampl stratum let sampl x_kjjlldotsn form x_k compon klldotsk x_ii ldotsn compon variou x_k match random exampl input file syntax follow input file creat latin hypercub sampl two uniform distribut sampl distribut list latin_hypercubei blockdistribut sampler graph hypercub show latin hypercub sampl gener input file snippet grid line defin associ probabl base bin plot scatter filenamegoldlatin_hypercube_out_data_csv idhypercub captionlatin hypercub sampl data tick mark defin probabl interv dataxsample_ ysample_ modemark layoutxaxistitleuniform linewidth showlin tickmodearray tickval yaxistitleuniform b linewidth showlin tickmodearray tickval width height fontsiz marginl syntax paramet samplerslatinhypercub syntax input samplerslatinhypercub syntax children samplerslatinhypercub csvsampler csv sampler object gener sampl user provid csv file follow assumpt made csv file sampl numer contain string column correspond paramet sampl therefor multipl paramet sampl csv file column number row number row file number sampl paramet sampler either read entir file use read specif column use column_indic column_nam input paramet see exampl syntax column_indic refer indic column column_nam refer header name column csv file exampl input syntax exampl sampler read file samplescsv contain sampl variou paramet input read column sampl file list modulesstochastic_toolstesttestssamplerscsvcsv_sampler_indicesi blocksampl anoth exampl sampler read column column name b list modulesstochastic_toolstesttestssamplerscsvcsv_sampler_namesi blocksampl sampl file use exampl samplescsv list list modulesstochastic_toolstesttestssamplerscsvsamplescsv syntax paramet samplerscsvsampl syntax input samplerscsvsampl syntax children samplerscsvsampl podreducedbasissurrog syntax descript surrogatespodreducedbasissurrog overview surrog take reduc oper base podreducedbasistrainermd assembl reduc equat system new paramet sampl boldsymbolmu equat idrom_affine_decomp leftsum limits_in_a fa_iboldsymbolmu textbfa_irrighttextbfcboldsymbolmu sum limits_in_b fb_iboldsymbolmu textbfb_ir follow reduc equat system solv textbfcboldsymbolmu approxim solut reconstruct equat idfull_sol_approxim textbfuboldsymbolmu approx boldsymbolphitextbfcboldsymbolmu must mention case dirichlet boundari condit either nodal weak form contribut textbfa_dirr textbfb_dirr well howev case penalti paramet gamma use enforc boundari condit reduc order level therefor slightli modifi equat system written equat idrom_affine_decomp_fin leftsum limits_in_a fa_iboldsymbolmu textbfa_irgamma fa_dirboldsymbolmu textbfa_dirrrighttextbfcboldsymbolmu sum limits_in_b fb_iboldsymbolmu textbfb_irgamma fb_dirboldsymbolmu textbfb_dirr magnitud gamma set use paramsurrogatespodreducedbasissurrogatepenalti paramet input file import note increas magnitud gamma condit number reduc equat may deterior therefor overli high valu recommend import mention size reduc system modifi chang number base per variabl input file one use paramsurrogatespodreducedbasissurrogatechange_rank paramsurrogatespodreducedbasissurrogatenew_rank input paramet featur make possibl test accuraci surrog differ subspac size without need rerun train procedur detail implement approxim solut given podrb surrog reconstruct use two differ approach approach implement overload evaluatesolut function one call evaluatesolut simpl paramet sampl input argument list podreducedbasissurrogateh ress get reduc solut given paramet sampl case approxim solut vector reconstruct store within surrog object qoi given variabl acquir use getnodalqoi function good exampl approach implement execut function podsurrogatetesterc list podsurrogatetesterc repodsurrogatetesterexecut second option suppli refer extern vector evaluatesolut togeth variabl name list podreducedbasissurrogateh ress get reduc solut given paramet sampl reconstruct case surrog tri reconstruct approxim solut given variabl vector option use coupl podrb surrog fullord object exampl input file syntax creat pod reduc basi surrog model one use follow syntax list pod_rbinternalsurri blocksurrog visibl reduc oper basi vector podreducedbasistrainermd save trainer_out_pod_rbrd surrog model construct load necessari inform sampl uncertain paramet object use samplerssamplersindexmd block list pod_rbinternalsurri blocksampl final vector postprocessor type podsurrogatetest creat extract approxim valu nodal maximum variabl u case list pod_rbinternalsurri blockvectorpostprocessor syntax paramet surrogatespodreducedbasissurrog syntax input surrogatespodreducedbasissurrog syntax children surrogatespodreducedbasissurrog polynomialregressionsurrog syntax descript surrogatespolynomialregressionsurrog overview surrog model take vector contain model coeffici textbfc polynomialregressiontrainermd comput valu qoi new paramet sampl simpli evalu equat idpoly_exp hattextbfytextbfx sum limits_kn_pptextbfx textbfi_kc_k textbfx denot coordin new sampl paramet space import mention unlik nearestpointsurrogatemd surrog model requir evalu function eg distanc train point determin new valu textbfx thu larg train data base use polynomialregressionsurrog repeat run faster exampl input file syntax creat surrog model use polynomi regress one use follow syntax list polynomial_regressionevaluatei blocksurrog visibl data polynomialregressiontrainermd save train_out_trainrd surrog model construct load necessari inform one want train evalu input follow syntax use list polynomial_regressiontrain_and_evaluatei blocksurrog train id polynomialregressiontrainermd object sampl surrog model object use sampler block list polynomial_regressionevaluatei blocksampl final report type evaluatesurrogatemd creat extract approxim valu qoi list polynomial_regressionevaluatei blockreport syntax paramet surrogatesnearestpointsurrog syntax input surrogatesnearestpointsurrog syntax children surrogatesnearestpointsurrog exponentialcovari syntax descript covarianceexponentialcovari overview simpl exponenti covari function construct equat kxxprime sigma_f exp left r_ellxxprimegamma right sigma_n delta_xxprim valid gamma leq r_ellxxprim scale distanc base length factor vecel defin equat r_ellxxprim sqrt sum_n left fracx_i xprime_iell_i right gamma equival squaredexponentialcovariancemd save factor absorb vecel hyperparamet tabl idhyperpramt captionhyperparamet exponenti covari function variabl domain descript vecel mathbbr_ n length factor correspond input paramet sigma_f mathbbr_geq signal varianc sigma_n mathbbr_geq nois varianc gamma exponenti factor see gaussian process trainergaussianprocesstrainermd document depth explan vecel sigma_f sigma_n hyperparamet exampl input file syntax list testtestssurrogatesgaussian_processgp_exponentiali blockcovari syntax paramet covarianceexponentialcovari syntax input covarianceexponentialcovari syntax children covarianceexponentialcovari podreducedbasistrain syntax descript trainerspodreducedbasistrain overview trainer intrus proper orthogon decomposit pod base reduc basi rb method citepinnaumodel implement unlik nonintrus surrog polynomi regress polynomi chao expans capabl consid physic fullord problem surrog level therefor often refer physicsbas still datadriven approach intrus howev decreas rang problem method use current version surrog model deal parameter scalarvalu linear steadyst pde affin paramet depend class respons two step gener surrog model gener reduc subspacesgenerationofreducedsubspac gener reduc operatorsgenerationofreducedoper must mention podrb literatur train phase often refer offlin phase upcom section two express use interchang parameter linear steadyst pde detail abovement step discuss short overview given problem consid scalarvalu linear steadyst pde express oper notat equat idfom_oper mathcalau mathcalb u solut mathcala linear oper mathcalb sourc term linear oper sourc term may depend uncertain paramet denot mu_iin_mu organ paramet vector boldsymbolmu mu_mu_n_mut therefor fom_oper express equat idfom_parameter mathcalaboldsymbolmuu mathcalbboldsymbolmu also mean solut function paramet uuboldsymbolmu make effici surrog oper mathcalaboldsymbolmu sourc mathcalbboldsymbolmu affin paramet depend equat mathcalaboldsymbolmu sum limits_in_a fa_iboldsymbolmumathcala_i textquad quad mathcalbboldsymbolmu sum limits_in_b fb_iboldsymbolmumathcalb_i word oper decompos sum product parameterdepend scalar function parameterindepend constitu oper plug decomposit back fom_parameter problem take follow form equat idfom_affine_decomp leftsum limits_in_a fa_iboldsymbolmumathcala_irightu sum limits_in_b fb_iboldsymbolmumathcalb_i therefor start construct podrb surrog model user must identifi decomposit first input level done util tag system constitu oper separ vector tag creat tag need suppli trainer object paramtrainerspodreducedbasistrainertag_nam input paramet furthermor indic shall ad tag paramtrainerspodreducedbasistrainertag_typ input show tag correspond sourc term mathcalb_i oper mathcala_i last step system discret space use finit element method obtain equat idfom_affine_decomp_discret leftsum limits_in_a fa_iboldsymbolmutextbfa_irighttextbfu sum limits_in_b fb_iboldsymbolmutextbfb_i textbfa_i textbfb_i finit element matric vector textbfu denot vector contain valu degre freedom model refer fullord model fom subsequ section furthermor let textbfuboldsymbolmu denot solut vector obtain solv fom_affine_decomp_discret boldsymbolmuboldsymbolmu gener reduc subspac even though explicitli state previou subsect textbfu may contain solut multipl variabl henc express textbfutextbfu_textbfu_n_v n_v total number variabl assum variabl n_iin_v spatial degre freedom thu size fullord system sumlimits_in_vn_i first step process fom_affine_decomp_discret solv use n_ differ paramet sampl solut vector variabl defin paramtrainerspodreducedbasistrainervar_nam input paramet save snapshot matric equat idsmatric textbfs_i textbfu_iboldsymbolmu_textbfu_iboldsymbolmu_n_ implement solut obtain podfullsolvemultiappmd use podsamplersolutiontransfermd snapshot matric store within trainer object next step process use snapshot creat reduc subspac variabl done perform pod snapshot matric consist follow four step variabl creation correl matric correl matric textbfc_i comput use snapshot matric textbfc_itextbfs_it textbfw_i textbfs_i textbfw_i weight matrix moment textbfw_i textbfi support textbfi ident matrix eigenvalu decomposit correl matric eigenvalu decomposit correl matric obtain textbfc_i textbfv_iboldsymbollambda_itextbfvt_i matrix textbfv_i matrix boldsymbollambda_i contain eigenvector eigenvalu textbfc_i respect determin dimens reduc subspac base magnitud eigenvalu lambda_ikkn_ boldsymbollambda_i one comput mani basi function need reconstruct snapshot given accuraci rank subspac r_i determin equat idev_determin r_i argminlimits_leq r_ileq n_ leftfracsum_kr_ilambda_iksum_kn_slambda_ik tau_iright tau given paramet describ allow error reconstruct snapshot suppli trainer use paramtrainerspodreducedbasistrainererror_r input paramet cours rank determin manual well inform option see podreducedbasissurrogatemd reconstruct basi vector variabl eigenvalu eigenvector correl matric use togeth snapshot equat idbase_definit phi_ikfracsqrtlambda_iksumlimits_jn_stextbfv_ikjs_ij phi_ik kth kr_i basi function reduc subspac variabl textbfu_i moreov textbfv_ikj denott jth element kth eigenvector correl matrix textbfc_i import rememb phi_ik global support space shall mistaken local basi function phi finit element approxim global basi vector also refer pod mode two express use interchang must note basi function also store trainer object final solut differ variabl fullord model approxim parameterdepend linear combin basi function equat idsol_approxim textbfu_iboldsymbolmuapproxsumlimits_kr_iphi_ikc_ikboldsymbolmu textquad quad textbfu_iboldsymbolmuapproxboldsymbolphi_itextbfc_iboldsymbolmu boldsymbolphi_iphi_iphi_ir_i matrix pod mode column textbfc_iboldsymbolmu c_iboldsymbolmuc_ir_iboldsymbolmut expans coeffici essenc coeffici describ coordin approxim solut reduc subspac approxim full solut vector textbfuboldsymbolmu use compon textbfu_iboldsymbolmu segreg approach use follow equat idfull_sol_approxim textbfuboldsymbolmu left beginarrayc textbfu_ vdot textbfu_n_v endarrayright approx left beginarrayc boldsymbolphi_textbfc_boldsymbolmu vdot boldsymbolphi_n_stextbfc_n_sboldsymbolmu endarrayright left beginarraycccc boldsymbolphi_ cdot boldsymbolphi_ cdot vdot vdot ddot vdot cdot boldsymbolphi_n_ endarrayright left beginarrayc textbfc_boldsymbolmu textbfc_boldsymbolmu vdot textbfc_n_sboldsymbolmu endarrayright boldsymbolphitextbfcboldsymbolmu import mention approxim unknown element textbfcboldsymbolmu vector case size vector sumlimits_in_vr_i consider smaller size origin solut vector sumlimits_in_vn_i gener reduc oper gener reduc opertor full_sol_approxim plug fom_affine_decomp_discret first equat idfom_affine_decomp_discrete_approx leftsum limits_in_a fa_iboldsymbolmutextbfa_irightboldsymbolphitextbfcboldsymbolmu sum limits_in_b fb_iboldsymbolmutextbfb_i sinc size textbfc smaller size textbfu equat underdetermin solv problem galerkin project use system equat idrom_affine_decomp_intro boldsymbolphitleftsum limits_in_a fa_iboldsymbolmutextbfa_irightboldsymbolphitextbfcboldsymbolmu boldsymbolphitsum limits_in_b fb_iboldsymbolmutextbfb_i pull basi matric summat follow form obtain equat idrom_affine_decomp_interm leftsum limits_in_a fa_iboldsymbolmuboldsymbolphittextbfa_iboldsymbolphirighttextbfcboldsymbolmu sum limits_in_b fb_iboldsymbolmuboldsymbolphittextbfb_i reduc oper textbfa_irboldsymbolphittextbfa_iboldsymbolphi sourc term textbfb_irboldsymbolphittextbfb_i precomput basi function avail therefor reduc equat system solv obtain textbfcboldsymbolmu equat idrom_affine_decomp_fin leftsum limits_in_a fa_iboldsymbolmutextbfa_irrighttextbfcboldsymbolmu sum limits_in_b fb_iboldsymbolmutextbfb_ir import note equat system size sumlimits_in_vr_i time sumlimits_in_vr_i therefor solv much faster origin fullord system size sumlimits_in_vn_i time sumlimits_in_vn_i trainer object assembl reduc oper sourc term transfer podreducedbasissurrogatemd respons assembl solv rom_affine_decomp_fin reconstruct approxim solut use full_sol_approxim need comput reduc oper consist two step current implement comput effect fullord oper global basi function step includ creation textbfa_iboldsymbolphi practic done plug basi function podfullsolvemultiappmd object evalu residu given vector tag defin use paramtrainerspodreducedbasistrainertag_nam input argument tag residu transfer back trainer use podresidualtransfermd object case residu kernel contain contribut system matrix sourc term eg dirichlet bc time deriv certain inputlevel trick use separ project residu vector step consist comput boldsymbolphittextbfa_iboldsymbolphi inner product final note must emphas even though obtain snapshot creat reduc oper comput expens procedur carri initi invest everi new evalu new paramet sampl involv summat scale small dens matric low comput cost note parallel train phase implement semiparallel manner mean snapshot gener correl matrix gener base gener comput reduc oper execut parallel howev eigenvalu eigenvector correl matric obtain serial therefor phase may experi consider slowdown number snapshot larg exampl input file syntax get snapshot four essenti block ad main input file first sampler defin sampler gener realiz boldsymbolmu sampl fed podfullsolvemultiappmd defin multapp block capabl run simul paramet solut vector snapshot run ad trainer podsamplersolutiontransfermd defin transfer block import mention multiapp transfer object need know trainer ensur use paramtransferspodsamplersolutiontransfertrainer_nam input argument number collect snapshot defin sampler object use paramsamplerslatinhypercubenum_row paramet list pod_rbinternaltraineri blocksampl list pod_rbinternaltraineri blockmultiapp global basi function plug back podfullsolvemultiappmd new podsamplersolutiontransfermd residu evalu residu transfer back trainer use podresidualtransfermd list pod_rbinternaltraineri blocktransf final podreducedbasistrainermd defin trainer block requir name variabl paramtrainerspodreducedbasistrainervar_nam one wish creat reduc basi name tag paramtrainerspodreducedbasistrainertag_nam associ affin compon fullord oper addit vector specifi tag correspond linear oper sourc term need ad well paramtrainerspodreducedbasistrainertag_typ avail tag type tabl tag type descript op oper act solut vector ie matrix src oper act solut vector ie sourc vector op_dir dirichlet oper act solut vector ie dirichlet penalti matrix src_dir dirichlet oper act solut vector ie dirichlet pensalti sourc vector specifi allow error snapshot reconstruct reach variabl tau_i one need specifi paramtrainerspodreducedbasistrainererror_r follow exampl paramtrainerspodreducedbasistrainerexecute_on paramet set timestep_begin final mean begin train creat basi function end creat reduc oper list pod_rbinternaltraineri blocktrain syntax paramet trainerspodreducedbasistrain syntax input trainerspodreducedbasistrain syntax children trainerspodreducedbasistrain squaredexponentialcovari syntax descript covariancesquaredexponentialcovari overview wide use gener purpos isotrop covari function equat kxxprime sigma_f exp left fracr_ellxxprim right sigma_n delta_xxprim r_ellxxprim scale distanc base length factor vecel defin equat r_ellxxprim sqrt sum_n left fracx_i xprime_iell_i right hyperparamet tabl idhyperpramt captionhyperparamet squar exponenti covari function variabl domain descript vecel mathbbr_n length factor correspond input paramet sigma_f mathbbr_geq signal varianc sigma_n mathbbr_geq nois varianc see gaussian process trainergaussianprocesstrainermd document depth explan vecel sigma_f sigma_n hyperparamet exampl input file syntax describ includ exampl use squaredexponentialcovari object list testtestssurrogatesgaussian_processgp_squared_exponentiali blockcovari syntax paramet covariancesquaredexponentialcovari syntax input covariancesquaredexponentialcovari syntax children covariancesquaredexponentialcovari maternhalfintcovari syntax descript covariancematernhalfintcovari overview special case matern class covari function nu hyperparamet take half integ valu substitut posit integ p nu use nu p covari function given equat kxxprime sigma_f exp left sqrtp r_ellxxprim right fracpp sum_ip left fracpii pi left sqrtp r_ellxxprim rightpi right sigma_n delta_xxprim r_ellxxprim scale distanc base length factor vecel defin equat r_ellxxprim sqrt sum_n left fracx_i xprime_iell_i right hyperparamet tabl idhyperpramt captionhyperparamet matern covari function variabl domain descript vecel mathbbr_n length factor correspond input paramet sigma_f mathbbr_geq signal varianc sigma_n mathbbr_geq nois varianc p mathbbn see gaussian process trainergaussianprocesstrainermd document depth explan vecel sigma_f sigma_n hyperparamet exampl input file syntax list testtestssurrogatesgaussian_processgp_matern_half_inti blockcovari syntax paramet covariancematernhalfintcovari syntax input covariancematernhalfintcovari syntax children covariancematernhalfintcovari gaussianprocess syntax descript surrogatesgaussianprocess theori use object provid within discuss gaussianprocesstrainermd train object desir aspect gaussian process model addit return predict valu evalu point also provid measur uncertainti form standard deviat facilit overload evalu function set standard deviat refer provid list surrogatesgaussianprocessc linegaussianprocessevaluateconst stdvectorr x real std_dev syntax paramet surrogatesgaussianprocess syntax input surrogatesgaussianprocess syntax children surrogatesgaussianprocess nearestpointsurrog syntax descript surrogatesnearestpointsurrog overview nearestpointsurrog arguabl simplest surrog model implement first surrog train collect sampl point result full model surrog evalu function take point find train point minimum euclidean distanc equat vecx_min argmin_vecxinmathbfxleftsum_ddx_d x_mathrmindright vecx_min train point closest input point vecx_mathrmin mathbfx array sampl point train data number column sampler evalu function return full model result associ vecx_min exampl input file syntax see nearestpointtrainermd detail regard train phase surrog surrog model first load data train run list nearest_pointevaluatei blocksurrog sampler creat creat sampl point list nearest_pointevaluatei blocksampl report use evalu surrog model point taken sampler list nearest_pointevaluatei blockreport syntax paramet surrogatesnearestpointsurrog syntax input surrogatesnearestpointsurrog syntax children surrogatesnearestpointsurrog polynomialchaostrain syntax descript trainerspolynomialchaostrain theori use object provid within discuss polynomialchaosmd model object syntax paramet trainerspolynomialchaostrain syntax input trainerspolynomialchaostrain syntax children trainerspolynomialchaostrain gaussianprocesstrain gaussian process machin learn citerasmussengaussian provid well written discuss gaussian process read highli encourag chapter cover topic present far greater detail depth rigor document meant give practic insight user begin creat surrog model gaussian process given set input xlbracevecx_ cdot vecx_m rbrace made observ correspond output ylbracevecy_ cdot vecy_m rbrace use system fx given anoth set input x_starlbracevecx_star cdot vecx_star n rbrace wish predict associ output y_starfx_star without evalu fx_star presum costli paramet covari overli simplist term gaussian process model driven idea trial close input paramet space close output space close paramet space driven covari function kvecxvecx also call kernel function confus moos framework kernel covari function use gener covari matrix complet set paramet x cup x_star lbracevecx_ cdot vecx_m vecx_star cdot vecx_star n rbrace interpret blockwis variou covari matric x x_star equat beginalign mathbfkx cup x_starx cup x_star left beginarraycccccc kvecx_vecx_ cdot kvecx_vecx_m kvecx_vecx_star cdot kvecx_vecx_star n vdot vdot vdot vdot vecx_mvecx_ cdot kvecx_mvecx_m kvecx_mvecx_star cdot kvecx_mvecx_star n hline kvecx_star vecx_ cdot kvecx_star vecx_m kvecx_star vecx_star cdot kvecx_star vecx_star n vdot vdot vdot vdot kvecx_star nvecx_ cdot kvecx_star nvecx_m kvecx_star nvecx_star cdot kvecx_star nvecx_star n endarray right left beginarraycc mathbfkxx mathbfkxx_star hline mathbfkx_starx mathbfkx_starx_star endarray right left beginarraycc mathbfk mathbfk_star hline mathbfk_start mathbfk_star star endarray right endalign gaussian process model consist infinit collect function agre trainingobserv data importantli collect close form nd order statist mean varianc use surrog nomin valu chosen mean valu method broken two step definit prior distribut condit observ data gaussian process gaussian process potenti infinit collect random variabl joint distribut everi finit select random variabl collect gaussian distribut equat mathcalgpmuvecxkvecxvecx analog way multivari gaussian complet defin mean vector covari matrix gaussian process complet defin mean function covari function potenti infinit number random variabl within gaussian process correspond potenti infinit point paramet space surrog evalu prior distribut assum observ train test pull mn multivari gaussian distribut covari matrix sigma result choic covari function equat cup y_star sim mathcalnmusigma note mu sigma vector matrix respect result mean covari function appli sampl point zero mean assumpt discuss gaussian process typic present assumpt mu occur without loss gener sinc sampl made mu subtract sampl mean varieti preprocess option note trainingtest paradigm test data y_star unknown determin use mu base inform train data prior assumpt condit prior form condit avail train data perform alter mean varianc new valu mu_star sigma_star restrict set possibl function agre train data equat beginalign mu_star mu mathbfk_star mathbfkymu sigma_star mathbfk_star star mathbfk_start mathbfk mathbfk_star endalign equat y_star sim mathcalnmu_star sigma_star use surrog nomin valu typic taken mean valu diagsigma_star provid varianc use gener confid interv common hyperparamet appar decis formul choic covari function covari function contain hyperparamet form need select manner covari function set hyperparamet hyperparamet specif form present mani common covari function length factor ell vecel frequent kernel consid distanc two input paramet vecx vecxprim system singl paramet distanc often take form equat fracx xprimeel form ell factor set relev length scale distanc measur multipl input paramet consid may advantag specifi n differ length scale n paramet result vector vecel exampl distanc may calcul equat sqrt sum_in left fracx_i xprime_iell_i right use standard paramet ell interpret unit standard deviat relev paramet signal varianc sigma_f serv overal scale paramet given covari function tildek function sigma_f multipl sigma_f yield new valid covari function equat kxxprimesigma_f sigma_f tildekxxprim multipl also pull covari matrix format simpli multipli matrix form tildek equat mathbfkxxprimesigma_f sigma_f tildemathbfkxxprim nois varianc sigma_n sigma_n repres nois collect data addit sigma_n factor varianc term xxprime equat kxxprimesigma_f sigma_n sigma_f tildekxxprim sigma_n delta_xxprim matrix represent add factor sigma_n diagon noiseless matrix tildemathbfk equat mathbfkxxprimesigma_f sigma_n sigma_f tildemathbfkxxprim sigma_n mathbfi due addit sigma_n along diagon k matrix hyperparamet aid invers covari matrix reason ad small amount sigma_n may prefer even believ data nois free select covari function tabl idhyperpramt captionselect covari function covari function descript squaredexponentialcovariancemd also refer radial basi function rbf wide use gener purpos covari function serv common start point mani exponentialcovariancemd simpl exponenti covari function maternhalfintcovariancemd implement matern class covari function nu paramet take halfinteg valu syntax paramet trainersgaussianprocesstrain syntax input trainersgaussianprocesstrain syntax children trainersgaussianprocesstrain polynomialchao syntax descript surrogatespolynomialchao overview polynomi chao surrog model techniqu quantiti interest qoi depend input paramet expand sum orthogon polynomi given qoi q depend set paramet vecxi polynomi chao expans pce equat qvecxi sum_ipq_iphi_ivecxi p multidimension polynomi order q_i coeffici comput coeffici found use intrus non intrus techniqu intrus techniqu quit difficult gener comput demand sinc polynomi basi orthogon non intrus techniqu develop coeffici found perform galerkin project integr equat ideqcoeff q_i fracleftlangl qvecxiphi_ivecxirightrangleleftlanglephi_ivecxiphi_ivecxirightrangl equat leftlangl avecxi bvecxi rightrangl int_inftyinftyavecxi bvecxi fvecxi dvecxi weight function fvecxi base phi_ivecxi typic product onedimension function equat fvecxi prod_ddf_dxi_d equat qvecxi sum_ipq_iprod_ddphid_k_dixi_d weight function defin probabl densiti function paramet polynomi base distribut polynomialt list commonli use distribut correspond orthogon polynomi tabl idpolynomialt captioncommon probabl densiti function correspond orthogon polynomi distribut densiti function f_dxi polynomi phi_ixi support normal fracpiexi hermit infti infti uniform frac legendr beta fracxialphaxibetaalphabetabalphabeta jacobi exponenti exi laguerr infti gamma fracxialphaexigammaalpha gener laguerr infti express eqcoeff integr use mani differ techniqu one perform mont carlo integr equat q_i fracleftlanglephi_ivecxiphi_ivecxirightrangl fracn_mathrmmcsum_nn_mathrmmc qvecxi_nphi_ivecxi_n use numer quadratur equat q_i fracleftlanglephi_ivecxiphi_ivecxirightranglesum_nn_q w_n qvecxi_nphi_ivecxi_n numer quadratur method typic much effici mont carlo method ad benefit exactli integr polynomi basi howev quadratur suffer curs dimension naiv approach use cartesian product onedimension quadratur result maxkd_i quadratur point sampl spars grid help mitig curs dimension significantli gener tupl polynomi chao tupl describ combin polynomi order repres expans basi k_di naiv approach would tensor product highest polynomi order often wast sinc gener complet monomi basi usual optim demonstr differ tensor basi complet monomi basi equat beginalign k_max texttensor product phi_ phi_phi_ phi_ phi_phi_ phi_ phi_phi_ phi_ phi_phi_ phi_ phi_phi_ phi_ phi_phi_ phi_ phi_phi_ phi_ phi_phi_ phi_ phi_phi_ endalign equat beginalign k_max textcomplet monomi phi_ phi_phi_ phi_ phi_phi_ phi_ phi_phi_ phi_ phi_phi_ phi_ phi_phi_ phi_ phi_phi_ endalign tupl gener store matrix userobject exampl matrix k_max equat k_di left beginarraycccccccccccccccccccc endarray right comput statist moment statist moment base expect function quantiti interest equat eleftgleftqvecxirightright int_inftyinftygleftqvecxirightfvecxidvecxi first four statist moment common one defin equat textmean mu eq equat textvari sigma eleftleftqmurightright eq mu equat textskew mathrmskew fraceleftleftqmurightrightsigma fraceq sigmamu musigma equat textkurtosi mathrmkurt fraceleftleftqmurightrightsigma fraceq eqmu sigmamu musigma orthogon polynomi mean varianc trivial comput equat eleftq_mathrmpcright q_ equat eleftq_mathrmpcright sum_ipq_i prod_ddleftlanglephi_k_dirightrangl leftlanglephi_irightrangl known analyt higher order moment significantli tax comput sinc take advantag orthogon equat eleftq_mathrmpcright sum_ipsum_jpsum_kpq_iq_jq_kprod_ddleftlanglephi_k_diphi_k_djphi_k_dkrightrangl equat eleftq_mathrmpcright sum_ipsum_jpsum_kpsum_ellpq_iq_jq_kq_ellprod_ddleftlanglephi_k_diphi_k_djphi_k_dkphi_k_dellrightrangl polynomi norm comput use onedimension quadratur see number oper requir comput kurtosi approxim dn number coeffici suffici high moment would probabl best comput inexactli sampl pce surrog implement polynomialchao user object take list distribut construct polynomi class base type given sampler vectorpostprocessor result sampl loop mc quadratur point comput coeffici statist moment comput base user prefer model evalu use evalu function moos object refer algorithm use parallel sampler comput coeffici part algorithm parallel exampl input file syntax exampl involv homogen onedimension diffusionreact problem diffus coeffici reaction coeffici sigma uncertain uniform probabl equat dfracdudx sigma u q qoi integr averag ux subapp set diffusionreact problem distribut set uncertain paramet list poly_chaosmain_d_quadi blockdistribut sampler defin either use mont carlo list poly_chaosmain_d_mci blocksampl trainer quadratur list poly_chaosmain_d_quadi blocksamplersquadratur import order quadratur sampler input match order polynomialchao input sampler use multiapp transfer sampl subapp qoi app put report list poly_chaosmain_d_quadi blockreport inform readi sent polynomialchao trainer list poly_chaosmain_d_quadi blocksurrog trainer syntax paramet surrogatespolynomialchao syntax input surrogatespolynomialchao syntax children surrogatespolynomialchao polynomialregressiontrain syntax descript trainerspolynomialregressiontrain overview class respons determin coeffici multidimension polynomi approxim behavior quantiti interest qoi paramet space object need n train point paramet space train point character use coordin paramet space equat textbfx beginbmatrix x_ x_ dot x_d x_ x_ dot x_d vdot vdot ddot vdot x_n x_n dot x_nd endbmatrix beginbmatrix textbfx_ textbfx_ vdot textbfx_n endbmatrix denot dimens paramet space textbfx ddimension vector contain coordin dimens similarli trainer class polynomialregressiontrain access matrix sampler object cours trainer know valu qoi coordin well equat textbfi beginbmatrix y_ y_ vdot y_n endbmatrix data access vectorpostprocessor data avail textbfyftextbfx unknown function approxim use polynomi express follow form equat idpoly_exp textbfi approx hattextbfi sum limits_kn_pptextbfx textbfi_kc_ktextbfptextbfxtextbfc n_p number polynomi term approxim textbfcc_c_n_pt unknown coeffici textbfptextbfxptextbfx textbfi_ptextbfx textbfi_n_p use polynomi case defin equat ptextbfx textbfi textbfxtextbfi prod limits_jd x_ji_j x_j denot jth coordin paramet vector textbfx textbfii_i_d ddimension tupl contain power coordin tupl describ polynomialchaosmd determin tupl trainer need addit input paramet name maximum degre polynomi limit number polynomi term poly_exp number fix unknown paramet element textbfc determin regress matrix defin equat textbfr beginbmatrix textbfptextbfx_ textbfptextbfx_ vdot textbfptextbfx_n endbmatrix ordinari least squar ol regress use regress matrix textbfr ordinari least squar ol approach describ wikipediahttpsenwikipediaorgwikipolynomial_regress detail unknown coeffici determin follow equat textbfclefttextbfrttextbfrrighttextbfrttextbfi final must mention method applic n_p leq n keep n_p n recommend ridg regress unfortun ol approach known issu like prone overfit data yield inaccur result input variabl correl sensit outlier tackl problem l regular tikhonov regularizationhttpsenwikipediaorgwikiregularized_least_squar adopt make sure coeffici expans uncontrol high valu extend least squar regress often refer ridg regress scenario coeffici determin solv equat textbfclefttextbfrttextbfrlambda irighttextbfrttextbfi lambda penalti paramet penal coeffici larg magnitud lambda rightarrow ridg regress converg ol exampl input file syntax get necessari data two essenti block includ master input file first sampler defin sampler creat coordin matrix textbfx object vectorpostprocessor creat fill store result vector textbfi list polynomial_regressiontraini blocksampl list polynomial_regressiontraini blockvectorpostprocessor similarli nearestpointtrainermd gfunction vector postprocessor sobolstatisticsmd use emul fullord model simpli evalu function sampl point use data maximum degre set max_degre input file trainer comput model coeffici textbfc control type regress user set regression_typ either ol ridg input file list polynomial_regressiontraini blocktrain syntax paramet trainerspolynomialregressiontrain syntax input trainerspolynomialregressiontrain syntax children trainerspolynomialregressiontrain nearestpointtrain syntax descript trainersnearestpointtrain overview trainer meant produc train data use nearestpointsurrogatemd data save _sample_point array sampl point result full model equat texttt_sample_point beginbmatrix x_ x_ dot x_n x_ x_ dot x_n vdot vdot ddot vdot x_d x_d dot x_dn y_ y_ dot y_n endbmatrix x_ij point sampler column sampl j y_j result full model sampl j n number train sampl number sampler column nearestpointsurrogatemd use array find closest point given input point output full model result exampl input file syntax sampler creat produc point train data list nearest_pointtraini blocksampl exampl full model gfunction vector postprocessor see sobolstatisticsmd detail vector postprocessor take sampler evalu function train point list nearest_pointtraini blockvectorpostprocessor trainer take data sampler result vector postprocessor creat _sample_point array list nearest_pointtraini blocktrain output train data file list nearest_pointtraini blockoutput syntax paramet trainersnearestpointtrain syntax input trainersnearestpointtrain syntax children trainersnearestpointtrain normal syntax descript distributionsnorm descript normal gaussian distribut object defin normal distributionhttpsenwikipediaorgwikinormal_distribut function provid mean standard_devi paramet probabl densiti function pdf normal distribut given eqnorm equat ideqnorm fx mu sigma fracsqrtpisigma e fracxmusigma mu mean sigma standard deviat sigma distribut implement normal distribut use numer approxim describ citekennedystatist exampl input syntax follow input file defin normal distribut mean standard deviat list modulesstochastic_toolstesttestsdistributionsnormali blockdistribut syntax paramet distributionsnorm syntax input distributionsnorm syntax children distributionsnorm bibtex bibliographi truncatednorm syntax descript distributionstruncatednorm descript truncat normal gaussian distribut object defin normal distributionhttpsenwikipediaorgwikinormal_distribut function provid mean standard_devi truncat rang lower_bound upper_bound paramet probabl densiti function pdf truncat normal distribut given eqtruncated_norm equat ideqtruncated_norm psix mu sigma b begincas fracphix mu sigmaphixmusigmabphixmusigmaa textif axb textotherwis endcas paramet mu sigma mean standard deviat gener normal pdf phix mu sigma phix mu sigma gener normal pdf cumul distribut function cdf exampl input syntax follow input file defin normal distribut mean standard deviat truncat rang list modulesstochastic_toolstesttestsdistributionstruncated_normali blockdistribut syntax paramet distributionstruncatednorm syntax input distributionstruncatednorm syntax children distributionstruncatednorm bibtex bibliographi kernel densiti estim syntax descript distributionskerneldensityd descript kernel densiti distribut object defin kernel densityhttpsenwikipediaorgwikikernel_density_estim provid data vector mathbfx kernel function k bandwidth h probabl densiti kernel densiti given beginequ labeleqnkerneld hatf_hx fracnh sum_in kfracxx_ih endequ n number data point data vector current gaussian uniform kernel function implement bandwidth user either provid valu request automat comput use data standard deviat silverman rulehttpsenwikipediaorgwikikernel_density_estim exampl input syntax follow input file defin kernel densiti distribut kernel_density_d_inputcsv exampl data input gaussian kernel function silverman rule bandwidth data kernel_density_d_inputcsv drawn normal distribut mean standard deviat uniti list modulesstochastic_toolstesttestsdistributionskernel_density_d_gaussiani blockdistribut syntax paramet distributionskerneldensityd syntax input distributionskerneldensityd syntax children distributionskerneldensityd lognorm descript lognorm distribut object defin lognorm distributionhttpsenwikipediaorgwikilognormal_distribut function provid locat scale paramet locat paramet equal median underli normal distribut equal lntheta theta median lognorm distribut scale paramet equal standard deviat underli normal distribut probabl densiti function pdf lognorm distribut given eqlognorm equat ideqlognorm fx begincas fracxssqrtpiefracleft ln xm right x xleq endcas locat paramet scale paramet exampl input syntax follow input file defin lognorm distribut locat paramet scale paramet list modulesstochastic_toolstesttestsdistributionslognormali blockdistribut syntax paramet distributionslognorm syntax input distributionslognorm syntax children distributionslognorm logist syntax descript distributionslogist descript logist distribut continu distribut defin locat alpha shape beta paramet probabl densiti function equat zx expfracx alphabeta fx fraczxalpha z cumul densiti function equat fx fraczx syntax paramet distributionslogist syntax input distributionslogist syntax children distributionslogist bibtex bibliographi weibul syntax descript distributionsweibul descript weibul object defin translat weibul distribut probabl densiti function pdf defin equat fxlambdaktheta begincas fracklambdaleftfracxthetalambdarightkefracxthetalambdak xgeq x endcas k defin shape paramet lambda defin scale paramet theta locat paramet distribut exampl input syntax list modulesstochastic_toolstesttestsdistributionsweibulli blockdistribut syntax paramet distributionsweibul syntax input distributionsweibul syntax children distributionsweibul uniform syntax descript distributionsuniform descript uniform distribut probabl distribut constant probabl continu uniform distribut probabl densiti function x b equat fx b x b x equat fx b lower bound upper bound uniform distribut respect exampl input syntax list modulesstochastic_toolstesttestsdistributionsuniformi blockdistribut syntax paramet distributionsuniform syntax input distributionsuniform syntax children distributionsuniform johnsonsb syntax descript distributionsjohnsonsb descript johnson special bound sb distribut citejohnsoncontinu relat normal distribut four paramet need gamma delta lambda epsilon continu distribut defin bound rang epsilon leq x leq epsilon lambda distribut symmetr asymmetr probabl densiti function equat fx tfracdeltalambdasqrtpi zz exptfracgamma delta lntfraczztextrmwher z equiv tfracxzetalambda cumul densiti function equat fx phigamma delta ln tfraczztextrmwher z tfracxepsilonlambda syntax paramet distributionsjohnsonsb syntax input distributionsjohnsonsb syntax children distributionsjohnsonsb bibtex bibliographi samplerfullsolvemultiapp syntax descript multiappssamplerfullsolvemultiapp overview samplerfullsolvemultiapp simpli creat fullsolv type sub applic see multiapp row matrix return samplerstochastic_toolsindexmdsampl object object capabl run batch mode set mode paramet inform refer batch_modemd deal fail solv perform stochast analysi mani perturb subappl sometim case app receiv set paramet make solv difficult converg default configur object one subappl solv fail main applic abort caus main applic stop sampl subappl transfer process fail well prevent set paramet parammultiappssamplerfullsolvemultiappignore_solve_not_converg true allow main applic continu despit fail solv option fail solv result get transfer main applic see samplerpostprocessortransfersamplerpostprocessortransfermd subappl transienttransientmd simul paramet paramexecutionertransienterror_on_dtmin must set fals execution block min_procs_begin defin minimum processor per app often use defin minimum processor use run subappl typic done larg model batch mode avoid excess memori usag parammultiappssamplerfullsolvemultiappmin_procs_per_app util capabl howev requir paramsamplersmontecarlomin_procs_per_row paramet sampler block set valu enusr sampler partit equival multiapp partit min_procs_end exampl syntax list modulesstochastic_toolstesttestsmultiappssampler_full_solve_multiappmaster_full_solvei blockmultiapp syntax paramet multiappssamplerfullsolvemultiapp syntax input multiappssamplerfullsolvemultiapp syntax children multiappssamplerfullsolvemultiapp podfullsolvemultiapp object respons produc snapshot residu podreducedbasistrainermd object execut first time oper samplerfullsolvemultiappmd gener snapshot differ paramet sampl call second time gener residu given vector tag subappl use pod mode podreducedbasistrainermd object exampl syntax multiapp type need parammultiappspodfullsolvemultiapptrainer_nam paramet allow access certain data member podreducedbasistrainermd otherwis input syntax case samplerfullsolvemultiappmd list modulesstochastic_toolstesttestssurrogatespod_rbinternaltraineri blockmultiapp syntax paramet multiappspodfullsolvemultiapp syntax input multiappspodfullsolvemultiapp syntax children multiappspodfullsolvemultiapp samplertransientmultiapp samplertransientmultiapp simpli creat transienttyp sub applic see multiapp row matrix return samplerstochastic_toolsindexmdsampl object object capabl run batch mode set mode paramet inform refer batch_modemd includ samplerfullsolvemultiappmd startmin_procs_begin endmin_procs_end exampl syntax list modulesstochastic_toolstesttestsmultiappssampler_transient_multiappmaster_transienti blockmultiapp syntax paramet multiappssamplertransientmultiapp syntax input multiappssamplertransientmultiapp syntax children multiappssamplertransientmultiapp multiappcommandlinecontrol syntax descript controlsmultiappcommandlinecontrol descript depend type stochast analysi perform may necessari pass command line argument multiapp object creat exampl domain requir alter statist xdirect meshxmax paramet subappl must alter howev valu alter within subappl input file via control object xmax paramet appli mesh creat case multiappcommandlinecontrol use pass custom valu argument multiapp gener sampler distribut object exampl use consid stochast problem execut simul simul requir maximum x coordin gener mesh vari first multiapp block defin execut desir simul list multiappscommandline_controlmaster_multiplei blockdistribut second uniformdistributionsuniformmd distribut object must creat list multiappscommandline_controlmaster_multiplei blockdistribut sampl scheme must defin captur valu uniform distribut exampl sinc two piec data control xmax ymax uniform distribut sampl twice sinc sampl data use pre_multiapp_setup execut execute_on paramet setup match list multiappscommandline_controlmaster_multiplei blocksampl final multiappcommandlinecontrol use appli sampl data desir mesh set list multiappscommandline_controlmaster_multiplei blockcontrol vector paramet vector paramet alter statist multiappcommandlinecontrol illustr usag consid input file list list multiappsbatch_commandline_controlmaster_vectori blockcontrol input file param_nam includ vector paramet entri call materialsconstprop_valu two scalar paramet call meshxmax meshymax sever case exist modifi vector paramet four entri alter set param_nam materialsconstprop_valu global column index provid distribut impli entri correspond differ distribut third fourth entri alter distribut set param_nam materialsconstprop_valu repeat index mean valu sampl distribut second entri alter set param_nam materialsconstprop_valu case second entri set first third last entri alter statist gener constant valu provid insid parenthes bracket alert note use must provid everi paramet default provid assum valu scalar captur order syntax paramet controlsmultiappcommandlinecontrol syntax input controlsmultiappcommandlinecontrol syntax children controlsmultiappcommandlinecontrol bibtex bibliographi samplerreceiv syntax descript controlssamplerreceiv use object explain detail stochastic_tool modul exampl mont carlo examplestochastic_toolsexamplesmonte_carlomd syntax paramet controlssamplerreceiv syntax input controlssamplerreceiv syntax children controlssamplerreceiv samplerdata samplerdata object simpli covert gener sampl sampler vectorpostprocessor vector one vector creat distribut sampler name use distribut name object primarili design test sampler output exampl syntax list modulesstochastic_toolstesttestssamplersmonte_carlomonte_carlo_uniformi blockvectorpostprocessor syntax paramet vectorpostprocessorssamplerdata syntax input vectorpostprocessorssamplerdata syntax children vectorpostprocessorssamplerdata gaussianprocessdata gaussianprocessdata object simpli covert covari function hyperparamet vectorpostprocessor post regress analysi hyperparamet exampl syntax list modulesstochastic_toolstesttestssurrogatesgaussian_processgp_squared_exponential_tunedi blockvectorpostprocessor syntax paramet vectorpostprocessorsgaussianprocessdata syntax input vectorpostprocessorsgaussianprocessdata syntax children vectorpostprocessorsgaussianprocessdata sobolstatist alert warn titledeprec object sobolstatist object replac reporterssobolreportermd statist alert warn titledeprec object statist object replac reportersstatisticsreportermd stochasticresult object design work samplerpostprocessortransfersamplerpostprocessortransfermd object transfer data postprocessorpostprocessorsindexmd vectorpostprocessorvectorpostprocessorsindexmd master applic exampl syntax list modulesstochastic_toolstestteststransferssampler_postprocessormasteri blockvectorpostprocessor syntax paramet vectorpostprocessorsstochasticresult syntax input vectorpostprocessorsstochasticresult syntax children vectorpostprocessorsstochasticresult surrogatetraineroutput syntax descript outputssurrogatetraineroutput overview surrog modelssurrogatesindexmd train output binari file later use use surrogatetraineroutput object data within model delcar use declaretrainerdata automat store gener file exampl input file syntax follow snippet includ surrog model train train complet model data output use surrogatetraineroutput object list load_storetraini blocktrain output syntax paramet outputssurrogatetraineroutput syntax input outputssurrogatetraineroutput syntax children outputssurrogatetraineroutput adaptivemontecarlodecis syntax descript reportersadaptivemontecarlodecis descript adapt mont carlo algorithm gener speak work propos next set input paramet perform model evalu decid whether accept propos input paramet class deriv samplersamplermd class help propos next set input paramet class deriv multiapp system evalu model howev addit class need make decis whether accept next input paramet propos sampler class end adaptivemontecarlodecis help make decis adaptivemontecarlodecis design report class sinc report access sampler object multiapp system avail adapt mont carlo sampler follow adapt mont carlo sampler implement moos adapt import sampl ai ai propos accept next input paramet use markov chain mont carlo scheme sampl suffici failur region given model see adaptiveimportancesampleradaptiveimportancesamplermd inform syntax paramet reportersadaptivemontecarlodecis syntax input reportersadaptivemontecarlodecis syntax children reportersadaptivemontecarlodecis statisticsreport syntax descript reportersstatisticsreport descript statisticsreport object comput statist valu vector vectorpostprocessor vpp object support valu report result output valu name base input data desir statist calcul option confid level interv comput statist statist comput indic paramreportersstatisticsreportercomput paramet contain multipl valu list note multipl statist measur comput simultan pass one input paramet current statist measur statisticsreport comput minimum comput min comput minimum valu suppli vector maximum comput max comput maximum valu suppli vector sum comput sum comput sum sigma suppli vector vecv n length vector equat sigma sum_inv_i mean comput averag comput averag barv suppli vector vecv equat barv fracsum_inv_in standard deviat comput stddev comput standard deviat sigma suppli vector vecv equat sigma sqrtfracsum_inv_i barvn lnorm comput norm comput lnorm v_ suppli vector vecv also known euclidean norm distanc equat v_ sqrtsum_inv_i standard error comput stderr comput standard error sigma_barv suppli vector vecv equat sigma_barv fracsigmasqrtn ratio comput ratio comput ratio maximum minimu suppli data median comput median comput median suppli vector vecv v_v_n equat mathrmmedianvecv left beginarrayl w_n textif n text odd fracw_n w_n textif n text even endarray right equat vecw mathrmsortvecv confid level bootstrap confid level interv defin citetibshiraniintroduct enabl specifi desir level use paramreportersstatisticsreporterci_level paramet set method calcul use paramreportersstatisticsreporterci_method level list rang exampl level result comput confid level interv enabl confid level interv comput interv level statist result appear output vector associ statist calcul avail method includ follow percentil percentil bootstrap method defin ch citetibshiraniintroduct exampl statist follow input file snippet demonstr comput variou statist use statisticsreport object list reportersstatisticsstatisticsi blockreport block result follow json file output list reportersstatisticsgoldstatistics_outjson exampl confid level follow input file snippet demonstr comput variou statist confid level use statisticsreport object list reportersbootstrap_statisticspercentilepercentilei blockreport block result follow json file list reportersbootstrap_statisticspercentilegoldpercentile_outjson syntax paramet reportersstatisticsreport syntax input reportersstatisticsreport syntax children reportersstatisticsreport polynomialchaosreport syntax descript reporterspolynomialchaosreport overview object meant comput relev statist sensit polynomialchaosmd surrog output inform model user specifi multipl model paramreporterspolynomialchaosreporterpc_nam paramet statist comput statist polynomialchaosmd surrog use paramreporterspolynomialchaosreporterstatist paramet far mean standard deviat skew kurtosi comput see polynomialchaosmd detail calcul statist output comput larg ident statisticsreportermd list surrogatespoly_chaosmain_d_quad_momenti blockreport list surrogatespoly_chaosgoldmain_d_quad_moment_outjson languagejson sobol sensit set paramreporterspolynomialchaosreporterinclude_sobol true comput sobol indic input polynomi chao model alogrithm base comput describ citesudretglob object comput total first secondord indic output larg indent sobolreportermd list poly_chaossoboli blockreport list poly_chaosgoldsobol_outjson languagejson local sensit user comput local sensit object includ paramreporterspolynomialchaosreporterlocal_sensitivity_point andor paramreporterspolynomialchaosreporterlocal_sensitivity_sampl paramet local sensit quantiti interest u paramet xi_p point vecxi defin equat s_p fracparti uvecxiparti xi_p fracxi_puvecxi input model output contain two matrix report valu correspond point specifi paramreporterspolynomialchaosreporterlocal_sensitivity_point paramreporterspolynomialchaosreporterlocal_sensitivity_sampl row matrix correspond point column correspond deriv respect paramet xi_p list surrogatespoly_chaosmain_d_quad_locsi blockreport list surrogatespoly_chaosgoldmain_d_quad_locs_outjson languagejson model data user output inform model input set paramreporterspolynomialchaosreporterinclude_data paramet true list surrogatesload_storeevaluatei blockreport list surrogatesload_storegoldevaluate_outjson languagejson syntax paramet reporterspolynomialchaosreport syntax input reporterspolynomialchaosreport syntax children reporterspolynomialchaosreport evaluatesurrog syntax descript reportersevaluatesurrog overview evaluatesurrog object take sampler surrog model execut evalu method within surrog row sampler see examplessurrogate_creationmd examplessurrogate_trainingmd examplessurrogate_evaluatemd inform regard surrog model exampl syntax list modulesstochastic_toolstesttestssurrogatesnearest_pointevaluatei captionsimpl exampl use evaluatesurrog list surrogatesnearest_pointgoldevaluate_out_results_csv captioncsv output syntax paramet reportersevaluatesurrog syntax input reportersevaluatesurrog syntax children reportersevaluatesurrog stochasticreport syntax descript reportersstochasticreport descript object intend use directli samplerreportertransfersamplerreportertransfermd see object detail syntax paramet reportersstochasticreport syntax input reportersstochasticreport syntax children reportersstochasticreport sobolreport syntax descript reporterssobolreport overview object comput sobol sensit indic follow procedur defin citesaltellimak includ firstord totaleffect indic option secondord indic well sobolreport object oper result data gener sobolbas sampl strategi provid sobolsamplermd exampl input file syntax follow input snippet use gfunction test object defin equat gx_ x_ ldot x_n prod_infracx_iq_iq_i vecq defin input file x vector model data n number input variabl x data gener sobol sampler object sobol statist vectorpostprocessor data follow show comput sobol indic data gener vectorpostprocessor jsonoutputmd output object result comput output json file list reporterssobolsoboli blocksampl vectorpostprocessor report output result json output includ gener inform data includ mani paramet observ indic comput exampl includ first_ord second_ord total indic follow report inform valu shown pair set indic associ confid interv request first_ord total indic vector element correspond paramet second_ord indic repres matrix row column correspond paramet correl list reporterssobolgoldsobol_outjson sobol statstic report data along vectorpostprocessor data sobolreport comput indic report data includ vectortyp quantiti interest show syntax requir report data list reporterssobolsobol_maini blockreport syntax paramet reporterssobolreport syntax input reporterssobolreport syntax children reporterssobolreport loadcovariancedataact action oper exist gaussianprocess object contain within surrog block model provid filenam shown covari object equival function use train phase reconstruct use model evalu exampl input file syntax train input file setup gaussianprocesstrain squaredexponenti covari function list testtestssurrogatesgaussian_processgp_squared_exponential_trainingi blocktrain covari surrog input file gaussianprocess surrog recreat covari function use train link list testtestssurrogatesgaussian_processgp_squared_exponential_testingi blocksurrog addsurrogateact action add surrogatemodel object contain within surrog block exampl follow block add polynomialchaosmd surrog model list poly_chaosmain_d_mci blocksurrog syntax paramet surrogatesaddsurrogateact loadsurrogatedataact action oper exist surrogatemodel object contain within surrog block model provid filenam shown train data initi model readi use via evalu method list load_storeevaluatei blocksurrog syntax paramet surrogatesaddsurrogateact addcovarianceact action add covaraincefunctionbas asdscovarianceindexmd object contain within covari block exampl follow block add squaredexponentialcovariancemd covari function list testtestssurrogatesgaussian_processgp_squared_exponential_trainingi blockcovari syntax paramet covarianceaddcovarianceact stochastictoolsact class defin behavior stochastictool input block pleas refer syntaxstochastictoolsindexmd inform syntax paramet stochastictoolsstochastictoolsact podresidualtransf object respons transfer residu vector podfullsolvemultiappmd podreducedbasistrainermd exampl syntax object type need know trainer multiapp object achiev specifi paramtransferspodresidualtransfertrainer_nam paramtransferspodresidualtransfermulti_app paramet input file list modulesstochastic_toolstesttestssurrogatespod_rbinternaltraineri blocktransfersr syntax paramet transferspodresidualtransf syntax input transferspodresidualtransf syntax children transferspodresidualtransf samplerpostprocessortransf syntax descript transferssamplerpostprocessortransf overview object design transfer data postprocessorpostprocessorsindexmd vectorpostprocessorvectorpostprocessorsindexmd master applic object must transfer data stochasticresultsstochasticresultsmd object deal fail solv perform stochast analysi mani perturb subappl sometim case app receiv set paramet make solv difficult converg default configur object one subappl solv fail main applic abort expect solv might converg abort main applic desir behavior paramet parammultiappssamplerfullsolvemultiappignore_solve_not_converg must set true multiapp block see samplerfullsolvemultiappmd detail two option transfer result fail subappl paramtransferssamplerpostprocessortransferkeep_solve_fail_valu set fals default transfer nan stochasticresultsstochasticresultsmd paramtransferssamplerpostprocessortransferkeep_solve_fail_valu set true transfer whatev last comput valu postprocessor solv fail exampl syntax list modulesstochastic_toolstestteststransferssampler_postprocessormasteri blocktransf syntax paramet transferssamplerpostprocessortransf syntax input transferssamplerpostprocessortransf syntax children transferssamplerpostprocessortransf samplerparametertransf samplerparametertransf work union sampler control system transfer data subappl perform stochast simul use object explain detail stochastic_tool modul exampl mont carlo examplestochastic_toolsexamplesmonte_carlomd syntax paramet transferssamplerparametertransf syntax input transferssamplerparametertransf syntax children transferssamplerparametertransf samplerreportertransf syntax descript transferssamplerreportertransf overview object design transfer data postprocessorspostprocessorsindexmd vectorpostprocessorsvectorpostprocessorsindexmd reportersreportersindexmd subappl main applic object must transfer data stochasticreporterstochasticreportermd object work transfer work similar multiappclonereportertransfermultiappclonereportertransfermd wherebi creat vector report valu whose type base type valu transfer name report valu stochastic_report nametransf name prefixsubapp report object namesubapp report valu name parallel vector valu transfer distribut default instanc main_outjsonsampler_reportergoldmain_outjson output serial show transfer data main_paralleljsonsampler_reportergoldmain_paralleljson main_paralleljsonsampler_reportergoldmain_paralleljson main_paralleljsonsampler_reportergoldmain_paralleljson main_paralleljsonsampler_reportergoldmain_paralleljson combin data run processor howev split file avoid paramreportersstochasticreporterparallel_typ report object set root gather data root processor bewar use option caus memori issu larg stochast run deal fail solv perform stochast analysi mani perturb subappl sometim case app receiv set paramet make solv difficult converg default configur object one subappl solv fail main applic abort expect solv might converg abort main applic desir behavior paramet parammultiappssamplerfullsolvemultiappignore_solve_not_converg must set true multiapp block see samplerfullsolvemultiappmd detail paramet set true multiapp object transfer whatev last comput valu keep track whether solv converg report valu stochastic_report namemultiapp_converg creat see main_outjsonsampler_reportergoldmain_outjson exampl exampl syntax list modulesstochastic_toolstestteststransferssampler_reportermaini blockmultiapp transfer report syntax paramet transferssamplerreportertransf syntax input transferssamplerreportertransf syntax children transferssamplerreportertransf podsamplersolutiontransf object respons transfer solut vector podfullsolvemultiappmd podreducedbasistrainermd back exampl syntax object type need know trainer multiapp object achiev specifi paramtransferspodsamplersolutiontransfertrainer_nam paramtransferspodsamplersolutiontransfermulti_app paramet input file list modulesstochastic_toolstesttestssurrogatespod_rbinternaltraineri blocktransferssnapshot list modulesstochastic_toolstesttestssurrogatespod_rbinternaltraineri blocktransferspod_mod syntax paramet transferspodsamplersolutiontransf syntax input transferspodsamplersolutiontransf syntax children transferspodsamplersolutiontransf stochast tool batch mode samplerfullsolvemultiappmd samplertransientmultiappmd capabl run subappl batch mode normal oper object creat one subappl everi row data suppli sampler object batch mode one subappl creat per processor reus solv row data gener three mode oper stochast tool multiapp object normal one subappl creat row data suppli sampler object batchreset one subappl creat processor subappl destroy recreat row data suppli sampler object batchrestor one subappl creat processor subappl back initi row data suppli sampler object subappl restor initi state prior execut three mode avail use samplerfullsolvemultiapp batchreset mode avail samplertransientmultiapp subappl state must maintain simul time progress primari benefit use batch mode improv perform simul reduc memori run applic perform gain depend type subappl execut well number sampl evalu follow section highlight perform improv may expect full solv transient subappl exampl full solv subappl first exampl demonstr perform improv expect use samplerfullsolvemultiapp subappl case subappl solv steadyst diffus unit cube domain dirichlet boundari condit left x right side domain complet input file problem given steadysub list stochastic_toolsexamplesbatchsubi idsteadysub captioncomplet input file steadyst diffus problem master applic preform solv perform stochast analysi use montecarlo object perturb valu two dirichlet condit subappl vari uniform distribut complet input file master applic given steadysub list stochastic_toolsexamplesbatchfull_solvei idsteadymast captioncomplet input file master applic perform stochast simul steadyst diffus problem steadysub use mont carol sampl exampl execut demonstr memori perform variou mode oper normal batchreset batchrestor mode execut increas number mont carlo sampl set n_sampl paramet montecarlosampl object fullserialmemori fullmpimemori show result memori use end simul mode oper increas sampl number serial parallel respect media full_solve_memory_serialsvg idfullserialmemori captiontot memori end simul use samplerfullsolvemultiapp increas number mont carlo sampl three avail mode oper run singl processor media full_solve_memory_mpisvg idfullmpimemori captiontot memori maximum memori per processor end simul use samplerfullsolvemultiapp increas number mont carlo sampl three avail mode oper run processor import featur variou mode oper runtim neg impact chang mode case use batch mode actual decreas total simul run time total run time result full solv problem serial parallel shown fullserialtim fullmpitim respect time shown plot total simul time encompass simul initi solv differ speed mainli due instal destruct subappl run batchreset mode data sampl caus subappl creat destroy solv caus slowest perform normal mode creat subappl front batchrestor method use backuprestor capabl save state subappl thu requir mani instanti lowest runtim exampl solv portion minim subappl creation time play larg role solv time increas time gain expect minim media full_solve_memory_serial_timesvg idfullserialtim captiontot execut time simul use samplerfullsolvemultiapp increas number mont carlo sampl avail mode oper singl processor media full_solve_memory_mpi_timesvg idfullmpitim captiontot execut time simul use samplerfullsolvemultiapp increas number mont carlo sampl avail mode oper processor exampl transient subappl second exampl nearli ident first except master applic transient solv set boundari condit end time step differ occur master input file execution multiapp block shown transientmast list stochastic_toolsexamplesbatchtransienti idtransientmast blockexecution multiapp captioncomplet input file transient master applic perform stochast simul diffus problem time vari boundari condit use use mont carol sampl result shown transientserialmemori transientmpimemori includ memori use end simul time step mode oper within increas number sampl serial parallel recal mention batchreset mode avail samplertransientmultiapp media transient_memory_serialsvg idtransientserialmemori captiontot memori end simul use samplertransientmultiapp increas number mont carlo sampl two avail mode oper run singl processor media transient_memory_mpisvg idtransientmpimemori captiontot memori maximum memori per processor end simul use samplertransientmultiapp increas number mont carlo sampl two avail mode oper run processor import featur variou mode oper runtim neg impact chang mode seen transientserialtim transientmpitim solv portion exampl significantli longer steadyst exampl differ execut time due instanti object diminish mode behav similarli media transient_memory_serial_timesvg idtransientserialtim captiontot execut time simul use samplertransientmultiapp increas number mont carlo sampl avail mode oper singl processor media transient_memory_mpi_timesvg idtransientmpitim captiontot execut time simul use samplertransientmultiapp increas number mont carlo sampl avail mode oper processor stochast tool stochast tool modul toolbox design perform stochast analysi moosebas applic follow section detail variou aspect modul use independ combin meet need applic develop exampl includ modulesstochastic_toolsstochastic_tools_examplesmd perform stochast tool modul optim two way memori use first subappl execut batch object util sampl data use distribut sampl matrix detail refer follow batch_modemd distributed_samplesmd object action syntax follow complet list object avail stochast tool modul syntax complet groupsstochastictoolsapp paramet studi statist sensit analysi exampl modulesstochastic_toolsexamplesmonte_carlomd exampl modulesstochastic_toolsexamplesparameter_studymd exampl modulesstochastic_toolsexamplesnonlin_parameter_studymd exampl modulesstochastic_toolsexamplessobolmd surrog model exampl modulesstochastic_toolsexamplessurrogate_creationmd exampl modulesstochastic_toolsexamplessurrogate_trainingmd exampl modulesstochastic_toolsexamplessurrogate_evaluatemd exampl modulesstochastic_toolsexamplespoly_chaos_surrogatemd exampl modulesstochastic_toolsexamplespoly_regression_surrogatemd exampl modulesstochastic_toolsexamplespod_rb_surrogatemd exampl modulesstochastic_toolsexamplescombined_example_d_trans_diffmd exampl examplesgaussian_process_surrogatemd distribut sampl stochast simul often requir use larg number random number comput desir calcul import mindful number gener parallel within stochast tool modul possibl gener sampl data thre mode replic distribut iter samplersamplerssamplermdbas object three method getsampl getlocalsampl getnextlocalrow first comput complet dens matrix second comput portion matrix assign current processor last comput singl row data within iter loop sampl data distribut row processor respons comput portion total number matrix row exampl demonstr import use distribut sampl gener simpl exampl creat use test sampler object gener million e random number random number gener within sampl data byte thu total sampl data requir mb memori problem execut four configur baselin without sampl data b complet sampl data process c distribut sampl data use iter row retriev configur execut variou number processor total averag per process memori use configur shown figtot figproc expect total memori figtot nondistribut case increas rate mb per processor nondistribut remain constant regardless number processor util importantli distribut case averag memori per process figproc decreas distribut configur obvious iter method perform best singl row data exist time thu memori impact neglig reason recommend getnextlocalrow method sampl data retriev use exclus unless calcul requir matrix media memory_totalsvg stylewidth idfigtot captiontot memori usag four differ configur sampl data gener media memory_per_procsvg stylewidth idfigproc captionaverag memori per process four differ configur sampl data gener templat load filesqaapp_indexmdtempl categorystochastic_tool appstochast tool templat item keysqareport sqa report categorycategori templat load filesqaapp_stpmdtempl categorystochastic_tool appstochast tool templat load filesqaapp_farmdtempl categorystochastic_tool appstochast tool templat load filesqaapp_vvrmdtempl categorystochastic_tool appstochast tool templat load filesqaapp_sllmdtempl categorystochastic_tool appstochast tool templat load filesqaapp_rtmmdtempl categorystochastic_tool appstochast tool templat load filesqaapp_srsmdtempl categorystochastic_tool appstochast tool templat load filesqaapp_sddmdtempl categorystochastic_tool appstochast tool paramet studi paramet studi defin perform simul vari uncertain paramet comput quantiti interest set uncertain paramet exampl detail exampl present examplesmonte_carlomd also paramet studi problem statement demonstr perform paramet studi transient heat equat use equat iddiffusionstrong fracparti tpartial nablacdotgammanabla temperatur time gamma diffus heat sourc term exampl problem shall solv unit squar domain left side subject dirichlet condit tt_ right side domain subject neumann condit gammanabla cdot hatn q_ hatn outward face normal vector boundari boundari condit t_ q_ well diffus gamma sourc term assum known howev paramet associ uncertainti effect uncertainti averag temperatur heat flux left boundari one second simul time desir defin t_avg bartt q_left qtx heat equat problem first step perform paramet studi creat input file solv problem without uncertain paramet exampl problem done assum gamma t_ q_ complet input file problem provid diffus item atyp moos simul input file exist control block simpli creat samplerreceivermd object block requir paramet studi shall discuss parameter_studymdtransf section list parameter_studydiffusioni iddiffus captioncomplet input file exampl heat equat problem use paramet studi execut file use stochastictoolsapp done follow languagesh cd moosemodulesstochastic_toolsexamplesparameter_studi stochastic_toolsopt diffusioni simul perform four timestep result t_avg q_left main input perform paramet studi input file drive stochast simul requir file refer main input file respons defin uncertain paramet run stochast simul collect stochast result follow subsect step portion main file explain purpos complet analysi discuss parameter_studymdresult stochastictool block stochastictoolssyntaxstochastictoolsindexmd block set main file driver stochast simul perform sort simul set main without simul default behavior block empti exampl list examplesparameter_studymaini blockstochastictool distribut sampler block distributionssyntaxdistributionsindexmd block defin statist distribut uncertain paramet t_ q_ gamma defin exampl diffus gamma defin uniform distribut flux q_ threeparamet weibul t_ normal distribut list examplesparameter_studymaini blockdistribut samplerssyntaxsamplersindexmd block defin distribut shall sampl paramet studi case latin hypercub sampl strategi employ total sampl use list examplesparameter_studymaini blocksampl problem sampler object setup run batchrestor mode mode oper memori effici creation subappl pleas see stochastic_toolsbatch_modemd inform input distribut four term includ sampler_gammasampler_ sampl plot histogram filenamestochastic_toolsparameter_studymain_out_samples_csv vectorshypercube_ xlabeldiffus idsampler_gamma legendfals captioninput distribut diffus gamma plot histogram filenamestochastic_toolsparameter_studymain_out_samples_csv vectorshypercube_ xlabelflux idsampler_q_ legendfals captioninput distribut flux boundari condit q_ plot histogram filenamestochastic_toolsparameter_studymain_out_samples_csv vectorshypercube_ xlabeltemperatur idsampler_t_ legendfals captioninput distribut temperatur boundari condit t_ plot histogram filenamestochastic_toolsparameter_studymain_out_samples_csv vectorshypercube_ xlabelsourc idsampler_ legendfals captioninput distribut sourc term transfer block idtransf transferssyntaxtransfersindexmd block serv two purpos first paramet subblock instanti samplerparametertransfermd object transfer row data sampler object subappl simul within subappl paramet list subblock replac valu subappl substitut occur use aforement samplerreciev object exist control block subappl input file receiv subappl accept paramet name valu samplerparametertransf object main applic result subblock serv second purpos transfer quantiti interest back main applic case quantiti postprocessor subappl comput t_avg q_left comput result transfer subappl stochasticreportermd object discuss next list examplesparameter_studymaini blocktransf report block reporterssyntaxreportersindexmd block mention use collect stochast result result subblock instanti stochasticreportermd object design purpos result object contain vector quantiti interest t_avg q_left statist object design comput multipl statist confid interv input vector case comput mean standard deviat t_avg q_left vector result object well confid level interv pleas refer document statisticsreportermd object document capabl object list examplesparameter_studymaini blockreport output block outputssyntaxoutputsindexmd block enabl output report data use json file see jsonoutputmd detail list examplesparameter_studymaini blockoutput stochast result idresult input file describ previou section run follow command languagesh mpiexec n n stochastic_toolsopt maini n number processor run recommend use number greater finish calcul reason amount time result output main_outjson file one processor one file desir use option reportersresultsparallel_typeroot quantiti interest distribut result distribut quantiti interest t_avg q_left present results_t_avg results_q_left plot gener use follow command languagesh python pythonmake_histogrampi main_outjson v resultst_avgvalu xlabel averag temperatur python pythonmake_histogrampi main_outjson v resultsq_leftvalu xlabel flux media stochastic_toolsparameter_studytavg_histpng idresults_t_avg captionresult distribut quantiti interest t_avg media stochastic_toolsparameter_studyflux_histpng idresults_q_left captionresult distribut quantiti interest q_left statist stat includ comput statist confid level interv comput statisticsreport object exampl heat conduct problem sampl tabl gener markdown format use follow command languagesh python pythonvisualize_statisticspi main_outjson markdownt name results_resultst_avgvaluet_avgresults_resultsq_leftvalueq_left statnam meanmeanstddevstandard deviat tabl idstat valu mean standard deviat t_avg ci q_left ci statist also visual bar plot languagesh python pythonvisualize_statisticspi main_outjson barplot name results_resultst_avgvalueaverag temperatureresults_resultsq_leftvalueflux statnam meanmeanstddevstandard deviat media stochastic_toolsparameter_studystats_barpng time depend vector quantiti often use perform paramet studi quantiti timedepend section show modifi previou input quantiti timedepend possibl vector subappl input modif chang subapp input addit linevaluesamplermd vectorpostprocessor comput spatial distribut temperatur list examplesparameter_studydiffusion_timei blockvectorpostprocessor main input modif two signific modif main input chang samplertransientmultiappmd addit executionersyntaxexecutionerindexmd block combin two block run sampl subappl tandem timestep defin main input notic main input execution block ident subapp list examplesparameter_studymain_timei blockmultiapp execution also add transfer linevaluesamplermd includ sub input also comput statist transfer xcoord valu note constantreportermd place holder multiappreportertransfermd transfer xcoord data list examplesparameter_studymain_timei blocktransf report statist output main_time_outjson statist three quantiti time step report data use follow languagesh python pythonvisualize_statisticspi main_time_outjson markdownt valu results_resultst_avgvalu results_resultsq_leftvalu name results_resultst_avgvalueaverag temperatureresults_resultsq_leftvalueflux stat mean stddev statnam meanmeanstddevstandard deviat tabl valu time mean standard deviat averag temperatur ci flux ci languagesh python pythonvisualize_statisticspi main_time_outjson lineplot valu results_resultst_avgvalu results_resultsq_leftvalu name results_resultst_avgvalueaverag temperatureresults_resultsq_leftvalueflux stat mean stddev statnam meanmeanstddevstandard deviat media stochastic_toolsparameter_studystats_time_timelinepng languagesh python pythonvisualize_statisticspi main_time_outjson lineplot valu results_resultst_vect name results_resultst_vecttemperatur stat mean stddev statnam meanmeanstddevstandard deviat xvalu x media stochastic_toolsparameter_studystats_time_linepng time depend quatiti accumulatereport might find use samplertransientmultiappmd like previou section bit restrict instanc time step subapp input must defin step main input restrict use oftimestepperssyntaxexecutionertimestepperindexmd like iterationadaptivedtmd subcycl subsubapp becom difficult also samplertransientmultiappmd support batchreset mode isnt memoryeffici way sampl multiappcommandlinecontrolmd altern use samplertransientmultiappmd leverag accumulatereportermd accumul postprocessorsvectorpostprocessorreport vector element valu certain timestep subappl input modif exampl accumul t_avg q_left postprocessor accumul t_vec previou section statisticsreportermd yet support vectorofvector quantiti list examplesparameter_studydiffusion_vectori blockreport main input modif major modif main input first section need replac transfer valu valu accvalu list examplesparameter_studymain_vectori blocktransf report statist output main_vector_outjson statist quantiti repres vector previou result reproduc output one fanci thing new output languagesh python pythonvisualize_statisticspi main_vector_outjson lineplot name results_resultsacct_avgvalueaverag temperatureresults_resultsaccq_leftvalueflux xvalu results_resultsacct_avgvalu stat mean statnam meanmean media stochastic_toolsparameter_studymean_vector_linepng languagesh python pythonvisualize_statisticspi main_vector_outjson lineplot name results_resultsacct_avgvalueaverag temperatureresults_resultsaccq_leftvalueflux xvalu results_resultsacct_avgvalu stat stddev statnam stddevstandard deviat media stochastic_toolsparameter_studystddev_vector_linepng creat surrog model exampl goe process creat custom surrog model case creation nearestpointsurrogatemd overview build surrog model requir creation two object surrogatetrain surrogatemodel surrogatetrain use inform sampler result construct variabl save rd file conclus train run surrogatemodel object load data rd contain function call evalu evalu surrog model given input surrogatetrain surrog heavili tie togeth member variabl differ one save data load might benefici interfac class contain common function train evalu avoid duplic code exampl go creation interfac class creat trainer exampl go creation nearestpointtrainernearestpointtrainermd trainerstrainersindexmd deriv surrogatetrain perform loop train data call virtual function deriv class meant overrid perform proper train validparam trainer requir input sampler understand mani data point includ distribut across processor trainer also need predictor respons valu fullord model store vector postprocessorvectorpostprocessorsindexmd reporterreportersindexmd list surrogatetrainerc reinputparametersssurrogatetrainervalidparam list nearestpointtrainerc reinputparameterssnearestpointtrainervalidparam constructor trainer base surrogatetrain provid necessari interfac save surrog model data gather responsepredictor data data meant save gather defin constructor train object nearestpointtrainernearestpointtrainermd variabl _sample_point declar necessari surrog data see trainerstrainersindexmd inform declar model data variabl _respons _predictor _predictor_col refer data use train _respons _predictor form report valu gather gettrainingdata api _predictor_col refer sampler column use train list nearestpointtrainerc renearestpointtrainernearestpointtrain member variabl _sample_point _respons _predictor _predictor_col defin header file list nearestpointtrainerh startprotect end includestartfals pretrain pretrain call sampler loop nearestpointtrainermd resiz _sample_point appropri list nearestpointtrainerc revoidsnearestpointtrainerpretrain note getnumberoflocalrow use size array processor contain portion sampl result gather sampl posttrain train train actual train occur function call sampler loop row time member variabl _row _local_row one gather gettrainingdata updat list nearestpointtrainerc revoidsnearestpointtrainertrain posttrain posttrain call sampler loop typic processor commun happen use posttrain gather local _sample_point processor full copi _communicatorallgath make everi processor copi full array _communicatorgath make one processor full copi latter typic use output happen root processor see libmeshparallelcommunicatorhttplibmeshgithubiodoxygenclasslibmesh__parallel__communicatorhtml commun option list nearestpointtrainerc revoidsnearestpointtrainerposttrain creat surrog exampl go creation nearestpointsurrogatenearestpointsurrogatemd surrogatessurrogatesindexmd special version mooseobject must evalu public member function validparam surrog gener defin surrog evalu nearestpointsurrogatemd option method evalu constructor constructor refer model data defin taken train data list nearestpointsurrogatec renearestpointsurrogatenearestpointsurrog see surrogatessurrogatesindexmd inform getmodeldata function _sample_point surrog const refer sinc want modifi train data evalu list nearestpointsurrogateh start array endsample_point includeendtru evalu evalu public member function requir surrog model surrog model actual use evalu take paramet valu return surrog estim quantiti interest see evaluatesurrogateevaluatesurrogatec exampl evalu function use list nearestpointsurrogatec rerealsnearestpointsurrogateevalu paramet studi highli nonlinear problem exampl assum reader alreadi visit exampl examplesparameter_studymd familiar fundament block use master input file exampl effect vari distribut uncertain paramet distribut quantiti interest qoi showcas well problem descript strong formul problem taken citechaturantabutnonlinear written equat idnonlindiffreactstrong delta u fracmu_mu_leftemu_ uright sinpi xsinpi u scalar field variabl xyintim physic coordin mu_ mu_ uncertain paramet known assum probabl distribut equat supplement homogen dirichlet boundari condit everi side time squar solut problem abl perform paramet studi applic abl solv problem fix paramet first input file use purpos provid nonlin_diff_react nomin valu uncertain paramet mu_n mu_n case two block input file worth examin detail first kernel block show custom test kernel implement abl handl exponenti reaction term nonlindiffreactstrong use kernel user add addit argument stochast tool execution follow cd moosemodulesstocastic_toolsexamplesparameter_studynonlin_diff_react stocastic_toolsopt nonlin_diff_react_subi allowtestobject second atyp block control necessari set channel receiv substitut new paramet sampl master applic shown postprocessor block quantiti interest qoi maximum valu u_max minimum valu u_min averag valu u_avg scalar field variabl u list parameter_studynonlin_diff_reactnonlin_diff_react_subi idnonlin_diff_react captioncomplet input file nonlinear problem use nomin valu uncertain paramet master input describ parameter_studymd detail one need driver input master input perform paramet studi two master input file provid exampl nonlin_diff_react_master_uniform nonlin_diff_react_master_norm first consid uncertain paramet uniformli distribut around nomin valu mu_isimmathcalu mu_inmu_in second one assum normal distribut mu_isimmathcaln mu_inmu_in differ two input file distribut block assum probabl distribut defin uncertain paramet list parameter_studynonlin_diff_reactnonlin_diff_react_master_uniformi idnonlin_diff_react_master_uniform captioncomplet input file driver paramet studi uniformli distribut uncertain paramet list parameter_studynonlin_diff_reactnonlin_diff_react_master_normali blockdistribut idnonlin_diff_react_master_norm captioncomplet input file driver paramet studi normal distribut uncertain paramet sampl uncertain paramet latin hypercub sampl lh strategi util altogeth paramet sampl creat model furthermor master applic execut batchrestor mode provid memoryeffici way run subappl comparison differ run mode interest reader refer stochastic_toolsbatch_modemd object transfer block respons commun master subappl stream paramet sampl subappl receiv correspond valu select qoi visibl exampl type paramet transfer object samplerparametertransfermd stream paramet sampl samplerreceivermd object control block subappl object plug new paramet valu kernel materi boundari condit unfortun requir paramet control subappl might true everi case specif exampl control paramet exponentialreact kernel ensur last two command validparam function list exponentialreactionc reinputparameterssexponentialreactionvalidparam target paramet control one use command line base commun master subappl inform approach see exampl cover poly_chaos_surrogatemd run master applic still necessari enabl test object use follow command cd moosemodulesstocastic_toolsexamplesparameter_studynonlin_diff_react stocastic_toolsopt nonlin_diff_react_master_uniformi allowtestobject stochast result idresult distribut qoi uniformli distribut uncertain paramet present results_u_min_uniform results_u_max_uniform results_u_avg_uniform distribut normal distribut uncertain paramet shown results_u_min_norm results_u_max_norm results_u_avg_norm estim mean valu qoi correspond confid interv present assum uniformli distribut paramet overlineu_min ci overlineu_max ci overlineu_avg ci statist normal distribut paramet follow overlineu_min ci overlineu_max ci overlineu_avg ci plot histogram filenamestochastic_toolsparameter_studynonlin_diff_reactnonlin_diff_react_master_uniform_out_results_csv vectorsresultsmin bin xlabelminimum valu idresults_u_min_uniform captionresult distribut u_min uniformli distribut paramet plot histogram filenamestochastic_toolsparameter_studynonlin_diff_reactnonlin_diff_react_master_uniform_out_results_csv vectorsresultsmax bin xlabelmaximum valu idresults_u_max_uniform captionresult distribut u_max uniformli distribut paramet plot histogram filenamestochastic_toolsparameter_studynonlin_diff_reactnonlin_diff_react_master_uniform_out_results_csv vectorsresultsaverag bin xlabelaverag valu idresults_u_avg_uniform captionresult distribut u_avg uniformli distribut paramet plot histogram filenamestochastic_toolsparameter_studynonlin_diff_reactnonlin_diff_react_master_normal_out_results_csv vectorsresultsmin bin xlabelminimum valu idresults_u_min_norm captionresult distribut u_min normal distribut paramet plot histogram filenamestochastic_toolsparameter_studynonlin_diff_reactnonlin_diff_react_master_normal_out_results_csv vectorsresultsmax bin xlabelmaximum valu idresults_u_max_norm captionresult distribut u_max normal distribut paramet plot histogram filenamestochastic_toolsparameter_studynonlin_diff_reactnonlin_diff_react_master_normal_out_results_csv vectorsresultsaverag bin xlabelaverag valu idresults_u_avg_norm captionresult distribut u_avg normal distribut paramet evalu surrog model exampl demonstr evalu train surrog model nearestpointsurrogatemd use exampl surrog model see creat surrog modelexamplessurrogate_creationmd detail surrog creat see train surrog modelexamplessurrogate_trainingmd detail train surrog model overview gener surrogatemodelsurrogatesindexmd object take train data form rd file name train object former perform train evalu two separ step latter perform singl step sinc practic applic perform train evalu multipl instanc exampl focus two step method everi surrogatemodelsurrogatesindexmd object public member function evalu give surrog estim quantiti interest paramet input special surrog like polynomialchaosmd function comput statist howev exampl focu simpl nearestpointsurrogatemd use evalu function includ surrogate_trainingmd startheat_conduction_model_begin endheat_conduction_model_finish evalu section show set input file load evalu surrog model train data creat step train surrog modelexamplessurrogate_trainingmd demonstr use surrog model model evalu use mont carlomontecarlosamplermd sampl paramet distribut describ previou section result sampl use comput statist moment produc probabl distribut includ surrogate_trainingmd startomitting_solve_begin endomitting_solve_finish replacenearest_point_train nearest_point_uniform surrog model surrog model load input train data file paramsurrogatesnearestpointsurrogatefilenam paramet exampl two surrog load two differ train data file averag temperatur maximum temperatur list examplessurrogatesnearest_point_uniformi blocksurrog defin sampler exampl surrog evalu point given sampler use montecarlosamplermontecarlosamplermd gener random point defin uniformuniformmd normalnormalmd distribut paramet see exampl mont carloexamplesmonte_carlomd detail set sampler list examplessurrogatesnearest_point_uniformi blockdistribut captionuniform distribut paramet list examplessurrogatesnearest_point_normali blockdistribut captionnorm distribut paramet list examplessurrogatesnearest_point_uniformi blocksampl captionmont carlo sampler sampl surrog evalu surrog model occur within object obtain surrog object refer call evalu function exampl use evaluatesurrogatemd evalu surrog evaluatesurrogatemd take sampler surrog model input evalu surrog point given sampler list nearest_point_uniformi blocksamp result evalu surrog use comput statist like mean standard deviat list nearest_point_uniformi blockstat result result input previou section produc csv file evalu data file use produc probabl distribut like uniform normal even simpl model problem evalu surrog order magnitud faster significantli less memori consumpt media nearest_point_uniform_histsvg iduniform captiontemperatur distribut uniform paramet distribut media nearest_point_normal_histsvg idnorm captiontemperatur distribut normal paramet distribut polynomi regress surrog exampl meant demonstr polynomi regress base surrog model train use parametr problem addit result compar obtain use polynomi chao pc surrog possibl differ applic highlight well regress method use see polynomialregressiontrainermd detail polynomi chao avail polynomialchaosmd problem statement fullord model exampl essenti one describ surrogate_trainingmd onedimension heat conduct model equat kfracdtdx q quad xin l equat beginalign leftfracdtdxright_x txl t_infti endalign temperatur k thermal conduct l length domain q heat sourc t_infti valu dirichlet boundari condit make comparison differ surrog model easier maximum temperatur select quantiti interest qoi equat idproblem beginalign t_max max_xinltx endalign problem parametr sens solut depend four input paramet ttxkqlt_infti two problem set consid exampl first scenario paramet assum uniformuniformmd distribut mathcaluab second consid paramet normalnormalmd distribut mathcalnmusigma specif distribut two case tabl paramet symbol uniform normal conduct k simmathcalu simmathcaln volumetr heat sourc q simmathcalu simmathcaln domain size l simmathcalu simmathcaln right boundari temperatur t_infti simmathcalu simmathcaln paramet uniform distribut minimum maximum bound paramet normal distribut mean standard deviat must mention maximum temperatur determin analyt turn equat beginalign t_maxkqlt_infti fracqlk t_infti endalign use express previous describ probabl densiti function mean mu standard deviat sigma qoi comput refer tabl idref_result captionth refer result mean standard deviat maximum temperatur moment uniform normal mu_t_max sigma_t_max solv problem without uncertain paramet first step toward creat surrog model gener fullord model solv problem fix paramet combin complet input file case present sub_app list surrogatespolynomial_regressionsubi idsub_app captioncomplet input file heat equat problem studi train surrog model surrog model construct use knowledg fullord problem mean fullord problemsurrogatespolynomial_regressionsubi solv multipl time differ paramet sampl valu qoi store comput step manag master input file creat paramet sampl transfer subappl collect result complet comput inform set master input file see examplessurrogate_trainingmd examplesparameter_studymd two complet train input file use two case two differ paramet distribut avail uniformsurrogatespolynomial_regressionuniform_traini normalsurrogatespolynomial_regressionnormal_traini train phase start definit distribut distribut block uniform distribut defin list surrogatespolynomial_regressionuniform_traini blockdistribut case normal distribut block chang list surrogatespolynomial_regressionnormal_traini blockdistribut next step sever paramet instanc prepar sampl underli distribut sampl object defin sampler block gener paramet sampl differ two surrog model meanwhil polynomi chao use sampl specif quadratur point paramet space gener quadraturesamplermd polynomi regress model train use sampl latinhypercubesamplermd visibl number sampl num_row set latinhypercubesamplermd match number sampl tensorproduct quadratur set quadraturesamplermd list surrogatespolynomial_regressionnormal_traini blocksampl object block control multiapp transfer report respons manag commun master subappl execut subappl collect result detail descript block see examplesparameter_studymd surrogate_trainingmd list surrogatespolynomial_regressionnormal_traini blockmultiapp control transfer report next step set two trainer object gener surrog model avail data done trainer block visibl exampl use data sampler report object polynomi chao surrog order polynomi regress surrog polynomi degre use studi polynomialchaostrainermd also need knowledg underli paramet distribut abl select match polynomi list surrogatespolynomial_regressionuniform_traini blocktrain last step train process import paramet train surrog save rd file file use construct surrog model without need carri train process begin list surrogatespolynomial_regressionnormal_traini blockoutput evalu surrog model evalu surrog model new master input file creat uniformsurrogatespolynomial_regressionuniform_surri normalsurrogatespolynomial_regressionnormal_surri paramet distribut input file contain test distribut paramet defin distribut block studi train distribut use test surrog well surrog model test use paramet sampl sampl select use latinhypercubesamplermd defin sampler block sinc surrog model order magnitud faster fullord model sampl select test compar use train list surrogatespolynomial_regressionnormal_surri blocksampl next step two object creat surrog block two surrog model techniqu construct use inform avail within correspond rd file list surrogatespolynomial_regressionnormal_surri blocksurrog surrog model evalu point defin test sampl batch done use object report block list surrogatespolynomial_regressionnormal_surri blockreport result analysi section result differ surrog model provid compar refer result summar ref_result short analysi result provid well showcas potenti issu user might encount use polynomi regress uniform paramet distribut first case paramet uniform distribut investig statist moment obtain execut surrog modelsurrogatespolynomial_regressionuniform_surri summar stats_uniform tabl idstats_uniform captioncomparison statist moment differ surrog model assum uniform paramet distribut moment refer poli chao poli reg deg poli reg deg mu_t_max sigma_t_max observ polynomi chao surrog give result closer refer valu also visibl increas polynomi order regress accuraci standard deviat slightli decreas histogram result present uniform_hist import mention result polynomi regress surrog obtain use max_degre appar two method give similar solut media stochastic_toolssurrogatespoly_regpoly_reg_example_uniform_histsvg iduniform_hist captionhistogram maximum temperatur come mont carlo run use surrog model assum uniform paramet distribut normal paramet distribut next case normal distribut paramet analyz statist moment result test surrog modelsurrogatespolynomial_regressionuniform_surri summar stats_norm tabl idstats_norm captioncomparison statist moment differ surrog model assum normal distribut moment refer poli chao poli reg deg poli reg deg mu_t_max sigma_t_max visibl polynomi chao surrog give closest result refer valu furthermor increas polynomi degre regress lead decreas accuraci mean standard deviat behavior often refer overfittinghttpsenwikipediaorgwikioverfit decreas accuraci increas model paramet histogram result present normal_hist import mention result polynomi regress surrog obtain use max_degre appar two method give similar solut howev tail histogram polynomi regress longer media poly_reg_example_normal_histsvg idnormal_hist captionhistogram maximum temperatur come mont carlo run use surrog model assum normal paramet distribut mont carlo exampl possibl simplest exampl stochast analysi perform mont carlo analysi given simul solv singl problem vari paramet within simul random set perturb paramet problem statement first step defin simul perform case simul consid transient diffus equat dirichlet boundari condit end domain find u equat fracparti uparti fracparti uparti x quad x u u u u uab defin continu uniform distributionhttpsenwikipediaorgwikiuniform_distribution_continu b defin lower upper limit distribut respect subappl input problem defin respect multiapp system subappl complet input file problem provid montecarlosub item requir enabl stochast analysi control block contain samplerreceiversamplerreceivermd object use explain follow section list modulesstochastic_toolstestteststransfersmonte_carlosubi idmontecarlosub captioncomplet input file execut transient diffus problem master input master applic respect multiapp system driver stochast simul perform solv complet input file master applic shown montecarlomast import section detail individu first distribut two stochast boundari condit defin list modulesstochastic_toolstestteststransfersmonte_carlomonte_carloi blockdistribut second montecarlosamplermontecarlosamplermd defin util two distribut creat mont carlo sampl list modulesstochastic_toolstestteststransfersmonte_carlomonte_carloi blocksampl notic sampler execut initi mean random number creat initi setup problem chang simul next samplertransientmultiappsamplertransientmultiappmd object creat object creat run subappl sampl provid sampler object list modulesstochastic_toolstestteststransfersmonte_carlomonte_carloi blockmultiapp final samplerparametertransfersamplerparametertransfermd util commun sampler data subappl paramet input list paramet subappl perturb to_control specifi samplerreceiversamplerreceivermd object subappl list modulesstochastic_toolstestteststransfersmonte_carlomonte_carloi blocktransf list modulesstochastic_toolstestteststransfersmonte_carlomonte_carloi idmontecarlomast captioncomplet input file master applic execut mont carlo stochast simul comparison surrog use timedepend problem exampl meant demonstr nonintrus surrog model gener timedepend problem nearest point polynomi regress polynomi chao expans surrog compar nonlinear diffus problem oscil sourc overview case timedepend nonlinear diffus problem solv squar oscil sourc center geometri present geometri consist omega time squar omega_ time sourc region center boundari problem denot gamma strong formul problem equat iddiffusionstrong fracparti tpartial nablacdotleftc leftfractrightnabla tright sinf tgammatextbfr quad textbfrin omega equat idboundarycond c leftfractrightnabla cdot textbfn quad textbfr gamma temperatur gammatextbfr select function return textbfrinomega_ otherwis paramet c_ f influenc magnitud diffus coeffici oscil frequenc sourc furthermor assum system initi constant temperatur t_ uncertain paramet problem c f t_ refer solut first transient present ref_solut row media stochastic_toolssurrogatescombineddiff_trans_dgeometrypng stylewidthfloatleft idgeometri captionth geometri problem media stochastic_toolssurrogatescombineddiff_trans_danimatedgif stylewidthfloatleft idref_solut captionrefer solut problem rowend problem quantiti interest qoi minimum maximum temperatur domain fist transient equat idproblem beginalign t_max max_textbfrinomegatinttextbfrt textand quad t_min min_textbfrinomegatinttextbfrt endalign uncertain paramet assum uniformli distribut simmathcalua b correspond minimum maximum b valu tabl paramet symbol distribut diffus coeffici multipli c simmathcalu frequenc multipli f simmathcalu initi temperatur t_ simmathcalu solv problem without uncertain paramet first step toward creat surrog model gener fullord model solv diffusionstrong fix paramet combin complet input file case present sub_app visibl time mesh delta timestep use solv transient problem list surrogatescombinedtrans_diff_dtrans_diff_subi idsub_app captioncomplet input file timedepend heat equat problem studi train surrog model problem involv gener three surrog nearestpointsurrogatemd polynomialregressionsurrogatemd polynomialchaosmd three construct use multipl instanc fullord problemsurrogatescombinedtrans_diff_dtrans_diff_subi subappl step manag trainer inputsurrogatescombinedtrans_diff_dtrans_diff_traineri file respons creat paramet sampl transfer subappl collect correspond result reader recommend read examplessurrogate_trainingmd examplesparameter_studymd get clear pictur train set surrog model train phase start definit distribut uncertain paramet distribut block uniform distribut defin list surrogatescombinedtrans_diff_dtrans_diff_traineri blockdistribut next multipl paramet vector prepar sampl underli distribut use object sampler block case sampl gener quadraturesamplermd optim polynomi chao expans sinc execut exampl expens term comput time sampl use train surrog well visibl sampler prepar paramet vector altogeth list surrogatescombinedtrans_diff_dtrans_diff_traineri blocksampl object block control multiapp transfer report respons manag commun trainer subappl execut subappl collect result detail descript block see examplesparameter_studymd surrogate_trainingmd list surrogatescombinedtrans_diff_dtrans_diff_traineri blockmultiapp control transfer report next six trainer three differ surrog qoi defin trainer block object use data sampler report polynomi chao surrog order polynomi regress surrog polynomi degre nearest point surrog use qoi work polynomialchaostrainermd also need knowledg underli paramet distribut abl select appropri polynomi list surrogatescombinedtrans_diff_dtrans_diff_traineri blocktrain last step train process import paramet train surrog save restart data file use construct surrog model without repeat train process list surrogatescombinedtrans_diff_dtrans_diff_traineri blockoutput evalu surrog model new main input filesurrogatescombinedtrans_diff_dtrans_diff_surri creat evalu surrog model input file use paramet distribut one use train surrog eeach surrog model test use new test paramet sampl set gener use latinhypercubesamplermd object sampler block sinc surrog model order magnitud faster sampl prepar test compar use train list surrogatescombinedtrans_diff_dtrans_diff_surri blocksampl next necessari object creat surrog block use inform avail within correspond restart data file list surrogatescombinedtrans_diff_dtrans_diff_surri blocksurrog surrog model evalu point defin test sampl batch done use object report block furthermor mean valu standard deviat qoi togeth confid interv gener well list surrogatescombinedtrans_diff_dtrans_diff_surri blockreport result analysi section result differ surrog model provid addit fullord model test sampl batch serv refer solut main input file test fullord model avail heresurrogatescombinedtrans_diff_dtrans_diff_maini short analysi result provid well first distribut qoi surrog compar refer result histogram show distribut maximum temperatur transient present figur enlarg click row media stochastic_toolssurrogatescombineddiff_trans_dpc_maxsvg stylewidthfloatleft idpc_max_hist captionpolynomi chao expanison surrog media stochastic_toolssurrogatescombineddiff_trans_dpr_maxsvg stylewidthfloatleft idpr_max_hist captionpolynomi regress surrog media stochastic_toolssurrogatescombineddiff_trans_dnp_maxsvg stylewidthfloatleft idnp_max_hist captionnearest point surrog rowend visibl even sampl refer result still exhibit high statist fluctuat unfortun consider sampl use fullord model effici due extrem long simul time also visibl polynomi chao polynomi regress surrog yield approxim result sampl distribut much smoother hand nearest point surrog introduc addit fluctuat mean capabl reconstruct shape origin distribut phenomena experi minum temperatur correspond histogram present row media stochastic_toolssurrogatescombineddiff_trans_dpc_minsvg stylewidthfloatleft idpc_min_hist captionpolynomi chao expanison surrog media stochastic_toolssurrogatescombineddiff_trans_dpr_minsvg stylewidthfloatleft idpr_min_hist captionpolynomi regress surrog media stochastic_toolssurrogatescombineddiff_trans_dnp_minsvg stylewidthfloatleft idnp_min_hist captionnearest point surrog rowend next statist moment compar statistical_moments_max maximum temperatur statistical_moments_min minimum temperatur system tabl idstatistical_moments_max captionth mean standard deviat maximum temperatur obtain use surrog refer fullord model model number sampl mean ci std dev ci fullord model refer nearest point surrog polynomi chao surrog polynomi regress surrog tabl idstatistical_moments_min captionth mean standard deviat minimum temperatur obtain use surrog refer fullord model model number sampl mean ci std dev ci fullord model refer nearest point surrog polynomi chao surrog polynomi regress surrog even though small differ mean valu conclud three surrog manag give correct answer differ fullord model surrog statist insignific standard deviat hand polynomi chao polynomi regress give back statist equival result lastli gain comput time present compute_tim import mention result obtain use core singl machin tabl idcompute_tim captionth wallclock time differ step surrog model process case wallclock time creat refer result sampl train surrog evalu surrog without comput ci evalu surrog comput ci visibl train use surrog model benefici case sinc save consider amount comput time also observ comput confid interv surrog model work intens step test phase due frequent resampl result vector pod reduc basi surrog exampl meant demonstr pod reduc basi surrog model train use parametr problem problem statement fullord model one energi group fixedsourc diffusionreact problem adopt citeprinceparametr geometri problem present pwr_geom problem four differ materi region three act fix sourc media d_multiregion_geometrypng styledisplayblockmarginleftautomarginrightautowidth idpwr_geom captionth geometri diffusionreact problem use exampl citeprinceparametr fixedsourc diffusionreact problem space depend coeffici express equat idfom_problem nabla cdotleftdtextbfrnablapsitextbfrrightsigma_atextbfrpsitextbfr qtextbfr quad textbfrinomega dtextbfr diffus coeffici sigma_atextbfr reaction coeffici qtextbfr fix sourc term field variabl psitextbfr solut interest furthermor omega denot intern domain without boundari partit four subdomain correspond four materi region omega_ omega_ omega_ omega_ equat need supplement boundari condit symmetri line dash line pwr_geom denot partialomega_sym homogen neumann condit use equat dtextbfrnablapsitextbfrcdot textbfntextbfr quad textbfrinpartialomega_sym rest boundari reflector denot partialomega_refl treat homogen dirichlet condit equat psitextbfr quad textbfrinpartialomega_refl problem parametr sens solut depend valu coeffici sourc psi psilefttextbfrdtextbfrsigma_atextbfrqtextbfrright exampl materi regionwis constant coeffici sourc term consid yield eight uncertain paramet altogeth assum region sourc materi properti region uniformuniformmd distribut mathcaluab specifi param_distribut b lower upper bound tabl idparam_distribut captionth distribut uncertain paramet use problem citeprinceparametr paramet symbol distribut diffus coeffici region leftcmright d_ simmathcalu diffus coeffici region leftcmright d_ simmathcalu diffus coeffici region leftcmright d_ simmathcalu diffus coeffici region leftcmright d_ simmathcalu reaction coeffici region leftcmright sigma_a simmathcalu reaction coeffici region leftcmright sigma_a simmathcalu reaction coeffici region leftcmright sigma_a simmathcalu reaction coeffici region leftcmright sigma_a simmathcalu fixedsourc region leftfracncm cdot sright q_ simmathcalu fixedsourc region leftfracncm cdot sright q_ simmathcalu fixedsourc region leftfracncm cdot sright q_ simmathcalu import mention podrb surrog effici origin problem affin decomposit inform affin decomposit see podreducedbasistrainermd luckili problem hand affin decomposit follow form equat sumlimits_inabla cdotleftd_itextbfrnablapsitextbfrrightsumlimits_isigma_aitextbfrpsitextbfr sumlimits_iq_itextbfr quad textbfrinomega d_itextbfr sigma_aitextbfr q_itextbfr take valu d_i sigma_ai q_i textbfrinomega_i otherwis solv problem without uncertain paramet first step toward creat podrb surrog model gener fullord problemsurrogatespod_rbd_multiregsubi solv fom_problem fix paramet three import factor need consid prepar input file problem user must specifi vector tag problem block compon affin decomposit system exampl shown vector_tag vector tag specifi eight uncertain paramet introduc extra work fullord model howev help identifi affin compon throughout train phase list surrogatespod_rbd_multiregsubi idvector_tag blockproblem captioncomplet input file heat equat problem studi input file reflect affin decomposit problem mean kernel bc materi creat way correspond compon affin decomposit shown affine_kernel note separ kernel creat everi singl term decomposit vector tag problem block appli kernel ensur affin compon correctli identifi throughout train phase list surrogatespod_rbd_multiregsubi idaffine_kernel blockkernel materi captioncomplet input file heat equat problem studi valu uncertain paramet set default necessari podreducedbasistrainermd use input file creat affin constitu oper ensur mention oper influenc parameterdepend multipli cours valu fix chang main applic throughout simul valu align param_distribut howev default valu input file set one shown affine_kernel well train surrog model detail train procedur podrb surrog see podreducedbasistrainermd first step collect data involv repeat execut fullord problemsurrogatespod_rbd_multiregsubi differ paramet combin save full solut vector solut vector often refer snapshot name prefer exampl well step manag main input filesurrogatespod_rbd_multiregtraineri creat paramet sampl transfer subappl collect result complet comput snapshot collect phase start definit distribut distribut block uniform distribut uncertain paramet specifi list surrogatespod_rbd_multiregtraineri blockdistribut next step underli distribut sampl creat paramet combin done use latinhypercubesamplermd defin sampler block visibl sampl prepar mean snapshot collect gener surrog list surrogatespod_rbd_multiregtraineri blocksampl abl creat reduc oper surrog model custom multiapp podfullsolvemultiappmd creat object respons execut subproblem use differ combin paramet valu provid sampler secondari function object creat action fullord oper basi function reduc subspac therefor object execut twice simul visibl unlik regular samplerfullsolvemultiappmd custom object know certain paramet trainer well list surrogatespod_rbd_multiregtraineri blockmultiapp term transfer block besid send actual paramet sampl subappl intrus procedur snapshot need collect subappl basi function need sent back differ subappl action oper basi function need collect well requir four transfer object two custom type podsamplersolutiontransfermd podresidualtransfermd specif use support podreducedbasistrainermd moment list surrogatespod_rbd_multiregtraineri blocktransf next podreducedbasistrainermd set trainer block trainer store snapshot use creat basi function reduc subspac furthermor also respons creat reducedord oper therefor need execut twice train process trainer object need know variabl need reduc name vector tag subappl abl identifi affin constitu oper furthermor use paramtrainerspodreducedbasistrainertag_typ input argument user specifi reduc affin constitu oper act variabl order must name vector tag mean energi retent limit discuss podreducedbasistrainermd list surrogatespod_rbd_multiregtraineri blocktrain last step train process basi function reduc oper everi necessari inform surrog save rd file file use construct surrog model without need repeat train process list surrogatespod_rbd_multiregtraineri blockoutput evalu surrog model evalu surrog model new main input filesurrogatespod_rbd_multiregsurri creat exampl distribut defin paramet use train phase therefor content distribut block ident one trainer input filesurrogatespod_rbd_multiregtraineri next step new sampl gener use distribut latinhypercubesamplermd employ task howev time number sampl increas sinc surrog order magnitud faster fullord model list surrogatespod_rbd_multiregsurri blocksampl podreducedbasissurrogatemd creat surrog block construct use inform avail within correspond rd file allow user chang rank subspac use differ variabl paramsurrogatespodreducedbasissurrogatechange_rank paramsurrogatespodreducedbasissurrogatenew_rank paramet list surrogatespod_rbd_multiregsurri blocksurrog surrog model evalu point defin test sampl batch podsurrogatetest object vectorpostprocessor block case quantiti interest qoi nodal l norm solut psi list surrogatespod_rbd_multiregsurri blockvectorpostprocessor run input file sinc subappl use test object one allow execution use specifi follow argument command line cd moosemodulesstocastic_toolsexamplessurrogatespod_rbd_multireg stochastic_toolsopt traineri allowtestobject true surrog input file well therefor one need start execut follow cd moosemodulesstocastic_toolsexamplessurrogatespod_rbd_multireg stochastic_toolsopt surri allowtestobject result analysi follow subsect short analysi provid result obtain use exampl input file alreadi mention problem uncertain paramet altogeth paramet sampl gener use latinhypercubesamplermd obtain snapshot train three exampl snapshot present snap_ snap_ snap_ visibl depend actual paramet combin profil solut chang consider row media d_multiregion_solpng stylewidthfloatleft idsnap_ captionsnap exampl media d_multiregion_solpng stylewidthfloatleft idsnap_ captionsnap exampl media d_multiregion_solpng stylewidthfloatleft idsnap_ captionsnap exampl rowend snapshot obtain basi function reduc subspac extract scenario energi retent limit use trainer keep basi function reduc subspac decay eigenvalu snapshot correl matrix shown ev_decay reduc oper comput use basi function plot scatter idev_decay captionscre plot eigenvalu correl matrix filenameexamplessurrogatespod_rbd_multireggoldeigenvalues_psicsv dataxno yev nameeigenvalu layoutxaxistitlebasi function yaxistypelogtitlecorrespond eigenvalu styledisplayblockmarginleftautomarginrightautowidth next step two surrog model prepar use paramsurrogatespodreducedbasissurrogatechange_rank paramsurrogatespodreducedbasissurrogatenew_rank paramet podreducedbasissurrogatemd chang size reduc system first surrog model basi function model run sampl test set nodal l norm approxim solut save addit fullord model execut test set result save serv refer valu hist_ present result surrog model built basi function visibl distribut qoi nodal l norm test set consider differ refer distribut media d_multireg_svg styledisplayblockmarginleftautomarginrightautowidth idhist_ captionth histogram qoi fullord refer model surrog built basi function hist_ show distribut qoi obtain surrog basi function visibl differ refer valu surrog neglig media d_multireg_svg styledisplayblockmarginleftautomarginrightautowidth idhist_ captionth histogram qoi fullord refer model surrog built basi function see converg result surrog fullord model surrog model run multipl time differ rank follow error indic comput sampl test set equat e_i fracpsi_refpsi_surr_lpsi_ref_lquad maximum averag rel error record function number basi function use converg show result visibl increas number basi function error indic decreas rapidli plot scatter idconverg captionth converg averag quantiti interest filenameexamplessurrogatespod_rbd_multireggoldd_multireg_resultscsv dataxno_mod ymean nameaverag e xno_mod ymax namemaximum e layoutxaxistypelog titlenumb basi function use yaxistypelogtitlerel error lastli comput time fullord model test set compar combin cost train evalu podrb surrog model com_tim test carri one processor use parallel capabl multiapp system result show benefici creat podrb surrog evalu need assum fullord evalu time equal distribut among test sampl ssampl divid train time number get critic sampl number gener surrog model better altern tabl idcom_tim captionth comput time fullord solut test set compar cost train surrog evalu test set process execut time evalu fullord model sampl test set train podrb surrog use sampl evalu podrb surrog sampl test set basi function evalu podrb surrog sampl test set basi function evalu podrb surrog sampl test set basi function polynomi chao surrog exampl explain train util polynomialchaospolynomialchaosmd surrog model detail inform polynomi chao method includ mathemat implement see polynomialchaospolynomialchaosmd quadraturesamplerquadraturesamplermd gener inform train evalu surrog model see train surrog modelexamplessurrogate_trainingmd evalu surrog modelexamplessurrogate_evaluatemd overview polynomi chao pc stochast element method formul similar finit element method instead discret spatial dimens pc discret random variabl ie uncertain paramet within train phase pc creat function quantiti interest qoi depend random variabl function consist finit sum orthogon polynomi coeffici coeffici train phase attempt comput anoth differ finit element polynomi necessarili compact support increas term sum increas polynomi order pleas see polynomialchaosmd detail polynomi chao method includ surrogate_trainingmd startheat_conduction_model_begin endheat_conduction_model_finish train section describ set input polynomialchaostrainerpolynomialchaostrainermd three aspect need known set input file sub app need built defin physic problem exampl use heat conduct modelexamplessurrogatessubi describ previou section uncertain paramet need identifi defin probabl distribut quantiti interest need defin come form postprocessor sub app includ surrogate_trainingmd startomitting_solve_begin endomitting_solve_finish replacenearest_point_train poly_chaos_uniform_mc paramet uncertainti distribut requir aspect polynomi chao method definit probabl distribut uncertain paramet distribut defin type polynomi use pc expans exampl show two type distribut avail pc train list examplessurrogatespoly_chaos_uniform_mci blockdistribut captionuniform distribut paramet list examplessurrogatespoly_chaos_normal_mci blockdistribut captionnorm distribut paramet train sampler nonintrus polynomi chao train reli sampl fullord model ie sub app number sampl point two gener type sampl techniqu pc mont carlo numer quadratur mont carlo sampl mont carlo sampl intuit type sampl done use montecarlomontecarlosamplermd latinhypercubelatinhypercubesamplermd sampler stochast tool modul list examplessurrogatespoly_chaos_uniform_mci blocksampl quadratur sampl pc expans use specif type polynomi use numer quadratur typic precis approach train pc model quadraturesamplerquadraturesamplermd implement numer quadratur uniform normal distribut three differ techniqu build multidimension quadratur grid cartesian grid smolyak spars grid clenshawcurti spars grid grid specifi paramsamplersquadraturesparse_grid paramet none smolyak clenshawcurti use spars grid significantli reduc number train point retain accuraci see quadraturesamplerquadraturesamplermd detail number sampl point ultim defin paramsamplersquadratureord paramet gener advis paramet set valu paramtrainerspolynomialchaostrainerord paramet polynomialchaostrainerpolynomialchaostrainermd list examplessurrogatespoly_chaos_uniform_quadi blocksampl run sub applic run sub app transfer data back forth pc exactli type surrog see train surrog modelexamplessurrogate_trainingmd detail set part input file list examplessurrogatespoly_chaos_uniform_quadi blockmultiapp control transfer report trainer pc train object defin within trainerstrainersindexmd block requir paramet pc trainer paramtrainerspolynomialchaostrainerdistribut specifi type polynomi use expans import distribut match distribut given sampler paramtrainerspolynomialchaostrainersampl object provid sampl point given sub app execut paramtrainerspolynomialchaostrainerrespons specifi result vector store comput valu paramtrainerspolynomialchaostrainerord defin maximum order pc expans paramet ultim defin accuraci complex surrog model list examplessurrogatespoly_chaos_uniform_mci blocktrain output train data output data train pc trainer exactli output data type trainer see train surrog modelexamplessurrogate_trainingmd detail set part input file list examplessurrogatespoly_chaos_uniform_mci blockoutput exampl input file examplessurrogatespoly_chaos_uniform_mci examplessurrogatespoly_chaos_uniform_quadi examplessurrogatespoly_chaos_normal_mci examplessurrogatespoly_chaos_normal_quadi evalu statist section go set input file evalu perform statist analysi train polynomi chao surrogatepolynomialchaosmd polynomi chao surrog uniqu abl comput statist moment sensit analyt specif postprocessor avail comput quantiti without need sampl includ surrogate_trainingmd startomitting_solve_begin endomitting_solve_finish replacenearest_point_train poly_chaos_uniform evalu evalu polynomi chao surrog model exactli type surrog see evalu surrog modelexamplessurrogate_evaluatemd detail list examplessurrogatespoly_chaos_uniformi blocksurrog captionload train data list examplessurrogatespoly_chaos_uniformi blockdistribut sampler captiondefin sampler evalu uniform distribut list examplessurrogatespoly_chaos_normali blockdistribut sampler captiondefin sampler evalu normal distribut list examplessurrogatespoly_chaos_uniformi blocksamp captionevalu surrog evaluatesurrogateevaluatesurrogatec statist sensit polynomialchaospolynomialchaosmd abil comput statist moment local sensit sobol indic analyt comput use polynomialchaosreporterpolynomialchaosreportermd implement moment includ mean standard deviat skew kurtosi type moment specifi paramreporterspolynomialchaosreporterstatist paramet combin mean stddev skew kurtosi exampl comput mean standard deviat note comput skew kurtosi comput demand use analyt techniqu therefor might better sampl surrog model comput quantiti result point comput sensit defin explicitli specifi paramreporterspolynomialchaosreporterlocal_sensitivity_point paramet andor use sampler specifi paramreporterspolynomialchaosreporterlocal_sensitivity_sampl vital column point match distribut defin origin trainer sobol statist metric global sensit paramet combin paramet see sobolreportermd detail comput set paramreporterspolynomialchaosreporterinclude_sobol paramet true comput total first secondord sobol indici list examplessurrogatespoly_chaos_uniformi blockstat exampl input file examplessurrogatespoly_chaos_uniformi examplessurrogatespoly_chaos_normali result analysi section result train evalu surrog model describ previou section shown converg studi polynomi chao train includ analysi sampl polynomi order also provid evalu result samp_uniform samp_norm show result probabl distribut sampl surrog point media poly_chaos_uniform_histsvg idsamp_uniform captiontemperatur distribut uniform paramet distribut media poly_chaos_normal_histsvg idsamp_norm captiontemperatur distribut normal paramet distribut local sensit result local_sens show result comput local sensit paramet everi surrog refer sensit defin equat s_p fracparti uvecxiparti xi_p fracxi_puvecxi u either bart t_max xi_p k q l t_infti point test vecxi kqlt_infti tabl idlocal_sens captionloc sensit result qoi distribut k sensit q sensit l sensit t_infti sensit bart uniform bart normal t_max uniform t_max normal sobol statist result sobol_stat show result comput sobol statist averag temperatur uniform paramet distribut surrog produc similar statist plot x axi repres first index subscript axi repres second seen statist symmetr ie matter order index subscript plot scatter idsobol_stat captionaverag temperatur sobol statist result uniform paramet distribut data type heatmap z e e e e e e e e e e e e e e e e kqltsubsub x kqltsubsub colorbar tickval ticktext supsup supsup supsup supsup supsup supsup sampl analysi effect variou sampl techniqu train polynomi chao surrog shown three differ type sampler use mont carlo tensor quadratur smolyak spars quadratur mont carlo run increas number sampl quadratur run increas order note polynomi expans order set constant perform metric error mean standard deviat versu number total train point samp_avg_uniformsamp_max_norm show result studi quantiti interest paramet distribut uniform distribut samp_avg_uniform samp_max_uniform analyt mean standard deviat nice converg howev normal distribut samp_avg_norm samp_max_norm use numer integr comput refer mean standard deviat spuriou converg low error plot scatter idsamp_avg_uniform captionsampl converg moment averag temperatur uniform paramet distribut filenameexamplessurrogatesgoldpoly_chaos_avg_uniform_resultscsv dataxmc_point ymc_mu namemc error xmc_point ymc_sig namemc error xtensor_point ytensor_mu nametensor error xtensor_point ytensor_sig nametensor error xsmolyak_point ysmolyak_mu namesmolyak error xsmolyak_point ysmolyak_sig namesmolyak error layoutxaxistypelogtitlenumb train point yaxistypelogtitlerel moment error plot scatter idsamp_max_uniform captionsampl converg moment maximum temperatur uniform paramet distribut filenameexamplessurrogatesgoldpoly_chaos_max_uniform_resultscsv dataxmc_point ymc_mu namemc error xmc_point ymc_sig namemc error xtensor_point ytensor_mu nametensor error xtensor_point ytensor_sig nametensor error xsmolyak_point ysmolyak_mu namesmolyak error xsmolyak_point ysmolyak_sig namesmolyak error layoutxaxistypelogtitlenumb train point yaxistypelogtitlerel moment error plot scatter idsamp_avg_norm captionsampl converg moment averag temperatur normal paramet distribut filenameexamplessurrogatesgoldpoly_chaos_avg_normal_resultscsv dataxmc_point ymc_mu namemc error xmc_point ymc_sig namemc error xtensor_point ytensor_mu nametensor error xtensor_point ytensor_sig nametensor error xsmolyak_point ysmolyak_mu namesmolyak error xsmolyak_point ysmolyak_sig namesmolyak error layoutxaxistypelogtitlenumb train point yaxistypelogtitlerel moment error plot scatter idsamp_max_norm captionsampl converg moment maximum temperatur normal paramet distribut filenameexamplessurrogatesgoldpoly_chaos_max_normal_resultscsv dataxmc_point ymc_mu namemc error xmc_point ymc_sig namemc error xtensor_point ytensor_mu nametensor error xtensor_point ytensor_sig nametensor error xsmolyak_point ysmolyak_mu namesmolyak error xsmolyak_point ysmolyak_sig namesmolyak error layoutxaxistypelogtitlenumb train point yaxistypelogtitlerel moment error polynomi order analysi effect polynomi expans order accuraci surrog model shown perform metric error mean standard deviat versu number total train point maximum polynomi order rang tensor quadratur sampler order match gener advis case ord_uniform show result converg studi uniform distribut normal distribut omit sinc analyt refer plot scatter idord_uniform captionpolynomi order converg moment maximum averag temperatur uniform paramet distribut filenameexamplessurrogatesgoldpoly_chaos_order_uniform_resultscsv dataxtensor_point ytensor_mu_avg namet error xtensor_point ytensor_sig_avg namet error xtensor_point ytensor_mu_max nametsubmaxsub error xtensor_point ytensor_sig_max nametsubmaxsub error layoutxaxistypelogtitlenumb train point yaxistypelogtitlerel moment error sobol sensit analysi follow exampl convert parameter_studymd perform global variancebas sensit analysi follow method citesaltellimak input file perform sensit analysi two minor chang input file parameter_studymd need occur sampler need chang anoth statist calcul object need ad remaind file remain except sampler name object updat use sobol sampler name defin follow subsect sobol sampler sobol sampl scheme consist use sampl resampl matrix creat seri matric use comput firstord secondord totaleffect sensit indic firstord indic portion varianc quantiti interest eg t_avg due varianc uncertain paramet eg gamma secondord indic portion varianc quantiti interest due varianc two uncertain paramet interact eg gamma final totaleffect indic portion varianc quantiti interest due varianc uncertain paramet interact paramet complet detail method pleas refer citesaltellimak sobolsamplermd object requir two input sampler form sampl resampl matrix thu sampler block contain three sampl object first two use third sobol sampler sampler use object simul list examplessobolmaini blocksampl sobol method implement requir nk model evalu k number uncertain paramet n number replic therefor exampl model evalu perform comput indic sobol statist valu firstord secondord totaleffect comput sobolreportermd object object report ad report block output object includ indic vector suppli list examplessobolmaini blockreport result jsonoutputmd output enabl sobolreportermd object write file contain column data column compris comput indic quantiti interest exampl sobol_out exampl output sobolreportermd object exampl problem list examplessobolgoldmain_outjson languagejson captioncomput sobol indic exampl heat conduct problem idsobol_out set indic first_ord second_ord total contain pair entri first valu comput second correspond confid interv problem examin four uncertain paramet element set indic correspond paramet indic input file gamma q_ t_ see sobolreportermd inform regard output problem hand firstord secondord indic two quantiti interest present s_t_avg s_q_left diagon entri firstord incid offdiagon term secondord indic exampl t_avg first orderindex gamma s_ secondord index s_ gamma interact q_ neg valu essenti zero replic execut number would becom closer zero python pythonvisualize_sobolpi main_outjson markdownt valu results_resultst_avgvalu stat second_ord paramnam gamma q_ t_ numberformat g tabl ids_t_avg captionfirstord secondord sobol indic t_avg s_ij ci gamma q_ t_ gamma q_ t_ python pythonvisualize_sobolpi main_outjson markdownt valu results_resultsq_leftvalu stat second_ord paramnam gamma q_ t_ numberformat g tabl ids_q_left captionfirstord secondord sobol indic q_left s_ij ci gamma q_ t_ gamma q_ t_ data two tabl clearli indic major varianc quantiti interest due varianc gamma also affect t_avg t_ affect q_left addit small contribut varianc secondord interact s_ gamma t_ import gamma t_ evid totaleffect indic shown totaleffect python pythonvisualize_sobolpi main_outjson markdownt stat total name results_resultst_avgvaluet_avg results_resultsq_leftvalueq_left paramnam gamma q_ t_ numberformat g tabl idtotaleffect captiontotaleffect sobol indic t_avg q_left s_t ci gamma q_ t_ t_avg q_left help visual sensit visualize_sobolpi also repres bar pot heat map python pythonvisualize_sobolpi main_outjson barplot logscal stat total name results_resultst_avgvaluet_avg results_resultsq_leftvalueq_left paramnam gamma q_ t_ media stochastic_toolssobolsobol_barpng python pythonvisualize_sobolpi main_outjson heatmap logscal stat second_ord name results_resultst_avgvaluet_avg results_resultsq_leftvalueq_left paramnam gamma q_ t_ media stochastic_toolssobolsobol_heatmappng train surrog model exampl goe train surrog model use trainerstrainersindexmd input syntax demonstr purpos exampl use nearestpointtrainernearestpointtrainermd see creat surrog modelexamplessurrogate_creationmd inform model creat overview gener surrogatetrainertrainersindexmd object take input output data fullord model creat reducedord model later evalu surrogatemodelsurrogatesindexmd object quickli emul fullord model output advantag creat reducedord gener requir minim amount sampl take larg set sampl statist quantiti much faster end use surrog system demonstr train process use heat conduct model fullord model maximum averag temperatur quantiti interest reducedord model use nearestpointtrainernearestpointtrainermd heat_conduction_model_begin model problem exampl use onedimension heat conduct problem fullord model certain uncertain paramet model equat follow equat kfracdtdx q quad xin l equat beginalign leftfracdtdxright_x txl t_infti endalign quantiti interest averag maximum temperatur equat beginalign bart fracint_ltxdxl t_max max_xinltx endalign paramet uncertainti demonstr paramet two type probabl distribut uniformuniformmd mathcaluab normalnormalmd mathcalnmusigma b max minimum bound uniform distribut respect mu sigma mean standard deviat normal distribut respect uncertain paramet model problem tabl paramet symbol uniform normal conduct k simmathcalu simmathcaln volumetr heat sourc q simmathcalu simmathcaln domain size l simmathcalu simmathcaln right boundari temperatur t_infti simmathcalu simmathcaln analyt solut simpl model problem analyt descript field temperatur averag temperatur maximum temperatur equat beginalign txkqlt_infti fracqkleftl xright t_infti bartkqlt_infti fracqlk t_infti t_maxkqlt_infti fracqlk t_infti endalign quadrat featur field temperatur use quadrat element discret actual yield exact solut input file input file use solv onedimension heat conduct model list examplessurrogatessubi input uncertain paramet defin krightarrow materialsconductivityprop_valu qrightarrow kernelssourcevalu lrightarrow meshxmax t_inftyrightarrow bcsrightvalu valu subi file arbitrari sinc stochast master app modifi heat_conduction_model_finish train section describ set input file train surrog output train data file act master app use multiappsmultiappsindexmd transferstransfersindexmd system commun run sub appexamplessurrogatessubi omitting_solve_begin omit solv input file moos need includ meshmeshindexmd variablessyntaxvariablesindexmd executionerexecutionerindexmd block howev stochast master app actual creat solv system stochastictoolsactionstochastictoolsindexmd build minim model satisfi requir list examplessurrogatesnearest_point_trainingi blockstochastictool omitting_solve_finish train sampler first sampler need creat defin train point fullord model run exampl train point defin cartesianproductsamplermd list examplessurrogatesnearest_point_trainingi blocksampl paramsamplerscartesianproductlinear_space_item paramet defin uniform grid point point paramet result train point paramsamplerscartesianproductexecute_on need set pre_multiapp_setup exampl sinc use multiappcommandlinecontrolmd perturb paramet multiapp control samplerfullsolvemultiappmd use setup commun master sub app abil loop sampl multiappcommandlinecontrolmd defin paramet perturb must correspond dimension defin samplersamplersindexmd list examplessurrogatesnearest_point_trainingi blockmultiapp control multiappcommandlinecontrolmd method perturb sub app input paramet paramet control samplerparametertransfermd use see mont carlo exampleexamplesmonte_carlomd detail transfer result perturb simul sub app finish result transfer master app samplerreportertransfermd use transfer postprocessor vectorpostprocessor report valu sub app stochasticreportermd master app list examplessurrogatesnearest_point_trainingi blocktransf report two transfer transfer sub app postprocessor comput bart t_infti two differ master app report paramreportersstochasticreporteroutput paramet set none doesnt output unnecessari result csv file trainer directli grab data report train object train object take sampler result data train surrog model sampler point taken directli sampler defin paramtrainersnearestpointtrainersampl result taken directli report vector postprocessor object defin paramtrainersnearestpointtrainerrespons paramtrainersnearestpointtrainerpredictor list examplessurrogatesnearest_point_trainingi blocktrain nearest_point_avg trainer see predictor valu vpp sampler column nearest_point_max trainer predictor name specifi indic sampler column use predictor stochasticreportermd defin report name name transfer execut transfer know valu name data exampl output train data train objectstrainersindexmd creat variabl surrog use evalu save data allow surrog run separ anoth input surrogatetraineroutputmd use output train data list examplessurrogatesnearest_point_trainingi blockoutput output file name file_base_surrog namerd exampl two output file nearest_point_training_out_nearest_point_avgrd nearest_point_training_out_nearest_point_maxrd gaussian process surrog exampl walk creation gaussian process surrog simpl exampl system analyt solut comparison first surrog consid singl input paramet vari lend simpl visual interpret surrog behavior next surrog extend idea two input paramet model lastli full system model input paramet compar analyt solut use sampl recommend user familiar basic surrog framework examplessurrogate_creationmd examplessurrogate_trainingmd examplessurrogate_evaluatemd problem statement full order model wish emul surrog onedimension heat conduct model four input paramet lbrace k q l t_infti rbrace equat kfracdtdx q quad xin l equat beginalign leftfracdtdxright_x txl t_infti endalign creat surrog use gaussian process quantiti interest chosen oppos attempt model tx directli quantiti interest chosen exampl averag temperatur input paramet tabl idparam_t paramet symbol normal uniform conduct k simmathcaln simmathcalu volumetr heat sourc q simmathcaln simmathcalu domain size l simmathcaln simmathcalu right boundari temperatur t_infti simmathcaln simmathcalu analyt solut simpl model problem analyt descript field temperatur averag temperatur equat beginalign txkqlt_infti fracqkleftl xright t_infti bartkqlt_infti fracqlk t_infti endalign reason bart chosen qoi model surrog exampl problem close form solut allow easi comparison surrog exact solut set problem problem singl input variabl good place provid insight gaussian process regress accomplish three paramet model system fix lbrace k l t_infti rbrace leav surrog model action vari q train valu q select simmathcalu evalu use full model evalu gaussian process model fit data point gaussian process chosen use squaredexponentialcovariancemd covari function use three user select hyperparamet set lbrace sigma_n sigma_f ell_q rbrace set train surrog requir standard trainer block found surrog model addit gaussian process specif covari block hyperparamet vari depend covari function select therefor specifi covari block list examplessurrogatesgaussian_processgaussian_process_uniform_di blocktrain covari creation surrog block follow standard procedur laid surrog model list examplessurrogatesgaussian_processgaussian_process_uniform_di blocksurrog one advantag gaussian process surrog abil provid model uncertainti output data standard evaluatesurrogateevaluatesurrogatemd report use specif paramreportersevaluatesurrogateevaluate_std also output standard deviat surrog evalu point list examplessurrogatesgaussian_processgaussian_process_uniform_di blockreport gaussian process surrog model evalu discret point paramet space wish visual respons model fine sampl requir accomplish sampl cartesianproductsamplermd evalu model evenli space q valu sampl plot d_untun space sampl point fill simpl linear interpol strictli speak plot exactli model list examplessurrogatesgaussian_processgaussian_process_uniform_di blocksampl media gaussian_process_uniform_dsvg idd_untun stylewidth captionsurrog model problem bartq use fix user specifi hyperparamet d_untun demonstr basic principl gaussian process surrog covari function near train point red marker uncertainti model trend toward measur nois sigma_n model function smooth infinit differenti move away data point model tend predict mean train data particularli notic extrapol region graph howev given scenario know model simpl linear fit may conclud fit better achiev better fit model need adjust specif better hyperparamet covari function like need test mani hyperparamet accomplish automat system enabl specifi tune hyperparamet use paramtrainersgaussianprocesstrainertune_paramet trainer tune bound place use paramtrainersgaussianprocesstrainertuning_min paramtrainersgaussianprocesstrainertuning_max list examplessurrogatesgaussian_processgaussian_process_uniform_d_tunedi blocktrain covari demonstr import hyperparamet tune data set use train surrog hyperparamet autotun enabl mode system attempt learn optim hyperparamet configur maxim likelihood observ data fit model result shown d_tune nearli linear fit littl uncertainti fit expect analyt form media gaussian_process_uniform_d_tunedsvg idd_tun stylewidth captionsurrog model problem bartq use tune hyperparamet inspect final hyperparamet valu tune give lbrace sigma_n sigma_f ell_q rbrace signific increas length scale ell_q primari factor improv fit set problem next idea extend two input dimens attempt model qoi behavior due vari k q fix valu lbrace l t_infti rbrace due increas dimension train sampl select q k extra hyperparamet ell_k also ad set hyperparamet tune list examplessurrogatesgaussian_processgaussian_process_uniform_d_tunedi blocksampl trainer covari done case first surrog fit use fix hyperparamet lbrace sigma_n sigma_f ell_q ell_k rbrace qoi surfac shown d_untun color map correspond surrog model uncertainti point case mode uncertainti highest point furthest train data point overal respons deviat strongli expect fracqk behavior predict media gaussian_process_uniform_dsvg idd_untun stylewidth captionsurrog model problem bartqk use fix hyperparamet hyperparamet tune enabl set paramtrainersgaussianprocesstrainertune_paramet d_tune show fit automat tune hyperparamet use data set result fit much better captur fracqk natur qoi respons high uncertainti occur primarili extrapol zone media gaussian_process_uniform_d_tunedsvg idd_tun stylewidth captionsurrog model problem bartqk use tune hyperparamet full problem idea extend natur full problem paramet set lbrace k q l t_infti rbrace model train occur use train point evalu occur sampl surrog time perturb input result shown histogram form hist evalu point sampl normal distribut param_tableth train data point sampl uniform distribut sampl train data normal distribut result imbal data point near mean caus poor perform outli region train evalu input examplessurrogatesgaussian_processgp_normal_mci examplessurrogatesgaussian_processgp_normali respect media normal_histsvg idhist stylewidth captionhistogram sampl surrog bartqklt_infti compar exact titl porousflow multiphys simul code coupl problem porou media tag c porou flow multiphys thmc darci flow author name andi wilkin orcid affili name christoph p green orcid affili name jonathan ennisk orcid x affili affili name csiro commonwealth scientif industri research organis index date februari bibliographi paperbib summari applic porousflow enabl simul transport flow porou media porousflow simul multicompon multiphas fluid flow along solid mechan heat flow chemic reaction tightlycoupl framework simul import mani practic field research instanc porousflow use follow applic groundwat studi herron crosbi often involv assess impact human intervent groundwat resourc consequ biospher frequent necessari use larg complex model includ effect rainfal pattern spatial tempor vari evapor transpir season river flow realist topographi hydrogeolog well human factor mine water bore dam etc certain situat assess impact mine groundwat vital model includ deform porou materi rock sinc greatli impact groundwat flow situat use abl track transport tracer pollut system model unsatur vados zone air groundwat coexist subsurfac geotherm model simul natur manmad geotherm system typic order quantifi heat energi may extract birdsal guglielmetti lima niederau model field involv coupl transport heat fluid mani model often largescal focu small region close wellbor investig wellbor integr field often use assess impact subsurfac heterogen realist pump regim geochem effect fractur flow creation new fractur deliber unintent hydrofractur well potenti microseism multiphas model simul co_ sequestr green lima h_ storag methan flow around coal mine c c simul involv interact flow least two fluid phase eg ga water chang temperatur often impact flow realist equat state fluid involv necessari instanc co_ sequestr typic involv pump highpressur cold co_ warmer aquif fill brine co_ dissolv brine cool chang densiti flow characterist mani model alter pressur temperatur potenti caus mechan failur subsurfac henc creation new flow path microseism lima understand miner heather subsurfac often involv fluid flow heat flow coupl deform simul millennia real time use realist therefor complic basinscal geolog situat porousflow could use includ oil ga product nuclear wast repositori chemic leach mani case enough solv tradit flow transport physic coupl physic necessari solid mechan deform stress import geochemistri alter flow characterist subsurfac highprecis equat state requir evolut fluid compon tracer pollut reactant interest unsatur physic crucial flow transport often impact subsurfac structur convers effect structurechang impact flow transport simul situat challeng practic mani widelyus simul code typic focu subset physic process therefor accur model often requir use sever looselycoupl softwar packag approach use mani problem interest particularli characterist time scale physic process suffici differ instanc howev abil tightli coupl differ physic process necessari due compar characterist time scale differ physic process porousflow allow simul relev thermalhydraulicmechanicalchem thmc physic phenomenon tightlycoupl framework core equat core equat solv porousflow fluid mass conserv heatenergi conserv conserv solidmechan momentum fluid mass conserv fluid speci kappa read beginequ fracparti mkappaparti mkappanablacdotmathbf v_ nablacdot mathbffkappa lambda mkappa phi i_mathrmchem qkappa endequ denot time nabla vector spatial deriv mass fluid per bulk volum involv sum fluid phase present system mathbfv_ veloc porou solid skeleton second term ensur mass conserv evolv skeleton mathbff fluid flux vector includ advect darci law well diffus hydrodynam dispers lambda radioact decay rate phi i_mathrmchem repres chemic precipit dissolut phi poros q sourc lagrangian coordin system use mean mesh move mathbfv_ heatenergi conserv read beginequ fracpartialmathcaleparti mathcalenablacdotmathbf v_ nablacdot mathbfft nu phisigmamathrmeff_ijfracpartialparti tepsilon_ijmathrmplast qt endequ mathcal heat energi per unit volum rockfluid system involv porou skeleton heat energi well fluid heat energi account satur mathbfft heat flux vector involv heat conduct advect fluid nu describ ratio plasticdeform energi get transfer heat energi plastic deform solid skeleton qt heat sourc effect stress compon denot sigmamathrmeff_ij j spatial indic sum j impli epsilonmathrmplast plastic strain conserv momentum read beginequ rho_mathrmmatfracparti v_sjpartial nabla_isigma_ijmathrmeff alpha_bnabla_j p_f rho_mathrmmatb_j endequ j spatial indic v_sj jmathrmth compon veloc mathbfv_ rho_mathrmmat massdens materi includ solid fluid contribut b_j compon extern forc densiti exampl gravit acceler effect stress sigmamathrmeff obey constitut equat alpha_b biot coeffici p_f effect fluid porepressur comprehens list equat includ fluid equat state evolut poros permeabl relativeperm function capillari relationship chemic reaction etc may found httpsmooseframeworkorgmodulesporous_flowindexhtml softwar detail comparison porousflow built upon opensourc massiv parallel fulli implicit multiphys simul framework moos multiphys objectori simul environ permannmoos moos opensourc librari idaho nation laboratori provid highlevel interfac libmesh finit element librari libmesh petsc nonlinear solver petsc moos porousflow follow strict qualiti controlshttpsmooseframeworkorgsqaindexhtml opensourc code also perform tightlycoupl thermalhydraulicmechanicalchem simul degre includ opengeosi opengeosi pflotran pflotran work open porou media initi opm one aspect make porousflow differ code eas coupl addit physic base flow transport capabl rel speed simplic develop new capabl use api provid moos har power moos mean porousflow simul effici use multiprocessor automat util threadingopenmp without develop user worri softwar technic user perspect mesh adapt varieti integr scheme unstructur mesh may use variou timestep scheme may employ varieti io format avail exodu vtk file well csv plaintext user may util multiapp system allow simul embed insid simul gui help user creat run analys model exampl porousflow result shown autoreffigexampl co_ dissolv brine brine densiti increas result beauti densitydriven convect flow resembl lava lamp top figur show initi condit co_ inject top brinefil reservoir lower figur show co_ concentr time evolveslabelfigexamplepaperpng conveni sourc code porousflow bundl within moos framework detail document found httpsmooseframeworkorgmodulesporous_flowindexhtml acknowledg author wish acknowledg develop contribut porousflow modul especi heather sheldon philipp schaedl fund develop obtain csiro strateg fund sourc jonathan ennisk deepak adhikari qingdong qu well fund idaho nation laboratori robert podgorney author thank moos framework team past present provid moos framework auxiliari function qualiti control test har document scaffold build script etc refer porousflow porousflow modul moos enabl simul flow transport porou media use porousflow document found httpsmooseframeworkorgmodulesporous_flowindexhtml describ physic exampl tutori detail concern test suit implement detail new porousflow user never use moos encourag checkout workshophttpsmooseframeworkorgworkshop exampleshttpsmooseframeworkorggetting_startedexamples_and_tutorialsindexhtmlexampl doxygen page porousflow httpsmooseframeworkorgdocsdoxygenmodulesclasseshtml particular navig letter p explor porousflow class licens porousflow distribut moos gnu lesser gener public licens version httpsgithubcomidaholabmooseblobmasterlicens instal porousflow come packag moos framework instal moos porousflow pleas follow instruct httpsmooseframeworkorgmodulesporous_flowgetting_started_with_pfhtml build test moos need build porousflow easi step cd path_to_moosemodulesporous_flow make may option use make j system avail core j etc test porousflow come hundr test ensur run correctli cd path_to_moosemodulesporous_flow run_test may option use run_test j system avail core j etc contribut free contribut porousflow process describ herehttpsmooseframeworkinlgovframework_developmentcontributinghtml moos strict qualiti control standard contact pleas contact main moos discuss forumhttpsgithubcomidaholabmoosediscuss porousflow develop answer question modulesporous_flowindexmd templat load filestubsmoose_systemmdtempl nameporousflowunsatur syntaxporousflowunsatur templat load filestubsmoose_systemmdtempl nameporousflowfullysatur syntaxporousflowfullysatur templat load filestubsmoose_systemmdtempl nameporousflowbasicthm syntaxporousflowbasicthm templat load filestubsmoose_systemmdtempl namemodul syntaxmodul templat load filestubsmoose_systemmdtempl nameporousflow syntaxmodulesporousflow templat load filestubsmoose_systemmdtempl nameporousflowbc syntaxmodulesporousflowbc porousflowpointsourcefrompostprocessor porousflowpointsourcefrompostprocessor implement mass point sourc add remov fluid mass flux rate comput postprocessor instanc list modulesporous_flowtesttestsdirackernelsfromppsi blockdirackernel note execute_on paramet set timestep_begin correct valu use within timestep list modulesporous_flowtesttestsdirackernelsfromppsi blockpostprocessor syntax paramet dirackernelsporousflowpointsourcefrompostprocessor syntax input dirackernelsporousflowpointsourcefrompostprocessor syntax children dirackernelsporousflowpointsourcefrompostprocessor porousflowpointenthalpysourcefrompostprocessor porousflowpointenthalpysourcefrompostprocessor implement point sourc add heat energi correspond ad fluid mass flux rate comput postprocessor specifi temperatur comput postprocessor object use conjunct porousflowpointsourcefrompostprocessorporousflowpointsourcefrompostprocessormd use mass_flux postprocessor correct amount fluid inject system note fluid properti object use dirac kernel one use comput domain object locat paramet paramdirackernelsporousflowpointenthalpysourcefrompostprocessorpressur along paramdirackernelsporousflowpointenthalpysourcefrompostprocessort_in use calcul inject fluid enthalpi frequent porousflow pressur variabl porepressur porou medium model situat fluid inject specifi rate temperatur use dirackernel porousflowpointsourcefrompostprocessor potenti lead chang porepressur altern may pressur inject fluid fix extern agent pump store auxvari instanc list modulesporous_flowtesttestsdirackernelshfromppsi blockdirackernel note execute_on paramet set timestep_begin correct valu use within timestep list modulesporous_flowtesttestsdirackernelshfromppsi blockpostprocessor list modulesporous_flowtesttestsdirackernelshfromppsi blockdirackernel syntax paramet dirackernelsporousflowpointenthalpysourcefrompostprocessor syntax input dirackernelsporousflowpointenthalpysourcefrompostprocessor syntax children dirackernelsporousflowpointenthalpysourcefrompostprocessor porousflowsquarepulsepointsourc porousflowsquarepulsepointsourc implement constant mass point sourc add remov fluid constant mass flux rate time specifi start end time start end time specifi sourc sink start start simul continu act indefinit instanc list modulesporous_flowtesttestsdirackernelssquarepulsei blockdirackernel syntax paramet dirackernelsporousflowsquarepulsepointsourc syntax input dirackernelsporousflowsquarepulsepointsourc syntax children dirackernelsporousflowsquarepulsepointsourc porousflowpeacemanborehol porousflowpeacemanborehol special case gener line sink polylin repres sequenc point act sink sourc model pleas see sinkssinksmd extend discuss exampl syntax paramet dirackernelsporousflowpeacemanborehol syntax input dirackernelsporousflowpeacemanborehol syntax children dirackernelsporousflowpeacemanborehol porousflowpolylinesink porousflowpolylinesink special case gener line sink polylin repres sequenc point act sink sourc model pleas see sinkssinksmd extend discuss exampl syntax paramet dirackernelsporousflowpolylinesink syntax input dirackernelsporousflowpolylinesink syntax children dirackernelsporousflowpolylinesink porousflowelementnorm auxkernel calcul element normal return x z compon mostli design element live space howev case handl special case use paramauxkernelsporousflowelementnormald_perp paramauxkernelsporousflowelementnormald_default input element normal calcul construct vector n_ n_time n_ n_ time crossproduct n_i posit imathrmth node construct vector n_ n_time n_ n_ ldot construct vector n_n n_ntime n_n n_n n number node element henc triangular linear lagrang element n vector construct quadrilater linear lagrang element n vector construct sum vector normalis return result element normal calcul construct vector vtime n_ n_ v paramauxkernelsporousflowelementnormald_perp vector suppli user construct vector vtime n_ n_ ldot construct vector vtime n_n n_n n number node element henc bar linear lagrang element n vector construct sum vector normalis return result element paramauxkernelsporousflowelementnormald_default return alert note element monomi auxvari use auxkernel syntax paramet auxkernelsporousflowelementnorm syntax input auxkernelsporousflowelementnorm syntax children auxkernelsporousflowelementnorm porousflowdarcyvelocitycompon syntax descript auxkernelsporousflowdarcyvelocitycompon auxkernel calcul x z compon darci veloc beginequ frackk_mathrmrbetamu_betanabla p_beta rho_beta mathbfg endequ fluid phase beta paramet defin nomenclaturenomenclaturemd alert note auxkernel use materi properti element monomi auxvari use syntax paramet auxkernelsporousflowdarcyvelocitycompon syntax input auxkernelsporousflowdarcyvelocitycompon syntax children auxkernelsporousflowdarcyvelocitycompon porousflowelementlength auxkernel calcul notion element length along given direct plane construct element centroid normal equal paramauxkernelsporousflowelementlengthdirect averag distanc nodal posit plane length return exampl shown ele_l_fig media mediaporous_flowporousflowelementlengthpng stylewidthmarginleftpx captionlength l red return rectangular element black given direct green idele_l_fig alert note element monomi auxvari use auxkernel syntax paramet auxkernelsporousflowelementlength syntax input auxkernelsporousflowelementlength syntax children auxkernelsporousflowelementlength porousflowpropertyaux syntax descript auxkernelsporousflowpropertyaux auxkernel provid simplifi access fluid materi properti follow properti avail use properti input paramet pressur satur temperatur densiti viscos mass_fract relperm capillary_pressur enthalpi internal_energi secondary_concentr msecondari speciesmfluid mineral_concentr msecondari speciesmpor materi mineral_reaction_r msecondari speciesmpor materi poros permeabl hystersis_ord hysteresis_saturation_turning_point hysteretic_info see porousflowhystereticinfoporousflowhystereticinfomd fluid phase fluid compon specifi phase fluid_compon input paramet respect properti relat chemic reaction secondary_speci mineral_speci paramet relev hysteresis_saturation_turning_point hysteresis_turning_point number relev alert note auxkernel use materi properti element monomi auxvari use syntax paramet auxkernelsporousflowpropertyaux syntax input auxkernelsporousflowpropertyaux syntax children auxkernelsporousflowpropertyaux porousflowdarcyvelocitycomponentlowerdimension syntax descript auxkernelsporousflowdarcyvelocitycomponentlowerdimension auxkernel record darci veloc within lowerdimension element live higherdimension mesh instanc studi flow within fractur materi might creat mesh subdomain block element repres differ aquif aquitard exampl within mesh might includ element repres fractur element must share node element moos model make sens element belong differ set subdomain subdomain typic differ materi properti assign exampl high permeabl poros want measur darci veloc within lowerdimension subdomain use auxkernel auxkernel calcul x z compon darci veloc beginequ frackk_mathrmrbetaamu_betanabla p_beta rho_beta mathbfg endequ fluid phase beta nabla p_beta mathbfg project onto tangent direct lowerdimension element paramet defin nomenclaturenomenclaturemd notic denomin express includ fractur apertur user doesnt want divid default valu use howev like use auxkernel dimens permeabl premultipl fractur apertur denomin includ unconvent unit permeabl may account desir alert note auxkernel use materi properti element monomi auxvari use auxvari must defin lowerdimension subdomain alert warn result make sens permeabl tensor k must rotat tangenti vector nontangenti vector instanc isotrop permeabl tensor sensibl syntax paramet auxkernelsporousflowdarcyvelocitycomponentlowerdimension syntax input auxkernelsporousflowdarcyvelocitycomponentlowerdimension syntax children auxkernelsporousflowdarcyvelocitycomponentlowerdimension porousflowheatenergi syntax descript postprocessorsporousflowheatenergi postprocessor calcul heat energi fluid phase beta use beginequ mathcal phisum_betas_betarho_betamathcale_beta endequ variabl defin nomenclaturenomenclaturemd phase heat energi sum enter phase input paramet multipl indic enter default addit heat energi due porou materi beginequ phirho_rc_rt endequ ad heat energi fluid phase contribut ignor set include_porous_skeleton fals flag use_displaced_mesh fals set intern postprocessor paramet alter user even simul solidmechan deform reason postprocessor use strain calcul tensormechan automat compens deform mesh inform may found hereporous_flowtime_derivativemd therefor mechanicallycoupl simul must provid base_nam ident use tensormechan strain calcul postprocessor retriev correct strain common usecas provid base_nam tensormechan strain calcul henc base_nam postprocessor nonmechanicallycoupl simul must provd base_nam use tensormechan strain calcul common usecas tensormechan strain calcul neednt worri provid base_nam postprocessor howev possibl tensormechan strain calcul dont want coupl mechan porousflow case suppli base_nam non_exist similar postprocessor doesnt retriev strain syntax paramet postprocessorsporousflowheatenergi syntax input postprocessorsporousflowheatenergi syntax children postprocessorsporousflowheatenergi porousflowfluidmass syntax descript postprocessorsporousflowfluidmass postprocessor calcul mass fluid compon kappa use beginequ mkappa phi sum_beta chikappa_beta rho_beta s_beta endequ variabl defin nomenclaturenomenclaturemd fluid compon kappa specifi input paramet fluid_compon default mass fluid compon kappa sum fluid phase sum restrict subset fluid phase enter phase index phase input paramet postprocessor also provid option calcul fluid mass certain satur invok use saturation_threshold paramet flag use_displaced_mesh fals set intern postprocessor paramet alter user even simul solidmechan deform reason postprocessor use strain calcul tensormechan automat compens deform mesh inform may found hereporous_flowtime_derivativemd therefor mechanicallycoupl simul must provid base_nam ident use tensormechan strain calcul postprocessor retriev correct strain common usecas provid base_nam tensormechan strain calcul henc base_nam postprocessor nonmechanicallycoupl simul must provd base_nam use tensormechan strain calcul common usecas tensormechan strain calcul neednt worri provid base_nam postprocessor howev possibl tensormechan strain calcul dont want coupl mechan porousflow case suppli base_nam non_exist similar postprocessor doesnt retriev strain syntax paramet postprocessorsporousflowfluidmass syntax input postprocessorsporousflowfluidmass syntax children postprocessorsporousflowfluidmass porousflowplotquant use record total fluid kg heat j flux produc porousflow dirackernel time step see polylin sinkssinksmd extend discuss syntax paramet postprocessorsporousflowplotquant syntax input postprocessorsporousflowplotquant syntax children postprocessorsporousflowplotquant porousflowfluxlimitedtvdadvect kernel implement advect flux beginequ nablacdotmathbfvu endequ u mathbfv defin via one porousflowadvectivefluxcalcul userobject see porousflow kuzminturek pagektmd detail use kernel porousflow simul syntax paramet kernelsporousflowfluxlimitedtvdadvect syntax input kernelsporousflowfluxlimitedtvdadvect syntax children kernelsporousflowfluxlimitedtvdadvect porousfloweffectivestresscoupl syntax descript kernelsporousfloweffectivestresscoupl syntax paramet kernelsporousfloweffectivestresscoupl syntax input kernelsporousfloweffectivestresscoupl syntax children kernelsporousfloweffectivestresscoupl porousflowadvectiveflux syntax descript kernelsporousflowadvectiveflux kernel implement weak form beginequ nablacdot sum_betachi_betakappa rho_betafrackk_mathrmrbetamu_betanabla p_beta rho_beta mathbfg endequ paramet defin nomenclaturenomenclaturemd alert note fullyupwind version implement mobil upstream node use see upwindingupwindingmd detail kernel implement kuzminturek tvd stabilizationktmd syntax paramet kernelsporousflowadvectiveflux syntax input kernelsporousflowadvectiveflux syntax children kernelsporousflowadvectiveflux porousflowheatconduct syntax descript kernelsporousflowheatconduct kernel implement weak form beginequ nablacdot leftlambda nabla tright endequ paramet defin nomenclaturenomenclaturemd syntax paramet kernelsporousflowheatconduct syntax input kernelsporousflowheatconduct syntax children kernelsporousflowheatconduct porousflowdesorpedmassvolumetricexpans syntax descript kernelsporousflowdesorpedmassvolumetricexpans kernel implement weak form beginequ left phickapparightnablacdotmathbfv_ endequ paramet defin nomenclaturenomenclaturemd syntax paramet kernelsporousflowdesorpedmassvolumetricexpans syntax input kernelsporousflowdesorpedmassvolumetricexpans syntax children kernelsporousflowdesorpedmassvolumetricexpans porousflowdispersiveflux syntax descript kernelsporousflowdispersiveflux kernel implement weak form beginequ nablacdot sum_betarho_betamathcald_betakappanabla chi_betakappa endequ hydrodynam dispers tensor beginequ mathcald_betakappa d_betatkappamathcali fracd_betalkappa d_beta tkappamathbfv_betamathbfv_betamathbfv_beta endequ beginequ beginalign d_betalkappa phitau_tau_betad_betakappa alpha_beta lleftmathbfvright_beta d_betatkappa phitau_tau_betad_betakappa alpha_beta tleftmathbfvright_beta endalign endequ paramet defin nomenclaturenomenclaturemd syntax paramet kernelsporousflowdispersiveflux syntax input kernelsporousflowdispersiveflux syntax children kernelsporousflowdispersiveflux porousflowfullysaturatedmasstimederiv syntax descript kernelsporousflowfullysaturatedmasstimederiv consid fullysatur singlephas singlecompon fluid thm simul timederivatv term fluid govern equationgoverning_equationsmd beginequ fracpartialparti phi rho phirhodotepsilon_v endequ dotepsilon_v nablacdot mathbf v_ nomenclatur describ herenomenclaturemd use thm evolut porosityporous_flowporositymd along assumpt fluid bulk modulu k_f volumetr thermal expans coeffici alpha_f constant fluid densiti given beginequ rho rho_exppk_f alpha_f endequ time deriv term may written beginequ labelporomecheq rho left fracmdotp alpha_bdotepsilon_v adott right endequ socal biot modulu beginequ labelbiotmoddef fracm fracphik_f frac alpha_balpha_b phik endequ effect volumetr thermal expans coeffici beginequ labelconstthermexpdef alpha_b phialpha_t phialpha_f endequ notic disregard premultipl rho timederiv term poromecheq would linear variabl p displac constant standard poromechan usual calcul initi stage simul keep fix forev afterward cours approxim sinc deriv use explicit assumpt poros depend p epsilon_v make find analyt solut much easier therefor porousflow offer follow materi kernel use materi kernel allow immedi precis comparison analyt numer solut poromechan porousflowconstantbiotmodulusporousflowconstantbiotmodulusmd materi comput given biotmoddef initi stage simul keep fix thereaft requir poros materi materi properti use initi comput porousflowconstantthermalexpansioncoefficientporousflowconstantthermalexpansioncoefficientmd materi comput given constthermexpdef initi stage simul keep fix thereaft requir poros materi materi properti use initi comput porousflowfullysaturatedmasstimederiv kernel comput one follow contribut depend upon coupling_typ flag rho dotpm fluidflowonli problem rhodotpm adott th problem rhodotpm alpha_bdotepsilon_v hm problem rhodotpm alpha_bdotepsilon_v adott thm problem porousflowfullysaturatedmasstimederiv kernel employ lump larg unecessari singlephas singlecompon situat mean quadpoint materi need fact use fullysatur flow kernel see govern equationsgoverning_equationsmd standard materi evalu quadpoint need save comput time inputfil length case initi premultipl rho option indic parenthas around rho kernel premultipli rho default comput time deriv fluid mass allow kernel easili use remaind porousflow bc postprocessor auxkernel dirackernel base mass premultipl perform kernel comput time deriv fluid volum two great advantag timederiv linearis result excel nonlinear converg compar result poromechan theori straightforward howev mean addit care must taken flow kernel porousflowfullysaturateddarcybaseporousflowfullysaturateddarcybasemd also premultipli densiti bc postprocessor auxkernel dirackernel must written way oper fluidvolum scenario rather default fluidmass scenario flag consistent_with_displaced_mesh set fals porousflowvolumetricstrainporousflowvolumetricstrainmd materi syntax paramet kernelsporousflowfullysaturatedmasstimederiv syntax input kernelsporousflowfullysaturatedmasstimederiv syntax children kernelsporousflowfullysaturatedmasstimederiv bibtex bibliographi porousflowexponentialdecay syntax descript kernelsporousflowexponentialdecay descript residu comput porousflowexponentialdecay beginequ mathrmresidu ru u_mathrmref endequ u variabl r u_mathrmref auxvari real valu combin timederiv kernel use simul exponenti decay u one exampl simul heat loss use lauweri model syntax paramet kernelsporousflowexponentialdecay syntax input kernelsporousflowexponentialdecay syntax children kernelsporousflowexponentialdecay porousflowenergytimederiv syntax descript kernelsporousflowenergytimederiv kernel implement weak form beginequ fracpartialparti tleftphirho_rc_rt phisum_betas_betarho_betamathcale_betaright endequ paramet defin nomenclaturenomenclaturemd alert note energylump version implement see mass lumpingmass_lumpingmd detail mechanicallycoupl simul mesh deform numer implement kernel involv old valu volumetr strain inform found hereporous_flowtime_derivativemd assum calcul tensormechan strain calcul instanc computesmallstraincomputesmallstrainmd given base_nam henc usual employ base_nam kernel use strain calcul howev wish includ mechan deform coupl porou flow simpli enter base_nam doesnt exist eg base_nam non_exist volumetr strain wont includ kernel note want fullycoupl simul accident make typo base_nam porousflow assum dont want includ volumetr strain contain volumetr strain kernel alway set use_displaced_mesh fals paramet alter user inform found hereporous_flowtime_derivativemd syntax paramet kernelsporousflowenergytimederiv syntax input kernelsporousflowenergytimederiv syntax children kernelsporousflowenergytimederiv porousflowbasicadvect syntax descript kernelsporousflowbasicadvect kernel implement differenti express beginequ nablacdotmathbfv_beta u endequ mathbfv_beta darci veloc fluid phase beta advect variabl u darci veloc defin beginequ mathbfv_beta frack k_mathrmr betamu_betanabla p_beta rho_betamathbfg endequ k permeabl tensor k_mathrmr beta rel permeabl mu viscos p porepressur rho densiti mathbfg gravit acceler kernel design use tracer similar variabl describ mass fraction variabl porousflow requir use porousflowdarcyvelocitymaterialporousflowdarcyvelocitymaterialmd materi alert warn naiv implement advect use almost definit see spuriou overshoot undershoot well numer diffus use kernel usual better use porousflowadvectivefluxporousflowadvectivefluxmd possibl typic usag kernel model advect equat dotunabla vu implement follow list modulesporous_flowtesttestsbasic_advectionphasei startkernel enduserobject syntax paramet kernelsporousflowbasicadvect syntax input kernelsporousflowbasicadvect syntax children kernelsporousflowbasicadvect fluxlimitedtvdadvect kernel implement weak form beginequ nablacdotmathbfvu endequ employ kuzminturek citepkuzminturek stabil need correspond advectivefluxcalculatorconstantvelocityadvectivefluxcalculatorconstantvelocitymd userobject sort stabil describ detail work exampl kuzminturek stabilizationkt_workedmd also see numer diffusionnumerical_diffusionmd exampl kuzminturek scheme compar numer scheme syntax paramet kernelsfluxlimitedtvdadvect syntax input kernelsfluxlimitedtvdadvect syntax children kernelsfluxlimitedtvdadvect porousflowfullysaturateddarcyflow syntax descript kernelsporousflowfullysaturateddarcyflow describ differenti term beginequ nablacdot rhochikappa knabla p rho mathbfgmu endequ nomenclatur describ herenomenclaturemd fullysatur multicompon singlephas darci flow fluid compon kappa alert note although multipl rho option almost alway set multiply_by_densitytru alert note upwindingupwindingmd perform mean mani nodal materi propertiestutorial_md need numer diffusionnumerical_diffusionmd reduc howev numer less well control whole point full upwind prevent overshoot undershoot mass fraction etc kernel implement kuzminturek tvd stabilizationktmd syntax paramet kernelsporousflowfullysaturateddarcyflow syntax input kernelsporousflowfullysaturateddarcyflow syntax children kernelsporousflowfullysaturateddarcyflow bibtex bibliographi porousflowfullysaturatedupwindheatadvect syntax descript kernelsporousflowfullysaturatedupwindheatadvect kernel implement weak form beginequ nablacdot h rhofrackmunabla p rho mathbfg endequ paramet defin nomenclaturenomenclaturemd relev situat involv singlephas fluid multiphas scenario want use porousflowheatadvectionporousflowheatadvectionmd kernel usual ad porousflowfullysaturatedporousflowfullysaturatedmd action discuss includ page alert note fullyupwind version implement mobil upstream node use see upwindingupwindingmd detail desir upwind use porousflowfullysaturatedheatadvectionporousflowfullysaturatedheatadvectionmd instead desir kuzminturek tvd stabilizationktmd use porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd syntax paramet kernelsporousflowfullysaturatedupwindheatadvect syntax input kernelsporousflowfullysaturatedupwindheatadvect syntax children kernelsporousflowfullysaturatedupwindheatadvect porousflowmassradioactivedecay syntax descript kernelsporousflowmassradioactivedecay kernel implement weak form beginequ lambda phisum_betas_betarho_betachi_betakappa endequ paramet defin nomenclaturenomenclaturemd syntax paramet kernelsporousflowmassradioactivedecay syntax input kernelsporousflowmassradioactivedecay syntax children kernelsporousflowmassradioactivedecay porousflowmasstimederiv syntax descript kernelsporousflowmasstimederiv kernel implement weak form beginequ fracpartialparti tleftphisum_betas_betarho_betachi_betakapparight endequ paramet defin nomenclaturenomenclaturemd alert note masslump version implement see mass lumpingmass_lumpingmd detail multipl rho_beta option control multiply_by_dens flag sometim advantag use flag problem becom linear howev sometim chang natur physic problem model consid instanc fullysatur multicompon system multiply_by_dens fals impli steadyst laplac equat porepressur care must taken use porousflow object intrins multiply_by_dens true porousflowfluidmassporousflowfluidmassmd new user encourag use default multiply_by_dens true flag gain familiar porousflow mechanicallycoupl simul mesh deform numer implement kernel involv old valu volumetr strain inform found hereporous_flowtime_derivativemd assum calcul tensormechan strain calcul instanc computesmallstraincomputesmallstrainmd given base_nam henc usual employ base_nam kernel use strain calcul howev wish includ mechan deform coupl porou flow simpli enter base_nam doesnt exist eg base_nam non_exist volumetr strain wont includ kernel note want fullycoupl simul accident make typo base_nam porousflow assum dont want includ volumetr strain contain volumetr strain kernel alway set use_displaced_mesh fals paramet alter user inform found hereporous_flowtime_derivativemd syntax paramet kernelsporousflowmasstimederiv syntax input kernelsporousflowmasstimederiv syntax children kernelsporousflowmasstimederiv porousflowfullysaturatedadvectiveflux syntax descript kernelsporousflowfullysaturatedadvectiveflux describ differenti term beginequ nablacdot rhochikappa knabla p rho mathbfgmu endequ nomenclatur describ herenomenclaturemd fullysatur multicompon singlephas darci flow fluid compon kappa factor rho appear parenthas option contol multiply_by_dens flag multiply_by_dens fals chosen problem becom linear henc converg faster care must taken porousflow object porousflowfluidmassporousflowfluidmassmd sinc flux becom volum flux si unit mm instead usual mass flux si unit kgm full upwindingupwindingmd use kernel see numer stabil lead pagestabilizationmd page detail kernel may ad automat porousflowfullysaturatedporousflowfullysaturatedmd action see discuss page syntax paramet kernelsporousflowfullysaturatedadvectiveflux syntax input kernelsporousflowfullysaturatedadvectiveflux syntax children kernelsporousflowfullysaturatedadvectiveflux bibtex bibliographi porousflowmassvolumetricexpans syntax descript kernelsporousflowmassvolumetricexpans kernel implement weak form beginequ phisum_betas_betarho_betachi_betakappanablacdotmathbfv_ endequ paramet defin nomenclaturenomenclaturemd alert note masslump version implement see mass lumpingmass_lumpingmd detail contain volumetr strain kernel alway set use_displaced_mesh fals paramet alter user inform found hereporous_flowtime_derivativemd multipl rho_beta option control multiply_by_dens flag sometim advantag use flag problem becom linear howev sometim chang natur physic problem model care must taken use porousflow object intrins multiply_by_dens true porousflowfluidmassporousflowfluidmassmd new user encourag use default multiply_by_dens true flag gain familiar porousflow syntax paramet kernelsporousflowmassvolumetricexpans syntax input kernelsporousflowmassvolumetricexpans syntax children kernelsporousflowmassvolumetricexpans porousflowfullysaturateddarcybas syntax descript kernelsporousflowfullysaturateddarcybas describ differenti term beginequ nablacdot rhoknabla p rho mathbfgmu endequ nomenclatur describ herenomenclaturemd fullysatur singlecompon singlephas darci flow multipl rho option indic parenthas reason timederiv part describ porousflowfullysaturatedmasstimederivativeporousflowfullysaturatedmasstimederivativemd linearis total differenti equat multipli densiti pleas see page full descript effect multipli densiti alert note upwindingupwindingmd perform mean mani nodal materi propertiestutorial_md need numer diffusionnumerical_diffusionmd reduc howev numer less well control whole point full upwind prevent overshoot undershoot kernel implement kuzminturek tvd stabilizationktmd syntax paramet kernelsporousflowfullysaturateddarcybas syntax input kernelsporousflowfullysaturateddarcybas syntax children kernelsporousflowfullysaturateddarcybas bibtex bibliographi porousflowfullysaturatedheatadvect syntax descript kernelsporousflowfullysaturatedheatadvect describ differenti term beginequ nablacdot rhoh knabla p rho mathbfgmu endequ nomenclatur describ herenomenclaturemd describ heat advect via darci flow fullysatur multicompon singlephas case alert note although multipl rho option almost alway set multiply_by_densitytru alert note upwindingupwindingmd perform mean mani nodal materi propertiestutorial_md need numer diffusionnumerical_diffusionmd reduc howev numer less well control whole point full upwind prevent overshoot undershoot temperatur etc desir full upwind use porousflowfullysaturatedupwindheatadvectionporousflowfullysaturatedupwindheatadvectionmd instead desir kuzminturek tvd stabilizationktmd use porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd syntax paramet kernelsporousflowfullysaturatedheatadvect syntax input kernelsporousflowfullysaturatedheatadvect syntax children kernelsporousflowfullysaturatedheatadvect bibtex bibliographi porousflowheatvolumetricexpans syntax descript kernelsporousflowheatvolumetricexpans kernel implement weak form beginequ mathcalenablacdotmathbfv_ endequ paramet defin nomenclaturenomenclaturemd contain volumetr strain kernel alway set use_displaced_mesh fals paramet alter user inform found hereporous_flowtime_derivativemd syntax paramet kernelsporousflowheatvolumetricexpans syntax input kernelsporousflowheatvolumetricexpans syntax children kernelsporousflowheatvolumetricexpans porousflowheatmasstransf syntax descript kernelsporousflowheatmasstransf kernel implement weak form beginequ cuv endequ u v variabl pressur temperatur mass fraction kernel variabl u v coupl variabl c transfer coeffici defin transfer v u note kernel mass lump might effect numer stabil syntax paramet kernelsporousflowheatmasstransf syntax input kernelsporousflowheatmasstransf syntax children kernelsporousflowheatmasstransf porousflowplasticheatenergi syntax descript kernelsporousflowplasticheatenergi kernel implement weak form beginequ nu phisigmamathrmeff_ijfracpartialparti tepsilon_ijmathrmplast endequ paramet defin nomenclaturenomenclaturemd henc kernel model heat produc inelast deform porou skeleton exampl may found test descriptionsporous_flowtestsplastic_heatingplastic_heating_testsmd syntax paramet kernelsporousflowplasticheatenergi syntax input kernelsporousflowplasticheatenergi syntax children kernelsporousflowplasticheatenergi porousflowdesorpedmasstimederiv syntax descript kernelsporousflowdesorpedmasstimederiv kernel implement weak form beginequ fracpartialparti tleft phickapparight endequ paramet defin nomenclaturenomenclaturemd syntax paramet kernelsporousflowdesorpedmasstimederiv syntax input kernelsporousflowdesorpedmasstimederiv syntax children kernelsporousflowdesorpedmasstimederiv porousflowheatadvect syntax descript kernelsporousflowheatadvect kernel implement weak form beginequ nablacdot sum_betah_beta rho_betafrackk_mathrmrbetamu_betanabla p_beta rho_beta mathbfg endequ paramet defin nomenclaturenomenclaturemd alert note fullyupwind version implement mobil upstream node use see upwindingupwindingmd detail kernel implement kuzminturek tvd stabilizationktmd syntax paramet kernelsporousflowheatadvect syntax input kernelsporousflowheatadvect syntax children kernelsporousflowheatadvect porousflow predi syntax descript kernelsporousflowpredi kernel implement residu beginequ phi_mathrmold s_mathrmaq sum_mnu_mrho_mi_m endequ equat phi poros old valu use s_mathrmaq aqueou satur sum sum precipitatedordissolv predi miner speci nu_m stoichiometr coeffici rho_m densiti solid lump miner i_m miner reaction rate mprecipitatemsolut comput porousflowaqueouspredischemistryporousflowaqueouspredischemistrymd detail concern precipitationdissolut kinet chemistri may found chemic reactionschemical_reactionsindexmd modul alert warn numer implement chemicalreact part porousflow quit simplist guard strang numer behavior might aris nonlinear iter process moos use find solut therefor care must taken defin chemic reaction primari speci concentr remain small nonzero mineralis caus poros becom neg exceed uniti kernel usual ad porousflowmasstimederivativeporousflowmasstimederivativemd kernel simul precipitationdissolut miner primari chemic speci instanc case one precipitationdissolut kinet reaction beginequ b rightleftharpoon mathrmminer endequ includ diffus dispers kernel block look like list modulesporous_flowtesttestschemistryspecies_predisi startmass_a enduserobject appropri stoichiometr coeffici must suppli kernel consid reaction system beginequ beginarrayrcl b c rightleftharpoon mathrmminer b c rightleftharpoon mathrmminer endarray endequ stoichiometr coeffici porousflowpredi kernel would stoichiometri variabl stoichiometri variabl b stoichiometri variabl c alert note kernel lump miner mass node also use old valu poros approxim see porosityporous_flowporositymd discuss see mass lumpingporous_flowmass_lumpingmd detail syntax paramet kernelsporousflowpredi syntax input kernelsporousflowpredi syntax children kernelsporousflowpredi porousflowwaterncg syntax descript userobjectsporousflowwaterncg syntax paramet userobjectsporousflowwaterncg syntax input userobjectsporousflowwaterncg syntax children userobjectsporousflowwaterncg porousflowadvectivefluxcalculatorsaturatedheat userobject implement kuzminturek stabil schemektmd heat advect case singlephas porou flow specif comput u mathbfv u given beginequ u h rho mu endequ beginequ v_i k_ijnabla_jp rho g_j endequ k_ij permeabl tensor p porepressur rho fluid densiti g_j acceler due graviti h fluid enthalpi mu fluid viscos deriv quantiti respect porousflow variabl defin porousflowdictatorporousflowdictatormd also comput comput u mathbfv may use porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd kernel simul heat flow see detail kuzminturek stabil schemektmd page syntax paramet userobjectsporousflowadvectivefluxcalculatorsaturatedheat syntax input userobjectsporousflowadvectivefluxcalculatorsaturatedheat syntax children userobjectsporousflowadvectivefluxcalculatorsaturatedheat porousflowadvectivefluxcalculatorunsaturatedmulticompon userobject implement kuzminturek stabil schemektmd case multiphas multicompon porou flow specif comput u mathbfv u given beginequ u chi k_r rho mu endequ beginequ v_i k_ijnabla_jp rho g_j endequ k_ij permeabl tensor p porepressur phase rho fluid densiti phase g_j acceler due graviti k_r rel permeabl phase chi mass fraction compon phase mu fluid viscos phase deriv quantiti respect porousflow variabl defin porousflowdictatorporousflowdictatormd also comput comput u mathbfv may use porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd kernel n_beta number fluid phase userobject typic contribut residu singl variabl see detail kuzminturek stabil schemektmd page syntax paramet userobjectsporousflowadvectivefluxcalculatorunsaturatedmulticompon syntax input userobjectsporousflowadvectivefluxcalculatorunsaturatedmulticompon syntax children userobjectsporousflowadvectivefluxcalculatorunsaturatedmulticompon porousflowadvectivefluxcalculatorsatur userobject implement kuzminturek stabil schemektmd case onephas onecompon fullysatur darci flow specif comput u mathbfv u given beginequ u rho mu endequ beginequ v_i k_ijnabla_jp rho g_j endequ k_ij permeabl tensor p porepressur rho fluid densiti g_j acceler due graviti mu fluid viscos deriv quantiti respect porousflow variabl defin porousflowdictatorporousflowdictatormd also comput comput u mathbfv may use porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd kernel syntax paramet userobjectsporousflowadvectivefluxcalculatorsatur syntax input userobjectsporousflowadvectivefluxcalculatorsatur syntax children userobjectsporousflowadvectivefluxcalculatorsatur porousflowcapillarypressureconst syntax descript userobjectsporousflowcapillarypressureconst userobject provid constant capillari pressur beginequ p_c c endequ formul use test purpos syntax paramet userobjectsporousflowcapillarypressureconst syntax input userobjectsporousflowcapillarypressureconst syntax children userobjectsporousflowcapillarypressureconst porousflowwatervapor syntax descript userobjectsporousflowwatervapor syntax paramet userobjectsporousflowwatervapor syntax input userobjectsporousflowwatervapor syntax children userobjectsporousflowwatervapor porousflowadvectivefluxcalculatorsaturatedmulticompon userobject implement kuzminturek stabil schemektmd case onephas multicompon fullysatur darci flow specif comput u mathbfv u given beginequ u chi rho mu endequ beginequ v_i k_ijnabla_jp rho g_j endequ k_ij permeabl tensor p porepressur rho fluid densiti g_j acceler due graviti chi appropri mass fraction mu fluid viscos deriv quantiti respect porousflow variabl defin porousflowdictatorporousflowdictatormd also comput comput u mathbfv may use porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd kernel syntax paramet userobjectsporousflowadvectivefluxcalculatorsaturatedmulticompon syntax input userobjectsporousflowadvectivefluxcalculatorsaturatedmulticompon syntax children userobjectsporousflowadvectivefluxcalculatorsaturatedmulticompon porousflowadvectivefluxcalculatorunsaturatedheat userobject implement kuzminturek stabil schemektmd heat advect case multiphas porou flow specif comput u mathbfv u given beginequ u h k_r rho mu endequ beginequ v_i k_ijnabla_jp rho g_j endequ k_ij permeabl tensor p porepressur phase rho fluid densiti phase g_j acceler due graviti h fluid enthalpi phase k_r rel permeabl phase mu fluid viscos phase deriv quantiti respect porousflow variabl defin porousflowdictatorporousflowdictatormd also comput comput u mathbfv may use porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd kernel simul heat flow typic n_beta number fluid phase kerneluserobject pair would contribut residu temperatur variabl correspond heat transfer fluid phase see detail kuzminturek stabil schemektmd page syntax paramet userobjectsporousflowadvectivefluxcalculatorunsaturatedheat syntax input userobjectsporousflowadvectivefluxcalculatorunsaturatedheat syntax children userobjectsporousflowadvectivefluxcalculatorunsaturatedheat porousflowdict syntax descript userobjectsporousflowdict porousflowdict provid inform valid porousflow variabl well number fluid compon fluid phase porousflow object simul alert note must present simul syntax paramet userobjectsporousflowdict syntax input userobjectsporousflowdict syntax children userobjectsporousflowdict advectivefluxcalculatorconstantveloc advectivefluxcalculatorconstantveloc comput k r r use kuzminturek citepkuzminturek numer stabil scheme veloc constant uniform mesh k measur advect flux neighbour node r r quantifi much antidiffus allow around node see work exampl kuzminturek stabilizationkt_workedmd mani explicit detail numer diffusionnumerical_diffusionmd exampl kuzminturek scheme compar numer scheme syntax paramet userobjectsadvectivefluxcalculatorconstantveloc syntax input userobjectsadvectivefluxcalculatorconstantveloc syntax children userobjectsadvectivefluxcalculatorconstantveloc porousflowcapillarypressurersc syntax descript userobjectsporousflowcapillarypressurersc rogersstallybrasscl capillari relationship citeprsc beginequ s_mathrmeff fracsqrt expp_c ab endequ oil viscos exactli twice water viscos limit use real simul use porou flow modul comparison analyt solut offer author multiphas infiltr drainag problem alert note effect satur function capillari pressur avail syntax paramet userobjectsporousflowcapillarypressurersc syntax input userobjectsporousflowcapillarypressurersc syntax children userobjectsporousflowcapillarypressurersc bibtex bibliographi porousflowadvectivefluxcalculatorunsatur userobject implement kuzminturek stabil schemektmd case onephas onecompon unsatur darcyrichard flow specif comput u mathbfv u given beginequ u k_r rho mu endequ beginequ v_i k_ijnabla_jp rho g_j endequ k_ij permeabl tensor p porepressur rho fluid densiti g_j acceler due graviti k_r rel permeabl mu fluid viscos deriv quantiti respect porousflow variabl defin porousflowdictatorporousflowdictatormd also comput userobject may also use multiphas multicompon porousflow mass fraction exist one phase mass fraction comput u mathbfv may use porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd kernel syntax paramet userobjectsporousflowadvectivefluxcalculatorunsatur syntax input userobjectsporousflowadvectivefluxcalculatorunsatur syntax children userobjectsporousflowadvectivefluxcalculatorunsatur porousflowbrineco syntax descript userobjectsporousflowbrineco high precis equat state brine co_ includ mutual solubl co_ liquid brine water vapor co_rich ga phase use accur fugacitybas formul citespych citespych model suitabl simul geolog storag co_ salin aquif detail see document brine co_brinecomd equat state syntax paramet userobjectsporousflowbrineco syntax input userobjectsporousflowbrineco syntax children userobjectsporousflowbrineco bibtex bibliographi porousflowcapillarypressurebw syntax descript userobjectsporousflowcapillarypressurebw broadbridgewhit capillar relationship valid small k_n citepbroadbridg beginequ s_mathrmeff s_n s_ s_n fracc lx endequ beginequ x c ec c plambda endequ lx lambert wfunction satisfi lzelzz limit use real simul use porou flow modul comparison analyt solut citebroadbridg citewarrick multiphas infiltr drainag problem alert note effect satur function capillari pressur avail syntax paramet userobjectsporousflowcapillarypressurebw syntax input userobjectsporousflowcapillarypressurebw syntax children userobjectsporousflowcapillarypressurebw bibtex bibliographi porousflowsumquant use record total fluid kg heat j flux produc porousflow dirackernel time step see polylin sinkssinksmd extend discuss syntax paramet userobjectsporousflowsumquant syntax input userobjectsporousflowsumquant syntax children userobjectsporousflowsumquant porousflowcapillarypressurevg syntax descript userobjectsporousflowcapillarypressurevg van genuchten capillarypressur relationship citepvangenuchten beginequ s_mathrmeff begincas textrmif p geq alpha pmm textrmif p endcas endequ beginequ p_c begincas textrmif s_mathrmeff fracalpha s_mathrmeffm textrmif s_mathrmeff endcas endequ effect satur denot s_mathrmeff p porepressur neg capillari pressur p p_c alpha userdefin paramet paramet must satisfi beginequ endequ default logarithm extens low liquid phase satur implement disabl set log_extens fals syntax paramet userobjectsporousflowcapillarypressurevg syntax input userobjectsporousflowcapillarypressurevg syntax children userobjectsporousflowcapillarypressurevg bibtex bibliographi porousflowcapillarypressurebc syntax descript userobjectsporousflowcapillarypressurebc brookscorey capillarypressur relationship citepbrookscorey beginequ s_mathrmeff left fracp_cp_ rightlambda endequ beginequ p_c p_e s_mathrmefflambda endequ p_e threshold entri pressur lambda expon requir paramet syntax paramet userobjectsporousflowcapillarypressurebc syntax input userobjectsporousflowcapillarypressurebc syntax children userobjectsporousflowcapillarypressurebc bibtex bibliographi templat load filestubsmoose_objectmdtempl namemovingplanarfront syntaxfunctionsmovingplanarfront porousflowconstantbiotmodulu syntax descript materialsporousflowconstantbiotmodulu biot modulu defin beginequ labelbiotmoddef fracm fracphik_f frac alpha_balpha_b phik endequ phi poros k_f fluid bulk modulu alpha_b biot coeffici k drain bulk modulu porou skeleton materi design work porousflowfullysaturatedmasstimederivativeporousflowfullysaturatedmasstimederivativemd kernel alert note quantiti comput initi stage simul kept fix thereaft syntax paramet materialsporousflowconstantbiotmodulu syntax input materialsporousflowconstantbiotmodulu syntax children materialsporousflowconstantbiotmodulu porousflowtotalgravitationaldensityfullysaturatedfromporos syntax descript materialsporousflowtotalgravitationaldensityfullysaturatedfromporos syntax paramet materialsporousflowtotalgravitationaldensityfullysaturatedfromporos syntax input materialsporousflowtotalgravitationaldensityfullysaturatedfromporos syntax children materialsporousflowtotalgravitationaldensityfullysaturatedfromporos porousflowporosityhmbiotmodulu syntax descript materialsporousflowporosityhmbiotmodulu syntax paramet materialsporousflowporosityhmbiotmodulu syntax input materialsporousflowporosityhmbiotmodulu syntax children materialsporousflowporosityhmbiotmodulu porousflowphasep syntax descript materialsporousflowphasep syntax paramet materialsporousflowphasep syntax input materialsporousflowphasep syntax children materialsporousflowphasep porousflowrelativepermeabilitycorey syntax descript materialsporousflowrelativepermeabilitycorey rel permeabl phase beginequ k_mathrmr s_mathrmeffn endequ effect satur beginequ s_mathrmeff frac s_mathrmresbeta sum_betas_mathrmresbeta endequ syntax paramet materialsporousflowrelativepermeabilitycorey syntax input materialsporousflowrelativepermeabilitycorey syntax children materialsporousflowrelativepermeabilitycorey porousflowfluidstatewaterncg syntax descript materialsporousflowfluidstatewaterncg alert note porousflowfluidstatebrineco deprec use porousflowfluidstateporousflowfluidstatemd syntax paramet materialsporousflowfluidstatewaterncg syntax input materialsporousflowfluidstatewaterncg syntax children materialsporousflowfluidstatewaterncg porousflowbrin syntax descript materialsporousflowbrin syntax paramet materialsporousflowbrin syntax input materialsporousflowbrin syntax children materialsporousflowbrin porousflowfluidst syntax descript materialsporousflowfluidst materi provid thermophys properti system given set nonlinear variabl use formul provid one fluid state userobject syntax paramet materialsporousflowfluidst syntax input materialsporousflowfluidst syntax children materialsporousflowfluidst porousflowpermeabilityconstfromvar syntax descript materialsporousflowpermeabilityconstfromvar syntax paramet materialsporousflowpermeabilityconstfromvar syntax input materialsporousflowpermeabilityconstfromvar syntax children materialsporousflowpermeabilityconstfromvar porousflowhystereticcapillarypressur base class enabl comput capillari pressur satur porepressur model hysteresishysteresismd usual appear moos input file deriv class employ moos input file porousflowphasehyspporousflowphasehyspmd comput satur given porepressur partiallysatur phase system porousflowhystereticinfoporousflowhystereticinfomd comput capillari pressur quantiti given satur syntax paramet materialsporousflowhystereticcapillarypressur syntax input materialsporousflowhystereticcapillarypressur syntax children materialsporousflowhystereticcapillarypressur porousflowpermeabilityconst syntax descript materialsporousflowpermeabilityconst syntax paramet materialsporousflowpermeabilityconst syntax input materialsporousflowpermeabilityconst syntax children materialsporousflowpermeabilityconst porousflowporos syntax descript materialsporousflowporos materi comput poros node quadpoint depend at_nod flag beginequ labeleqporo_evolv phi alpha_b phi_ m_mathrmref alpha_btim exp left fracalpha_b kp_f p_fmathrmref epsilonmathrmtotal_ii alpha_tt tmathrmref right endequ full descript provid poros documentationporous_flowporositymd flag provid porousflowporos control evolut mechan true poros depend epsilonmathrmtotal_ii otherwis term eqporo_evolv ignor fluid true poros depend p_f p_fmathrmref otherwis term eqporo_evolv ignor thermal true poros depend tmathrmref otherwis term eqporo_evolv ignor chemic true poros depend otherwis term eqporo_evolv ignor syntax paramet materialsporousflowporos syntax input materialsporousflowporos syntax children materialsporousflowporos porousflowporosityconst syntax descript materialsporousflowporosityconst singl valu poros specifi input file spatial vari poros auxvari coupl defin heterogen poros distribut syntax paramet materialsporousflowporosityconst syntax input materialsporousflowporosityconst syntax children materialsporousflowporosityconst porousflowpermeabilitykozenycarman syntax descript materialsporousflowpermeabilitykozenycarman permeabl calcul poros use beginequ k_ij k_ij fracphin phim endequ n userdefin constant input enter one two form depend valu poroperm_funct tabl captioninput format poroperm_funct input format kozeny_carman_fd f kozeny_carman_fd k_ phim phin paramet b convert correct form intern syntax paramet materialsporousflowpermeabilitykozenycarman syntax input materialsporousflowpermeabilitykozenycarman syntax children materialsporousflowpermeabilitykozenycarman porousflowpermeabilitytensorfromvar syntax descript materialsporousflowpermeabilitytensorfromvar permeabl calcul tensor multipli scalar variabl syntax paramet materialsporousflowpermeabilitytensorfromvar syntax input materialsporousflowpermeabilitytensorfromvar syntax children materialsporousflowpermeabilitytensorfromvar porousflowrelativepermeabilitybc syntax descript materialsporousflowrelativepermeabilitybc citebrookscorey rel permeabl model extens previou citecorey formul rel permeabl wet phase given beginequ k_mathrmr w lefts_mathrmeffright lambdalambda endequ rel permeabl nonwet phase beginequ k_mathrmr nw s_mathrmeff left lefts_mathrmeffright lambdalambdaright endequ effect satur beginequ s_mathrmeff frac s_mathrmresbeta sum_betas_mathrmresbeta endequ lambda userdefin expon syntax paramet materialsporousflowrelativepermeabilitybc syntax input materialsporousflowrelativepermeabilitybc syntax children materialsporousflowrelativepermeabilitybc bibtex bibliographi porousflowmatrixinternalenergi syntax descript materialsporousflowmatrixinternalenergi syntax paramet materialsporousflowmatrixinternalenergi syntax input materialsporousflowmatrixinternalenergi syntax children materialsporousflowmatrixinternalenergi porousflowfluidstatesinglecompon syntax descript materialsporousflowfluidstatesinglecompon materi provid thermophys properti system given set nonlinear variabl use formul provid one singl compon fluid state userobject syntax paramet materialsporousflowfluidstatesinglecompon syntax input materialsporousflowfluidstatesinglecompon syntax children materialsporousflowfluidstatesinglecompon porousflowrelativepermeabilitybw syntax descript materialsporousflowrelativepermeabilitybw rel permeabl phase beginequ k_mathrmr k_n frack_ k_nc c s_mathrmeffs_mathrmeff endequ effect satur beginequ s_mathrmeff frac s_mathrmresbeta sum_betas_mathrmresbeta endequ syntax paramet materialsporousflowrelativepermeabilitybw syntax input materialsporousflowrelativepermeabilitybw syntax children materialsporousflowrelativepermeabilitybw porousflowphasefullysatur syntax descript materialsporousflowphasefullysatur syntax paramet materialsporousflowphasefullysatur syntax input materialsporousflowphasefullysatur syntax children materialsporousflowphasefullysatur porousflowmassfract syntax descript materialsporousflowmassfract mass_fraction_var list mass fraction chi_betakappa fluid compon kappa phase beta beginequ chi_ chi_ chi_ ldot chi_n chi_ chi_ chi_ ldot chi_n ldot chi_p chi_p chi_p ldot chi_pn endequ p phase n fluid compon notic chi_betan need specifi phase sinc beginequ chi_betan sum_kappa nchi_betakappa endequ exampl singl compon fluid singlephas system mass_fraction_var left empti sinc massfract alway fluid compon singlephas system mass_fraction_var f f f mass fraction zeroth compon f mass fraction first compon auxvari variabl depend model second compon need specifi sinc f f f fluid compon phase system mass_fraction_var f f f mass fraction zeroth compon zeroth phase f mass fraction zeroth compon first phase syntax paramet materialsporousflowmassfract syntax input materialsporousflowmassfract syntax children materialsporousflowmassfract porousflow aqueou predi miner syntax descript materialsporousflowaqueouspredisminer comput miner concentr result precipitationdissolut predi kinet reaction system materi properti may save auxvari use porousflowpropertyauxporousflowpropertyauxmd auxkernel miner concentr comput unit mprecipitatempor materi alert warn numer implement chemicalreact part porousflow quit simplist guard strang numer behavior might aris nonlinear iter process moos use find solut therefor care must taken defin chemic reaction primari speci concentr remain small nonzero mineralis doesnt caus poros becom neg exceed uniti comput use lag approach poros calcul miner concentr c beginequ c c_mathrmold phi_mathrmold s_mathrmaq mathrmdt endequ reaction rate depend primari concentr etc s_mathrmaq satur aqueou phase notic use old valu poros approxim break cyclic depend miner concentr poros see porosityporous_flowporositymd detail syntax paramet materialsporousflowaqueouspredisminer syntax input materialsporousflowaqueouspredisminer syntax children materialsporousflowaqueouspredisminer porousflowvolumetricstrain materi comput volumetr strain volumetr strain rate requir tensormechan strain calcul usual computesmallstraincomputesmallstrainmd comput materi properti total_strain calcul porousflow_total_volumetric_strain_qp sum_iepsilon_ii epsilon total_strain porousflow_volumetric_strain_rate_qp sum_iepsilon_ii epsilon_iimathrmoldmathrmdt also calcul deriv respect porousflow variabl alert note tensormechan strain calcul use base_nam must ensur suppli base_nam materi pageporous_flowtime_derivativemd contain inform alert note deriv calcul assum cartesian small strain therefor use finitestrain calcul your use coordin system rz coordin jacobian wont exact lead slightli poorer converg materi provid timederiv volumetr strain porousflowmassvolumetricexpansionporousflowmassvolumetricexpansionmd porousflowheatvolumetricexpansionporousflowheatvolumetricexpansionmd relat inform found hereporous_flowtime_derivativemd syntax paramet materialsporousflowvolumetricstrain syntax input materialsporousflowvolumetricstrain syntax children materialsporousflowvolumetricstrain porousflowphasehysp materi comput liquid satur ga porepressur given ga satur liquid porespressur phase hysteret situat assum van genuchten relationship detail document hysteresi van genuchten relationship found hysteresi pagehysteresismd porousflowphasehysp hysteret cousin porousflowphasepsporousflowphasepsmd materi requir porousflowhysteresisorderporousflowhysteresisordermd materi comput hysteresi order porousflowphasehysp use hysteresi order along two porepressur comput satur simpl exampl usag list modulesporous_flowtesttestshysteresisphasepsi note follow featur porousflowhysteresisorderporousflowhysteresisordermd materi appear alongsid porousflowphasehysp materi list modulesporous_flowtesttestshysteresisphasepsi starthys_order_materi endpostprocessor satur hysteresi order may record auxvari use porousflowpropertyauxporousflowpropertyauxmd list modulesporous_flowtesttestshysteresisphasepsi blockauxkernel alert warn improv numer converg recommend use low_extens high_extens along valu pc_max s_lr appropri situat see hysteresi pagehysteresismd detail syntax paramet materialsporousflowphasehysp syntax input materialsporousflowphasehysp syntax children materialsporousflowphasehysp porousflownearestqp syntax descript materialsporousflownearestqp syntax paramet materialsporousflownearestqp syntax input materialsporousflownearestqp syntax children materialsporousflownearestqp porousflowhysteresisord materi use simul involv hysteresisporous_flowhysteresismd materi comput order simul involv hysteret capillarypressur andor relativeperm function also record liquid satur turn point mean order illustr hysteretic_order_fig order turn point may record auxvari use porousflowpropertyauxporousflowpropertyauxmd sinc hysteret capillarypressur relativeperm function defin third order order comput porousflowhysteresisord never exce hard code porousflowconstantsh media mediaporous_flowhysteretic_orderpng captionan illustr hysteresi order liquidsatur turn point mark tp_n idhysteretic_order_fig syntax paramet materialsporousflowhysteresisord syntax input materialsporousflowhysteresisord syntax children materialsporousflowhysteresisord porousflowfluidstatebrineco syntax descript materialsporousflowfluidstatebrineco alert note porousflowfluidstatebrineco deprec use porousflowfluidstateporousflowfluidstatemd syntax paramet materialsporousflowfluidstatebrineco syntax input materialsporousflowfluidstatebrineco syntax children materialsporousflowfluidstatebrineco porousflow mass fraction aqueou equilibrium chemistri syntax descript materialsporousflowmassfractionaqueousequilibriumchemistri form porousflow massfract appropri aqueou equilibrium chemistri simul first n total concentr primari speci chemic reaction system last one massfract remain compon assum pure water see porousflowmassfractionporousflowmassfractionmd nonchemistri version alert warn numer implement chemicalreact part porousflow quit simplist guard strang numer behavior might aris nonlinear iter process moos use find solut therefor care must taken defin chemic reaction primari speci concentr remain small nonzero detail concern aqueou equilibrium chemistri may found chemic reactionschemical_reactionsindexmd modul porousflowmassfractionaqueousequilibriumchemistri comput secondari concentr add appropri primari concentr form massfract two main differ chemic reaction modul porousflow molar volum must specifi porousflow concentr may measur mm rather molm unlik chemic reaction modul user porousflow must specifi stoichiometr coeffici reaction primari concentr variabl must brought lefthandsid righthandsid secondari speci definit instanc consid reaction system consist primari variabl b c reaction beginequ beginarrayrcl b c rightleftharpoon mathrmsecondari b c rightleftharpoon mathrmsecondari endarray endequ reaction input alert note equilibrium constant auxvari depend temperatur variabl comput jacobian exact may experi poor nonlinear converg becom frustrat pleas contact moos discuss forumhttpsgithubcomidaholabmoosediscuss syntax paramet materialsporousflowmassfractionaqueousequilibriumchemistri syntax input materialsporousflowmassfractionaqueousequilibriumchemistri syntax children materialsporousflowmassfractionaqueousequilibriumchemistri porousflowphasepp syntax descript materialsporousflowphasepp given liquid ga porepressur materi comput liquid ga satur phase fluid simul see capillari pressurecapillary_pressuremd detail syntax paramet materialsporousflowphasepp syntax input materialsporousflowphasepp syntax children materialsporousflowphasepp porousflowrelativepermeabilityconst syntax descript materialsporousflowrelativepermeabilityconst syntax paramet materialsporousflowrelativepermeabilityconst syntax input materialsporousflowrelativepermeabilityconst syntax children materialsporousflowrelativepermeabilityconst porousflowporositylinear materi comput poros node quadpoint depend at_nod flag accord beginequ labeleqporo_evolve_linear phi phi_mathrmref ap_f p_f mathrmref bt t_mathrmref cepsilonmathrmtotal_ii epsilonmathrmtotal_ii mathrmref endequ phi_mathrmref refer poros constantmonomi variabl real number b c realvalu coeffici p_f effect fluid pressureporousfloweffectivefluidpressuremd p_f mathrmref refer effect fluid pressur coupl variabl usual linearlagrang real number temperatureporousflowtemperaturemd t_mathrmref refer temperatur coupl variabl usual linearlagrang real number epsilonmathrmtotal_ii total volumetr strainporousflowvolumetricstrainmd epsilonmathrmtotal_ii mathrmref refer total volumetr strain constant monomi coupl variabl real number addit possibl place lower bound poros phi geq phi_mathrmmin physic use also numer import newtonraphson iter linear relationship sometim yield small even neg valu phi descript poros class found poros documentationporous_flowporositymd syntax paramet materialsporousflowporositylinear syntax input materialsporousflowporositylinear syntax children materialsporousflowporositylinear porousflowhystereticrelativepermeabilityga materi comput ga rel permeabl use van genuchten formul rel permeabl assum hysteret materi may use twophas situat along dri curv rel permeabl beginequ k_r g k_r gmaxleft bars_lrightgamma left bars_lm rightm endequ beginequ bars_l fracs_l s_l r s_l r endequ formula s_l liquid satur s_l r liquid residu satur k_r gmax valu ga rel permeabl s_l leq s_l r van genuchten expon gamma anoth expon see hysteresi pagehysteresismd detail concern extend formul lowsatur region s_l s_l r definit wet rel permeabl use materi necessari includ porousflowhysteresisorderporousflowhysteresisordermd materi comput record inform regard hysteresi order satur turn point syntax paramet materialsporousflowhystereticrelativepermeabilityga syntax input materialsporousflowhystereticrelativepermeabilityga syntax children materialsporousflowhystereticrelativepermeabilityga porousflowsinglecomponentfluid syntax descript materialsporousflowsinglecomponentfluid recommend choic unit moos independ choic unit unit must kept consist throughout input file instanc time measur second nanosecond year etc provid choic use everywher instanc must specifi fluid bulk modulu solid young modulu use unit exampl gpa alert note porousflow check consist unit input file howev fluidproperti modulefluid_propertiesindexmd assum pressur unit pascal time unit second temperatur measur kelvin distanc measur metr mass kilogram energi joul therefor use modul user ordinarili restrict use standard si unit almost porousflow input file use fluidproperti modul therefor recommend use standard si unit everywher input file altern unit choic porousflowsinglecomponentfluid allow differ unit employ modifi input output fluidproperti modul reflect choic unit instanc suppos choos measur temperatur celsiu porousflowsinglecomponentfluid add temperatur feed fluidproperti modul alter fluidproperti inputoutput need instanc suppos choos measur pressur mpa porousflowsinglecomponentfluid multipli pressur feed fluidproperti modul sinc viscos return fluidproperti modul unit pa need convert mpa use remaind porousflow fluidproperti viscos multipli alert note choos nondefault si unit must ensur paramet input file use nondefault unit instanc choos measur pressur mpa solidmechan stress young moduli strength etc must also specifi mpa porousflowsinglecomponentfluid interfac fluidproperti modul doesnt also chang pressur boundari condit end time graviti etc must specifi unit choos essay pascal kilogram densiti porousflow simul conveni use unit system pressur distanc time energi note mass includ sinc beginequ mathrmkg mathrmpam endequ use pascal rather kilogram differ convent physic mean strictli mass densiti thought term pascal quit annoy howev someth mass kg want employ mpa instead pa strictli write mass mpam similar remark hold densiti kgm enthalpi intern energi jkg heat capac jkgk mass flux kgm everyth get chang fortuat densiti appear multipl factor almost everywher scale constant amount eg multipli use mpa instead pa lead equat consid fluid equat beginequ fracpartialparti tphi rho phi rho nablacdot mathbfv_mathrm nabla cdot rho mathbfv_mathrmdarci nablacdot rho nabla chi q endequ obvious scale rho lead equat thing care rho g insid darci veloc discuss heat equat beginequ fracpartialparti tphi rho mathcal phi rhomathcal nablacdot mathbfv_mathrm nabla cdot rho h mathbfv_mathrmdarci nablacdot lambda nabla qmathrmt endequ sinc rho scale invers mathcal respect mass pressur quotient rhomathcal independ mass unit unit energydist remark hold rho h solidmechan conserv momentum read beginequ rho_mathrmmatfracparti v_mathrmsparti nabla sigmamathrmtot rho_mathrmmat b endequ rho_mathrmmat lefthand side must measur pascal unit describ rho_mathrmmat righthand side although often bodi forc due graviti may treat describ suggest approach continu think term kilogram specifi fluid densiti kgm specifi enthalpi intern energi jkg specifi mass flux kgm specifi heat capac jkgk modifi graviti acceler term solidmechan equat describ alert warn approach use porousflowsinglecomponentfluid use nondefault unit porousflowsinglecomponentfluid modifi fluid densiti fluid enthalpi fluid intern energi return fluidproperti modul address issu graviti darci veloc solidmechan bodi forc product rho g appear darci veloc product rho_mathrmmat b appear solidmechan equat strictli measur rho unit pressuretimedist eg pasm found inconveni modifi acceler g b instead order achiev correct result product rho g rho_mathrmmat b tabgrav help tabl idtabgrav captionexampl g b use term rho g rho_mathrmmatb differ unit valu unit use g ms pascal pa time mpa time gpa address issu solidmechan acceler use timedepend solid mechan term beginequ rho_mathrmmatfracparti v_mathrmsparti endequ must measur rho_mathrmmat unit pressuretimedist tabrhomat help tabl idtabrhomat captionexampl rho_mathrmmat use rho_mathrmmatfracparti v_mathrmsparti differ unit valu unit use rho_mathrmmat kgm pascal pa second time mpa second time pa hour time mpa hour time pa day time mpa day time mpa year time mpa year avail unit system porousflowsinglecomponentfluid includ follow choic unit system default pascal second kelvin chang input output fluidproperti modul requir temperatur celsiu choos temperatur unit celciu mean ad porousflow temperatur feed fluidproperti modul inputfil object may need specifi celsiu boundari condit initi condit porousflowsinksporousflowsinkmd etc object input file need specifi celsiu except fluidproperti object exampl use simplefluidpropertiessimplefluidpropertiesmd must rememb seen simplefluidproperti measur kelvin pressur stress mpa choos pressur unit mpa mean porousflow pressur multipli feed fluidproperti modul viscos return fluidproperti modul multipli quantiti choos nondefault time unit hand back remaind porousflow addit must rememb solid mechan stress measur mpa moduli strength need specifi mpa similarli boundari traction pressur need specifi mpa rememb fluidproperti modul alway use pa j therefor use simplefluidpropertiessimplefluidpropertiesmd must specifi bulk modulu viscos unit use mpa altern time unit choos time unit hour mean chang made input fluidproperti modul must rememb fluid heat sourc must measur kgmtime jmtime respect time hour day year depend specif choic rememb thermal conduct solid skeleton must measur jmktime veloc radioact decay rate chemic precipit reaction rate dispers tensor diffus coeffici similarli impact rememb fluidproperti modul alway use pa j therefor use simplefluidpropertiessimplefluidpropertiesmd must specifi fluid thermal conduct viscos unit use hour day year hour viscos return fluidproperti modul multipli quantiti choos nondefault pressur unit hand back remaind porousflow day viscos return fluidproperti modul multipli time quantiti choos nondefault pressur unit hand back remaind porousflow julian year viscos return fluidproperti modul multipli time time quantiti choos nondefault pressur unit hand back remaind porousflow syntax paramet materialsporousflowsinglecomponentfluid syntax input materialsporousflowsinglecomponentfluid syntax children materialsporousflowsinglecomponentfluid porousflowrelativepermeabilityflac syntax descript materialsporousflowrelativepermeabilityflac rel permeabl phase beginequ k_mathrmr s_mathrmeffm s_mathrmeffm endequ effect satur beginequ s_mathrmeff frac s_mathrmresbeta sum_betas_mathrmresbeta endequ syntax paramet materialsporousflowrelativepermeabilityflac syntax input materialsporousflowrelativepermeabilityflac syntax children materialsporousflowrelativepermeabilityflac porousflowdiffusivityconst syntax descript materialsporousflowdiffusivityconst tortuos defin ratio shortest path effect path tau leq syntax paramet materialsporousflowdiffusivityconst syntax input materialsporousflowdiffusivityconst syntax children materialsporousflowdiffusivityconst porousflowphasep syntax descript materialsporousflowphasep given porepressur materi comput satur phase fluid simul see capillari pressurecapillary_pressuremd detail syntax paramet materialsporousflowphasep syntax input materialsporousflowphasep syntax children materialsporousflowphasep porousflowhystereticinfo materi comput quantiti relev hysteret capillari pressurehysteresismd quantiti comput written porousflow_hysteretic_info_qp porousflow_hysteretic_nod properti depend at_nod paramet alert warn materi comput porepressur satur use usual porousflow simul instead enabl preliminari explor hysteresi model hysteret porousflow simul run inform plot may gener use materi quantiti comput depend info_requir paramet may one follow pc capillari pressur given satur sat satur satur provid input capillari pressur comput satur comput use invers relationship use explor th enoninvert hysteret relationship sat_given_pc satur given capillari pressur variou deriv inform numer error dp_cd etc exampl input file contain porousflowhystereticinfo list modulesporous_flowtesttestshysteresisvary_sat_i input file satur auxvari vari time functionaux porousflowhystereticinfo materi comput capillari pressur written auxvari use porousflowpropertyauxporousflowpropertyauxmd auxkernel choos differ functionaux variou capillarypressur curv may gener one shown media mediaporous_flowhys_vary_sat_png captionth result two hysteret simul employ differ functionaux line show expect result cross asterisk show moos result syntax paramet materialsporousflowhystereticinfo syntax input materialsporousflowhystereticinfo syntax children materialsporousflowhystereticinfo porousflowphasehysp materi comput satur given porepressur singlephas partiallysatur hysteret situat assum van genuchten relationship detail document hysteresi van genuchten relationship found hysteresi pagehysteresismd hysteret cousin porousflowphasepporousflowphasepmd materi requir porousflowhysteresisorderporousflowhysteresisordermd materi comput hysteresi order porousflowphasehysp use hysteresi order along singlephas porepressur comput satur simpl exampl usag list modulesporous_flowtesttestshysteresisphasei note follow featur porousflowhysteresisorderporousflowhysteresisordermd materi appear alongsid porousflowphasehysp materi list modulesporous_flowtesttestshysteresisphasei starthys_order_materi endpostprocessor satur hysteresi order may record auxvari use porousflowpropertyauxporousflowpropertyauxmd list modulesporous_flowtesttestshysteresisphasei blockauxkernel alert warn improv numer converg recommend use low_extens high_extens along valu pc_max s_lr appropri situat see hysteresi pagehysteresismd detail syntax paramet materialsporousflowphasehysp syntax input materialsporousflowphasehysp syntax children materialsporousflowphasehysp porousflowthermalconductivityid syntax descript materialsporousflowthermalconductivityid syntax paramet materialsporousflowthermalconductivityid syntax input materialsporousflowthermalconductivityid syntax children materialsporousflowthermalconductivityid porousflowphasemd_gaussian syntax descript materialsporousflowphasemd_gaussian syntax paramet materialsporousflowphasemd_gaussian syntax input materialsporousflowphasemd_gaussian syntax children materialsporousflowphasemd_gaussian porousflowrelativepermeabilityvg syntax descript materialsporousflowrelativepermeabilityvg rel permeabl phase beginequ k_mathrmr sqrts_mathrmeff left s_mathrmeffmm right endequ effect satur beginequ s_mathrmeff frac s_mathrmresbeta sum_betas_mathrmresbeta endequ cut version van genuchten express also offer almost definit indistinguish experiment origin express beginequ k_mathrmr begincas textrmvan genuchten textrmfor s_mathrmeff s_c textrmcub textrmfor s_mathrmeff geq s_c endcas endequ cubic chosen valu deriv match van genuchten express ss_c uniti s_mathrmeff syntax paramet materialsporousflowrelativepermeabilityvg syntax input materialsporousflowrelativepermeabilityvg syntax children materialsporousflowrelativepermeabilityvg porousflow aqueou predi chemistri syntax descript materialsporousflowaqueouspredischemistri comput reaction rate result precipitationdissolut predi kinet reaction system alert warn numer implement chemicalreact part porousflow quit simplist guard strang numer behavior might aris nonlinear iter process moos use find solut therefor care must taken defin chemic reaction primari speci concentr remain small nonzero mineralis doesnt caus poros becom neg exceed uniti detail concern precipitationdissolut kinet chemistri may found chemic reactionschemical_reactionsindexmd modul two main differ chemic reaction modul porousflow molar volum must specifi porousflow concentr may measur mm rather molm unlik chemic reaction modul user porousflow must specifi stoichiometr coeffici reaction primari concentr variabl must brought lefthandsid righthandsid miner definit instanc consid reaction system consist primari variabl b c reaction beginequ beginarrayrcl b c rightleftharpoon mathrmminer b c rightleftharpoon mathrmminer endarray endequ reaction input alert note equilibrium constant auxvari depend temperatur variabl comput jacobian exact may experi poor nonlinear converg becom frustrat pleas contact moos discuss forumhttpsgithubcomidaholabmoosediscuss syntax paramet materialsporousflowaqueouspredischemistri syntax input materialsporousflowaqueouspredischemistri syntax children materialsporousflowaqueouspredischemistri porousflowthermalconductivityfromporos syntax descript materialsporousflowthermalconductivityfromporos syntax paramet materialsporousflowthermalconductivityfromporos syntax input materialsporousflowthermalconductivityfromporos syntax children materialsporousflowthermalconductivityfromporos porousflowphasehyspp materi comput liquid ga satur given porepressur phase hysteret situat assum van genuchten relationship detail document hysteresi van genuchten relationship found hysteresi pagehysteresismd porousflowphasehyspp hysteret cousin porousflowphaseppporousflowphaseppmd materi requir porousflowhysteresisorderporousflowhysteresisordermd materi comput hysteresi order porousflowphasehyspp use hysteresi order along two porepressur comput satur simpl exampl usag list modulesporous_flowtesttestshysteresisphaseppi note follow featur porousflowhysteresisorderporousflowhysteresisordermd materi appear alongsid porousflowphasehyspp materi list modulesporous_flowtesttestshysteresisphaseppi starthys_order_materi endpostprocessor satur hysteresi order may record auxvari use porousflowpropertyauxporousflowpropertyauxmd list modulesporous_flowtesttestshysteresisphaseppi blockauxkernel alert warn improv numer converg recommend use low_extens high_extens along valu pc_max s_lr appropri situat see hysteresi pagehysteresismd detail syntax paramet materialsporousflowphasehyspp syntax input materialsporousflowphasehyspp syntax children materialsporousflowphasehyspp porousflowpermeabilityexponenti syntax descript materialsporousflowpermeabilityexponenti simpl porosityperm model beginequ k_ij b k_ij ea phi endequ phi poros b userdefin constant input enter three form depend valu poroperm_funct tabl captioninput format poroperm_funct input format log_k log k phi b ln k ln k phi b k k b expa phi paramet b convert correct form intern syntax paramet materialsporousflowpermeabilityexponenti syntax input materialsporousflowpermeabilityexponenti syntax children materialsporousflowpermeabilityexponenti porousflowjoin syntax descript materialsporousflowjoin materi ad automat action system need includ user syntax paramet materialsporousflowjoin syntax input materialsporousflowjoin syntax children materialsporousflowjoin porousflowtemperatur syntax descript materialsporousflowtemperatur syntax paramet materialsporousflowtemperatur syntax input materialsporousflowtemperatur syntax children materialsporousflowtemperatur porousflowdarcyvelocitymateri syntax descript materialsporousflowdarcyvelocitymateri materi comput darci veloc phase porousflow system materi properti evalu quadpoint at_nod fals darci veloc phase beta beginequ mathbfv_beta frack k_mathrmr betamu_betanabla p_beta rho_betamathbfg endequ k permeabl tensor k_mathrmr beta rel permeabl mu viscos p porepressur rho densiti mathbfg gravit acceler henc materi requir mani materi permeabl rel permeabl etc exampl syntax list modulesporous_flowtesttestsbasic_advectionphasei startdarcy_veloc end declar materi name list modulesporous_flowsrcmaterialsporousflowdarcyvelocitymaterialc start_darcy_veloc end_ddarcy_veloc materi also comput deriv darci veloc respect porousflow variabl use kernel etc construct jacobian syntax paramet materialsporousflowdarcyvelocitymateri syntax input materialsporousflowdarcyvelocitymateri syntax children materialsporousflowdarcyvelocitymateri porousflowdiffusivitymillingtonquirk syntax descript materialsporousflowdiffusivitymillingtonquirk satur depend model diffus coeffici constant tortuos beginequ tau_ tau_betas_beta phi s_beta endequ syntax paramet materialsporousflowdiffusivitymillingtonquirk syntax input materialsporousflowdiffusivitymillingtonquirk syntax children materialsporousflowdiffusivitymillingtonquirk porousflowconstantthermalexpansioncoeffici syntax descript materialsporousflowconstantthermalexpansioncoeffici materi comput beginequ labelconstthermexpdef alpha_b phialpha_t phialpha_f endequ alpha_b biot modulu phi poros alpha_t drain volumetr thermal expans coeffici alpha_f fluid thermal volumetr expans coeffici materi design work porousflowfullysaturatedmasstimederivativeporousflowfullysaturatedmasstimederivativemd kernel alert note quantiti comput initi stage simul kept fix thereaft syntax paramet materialsporousflowconstantthermalexpansioncoeffici syntax input materialsporousflowconstantthermalexpansioncoeffici syntax children materialsporousflowconstantthermalexpansioncoeffici porousflowhystereticrelativepermeabilityliquid materi comput liquid rel permeabl use van genuchten formul rel permeabl assum hysteret materi may use singlephas twophas situat along dri curv rel permeabl beginequ k_r l sqrtbars_lleft left bars_lm rightm right endequ beginequ bars_l fracs_l s_l r s_l r endequ formula s_l liquid satur s_l r liquid residu satur s_l leq s_l r rel permeabl zero van genuchten expon see hysteresi pagehysteresismd detail concern wet rel permeabl use materi necessari includ porousflowhysteresisorderporousflowhysteresisordermd materi comput record inform regard hysteresi order satur turn point syntax paramet materialsporousflowhystereticrelativepermeabilityliquid syntax input materialsporousflowhystereticrelativepermeabilityliquid syntax children materialsporousflowhystereticrelativepermeabilityliquid porousfloweffectivefluidpressur syntax descript materialsporousfloweffectivefluidpressur syntax paramet materialsporousfloweffectivefluidpressur syntax input materialsporousfloweffectivefluidpressur syntax children materialsporousfloweffectivefluidpressur porousflowoutflowbc add follow term residu beginequ int_partialomegapsi mathbf ncdot mathbff endequ variou form mathbff may chosen discuss next bc remov fluid speci heat energi partialomega exactli rate specifi multicompon multiphas darcyrichard equat heat equat therefor bc use repres free boundari fluid heat freeli flow boundari invis simul altern porousflow boundari condit allow boundari flux prescrib discuss hereboundariesmd alert note ensur normal vector point model otherwis flux wrong sign alert warn porousflowoutflowbc model interfac model empti space imagin model porousmedia pipe contain water porousflowoutflowbc model situat pipe end water flow empti space instead porousflowoutflowbc allow part pipe model water exit model continu freeli unmodel section pipe sens model boundari invis simul consequ sink model section porousflowoutflowbc allow water flow unmodel section model section alert note rate outflow limit permeabl viscos fluid etc exactli way darci veloc limit quantiti mean instanc inject lot fluid heat model take porousflowoutflowbc time suck work exampl boundari condit may found boundari documentationboundariesmd bc fulli upwind use conjunct porousflowadvectivefluxporousflowadvectivefluxmd porousflowheatadvectionporousflowheatadvectionmd porousflowheatconductionporousflowheatconductionmd kernel fluid flow allow fluid speci kappa flow freeli model govern equationsgoverning_equationsmd impli beginequ mathbff sum_betachi_betakappamathbff_betamathrmadvect mathbffkappa_mathrmdiffusiondispers endequ standard porou flow nomenclatureporous_flownomenclaturemd use mani porousflow simul involv diffus dispers latter term includ porousflowoutflowbc mathbff simpli beginequ mathbff sum_betachi_betakappamathbff_betamathrmadvect sum_betachi_betakapparho_betafrackk_mathrmrbetamu_betanabla p_beta rho_beta mathbfg endequ inputfil syntax type boundari condit requir specifi flux_typ fluid default mass_fraction_compon kappa flag include_relperm set fals fullysatur situat notion rel permeabl flag multiply_by_dens mean express premultipli rho_beta allow porousflowoutflowbc use object multipli densiti simul base fluid volum instead fluid mass heat flow allow heat energi flow freeli model govern equationsgoverning_equationsmd impli beginequ mathbff lambda nabla sum_betah_betamathbff_beta lambda nabla sum_betah_betarho_betafrackk_mathrmrbetamu_betanabla p_beta rho_beta mathbfg endequ inputfil syntax type boundari condit requir specifi flux_typ heat flag include_relperm set fals fullysatur situat notion rel permeabl case multiply_by_dens set true irrespect choic set user sinc error multipli densiti mass_fraction_compon specifi ignor exampl singlephas singlecompon fluidflow boundari basic usag porousflowoutflowbcporousflowoutflowbcmd illustr follow list modulesporous_flowtesttestssinkssi startbc endprecondit inputfil boundari outflow type total flow rate kg record outflow_kg_per_ use nodalsumnodalsummd postprocessor exampl heat flow boundari porousflowoutflowbcporousflowoutflowbcmd flux_typ heat allow heat flow boundari record total heatenergi flow boundari nodalsumnodalsummd postprocessor use list modulesporous_flowtesttestssinkssi startbc endprecondit multicompon exampl fullysatur compon model line segment leq x leq list sinkssi blockporousflowfullysatur model initi porou materi fulli fill compon frac porepressur gradient move fluid neg x posit x beginequ pt x mathrmand chit endequ list sinkssi blockvari list sinkssi blockic fluid compon frac variabl introduc materi left side x appli fix boundari condit beginequ px mathrmand chix endequ righthand side x fix porepressur beginequ px endequ fluid compon frac variabl allow freeli exit domain arriv porepressur held pp x physic add remov compon ensur porepressur fix porepressur held pp x physic add remov compon ensur porepressur fix two bc ensur porepressur gradient maintain zeroth mass fraction held frac x zeroth mass fraction allow freeli exit model x former implement use dirichletbcdirichletbcmd latter porousflowoutflowbc act mass_fraction_compon massfract associ frac variabl porousflowfullysatur actionporousflowfullysaturatedmd list sinkssi blockbc result shown seen fluid compon freeli exit righthand boundari media sinksspng stylewidthmarginautopaddingtop id captionadvect diffus fluid compon left right along porepressur gradient fluid compon free exit righthand boundari due porousflowoutflowbc descript result exampl may found boundari documentationboundariesmd sink test documentationsinks_testsmd syntax paramet bcsporousflowoutflowbc syntax input bcsporousflowoutflowbc syntax children bcsporousflowoutflowbc porousflowhalfgaussiansink syntax descript bcsporousflowhalfgaussiansink basic sink fxt scale gaussian flux multipli pressur fluid phase temperatur gv beginequ ft x time gv endequ beginequ gv begincas g_mathrmmax exp v v_mathrmcent sd textif v v_mathrmcent g_mathrmmax textotherwis endcas endequ unit ftime g kgm fluid jm heat paramet g_mathrmmax v_mathrmcent sd given input file use max center sd option respect f boundari condit act sink f boundari condit act sourc appli fluidcompon equat function f unit kgm appli heat equat function f unit jm unit potenti modifi extra build block enumer use addit sink may multipli follow quantiti option paramet list fluid rel permeabl fluid mobil k_ijn_in_jk_r rho nu n normal vector boundari fluid mass fraction fluid intern energi thermal conduct see boundari conditionsboundariesmd mani detail discuss syntax paramet bcsporousflowhalfgaussiansink syntax input bcsporousflowhalfgaussiansink syntax children bcsporousflowhalfgaussiansink porousflowsink syntax descript bcsporousflowsink sink beginequ ft x endequ f moos function time posit boundari f boundari condit act sink f boundari condit act sourc appli fluidcompon equat function f unit kgm appli heat equat function f unit jm unit potenti modifi extra build block enumer use addit sink may multipli follow quantiti option paramet list fluid rel permeabl fluid mobil k_ijn_in_jk_r rho nu n normal vector boundari fluid mass fraction fluid intern energi thermal conduct see boundari conditionsboundariesmd mani detail discuss syntax paramet bcsporousflowsink syntax input bcsporousflowsink syntax children bcsporousflowsink porousflowsinkbc class add porousflowsinkporousflowsinkmd porousflowenthalpysinkporousflowenthalpysinkmd model ad fluid mass flux rate specifi temperatur user requir specifi boundari list boundari id mesh boundari condit appli either fluid_phas fluid phase whose porepressur use comput inject enthalpi porepressure_var auxvari repres fluid pressur comput inject enthalpi t_in inlet temperatur fp name user object fluid properti flux_funct flux medium list modulesporous_flowtesttestssinkss_acti blockmodulesporousflowbcsleft porousflowhalfcubicsink syntax descript bcsporousflowhalfcubicsink basic sink fxt scale cubic flux multipli pressur fluid phase temperatur label pressur temperatur v sink strength beginequ ft x time gv endequ function g interpol smoothli gv_mathrmcutoff v_mathrmcent gv_mathrmcent g_mathrmmax sinc cubic interpol use function g continu deriv continu everywher explicitli beginequ gv begincas g_mathrmmax textif v v_mathrmcent fracg_mathrmmax leftv v_mathrmcent v_mathrmcutoffright v v_mathrmcent v_mathrmcutoffv_mathrmcutoff v_mathrmcutoff v_mathrmcent leq v leq v_mathrmcent textif v v_mathrmcutoff v_mathrmcent endcas endequ unit ftime g kgm fluid jm heat paramet g_mathrmmax v_mathrmcent v_mathrmcutoff given input file use max center cutoff option respect sink often use groundwat model evapotranspir v_mathrmcent sinc evapotranspir maximum groundwat tabl topographi v_mathrmcutoff root depth evapotransipir groundwat system g_mathrmmax valu pan evapor kgm f boundari condit act sink f boundari condit act sourc appli fluidcompon equat function f unit kgm appli heat equat function f unit jm unit potenti modifi extra build block enumer use addit sink may multipli follow quantiti option paramet list fluid rel permeabl fluid mobil k_ijn_in_jk_r rho nu n normal vector boundari fluid mass fraction fluid intern energi thermal conduct see boundari conditionsboundariesmd mani detail discuss syntax paramet bcsporousflowhalfcubicsink syntax input bcsporousflowhalfcubicsink syntax children bcsporousflowhalfcubicsink porousflowpiecewiselinearsink syntax descript bcsporousflowpiecewiselinearsink basic sink fxt multipli piecewis linear moos function pressur fluid phase gpbetap_mathrm temperatur gtt_mathrm beginequ ft x time gpbetap_mathrm textrmor ft x time gtt_mathrm endequ unit ftime g kgm fluid jm heat f boundari condit act sink f boundari condit act sourc appli fluidcompon equat function f unit kgm appli heat equat function f unit jm unit potenti modifi extra build block enumer use addit sink may multipli follow quantiti option paramet list fluid rel permeabl fluid mobil k_ijn_in_jk_r rho nu n normal vector boundari fluid mass fraction fluid intern energi thermal conduct see boundari conditionsboundariesmd mani detail discuss syntax paramet bcsporousflowpiecewiselinearsink syntax input bcsporousflowpiecewiselinearsink syntax children bcsporousflowpiecewiselinearsink porousflowenthalpysink porousflowenthalpysink implement sink add heat energi correspond ad fluid mass flux rate comput function specifi temperatur object use conjunct porousflowsinkporousflowsinkmd use flux_funct correct amount fluid inject system user encourag util porousflowsinkbcporousflowsinkbcmd avoid make subtl mistak note fluid properti object use boundari condit one use comput domain object locat bc use model two situat parambcsporousflowenthalpysinkfluid_phas provid inject enthalpi calcul use porepressur within porou medium parambcsporousflowenthalpysinkt_in correspond inject specifi rate specifi temperatur could potenti lead chang porepressur assum appropri porousflowsinkporousflowsinkmd also ad parambcsporousflowenthalpysinkporepressure_var provid inject enthalpi calcul use pressur may auxvari instanc parambcsporousflowenthalpysinkt_in correspond inject fluid specifi rate specifi pressur specifi temperatur instanc list modulesporous_flowtesttestssinkssi blockbc syntax paramet bcsporousflowenthalpysink syntax input bcsporousflowenthalpysink syntax children bcsporousflowenthalpysink porousflowfluidstat syntax descript icsporousflowfluidstat initi condit provid straightforward way specifi initi ga satur model use persist variabl fluid state describ miscibl multicompon multiphas flow syntax paramet icsporousflowfluidstat syntax input icsporousflowfluidstat syntax children icsporousflowfluidstat porousflowfluidstatebrineco syntax descript icsporousflowfluidstatebrineco alert note porousflowfluidstatebrineco deprec use porousflowfluidstateicporousflowfluidstateicmd syntax paramet icsporousflowfluidstatebrineco syntax input icsporousflowfluidstatebrineco syntax children icsporousflowfluidstatebrineco porousflowfluidproperty syntax descript icsporousflowfluidproperty initi condit provid straightforward way specifi initi valu fluid properti use pressur temperatur input valid fluid propertiesfluid_propertiesindexmd userobject requir alert note fluidproperti userobject expect temperatur kelvin simul use temperatur celsiu temperature_unit celsiu must use syntax paramet icsporousflowfluidproperty syntax input icsporousflowfluidproperty syntax children icsporousflowfluidproperty porousflowfluidstatewaterncg syntax descript icsporousflowfluidstatewaterncg alert note porousflowfluidstatewaterncg deprec use porousflowfluidstateicporousflowfluidstateicmd syntax paramet icsporousflowfluidstatewaterncg syntax input icsporousflowfluidstatewaterncg syntax children icsporousflowfluidstatewaterncg porousflowaddmaterialact syntax descript materialsporousflowaddmaterialact syntax paramet materialsporousflowaddmaterialact syntax input materialsporousflowaddmaterialact syntax children materialsporousflowaddmaterialact porousflowaddmaterialjoin syntax descript materialsporousflowaddmaterialjoin syntax paramet materialsporousflowaddmaterialjoin syntax input materialsporousflowaddmaterialjoin syntax children materialsporousflowaddmaterialjoin porousflowunsatur syntax descript porousflowunsaturatedporousflowunsatur discuss work exampl see tutori page tutorial_md syntax paramet porousflowunsaturatedporousflowunsatur syntax input porousflowunsaturatedporousflowunsatur porousflowbasicthm action allow simpl simul fullysatur singlephas singlecompon simul mainli use poroelast thermoporoelast simul fluid flow may option coupl mechan andor heat flow use coupling_typ flag action offer simplifi physic compar porousflowfullysaturatedporousflowfullysaturatedmd porousflowunsaturatedporousflowunsaturatedmd action fluid flow fluid equat simplifi form full porousflow fluid equationporous_flowgoverning_equationsmd see porousflowfullysaturatedmasstimederivativeporousflowfullysaturatedmasstimederivativemd porousflowfullysaturateddarcybaseporousflowfullysaturateddarcybasemd deriv beginequ labeleqbasicthm rholeftfracdotpm alpha_bdotepsilon_v adottright nabla_ileftrho k_ijleftnabla_jp rho g_jrightmuright endequ equat fluid densiti rho appear parenthes user option includ use multiply_by_dens flag note fluidmass time deriv close linear perfectli linear multiply_by_densityfals also almost linearis flow term extrem good nonlinear converg therefor expect knockon effect document porousflowfullysaturatedmasstimederivativeporousflowfullysaturatedmasstimederivativemd term alpha_bdotepsilon_v appear coupling_typ includ mechan term adott appear coupling_typ includ thermo simul eqbasicthm porousflowbasicthm action employ follow kernel porousflowfullysaturatedmasstimederivativeporousflowfullysaturatedmasstimederivativemd simul transient type porousflowfullysaturateddarcybaseporousflowfullysaturateddarcybasemd isotherm simul fluid properti may still depend temperatur temperatur input paramet may set real number auxvari desir upwindingporous_flowupwindingmd mass lumpingporous_flowmass_lumpingmd use kernel numer scheme typic unnecessari fullysatur singlephas simul lack stabil mean result porousflowbasicthm typic slightli differ remaind porousflow alert note even though one fluid phase fulli satur action object may requir rel permeabl materi work exampl includ porousflowdarcyvelocitycomponentporousflowdarcyvelocitycomponentmd auxkernel requir rel permeabl porousflowpeacemanboreholeporousflowpeacemanboreholemd well default action add constant rel permeabl one fluid perfectli mobil heat flow anisotherm simul energi equat read beginequ fracpartialparti tleftphirho_rc_rt phirhomathcaleright nablacdot rho h knabla p rho mathbfgmu nablacdotlambda nabla leftphirho_rc_rt phirhomathcalerightnablacdot v_ endequ final term use coupl mechan also desir simul de porousflowbasicthm use follow kernel porousflowenergytimederivativeporousflowenergytimederivativemd simul transient type porousflowfullysaturatedheatadvectionporousflowfullysaturatedheatadvectionmd multiply_by_densitytru irrespect set flag porousflowbasicthm action porousflowheatconductionporousflowheatconductionmd porousflowheatvolumetricexpansionporousflowheatvolumetricexpansionmd coupl temperatur mechan desir simul transient type solid mechan simul coupl fluid flow mechan equat alreadi written govern equationsporous_flowgoverning_equationsmd porousflowbasicthm implement use follow kernel stressdivergencetensorsstressdivergencetensorsmd gravitygravitymd porousfloweffectivestresscouplingporousfloweffectivestresscouplingmd requir materi porousflowbasicthm add mani materi automat howev run simul need provid materi mesh block depend simul type viz one porousflowperm class eg porousflowpermeabilityconstporousflowpermeabilityconstmd porousflowconstantbiotmodulusporousflowconstantbiotmodulusmd porousflowconstantthermalexpansioncoefficientporousflowconstantthermalexpansioncoefficientmd porousflowporosityporousflowporositymd porousflowmatrixinternalenergyporousflowmatrixinternalenergymd thermal conduct calcul eg porousflowthermalconductivityidealporousflowthermalconductivityidealmd elast tensor eg computeisotropicelasticitytensorcomputeisotropicelasticitytensormd strain calcul eg computesmallstraincomputesmallstrainmd thermal expans eigenstrain calcul eg computethermalexpansioneigenstraincomputethermalexpansioneigenstrainmd stress calcul eg computelinearelasticstresscomputelinearelasticstressmd alert note choos nonstandard pressure_unit time_unit read essay nonstandard choic hereporousflowsinglecomponentfluidmd exampl simpl exampl use porousflowbasicthm document porousflow tutorialporous_flowtutorial_md input file list modulesporous_flowexamplestutoriali th exampl use porousflowbasicthm also document porousflow tutorialporous_flowtutorial_md input file list modulesporous_flowexamplestutoriali thm exampl use porousflowbasicthm also document porousflow tutorialporous_flowtutorial_md input file list modulesporous_flowexamplestutoriali syntax paramet porousflowbasicthmporousflowbasicthm porousflowaddbcact action creat porousflowspecif boundari condit allow develop creat user friendli syntax ad complic boundari condit use follow structur porousflow bc my_bc type myuserfriendlybc paramet creat syntax like develop build proxi class call myuserfriendlybc class inherit mooseobject regist paramet usual porousflowaddbcactionact develop check type construct object match type build underli boundari condit object use moos c inferfac exampl approach seen porousflowsinkbcporousflowsinkbcmd userfriendli proxi class way setup seen porousflowaddbcactionc porousflowfullysatur syntax descript porousflowfullysaturatedporousflowfullysatur work exampl see tutori page tutorial_md dictat action automat add appropriatelyparameter porousflowdictatorporousflowdictatormd name given dictator_nam input fluid equat order unknown unknown fluid equat beginequ chi chi ldot chin_f p endequ n_f number fluid compon chii fluid compon p porepressur exampl singlecompon fluid n_f pure water p variabl brine whose fluid compon nacl h_o variabl chi p chimathrmnacl p acid brine whose basi speci na cl h h_o n_f variabl chi chi chi p chimathrmna chimathrmcl chimathrmh p note action associ final massfract porepressur variabl order massfract variabl final variabl greatest massfract usual improv converg speed jacobian diagon domin instanc brine situat usual much comput effici choos chi chimathrmnacl rather chi chimathrmho even though final answer ident sinc final massfract sum_kappa n_f chikappa associ porepressur variabl bc object associ porepressur variabl act final massfract see tutori page tutorial_md exampl fluidflow equat action simul n_f fluid equationsporous_flowgoverning_equationsmd beginequ labeleqfull_sat fracpartialparti phirho chikappa phirho chikappanablacdot mathrmv_ nabla_i leftchikapparhofrack_ijmunabla p_j rho g_j right endequ equat fluid densiti rho appear parenthas user option includ use multiply_by_dens flag alert note think care use multiply_by_dens fals multipli densiti mani situat sum eqfull_sat impli laplac equat nabla knabla p rho g steadyst distribut porepressur addit care must taken use part porousflow instanc porousflowmassporousflowfluidmassmd postprocessor code record fluid mass fluid volum new user set multiply_by_dens true avoid confus even expens extra comput cost kernel ad repres fracpartialparti phirho chikappa term appear transient simul action add porousflowmasstimederivativeporousflowmasstimederivativemd kernel fluid compon kernel lump fluidcompon mass node ensur superior numer stabilizationstabilizationmd repres phirho chikappanablacdot mathrmv_ term appear transient simul mechan coupling_typ action add porousflowmassvolumetricexpansionporousflowmassvolumetricexpansionmd kernel fluid compon kernel lump fluidcompon mass node ensur superior numer stabilizationstabilizationmd repres nabla_i leftchikapparhofrack_ijmunabla p_j rho g_j right action add kernel possibl userobject depend stabil paramet case noupwind porousflowfullysaturateddarcyflowporousflowfullysaturateddarcyflowmd kernel fluid compon full upwind porousflowfullysaturatedadvectivefluxporousflowfullysaturatedadvectivefluxmd kernel fluid compon kt stabilizationktmd porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd kernel porousflowadvectivefluxcalculatorsaturatedmulticomponentporousflowadvectivefluxcalculatorsaturatedmulticomponentmd userobject fluid compon porousflowadvectivefluxcalculatorsaturatedporousflowadvectivefluxcalculatorsaturatedmd case one fluid compon advanc addit diffus dispers radioact decay chemistri action add kernel model follow effect dispers dispers import user must manual add set porousflowdispersivefluxporousflowdispersivefluxmd kernel radioact decay import user must manual add porousflowmassradioactivedecayporousflowmassradioactivedecaymd kernel chemistri chemistri import appropri kernel must manual ad porousflowpredisporousflowpredismd porousflowdesorpedmasstimederivativeporousflowdesorpedmasstimederivativemd porousflowdesorpedmassvolumetricexpansionporousflowdesorpedmassvolumetricexpansionmd simpl exampl discuss tutori pagetutorial_md altern moos geochemistri modul may employ heat equat heat equationgoverning_equationsmd associ temperatur variabl includ coupling_typ includ thermo beginequ labeleqheat_con fracpartialparti tleft phirho_rc_rt phirhomathcal right left phirho_rc_rt phirhomathcal rightnablacdotmathbf v_ lambda nablat nabla_ilefthrho frack_ijmu nabla_jp rho g_j right endequ note multipl fluid densiti rho occur irrespect multiply_by_dens flag repres term fracpartialparti tleft phirho_rc_rt phirhomathcal right appear transient simul action add porousflowenergytimederivativeporousflowenergytimederivativemd kernel kernel lump heat energydens node repres term left phirho_rc_rt phirhomathcal rightnablacdotmathbf v_ appear transient simul coupling_typ thermohydromechan action add porousflowheatvolumetricexpansionporousflowheatvolumetricexpansionmd kernel repres term lambda nablat action add porousflowheatconductionporousflowheatconductionmd kernel repres term nabla_ilefthrho frack_ijmu nabla_jp rho g_j right action add follow kernel possibl userobject depend stabil paramet case noupwind porousflowfullysaturatedheatadvectionporousflowfullysaturatedheatadvectionmd kernel multiply_by_dens true full upwind porousflowfullysaturatedupwindheatadvectionporousflowfullysaturatedupwindheatadvectionmd kernel kt stabilizationktmd porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd kernel porousflowadvectivefluxcalculatorsaturatedheatporousflowadvectivefluxcalculatorsaturatedheatmd userobject multiply_by_dens true solidmechan equat static conserv momentum equationgoverning_equationsmd associ displac variabl includ coupling_typ includ mechan beginequ labeleqcons_mom nabla_isigma_ijmathrmeff alpha_bnabla_j p rho_mathrmundrain g_j endequ equat repres set stressdivergencetensor kernel stressdivergencerztensor kernel case rz coordin includ thermaleigenstrain coupl coupling_typ hydrothermomechan graviti kernel kernel ad automat part tensormechan modul alpha_bnabla_jp_f term repres porousfloweffectivestresscouplingporousfloweffectivestresscouplingmd kernel assum effect stress total stress enter consitut law plastic insitu stress almost everywher els one except specifi neumann boundari condit displac total stress specifi seen eqcons_mom therefor moos use effect stress total stress intern one need input output total stress one must subtract alpha_bp moos stress sourc boundari condit sourc term may ad equat user includ appropri kernel dirackernel list hereporous_flowsystemsmd describ hereporous_flowsinksmd boundari conditionsporous_flowboundariesmd also suppl sourc boundari condit automat includ action materi ad requir kernel follow materi ad case deriv materi properti also creat respect mass fraction porepressur case appropri coupling_typ temperatur displac porousflowphasefullysaturatedporousflowphasefullysaturatedmd creat materi version porepressur spatial deriv satur alway case spatial deriv porousflowtemperatureporousflowtemperaturemd creat materi version temperatur spatial deriv porousflowmassfractionporousflowmassfractionmd creat materi version massfract variabl spatial deriv porousflowsinglecomponentfluidporousflowsinglecomponentfluidmd porousflowbrineporousflowbrinemd case custom_fluid_properti usersuppli materi comput fluid properti properti fluid densiti viscos well intern energi enthalpi requir alert note use nonstandard pressure_unit time_unit possibl porousflowsinglecomponentfluid porousflowbrin need read essay nonstandard unit system hereporousflowsinglecomponentfluidmd porousfloweffectivefluidpressureporousfloweffectivefluidpressuremd creat effect fluid pressur equal porepressur use mechanicallycoupl model porousflowvolumetricstrainporousflowvolumetricstrainmd creat volumetr strain rate use mechanicallycoupl model porousflownearestqpporousflownearestqpmd record nearest quadpoint node element alert note even though one fluid phase fulli satur action object may requir rel permeabl materi work exampl includ porousflowdarcyvelocitycomponentporousflowdarcyvelocitycomponentmd auxkernel requir rel permeabl porousflowpeacemanboreholeporousflowpeacemanboreholemd well default action add constant rel permeabl one fluid perfectli mobil materi ad variou import materi ad action must ad user materi block reason ad default usual subdomaindepend one porousflowporosityporous_flowporositymd option one porousflowpermeabilitypermeabilitymd option porousflowmatrixinternalenergyporousflowmatrixinternalenergymd thermal conduct porousflowthermalconductivityidealporousflowthermalconductivityidealmd definit elast tensor eg computeisotropicelasticitytensorcomputeisotropicelasticitytensormd strain calcul eg computesmallstraincomputesmallstrainmd thermal expans eigenstrain calcul eg computethermalexpansioneigenstraincomputethermalexpansioneigenstrainmd stress calcul eg computelinearelasticstresscomputelinearelasticstressmd materi associ chemistri porousflowaqueouspredischemistryporousflowaqueouspredischemistrymd porousflowaqueouspredismineralporousflowaqueouspredismineralmd see tutori tutorial_md work exampl auxvari add_darcy_aux true action add constant monomi auxillari variabl name darcy_vel_x darcy_vel_i darcy_vel_z record darci veloc use porousflowdarcyvelocitycomponentporousflowdarcyvelocitycomponentmd auxkernel add_stress_aux true coupling_typ includ mechan action add constant monomi auxillari variabl name stress_xx stress_xi stress_xz stress_yx stress_yy stress_yz stress_zx stress_zi stress_zz record effect stress use ranktwoaux mention effect stress requir total stress need subtract alpha_bp sigma_ijmathrmtot sigmamathrmeff_ij delta_ijalpha_bp syntax paramet porousflowfullysaturatedporousflowfullysatur syntax input porousflowfullysaturatedporousflowfullysatur bibtex bibliographi cold co_ inject reactiv elast reservoir multiphas thmc problem anoth examplethm_examplemd describ cold co_ inject warmer elast reservoir moos result benchmark analyt solut page extend exampl assum reservoir chemic reactiv demonstr solv thermalhydrualicmechanicalchem thmc problem two possibl includ geochem reaction model use simpl chemicalreact function built porousflow modul describ page coupl geochemistri modul sophist geochem model function geochemistri includ meant illustr function porousflow modul could use intend repres reaction realist reservoir chemic reaction consid hypothet kineticallycontrol dissolut reaction form beginequ sum_inu_im_i rightleftarrow endequ equat nu_i dimensionless stoichiometr coeffici basi chemic speci m_i mol mole number basi chemic speci mol mol number miner dissolv gener form reaction rate equat porousflow beginequ sphi r av expleftfracerleftfract fract_mathrmrefright right left leftfracprod_i a_inu_ikrighttheta righteta endequ lminerallsolut reaction rate dimensionless satur phase involv chemic reaction phi dimensionless poros r molm intrins reaction rate mlsolut specif reactiv surfac area v lmineralmol molar volum miner e jmol activ energi r jmolk ga constant k temperatur t_mathrmref k refer temperatur a_i activ primari speci k equilibrium constant reaction eta theta dimensionless expon reaction rate without phi term comput use porousflowaqueouspredischemistryporousflowaqueouspredischemistrymd materi timedepend volumefract miner comput use porousflowaqueouspredismineralporousflowaqueouspredismineralmd materi case hand assum hypothet reaction occur ga phase present also assum activ primari chemic speci fix physic could due co_g caus chang equilibrium aqueou geochemistri perhap alter ph turn caus miner dissolut model taken ga satur prod_ia_i also assum arrheniu prefactor irrelev idealis hypothet assumpt lead particularli simpl reaction rate presenc ga reaction rate control temperaturedepend equilibrium constant read beginequ sphi r av left k right endequ eta theta assum kneq ga present reaction continu miner dissolv use rav materi comput reaction rate result miner concentr mmineralmporousmateri list modulesporous_flowexamplesthm_exampled_ci startpredi endpredis_nod porousflowdictatorporousflowdictatormd must enhanc includ number reaction specif phase number phase involv reaction list modulesporous_flowexamplesthm_exampled_ci startdict endpc phase involv reaction usual aqueou phase henc aqueou keyword case set aqueous_phase_numb mean equat actual ga satur equilibrium constant assum temperatur depend beginequ log_k frac endequ list modulesporous_flowexamplesthm_exampled_ci starteqm_const_auxk endporosity_auxk impact dissolut poros porousflow porosityporousflowporositymd depend miner concentr well effect porepressur strain temperatur case assum poros depend degre mineralis beginequ phi phi_ m_mathrmref endequ phi dimensionless poros phi_ dimensionless refer poros mm_mathrmref mmineralmporousmateri concentr miner dissolv m_mathrmref mmineralmporousmateri refer concentr exampl assum phi_ m_mathrmref relev materi list modulesporous_flowexamplesthm_exampled_ci startporosity_reservoir endpermeability_reservoir result d_c_fig show result poros chang due reservoir dissolut kinet control temperaturedepend occur soon ga front reach given point nevertheless ga occupi region time cool miner complet dissolv result poros phi compar case chemistri activ sg_cf_fig herethm_examplemd seen co_ front appear similar posit ga satur profil influenc poros chang media mediaporous_flowd_c_figpng captionga satur poros impact reservoirrock dissolut idd_c_fig media mediaporous_flowd_thm_compare_sg_figpng captionga satur chemistri activ idsg_cf_fig bibtex bibliographi brine carbon dioxid brineco_ model avail porousflow high precis equat state brine co_ includ mutual solubl co_ liquid brine water co_rich ga phase model suitabl simul geolog storag co_ salin aquif valid temperatur rang circc le le circc pressur less mpa salt nacl includ nonlinear variabl allow salt transport along water provid variabl densiti brine phase composit mass fraction co_ liquid phase h_o ga phase calcul use accur fugacitybas formul citespych citespych temperatur circc elev temperatur formul citespych temperatur circc formul coincid temperatur near circc cubic polynomi use join two curv smoothli see soltemp exampl media mediaporous_flowsolubility_temperaturepng idsoltemp stylewidthmarginleftpx captiondissolv co_ mass fraction brine versu temperatur show low high temperatur formul join smoothli cubic polynomi result pressur mpa salt mass fraction alert note mutual solubl elev temperatur regim must calcul iter increas comput expens expect similar formul provid econ modul tough citeppruess see xcol yhog comparison two code media mediaporous_flowbrineco_xcolpng idxcol stylewidthmarginleftpx captiondissolv co_ mass fraction brine comparison moos tough circc media mediaporous_flowbrineco_yhogpng idyhog stylewidthmarginleftpx captionh_o mass fraction ga comparison moos tough circc mani reservoir simul assum phase instantan equilibrium mean dissolut co_ brine evapor water vapor co_ phase happen instantan amount co_ present suffici satur brine ga phase form dissolv co_ mass fraction smaller equilibrium valu similarli amount water vapor present smaller equilibrium valu ga phase liquid phase form suffici co_ present satur brine liquid ga phase present case mass fraction co_ dissolv brine given equilibrium valu current pressur temperatur salin similarli mass fraction water vapor ga phase given equilibrium valu two phase region thermophys properti densiti densiti aqueou phase contribut dissolv co_ calcul use beginequ fracrho frac x_corho_b fracx_corho_co endequ rho_b densiti brine suppli use brinefluidpropertiesbrinefluidpropertiesmd userobject x_co mass fraction co_ dissolv aqueou phase rho_co partial densiti dissolv co_ citepgarcia water vapor ever small compon ga phase temperatur pressur rang class valid densiti ga phase assum simpli densiti co_ given pressur temperatur calcul use cofluidpropertiescofluidpropertiesmd userobject viscos contribut viscos phase due presenc co_ aqueou phase water vapor ga phase includ result viscos aqueou phase simpli viscos brine viscos ga phase viscos co_ enthalpi enthalpi ga phase simpli enthalpi co_ given pressur temperatur valu contribut due presenc water vapor includ enthalpi liquid phase also calcul weight sum enthalpi individu compon also includ contribut due enthalpi dissolut chang enthalpi due dissolut ncg water phase beginequ h_l x_co h_b x_co h_coaq endequ h_b enthalpi brine h_coaq enthalpi co_ liquid phase includ enthalpi dissolut h_di beginequ h_coaq h_co h_di endequ rang pressur temperatur consid co_ may exist ga supercrit fluid use linear fit model citeduan enthalpi dissolut ga phase supercrit co_ calcul beginequ h_dist frac tm_co endequ calcul brine co_ fluid properti take signific proport simul suggest tabul version co_ brine proeprti use use tabulatedfluidpropertiestabulatedfluidpropertiesmd implement variabl class requir pressur ga phase total mass fraction co_ sum phase see composit flashcompositional_flashmd detail mass fraction salt brine isotherm simul nonisotherm simul temperatur must also provid nonlinear variabl alert note variabl must list porousflow variabl porousflowdict userobject gener isotherm case three variabl ga porepressur total co_ mass fraction salt mass fraction provid one three possibl fluid compon water salt co_ result number compon porousflowdict must set equal three list modulesporous_flowtesttestsfluidstatetheis_brinecoi blockuserobjectsdict nonisotherm case temperatur must also provid ensur deriv respect temperatur variabl calcul list modulesporous_flowtesttestsfluidstatetheis_brineco_nonisothermali blockuserobjectsdict option salt mass fraction treat constant case ga porepressur total co_ mass fraction requir isotherm case number fluid compon two list modulesporous_flowtesttestsfluidstatebrinecoi blockuserobjectsdict userobject fluid state implement porousflowbrinecoporousflowbrinecomd userobject userobject generaluserobject contain method provid complet thermophys descript model given pressur temperatur salt mass fraction list modulesporous_flowtesttestsfluidstatebrinecoi blockuserobjectsf materi porousflowfluidstateporousflowfluidstatemd materi provid phase pressur satur densiti viscos etc well mass fraction fluid compon fluid phase singl materi use formul provid porousflowbrinecoporousflowbrinecomd userobject list modulesporous_flowtesttestsfluidstatebrinecoi blockmaterialsbrineco nonisotherm simul temperatur variabl must also suppli ensur deriv respect temperatur variabl comput jacobian list modulesporous_flowtesttestsfluidstatetheis_brineco_nonisothermali blockmaterialsbrineco initi condit nonlinear variabl repres co_ total mass fraction co_ sum phase case may prefer provid initi co_ satur rather total mass fraction allow initi satur specifi porousflowfluidstateicporousflowfluidstateicmd initi condit provid initi condit calcul total mass fraction co_ sum phase given satur list modulesporous_flowtesttestsfluidstatebrineco_ici blockic exampl radial inject inject one dimension radial reservoir use test class admit similar solut zeta rt r radial distanc inject well time similar solut hold even complic physic mutual solubl includ exampl radial inject problem includ test suit list modulesporous_flowtesttestsfluidstatetheis_brinecoi initi co_ inject dissolv resid brine amount co_ less dissolv mass fraction equilibrium brine near inject well becom satur co_ ga phase form ga phase spread radial inject continu mass fraction salt brine decreas slightli co_ present due increas densiti brine follow dissolut co_ comparison result express term similar solut present thei three nonlinear variabl case r fix evalu use postprocessor also case fix evalu use vectorpostprocessor media mediaporous_flowtheis_similarity_brinecopng idthei stylewidthmarginleftpx captionsimilar solut radial inject exampl result show similar solut hold problem nonisotherm exampl problem cold co_ inject warm aquif also provid test suit list modulesporous_flowtesttestsfluidstatetheis_brineco_nonisothermali bibtex bibliographi use kuzminturek stabil porousflow simul page part set page devot discuss numer stabil porousflow see numer stabil lead pagestabilizationmd mass lumpingmass_lumpingmd full upwindingupwindingmd kuzminturek stabilizationktmd numer diffusionnumerical_diffusionmd work exampl kuzminturek stabilizationkt_workedmd kuzmin turek citepkuzminturek describ method stabilis advect minimis artifici numer diffus page kuzmin turek abbreviatv kt basic featur kt approach detail work examplekt_workedmd result compar full upwind rdg stabil numer diffus pagenumerical_diffusionmd page user want use kt stabil porousflow simul alert note kuzminturek stabil new user strongli encourag experi report find mooseus gmail group iron problem collect gain experi use action system porousflowfullysaturatedactionsporousflowfullysaturatedmd porousflowunsaturatedactionsporousflowunsaturatedmd action support kt stabil porousflowbasicthmactionsporousflowbasicthmmd action support numer stabil typic unneed kt stabil may includ simpli specifi stabil flux_limiter_typ paramet instanc list modulesporous_flowexamplestutorial_kti blockporousflowfullysatur list modulesporous_flowexamplestutorial_kti blockporousflowunsatur use kernel userobject also fairli straightforward swap fullupwind stabil kt stabil two chang need input file kernel instead porousflowadvectivefluxporousflowadvectivefluxmd porousflowheatadvectionporousflowheatadvectionmd anoth type porousflow kernel porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd kernel must use instanc fullupwind simul kernel list modulesporous_flowtesttestsheat_advectionheat_advection_di blockkernel ident simul use kt stabil kernel list modulesporous_flowtesttestsheat_advectionheat_advection_d_kti blockkernel notic porousflowfluxlimitedtvdadvect kernel requir advective_flux_calcul input userobject subject next section userobject set porousflow advect flux calcul userobject comput residu jacobian entri use porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd kernel reason entri comput userobject instead kernel kt scheme requir inform porepressur etc node away current node inform get assembl process determin upwind direct suitabl stabil approach residu jacobian comput process explain work exampl kt stabilizationkt_workedmd page upshot userobject must employ instead usual moos kernelonli approach tabl iduotyp captionavail type porousflow advect flux userobject equat userobject use case fracrhomuk_ijnabla_jp rho g_j porousflowadvectivefluxcalculatorsaturatedporousflowadvectivefluxcalculatorsaturatedmd phase compon fullysatur chikappafracrhomuk_ijnabla_jp rho g_j porousflowadvectivefluxcalculatorsaturatedmulticomponentporousflowadvectivefluxcalculatorsaturatedmulticomponentmd phase multicompon fullysatur k_mathrmrfracrhomuk_ijnabla_jp rho g_j porousflowadvectivefluxcalculatorunsaturatedporousflowadvectivefluxcalculatorunsaturatedmd phase compon unsatur k_mathrmrbetafracrho_betamu_betak_ijnabla_jp_beta rho_beta g_j porousflowadvectivefluxcalculatorunsaturatedporousflowadvectivefluxcalculatorunsaturatedmd multiphas multicompon immisc k_mathrmrbetachi_betakappafracrho_betamu_betak_ijnabla_jp_beta rho_beta g_j porousflowadvectivefluxcalculatorunsaturatedmulticomponentporousflowadvectivefluxcalculatorunsaturatedmulticomponentmd multiphas multicompon hfracrhomuk_ijnabla_jp rho g_j porousflowadvectivefluxcalculatorsaturatedheatporousflowadvectivefluxcalculatorsaturatedheatmd heat phase h_betak_mathrmrbetafracrho_betamu_betak_ijnabla_jp_beta rho_beta g_j porousflowadvectivefluxcalculatorunsaturatedheatporousflowadvectivefluxcalculatorunsaturatedheatmd heat multiphas notat detail nomenclatureporous_flownomenclaturemd briefli beta subscript denot phase kappa superscript denot fluid compon rho fluid densiti mu fluid viscos k_ij permeabl tensor p fluid porepressur g_j acceler graviti chi mass fraction k_mathrmr rel permeabl h enthalpi userobject need depend simul exampl case singlephas singlecompon fullysatur anisotherm simul need two userobject one advect fluid one advect heat list modulesporous_flowtesttestsheat_advectionheat_advection_d_kti startfluid_advective_flux endmodul click link tabl provid exampl instanc follow set kernel userobject illustr case singl tracer fullysatur singlephas fluid list modulesporous_flowtesttestsflux_limited_tvd_pflowpffltvd_di blockkernel list modulesporous_flowtesttestsflux_limited_tvd_pflowpffltvd_di startadvective_flux_calculator_ endmateri alert note multiphas situat need advect flux calcul phase compon unless phase immisc compon exist one phase exampl case phase compon potenti exist phase porousflow govern equationsgoverning_equationsmd one compon equat fluid compon zero contain contribut phase phase equat fluid compon one contain contribut phase phase kernel look like list modulesporous_flowtesttestspressure_pulsepressure_pulse_d_phaseps_kti startkernel userobject look like list modulesporous_flowtesttestspressure_pulsepressure_pulse_d_phaseps_kti startafc_component_phas endmodul watersteam equat state singl compon twophas model suitabl nonisotherm watersteam transport avail porousflow base persist variablepersistent_variablesmd approach primari variabl model porepressur liquid phase enthalpi form complet set persist variabl temperatur vapor satur calcul use primari variabl alert note fluid state model must run nonisotherm set isotherm model water flow requir use one singl phasesinglephasemd model instead temperatur function water porepressur enthalpi shown figphase_diagram entir rang pressur temperatur equat state valid twophas region insid phase envelop shown figphase_diagram water temperatur constant given pressur along satur curv phase transit liquid region outsid left phase envelop vapor region outsid right phase envelop reason pressur temperatur use primari variabl independ twophas region media mediaporous_flowwater_phase_diagram_phpng idfigphase_diagram stylewidthmarginleftpx captiontemperatur water function porepressur enthalpi phase envelop shown solid line full paramet space b vicin twophas region isotherm shown dash line lefthand side phase envelop correspond fulli satur liquid phase righthand side correspond fulli satur vapor phase liquid vapor phase coexist composit describ vapor qualiti beginequ x fracm_vm_l m_v labeleqqu endequ m_v m_l mass vapor liquid phase respect fulli satur liquid phase therefor qualiti fulli satur vapor qualiti altern vapor qualiti express term enthalpi singlecompon system eg water water vapor beginequ x frach h_lh_v h_l labeleqhq endequ h total enthalpi h_v h_l enthalpi fulli satur vapor liquid phase respect quantiti h_v h_l enthalpi vapor correspond enthalpi differ along isotherm twophas region enthalpi phase envelop given pressur mass phase alpha defin m_alpha phi s_alpha rho_alpha phi poros porou media s_alpha satur phase alpha rho_alpha densiti use definit eqhq satur vapor phase twophas region calcul beginequ s_v frach rho_l h_l rho_lh_v rho_v h_l rho_l hh_v h_l labeleqsatv endequ thermophys properti singl phase liquid vapor region water properti calcul first calcul temperatur given porepressur enthalpi except enthalpi cours nonlinear variabl case twophas region properti liquid vapor calcul satur temperatur pressur enthalpi given fullysatur state either vapor liquid implement variabl class requir pressur liquid phase enthalpi primari variabl list modulesporous_flowtesttestsfluidstatewater_vapori blockvari alert note variabl must list porousflow variabl porousflowdict userobject simplest case number fluid compon set one number phase set two porousflowdictatorporousflowdictatormd list modulesporous_flowtesttestsfluidstatewater_vapori blockuserobjectsdict benefici scale residu contribut variabl assist nonlinear converg follow discuss convergenceporous_flowconvergencemd porousflow document residu contribut fluid heat equat approxim time larger residu contribut fluid mass equat userobject fluid state implement porousflowwatervaporporousflowwatervapormd userobject userobject generaluserobject contain method provid complet thermophys descript model given pressur enthalpi list modulesporous_flowtesttestsfluidstatewater_vapori blockuserobjectsf water fluid formul set fluidpropertiesfluid_propertiesindexmd block list modulesporous_flowtesttestsfluidstatewater_vapori blockmodul materi porousflowfluidstatesinglecomponentporousflowfluidstatesinglecomponentmd materi provid phase pressur satur densiti viscos etc use formul provid porousflowwatervaporporousflowwatervapormd userobject list modulesporous_flowtesttestsfluidstatewater_vapori blockmaterialswatervapor initi condit initi condit make easi set enthalpi specifi pressur temperatur may suitabl user provid porousflowfluidpropertyicporousflowfluidpropertyicmd list modulesporous_flowtesttestsicsfluidpropici blockic permeabl porou materi insitu permeabl tensor take one sever form constant spatial vari depend poros constant porousflowpermeabilityconstporousflowpermeabilityconstmd simplest case permeabl tensor constant tensor spatiallyvari porousflowpermeabilityconstfromvarporousflowpermeabilityconstfromvarmd implement heterogen permeabl distribut porousflow also provid permeabl formul element permeabl tensor auxvari enabl permeabl vari spatial exponenti porousflowpermeabilityexponentialporousflowpermeabilityexponentialmd simpl porosityperm model beginequ k_ij k_ij eaphi endequ phi poros userdefin constant kozenycarman porousflowpermeabilitykozenycarmanporousflowpermeabilitykozenycarmanmd permeabl calcul poros use kozenycarman relationship citepoelk beginequ k_ij k_ij fracphin phim endequ n userdefin constant permeabl solid phase solid phase chemic precipit instanc includ framework describ herein simpli set rel permeabl zero howev case absolut permeabl porou materi beginequ k kmathrmwithout solid phase s_mathrm endequ s_mathrm solidphas satur bibtex bibliographi primari variabl miscibl multiphas simul phase appeardisappear depend thermodynam condit appropri primari nonlinear variabl depend phase state system exampl consid twophas twocompon model fluid phase present suitabl set primari variabl pressur one phase satur one phase temperatur one phase disappear instanc due dissolut ga fluid compon liquid fluid phase phase satur longer present govern equat therefor appropri primari variabl case mass fraction fluid compon remain phase suitabl choic primari variabl summaris variabl tabl idvari captionprimari variabl phase state variabl variabl variabl singl phase alpha p_alpha x_alphakappa two phase p_alpha s_alpha two popular strategi overcom issu primari variabl switch use persist set primari variabl primari variabl switch approach primari variabl switch depend phase state model exampl singl fluid phase present primari variabl use might pressur temperatur mass fraction compon phase see variabl phase state chang twophas model mass fraction variabl switch repres satur one fluid phase approach use sever flow simul exampl tough citeppruess persist set primari variabl altern approach use set primari variabl remain independ phase state persist primari variabl approach implement porousflow miscibl twophas flow approach primari variabl pressur one phase p_alpha temperatur total mass fraction fluid compon sum phase beginequ zkappa fracsum_alpha s_alpha rho_alpha x_alphakappasum_alpha s_alpha rho_alpha endequ bibtex bibliographi porou flow tutori page content page tutorial_md singl fluid page tutorial_md numer issu page tutorial_md ad heat advect conduct page tutorial_md ad solid mechan page tutorial_md use realist equat state fluid page tutorial_md ad tracer page tutorial_md chemic reactiv tracer poros permeabl chang page tutorial_md porousflowsink unsatur flow page tutorial_md overview porousflow architectur page tutorial_md unleash full power porousflow use kernel materi page tutorial_md twophas thm borehol inject page tutorial_md boundari sink sourc polylin sink sourc borehol river page tutorial_md elabor chemistri introduct porousflow modul librari physic fluid heat flow porou media formul gener manner capabl solv problem arbitrari number phase fluid compon chemic reactant tutori guid user commonlyus aspect porousflow lot core document may found porou flowporous_flowindexmd tutori concern fluid inject borehol larg fluidfil reservoir borehol vertic cylindr symmetri around borehol axi assum tutori begin simpl darci flow gradual add complex phenomena coupl heat solid mechan multiphas flow chemic reaction conceptu model first step finiteel simul creat mesh mesh use tutori deliber coars tutori input file may easili run smallest comput gener use moos inbuilt mesh capabl firstli annular mesh creat list modulesporous_flowexamplestutoriali startmesh endmak radiu borehol radiu model annulu consid sequenc meshmodifi appli mesh first extrud high use list modulesporous_flowexamplestutoriali startmak endshift_down shift downward ie neg z direct place inject region around origin list modulesporous_flowexamplestutoriali startshift_down endaquif aquif region creat central list modulesporous_flowexamplestutoriali startaquif endinjection_area inject area creat borehol wall aquif region list modulesporous_flowexamplestutoriali startinjection_area endrenam final subdomain name cap upper lower caprock aquif list modulesporous_flowexamplestutoriali startrenam end process creat mesh input file tutori follow process result shown tutfig media tutpng stylewidthmarginleftpx captionth mesh aquif shown red caprock blue green surfac inject area idtutfig real simul rather tutori would much effici use cylindr coordin call rz coordin moos meshgener process list modulesporous_flowexamplestutorial_di startmesh endvari porousflow modul media porous_flowphase_convectiongif stylewidthmarginleftpx captiondens driven convect mixingporous_flowlava_lampmd co brine idphase_convection_anim porousflow modul librari physic fluid heat flow porou media formul extrem gener manner capabl solv problem arbitrari number phase ga liquid etc fluid compon speci present fluid phase use set primari variabl simpli ad piec physic togeth input file porousflow modul enabl user model problem combin fluid heat geomechan row col small medium larg icondevice_hub modul overview classcent stylefontweight govern equationsporous_flowgoverning_equationsmd materi lawsporous_flowmaterial_lawsmd fluid equat stateporous_flowfluidsmd boundariesporous_flowboundariesmd point line sourc sinksporous_flowsinksmd flow modelsporous_flowflow_modelsmd addit object action postprocessor etcporous_flowadditional_objectsmd full system documentationporous_flowsystemsmd z indexporous_flowcontentsmd colend col small medium larg iconschool tutori exampl classcent stylefontweight get startedporous_flowgetting_started_with_pfmd porousflow tutorialporous_flowtutorial_md includ modulesporous_flowporous_flow_examplesmd colend col small medium larg iconstorag implement detail classcent stylefontweight porousflowdictatorporous_flowdictatormd numer stabilizationporous_flowstabilizationmd precondit solversporous_flowsolversmd converg criteriaporous_flowconvergencemd nonlinear converg problemsporous_flownonlinear_convergence_problemsmd persist variablesporous_flowpersistent_variablesmd time derivativeporous_flowtime_derivativemd lagrangian coordinatesporous_flowlagrangian_eulerianmd composit flashporous_flowcompositional_flashmd colend rowend becom develop porousflow modul develop user nation laboratori univers around world learn get touch develop helpcontact_usmd optionaltru page user porousflow encourag assist develop modul larg number possibl enhanc implement better document could contribut consid becom develop follow moos standard contribut codeframeworkcontributingmd benchmark problem co_ storag salin aquif brinecobrinecomd equat state avail porousflow modul enabl mani type numer model geolog storag co_ salin aquif number intercomparison problem studi scientif literatur use assess applic porousflow modul type problem citeppruess pruess radial flow inject welldradialmd bibtex bibliographi addit moos object porousflow modul also includ number addit moos object aid user whether assist extract calcul valu visual result implement advanc capabl simplifi input file action action system allow programat addit variou input file object significantli simplifi input file variou simul porousflowbasicthmporousflowbasicthmmd fullysatur singlephas singlecompon fluid flow porousflowfullysaturatedporousflowfullysaturatedmd fullysatur multicompon singlephas fluid flow porousflowunsaturatedporousflowunsaturatedmd saturatedunsatur multicompon singlephas fluid flow auxkernel follow auxkernel use save properti data auxvari use input moos object save output file use visualis result porousflowdarcyvelocitycomponentporousflowdarcyvelocitycomponentmd calcul darci veloc fluid porousflowdarcyvelocitycomponentlowerdimensionalporousflowdarcyvelocitycomponentlowerdimensionalmd calcul darci veloc fluid lowerdimension element porousflowpropertyauxporousflowpropertyauxmd extract materi properti model initi condit model use persist primari variabl also includ initi condit object calcul initi valu persist primari variabl given set porepressur temperatur porousflowfluidstateicporousflowfluidstateicmd calcul total mass fraction compon postprocessor number postprocessor avail porousflowfluidmassporousflowfluidmassmd calcul mass fluid compon kappa porousflowheatenergyporousflowheatenergymd calcul heat energi porousflowplotquantityporousflowplotquantitymd record flow intoout sink time step userobject follow userobject provid porousflowdictatorporousflowdictatormd provid inform object porousflowsumquantityporousflowsumquantitymd record total flow intoout sink porousflowadvectivecalculatorktmd use kuzminturekktmd stabil lagrangian eulerian coordin porousflow formul lagrangian coordin page contain descript eulerian lagrangian coordin system continu equat page self contain use notat might differ porousflow document eulerian coordin introduc notion spatial coordin frame coordin frame stationari observ look deform porou solid outsid denot coordin mathbf x deriv respect coordin nabla let omega volum attach particl poroussolid skeleton porou solid deform omega denot veloc porou solid mathbf v_ measur spatial coordin frame mathbf v_ mathbf v_sx chang small volum element mathrm domega comput calcul jacobian beginequ fracmathrm dmathrm mathrm domega nablacdotmathbf v_ mathrm domega endequ rememb deriv nabla differenti respect coordin spatial coordin frame formula easi motiv reader familiar solid mechan nablacdotmathbf v_ dotepsilon_ii time deriv volumetr strain let repres quantiti attach poroussolid skeleton instanc mass densiti solid express spatial coordin frame mmx porou solid deform beginequ fracmathrm dmathrm tm fracpartialparti tm mathbf v_scdot nabla endequ second term easi motiv consid constant veloc spatiallydepend temporallyconst continu equat beginequ fracmathrm dmathrm tint_omegam mathrm domega int_parti omegamathbf fcdotmathbf nmathrm endequ mathbf f flux omega n outward unit normal mathrm area element partialomega surfac omega use express diverg theorem continu equat read beginequ int_omega left fracpartialparti tm nablacdotmmathbf v_ nablacdotmathbf f rightmathrm domega labelequationcontinuityeul endequ specialis mathbf f fluid heat give equat mention main text lagrangian coordin introduc notion materi coordin frame coordin frame observ fix certain point porou solid eg particular finiteel node denot coordin frame x frame use porousflow materi coordin frame consid mesh fluid properti pressur mass fraction temperatur etc store finiteel node quadpoint move mesh least eulerian descript would inconveni visualis paraview introduc materi deriv mathrmdmathrmd total time deriv seen observ live lagrangian frame instanc mesh isnt deform move rigid bodi space mathrmdmathrmd sinc observ see chang properti express term spatial coordin frame eulerian coordin mtildemxt function tildem materi deriv defin beginequ fracmathrmdmathrmd ttildemx fracparti partial ttildemx mathbfv_scdot nabla tildemx endequ continu equationcontinuityeul rewritten beginequ fracmathrmdmathrmd tm mnablacdot mathrmv_ nablacdotmathrm f endequ howev express term lagrangian coordin beginequ mx endequ gener mx differ function form tildemxt thu tild emphasis differ materi deriv express beginequ fracmathrmdmathrmd tmx fracpartialparti tmx endequ continu equat ident form beginequ fracmathrmdmathrmd tm mnablacdot mathrmv_ nablacdotmathrm f endequ fluid equat state porousflow use formul contain fluid propertiesfluid_propertiesindexmd modul calcul fluid properti densiti viscos use fluid properti modul implement porousflow use userobject fluid propertiesfluid_propertiesindexmd modul specif fluid includ input file ad follow block list modulesporous_flowtesttestsfluidshoi blockmodulesfluidproperti calcul fluid properti porousflowsinglecomponentfluidporousflowsinglecomponentfluidmd materi use ad list modulesporous_flowtesttestsfluidshoi blockmateri fluid densiti viscos intern energi enthalpi calcul materi depend option chosen see porousflowsinglecomponentfluidporousflowsinglecomponentfluidmd detail multipl fluid includ simpli ad addit fluid modul block correspond porousflowsinglecomponentfluid entri materi block due design trivial chang fluid simul simpli swap fluid propertiesfluid_propertiesindexmd userobject alert note fluid properti userobject expect temperatur kelvin input file use temperatur celsiu temperature_unit option porousflowsinglecomponentfluidporousflowsinglecomponentfluidmd must set celsiu perform comput fluid properti densiti viscos expens use detail fluid equat state waterfluidpropertieswaterfluidpropertiesmd cofluidpropertiescofluidpropertiesmd case comput signific proport overal time taken order reduc comput expens use highprecis fluid formul fluid propertiesfluid_propertiesindexmd modul provid gener userobject use bicub interpol calcul fluid properti see tabulatedfluidpropertiestabulatedfluidpropertiesmd detail use interpol calcul fluid properti significantli reduc comput expens particularli cofluidpropertiescofluidpropertiesmd densiti calcul iter pressur temperatur porousflow modul fluid densiti viscos typic calcul time achiev maximum benefit tabulatedfluidpropertiestabulatedfluidpropertiesmd user ensur densiti viscos calcul interpol either provid suppli properti file make sure specifi interpolated_properti input paramet data file exist avail fluid full list avail fluid provid fluid propertiesfluid_propertiesindexmd modul startporous_flowtutorial_md previousporous_flowtutorial_md porou flow tutori page elabor chemistri simpl chemic system built page porous_flowtutorial_md reader encourag consult page move elabor situat describ page use action describ kernel materi etc make input file quit long perhap easi extend multiphas situat differ boundari condit etc action could easili use instead copi chemistri tutori page porous_flowtutorial_md build fullysatur aqueou chemic system could use describ dolomit precipit dissolut page illustr possibl build quit complic chemic system within porousflow howev geochemist recogn still unrealist simpl sinc contain speci activ coeffici uniti equilibrium constant easili temperaturedepend etc requir stateoftheart geochem model capabl pleas use moos geochemistri modul equilibrium system equilibrium system primari speci h hco_ ca mg fe secondari speci co_aq co_ cahco_ mghco_ fehco_ equat beginequ beginalign h hco_ rightleftharpoon co_aq k_eq hco_ h rightleftharpoon co_ k_eq ca hco_ rightleftharpoon cahco_ k_eq mg hco_ rightleftharpoon mghco_ k_eq fe hco_ rightleftharpoon fehco_ k_eq endalign endequ equilibrium constant chosen rather arbitrarili primari speci repres porousflow variabl list modulesporous_flowexamplestutoriali startvari endauxvari equilibrium reaction encod materi list modulesporous_flowexamplestutoriali startequilibrium_massfrac endkinet kinet system beginequ ca mg fe hco_ h rightleftharpoon camg_fe_co__ endequ follow paramet molar volum lsolutionmol miner densiti kgprecipitatemprecipit equilibrium constant k_eq specif reactiv surfac area time ml kinet rate constant k_m time molm activ energi e_a jmol primari activ coeffici uniti eta theta expon also uniti quantiti chosen rather arbitrarili kinet system encod input file list modulesporous_flowexamplestutoriali startkinet enddolomite_conc geometri model line extend x x list modulesporous_flowexamplestutoriali startmesh endvari initi boundari condit primari variabl primari variabl initialis concentr mspeciesmsolut everywher domain except lefthand side x concentr boundari condit fix valu left right side domain instanc list modulesporous_flowexamplestutoriali starth_ic endhco_ list modulesporous_flowexamplestutoriali starth_left endca_left list modulesporous_flowexamplestutoriali starth_right endca_right pleas rememb boundari condit porousflow usual complic set dirichlet preset boundari condit see boundari conditionsboundariesmd look result clearli see effect naiv boundari condit place righthand side dolomit initi condit dolomit mprecipitatempor materi implement auxillari system list modulesporous_flowexamplestutoriali startauxvari endglobalparam materi list modulesporous_flowexamplestutoriali startdolomite_conc endsimple_fluid given equilibrium constant concentr primari speci dolomit immedi begin dissolv solut porepressur porepressur fix gradient dpdx pam list modulesporous_flowexamplestutoriali startpressure_ endh_ic permeabl fluid viscos pa darci veloc ms poros held fix result media tut_concpng stylewidthmarginleftpx captiontwo primari speci concentr end simul idtut_concfig media tut_dolopng stylewidthmarginleftpx captionth precipit dolomit concentr end simul idtut_dolofig startporous_flowtutorial_md previousporous_flowtutorial_md get start instal moos first step use porousflow instal moos full detail see instal moosegetting_startedinstallationindexmd optionaltru build porousflow execut contain porousflow librari built use follow command moos directori bash cd modulesporous_flow make jn n number core avail build execut name porous_flowopt default optimis version execut sever version built execut use debug purpos see detail moos build systembuild_systemmd optionaltru test porousflow porousflow includ larg number qa testsporous_flowtestsmd run use bash run_test jn within modulesporous_flow directori n number test run concurr creat model porousflow applic built success test pass user begin construct model stepbystep tutorialporous_flowtutorial_md number examplesporous_flowindexmd provid guid new user startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md porou flow tutori page ad heat advect conduct page add heat conduct advect fluid differenti equat govern temperatur evolut beginequ labeleqheat fracpartialparti tleft phirho_rc_rt phirho c_vt right nabla_ilambda_ijnabla nabla_i left c_v rho frack_ijmu nabla_jp rho g_j right endequ equat nonlinear sinc product p well nonlinear function rho nomenclatur use page porous_flowtutorial_md addit symbol introduc time unit rho_r densiti rock grain unit kgm c_r specif heat capac rock grain unit jkgk temperatur unit k c_v specif heat capac fluid unit jkgk lambda_ij thermal conduct rockfluid system unit jsmk tensor attempt write input file rough estim expect nonlinear residu must perform discuss converg criteriaporous_flowconvergencemd residu eqheat approxim beginequ r_t approx vlambda epsilon_t c_mathrmvtkapparho_epsilon_pmu approx v epsilon_t epsilon_p endequ paramet lambda sim c_mathrmv sim tsim kappa sim rho_sim mu sim use final express page porous_flowtutorial_md choic epsilon_papprox pam made choos epsilon_tapprox km yield beginequ r_t approx v endequ note significantli greater r_papprox v fluid equat main moos handl type discrep good practis scale variabl residu similar magnitud therefor scale factor appli temperatur variabl model thermohydro system porousflowbasicthm action need enhanc read list modulesporous_flowexamplestutoriali startvari endbc extra properti need ad simplefluidpropertiessimplefluidpropertiesmd list modulesporous_flowexamplestutoriali startmodul endmateri boundari condit use page porous_flowtutorial_md addit specifi constant inject temperatur k list modulesporous_flowexamplestutoriali startconstant_injection_temperatur end final temperaturerel materi need defin list modulesporous_flowexamplestutoriali startthermal_expans endprecondit anim result shown tut_gif_fig reader encourag paus explor effect chang paramet rock thermal conduct media porous_flowtutgif stylewidthmarginleftpx captiontemperatur evolut boreholeaquifercaprock system idtut_gif_fig startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md groundwat model author andi wilkin mall grass porousflow modul may use simul groundwat system typic exampl found citetherron larg complex model may built includ effect rainfal pattern spatial tempor vari evapor transpir season river flow realist topographi hydrogeolog well human factor mine water bore dam etc also possibl includ vados zone unsatur flow track transport tracer pollut system multicompon flow util highprecis equat state groundwat densiti viscos function porepressur temperatur includ heat flow includ impact rock deform solid mechan includ ga flow multiphas flow geochem reaction page concentr mostli construct tradit groundwat model touch lightli elabor option explain porousflow exampl tutori testsporous_flowindexmd groundwat concept porousflow built gener multicompon multiphas simul model physic conveni commonli express term quantiti alien mani experienc groundwat model porepressur permeabl poros section provid translat convent concept hydraul head hydraul conduct stor quantiti usual use porousflow simul follow section porousflow model present use convent groundwat quantiti hydraul head etc well natur quantiti porepressur etc reason mention user encourag use natur quantiti model hydraul head porepressur mani experienc groundwat model use express model term hydraul headhttpsenwikipediaorgwikihydraulic_head instanc borehol drill aquiferhttpsenwikipediaorgwikiaquif hydraul head groundwat borehol rise water tabl assum hydraul head measur rel local water tabl common convent shown gw_hydraulic_head_fig media porous_flowgw_hydraulic_headpng captionhydraul head h aquif measur record height water tabl datum case groundwat borehol idgw_hydraulic_head_fig hydraul head determin direct groundwat flow instanc hydraul head sandston aquif greater siltston aquif groundwat attempt flow sandston siltston hydraul gradient increas south north hydraul head small southern region larg northern region groundwat tend flow north south porousflow model natur express term porepressur pressur groundwat relat hydraul head beginequ labeleqnph p rho g h endequ p porepressur measur pa h hydraul head respect fix datum elev sea level water tabl monitor site measur depth fix datum measur rho water densiti approxim kgm g acceler due graviti approxim ms rho g approx pam recal pa nm kgm consid confin aquiferhttpsenwikipediaorgwikiaquif constant hydraul head h mean groundwat borehol rise h metr fix datum eg local groundwat level irrespect borehol drill deep assum well intersect aquif anoth one eqnph show porepressur increas depth may conceptu challeng model use hydraul head rememb porepressur actual pressur groundwat increas depth weight groundwat sit porepressur advantag use porousflow user often like enhanc model use advanc inbuilt featur porousflow realist equat state water brine densiti viscos function porepressur vadosezon physic unsatur flow convent express term porepressur coupl solid mechan effect stress express term porepressur model express term hydraul head porepressur order facilit easi extens model user encourag util porepressur hydraul conduct permeabl imagin pipe crosssect area fill porou materi shown gw_darcy_flow_fig assum constant hydraul gradient end beginequ fracmathrmdhmathrmdx frach_mathrmright end h_mathrmleft endmathrmpip length endequ darci lawhttpsenwikipediaorgwikidarcys_law state flow rate water q proport hydraul gradient beginequ labeldarcyeqnh q kafracmathrmdhmathrmdx endequ equat q flow rate water pipe measur ms crosssect area pipe measur k hydraul conduct porou materi insid pipe measur ms mathrmdhmathrmdx hydraul gradient neg sign indic water flow region high head low head media porous_flowgw_darcy_flowpng captiondarci flow q pipe crosssect area due hydraul gradient idgw_darcy_flow_fig provid extra context mean hydraul conduct imagin vertic column satur porou materi open end could rock underground mine instanc graviti caus water move downward replac air top end hydraul head situat h z z elev porepressur zero atmospher pressur mathrmdhmathrmdz flow water per unit area therefor beginequ qa k endequ gravitydriven flow flowrat water control k measur mwatermarea physic porousflow natur present term permeabl rather hydraul conduct permeabl intrins quantiti porou materi contrast hydraul conduct pertain water permeabl therefor use multiphas system may even includ water situat fluid constant densiti henc permeabl usual use petroleum literatur geotherm scenario densiti water vari unconventionalga model etc write darcyeqnh use porepressur eqnph yield beginequ fracqa frackrho g fracmathrmdpmathrmdx frackmu fracmathrmdpmathrmdx endequ equat assum depth depend x x axi orient vertic equat would includ mathrmdpmathrmdx rho g instead mathrmdpmathrmdx k permeabl measur mu water dynam viscos measur pa relationship permeabl hydraul conduct therefor beginequ labeleqnhydconddefn k k fracrho gmu endequ rho densiti water mu dynam viscos permeabl often measur darcyshttpsenwikipediaorgwikidarcy_unit instead natur unit convers beginequ k approx mathrmdarci longleftrightarrow kapprox mathrmm longleftrightarrow k approx mathrmmmathrm longleftrightarrow k approx mathrmmmathrmday endequ permeabl hydraul conduct tensor porousflow demand user enter full tensori quantiti even though case form permeabl horizontal_x horizontal_i vertic stor poros porou materi like rock conceptualis consist solid rock grain void space groundwat flow void space storativityhttpsenwikipediaorgwikispecific_storag poros parameteris amount groundwat present volum porou materi porosityporous_flowporositymd defin beginequ phi fracv_mathrmvoidv_mathrmpor materi fracv_mathrmvoidv_mathrmvoid v_mathrmsolid grain endequ phi poros dimensionless v_mathrmvoid volum connect void space measur may also unconnect void space ignor present sinc unimport fluid flow impact solidmechan deform v_mathrmpor materi volum porou materi rock sampl measur v_mathrmsolid grain volum solid grain contain void space measur henc porou materi fulli satur water atmospher pressur contain volum phi v_mathrmpor materi water atmospher pressur howev gener situat volum water extract volum porou materi often phi v_mathrmpor materi follow porou materi may fulli satur water mean water volum less phi v_mathrmpor materi even fulli satur water may high pressur sinc slightli compress rock grain slightli compress water volum atmospher pressur may greater phi v_mathrmpor materi similarli compress phi depend porepressur phi measur atmospher pressur lab may differ insitu phi due unsatur physic name capillarityporousflowcapillarypressurevgmd rel permeabilityporousflowrelativepermeabilitycoreymd may imposs extract water without resort extrem pressur temperatur chemic stimul phenomena handl automat porousflow poros usual employ porousflow model poros also natur quantiti use multiphas flow scenario groundwat model porosityporousflowporosityconstmd cousin biotmodulusporousflowconstantbiotmodulusmd simpli specifi fix quantiti hydrolog unit elabor model poros specifi atmospher pressur temperatur zero strain insitu amount mineralis porousflowporosityporousflowporositymd materi handl chang due chang porepressur temperatur deform dissolutionprecipit howev reason state stor specif yield specif storag often use instead poros groundwat model report literatur defin follow stor storag coeffici beginequ s_sb s_i endequ stor sometim call storag coeffici dimensionless s_ specif storag measur b aquif thick measur s_i specif yield dimensionless specif storag beginequ labeleqnssdefn s_ approx rho gc_mathrmgrain phi c_mathrmwat approx c_mathrmgrain time phi endequ approx symbol use instead equal emphasis variou assumpt made concern interact water pressur solidmechan stress strain formula s_ specif storag measur rho water densiti approxim kgm g acceler due graviti approxim ms rho g approx pam c_mathrmgrain compress rock grain porou materi without void space reciproc bulk modulu measur pa typic valu pa clay pa sandston pa shale pa limeston granit c_mathrmwat compress water approxim time pa measur pa specif yield specif yield s_i volum water drain graviti volum porou materi therefor close poros s_i approx phi howev due unsatur physic typic littl less phi groundwat equat confin situat dislik equat much mani groundwat hydrogeologist feel free read follow note skip next section alert note mani differ version groundwat flow equat even numer implement produc slightli differ solut differ tini compar uncertainti input paramet aquif hydraul conduct groundwat model often consid fullysatur scenario confin aquif consid vados zone section contain number version physic equat govern groundwat flow situat equat sometim use model unsatur flow unconfin aquif howev strictli speak physic accur describ flow use equat satur unsatur zone mean model simpl run rapidli porepressur posit fullysatur region neg unsatur region requir need invent relationship satur neg porepressur altern may use porousflowunsaturatedporousflowunsaturatedmd action instead porousflow basicthmporousflowbasicthmmd accur simul model satur unsatur zone cost provid extra inform capillari rel permeabl function comput speed present groundwat flow often model equationgoverning_equationsmd beginequ labeleqnfullsat fracpartialparti tphi rho sum_i sum_jnabla_i leftrho frack_ijmu leftnabla_j p rho g_jright right endequ time measur phi poros dimensionless may vari spatial correspond differ aquif aquitard instanc rho water densiti measur kgm nabla_i vector spatial deriv partialparti x partialparti partialparti z measur index depend spatial direct situat sum eqnfullsat run k_ij permeabl tensor k_xx k_xi k_xz k_yx k_yy k_yz k_zx k_zi k_zz measur usual transvers isotrop k_ij k_mathrmhorizont k_mathrmhorizont k_mathrmvert mu viscos water measur pa p porepressur g_j acceler due graviti measur kgm z axi point upward g_j ie g_j point direct fall present eqnfullsat may extend situat porousmateri rock grain compress may suffer volumetr expans compact due chang groundwat porepressur case equat read beginequ labeleqnfullsatvol fracpartialparti tphi rho phirhofracpartialparti tepsilon_v sum_i sum_jnabla_i leftrho frack_ijmu leftnabla_j p rho g_jright right endequ equat epsilon_v volumetr strain porou materi present describ hereporousflowfullysaturatedmasstimederivativemd variou standard assumpt allow lefthand side eqnfullsatvol rewritten beginequ labeleqnintroduce_biot fracpartialparti tphi rho phirhofracpartialparti tepsilon_v rho fracmfracpartialparti tp endequ equat socal biot modulusporousflowfullysaturatedmasstimederivativemd measur pa beginequ labeleqnbiotmdefn fracm phi c_mathrmwat alpha_balpha_b phic_mathrmgrain endequ phi poros c_mathrmwat compress water approxim time pa measur pa c_mathrmgrain compress rock grain porou materi without void space reciproc bulk modulu measur pa alpha_b biot coeffici dimensionless describ impact groundwat solidmechan stress alpha_b usual chosen within rang phi leq alpha_bleq alpha_b approx groundwat maximum impact solidmechan stress groundwat scenario biot modulu may consid timeindepend depend porou materi via materialdepend phi c_mathrmgrain use eqnintroduce_biot eqnfullsatvol result beginequ labeleqnfullsatbiotm rho fracmfracpartialparti tp sum_i sum_jnabla_i leftrho frack_ijmu leftnabla_j p rho g_jright right endequ present assum densiti water littl spatial variat may divid eqnfullsatbiotm leav diffus equat beginequ labeleqnfullsatbiotmnorho fracmfracpartialparti tp sum_i sum_jnabla_i leftfrack_ijmu leftnabla_j p rho g_jright right endequ present notic similar eqnssdefn eqnbiotmdefn reason accuraci beginequ labeleqnssbiotm s_ fracrho gm endequ henc eqnfullsatbiotm may written beginequ labeleqnfullsatss s_sfracpartialparti tp sum_i sum_jnabla_i leftrho g frack_ijmu leftnabla_j p rho g_jright right endequ present use definit hydraul head eqnph hydraul conduct eqnhydconddefn eqnfullsatss make assumpt base almostincompress water yield usual groundwat flow equationhttpsenwikipediaorgwikigroundwater_flow_equ beginequ labeleqnusualgw s_sfracpartialparti th sum_i sum_jnabla_i leftk_ijnabla_j hright endequ simul pump test illustr basic setup porousflow groundwat model aquif pump testhttpsenwikipediaorgwikiaquifer_test exampl form part porousflow qa test suit document perspect heretestsdirackernelsdirackernels_testsmd place constant volumetr sink strength q mm act along infinit line isotrop medium situat therefor two dimension assum groundwat head obey eqnusualgw thei provid solut head beginequ h h_ fracqpi kmathrmeileft fracrs_skt right labeleqntheis_soln_eqn endequ frequent use groundwat literatur ei exponenti integr function valu mathrmeix gamma logx x ox small x gamma euler number ldot mathrmeix exleftfracx fracx ofracxright larg x sketch model situat shown gw_theis_fig media porous_flowgw_theispng captionsketch pump test well extract water constant rate aquif initi porepressur mpa caus drawdown shown blue curv idgw_theis_fig moos input file may broken number section follow mesh situat two dimension radial symmetr simul use onedimension mesh singl radial coordin list modulesporous_flowtesttestsdirackernelstheis_rzi startmesh endglobalparam porousflowdict porousflow input file must includ porousflowdictatorporousflowdictatormd specifi number fluid phase groundwat model number fluid compon groundwat model without tracer variou thing enabl consist check throughout input file virtual porousflow object requir porousflowdict input paramet henc shorten input file virtual porousflow input file contain porousflowdict inform globalparam block list modulesporous_flowtesttestsdirackernelstheis_rzi blockglobalparam simpli mean type porousflowdict dictat porousflow object input file physic order replic eqntheis_soln_eqn physic need describ eqnusualgw may achiev employ porousflowbasicthmporousflowbasicthmmd action list modulesporous_flowtesttestsdirackernelstheis_rzi blockporousflowbasicthm stage probabl good idea reader skimread descript porousflowbasicthmporousflowbasicthmmd action use extens page action implement eqnfullsatbiotm action also implement coupl solid mechan heat flow interest simpl groundwat model ignor coupl simpli specifi coupling_typ input paramet sinc default hydro note flag graviti multiply_by_dens fals mean eqnfullsatbiotm becom without j indic beginequ fracmfracpartialparti tp nabla leftfrackmu nabla p right endequ form eqnusualgw relationship mention use rho g pam mu pa name p rho g h h rho g s_ s_ k mu k rho g k henc action implement desir equat assum paramet k chosen appropri addit remark action also implement eqnfullsatbiotmnorho flag multiply_by_dens fals action also implement eqnfullsatss biot modulu see set rho g s_ eqnssbiotm action hydraul head input paramet instead assum model use porepressur user must suppli name porepressur variabl use porepressur xxxx input xxxx name porepressur variabl block add_darcy_aux fals use simpli qa testtestsdirackernelsdirackernels_testsmd involv check darcyveloc direct usual want omit line porousflow automat add darcyveloc inform output variabl input file groundwat input file one variabl unknown solv call pp although may interpret hydraul head use scale p h list modulesporous_flowtesttestsdirackernelstheis_rzi blockvari equat state water porousflow requir user specifi equat state function relationship provid densiti viscos thermal conduct enthalpi etc function porepressur temperatur virtual groundwat model simplefluidpropertiessimplefluidpropertiesmd object suffici list modulesporous_flowtesttestsdirackernelstheis_rzi blockmodul viscos specifi exactli make k mu krho g relationship clearer exampl name simple_fluid provid porousflowbasicthm materi properti permeabl biot modulu need specifi alway done via materi block list modulesporous_flowtesttestsdirackernelstheis_rzi blockmateri case set poros fluid_bulk_modulu e biot_coeffici mean biotmodulusporousflowconstantbiotmodulusmd specif storag beginequ frac mathrmgpa longrightarrow s_ time mathrmm endequ permeabl isotrop beginequ k mathrmm longrightarrow k mathrmmmathrm endequ produc water flux implement porousflowsquarepulsepointsourceporousflowsquarepulsepointsourcemd list modulesporous_flowtesttestsdirackernelstheis_rzi blockdirackernel alert note case multiply_by_dens fals mean time water remov everi aquif height everi second multiply_by_dens true model mass_flux porousflowsquarepulsepointsourc would measur kgsm model unit would kg entir input file remaind input file involv usual moos object execution defin end time timestep well precondit block output object entir input file read list modulesporous_flowtesttestsdirackernelstheis_rzi result moos agre thei solut media dirackernelstheispng captionresult aquif pump test comparison thei solut idtheis_fig abstract groundwat system section model groundwat system shown groundwater_ex_mesh_fig studi media groundwater_ex_meshpng captionth mesh properti use abstract exampl idgroundwater_ex_mesh_fig system consist upper aquif thick poros phi isotrop permeabl k biot coeffici alpha_b water bulk complianc c_mathrmwat time pa eqnbiotmdefn impli biot modulu gpa eqnssbiotm impli specif storag s_ time number also produc eqnssdefn c_mathrmgrain eqnssdefn contain biot coeffici approxim alpha_balpha_b phi approx use eqnhydconddefn hydraul conduct kapprox mday aquitard thick poros phi horizont permeabl k_mathrmhor vertic permeabl k_mathrmver use manipul preced paragraph yield biot modulu gpa specif storag s_ approx horizont permeabl k_mathrmhor approx mmday k_mathrmver approx mmday lower aquif thick physic paramet upper aquif system assum exist isol aquif aquitard roof upper aquif water tabl borehol abstract water either lower aquif aquitard due mistak drill wellbor complet model built investig drawdown upper aquif due two scenario finiteel mesh creat mesh difficult aspect numer model almost model groundwat model structuralmechan model model fluid turbul electromagnet model etc instanc groundwat model citetherron took month construct sinc contain underground mine work mani aquif aquitard stream river alluvium zone differ evapotranspir ocean thousand borehol etc groundwat model conceptualis parameteris difficult also impact mesh exampl need distinguish differ aquif hydraul conduct measur accuraci case mesh simpl may creat use moos inbuilt command result shown groundwater_ex_mesh_fig list modulesporous_flowexamplesgroundwaterexi blockmesh equat state water porousflow requir user specifi equat state function relationship provid densiti viscos thermal conduct enthalpi etc function porepressur temperatur virtual groundwat model simplefluidpropertiessimplefluidpropertiesmd object suffici case fluid bulk modulu chosen larg thermal expans coeffici chosen zero groundwat densiti close kgm rho g pam list modulesporous_flowexamplesgroundwaterexi blockmodul porousflowdict specif object porousflow model requir porousflowdictatorporousflowdictatormd specifi effici accomplish globalparam block list modulesporous_flowexamplesgroundwaterexi blockglobalparam variabl moos variabl unknown situat porepressur list modulesporous_flowexamplesgroundwaterexi blockvari physic assum groundwat obey eqnfullsatbiotmnorho physic implement porousflow porousflowbasicthmporousflowbasicthmmd action multiply_by_dens fals list modulesporous_flowexamplesgroundwaterexi blockporousflowbasicthm physic form eqnusualgw relationship mention use rho g pam mu pa name p rho g h h rho g s_ s_ k mu k rho g k mention section action hydraul head input paramet instead assum model use porepressur user must suppli name porepressur variabl use porepressur xxxx input xxxx name porepressur variabl insitu condit hydraul gradient assum porepressur relat hydraul head via eqnph rho g averag hydraul head upper aquif hydraul gradient east west upper aquif hydraul head lower aquif mean model hydrostat equilibriumhttpsenwikipediaorgwikihydrostatic_equilibrium could due recharg lower aquif hilli region outsid model hydraul head aquitard linear combin two beginequ h_mathrminsitu left beginarrayl fracx mathrmif z geq frac fracxz z mathrmif z mathrmif z leq endarray right endequ follow function describ insitu condit list modulesporous_flowexamplesgroundwaterexi startupper_aquifer_head endl_rat initi boundari condit assum initi condit specifi insitu_pp function describ assum also porepressur fix model boundari correspond readi sourc water flow model region outsid model relev inputfil block list modulesporous_flowexamplesgroundwaterexi blockic list modulesporous_flowexamplesgroundwaterexi blockbc prescrib materi properti poros permeabl materi properti prescrib use follow block list modulesporous_flowexamplesgroundwaterexi blockmateri note aquitard anisotrop permeabl k_mathrmhor k_mathrmver abstract well abstract well may model use porousflow sinksinksmd reader encourag studi document porousflow sink pagesinksmd order understand follow block sinc borehol frequent use inject product groundwat model porousflowpolylinesinkporousflowpolylinesinkmd use exampl list modulesporous_flowexamplesgroundwaterexi blockdirackernel list modulesporous_flowexamplesgroundwaterexbh_low exbh_low file contain one line sink set line_length line_direct default correspond vertic borehol length line p_or_t_val e flux mean borehol extract flux mwatermborehol porepressur zero lower flux mwaterm porepressur gpa higher two porepressur flux vari linearli henc caus porepressur reduc close zero equilibrium found borehol extract rate groundwat flux rock multiply_by_dens true use porousflowbasicthmporousflowbasicthmmd unit flux would kgwatermborehol fix flux requir instead flux could use anoth porousflow sinkssinksmd could employ alert warn appropri porousflow sink must use model repres significantli differ physic produc significantli differ result exampl use porousflowpolylinesink borehol virtual reallif model would use porousflowpeacemanborehol instead rule thumb use porousflowpeacemanborehol borehol porousflowpolylinesink river discuss toward bottom page common refin mesh around borehol refin plan mesh allow x extent drawdown cone accur predict refin vertic mesh screen section captur least one finit element recommend allow drawdown vertic section accur simul refin mandatori perform exampl moos simpl inbuilt mesh function use use porousflowpolylinesink happen fine model singl dirac point coincid node xy plane record drawdown auxvari vectorpostprocessor use record head chang throughout model list modulesporous_flowexamplesgroundwaterexi blockauxvari list modulesporous_flowexamplesgroundwaterexi blockauxkernel list modulesporous_flowexamplesgroundwaterexi blockvectorpostprocessor entir input file refer entir input file list modulesporous_flowexamplesgroundwaterexi result water abstract lower aquif point_fil exbh_low porousflowpolylinesink product rate approxim ls upper aquif experi littl drawdown water abstract aquitard point_fil exbh_aquitard porousflowpolylinesink result product rate ls signific drawdown upper aquif drawdown cone reach steadi state day shown groundwater_ex_fig media groundwater_expng captiondrawdown upper aquif water abstract lower aquif blue line aquitard red line idgroundwater_ex_fig result meshdepend expect finer mesh produc drawdown near well sinc abl resolv spatial structur sever abstract aquitard caus neg hydraul head upper aquif mean porepressur neg case howev easi build model porepressur becom neg correspond physic desatur properli model situat porousflowunsaturatedporousflowunsaturatedmd action use instead porousflowbasicthmporousflowbasicthmmd action mani case extra comput cost model unsatur physic difficulti appropri parameteris model mean groundwat model choos ignor partiallysatur physic simpli employ equival porousflowbasicthm regardless unsatur zone porousflow rel straightforward swap porousflowbasicthm porousflowunsatur investig impact includ partiallysatur physic baseflow et recharg unsatur flow impact groundwat abstract baseflow river exampl impact groundwat abstract baseflow river model hydrostratigraphi shown groundwater_ex_mesh_fig consist upper unconfin aquitard topographi vari elev repres hill valley aquitard outcrop valley region lower aquif also outcrop valley region lower confin aquif may recharg perenni river assum exist valley base may provid baseflow river whether leakag baseflow occur depend groundwat porepressur posit water tabl respect river stage height horizont abstract borehol drill lower aquif river question answer groundwat abstract influenc groundwaterriv interact horizont borehol use ga exploit main reason use illustr borehol dont need vertic answer question paramet defin system describ context porousflow input file steadyst virgin system solv borehol introduc impact assess media groundwater_ex_meshpng captionth hydrostratigraphi mesh use explor impact groundwat abstract baseflow river unconfin aquif shown brownyellow aquitard red confin aquif blue river shown bright green line vertic exagger equal figur mesh creat closedsourc script built csiro type problem idgroundwater_ex_mesh_fig mesh mesh case creat extern program defin hydrogeolog mesh boundari requir model henc moos inbuilt meshmodifi use identifi appropri boundari list modulesporous_flowexamplesgroundwaterex_steady_statei blockmesh physic case unsatur flow satur flow use order use appropri physic unconfin aquif henc instead porousflowbasicthm action porousflowunsaturatedporousflowunsaturatedmd action use instead list modulesporous_flowexamplesgroundwaterex_steady_statei blockporousflowunsatur reader encourag read document porousflowunsaturatedporousflowunsaturatedmd action need model unsatur flow usual block would contain inform concern rel permeabl capillari pressur function sourc site experi case default valu use alert note note import facet porousflowunsatur multiply_by_dens flag henc quantiti measur mass volum instanc recharg quantiti measur kg ms poros permeabl poros assum everywher permeabl assum aquif horizont direct vertic direct aquitard horizont direct vertic direct properti specifi via list modulesporous_flowexamplesgroundwaterex_steady_statei blockmateri initi condit like steadyst solut approxim hydrostat therefor help porousflow converg model initi hydrostat condit nontrivi fix elev z depth vari spatial x initi mesh howev depth inform insert variabl cosflow_depth henc may extract use solutionuserobject list modulesporous_flowexamplesgroundwaterex_steady_statei startinitial_mesh endbaseflow use function list modulesporous_flowexamplesgroundwaterex_steady_statei startinitial_pp endbaseflow_r final use initi condit list modulesporous_flowexamplesgroundwaterex_steady_statei blockic kind manipul use solutionuserobject solutionfunct rather common groundwat model boundari condit boundari condit complic aspect input file rainfal recharg assum rainfal recharg groundwat system topographi constant rate mmday uniformli entir topographi quantiti need convert mass flux beginequ mathrmmmmathrmday mathrmmmathrmmmathrmday approx mathrmkgmathrmmmathrmday approx mathrmkgmathrmmmathrm endequ henc bc list modulesporous_flowexamplesgroundwaterex_steady_statei startrainfall_recharg endevapotranspir groundwat model rainfal recharg would vari spatial tempor sinc differ surfici express veget cover season pattern impact rainfal recharg easili incorpor flux_funct paramet porousflowsinkporousflowsinkmd evapotranspir et porousflowhalfcubicsinkporousflowhalfcubicsinkmd use model et list modulesporous_flowexamplesgroundwaterex_steady_statei startevapotranspir end block requir explan reader strongli encour read porousflow document porousflowhalfcubicsinkporousflowhalfcubicsinkmd porousflow boundari condit generalboundariesmd inform assum et zero groundwat head topographi correspond maximum root depth plant et maximum groundwat tabl topographi common make type assumpt root depth depend veget type andor surfici geolog case assum cutoff independ time vari spatial inputfil block sophist porousflow groundwat model would make use flux_funct pt_shift make cutoff complic function incorpor spatiotempor variat cubic porousflowhalfcubicsinkporousflowhalfcubicsinkmd interpol smoothli maximum et zero user may build et function porepressur satur data avail employ porousflowpiecewiselinearsinkporousflowpiecewiselinearsinkmd furthermor assum pan evapor mmday express mass unit beginequ mathrmmmmathrmday time mathrmmmathrmmmathrmday approx mathrmkgmathrmmmathrmday approx time mathrmkgmathrmmmathrm endequ assum surfici geolog permeabl water tabl topographi et remov groundwat rate flag use_mobl true max paramet obey beginequ time mathrmkgmathrmmmathrm mathrmmax time time rhomu endequ rho approx kgm densiti water mu approx pa viscos henc mathrmmax approx river river model use porousflowpolylinesinkporousflowpolylinesinkmd list modulesporous_flowexamplesgroundwaterex_steady_statei blockdirackernel object alreadi encount reader encourag read detail document porousflowpolylinesinkporousflowpolylinesinkmd line sourc generalsinksmd case assum river perenni incis depth stage height therefor surfac sit topographi assum hold simul time whole river sophist porousflow model modifi input porousflowpolylinesink order achiev spatiotempor variat paramet case hand porepressur topographi kpa correspond head zero baseflow leakag assum flux satisfi beginequ mathrmflux alpha p p_mathrmc endequ p_mathrmc kpa implement set p_or_t_val pbig pbig flux pbig chosen larg enough exce conceiv porepressur simul alpha p_mathrmbig case hand pbig e explain sink pagesinksmd riverb conduct c measur kgpa beginequ c frack_zzrhotmul_mathrmsegw_mathrmseg endequ often specifi river groundwat model alpha cl_mathrmseg case hand use river width w_mathrmseg riverb thick vertic permeabl mean alpha entir steadyst input file read list modulesporous_flowexamplesgroundwaterex_steady_statei steadyst result steadyst baseflow river litreswatermriverlengthday satur shown groundwater_ex_mesh_steady_st media groundwater_ex_steady_statepng captionth satur steadyst idgroundwater_ex_mesh_steady_st abstract groundwat modif steadyst input file need model abstract read steadyst solut steadyst output result inclus abstract borehol read steadyst solut steadyst solut use initialis transient simul mesh read list modulesporous_flowexamplesgroundwaterex_abstractioni blockmesh solutionuserobject employ read steadyst solut list modulesporous_flowexamplesgroundwaterex_abstractioni startsteady_state_solut endbaseflow pp variabl initi list modulesporous_flowexamplesgroundwaterex_abstractioni blockic abstract borehol porousflowpeacemanboreholeporousflowpeacemanboreholemd use model borehol list modulesporous_flowexamplesgroundwaterex_abstractioni starthorizontal_borehol endpolyline_sink_borehol point file repres long horizont borehol radiu elev sit almost directli underneath river river sit x borehol x list modulesporous_flowexamplesgroundwaterexbh valu bottom_p_or_t e mean pump borehol bottom point abl suck atmospher pressur case borehol horizont bottom point meaningless gener first point point_fil explain documentationporousflowpeacemanboreholemd vital reader understand porousflowpeacemanboreholeporousflowpeacemanboreholemd use approxim groundwat solut around small borehol order accur repres small borehol coars mesh small borehol need coincid finiteel node element sinc peaceman formul automat take mesh consider case mean porepressur node around borehol pa even though bottom_p_or_t e stark contrast porousflowpolylinesinkporousflowpolylinesinkmd easili forc porepressur fix valu borehol magnitud flux set high enough differ quantifi section almost alway peaceman borehol use repres borehol polylin sink use repres surfac featur stream interact atmospher stream atmospher suffici huge actual fix porepressur point interest result borehol extract littl groundwat paltri litreday supris given small diamet tight aquif porepressur proxim river reduc around pa shown groundwater_ex_abstraction_fig reduc baseflow litremday litremday media groundwater_ex_abstraction_peacemanpng captionth porepressur chang due groundwat abstract idgroundwater_ex_abstraction_fig groundwat model therefor suggest borehol neglig impact environ also produc virtual water use polylinesink mistak use porousflowpolylinesinkporousflowpolylinesinkmd repres borehol case list modulesporous_flowexamplesgroundwaterex_abstractioni startpolyline_sink_borehol end flux paramet chosen suffici larg would fix porepressur finiteel node surround borehol valu pa sinc finiteel mesh resolut around mathrmmtim mathrmm time mathrmm could correspond collos borehol crosssect size mathrmm time mathrmm length width model case water extract borehol around litreday river becom leaki litremday river water enter groundwat system flow borehol porepressur chang much larger shown groundwater_ex_abstraction_error_fig media groundwater_ex_abstractionpng captionth porepressur chang due groundwat abstract erron use porousflowpolylinesink repres borehol idgroundwater_ex_abstraction_error_fig final word page present simpl groundwat model use framework build realist model porousflowporous_flowindexmd highli function use solv complic groundwat model requir extra function alreadi includ pleas ask moos discuss list tidal impact porepressur porepressur underground porou materi influenc extern factor earth tide barometr pressur chang ocean tide respons porepressur factor help quantifi import hydrogeolog paramet poroelast constant even permeabl page illustr porousflow use simul type problem simplest model built porousflow use simul much complic situat realist stratigraphi hydrogeolog mesh need built paramet permeabl capillari pressur function etc assign domain partiallysatur multiphas flow capabl porousflow need activ solid mechan plastic strength need assign appropri plastic model chosen nonisotherm flow heat advect diffus kernel need ad along appropri materi moduli complic model setup hierarchi model differ scale coupl togeth instanc continent model inform boundari condit region model set boundari condit local model multiapp use comprehens introduct tidal impact onlin tutori doan brodski prioul signer citepdoanet document describ origin earth tide barometr fluctuat ocean tide also detail comput softwar avail etc also detail analys observ data obtain poroelast paramet permeabl comprehens discuss poroelast citetdetournayet stress total pressur p document total effect stress anoth good hydrogeolog refer citetwang properti use exampl porousflow exampl mention page replic standard poroelast exactli use porousflowbasicthmporousflowbasicthmmd action hydromechan coupl multiply_by_dens fals porousflowconstantbiotmodulusporousflowconstantbiotmodulusmd mandatori use porousflow instanc porousflow simul usual assum constant bulk modulu compress fluid without assumpt result differ slightli standard poroelast solut earth_tide_fullsat_param list paramet use simul tabl fluid bulk modulu reciproc fluid compress c_fk_f also poros volum fraction rock access fluid often slightli smaller total poros use geologist tabl idearth_tide_fullsat_param captionparamet use moos model paramet valu fluid bulk modulu k_f gpa poros phi biot coeffici alpha_b drain bulk modulu porou skeleton k gpa drain poisson ratio nu isotrop permeabl md fluid refer densiti kgm fluid constant viscos pa averag gravit acceler g ms use valu earth_tide_fullsat_param along citetdetournayet viz tabl equat equat b poroelast constant may deriv shown params_deriv tabl idparams_deriv captionderiv poroelast constant paramet equat valu biot modulu fracm fracphik_f frac alpha_balpha_b phik mmathrmgpa skempton coeffici b fracalpha_b k_falpha_b phialpha_bk_f phi k undrain bulk modulu k_u k alpha_bm mathrmgpa shear modulu g frack nu nu gpa undrain poisson ratio nu_u frac k_u g k_u g earth tide gravit acceler point earth influenc posit moon sun planet magnitud chang approxim ms one part impact small chang fluid porou rock use understand mani aspect reservoir instanc quantifi water near ga well citeplanga monitor migrat co_ citepsato citepsato_horne_ earth tide strain chang gravit acceler caus earth chang shape slightli translat local nonzero strain tensor strain tensor time depend differ point surfac earth frequenc spectrum strain tensor extrem complic problem complex period earth spin rotat around sun moon period earth ellipt etc sophist softwar packag instanc citetrau predict strain tensor given time place earth calcul base catalogu sinusoid function dbps_strain_fig figur doan brodski prioul signer show output one softwar packag author state volumetr strain magnitud around time media mediaporous_flowdbps_strain_figpng captionfigur doan brodski prioul signer show straintensor compon particular place time window iddbps_strain_fig think like direct measur strain would use model real situat could accomplish use fibr optic citepbecker_coleman_ earth tide moos model consid fullysatur confin aquif porousflow may use simul porepressur respons appli strain list modulesporous_flowexamplestidalearth_tide_fullsati setup porepressur p control undrain bulk modulu skempton coeffici beginequ delta p bsigma_iimathrmtot bk_uepsilon_ii endequ repeat index indic summat sigma_ii sigma_xx sigma_yy sigma_zz substitut number yield beginequ labeleqskempton_et_fullsat delta p time epsilon_ii endequ timeindepend strain field porousflow reproduc eqskempton_et_fullsat exactli syntheticallygener timedepend strain field porepressur chang accordingli shown earth_tide_fullsat_fig media mediaporous_flowearth_tide_fullsatpng captionexampl timedepend strain field correspond porepressur chang confin aquif idearth_tide_fullsat_fig earth tide vari g realist materi properti strain magnitud use moos exampl chang porepressur around kpa much chang due small variat gravit acceler would around rho delta g h liquid water densiti rhoapprox kgm bottom water column height happrox chang delta g approx ms result porepressur chang around pa shallow case happrox porepressur chang even smaller pa time write august gravit acceler vector moos porousflow timedepend difficult addit make use auxvari argument preced paragraph suggest unnecessari current im wonder impact heterogen argument realist moos model would includ differ litholog boundari condit displac variabl could simpli result earth strain porousflow exampl heterogen would mean strain uniform throughout model mean chang g becom import barometr ocean load conceptu barometr ocean load similar serv chang porepressur load porou matrix numer model must consid whether borehol open atmospher seal whether aquif confin unconfin interestingli citetdoanet report ocean tide impact porou flow km inland circ lag pinon flat observatori hand csiro observ impact ocean tide km inland boundari condit barometr ocean load conceptu extern fluid atmospher ocean borehol fluid hydraulicfractur fluid mechan load porou matrix mathemat extern fluid pressur act appli total stress boundari porou matrix instanc see citetdetcheng_hi conceptu porepressur respond instantli extern fluid pressur mathemat porepressur relev phase boundari porou matrix equal extern fluid pressur bc total stress total stress sigmamathrmtot interfac porousmatrix atmospher must equal atmospher pressur p_mathrmatm beginequ labeleqntot_stress_bc sigma_nnmathrmtot p_mathrmatm endequ hold ocean pressur n label normal direct neg sign come sigma correspond compress stress p boundari condit aris atmospher ocean physic push porou matrix bc porepressur porepressur p interfac porousmatrix atmospher must equal atmospher pressur beginequ labeleqnpp_bc p p_mathrmatm endequ multiphas scenario equat would read p_mathrmga p_mathrmatm combin eqntot_stress_bc eqnpp_bc singlephas case mean effect stress interfac beginequ sigma_nnmathrmeff sigma_nnmathrmtot alpha_bp alpha_bp_mathrmatm endequ biot coeffici alpha_b interpret effect way account pore arent fill water alpha_b porespac fill water equat read sigma_nnmathrmeff increas atmospher pressur produc zero strain porewat push back porou skeleton magnitud atmospher alpha_b equat mean increas atmospher pressur result compress porewat doesnt fill tne entir porespac isnt effect push back cant match load atmospher pressur bc within waterfil borehol borehol open bottomhol pressur vari linearli atmospher pressur delta p_mathrmbottomhol delta p_mathrmatm seal section well borehol pressur porepressur within adjac rock atmospher load fullyconfin fullysatur aquif barometr effici fulli confin mean aquif complet enclos aquitard zero permeabl imagin fullysatur aquif horizont infinit extent uniform thick undrain water escap exampl artifici idealis section explain extend analysi partiallyconfin unconfin aquif fullyconfin natur zeroperm aquitard porepressur chang topographi felt aquif therefor eqntot_stress_bc appli aquif top nontrivi bc bc assum aquif boundari fix boundari imperm water input file list modulesporous_flowexamplestidalbarometric_fully_confinedi citetdoanet introduc exampl state porepressur respons equat beginequ p gamma p_mathrmatm fracb nu_unu_up_mathrmatm endequ gamma call barometr effici paramet list earth_tide_fullsat_param gamma moos model reproduc exactli atmospher load unconfin fullysatur aquif chang atmospher pressur directli impact porepressur within rock well act rock skeleton consid model shown atm_tides_fig media mediaporous_flowatm_tidespng stylewidth captiongeometri unconfin fullysatur aquif idatm_tides_fig use follow assumpt atmospher pressur vari p_mathrmatm mathrmsinpi tkpa boundari imperm except top boundari vertic displac allow barometr load act total stress model top eqntot_stress_bc moos input file list modulesporous_flowexamplestidalatm_tidesi result atm_tides_p_uz show model realist barometr fluctuat kpa produc vertic displac mm porepressur depth experi phase lag amplitud reduct expect atm_tides_p_uz show first sinusoid period period transient respons moreorless disappear media mediaporous_flowatm_tides_p_uzpng captionrespons fullysatur unconfin aquif cyclic barometr pressur first sinusoid period shown time transient behaviour mostli disappear idatm_tides_p_uz atmospher load unconfin fullysatur aquif contain open borehol model includ borehol borehol assum case except bottom section depth therefor groundwat seep borehol rise hole reach ground level porepressur zero furthermor assum exampl borehol alway full water exampl water push rock skeleton magic replenish similarli assum rock skeleton alway fulli satur setup shown atm_tides_open_hole_fig result shown atm_tides_open_hole_p_uz atm_tides_open_hole_p_uz show first sinusoid period period transient respons moreorless disappear media mediaporous_flowatm_tides_open_holepng stylewidth captiongeometri unconfin fullysatur aquif contain borehol case porepressur observ point shown red idatm_tides_open_hole_fig list modulesporous_flowexamplestidalatm_tides_open_holei media mediaporous_flowatm_tides_open_hole_p_uzpng captionrespons fullysatur unconfin aquif contain open borehol cyclic barometr pressur first sinusoid period shown time transient behaviour mostli disappear idatm_tides_open_hole_p_uz bibliographi fractur flow use multiapp approach porou flow simpl fracturematrix system background porousflow use simul flow fractur porou media case fractur network complic incorpor porousmedia mesh fundament premis fractur consid lower dimension entiti within higherdimension porou media page part set describ moos multiapp approach simul model introductionmultiapp_fracture_flow_introductionmd mathemat physic interpretationmultiapp_fracture_flow_equationsmd transfersmultiapp_fracture_flow_transfersmd multiapp primermultiapp_fracture_flow_primermd diffus equat fractur quantifi error introduc multiapp approach diffus mix dimensionsmultiapp_fracture_flow_diffusionmd porou flow singl matrix systemmultiapp_fracture_flow_porousflow_dmd porou flow small fractur networkmultiapp_fracture_flow_porousflow_dmd porou flow fractur network sampl porousflow simul small fractur network shown orbit_fractur present section methodolog describ page assum physic fullysatur nonisotherm porou flow heat conduct convect porepressur initi hydrostat around mpa correspond depth around km temperatur circc inject fractur network one point rate kg temperatur circc product fractur network one point rate approxim kg exactli kg initi caus larg porepressur reduct due thermal contract water apertur increas respons inject fractur apertur dilat elast respons enhanc porepressur heat energi transfer fractur matrix matrix heat cool water inject fractur network media porous_flowexamplesmultiapp_floworbit_fracturemp stylewidthmarginautopaddingtop idorbit_fractur captionfractur network inject point colour green product point red heat transfer introduc matrix consid model contain fractur network physic physic captur porousflowfullysaturatedporousflowfullysaturatedmd action list dfracturefracture_only_aperture_changingi blockporousflowfullysatur alert note kuzminturekporous_flowktmd stabil typic use fractur flow multipl fractur element meet along singl finiteel edg fractur plane intersect perform reason libmesh assum one two element share edg prevent kt approach quantifi flow neighbor element prevent scheme work larg chang temperatur pressur experienc model water equat state employ list dfracturefracture_only_aperture_changingi blockfluidproperti materi properti insitu fractur apertur assum a_ mm fractur plane fractur assum dilat due increas porepressur beginequ labeleqnfracopen a_ ap p_ endequ mmpa eqnfracopen could easili generalis includ temperaturedepend term would still model use porousflowporositylinearporousflowporositylinearmd complic physic introduc use porousflow porosityporous_flowporositymd class use mmpa mean pressur increas mpa dilat fractur mm page mathemat physic interpretationmultiapp_fracture_flow_equationsmd demonstr poros fractur simul multipli assum poros fractur simul poros phi list dfracturefracture_only_aperture_changingi blockporos insitu fractur permeabl assum assum r a_ r factor captur rough fractur surfac also assum fractur dilat becom ra multplic see heremultiapp_fracture_flow_equationsmd valu permeabl use simul ra beginequ labeleqnfracperm k ra fracra_ fracaa_ leftfracphiphi_right endequ henc porousflowpermeabilitykozenycarmanporousflowpermeabilitykozenycarmanmd materi use list dfracturefracture_only_aperture_changingi blockperm porousflow matrix intern energi quantifi intern energi rock materi sinc essenti rock materi within fractur matrix intern energi fractur app zero assum thermal conduct constant independ realiti increas porousflow current lack capabl thermal conduct unlik import within fractur list dfracturefracture_only_aperture_changingi blockinternal_energi list dfracturefracture_only_aperture_changingi blockaq_thermal_conduct inject product thiem equationhttpsenwikipediaorgwikiaquifer_test may use estim flow fractur network imagin singl well pierc fractur network normal direct fractur plane thiem equat beginequ q fracpi rho k_mathrmd l delta pmu logrr_mathrmwel endequ q flow rate well si unit kg rho fluid densiti case rho approx kgm k_mathrmd fractur permeabl case k_mathrmd ra version extra factor l length well pierc fractur network case la delta p chang pressur result well pump delta p p_mathrmwel p_ mu fluid viscos case mu approx time mpa r radiu influenc well case appropri choos rsim sinc size fractur network r_mathrmwel radiu borehol assum r eqnfracopen may use write term delta p analysi approxim provid rough idea flow rate expect shown tableflowr tabl idtableflowr captionind flow rate apertur permeabl depend well pressur delta p p_mathrmwel p_ mpa q kg mm permeabl time time time time economicallyvi flow rate usual greater kg amount prescrib moos input file mean pressur chang sim mpa expect apertur around mm note porepressur around produc around mpa higher insitu order fluid flow fractur product well product well reduc pressur much accord eqnfracopen fractur close vicin result limit fluid product therefor numer model reli injector increas porepressur throughout system greater mpa place produc remov excess fluid porousflow mani differ type sinksporous_flowsinksmd boundari conditionsporous_flowboundariesmd use model inject product well accur repres physic around point appropri boundari condit chosen close match oper paramet pump infrastructur employ howev obsess detail worth note fundament assumpt underpin porousflow modul flow slow like violat close well instanc kg approxim ms inject fractur apertur mm borehol diamet cm fluid veloc approxim pitim approx ms certainli turbul laminar darci flow also mean inject product pressur predict porousflow model like inaccur true inject pressur like higher reason current model implement inject product rather simpli inject implement use dirichletbcdirichletbcmd temperatur inject node list dfracturefracture_only_aperture_changingi blockbc porousflowpointsourcefrompostprocessorporousflowpointsourcefrompostprocessormd dirackernel fluid inject list dfracturefracture_only_aperture_changingi blockinject_fluid note product alway kg although assum valu steadyst implement use two porousflowpeacemanboreholesporousflowpeacemanboreholemd one withdraw fluid heat energi minor subtleti aris use porousflowpeacemanboreholesporousflowpeacemanboreholemd lowerdimension input file peaceman write fluxporous_flowsinksmd beginequ f w frack_rrhomup p_mathrmwel endequ prefactor k_rrhomu automat includ use_mobl true peaceman well constant w beginequ w pi k_mathrmdl logr_er_mathrmwel endequ k_mathrmd ka permeabl l length borehol pierc fractur system henc beginequ w pi k logr_er_mathrmwel endequ appropri lowerdimension form easili obtain moos model set line_length input file moos comput well constant correctli list dfracturefracture_only_aperture_changingi blockdirackernel mention bottom_p_or_t chosen borehol doesnt suck water instead reli inject increas porepressur pump water product borehol reason porepressur reduc around product well due suck fractur apertur reduc make increasingli difficult extract water result typic fractur timestep taken singl matrix step model model number could quit differ fractur matrix approach steadyst similar rate pressur inject point rise insitu valu around mpa around mpa increas mpa result fractur apertur around mm accord eqnfracopen result permeabl increas factor around result shown fracture_only_aperture_changing_p_out fracture_only_aperture_changing_t_out fracture_only_aperture_changing_t_hr product commenc around hour inject start simul run use differ mesh size choos meshuniform_refin appropri illustr impact differ mesh problem straightfoward analysi simul error function mesh size possibl simul also use differ timestep size nevertheless observ interest increas temperatur around product well finerresolut case reason thin layer insitu hot fluid squash fractur end cold fluid invad fractur thin layer resolv lowresolut case also clearli seen orbit_t hot fluid escap becom pressur lead increas temperatur eventu porepressur increas mpa product well activ indic dot figur withdraw hot fluid nearwel area cool region product well high temperatur eventu diffus product well middl fractur interest phenomenon wouldnt seen mesh resolut increas result appear converg infiniteresolut case given like uncertainti paramet valu physic apertur dilat mesh element sidelength like perfectli adequ type problem media porous_flowexamplesmultiapp_flowfracture_only_aperture_changing_p_outpng stylewidthmarginautopaddingtop idfracture_only_aperture_changing_p_out captionporepressur product point case matrix legend number indic size element use simul dot line product commenc dot product commenc solid line product media porous_flowexamplesmultiapp_flowfracture_only_aperture_changing_t_outpng stylewidthmarginautopaddingtop idfracture_only_aperture_changing_t_out captiontemperatur product point case matrix legend number indic size element use simul dot line product commenc dot product commenc solid line product media porous_flowexamplesmultiapp_flowfracture_only_aperture_changing_t_hrspng stylewidthmarginautopaddingtop idfracture_only_aperture_changing_t_hr captiontemperatur product point hour inject commenc case matrix mesh differents element straightforward error analysi possibl simul take differ timestep anim shown orbit_t orbit_apertur one month simul steadi state rapidli approach within first hour simul cold inject invad fractur network hot pocket fluid remain top fractur due buoyanc media porous_flowexamplesmultiapp_flowfracture_only_aperture_changing_tmp stylewidthmarginautopaddingtop idorbit_t captiontemperatur fractur case matrix first month simul cold inject invad fractur network hot pocket fluid remain top fractur due buoyanc time indic green bar temeratur chang occur within first hour media porous_flowexamplesmultiapp_flowfracture_only_aperture_changing_aperturemp stylewidthmarginautopaddingtop idorbit_apertur captionfractur apertur case matrix first month simul time indic green bar dilat occur within first hour includ matrix matrix physic materi properti matrix input file standard physic govern porousflowfullysaturatedporousflowfullysaturatedmd list dfracturematrix_appi blockporousflowfullysatur along familiar reporterpointsourcereporterpointsourcemd list dfracturematrix_appi blockdirackernel assum rock matrix small poros permeabl rock densiti kgm specif heat capac jkgk isotrop thermal conduct wmk henc materi block list dfracturematrix_appi blockmateri matrix input file transfer data fractur input file use previou section fulli insul fractur heat transfer coeffici matrix mesh size time scale mention mathemat physic introductionmultiapp_fracture_flow_equationsmd use heat transfer coeffici beginequ labeleqnsuggestedhl h frach_mathrmslambda_mathrmmnnlh_mathrmsl lambda_mathrmmnnl endequ justifi matrix element size small enough resolv physic interest larg element enough heat transfer fractur matrix correct shortterm behavior could produc choos larger heattransf coeffici eqnsuggestedhl natur result incorrect longterm behaviour time taken puls heat travel matrix halfel distanc l beginequ sim fraccrholambd endequ equat provid rough idea element size need accur resolv physic phenomena also suggest timestep size perhap c rho llambda might good choic like fractur app need smaller timestep tabletime_scal enumer timescal case hand smaller enumer timescal eqnsuggestedhl inappropri choic must made matrix mesh made finer matrix mesh made finer small timestep need tabl idtabletime_scal captionminimum timescal eqnsuggestedhl appropri function matrix mesh size l matrix mesh size time scale day heattransf implement porousflowheatmasstransferporousflowheatmasstransfermd kernel fractur input file list dfracturefracture_only_aperture_changingi blockkernel h calcul follow auxkernel implement eqnsuggestedhl list dfracturefracture_only_aperture_changingi blockheat_transfer_coefficient_auxk coupl transfer simul coupl involv follow step see also page transfersmultiapp_fracture_flow_transfersmd fractur element must prescrib normal direct use porousflowelementnormalporousflowelementnormalmd auxkernel list dfracturefracture_only_aperture_changingi blocknormal_dirn_x_auxk matrix element must retriev fracturenorm inform nearest fractur element implement use multiappnearestnodetransfermultiappnearestnodetransfermd transfer list dfracturematrix_appi blocknormal_x_from_fractur matrix element must prescrib normal length l use porousflowelementlengthporousflowelementlengthmd auxkernel fracturenorm direct sent describ mathemat theori pagemultiapp_fracture_flow_equationsmd procedur assum l_mathrmleft l_mathrmright l l_mathrmright neq l_mathrmleft procedur correspond make shift fractur posit amount less finiteel size sinc accuraci finiteel scheme govern element size small shift introduc error smaller finiteel error matrix element contain multipl fractur procedur choos one direct case thermal conduct anisotrop incorrect lambda_mathrmmnn would use one fractur list dfracturematrix_appi blockelement_normal_length_auxk matrix element must prescrib normal thermal conduct lambda_mathrmmnn use fracturenorm direct boldsymboln receiv transfer use lambda_mathrmmnnboldsymbolncdotlambda_mathrmmcdotboldsymboln lambda_mathrmm matrix materi time anisotrop thermal conduct tensor input block assum isotrop matrix thermal conduct list dfracturematrix_appi blocknormal_thermal_conductivity_auxk fractur element must retriev l lambda_mathrmmnn nearest matrix element use multiappnearestnodetransfermultiappnearestnodetransfermd block list dfracturematrix_appi blockelement_normal_length_to_fractur fractur element must calcul h use eqnsuggestedhl list dfracturefracture_only_aperture_changingi blockheat_transfer_coefficient_auxk step could perform simul initi howev conveni perform timestep step accomplish timestep involv follow also use section matrix temperatur matrix_t sent fractur node use multiappinterpolationtransfermultiappinterpolationtransfermd transfer fractur physic solv heat flow fractur matrix transfer use multiappreportertransfermultiappreportertransfermd transfer matrix physic solv transfer describ list dfracturematrix_appi blocktransf result matrix_app_t_short matrix_app_t show temperatur product bore clear matrix provid substanti heatenergi inject result compar fracture_only_aperture_changing_t_out howev time proce cold inject cool surround matrix lead cooler product temperatur figur show result depend matrix fractur mesh size keep mind tabletime_scal tabul time scale result becom accur eg case expect accur timescal less day converg infiniteresolut limit obvious achiev media porous_flowexamplesmultiapp_flowmatrix_app_t_shortpng stylewidthmarginautopaddingtop idmatrix_app_t_short captionshortterm temperatur product well first number legend mesh element size second fractur element size media porous_flowexamplesmultiapp_flowmatrix_app_tpng stylewidthmarginautopaddingtop idmatrix_app_t captionlongterm temperatur product well first number legend mesh element size second fractur element size matrix_t show evolut cool matrix materi day envelop around fractur system cool degc part fractur cool inject particularli top network media porous_flowexamplesmultiapp_flowmatrix_tmp stylewidthmarginautopaddingtop idmatrix_t captionevolut cool matrix materi color fractur system show fractur temperatur small box matrix element cool degc green colorbar show time simul extens comment page describ sampl model workflow simul mixeddimension fractur porou system porousflow variou simplifi assumpt made may need modifi sophist approach one key assumpt fractur apertur proport porepressur chang eqnfracopen valu mmpa simpli chosen make result look reason ideal assumpt valu check experiment altern model may implement wellknown equat may requir small amount code develop porousflow like apertur temperaturedepend sinc cool matrix contract fractur dilat effect linear easili model use porousflowporositylinearporousflowporositylinearmd mechan effect includ except via eqnfracopen differ approach would treat matrix thm system transfer fractur porepressur extern normal stress sigma_nn appli matrix element contain fractur could appli reporterpointsourcesreporterpointsourcemd matrix deform respons well chang matrix temperatur normal compon strain epsilon_nn could interpret apertur chang transfer back fractur approach contain subtleti matrix strain good measur fractur open matrix element contain fractur probabl need prescrib modifi stiff ensur adequ model fractur element fractur porepressur nodal quantiti nonplanar fractur normal direct undefin creat element represent porepressur might advantag care consider fractur area contain matrix element might advantag attribut strain case singl matrix element contain multipl fractur element might complic fractur element huge compar matrix element matrix element happen contain fractur node element centroid use element porepressur experi addit sigma_nn matrix element lie nearest fractur centroid provid epsilon_nn altern way directli includ mechan could use xfem modul explicitli break matrix element contain fractur element advantag previou approach easi attribut strain fractur dilat disadvantag complex approach heat transfer fractur matrix consid use methodolog outlin mathemat pagemultiapp_fracture_flow_porousflow_dmd fluid transfer advect heat transfer could includ fractur assum insitu apertur mm instead fractur could uniqu insitu apertur uniqu scale pressur use differ materi block subdomain fractur poros assum independ henc version propto permeabl assum scale henc version propto elabor version certainli possibl possibl need code porousflow matrix poros permeabl assum constant isotrop instead pressur temperatur straindepend version alreadi code porousflow could use like nearwel physic accur captur porousflow differ physic could use instead nearwel phenomena accur comput pump pressur interest tabletime_scal result make clear larg matrix element result shorttim inaccuraci therefor tempt refin matrix mesh around fractur network describ transfer pagemultiapp_fracture_flow_transfersmd might advantag use differ transfer rel mesh size alter case matrix element smaller fractur element matrix element contain fractur node receiv heat energi fractur system lie centroid fractur element contribut apertur calcul inject product pump model simplist way act fractur system would rel straightforward use differ pump strategi cold co_ inject elast reservoir multiphas thm problem andi wilkin chri green jonathan ennisk two paper laforc et al citeplaforcealaforceb deriv semianalyt solut phase thm problem involv inject cold fluid warmer elast reservoir depict tara_setup_fig page solut replic moos nomenclatur use describ separ pagenomenclaturemd media mediaporous_flowtara_setuppng stylewidth captionth geometr setup use paper laforc et al idtara_setup_fig laforc et al consid cylindricallysymmetr model depict tara_setup_fig radial coordin label r axial coordin z permeabl reservoir sandwich two imperm seal reservoir seal orient horizont normal z reservoir initi fulli water satur vertic wellbor intersect reservoir inject co_ constant rate co_ colder initi reservoir temperatur inject fluid advect reservoir imperm seal heat cold advect fluid slowli cool reservoir conduct surround seal porousflow input file associ script gener analyt solut herehttpsgithubcomidaholabmooseblobmastermodulesporous_flowexamplesthm_exampl input file describ axial symmetr situat list modulesporous_flowexamplesthm_exampledi blockmesh list modulesporous_flowexamplesthm_exampledi blockproblem equat assumpt deriv semianalyt solut laforc et al employ assumpt state fluid flow mass porousflow mass speci kappa per volum rock written sum phase present system beginequ labeleqnmsph mkappa phisum_betas_betarho_betachi_betakappa phickappa endequ laforc et al make follow assumpt poros phi constant independ time fluid pressur temperatur volumetr expans howev depend rock type list modulesporous_flowexamplesthm_exampledi startporosity_reservoir endpermeability_reservoir two phase liquid ga henc beta mathrmliquid ga liquid water ga co_ henc kappa mathrmwat co water compon exist liquid phase co_ compon exist ga phase henc chi_mathrmliquidmathrmwat chi_mathrmliquidmathrmco chi_mathrmgasmathrmwat chi_mathrmgasmathrmco list modulesporous_flowexamplesthm_exampledi startmassfrac_ph_sp endpga densiti phase constant order simplifi fluid equat eventu reduc wellstudi form model advect satur shock front howev order deriv solut pressur distribut laforc et al assum small fluid compress phase satisfi incompress small compress requir moos model use fluid bulk modulu sim larger porepressur desorb fluid assumpt mass formula becom beginequ beginalign mmathrmwat phi s_mathrmwaterrho_mathrmwat mmathrmco phi s_mathrmwaterrho_mathrmco endalign endequ porousflow input file use porepressur water ga satur primari nonlinear variabl describ fluid flow list modulesporous_flowexamplesthm_exampledi startpwat endtemp fluid flow flux porousflow flux sum advect flux diffusiveanddispers flux beginequ labeladvdiffdispeqn mathbffkappa sum_betachi_betakappamathbff_betamathrmadvect mathbffkappa_mathrmdiffusiondispers endequ advect flux govern darci law beginequ mathbff_betamathrmadvect rho_betamathbfv_beta rho_betafrackk_mathrmrbetamu_betanabla p_beta rho_beta mathbfg labeldarceqn endequ diffus dispers proport gradient chi_betakappa beginequ mathbffkappa_mathrmdiffusiondispers sum_betarho_betamathcald_betakappanabla chi_betakappa labeldiffdispeqn endequ laforc et al make follow assumpt permeabl tensor diagon constant independ fluid pressur temperatur rock stress strain xx yy compon equal zz compon zero depend rock type sinc porousflow input file setup rz coordin radial permeabl enter first slot zz compon appear central slot compon zero situat list modulesporous_flowexamplesthm_exampledi startpermeability_reservoir endrelperm_liquid constant nonzero residu water satur s_mathrmwatermathrmr constant nonzero residu co_ satur s_mathrmcomathrmr rel permeabl function function effect satur beginequ hat fracs_mathrmwat s_mathrmwatermathrmr s_mathrmwatermathrmr s_mathrmcomathrmr endequ function beginequ labelrelpermseqn beginalign k_mathrmrwat hat k_mathrmrco hat hat endalign endequ list modulesporous_flowexamplesthm_exampledi startrelperm_liquid endthermal_conductivity_reservoir viscos function temperatur laforc et al use particular function temperatur includ porousflow therefor shall use constant viscos phase equal averag viscos quot laforc et al use laforc et al solut base constant viscos result tini modif laforc solut would difficult see finiteresolut moos model anyway capillar therefor p_mathrmwaterp_mathrmco defin pp_mathrmwat list modulesporous_flowexamplesthm_exampledi startpc end graviti diffus dispers implicitli impli assumpt chi assumpt fluid flux beginequ beginalign mathbffmathrmwat rho_mathrmwat frack k_mathrmrwatermu_mathrmwaternabla p mathbffmathrmco rho_mathrmco frack k_mathrmrcomu_mathrmconabla p endalign endequ fluid flow mass conserv porousflow mass conserv fluid speci kappa describ continu equat beginequ labelmassconsspeqn fracparti mkappaparti mkappanablacdotmathbf v_ nablacdot mathbffkappa lambda mkappa qkappa endequ laforc et al make follow assumpt term nablacdotmathbfv_ ignor radioact decay lambda sourc sink occur boundari q except boundari therefor fluidflow kernel list modulesporous_flowexamplesthm_exampledi startmass_water_dot endenergy_dot fluid flow summari assumpt far mass conserv equat read beginequ beginalign phi dots_mathrmwat nabla left k frack_mathrmrwatermu_mathrmwaternabla p right phidots_mathrmwat nabla left k frack_mathrmrcomu_mathrmconabla p right endalign endequ sum yield total flow rate beginequ qt k leftfrack_mathrmrwatermu_mathrmwat frack_mathrmrcomu_mathrmco right nabla p endequ total flow rate depend time control boundari condit satisfi nablacdot q later use defin fraction flow beginequ labelfracflowsdefneqn beginalign q_mathrmwat fracfrack_mathrmrwatermu_mathrmwaterfrack_mathrmrwatermu_mathrmwat frack_mathrmrcomu_mathrmco q_mathrmco fracfrack_mathrmrcomu_mathrmcofrack_mathrmrwatermu_mathrmwat frack_mathrmrcomu_mathrmco endalign endequ heat flow heat energi porousflow heat energi per unit volum beginequ labelenpervoleqn mathcal phirho_rc_rt phisum_betas_betarho_betamathcale_beta endequ laforc et al make follow assumpt rock grain densiti rho_r constant specif heat capac rock grain c_r constant list modulesporous_flowexamplesthm_exampledi startinternal_energy_reservoir endelasticity_tensor intern energi liquid phase mathcale_mathrmliquid c_mathrmwatert c_mathrmwat constant independ paramet system intern energi ga phase mathcale_mathrmga c_mathrmcot c_mathrmco constant independ paramet system assumpt heat energi densiti beginequ mathcal phirho_rc_rt phi s_mathrmwaterrho_mathrmwaterc_mathrmwatert phi s_mathrmwaterrho_mathrmcoc_mathrmcot endequ heat flow flux porousflow heat flux sum heat conduct convect fluid beginequ labelheatfluxeqn mathbfft lambda nabla sum_betah_betamathbff_beta endequ laforc et al make follow assumpt nonzero compon thermal conduct zz compon vari water satur beginequ lambda_zz lambda_zz lambda_zz lambda_zzs_mathrmwat endequ coeffici lambda_zz lambda_zz independ time fluid pressur temperatur mechan deform depend rock type list modulesporous_flowexamplesthm_exampledi startthermal_conductivity_reservoir endinternal_energy_reservoir enthalpi liquid phase h_mathrmliquid c_mathrmwatert enthalpi ga phase h_mathrmga c_mathrmcot assumpt made far beginequ mathbfft lambda nabla c_mathrmwat rho_mathrmwatermathbfq_mathrmwat c_mathrmco rho_mathrmcomathbfq_mathrmco endequ fraction flow fracflowsdefneqn employ heat flow energi conserv porousflow energi conserv heat describ continu equat beginequ fracpartialmathcaleparti mathcalenablacdotmathbf v_ nablacdot mathbfft nu phisigmamathrmeff_ijfracpartialparti tepsilon_ijmathrmplast qt labelheatconseqn endequ laforc et al make follow assumpt plastic heat heat sourc save boundari heat flow summari assumpt made far heat equat read beginequ fracpartialparti trho c nabla lambda nabla nabla rho c mathbfq labelsimplifiedheateqn endequ follow two variabl rho c rho c mathbfq defin beginequ labeldefnsrhocrhocqeqn beginalign rho c phirho_rc_r phi s_mathrmwaterrho_mathrmwaterc_mathrmwat phi s_mathrmwat rho_mathrmcoc_mathrmco rho c mathbfq rho_mathrmwat c_mathrmwat mathbfq_mathrmwat rho_mathrmco c_mathrmco mathbfq_mathrmco endalign endequ simplifiedheateqn defnsrhocrhocqeqn exactli eq citetlaforcea cours analysi laforc et al replac diffus term nablalambdanabla lauweri heatloss express beginequ nablalambdanabla rightarrow tildelambdat t_mathrmref labeleqnlauwerierreplac endequ term laforc et al variabl new heatloss coeffici beginequ tildelambda u_lh fracsqrtk_arho c_ahsqrtt labeleqnlauwerierreplac endequ particularli nice simplif mean overburden underburden dont need consid analysi mean howev mechan effect surround rock aquif model laforc et al therefor heatflow kernel list modulesporous_flowexamplesthm_exampledi startenergy_dot endgrad_stress_r along rate heat loss list modulesporous_flowexamplesthm_exampledi blockfunct solid mechan denot effect stress tensor sigmamathrmeff porousflow defin beginequ sigmamathrmeff_ij sigmamathrmtot_ij alpha_bdelta_ijp_f labeleffstresseqn endequ laforc et al assum biot coeffici alpha_b constant independ paramet theori effect fluid pressur p_fp list modulesporous_flowexamplesthm_exampledi starteff_fluid_pressur endvol_strain porousflow solidmechan constitut law read beginequ sigma_ijmathrmeff e_ijklleftepsilonmathrmelastic_kl delta_klalpha_tt t_mathrmrefright labeleqnelast endequ laforc et al assum drain elast tensor e_ijkl isotrop constant independ paramet theori list modulesporous_flowexamplesthm_exampledi startelasticity_tensor endstrain plastic drain thermal expans coeffici alpha_t constant independ paramet theori list modulesporous_flowexamplesthm_exampledi startstrain endeff_fluid_pressur porousflow conserv momentum read beginequ rho_mathrmmatfracparti v_sjpartial nabla_isigma_ijmathrmtot rho_mathrmmatb_j nabla_isigma_ijmathrmeff alpha_bnabla_j p_f rho_mathrmmatb_j labelconsmomeqn endequ laforc et al assum acceler solid skeleton dotv_ zero bodi forc b except boundari assumpt implic laforc et al make follow assumpt displac z direct u_z solidmechan kernel therefor list modulesporous_flowexamplesthm_exampledi startgrad_stress_r end reservoir free contract expand radial without hinder imperm seal depend axial coordin z use lauweri heatloss model eqnlauwerierreplac simul axial heat conduct therefor independ variabl water satur s_mathrmwat fluid porepressur p temperatur radial displac u_r depend radiu r variabl use porousflow input file list modulesporous_flowexamplesthm_exampledi blockvari paramet valu initi condit tabl idtable_param captionparamet numer valu use benchmark laforc et al symbol valu physic descript alpha_b biot coeffici reservoir seal alpha_t time k drain linear thermal expans coeffici reservoir seal c_mathrmreservoir jkgk specif heat capac reservoir rock grain c_mathrmseal jkgk specif heat capac seal rock grain c_mathrmco jkgk specif heat capac water c_mathrmwat jkgk specif heat capac water phi_mathrmreservoir poros reservoir phi_mathrms poros seal g gpa shear modulu reservoir seal h_mathrmreservoir vertic height reservoir time tonneyear inject rate co_ k_mathrmdrain gpa drain bulk modulu reservoir seal k_mathrmwat time gpa bulk densiti water k_mathrmco time gpa bulk densiti co_ k_mathrmreservoir time horizont permeabl compon reservoir zero vertic permeabl k_mathrmseal permeabl seal lambda_mathrmreservoir jsmk vertic thermal conduct reservoir zero water satur lambda_mathrmreservoir jsmk vertic thermal conduct reservoir full water satur lambda_mathrms jsmk vertic thermal conduct seal zero water satur lambda_mathrms jsmk vertic thermal conduct seal full water satur mu_mathrmwat time pa viscos water mu_mathrmco time pa viscos co_ nu_mathrmdrain drain poisson ratio reservoir seal p_ mpa initi porepressur r_mathrmbh borehol radiu r_mathrmmax km radial size model rho_mathrmrreservoir kgm densiti reservoir rock grain rho_mathrmrs kgm densiti seal rock grain rho_mathrmwat kgm densiti water rho_mathrmco kgm densiti co_ s_mathrmwat initi water satur s_mathrmcomathrmr residu satur co_ s_mathrmwatermathrmr residu satur water sigma_mathrmhormathrmeff mpa initi horizont effect stress reservoir seal sigma_mathrmvermathrmeff mpa initi vertic effect stress reservoir seal t_ k initi reservoir seal temperatur t_mathrminject k inject temperatur co_ t_mathrmref k refer temperatur thermal strain lauweri term t_mathrmend year endtim simul paramet valu may found porousflow input file instanc list modulesporous_flowexamplesthm_exampledi blockglobalparam fluid properti list modulesporous_flowexamplesthm_exampledi blockmodul note initi stress effect stress horizont initi stress occupi first slot vertic stress occupi central slot list modulesporous_flowexamplesthm_exampledi startini_strain endthermal_contribut seal actual consid model laforc et al assumpt boundari condit laforc et al assum follow boundari condit porepressur outer boundari beginequ pr_mathrmmax p_ endequ list modulesporous_flowexamplesthm_exampledi startouter_pressure_fix endouter_temp_fix temperatur outer boundari beginequ tr_mathrmmax t_ endequ list modulesporous_flowexamplesthm_exampledi startouter_temp_fix endfixed_outer_r displac outer boundari zero beginequ ur_mathrmmax endequ list modulesporous_flowexamplesthm_exampledi startfixed_outer_r endco_inject inject constant rate time tyear constant temperatur k porousflow input file fluid inject implement porousflowsinkboundariesmd slowli ramp full valu initi order help converg preset dirichletbc list modulesporous_flowexamplesthm_exampledi startco_inject endcavity_pressure_x total radial compress stress well equal porepressur well dictat dynam problem sinc inject rate constant porepressur increas time beginequ sigma_rrmathrmtotr_mathrmbh p endequ implement slightli convolut way moos input file first postprocessor record valu porepressur begin time step list modulesporous_flowexamplesthm_exampledi blockpostprocessor pressurebcbcspressuremd appli total stress physic mechan push forc borehol wall list modulesporous_flowexamplesthm_exampledi startcavity_pressure_x end compon zero axiallysymmetr rz problem valu total pressur equal variabl pwater p_bh record start time step boundari condit actual lag one time step porepressur pwater chang significantli time step lead minim error result media mediaporous_flowd_thm_compare_porepressure_figpng captioncomparison porousflow result analyt express deriv laforc et al porepressur eq citetlaforceb idporepressure_cf_fig media mediaporous_flowd_thm_compare_temperature_figpng captioncomparison porousflow result analyt express deriv laforc et al temperatur eq citetlaforcea idtemperature_cf_fig media mediaporous_flowd_thm_compare_displacement_figpng captioncomparison porousflow result analyt express deriv laforc et al radial displac eq citetlaforceb iddisplacement_cf_fig media mediaporous_flowd_thm_compare_sg_figpng captioncomparison porousflow result analyt express deriv laforc et al ga satur eq citetlaforcea idsg_cf_fig media mediaporous_flowd_thm_compare_seff_rr_figpng captioncomparison porousflow result analyt express deriv laforc et al effect radial stress eq citetlaforceb small discrep borehol wall due finit resolut moos model stress evalu finiteel centroid instead node idseff_rr_cf_fig media mediaporous_flowd_thm_compare_seff_tt_figpng captioncomparison porousflow result analyt express deriv laforc et al effect hoop stress eq citetlaforceb small discrep borehol wall due finit resolut moos model stress evalu finiteel centroid instead node idseff_tt_cf_fig acknowledg author wish acknowledg financi assist provid australian nation low emiss coal research develop anlec rdhttpsanlecrdcomau anlec rd support australian coal associ low emiss technolog limit australian govern clean energi initi chemicallyreact elast reservoir anoth pagethmc_examplemd describ model page may extend includ geochem reaction reservoir bibtex bibliographi fractur flow use multiapp approach equat background porousflow use simul flow fractur porou media case fractur network complic incorpor porousmedia mesh fundament premis fractur consid lower dimension entiti within higherdimension porou media page part set describ moos multiapp approach simul model introductionmultiapp_fracture_flow_introductionmd mathemat physic interpretationmultiapp_fracture_flow_equationsmd transfersmultiapp_fracture_flow_transfersmd multiapp primermultiapp_fracture_flow_primermd diffus equat fractur quantifi error introduc multiapp approach diffus mix dimensionsmultiapp_fracture_flow_diffusionmd porou flow singl matrix systemmultiapp_fracture_flow_porousflow_dmd porou flow small fractur networkmultiapp_fracture_flow_porousflow_dmd heat equat fracturematrix system uncoupl equat heat equat beginequ labeleqndheateqn cfracparti tpartial nablalambda nabla endequ temperatur si unit k c volumetr heat capac medium product specif heat capac densiti si unit jmk time nabla vector spatial deriv lambda thermal conduct si unit jsmk equat multipli test function get integr element volum finiteel scheme fractur actual object thin temperatur c lambda vari appreci thick apertur therefor integr thick may done explicitli fractur model object heat equat read beginequ labeleqndheateqn acfracparti tpartial atildenablalambda tildenabla endequ fractur thick apertur tildenabla deriv transvers fractur equat integr moos fractureel area finiteel method alert note preceed equat impli kernel heat mass flow fractur system must multipli fractur apertur moos input file govern physic coeffici coeftimederivativecoeftimederivativemd kernel ac coeffici anisotropicdiffusionanisotropicdiffusionmd alambda tensori quantiti lambda permeabl tensor anisotrop need express space coupl order specifi coupl fractur matrix system precis let us introduc notat suppos posit fractur given levelset function f fx z x z cartesian coordin fractur point f point fneq exampl fractur occupi x plane fz would suitabl function onedimension dirac delta function deltaf si unit zero everywher except fractur deltaf integr direct normal fractur result int_mathrmnormaldeltaf deltaf integr volum contain fractur result int_vdeltaf area fractur volum approach explor page use two temperatur variabl t_m t_f temperatur matrix fractur respect t_m defin throughout entir matrix includ embed fractur t_f defin fractur assum obey beginequ beginalign labeleqncoupledbas c_mdott_m nablalambda_mnabla t_m ht_m t_fdeltaf ac_fdott_f atildenablalambda_ftildenabla t_f ht_f t_m endalign endequ equat h heattransf coeffici matrix fractur si unit jmsk t_f t_m heattransf term take heat energi t_f system appli t_m system heattransf coeffici play central role page discuss detail second fractur equat integr portion fractur area heatenergi transfer matrix ahlangl t_f t_m rangl langlerangl indic averag equal heatenergi transfer accord first equat integr volum contain portion fractur rememb int_vdeltaf therefor heat energi conserv system heattransf coeffici heattransf coeffici use engin accur account complic process occur interfac two materi two materi temperatur t_a t_b respect connect area rate heat transfer aht_a t_b si unit js heattransf coeffici estim mani differ situat see instanc wikipediahttpsenwikipediaorgwikiheat_transfer_coeffici motiv numer valu h assum fractur width tini compar relev length scale matrix finiteel size temperatur distribut immedi vicin fractur govern complic process point h hide complex assum skin around fractur complic process occur denot temperatur outsid skin t_ heat transfer skin beginequ labelheattransferskin q_ h_mathrmst_f t_ endequ t_f fractur temperatur h_mathrm heattransf coeffici skin si unit jmsk q_ heat flux si unit jsm discuss numer valu h_ found fractur may consid twodimension implement includ apertur fractur kernel use finit element size skin also ignor therebi matrix see fractur object t_ t_f sit within consid skin_two_nod object temperatur t_ sit two finit element node temperatur t_ t_ media porous_flowexamplesmultiapp_flowskin_two_nodespng stylewidthmarginautopaddingtop idskin_two_nod captionan object temperatur t_ sit distanc l_ finiteel node temperatur t_ distanc l_ node temperatur t_ flow fictiti skin object matrix finiteel node govern heat equat linear limit eqndheateqn impli beginequ beginalign labeleqnlinearqq q_ lambda fract_ t_l_ q_ lambda fract_ t_l_ endalign endequ assum sum equal q_ q_ q_ q_ beginequ h_mathrmst_f t_ lambda left fract_ t_l_ fract_ t_l_right endequ use equal allow t_ written term temperatur valu substitut express heattransferskin yield heatloss fractur beginequ q frach_mathrmslambda l_ l_h_mathrmsl_l_ lambdal_ l_ left fracl_l_ l_t_f t_ fracl_l_ l_t_f t_ right endequ notic prefactor l_l_l_ exactli linearlagrang element moos would prescrib dirackernel sit fractur posit henc effect heattransf coeffici would use moos model situat beginequ h frach_mathrmslambda l_ l_h_mathrmsl_l_ lambdal_ l_ endequ alert note notic key assumpt made present linear approxim eqnlinearqq assum matrix element size small enough resolv physic interest mean phenomena associ shorttim smallscal physic wont resolv model larg element use heattransf coeffici recommend page variou reallif scenario may heat flow posit skin even t_sneq t_ contradict eqnlinearqq instanc chang t_ take time felt posit solut use smaller element resolv shorttim smallscal phenomena small fractur network modelmultiapp_fracture_flow_porousflow_dmd provid exampl analysi may perform dd situat skin_two_nod pictur flow fractur matrix occur normal direct also repres dd situat arbitraryshap element contain portion fractur heat flow node henc h depend shape element howev follow approach peaceman borehol peaceman boreholeporousflowpeacemanboreholemd follow ruleofthumb suggest moos simul beginequ labeleqnsuggestedh h frach_mathrmslambda_mathrmmnn l_mathrmright l_mathrmlefth_mathrmsl_mathrmrightl_mathrmleft lambda_mathrmmnnl_mathrmright l_mathrmleft endequ h depend matrix element surround fractur lambda_mathrmmnn compon matrix thermal conduct normal direct fractur l_mathrmright averag distanc fractur node lie right side l_mathrmleft averag distanc fractur node lie left side opposit right side result eqnsuggestedh depend l_mathrmleft l_mathrmright set appropri assum l_mathrmleft l_mathrmright l sinc correspond make shift fractur posit amount less finiteel size sinc accuraci finiteel scheme govern element size small shift introduc error smaller finiteel error mean eqnsuggestedh read beginequ labeleqnsuggestedhl h frach_mathrmslambda_mathrmmnnlh_mathrmsl lambda_mathrmmnnl endequ heattransf skin like exceed heat conduct skin sinc heat transfer involv faster process convect therefor h_mathrm blambda_mathrmm skin size numer quantiti b yield beginequ labeleqnsimplel h fraclambda_mathrmmnnl sb rightarrow fraclambda_mathrmmnnl endequ final limit l like reason correct simul final consid case larg fractur element compar matrix element could happen agg v fractur area model one finiteel fractur node v volum model one finiteel matrix node singl fractur node appli lot heat small matrix node like caus oscil even numer instabl delta larg multiapp approach mass flow masstransf coeffici hmathrmmass may use model fluid mass transfer fractur matrix equat fluid phase structur ident differ numer valu viscos rel permeabl etc section consid one phase defin potenti phi si unit pa beginequ labeleqnflowpotenti phi p rho g z endequ p porepressur si unit pa rho fluid densiti si unit kgm g gravit acceler si unit ms pamkg z coordin direct point upward ie opposit direct graviti si unit graviti act differ direct z would replac anoth coordin direct darci set model porousflow equival heat transfer ht_f t_m found eqncoupledbas beginequ qmathrmmass hmathrmmassphi_f phi_m endequ equival heattransferskin beginequ q_mathrmsmathrmmass h_mathrmsmathrmmassphi_f phi_ endequ q_mathrmsmathrmmass mass flux skin si unit kgsm h_mathrmsmathrmmass masstransf coeffici skin si unit kgsmpa heatflow argument present may follow use phi instead rho k k_mathrmrel mu place lambda yield suggest masstransf coeffici dd situat beginequ labeleqnsuggestedhmass hmathrmmass frach_mathrmsmathrmmassfracrho k_mathrmmnnk_mathrmrelmu l_mathrmright l_mathrmlefth_mathrmsmathrmmassl_mathrmrightl_mathrmleft fracrho k_mathrmmnn k_mathrmrelmul_mathrmright l_mathrmleft endequ hmathrmmass depend matrix element surround fractur follow way rho densiti fluid phase si unit kgm k_mathrmmnn compon matrix permeabl tensor normal direct fractur si unit k_mathrmrel rel permeabl fluid phase dimensionless mu dynam viscos fluid phase si unit pa l_mathrmright averag distanc fractur node lie right side l_mathrmleft averag distanc fractur node lie left side opposit right side appear masstransf qmathrmmass hmathrmmassphi_f phi_m phi given eqnflowpotenti argument led eqnsuggestedhl eqnsimplel lead case beginequ labeleqnsimplehmass hmathrmmass fracrho k_mathrmmnnk_mathrmrelmu l endequ numer subtleti express may impact mani simul model awar follow phi seen fractur matrix nodal valu interpol fractur node clearli mani way interpol eg rho z could interpol fractur node rho z could evalu fractur node given posit porepressur temperatur similar remark hold rho k_mathrmmnnk_mathrmrelmu stabil numer improv evalu rho k_mathrmmnnk_mathrmrelmu upwind posit fluid flow fractur matrix term would best evalu use p skin revers flow evalu done use nodal matrix valu howev usual conveni fix evalu use elementalaverag valu matrix use constant monomi auxvari matrix heat advect heat advect follow principl mass transfer heat transfer advect skin beginequ q_mathrm eh_mathrmsmathrmmassphi_f phi_ endequ e fluid enthalpi term given finiteel set q ehmathrmmassphi_f phi_m beginequ labeleqnsuggestedehmass ehmathrmmass fraceh_mathrmsmathrmmassfracerho k_mathrmmnnk_mathrmrelmu l_mathrmright l_mathrmlefteh_mathrmsmathrmmassl_mathrmrightl_mathrmleft fracerho k_mathrmmnn k_mathrmrelmul_mathrmright l_mathrmleft endequ argument led eqnsuggestedhl eqnsimplel lead case beginequ labeleqnsimpleehmass ehmathrmmass fracerho k_mathrmmnnk_mathrmrelmu l endequ masstransf case numer impact term evalu combin transfer mani simul heat transfer conduct convect activ addit mass transfer transfer simpli ad togeth instanc beginequ qmathrmheat ht_f t_m ehmathrmmassphi_f phi_m endequ diffus porousflowdispersivefluxporousflowdispersivefluxmd kernel requir diffus coeffici d_betakappa compon phase well tortuos tau_ tau_betas_beta provid materi properti porousflow two formul avail constant diffus porousflowdiffusivityconstporousflowdiffusivityconstmd simpl model diffus constant tortuos constant millingtonquirk diffus porousflowdiffusivitymillingtonquirkporousflowdiffusivitymillingtonquirkmd satur depend model propos citemillingtonquirk diffus coeffici constant tortuos beginequ tau_ tau_betas_beta phi s_beta endequ bibtex bibliographi nonlinear converg problem even converg criteriaporous_flowconvergencemd set appropri moos sometim find difficult reduc nonlinear residu analysi usual fix although sometim bad simul nonlinear tip analys fix poor nonlinear converg fluid equat state highli nonlinear take long time evalu diagnos converg problem alway worthwhil replac equat state appropri simplefluidproperti basic chang input file moos keep sampl outsid region valid equat state therebi caus timestep reduct know final result within region valid use tabulatedfluidproperti instead much faster evalu boundari condit inspect boundari condit close variabl v associ massbal equat compon c preset dirichletbc variabl v physic say add remov compon c order keep variabl v fix realli want your tri remov compon c compon c node question almost alway better use porousflowsinkporousflowsinkmd see also boundariesboundariesmd instead numer smoother preset dirichletbc also may easili interpret physic influenc boundari situat infti extern flux extern flux turn quickli bad similarli larg discontinu deriv caus converg problem tri defin smooth version input discontinu like often manifest nonconverg nonlinear iter capillar effect satur effect satur curv flat good exampl van genuchten paramet almost alway give better converg effect satur curv low good exampl van genuchten paramet alphapa almost alway give better converg alphapa discontinu effect satur deriv bad suggest use van genuchten paramet alphageq problem satur unsatur zone van genuchten rel permeabl relat use van genuchten capillar relationship s_scale paramet may sometim use phase simul great effect rel permeabl relationship highli nonlinear rel permeabl curv make converg difficult case instanc corey rel permeabl curv n much wors numer n see reduc nonlinear curv multiphas problem multiphas problem one phase complet disappear moos may converg one phase almost disappear moos may take exorbit number iter converg avoid fullyupwind kernel boundari flux dirac sourc use residu satur phase nonzero probabl wont disappear fullyupwind approach theori allow fluid exit node rel permeabl zero howev numer imprecis lead phase disappear nonzero residu satur use mean dtrightarrow jacobian matrix typicali nonsingular case problemat node fill littl amount phase next time step shift van genuchten capillari suction curv may use use s_scale paramet difficult multiphas problem detail contain phase disappear consid phase simul contain singl node darci flux mass fraction fix residu beginequ r fracddt left beginarrayc phirho_gs_g phirho_ws_w endarray right endequ phase label g w variabl p_g p_w jacobian beginequ j fracphidt left beginarraycc rho_gs_g rho_gfracparti s_gpartial p_g rho_gfracparti s_gpartial p_w rho_wfracparti s_wpartial p_g rho_ws_w rho_wfracparti s_wpartial p_w endarray right fracphidt left beginarraycc rho_gs_g rho_g rho_g rho_w rho_ws_w rho_w endarray right endequ howev s_wrightarrow standard van genuchten express give beginequ j fracphidt left beginarraycc rho_w endarray right endequ singular singular usual manifest one two way petsc find imposs invert jacobian nonlinear solver find difficult imposs converg use s_scale paramet mean finit porepressur determin alway posit beginequ det j rho_grho_wss rho_grho_wss rho_grho_wss endequ sinc leq sleq rho physic jacobian nonsingular multiphas situat use variabl porousflow allow use variabl porepressur mixtur porepressur satur free lunch howev nonlinear problem start manifest thorough analysi one present identifi caus problem compon disappear similar remark may made compon disappear often time use explicitli write equat determin zero noninvert occur boundari condit moos dirichlet neumann boundari condit enabl simul simpl scenario porou flow modul includ flexibl boundari condit allow mani differ scenario model two class boundari condit base porousflowsinkporousflowsinkmd typic use add remov fluid heatenergi boundari basic sink addsremov fix flux elabor sourcessink add timedepend flux flux depend fluid pressur temperatur fluid mobil enthalpi etc boundari condit may also use control porepressur temperatur mass fraction boundari addingremov fluid heat interact extern environ often physic correct numer advantag use boundari condit instead dirichletbcdirichletbcmd base porousflowoutflowbcporousflowoutflowbcmd outflow boundari condit remov fluid compon heat energi flow boundari model free boundari invis simul pleas see descript warn page may read conjuct descript test porousflow sinkstestssinkssinks_testsmd class basic sink formul basic sink beginequ ft x endequ f moos function time posit boundari f boundari condit act sink f boundari condit act sourc appli fluidcompon equat function f unit kgm appli heat equat function f unit jm unit f potenti modifi extra build block enumer use unit final result alway kgm jm fluid flow boundari requir use save_in command save sink strength auxvari auxvari flux kg js node boundari product area attribut node total flux kg js boundari requir integr auxvari boundari use nodalsumnodalsummd postprocessor basic sink boundari condit implement porousflowsinkporousflowsinkmd class elabor option basic sink may multipli moos function pressur fluid phase temperatur beginequ labeleqs_f_g ft x time gpbeta p_mathrm textrmor ft x time gt t_mathrm endequ unit ftime g kgm fluid jm heat p_mathrm t_mathrm refer valu may auxvari allow spatial tempor varianc commonli use form hardcod porou flow modul eas use simul piecewis linear function simul fluid heat exchang extern environ via conduct term instanc implement porousflowpiecewiselinearsinkporousflowpiecewiselinearsinkmd halfgaussian simul evapotranspir instanc implement porousflowhalfgaussiansinkporousflowhalfgaussiansinkmd halfcub simul evapotranspir exampl implement porousflowhalfcubicsinkporousflowhalfcubicsinkmd addit sink may multipli follow quantiti fluid rel permeabl fluid mobil k_ijn_in_j rho mu n normal vector boundari fluid mass fraction fluid intern energi thermal conduct class fix fluid porepressur use porousflowsink frequent porousflow simul fix fluid porepressur use dirichlet condit inappropri physic dirichlet condit correspond environ outsid model provid limitless sourc sink fluid happen realiti variabl use may porepressur straightforward translat fix porepressur easi dirichlet condit lead extrem poor converg forc area near boundari close unphys unlik region paramet space physic intuit behind porousflowsink advantag think boundari condit physic tri repres use dirichlet condit often porousflowsinkporousflowsinkmd appropri use instanc top groundwaterga model ga freeli enter model atmospher escap model atmospher may model use porousflowsink water exit model water porepressur increas atmospher pressur recharg porepressur lower may zero may model use porousflowsink fix porepressur temperatur use porousflowsink conduct consid imaginari environ sit distanc l model imaginari environ provid limitless sourc sink fluid fluid must travel distanc l model imaginari environ flux fluid model environ approxim beginequ labeleqfix_pp_bc fracrho k_nn k_mathrmrmufracpp_mathrmel endequ similar equat hold temperatur porousflow simul heat sometim suppli fluid case appropri equat use heat may equat multipli enthalpi k_nn permeabl region model imaginari environ also thought permeabl adjac element k_mathrmr rel permeabl region rho mu fluid densiti viscos environ porepressur p_mathrm boundari porepressur p lsim effect fix porepressur psim p_mathrm sinc flux larg otherwis physic fluid rapidli remov ad system environ ensur pp_mathrm lsiminfti boundari flux almost zero noth numer implement porousflowsinkporousflowsinkmd implement fairli gener way allow flexibl set combin pressur temperatur boundari condit due implement difficult draw perfect analog physic flux nevertheless eqfix_pp_bc may implement number way one common involv porousflowpiecewiselinearsinkporousflowpiecewiselinearsinkmd follow format eqs_f_g use fxtc gpp_mathrm piecewis linear function order pair pt_val xaxi multipli yaxi exampl function g shown figur accept pp_mathrm input return valu end multipli c give flux eqs_f_g c thought conduct specifi flux_funct c numer valu discuss p_mathrm specifi use auxvari set constant valu use pt_shift pe media piecewiselinear_g_functionpng stylewidthmarginleftpx captiondepict gpp_mathrm porousflowpiecewiselinearsink function accept pp_mathrm input ie differ specifi environ pressur pressur boundari element return valu multipli c give flux domain idpiecewiselinear_g_funct set dirichlet boundari condit p p_mathrm either c slope g larg usual conveni make slope g equal set pt_val e e multipli e e c select appropri rang pt_val suffici larg simul alway occupi region valu specifi e e typic choic porepressur encount mani simul ensur good converg doubt set pt_val higher valu expect p p_mathrm fall outsid rang defin pt_val slope g use set boundari condit allow outflow eg use pt_val e multipli e numer valu conduct c rho k_nnk_mathrmrmul must set appropri valu model altern porousflowpiecewiselinearsinkporousflowpiecewiselinearsinkmd may construct pt_val multipli pt_shift use_mobl true use_relperm true c l three advantag moos input file simpler moos automat choos correct mobil rel permeabl use paramet appropri model reduc potenti difficult numer situat occur also note c time g larg boundari residu much larger residu within domain result poor converg valu assign c exampl c rho sim kgm k k_r mu sim pa therefor l sim valu l small enough ensur dirichlet boundari condit satisfi c increas l sim simul difficulti converg c lsim boundari act like sourc fluid distant reservoir ie longer act like dirichlet boundari condit valu c simpli l use_mobl true use_relperm true list modulesporous_flowtesttestssinksporousflowpiecewiselinearsink_bc_egi startbc endpostprocessor class inject fluid fix temperatur boundari condit correspond inject fluid fix temperatur could involv use dirichlet condit temperatur use f without multipl factor complic exampl heat fluid inject product detail test suit document class fluid enter exit boundari commonli fluid heat exit porou materi multipl rel permeabl mobil mass fraction enthalpi thermal conduct necessari fluid heat enter porou materi multipl necessari two sink construct moos input file one involv product activ pp_mathrm use piecewiselinear sink p_mathrm environment pressur one involv inject activ pp_mathrm use piecewiselinear sink multipli appropri factor class phase exampl illustr sink part porousflowsink boundari condit work plan consid phase flow along line similar problem use porousflowoutflowbcsporousflowoutflowbcmd describ simul initi satur water co_ inject leftsid co_ front move toward right boundari condit place right dont interfer flow answer two porousflowpiecewiselinearsinkporousflowpiecewiselinearsinkmd need one pull water pull co_ extract fluid proport mass fraction mobil rel permeabl way describ let us explor input file littl exampl two fluid compon fluid compon water fluid compon co_ two phase phase liquid phase ga water compon exist liquid phase co_ compon exist gaseou phase fluid immisc variabl water ga porepressur list modulesporous_flowtesttestssinksinjection_production_egi startvari endkernel pwater variabl associ water compon pga variabl associ co_ compon list modulesporous_flowtesttestssinksinjection_production_egi startkernel enduserobject van genuchten capillari pressur use list modulesporous_flowtesttestssinksinjection_production_egi startpc end remaind input file pretti standard save import bc block list modulesporous_flowtesttestssinksinjection_production_egi startbc endprecondit shown output evid boundari condit satisfi requir media injection_production_eg_sgpng stylewidthmarginleftpx captionga satur breakthrough jagged line ga satur element variabl idinjection_production_eg_sg media injection_production_eg_pppng stylewidthmarginleftpx captionporepressur breakthrough idinjection_production_eg_pp media injection_production_eg_sgpng stylewidthmarginleftpx captionga satur end simul idinjection_production_eg_sg media injection_production_eg_pppng stylewidthmarginleftpx captionporepressur end simul idinjection_production_eg_pp media injection_production_eggif stylewidthmarginleftpx captionevolut ga satur jagged line ga satur element variabl idinjection_production_eg class boundari term advectiondiffus equat theoret background concern boundari flux develop section initi part present gener specif porou flow variabl u may repres temperatur fluid mass massdensti speci numberdens speci etc flux quantifi unit depend physic mean u u temperatur flux unit js u fluid mass flux unit kg etc sake argument u refer fluid discuss advect equat advect equat u beginequ fracparti uparti nabla mathbfv u endequ veloc field mathbfv advect u mean u follow streamlin mathbfv weak form equat read beginequ labeleqadv_eqn_weak int_omegapsi fracparti uparti int_omeganablapsicdotmathbfvu int_partialomegapsi mathbfncdotmathbfvu endequ moos input file second term typic repres conservativeadvectionconservativeadvectionmd kernel final term flux surfac partialomega repres outflow inflow bc flux area beginequ mathrmflux_mathrmout int_a mathbfncdotmathbfv u endequ mathbfn outward normal arbitrari intern area equat alway correct boundari simul flux dictat boundari condit use variou common boundari condit sake argument imagin partialomega outsid boundari moos numer model mathbfncdotmathbfv fluid move numer model boundari toward outsid model bc use term system equat remov fluid boundari fluid allow model partialomega fluid build boundari even though mathrmflux_mathrmout u zero boundari mathbfncdotmathbfv fluid move numer model boundari toward outsid model outflow bc exactli final term eqadv_eqn_weak remov fluid partialomega exactli rate specifi advect equat free boundari invis simul mathbfncdotmathbfv fluid move outsid model boundari model howev bc use fluid enter domain partialomega u reduc mathbfncdotmathbfv fluid move outsid model boundari model inflow bc exactli last term eqadv_eqn_weak uu_b fix may use specifi inject rate boundari u_b unit kgsm diffus equat diffus equat u repres temperatur fluid mass massdens speci etc beginequ fracparti uparti nabla nabla u endequ weak form beginequ labeleqdiff_eqn_weak int_omegapsi dotu int_omeganablapsicdot dnabla u int_partialomegapsi mathbfncdot dnabla u endequ second typic repres moos use diffusionsourcekernelsdiffusionmd kernel last term diffusionfluxbcdiffusionfluxbcmd bc assum di last term flux kg js whatev appropri unit associ u area partialomega flux arbitrari area beginequ mathrmflux_mathrmout int_a mathbfncdot dnabla u endequ mathbfn outward normal arbitrari intern area equat alway correct boundari simul flux dictat boundari condit use inclus bc u moos input file specifi someth flux boundari exampl neumannbcsourcebcsneumannbcmd simpli add constant valu kgsm residu integr boundari ad constant valu correspond ad constant flux fluid moos find solut mathbfncdot dnabla u h valu flux domain neg outgo flux mention use bc partialomega mean boundari term eqdiff_eqn_weak fluid get remov boundari imperm moos find solut mathbfncdot dnabla u use dirichletbcsourcebcsdirichletbcmd fix u boundari physic interpret extern sourc sink provid remov fluid correct rate u remain fix use diffusionfluxbcdiffusionfluxbcmd remov fluid exactli rate specifi diffus equat assum di otherwis extens diffusionfluxbc class need encod moos boundari condit free boundari invis simul advectiondiffus equat advectiondiffus equat u repres temperatur fluid mass massdens speci etc combin beginequ fracparti uparti nabla nabla u mathbfvu endequ weak form beginequ labeleqdiff_adv_eqn_weak int_omegapsi dotu int_omeganablapsicdot dnabla u mathbfvu int_partialomegapsi mathbfncdot dnabla u mathbfvu endequ flux kg js whatev appropri unit associ u area beginequ mathrmflux_mathrmout int_a mathbfncdot left dnabla u mathbfvuright endequ mathbfn outward normal inclus bc u moos input file specifi someth flux boundari exampl use bc mean final term eqdiff_adv_eqn_weak miss system equat moos solv mean fluid enter exit domain boundari boundari imperm fluid pile boundari mathbfv attempt blow fluid boundari mathbfncdotmathbfv convers fluid deplet boundari mathbfv attempt blow fluid boundari model domain mathbfncdotmathbfv neumannbcsourcebcsneumannbcmd add constant valu kgsm residu integr boundari ad constant valu correspond ad constant flux fluid moos find solut mathbfncdot dnabla u mathbfvu h valu h flux domain neg outgo flux mention use outflowbc togeth diffusionfluxbcdiffusionfluxbcmd remov fluid partialomega exactli rate specifi advectiondiffus equat free boundari invis simul porousflow mass flux govern equationgoverning_equationsmd mass conserv fluid speci kappa beginequ fracparti mkappaparti mkappanablacdotmathbf v_ nablacdot mathbffkappa lambda mkappa phi i_mathrmchem qkappa endequ standard porousflow nomenclatureporous_flownomenclaturemd use weak form beginequ labeleqnpfmassfluxweak int_omegapsi dotmkappa int_omegapsi left mkappanablacdotmathbf v_ lambda mkappa phi i_mathrmchem qkappa right int_omeganablapsicdot mathbffkappa int_partialomegapsi mathbf ncdot mathbffkappa endequ flux speci kappa arbitrari area beginequ mathrmflux_mathrmout int_a mathbfncdotmathbffkappa endequ si unit kg inclus bc porepressur mass fraction moos input file specifi someth flux boundari use bc mean final term eqnpfmassfluxweak miss system equat moos solv word zero henc fluid enter exit domain boundari boundari imperm moos find solut mathbfncdotmathbffkappa neumannbcsourcebcsneumannbcmd add constant valu h kgsm residu integr boundari ad constant valu correspond ad constant flux fluid speci moos find solut mathbfncdot mathbffkappa h valu h flux domain neg outgo flux mention porousflowsinkporousflowsinkmd variant mention act way neumannbcneumannbcmd ad valu residu integr boundari therebi allow flux boundari specifi howev porousflowsinkporousflowsinkmd variant much flexibl neumannbc variant code moos framework prefer porousflow simul fix porepressur mass fraction dirichletbcdirichletbcmd also possibl correspond addingremov fluid speci keep porepressur mass fraction fix lead sever numer problem instanc tri remov fluid speci zero mass fraction dirichletbc use caution porousflow simul instead one porousflowsink variant usual use describ detail use porousflowoutflowbcporousflowoutflowbcmd remov fluid speci partialomega exactli rate specifi darci equat eqnpfmassfluxweak free boundari invis simul detail given porousflow heat flux govern equationgoverning_equationsmd heatenergi conserv beginequ fracpartialmathcaleparti mathcalenablacdotmathbf v_ nablacdot mathbfft nu phisigmamathrmeff_ijfracpartialparti tepsilon_ijmathrmplast qt endequ standard porousflow nomenclatureporous_flownomenclaturemd use weak form beginequ labeleqnpfheatfluxweak int_omegapsi dotmathcalekappa int_omegapsi left mathcalenablacdotmathbf v_ nu phisigmamathrmeff_ijfracpartialparti tepsilon_ijmathrmplast qt right int_omeganablapsicdot mathbfft int_partialomegapsi mathbf ncdot mathbfft endequ flux heat energi arbitrari area beginequ mathrmflux_mathrmout int_a mathbfncdotmathbfft endequ si unit js analog remark massflow case made concern possibl differ type bc class porousflowoutflowbc porousflowoutflowbcporousflowoutflowbcmd add follow term residu beginequ int_partialomegapsi mathbf ncdot mathbff endequ variou form mathbff may chosen discuss porousflowoutflowbc documentationporousflowoutflowbcmd bc remov fluid speci heat energi partialomega exactli rate specifi darci equat eqnpfmassfluxweak heat equat eqnpfheatfluxweak therefor bc use repres free boundari fluid heat freeli flow boundari invis simul alert note ensur normal vector point model otherwis flux wrong sign alert warn porousflowoutflowbc model interfac model empti space imagin model porousmedia pipe contain water porousflowoutflowbc model situat pipe end water flow empti space instead porousflowoutflowbc allow part pipe model water exit model continu freeli unmodel section pipe sens model boundari invis simul consequ sink model section porousflowoutflowbc allow water flow unmodel section model section alert note rate outflow limit permeabl viscos fluid etc exactli way darci veloc limit quantiti mean instanc inject lot fluid heat model take porousflowoutflowbc time suck exampl phase model exampl similar phase model employ set porousflowpiecewiselinearsinksporousflowpiecewiselinearsinkmd describ consid phase flow along line time water co_ inject left boundari right boundari two porousflowoutflowbcsporousflowoutflowbcmd exampl two fluid compon fluid compon water fluid compon co_ two phase phase liquid phase ga water compon exist liquid phase co_ compon exist gaseou phase fluid immisc variabl water ga porepressur list modulesporous_flowtesttestssinksinjection_production_eg_outflowbci startvari endkernel pwater variabl associ water compon pga variabl associ co_ compon list modulesporous_flowtesttestssinksinjection_production_eg_outflowbci startkernel enduserobject remaind input file pretti standard save import bc block seen water inject rate gs co_ rate gs water co_ allow freeli exit model use porousflowoutflowbcsporousflowoutflowbcmd list modulesporous_flowtesttestssinksinjection_production_eg_outflowbci blockbc outflow rate plot ip_outflowbc seen asymptot valu correct media sinksip_outflowbcpng stylewidthmarginautopaddingtop idip_outflowbc captionmass flow rate twophas model contain gs sourc water gs sourc ga well porousflowoutflowbc boundari condit allow fluid freeli exit model mass lump page part set page devot discuss numer stabil porousflow see numer stabil lead pagestabilizationmd mass lumpingmass_lumpingmd full upwindingupwindingmd kuzminturek stabilizationktmd numer diffusionnumerical_diffusionmd work exampl kuzminturek stabilizationkt_workedmd page describ mass lump ad complic mechanicallycoupl system involv mesh deform anoth pageporous_flowtime_derivativemd describ numer implement case consid fluidflow equat heatenergi equat analog timederiv term discretis beginequ labeleqlump_begin psi fracmkappa mkappa_mathrmoldmathrmdt endequ psi test function integr altern discretis would psiphisrhodotp singlephas situat eqlump_begin conserv mass effect altern standard finiteel scheme mkappa individu part poros satur etc evalu quadratur point howev porousflow everyth time deriv evalu node specif mkappa node depend independ variabl node shown mani studi lump advantag mass conserv reduc spuriou oscil pressur around sharp front citepcelia caus oscil around sharp front mass lump remov oscil illustr simpl exampl media mediaporous_flowmass_lumpingpng stylewidthmarginleftpx idfigmass_lump captiontwo element length l linear lagrang shapetest function node shown red s_ node s_ node s_ node graviti act direct z gauss point shown green consid situat figmass_lump suppos node high potenti node residu satur rel permeabl zero fluid flow node node node next time step simplic imagin fluid mass linear function potenti constant discretis massconserv equat without mass lump read beginequ left beginarrayccc endarray right left beginarrayc dotm_ dotm_ dotm_ endarray right left beginarrayc endarray right endequ matrix lh come perform numer integr two element note diagon integr element depend mass two node rh encod fluid flow node fluid flow node node import point solut set equat beginequ dotm_ endequ mean finit element solut massconserv equat oscillatori around front howev mass lump matrix equat becom diagon solut dotm_ explicitli contribut residu node beginequ sum_mathrmqppsi_amathrmqp fracm_akappa mkappa_a mathrmoldmathrmd endequ evalu node use independ nonlinear variabl evalu node qp quadpoint one small complic poros may depend volumetr strain depend gradient displac variabl evalu quadpoint node case poros node assum depend volumetr strain evalu closest quadpoint node bibtex bibliographi flow explicitli fractur medium flow fractur network philipp schdle andi wilkin anozi ebigbo martin saar page describ simul flow porou medium contain explicit fractur case fractur incorpor porousmedia mesh mean fullyimplicit timestep porousflow full jacobian possibl result superior numer perform anoth pageporous_flowmultiapp_fracture_flow_introductionmd describ case fractur network complic must mesh separ multiapp approach must use exampl file flow_through_fractured_mediahttpsgithubcomidaholabmooseblobmastermodulesporous_flowexamplesflow_through_fractured_media also nonporousflow documentationhttpsgithubcomidaholabmooseblobmastermodulesmiscdocfracture_flow introduct porousflow modul may use simul flow fluid heat medium contain explicit fractur may perform two way simul may use mesh contain thin element repres fractur usual thin fractur element part separ block mesh appropri poros permeabl prescrib special inputfil magic need perform remark hold mesh contain thin element repres fractur simul may use mesh contain element repres fractur cours slightli numer effici aforement method importantli mesh usual easier creat exampl concentr method similar remark hold mesh contain element method valid flow across fractur quick compar flow bulk instanc method valid highli conduct fractur suitabl model aquitard fractur prevent fluid move across fluidheat move direct normal fractur even see fracur overview mixeddimension method present along verif result solut transport along singl fractur embed porou matrix import remark concern retard effect porou matrix also made ident method may use simul flow fractur network ie element without bulk element mesh key aspect formul present mesh mixeddimension conform mesh mesh need gener lowerdimension fractur element share node porousmatrix element node comput variabl take singl valu node physic connect subdomain real fractur materi good mesh may difficult creat complic intersect mani differ fractur meshdetailfig show exampl requir configur conform mesh differ subdomain media mediaporous_flowmixeddimensionalmeshpng stylewidthpaddingleftpx idmeshdetailfig captiona mesh use moos mixeddimension conform mesh contain element b explod view node n_ n_ n_ need share three domain creat mesh case element embed porou matrix element need quad trishel element connect element exampl journal file coarse_dj case element embed porou matrix element need bar element connect quad tri element exampl journal file coarsej case isol fractur network mesh need consist quad tri element fractur bar element fractur creat mesh fractur element type trishel treliscubit mesh treliscubit might chang element type trishel tri howev treliscubit keep correct element side gener trishel element certainli due bug treliscubit version big deal long user awar element type produc exodu mesh file need modifi manual shell script modif_trishell_exodus_filesh exampl folder might use final fractur element need part separ subdomain block actual requir exodu format importantli allow permeabl poros heat conduct etc correctli prescrib exampl model consist domain singl fractur embed porou matrix materi properti second aspect mixeddimension method prescrib appropri materi properti permeabl poros conduct etc fractur block although detail may seem daunt conclus simpl multipli experiment measur fractur permeabl poros etc fractur apertur enter number input file residu consid moos residu singl element correspond time deriv fluid mass beginequ r_ int_v fracpartialparti phirho endequ equat r_ residu subscript indic residu come element v volum element notat detail nomenclatureporous_flownomenclaturemd similarli consid moos residu singl element correspond time deriv fluid mass beginequ r_ int_a fracpartialparti tildephirho endequ tildephi use emphasis poros necessarili poros phi construct overal nonlinear residu moos sum residu individu element ie moos sum r_ r_ poros tildephi must chosen correctli contribut r_ weight appropri think element thin element assum depend third direct appropri element thin residu thin element beginequ r_ int_a fracpartialparti phirho endequ thick third direct want ident r_ immedi impli beginequ tildephi aphi endequ similar argument may made fluid flow heat flow kernel porousflow inde entir pde result equat beginequ tildek_ij k_ij endequ k permeabl tensor tilder paramet valu use moos input file materi properti block associ element exampl instanc suppos sampl fractur experiment measur poros phi perhap fractur sandfil planar inclus granit rock mass instanc obvious result sinc exist real life suppos fractur known thick fractur repres element moos given poros tildephi time unit metr relationship fractur formula cubic law known fluid flow pair imperm parallel plate may wellapproxim darci flow effect medium permeabl k separ plate setup fluid flow unimped obstruct similar thing parallel plate parallel plate includ effect medium simpli slab materi permeabl effect medium may repres element moos simul usual way set permeabl input file relat formula present well user may set ka would appropri fractur well approxim parallel plate assum fratur model element mesh use formula tildekak prescrib permeabl fractur probabl along phi impli tildephia user dont strictli _need_ k deem appropri may use valu deriv experiment data measur real experi perform materi fractur made valu unlik depend dictat materi present within fractur eg sand assum present deriv formula verif mesh use verif approach two differ simul run two differ mesh bulk porou materi first simul fractur geometr repres element thick correspond apertur fractur refer case lowerdimension fractur case compar second simul fractur model lowerdimension element discret along fractur similar case discret porou matrix perpendicular fractur increas logarithm similar model meshfig show closeup region near fractur two differ mesh result two simul compar verif media mediaporous_flowfracture_zoom_finepng stylewidthmarginleftpx captioncloseup area near fractur red porou matrix blue repres two mesh fractur repres element whose height correspond apertur fractur b fractur repres element embed bulk element idmeshfig problem descript singlephas fluid flow transport one solut though fractur adjac porou matrix simul porou matrix assum low permeabl transport matrix mainli diffus steadyst flow equat solv obtain pressur field follow transient simul transport solut dirichlet boundari condit appli pressur solut mass fraction left right end fractur pressur differ mpa result laminar fluid flow right left similarli mass fraction right boundari left boundari dimens model along fractur perpendicular fractur fractur case assum fractur apertur constant within fractur element henc order account miss dimens mass balanc equat multipli apertur realiz moos input file multipli paramet fractur poros fractur permeabl apertur describ materi propertiesmaterialproperti permeabl fractur calcul function apertur use cubic law beginequ k_textffraca endequ remain relev input paramet tabul parametert tabl idparametert captioninput paramet paramet case fractur case fractur apertur time time permeabl fractur k_textf time tildek_textf ak_textf time permeabl matrix k_textm k_textm poros fractur phi_textf tildephi_textf aphi_textf time poros matrix phi_textm phi_textm tortuos fractur tortuos matrix diffus coeffici ms ms import part mixeddimension input file list modulesporous_flowexamplesflow_through_fractured_mediafine_transienti startpermeability_fractur endfunct list modulesporous_flowexamplesflow_through_fractured_mediafine_transienti startporo_fractur enddiff auxkernel given alter input paramet account lowerdimension domain import take care calcul veloc use porousflow auxkernel porousflowdarcyvelocitycomponentlowerdimensionalporousflowdarcyvelocitycomponentlowerdimensionalmd auxkernel use correct gravit vector lowerdimension domain howev veloc calcul auxkernel unit ms apertur provid auxkernel apertur need suppli bulk darci veloc comput porousflowdarcyvelocitycomponentporousflowdarcyvelocitycomponentmd also note veloc seen observ watch tracer move medium obtain veloc bulk darci veloc must divid poros fractur darci veloc must divid phi_textf tildephi_textf apertur provid porousflowdarcyvelocitycomponentlowerdimensionalporousflowdarcyvelocitycomponentlowerdimensionalmd final import note veloc auxvari defin fractur domain familymonomi orderconst order display accur veloc use paraview follow mixeddimension inputfil block defin darci veloc lowerdimension fractur result unit ms list modulesporous_flowexamplesflow_through_fractured_mediafine_transienti startauxvari endic result resultfig resultfig show result solutetransport problem advect solut shown well penetr porou matrix result ident two differ mesh demonstr correct mixeddimension approach media mediaporous_flowfracture_flow_result_sum_contour___png stylewidthmarginleftpx captionmass fraction along fractur first second simul idresultfig media mediaporous_flowfracture_flow_result_sum_contour___png stylewidthmarginleftpx captionmass fraction perpendicular fractur locat inject point hour simul idresultfig exampl ident method may use simul flow exampl mesh input file may found flow_through_fractured_mediahttpsgithubcomidaholabmooseblobmastermodulesporous_flowexamplesflow_through_fractured_media two intersect elipt fractur embed porou materi porepressur gradient establish tracer inject edg one fractur tracer flow mainli along fractur diffus littl bulk materi d_pic show result one time d_anim show anim tracer concentr media mediaporous_flowfracture_flow_dpng stylewidthmarginleftpx captiontrac mass fraction red mean high two intersect fractur contain porou medium idd_pic media porous_flowfracture_flow_dgif stylewidthmarginleftpx captiontrac mass fraction fractur time progress idd_anim retard flow matrix result demonstr thin fractur may repres accur fractur provid fractur poros permeabl etc scale apertur result method result actual accur section demonstr neighbour porou matrix block retard effect fluidheat flow effect limit porousflow even moos simpli consequ way finiteel solver work instead use porousflow consid simpler heat equat beginequ dott alpha nablat endequ alpha diffus assum constant differ matrix fractur model studi model contain singl fractur three mesh use shown retard_mesh_fig media mediaporous_flowfracture_flow_diffusion_meshpng stylewidthmarginleftpx captionth mesh use diffus simul mesh consist central thin fractur surround larg coarselymesh matrix top mesh fractur width mesh element matrix element second mesh zoom third mesh b fractur width mesh element matrix element fourth mesh b zoom fifth mesh c fractur width mesh element matrix element bottom mesh c zoom idretard_mesh_fig temperatur initi zero fix left side fractur fractur diffus matrix diffus zero mean heat flow fractur toward righthandsid model input file use mesh list modulesporous_flowexamplesflow_through_fractured_mediadiffusioni result time simul shown retard_mesh_result_fig evid mesh mesh b give result discretis fractur make differ howev temperatur diffus much faster fractur use mesh c media mediaporous_flowfracture_flow_diffusion_resultpng stylewidthmarginleftpx captionresult diffus experi use differ mesh top use mesh second use mesh b bottom use mesh c idretard_mesh_result_fig reason follow heat flow system fractur left side mesh fill node top bottom fractur nodal volum node contain contribut matrix element join nodal volum node mesh b quit larg compar mesh c henc heat energi need rais temperatur mean temperatur chang slowli mesh b compar mesh c call retard flow matrix real physic effect due coars resolut matrix although section concentr simpl diffus equat numer stabilizationstabilizationmd exactli phenomenom occur porousflow simul user may need awar composit flash calcul miscibl flow model avail porousflow use composit flash determin amount fluid phase present given set persist primari variabl use rachfordric equat citeprachfordric beginequ labeleqrr sum_i fracz_i k_i v k_i endequ z_i total mass fraction fluid compon sum fluid phase beginequ z_i fracsum_alpha s_alpha rho_alpha x_alphaisum_alpha s_alpha rho_alpha endequ k_i equilibrium constant beginequ k_i fracy_ix_i endequ relat mass fraction fluid compon ga phase y_i mass fraction liquid phase x_i v mass fraction fluid ga phase twophas model beginequ v fracs_g rho_gs_g rho_g s_l rho_l endequ s_g s_l satur ga liquid phase respect rho_g rho_l densiti ga liquid phase respect rachfordric equat eqrr solv v unknown ga satur calcul rachfordric equat solv analyt case two fluid compon wherebi v beginequ v fracz_i k_ k_ k_ k_ k_ endequ case two fluid compon howev eqrr must solv numer fortun rachfordric equat nice numer properti eqrr monoton vari v numer solut requir iter therefor numer inexpens vapor mass fraction v calcul mass fraction fluid compon phase calcul beginequ x_i fracz_ik_i v quad y_i fracz_i k_ik_i v endequ bibtex bibliographi nomenclatur tabl idtablenot captionlist variabl paramet use document symbol unit physic descript akappa kgkg mass absorb speci kappa per mass rock grain materi mathcalai_beta symbol chemic speci phase beta a_m ml specif reactiv surfac area miner alpha_bet longitudion dispers phase beta alpha_betat transvers dispers phase beta alpha_b dimensionless biot coeffici alpha_b dimensionless biot coeffici multipli porepressur term poros usual equal alpha_b may neqalpha_b fractureflow alpha_f k volumetr coeffici thermal expans fluid alpha_t k volumetr coeffici thermal expans drain porou skeleton ie porou rock without fluid fluid free move rock mathbf b ms extern forc densiti act porou solid could gravit acceler loaddens platten beta dimensionless index repres phase exampl beta might parameteris liquid beta ga beta napl beta c_r jkgk specif heat capac rock grain c_ijkl pa drain complianc tensor porou solid ie invers e_ijkl c_betai mole per litr concentr speci c_v jkgk fluid specif heat capac constant volum c_p jkgk fluid specif heat capac constant pressur chi_betakappa kgkg mass fraction compon kappa present phase beta mathcald_betakappa ms fluid dispers tensor speci kappa phase beta d_betalkappa ms longitudion dispers coeffici speci kappa phase beta d_betatkappa ms transvers dispers coeffici speci kappa phase beta d_betakappa ms molecular diffus coeffici compon kappa phase beta delta_l beta dimenionless kroneck delta uniti betal els zero mathcal jm energi densiti rockfluid system mathcale_beta jkg intern energi fluid phase beta epsilon_ij dimensionless strain tensor porou solid nabla_ku_l nabla_lu_k epsilonmathrmelastic_ij dimensionless elast strain tensor porou solid total strain epsilon epsilonmathrmelast epsilonmathrmplast epsilonmathrmplastic_ij dimensionless plastic strain tensor porou solid total strain epsilon epsilonmathrmelast epsilonmathrmplast eta dimensionless expon rate express e_ijkl pa drain elast tensor porou skeleton ie enter stressstrain relat fluid allow freeli drain skeleton skeleton dri phi dimensionless poros solid phi_m dimensionless volum fraction miner solid mathbff kgsm fluid flux sum advect darci flux diffusiveanddispers flux mathbfft jsm heat flux sum heat conduct rockfluid system convect fluid mathbf g ms acceler due graviti vector point downward eg gamma_betai dimensionless activ coeffici speci phase beta h_beta jkg specif enthalpi fluid phase beta h_kappa pa henri coeffici speci kappa describ solubl speci aqueou phase i_m moll miner reaction rate i_mathrmchem kgm chemic precipit dissolut rate kappa dimensionless index repres speci exampl kappa might parameteris water kappa air kappa h_ kappa parameteris thing decompos speci chang phase instanc sometim might appropri consid air singl speci time might appropri consid mixtur nitrogen oxygen kappa kappa say k permeabl tensor rock k_mathrmrbeta dimensionless rel permeabl phase beta nonlinear function independ variabl often function phase satur klinkenberg effect function ga pressur singlephas fullysatur case uniti k pa bulk modulu drain porou skeleton anisotrop situat k delta_ijdelta_klc_ijkl k_betai depend reaction equilibrium constant secondari speci phase beta k_f pa bulk modulu fluid k_m molm miner rate constant lambda radioact decay rate fluid speci lambda jsmk thermal conduct rockfluid system jsmk kgmsk tensori quantiti allow model anisotrop situat function rock fluidphas thermal conduct lambda_dri jsmk thermal conduct rockfluid system aqueou phase satur zero lambda_wet jsmk thermal conduct rockfluid system aqueou phase satur uniti kgm mass densiti mu pa dynam viscos measur pa kgm nonlinear function independ variabl nu dimensionless fraction plasticdeform energi becom heat energi probabl nu correct nuij_beta dimensionless stoichiometr coeffici basi speci j equilibrium reaction secondari speci j nabla spatial differenti oper omega_m dimensionless miner satur ratio p pa fluid porepressur p_f pa measur porepressur use effect stress often chosen sum_betas_betap_beta p_l pa langmuir pressur phi_betaj mole per litr total concentr basi speci j phase beta q kgm fluid sourc qj moll sourc chemic speci qt jm heat sourc rho kgm fluid densiti rho_r kgm grain densiti rock phirho_r densiti dri porou rock rho_mathrmmat kgm massdens fluidfil porou solid rho_mathrmmat phirhor phisum_betas_betarho_beta rho_l kgm langmuir densiti dimensionless satur s_l dimensionless satur aqueou phase sigmamathrmtot_ij pa total stress extern appli mechan forc creat nonzero sigmamathrmtot convers resolv sigmamathrmtot forc yield forc node finiteel mesh sigmamathrmeff_ij pa effect stress time k temperatur tau_tau_beta dimensionless phase tortuos includ porousmedium depend factor tau_ coeffici tau_betatau_betas_beta tau_l langmuir desorpt time constant theta dimensionless expon rate express mathbfu ms deform vector porou solid mathbfv ms darci veloc volum flux mathbfv_ ms veloc solid partial mathbfuparti mathbfu solid mechan displac vector porou solid overlinev_m lmol molar volum flow fractur porou media porousflow use simul flow fluid heat porou medium contain explicit fractur two method explain fractur incorpor porousmedia meshporous_flownomultiapp_flow_through_fractured_mediamd prefer method sinc fullyimplicit timestep porousflow full jacobian calcul provid uncondit stabil rapid converg fractur network complic must mesh separ porousmedia meshporous_flowmultiapp_fracture_flow_introductionmd method use multiapp typic suffer inferior numer perform compar previou frequent practic method startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md porou flow tutori page numer issu tutori page discuss number numer issu involv simpl model present page porous_flowtutorial_md your realli interest model numer mathemat rubbish unfortun run porousflow effect user must keenli awar numer issu use discuss full simpl set newton nonlinear solv mani user moos use pjfnk method recommend porousflow instead full newton solv recommend implement solve_typ newton execution block list modulesporous_flowexamplestutoriali startexecution endoutput mean moos use newtonraphson method see wikipedia solv system equat gener de jacobian use method deriv residu de respect variabl porepressur exampl much porousflow code devot comput jacobian precis user strongli encourag use typic improv converg speed order magnitud although simpl exampl tutori page linear problem actual make littl differ use solve_typ newton overal solv strategi form residu comput de use current variabl nonlinear toler check see solut found follow step taken form jacobian matrix comput deriv de respect variabl evalu use current variabl invert jacobian matrix linear solv may iter process depend flag provid petsc deem success certain linear toler met use invert jacobian updat current variabl employ newtonraphson method complet one nonlinear iter anoth nonlinear iter start first step two difficulti commonli encount petsc find difficult invert jacobian ie linear solv fail take thousand iter final converg almost definit mean stronger precondition need mani nonlinear iter need timestep usual simul highli nonlinear sometim simpli bad often due difficult numer situationsnonlinear_convergence_problemsmd fix care analysi nonlinear solv dictat variabl simpl exampl porousflowdict isnt built explicitli sinc built intern porousflowbasicthm action howev mani input file see someth like list modulesporous_flowtesttestsenergy_conservationheati startdict endpc porousflowdict given name dictat number fluid phase fluid compon specifi porous_flow_var specifi porousflow variabl deriv respect variabl enter jacobian deriv respect variabl comput therefor strongli recommend variabl enter porous_flow_var unless good reason comput deriv respect particular variabl precondit linear solv nonlinear iter moos slowli converg solut given timestep linear solv must perform invert jacobian often porousflow simul jacobian quit ill condit strong precondion need typic one two choic made list modulesporous_flowexamplestutoriali startprecondit endexecution remark found precondit solversporous_flowsolversmd porousflow test exampl use altern precondition user struggl converg linear solv may like explor two method shown work nice case simpl exampl studi page precondit make littl differ fullscal nonlinear porousflow simul decreas increas solv time order magnitud linear nonlinear toler detail discuss set nonlinear toler may found converg criteriaporous_flowconvergencemd singlephas simul tutori chapter residu beginequ r approx vkappaepsilon mu approx vepsilon endequ miss factor rho_ formula converg criteriaporous_flowconvergencemd de solv thie page multipli densiti unusu porousflow v volum interest region model epsilon toler error nabla p suppos interest region time time surround borehol toler error pam yield rapprox provid rough estim nonlinear residu execution block list modulesporous_flowexamplestutoriali startexecution endoutput numer stabil care reader notic simul porepressur fall initi valu look scale result anim shown previou pageporous_flowtutorial_md complet unphys pure numer issu occur simplemind finiteel finitediffer simul discuss numer stabilizationporous_flowstabilizationmd page later tutori page numer stabil employ sinc default porousflow let us ignor issu startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md porousflowdict porousflowdictatorporousflowdictatormd userobject hold inform nonlinear variabl use porousflow modul well number fluid phase fluid compon simul porousflow object kernel materi queri porousflowdict make sure valid fluid compon phase use alert note porousflowdict must present simul fractur flow use multiapp approach primer background porousflow use simul flow fractur porou media case fractur network complic incorpor porousmedia mesh fundament premis fractur consid lower dimension entiti within higherdimension porou media page part set describ moos multiapp approach simul model introductionmultiapp_fracture_flow_introductionmd mathemat physic interpretationmultiapp_fracture_flow_equationsmd transfersmultiapp_fracture_flow_transfersmd multiapp primermultiapp_fracture_flow_primermd diffus equat fractur quantifi error introduc multiapp approach diffus mix dimensionsmultiapp_fracture_flow_diffusionmd porou flow singl matrix systemmultiapp_fracture_flow_porousflow_dmd porou flow small fractur networkmultiapp_fracture_flow_porousflow_dmd primer use diffus equat fractur consid porou flow mixeddimension fracturematrix system consid simpler situat involv two coupl diffus equat henc fractur matrix section label f simpli distinguish two differ variabl dimension one dimension assum physic paramet chosen appropri see page desrib mathemat physic heat transfermultiapp_fracture_flow_equationsmd beginequ beginalign dott_f nablat_f ht_f t_m dott_m nablat_m ht_m t_f endalign endequ import numer valu h use formula otherwis heat energi would conserv system section assum boundari condit beginequ t_fx pminfti t_mx pminfti endequ initi condit beginequ beginalign t_ft deltax t_mt endalign endequ delta dirac delta function condit make analyt solut easi deriv physic system repres situat t_f system initi provid unit heat energi x heat energi allow dispers diffus transfer t_m system also dispers deriv solut sum two govern equat yield standard diffus equat may solv use fundament solutionhttpsenwikipediaorgwikiheat_equ differ yield diffus equat augment decay term final result beginequ beginalign labeleqnanalyticalpuls t_ft x frac ehtsqrtpi texpleftfracxtright t_mt x frac ehtsqrtpi texpleftfracxtright endalign endequ singl variabl heat transfer h system becom decoupl heat transfer fractur matrix solut t_m t_f given fundament solut may solv moos without multiapp system use follow input file list diffusion_multiappsingle_vari result depend spatial tempor discretis temporaldiscretis depend t_f shown diffusion_single_var media porous_flowexamplesmultiapp_flowdiffusion_single_varpng stylewidthmarginautopaddingtop iddiffusion_single_var captiondecoupl case fractur temperatur comparison analyt solut moos result comput use multiapp two coupl variabl multiapp system coupl hneq multiapp approach strictli need case mesh problem domain real line henc system may solv moos use follow input file list diffusion_multiapptwo_varsi result t_f depend spatial tempor discretis temporaldiscretis depend shown diffusion_two_var notic matrix remov heat fractur temperatur decreas compar h case ie t_fxapprox diffusion_two_var lower uncoulpl case h shown diffusion_single_var t_fxapprox media porous_flowexamplesmultiapp_flowdiffusion_two_varspng stylewidthmarginautopaddingtop iddiffusion_two_var captioncoupl case fractur temperatur comparison analyt solut moos result comput use multiapp multiapp approach use multiapp approach hneq case yield similar result multiapp methodolog use throughout set page follow one timestep involv one timestep fractur physic solv hold matrix variabl fix transfer fractur system matrix system perform one timestep matrix system solv hold fractur variabl fix transfer matrix system fractur system perform upon reflect reader realis mani potenti way actual implement case hand fractur physic t_f govern main app matrix physic t_m sub app hand page describ diffus mix dimensionsmultiapp_fracture_flow_diffusionmd porousflow model dmultiapp_fracture_flow_porousflow_dmd dmultiapp_fracture_flow_porousflow_dmd matrix physic control main app fractur sub app latter approach probabl advantag situat easili allow fractur app take smaller timestep alert note multiapp approach typic break uncondit stabil moos implicit timestep scheme see discuss end page transfer heat energi heat multiapp order conserv heat energi follow approach may use one timestep fractur app solv hold t_m fix use porousflowheatmasstransferporousflowheatmasstransfermd kernel implement ht_f t_m term record heat lost matrix ht_f t_m auxvari heat lost matrix transfer matrix app one timestep matrix system solv use coupledforc kernel inject heat gain fractur node result t_m transfer fractur app implement use follow auxkernel fractur app list diffusion_multiappfracture_app_heati blockauxkernel along follow transfer list diffusion_multiappfracture_app_heati blocktransf kernel matrix app list diffusion_multiappmatrix_app_heati startfromfrac end coupl subtleti coupledforc kernel smooth nodal heat_to_matrix auxvari sinc use quadpoint valu save_in employ frac_app_heati input file porousflowheatmasstransferporousflowheatmasstransfermd kernel sinc would includ nodal volum inclus nodal volum exactli requir diffusionporous_flowmultiapp_fracture_flow_diffusionmd dporous_flowmultiapp_fracture_flow_porousflow_dmd dporous_flowmultiapp_fracture_flow_porousflow_dmd case sinc amount heat energi measur joul transfer app case current situat coupledforc requir energi densiti measur joulesm result shown fracture_app_heat media porous_flowexamplesmultiapp_flowfracture_app_heatpng stylewidthmarginautopaddingtop idfracture_app_heat captioncoupl case comparison analyt solut moos result comput use heat multiapp transfer temperatur multiapp altern approach transfer t_m t_f one timestep fractur app solv hold t_m fix use porousflowheatmasstransferporousflowheatmasstransfermd kernel implement ht_f t_m term result t_f transfer matrix app one timestep matrix system solv hold t_f fix use porousflowheatmasstransferporousflowheatmasstransfermd kernel implement ht_f t_m term use h fractur app result t_m transfer fractur app disadvantag approach doesnt conserv heat energi howev advantag origin differenti equat clearli evid given error use multiapp delta irrespect type transfer implement nonconserv heat energi also proport delta probabl critic import idea implement use follow kernel fractur app list diffusion_multiappfracture_appi starttomatrix end along follow transfer list diffusion_multiappfracture_appi blocktransf kernel matrix app list diffusion_multiappmatrix_appi startfromfrac end result shown fracture_app media porous_flowexamplesmultiapp_flowfracture_apppng stylewidthmarginautopaddingtop idfracture_app captioncoupl case comparison analyt solut moos result comput use multiapp error approach l error approach squareroot sum squar differ moos result analyt result plot diffusion_l_error error similar model explor section magnitud error larg unimport scale timestep size crucial case follow expect firstord resulthttpswebmiteduwebcourse_notesdifferential_equations_notesnodehtml beginequ mathrml error propto mathrmdt endequ media porous_flowexamplesmultiapp_flowdiffusion_l_errorpng stylewidthmarginautopaddingtop iddiffusion_l_error captionl error approach function timestep size final remark stabil one aspect captur analysi stabil nonmultiapp approach heat transfer coupl multiapp use fullyimplicit timestep uncondit stabl convers multiapp approach break uncondit stabil could import porousflow applic instanc matrix temperatur frozen fractur app solv larg timestep taken matrix app allow evolv would lead huge unphys heat loss matrix system fractur temperatur could reduc matrix temperatur fractur evolut matrix temperatur could rise significantli evolut receiv larg quantiti heat fractur oscil unlik becom unstabl clearli unphys aquif thermal energi storag materi page base citetsheldon introduct aquif thermal energi storag ate system use resid groundwat subsurfac aquif store heat energi citepfleuchau basic premis ate water produc aquif thermal energi extern sourc eg excess renew energi industri wast heat transfer water hot water reinject aquif store need need hot water produc energi extract process revers enabl cool durat ate cycl rang hour month depend intend use energi exampl store excess solar energi day extract use night daili cycl common case store excess heat energi warmer month extract use colder month annual cycl ate system use address energi storag challeng aris intermitt natur renew energi sourc mani ate system oper current viabil depend crucial recoveri effici r ratio heat energi extract heat energi inject imposs extract inject heat ate system due heat loss caus conduct convect r beginequ r fracoverlineh_mathrmp h_mathrmambh_mathrmi h_mathrmamb approx fracoverlinet_mathrmp t_mathrmambt_mathrmi t_mathrmamb endequ h denot enthalpi temperatur subscript p indic produc retriev aquif amb indic ambient indic inject instanc ambient aquif temperatur t_mathrmamb circc inject temperatur t_i circc r averag produc temperatur overlinet_mathrmp approx circc r measur ate site estim use numer model numer model provid accur estim r function oper paramet inject temperatur rate aquif paramet permeabl thick depth estim use rapid screen potenti ate site indic site might might viabl purpos page describ moos model ate system goal predict r present result significantli background discuss discuss model approach result reader refer citetsheldon model setup model simul ate system compris singl injectionproduct well penetr horizont aquif thick five injectionproduct cycl simul cycl compris day inject storag product rest inject temperatur circmathrmc inject fluid mass kg singlewel system radial symmetri henc may simul use rz coordin list modulesporous_flowexamplesatesatesi blockproblem mean graviti act along usual thought direct list modulesporous_flowexamplesatesatesi blockglobalparam geometri shown ates_geometry_fig media porous_flowates_geometrypng captiongeometri radial slice ate model idates_geometry_fig exampl mesh creat use combin moos meshgener howev accur predict r reader encourag use sophist approach involv greater refin mesh close well screen one outlin citetsheldon list modulesporous_flowexamplesatesatesi blockmesh core physic handl porousflowfullysaturatedporousflowfullysaturatedmd action kuzminturek stabilizationktmd use minimis numer diffus temperatur front impact comput r list modulesporous_flowexamplesatesatesi blockporousflowfullysatur porepressur temperatur fix extrem model list modulesporous_flowexamplesatesatesi startouter_boundary_porepressur endinject_heat inject product heat borehol complic aspect input file boundari condit correspond inject fix temperatur constant rate fluid flux list modulesporous_flowexamplesatesatesi startinject_heat endproduce_heat boundari condit alway activ control use list modulesporous_flowexamplesatesatesi startinject_on endproduce_on conditional_funct list modulesporous_flowexamplesatesatesi startinject endproduc boundari condit correspond product withdraw fluid mass use porousflowsinksinksmd along correspond withdraw heat energi use_enthalpi flag set true list modulesporous_flowexamplesatesatesi startproduce_heat endcontrol control use similar control inject phase notic save_in heat withdraw record rate heat leav node find total rate heat loss unit jday nodalsumnodalsummd use list modulesporous_flowexamplesatesatesi startheat_out_frombc endheat_out_per_timestep may multipli timestep size find total heat withdrawn unit j timestep list modulesporous_flowexamplesatesatesi startheat_out_in_timestep endproduced_t_time_integr turn use calcul r cycl result ates_evolut show evolut temperatur first cycl exampl notic buoyancydriven convect caus hot water rise top aquif prime reason heat energi extract subsequ cycl aquif temperatur start slightli hotter ambient recoveri effici gradual increas cycl shown tabr media porous_flowates_evolutionmp captionevolut temperatur inject circc water aquif thick indic white horizont line annual cycl length idates_evolut tabl idtabr captionrecoveri effici cycl cycl cycl cycl cycl fractur flow use multiapp approach introduct porousflow use simul flow fractur porou media case fractur network complic incorpor porousmedia mesh fundament premis fractur consid lower dimension entiti within higherdimension porou media two consequ mesh often simplifi comput speed increas fractur provid barrier flow normal direct fact flow mass heat normal direct even see fractur move porou media certainli true fractur small width befit lowerdimension entiti flow fractur substanti faster flow porou media relat pageporous_flownomultiapp_flow_through_fractured_mediamd describ simul porou flow fractur porou media assum fractur incorpor directli mesh lower dimension element instanc fractur element insid matrix mesh unfortun realist fractur network complic geometri mesh difficult incorpor mesh directli higherdimension mesh almost imposs exampl file multiapp_fracture_flowhttpsgithubcomidaholabmooseblobmastermodulesporous_flowexamplesmultiapp_fracture_flow also nonporousflow documentationhttpsgithubcomidaholabmooseblobmastermodulesmiscdocfracture_flow follow set page illustr moos multiapp system may employ solv problem fractur mesh govern one app seper matrix mesh govern anoth app introductionmultiapp_fracture_flow_introductionmd mathemat physic interpretationmultiapp_fracture_flow_equationsmd transfersmultiapp_fracture_flow_transfersmd multiapp primermultiapp_fracture_flow_primermd diffus equat fractur quantifi error introduc multiapp approach diffus mix dimensionsmultiapp_fracture_flow_diffusionmd porou flow singl matrix systemmultiapp_fracture_flow_porousflow_dmd porou flow small fractur networkmultiapp_fracture_flow_porousflow_dmd alert note kuzminturekporous_flowktmd stabil typic use fractur flow multipl fractur element meet along singl finiteel edg fractur plane intersect perform reason libmesh assum one two element share edg prevent kt approach quantifi flow neighbor element prevent scheme work alert note multiapp approach typic break uncondit stabil moos implicit timestep scheme usual fractur physic frozen matrix physic evolv viceversa easili lead oscil timestep big restart recov previou simul moos provid sever option restart recoveringapplication_usagerestart_recovermd optionaltru previou simul exampl demonstr capabl use porousflow modul consid simpl twopart problem first establish hydrostat pressur gradient reservoir due graviti equilibrium state reservoir use initi condit porepressur second part problem ga inject reservoir singl inject well although problem simpl demonstr result previou simul use provid initi condit second simul model properti reservoir use model summar tabr pressur gradient repres reservoir depth approxim tabl idtabr captionreservoir properti properti valu height length pressur hydrostat mpa temperatur circc permeabl md poros nacl mass fraction methan inject rate kg rel permeabl aqueou phase repres coreyporousflowrelativepermeabilitycoreymd model expon n residu satur s_r ga phase rel permeabl also repres use coreyporousflowrelativepermeabilitycoreymd model expon n residu satur s_r capillari pressur given van genuchtenporousflowcapillarypressurevgmd model expon residu satur s_r graviti equilibrium hydrostat pressur gradient reservoir result graviti densiti resid brine pressur gradient calcul use fulli satur singlephas model rel coars mesh pressur gradient depend graviti develop vertic direct therefor model use twodimension cartesian mesh follow input file establish hydrostat equilibrium model provid list modulesporous_flowexamplesrestartgravityeqi exampl initi guess hydrostat equilibrium provid use function estim brine densiti given pressur temperatur approxim kgm list modulesporous_flowexamplesrestartgravityeqi blockfunct simul set run approxim year steadyst detect enabl end run steadyst solut found list modulesporous_flowexamplesrestartgravityeqi blockexecution input file quickli establish graviti equilibrium twelv time step hydrostat pressur gradient shown fighydrostatic_pressur media mediaporous_flowhydrostatic_pressurepng idfighydrostatic_pressur stylewidthmarginleftpx captionhydrostat pressur gradient graviti equilibrium basic restart result graviti equilibrium simul use initi condit complic simul case consid inject methan inject well twodimension radial model construct rotat mesh use graviti equilibrium run around yaxi contrast simpl graviti equilibrium model use twophas model initi condit liquid porepressur taken final result graviti equilibrium simul mesh ident case despit rotat yaxi use simpl variabl initialis avail moos input file case list modulesporous_flowexamplesrestartgas_injectioni input mesh problem output mesh graviti equilibrium simul uniformli refin increas spatial resolut translat horizont rotat yaxi form twodimension mesh inject well centr list modulesporous_flowexamplesrestartgas_injectioni blockmesh problem initi condit liquid porepressur read directli input mesh list modulesporous_flowexamplesrestartgas_injectioni blockvari run model total obtain ga satur profil shown figgas_inject media mediaporous_flowgas_injectionpng idfiggas_inject stylewidthmarginleftpx captionga satur second due larg densiti contrast inject methan densiti kg compar approxim kg methan migrat vertic pool beneath top reservoir extend radial distanc approxim methan immobilis residu satur observ lower part reservoir ga satur approxim flexibl restart use solutionuserobject exampl mesh use ga inject problem initi ident mesh use graviti equilibrium run moos provid flexibl restart capabl mesh use subsequ simul ident mesh use initi simul instead variabl valu initi simul project onto new mesh subsequ simul use solutionuserobjectsolutionuserobjectmd solutionfunctionsolutionfunctionmd clear result shown methan expect near upper left model near top inject well could refin origin mesh region use mesh adapt instead construct new mesh refin region use solutionuserobjectsolutionuserobjectmd solutionfunctionsolutionfunctionmd project initi valu liquid porepressur coars graviti equilibrium mesh new mesh input file exampl list modulesporous_flowexamplesrestartgas_injection_new_meshi mesh exampl bias element upper left region fewer away well list modulesporous_flowexamplesrestartgas_injection_new_meshi blockmesh result graviti equilibrium simul read use solutionuserobject list modulesporous_flowexamplesrestartgas_injection_new_meshi blockuserobjectssoln solutionfunct use spatial interpol valu list modulesporous_flowexamplesrestartgas_injection_new_meshi blockfunctionsppliq_ final functionicfunctionicmd use set initi condit liquid porepressur list modulesporous_flowexamplesrestartgas_injection_new_meshi blockic refin model run result ga satur profil shown figgas_injection_refin media mediaporous_flowgas_injection_refinedpng idfiggas_injection_refin stylewidthmarginleftpx captionga satur second due addit refin near well top reservoir ga satur profil smoother near well much less later migrat lower part reservoir henc much less methan immobilis residu satur result methan abl migrat top reservoir later plume extend nearli model coarser model shown generalis complic model exampl restart capabl demonstr porousflow use result previou simul initi condit new simul even chang singlephas model complex twophas model cours approach extend model heat geomechan involv set initi condit addit variabl use ident approach demonstr simpl exampl recoveri simul may fail prematur due extern factor exceed wall time cluster case simul may recov provid checkpoint enabl list modulesporous_flowexamplesrestartgas_injectioni blockoutput simul gas_injectioni interrupt reason may recov use checkpoint data languagebash porous_flowopt gas_injectioni recov wherebi simul continu latest checkpoint data reason strongli recommend checkpoint enabl longrun job converg criteria import set global converg criterion appropri nl_abs_tol equival petsc snes_atol cours argument also inform set rel toler nl_rel_tol petsc snes_rtol set small moos appear converg need small timestep order anyth set larg moos converg wrong result tip estim global converg criterion fluid determin appopri toler mean steadyst instanc singlephas simul reason larg constant fluid bulk modulu graviti act z direct steadyst solut p rho_gz constant case water read pz approxim instead suppos would happi say model steadyst p rho_ g epsilonz epsilon neednt constant may switch sign magnitud epsilon roughli domain interest instanc water error epsilon pam might suitabl problem recal residu beginequ labeleqres_int r leftint nabla_ileftfrackappa_ijkappa_mathrmrelrhomunabla_jp rho g_j right right endequ evalu almoststeadyst solut instanc case water quot nabla p rho g sim epsilon rhosimrho_ integr becom v volum region interest beginequ r approx vkapparho_epsilonmu endequ water give r approx vkappatim epsilon use standard valu rho_ mu previou step appropri tolernac residu given vkapparho_epsilonmu volum interest v must specifi often entir mesh small region interest dynam occur remaind mesh exist provid reason boundari condit interest region residu bore region thought virtual zero residu interest region v_mathrminterestingkapparho_epsilonmu absolut nonlinear residu aim implicitli assum kappa constant rho virtual constant rho_ singlephas present etc mani case assumpt valid integr eqres_int done trivial previou step case good approxim reason residu toler obtain build model initi condit like p rho_ g epsilonz observ initi residu heat similar method use estim converg criterion heatflow problem suppos heat conduct fluid advect suppos epsilon_mathrmfluid accept error fluid equat previou section suppos nabla approx epsilon_mathrmheat accept error temperatur instanc incorrect epsilon km might appropri problem residu approxim beginequ r approx vlambdaepsilon_mathrmheat hkapparho_epsilon_mathrmfluidmu endequ last term fluid enthalpi h multipli fluid residu mechan similar method use simul mechan deform activ roughli speak moos attempt set nablasigmamathrmtot determin error nablasigma will accept label epsilon instanc epsilon pam might appropri problem may determin epsilon consider stress directli may wish consid accpet error strain displac would use elast tensor find epsilon nonlinear residu beginequ r approx vepsilon endequ v volum interest scale variabl often appropri scale variabl order weight contribut overal nonlinear residu appropri instanc suppos previou argument provid beginequ beginalign r_mathrmfluid sim v r_mathrmheat sim time v r_mathrmmech sim v endalign endequ v case scale around porepressur variabl whatev moos variabl associ fluid equat would appropri similarli scale around temperatur variabl would appropri scale variabl implement input file use scale paramet instanc list modulesporous_flowexamplestutoriali startvari endporousflowbasicthm startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md porou flow tutori page ad solid mechan page solid mechan ad thermohydro simul preiou page equat discuss govern equationsporous_flowgoverning_equationsmd quasistat solid mechan consid without graviti equat read beginequ sigma_ijmathrmeff sigma_ijmathrmtot alpha_bdelta_ijp endequ beginequ sigma_ijmathrmeff e_ijklepsilon_klmathrmelast delta_klalphamathrmlinear_tt t_mathrmref endequ beginequ labeleqsolid nabla_isigma_ijmathrmeff alpha_bnabla_jp endequ describ previous p porepressur temperatur alpha_b biot coeffici addit nomenclatur use sigmamathrmeff effect stress tensor sigmamathrmtot total stress tensor e_ijkl elast tensor drain porou skeleton alphamathrmlinear_t linear thermal expans coeffici note linear version contrast volumetr coeffici introduc page porous_flowtutorial_md attempt write input file rough estim expect nonlinear residu must perform discuss converg criteriaporous_flowconvergencemd residu eqsolid approxim beginequ r_sigma approx vepsilon_sigma endequ correspond choic epsilon_papprox pam made page porous_flowtutorial_md choic epsilon_sigmaapprox pam may made mean r_sigmaapprox v significantli greater r_papprox v fluid equat therefor displac variabl scale mani mechanicallyrel moos object kernel bc etc accept use_displaced_mesh input paramet virtual porousflow simul appropri set fals use_displaced_mesh fals mean kernel residu bc residu postprocessor valu etc evalu use undisplac mesh great numer advantag solidmechan elast equat remain linear also mani mechanicallyrel moos object requir displac input paramet therefor conveni put paramet globalparam block list modulesporous_flowexamplestutoriali startglobalparam endvari model thermohydromechan system porousflowbasicthm action need enhanc read list modulesporous_flowexamplestutoriali startvari endbc boundari condit use roller boundari condit well boundari condit model effect fluid porepressur inject area list modulesporous_flowexamplestutoriali startbc endauxvari tensormechan modul moos provid use auxkernel extract effect stress interest problem effect radial stress effect hoop stress list modulesporous_flowexamplestutoriali startauxvari endmodul final mechanicsrel materi need defin list modulesporous_flowexamplestutoriali startelasticity_tensor endprecondit anim result shown tut_gif_fig media porous_flowtutgif stylewidthmarginleftpx captiondisplac magnifi time effect hoopstress evolut boreholeaquifercaprock system idtut_gif_fig dynam model fascin reader encourag paus play paramet explor effect final result fact model similar thm rehbind test porousflow test suit rehbind citeprehbind deriv analyt solut similar thm problem moos replic result exactli media mediaporous_flowthm_rehbinder_temperature_figpng stylewidthmarginleftpx captioncomparison moos rehbind analyt solut idfig_thm_tfig media mediaporous_flowthm_rehbinder_porepressure_figpng stylewidthmarginleftpx captioncomparison moos rehbind analyt solut idfigthm_pfig media mediaporous_flowthm_rehbinder_displacement_figpng stylewidthmarginleftpx captioncomparison moos rehbind analyt solut idfigthm_dfig bibtex bibliographi startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md porou flow tutori page ad tracer page depart porousflowbasicthmactionsporousflowbasicthmmd use porousflowfullysaturatedactionsporousflowfullysaturatedmd action employ mass lumpingporous_flowmass_lumpingmd numer stabil default therefor result slightli differ achiev porousflowbasicthm lump stabil remaind porousflow mass lumpingporous_flowmass_lump either full upwindingporous_flowupwindingmd tvd stabilizationkt_workedmd reason use porousflowfullysatur allow multicompon physic studi denot mass fraction chikappa kappa ldotsn_mathrmcompon fluid equationsporous_flowgoverning_equationsmd beginequ labeleqfull_sat fracpartialparti phirho chikappa nabla_i leftchikapparhofrack_ijmunabla p_j rho g_j right endequ equat fluid densiti rho bracket user option includ use multiply_by_dens flag advantag set multiply_by_dens fals equat becom linear mean care must taken use part porousflow instanc porousflowmassporousflowfluidmassmd postprocessor measur fluid mass fluid volum tracer may incorpor simul tracer_concentr variabl defin set initi condit inject area zero elsewher modifi isotherm simul page porous_flowtutorial_md porousflowfullysatur provid name list modulesporous_flowexamplestutoriali startvari endbc encourag flow rather rapid converg moreorless steadyst situat outer boundari fix p tracer concentr fix inject area list modulesporous_flowexamplestutoriali startbc endmodul chang porousflowporos materi need porousflowconstantbiotmodulu materi list modulesporous_flowexamplestutoriali startmateri endpermeability_aquif multiply_by_dens true argument page porous_flowtutorial_md concern magnitud residu henc size nonlinear absolutetoler must modifi specif fluid residu get multipli densiti default common usecas porousflow problem fluid residu approxim beginequ r approx vepsilon endequ sinc fluid densiti approxim kgm nl_abs_tol therefor list modulesporous_flowexamplestutoriali startexecution endoutput anim result shown tut_gif_fig media porous_flowtutgif stylewidthmarginleftpx captiondarci flow vector tracer evolut boreholeaquifercaprock system idtut_gif_fig gain experi porousflow realis simul contain sever defect boundari condit import potenti problem lie boundari condit physic say add remov fluid keep porepressur tracer concentr fix complex simul complet disaster may correct fluid compon fluid phase present remov caus extrem poor nonlinear converg realli import understand fulli porousflowfullysaturatedactionsporousflowfullysaturatedmd associ variabl chikappa massbal equat chikappa variabl p massbal equat final mass fraction sum_kappachikappa obviou unless read document code simul dont use action obviou write inputfil kernel block henc bc variabl porepressur list modulesporous_flowexamplestutoriali startconstant_injection_porepressur endinjected_trac say add remov final mass fraction sum_kappachikappa keep porepressur fix physic mass fraction probabl water mass fraction bc variabl tracer_concentr list modulesporous_flowexamplestutoriali startinjected_trac end say add remov tracer concentr remain fix complex multiphas multicompon model real gotcha porousflowsinkporousflowsinkmd recommend lack numer stabil broadli speak anim show expect behaviour stripe low high concentr toward end simul caus lack numer stabil mention introduct page stabil standardstabilizationmd porousflow simul use simul fact run simul youll see tracer_concentr even lie within expect rang stripe remov numer stabil come cost porousflow offer two type numer stabilizationstabilizationmd fullupwindingupwindingmd excel elimin overshoot undershoot converg speed also excel introduc extra diffus sharp front maintain hand kt stabilizationktmd also elimin overshoot undershoot introduc littl zero extra diffus sharp front maintain well without numer stabil converg speed runtim alway greater detail regard diffus front may found numer diffusionnumerical_diffusionmd page numer stabil easili includ use porousflowfullysaturatedactionsporousflowfullysaturatedmd action instanc kt stabil may easili introduc list modulesporous_flowexamplestutorial_kti startporousflowfullysatur end user strongli encourag experi kt stabil report find back mooseus googl group sinc stabil still develop stage startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md fractur flow use multiapp approach diffus mix dimens background porousflow use simul flow fractur porou media case fractur network complic incorpor porousmedia mesh fundament premis fractur consid lower dimension entiti within higherdimension porou media page part set describ moos multiapp approach simul model introductionmultiapp_fracture_flow_introductionmd mathemat physic interpretationmultiapp_fracture_flow_equationsmd transfersmultiapp_fracture_flow_transfersmd multiapp primermultiapp_fracture_flow_primermd diffus equat fractur quantifi error introduc multiapp approach diffus mix dimensionsmultiapp_fracture_flow_diffusionmd porou flow singl matrix systemmultiapp_fracture_flow_porousflow_dmd porou flow small fractur networkmultiapp_fracture_flow_porousflow_dmd diffus equat mixeddimension problem section diffus equat use explor mixeddimension problem fractur line live insid matrix realiti fractur certain apertur small may approxim line moos kernel multipli see mathemat physic interpretationmultiapp_fracture_flow_equationsmd geometri mesh two case explor conform nonconform conform case fractur node also matrix node fractur element actual creat sideset matrix element conform case shown fracture_diffusion_conforming_geometri fracture_diffusion_conforming_mesh solut domain consist fractur subdomain red line matrix subdomain blue share node nonconform case fractur node coincid matrix node nonconform case shown fracture_diffusion_nonconforming_mesh media porous_flowexamplesmultiapp_flowfracture_diffusion_conforming_geometrypng stylewidthmarginautopaddingtop idfracture_diffusion_conforming_geometri captionth geometri conform case red line fractur media porous_flowexamplesmultiapp_flowfracture_diffusion_conforming_meshpng stylewidthmarginautopaddingtop idfracture_diffusion_conforming_mesh captionth matrix mesh conform case fractur lie exactli matrix node media porous_flowexamplesmultiapp_flowfracture_diffusion_nonconforming_meshpng stylewidthmarginautopaddingtop idfracture_diffusion_nonconforming_mesh captionth matrix mesh nonconform case red line fractur conform case explor use nonmultiapp approach multiapp approach nonconform case explor use multiapp approach case finiteel mesh dictat spatial resolut numer solut analysi follow ignor use spatial resolut model howev import rememb practic use finit element mean solut never exact instanc use larg matrix element probabl lead poor result discuss may found small fractur networkmultiapp_fracture_flow_porousflow_dmd exampl larg element also produc notic overshoot undershoot solut may observ current model matrix ny small physic describ mathemat backgroundmultiapp_fracture_flow_equationsmd physic govern beginequ beginalign labeleqncoupledbas c_mdott_m nablalambda_mnabla t_m ht_m t_fdeltaf ac_fdott_f atildenablalambda_ftildenabla t_f ht_f t_m endalign endequ two variabl t_f t_m call frac_t matrix_t moos input file obey diffus equat heat transfer two variabl written eqncoupledbas heattransf coeffici h may written beginequ labeleqnsuggestedh h frach_mathrmslambda_mathrmmnn l_mathrmright l_mathrmlefth_mathrmsl_mathrmrightl_mathrmleft lambda_mathrmmnnl_mathrmright l_mathrmleft endequ use multiapp fractur appear set dirac sourc matrix subdomain beginequ c_mdott_m nablalambda_mnabla t_m hdeltaf endequ beginequ h ht_f t_m endequ multiapp approach h gener auxvari fractur app exist fractur subdomain pass matrix app appli dirackernel boundari condit flow except lefthand side fractur domain temperatur fix t_f initi condit t_m t_f heat capac uniti c_m c_f conduct fractur lambda_f lambda_m matrix fracur apertur assum h_ heattransf coeffici use conform case sinc matrix node align exactli fractur eqnsuggestedh may use nonconform case situat l_mathrmleft l_mathrmright lambda_mnn h simul run end_tim multiapp benchmark conform case multiapp approach need taken kernel given eqncoupledbas list fracture_diffusionno_multiappi blockkernel evalu fromfractur heat transfer kernel block fractur implement dirac delta function deltaf eqncoupledbas matrix temperatur shown no_multiapp_matrix_t media porous_flowexamplesmultiapp_flowno_multiapp_matrix_tpng stylewidthmarginautopaddingtop idno_multiapp_matrix_t captionbenchmark matrix temperatur end simul solut problem exactli solvablehttpsgithubcomidaholabmooseblobmastermodulesmiscdocfracture_flow term error function choos appropri timestep element size moos produc expect result exampl moos solut depend upon timestep size shown frac_no_multiapp_frac_t evid reduc timestep impact solut much henc solut use delta use benchmark remaind section media porous_flowexamplesmultiapp_flowfrac_no_multiapp_frac_tpng stylewidthmarginautopaddingtop idfrac_no_multiapp_frac_t captionimpact timestep size fractur temperatur end simul multiapp approach conform case case matrix app main app fractur app subapp fractur input file follow featur auxvari call transferred_matrix_t t_m interpol fractur mesh auxvari call joules_per_ heat rate come node mathemat ht_f t_ml l volum model fractur node popul save_in featur list fracture_diffusionfracture_app_diraci blockkernel nodalvaluesampl vectorpostprocessor captur joules_per_ valu fractur node list fracture_diffusionfracture_app_diraci blockvectorpostprocessor matrix input file follow featur transfer send t_m fractur app receiv joules_per_ fractur app list fracture_diffusionmatrix_app_diraci blocktransf latter transfer write inform vectorpostprocessor matrix app convert dirac sourc reporterpointsourc dirackernel list fracture_diffusionmatrix_app_diraci blockdirackernel multiapp approach nonconform case ident conform case except matrix mesh nonconform shown heat transfer coeffici differ describ result l error fractur temperatur approach squareroot sum squar differ t_f benchmark delta result plot frac_l_error expect error proport delta error use multiapp approach larger nonmultiapp approach t_f fix t_m solv vice versa conform nonconform case produc similar result larger timestep timestep size reduc result slightli differ small differ effect finiteel discretis media porous_flowexamplesmultiapp_flowfrac_l_errorpng stylewidthmarginautopaddingtop idfrac_l_error captionl error approach respect benchmark delta model mixeddimension diffus equat qa test porousflow capabl porousflow rigor test larg number regress test provid test suit mani test design recov analyt solut problem reproduc wellknown benchmark problem page describ nontrivi test infiltr drainagetestsinfiltration_and_drainageinfiltration_and_drainage_testsmd heat fluid respons finit bar subject variou boundari conditionstestsnewton_coolingnewton_cooling_testsmd poroelasticitytestsporo_elasticityporo_elasticity_testsmd boundari sink sourcestestssinkssinks_testsmd point line sourc pump test boreholestestsdirackernelsdirackernels_testsmd multiphas multicompon radial inject use fluidstatetestsfluidstatefluidstate_testsmd inject ala buckley leveretttestsbuckley_leverettbuckley_leverett_testsmd evolut pressur pulsetestspressure_pulsepressure_pulse_testsmd heat conductiontestsheat_conductionheat_conduction_testsmd heat advectiontestsheat_advectionheat_advection_testsmd fluid mass comput conservationtestsmass_conservationmass_conservation_testsmd establish gravit headtestsgravitygravity_testsmd dispers diffusiontestsdispersiondispersion_testsmd heat inelast deformationtestsplastic_heatingplastic_heating_testsmd heat mass transporttestsavdonind_avdoninmd radial heat mass transporttestsavdonind_radial_avdoninmd test jacobiantestsjacobianjacobian_testsmd mani porousflow test creat moos current document system establish therefor still process document test follow page need complet actionstestsactionsactions_testsmd fluidstestsfluidsfluids_testsmd numerical_diffusiontestsnumerical_diffusionnumerical_diffusion_testsmd adv_diff_bcstestsadv_diff_bcsadv_diff_bcs_testsmd aux_kernelstestsaux_kernelsaux_kernels_testsmd flux_limited_tvd_advectiontestsflux_limited_tvd_advectionflux_limited_tvd_advection_testsmd basic_advectiontestsbasic_advectionbasic_advection_testsmd flux_limited_tvd_pflowtestsflux_limited_tvd_pflowflux_limited_tvd_pflow_testsmd poropermtestsporopermporoperm_testsmd functionstestsfunctionsfunctions_testsmd radioactive_decaytestsradioactive_decayradioactive_decay_testsmd capillary_pressuretestscapillary_pressurecapillary_pressure_testsmd relpermtestsrelpermrelperm_testsmd chemistrytestschemistrychemistry_testsmd densitytestsdensitydensity_testsmd heterogeneous_materialstestsheterogeneous_materialsheterogeneous_materials_testsmd desorptiontestsdesorptiondesorption_testsmd thermal_conductivityteststhermal_conductivitythermal_conductivity_testsmd thm_rehbinderteststhm_rehbinderthm_rehbinder_testsmd energy_conservationtestsenergy_conservationenergy_conservation_testsmd non_thermal_equilibriumtestsnon_thermal_equilibriumnon_thermal_equilibrium_testsmd radial flow inject well problem present citepruess citepruess intercomparison problem serv use test inject one dimension radial reservoir admit similar solut zeta rt r radial distanc inject well time similar solut hold even complic physic mutual solubl fluid compon includ model reservoir properti properti reservoir use model summar tabr tabl idtabr captionreservoir properti properti valu pressur mpa temperatur circc permeabl md poros nacl mass fraction rel permeabl aqueou phase repres van genuchtenporousflowrelativepermeabilityvgmd model expon residu satur s_r ga phase rel permeabl repres use coreyporousflowrelativepermeabilitycoreymd model expon n residu satur s_r capillari pressur given van genuchtenporousflowcapillarypressurevgmd model expon time zero residu satur unlik simul use intercomparison studi porousflow abl model problem use onedimension mesh rotat vertic axi repres true radial model tough contrast use mesh rotat vertic axi model present citepruess height problem use mesh reduc rate inject accordingli kg co_ inject origin result figsatprofil show evolut satur front co_rich ga phase problem interest observ presenc fulli ga satur region near inject point emerg suffici time model residu satur liquid phase set liquid satur rel permeabl zero advect liquid phase possibl howev miscibl model brine residu satur slowli evapor ga phase inject wherebi liquid fluid compon advect part ga phase dri process continu aqueou phase remov media mediaporous_flowproblem_saturationpng idfigsatprofil stylewidthmarginleftpx captionga satur profil variou time previous state onedimension radial model admit similar solut figsatsim show comparison four profil present figsatprofil function similar variabl zeta figur show four profil essenti coincid discuss citepruess three distinct region observ zeta aqueou phase present note liquid fluid compon present ga phase discuss earlier region correspond small radial distanc long time zeta ga liquid phase coexist zeta liquid phase present ga phase hasnt reach radial distanc yet media mediaporous_flowproblem_saturation_similaritypng idfigsatsim stylewidthmarginleftpx captionga satur profil vs similar variabl similar solut also verifi compar spatial result fix time tempor result fix radial distanc exampl present figxcosim figyhosim mass fraction co_ liquid phase dissolv mass fraction h_o ga phase evapor twophas region zeta mass fraction given equilibrium valu outsid twophas region mass fraction zero expect observ good agreement two result spatial profil tempor profil provid evid presenc similar solut minor oscil observ tempor profil due finit grid size media mediaporous_flowproblem_xco_similaritypng idfigxcosim stylewidthmarginleftpx captionmass fraction co_ liquid phase vs similar variabl media mediaporous_flowproblem_yho_similaritypng idfigyhosim stylewidthmarginleftpx captionmass fraction h_o liquid phase vs similar variabl note result slightli differ result present citepruess citepruess porousflow featur updat equat state avail intercomparison result first publish howev exhibit excel agreement result present citepruess version tough use updat equat state second part intercomparison problem compar thermophys properti fluid code phase densiti viscos well equilibrium solubl compar variou pressur specifi temperatur circc result obtain use porousflow summar tabproperties_wat tabproperties_brin water brine respect tabl idtabproperties_wat captionphas properti equilibrium solubl water zero salin pressur mpa rho_l kg mu_l time kg rho_g kg mu_g time kg x_co y_ho phase properti water co_ nearli ident result present citepruess tough simul citeppruess expect mutual solubl model implement porousflow use tough see brinecobrinecomd document detail tabl idtabproperties_brin captionphas properti equilibrium solubl brine x_nacl pressur mpa rho_l kg mu_l time kg rho_g kg mu_g time kg x_co y_ho similarli phase properti brine co_ similar obtain use tough citeppruess expect bibtex bibliographi fractur flow use multiapp approach porou flow singl matrix system background porousflow use simul flow fractur porou media case fractur network complic incorpor porousmedia mesh fundament premis fractur consid lower dimension entiti within higherdimension porou media page part set describ moos multiapp approach simul model introductionmultiapp_fracture_flow_introductionmd mathemat physic interpretationmultiapp_fracture_flow_equationsmd transfersmultiapp_fracture_flow_transfersmd multiapp primermultiapp_fracture_flow_primermd diffus equat fractur quantifi error introduc multiapp approach diffus mix dimensionsmultiapp_fracture_flow_diffusionmd porou flow singl matrix systemmultiapp_fracture_flow_porousflow_dmd porou flow small fractur networkmultiapp_fracture_flow_porousflow_dmd porou flow singl matrix system consid singl planar fractur within mesh fluid flow along fractur accord darci equat may model use porousflowfullysaturatedporousflowfullysaturatedmd list single_fracture_heat_transferfracture_appi blockporousflowfullysatur alert note kuzminturekporous_flowktmd stabil typic use fractur flow multipl fractur element meet along singl finiteel edg fractur plane intersect perform reason libmesh assum one two element share edg prevent kt approach quantifi flow neighbor element prevent scheme work case hand kt stabil possibl singl fractur follow assumpt use see mathemat physic interpretationmultiapp_fracture_flow_equationsmd fractur apertur poros therefor poros requir porousflow aphi permeabl given formulaflow_through_fractured_mediamd modifi rough coeffici r permeabl requir porousflow includ extra factor ar fractur basic fill water intern energi rock materi within may ignor thermal conduct fractur domin water thermal conduct wmk thermal conduct requir porousflow time henc materi list single_fracture_heat_transferfracture_appi blockmateri heat transfer fractur matrix encod usual way see primermultiapp_fracture_flow_primermd diffusionmultiapp_fracture_flow_diffusionmd page heat transfer coeffici chosen appreci amount heat energi transfer realist transfer coeffici case list single_fracture_heat_transferfracture_appi blockkernel boundari condit correspond inject circc water rate kg left side model withdraw water rate whatev temperatur extract right side list single_fracture_heat_transferfracture_appi startleft_inject end list single_fracture_heat_transferfracture_appi blockbc physic matrix assum simpl heat equat note stabil overshoot undershoot solut list single_fracture_heat_transfermatrix_appi blockkernel transfersmultiapp_fracture_flow_transfersmd ident use diffusionequ casemultiapp_fracture_flow_diffusionmd list single_fracture_heat_transfermatrix_appi blocktransf fracturematrixfracturematrixetc timestep procedur describ primermultiapp_fracture_flow_primermd rememb multiapp approach typic break uncondit stabil moos implicit timestep scheme usual fractur physic frozen matrix physic evolv viceversa easili lead oscil timestep big exampl start cold matrix hot fractur fractur evolv could transfer huge amount heat energi cold matrix sinc matrix temperatur fix evolut matrix start hot transfer heat back fractur cycl continu simul matrix temperatur shown single_fracture_heat_transfer_final_matrix_t evolut temperatur shown single_fracture_heat_transfer_t without heat transfer fractur heat circc fractur transfer heat energi matrix temperatur evolut retard media porous_flowexamplesmultiapp_flowsingle_fracture_heat_transfer_final_matrix_tpng stylewidthmarginautopaddingtop idsingle_fracture_heat_transfer_final_matrix_t captionheat conduct matrix matrix mesh shown media porous_flowexamplesmultiapp_flowsingle_fracture_heat_transfer_tmp stylewidthmarginautopaddingtop idsingle_fracture_heat_transfer_t captiontemperatur along fractur heat transfer matrix without heat transfer matrix fluid degc inject fractur left end fluid withdrawn right end heat transfer matrix heat littl singl phase flow porousflow provid materi model singl phase flow fulli satur partial satur case use porepressur nonlinear variabl multipl fluid compon includ fulli satur porousflowphasefullysaturatedporousflowphasefullysaturatedmd fullyparti satur porousflowphasepporousflowphasepmd fullyparti satur hysteret capillari pressur porousflowphasehyspporousflowphasehyspmd materi law sever import materi properti constitut equat implement porousflow detail descript provid follow capillari pressurecapillary_pressuremd rel permeabilityrelative_permeabilitymd permeabilityporous_flowpermeabilitymd porosityporous_flowporositymd diffusivitydiffusivitymd hysteret capillari pressur rel permeabilityhysteresismd modulesporous_flowflow_through_fractured_mediamd modulesporous_flowcoal_miningmd modulesporous_flowco_intercomparisonmd modulesporous_flowlava_lampmd modulesporous_flowthm_examplemd modulesporous_flowthmc_examplemd modulesporous_flowtidalmd modulesporous_flowrestartmd modulesporous_flowheterogeneous_modelsmd modulesporous_flowgroundwater_modelsmd modulesporous_flowatesmd modulesporous_flowtestsmd full upwind page part set page devot discuss numer stabil porousflow see numer stabil lead pagestabilizationmd mass lumpingmass_lumpingmd full upwindingupwindingmd kuzminturek stabilizationktmd numer diffusionnumerical_diffusionmd work exampl kuzminturek stabilizationkt_workedmd numer stabil necessari scenario nonlinear advect physic model porousflow one stabil upwind citephuyakorn dalen helmig multiphas situat mani upwind scheme lead disast algorithm attempt withdraw fluid node fluid situat one phase disappear almost disappear full upwind often advantag sinc prevent attempt withdrawl henc porousflow employ full upwind default porousflowbasicadvectionporousflowbasicadvectionmd kernel implement naiv nonupwind version advect use recommend full upwind numer cheap compar stabil scheme suffer two disadvantag firstli smooth contrast supg upwind scheme citepbrook hugh hughesb kuzminturek schemektmd citepkuzminturek instanc close steadyst flux zero upwind direct oscil lead nonconverg dealt place cutoff upwind porousflow secondli upwind ad numer diffus critic simul see numer diffusionnumerical_diffusionmd discuss porousflow also offer kuzminturek stabil schemektmd user concern disadvantag remaind section describ full upwind singlephas unsatur situat multiphas multicompon scenario advect term heatflow equat analog weak form darci flux singl element beginequ r_a int_mathrmel nabla_ipsi_a fracrho k_ijk_mathrmrmunabla_jp rho g_j endequ psi_a test function integr r_a contribut residu test function defin beginequ fracrho k_mathrmrmu endequ tradit call mobil upwind matter choos element evalu integr sophist supg approach design weight upstream side element consid moment take outsid integr beginequ tilder_a mint_mathrmel nabla_ipsi_a kappa_ijnabla_jp rho g_j i_a endequ tilder exactli r note origin r_a mass flux flow node i_a therebi intepret measur fluid flow node lead follow definit upwind beginequ r_a equiv m_ai_a textrmif i_ageq endequ node i_ageq call upwind node sinc fluid flow downwind node approach first introduc citedalen residu downwind node determin conserv mass specif let beginequ i_mathrmup sum_i_ageq i_a textrmand i_mathrmdown sum_i_a i_a endequ beginequ r_a i_afraci_mathrmupi_mathrmdown textrmfor i_a endequ sum_a r_a requir mass conserv within element origin sum_a psi_a fullyupwind method extrem advantag use fluid satur ever approach residu satur kappa_mathrmrel zero densiti mobil zero becom imposs withdraw fluid node practic may still happen due precis loss relat nasti artefact prescrib sink either boundari intern object wellbor also fullyupwind porousflow sinc also potenti suffer phasedisappear problem bibtex bibliographi work exampl kuzminturek stabil page part set page devot discuss numer stabil porousflow see numer stabil lead pagestabilizationmd mass lumpingmass_lumpingmd full upwindingupwindingmd kuzminturek stabilizationktmd numer diffusionnumerical_diffusionmd work exampl kuzminturek stabilizationkt_workedmd kuzmin turek citepkuzminturek describ method stabilis advect minimis artifici numer diffus page kuzmin turek abbreviatv kt page make much sens read tandem kt paper kt consid singl scalar quantiti u advect sake argument page think u heat page exampl studi numer diffus pagenumerical_diffusionmd use explicitli illustr approach work input file list modulesporous_flowtesttestsnumerical_diffusionfltvdi mesh sit domain leq x leq mesh element initi condit ux leq x leq ux otherwis veloc uniform right v key differ input file simul advect use fluxlimitedtvdadvectionkernelsfluxlimitedtvdadvectionmd kernel advectivefluxcalculatorconstantvelocityadvectivefluxcalculatorconstantvelocitymd userobject latter comput k r r use kernel describ detail page input file set flux_limiter_typ superbe differ type none vanleer minmod mc may chosen explain detail add antidiffus counteract artifici numer diffus ad stabil problem except none choic add antidiffus kt work lump mass matrix see discuss start kt section eqn input file use masslumpedtimederivativemasslumpedtimederivativemd kernel stabil without stabil kt method usual galerkin finiteel method use default moos advect equat beginequ mdotu nablacdotmathbfvu endequ discretis employ masslump beginequ labeleqdiscadv m_idotu_i sum_jk_iju_j endequ m_i lump mass node u_i valu u node equat kt introduc transport matrix k entri beginequ k_ij int_omegapsi_inablamathbfv_j psi_j endequ psi_i test function node mathbfv_i advect veloc node see kt eqn residu advect term node beginequ r_i sum_jk_iju_j sum_jk_iju_j u_i u_isum_jk_ij endequ see kt eqn k_ij evalu pair node link mesh therefor may evalu loop element ad contribut appropri ij entri done advectivefluxcalculatorconstantvelocityadvectivefluxcalculatorconstantvelocitymd userobject let us evalu k initi configur test exampl element yield beginequ kmathrmel left beginarraycc kmathrmele_l kmathrmele_lr kmathrmele_rl kmathrmele_rr endarray right fracv left beginarraycc endarray right endequ equat l r subscript mean node left node right sum contribut yield beginequ labeleqkk k fracv left beginarrayccccccc ddot endarray right endequ topleft entri bottomright entri may safe ignor subsequ present influenc boundari condit left right side respect insert eqkk eqdiscadv lead follow standard centraldiffer represent advect equat beginequ labeleqndiscadvcentdiff m_idotu_i fracvu_i u_i endequ equat differ mesh boundari depend boundari condit consid node posit front x u_i u_i mean dotu_i implicit timestep explicit solut eqndiscadvcentdiff immedi obviou nonetheless crucial point remain spuriou overshoot undershoot appear solut shown pictori fltvd_k_onli media mediaporous_flowfltvd_k_onlypng stylewidthmarginleftpx captiontemperatur profil one timestep k use transport heat notic overshoot undershoot idfltvd_k_onli far present invov standard galerkin finit element scheme special input kt notat refer formula let us slowli introduc kt design stabil use upwind remov spuriou oscil result use k transport u kt note neg offdiagon entri k problemat exampl clear want remov discretis centraldiffer equat eqndiscadvcentdiff becom full upwind equat beginequ labeleqfullupwind m_idotu_i vu_i u_i endequ assum v otherwis upwind goe opposit way node node kt elimin neg offdiagon entri follow way introduc symmetr matrix entri beginequ d_ij d_ji mathrmmaxleft k_ij k_ji right mathrmand d_ii sum_jneq id_ij endequ kt eqn pick neg offdiagon entri k contain entri want elimi diagon row sum zero henc discret diffus oper case beginequ labeleqdd fracv left beginarrayccccccc ddot endarray right endequ instead k oper l k use transport u beginequ m_idotu_i sum_jl_iju_j endequ case beginequ labeleql l fracv left beginarrayccccccc ddot endarray right endequ topleft bottomright entri potenti modifi boundari condit fullupwind equat eqfullupwind evid obtain kt demonstr process produc l local extremum diminish ie never increas oscil temperatur profil unfortun process employ l instead k design ad diffus evid result see fltvd_l media mediaporous_flowfltvd_lpng stylewidthmarginleftpx captiontemperatur profil one timestep oper l use transport heat overshoot undershoot sharp profil diffus idfltvd_l fluxlimit antidiffus good add diffus around front posit prevent overshoot undershoot elsewher disaster result unphys diffus therefor kt add antidiffus region need counter effect kt introduc p q eqn defin beginequ p_i sum_jneq imathrmminleft k_ijright u_j u_i endequ beginequ q_i sum_jneq imathrmmaxleft k_ijright u_j u_i endequ case use eqkk beginequ p_i fracvu_i u_i endequ beginequ q_i fracvu_i u_i endequ note p concern neg entri k bit remov ad diffus hand q harmless part introduc overshoot undershoot kt argu look ratio qp enabl us determin much p realli need elimin end kt split p q posit neg part limit part separ see eqn discuss flux limit pp simpl situat four distinct case explicitli work kt_choic work tabl note end goal f_iia defin kt eqn antidiffus flux travel downwind node upwind node purpos counter diffus ad matrix tabl idkt_choic captionposs choic u around node consequ antidiffus indic quantiti illdefin due divis quantiti matter case node downwind node u_iu_i u_iu_i u_iu_i u_iu_i u_iu_i u_iu_i u_iu_i u_iu_i u_i maximum u increas downstream u_i minimum u decreas downstream q_i u_iu_iv u_iu_iv q_i u_iu_iv u_iu_iv p_i u_iu_iv u_iu_iv p_i u_iu_iv u_iu_iv r_i phi_iphifracu_iu_iu_iu_i r_i phi_iphifracu_iu_iu_iu_i f_iia r mathrmminphi_i v vu_iu_i r mathrmminphi_i v vu_iu_i antidiffus flux zero node maximum minimum physic motiv led criteria dont want local extrema becom extrem instead want smooth away diffus howev antidiffus flux nonzero valu u around node u simpli increas decreas case addit diffus necessari antidiffus counter extent depend phi control factor flux limit phi note function surround valu u beginequ phi_i phileft fracu_iu_iu_iu_i right endequ describ kt figur note exactli fluxlimit use rdgpp see rdg pagerdgindexmd optionaltru ident result rdgpp expect simpl situat possibl choos sort function form phi kt write possibl page possibl satisfi leq phi leq mean antidiffus flux alway beginequ f_iia phi_i v u_i u_i endequ antidiffus flux evolut equat see step kt fig along eqn final express eqn beginequ m_idotu_i vleft u_iu_i phi_iu_i u_i phi_iu_i u_i right endequ final result kt procedur phi kt procedur yield full upwind equat eqfullupwind phi kt procedur yield central differ equat eqndiscadvcentdiff phi kt procedur yield downwind equat m_idotu_i vu_i u_i gener practic kt procedur produc spuriou overshoot undershoot strongli limit artifici numer diffus result test case shown fltvd_all media mediaporous_flowfltvd_allpng stylewidthmarginleftpx captiontemperatur profil timestep oper l use transport heat l plu antidiffus use idfltvd_al flux limit kt present four differ fluxlimit plot flux_liit notic vanleer limit smoother other like provid superior nonlinear concerg chosen default limit advectivefluxcalculatorconstantvelocityadvectivefluxcalculatorconstantvelocitymd media mediaporous_flowflux_limiterspng stylewidthmarginleftpx captionflux limit phir enumer kt pp idflux_liit effect differ flux limit effect choos differ flux limit work exampl shown flux_limiter_choic case superbe flux limit perform best note timestep rather larg exampl emphas differ flux limit howev real simul tri reduc numer diffus timestep chosen smaller result would look like fltvd_all media porous_flowflux_limiter_choicegif stylewidthmarginleftpx captionth effect flux limit advect profil note timestep rather larg emphasis differ flux limit smaller timestep chosen result look similar like fltvd_all idflux_limiter_choic startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md porou flow tutori page unleash full power porousflow use kernel materi readi build input file scratch use kernel materi instead action weve use far inevit youll run porousflow simul youll alway want porousflow featur boundari condit line sourc postprocessor auxkernel etc arent built action go build simul page porous_flowtutorial_md involv unsatur flow build input file compar action version mesh variabl remain unchang clariti later porepressur variabl renam pp list modulesporous_flowexamplestutoriali startvari endkernel let start build porousflowdictatorporousflowdictatormd one phase one compon chemistri singl porousflow variabl call pp list modulesporous_flowexamplestutoriali startuserobject endpc alway use put name porousflowdict globalparam block sinc porousflow object need list modulesporous_flowexamplestutoriali startglobalparam endvari de unsatur singlephas flow refer govern equationsporous_flowgoverning_equationsmd document unsatur singlephas flow describ first equat without coupl term solid mechan radioact decay chemistri sourc beginequ labeleqmass_cons_sp fracparti mkappaparti nablacdot mathbffkappa endequ kappa sinc one fluid compon fluid mass phi rho fluid veloc f_i rho k_ij nabla_j p rho g_j mu henc two kernel refer bottom govern equationsporous_flowgoverning_equationsmd type list modulesporous_flowexamplestutoriali startkernel endauxvari often common defin auxvari visualis purpos feed coupl variabl moos object use variabl fluid satur comput use porousflowpropertyauxporousflowpropertyauxmd variabl must constant monomi list modulesporous_flowexamplestutoriali startauxvari endbc bc remain use porousflowsinkporous_flowboundariesmd withdraw fluid inject area fluid properti also remain refer two block list modulesporous_flowexamplestutoriali startbc endmateri final block creat materi alway complic part creat input file realli come experi run moos multipl time time get undefin error like one top page porous_flowtutorial_md slowli add requir materi get error inform near bottom page porous_flowtutorial_md use inspect similar input file porousflow test suit test your like find need dont expect file alway correspond physicallysens model sometim theyr deliber unsens test obscur aspect porousflow least guarante run ask moos discuss forumhttpsgithubcomidaholabmoosediscuss case de involv poros fluid satur fluid densiti permeabl viscos fluid mass lump node well need poros node list modulesporous_flowexamplestutoriali startporos endpermeability_aquif permeabl also need list modulesporous_flowexamplestutoriali startpermeability_aquif endsaturation_calcul materi also model page porous_flowtutorial_md need build satur comput porousflowpropertyaux auxkernel retriev materi properti put auxvari mention page porous_flowtutorial_md porousflow simul use varieti primari variabl set fundament materi comput porepressur satur temperatur mass fraction primari variabl case primari variabl porepressur need comput singl satur howev variou porousflow object need temperatur input must comput even though set constant also mass fraction need comput although trivial problem list modulesporous_flowexamplestutoriali startsaturation_calcul endsimple_fluid socal fundament materi almost everi porousflow simul see similar materi satur calcul use capillarypressur function userobject list modulesporous_flowexamplestutoriali startuserobject endglobalparam densiti viscos need comput achiev porousflowsinglecomponentfluidporousflowsinglecomponentfluidmd list modulesporous_flowexamplestutoriali startsimple_fluid endrelperm final rel permeabl must defin phase one phase exampl list modulesporous_flowexamplestutoriali startrelperm end input file built may check give exactli answer one page porous_flowtutorial_md line long one page line long youv reach point start build much power model dont use porousflow action model involv multiphas multicompon flow complic thermal coupl elastoplast chemic reaction line sourc sink sophist boundari term startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md porou flow tutori page boundari sink sourc polylin sink sourc page need develop exampl lot inform pleas see boundariesporous_flowboundariesmd polylin point sourc sinkssinksmd borehol river etc number exampl test suit alreadi page develop find inform boundari term grep porousflowsink porousflowhalfcubicsink porousflowhalfgaussiansink porousflowpiecewiselinearsink find inform polylin point sourc sink grep porousflowpeacemanborehol porousflowpolylinesink porousflowsquarepulsepointsourc startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md numer stabil page part set page devot discuss numer stabil porousflow see numer stabil lead pagestabilizationmd mass lumpingmass_lumpingmd full upwindingupwindingmd kuzminturek stabilizationktmd numer diffusionnumerical_diffusionmd work exampl kuzminturek stabilizationkt_workedmd numer stabil often necessari porousflow simul number issu consid choos appropri stabil scheme expens comput residu jacobian naiv dictat fast moos run howev cheap stabil sometim produc poor nonlinear convergencenonlinear_convergence_problemsmd huge number nonlinear iter requir offset appar cheap smooth scheme smoother other mean converg rate irrespect valu variabl hand scheme smooth instanc full upwindingupwindingmd often troubl converg system close steadi state scheme find difficult know node upstream downstream keep swap node categori henc nonsmooth scheme may converg nice simul poorli other overshoot advect often produc spuriou overshoot undershoot boundari term dirac sourc often attempt withdraw fluid region none lead physicallyincorrect predictionsnumerical_diffusionmd nonlinear converg problemsnonlinear_convergence_problemsmd numer diffusionnumerical_diffusionmd stabil scheme often add numer diffusionkt_workedmd order elimin overshoot mean precis track tracer temperatur front possibl present porousflow offer two type numer stabil full upwindingupwindingmd kuzminturek stabilizationktmd employ mass lumpingmass_lumpingmd pro con type stabil shown tabl idprocon captionpro con stabil scheme stabil full upwind kt stabil expens style colorgreencheap style colorgreencheap style colorredexpens smooth style colorgreeny style colorredno style colorgreeny overshoot style colorredy style colorgreenno style colorgreenno diffus style colorgreenminim style colorredmaxim style colorgreenminim alert note kuzminturek stabil new user strongli encourag experi report find mooseus googl group iron problem collect gain experi precondition linear solver moos allow user utilis full power petsc precondition linear solver follow choic found effect variou type porousflow simul pc_type lu pc_factor_mat_solver_packag mump robust choic pc_type bjacobi ksp_type bcg pc_type bjacobi ksp_type gmre pc_type asm pc_asm_overlap sub_pc_typ lu sub_pc_factor_shift_typ nonzero ksp_type gmre pc_type asm pc_asm_overlap sub_pc_typ lu sub_pc_factor_shift_typ nonzero ksp_type gmre along follow option ksp_diagonal_scal ksp_diagonal_scale_fix ksp_gmres_modifiedgramschmidt option set precondit block input file list modulesporous_flowtesttestsnewton_coolingnci blockprecondit captionexampl use solver option mump method usual superior asm lu method isnt alway instal comput system increas pc_asm_overlap improv strength precondition use huge amount memori nonzero shift help reduc problem diagon jacobian contain zero startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md porou flow tutori page twophas thm borehol inject hold onto hat go build twophas thm simul scratch start point boreholereservoircaprock geometri develop page porous_flowtutorial_md would like simul cold co_ inject initi waterfil reservoir two phase two compon liquid phase fill water ga phase fill co_ ga quot may supercrit capillar water co_ fluid certain nontrivi rel permeabl curv heat advect fluid well conduct fluidrock system rock deform elast graviti simplic effect initi stress fluid pressur difficult includ input file becom even longer full coupl fluid temperatur displac use poros permeabl function porepressur satur temperatur displac high precis equat state use water co_ inject area co_ inject constant rate constant temperatur push mechan borehol wall outer boundari fluid remov slowli use porousflowsink model vertic displac variabl let step input file simul use water ga porepressur independ fluid pressur perfectli valid altern would use water satur ga porepressur scale factor need temperatur displac variabl discuss converg pageporous_flowconvergencemd variabl given initi condit appropri deep co_ sequestr site list modulesporous_flowexamplestutoriali startvari endkernel dictat porousflowdict given variabl name well number fluid phase compon list modulesporous_flowexamplestutoriali startdict endpc globalparam global paramet consist variou paramet requir sever porousflow object use globalparam allow input file remain organis littl succinct list modulesporous_flowexamplestutoriali startglobalparam endvari kernel kernel block rather big pleas refer govern equat pageporous_flowgoverning_equationsmd see equat model virtual power porousflow use thing miss follow chemic reaction desorpt use fluid diffus dispers activ water exist liquid phase co_ ga phase radioact decay plastic also mean plastic heat solid mechan assum quasistat kernel block list modulesporous_flowexamplestutoriali startkernel endauxvari auxvari auxkernel auxvari defin need explan solid mechan need displac variabl assumpt vertic displac alway zero best way defin auxvari without auxkernel alway zero may coupl variou moos object use displac globalparam co_ pump model constant rate achiev co_ pressur borehol must gradual increas time mean fluid borehol push borehol wall increas pressur henc pressur must record coupl mechan bc record effective_fluid_pressur auxvari mass fraction compon phase must defin even fix alway sinc unchang conveni repres auxvari certain initi condit auxkernel auxvari use visualis result list modulesporous_flowexamplestutoriali startauxvari endbc boundari condit boundari condit displac roller side fix top bottom arbitrari choic made creator input file pressur boundari condit injection_area list modulesporous_flowexamplestutoriali startroller_tmax endcold_co notic constrained_effective_fluid_pressure_at_wellbor almost effective_fluid_pressur auxvari defin evalu injection_area problem first timestep use materi properti properli initialis littl bit decept use firstli auxvari evalu injection_area put postprocessor list modulesporous_flowexamplestutoriali startpostprocessor endconstrained_effective_fluid_pressure_at_wellbor function made return either valu postprocessor e initi reservoir pressur list modulesporous_flowexamplestutoriali startfunct endprecondit final valu function place postprocessor use pressur bc list modulesporous_flowexamplestutoriali startconstrained_effective_fluid_pressure_at_wellbor end boundari condit temperatur simpl preset dirichletbc injection_area list modulesporous_flowexamplestutoriali startcold_co endconstant_co_inject boundari condit fluid injection_area constant inject co_ rate kgsm list modulesporous_flowexamplestutoriali startconstant_co_inject endouter_water_remov outer boundari water co_ remov porepressur rise initi valu porousflowpiecewiselinearsink use imaginari boundari fix porepressur sit distanc lm outsid model procedur construct sink describ fulli boundari documentationporous_flowboundariesmd inputfil block list modulesporous_flowexamplestutoriali startouter_water_remov endmodul fluid properti highprecis equat state use water co_ run simul tabul tabul version use moos comput shorten simul time list modulesporous_flowexamplestutoriali startmodul endmateri materi capillari pressur relationship defin userobject list modulesporous_flowexamplestutoriali startpc end explain page porous_flowtutorial_md page porous_flowtutorial_md set fundament materi comput porepressur satur temperatur mass fraction materi properti well gradient deriv respect primari variabl etc case hand fundament materi list modulesporous_flowexamplestutoriali startmateri endwat water co_ densiti viscos enthalpi intern energi well deriv comput list modulesporous_flowexamplestutoriali startwat endrelperm_wat corey type rel permeabilityporous_flowrelative_permeabilitymd chosen liquid phase brookscorey type rel permeabl chosen ga phase list modulesporous_flowexamplestutoriali startrelperm_wat endporos porosityporous_flowporositymd chosen depend porepressur satur actual effect porepressur temperatur mechan strain use list modulesporous_flowexamplestutoriali startporosity_mat endpermeability_aquif permeabl chosen follow kozenycarman relationship list modulesporous_flowexamplestutoriali startpermeability_aquif endrock_thermal_conduct rock thermal conduct chosen independ water satur isotrop independ rock type reservoir caprock list modulesporous_flowexamplestutoriali startrock_thermal_conduct endrock_internal_energi rock intern energi also constant list modulesporous_flowexamplestutoriali startrock_internal_energi endelasticity_tensor elast tensor rock reservoir caprock assum isotrop young modulu gpa list modulesporous_flowexamplestutoriali startelasticity_tensor endstrain strain calcul must take consider thermal strain see govern equationsporous_flowgoverning_equ well initi effect stress initi total stress assum zero simplic physic like nonzero valu doesnt chang result much initi effect stress initi porepressur list modulesporous_flowexamplestutoriali startstrain endstress thermal_contribut eigenstrain name provid stressdivergencetensor kernel way see stress linear elast list modulesporous_flowexamplestutoriali startstress endeffective_fluid_pressure_mat final effect fluid pressur must comput need poros solidfluid coupl volumetr strain feed poros list modulesporous_flowexamplestutoriali starteffective_fluid_pressure_mat endpostprocessor execution model iterationadaptivedt timestepp use dynam earli time particularli thermal shock induc sudden applic cool co_ inject area mean small timestep need time larger timestep use list modulesporous_flowexamplestutoriali startexecution endoutput end holey dooley made end well done anim result shown tutgiffig porepressur front move rel quickli follow satur front temperatur front solid mechan deform govern mostli temperatur way type dynam phase inject problem use porousflow benchmark analyt result excel agreement hope written porousflow exampl await permiss fund bodi media porous_flowtutgif stylewidthmarginleftpx captionco_ satur co_ porepressur temperatur hoop stress phase co_ inject simul idtutgiffig postscript mention page porous_flowtutorial_md problem realli axiallysymmetr problem may better model moos use rz coordin system chang input file minim apart mesh gener discuss page porous_flowtutorial_md chang item need disp_r variabl place disp_x disp_i list modulesporous_flowexamplestutorial_di startdisp_r end list modulesporous_flowexamplestutorial_di startglobalparam end list modulesporous_flowexamplestutorial_di startdict endpc mechan kernel disp_r stressdivergencetensor kernel modifi list modulesporous_flowexamplestutorial_di startgrad_stress_r endporo_r stress auxkernel modifi tensormechan rz coordin compon rr compon zz compon thetatheta therefor auxkernel read list modulesporous_flowexamplestutorial_di startstress_rr_aux endporos boundari condit mechan becom simpler list modulesporous_flowexamplestutorial_di startpinned_top_bottom_r endcold_co final strain calcul need rz type list modulesporous_flowexamplestutorial_di startstrain endthermal_contribut reader may check model produc answer although cours version much faster due degre freedom compar ds startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md numer implement time deriv introduct time deriv porousflow usual lump nodesporous_flowmass_lumpingmd mechanicallycoupl system ad complic mesh deform page describ particular implement use porousflow page self contain use notat might differ porousflow document consid volum porou materi omega omega thought one finit element region surround node could volum attach porou materi lagrangian refer frameporous_flowlagrangian_eulerianmd porou materi move deform omega rel extern observ eulerian refer frameporous_flowlagrangian_eulerianmd view movement deform outsid porou materi volum omega contain mass densiti fluid measur kgm volum porou materi porousflowporous_flowgoverning_equationsmd mphi rho schi irrelev volum omega could also contain heatenergi densiti fluid form equat follow could also thought heatenergi densiti total fluid mass within omega beginequ mathrmtot mathrmmass int_omegam endequ assum sink fluid mass within omega denot q measur kgm could also boundari flux fluid exit enter omega handl way q ignor fundament equat mass conserv beginequ labeleqnfundcon fracmathrmdmathrmd int_omegam int_omegaq endequ simpl work exampl small abus notat denot volum domain omega omega int_omega omega simplic present consid situat mmt vari spatial volum omega rememb omega vari first term eqnfundcon may written beginequ fracmathrmdmathrmd int_omegam fracmathrmdmathrmd leftomega mright endequ consid two time label old new time differ mathrmd beginequ beginalign fracmathrmdmathrmd int_omegam fracomega_mathrmnew m_mathrmnew omega_mathrmold m_mathrmoldmathrmd omega_mathrmold fracm_mathrmnew m_mathrmoldmathrmdt m_mathrmnew fracomega_mathrmnew omega_mathrmoldmathrmdt omega_mathrmold left fracparti mpartial fracomega_mathrmold m_mathrmnewfracparti omegaparti right endalign endequ connect porousflow make connect porousflow clearer assum displac vector u_i u_it defin deform omega omegat volum omegat omega_ nablacdot u omega_ volum undeform materi volumetr strain epsilon_ii nablacdot u least small strain dotomega omega_dotepsilon_ii use notat substitut eqnfundcon yield beginequ labeleqnfix int_omega_ nablacdot u_mathrmold dotm int_omega_m_mathrmnewnablacdotdotu int_omega q endequ porousflow implement follow term nabla cdot u_mathrmolddotm porousflowmasstimederivativeporousflowmasstimederivativemd porousflowenergytimederivativeporousflowenergytimederivativemd note nablacdot u_mathrmold implement code epsilon_iimathrmold involv total volumetr strain epsilon_ii calcul tensormechan strain calcul instanc computesmallstraincomputesmallstrainmd integr undeform mesh employ use_displaced_mesh fals term m_mathrmnewnablacdotdotu porousflowmassvolumetricexpansionporousflowmassvolumetricexpansionmd porousflowheatvolumetricexpansionporousflowheatvolumetricexpansionmd nablacdotdotu implement dotepsilon_ii timederiv total volumetr strain calcul tensormechan strain calcul fed porousflowvolumetricstrainporousflowvolumetricstrainmd materi also employ use_displaced_mesh fals mass energi conserv porousflowfluidmassporousflowfluidmassmd porousflowheatenergyporousflowheatenergymd postprocessor use total volumetr strain calcul porousflowvolumetricstrainporousflowvolumetricstrainmd kernel postprocessor use approach assum base_nam use_displaced_mesh paramet set correctli mass energi conserv assur use total strain porousflow implement omegat use total_strain calcul tensormechan strain calcul almost porousflow model computesmallstraincomputesmallstrainmd sinc tensormechan strain calcul base_nam input user take care choos appropri base_nam without typo sinc porousflow detect error input porousflow simpli check whether materi properti call base_name_total_strain exist porousflow use otherwis continu without totalstrain contribut correspond mechan coupl far common case base_nam defin tensormechan strain calcul also need defin porousflow howev complic situat potenti usecas error simul mechan coupl user doesnt defin tensormechan strain materi solut defin strain materi user desir simul mechan coupl user provid base_nam porousflow correspond tensormechan strain materi case porousflow simpli think user doesnt want mechan coupl blindli continu solut ensur base_nam set tensormechan strain materi simul mechan coupl user want omega defin separ tensormechan kinemat constitut law instanc tensormechan might use finit strain porousflow might use small strain solut defin one strain materi base_nam provid porousflow appropri base_nam simul mechan coupl user strain materi input file get inadvertantli use porousflow difficult debug sinc porousflow warn use strain materi porousflow simpli think user desir mechan coupl solut provid someth like base_nam non_exist porousflow detect strain calcul continu assum mechan coupl avail flow model porousflow modul design enabl simul number fluid compon number fluid phase sever special flow model avail porousflow simul common scenario gener formul provid immisc singl multiphas model includ hysteresi singl phasesinglephasemd multiphasemultiphasemd special formul miscibl twophas flow also provid use persistentpersistent_variablesmd set primari variabl multipl fluid compon handl use composit flashcompositional_flashmd calcul partit fluid compon amongst fluid phase watersteamwater_vapormd water noncondens gaswaterncgmd brine co_brinecomd startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md porou flow tutori page porousflowsink unsatur flow porousflowsinkporous_flowboundariesmd mention tutori alreadi appropri time studi care power bc handl virtual physic situat also help enorm resolv converg problemsporous_flownonlinear_convergence_problemsmd therefor well worth studi pleas feel free take break tutori read info hereporous_flowboundariesmd youv finish studi porousflowsink let appli simpl situat pure fluidflow model page porous_flowtutorial_md extend includ unsatur flow firstli porousflowbasicthm action must replac porousflowunsaturatedactionsporousflowunsaturatedmd action list modulesporous_flowexamplestutoriali startporousflowunsatur endbc evid input paramet relative_perm paramet document rel permeabilityporous_flowrelative_permeabilitymd van_genuchten capillar paramet document capillari pressureporous_flowcapillary_pressuremd porousflowconstantbiotmodulusporousflowconstantbiotmodulusmd need need porousflowbasicthm multipl fluid massbal equat densiti appropri nl_abs_tol contrast calcul page porous_flowtutorial_md list modulesporous_flowexamplestutoriali startexecution endoutput final get porousflowsink follow fluid extract injection_area constant rate kgsm howev unsatur region p rate modifi rel permeabl use_relperm true greatli improv converg mani case physic reason limit pump similar machineri list modulesporous_flowexamplestutoriali startbc endmodul anim result shown tutgiffig media porous_flowtutgif stylewidthmarginleftpx captionporepressur evolut product version boreholeaquifercaprock system idtutgiffig tri run simul use_relperm fals youll see poor converg total fluid extract time pi time approx kg product rate area total time model contain time time pi time kg product poros fluid densiti model volum model run complet dri requir extrem low porepressur affect constant rate fluid remov p get low moos start suffer precis loss simul may promot full thmc simul use approach use page porous_flowtutorial_md page porous_flowtutorial_md page porous_flowtutorial_md argument made scale variabl must modifi take account fluid densiti appear fluid equat see page porous_flowtutorial_md scale approxim temperatur displac variabl porosityporous_flowporositymd may depend porepressur temperatur volumetr strain chemistri simul describ far use full upwindingupwindingmd default porousflow tvd stabilizationktmd see also numer diffusionnumerical_diffusionmd work exampl kt stablizationkt_workedmd may use instead simpli chang porousflowunsatur block list modulesporous_flowexamplestutorial_kti startporousflowunsatur endbc startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md z index porou flow modul content atoz level locationmodulesporous_flow densitydriven convect mix porousflow may use studi convect mix fluid page discuss densitydriven convect mix co_ brine co_ exist initi liquid ga phase co_ diffus brine gaseou co_ disappear brine densiti increas drive convect mix two fluid acceler dissolut ga phase citepemami input file similar situat may found herehttpsgithubcomidaholabmooseblobmastermodulesporous_flowexampleslava_lamp alert note exampl run use multipl core due comput expens recommend singlephas model run use least four core twophas model least eight core problem involv disappear gaseou phase simul utilis persist primari variabl vaporliquid flash list modulesporous_flowexampleslava_lampphase_convectioni blockvari pga gasstat pressur capillari pressur zero also brine porepressur zi total mass fraction co_ sum two phase input file salt content brine fix list modulesporous_flowexampleslava_lampphase_convectioni startxnacl end temperatur circc list modulesporous_flowexampleslava_lampphase_convectioni starttemperatur endbrineco porepressur initialis approxim hydrostat condit total mass fraction co_ zero except toward top model domain correspond ga satur ga almost co_ brine massfract co_ liquid phase poros slightli randomis sampl uniform distribut minimum maximum valu specifi randomicrandomicmd initi condit promot initi beauti finger co_rich brine seen result random field seed chang input file command line use command line overridingcommand_line_usagemd optionaltru poros field output exodu file creat visual moos gui peacockpeacockmd optionaltru extern visual packag list modulesporous_flowexampleslava_lampphase_convectioni blockic equat state liquid brine co_ liquid brineco_ mixtur highprecis version suppli fluid_properti modulefluid_propertiesindexmd list modulesporous_flowexampleslava_lampphase_convectioni blockmodul list modulesporous_flowexampleslava_lampphase_convectioni startf end list modulesporous_flowexampleslava_lampphase_convectioni startbrineco endporos quantiti interest track use auxvari popul use follow auxkernel list modulesporous_flowexampleslava_lampphase_convectioni blockauxkernel usual phase kernel use exampl zero molecular dispers diffus coeffici nonzero list modulesporous_flowexampleslava_lampphase_convectioni blockkernel list modulesporous_flowexampleslava_lampphase_convectioni startdiffus end variou postprocessor help track total quantiti co_ two phase flux co_ brine list modulesporous_flowexampleslava_lampphase_convectioni blockpostprocessor mesh adapt use refin mesh finger form base jump gradient total mass fraction co_ sum two phase list modulesporous_flowexampleslava_lampphase_convectioni blockadapt evolut co_ mass fraction shown anim media porous_flowphase_convectiongif captionleft mass fraction co_ liquid phase right satur ga adapt mesh overlay figur idphase_convection_anim bibtex bibliographi hysteresi porousflow hysteret capillari pressur rel permeabl function implement porousflow hysteresi mean capillari pressur rel permeabl depend satur histori well current state implement hysteresi porousflow close follow tough implement describ citetdoughti citetdoughti pertin materi may found citetjayn citetniemi citetfinsterl implement capillari pressur point finiteel mesh describ one four curv function rel permeabl point describ one two curv capillarypressur curv illustr histeretic_order_fig shall qualit describ media mediaporous_flowhysteretic_orderpng captionillustr hysteret capillari pressur function idhisteretic_order_fig assum point question start full liquid satur s_l histori proce follow liquid satur gradual reduc call dri drain capillari pressur follow order zero curv zerothord dri curv also term primari dri curv time liquid satur begin increas time liquid satur s_l mathrmtp_ figur tp stand turn point partial s_lpartial increas liquid satur call wet imbib capillari pressur follow order one firstord wet curv curv mixtur primari dri curv modifi version primari wet curv mathemat descript mixtur describ later time liquid satur begin decreas time liquid satur s_l mathrmtp_ figur capillari pressur follow order two secondord dri curv later time liquid satur be increas capillari pressur follow order three thirdord curv later time liquid satur decreas increas provid satur obey mathrmtp_ s_l mathrmtp_ capillari pressur follow thirdord curv satur histori describ mean order increas howev order may also decreas illustr histeretic_order__fig secondord wet curv becom zerothord dri curv s_l leq mathrmtp_ thirdord curv becom secondord dri curv s_l leq mathrmtp_ thirdord curv becom firstord wet curv s_l geq mathrmtp_ media mediaporous_flowhysteretic_order_png captionhysteret capillari pressur curv histori dri s_l b wet s_l c dri s_l secondord dri curv follow s_l zerothord dri curv follow wet s_l e dri s_l secondord dri curv follow s_l zerothord dri curv follow f wet s_l g dri s_l secondord dri curv follow s_l zerothord dri curv follow idhisteretic_order__fig order comput porousflowhysteresisorderporousflowhysteresisordermd materi discuss detail capillari curv capillari curv base van genuchtencapillary_pressuremd curv beginequ labelvgcapeqn p_cs_l fracalpha left s_mathrmeffnn rightn endequ beginequ s_mathrmeff fracs_l s_lmin s_grdelta s_lmin endequ formula p_c capillari pressur si unit pa obey p_cgeq s_l liquid satur dimensionless alpha van genuchten paramet si unit pa two valu may enter user one describ primari dri curv primari wet curv obey alpha n van genuchten paramet dimensionless two valu may enter user one describ primari dri curv primari wet curv obey n s_lmin minimum satur van genuchten express valid dimensionless userinput obey leq s_lmin nn p_c behav like p_crightarrowinfti s_l rightarrow s_lmin sometim numer advantag andor physic necessari defin extens p_c s_ls_lmin discuss two extens shown histeretic_cap_extensions_fig s_grdelta residu ga satur s_grdelta maximum satur van genuchten express valid dimensionless user input see detail obey s_grdelta geq s_grdelta s_lmin s_lrightarrow s_grdelta p_c rightarrow sometim numer advantag andor physic necessari defin extens p_c s_l s_grdelta describ shown histeretic_cap_extensions_fig primari dri curv use beginequ s_grdelta endequ primari wet curv use beginequ s_grdelta s_grmax endequ leq s_grmax s_lmin user input note s_grmax must stricli posit cubicsplin modif water wet rel permeabl welldefin curv use valu s_grdelta describ media mediaporous_flowhysteretic_cap_extensionspng captionvari extens hysteret capillari pressur curv avail porousflow primari wet curv shown properti p_crightarrow srightarrow s_grmax recal primari wet curv use userinput s_grmax s_grdelta idhisteretic_cap_extensions_fig lower extens two type lower small s_l extens avail citepdoughti base user input valu beginequ p_cmathrmmax endequ valu extens commenc p_c p_cmathrmmax use extens origin van genuchten express vgcapeqn histeretic_cap_extensions_fig show exampl p_cmathrmmax extens design result curv continu deriv continu quadrat p_c quadrat s_l satisfi mathrmdp_cmathrmds_l s_l exponenti p_c exponenti s_l lower extens could necessari model could heat evapor water chemic reaction could occur reduc s_l s_lmin could also necessari region leq s_lmin might explor moos solver converg toward solut upper extens one type upper extens larg s_l avail citepdoughti base user input valu beginequ mathrmupperratio endequ s_l mathrmupperratio time s_grdelta upper extens use beginequ p_c propto left frac s_l mathrmupperratiotim s_grdelta rightbeta endequ coeffici proportion beta chosen ensur result ccontinu histeretic_cap_extensions_fig show exampl mathrmupperratio type extens properti p_c type extens necessari primari dri curv upper extens could necessari help moos solver converg toward solut zerothord dri curv defin vgcapeqn along option lower extens s_grdelta firstord wet curv idea use wet curv nonzero s_grdelta wet alpha n paramet valu liquid satur ensur continu firstord wet curv use nonzero valu quantiti s_grdelta vgcapeqn citepdoughti beginequ labeleqnland s_grdelta frac mathrmtp_ fracs_grmax frac s_lr mathrmtp_ endequ socal land express depend s_lr obey leq s_lr liquid residu satur defin satur liquid rel permeabl tend zero follow may notic s_l s_grdelta p_c assum upper extens s_l s_grdelta satur point curv histeretic_order_fig tend zero mathrmtp_ close s_grdelta close mean firstord wet curv quit close zerothord dri curv mathrmtp_ close s_lmin s_grdelta close s_grmax mean firstord wet curv quit close primari wet curv point illustr histeretic_different_tps_fig media mediaporous_flowhysteretic_different_tpspng captionvari firstord curv result differ turn point notic differ valu s_grdelta depend turningpoint satur idhisteretic_different_tps_fig howev vgcapeqn use s_grdelta result discontinu turn point may seen histeretic_order_fig result would jump red dri curv blue wet curv media mediaporous_flowhysteretic_orderpng captionconstruct firstord curv idhisteretic_order_fig ensur continu defin see histeretic_order_fig p_cdelta valu p_c mathrmtp_ use primari dri curv s_lwetdelta valu s_l capillari pressur p_cdelta defin use vgcapeqn use wet alpha n paramet s_grdelta arm quantiti firstord wet curv defin vgcapeqn use follow alpha n paramet primari wet curv s_grdelta defin land express eqnland tildes_l instead s_l ensur continu result beginequ labeleqnstordersl tildes_l s_lwetdelta s_l mathrmtp_ frac s_grdelta s_lwetdelta s_grdelta mathrmtp_ endequ design s_l mathrmtp_ tildes_l s_lwetdelta s_l s_grdelta tildes_l s_grdelta result green curv histeretic_order_fig smoothli transit red dri curv blue wet curv secondord dri drawn eqn citetniemi eqn citetfinsterl may slightli differ explan littl opaqu idea similar firstord case use dri curv differ satur tildes_l ensur continu result defin s_d satur primari dri curv correspond p_c mathrmtp_ tildes_l smoothli interpol mathrmtp_ s_l mathrmtp_ s_d s_l mathrmtp_ ie beginequ labeleqnndordersl tildes_l mathrmtp_ s_l mathrmtp_ fracs_d mathrmtp_mathrmtp_ mathrmtp_ endequ secondord dri curv use alpha n paramet primari dri curv s_grdelta tildes_l instead s_l defin eqnndordersl thirdord curv approach take appropri averag firstord wet curv secondord dri curv probabl citetniemi citetfinsterl citetdoughti although detail spars refer defin p_cw firstord wet capillari pressur use tildes_l defin eqnstordersl p_cd secondord dri capillari pressur use tildes_l defin eqnndordersl thirdord capillari pressur defin beginequ log p_c log p_cw mathrmtp_ fraclog p_cd log p_cwmathrmtp_ mathrmtp_ endequ produc continu capillarypressur function shown histeretic_order_fig rel permeabl hysteresi defin onephas twophas system phase assum liquid phase onephas model liquid ga rel permeabl function hysteret dri firstord wet curv defin mean system dri follow dri curv wet follow firstord wet curv subsequ dri system move along firstord wet curv turn point reach move along dri curv start point rel permeabl function liquid k_rl ga k_rg van genuchtenrelative_permeabilitymd form citetdoughti beginequ beginalign labelrelpermeqn k_rls_l sqrtbars_l left left fracbars_gt bars_ldeltaright left bars_l bars_gtm rightm fracbars_gt bars_ldelta left bars_ldeltam rightm right k_rgs_l k_rgmax left bars_l bars_gtrightgamma left bars_l bars_gtm rightm endalign endequ express beginequ beginalign bars_l fracs_l s_l r s_l r bars_ldelta fracmathrmtp_ s_l r s_l r bars_gt fracs_grdelta s_l mathrmtp_ s_l r mathrmtp_ s_grdelta endalign endequ s_l r residu liquid satur mark point liquid rel permeabl becom zero dimensionless userinput satisfi s_lmin leq s_l r k_rgmax maximum ga rel permeabl occur dri curv s_l leq s_l r dimensionless userinput satisfi k_r gmax leq frequent k_r gmax chosen gamma dimensionless index input user satisfi gamma frequent gamma approx chosen dimensionless index input user satisfi extend modifi function immedi problem function given relpermeqn defin s_l s_l r mean bars_l wet curv water also infinit deriv behavior obvious undesir numer implement probabl unphys function need extend modifi refer zerothord dri given relpermeqn s_grdelta case bars_gt function reduc beginequ beginalign labelrelpermeqn k_rls_l sqrtbars_l left left bars_lm rightmright k_rgs_l k_rgmax left bars_lrightgamma left bars_lm rightm endalign endequ assum rel permeabl valu constant outsid welldefin domain result curv form shown histeretic_krel_unextended_fig media mediaporous_flowhysteretic_krel_unextendedpng captionth basic unextend rel permeabl curv idhisteretic_krel_unextended_fig citetdoughti recommend extend modifi curv follow way hysteresi region s_l s_l r dri curv equal wet curv region mathrmtp_ s_l r mathrmtp_ s_l r use wet curv ga rel permeabl extend region s_l s_l r k_r g two type extens possibl moos cubic function satisfi k_r g k_r gs_l r k_r gmax k_r g linearlik extens cubic deriv s_l s_l r equal k_r gmax s_l r deriv equal averag slope extend region mean final result discontinu deriv s_l r result often look better eye see figur cubic extens cubic deriv s_l s_l r equal primari dryingcurv deriv point mean dri curv c continu wet curv water wet curv modifi around point s_grdelta point infinit deriv firstli assum s_grmax case follow modif work may unecessari anyway two point defin s_mathrmsmal r s_grdelta r dimensionless userinput satisfi r optim r close exampl r s_mathrmbig s_grdelta note citetdoughti defin s_mathrmbig r s_grdelta greater result poor modif ss_mathrmsmal liquid wet curv given relpermeqn use ss_mathrmbig liquid dri curv given relpermeqn use otherwis cubic spline interpol two paramet chosen final result continu continu deriv result illustr histeretic_krel_extended_fig use linearlik extens ga rel permeabl curv r media mediaporous_flowhysteretic_krel_extendedpng captionextend modifi rel permeabl curv use linearlik extens ga rel permeabl curv r idhisteretic_krel_extended_fig exampl media mediaporous_flowhysteretic_krel_example_png captionexampl hysteret rel permeabl function system initialis full satur dri satur greater s_l r wet back satur idhisteretic_krel_example_ media mediaporous_flowhysteretic_krel_example_png captionexampl hysteret rel permeabl function system initialis full satur dri satur less s_l r wet back satur extend region s_l leq s_l r dri curv equal wet curv idhisteretic_krel_example_ explor hysteresi use python script python script produc plot hysteret capillari pressur rel permeabl includ moos repositori allow user quickli explor consequ choos differ extens strategi capillari relativeperm curv well impact hysteresi order shape curv use produc figur display page list modulesporous_flowtesttestshysteresishyspi input file syntax hysteret capillar includ hysteret capillar exist nonhysteret input file follow chang need made capillarypressur userobject porousflowcapillarypressurevgporousflowcapillarypressurevgmd nolong use remov input file clariti porousflowhysteresisorderporousflowhysteresisordermd materi need includ materi comput porepressur satur need includ phase partiallysatur situat porousflowphasepporousflowphasepmd remov replac porousflowphasehyspporousflowphasehyspmd note van genuchten paramet input nonhysteret version n hysteret version n n phase situat use two porepressur primari variabl porousflowphaseppporousflowphaseppmd remov replac porousflowphasehysppporousflowphasehysppmd phase situat use liquid porepressur ga satur primari variabl porousflowphasepsporousflowphasepsmd remov replac porousflowphasehyspsporousflowphasehyspsmd exampl list modulesporous_flowtesttestshysteresisphase_rdi starthys_order_materi endpostprocessor preliminari exampl introduc hysteresi input file might use assess hysteresi evolv model evolut use porousflowhystereticinfoporousflowhystereticinfomd materi materi comput porepressur satur instead allow user visualis capillari pressur henc follow input file perform usual porousflow simul instead allow preliminari explor hysteresi list modulesporous_flowtesttestshysteresisvary_sat_i chang functionaux control satur variou hysteret curv may construct list modulesporous_flowtesttestshysteresisvary_sat_i startsat_aux endhys_ord hys_vary_sat__fig show result two hysteret simul initialis full satur dri first green curv dri s_l wet follow primari wet curv second yellow curv dri s_l wet follow firstord wet curv media mediaporous_flowhys_vary_sat_png captionth result two hysteret simul line show expect result python script cross asterisk show moos result idhys_vary_sat__fig care examin hys_vary_sat__fig reveal subtl featur implement hysteresi porousflow system dri rewet follow primari dri curv first timestep turn point asterisk s_l p_c approx instead appear primari dri curv s_l p_c approx similarli cross around consequ discuss section hys_vary_sat__rdorder_fig result functionaux ift ift ift media mediaporous_flowhys_vary_sat__rdorderpng captionth result hysteret simul system dri rewet dri rewet follow zeroth first second thirdord curv idhys_vary_sat__rdorder_fig singlephas exampl simul simpli remov add water system observ hysteret capillari pressur explor section water flux control postprocessor list modulesporous_flowtesttestshysteresisphase_rdi startflux endhys_ord dirackernel list modulesporous_flowtesttestshysteresisphase_rdi blockdirackernel remaind input file standard inclus hysteret capillari pressur list modulesporous_flowtesttestshysteresisphase_rdi starthys_order_materi endpostprocessor result hys_phase__fig media mediaporous_flowhys_phase_png captionth result singlephas simul extern pump remov add water porou materi order observ hysteret capillari pressur idhys_phase__fig twophas exampl use pp formul simul simpli add ga remov ga phase system observ hysteret capillari pressur explor section ga flux control postprocessor list modulesporous_flowtesttestshysteresisphaseppi startflux endhys_ord dirackernel list modulesporous_flowtesttestshysteresisphaseppi blockdirackernel remaind input file standard inclus hysteret capillari pressur list modulesporous_flowtesttestshysteresisphaseppi starthys_order_materi endpostprocessor result hys_phasepp__fig media mediaporous_flowhys_phasepp_png captionth result twophas simul use pp formul extern pump add remov ga porou materi order observ hysteret capillari pressur idhys_phasepp__fig twophas exampl use ps formul simul simpli add ga remov ga add phase system observ hysteret capillari pressur explor section ga flux control postprocessor list modulesporous_flowtesttestshysteresisphaseps_i startflux endhys_ord dirackernel list modulesporous_flowtesttestshysteresisphaseps_i blockdirackernel remaind input file standard inclus hysteret capillari pressur list modulesporous_flowtesttestshysteresisphaseps_i starthys_order_materi endpostprocessor result hys_phaseps__fig media mediaporous_flowhys_phaseps_png captionth result twophas simul use ps formul extern pump add remov add ga porou materi order observ hysteret capillari pressur idhys_phaseps__fig hysteret capillarypressur implement remark mention hys_vary_sat__fig reveal subtl featur implement hysteresi porousflow asterisk around s_l p_c instead appear primari dri curv around s_l p_c satur reduc along dri curv increas porousflow follow primari dri curv first timestep turn point subsequ step follow correct curv comput hysteresi order lag one timestep behind moos simul ensur reason converg behavior mention citetdoughti citetdoughti lag behaviour unfortun sideeffect simul involv hysteret capillari pressur conserv fluid mass remaind porousflow conserv fluid mass exactli time howev deal hysteret capillari pressur small amount mass lost gain whenev turn point encount limit impact upon model satur chang excess singl timestep input file syntax hysteret rel permeabl includ hysteret rel permeabl exist nonhysteret input file follow chang need made porousflowhysteresisorderporousflowhysteresisordermd materi need includ materi need comput rel permeabl exist materi porousflowrelativepermeabilityvgporousflowrelativepermeabilityvgmd need replac porousflowhystereticrelativepermeabilityliquidporousflowhystereticrelativepermeabilityliquidmd phase simul porousflowhystereticrelativepermeabilitygasporousflowhystereticrelativepermeabilitygasmd phase exampl list modulesporous_flowtesttestshysteresisphase_relpermi starthys_order_materi endpostprocessor alert note model need contain hysteret capillari pressur hysteret rel permeabl hysteresi may appear capillari pressur rel permeabl singlephas exampl simul simpli remov add water system observ hysteret rel permeabl explor section water flux control postprocessor list modulesporous_flowtesttestshysteresisphase_relpermi startflux endhys_ord dirackernel list modulesporous_flowtesttestshysteresisphase_relpermi blockdirackernel remaind input file standard inclus hysteret capillari pressur list modulesporous_flowtesttestshysteresisphase_relpermi starthys_order_materi endpostprocessor result hys_phase_relperm_fig alter flux system may dri rewet dri rewet gener result stuch hys_phase_relperm__fig media mediaporous_flowhys_phase_relpermpng captionth result singlephas simul extern pump remov add water porou materi order observ hysteret rel permeabl idhys_phase_relperm_fig media mediaporous_flowhys_phase__relpermpng captionth result singlephas simul extern pump remov water s_l approx add water s_l approx remov water s_l approx add water full satur reach idhys_phase_relperm__fig twophas exampl simul simpli add remov ga system observ hysteret rel permeabl explor section water flux control postprocessor list modulesporous_flowtesttestshysteresisphaseps_relpermi startflux endhys_ord dirackernel list modulesporous_flowtesttestshysteresisphaseps_relpermi blockdirackernel remaind input file standard inclus hysteret rel permeabl list modulesporous_flowtesttestshysteresisphaseps_relpermi starthys_order_materi endpostprocessor result hys_phaseps_relperm_fig alter flux k_rg_max gas_low_extension_typ impact variou extens may explor shown hys_phaseps_relperm__cubic_fig hys_phaseps_relperm__linear_like_fig hys_phaseps_relperm__none_fig media mediaporous_flowhys_phaseps_relpermpng captionth result twophas simul extern pump add remov ga porou materi order observ hysteret rel permeabl idhys_phaseps_relperm_fig media mediaporous_flowhys_phaseps_relperm__cubicpng captionth result twophas simul extern pump add remov ga porou materi order observ hysteret rel permeabl cubic extens use ga rel permeabl idhys_phaseps_relperm__cubic_fig media mediaporous_flowhys_phaseps_relperm__linear_likepng captionth result twophas simul extern pump add remov ga porou materi order observ hysteret rel permeabl linearlik extens use ga rel permeabl idhys_phaseps_relperm__linear_like_fig media mediaporous_flowhys_phaseps_relperm__nonepng captionth result twophas simul extern pump add remov ga porou materi order observ hysteret rel permeabl extens use ga rel permeabl sinc k_rgmax uniti idhys_phaseps_relperm__none_fig startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md porou flow tutori page overview porousflow architectur introduct new user probabl find page full gobbledygook inform may use gain experi porousflow sometim porousflow frustrat run moos keep spit back thing like materi properti porousflow_matrix_internal_energy_nod request porousflowunsaturated_energytimederiv defin block cap creat materi suppli properti call porousflow_matrix_internal_energy_nod porousflow materi choos multicompon multiphas problem error messag get even obscur debug input file help understand overal design porousflow porousflow design ye actual design hack togeth design fundament influenc follow requir multicompon multiphas fluid need simul mean kernel materi etc built use c stdvector compon phase size runtim moos read input file altern approach would separ compon phase modul anoth modul compon phase anoth compon phase anoth compon phase etc well possibl coupl temperatur mechan chemistri would huge task made even wors exhaust exhaust test document unfortun stdvector make code quit complex necessit joiner see howev make thing easier user action creat cover common usecas singlephas fluid flow use tutori far abandon page porous_flowtutorial_md mani porousflow simul mass lumpingporous_flowmass_lumpingmd full upwindingporous_flowupwindingmd kuzminturek tvd schemektmd critic avoid unphys result eg neg concentr satur vastli improv converg prevent fluid withdrawn node fluid howev moos realli suit approach kernel need materi properti thing evalu node rather quadpoint special porousflowmateri creat allow porousflow materi evalu node specifi at_nod input paramet requir version materi ad automat user shouldnt need set at_nod paramet contrast much remaind moos good nonlinear converg obtain jacobian built use deriv inform short discuss alreadi present page porous_flowtutorial_md porous_flow_var input paramet porousflowdictatorporousflowdictatormd control deriv enter jacobian howev sometim deriv extrem complic see hundr line chainrul look code moos derivativemateri system use allow develop specifi deriv desir return none specifi porousflow run simul use varieti differ nonlinear variabl instanc twophas simul use two porepressur variabl singl porepressur satur variabl thermallycoupl simul use porepressur temperatur use enthalpi variabl instead reason choic variabl greatli affect nonlinear converg phase chang boil liquid occur new set variabl need persist variabl porepressur temperatur use porousflow provid set fundament materi comput porepressur satur temperatur mass fraction variabl gradient quantiti deriv respect variabl also comput porepressur satur temperatur mass fraction materi properti use everyth els porousflow kernel often your sure porousflow kernel describ de de describ govern equationsporous_flowgoverning_equationsmd bottom page tabl show kernel name mathemat express materi form heart porousflow usual materi block input file longest complic block nodal materi mention at_nod input paramet standard porousflow materi comput properti call property_nod at_nod true comput properti property_qp at_nod fals deriv almost porousflow materi comput deriv retriev deriv inform materi combin ghastli chainrul standard call dproperty_nodal_dvar dproperty_qp_dvar materi also comput dproperty_nodal_dgradvar dgrad_property_qp_dvar etc joiner input file specifi thing like densiti rel permeabl etc phase compon porousflow materi kernel etc requir format c stdvector porousflowjoinerporousflowjoinermd even singlephas singlecompon simul need joiner creat stdvector length ad automat action system materi need unix grep util friend follow bash cd porous_flowsrcmateri grep matrix_intern c find porousflowmatrixinternalenergi materi need solv moos undefin error startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md rel permeabl rel permeabl phase function effect satur beginequ sbeta_mathrmeffsbeta fracsbeta s_mathrmresbeta sum_betas_mathrmresbeta endequ equat sbeta_mathrmeff effect satur phase beta sbeta satur phase beta s_mathrmresbeta residu satur phase beta moos input file s_mathrmr term s_re entir sum sum_betas_mathrmresbeta term sum_s_r moos deliber check sum_s_r equal sums_r may choos sum_s_r independ s_re quantiti s_mathrmeff rel permeabl zero s_mathrmeff rel permeabl uniti otherwis rel permeabl given express constant porousflowrelativepermeabilityconstporousflowrelativepermeabilityconstmd rel permeabl phase constant beginequ k_mathrmr c endequ recommend noth discourag phase disappear manifest poor converg usual k_mathrmr rightarrow srightarrow much better choic howev includ use test purpos corey porousflowrelativepermeabilitycoreyporousflowrelativepermeabilitycoreymd rel permeabl phase given citecorey beginequ k_mathrmr s_mathrmeffn endequ n userdefin quantiti origin citecorey use n wet phase porousflow modul allow arbitrari expon use media mediaporous_flowrelperm_coreypng stylewidthmarginleftpx captioncorey rel permeabl idrelperm_corey van genuchten porousflowrelativepermeabilityvgporousflowrelativepermeabilityvgmd rel permeabl wet phase given citevangenuchten beginequ k_mathrmr sqrts_mathrmeff left s_mathrmeffmm right endequ numer disadvantag deriv s_mathrmeffrightarrow tend infin mean simul satur oscil around s_mathrmeff converg well therefor cut version van genuchten express also offer almost definit indistinguish experiment origin express beginequ k_mathrmr begincas textrmvan genuchten textrmfor s_mathrmeff s_c textrmcub textrmfor s_mathrmeff geq s_c endcas endequ cubic chosen valu deriv match van genuchten express ss_c uniti s_mathrmeff nonwet phase van genuchten express beginequ k_mathrmr sqrts_mathrmeff left s_mathrmeffm rightm endequ alway page s_mathrmeff effect satur appropri phase nonwet phase case media mediaporous_flowrelperm_vgpng stylewidthmarginleftpx captionvan genuchten rel permeabl idrelperm_vg brookscorey porousflowrelativepermeabilitybcporousflowrelativepermeabilitybcmd citebrookscorey rel permeabl model extens previou citecorey formul rel permeabl wet phase given beginequ k_mathrmr w lefts_mathrmeffright lambdalambda endequ rel permeabl nonwet phase beginequ k_mathrmr nw s_mathrmeff left lefts_mathrmeffright lambdalambdaright endequ lambda userdefin expon lambda formul reduc origin citecorey form media mediaporous_flowrelperm_bcpng stylewidthmarginleftpx captionbrookscorey rel permeabl idrelperm_bc broadbridgewhit porousflowrelativepermeabilitybwporousflowrelativepermeabilitybwmd rel permeabl phase given citebroadbridg beginequ k_mathrmr k_n frack_ k_nc c s_mathrmeffs_mathrmeff endequ flac porousflowrelativepermeabilityflacporousflowrelativepermeabilityflacmd form rel permeabl use flac beginequ k_mathrmr s_mathrmeffm s_mathrmeffm endequ distinct advantag corey formul deriv continu s_mathrmeff hysteresi hysteret rel permeabl function avail porousflow document herehysteresismd bibtex bibliographi startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md porou flow tutori page use realist equat state fluid trivial add realist equat state porousflow simul instanc highprecis waterwaterfluidpropertiesmd equat state may use list modulesporous_flowexamplestutoriali startmodul endmateri name the_simple_fluid could also chang someth appropri case initi boundari condit must also chang water equat state defin p absolut vacuum exampl list modulesporous_flowexamplestutoriali startvari endporousflowbasicthm list modulesporous_flowexamplestutoriali startbc endmodul use realist highprecis equat state caus porousflow run quit slowli equat state complic evalu alway recommend use tabulatedfluidpropertiestabulatedfluidpropertiesmd follow way list modulesporous_flowexamplestutorial_tabulatedi startmodul endmateri list modulesporous_flowexamplestutorial_tabulatedi startporousflowbasicthm endbc anoth advantag use tabulatedfluidpropertiestabulatedfluidpropertiesmd bound pressur temperatur impos origin true equat state extrapol past help remov problem moos tri sampl outsid origin region valid thu caus timestep cut final case hand worth remind reader porousflowbasicthm base assumpt constant larg fluid bulk modulu constant fluid thermal expans coeffici incorrect fluid user bewar startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md multiphas flow present porousflow provid sever materi model twophas flow howev porousflow kernel design use arbitrari number fluid phase addit phase includ porousflow simpli creat new materi provid properti phase twophas flow model use either formul porepressur phase nonlinear variabl porepressur satur one phase solv materi calcul pressur satur fluid phase well deriv respect porousflow variabl twophas flow porepressur formul porousflowphaseppporousflowphaseppmd hysteret cousin porousflowphasehysppporousflowphasehysppmd twophas flow porepressur satur formul porousflowphasepsporousflowphasepsmd hysteret cousin porousflowphasehyspsporousflowphasehyspsmd syntax complet groupsporousflowapp capillari pressur capillari pressur pressur differ two fluid phase porou medium aris due interfaci tension fluid phase surfac tension fluid porou medium capillari pressur p_c commonli defin citepbear beginequ p_c p_nw p_w endequ p_nw pressur nonwet phase typic ga phase p_w pressur wet phase typic liquid phase case singl unsatur phase common use p_c p_w convent employ porousflow case capillari pressur relev p_wleq result s_mathrmeffleq use formula otherwis p_w s_mathrmeff capillari pressur given younglaplac equat citepbear beginequ p_c frac gamma costhetar_c endequ gamma interfaci tension theta contact angl wet phase surfac porou medium r_c radiu curvatur interfac see citebear due difficulti measur gamma theta real porou rock empir semiimpir formul capillari pressur propos relat capillari pressur effect satur sever capillari pressur formul avail porou flow modul suitabl either porepressur formul effect satur satur calcul use capillari pressur porepressuresatur formul capillari pressur calcul use satur follow effect satur beginequ s_mathrmeff frac s_mathrmlr s_mathrmlr endequ wettingphas liquid effect satur wet phase satur quantiti s_mathrmlr wettingphas residu satur term sat_lr moos input file porepressur formul comput s_mathrmeff function capillari pressur henc appear fluid mass rel permeabl etc constant porousflowcapillarypressureconstporousflowcapillarypressureconstmd simpl model capillari pressur constant beginequ p_c c endequ formul use test purpos van genuchten porousflowcapillarypressurevgporousflowcapillarypressurevgmd van genuchten capillarypressur relationship citepvangenuchten beginequ labeleqvg_cap s_mathrmeff begincas textrmif p geq alpha pmm textrmif p endcas endequ beginequ p_c begincas textrmif s_mathrmeff fracalpha s_mathrmeffm textrmif s_mathrmeff endcas endequ effect satur denot s_mathrmeff p porepressur neg capillari pressur p p_c alpha userdefin paramet paramet must satisfi beginequ endequ sometim van genuchten function defin term paramet beginequ n frac endequ van genuchten paper find good fit experiment data variou soil rock paramet rang mean n roughli alpha time pa time pa van_genuchten_pc show shape van genuchten suction p_c function s_mathrmeff numer three import featur eqvg_cap s_mathrmeff monoton decreas function p_c necessari uniqu solut p_crightarrow infti s_mathrmeffrightarrow mention justifi physic numer extrem advantag p_crightarrow p_cinfti latter version often caus algorithm get stuck around s_mathrmeff also mention low rel permeabl around s_mathrmeff physic realist problem rare explor s_mathrmeffsim region s_mathrmeffrightarrow mathrmds_mathrmeffmathrmdp_c rightarrow p_crightarrow ensur continu porepressur p deriv mathrmdsmathrmdp around full satur rememb definit s_mathrmeff p_c also mathrmds_mathrmeffmathrmdp_c rightarrow p_crightarrow alert note user encourag set media mediaporous_flowvan_genuchten_pcpng idvan_genuchten_pc stylewidthmarginleftpx captionthre valu shown modif eqvg_cap avail s_mathrmeff replac s_mathrmeffr p_c p_c p_cr rleq scale factor mean deriv mathrmds_mathrmeffmathrmdp_cneq s_mathrmeffrightarrow occasion set r advantag fullysatur phase simul two porepressur independ nonlinear variabl brookscorey porousflowcapillarypressurebcporousflowcapillarypressurebcmd brookscorey capillarypressur relationship citepbrookscorey beginequ s_mathrmeff left fracp_cp_ rightlambda endequ beginequ p_c p_e s_mathrmefflambda endequ p_e threshold entri pressur lambda userdefin expon brook corey origin relat expon lambda statist distribut pore size porou medium valu lambda less suggest narrow distribut pore size valu greater suggest broad distribut pore size broadbridgewhit porousflowcapillarypressurebwporousflowcapillarypressurebwmd broadbridgewhit capillar relationship valid small k_n citepbroadbridg beginequ s_mathrmeff s_n s_ s_n fracc lx endequ beginequ x c ec c plambda endequ lx lambert wfunction satisfi lzelzz limit use real simul use porou flow modul comparison analyt solut citebroadbridg citewarrick multiphas infiltr drainag problem alert note effect satur function capillari pressur avail porousflowcapillarypressurebw rogersstallybrasscl porousflowcapillarypressurerscporousflowcapillarypressurerscmd rogersstallybrasscl capillari relationship citeprsc beginequ s_mathrmeff fracsqrt expp_c ab endequ oil viscos exactli twice water viscos limit use real simul use porou flow modul comparison analyt solut offer author multiphas infiltr drainag problem alert note effect satur function capillari pressur avail porousflowcapillarypressurebw logarithm extens low liquid satur sever capillari pressur formul capillari pressur deriv approach infin liquid effect satur approach zero desir calcul effect satur function capillari pressur undesir calcul capillari pressur numer use satur often lead numer converg issu default numer implement capillari pressur curv implement hard maximum effect satur decreas order avoid unphys valu capillari pressur deriv approach avoid infinit valu lead numer difficulti satur close residu effect satur close zero due discontinu deriv capillari pressur respect satur overcom logarithm extens detail citewebb implement low satur formul capillari pressur approach infin small liquid satur extens raw capillari pressur curv beginequ p_c p_cmax ms endequ use satur less valu valu calcul capillari pressur curv continu smooth maximum capillari pressur p_cmax see pc_vg_logext exampl van genuchten capillari pressur pc_bc_logext brookscorey capillari pressur figur s_mathrmlr sapprox vg sapprox bc media mediaporous_flowpc_vg_logextpng idpc_vg_logext stylewidthmarginleftpx captionlogarithm extens van genuchten capillari pressur curv residu satur media mediaporous_flowpc_bc_logextpng stylewidthmarginleftpx idpc_bc_logext captionlogarithm extens brookscorey capillari pressur curv residu satur hysteresi hysteret capillari pressur function avail porousflow document herehysteresismd bibtex bibliographi poros poros may fix constant valu may function effect porepressur volumetr strain temperatur andor chemic precipit avail poros formul includ constant porousflowporosityconstporousflowporosityconstmd simplest case poros chang simul singl valu poros use spatial vari poros auxvari use defin heterogen poros distribut linear porousflowporositylinearporousflowporositylinearmd case beginequ labeleqporo_evolve_linear phi phi_mathrmref ap_f p_f mathrmref bt t_mathrmref cepsilonmathrmtotal_ii epsilonmathrmtotal_ii mathrmref endequ ref valu refer valu p_f effect fluid pressureporousfloweffectivefluidpressuremd temperatureporousflowtemperaturemd epsilonmathrmtotal_ii total volumetr strainporousflowvolumetricstrainmd may spatiallyvari auxvari defin heterogen poros distribut b c realvalu coeffici lowerbound poros phi geq phi_mathrmmin may also defin exponenti porousflowporosityporousflowporositymd use porousflowporosityporousflowporositymd appropri set flag poros depend total strain mechan true effect porepressur fluid true temperatur thermal true precipit miner chemic true combin may use simul instanc thm hm coupl theoret evolut poros lead exponenti form evolut poros govern citepdetournayet chen beginequ labeleqphi_dog fracpartialparti tphi alpha_b phi mfracpartialparti leftepsilonmathrmtotal_ii alpha_t fracalpha_bk p_mathrmf right endequ k bulk modulu drain porou skeleton k delta_ijdelta_klc_ijkl also alpha_t volumetr coeffici thermal expans denot total precipit miner concentr beginequ sum_mathrmmineralsw_mathrmminer c_mathrmminer endequ w userdefin weight miner c concentr mm precipit miner special form fractur flow sometim conveni extend eqphi_dog includ new biot coeffici alpha_b beginequ labeleqphi_dog_prim fracpartialparti tphi alpha_b phi mfracpartialparti leftepsilonmathrmtotal_ii alpha_t fracalpha_bk p_mathrmf right endequ form use model flow fractur poros increas porepressur simul alpha_b solut equat poros solut beginequ labeleqporo_evolv phi alpha_b phi_ m_mathrmref alpha_btim exp left fracalpha_b kp_f p_fmathrmref epsilonmathrmtotal_ii alpha_tt tmathrmref right endequ phi_ poros refer porepressur zero elast strain refer temperatur refer miner concentr note poros becom neg option ensur posit detail timelag mineralis problem mineralis phi depend total miner concentr howev evolut govern dotm phi s_mathrmaq reaction rate independ poros depend primari chemic speci temperatur etc s_mathrmaq aqueou phase satur therefor circular depend exist phi depend depend phi could broken promot poros moos variabl solv instead porousflow replac eqporo_evolv approxim form beginequ rightarrow m_mathrmold phi_mathrmold s_mathrmaq mathrmdt endequ note old valu poros use righthandsid break cyclic depend problem thermalmechan simul without porepressur mineralis effect correct express poros function volumetr strain temperatur beginequ labeleqporotm_evolv phi phi_ time exp left epsilonmathrmtotal_ii alpha_tt tmathrmref right endequ express may modifi includ effect plastic prevent neg poros exponenti express eqporo_evolv eqporotm_evolv yield neg poros valu unphys ensur posit phi porousflow offer follow option first write equat form beginequ phi b expx endequ deriv specif form b x assum x small sinc physic geq b x poros physic meaning xgg phi becom neg exampl posit volumetr strain x poros alway physic meaning howev porou materi squash neg larg volumetr strain xgg poros becom neg defin beginequ c logaab endequ x express phi replac beginequ phi b expleftc expxc right geq endequ first glanc express may appear rather obscur construct satisfi follow requir xrightarrow phirightarrow b necessari continu x xrightarrowinfti phirightarrow physic desir express monoton decreas physic desir comput desir otherwis may nonuniqu solut porousflow simul final x deriv phi b desir continu deriv x evolut poros isotherm mineralfre situat evolut poros fundament coupl flow solid mechan consid isotherm situat plastic follow present mostli drawn citepdetournayet denot chang quantiti q delta q recal poros defin phi v_mathrmfv v arbitrari volum porou materi v_mathrmf porevolum within volum also definit effect stress beginequ delta epsilon_ij c_ijkldeltasigma_ijmathrmtot alpha_b delta_ijdelta p_mathrmf endequ take trace equat use vdelta v delta epsilon_ii yield beginequ fracdelta vv delta_ijc_ijkldeltasigma_ijmathrmtot alpha_b delta_ijdelta p_mathrmf endequ instanc appropri write equat beginequ labeleqfund_volstrain fracdelta vv frackp_mathrmmech alpha_b delta_ijdelta p_mathrmf endequ detournay cheng eqna total mechan pressur beginequ p_mathrmmech textrmtrsigma endequ k socal drain bulk modulu k delta_ijc_ijkldelta_kl find evolut equat poros similar equat delta v_mathrmfv_mathrmf must deriv assum linear beginequ labeleqdeltavf fracdelta v_mathrmfv_mathrmf a_ij deltasigma_ijmathrmtot b delta_ijdelta p_mathrmf endequ detournay cheng eqnb bettimaxwel reciproc theorem yield a_ij b shown work increment beginequ mathrmd w p_mathrmmech mathrmd v p_mathrmf mathrmd v_mathrmf endequ deform take p_mathrmmech p_mathrmmechi p_mathrmmechf p_mathrmf p_mathrmfi p_mathrmff total work beginequ beginalign w int p_mathrmmech mathrmdv int p_mathrmf mathrmdv_mathrmf fracvkint_p_mathrmmechip_mathrmmechfp_mathrmmech mathrmdp_mathrmmech fracvalpha_bkint_p_mathrmfip_mathrmffp_mathrmmech mathrmdp_mathrmf v_mathrmfa_iiint_p_mathrmmechip_mathrmmechfp_mathrmf mathrmdp_mathrmmech v_mathrmfa_iibint_p_mathrmfip_mathrmff p_mathrmf mathrmdp_mathrmf endalign endequ consid two experi first take p_mathrmmech p_mathrmmech p_mathrmf fix leav p_mathrmmech fix take p_mathrmf p_mathrmf first take work vp_mathrmmechk second take work alpha_b vp_mathrmmech p_mathrmfk v_mathrmfa_iib p_mathrmf first take p_mathrmf p_mathrmf p_mathrmmech fix leav p_mathrmf fix take p_mathrmmech p_mathrmmech first take work v_mathrmfa_iib p_mathrmf second take work vp_mathrmmechk v_mathrmfp_mathrmmech a_iip_mathrmf two experi must give work done call bettimaxwel reciproc theorem yield beginequ labeleqtildek a_ij alpha_b c_ijkldelta_klphi endequ detournay cheng eqn identifi b consid socal ideal porou materi characteris fullyconnect pore space homogen isotrop matrix materi case appli uniform porepressur p_f equal mechan pressur p_mathrmmechp_f solid materi experi uniform pressur throughout skeleton mean deform uniformli without shape chang beginequ fracdelta v_mathrmfv_mathrmf fracdelta vv endequ substitut equat specif pressur condit eqtildek eqfund_volstrain eqdeltavf yield beginequ b phi phialpha_b endequ detournay cheng eqn b definit alpha_b tabl a_ij b identifi may substitut eqdeltavf rearrang yield beginequ fracdelta v_mathrmfv_mathrmf fracalpha_bphidelta_ijc_ijkl left delta sigma_klmathrmtot alpha_b delta_kl delta p_mathrmf right fracdelta_ijdelta_klc_ijklphialpha_balpha_bphidelta p_f endequ use express delta vv yield beginequ delta v_mathrmf valpha_bdeltaepsilon_ii vdelta_ijdelta_klc_ijklalpha_balpha_bphidelta p_f endequ deltaphi vdelta v_mathrmf v_mathrmfvdelta v use definit k yield beginequ fracparti phiparti alpha_b phifracparti epsilon_iiparti fracalpha_balpha_b phikfracparti p_mathrmfparti endequ written eqphi_dog evolut poros due miner precipit consid case without fluid porepressur temperatur miner precipit concentr miner speci c_mathrmm defin v_mathrmmv numer volum miner speci denomin refer volum suppos v v_mathrmm v_mathrmf definit poros phi v_mathrmfv consid volum chang via dotv dotepsilonv epsilon volumetr strain chang volum miner dotv_mathrmm chang poros evolv beginequ dotphi fracdotv_mathrmfv fracv_mathrmfdotvv fracdotvdotv_mathrmmv phidotepsilon endequ yield littl algebra beginequ dotphi dotc_mathrmm left phi c_mathrmm right dotepsilon endequ written eqphi_dog bibtex bibliographi fractur flow use multiapp approach transfer porousflow use simul flow fractur porou media case fractur network complic incorpor porousmedia mesh fundament premis fractur consid lower dimension entiti within higherdimension porou media page part set describ moos multiapp approach simul model introductionmultiapp_fracture_flow_introductionmd mathemat physic interpretationmultiapp_fracture_flow_equationsmd transfersmultiapp_fracture_flow_transfersmd multiapp primermultiapp_fracture_flow_primermd diffus equat fractur quantifi error introduc multiapp approach diffus mix dimensionsmultiapp_fracture_flow_diffusionmd porou flow singl matrix systemmultiapp_fracture_flow_porousflow_dmd porou flow small fractur networkmultiapp_fracture_flow_porousflow_dmd number differ transfer use multiapp fractur flow simul page explain function type rememb transientmultiapptransientmultiappmd capabl interpolate_transf subcycl featur use page could employ sophist model reduc oscillatori behaviour multiappreportertransf nodalvaluesamplernodalvaluesamplermd vectorpostprocessor defin fractur app record fractur node heat transfer fractur matrix multiappreportertransfermultiappreportertransfermd transfer inform vectorpostprocessor matrix app multiappmeshfunctiontransf multiappmeshfunctiontransfermultiappmeshfunctiontransfermd use transfer matrix temperatur fractur mesh matrix shape function use interpol matrix temperatur fracturenod posit shown meshfunction_matrix_to_fractur extrapol transfer fit use matrix domain contain fractur domain fractur element poke matrix mesh insid matrix mesh extrapol requir multiappinterpolationtransfermultiappinterpolationtransfermd must use media porous_flowexamplesmultiapp_flowmeshfunction_matrix_to_fracturepng stylewidthmarginautopaddingtop idmeshfunction_matrix_to_fractur captiontemperatur indic color transfer matrix squar element fractur zigzag line use multiappmeshfunctiontransf fractur node lie outsid matrix domain get prescrib valu transfer remain initi valu zero case multiappinterpolationtransf multiappinterpolationtransfermultiappinterpolationtransfermd may use transfer matrix temperatur fractur mesh shown interpolation_matrix_to_fractur node fractur mesh look nearest num_point default node matrix mesh receiv temperatur valu interpol three temperatur mention altern use multiappmeshfunctiontransfermultiappmeshfunctiontransfermd use matrix shapefunct inform instead requir fractur domain includ within matrix domain sinc extrapol perform media porous_flowexamplesmultiapp_flowinterpolation_matrix_to_fracturepng stylewidthmarginautopaddingtop idinterpolation_matrix_to_fractur captiontemperatur indic color transfer matrix fractur use multiappmeshfunctiontransf fractur node lie outsid matrix domain get prescrib valu transfer fractur node lie insid matrix domain depend default closest matrix temperatur valu multiappnearestnodetransf multiappnearestnodetransfermultiappnearestnodetransfermd transfer inform regard fracturenorm direct element length thermal conduct element quantiti viz constant monomi auxvari fracturenorm direct matrix element look closest fractur element retriev normal vector fractur element nearestnode_fracture_to_matrix matrix element distant fractur retriev inform never impact simul result may perform implic larg mesh quit number search must perform build requir inform media porous_flowexamplesmultiapp_flownearestnode_fracture_to_matrixpng stylewidthmarginautopaddingtop idnearestnode_fracture_to_matrix captiona constant monomi field indic color transfer fractur zigzag line matrix squar element use multiappnearestnodetransf clariti exampl transfer arbitrari variabl call fracture_var fractur normal direct small white line indic fractur element contribut matrix element white line normal direct note multiappinterpolationtransfermultiappinterpolationtransfermd could use instead matrix element small compar fractur element inform receiv matrix element would influenc distant fractur element hand matrix element larg compar fractur element multiappinterpolationtransfermultiappinterpolationtransfermd could provid better estim averag fracturenorm direct within matrix element element length thermal conduct fractur element look closest matrix element retriev element normallength normal thermal conduct nearestnode_matrix_to_fractur media porous_flowexamplesmultiapp_flownearestnode_matrix_to_fracturepng stylewidthmarginautopaddingtop idnearestnode_matrix_to_fractur captiona constant monomi field indic color transfer matrix fractur use multiappnearestnodetransf even fractur element lie outsid matrix domain get prescrib valu transfer note multiappinterpolationtransfermultiappinterpolationtransfermd could provid better estim element length conduct matrix element small compar fractur element hand matrix element larg compar fractur element use multiappinterpolationtransfermultiappinterpolationtransfermd would mean inform receiv fractur element would influenc distant matrix element multiappcopytransf copi valu ident mesh use mixeddimension fractur flow exampl starttutorial_md previoustutorial_md nexttutorial_md porou flow tutori page singl fluid tutori page describ porousflow use solv simpl fluidflow problem physic describ equat beginequ labeleqbasicthm fracdotpm alpha_bdotepsilon_v adott nabla_ileftfrack_ijmuleftnabla_jp rho g_jrightright endequ simplest type equat porousflow solv often use thermoporoelast porousflow often employ solv much complex equat see govern equationsporous_flowgoverning_equationsmd detail porousflowfullysaturatedmasstimederivativeporousflowfullysaturatedmasstimederivativemd porousflowfullysaturateddarcybaseporousflowfullysaturateddarcybasemd deriv eqbasicthm gener govern equat equat p fluid porepressur unit pa overdot repres time deriv biot modulu unit pa alpha_b biot coeffici dimensionless dotepsilon_v rate volumetr strain solid rock unit effect volumetr thermal expans coeffici unit k temperatur unit k nabla repres spatial deriv k_ij permeabl tensor unit mu fluid viscos unit pa rho fluid densiti unit kgm g_j gravit acceler unit ms unit suggest manditori consist unit system may use moos instanc reservoir physic often conveni express everyth mpa year rather pa second biot modulu beginequ fracm fracphik_f frac alpha_balpha_b phik endequ effect volumetr thermal expans coeffici beginequ alpha_b phialpha_t phialpha_f endequ equat phi poros dimensionless k_f bulk modulu fluid unit pa k bulk modulu drain porou skeleton unit pa alpha_t volumetr thermal expans coeffici drain porou skeleton unit k alpha_f volumetr thermal expans coeffici fluid unit k derivationporousflowfullysaturatedmasstimederivativemd eqbasicthm full porousflow equationsgoverning_equationsmd assum constant tutori page solv fluid flow dotepsilon_v dott eq eqbasicthm ignor set zero porousflow input file must contain porousflowdictatorporousflowdictatormd almost porousflow object kernel materi etc requir porousflowdict provid enabl porousflow make consist check number fluid phase compon chemic reactant etc therefor input file specifi name global block list modulesporous_flowexamplestutoriali startglobalparam endvari porousflow simul requir fluid properti suppli instanc simplefluidpropertiessimplefluidpropertiesmd use assum constant fluid bulk modulu viscos list modulesporous_flowexamplestutoriali startmodul endmateri de eqbasicthm implement follow way list modulesporous_flowexamplestutoriali startvari endbc one variabl porepressur coupl heat mechan graviti set zero porousflowbasicthmporousflowbasicthmmd option input encourag explor includ set temperatur nondefault valu valu auxvari fluid properti may depend temperatur even isotherm situat tutori page boundari condit fix porepressur mpa inject area boundari default zero flux list modulesporous_flowexamplestutoriali startbc endmodul poros biot modulu permeabl defin materi block list modulesporous_flowexamplestutoriali startmateri endprecondit result shown tut_gif_fig media porous_flowtutgif stylewidthmarginleftpx captionporepressur evolut boreholeaquifercaprock system idtut_gif_fig starttutorial_md previoustutorial_md nexttutorial_md simul underground coal mine introduct underground longwal coal mine coal mine panel shown lw_mining_graphicfig panel typic height width long coal extract one end move toward end mine progress void creat behind mine machineri coal use rock materi void overburdeni strong enough support collaps downward result partial void collaps materi call goaf gob media mediaporous_flowlw_mining_graphicpng idlw_mining_graphicfig stylewidthmarginleftpx captionpictori represent singl panel longwal mine dimens process describ text figur sourc citizensagainstlongwallminingorg obtain energi inform administr mani geotechn aspect interest process exampl concentr follow vertic displac ground surfac due longwal mine call subsid obvious effect build manmad structur like road also chang surfac water pathway affect veget caus surfacewat pond effect local ecolog vertic deform within overburden pattern fractur overburden togeth previou item effect oper aspect longwal mine load pattern chock support roof goaf next mine machineri also strongli effect flow fluid porou rock make overburden discuss next flow water rock fractur deform extens fluid easili move rock result mine flood water caus excess drawdown groundwat aquif effect user groundwat irrig farm effect rate groundwat baseflow surround river system may effect local notsoloc ecosystem deform fractur overburden also lead aquif mix aquif consist dirti water high salin exampl pollut nearbi aquif clean water although studi exampl deform fractur also lead larg releas methan ga overli underli coal seam methan flow highli permeabl fractur rock system atmospher result larg greenhous ga emiss flow mine work extrem hazard term mine fire explos exampl seek build realist model specif mine instead explain porousflow modul use build model explor simpl model model two input file provid exampl coarse_with_fluidihttpsgithubcomidaholabmooseblobmastermodulesporous_flowexamplescoal_miningcoarse_with_fluidi fine_with_fluidihttpsgithubcomidaholabmooseblobmastermodulesporous_flowexamplescoal_miningfine_with_fluidi essenti differ input mesh result drawn fine model take hour complet comput cluster coars model might better model explor initi geometri dfig show geometr setup well fine mesh model repres singl longwal panel total width length half width model appropri boundari condit use simul full panel fine model panel mesh squar element media mediaporous_flowd_coal_modelpng iddfig stylewidthmarginleftpx captionth geometri model mesh use singl longwal panel total width length repres region fine mesh fluid mechan singlephas unsatur fluid use nonlinear variabl fluid porepressur full coupl mechan deform use kernel read list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startmass endauxvari stress measur mpa time unit year biot coeffici use fluid properti list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startmodul endmateri van genuchten capillari pressur relationship use list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startpc endmc_coh_strong_harden corey rel permeabl use list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startrelperm endelasticity_tensor_ fluid porepressur fix outer boundari porousflowpiecewiselinearsinkmodulesporous_flowsrcbcsporousflowpiecewiselinearsinkc spatial tempor vari flux_funct use withdraw water rock goaf list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startfix_porepressur endroof_bc multiphas scenario simpl represent goaf boundari condit valid solid mechan layer cosserat solid mechan employ mean translat rotat degre freedom quasistat approxim use solidmechan kernel list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startcx_elast endmass quit complic elastoplast model use account major nonlinear iter model well rel slow comput residu jacobian elast tensor one standard one cosserat comput via list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startelasticity_tensor_ endstrain excav_sideway function simul excav coal ahead coal face zero behind small strain use insitu stress increas depth assum list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startstrain endstress_ cap mohrcoulomb plu weakplan plastic use plastic model cycl list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startstress_ endundrained_density_ plastic moduli list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startmc_coh_strong_harden endmodul roller boundari condit prescrib boundari roof excav stickybcstickybcmd employ prevent roof collaps list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startroof_bc end coupl full coupl fluid solid mechan evid kernel porousflowdictatorporousflowdictatormd ensur nonzero jacobian entri comput list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startdict endpc aspect fluidsolid coupl poros list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startporosity_bulk endporosity_excav permeabl list modulesporous_flowexamplescoal_miningcoarse_with_fluidi startpermeability_bulk endpermeability_excav result despit simpl model interest litholog usual induc characterist fractur displac pattern result display mani interest featur media porous_flowdestressed_evolutiongif iddestressed_evolutionfig stylewidthmarginleftpx captionth evolut destress zone vertic stress less magnitud initi vertic stress zone color magnitud destress black rectangl show coal excav media porous_flowdisplacement_evolutiongif iddisplacement_evolutionfig stylewidthmarginleftpx captionth evolut zone vertic displac cm zone color magnitud vertic displac black rectangl show coal excav media porous_flowpp_evolutiongif idpp_evolutionfig stylewidthmarginleftpx captionth evolut zone porepressur reduc mpa zone color magnitud porepressur reduct green arrow show darci veloc black rectangl show coal excav interest featur initi roof hold suddenli collaps around excav point period plastic strain vertic stress although may artificat mesh rather anyth physic minimum vertic displac actual u_zm region sudden collaps occur toward start panel stickybc suffici prevent therefor result toward panel begin shouldnt treat serious avoid moos constraint system miningspecif featur csiro privat moosebas app could employ signific rock fractur indic mohrcoulomb plastic strain greater immedi roof mohrcoulomb shear failur much prevel mohrcoulomb tensil failur throughout model mohrcoulomb shear failur also occur unexcav materi close panel rib roadway tensil open joint occur larg region roof indic weakplan tensil plastic greater shear failur joint occur throughout region model goaf greater immedi approx roof surround unexcav materi experi larg vertic load annular region outsid excav destress materi goaf therefor experi destress recompact poros permeabl enhanc typic occur region highest weakplan failur permeabl increas approxim factor goaf region actual tini enhanc compar expect valu around due kozenycarman permeabl relationship realli valid set reader interest simul realist mininginduc permeabl enhanc enquir use csiro privat moosebas app mininginduc drawdown water porepressur ground surfac start occur around week excav model region panel rapidli becom unsatur satur reach approxim water flow goaf region high darci fluid veloc occur around peripheri mine panel result along centrelin panel figur show result contour vertic section along centrelin panel excav complet excav shown black line media mediaporous_flowlong_mc_shearpng stylewidth captionmohrcoulomb shear plastic strain vertic section along centrelin panel media mediaporous_flowlong_mc_tensilepng stylewidth captionmohrcoulomb tensil plastic strain vertic section along centrelin panel media mediaporous_flowlong_wp_shearpng stylewidth captionweakplan shear plastic strain vertic section along centrelin panel media mediaporous_flowlong_wp_tensilepng stylewidth captionweakplan tensil plastic strain vertic section along centrelin panel media mediaporous_flowlong_perm_zzpng stylewidth captionvert permeabl vertic section along centrelin panel media mediaporous_flowlong_pppng stylewidth captionporepressur color darci flow vector vertic section along centrelin panel result across panel figur show result contour vertic section across halfpanel model excav complet excav shown black line media mediaporous_flowcross_mc_shearpng stylewidth captionmohrcoulomb shear plastic strain vertic section across panel media mediaporous_flowcross_mc_tensilepng stylewidth captionmohrcoulomb tensil plastic strain vertic section across panel media mediaporous_flowcross_wp_shearpng stylewidth captionweakplan shear plastic strain vertic section across panel media mediaporous_flowcross_wp_tensilepng stylewidth captionweakplan tensil plastic strain vertic section across panel media mediaporous_flowcross_perm_zzpng stylewidth captionvert permeabl vertic section across panel media mediaporous_flowcross_pppng stylewidth captionporepressur color darci flow vector vertic section across panel numer diffus page part set page devot discuss numer stabil porousflow see numer stabil lead pagestabilizationmd mass lumpingmass_lumpingmd full upwindingupwindingmd kuzminturek stabilizationktmd numer diffusionnumerical_diffusionmd work exampl kuzminturek stabilizationkt_workedmd numer diffus artif smooth quantiti temperatur concentr transport numer model case porousflow usual fluid transport quantiti fluid advect temperatur chemic speci numer diffus major sourc inaccur result simul moos predict tracer breakthrough time etc much shorter realiti anim tracer advect shown tracer_advection_anim notic initiallysharp profil suffer diffus media porous_flowtracer_advectiongif stylewidthmarginleftpx captiontrac advect porepressur gradient idtracer_advection_anim numer diffus mention variou piec porousflow document eg tutorial_md sourcekernelsporousflowfullysaturateddarcyflowmd document concern sink testsporous_flowtestssinkssinks_testsmd heat advect test pageporous_flowtestsheat_advectionheat_advection_testsmd two main sourc numer diffus employ larg time step moos implicit time step scheme full upwind use porousflow quantifi numer diffus exampl singlephas tracer advect problem studi porepressur gradient establish darci veloc k nabla pmu ms poros chosen tracer advect porepressur gradient constant veloc phi knabla pmu ms degre numer diffus function spatial tempor discretis well upwind rdg reconstruct limit quantifi seven input file creat use framework moos object mass lump upwind use porousflow fullysatur action masslump use upwind use standard masslump fullyupwind porousflow kernel use rdg modul reconstruct rdgp tracer constant monomi variabl cf linear lagrang variabl porousflow use rdg modul linear reconstruct rdgpp tracer constant monomi linear form reconstruct limit use rdg mc limit anoth limit could chosen similar result use kuzminturek scheme flux limit ident fulli upwind case use kuzminturek scheme flux limit similar rdgpop case kuzminturek scheme describ kuzmin turek highresolut femtvd scheme base fulli multidimension flux limit journal comput physic volum mass lump upwind moos input file list modulesporous_flowtesttestsnumerical_diffusionframeworki framework_el framework_dt show depend discretis masslump upwind evid lack upwind caus overshoot undershoot diffus becom less spatial discretis becom finer media mediaporous_flowframework_elespng stylewidthmarginleftpx captiondiffus function number element number time step fix mass lump upwind use idframework_el media mediaporous_flowframework_dtpng stylewidthmarginleftpx captiondiffus function number time step number element fix mass lump upwind use idframework_dt mass lump upwind moos input file list modulesporous_flowtesttestsnumerical_diffusionfully_saturated_actioni no_upwind_el no_upwind_dt show depend discretis upwind evid lack upwind caus overshoot undershoot diffus becom less spatial discretis becom finer media mediaporous_flowno_upwind_elespng stylewidthmarginleftpx captiondiffus function number element number time step fix upwind use idno_upwind_el media mediaporous_flowno_upwind_dtpng stylewidthmarginleftpx captiondiffus function number time step number element fix upwind use idno_upwind_dt mass lump full upwind moos input file ident one save porousflowfullysatur block must contain stabil full porousflowfullysatur porepressur porepressur coupling_typ hydro graviti fp the_simple_fluid mass_fraction_var tracer stabil full also test suit contain nonact versionhttpsgithubcomidaholabmooseblobmastermodulesporous_flowtesttestsnumerical_diffusionno_actioni upwind_el upwind_dt show depend discretis full upwind use media mediaporous_flowupwind_elespng stylewidthmarginleftpx captiondiffus function number element number time step fix full upwind use idupwind_el media mediaporous_flowupwind_dtpng stylewidthmarginleftpx captiondiffus function number time step number element fix full upwind use idupwind_dt rdgp rdg variabl tracer case constantmonomi constant throughout element mean moos behav like finit volum method mean output look less smooth usual linearlagrang variabl figur display step result moos input file list modulesrdgtesttestsadvection_drdgpi rdgp_ele rdgp_dt show depend discretis rdgp use ident masslump fullupwind fact constantmonomi variabl use instead linearlagrang expect oscil overshoot undershoot result suffer numer diffus media mediaporous_flowrdgp_elespng stylewidthmarginleftpx captiondiffus function number element number time step fix rdgp use idrdgp_el media mediaporous_flowrdgp_dtpng stylewidthmarginleftpx captiondiffus function number time step number element fix rdgp use idrdgp_dt rdgpp moos input file almost ident rdgp version save chang slopelimit scheme none mc anoth limit minmod superbe rdgpp_ele rdgpp_dt show depend discretis rdgpp use rdgp oscil overshoot undershoot howev numer diffus greatli reduc linear reconstruct media mediaporous_flowrdgpp_elespng stylewidthmarginleftpx captiondiffus function number element number time step fix rdgpp use idrdgpp_el media mediaporous_flowrdgpp_dtpng stylewidthmarginleftpx captiondiffus function number time step number element fix rdgpp use idrdgpp_dt kuzminturek scheme flux limit employ kuzminturek scheme fully_saturated_actioni input file list may simpli modifi includ kt stabil porousflowfullysatur porepressur porepressur coupling_typ hydro graviti fp the_simple_fluid mass_fraction_var tracer stabil kt flux_limiter_typ none porousflowfullysatur action block altern new input file may built list modulesporous_flowtesttestsnumerical_diffusionfltvd_no_antidiffusioni ktnone_el ktnone_dt show depend discretis kuzminturek flux limit use expect behaviour ident case full upwind media mediaporous_flowktnone_elespng stylewidthmarginleftpx captiondiffus function number element number time step fix kuzminturek flux limit use idktnone_el media mediaporous_flowktnone_dtpng stylewidthmarginleftpx captiondiffus function number time step number element fix kuzminturek flux limit use idktnone_dt kuzminturek scheme flux limit employ kuzminturek scheme fully_saturated_actioni input file list may simpli modifi includ kt stabil porousflowfullysatur porepressur porepressur coupling_typ hydro graviti fp the_simple_fluid mass_fraction_var tracer stabil kt flux_limiter_typ superbe porousflowfullysatur action block altern new input file may built list modulesporous_flowtesttestsnumerical_diffusionfltvdi ktlimited_el ktlimited_dt show depend discretis kuzminturek flux limit use superbe limit chosen case see work exampl kuzminturek stabilizationkt_workedmd expect behaviour similar rdgpop case except smooth variabl linearlagrang media mediaporous_flowktlimited_elespng stylewidthmarginleftpx captiondiffus function number element number time step fix kuzminturek superbe flux limit idktlimited_el media mediaporous_flowktlimited_dtpng stylewidthmarginleftpx captiondiffus function number time step number element fix kuzminturek superbe flux limit idktlimited_dt summari way comparison nds__ nds__ show result number element fix number timestep respect evid without upwind result includ overshoot undershoot typic devast porousflow simul sinc typic manifest neg satur neg mass fraction neg temperatur upwind rdgp kuzminturek antidiffus avoid expens introduc larg numer diffus rdgpp kuzminturek flux limit produc similar amount numer diffus nonupwind nonmasslump version without introduc overshoot undershoot media mediaporous_flownumerical_diffusion_summary__png stylewidthmarginleftpx captiondiffus differ numer scheme timestep use idnds__ media mediaporous_flownumerical_diffusion_summary__png stylewidthmarginleftpx captiondiffus differ numer scheme timestep use idnds__ interestingli timestep size decreas numer diffus decreas use lump upwind point increas number timestep make basic differ number element suggest lump fullupwind alway produc numer diffus may prove simpl analysi present sinc tracer alway get move upwind node downwind node irrespect concentr tracer heterogen model realist model porou media often featur spatiallyvari materi properti especi poros permeabl sever way introduc heterogen model porousflow follow demonstr creat model heterogen rock properti use properti simul regular grid regular structur grid easili construct use common mesh tool even mesh capabl built moos heterogen simpli read extern data file exampl consid model permeabl heterogen present case tenth spe compar problemhttpswwwspeorgwebcspdatasetssethtm permeabl data model read ascii file contain coordin permeabl valu millidarci list modulesporous_flowexamplesreservoir_modelspe_casedata piecewisemultilinearpiecewisemultilinearmd function use interpol permeabl mesh list modulesporous_flowexamplesreservoir_modelregular_gridi blockfunct constant monomi auxvari use store permeabl read data file list modulesporous_flowexamplesreservoir_modelregular_gridi blockauxvari functionauxfunctionauxmd auxkernel use popul auxvari exampl permeabl data file millidarci porousflow expect permeabl si unit multipli permeabl valu time save valu new auxvari list modulesporous_flowexamplesreservoir_modelregular_gridi blockauxkernel interpol multipl requir begin simul set execute_on paramet initi final heterogen permeabl use calcul use porousflowpermeabilityconstfromvarporousflowpermeabilityconstfromvarmd materi list modulesporous_flowexamplesreservoir_modelregular_gridi blockmaterialsperm step creat follow heterogen model use simul media mediaporous_flowspe_casepng idfigregular_grid stylewidthmarginleftpx captionheterogen permeabl spe compar problem case although exampl twodimension mesh procedur produc threedimension mesh ident reservoir model often geolog model creat use model packag creat realist interpret geolog case preprocess geolog model often requir use porousflow preprocess must perform use softwar take geolog model convert form porousflow read one exampl preprocess code may use emexhttpsgithubcomcpgremex code convert reservoir model either eclips format cell center csv format exodu mesh use porousflow follow exampl show use exodu mesh creat reservoir model porousflow simul exampl use publicli avail data saiguphttpswwwnrnosaigup project construct heterogen reservoir model shown figfield_model use emexhttpsgithubcomcpgremex media mediaporous_flowsaiguppng idfigfield_model stylewidthmarginleftpx captionheterogen permeabl saigup model heterogen poros permeabl read grid use calcul use follow step first mesh contain heterogen reservoir properti read porousflow list modulesporous_flowexamplesreservoir_modelfield_mod blockmesh constant monomi auxvari creat reservoir model contain permeabl millidarci addit auxvari also declar hold permeabl si unit valu auxvari poros compon permeabl millidarci set use initial_from_file_var paramet auxvari modifi throughout simul repres initi heterogen model list modulesporous_flowexamplesreservoir_modelfield_mod blockauxvari like previou exampl permeabl convert si unit use parsedauxparsedauxmd auxkernel compon list modulesporous_flowexamplesreservoir_modelfield_mod blockauxkernel heterogen poros permeabl use calcul list modulesporous_flowexamplesreservoir_modelfield_mod blockmaterialsporos list modulesporous_flowexamplesreservoir_modelfield_mod blockmaterialsperm use process complex geolog model heterogen reservoir properti use porousflow point line sourcessink number sourcessink avail porou flow implement dirackernel page may read conjunct descript dirac kernel testsporous_flowtestsdirackernelsdirackernels_testsmd descript test point sourc sink multiphas multicompon scenario may found hereporous_flowtestsfluidstatefluidstate_testsmd constant point sourc porousflowsquarepulsepointsourceporousflowsquarepulsepointsourcemd implement constant mass point sourc add remov fluid constant mass flux rate kg time specifi start end time start end time specifi sourc sink start start simul continu act indefinit instanc list modulesporous_flowtesttestsdirackernelssquarepulsei blockdirackernel note paramet mass_flux posit sourc neg sink dissimilar convent use linesink strength flux f point sourc postprocessor mass point sourc specifi via valu comput postprocessor use porousflowpointsourcefrompostprocessorporousflowpointsourcefrompostprocessormd dirac kernel user make sure postprocessor evalu timestep_begin correct valu use within timestep exampl shown list modulesporous_flowtesttestsdirackernelsfromppsi blockdirackernel list modulesporous_flowtesttestsdirackernelsfromppsi blockpostprocessor note paramet mass_flux posit sourc neg sink inject fluid specifi temperatur inject fluid specifi temperatur also comput postprocessor user add anoth dirac kernel porousflowpointenthalpysourcefrompostprocessorporousflowpointenthalpysourcefrompostprocessormd altern user also fix temperatur inject fluid use dirichlet bc addssubtract heat energi entir nodal volum porou materi fluid may lead unaccept error addit heat energi addedremov exampl shown list modulesporous_flowtesttestsdirackernelshfromppsi blockdirackernel list modulesporous_flowtesttestsdirackernelshfromppsi blockpostprocessor porousflow polylin sink gener two type polylin sink implement porousflow porousflowpolylinesinkporousflowpolylinesinkmd porousflowpeacemanboreholeporousflowpeacemanboreholemd extens specialis gener porousflowlinesink avail use input file describ section polylin sink sourc model sequenc discret point beginequ textrmpolylinesim leftx_ x_ x_ldotsx_nright endequ sink beginequ labeleqline_sink sum_ifp_i t_iw_ideltax x_i endequ volum sourc measur kgm jm heat flow integr finit element yield sink strength f unit kg fluid flow js heat flow sink strength f paramet specifi user input file w paramet conveni weight discuss strength f function porepressur andor temperatur may involv quantiti enumer convent follow sink remov fluid heat simul domain sourc add fluid heat simul domain two separ input format porousflow polylin sink first requir locat point along line length specifi second relev straight line requir start locat direct length first input format defin either plain text file report plain text file point specifi line contain follow spacesepar quantiti beginequ labeleqbh_plaintext_format mathttw_i x_i y_i z_i endequ weight term w_i user conveni peaceman borehol case borehol radiu point x_i report format point data suppli coordin weight data use follow syntax list modulesporous_flowtesttestsdirackernelsplsreporteri startweight_report endpiecewiselinear polylin coordin weight defin follow constantreporterconstantreportermd list modulesporous_flowtesttestsdirackernelsplsreporteri blockreport report input provid easi way control polylin sink point locat samplersamplersindexmd multiapp error suppli plaint text file report input point data rather manual specifi point via separ point file report second input format allow line specifi use combin follow paramet line_bas w x z basestart point line line_direct dx dy dz line direct need unitlength line_length length exactli expect line length error specifi point plain text file report paramet line base paramet specifi line way one point gener along line element line pass point automat updat mesh chang due adapt displac etc use mode linespecif line end point must ever lie mesh face node entir simul durat basic sink may multipli follow quantiti fluid rel permeabl use_relative_perm true fluid mobil k_r rho nu use_mobl true fluid mass fraction mass_fraction_compon specifi fluid enthalpi use_enthalpi true fluid intern energi use_internal_energi true f eqline_sink may replac fk_r ftimestextrmmobl etc unit fk_r ftimestextrmmobl etc kg fluid flow js heat flow addit multipl factor evalu nodal posit point x_i ensur superior numer converg see upwindingupwindingmd exampl use_ paramet provid usual use coupl situat instanc fluid sink may extract fluid given rate therefor simul includ sink multipli fluid enthalpi appli temperatur variabl alert warn creat point line sink import ensur everi element line pass contain least one ideal one point also import keep mind mesh displac adapt affect locat number element simul alert warn use porousflow dirac kernel conjunct porousflowporosityporous_flowporositymd depend volumetr strain mechan true set strain_at_nearest_qp true globalparam block ensur nodal poros materi use volumetr strain dirac quadpoint otherwis nodal poros materi evalu node element attempt use ith member volumetr strain volumetr strain size equal number dirac point element polylin sink function porepressur andor temperatur porousflowpolylinesinkporousflowpolylinesinkmd special case gener polylin sink function f eqline_sink assum piecewis linear function porepressur andor temperatur addit multipl linelength associ x_i also perform specif beginequ labeleqpl fp_i t_i fracleft x_i x_i x_i x_i right lp_i t_i endequ prefactor l linelength associ x_i l kgsm jsm piecewiselinear function specifi user moos input file weight w_i premultipli f eqline_sink use moos instanc list modulesporous_flowtesttestsdirackernelsplsi blockdirackernel porousflowpolylinesink alway accompani porousflowsumquantityporousflowsumquantitymd userobject often porousflowplotquantityporousflowplotquantitymd postprocessor list modulesporous_flowtesttestsdirackernelsplsi startpls_total_outflow_mass enddict list modulesporous_flowtesttestsdirackernelsplsi startpls_report endfluid_mass type sink use describ groundwatersurfac water interact via stream swamp often riverb conduct measur kgpa defin beginequ c frack_zzrhotmul_mathrmsegw_mathrmseg endequ k_zz vertic compon permeabl tensor rho fluid densiti mu fluid viscos distanc variabl relat riverb thick paramet l_mathrmseg w_mathrmseg respect length width segment river point x_i repres multipl l_mathrmseg alreadi handl eqpl term c enter piecewis linear function l three standard type l use groundwat model perenni stream fluid seep porespac stream vice versa l cl_mathrmsegp p_mathrmatm p_mathrmatm involv river stage height ephemr stream fluid seep porespac stream viceversa l cl_mathrmseg pp_mathrmatm pp_mathrmatm zero otherwis pure sink sinc alway ratelimit stream fluid exchang groundwat stream rate limit model use piecewis linear l exceed given limit viz use one case defin p_or_t_val flux limit flux peaceman borehol wellbor implement porousflowpeacemanboreholeporousflowpeacemanboreholemd use method first describ citepeaceman f special function measur kg standard unit defin term pressur point wall wellbor wellbor pressur wellbor pressur input peaceman formula x_i along wellbor wellbor pressur defin beginequ p_mathrmwellborex_i p_mathrmbot gamma cdot x_i x_imathrmbot endequ p_mathrmbot input paramet bottom_p_or_t pressur bottom wellbor x_imathrmbot posit point bottom wellbor defin last point point_fil gamma weight vector point downward product fluid densiti graviti unit_weight mean p_mathrmwellborex_i pressur point x_i wellbor due gravit head gravit effect undesir user may simpli specifi gamma unit_weight although unusu porousflow also allow p_mathrmwellbor repres temperatur set function_of temperatur use nonfluid model contain polylin sourcessink heat peaceman fluid flux peaceman write f beginequ labeleqpeaceman_f fp_i x_i w leftcright frack_mathrmrrhomup_i p_mathrmwellbor endequ let us discuss term rh separ borehol involv heat function_of temperatur p express discuss replac temperatur mobil eqpeaceman_f contain k_mathrmr rho mu fluid rel permeabl densiti viscos henc term k_mathrmrrhomu mobil user choos multipli mobil use_mobl true use porousflowpeacemanboreholeporousflowpeacemanboreholemd recal multipl factor includ mobil evalu nodal posit posit x_i ensur superior numer converg alert note almost alway set use_mobilitytru except use volumetr version porousflow multiply_by_dens fals appear input file nonfluid simul function_of temperatur charact c eqpeaceman_f call charact wellbor two standard choic note f depend absolut valu c charact c pp_mathrmwellbor zero otherwis case wellbor call product wellbor act sink remov fluid porespac charact c pp_mathrmwellbor zero otherwis case wellbor call inject wellbor act sourc ad fluid porespac generalis charact may chosen differ pm use timevari borehol strength two choic generalis c wellbor activ pp_mathrmwellbor zero strength otherwis c wellbor activ pp_mathrmwellbor well constant function w call well_const wellbor measur unit length usual comput automat porousflow use peaceman formula peaceman describ form w perform analyt numer calcul obtain follow formula beginequ w pi sqrtkappa_xxkappa_yyl_zlnr_er_mathrmbh endequ formula borehol orient along z direct generalis porousflow direct defin plaintext file point mention eqbh_plaintext_format kappa_xx kappa_yy diagon compon permeabl tensor xy plane defin porousflow materi generalis porousflow consid compon normal borehol direct l_z length borehol defin plaintext file point eqbh_plaintext_format r_mathrmbh borehol radiu input paramet encod plaintext file point first entri row see eqbh_plaintext_format r_e effect borehol radiu cellcentr finitediffer approach citepeaceman found beginequ r_e fracsqrtsqrtkappa_xxkappa_yyl_x sqrtkappa_yykappa_xxl_ykappa_xxkappa_yy kappa_yykappa_xx fracsqrtfracsqrtkappa_xxkappa_yyl_x fracsqrtkappa_yykappa_xxl_yfrackappa_xxkappa_yy frackappa_yykappa_xx endequ l_x l_i finitediffer spatial size author generalis peaceman approach write w differ geometr situat contain citechen show finit element situat squar element size l borehol nodal posit isotrop permeabl beginequ r_e l endequ note substanti differ peaceman demonstr method introduc wellbor depend geometri user may specifi quantiti via re_const input paramet default peaceman simpl exampl follow exampl vertic borehol place centr singl element fluid flow borehol function porepressur measur borehol geometri list modulesporous_flowtesttestsdirackernelsbhbh mean borehol radiu long exampl part moos test suit test eqpeaceman_f encod correctli paramet common test tabl idcommonparam captioncommon paramet test paramet valu borehol radiu r_mathrmbh bottomhol pressur p_mathrmbot graviti unit fluid weight element size time time isotropo permeabl fluid refer densiti kgm fluid bulk modulu gpa fluid viscos pa van genuchten alpha pa van genuchten residu satur flac relperm remot possibl moos implement appli borehol flux incorrectli record postprocessor correctli specifi eqpeaceman_f therefor simul also record fluid mass massbal error order check fluid mass inde correctli chang borehol product wellbor list modulesporous_flowtesttestsdirackernelsbhi blockdirackernel initi fullysatur medium yield correct result bh_flowfig bh_errorfig media bh_flowpng stylewidthmarginleftpx captionth flow product wellbor moos agre expect result idbh_flowfig media bh_errorpng stylewidthmarginleftpx captionth massbal error virtual zero idbh_errorfig inject wellbor list modulesporous_flowtesttestsdirackernelsbhi blockdirackernel fullysatur medium yield correct result bh_flowfig bh_errorfig media bh_flowpng stylewidthmarginleftpx captionth flow inject wellbor moos agre expect result idbh_flowfig media bh_errorpng stylewidthmarginleftpx captionth massbal error virtual zero idbh_errorfig product wellbor bottomhol porepressur p_mathrmbotmpa forc desatur initiallysatur medium list modulesporous_flowtesttestsdirackernelsbhi blockdirackernel yield correct result bh_flowfig bh_errorfig media bh_flowpng stylewidthmarginleftpx captionth flow product wellbor moos agre expect result idbh_flowfig media bh_errorpng stylewidthmarginleftpx captionth massbal error virtual zero idbh_errorfig inject wellbor p_mathrmbot activ rock porepressur neg list modulesporous_flowtesttestsdirackernelsbhi blockdirackernel yield correct result initi unsatur medium bh_flowfig bh_errorfig media bh_flowpng stylewidthmarginleftpx captionth flow inject wellbor moos agre expect result idbh_flowfig media bh_errorpng stylewidthmarginleftpx captionth massbal error virtual zero idbh_errorfig record total fluid flux kg inject produc borehol porousflowsumquantityporousflowsumquantitymd userobject output result use porousflowplotquantityporousflowplotquantitymd postprocessor list modulesporous_flowtesttestsdirackernelsbhi startborehole_total_outflow_mass enddict list modulesporous_flowtesttestsdirackernelsbhi startbh_report endfluid_mass reproduc steadyst analyt solut porousflow fluid equat see govern equationsgoverning_equationsmd fullysatur medium rho propto exppb larg constant bulk modulu b becom darci equat beginequ fracpartialparti trho nabla_ialpha_ijnabla_jrho endequ alpha_ij k_ijbmuphi notat describ nomenclaturenomenclaturemd isotrop case k_ij kappa delta_ij steadyst equat laplac equat beginequ nablarho endequ place borehol radiu r_mathrmbh infinit length orient along z axi situat becom solv cylindr coordin rhorhortheta independ z pressur borehol wall rr_mathrmbh p_mathrmbh fluid densiti rho_mathrmbh propto expp_mathrmbhb assum rr fluid pressur held fix p_r equival densiti held fix rho_r solut laplac equat wellknown beginequ labeleqlog_bh rho rho_mathrmbh rho_r rho_mathrmbh fraclogrr_mathrmbhlogrr_mathrmbh endequ fundament solut use peaceman other deriv express w compar numer express result eqpeaceman_f chen zhang citechen deriv express w case borehol place node squar mesh test compar moos steadyst solut singl borehol w defin chen zhang formula specif re_const need chang default valu compar eqlog_bh illustr moos implement borehol correct porousflowpeacemanborehol list modulesporous_flowtesttestsdirackernelsbhi blockdirackernel mesh use shown bh_meshfig media bh_meshpng stylewidthmarginleftpx captionth mesh use comparison eqlog_bh green dot indic posit borehol central element time outer boundari radiu idbh_meshfig bhfig show comparison moos result eqlog_bh paramet studi ident given commonparam follow except mesh shown bh_meshfig permeabl borehol radiu borehol pressur p_mathrmbh outer radiu rm outer pressur p_rmpa media bhpng stylewidthmarginleftpx captioncomparison moos result dot analyt solut eqlog_bh steadyst porepressur distribut surround singl borehol idbhfig inject produc thermohydro simul porousflowpeacemanborehol may use model inject product thermohydro simul suppos cool water inject initi hot reservoir via vertic inject well water remov system via vertic product well exampl shall studi essenti situat without graviti paramet defin inj_prod_param tabl idinj_prod_param captioninjectionproduct paramet paramet valu inject borehol radiu inject borehol vertic length inject bottomhol pressur mpa inject temperatur k product borehol radiu product borehol vertic length product bottomhol pressur mpa injectionproduct well separ reservoir initi porepressur mpa reservoir initi temperatur k graviti unit fluid weight fluid properti defin list modulesporous_flowtesttestsdirackernelsinjection_productioni blockmodul fluid inject product implement way familiar list modulesporous_flowtesttestsdirackernelsinjection_productioni startfluid_inject endremove_heat_at_production_wel inject temperatur set via list modulesporous_flowtesttestsdirackernelsinjection_productioni blockbc altern heat energi inject fluid could work inject heatconserv equat via borehol product fluid mean heat energi must remov exactli rate associ fluidmass remov implement use ident porousflowpeacemanborehol fluid product situat associ temperatur variabl use_enthalpi true list modulesporous_flowtesttestsdirackernelsinjection_productioni startremove_heat_at_production_wel end heat energi per timestep save porousflowsumquantityporousflowsumquantitymd userobject may extract use porousflowplotquantityporousflowplotquantitymd postprocessor would import quantiti geotherm applic list modulesporous_flowtesttestsdirackernelsinjection_productioni blockpostprocessor scale variabl ensur good convergenceconvergencemd list modulesporous_flowtesttestsdirackernelsinjection_productioni blockvari result run fine mesh shown inj_prod_pfig inj_prod_tfig media injection_production_ppng stylewidthmarginleftpx captionporepressur time inject product black spot indic well idinj_prod_pfig media injection_production_tpng stylewidthmarginleftpx captiontemperatur time inject product black spot indic well idinj_prod_tfig bibtex bibliographi startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md porou flow tutori page chemicallyreact tracer poros permeabl chang page model page porous_flowtutorial_md enhanc tracer chemic reactiv porousflow abil simul aqueou equilibrium chemistryporousflowmassfractionaqueousequilibriumchemistrymd aqueou precipitationdissolut chemistryporousflowaqueouspredischemistrymd illustr page tracer assum precipit accord beginequ labeleqpredi chi rightleftharpoon endequ chi tracer concentr mtracermsolut miner mmineralmporousmateri precipit caus poros changesporousflowporositymd permeabl changesporousflowpermeabilitykozenycarmanmd input file page porous_flowtutorial_md modifi includ chemistri first modif porousflowfullysaturatedporousflowfullysaturatedmd understand one chemic reaction list modulesporous_flowexamplestutoriali startporousflowfullysatur endauxvari set temperatur allow control chemic reaction rate temperatur depend see chemic reactionschemical_reactionsindexmd precipit dissolut occur via eqpredi tracer concentr get decreas increas thu new kernel must ad porousflowpredisporousflowpredismd kernel list modulesporous_flowexamplestutoriali startkernel endbc chemic reaction rate comput porousflowaqueouspredischemistryporousflowaqueouspredischemistrymd materi list modulesporous_flowexamplestutoriali startprecipitation_dissolution_mat endmineral_concentr paramet fulli explain chemic reactionschemical_reactionsindexmd modul briefli case reference_temperatur equal temperatur specifi porousflowfullysatur temperatur depend reaction rate product kinetic_rate_const molm specific_reactive_surface_area ml molar volum lmol chik k equilibrium constant beginequ mathrmreact rate chi mathrmlprecipitatelsolut endequ materi feed rate porousflowpredi kernel alter tracer concentr well porousflowaqueouspredismineralporousflowaqueouspredismineralmd materi list modulesporous_flowexamplestutoriali startmineral_concentr end reason materi build auxvari record concentr precipit miner also miner concentr enter porosityporous_flowporositymd calcul poros materi list modulesporous_flowexamplestutoriali startporosity_mat endpermeability_aquif porousflow permeabl may depend poros via kozenycarmanporousflowpermeabilitykozenycarmanmd relationship case materi look like list modulesporous_flowexamplestutoriali startpermeability_aquif endprecipitation_dissolution_mat instead use set preset dirichletbc control physic inject area tracer simpli inject use porousflowsinkporousflowsinkmd see also boundari conditionsporous_flowboundariesmd detail discuss fix rate time kgsm use list modulesporous_flowexamplestutoriali startbc endmodul final set auxvari employ handi porousflowpropertyauxporousflowpropertyauxmd use record use inform list modulesporous_flowexamplestutoriali startauxvari endkernel anim result shown tut_gif_fig media porous_flowtutgif stylewidthmarginleftpx captiontrac concentr porepressur miner concentr permeabl evolut boreholeaquifercaprock system idtut_gif_fig simul may promot full thmc simul use approach use page porous_flowtutorial_md page porous_flowtutorial_md argument made scale variabl must modifi take account fluid densiti appear fluid equat see page porous_flowtutorial_md scale approxim temperatur displac variabl porosityporous_flowporositymd may depend porepressur temperatur volumetr strain chemistri startporous_flowtutorial_md previousporous_flowtutorial_md nextporous_flowtutorial_md water noncondens ga miscibl water noncondens ga ncg model avail porousflow base persist variablepersistent_variablesmd approach avail ncg gaseou fluid provid fluid propertiesfluid_propertiesindexmd modul use equat state phase composit henri law use calcul mass fraction ncg water phase beginequ x_ncg fracp_ncgk_h endequ raoult law use calcul mass fraction h_o ga phase beginequ y_ho fracp_mathrmsatp endequ p_mathrmsat vapor pressur water mani reservoir simul assum phase instantan equilibrium mean dissolut ncg water evapor water vapor ga phase happen instantan amount ncg present suffici satur water ga phase form dissolv ncg mass fraction smaller equilibrium valu similarli amount water vapor present smaller equilibrium valu ga phase liquid phase form suffici ncg present satur water liquid ga phase present case mass fraction ncg dissolv water given equilibrium valu similarli mass fraction water vapor ga phase given equilibrium valu two phase region thermophys properti densiti densiti ga phase calcul sum densiti fluid compon partial pressur via dalton law beginequ rho_g rho_ncg rho_vap endequ chang water densiti calcul dissolv ncg compon viscos viscos ga phase mu_g given weight sum viscos fluid compon beginequ mu_g y_ncg mu_ncg y_ncg mu_ho endequ viscos liquid phase simpli given viscos water contribut due dissolv ncg includ enthalpi enthalpi ga phase calcul weight sum enthalpi fluid compon beginequ h_g y_ncg h_ncg y_ncg h_ho endequ enthalpi liquid phase also calcul weight sum enthalpi individu compon also includ contribut due enthalpi dissolut chang enthalpi due dissolut ncg water phase beginequ h_l x_ncg h_ho x_ncg h_ncgg h_disg endequ h_ncgg enthalpi gaseou ncg h_disg enthalpi dissolut ncg liquid express enthalpi dissolut implement follow citephimmelblau beginequ fracparti lnk_hpartial frach_disg m_ncgr endequ m_ncg molar mass ncg compon r univers ga constant implement variabl class requir pressur ga phase total mass fraction ncg sum phase see composit flashcompositional_flashmd detail isotherm simul nonisotherm simul temperatur must also provid nonlinear variabl alert note variabl must list porousflow variabl porousflowdict userobject isotherm case two variabl ga porepressur total ncg mass fraction requir number compon porousflowdict must set equal two list modulesporous_flowtesttestsfluidstatetheisi blockuserobjectsdict nonisotherm case three variabl ga porepressur total ncg mass fraction temperatur requir number compon porousflowdict still two list modulesporous_flowtesttestsfluidstatetheis_nonisothermali blockuserobjectsdict userobject fluid state implement porousflowwaterncgporousflowwaterncgmd userobject userobject generaluserobject contain method provid complet thermophys descript model given pressur temperatur total ncg mass fraction list modulesporous_flowtesttestsfluidstatetheisi blockuserobjectsf swap ncg simpl chang gas_fp paramet userobject materi porousflowfluidstateporousflowfluidstatemd materi provid phase pressur satur densiti viscos etc well mass fraction fluid compon fluid phase singl materi use formul provid porousflowwaterncgporousflowwaterncgmd userobject isotherm simul materi look like list modulesporous_flowtesttestsfluidstatetheisi blockmaterialswaterncg nonisotherm simul temperatur variabl must also suppli ensur deriv respect temperatur variabl comput jacobian list modulesporous_flowtesttestsfluidstatetheis_nonisothermali blockmaterialswaterncg initi condit nonlinear variabl repres ncg total mass fraction ncg sum phase case may prefer provid initi ncg satur rather total mass fraction allow initi satur specifi porousflowfluidstateicporousflowfluidstateicmd initi condit provid initi condit calcul total mass fraction ncg sum phase given satur list modulesporous_flowtesttestsfluidstatewaterncg_ici blockic exampl radial inject inject one dimension radial reservoir use test class admit similar solut zeta rt r radial distanc inject well time similar solut hold even complic physic mutual solubl includ exampl isotherm radial inject problem includ test suit co_ ncg list modulesporous_flowtesttestsfluidstatetheisi initi co_ inject dissolv resid water amount co_ less dissolv mass fraction equilibrium water near inject well becom satur co_ ga phase form ga phase spread radial inject continu comparison result express term similar solut present thei nonlinear variabl case r fix evalu use postprocessor also case fix evalu use vectorpostprocessor media mediaporous_flowtheis_similarity_waterncgpng idthei stylewidthmarginleftpx captionsimilar solut radial inject exampl nonisotherm exampl problem cold co_ inject warm aquif also provid test suit list modulesporous_flowtesttestsfluidstatetheis_nonisothermali bibtex bibliographi govern equat equat heat flow fluid flow solid mechan chemic reaction defin notat use equat summaris nomenclatureporous_flownomenclaturemd lagrangian coordin system use sinc move mesh fluid flow mass conserv fluid speci kappa describ continu equat beginequ labeleqmass_cons_sp fracparti mkappaparti mkappanablacdotmathbf v_ nablacdot mathbffkappa lambda mkappa phi i_mathrmchem qkappa endequ mass fluid per bulk volum measur kgm mathbfv_ veloc porou solid skeleton measur ms mathbff flux vector measur kgsm lambda radioact decay rate phi i_mathrmchem repres chemic precipit dissolut q sourc measur kgm coupl solid mechan via mnablacdot mathbfv_ term well via chang poros permeabl coupl heat flow chemic reaction via equat state use within term eqmass_cons_sp well sourc term qkappa speci parameteris kappa ldot exampl kappa might parameteris water air h_ solut kappa parameteris thing decompos speci chang phase instanc sometim might appropri consid air singl speci say kappa time might appropri consid mixtur nitrogen oxygen kappa kappa model chemic precipit solid phase distinct porou skeleton may also use rel permeabl zero see mass densiti mass speci kappa per volum rock written sum phase present system beginequ labeleqmsph mkappa phisum_betas_betarho_betachi_betakappa phickappa endequ solid poros phi s_beta satur phase beta solid liquid ga napl rho_beta densiti phase beta chi_betakappa mass fraction compon kappa present phase beta final term repres fluid absorpt porousrock skeleton ckappa mass absorb speci per volum solid rockgrain materi densiti rho_beta typic function pressur temperatur may also depend mass fraction individu compon describ equat state use satur mass fraction must obey beginequ beginalign sum_betas_beta sum_kappachi_betakappa foral beta endalign endequ flux flux sum advect flux diffusiveanddispers flux beginequ labeleqadv_diff_disp mathbffkappa sum_betachi_betakappamathbff_betamathrmadvect mathbffkappa_mathrmdiffusiondispers endequ advect advect flux govern darci law phase assum obey darci law phase densiti rho_beta rel permeabl k_mathrmrbeta viscos mu_beta pressur p_beta may nonlinear function independ variabl form advect darci flux beginequ labeleqdarci mathbff_betamathrmadvect rho_betamathbfv_beta rho_betafrackk_mathrmrbetamu_betanabla p_beta rho_beta mathbfg endequ equat mathbfv_beta darci veloc volum flux measur ms phase beta use diffusiveanddispers flux absolut permeabl denot k tensor rel permeabl phase beta denot k_mathrmrbeta alway function satur klinkenberg effect may also function ga pressur rel permeabl also hysteret depend histori satur alert note realiti rel permeabl actual tensor exampl usual differ later vertic direct often treat scalar sinc hard get paramet tensori case porousflow modul treat scalar cirumst k_ijnabla_jt ad darci flux model thermoosmosi k_ij tensor parameteris strength ie gradient temperatur induc fluid flow also note pressur phase beta p_beta p p_cbeta p refer pressur usual taken ga phase p_cbeta capillari pressur nonposit refer phase ga phase capillari pressur often function satur variou form code porousflow modul see capillari pressureporous_flowcapillary_pressuremd capillari pressur relationship use model great bear speed converg result obtain capillari pressur relationship also hysteret depend histori satur pressur ga phase sum ga partial pressur p_mathrmga sum_kappap_mathrmgaskappa partial pressur gaseou speci p_mathrmgaskappa p_mathrmgasnkappan n number molecul dalton law partial pressur concept reason dilut gase less use dens gase massfract speci aqueou phase often comput use henri law chi_mathrmaqueouskappa p_mathrmgaskappah_kappa h_kappa henri coeffici occasion law accur enough complic altern liquid gaseou phase exist simplest equat vapour pressur p_mathrmvapour p_mathrmsatt satur vapour pressur liquid phase set temperatur gaseou pressur viceversa depend choic independ variabl complic altern kelvin equat vapour pressur take account vapour pressur lower due capillar phase adsorpt affect p_mathrmvapour expleft fracm_wp_cls_lrho_lrt right p_satt m_w molecular weight water p_clp_cls_lleq capillari pressur differ aqueou liquid water ga phase pressur function s_l rho_l aqueou liquid water densiti r univers ga constant temperatur p_sat satur vapour pressur bulk aqueou liquid water phase diffus hydrodynam dispers diffus dispers proport gradient chi_betakappa detail discuss multiphas diffus dispers contain appendix tough manual citeppruess use common express beginequ labeleqdiff_disp mathbffkappa_mathrmdiffusiondispers sum_betarho_betamathcald_betakappanabla chi_betakappa endequ note mathbff vector mathcald tensor nabla vector hydrodynam dispers tensor beginequ labeleqhydro_disp mathcald_betakappa d_betatkappamathcali fracd_betalkappa d_beta tkappamathbfv_betamathbfv_betamathbfv_beta endequ beginequ beginalign d_betalkappa phi tau_ tau_beta d_betakappa alpha_bet left mathbfv right_beta d_betatkappa phi tau_ tau_beta d_betakappa alpha_betatleft mathbfv right_beta endalign endequ call longitudin transvers dispers coeffici d_betakappa molecular diffus coeffici compon kappa phase beta tau_tau_beta tortuos includ porou medium depend factor tau_ coeffici tau_beta tau_betas_beta alpha_l alpha_t longitudin transvers dispers common set hydrodynam dispers zero set alpha_beta alpha_beta l alert note multipl definit tortuos appear literatur porousflow tortuos defin ratio shortest path effect path tau leq heat flow energi conserv heat describ continu equat beginequ labeleqheat_con fracpartialmathcaleparti mathcalenablacdotmathbf v_ nablacdot mathbfft nu phisigmamathrmeff_ijfracpartialparti tepsilon_ijmathrmplast qt endequ mathcal heat energi per unit volum rockfluid system mathbf v_ veloc porou solid skeleton mathbfft heat flux nu describ ratio plasticdeform energi get transfer heat energi sigmamathrmeff_ij effect stress see eqeff_stress epsilon_ijmathrmplast plastic strain qt heat sourc coupl solid mechan via mathcalenablacdotmathbf v_ term nu phisigmamathrmeff_ijfracpartialparti tepsilon_ijmathrmplast term well via chang poros permeabl describ porosityporous_flowporositymd permeabilityporous_flowpermeabilitymd coupl fluid flow chemic reaction via equat state use within term eqheat_con well sourc term qt joulethompson effect see instanc eq citemathia may includ via fluid properti assum liquid solid local thermal equilibrium ie singl local temperatur phase doesnt hold one also normal highflow regim flow nondarci well sometim term ad captur thermal power due volumetr expans fluid kbeta tnablacdotmathbfv k bulk modulu fluid solid beta thermal expans coeffici mathbfv darci veloc includ porou flow modul current energi densiti mathcal heat energi per unit volum beginequ labeleqen_per_vol mathcal phirho_rc_rt phisum_betas_betarho_betamathcale_beta sum_kappa phirhormathcale_mathrmabskappaakappa endequ notat poros phi grain densiti rho_r specif heat capac rock c_r temperatur satur phase s_beta solid liquid ga napl densiti phase rho_beta intern energi phase mathcale_beta intern energi absorb speci mathcale_mathrmabskappa heat flux mathbfft heat flux sum heat conduct convect fluid beginequ labeleqheat_flux mathbfft lambda nabla sum_betah_betamathbff_beta endequ lambda tensori thermal conduct rockfluid system function thermal conduct rock fluid phase usual lambda diagon anisotrop porou materi may specifici enthalpi phase beta denot h_beta mathbff_beta advect darci flux solid mechan solid mechan use porou flow modul handl tensor mechanicstensor_mechanicsindexmd modul section provid brief overview concentr aspect differ pure solid mechan denot total stress tensor sigmamathrmtot extern appli mechan forc creat nonzero sigmamathrmtot convers resolv sigmamathrmtot forc yield forc node finiteel mesh denot effect stress tensor sigmamathrmeff defin beginequ labeleqeff_stress sigmamathrmeff_ij sigmamathrmtot_ij alpha_bdelta_ijp_f endequ notat follow p_f measur porepressur singlephas fullysatur situat tradit use p_f p_beta howev multiphas situat p_fsum_betas_betap_beta also use yet express involv bishop paramet alpha_b biot coeffici obey leqalpha_bleq multiphas system biot coeffici often chosen alpha_b biot coeffici interpret physic follow pump fluid porou materi p_f porepressur increas delta p_f time mechan extern forc appli increment pressur equal alpha_bdelta p_f volum porou solid remain static process porevolum poros chang howev quantifi porosityporous_flowporositymd assum elast constitut law read beginequ labeleqelast sigma_ijmathrmeff e_ijklepsilonmathrmelastic_kl delta_klalpha_tt endequ alpha_t thermal expans coeffici drain porou skeleton epsilon_kl nabla_ku_l nabla_lu_k usual total strain tensor u deform porou solid split elast plastic part epsilon epsilonmathrmelast epsilonmathrmplast e_ijkl elast tensor socal drain version generalis larg strain obviou invers constitut law beginequ epsilonmathrmelastic_ij delta_klalpha_tt c_ijklsigma_ijmathrmeff endequ c complianc tensor assum conserv momentum beginequ labeleqcons_mom rho_mathrmmatfracparti v_sjpartial nabla_isigma_ijmathrmtot rho_mathrmmatb_j nabla_isigma_ijmathrmeff alpha_bnabla_j p_f rho_mathrmmatb_j endequ mathbfv_ partialmathbf uparti veloc solid skeleton rho_mathrmmat massdens materi undrain densiti rho_mathrmmat phirhor phisum_betas_betarho_beta b_j compon extern forc densiti exampl gravit acceler term ov explicitli ignor assum order veloc phase ident veloc solid skeleton otherwis term involv partial mathbffparti lefthand side assum effect stress total stress enter consitut law plastic insitu stress almost everywher els one except specifi neumann boundari condit displac total stress specifi seen eqcons_mom therefor moos use effect stress total stress intern one need input output total stress one must subtract alpha_bnabla_j p_f moos stress chemic reaction aqueou chemistri aqueou equilibrium chemistri precipitationdissolut kinet chemistri implement way chemic reaction modulechemical_reactionsindexmd adsorpt desorpt fluid mass eqmsph contain contribut adsorp speci ckappa mass absorp speci per volum solid rockgrain materi dynam involv advect flux term porousflow assum adsorp speci trap solid matrix govern equat beginequ fracpartialparti phickappa phickappanablacdotmathbfv_ lkappa endequ phi term account poros solid skeleton phickappa mass adsorp speci per volum porou skeleton coupl solid mechan via second term lkappa govern adsorptiondesorpt process current porousflow assum ckappa primari moos variabl defin variabl block moos input file contrast remaind porousflow primari variabl arbitrari variabl switch persist variabl use difficult problem usual ckappa familymonomi orderconst porousflow assum l follow langmuir form beginequ l fractau_lleftc fracrho_lpp_lp right endequ l massdens rate kgm materi move adsorp state porespac notat follow rho_l socal langmuir densiti adsorpedgasmass per volum solid rockgrain materi kgm term often use langmuir volum v_l rho_lv_ltim ga densiti stp p_l langmuir pressur pa p relev phase pressur pressur ga phase current porousflow assum p primari moos variabl defin variabl block moos input file contrast remaind porousflow primari variabl arbitrari tau_l time constant two time constant may defin one desorpt one adsorpt beginequ tau_l left beginalign tau_l mathrmdesorpt textrm cfracrho_lpp_lp tau_l mathrmadsorpt textrm otherwis endalign right endequ mollifi may also defin mollifi stepchang desorpt adsorpt implement part govern equat implement separ kernel simul includ possibl physic avail porou flow modul simpli ad extra kernel input file tabl idkernel captionavail kernel equat kernel fracpartialparti tleftphisum_betas_betarho_betachi_betakapparight porousflowmasstimederivativeporousflowmasstimederivativemd rhodotpm adott alpha_bdotepsilon_v porousflowfullysaturatedmasstimederivativeporousflowfullysaturatedmasstimederivativemd fracpartialparti tleft phickapparight porousflowdesorpedmasstimederivativeporousflowdesorpedmasstimederivativemd nablacdot sum_betachi_betakappa rho_betafrackk_mathrmrbetamu_betanabla p_beta rho_beta mathbfg porousflowadvectivefluxporousflowadvectivefluxmd nablacdot sum_betachi_betakappa rho_betafrackk_mathrmrbetamu_betanabla p_beta rho_beta mathbfg porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd nablacdot sum_betarho_betamathcald_betakappanabla chi_betakappa porousflowdispersivefluxporousflowdispersivefluxmd nablacdot rhoknabla p rho mathbfgmu porousflowfullysaturateddarcybaseporousflowfullysaturateddarcybasemd nablacdot rhochikappa knabla p rho mathbfgmu porousflowfullysaturateddarcyflowporousflowfullysaturateddarcyflowmd fracpartialparti tleftphirho_rc_rt phisum_betas_betarho_betamathcale_betaright porousflowenergytimederivativeporousflowenergytimederivativemd nablacdot leftlambda nabla tright porousflowheatconductionporousflowheatconductionmd nablacdot sum_betah_beta rho_betafrackk_mathrmrbetamu_betanabla p_beta rho_beta mathbfg porousflowheatadvectionporousflowheatadvectionmd nablacdot sum_betah_beta rho_betafrackk_mathrmrbetamu_betanabla p_beta rho_beta mathbfg porousflowfluxlimitedtvdadvectionporousflowfluxlimitedtvdadvectionmd nablacdot rhoh knabla p rho mathbfgmu porousflowfullysaturatedheatadvectionporousflowfullysaturatedheatadvectionmd mathcalenablacdotmathbfv_ porousflowheatvolumetricexpansionporousflowheatvolumetricexpansionmd nu phisigmamathrmeff_ijfracpartialparti tepsilon_ijmathrmplast porousflowplasticheatenergyporousflowplasticheatenergymd phisum_betas_betarho_betachi_betakappanablacdotmathbfv_ porousflowmassvolumetricexpansionporousflowmassvolumetricexpansionmd left phickapparightnablacdotmathbfv_ porousflowdesorpedmassvolumetricexpansionporousflowdesorpedmassvolumetricexpansionmd lambda phisum_betas_betarho_betachi_betakappa porousflowmassradioactivedecayporousflowmassradioactivedecaymd phi i_mathrmchem porousflowpredisporousflowpredismd nablacdotmathbfv_beta u porousflowbasicadvectionporousflowbasicadvectionmd bibtex bibliographi infiltr drainag test descript phase analyt infiltr solut physic setup studi section column initi unsatur subject constant inject fluid top physic import model constant rainfal recharg initi dri groundwat system top surfac becom satur satur zone move downward column diffus goe problem comput interest certain condit analyt solut avail satur profil function depth time richard equat incompress fluid one spatial dimens z read beginequ dot nabla leftd nabla sright nabla k endequ beginequ ds frackappa kappa_relmuphip_mathrmc endequ beginequ ks fracrho g kappakappa_mathrmrelmuphi endequ p_mathrmc p capillari pressur recal p_mathrmc analyt solut nonlinear diffusionadvect relev constant infiltr groundwat deriv broadbridg white citepbroadbridg certain function k broadbridg white assum hydraul conduct beginequ ks k_n k_sk_nfracthetacctheta labeleqbw_krel endequ beginequ theta frac s_ns_ s_ endequ paramet obey leq k_n k_ leq s_n leq leq s_sleq c diffus form ab lead complic relationship capillari pressur p_c satur except case k_n small relat beginequ fracp_mathrmclambda_ fractheta theta fracclog left fraccthetactheta right endequ lambda_ final paramet introduc broadbridg white broadbridg white deriv timedepend solut constant recharg one end semiinfinit line solut quit lengthi written compar moos follow paramet use hydraul paramet use figur broadbridg white tabl idtabbw_param captionparamet valu use phase test paramet valu bar length bar poros bar permeabl graviti ms fluid densiti kgm fluid viscos pa s_n ms s_ ms k_n ms k_ ms c lambda_ pa recharg rate r_ast broadbridg white consid case initi condit ss_ yield pinfti imposs use moos model therefor initi condit ppa use avoid underflow problem recharg rate r_ast correspond moos model recharg rate rhophikappa_skappa_nkgm note fracrho g kappamu phi ms k_n k_ may encod kappa_n kappa_ rel permeabl function eqbw_krel straightforward way bw_fig show good agreement analyt solut broadbridg white moos implement minor discrep small valu satur get smaller tempor spatial resolut increas never total disappear due initi condit ppa media infiltration_and_drainagebwpng stylewidthmarginleftpx captioncomparison broadbridg white analyt solut moos solut time figur shown standard format use broadbridgewhit paper constant recharg appli top depth zero graviti act downward figur idbw_fig two test part automat test suit one mark heavi highresolut version list modulesporous_flowtesttestsinfiltration_and_drainagebwi twophas analyt drainag solut warrick lomen isla citepwarrick extend analysi broadbridg white includ case drainag medium setup initiallysatur semiinfinit column materi drain freeli lower end simul place boundari condit p lower end obtain analyt solut warrick lomen isla make assumpt broadbridg white concern diffus conduct medium solut quit lengthi written moos model paramet almost ident list tabbw_param compar analyt solut differ bar length avoid interfer lower dirichlet boundari condit r_ast sinc recharg initi condit ppa choic p lead poor converg sinc construct broadbridgewhit capillari function design simul unsatur zone p sensibl extens pgeq discontinu p wli_fig show good agreement analyt solut moos implement minor discrep get smaller tempor spatial resolut increas media infiltration_and_drainagewlipng stylewidthmarginleftpx captioncomparison warrick lomen isla analyt solut moos solut time figur shown standard format use literatur top model top figur graviti act downward figur fluid drain infinit deep point idwli_fig two test part automat test suit one mark heavi highresolut version list modulesporous_flowtesttestsinfiltration_and_drainagewlii singlephas infiltr drainag forsyth wu pruess citepforsyth describ hydru simul experi involv infiltr experi subsequ drainag experi larg caisson simul effect one dimension shown rd_setup_fig media infiltration_and_drainagerd_setuppng stylewidthmarginleftpx captiontwo experiment setup forsyth wu pruess experi involv infiltr water initi unsatur caisson experi involv drainag water initi satur caisson idrd_setup_fig properti common experi list tabcaisson_param tabl idtabcaisson_param captionparamet valu use singlephas infiltr drainag test paramet valu caisson poros caisson permeabl time graviti ms water densiti stp kgm water viscos pa water bulk modulu mpa water residu satur air residu satur air pressur van genuchten alpha time pa van genuchten van genuchten turnov experi finit element use along length caisson modifi van genuchten rel permeabl curv turnov set employ order improv converg significantli hydru also use modifi van genuchten curv although couldnt find detail modif experi caisson initi satur ppa water pump top rate kgm caus front water advanc caisson rd_result_fig show agreement moos publish result result obtain extract data hand onlin graphic experi caisson initi fulli satur p bottom held p caus water drain via action graviti rd_result_fig rd_result_fig show agreement moos publish result media infiltration_and_drainagerdpng stylewidthmarginleftpx captionsatur profil caisson day infiltr note hydru result approxim extrat hand onlin graphic idrd_result_fig media infiltration_and_drainagerdpng stylewidthmarginleftpx captionsatur profil caisson drainag initiallysatur simul day day profil note hydru result approxim extrat hand onlin graphic idrd_result_fig experi first simul day experi mark heavi porousflow test suit sinc simul take around second complet input file experi list modulesporous_flowtesttestsinfiltration_and_drainagerdi input file first simul day experi list modulesporous_flowtesttestsinfiltration_and_drainagerdi input file latter day experi list modulesporous_flowtesttestsinfiltration_and_drainagerdi water infiltr twophas oilwat system analyt solut twophas richard equat graviti semiinfinit line zgeq constant water infiltr flux z deriv citeprsc unfortun must typo rsc paper nonzero graviti result clearli incorrect author assum incompress fluid linear rel permeabl relationship oil ga viscos larger water viscos certain function form capillari pressur oil viscos exactli twice water viscos effect satur read beginequ s_mathrmeff fracsqrt expp_c ab labeleqnrscseff endequ p_c p_mathrmoilp_mathrmwat capillari pressur b arbitrari paramet defin user porousflow implement oilwat viscos ratio p_c p_cs_mathrmeff complic note formul allow p_c particular form eqnrscseff need use valid moos implement rsc solut quit lengthi write compar moos follow paramet use tabl idrsc_param captionparamet valu use rogersstallybrasscl infiltr test paramet valu bar length bar poros bar permeabl graviti ms water densiti kgm water viscos pa oil densiti kgm oil viscos time pa capillari pa capillari b pa initi water pressur pa initi oil pressur pa initi water satur initi oil satur water inject rate kgsm input file list modulesporous_flowtesttestsinfiltration_and_drainagersci rsc theori water inject semiinfinit domain wherea cours moos implement finit extent leq z leq chosen near incompress fluid choos bulk modulu gpa caus porepressur rise enorm problem suffer precisionloss problem therefor porepressur fix z affect progress water satur front rscfig show good agreement analyt solut moos implement minor discrep get smaller tempor spatial resolut increas suggest two comparison figur lowresolut test element leq zleq use time step part automat test suit run everi time code updat highresolut test element use time step mark heavi media infiltration_and_drainagerscpng stylewidthmarginleftpx captionwat satur profil second inject rogersstallybrasscl test initi water satur water inject top figur constant rate form water front displac oil black line rsc analyt solut red squar highresolut moos simul green triangl lower resolut moos simul idrscfig bibtex bibliographi point line sourc sink page may read conjunct theori behind dirac kernel porousflowsinksmd geometr test test suit contain mani core test demonstr point sink place node withdraw fluid heat node instanc list modulesporous_flowtesttestsdirackernelsplsi point sink proport mobil rel permeabl etc place element node zero mobil rel permeabl etc fluid heat extract node instanc list modulesporous_flowtesttestsdirackernelsplsi basic point sourcessink follow input file extract fluid rate kg beginequ mathrmsourc left beginarrayl mathrm leq leq mathrm leq leq mathrm leq leq mathrm otherwis endarray right endequ list modulesporous_flowtesttestsdirackernelssquarepulsei moos produc expect result media dirackernelssquarepulsepng stylewidthmarginleftpx captionresult squarepuls extract inject fluid fluidflow simul idsquarepulse_fig thei test fullysatur isotherm case mechan coupl constant larg fluid bulk modulu fluid flow equationsgoverning_equationsmd reduc form convent use groundwat flow beginequ s_sfracparti hpartial nabla_ileftk_ijnabla_j h right endequ h head hp p_rho g mathrmdepth rho fluid densiti s_ specif storag rock compress ignor s_ rho g phi k_mathrmf k_mathrmf fluid bulk modulu k_ij hydraul conduct k_ij k_ijrho g mu k_ij permeabl mu fluid viscos equat ident physic describ porousflowfullysaturatedmasstimederivativeporousflowfullysaturatedmasstimederivativemd porousflowfullysaturateddarcybaseporousflowfullysaturateddarcybasemd kernel may use explicitli porousflowbasicthmporousflowbasicthmmd action use specif storag s_ equat replac reciproc biot modulu k_ij k_ijmu h p final rememb formul volum base mass base like remaind porousflow place constant volumetr sink strength q mm act along infinit line isotrop medium situat therefor two dimension thei provid solut head beginequ h h_ fracqpi kmathrmeileft fracrs_skt right labeltheis_soln_eqn endequ frequent use groundwat literatur ei exponenti integr function valu mathrmeix gamma logx x ox small x gamma euler number ldot mathrmeix exleftfracx fracx ofracxright larg x check use number porousflow test extract specifi use mass rate volum rate singl phase system instanc list modulesporous_flowtesttestsdirackernelstheis_rzi moos agre thei solut media dirackernelstheispng stylewidthmarginleftpx captionresult fullysatur singlephas thei simul idtheis_fig flow sourc radial problem admit similar solut fluid pressur satur mass fraction etc function similar variabl zeta rt may observ theis_soln_eqn use fact twophas immisc flow may test follow input file describ inject ga phase fulli liquidsatur model constant rate list modulesporous_flowtesttestsdirackernelstheisi figtheis_similarity_fig show comparison similar solut calcul either fix radial distanc fix time case good agreement observ two result liquid pressur ga satur media dirackernelstheis_similarity_figpng stylewidthmarginleftpx captionresult phase radial inject simul idfigtheis_similarity_fig test kind involv multicompon multiphas flow includ mutual dissolut ga liquid phase may found hereporous_flowtestsfluidstatefluidstate_testsmd peaceman borehol flux test suit check peaceman flux beginequ fp_i x_i w leftcp_ip_mathrmbhright frack_mathrmrrhomup_i p_mathrmbh labeleqpeaceman_f endequ correctli implement vertic borehol place centr singl element fluid flow borehol function porepressur measur test product borehol p_mathrmbh fullysatur medium list modulesporous_flowtesttestsdirackernelsbhi inject borehol p_mathrmbh mpa fullysatur medium list modulesporous_flowtesttestsdirackernelsbhi product borehol p_mathrmbh mpa fullysatur medium use_mobilitytru list modulesporous_flowtesttestsdirackernelsbhi inject borehol p_mathrmbh unsatur medium use_mobilitytru list modulesporous_flowtesttestsdirackernelsbhi commentari result demonstr moos correct may found page discuss theori behind dirac kernel porousflowsinksmd comparison steadyst analyt solut test list modulesporous_flowtesttestsdirackernelsbhi check whether peaceman borehol extract fluid correct rate correspond reduct porepressur agre analyt solut laplac equat detail result demonstr correct porousflow found page discuss theori behind dirac kernel porousflowsinksmd advectiondiffus boundarycondit test todo heat fluid respons bar classic newton cool bar without fluid mechan deform sink heat equat beginequ rho_rc_rphidott nablalambdanabla endequ phi poros rho_r rock grain densiti kgm c_r rock grain specif heat capac jkgk temperatur lambda tensori thermal conduct porou materi jskm dynam equat explor section concentr steadyst situat consid onedimension case bar sit x xl fix temperatur x beginequ tx t_ endequ sink flux end beginequ mathrmsink strength jm leftlambdafracparti tpartial xright_xl cleftt t_eright_xl labeleqheat_sink endequ t_e fix quantiti e stand extern c constant conduct jmsk solut linear function beginequ t_ fract_ t_lambda c l c x endequ heat sink eqheat_sink linear function porousflowpiecewiselinearsinksinksmd may employ simul run moos use c l lambda t_ t_e solut shown nc_heat_fig media newton_coolingncpng stylewidthmarginleftpx captionth steadyst temperatur bar moos agre well theori illustr piecewiselinear heat sinkssourc heat conduct correctli implement moos idnc_heat_fig list modulesporous_flowtesttestsnewton_coolingnci porepressur sink bar test demonstr moos behav correctli simul contain sink sink piecewis linear function pressur darci equat singlephas flow fulli satur medium without graviti without sourc beginequ fracpartialparti tphirho nabla_ileftfracrho kappa_ijmu nabla_jp right endequ follow notat phi medium poros rho fluid densiti kappa_ij permeabl tensor mu fluid viscos partialparti nabla_i denot time spatial deriv respect use rho propto exppb b fluid bulk modulu darci equat becom beginequ fracpartialparti trho nabla_ialpha_ijnabla_jrho endequ beginequ alpha_ij frackappa_ijbmuphi endequ poros bulk modulu assum constant space time consid onedimension case bar sit x xl initi pressur distribut rhoxt rho_x maintain end x constant pressur rhox rho_ end xl prescrib sink flux beginequ leftfracpartialrhoparti xright_xl cleftrho rho_eright_xl endequ rho_e fix quantiti e stand extern c constant conduct correspond flux beginequ leftfracparti ppartial xright_xl cbleft ep_epbright_xl endequ easili code moos input file flux rhokappanabla pmu cbkappaepb ep_ebmu may repres piecewis linear function pressur solut problem well known beginequ rhox rho_ fracrho_ rho_e lccx sum_ninfti a_nsin frack_nxlek_nalpha tl endequ k_n nmathrmth posit root equat lctan k k k_n littl bigger npi a_n determin beginequ a_nint_lsinfrack_nxlmathrmdx int_lleftrho_x rho_ fracrho_ rho_e lccxrightsin frack_nxlmathrmdx endequ may solv numer mathematica use gener solut nc_fig problem solv moos use follow paramet tabl idtabnc_param captionparamet valu use porepressur evolut test paramet valu bar length bar poros bar permeabl graviti water densiti kgm water viscos pa water bulk modulu mpa initi porepressur p_ mpa environment pressur p_e conduct c conduct chosen steadyst rhoxlkgm problem solv use element along x direct lm use timestep size use fewer element fewer timestep mean agreement theori margin poorer two test perform one transient flow one use steadyst solver steadyst case initi condit pxlmpa sinc uniform pmpa converg result shown nc_fig media newton_coolingncpng stylewidthmarginleftpx captionth porepressur bar es steadyst pressur held fix lefthand end sink appli right end moos agre well theori demonstr piecewiselinear sinkssourc singlephas darci fluid flow correctli implement moos idnc_fig transient simul list modulesporous_flowtesttestsnewton_coolingnci steadyst simul list modulesporous_flowtesttestsnewton_coolingnci porepressur sink bar heat simul previou section rerun time heat flow includ section assum fluid specif enthalpi jkg exactli equal fluid intern energi intern energi ideal beginequ h mathcal e c_vt endequ make argument simpl without consid real fluid complic enthalpi densiti express left end bar temperatur kept fix beginequ tx t_ endequ end bar heat remov fluid flow system see sink documentationsinksmd heat sink beginequ mathrmsink strength jm c mathcal eleftrho rho_eright_xl endequ sink sourc appli heat equat setup steadyst temperatur bar must exactli beginequ tx tinfti t_ endequ consid fluid flow x xl order assum steadyst x must temperatur t_ temperatur fix x advect temperatur move therefor tinfti temperatur permeat throughout entir bar occur even without heat conduct independ initi temperatur bar moos produc result exactli input file list modulesporous_flowtesttestsnewton_coolingnci hot ideal fluid bar test use similar setup previou section except ideal fluid use use ideal ga simplifi equat steadyst studi section govern equat fluid porepressur p beginequ nabla fracrhokappamunabla p endequ assum kappa mu constant beginequ rho fracmprt endequ hold ideal ga equat state formula ga molar mass r ga constant temperatur equat govern temperatur assum fluid advect equat beginequ nablafrachrhokappamunabla p endequ previou section heat conduct could ad actual irrelev sinc solut problem constant enthalpi h ideal ga beginequ h c_vt fracprho c_vt fracrtm c_pt endequ boundari condit lefthand end beginequ px p_ mathrmand txt_ endequ physic correspond fluid heat remov ad lefthand end extern sourc order keep porepressur temperatur fix porepressur boundari condit righthand end bar beginequ mathrmsink flux kgm left fracrhokappamunabla p right_xl left cfracrhokappamu p p_e right_xl labeleqideal_mass_bdi endequ physic correspond massflow boundari proport pp_e p_e fix environment porepressur act sourc sink fluid c conduct boundari notic appear rho kappamu lh equat mean truli flux fluid mass measur kgm appear rhokappamu rh mean porousflowpiecewiselinearfluxsinksmd may use use_mobilitytru temperatur boundari condit righthand end bar beginequ mathrmheat flux jm left frachrhokappamunabla p right_xl left cfrachrhokappamu p p_e right_xl endequ compar eqideal_mass_bdi seen exactli heat loss gain boundari correspond loss gain fluid notic appear hrho kappamu lh equat mean truli flux fluid mass measur jm appear hrhokappamu rh mean porousflowpiecewiselinearfluxsinksmd may use use_mobilitytru use_enthalpytru clear similar fluid heat equat heat equat actual depend temperatur simpli beginequ nabla pnabla p endequ solv beginequ p p_ ax endequ fluid equat yield beginequ tx t_ endequ constant may determin either boundari condit special case p_e lc solut beginequ p p_ sqrt fracxl endequ moos produc result exactli illustr nc_fig media newton_coolingncpng stylewidthmarginleftpx captionth steadyst porepressur temperatur distribut bar moos agre well theori illustr piecewiselinear fluid heat sinkssourc well ideal fluid correctli implement moos idnc_fig list modulesporous_flowtesttestsnewton_coolingnci thermal conduct test descript todo fluid test descript todo diffus hydrodynam dispers test diffus result porousflow compar classic diffus profil simpl model mass diffus exampl left end mesh held constant mass fraction right hand end prescrib zero mass fraction boundari condit advect take place mass transfer diffus input file list modulesporous_flowtesttestsdispersiondiff_actioni concentr profil wellknown similar solut given beginequ cu mathrmerfcu endequ mathrmerfcu complentari error function u x sqrtd similar solut x distanc time diffus coeffici comparison porousflow analyt solut present figdiff observ good agreement two solut media dispersiondiffusion_figpng stylewidthmarginleftpx captionmass fraction profil diffus idfigdiff hydrodynam dispers porousflow result compar known analyt solut simpl problem order verifi moos implement work properli simpl model diffus constant veloc v analyt solut mass fraction profil given citepjavendel beginequ beginarrayrcl cx c_ left frac mathrmerfcleftfracx v sqrtd tright leftfracv tpi dright exp left fracleftx vtright trightright left frac left fracv xd fracv td right expleftfracv xdright mathrmerfcleftfracxv sqrtd trightright endarray endequ paramet previous defin input file list modulesporous_flowtesttestsdispersiondisp_heavyi comparison porousflow analyt formula present figdisp nonheavi case moos result coincid analyt solut near top bottom concentr front due numer dispers number element mesh increas time step size reduc heavi case numer dispers reduc much closer fit analyt solut obtain media dispersiondispersion_figpng stylewidthmarginleftpx captionmass fraction profil hydrodynam dispers idfigdisp bibtex bibliographi capillari pressur test descript todo numer diffus test descript todo aux kernel test descript todo heat advect bar consid case singlephas fluid dimens leq x leq porepressur fix boundari beginequ px mathrmand px endequ zero graviti high fluid bulk modulu darci equat impli solut px x beginequ v kmu endequ constant darci veloc x x veloc individu fluid particl divid poros k porou medium permeabl mu fluid dynam viscos suppos fluid intern energi given ct c specif heat capac temperatur assum prho ct fluid enthalpi also ct case energi equat read beginequ left phirho_rc_r phirho c right fracparti tpartial c rho v fracparti tpartial x endequ wave equat veloc beginequ v_t fraccrho v phirho_rc_r phirho c endequ recal darci veloc vkmu let initi condit tx appli boundari condit beginequ tx mathrmand tx endequ creat front x choos paramet c c_r rho rho_r phi k mu consist unit v_t front veloc input file use page list modulesporous_flowtesttestsheat_advectionheat_advection_d_fully_saturated_actioni sharp front maintain moos due numer diffus whose magnitud depend stabil scheme use explain great detail page numer stabilizationstabilizationmd nevertheless moos advect smooth front correct veloc shown heat_advection_dfig heat_advection_dfig show three version advect activ set stabil paramet porousflowfullysaturatedporousflowfullysaturatedmd action stabil stabil none full upwind stabil full kt stabil stabil kt numer stabil two addit point may also notic lack upwind produc bump temperatur profil near hotter side lack upwind mean temperatur profil move slightli slower two affect reduc mesh densiti increas howev media porous_flowtestsheat_advectionheat_advectionpng stylewidthmarginleftpx captionresult heat advect via fluid fluid flow constant darci veloc ms right advect temperatur front veloc ms right pictur numer implement porousflow includ upwind diffus sharp front advect correct veloc notic centr upwind front correct posit pictur less diffus experienc without upwind kt stabil left temperatur right temperatur idheat_advection_dfig fluxlimit tvd porousflow test descript todo poroelast test descript introduct porousflow modul includ abil coupl fluid flow solid mechan thu includ poroelast theori fullysatur singlephas fluid constant bulk densiti constant viscos coupl smallstrain isotrop elast one import differ poroelast porousflow howev timederiv term poroelast beginequ fracmdotp alphadotepsilon_ii labeleqnporodt endequ biot modulu beginequ fracm fracalphaalpha phik fracphik_mathrmf labelbiotmodeqn endequ p fluid porepressur alpha biot coeffici epsilon_ii volumetr strain phi poros k solid drain bulk modulu k_mathrmf fluid bulk modulu evid biotmodeqn biot modulu evolv time poros evolv inde term eqnporodt deriv continu equat partial phirhoparti phirhodotepsilon_ii use evolut phi rho rho_exppk_mathrmf deriv discuss hereporousflowfullysaturatedmasstimederivativemd howev standard analyt solut poroelast theori biot modulu consid fix porousflow modul allow poros vari fluid porepressur volumetr strain usual biot modulu would vari caus differ analyt solut poroelast therefor porousflow offer poros relationship evolv poros way keep fix call porousflowporosityhmbiotmodulusporousflowporosityhmbiotmodulusmd porousflow also built finit strain mind wherea poroelast therefor comparison solut poroelast theori either strain kept small variou finitestrain switch porousflow turn default simpl test volumetr expans due increas porepressur porepressur within fullysatur sampl increas beginequ p_mathrmf endequ zero mechan pressur appli sampl exterior neumann bc need sampl fluid flow occur sinc porepressur increas uniformli throughout sampl input file list modulesporous_flowtesttestsporo_elasticityvol_expansioni effect stress evolv sigma_ijmathrmeff alpha delta_ij volumetr strain epsilon_epsilon_epsilon_ alpha tk moos produc result correctli undrain oedomet test cubic singleel fullysatur sampl roller bc appli side bottom sampl boundari imperm downward normal displac u_z appli top rise porepressur effect stress observ z denot direct normal top face fluid flow singl element list modulesporous_flowtesttestsporo_elasticityundrained_oedometeri condit assum constant poros denot height z length sampl l beginequ beginarrayrcl p_mathrmf k_flog u_z sigma_xxmathrmeff leftk fracgrightu_zl sigma_zzmathrmeff leftk fracgrightu_zl endarray endequ moos produc result correctli porepressur gener confin sampl singleel fullysatur sampl constrain side boundari imperm fluid pump sampl via sourc kgsm rise porepressur observ input file list modulesporous_flowtesttestsporo_elasticitypp_generation_fullysat_actioni denot strength sourc unit expect result beginequ beginarrayrcl mathrmfluid mass mathrmfluid mass_ st sigma_ijmathrmeff p_mathrmf k_mathrmflogmphirho_ rho rho_expp_mathrmfk_f phi alpha phi_alphaexpleft p_mathrmfalpha kright endarray endequ k solid bulk modulu moos produc result correctli porepressur gener unconfin sampl singleel fullysatur sampl constrain side except top boundari imperm fluid pump sampl via sourc kgsm rise top surfac porepressur stress observ input file list modulesporous_flowtesttestsporo_elasticitypp_generation_unconfined_basicthmi regardless evolut poros follow ratio result beginequ beginarrayrcl sigma_xxepsilon_zz k g sigma_zzepsilon_zz k g pepsilon_zz k g alphamalpha alpha endarray endequ k undrain bulk modulu g shear modulu alpha biot coeffici initi biot modulu moos produc result correctli howev biot modulu held fix poros evolv sourc beginequ rho_exppk_mathrmf endequ constant volumetr sourc msm beginequ beginarrayrcl epsilon_zz fracalpha tk g alpham p mst alphaepsilon_zz sigma_xx k gepsilon_zz sigma_zz k gepsilon_zz endarray endequ input file list modulesporous_flowtesttestsporo_elasticitypp_generation_unconfined_constm_actioni moos produc result correctli terzaghi consolid drain medium satur sampl sit bath water constrain side bottom side bottom also imperm initi unstress sigma_ij p_mathrmf normal stress q appli sampl top sampl compress instantan due instantan applic q slowli compress water squeez sampl top surfac classic test see exampl section onlin manuscript arnold verruijt theori problem poroelast delft univers technolog note sigma paper neg stress porousflow denot sampl height zlength h defin beginequ p_ fracalpha q msk g alpham endequ porepressur result instantan applic q moos calcul correctli solut porepressur beginequ p_mathrmf fracp_pisum_ninfti fracnn co left fracnpi zh right exp left n pi fraccth right endequ equat c consolid coeffici c k k g mk g alpha permeabl tensor k_ij mathrmdiagk k k socal degreeofconsolid defin beginequ u fracu_z u_zu_zinfti u_z endequ u_z vertic displac top surfac downward posit u_z instantan displac due instantan applic q u_zinfti final displac solut beginequ u fracpisum_ninfti fracn exp leftnpifraccth right endequ differ variant test test suit use porousflow action system constant biot modulu constant poros fullysatur version porousflow etc encourag explor get feel differ impact output input file match theoret setup exactli list modulesporous_flowtesttestsporo_elasticityterzaghi_constmi moos produc expect result correctli may seen terzaghi_u terzaghi_p media poro_elasticityterzaghi_upng stylewidthmarginleftpx captiondegre consolid terzaghi experi idterzaghi_u media poro_elasticityterzaghi_ppng stylewidthmarginleftpx captionporepressur variou time terzaghi experi idterzaghi_p mandel consolid drain medium sampl dimens leq x leq b leq leq b plane strain z displac squash constant normal forc imperm frictionless platten top bottom surfac pm b fluid allow leak side x pm surfac imperm call mandel problem shown graphic mandel_setupfig media poro_elasticitymandel_setuppng stylewidthmarginleftpx captionth setup mandel experi forc squash porou materi imperm platten caus fluid seep materi idmandel_setupfig interest featur problem apart solv analyt porepressur sampl center increas short time applic forc leakag fluid sampl side caus appar soften materi near side mean stress concentr toward sampl center caus increas porepressur cours eventu fluid total drain sampl porepressur zero fluid drain sampl side platten move slowli toward solut porepressur displac given citetdoinag solut involv rather lengthi infinit seri write common literatur simul consid quartersampl leq x leq leq yleq b imperm roller bc x yb porepressur fix zero xa porepressur displac initialis zero top yb move downward prescrib veloc total forc induc downward veloc fix veloc work solv mandel problem analyt total forc monitor simul check inde remain constant simul porousflow test suit use element x direct direct four type simul run hm use standard porousflow materi kernel particular use hm poros relationship expect agre perfectli analyt solut solut assum constant biot modulu list modulesporous_flowtesttestsporo_elasticitymand constm ident hm case save use poros evolut law keep biot modulu fix therefor expect agre analyt solut list modulesporous_flowtesttestsporo_elasticitymandel_constmi fullsat use fullysatur version fluid mass time deriv fluid flux case biot modulu kept fix expect agre analyt solut list modulesporous_flowtesttestsporo_elasticitymandel_fully_saturatedi fullsatvol use fullysatur version fluid mass time deriv fluid flux multipli fluid densiti therefor version ident usual implement poroelast code linear therefor converg one iter case biot modulu kept fix expect agre analyt solut list modulesporous_flowtesttestsporo_elasticitymandel_basicthmi cours minor discrep last three analyt solut brought spatial tempor discretis error figur present result media poro_elasticitymandel_ver_disppng stylewidthmarginleftpx captionth vertic displac platten function time idmandel_ver_disp_fig media poro_elasticitymandel_hor_disppng stylewidthmarginleftpx captionth horizont displac platten topright corner idmandel_hor_disp_fig media poro_elasticitymandel_hmpng stylewidthmarginleftpx captionth porepressur variou point sampl hm model equal uniti idmandel_hm media poro_elasticitymandel_fsvpng stylewidthmarginleftpx captionth porepressur variou point sampl fullsatvol model equal uniti idmandel_fsv media poro_elasticitymandel_forcepng stylewidthmarginleftpx captionth total downward forc platten function time uniti idmandel_forc bibtex bibliographi fluxlimit tvd advect test descript todo inject ala buckley leverett porousflow compar simpl singlephas onedimension buckleyleverett problem citepbuckley_leverett singlephas fluid move region leq xleq fullysatur front initi sit posit x region x initi unsatur zero suction function p_c diffus sharp front progress toward right increas x list modulesporous_flowtesttestsbuckley_leverettbl difficult problem simul numer maintain sharp front hard front speed independ rel permeabl sinc fluid flow fullysatur region kappa_mathrmrel problem therefor good test full upwindingupwindingmd simul list pressur left boundari kept fix p_mpa right boundari kept fix p_pa differ mpa medium permeabl set kappa mathrmm poros phi possibl use zero suction function moos implement use van genuchten paramet alpha pa approxim fluid viscos mu pa initi condit beginequ pt left beginarrayl p_ p_p_x mathrmfor x p_ mathrmfor xgeq endarray right endequ shown bl_setupfiga suction function defin give beginequ st left beginarrayl mathrmfor xleq time mathrmfor x geq endarray right endequ media buckley_leverettbl_initialpng stylewidthmarginleftpx captioniniti setup buckleyleverett problem porepressur piecewis linear function region left fulli satur region right satur simul valu porepressur left boundari held fix idbl_setupfiga good approxim pressur pxt front posit ft may determin beginequ beginarrayrcl fracmathrm fmathrm frackappaphimu leftfracparti ppartial xright_x f pxt left beginarrayl p_ p_p_xf mathrm xleq f p_ mathrm xf endarray right labeleqnpredictedblposneqna endarray endequ solut beginequ ft sqrtf frackappaphimup_p_t endequ paramet list front posit fm ts solut valid zero capillari suction nonzero suction function tend diffus sharp front coars mesh imposs simul sharp front cours sinc front spread least one element satfront_figa show result moos simul uniform mesh size ts front simul sit xm desir howev simul take second complet due low valu satur obtain van genuchten alphapa simul give similar result run much faster instanc test suit list use van genuchten paramet alphapa front diffus littl unsatur region front sit xm xm ts media buckley_leverettbl_sat_and_pppng stylewidthmarginleftpx captionth moos solut buckleyleverett problem time left satur right porepressur front sit x expect analyt solut idsatfront_figa bibtex bibliographi sink test descript introduct describ page boundari conditionsboundariesmd number differ sink boundari condit implement porousflow page describ test variou form sinksourc boundari condit make sourc instead sink strength flux need made neg sink implement use full upwind prevent sink attempt remov fluid node actual contain fluid basic sink use function specifi flux boundari also option multipli combin fluid mobil rel permeabl mass fraction latter multipli factor use case sink prevent unlimit amount fluid withdrawn porou medium lead extrem poor nonlinear converg even one node entir mesh run dri deriv basic one anoth boundari condit allow flux modifi piecewiselinear function porepressur use case transfer coeffici defin across boundari complic situat also deriv basic one two other flux govern half gaussian half cubic function porepressur use model evapotranspir boundari basic porousflow sink test sink flux strength kgm appli left edg x mesh singlephas singlecompon fluid use porepressur initialis py leq yleq fluid flow within element use mass fluid finiteel node behav independ fluid assum densiti rho exppkgm poros input file list modulesporous_flowtesttestssinkssi condit assum pgeq porou medium fulli satur fluid fluid mass node obey beginequ vphirho vtimestim expp mt endequ v volum occupi node area expos flux moos correctli produc result illustr s_fig media sinksspng stylewidthmarginleftpx captionresult test illustr moos correctli appli constant sink flux boundari node ids_fig test ident setup test use sink flux strength multipli mobil beginequ mathrmmobl n_ik_ijn_jrhonu endequ n_ik_ijn_j permeabl tensor k project onto normal direct boundari n fluid densiti viscos rho nu respect exampl nupa n_ik_ijn_jm paramet test except strength flux pa input file list modulesporous_flowtesttestssinkssi case expect result p beginequ fracmathrmd mmathrmd vphi fracmathrmd rhomathrmd fracn_ik_ijn_jrhomu endequ moos correctli produc result illustr s_fig media sinksspng stylewidthmarginleftpx captionresult test illustr moos correctli appli constant sink flux modifi fluid mobil slight drift away expect result due moos take larg time step ids_fig test ident setup test use sink flux strength multipli rel permeabl chosen beginequ kappa_mathrmrel endequ fluid satur van genuchten capillari relationship use beginequ left alpha pm rightm endequ alpha pa porepressur initialis py paramet ident test input file list modulesporous_flowtesttestssinkssi case expect result beginequ fracmathrmd mmathrmd vphi fracmathrmd rho smathrmd endequ moos correctli produc result illustr s_fig media sinksspng stylewidthmarginleftpx captionresult test illustr moos correctli appli constant sink flux modifi fluid rel permeabl ids_fig test similar setup test use compon singlephas fluid sink flux extract second compon rate proport mass fraction compon input file list modulesporous_flowtesttestssinkssi test check flux correctli implement see s_fig correct fluid compon withdrawn correct node moos produc expect result media sinksspng stylewidthmarginleftpx captionresult test illustr moos correctli appli sink flux particular fluid compon proport compon mass fraction ids_fig test sink appli left edg x mesh compon phase fluid use call two phase water ga porepressur initialis p_mathrmwat p_mathrmga mass fraction initialis water phase ga phase water phase assum densiti rho_mathrmwat expp_mathrmwat ga phase rho_mathrmga expp_mathrmga van genuchten capillari relationship use beginequ s_mathrmwat left alpha p_mathrmga p_mathrmwaterm rightm endequ alpha pa water rel permeail assum corey type expon ga phase expon kappa_mathrmrelga s_mathrmga s_mathrmga s_mathrmwat sink flux act second compon multipli rel permeabl ga phase mass fraction second compon ga phase possibl meaningless physic act good test porousflowsink test mass fraction remain fix noth induc chang compon water phase ga phase sinc kernel use massconserv kernel simpli demand mass conserv fluid compon sum phase input file list modulesporous_flowtesttestssinkssi test check whether moos correctli appli sink flux fluidcompon mass node respond correctli flux s_fig demonstr moos produc expect result media sinksspng stylewidthmarginleftpx captionresult test illustr phase system moos correctli appli sink flux particular fluid compon proport compon mass fraction rel permeail ga phase ids_fig piecewiselinear sink sink flux strength beginequ f left beginarrayl mathrm p p mathrm leq p leq mathrm p endarray right endequ measur kgm appli right side x mesh singlephas singlecompon fluid use porepressur initialis py leq leq fluid flow within element use mass fluid finiteel node behav independ fluid assum densiti rho exppkgm poros input file list modulesporous_flowtesttestssinkssi condit expect result fluid mass node right side mesh beginequ fracmathrmd mmathrmd vphi fracmathrmd rho smathrmd f endequ notat previou section test check mass evolv accord equat flux appli correctli s_fig demonstr agreement expect flux moos implement media sinksspng stylewidthmarginleftpx captiona piecewiselinear sink flux correctli model moos ids_fig halfgaussian sink sink flux strength beginequ f left beginarrayl mathrm p geq expleftfrac leftfracp rightright mathrm p endarray right endequ measur kgm appli right side x mesh halfgaussian sink center pa standard deviat pa maximum singlephas singlecompon fluid use porepressur initialis py leq leq fluid flow within element use mass fluid finiteel node behav independ fluid assum densiti rho exppkgm poros van genuchten capillari relationship use beginequ left alpha pm rightm endequ alpha pa input file list modulesporous_flowtesttestssinkssi condit expect result fluid mass node right side mesh beginequ fracmathrmd mmathrmd vphi fracmathrmd rho smathrmd f endequ notat previou section test check mass evolv accord equat flux appli correctli s_fig demonstr agreement expect flux moos implement media sinksspng stylewidthmarginleftpx captiona halfgaussian sink flux center pa standard deviat pa correctli model moos ids_fig halfcub sink sink flux strength beginequ f left beginarrayl mathrm p geq frac p p mathrm p mathrm p leq endarray right endequ measur kgm appli right side x mesh halfcub sink center pa cutoff pa maximum kgm singlephas singlecompon fluid use porepressur initialis pxi leq leq leq x leq fluid flow within element use mass fluid finiteel node behav independ fluid assum densiti rho exppkgm poros input file list modulesporous_flowtesttestssinkssi condit expect result fluid mass node right side mesh beginequ fracmathrmd mmathrmd vphi fracmathrmd rho smathrmd f endequ notat previou section test check mass evolv accord equat flux appli correctli s_fig demonstr agreement expect flux moos implement media sinksspng stylewidthmarginleftpx captiona halfcub sink center pa cutoff pa maximum kgm correctli model moos ids_fig piecewis linear sink advect fluid compon porepressur boundari may maintain fix valu appli suffici strong piecewiselinear sink beginequ f cp endequ measur kgm larg conduct c note c larg domin numer moos converg similarli multicompon case flux fluid compon kappa made proport compon mass fraction chikappa beginequ fkappa cchikappap labeleqn_flux_rh endequ natur boundari condit fluid exit enter porou materi rate dictat massfract within porou materi mean instanc fluid exit p case compon exist boundari system exit moos attempt extract fluid compon zero massfract exampl concern porou materi occupi space leq x leq contain singl phase fluid two fluid compon porou materi initi contain fluid compon pressur gradient beginequ pt x mathrmand chit endequ fluid compon introduc materi left side x appli fix boundari condit beginequ px mathrmand chix endequ righthand side x subject flux eqn_flux_rh fluidcompon flow left side right side via pressur gradient simplifi follow analysi fluid bulk modulu taken larg input file list modulesporous_flowtesttestssinkssi fluid bulk modulu larg partial ppartial x solut time mean govern equat reduc beginequ phi fracparti chiparti k_ijmu nabla_j chi nabla_ip endequ equat phi poros k_ij permeabl tensor mu fluid viscos advect equat mass fraction chi veloc beginequ mathrmvelocity_j nabla_ipfrack_ijmuphi endequ test paramet chosen velocitym sharp front describ advect equat initi boundari condit maintain moos due numer diffus particularli strong upwind scheme use test mani detail see stabil pagestabilizationmd nevertheless moos advect smooth front correct veloc shown s_fig sharp front maintain moos even upwind use case hand use fullysatur singlephas fluid fullysaturatedporousflowfullysaturateddarcyflowmd version kernel may use order compar standard fullyupwind kernel kernel employ upwind whatsoev less numer diffus expect demonstr s_fig two addit point may also noci lack upwind produc bump massfract profil near concentr side lack upwind mean temperatur profil move slightli slower two affect reduc mesh densiti increas howev input file use fullysatur kernel list modulesporous_flowtesttestssinkss_fully_saturatedi media sinksspng stylewidthmarginleftpx captionresult advect fluid compon test illustr numer implement porou flow within moos diffus sharp front advect correct veloc ms case notic centr front correct posit pictur less diffus experienc upwind use notic slight bump nonupwind version earli time ids_fig porousflowoutflowbc advect fluid compon problem describ previou section may also model use porousflowoutflowbcporousflowoutflowbcmd righthand boundari allow compon exit system list sinkssi blockbc sharp front describ advect equat initi boundari condit maintain fullyupwind stabil use mani detail see stabil pagestabilizationmd nevertheless moos advect smooth front correct veloc shown s_fig porousflowoutflowbc allow fluid freeli exit righthand boundari media sinksspng stylewidthmarginleftpx captionresult advect fluid compon test util porousflowoutflowbc righthand side allow fluid flow freeli boundari ids_fig porousflowoutflowbc record fluid flow rate boundari porousflowpointsourcefrompostprocessorporousflowpointsourcefrompostprocessormd inject kg model contain fullysatur singlecompon fluid list sinkssi blockdirackernel porousflowoutflowbcsporousflowoutflowbcmd appli outer boundari allow fluid escap freeli model list sinkssi blockbc outflow node record nodal_outflow auxvari total outflow record use nodalsumnodalsummd postprocessor list sinkssi blockpostprocessor result shown s_fig clear total outflow approach expect valu kg media sinksspng stylewidthmarginleftpx captiontot flow rate model includ kg sourc fluid ids_fig porousflowoutflowbc record heat flow rate boundari thermohydro simul involv fullysatur singlecompon fluid coupl temperatur consid list sinkssi blockporousflowfullysatur porousflowpointsourcefrompostprocessorporousflowpointsourcefrompostprocessormd inject js model list sinkssi blockdirackernel porousflowoutflowbcsporousflowoutflowbcmd flux_typ heat variabl allow heatenergi escap freeli model list sinkssi blockbc outflow node record nodal_outflow auxvari total outflow record use nodalsumnodalsummd postprocessor list sinkssi blockpostprocessor result shown s_fig clear total outflow approach expect valu js media sinksspng stylewidthmarginleftpx captiontot flow rate model includ js sourc fluid ids_fig porousflowoutflowbc allow fluid exit phase compon system phase compon system compon allow freeli exit system use two porousflowoutflowbcsporousflowoutflowbcmd list modulesporous_flowtesttestssinksinjection_production_eg_outflowbci blockbc test check bc remov fluid correct rate verif plot ip_outflowbc seen asymptot valu correct media sinksip_outflowbcpng stylewidthmarginautopaddingtop idip_outflowbc captionmass flow rate twophas model contain gs sourc water gs sourc ga well porousflowoutflowbc boundari condit allow fluid freeli exit model function test descript todo rogersstallybrasscl test descript todo mass comput conserv total fluid mass speci mathrmsp within volum v beginequ int_v phisum_mathrmphrho_mathrmph s_mathrmphchi_mathrmphmathrmsp labeleqmass endequ must check moos calcul correctli use porousflowfluidmass postprocessorporousflowfluidmassmd order massbal correct also quantiti use number test singlephas singlecompon fluid model leq x leq three element size creat follow properti tabl idsingle_phase__comp captionparamet valu singlephas singlecompon test paramet valu constant fluid bulk modulu pa fluid densiti zero pressur kgm van genuchten van genuchten alpha pa poros porepressur set px list modulesporous_flowtesttestsmass_conservationmassi recal porousflow mass lump node therefor integr evalu node sum result output porousflowfluidmass postprocessor use properti given yield tabl idnodal_masses_ captionnod mass singlephas singlecompon test x p densiti satur nodal mass total moos also give total mass kg singlephas twocompon similar previou section two fluid ocmpon compon mass fraction fix beginequ chi_mathrmphmathrmsp x endequ list modulesporous_flowtesttestsmass_conservationmassi tabl idnodal_masses_ captionnod mass singlephas compon test x p densiti satur chi_mathrmphmathrmsp nodal mass_mathrmsp nodal mass_mathrmsp total moos produc expect answer twophas twocompon model two element leq x leq creat two phase two fluid compon phase densiti calcul use constant bulk modulu fluid bulk modulu pa densiti zero pressur kgm phase kgm phase porepressur phase held fix pa constant capillari pressur specifi pressur phase also pa result phase densiti e kgm phase kgm phase satur phase vari linearli x poros throughout mass fraction speci fluid phase specifi mass fraction speci phase list modulesporous_flowtesttestsmass_conservationmassi simpl calcul total mass compon phase use eqmass result tabl idnodal_masses_ captionmass phase compon test speci phase total mass eqmass total mass moos constant fluid sourc fluid sourc kgm introduc singl element porousflowfluidmassporousflowfluidmassmd postprocessor use record fluid mass function time list modulesporous_flowtesttestsmass_conservationmassi mass conserv deform materi singl unit element roller bc side bottom compress uniform rate beginequ u_z endequ u_z vertic displac time fluid flow materi boundari imperm fluid mass conserv check list modulesporous_flowtesttestsmass_conservationmassi note use_displaced_mesh true option porousflowfluidmass postprocessorporousflowfluidmassmd necessari correctli comput mass condit beginequ beginarrayrcl p p_ k_fmathrmlog u_z sigma_xxmathrmeff k fracgu_zl sigma_zzmathrmeff k fracgu_zl endarray endequ p fluid porepressur p_ k_f fluid bulk modulu sigmamathrmeff effect stress k drain bulk modulu materi g shear modulu materi l height sampl porousflow produc result exactli importantli conserv fluid mass similar test run rz coordin mass conserv deform materi sourc singl unit element roller bc side bottom inject fluid rate kg top free move list modulesporous_flowtesttestsmass_conservationmassi condit fluid mass increas rate porepressur increas accordingli total stress sigma_zz zero sinc top free move effect stress sigma_zz alpha_b p moos produc result exactli similar test run rz coordin mass comput satur threshold multicompon multiphas fluid porousflowfluidmass postprocessorporousflowfluidmassmd may use comput total mass compon phase well total mass compon phase furthermor satur threshold may set count fluid threshold list modulesporous_flowtesttestsmass_conservationmassi test jacobian porousflow analyt comput full jacobian respect porous_flow_var defin porousflowdictatorporousflowdictatormd analyt express test thoroughli within porousflow test suit desorpt test descript todo multiphas multicompon radial inject thei pump test describ page pump testsporous_flowtestsdirackernelsdirackernels_testsmd page point sourcesporous_flowsinksmd page describ similar test multiphas multicompon set similar solut flow sourc radial problem admit similar solut valid broad rang problem includ multicompon multiphas flow properti fluid pressur satur compon mass fraction characteris similar variabl zeta rt r radial distanc sourc time similar solut use verifi simpl radial model increas complex two phase immisc flow simplest test case featur similar solut inject ga phase fulli liquid satur model constant rate describ hereporous_flowtestsdirackernelsdirackernels_testsmd two phase miscibl flow similar solut also recov even includ mutual dissolut ga aqueou phase exampl co_ inject fulli satur reservoir constant rate phase condit calcul use waterncg fluid state materi implement persist primari variabl case total mass fraction co_ sum phase initi insuffici co_ form ga phase inject co_ dissolv resid water list modulesporous_flowtesttestsfluidstatetheis_tabulatedi approxim enough co_ inject form ga phase problem evolv singl liquid phase one includ ga liquid phase figtheis_similarity_waterncg_fig show comparison similar solut calcul either fix radial distanc fix time case good agreement observ two result primari variabl ga pressur total mass fraction co_ similar solut also observ figtheis_similarity_waterncg_fig calcul ga satur mass fraction co_ dissolv water sinc test part automat test suit need run rapidli better agreement similar solut obtain refin spatial tempor resolut media fluidstatetheis_similarity_waterncg_figpng stylewidthmarginleftpx captioncomparison similar solut waterncg fluid state ga pressur b total mass fraction co idfigtheis_similarity_waterncg_fig media fluidstatetheis_similarity_waterncg_figpng stylewidthmarginleftpx captioncomparison similar solut waterncg fluid state ga satur b dissolv co mass fraction idfigtheis_similarity_waterncg_fig co_ inject brine similar result obtain co_ inject brine use brineco fluid state materi exampl co_ inject reservoir constant rate initi reservoir fulli satur brine salt mass fraction earli inject period insuffici co_ form ga phase inject co_ dissolv resid brine list modulesporous_flowtesttestsfluidstatetheis_brinecoi approxim enough co_ inject form ga phase problem evolv singl liquid phase one includ ga liquid phase note time earlier problem water instead brine equilibrium satur co_ brine less water figtheis_similarity_brineco_fig show comparison similar solut calcul either fix radial distanc fix time case good agreement observ two result primari variabl ga pressur total mass fraction co_ similar solut also observ figtheis_similarity_brineco_fig calcul ga satur mass fraction co_ dissolv water exampl includ automat test suit mark heavi due run time media fluidstatetheis_similarity_brineco_figpng stylewidthmarginleftpx captioncomparison similar solut brineco fluid state ga pressur b total mass fraction co c nacl mass fraction idfigtheis_similarity_brineco_fig media fluidstatetheis_similarity_brineco_figpng stylewidthmarginleftpx captioncomparison similar solut brineco fluid state ga satur b dissolv co mass fraction idfigtheis_similarity_brineco_fig basic advect test descript todo energi conserv test descript todo rel permeabl test descript todo poroperm test descript todo heterogen materi test descript todo chemistri test descript todo heat energi produc plastic deform porousflowgoverning_equationsmd assum plastic deform caus heat energydens rate jm beginequ c phi sigma_ijepsilonmathrmplastic_ij endequ c coeffici phi poros sigma stress epsilonmathrmplast plastic strain implement porousflowplasticheatenergi kernelporousflowplasticheatenergymd set simpl test describ porou skeleton contain fluid heat flow consid heat energi releas simpli heat porou skeleton beginequ fracpartialparti phic_rrho_r c phi sigma_ijepsilonmathrmplastic_ij endequ poros phi volumetr heat capac rock grain c_rrho_r chosen constant perfect cap weakplan plastic use admiss zone defin beginequ beginarrayrcl sigma_zz leq s_t sigma_zz geq s_c sqrtsigma_zx sigma_zi sigma_zztanphi leq c endarray endequ s_t tensil strength s_c compress strength c cohes phi friction angl elast tensor chosen isotrop beginequ e_ijkl lambda delta_ijdelta_kl mu delta_ikdelta_jl delta_ildelta_jk endequ paramet express chosen s_t s_c c phipi lambda mu consist unit experi singl finiteel unit size use tensil failur top finit element pull upward displac beginequ u_z mathrmfor z endequ displac element bottom x direct chosen zero list modulesporous_flowtesttestsplastic_heatingtensilei impli nonzero compon total strain beginequ epsilonmathrmtotal_zz endequ constitut law impli beginequ sigma_zz endequ stress admiss tleq system yield tension beginequ sigma_zz mathrmfor endequ plastic strain beginequ epsilonmathrmplastic_zz mathrmfor endequ mean materi temperatur increas beginequ c_rrho_rdott c mathrmfor endequ temperatur incraes tleq result reproduc exactli porousflow compress failur top finit element push downward displac beginequ u_z mathrmfor z endequ displac element bottom x direct chosen zero list modulesporous_flowtesttestsplastic_heatingcompressivei impli nonzero compon total strain beginequ epsilonmathrmtotal_zz endequ constitut law impli beginequ sigma_zz endequ stress admiss tleq system yield compress beginequ sigma_zz mathrmfor endequ plastic strain beginequ epsilonmathrmplastic_zz mathrmfor endequ mean materi temperatur increas beginequ c_rrho_rdott c mathrmfor endequ temperatur increas tleq moos produc result exactli shear failur top finit element shear displac beginequ u_x mathrmfor z endequ displac element bottom z direct chosen zero list modulesporous_flowtesttestsplastic_heatingsheari impli nonzero compon total strain beginequ epsilonmathrmtotal_xz endequ constitut law impli beginequ sigma_xz endequ stress admiss tleq system yield shear beginequ sigma_xz mathrmfor endequ plastic strain beginequ epsilonmathrmplastic_xz mathrmfor endequ mean materi temperatur increas beginequ c_rrho_rdott c mathrmfor endequ righthand side zero tleq porousflow produc result exactli radial heat mass transport descript analyt solut problem radial coupl heat mass transport initi develop citetavdonin later citetross similar fashion cartesian modeld_radial_avdoninmd problem consist radial model cold water inject warm semiinfinit reservoir constant rate top bottom surfac reservoir bound caprock neglect model simplifi problem instead boundari treat noflow adiabat boundari condit simpl case radial model bound upper lower surfac noflow adiabat boundari simplifi solut temperatur profil tr obtain citepupdegraff beginequ fractr tr tr fracgammanu omega taugammanu labeleqavdonin endequ tr initi temperatur reservoir temperatur inject water gammax gamma function gammax lower incomplet gamma function beginequ nu fracqrho_w cp_w pi h lambda_m endequ beginequ omega frac rh endequ beginequ tau frac lambda_m trho_m cp_m h endequ rho_w densiti water cp_w specif heat capac water rho_m densiti fulli satur medium rho_m phi rho_w phi rho_r phi poros rho_r densiti dri rock cp_m specif heat capac fulli satur porou medium lambda_m thermal conduct fulli satur reservoir q volumetr flow rate h height reservoir model problem consid code comparison citetupdegraff use ident paramet verif problem see tabr tabl idtabr captionmodel properti properti valu length pressur mpa temperatur circc permeabl time poros satur densiti kg satur thermal conduct w k satur specif heat capac j kg k mass flux rate kg input file input file use run problem list modulesporous_flowtesttestsfluidstatecoldwater_injection_radiali note test file reduc version problem recreat result follow instruct top input file result result temperatur profil second shown figavdonin excel agreement analyt solut moos result observ media mediaporous_flowd_radial_avdoninpng idfigavdonin stylewidthmarginleftpx captioncomparison citetavdonin result moos left right model also admit similar solut zeta rt citepmoridi excel agreement analyt solut moos result observ see figavdonin_sim media mediaporous_flowd_radial_avdonin_similaritypng idfigavdonin_sim stylewidthmarginleftpx captionsimilar solut radial problem bibtex bibliographi heat mass transport descript analyt solut problem coupl heat mass transport initi develop citetavdonin later citetross problem consist model cold water inject warm semiinfinit reservoir constant rate top bottom surfac reservoir bound caprock neglect model simplifi problem instead boundari treat noflow adiabat boundari condit simpl case cartesian model bound upper lower surfac noflow adiabat boundari simplifi solut temperatur profil tx obtain citepupdegraff beginequ fractx tx tx frac leftmathrmerfcleftfracx vt sqrt tright expleftfracvxdright mathrmerfcleftfracxvt sqrt trightright labeleqavdonin endequ tx initi temperatur reservoir temperatur inject water beginequ v fracu_w rho_w cp_wrho_m cp_m endequ beginequ fraclambda_mrho_m cp_m endequ u_w darci veloc water rho_w densiti water cp_w specif heat capac water rho_m densiti fulli satur medium rho_m phi rho_w phi rho_r phi poros rho_r densiti dri rock cp_m specif heat capac fulli satur porou medium lambda_m thermal conduct fulli satur reservoir model problem consid code comparison citetupdegraff use ident paramet verif problem see tabr tabl idtabr captionmodel properti properti valu length pressur mpa temperatur circc permeabl time poros satur densiti kg satur thermal conduct w k satur specif heat capac j kg k follow citetupdegraff constant fluid flow left boundari obtain appli constant pressur gradient model fix porepressur boundari temperatur water enter model fix circc fix enthalpi left boundari input file input file use run problem list modulesporous_flowtesttestsfluidstatecoldwater_injectioni note test file reduc version problem recreat result follow instruct top input file result result temperatur profil second shown figavdonin good agreement shown howev numer diffus obvserv similar result obtain use tough upstream weight see citetmoridi media mediaporous_flowd_avdoninpng idfigavdonin stylewidthmarginleftpx captioncomparison citetavdonin result moos bibtex bibliographi thmrehbind test descript todo heat conduct test descript simplifi porousflow heat equat porousflow heat conduct govern equat beginequ fracpartialparti tmathcal nablacdot mathbffmathrmt labeleqnheatcond endequ mathcal energi per unit volum rockfluid system mathbffmathrmt heat flux porousflow modul beginequ mathcal phirho_rc_r phi sum_betas_betarho_betamathcale_beta endequ adsorb speci temperatur phi rock poros s_beta satur phase beta remaind notat describ next paragraph studi problem involv heat conduct fluid convect beginequ mathbffmathrmt lambdanabla endequ lambda tensori thermal conduct rockfluid system test describ page use follow simpl form term rho_r rockgrain densiti densiti rock zero porespac measur kgm assum constant current implement porousflow modul c_r rockgrain specif heat capac measur jkgk assum constant current implement porousflow modul rho_beta densiti fluid phase beta assum function fluid pressur eqnheatcond may easili solv gener form allow porousflow modul mathcale_beta specif intern energi fluid phase beta measur jkg assum mathcale_beta c_vbeta c_vbeta fluid specif heat capac constant volum specif heat capac assum constant eqnheatcond may easili solv gener form allow porousflow modul lambda assum vari lambdamathrmdri lambdamathrmwet depend aqueou satur lambda_ij lambda_ijmathrmdri sn leftlambda_ijmathrmwet lambda_ijmathrmdri right aqueou satur n posit userdefin expon gener form may easili accommod porousflow modul date none code condit eqnheatcond becom beginequ dott nabla_i alpha_ij nabla_j labeleqnheatcondsimpl endequ tensor alpha beginequ alpha_ij fraclambda_ij phirho_rc_r rhosum_betas_betarho_betac_vbeta endequ constant satur porepressur alpha_ij also constant test heat conduct consid onedimension case spatial dimens semiinfinit line xgeq suppos initi temperatur constant beginequ tx t_ mathrmfor xgeq endequ appli fixedpressur dirichlet boundari condit x beginequ tx t_infti endequ solut differenti equat well known beginequ tx t_infti t_ t_inftymathrmerfleft fracxsqrtalpha right labeleqnexactpp endequ erf error function verifi use follow test line element transient analysi fluid paramet chosen lambda_ij mathrmdiag phi rho_r c_r chosen alpha_ij time list modulesporous_flowtesttestsheat_conductionno_fluidi transient analysi fluid phase paramet chosen lambdamathrmdri lambdamathrmwet lambda_ij mathrmdiag rho_mathrmga rho_mathrmwat rho_r c_vmathrmga c_vmathrmwat c_r phi paramet alpha_ij time list modulesporous_flowtesttestsheat_conductiontwo_phasei porousflow yield expect answer shown heat_conductionfig media heat_conductionheat_conduction_dpng stylewidthmarginleftpx captioncomparison moos result exact analyt express given eqnexactpp idheat_conductionfig action test descript todo radioact decay test descript todo establish gravit head test concern steadyst pressur distribut obtain either run transient model long time run steadyst analysi lead result without flux steadyst pressur distribut beginequ px p_ rho_ g x endequ fluid bulk modulu b larg enough compar p p_ porepressur x smaller bulk modulu beginequ px b logleft ep_b fracgrho_xb right labelgravheadeqn endequ assum densiti given rho rho_epb constant bulk modulu g magnitud acceler due graviti vector assum point neg x direct x posit test describ simpl test part automat test suit singlephas singlecompon two singlephas simul element run one fullysatur condit unsatur condit use van genuchten capillari pressur make differ result porepressur held fix one boundari x paramet tabul tabgrav_param tabl idtabgrav_param captionparamet valu use phase test paramet valu x leq x leq bulk modulu b pa refer densiti rho_ kgm gravit acceler g ms steadyst input file full satur list modulesporous_flowtesttestsgravitygravai steadyst input file partial satur list modulesporous_flowtesttestsgravitygravci exampl verif shown ghfig also show result phase simul see next section media gravitygravity_figpng stylewidthmarginleftpx captioncomparison moos result dot exact analyt express given gravheadeqn idghfig twophas twocompon twophas twocompon simul may also check gravheadeqn number simul perform paramet tabul tabgrav_param tabl idtabgrav_param captionparamet valu use phase test paramet valu x leq x leq bulk modulu heavi phase pa bulk modulu light phase pa refer densiti heavi phase kgm refer densiti light phase kgm gravit acceler g ms one steadyst simul perform steadyst simul difficult perform twophas situat inher stronger nonlinear mostli simul easili enter unphys domain neg satur instanc without stabilis presenc mass timederiv steadyst input file list modulesporous_flowtesttestsgravitygravbi varieti transient simul perform transient simul conserv mass check test demonstr moos conserv mass depend initi boundari condit heavi phase greatest mass complet displac light phase forc move top simul gravheadeqn govern light phase unsatur zone sinc satur zone zero light phase pressur must follow heavyphas version gravheadeqn exampl shown ghfig use pp formul unsatur fluid list modulesporous_flowtesttestsgravitygravai use pp formul satur unsatur fluid list modulesporous_flowtesttestsgravitygravci use pp formul boundari condit fix porepressur list modulesporous_flowtesttestsgravitygravdi use ps formul residu satur list modulesporous_flowtesttestsgravitygravei use ps formul residu satur list modulesporous_flowtesttestsgravitygravfi use ps formul brookscorey capillar residu satur list modulesporous_flowtesttestsgravitygravfi densiti test descript todo pressurepuls porousflow fluid equat singlephas flow fulli satur medium without graviti without sourc darci equat beginequ fracpartialparti tphirho nabla_ileftfracrho kappa_ijmu nabla_jp right endequ notat describ govern equationsgoverning_equationsmd use rho propto exppk k fluid bulk modulu darci equat becom beginequ fracpartialparti trho nabla_ialpha_ijnablarho endequ beginequ alpha_ij frackappa_ijbmuphi endequ ive assum poros bulk modulu constant space time consid onedimension case spatial dimens semiinfinit line xgeq suppos initi pressur constant beginequ rhox rho_ mathrmfor xgeq endequ appli fixedpressur dirichlet boundari condit x beginequ rhox rho_infti endequ solut differenti equat well known beginequ rhox rho_infti rho_ rho_inftymathrmerfleft fracxsqrtalpha right labeleqnexactpp endequ erf error function number porousflow test verifi solut produc paramet shown tabpp tabl idtabpp captionparamet valu use pressurepuls test paramet valu length bar number element end time transient simul number time step fluid bulk modulu b gpa fluid viscos mu pa permeabl kappa_xx poros initi pressur mpa appli pressur mpa test includ steadi state phase analysi demonstr steadyst rho rho_infti achiev list modulesporous_flowtesttestspressure_pulsepressure_pulse_d_steady_actioni transient phase analysi list modulesporous_flowtesttestspressure_pulsepressure_pulse_d_actioni transient phase compon analysi check compon diffus rate list modulesporous_flowtesttestspressure_pulsepressure_pulse_d_comp_actioni transient phase analysi water state fulli satur list modulesporous_flowtesttestspressure_pulsepressure_pulse_d_phasei transient phase use ps formul phase use ps formul kuzminturekktmd stabilis phase use ps formul van genuchten capillari pressur phase use ps formul van genuchten capillari pressur logarithm extens phase primari variabl mathrmlogrho phase use fullysaturatedporousflowfullysaturateddarcyflowmd versionporousflowfullysaturatedmasstimederivativemd porousflow upwind mass lump phase fluid compon use fullysaturatedporousflowfullysaturateddarcyflowmd versionporousflowfullysaturatedmasstimederivativemd porousflow upwind mass lump exampl verif shown pressure_pulsefig media pressure_pulsepressure_pulse_dpng stylewidthmarginleftpx captioncomparison moos result dot exact analyt express given eqnexactpp agreement increas greater spatial resolut smaller timestep multicompon singlephas simul use fullysatur nonupwind kernel partiallysatur fullupwind kernel logmassdens primari variabl phase fullywatersatur simul give ident result water porepressur idpressure_pulsefig nonthermalequilibrium test descript todo modulestensor_mechanicsindexmd pressur action system syntax descript bcspressurepressureact descript pressur action given input file simpli pressur design simplifi input file sever variabl pressur boundari condit magnitud appli normal compon hydrostat stress good exampl use case pressur action construct mooseobject pressur action use construct pressur boundari conditionpressuremd direct tabl idpressure_bc_action_t captioncorrespond among action function mooseobject function replac class associ paramet pressur traction forc pressur bcpressuremd displac string displac variabl pressur bc appli pressur action appli pressur traction compon direct displac variabl list argument displac disp_x disp_i disp_z pressur action creat three separ pressur bc variabl disp_x paramet set compon use variabl disp_i paramet set compon use variabl disp_z paramet set compon use alert note titledisplac variablecompon relationship rel note locat variabl displac string determin valu correspond compon pressurepressuremd boundari condit magnitud pressur boundari condit specifi either scalar use input paramet factor function paramet use automat differenti boundari condit adpressureadpressuremd option select via use_automatic_differenti input paramet exampl input syntax list modulestensor_mechanicstesttestspressurepressure_testi blockbcspressur syntax paramet bcspressurepressureact associ action syntax list bcspressur objectstru actionsfals subsystemsfals syntax list bcspressur objectsfals actionsfals subsystemstru syntax list bcspressur objectsfals actionstru subsystemsfals caviti pressur action descript cavitypressur action system use calcul pressur ideal ga trap within intern volum pressur caviti comput base ideal ga law beginequ labeleqideal_gas_law pfracnrtv endequ p intern pressur n mole ga r ideal ga constant temperatur v volum caviti mole ga temperatur caviti volum eqideal_gas_law free chang time mole ga n time origin amount ga comput base origin pressur temperatur volum plu amount caviti due ga inject simul construct mooseobject caviti pressur action system consist three separ action list associ action block creat within block tabl idcavity_pressure_action_t captioncorrespond among action function mooseobject cavitypressur action function replac class associ paramet calcul initi mole quantiti cavitypressureuserobjectcavitypressureuserobjectmd volum name intern volum postprocessor r univers ga constant temperatur name averag temperatur postprocessor store valu initi mole cavitypressurepostprocessorcavitypressurepostprocessormd output_initial_mol postprocessor name use report initi mole ga calcul current intern pressur cavitypressureuserobjectcavitypressureuserobjectmd output name caviti pressur postprocessor store intern pressur valu cavitypressurepostprocessorcavitypressurepostprocessormd output name caviti pressur postprocessor appli calcul intern pressur traction pressurebcspressuremd boundari list boundari id pressur appli displac string displac variabl pressur bc appli exampl input syntax list modulescombinedtesttestscavity_pressuredi blockbcscavitypressur postprocessor averag temperatur intern volum also requir caviti pressur action system note name postprocessor correspond argument paramet temperatur internal_volum cavitypressur block list modulescombinedtesttestscavity_pressuredi blockpostprocessorsavetempinterior list modulescombinedtesttestscavity_pressuredi blockpostprocessorsinternalvolum syntax paramet bcscavitypressurecavitypressureact associ action syntax list bcscavitypressur objectstru actionsfals subsystemsfals syntax list bcscavitypressur objectsfals actionsfals subsystemstru syntax list bcscavitypressur objectsfals actionstru subsystemsfals inclin displac boundari condit action system syntax descript bcsinclinednodisplacementbcinclinednodisplacementbcact descript inclinednodisplacementbcact action given input file simpli inclinednodisplacementbc design simplifi input file sever variabl inclin displac boundari condit inclin displac boundari conditionpenaltyinclinednodisplacementbcmd appli normal compon exampl input syntax list modulestensor_mechanicstesttestsinclined_bcinclined_bc_actioni blockbcsinclinednodisplacementbc syntax paramet bcsinclinednodisplacementbcinclinednodisplacementbcact associ action syntax list bcsinclinednodisplacementbc objectstru actionsfals subsystemsfals syntax list bcsinclinednodisplacementbc objectsfals actionsfals subsystemstru syntax list bcsinclinednodisplacementbc objectsfals actionstru subsystemsfals coupl pressur action system syntax descript bcscoupledpressurecoupledpressureact descript coupl pressur action given input file simpli coupledpressurebc design simplifi input file sever variabl pressur boundari condit magnitud appli normal compon transfer pressur variabl multiapp good exampl use case coupl pressur action construct mooseobject coupl pressur action use construct coupl pressur boundari conditioncoupledpressurebcmd tabl idpressure_bc_action_t captioncorrespond among action function mooseobject function replac class associ paramet pressur traction forc given variabl coupl pressur bccoupledpressurebcmd displac string displac variabl coupl pressur bc appli pressur variabl prescrib pressur appli pressur action appli pressur traction compon direct displac variabl list argument displac disp_x disp_i disp_z pressur action creat three separ pressur bc variabl disp_x paramet set compon use variabl disp_i paramet set compon use variabl disp_z paramet set compon use alert note titledisplac variablecompon relationship rel note locat variabl displac string determin valu correspond compon exampl input syntax list modulestensor_mechanicstesttestscoupled_pressurecoupled_pressure_testi blockbcscoupledpressur syntax paramet bcscoupledpressurecoupledpressureact associ action syntax list bcscoupledpressur objectstru actionsfals subsystemsfals syntax list bcscoupledpressur objectsfals actionsfals subsystemstru syntax list bcscoupledpressur objectsfals actionstru subsystemsfals legaci kernelonli tensor mechan action syntax descript kernelstensormechanicslegacytensormechanicsact alert warn titledeprec action legaci action soon deprec favor inclus tensormechanicsmasteractionmodulestensormechanicsmasterindexmd see descript exampl use paramet tensormechanicsmastermodulestensormechanicsmasterindexmd action system page descript legacytensormechanicsact conveni object simplifi part tensor mechan system setup add stressdiverg kernel current coordin system construct mooseobject legaci tensor mechan action use construct kernel specifi coordin system tabl idtmmaster_action_t captioncorrespond among action function mooseobject tensor mechan master action function replac class associ paramet calcul stress diverg equilibrium given coordin system stressdivergencetensorsstressdivergencetensorsmd stressdivergencerztensorsstressdivergencerztensorsmd stressdivergencersphericaltensorsstressdivergencersphericaltensorsmd displac string displac field variabl note mani variat calcul stress diverg review theoret introduct stress divergencetensor_mechanicsstressdivergencemd pay particular attent set use_displaced_mesh paramet discuss paramet depend strain formul use simul alert note titleus tensor mechan masteract recommend recommend user employ tensormechanicsmasteractionmodulestensormechanicsmasterindexmd whenev possibl ensur consist test function gradient strain formul select exampl input file syntax list modulestensor_mechanicstesttestselastic_patchelastic_patchi blockkernel syntax paramet kernelstensormechanicslegacytensormechanicsact associ action syntax list kernelstensormechan objectstru actionsfals subsystemsfals syntax list kernelstensormechan objectsfals actionsfals subsystemstru syntax list kernelstensormechan objectsfals actionstru subsystemsfals templat load filestubsmoose_systemmdtempl nameporomechan syntaxkernelsporomechanicstempl load filestubsmoose_systemmdtempl namedynamictensormechan syntaxkernelsdynamictensormechan domainintegr system domainintegr action set requir object perform fractur integr see document domainintegralactiondomainintegralactionmd detail syntax list domainintegr objectstru actionsfals subsystemsfals syntax list domainintegr objectsfals actionsfals subsystemstru syntax list domainintegr objectsfals actionstru subsystemsfals modul system alert construct titleundocu system modul system document content list use start point document system includ typic automat document associ system howev contain ultim determin necessari make document clear user overview replac line inform regard modul system exampl input file syntax describ includ exampl use modul system syntax list modul objectstru actionsfals subsystemsfals syntax list modul objectsfals actionsfals subsystemstru syntax list modul objectsfals actionstru subsystemsfals tensormechan system alert construct titleundocu system tensormechan system document content list use start point document system includ typic automat document associ system howev contain ultim determin necessari make document clear user overview replac line inform regard tensormechan system exampl input file syntax describ includ exampl use tensormechan system syntax list modulestensormechan objectstru actionsfals subsystemsfals syntax list modulestensormechan objectsfals actionsfals subsystemstru syntax list modulestensormechan objectsfals actionstru subsystemsfals tensor mechan master action system syntax descript modulestensormechanicsdynamicmasterdynamictensormechanicsact tensormechan dynam master action conveni object simplifi part dynam mechan system setup perform syntax paramet modulestensormechanicsdynamicmasterdynamictensormechanicsact associ action syntax list modulestensormechanicsmast objectstru actionsfals subsystemsfals syntax list modulestensormechanicsmast objectsfals actionsfals subsystemstru syntax list modulestensormechanicsmast objectsfals actionstru subsystemsfals line element action system syntax descript modulestensormechanicslineelementmasterlineelementact descript lineel action conveni object simplifi part mechanicsdynam system setup beam truss element truss element construct mooseobject lineel action use construct kernel strain materi displac variabl simul use truss element alert note titleset truss paramet truss element chosen set truss true input block tabl idlineelement_truss_action_t captioncorrespond among action function mooseobject lineel action use truss element simul function replac class associ paramet creat truss element none truss true add displac variabl variablessyntaxvariablesindexmd add_vari boolean calcul stress diverg truss element stressdivergencetensorstrussstressdivergencetensorstrussmd displac string displac variabl exampl input syntax truss element list modulestensor_mechanicstestteststrusstruss_d_actioni blockmodulestensormechanicslineelementmast beam element construct mooseobject default lineel action set kernel strain materi displac rotat variabl auxkernel simul use beam element also set boolean use_displaced_mesh consist manner kernel nodalkernel materi tabl idlineelement_beam_action_t captioncorrespond among action function mooseobject lineel action use beam element simul function replac class associ paramet add displac rotat variabl variablessyntaxvariablesindexmd add_vari boolean calcul stress diverg beam element stressdivergencebeamstressdivergencebeammd displac string displac variabl rotat string rotat variabl calcul strain computeincrementalbeamstraincomputeincrementalbeamstrainmd computefinitebeamstraincomputefinitebeamstrainmd strain_typ small larg strain formul rotation_typ small larg rotat formul calcul inerti forc moment consist mass inertia matric inertialforcebeaminertialforcebeammd dynamic_consistent_inertia boolean calcul inerti forc use nodal mass nodaltranslationalinertianodaltranslationalinertiamd dynamic_nodal_translational_inertia boolean calcul inerti moment use nodal moment inertia matrix nodalrotationalinertianodalrotationalinertiamd dynamic_nodal_rotational_inertia boolean calcul translat rotat veloc newmarkvelauxnewmarkvelauxmd dynamic_consistent_inertia dynamic_nodal_translational_inertia dynamic_nodal_rotational_inertia add_dynamic_vari calcul translat rotat acceler newmarkaccelauxnewmarkaccelauxmd dynamic_consistent_inertia dynamic_nodal_translational_inertia dynamic_nodal_rotational_inertia add_dynamic_vari exampl input syntax beam element list modulestensor_mechanicstesttestsbeamaction_block_commoni blockmodulestensormechanicslineelementmast subblock subblock lineel action trigger moos object built none mechan subdomain restrict singl subblock use yet differ mechan model need multipl subblock subdomain restrict use paramet suppli modulestensormechanicslineelementmast level act default subblock within lineel block syntax paramet modulestensormechanicslineelementmasterlineelementact associ action syntax list modulestensormechanicslineelementmast objectstru actionsfals subsystemsfals syntax list modulestensormechanicslineelementmast objectsfals actionsfals subsystemstru syntax list modulestensormechanicslineelementmast objectsfals actionstru subsystemsfals materi vector forc action system syntax descript modulestensormechanicsmaterialvectorbodyforcematerialvectorbodyforceact descript materialvectorbodyforc action use creat set bodi forc kernel displac variabl mechan problem see descript exampl use paramet materialvectorbodyforcematerialvectorbodyforcemd kernel page cohes zone master action system syntax descript modulestensormechanicscohesivezonemastercohesivezoneact descript tensormechan system provid cohes zone model capabl use introduc tractionsepar model run interfac region model continuum finit element implement cohes zone model czm base discret galerkin approach therefor requir cohes element czm formul term traction separ law requir five ingredi breakmeshbyblockgener computedisplacementjump computelocaltract computeglobaltract czminterfacekernel breakmeshbyblockgeneratorbreakmeshbyblockgeneratormd util creat cohes zone interfac split monolith mesh block ad requir node boundari block pair split mesh allow comput displac jump llbracket u rrbracket quadratur point interfac schemat exampl use breakmeshbyblockgener block dimension mesh gener interfac highlight yellow media mediatensor_mechanicsbreakmeshbyblockpng stylewidth computedisplacementjump object comput displac jump across cohes zone accord select formul computelocaltract provid cohes zone respons natur interfac coordin system computeglobaltract object comput traction global coordin deriv wrt displac jump global coordin llbracket u rrbracket czminterfacekernel impos equilibrium ad proper residu system provid analyt jacobian alert note provid czminterfacekernel assum computelocaltract function displac llbracket u rrbracket one want implement traction separ law depend upon variabl bulk stress temperatur respons user implement proper jacobian term cohesivezonemast action automat add proper computedisplacementjump computeglobaltract czminterfacekernel base kinematic_typ paramet valu see input flowchart summar flow inform cohes zone model framework highlight object automat ad cohesizezonemast action media mediatensor_mechanicsczmmasteractionpng stylewidth alert note even use cohesivezonemast action respons user add appropri computelocaltract constitut model breakmeshbyblockgenr input file support kinemat formul system support two differ kinemat formul small strain total lagrangian type formul requir ad differ computedisplacementjump computeglobaltract czminterfacekernel small strain formul requir ad czmcomputedisplacementjumpsmallstrainczmcomputedisplacementjumpsmallstrainmd czmcomputeglobaltractionsmallstrainczmcomputeglobaltractionsmallstrainmd czminterfacekernelsmallstrainczminterfacekernelsmallstrainmd total lagrangian formul requir ad czmcomputedisplacementjumptotallagrangianczmcomputedisplacementjumptotallagrangianmd czmcomputeglobaltractiontotallagrangianczmcomputeglobaltractiontotallagrangianmd czminterfacekerneltotallagrangianczminterfacekerneltotallagrangianmd mention previou section cohesivezonemast action add appropri object depend select kinemat formul alert warn obtain traction consist bulk stress small strain kinemat use togeth bulk small strain formul total lagrangian kinemat use togeth finit strain formul cohes zone constitut model implement framework allow implement two differ type cohes zone constitut model eg traction separ law path independ ii path depend first type model assum traction function total interfac displac jump ie hatt fleftllbracket hatu rrbracketright kind model histori variabl implement overrid computelocaltractiontotalbas class instead path depend model histori variabl assum traction increment function interfac displac jump increment old valu deltahatt fleftdelta llbracket hatu rrbracket llbracket hatu rrbracket_old right path depend model implement overrid computelocaltractionincrementalbas class case traction separ law alway formul term local interfac respons assum small strain furthermor constitut law implement gener case even use simul kinemat alreadi embed computedisplacementjump computeglobaltract object type computelocaltract object allow use either small strain total lagrangian kinemat input exampl follow exampl show use cohesivezonemast action list modulestensor_mechanicstesttestscohesive_zone_modelstretch_rotate_large_deformationi blockmodulestensormechanicscohesivezonemast necessari multipl instanc cohesivezonemast action ad instanc differ materi properti base_nam need differ boundari base_nam paramet use action also provid associ materi generate_output paramet add scalar quantiti traction displac jump output avail option traction_x traction_i traction_z normal_tract tangent_tract jump_x jump_i jump_z normal_jump tangent_jump pk_traction_x pk_traction_i pk_traction_z name traction refer cauchi traction pk_traction refer first piolakirchoff traction jump refer displac jump across cohes interfac vector defin global coordin system normal_tract tangent_tract scalar valu comput use czmrealvectorscalarczmrealvectorscalarmd true normal_jump tangent_jump list modulestensor_mechanicstesttestscohesive_zone_modelczm_multiple_action_and_materialsi startmodulestensormechanicscohesivezonemast endmodul includeendfals syntax descript modulestensormechanicscohesivezonemastercohesivezoneact syntax paramet modulestensormechanicscohesivezonemastercohesivezoneact syntax input modulestensormechanicscohesivezonemastercohesivezoneact associ action syntax list modulestensormechanicscohesivezonemast objectstru actionsfals subsystemsfals syntax list modulestensormechanicscohesivezonemast objectsfals actionsfals subsystemstru syntax list modulestensormechanicscohesivezonemast objectsfals actionstru subsystemsfals global strain global strain system enabl captur volum chang shear deform etc still maintain period relax stress along period direct allow correspond deform combin period displac enforc strain period global strainglobalstrainmd comput set integr stress compon sigma_ij period direct zero beginequ labeleqstress_eq int_omega sigma_ij sigma_ij domega endequ indic j correspond period direct associ period displac compon respect sigma_ij denot compon stress tensor repres appli load period direct compon global strain consid constant whole domain total strain epsilon_ijtot point calcul consid contribut global strain tensor beginequ labeleqstrain_eq epsilon_ijtot epsilon_ij epsilon_ijg epsilon_ij endequ epsilon_ij strain componentscomputesmallstrainmd calcul displac gradient epsilon_ijg global strain compon epsilon_ij eigen strain compon addit displac fieldglobaldisplacementauxmd boldsymbol ug gener visual effect global strain beginequ labeleqdispg_eq boldsymbol ug boldsymbol r boldsymbol r_ boldsymbolepsilong endequ boldsymbol r posit vector boldsymbolr_ locat refer point boldsymbolepsilong global strain tensor refer point could fix boldsymbol utot boldsymbol point domain maintain period recommend fix center point simul domain refer point total displac repres beginequ labeleqdisp_eq boldsymbol utot boldsymbol u boldsymbol ug endequ boldsymbol u local displac field calcul mechan equilibrium globalstrainactionglobalstrainactionmd use set model global strain correspond displac calcul action creat use follow syntax exampl input file syntax list modulestensor_mechanicstesttestsglobal_strainglobal_strain_actioni blockmodulestensormechanicsglobalstrain subblock subblock globalstrain action trigger moos object built appli whole domain use singl subblock modulestensormechanicsglobalstrain multipl subblock use appli block restrict object modulestensormechanicsglobalstrain block_a block_b syntax list modulestensormechanicsglobalstrain objectstru actionsfals subsystemsfals syntax list modulestensormechanicsglobalstrain objectsfals actionsfals subsystemstru syntax list modulestensormechanicsglobalstrain objectsfals actionstru subsystemsfals tensor mechan master action system syntax descript modulestensormechanicsmastertensormechanicsact tensormechan master action conveni object simplifi part mechan system setup perform add stressdiverg kernel current coordin system add weakplanestress kernel weak enforc plane stress condit add strain calcul materi chosen strain model correctli set use displac mesh option setup displac variabl correct order current mesh option add auxvari auxkernel variou tensor compon quantiti output option set outofplan stressstrain consist option automat extract eigenstrain name materi correct applic proper block construct mooseobject tensor mechan master action use construct kernel displac variabl strain materi consist manner requir continuum mechan simul simul option gener aux variabl auxkernel aid output tensor compon scalar quantiti tabl idtmmaster_action_t captioncorrespond among action function mooseobject tensor mechan master action function replac class associ paramet calcul stress diverg equilibrium given coordin system stressdivergencetensorsstressdivergencetensorsmd option weakplanestressweakplanestressmd stressdivergencerztensorsstressdivergencerztensorsmd stressdivergencersphericaltensorsstressdivergencersphericaltensorsmd displac string displac field variabl add displac variabl variablessyntaxvariablesindexmd add_vari boolean calcul strain given coordin system computefinitestraincomputefinitestrainmd computeplanefinitestraincomputeplanefinitestrainmd computeaxisymmetricdfinitestraincomputeaxisymmetricdfinitestrainmd computeaxisymmetricrzfinitestraincomputeaxisymmetricrzfinitestrainmd strain mooseenum select finit strain formul computesmallstraincomputesmallstrainmd computeplanesmallstraincomputeplanesmallstrainmd computeaxisymmetricdsmallstraincomputeaxisymmetricdsmallstrainmd computeaxisymmetricrzsmallstraincomputeaxisymmetricrzsmallstrainmd computeincrementalsmallstraincomputeincrementalsmallstrainmd computeplaneincrementalstraincomputeplaneincrementalstrainmd computeaxisymmetricdincrementalstraincomputeaxisymmetricdincrementalstrainmd computeaxisymmetricrzincrementalstraincomputeaxisymmetricrzincrementalstrainmd increment boolean use increment strain formul add auxvari auxkernel variou tensor compon quantiti output materi properti well auxvariablesauxvariablesindexmd ranktwoauxranktwoauxmd ranktwoscalarauxranktwoscalarauxmd rankfourauxrankfourauxmd generate_output string quantiti add add materi properti variou tensor compon quantiti output generate_output string quantiti add add option global strain contribut strain calcul coupl globalstrainglobalstrainindexmd system global_strain name materi properti comput global strain tensor note mani variat calcul stress diverg strain measur review theoret introduct stress divergencetensor_mechanicsstressdivergencemd strain formulationstensor_mechanicsstrainsmd inform alert warn use tensormechanicsact automatic_eigenstrain_nam true eigenstrain_nam popul restrict condit class compositeeigenstraincompositeeigenstrainmd computereducedordereigenstraincomputereducedordereigenstrainmd ranktwotensormaterialadconvertermaterialadconvertermd input compon class includ parammodulestensormechanicsmastertensormechanicsactioneigenstrain_nam pass tensormechanicsact set automatic_eigenstrain_nam fals popul list manual compon need includ exampl input file syntax subblock subblock master action trigger moos object built none mechan subdomain restrict singl subblock use list modulestensor_mechanicstesttestsfinite_strain_elasticfinite_strain_elastic_new_testi blockmodulestensormechanicsmast differ mechan model need multipl subblock subdomain restrict use list modulestensor_mechanicstesttestsactiontwo_block_newi blockmodulestensormechanicsmast paramet suppli modulestensormechanicsmast level act default master action subblock syntax paramet modulestensormechanicsmastertensormechanicsact associ action syntax list modulestensormechanicsmast objectstru actionsfals subsystemsfals syntax list modulestensormechanicsmast objectsfals actionsfals subsystemstru syntax list modulestensormechanicsmast objectsfals actionstru subsystemsfals gener plane strain action system syntax descript modulestensormechanicsgeneralizedplanestraingeneralizedplanestrainact descript action set gener plane strain model detail descript gener plane strain model found formulationtensor_mechanicsgeneralized_plane_strainmd page alert warn titlefor simul generalizedplanestrain work axisymmetr gener plane strain case axisymmetr gener plane strain case xy plane number displac variabl must one two displac respect gener plane strain case xz yz plane number displac variabl must three alertend construct mooseobject generalizedplanestrain action use construct kernel user object scalar outofplan variabl consist manner requir gener plane strain simul tabl idgeneralizedps_action_t captioncorrespond among action function mooseobject generalizedplanestrain action function replac class associ paramet scalar outofplan strain coupl inplan field variabl gener plane strain offdiagon kernelgeneralizedplanestrainoffdiagmd scalar_out_of_plane_strain list scalar variabl outofplan strain direct displac string displac field inplan variabl temperatur string temperatur field variabl outofplan scalar variabl equilibrium condit gener plane strain scalarkernelgeneralizedplanestrainmd scalar_out_of_plane_strain list scalar variabl outofplan strain direct out_of_plane_direct outofplan direct scalar outofplan strain residu diagon jacobian calcul scalar outofplan strain variabl gener plane strain userobjectgeneralizedplanestrainuserobjectmd scalar_out_of_plane_strain list scalar variabl outofplan strain direct exampl input syntax subblock subblock generalizedplanestrain action trigger moos object built gener plane strain model appli whole simul domain singl subblock use list modulestensor_mechanicstesttestsgeneralized_plane_strainout_of_plane_pressurei blockmodulestensormechanicsgeneralizedplanestrain differ mesh subdomain differ gener plane strain model multipl subblock subdomain restrict use list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_squaresi blockmodulestensormechanicsgeneralizedplanestrain exampl use gener plane strain action tensor mechan master action differ out_of_plane_direct default z given list modulestensor_mechanicstesttestsd_different_planesgps_xzi blockmodulestensormechanicsmastergeneralized_plane_strain paramet suppli modulestensormechanicsgeneralizedplanestrain level act default master action subblock syntax paramet modulestensormechanicsgeneralizedplanestraingeneralizedplanestrainact associ action syntax list modulestensormechanicsgeneralizedplanestrain objectstru actionsfals subsystemsfals syntax list modulestensormechanicsgeneralizedplanestrain objectsfals actionsfals subsystemstru syntax list modulestensormechanicsgeneralizedplanestrain objectsfals actionstru subsystemsfals cylindr rank two aux syntax descript auxkernelscylindricalranktwoaux descript auxkernel cylindricalranktwoaux transform rank tensor cylinder coordin cylindr rotat axi along cartesian hatz axi userdefin center point lie within cartesian hatxhati plane shown eqcylindrical_rank_two_aux auxkernel save compon tranform rank tensor tr defin argument index_i index_j paramet beginequ labeleqcylindrical_rank_two_aux tr_ij boldsymbolr cdot boldsymbolt cdot boldsymbolrt endequ rotat tensor r defin beginequ labeleqcylindrical_rotation_tensor r beginbmatrix costheta sintheta sintheta costheta endbmatrix quad text quad theta atan left fracpqp_i pc_ypqp_x pc_x right endequ pqp locat current quadratur point evalu pc center point defin user paramet center_point input file exampl input file syntax list modulestensor_mechanicstesttestscylindricalranktwoauxtesti blockauxkernelsstress_tt auxvari requir store auxkernel inform note name auxvari use argument variabl input paramet cylindricalranktwoaux block list modulestensor_mechanicstesttestscylindricalranktwoauxtesti blockauxvariablesstress_tt syntax paramet auxkernelscylindricalranktwoaux syntax input auxkernelscylindricalranktwoaux syntax children auxkernelscylindricalranktwoaux radialdisplacementsphereaux syntax descript auxkernelsradialdisplacementsphereaux comput radial displac spheric symmetr model simpli matter report u_r spheric model vector origin node p_n p_n p_ radial displac u_r u_n cdot fracp_nleftlvertp_nrightrvert syntax paramet auxkernelsradialdisplacementsphereaux syntax input auxkernelsradialdisplacementsphereaux syntax children auxkernelsradialdisplacementsphereaux bibtex bibliographi rank two scalar aux syntax descript auxkernelsranktwoscalaraux descript auxkern use set function comput scalar quantiti invari compon specifi direct rank tensor stress strain see ranktwoscalartoolsranktwoscalartoolsmd inform exampl input file syntax list modulestensor_mechanicstesttestsmaterial_limit_time_stepelas_plasnafems_nl_limi blockauxkernelsvonmis auxvari requir store auxkernel inform note name auxvari use argument variabl input paramet ranktwoscalaraux block list modulestensor_mechanicstesttestsmaterial_limit_time_stepelas_plasnafems_nl_limi blockauxvariablesvonmis ranktwoauxranktwoauxmd auxkernel ranktwoscalaraux requir inclus auxvari block auxkernel block auxvari order alert note titleelement vs nodal visual quadratur field valu result differ qualiti base auxvari element constant monomi use auxvari famili monomi order constant give constant valu auxvari entir element comput take volumeweight averag integr point quantiti default option use tensormechan action requir least comput cost element higherord monomi use auxvari famili monomi order first higher result field vari linearli higher order within element exodu mesh format support higherord element variabl auxvari output libmesh nodal variabl visual purpos use higher order monomi variabl way produc smoother visual result properli converg simul nodal lagrang use auxvari famili lagrang result smooth nodal field materi properti construct use nodal patch recoverynodal_patch_recoverymd optionaltru patch_polynomial_ord set equal order auxvari default use option best smoothest accur result addit comput cost furthermor method suitabl serial simul present alertend syntax paramet auxkernelsranktwoscalaraux syntax input auxkernelsranktwoscalaraux syntax children auxkernelsranktwoscalaraux bibtex bibliographi globaldisplacementaux syntax descript auxkernelsglobaldisplacementaux descript auxkernel globaldisplacementaux calcul displac compon global strain tensorcomputeglobalstrainmd option combin global displac displac calcul stress diverg kernel provid total displac save individu displac compon auxvari visual andor postprocess purpos exampl input file syntax list modulestensor_mechanicstesttestsglobal_strainglobal_straini blockauxkernelsdisp_i auxvari requir store displac calcul auxkernel name auxvari use argument variabl input paramet list modulestensor_mechanicstesttestsglobal_strainglobal_straini blockauxvariablesdisp_i visual order visual deform shape respect displac calcul name auxvari disp_x disp_i disp_z use name displac variabl syntax paramet auxkernelsglobaldisplacementaux syntax input auxkernelsglobaldisplacementaux syntax children auxkernelsglobaldisplacementaux testnewmarkti syntax descript auxkernelstestnewmarkti descript class assign valu firstsecond time deriv coupl displac variabl provid auxvari first paramet decid whether first second time deriv need assign default first set true first time deriv assign auxvari syntax paramet auxkernelstestnewmarkti syntax input auxkernelstestnewmarkti syntax children auxkernelstestnewmarkti newmarkvelaux syntax descript auxkernelsnewmarkvelaux descript class comput current veloc mathbfdotutdelta given old veloc mathbfut old acceler mathbfddotut current acceler mathbfddotutdelta follow beginequ mathbfdotut delta mathbfdotut gammadelta mathbfddotut gamma delta mathbfddotutdelta endequ gamma newmark time integr paramet delta time step inform newmark method found dynamicsdynamicsmd syntax paramet auxkernelsnewmarkvelaux syntax input auxkernelsnewmarkvelaux syntax children auxkernelsnewmarkvelaux domainintegraltopologicalqfunct syntax descript auxkernelsdomainintegraltopologicalqfunct descript object use comput valu q function use comput fractur domain integr describ fractureintegralsfractureintegralsmd form q function base mesh topolog ring element layer expand crack front form q function vari insid node outsid node given ring object typic directli defin user defin use domainintegralactiondomainintegralactionmd block also object use output purpos debug model actual valu q function use comput comput fractur domain integr postprocessor object syntax paramet auxkernelsdomainintegraltopologicalqfunct syntax input auxkernelsdomainintegraltopologicalqfunct syntax children auxkernelsdomainintegraltopologicalqfunct domainintegralqfunct syntax descript auxkernelsdomainintegralqfunct descript object use comput valu q function use comput fractur domain integr describ fractureintegralsfractureintegralsmd q function comput base distanc given point crack front evalu point within inner radiu integr domain beyond outer radiu linearli interpol inner outer radiu dimension simul function also ramp linearli full valu base posit tangenti along crack rel point associ along crack front along segment crack front connect point object typic directli defin user defin use domainintegralactiondomainintegralactionmd block also object use output purpos debug model actual valu q function use comput comput fractur domain integr postprocessor object syntax paramet auxkernelsdomainintegralqfunct syntax input auxkernelsdomainintegralqfunct syntax children auxkernelsdomainintegralqfunct newmarkaccelaux syntax descript auxkernelsnewmarkaccelaux descript class comput current acceler mathbfddotutdelta given current displac mathbfutdelta old displac mathbfut old veloc mathbfdotut old acceler mathbfddotut follow beginequ mathbfddotutdelta fracmathbfutdelta tmathbfutbeta delta fracmathbfdotutbeta delta tfracbeta betamathbfddotut endequ beta newmark time integr paramet delta time step inform newmark method found dynamicsdynamicsmd syntax paramet auxkernelsnewmarkaccelaux syntax input auxkernelsnewmarkaccelaux syntax children auxkernelsnewmarkaccelaux templat load filestubsmoose_objectmdtempl nameaccumulateaux syntaxauxkernelsaccumulateaux radialdisplacementcylinderaux syntax descript auxkernelsradialdisplacementcylinderaux comput radial displac axisymmetr model simpli matter report u_r cartesian model center axi outofplan direct case vector origin node p_n p_n p_ radial displac u_r u_n cdot fracp_nleftlvertp_nrightrvert cartesian model first find point axi rotat closest particular node done beginequ p_n p_n p_ endequ beginequ p_n cdot a_r endequ beginequ p p_ a_r endequ beginequ p_r p_n p endequ a_r axi rotat beginequ u_r u_n cdot fracp_rleftlvertp_rrightrvert endequ syntax paramet auxkernelsradialdisplacementcylinderaux syntax input auxkernelsradialdisplacementcylinderaux syntax children auxkernelsradialdisplacementcylinderaux bibtex bibliographi rank two aux syntax descript auxkernelsranktwoaux descript auxkernel ranktwoaux use save singl compon rank tensor auxvari visual andor postprocess purpos antisymmetr rank tensor would requir nine separ ranktwoaux auxkernelauxvari pair store compon antisymmetr rank tensor six separ auxkernelauxvari pair requir print uniqu compon symmetr rank tensor quantiti commonli examin ranktwoaux stress boldsymbolsigma strain boldsymbolepsilon ranktwoaux take argument valu index_i index_j singl tensor compon save auxvari eqranktensor_aux_indic show index valu rank tensor compon beginequ labeleqranktensor_aux_indic sigma_ij impli beginbmatrix sigma_ sigma_ sigma_ sigma_ sigma_ sigma_ sigma_ sigma_ sigma_ endbmatrix endequ desir ranktwoaux restrict save data rank tensor singl specifi quadratur point per element option gener use debug purpos auxvari order alert note titleelement vs nodal visual quadratur field valu result differ qualiti base auxvari element constant monomi use auxvari famili monomi order constant give constant valu auxvari entir element comput take volumeweight averag integr point quantiti default option use tensormechan action requir least comput cost element higherord monomi use auxvari famili monomi order first higher result field vari linearli higher order within element exodu mesh format support higherord element variabl auxvari output libmesh nodal variabl visual purpos use higher order monomi variabl way produc smoother visual result properli converg simul nodal lagrang use auxvari famili lagrang result smooth nodal field materi properti construct use nodal patch recoverynodal_patch_recoverymd optionaltru patch_polynomial_ord set equal order auxvari default use option best smoothest accur result addit comput cost furthermor method suitabl serial simul present alertend exampl input file syntax list modulestensor_mechanicstesttestselastic_patchelastic_patchi blockauxkernelsstress_xi auxvari requir store ranktwoaux auxkernel inform note name auxvari use argument variabl input paramet ranktwoaux block list modulestensor_mechanicstesttestselastic_patchelastic_patchi blockauxvariablesstress_xi syntax paramet auxkernelsranktwoaux syntax input auxkernelsranktwoaux syntax children auxkernelsranktwoaux gener plane strain refer residu syntax descript auxscalarkernelsgeneralizedplanestrainreferenceresidu descript auxscalarkernel generalizedplanestrainreferenceresidu retriev store refer residu valu generalizedplanestrainuserobjectgeneralizedplanestrainuserobjectmd exampl input syntax list modulescombinedtesttestsgeneralized_plane_strain_tm_contactout_of_plane_pressurei blockauxscalarkernel syntax paramet auxscalarkernelsgeneralizedplanestrainreferenceresidu syntax input auxscalarkernelsgeneralizedplanestrainreferenceresidu syntax children auxscalarkernelsgeneralizedplanestrainreferenceresidu nodal patch recoveri auxkernel syntax descript auxkernelsnodalpatchrecoveryaux syntax paramet auxkernelsnodalpatchrecoveryaux syntax input auxkernelsnodalpatchrecoveryaux syntax children auxkernelsnodalpatchrecoveryaux rotationangl syntax descript auxkernelsrotationangl overview auxkernel comput rotat angl alpha radian around axi given refer point origin direct vector vec everi node vector vec r_ origin undisplac node vec r_ displac node comput displac point determin ad displac compon undisplac node locat project vec r_ onto normal direct fracdvec subtract vec r_ angl alpha comput equat alpha arccosfracvec r_ cdot vec r_r_cdotr_ cdot textsignleftvec r_ time vec r_cdot vec dright denomin fraction small zero return angl sign angl determin compar cross product project vec r_ vector direct vector vec right hand rule appli exampl input file syntax syntax paramet auxkernelsrotationangl syntax input auxkernelsrotationangl syntax children auxkernelsrotationangl templat load filestubsmoose_objectmdtempl nameelasticenergyaux syntaxauxkernelselasticenergyaux rank four aux syntax descript auxkernelsrankfouraux descript auxkernel rankfouraux use save singl compon rank tensor auxvari visual andor postprocess purpos similar function provid ranktwoauxranktwoauxmd rank tensor rankfouraux commonli use output compon elast stiff tensor c_ijkl mechan simul rankfouraux take argument valu index_i index_j index_k index_l singl rank tensor compon save auxvari beginequ labeleqranktensor_aux_indic beginalign c_ijkl impli underbracebeginbmatrix c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ endbmatrix_texttextbook notat em impli underbracebeginbmatrix c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ endbmatrix_textrank four aux indic endalign endequ eqranktensor_aux_indic show index valu linear hyperelast stiff tensor indep materi paramet variou avail elast tensor symmetri option discuss materi computeelasticitytensorcomputeelasticitytensormd document exampl input file syntax list modulescombinedtesttestslinear_elasticitytensori blockauxkernelsmatl_c auxvari requir store rankfouraux auxkernel inform note name auxvari use argument variabl input paramet rankfouraux block list modulescombinedtesttestslinear_elasticitytensori blockauxvariablesc syntax paramet auxkernelsrankfouraux syntax input auxkernelsrankfouraux syntax children auxkernelsrankfouraux elementjacobiandamp syntax descript damperselementjacobiandamp damper limit chang jacobian element damper becom activ rel chang jacobian element exce user defin maximum syntax paramet damperselementjacobiandamp syntax input damperselementjacobiandamp syntax children damperselementjacobiandamp side reaction postprocessor syntax descript postprocessorssidesetreact descript sidesetreact comput integr forc f along vector vece act sideset partial beginequ f int_parti vecnt underlinesigma vece ds endequ underlinesigma stress tensor syntax paramet postprocessorssidesetreact syntax input postprocessorssidesetreact syntax children postprocessorssidesetreact asymptoticexpansionhomogenizationelasticconst syntax descript postprocessorsasymptoticexpansionhomogenizationelasticconst descript postprocessor comput beginequ d_ijkltexth fraclefttextyrightint_textyd_ijkl leftbmifracpartialchimn_kappaparti y_lrightdbmi endequ d_ijkltexth homogen elast tensor use conjunct stress divergencestressdivergencetensorsmd kernel asymptot expans homogen elast constantsasymptoticexpansionhomogenizationkernelmd kernel comput homogen elast tensor valu accord beginequ int_textyfracparti v_iparti y_j d_ijkl fracpartialchi_kappamnparti y_ltextdbmi int_texti fracparti v_iparti y_jd_ijkltextdbmi endequ d_ijkl elast tensor see citehaleshomogen exampl input file syntax list modulestensor_mechanicstesttestshomogenizationanisoshortfiberi blockpostprocessors syntax paramet postprocessorsasymptoticexpansionhomogenizationelasticconst syntax input postprocessorsasymptoticexpansionhomogenizationelasticconst syntax children postprocessorsasymptoticexpansionhomogenizationelasticconst bibtex bibliographi materi time step postprocessor syntax descript postprocessorsmaterialtimesteppostprocessor descript materialtimesteppostprocessor work conjunct materi model comput appropri maximum time step allow individu materi model creep plastic model maximum time step size govern allow inelast strain increment varieti method could use individu materi model comput accept time step continuum damag model maximum time step size govern allow increment damag singl time step creep strain exampl maximum time step size numer tool use ensur calcul physic reason inelast strain improv converg inelast materi model exampl maximum allow time step comput creep model form beginequ labeleqnlimiting_t delta _limit delta cdot fracdelta epsiloninel_maxdelta epsiloninel endequ delta epsiloninel_max maximum effect inelast strain increment default valu e set user delta epsiloninel current scalar effect inelast strain increment meshwid evalu materialtimesteppostprocessor collect time step limit quadratur point simul mesh store minimum valu minimum allow time step size valu use iterationadaptivedtiterationadaptivedtmd restrict time step size base limit calcul previou time step note iterationadaptivedtiterationadaptivedtmd appli limit time step size valu materialtimesteppostprocessor valu less maximum time step size valu calcul intern iterationadaptivedtiterationadaptivedtmd adapt time step size algorithm alert note titletim step limit lag calcul valu maximum allow time step collect materialtimesteppostprocessor enforc next simul time step minimum time step calcul materi model calcul maximum allow timestep depend individu materi maximum allow inelast strain increment method calcul current inelast strain eqnlimiting_t defin separ materi given materi depend natur maximum time step valu calcul separ radialreturnstressupdateradialreturnstressupdatemd materi quadratur point materialtimesteppostprocessor determin minimum time step size valu quadratur point simul initi valu maximum time step size set stdnumeric_limitsrealmax inelast materi model begin calcul inelast strain valu allow time step size vari inelast strain comput limit time step size store within materi properti call material_timestep_limit materi properti set either computemultipleinelasticstresscomputemultipleinelasticstressmd model creep plastic strain computedamagestresscomputedamagestressmd continuum damag model minimum time step size base number element properti chang allow time step size also control total number element materi properti chang cours time step use context continuum damag limit number element damag singl time step user need defin scalar materi properti input paramet elements_changed_properti well maximum accept number element chang use elements_chang input paramet defin materialtimesteppostprocessor sweep entir mesh count number element select properti chang least one quadratur point limit time step calcul use ratio current number element chang n_chang maximum valu n_max beginequ labeleqnlimiting_ts_count delta _limit delta cdot fracn_changedn_max endequ user defin elements_changed_threshold detect chang properti exampl use count number element damag increas least specif amount method option activ elements_changed_properti elements_chang defin materialtimesteppostprocessor use minimum valu provid materi model see number element chang input paramet use_material_timestep_limit set fals number element chang use exampl input file list modulestensor_mechanicstesttestsmaterial_limit_time_stepelas_plasnafems_nl_limi blockpostprocessorsmatl_ts_min name materialtimesteppostprocessor pass iterationadaptivedt argument timestep_limiting_postprocessor paramet list modulestensor_mechanicstesttestsmaterial_limit_time_stepelas_plasnafems_nl_limi blockexecutionertimestepp max_inelastic_incr paramet inelast materi model must set run time step limit calcul list modulestensor_mechanicstesttestsmaterial_limit_time_stepelas_plasnafems_nl_limi blockmaterialsisopla syntax paramet postprocessorsmaterialtimesteppostprocessor syntax input postprocessorsmaterialtimesteppostprocessor syntax children postprocessorsmaterialtimesteppostprocessor torqu reaction syntax descript postprocessorstorquereact descript postprocessor torquereact calcul appli torqu reaction forc coupl auxvari user specifi axi rotat torquereact take scalar approach calcul sum act torqu project reaction forc vector posit vector coordin node upon forc appli onto axi rotat appli pythagorean theorem static cours scalar approach allow postprocessor accept axi rotat direct torqu reaction forc calcul shown eqcalculate_torque_vector rel user specifi axi rotat origin direct beginequ labeleqcalculate_torque_vector beginalign boldsymboltau hatp_n time mathcalf hatp_n left p_c p_o right fracleft p_c p_o right cdot dd cdot endalign endequ mathcalf appli reaction forc vector p_c current node posit p_o origin axi rotat direct vector axi rotat compon torqu act along user specifi axi rotat vector tau_c calcuat eqcalculate_torque_compon beginequ labeleqcalculate_torque_compon tau_c fracboldsymboltau cdot dd cdot endequ boldsymboltau torqu vector calcul eqcalculate_torque_vector axi rotat direct vector exampl input file syntax list modulestensor_mechanicstestteststorque_reactiontorque_reactioni blockpostprocessorstorqu list auxvari save reaction forc must provid torquereact block list modulestensor_mechanicstestteststorque_reactiontorque_reactioni blockauxvariablessaved_x list modulestensor_mechanicstestteststorque_reactiontorque_reactioni blockauxvariablessaved_i reaction forc auxvari must also comput use tag system save reaction separ vector stress diverg kernel handl case use extra_vector_tag paramet master action list modulestensor_mechanicstestteststorque_reactiontorque_reactioni blockmodulestensormechanicsmast tagvectoraux auxkernel use extract save compon reaction vector tag vector put auxvari show x compon extract other handl similar manner list modulestensor_mechanicstestteststorque_reactiontorque_reactioni blockauxkernelssaved_x syntax paramet postprocessorstorquereact syntax input postprocessorstorquereact syntax children postprocessorstorquereact polarmomentofinertia syntax descript postprocessorspolarmomentofinertia overview postprocessor comput polar moment inertia j i_z surfac respect refer point origin axi rotat direct result need torquetorquemd boundari condit exampl input file syntax syntax paramet postprocessorspolarmomentofinertia syntax input postprocessorspolarmomentofinertia syntax children postprocessorspolarmomentofinertia caviti pressur postprocessor syntax descript postprocessorscavitypressurepostprocessor descript cavitypressurepostprocessor use store valu initi mole current pressur intern volum quantiti calcul cavitypressureuserobjectcavitypressureuserobjectmd cavitypressurepostprocessor built cavitypressureppactionbcscavitypressureindexmd syntax paramet postprocessorscavitypressurepostprocessor syntax input postprocessorscavitypressurepostprocessor syntax children postprocessorscavitypressurepostprocessor templat load filestubsmoose_objectmdtempl namemass syntaxpostprocessorsmass materi tensor averag syntax descript postprocessorsmaterialtensoraverag descript materialtensoraverag postprocessor comput volum averag rank tensor compon specifi user beginequ labeleqnvolume_integal_tensor_comp savg int_v t_ij dv int_v dv endequ savg comput volum averag quantiti t_ij tensor compon select user tensor compon indici j rang shown refer tensor beginequ labeleqnref_tensor t_ij beginbmatrix endbmatrix endequ paramet use_displaced_mesh control volum util comput averag use_displaced_meshtru averag comput util deform volum use_displaced_meshfals default averag comput util initi volum exampl input file list modulestensor_mechanicstesttestspostprocessorsmaterial_tensor_average_testi blockpostprocessor syntax paramet postprocessorsmaterialtensoraverag syntax input postprocessorsmaterialtensoraverag syntax children postprocessorsmaterialtensoraverag crack front data syntax descript postprocessorscrackfrontdata descript object util function use output valu nodal variabl node along crack front use fractur domain integr calcul use tie inform solut variabl comput fractur integr specif point definit crack point must provid use crackfrontdefinitioncrackfrontdefinitionmd object typic set automat use domainintegralactiondomainintegralactionmd exampl input file syntax list modulestensor_mechanicstesttestsj_integralj_integral_di blockpostprocessorsdisp_x_centercrack syntax paramet postprocessorscrackfrontdata syntax input postprocessorscrackfrontdata syntax children postprocessorscrackfrontdata critic time step postprocessor syntax descript postprocessorscriticaltimestep descript criticaltimestep postprocessor use comput valu minimum time step explicit integr scheme pleas refer criticaltimestepmathcriticaltimestepmathmd theoret detail syntax paramet postprocessorscriticaltimestep syntax input postprocessorscriticaltimestep syntax children postprocessorscriticaltimestep materi tensor integr syntax descript postprocessorsmaterialtensorintegr descript materialtensorintegr postprocessor comput volum integr rank tensor compon specifi user beginequ labeleqnvolume_integal_tensor_comp sint int_v t_ij dv endequ sint comput volum integr quantiti t_ij tensor compon select user tensor compon indici j rang shown refer tensor beginequ labeleqnref_tensor t_ij beginbmatrix endbmatrix endequ class often use gener plane strainmodulestensor_mechanicsgeneralized_plane_strainmd simul calcul outofplan stress compon exampl input file list modulestensor_mechanicstesttestsgeneralized_plane_strainplane_straini blockpostprocessor syntax paramet postprocessorsmaterialtensorintegr syntax input postprocessorsmaterialtensorintegr syntax children postprocessorsmaterialtensorintegr templat load filestubsmoose_objectmdtempl namephasefieldfracturemechanicsoffdiag syntaxkernelsphasefieldfracturemechanicsoffdiag adstressdivergenceshel syntax descript kernelsadstressdivergenceshel descript adstressdivergenceshel kernel calcul contribut residu stress diverg shell element forward mode automat differenti use comput exact jacobian pleas refer shellelementsshellelementsmd detail exampl input file syntax syntax paramet kernelsadstressdivergenceshel syntax input kernelsadstressdivergenceshel syntax children kernelsadstressdivergenceshel adgrav syntax descript kernelsadgrav descript kernel adgrav provid bodi forc term stress diverg equilibrium equat account adgrav forc due self weight continuum mechan problem momentum conserv prescrib assum static equilibrium time increment beginequ nabla cdot boldsymbolsigma g endequ boldsymbolsigma cauchi stress tensor boldsymbolg adgrav bodi forc per unit mass exampl input file syntax list modulestensor_mechanicstesttestsgravityad_gravity_testi blockkernelsgravity_i syntax paramet kernelsadgrav syntax input kernelsadgrav syntax children kernelsadgrav graviti syntax descript kernelsgrav descript kernel graviti provid bodi forc term stress diverg equilibrium equat account graviti forc due self weight continuum mechan problem momentum conserv prescrib assum static equilibrium time increment beginequ nabla cdot boldsymbolsigma g endequ boldsymbolsigma cauchi stress tensor boldsymbolg graviti bodi forc per unit mass exampl input file syntax list modulestensor_mechanicstesttestsgravitygravity_testi blockkernelsgravity_i syntax paramet kernelsgrav syntax input kernelsgrav syntax children kernelsgrav stress diverg rspheric tensor syntax descript kernelsstressdivergencersphericaltensor descript kernel stressdivergencersphericaltensor solv stress diverg equat spheric symmetr system mesh alert note coord_typ problem block input file must set rspheric stressdivergencersphericaltensor kernel automat creat tensormechan master actionmodulestensormechanicsmasterindexmd use tensor mechan master action recommend ensur consist set use_displaced_mesh paramet strain formul select detail explan set _use_displaced_mesh_ mechan problem tensormechan master action usag see introductionstressdivergencestressdivergencemd page residu calcul includ modulestensor_mechanicscommonsupplementalstressdivergencekernelsmd stress diverg spheric coordin includ contribut normal polar azimuth stress even case simplifi case spheric stress diverg reduc beginequ labeleqnstrongformspher nabla sigma left fracparti sigma_rrparti r fracx_r sigma_rr fracx_r left sigma_phi phi sigma_theta theta right right hate_r endequ deriv weak form equat second term eqnstrongformspher goe zero residu contribut stressdivergencersphericaltensor kernel becom beginequ boldsymbolr sigma_rr frac partial phi_i partial r frac phi_ix_r left sigma_phi phi sigma_theta theta right endequ exampl input file syntax use tensor mechan master action shown list modulestensor_mechanicstesttestsd_sphericalfinitestrain_dsphere_hollowi blockmodulestensormechanicsmast stressdivergencersphericaltensor kernel automat built coordin system problem block specifi spheric system list modulestensor_mechanicstesttestsd_sphericalfinitestrain_dsphere_hollowi blockproblem singl displac variabl provid list modulestensor_mechanicstesttestsd_sphericalfinitestrain_dsphere_hollowi blockglobalparam syntax paramet kernelsstressdivergencersphericaltensor includ modulestensor_mechanicscommonseealsoadstressdivergencekernelsmd syntax input kernelsstressdivergencersphericaltensor syntax children kernelsstressdivergencersphericaltensor templat load filestubsmoose_objectmdtempl nameplasticheatenergi syntaxkernelsplasticheatenergi adstressdivergencetensor syntax descript kernelsadstressdivergencetensor descript adstressdivergencetensor kernel calcul residu stress diverg problem cartesian coordin system forward mode automat differenti use comput exact jacobian either displac variabl use stress diverg calcul cartesian system residu calcul includ modulestensor_mechanicscommonsupplementaladstressdivergencekernelsmd exampl input file syntax syntax paramet kernelsadstressdivergencetensor includ modulestensor_mechanicscommonseealsoadstressdivergencekernelsmd syntax input kernelsadstressdivergencetensor syntax children kernelsadstressdivergencetensor inerti forc beam syntax descript kernelsinertialforcebeam descript class comput ith compon inerti forcetorqu massinertia proport rayleigh damp beam element due massrot inertia pleas look ctimoshenkobeamctimoshenkobeammd detail syntax paramet kernelsinertialforcebeam syntax input kernelsinertialforcebeam syntax children kernelsinertialforcebeam stressdivergencetensorstruss syntax descript kernelsstressdivergencetensorstruss descript class comput axial forc truss local coordin system use axial stress crosssect area local forc transform global coordin system use orient vector truss compon forc ith global coordin direct return residu syntax paramet kernelsstressdivergencetensorstruss syntax input kernelsstressdivergencetensorstruss syntax children kernelsstressdivergencetensorstruss bibtex bibliographi gener plane strain diagon syntax descript kernelsgeneralizedplanestrainoffdiag kernel generalizedplanestrainoffdiag comput offdiagon jacobian entri coupl inplan displac degre freedom outofplan strain degre freedom outofplan direct x z object usual set generalizedplanestrainactiontensormechanicsgeneralizedplanestrainindexmd syntax paramet kernelsgeneralizedplanestrainoffdiag syntax input kernelsgeneralizedplanestrainoffdiag syntax children kernelsgeneralizedplanestrainoffdiag addynamicstressdivergencetensor syntax descript kernelsaddynamicstressdivergencetensor descript class comput stress diverg stiff proport rayleigh damp structur dynam problem addynamicstressdivergencetensor input block comput forc one direct separ addynamicstressdivergencetensor input block set coordin direct dynamictensormechanicsdynamictensormechanicsactionmd action automat set addynamicstressdivergencetensor input block coordin direct inform residu calcul usag found dynamicsdynamicsmd syntax paramet kernelsaddynamicstressdivergencetensor syntax input kernelsaddynamicstressdivergencetensor syntax children kernelsaddynamicstressdivergencetensor templat load filestubsmoose_objectmdtempl namemomentbalanc syntaxkernelsmomentbalancingtempl load filestubsmoose_objectmdtempl nameporomechanicscoupl syntaxkernelsporomechanicscoupl outofplan pressur syntax descript kernelsoutofplanepressur descript outofplanepressur kernel appli outofplan pressur valu outofplan direct gener plane straintensor_mechanicsgeneralized_plane_strainmd plane stress problem either function postprocessor use specifi valu outofplan pressur quadratur point beginequ labeleqnout_of_plane_pressur p f cdot hatn endequ p comput pressur f function postprocessor valu pressur appli hatn unit normal vector outofplan surfac follow convent pressurebcspressuremd boundari condit unit normal vector consid posit point inward toward surfac syntax paramet kernelsoutofplanepressur syntax input kernelsoutofplanepressur syntax children kernelsoutofplanepressur templat load filestubsmoose_objectmdtempl nameadinertialforceshel syntaxkernelsadinertialforceshel adweakplanestress syntax descript kernelsadweakplanestress descript plane stress condit outofplan stress zero adweakplanestress kernel oper outofplan strain variabl comput follow residu beginequ int phi sigma_zz textrmdv endequ thu outofplan stress driven toward zero may strictli zero everywher comput outofplan strain may vari differ point plane finit deform model kernel run displac mesh set use_displaced_mesh true syntax paramet kernelsadweakplanestress syntax input kernelsadweakplanestress syntax children kernelsadweakplanestress bibtex bibliographi inertialforc syntax descript kernelsinertialforc descript class comput inerti forc use consist mass matrix also comput mass proport rayleigh damp inform residu calcul usag found dynamicsdynamicsmd inertialforc kernel calcul forc along one coordin direct separ inertialforc input block set coordin direct syntax paramet kernelsinertialforc syntax input kernelsinertialforc syntax children kernelsinertialforc stress diverg tensor syntax descript kernelsstressdivergencetensor descript stressdivergencetensor kernel calcul residu stress diverg problem cartesian coordin system kernel automat creat tensormechan master actionmodulestensormechanicsmasterindexmd use tensor mechan master action recommend ensur consist set _use_displaced_mesh_ paramet strain formul select detail explan set _use_displaced_mesh_ mechan problem tensormechan master action usag see introductionstressdivergenceautointroductionstressdiverg page residu calcul includ modulestensor_mechanicscommonsupplementalstressdivergencekernelsmd use planar model use planar model plane stre plane strain gener plane strain use comput residu inplan respons case assum outofplan thick comput inplan residu ident case except plane stress case finit deform outofplan thick chang signific gener spatial uniform local thick chang must account case standard residu multipli modifi thick comput logarithm plane strain varepsilon_oop beginequ evarepsilon_oop endequ correct made planar model deform mesh use set use_displaced_mesh true out_of_plane_strain specifi exampl input file syntax cartesian stressdivergencetensor default case tensor mechan master action list modulestensor_mechanicstesttestsfinite_strain_elasticfinite_strain_elastic_new_testi blockmodul either displac variabl use stress diverg calcul cartesian system syntax paramet kernelsstressdivergencetensor includ modulestensor_mechanicscommonseealsoadstressdivergencekernelsmd syntax input kernelsstressdivergencetensor syntax children kernelsstressdivergencetensor inerti torqu syntax descript kernelsinertialtorqu descript kernel comput imathrmth compon inerti torqu use beginequ rho epsilon_ijku_jddotu_k endequ equat rho materi densiti materi properti epsilon_ijk permut pseudotensor levicevita tensor u_j jmathrmth compon displac ddotu_k kmathrmth compon acceler kernel use dynam cosserat continuummechan problem newmark time integr use mean newmark acceler defin beginequ ddotu_mathrmnewmark fracbeta left fracu u_mathrmoldmathrmdt fracdotu_mathrmoldmathrmdt tfrac betaddotu_mathrmold right endequ veloc beginequ dotu dotu_mathrmold mathrmdt cdot gamma cdot ddotu_mathrmold gamma cdot mathrmdt cdot ddotu_mathrmnewmark endequ newmark paramet must satisfi leq gammaleq leq beta leq gammageq betageq tfracgamma tfrac newmark scheme uncondit stabl paramet eta alpha also includ allow rayleigh damp hht time integr mean final form acceler beginequ ddotu ddotu_mathrmnewmark eta cdot left alpha cdot dotu_mathrmnewmark alphadotu_mathrmoldright endequ damp util ie etaneq dynam version stressdivergencetensor kernel use syntax paramet kernelsinertialtorqu syntax input kernelsinertialtorqu syntax children kernelsinertialtorqu stress diverg beam syntax descript kernelsstressdivergencebeam descript class comput ith compon intern forcesmo beam element stiff proport rayleigh damp also calcul class pleas refer c timoshenko beamctimoshenkobeammd detail syntax paramet kernelsstressdivergencebeam syntax input kernelsstressdivergencebeam syntax children kernelsstressdivergencebeam dynamicstressdivergencetensor syntax descript kernelsdynamicstressdivergencetensor descript class comput stress diverg stiff proport rayleigh damp structual dynam problem dynamicstressdivergencetensor input block comput forc one direct separ dynamicstressdivergencetensor input block set coordin direct dynamictensormechanicsdynamictensormechanicsactionmd action automat set dynamicstressdivergencetensor input block coordin direct inform residu calcul usag found dynamicsdynamicsmd syntax paramet kernelsdynamicstressdivergencetensor syntax input kernelsdynamicstressdivergencetensor syntax children kernelsdynamicstressdivergencetensor materialvectorbodyforc syntax descript kernelsmaterialvectorbodyforc descript kernel materialvectorbodyforc provid bodi forc term vector valu materi properti stress diverg equilibrium kernel spatial direct set use materialvectorbodyforc actionmaterialvectorbodyforceindexmd exampl input file syntax list modulestensor_mechanicstesttestsgravitymaterial_vector_body_forcei blockmodulestensormechanicsmaterialvectorbodyforceal syntax paramet kernelsmaterialvectorbodyforc syntax input kernelsmaterialvectorbodyforc syntax children kernelsmaterialvectorbodyforc weakplanestress syntax descript kernelsweakplanestress descript plane stress condit outofplan stress zero weakplanestress kernel oper outofplan strain variabl comput follow residu beginequ int phi sigma_zz textrmdv endequ thu outofplan stress driven toward zero may strictli zero everywher comput outofplan strain may vari differ point plane finit deform model kernel run displac mesh set use_displaced_mesh true syntax paramet kernelsweakplanestress syntax input kernelsweakplanestress syntax children kernelsweakplanestress bibtex bibliographi adstressdivergencerztensor syntax descript kernelsadstressdivergencerztensor descript kernel adstressdivergencerztensor solv stress diverg equat axisymmetr problem cylindr coordin system mesh forward mode automat differenti use comput exact jacobian alert warn titlesymmetri assum zaxi axi symmetri must lie along zaxi leftr z theta right cylindr coordin system symmetri orient requir calcul residu jacobian defin eqtensor_mechanicsrzstressdiverg residu calcul includ modulestensor_mechanicscommonsupplementaladstressdivergencekernelsmd cylindr coordin diverg rank tensorhttpsenwikipediaorgwikitensor_derivative_continuum_mechanicscylindrical_polar_coordinates_ includ mix term contribut axisymmetr model assum symmetr load condit addit zero outofplan shear strain residu comput simplifi beginequ labeleqtensor_mechanicsrzstressdiverg beginalign nabla sigma left fracparti sigma_rrparti r fracu_rx_rsigma_theta theta fracparti sigma_rzparti z right hate_r left fracparti sigma_zzparti z fracparti sigma_rzparti r right hate_z endalign endequ alert note titlenot order chang axisymmetr system chang order displac vector u_r u_theta u_z usual seen textbook u_r u_z u_theta take care follow convent input file ad extra stress alert note titleus rz coordin type coordin type problem block input file must set coord_typ rz syntax paramet kernelsadstressdivergencerztensor includ modulestensor_mechanicscommonseealsoadstressdivergencekernelsmd syntax input kernelsadstressdivergencerztensor syntax children kernelsadstressdivergencerztensor asymptoticexpansionhomogenizationkernel syntax descript kernelsasymptoticexpansionhomogenizationkernel descript kernel comput beginequ int_texti fracparti v_iparti y_jd_ijkltextdbmi endequ d_ijkl elast tensor use conjunct stress divergencestressdivergencetensorsmd kernel asymptot expans homogen elast constantsasymptoticexpansionhomogenizationelasticconstantsmd postprocessor comput homogen elast tensor valu accord beginequ int_textyfracparti v_iparti y_j d_ijkl fracpartialchi_kappamnparti y_ltextdbmi int_texti fracparti v_iparti y_jd_ijkltextdbmi endequ beginequ d_ijkltexth fraclefttextyrightint_textyd_ijkl leftbmifracpartialchimn_kappaparti y_lrightdbmi endequ d_ijkltexth homogen elast tensor see citehaleshomogen exampl input file syntax list modulestensor_mechanicstesttestshomogenizationanisoshortfiberi blockkernelsaeh_dx_xx syntax paramet kernelsasymptoticexpansionhomogenizationkernel syntax input kernelsasymptoticexpansionhomogenizationkernel syntax children kernelsasymptoticexpansionhomogenizationkernel bibtex bibliographi stress diverg rz tensor syntax descript kernelsstressdivergencerztensor descript kernel stressdivergencerztensor solv stress diverg equat axisymmetr problem cylindr coordin system mesh alert warn titlesymmetri assum zaxi axi symmetri must lie along zaxi leftr z theta right cylindr coordin system symmetri orient requir calcul residu jacobian defin eqtensor_mechanicsrzstressdiverg stressdivergencerztensor kernel automat creat tensormechan master actionmodulestensormechanicsmasterindexmd use tensor mechan master action recommend ensur consist set use_displaced_mesh paramet strain formul select detail explan set _use_displaced_mesh_ mechan problem tensormechan master action usag see introductionstress divergencetensor_mechanicsstressdivergencemd page residu calcul includ modulestensor_mechanicscommonsupplementalstressdivergencekernelsmd cylindr coordin diverg rank tensorhttpsenwikipediaorgwikitensor_derivative_continuum_mechanicscylindrical_polar_coordinates_ includ mix term contribut axisymmetr model assum symmetr load condit addit zero outofplan shear strain residu comput simplifi beginequ labeleqtensor_mechanicsrzstressdiverg beginalign nabla sigma left fracparti sigma_rrparti r fracu_rx_rsigma_theta theta fracparti sigma_rzparti z right hate_r left fracparti sigma_zzparti z fracparti sigma_rzparti r right hate_z endalign endequ calcul jacobian similarli complex requir four term calcul diagon entri alert note titlenot order chang axisymmetr system chang order displac vector u_r u_theta u_z usual seen textbook u_r u_z u_theta take care follow convent input file ad extra stress exampl input file alert note titleus rz coordin type coordin type problem block input file must set coord_typ rz use tensor mechan master action shown list modulestensor_mechanicstesttestsd_geometriesdrz_finitestrain_testi blockmodulestensormechanicsmast stressdivergencerztensor kernel automat built coordin system problem block specifi axisymmetr rz system list modulestensor_mechanicstesttestsd_geometriesdrz_finitestrain_testi blockproblem two displac variabl provid list modulestensor_mechanicstesttestsd_geometriesdrz_finitestrain_testi blockglobalparam syntax paramet kernelsstressdivergencerztensor includ modulestensor_mechanicscommonseealsoadstressdivergencekernelsmd syntax input kernelsstressdivergencerztensor syntax children kernelsstressdivergencerztensor adstressdivergencersphericaltensor syntax descript kernelsadstressdivergencersphericaltensor descript kernel adstressdivergencersphericaltensor solv stress diverg equat spheric symmetr system mesh forward mode automat differenti use comput exact jacobian residu calcul includ modulestensor_mechanicscommonsupplementaladstressdivergencekernelsmd stress diverg spheric coordin includ contribut normal polar azimuth stress even case simplifi case spheric stress diverg reduc beginequ labeleqnstrongformspher nabla sigma left fracparti sigma_rrparti r fracx_r sigma_rr fracx_r left sigma_phi phi sigma_theta theta right right hate_r endequ deriv weak form equat second term eqnstrongformspher goe zero residu contribut adstressdivergencersphericaltensor kernel becom beginequ boldsymbolr sigma_rr frac partial phi_i partial r frac phi_ix_r left sigma_phi phi sigma_theta theta right endequ alert note titleus rspheric coordin type coordin type problem block input file must set coord_typ rspheric syntax paramet kernelsadstressdivergencersphericaltensor includ modulestensor_mechanicscommonseealsoadstressdivergencekernelsmd syntax input kernelsadstressdivergencersphericaltensor syntax children kernelsadstressdivergencersphericaltensor templat load filestubsmoose_objectmdtempl namecosseratstressdivergencetensor syntaxkernelscosseratstressdivergencetensor nodal translat inertia syntax descript nodalkernelsnodaltranslationalinertia descript nodalkernel comput ith compon translat inerti forc proport nodal mass mass proport rayleigh damp also comput nodalkernel constant mass node given boundari provid use mass paramet otherwis csv file contain nodal posit correspond nodal mass also provid use nodal_mass_fil paramet pleas refer ctimoshenkobeamctimoshenkobeammd detail exampl csv file two row column first three column correspond nodal posit global coordin system last column correspond nodal mass row contain posit mass inform one node list modulestensor_mechanicstesttestsbeamdynamicnodal_masscsv syntax paramet nodalkernelsnodaltranslationalinertia syntax input nodalkernelsnodaltranslationalinertia syntax children nodalkernelsnodaltranslationalinertia nodal graviti syntax descript nodalkernelsnodalgrav descript nodalkernel comput gravit forc proport nodal mass coordin direct correspond assign variabl constant gravit acceler provid use gravity_valu paramet acceler vari space time provid use function paramet constant mass node given boundari provid use mass paramet otherwis csv file contain nodal posit correspond nodal mass also provid use nodal_mass_fil paramet exampl csv file two row column first three column correspond nodal posit global coordin system last column correspond nodal mass row contain posit mass inform one node list modulestensor_mechanicstesttestsbeamdynamicnodal_masscsv syntax paramet nodalkernelsnodalgrav syntax input nodalkernelsnodalgrav syntax children nodalkernelsnodalgrav nodal rotat inertia syntax descript nodalkernelsnodalrotationalinertia descript class comput ith compon torqu due rotat inertia inertia proport rayleigh damp also comput nodalkernel pleas refer ctimoshenkobeamctimoshenkobeammd detail syntax paramet nodalkernelsnodalrotationalinertia syntax input nodalkernelsnodalrotationalinertia syntax children nodalkernelsnodalrotationalinertia rank two scalar tool descript set function comput scalar quantiti invari compon specifi direct rank tensor stress strain function directli invok input file call sever class ranktwocylindricalcomponentranktwocylindricalcomponentmd ranktwodirectionalcomponentranktwodirectionalcomponentmd ranktwocartesiancomponentranktwocartesiancomponentmd ranktwoinvariantranktwoinvariantmd ranktwoscalarauxranktwoscalarauxmd ranktwoauxranktwoauxmd scalar quantiti comput includ axial stress axialstress calcul scalar valu rank tensor direct axi specifi user user give start point p end point p defin axi beginequ labeleqaxial_stress_scalar_typ hata_i t_ij hata_j quad text quad hata_i fracp_i p_ileft p_i p_i right endequ hata normal direct vector axi defin point p p direct direct calcul scalar valu rank tensor direct select user shown eqdirection_scalar_typ beginequ labeleqdirection_scalar_typ d_i t_ij d_j endequ direct vector specifi input file effect strain increment effect plastic strain effect creep strain comput integr histori inelast strain beginequ int_tsqrtfrac dotepsilonp_ij dotepsilonp_ij mathrmdt endequ comput help effectivestrain method integr effect increment perform ranktwoinvariantmd yield effect strain hoop stress cylinder system hoopstress calcul valu rank tensor along hoop direct cylind shown eqhoop_stress_scalar_typ cylind defin normal vector current posit cylind surfac user specifi axi rotationth user defin rotat axi start point p end point p beginequ labeleqhoop_stress_scalar_typ hatnh_i t_ij hatnh_j endequ hatnh hoop direct normal defin beginequ labeleqhoop_direction_norm beginalign hatnh hatnc time hata hatnc fracpc hatnrleft pc hatnr right hata fracp pleft p p right endalign endequ pc current sampl posit point hatnr direct normal plane defin cylind axi rotat vector direct normal axi rotat current posit pc hoop stress spheric system given normal vector nnnn current point cccc tangenti plane defin nxc nyc nzc let us assum n arbitrari point p plane taken pxcrcr r radiu x solv x rnnn c tangenti vector pc given pc hoopstress calcul valu rank tensor along tangenti direct sphere shown eqhoop_stress_scalar_type_spher spheric system defin center point cc_c_c_ radial direct rr_r_r_ current point pp_p_p_ calcul pc tangenti plane point p given r_xp_ r_yp_ r_zp_ vector pass p plane tangenti spheric surfac find point qq_q_q_ tangenti plane freeli set valu two coordin solv last one use equat plane exampl set q_p_r q_p_r r norm radial direct vector q_ calcul q_ r_r_rr_p_ tangenti vector hatt defin qp beginequ labeleqhoop_stress_scalar_type_spher hatt_i t_ij hatt_j endequ hydrostat stress hydrostat calcul hydrostat scalar rank tensor t_ij shown eqhydrostatic_scalar_typ beginequ labeleqhydrostatic_scalar_typ fractr left t_ij right fract_ii endequ invari valu first invari firstinvari calcul first invari specifi rank tensor t_ij accord eqfirst_invariant_scalar_typ citemalvernintroduct beginequ labeleqfirst_invariant_scalar_typ i_t tr left t_ij right t_ii endequ second invari secondinvari find second invari rank tensor t_ij shown eqsecond_invariant_scalar_typ method defin citehjelmstadfundament beginequ labeleqsecond_invariant_scalar_typ ii_t t_ii t_jj frac left t_ij t_ij t_ji t_ji right endequ third invari thirdinvari comput valu rank tensor t_ij third invari given eqthird_invariant_scalar_typ citemalvernintroduct beginequ labeleqthird_invariant_scalar_typ iii_t det left t_ij right frac e_ijk e_pqr t_ip t_jq t_kr endequ e rank permut tensor l norm lnorm calcul l normal rank tensor t_ij shown eql_norm_scalar_typ beginequ labeleql_norm_scalar_typ sqrtt_ij t_ij endequ maximum shear stress maxshear calcul maximum shear stress rank tensor shown eqmaxshear_scalar_typ beginequ labeleqmaxshear_scalar_typ sigma_maxshear fracsigma_maxprincip sigma_minprincip endequ princip valu maximum princip quantiti maxprincip calcul largest princip valu symmetr tensor use calceigenvalu method rank two tensor util class middl princip quantiti midprincip find second largest princip valu symmetr tensor use calceigenvalu method rank two tensor util class minimum princip quantiti minprincip comput smallest princip valu symmetr tensor use calceigenvalu method rank two tensor util class radial stress cylindr system radialstress calcul scalar compon rank tensor t_ij direct normal vector userdefin axi rotat shown eqradial_stress_scalar_type_cylindr beginequ labeleqradial_stress_scalar_type_cylindr hatnr_i t_ij hatnr_j endequ hatnr direct normal plane defin cylind axi rotat vector direct normal axi rotat current posit pc radial stress spheric system radialstress calcul scalar compon rank tensor t_ij direct normal vector userdefin center point shown eqradial_stress_scalar_type_spher beginequ labeleqradial_stress_scalar_type_spher hatnr_i t_ij hatnr_j endequ hatnr direct defin center point current posit pc stress intens stressintens calcul stress intens rank tensor shown eqsint_scalar_typ beginequ labeleqsint_scalar_typ sigma_maxshear sigma_maxprincip sigma_minprincip endequ quantiti use evalu whether tresca failur criteria met two time maxshear quantiti triaxial stress triaxialitystress find ratio hydrostat measur t_hydrostat von mise measur t_vonmis shown eqtriaxiality_scalar_typ name suggest scalar measur often use stress tensor beginequ labeleqtriaxiality_scalar_typ fract_hydrostatict_vonmis fracfrac t_iisqrtfrac s_ij s_ij endequ s_ij deviator tensor rank tensor t_ij volumetr strain volumetricstrain comput volumetr strain defin beginequ labeleqvolumetric_strain varepsilon_vol fracdelta vv endequ delta v chang volum v origin volum calcul assum strain suppli inputt logarithm strain definit logl l_ l current length l_ origin length line segment given directionth ratio volum chang strain cube origin volum thu beginequ labeleqvolumetric_strain_from_tensor fracdelta vv expt_ expt_ expt_ endequ valu comput volumetr strain alert note titlefinit strain effect calcul assum suppli rank tensor t_ij logarithm strain strain quantiti comput finit strain calcul smallstrain equival calcul would beginequ labeleqvolumetric_strain_small_strain t_ t_ t_ endequ assum engin strain suppli ignor higherord term current option comput smallstrain form volumetr strain small strain differ finit strain form use small strain approxim small alertend von mise stress vonmisesstress calcul vonmis measur rank tensor shown eqvonmises_scalar_typ quantiti usual appli stress tensor beginequ labeleqvonmises_scalar_typ sqrtfrac s_ij s_ij endequ s_ij deviator tensor rank tensor t_ij templat load filestubsmoose_objectmdtempl nametensormechanicshardeningexponenti syntaxuserobjectstensormechanicshardeningexponentialtempl load filestubsmoose_objectmdtempl nametensormechanicsplasticmohrcoulombmulti syntaxuserobjectstensormechanicsplasticmohrcoulombmulti crack front definit syntax descript userobjectscrackfrontdefinit descript object use comput fractur domain integr use store inform locat crack front provid function use object involv fractur integr calcul necessari defin block input file set use domainintegralactiondomainintegralactionmd exampl input file syntax list modulesxfemtesttestscrack_tip_enrichmentedge_crack_di blockuserobjectscrack_tip syntax paramet userobjectscrackfrontdefinit syntax input userobjectscrackfrontdefinit syntax children userobjectscrackfrontdefinit templat load filestubsmoose_objectmdtempl nametensormechanicshardeninggaussian syntaxuserobjectstensormechanicshardeninggaussiantempl load filestubsmoose_objectmdtempl nametensormechanicsplasticdruckerpragerhyperbol syntaxuserobjectstensormechanicsplasticdruckerpragerhyperbolictempl load filestubsmoose_objectmdtempl namehevpeqvplasticstrain syntaxuserobjectshevpeqvplasticstrain linear viscoelast manag syntax descript userobjectslinearviscoelasticitymanag descript updat intern timestep scheme linear viscoelast materi generalizedkelvinvoigtmodelgeneralizedkelvinvoigtmodelmd generalizedmaxwellmodelgeneralizedmaxwellmodelmd materi begin time step includ linearviscoelasticstressupd simul requir linear viscoelast strain updat properli exampl input file syntax list modulestensor_mechanicstesttestsviscovisco_finite_straini blockuserobjectsupd syntax paramet userobjectslinearviscoelasticitymanag syntax input userobjectslinearviscoelasticitymanag syntax children userobjectslinearviscoelasticitymanag templat load filestubsmoose_objectmdtempl nametensormechanicsplasticisotropicsd syntaxuserobjectstensormechanicsplasticisotropicsdtempl load filestubsmoose_objectmdtempl nametensormechanicshardeningpowerrul syntaxuserobjectstensormechanicshardeningpowerrul caviti pressur userobject syntax descript userobjectscavitypressureuserobject descript cavitypressureuserobject use comput number initi mole ga contain intern volum pressur exert ga caviti boundari postprocessor suitabl ideal gase obey ideal ga law beginequ labeleqideal_gas_law pfracnrtv endequ p intern pressur n mole ga r ideal ga constant temperatur v volum caviti comput initi number mole eqideal_gas_law rearrang solv mole initi pressur mole ga temperatur caviti volum eqideal_gas_law free chang time mole ga n time origin amount ga comput base origin pressur temperatur volum plu amount caviti due ga inject simul volum v provid singl postprocessor valu vector postprocessor valu sum togeth use eqideal_gas_law option specifi addit unmesh volum correspond temperatur commun directli caviti case pressur becom beginequ pfracnrsum_in fracv_it_i endequ n number addit volum syntax paramet userobjectscavitypressureuserobject syntax input userobjectscavitypressureuserobject syntax children userobjectscavitypressureuserobject templat load filestubsmoose_objectmdtempl nametensormechanicsplasticdruckerprag syntaxuserobjectstensormechanicsplasticdruckerpragertempl load filestubsmoose_objectmdtempl nametensormechanicsplasticmohrcoulomb syntaxuserobjectstensormechanicsplasticmohrcoulombtempl load filestubsmoose_objectmdtempl nameeuleranglefileread syntaxuserobjectseuleranglefilereadertempl load filestubsmoose_objectmdtempl nametensormechanicsplasticweakplanetensil syntaxuserobjectstensormechanicsplasticweakplanetensiletempl load filestubsmoose_objectmdtempl nametensormechanicsplasticmeancaptc syntaxuserobjectstensormechanicsplasticmeancaptctempl load filestubsmoose_objectmdtempl nametensormechanicshardeningconst syntaxuserobjectstensormechanicshardeningconstanttempl load filestubsmoose_objectmdtempl nametensormechanicshardeningcub syntaxuserobjectstensormechanicshardeningcub crystalplasticitysliprategss descript crystalplasticitysliprategss deriv crystalplasticityslipr calcul slip rate crystal plastic systemfinitestrainuobasedcpmd slip system read class schmid tensor gener class flow direct calcul calcflowdirect slip rate dotg gt scdot ycdot function pk stress slip resist state variabl syntax paramet userobjectscrystalplasticitysliprategss syntax input userobjectscrystalplasticitysliprategss syntax children userobjectscrystalplasticitysliprategss bibtex bibliographi nodal patch recoveri ranktwoaux syntax descript userobjectsnodalpatchrecoverymaterialproperti syntax paramet userobjectsnodalpatchrecoverymaterialproperti syntax input userobjectsnodalpatchrecoverymaterialproperti syntax children userobjectsnodalpatchrecoverymaterialproperti templat load filestubsmoose_objectmdtempl nametensormechanicsplasticweakplaneshear syntaxuserobjectstensormechanicsplasticweakplanesheartempl load filestubsmoose_objectmdtempl nametensormechanicsplasticsimpletest syntaxuserobjectstensormechanicsplasticsimpletestertempl load filestubsmoose_objectmdtempl nametensormechanicsplasticmeancap syntaxuserobjectstensormechanicsplasticmeancap crystalplasticitystatevari descript crystalplasticitystatevari repres state variabl disloc densiti crystal plastic systemfinitestrainuobasedcpmd initi valu state variabl either provid input file readinitialvaluefrominlin read file readinitialvaluefromfil state variabl evolv y_n y_n dotycdot dt doti state variabl evolut rate doti multipl compon doti a_ r_ a_ r_ cdot a_ a_ cdot scale_factor r_ r_ cdot individu rate compon syntax paramet userobjectscrystalplasticitystatevari syntax input userobjectscrystalplasticitystatevari syntax children userobjectscrystalplasticitystatevari bibtex bibliographi templat load filestubsmoose_objectmdtempl namehevprambergosgoodharden syntaxuserobjectshevprambergosgoodharden abaqusuexternaldb syntax descript userobjectsabaqusuexternaldb descript abaqusuexternaldb user object use execut _abaqu uexternaldb_ user function variou stage simul function code fortran f f file extens cc c c file extens must locat plugin directori app data exchang uexternaldb umat may requir put function translat unit sourc file descript input output paramet uexternaldb user subroutin found abaqu user manual alert note moos correspond concept abaqu simul step moos time step correspond abaqu increment abaqu step number pass uexternaldb routin alway zero syntax paramet userobjectsabaqusuexternaldb syntax input userobjectsabaqusuexternaldb syntax children userobjectsabaqusuexternaldb crystalplasticitystatevarratecomponentgss descript crystalplasticitystatevarratecomponentgss deriv crystalplasticitystatevarratecompon calcul individu compon state variabl evolut rate crystal plastic systemfinitestrainuobasedcpmd rate compon r rycdot dotg cdot function state variabl slip rate dotg syntax paramet userobjectscrystalplasticitystatevarratecomponentgss syntax input userobjectscrystalplasticitystatevarratecomponentgss syntax children userobjectscrystalplasticitystatevarratecomponentgss bibtex bibliographi templat load filestubsmoose_objectmdtempl namehevpeqvplasticstrainr syntaxuserobjectshevpeqvplasticstrainr gener plane strain user object syntax descript userobjectsgeneralizedplanestrainuserobject generalizedplanestrainuserobject calcul valu residu diagon jacobian compon given scalar outofplan strain variabl object usual set generalizedplanestrainactiontensormechanicsgeneralizedplanestrainindexmd given scalar outofplan strain variabl equilibrium condit outofplan direct eg zdirect given beginequ int_asigma_zzda barn_zz endequ barn_zz extern appli forc thu residu correspond scalar outofplan strain variabl beginequ r int_asigma_zzda barn_zz endequ correspond diagon jacobian beginequ k_zz fracparti r_zzpartial epsilon_zz int_afracparti sigma_zzparti epsilon_zzda int_ac_da endequ extern appli forc barn_zz impos integr pressur appli area pressur impos use either function use out_of_plane_pressure_funct paramet materi properti use out_of_plane_pressure_materi paramet refer residu valu use generalizedplanestrainreferenceresidualgeneralizedplanestrainreferenceresidualmd comput beginequ r_ref int_asigma_zzda endequ formul also use outofplan direct xdirect ydirect subscript preced equat chang zz xx yy respect detail descript gener plane strain model found formulationtensor_mechanicsgeneralized_plane_strainmd page syntax paramet userobjectsgeneralizedplanestrainuserobject syntax input userobjectsgeneralizedplanestrainuserobject syntax children userobjectsgeneralizedplanestrainuserobject templat load filestubsmoose_objectmdtempl namehevplinearharden syntaxuserobjectshevplinearhardeningtempl load filestubsmoose_objectmdtempl namehevpflowratepowerlawj syntaxuserobjectshevpflowratepowerlawj crystal plastic state var rate compon voce syntax descript userobjectscrystalplasticitystatevarratecomponentvoc descript userobject meant use within user object base crystal plastic framework voce harden rule beginequ labeleqself_hardening_r halpha h_alphaleftfractaualpha_crsstau_alphatau_satalphatau_alpha rightmalpha endequ beginequ labeleqslip_system_hardening_r dottaualpha_crss sum_betan lvert dotgammabeta rvert hbeta qalpha beta endequ taualpha_crss current critic resolv shear stress taualpha_ initi critic resolv shear stress tau_satalpha satur resolv shear stress qalpha beta matrix contain self latent harden coeffici h_alpha malpha harden paramet like other crystal plastic routin valu paramet specifi group slip system userooject assum slip system provid well defin order group plane see modulestensor_mechanicstesttestscp_user_objectinput_slip_sys_bcctxt bcc crystal modulestensor_mechanicstesttestscp_user_objectinput_slip_systxt fcc seven variabl need specifi one valu requir group group group slip system list h_group_valu h_ valu slip system group tau_group_valu tau_ valu slip system group tausat_group_valu tau_sat valu slip system group hardeningexponent_group_valu valu slip system group selfhardening_group_valu qalphaalpha coplanarhardening_group_valu qalphabeta coplanar slip system group groupgroup_hardening_group_valu qalphabeta paramet requir nxn valu n number group valu list value_ij eg ij actual group j secondari group ij valu repres latent harden coeffici one slip system non coplanar one belong group ineq j valu repres latent harden coeffici slip system belong group j note usual matrix associ groupgroup_hardening_group_valu symmetr exampl input file syntax list modulestensor_mechanicstesttestscrystal_plasticityuser_object_baseduser_object_voce_bcci blockuserobjectsstate_var_evol_rate_comp_voc exampl illustr bcc slip system group slip system class syntax paramet userobjectscrystalplasticitystatevarratecomponentvoc syntax input userobjectscrystalplasticitystatevarratecomponentvoc syntax children userobjectscrystalplasticitystatevarratecomponentvoc crystalplasticityslipresistancegss descript crystalplasticityslipresistancegss deriv crystalplasticityslipresist calcul slip resist crystal plastic systemfinitestrainuobasedcpmd slip resist ssycdot function state variabl syntax paramet userobjectscrystalplasticityslipresistancegss syntax input userobjectscrystalplasticityslipresistancegss syntax children userobjectscrystalplasticityslipresistancegss bibtex bibliographi templat load filestubsmoose_objectmdtempl nametensormechanicsplastictensil syntaxuserobjectstensormechanicsplastictensiletempl load filestubsmoose_objectmdtempl nametensormechanicsplasticweakplanetensilen syntaxuserobjectstensormechanicsplasticweakplanetensilen globalstrainuserobject syntax descript userobjectsglobalstrainuserobject descript globalstrainuserobject calcul residu jacobian valu correspond integr stress tensor case stress gener due global strain appli stress whole simul domain scalarkernel globalstrainglobalstrainmd extract residu jacobian valu userobject exampl input file syntax list modulestensor_mechanicstesttestsglobal_strainglobal_straini blockuserobjectsglobal_strain_uo syntax paramet userobjectsglobalstrainuserobject syntax input userobjectsglobalstrainuserobject syntax children userobjectsglobalstrainuserobject templat load filestubsmoose_objectmdtempl nametensormechanicsplasticorthotrop syntaxuserobjectstensormechanicsplasticorthotropictempl load filestubsmoose_objectmdtempl nametensormechanicsplastictensilemulti syntaxuserobjectstensormechanicsplastictensilemultitempl load filestubsmoose_objectmdtempl nametensormechanicsplasticj syntaxuserobjectstensormechanicsplasticj elementpropertyreadfil syntax descript userobjectselementpropertyreadfil user object two mode oper toggl use read_typ paramet element mode file read contain nprop valu element mesh element id expect consecut number start zero grain mode voronoi tessel ngrain random center creat assum orthogon rectangular period mesh file read contain nprop valu grain block mode file read contain nprop valu block mesh nblock number block mesh valu queri object pass properti id element pointer element mode direct lookup data tabl base element id perform grain mode centroid pass element taken grain id determin id voronoi center closest element centroid syntax paramet userobjectselementpropertyreadfil syntax input userobjectselementpropertyreadfil syntax children userobjectselementpropertyreadfil bibtex bibliographi templat load filestubsmoose_objectmdtempl nametensormechanicshardeningcutexponenti syntaxuserobjectstensormechanicshardeningcutexponenti line materi rank two sampler syntax descript vectorpostprocessorslinematerialranktwosampl descript postprocessor linematerialranktwosampl use output specif compon rank tensor along userdefin line mesh postprocessor use indic similar auxkernel ranktwoauxranktwoauxmd determin compon rank tensor output along line user must suppli start end point line along rank tensor compon track often class use track stress strain along exterior interior edg mesh exampl input file syntax list modulestensor_mechanicstesttestsline_material_rank_two_samplerrank_two_sampleri blockvectorpostprocessorsstress_xx syntax paramet vectorpostprocessorslinematerialranktwosampl syntax input vectorpostprocessorslinematerialranktwosampl syntax children vectorpostprocessorslinematerialranktwosampl mixedmodeequivalentk syntax descript vectorpostprocessorsmixedmodeequivalentk descript class comput equival stress intens factor k_eq crack mixedmod load function stress intens factor individu mode k_i k_ii k_iii mode ii iii respect beginequ k_eqsqrtk_i k_ii fracnuk_iii endequ nu poisson ratio object vectorpostprocessor individu stress intens factor comput individu vectorpostprocessor object typic defin directli user set automat use equivalent_k paramet domainintegralactiondomainintegralactionmd syntax paramet vectorpostprocessorsmixedmodeequivalentk syntax input vectorpostprocessorsmixedmodeequivalentk syntax children vectorpostprocessorsmixedmodeequivalentk jintegr syntax descript vectorpostprocessorsjintegr descript use comput jintegr point along crack front object typic defin user set automat use domainintegralactiondomainintegralactionmd theori detail theori behind comput variou fractur integr includ jintegr provid herefractureintegralsmd syntax paramet vectorpostprocessorsjintegr syntax input vectorpostprocessorsjintegr syntax children vectorpostprocessorsjintegr interact integr syntax descript vectorpostprocessorsinteractionintegr descript use comput interact integr point along crack front within tensor_mechan system object typic defin user set automat use domainintegralactiondomainintegralactionmd theori detail theori behind comput variou fractur integr includ interact integr provid herefractureintegralsmd syntax paramet vectorpostprocessorsinteractionintegr syntax input vectorpostprocessorsinteractionintegr syntax children vectorpostprocessorsinteractionintegr line materi rank two scalar sampler syntax descript vectorpostprocessorslinematerialranktwoscalarsampl descript postprocessor linematerialranktwoscalarsampl use output common scalar quantiti comput rank tensor along userdefin line mesh postprocessor comput set scalar quantiti auxkernel ranktwoscalarauxranktwoscalarauxmd full list avail scalar quantiti refer ranktwoscalarauxranktwoscalarauxmd page user must suppli start end point line along rank tensor scalar quantiti track often class use track stress strain along exterior interior edg mesh exampl input file syntax list modulestensor_mechanicstesttestsline_material_rank_two_samplerrank_two_scalar_sampleri blockvectorpostprocessorsvonmis syntax paramet vectorpostprocessorslinematerialranktwoscalarsampl syntax input vectorpostprocessorslinematerialranktwoscalarsampl syntax children vectorpostprocessorslinematerialranktwoscalarsampl gener plane strain scalar kernel syntax descript scalarkernelsgeneralizedplanestrain generalizedplanestrain scalarkernel assembl compon residu diagon jacobian correspond given scalar variabl valu residu diagon jacobian compon fetch generalizedplanestrainuserobjectgeneralizedplanestrainuserobjectmd object usual set generalizedplanestrainactiontensormechanicsgeneralizedplanestrainindexmd equilibrium condit outofplan direct xdirect given beginequ int_asigma_xxda barn_xx endequ equilibrium condit outofplan direct ydirect given beginequ int_asigma_yyda barn_yy endequ equilibrium condit outofplan direct zdirect given beginequ int_asigma_zzda barn_zz endequ detail descript gener plane strain formul found heretensor_mechanicsgeneralized_plane_strainmd syntax paramet scalarkernelsgeneralizedplanestrain syntax input scalarkernelsgeneralizedplanestrain syntax children scalarkernelsgeneralizedplanestrain bibtex bibliographi globalstrain syntax descript scalarkernelsglobalstrain descript globalstrain solv ode equat set integr stress gener appli load volum chang unrel deform zero store strain compon scalar variabl differ order strain compon calcul scalar kernel contribut toward period strain combin period displac help maintain full strain period requir input userobject calcul integr valu correspond jacobian pleas refer globalstrainuserobjectglobalstrainuserobjectmd inform residu jacobian calcul exampl input file syntax list modulestensor_mechanicstesttestsglobal_strainglobal_straini blockscalarkernelsglobal_strain syntax paramet scalarkernelsglobalstrain syntax input scalarkernelsglobalstrain syntax children scalarkernelsglobalstrain comput axisymmetr finit strain syntax descript materialscomputeaxisymmetricdfinitestrain descript materi computeaxisymmetricdfinitestrain calcul finit strain axisymmetr system intend use gener plane straintensor_mechanicsgeneralized_plane_strainmd simul materi assum symmetri zaxi strain calcul materi comput strain within cylindr coordin system reli special axisymmetr rz kernelstressdivergencerztensorsmd handl stress diverg calcuat alert warn titlesymmetri assum zaxi axi symmetri must lie along zaxi leftr z theta right cylindr coordin system symmetri orient requir calcul residu jacobian see stressdivergencerztensorsstressdivergencerztensorsmd residu equat german discuss axisymmetr strain formul axisymmetr model use cylindr coordin r z theta linear section form r axi rotat z axi theta direct increment deform gradient axisymmetr system defin beginequ labeleqnincremental_deformation_grad hatboldsymbolf boldsymbola barboldsymbolf boldsymboli endequ boldsymboli rank ident tensor deform gradient boldsymbola old deform gradient barboldsymbolf given beginequ labeleqndeform_grad boldsymbola beginbmatrix epsilon_rr epsilon_zz epsilon_theta theta endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix epsilon_rr_old epsilon_zz_old epsilon_theta theta_old endbmatrix boldsymboli endequ note barboldsymbolf use valu strain express previou time step compon tensor eqndeform_grad given beginequ labeleqnstrain_compon beginalign epsilon_rr u_rr epsilon_zz exp left epsilonop right epsilon_theta theta fracu_rx_r endalign endequ epsilonop prescrib outofplan strain valu strain valu given either scalar variabl nonlinear variabl gener plane straintensor_mechanicsgeneralized_plane_strainmd problem use scalar variabl valu strain epsilon_theta theta depend displac posit radial direct alert note titlenot order chang axisymmetr system chang order displac vector u_r u_theta u_z usual seen textbook u_r u_z u_theta take care follow convent input file ad eigenstrain extra stress increment deform gradient eqnincremental_deformation_grad calcul geometri deform gradient pass strain rotat method use default cartesian simul describ finit strain classcomputefinitestrainmd document exampl input file alert note titleus rz coordin type coordin type problem block input file must set coord_typ rz common use computeaxisymmetricdfinitestrain class gener plane straintensor_mechanicsgeneralized_plane_strainmd system type simul use scalar strain variabl list modulestensor_mechanicstesttestsd_axisymmetricaxisymm_gps_finitei blockmaterialsstrain use scalar variabl coupl outofplan strain arguement scalar_out_of_plane_strain paramet name scalar strain variabl list modulestensor_mechanicstesttestsd_axisymmetricaxisymm_gps_finitei blockvariablesscalar_strain_yy syntax paramet materialscomputeaxisymmetricdfinitestrain syntax input materialscomputeaxisymmetricdfinitestrain syntax children materialscomputeaxisymmetricdfinitestrain bibtex bibliographi abrupt soften syntax descript materialsabruptsoften descript materi abruptsoften comput reduc stress stiff direct crack accord step function comput crack stiff ratio soften tensil respons materi principl stress exce crack stress threshold materi smear crack soften model follow nomenclatur convent use soften suffix model intend use computesmearedcrackingstresscomputesmearedcrackingstressmd materi soften model class name impli abruptsoften allow gradual soften materi instantli drop stiff materi respons crack tensil stress respons crack base valu residu stress retain soften sigma_r given beginequ labeleqnabrupt_crack_stress sigma begincas time cdot e epsilon_cinit text sigma_r sigma_r cdot sigma_c text sigma_r neq endcas endequ calcul stress sigma principl stress along direct crack sigma_c stress threshold beyond crack occur e young modulu valu epsilon_cinit strain direct crack crack initi occur ratio current stiff origin materi stiff similiarli determin base valu residu stress beginequ labeleqnabrupt_stiffness_ratio r begincas time text sigma_r fracsigma epsilon_cmax text sigma_r neq endcas endequ sigma principl stress along direct crack e young modulu valu epsilon_cmax maximum strain direct crack stiff ratio pass back computesmearedcrackingstresscomputesmearedcrackingstressmd comput soften crack materi stiff exampl input file list modulestensor_mechanicstesttestssmeared_crackingcracking_rzi blockmaterialsabrupt_soften abruptsoften must run conjunct fix smear crack materi model shown list modulestensor_mechanicstesttestssmeared_crackingcracking_rzi blockmaterialselastic_stress syntax paramet materialsabruptsoften syntax input materialsabruptsoften syntax children materialsabruptsoften bibtex bibliographi power law soften syntax descript materialspowerlawsoften descript materi powerlawsoften comput reduc stress stiff along direct crack accord power law equat comput reduc stiff soften tensil respons materi principl stress appli materi exce crack stress threshold materi smear crack soften model follow nomenclatur convent use soften suffix model intend use computesmearedcrackingstresscomputesmearedcrackingstressmd materi soften model tensil stress respons crack calcul function number crack number crack reduc stress repons crack materi calcul stress principl stress singl direct crack beginequ labeleqnpower_law_softening_stress sigma k e epsilon_principl endequ k reduct factor appli initi stiff time new crack initi e young modulu epsilon_principl strain along direct crack reduct factor eqnpower_law_softening_stress function number crack beginequ labeleqnreduction_factor k k_ left k_rrightn endequ k_ initi crack reduct factor n number crack form eqnreduction_factor give powerlawsoften model name context smear crack model approach individu crack track therefor eqnreduction_factor approxim singl constant input paramet user consult addit resourc determin reason valu initi stiff reduct factor exampl input file list modulestensor_mechanicstesttestssmeared_crackingcracking_poweri blockmaterialspower_law_soften powerlawsoften must run conjunct fix smear crack materi model shown list modulestensor_mechanicstesttestssmeared_crackingcracking_poweri blockmaterialselastic_stress syntax paramet materialspowerlawsoften syntax input materialspowerlawsoften syntax children materialspowerlawsoften bibtex bibliographi comput plane small strain syntax descript materialscomputeplanesmallstrain descript materi computeplanesmallstrain calcul small total strain plane strain problem use classic plane strain plane stresshttpsenwikipediaorgwikiplane_stress problem gener plane straintensor_mechanicsgeneralized_plane_strainmd simul plane strain classic plane strain problem assum front back surfac bodi constrain outofplan direct displac direct surfac zero result strain deform gradient compon outofplan direct held constant zero beginequ labeleqnclassical_dop_deform_grad epsilondop endequ epsilondop strain tensor diagon compon direct outofplan strain plane stress gener plane strain case plane stress gener plane strain assumpt compon strain deform gradient outofplan direct nonzero solv outofplan strain use outofplan strain variabl strain tensor compon beginequ labeleqndop_deform_grad epsilondop epsilonop endequ epsilondop strain tensor diagon compon direct outofplan strain epsilonop prescrib outofplan strain valu strain valu given either scalar variabl nonlinear field variabl gener plane straintensor_mechanicsgeneralized_plane_strainmd problem use scalar variabl multipl scalar variabl provid one strain calcul need multipl gener plane strain model differ subdomain case plane stress weakplanestressweakplanestressmd kernel use integr outofplan compon stress area element assembl integr residu outofplan strain field variabl result weak enforc condit outofplan stress zero allow reus constitut model model dimension strain deform gradient formul definit small total linear strain beginequ labeleqndef_small_total_strain epsilon_ij frac left u_ij u_ji right endequ valu strain tensor compon depend direct select user outofplan direct zdirect outofplan strain default default outofplan direct along zaxi direct strain tensor eqndef_small_total_strain given beginequ labeleqnstrain_tensor boldsymbolepsilon beginbmatrix u_xx frac leftu_xi u_yx right frac leftu_xi u_yx right u_yy epsilondop endbmatrix endequ epsilondop defin eqndop_deform_grad classic present strain tensor plane strain problem compon strain tensor associ zdirect zero zero compon indic coupl inplan outofplan strain xdirect outofplan strain user select outofplan direct along xdirect strain tensor eqndef_small_total_strain given beginequ labeleqndeform_grads_xdir boldsymbolepsilon beginbmatrix epsilondop u_yy frac leftu_yz u_zi right frac leftu_yz u_zi right u_zz endbmatrix endequ offdiagon compon strain tensor associ xdirect zero ydirect outofplan strain user select outofplan direct along ydirect strain tensor eqndef_small_total_strain given beginequ labeleqndeform_grads_ydir boldsymbolepsilon beginbmatrix u_xx frac leftu_xz u_zx right epsilondop frac leftu_xz u_zx right u_zz endbmatrix endequ offdiagon compon strain tensor associ ydirect zero volumetr lock correct strain tensor select user strain tensor condit barb formul mitig volumetr lock element volumetr lock correct appli total strain beginequ labeleqnvlc_strain boldsymbolepsilon_vlc boldsymbolepsilon fracleft boldsymbolepsilon_v trboldsymbolepsilon right cdot boldsymboli endequ boldsymbolepsilon_v volumetr strain boldsymboli rank ident tensor detail theori behind eqnvlc_strain see volumetr lock correctiontensor_mechanicsvolumetriclockingmd document exampl input file plane stress tensor mechan master actionmodulestensormechanicsmasterindexmd use creat computeplanesmallstrain class set planar_formul weak_plane_stress strain small master action block list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_sm blockmodulestensormechanicsmast note plane stress analysi out_of_plane_strain paramet must defin name outofplan strain field variabl list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_sm blockvariablesstrain_zz case exampl out_of_plane_strain defin globalparam block gener plane strain use plane strain class gener plane straintensor_mechanicsgeneralized_plane_strainmd simul use scalar outofplan strain tensor mechan master actionmodulestensormechanicsmasterindexmd use creat computeplanesmallstrain class planar_formul generalized_plane_strain strain small set list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_sm blockmodulestensormechanicsmasteral note argument scalar_out_of_plane_strain paramet name scalar strain variabl list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_sm blockvariablesscalar_strain_zz ydirect outofplan strain plane strain class use model plane strain outofplan strain direct zdirect exampl tensor mechan master actionmodulestensormechanicsmasterindexmd use creat computeplanefinitestrain class ydirect outofplan strain planar_formul plane_strain out_of_plane_direct set list modulestensor_mechanicstesttestsd_different_planesplanestrain_xzi blockmodulestensormechanicsmasterplane_strain syntax paramet materialscomputeplanesmallstrain syntax input materialscomputeplanesmallstrain syntax children materialscomputeplanesmallstrain bibtex bibliographi comput axisymmetr rz small strain syntax descript materialscomputeaxisymmetricrzsmallstrain descript materi computeaxisymmetricrzsmallstrain calcul small total strain axisymmetr system includ modulestensor_mechanicscommonsupplementalaxisymmetricrzstrainmd minim chang requir adapt plane strain problem axisymmetr problem axisymmetr specif computeaxisymmetricrzsmallstrain code overwrit method use calcul total strain compon epsilon_theta theta calcul total strain measur small strain assumpt exampl input file syntax list modulescombinedtesttestsevolving_mass_densityrz_tensorsi blockmaterialssmall_strain_rz syntax paramet materialscomputeaxisymmetricrzsmallstrain syntax input materialscomputeaxisymmetricrzsmallstrain syntax children materialscomputeaxisymmetricrzsmallstrain comput thermal expans eigenstrain syntax descript materialscomputethermalexpansioneigenstrain descript model comput eigenstrain tensor result isotrop thermal expans constant thermal expans defin usersuppli scalar linear thermalexpans coeffici alpha thermal expans eigenstrain comput beginequ boldsymbolepsilontherm alpha cdot left t_stress_fre right boldsymboli endequ current temperatur t_stress_fre stress free temperatur boldsymboli ident matrix exampl input file syntax list modulestensor_mechanicstestteststhermal_expansionconstant_expansion_stress_free_tempi blockmaterialsthermal_expansion_strain eigenstrain_nam paramet valu must also set strain calcul exampl paramet set shown list modulestensor_mechanicstestteststhermal_expansionconstant_expansion_stress_free_tempi blockmodulestensormechanicsmast syntax paramet materialscomputethermalexpansioneigenstrain syntax input materialscomputethermalexpansioneigenstrain syntax children materialscomputethermalexpansioneigenstrain gener radial return stress updat automat differenti base class comput solut gener radial return map algorithm gener isotrop radial return map hill plastic allow comput return yield surfac scalar variabl comput proper subspac anisotrop hill creep plastic class adhillcreepstressupd adhillplasticitystressupd inherit gener radial return map detail anisotrop plastic anisotrop elastoplast algorithm consult citeversinogener bibtex bibliographi comput rspheric small strain syntax descript materialsadcomputersphericalsmallstrain descript materi adcomputersphericalsmallstrain calcul small total strain rspheric system rspheric materi kernel design model sphere geometri model symmetri polar theta azimuth phi direct assum model consid revolv direct rspheric code materi properti variabl eg temperatur load condit assum spheric symmetr attribut depend axial posit alert note titleus rspheric coordin type coordin type problem block input file must set coord_typ rspheric plane strain axisymmetr case stress strain tensor modifi spheric problem diagon compon nonzero problem beginequ beginbmatrix epsilon_rr epsilon_theta theta epsilon_phi phi endbmatrix endequ valu normal strain compon polar azimuth direct epsilon_theta theta epsilon_phi phi depend displac posit radial direct beginequ labeleqpolar_azimuthal_rspherical_strain epsilon_theta theta epsilon_phi phi fracu_rx_r endequ although axisymmetr problem solv stress strain field problem mathemat cylindr coordin axisymmetr system valu stress strain theta phi direct depend theta phi coordin rspheric specif adcomputersphericalsmallstrain class calcul radial strain normal done small total strain materi beginequ epsilon_rr nabla u_r endequ calcul total strain compon epsilon_theta theta epsilon_phi phi found eqpolar_azimuthal_rspherical_strain syntax paramet materialsadcomputersphericalsmallstrain syntax input materialsadcomputersphericalsmallstrain syntax children materialsadcomputersphericalsmallstrain comput strain increment base stress syntax descript materialscomputestrainincrementbasedstress descript stress calcul find valu stress function elast strain increment seri inelast strain specifi input file stress calcul beginequ labeleqnstress sigma_ij sigma_ijold c_ijkl delta epsilon_jkel endequ sigma_ij stress c_ijkl elast tensor materi elast strain increment delta epsilon_jkel found subtract sum inelast strain mechan strain beginequ labeleqnelastic_strain_incr delta boldsymbolepsilonel boldsymbolepsilonmech boldsymbolepsilonmechold sum_n left boldsymbolepsiloninel_n boldsymbolepsiloninelold_n right endequ boldsymbolepsilonmech mechan strain boldsymbolepsiloninel inelast strain tensor mechan modul mechan strain defin sum elast inelast eg creep andor plastic strain exampl input file list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_incrementali blockmaterialsstress syntax paramet materialscomputestrainincrementbasedstress syntax input materialscomputestrainincrementbasedstress syntax children materialscomputestrainincrementbasedstress bibtex bibliographi comput interfac stress syntax descript materialscomputeinterfacestress descript result stress tensor properti one eigenvector direct order paramet gradient eigenvalu zero two eigenvector perpendicular direct eigenvalu sigma_icdotnablaeta scalar sigma_i stress suppli paramet eta v given order paramet beginequ vec e_ fracnablaetanablaeta endequ two linearli independ vector vec e_ vec e_ gener determin compon vec e_ largest magnitud vec e_ vec e_ set unit vector set beginequ vec u_ vec u_ vec u_ endequ beginequ vec e_ vec u_m backslash vec e_ vec u_mbackslash endequ backslash oper repres integ modulo basi vec e_i orthonorm use modifi gramschmidt procedur hold vec e_ constant construct two matric beginequ boldsymbolm left beginmatrix sigma_i sigma_i endmatrix right boldsymbol left beginmatrix vec e_ vec e_ vec e_ endmatrix right endequ set stress tensor boldsymbolsigma beginequ boldsymbolsigma leftscdot mcdot srightcdotnablaeta endequ basi transform eigenvector basi cartesian basi nablaeta factor caus integr stress tensor across interfac evalu valu regardless interfaci width provid order paramet rang well defin commonli two side interfac exampl input file syntax list modulestensor_mechanicstesttestsinterface_stresstesti blockmaterialsinterfac syntax paramet materialscomputeinterfacestress syntax input materialscomputeinterfacestress syntax children materialscomputeinterfacestress exponenti soften syntax descript materialsexponentialsoften descript materi exponentialsoften comput reduc stress stiff direct crack accord exponenti function comput crack stiff ratio soften tensil respons materi principl stress exce crack stress threshold materi smear crack soften model follow nomenclatur convent use soften suffix model intend use computesmearedcrackingstresscomputesmearedcrackingstressmd materi soften model tensil stress respons crack calcul exponenti function crack strain beginequ labeleqnexp_crack_stress sigma sigma_c cdot left sigma_r sigma_r cdot exp left fracalpha betasigma_c cdot left epsilon_cmax epsilon_cinit right right right endequ calcul stress sigma principl stress along direct crack sigma_c stress threshold beyond crack occur sigma_r residu stress retain full soften due crack complet alpha initi slope exponenti curv beta fit paramet epsilon_cmax maximum strain direct crack epsilon_cinit strain direct crack crack initi occur ratio current stiff origin materi stiff comput use result eqnexp_crack_stress beginequ labeleqnexp_stiffness_ratio r sigma cdot fracepsilon_cinitepsilon_cmaxsigma_c endequ definit variabl eqnexp_crack_stress stiff ratio pass back computesmearedcrackingstresscomputesmearedcrackingstressmd comput soften crack materi stiff exampl input file list modulestensor_mechanicstesttestssmeared_crackingcracking_rotationi blockmaterialsexponential_soften exponentialsoften must run conjunct fix smear crack materi model shown list modulestensor_mechanicstesttestssmeared_crackingcracking_rotationi blockmaterialscracking_stress syntax paramet materialsexponentialsoften syntax input materialsexponentialsoften syntax children materialsexponentialsoften bibtex bibliographi comput shell stress syntax descript materialsadcomputeshellstress descript class comput stress increment total stress shell element pleas refer shellelementsshellelementsmd detail syntax paramet materialsadcomputeshellstress syntax input materialsadcomputeshellstress syntax children materialsadcomputeshellstress comput plane finit strain syntax descript materialsadcomputeplanefinitestrain descript materi adcomputeplanefinitestrain calcul finit strain plane strain problem use classic plane strain plane stresshttpsenwikipediaorgwikiplane_stress problem gener plane straintensor_mechanicsgeneralized_plane_strainmd simul plane strain classic plane strain problem assum front back surfac bodi constrain outofplan direct displac direct surfac zero result strain deform gradient compon outofplan direct held constant zero beginequ labeleqnclassical_dop_deform_grad fdop text epsilondop endequ fdop deform gradient tensor diagon compon direct outofplan strain epsilondop correspond strain compon plane stress gener plane strain case plane stress gener plane strain assumpt compon strain deform gradient outofplan direct nonzero solv outofplan strain invok approxim stretch rate tensor beginequ labeleqnstretch_tensor_approx boldsymbold log left sqrthatboldsymbolft cdot hatboldsymbolf right cdot fracdt endequ defin deform gradient compon outofplan direct beginequ labeleqndop_deform_grad fdop exp left epsilonop right endequ fdop deform gradient tensor diagon compon direct outofplan strain epsilonop prescrib outofplan strain valu strain valu given either scalar variabl nonlinear field variabl case plane stress adweakplanestressadweakplanestressmd kernel use integr outofplan compon stress area element assembl integr residu outofplan strain field variabl result weak enforc condit outofplan stress zero allow reus constitut model model dimension gener plane straintensor_mechanicsgeneralized_plane_strainmd problem use scalar variabl multipl scalar variabl provid one strain calcul need multipl gener plane strain model differ subdomain strain deform gradient formul increment deform gradient planar system defin beginequ labeleqnincremental_deformation_grad hatboldsymbolf boldsymbola barboldsymbolf boldsymboli endequ boldsymboli rank ident tensor boldsymbola deform gradient barboldsymbolf old deform gradient zdirect outofplan strain default default outofplan direct along zaxi direct current old deform gradient tensor use eqnincremental_deformation_grad given beginequ labeleqndeform_grad boldsymbola beginbmatrix u_xx u_xi u_yx u_yy fdop endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix u_xx_old u_xy_old u_yx_old u_yy_old fdop_old endbmatrix boldsymboli endequ fdop defin eqndop_deform_grad note barboldsymbolf use valu strain express previou time step classic present strain tensor plane strain problem compon deform tensor associ zdirect zero zero compon indic coupl inplan displac outofplan strain variabl xdirect outofplan strain user select outofplan direct along xdirect current old deform gradient tensor eqnincremental_deformation_grad formul beginequ labeleqndeform_grads_xdir boldsymbola beginbmatrix fdop u_yy u_zi u_yz u_zz endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix fdop_old u_yy_old u_yz_old u_zy_old u_zz_old endbmatrix boldsymboli endequ offdiagon compon deform tensor associ xdirect zero ydirect outofplan strain user select outofplan direct along ydirect current old deform gradient tensor eqnincremental_deformation_grad formul beginequ labeleqndeform_grads_ydir boldsymbola beginbmatrix u_xx u_zx fdop u_xz u_zz endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix u_xx_old u_xz_old fdop_old u_zx_old u_zz_old endbmatrix boldsymboli endequ offdiagon compon deform tensor associ ydirect zero final deform gradient select user increment deform gradient condit barb formul mitig volumetr lock element volumetr lock correct appli increment deform gradient beginequ labeleqnvlc_fhat hatboldsymbolf_vlc left fracdethatboldsymbolf frachatboldsymbolf_avgv_elem right endequ total deform gradient detail theori behind eqnvlc_fhat see volumetr lock correctiontensor_mechanicsvolumetriclockingmd document increment deform gradient calcul specif geometri deform gradient pass strain rotat method use cartesian simul describ finit strain classadcomputefinitestrainmd document exampl input file plane stress tensor mechan master actionmodulestensormechanicsmasterindexmd use creat adcomputeplanefinitestrain class set planar_formul weak_plane_stress strain finit master action block list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_finitei blockmodulestensormechanicsmast note plane stress analysi out_of_plane_strain paramet must defin name outofplan strain field variabl list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_finitei blockvariablesstrain_zz case exampl out_of_plane_strain defin globalparam block gener plane strain use plane strain class gener plane straintensor_mechanicsgeneralized_plane_strainmd simul use scalar outofplan strain tensor mechan master actionmodulestensormechanicsmasterindexmd use creat adcomputeplanefinitestrain class planar_formul generalized_plane_strain strain finit set list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_finitei blockmodulestensormechanicsmasteral note argument scalar_out_of_plane_strain paramet name scalar strain variabl list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_finitei blockvariablesscalar_strain_zz syntax paramet materialsadcomputeplanefinitestrain syntax input materialsadcomputeplanefinitestrain syntax children materialsadcomputeplanefinitestrain bibtex bibliographi templat load filestubsmoose_objectmdtempl namefluxbasedstrainincr syntaxmaterialsfluxbasedstrainincr comput volumetr eigenstrain syntax descript materialscomputevolumetriceigenstrain descript materi comput eigenstrain tensor base set scalar materi properti sum togeth defin volumetr strain materi taken input model specifi ratio vv_ v current volum v_ initi volum model use finit strain formul volum chang result eigenstrain exactli equal specifi volumetr strain exampl input file syntax list modulestensor_mechanicstesttestsvolumetric_eigenstrainvolumetric_eigenstraini blockmaterialsvolumetric_eigenstrain volumetr materi defin separ materi model list modulestensor_mechanicstesttestsvolumetric_eigenstrainvolumetric_eigenstraini blockmaterialsvolumetric_chang eigenstrain_nam paramet valu must also set strain calcul tensormechanicsmastermodulestensormechanicsmasterindexmd action use automat creat strain calcul case eigenstrain_nam specifi master action block pass strain calcul shown list modulestensor_mechanicstesttestsvolumetric_eigenstrainvolumetric_eigenstraini blockmodulestensormechanicsmast syntax paramet materialscomputevolumetriceigenstrain syntax input materialscomputevolumetriceigenstrain syntax children materialscomputevolumetriceigenstrain adcomputefinitestrainelasticstress syntax descript materialsadcomputefinitestrainelasticstress descript materi adcomputefinitestrainelasticstress comput elast stress increment formul increment small adcomputeincrementalsmallstrainadcomputeincrementalsmallstrainmd type increment finit adcomputefinitestrainadcomputefinitestrainmd type strain formul stress class compat cartesian noncartesian strain calcul includ axisymmetricadcomputeaxisymmetricrzfinitestrainmd rsphericaladcomputersphericalfinitestrainmd elast materi experi perman deform elast strain elast stress recover elast stress relat elast strain elast tensor beginequ labeleqincremental_stress_calcul sigma_ij c_ijkl delta epsilon_kl endequ delta boldsymbolepsilon strain increment strain measur also sum mechan elast strain eigenstrain system syntax paramet materialsadcomputefinitestrainelasticstress syntax input materialsadcomputefinitestrainelasticstress syntax children materialsadcomputefinitestrainelasticstress comput rspheric small strain syntax descript materialscomputersphericalsmallstrain descript materi computersphericalsmallstrain calcul small total strain rspheric system rspheric materi kernel design model sphere geometri model symmetri polar theta azimuth phi direct assum model consid revolv direct rspheric code materi properti variabl eg temperatur load condit assum spheric symmetr attribut depend axial posit alert note coord_typ problem block input file must set rspheric plane strain axisymmetr case stress strain tensor modifi spheric problem diagon compon nonzero problem beginequ beginbmatrix epsilon_rr epsilon_theta theta epsilon_phi phi endbmatrix endequ valu normal strain compon polar azimuth direct epsilon_theta theta epsilon_phi phi depend displac posit radial direct beginequ labeleqpolar_azimuthal_rspherical_strain epsilon_theta theta epsilon_phi phi fracu_rx_r endequ although axisymmetr problem solv stress strain field problem mathemat cylindr coordin axisymmetr system valu stress strain theta phi direct depend theta phi coordin rspheric specif computersphericalsmallstrain class calcul radial strain normal done small total strain materi beginequ epsilon_rr nabla u_r endequ calcul total strain compon epsilon_theta theta epsilon_phi phi found eqpolar_azimuthal_rspherical_strain exampl input file syntax small rspheric strain calcul activ input file use tensormechan master action shown list modulestensor_mechanicstesttestsd_sphericalsmallstrain_dspherei blockmodulestensormechanicsmast alert note titleus tensor mechan master action recommend tensormechan master actionmodulestensormechanicsmasterindexmd design automat determin set strain stress diverg paramet correctli select strain formul recommend user employ tensormechan master actionmodulestensormechanicsmasterindexmd whenev possibl ensur consist test function gradient strain formul select syntax paramet materialscomputersphericalsmallstrain syntax input materialscomputersphericalsmallstrain syntax children materialscomputersphericalsmallstrain comput increment beam strain syntax descript materialscomputeincrementalbeamstrain descript class comput small finit displac rotat strain increment beam element pleas refer c timoshenko beamctimoshenkobeammd detail syntax paramet materialscomputeincrementalbeamstrain syntax input materialscomputeincrementalbeamstrain syntax children materialscomputeincrementalbeamstrain comput eigenstrain beam variabl syntax descript materialscomputeeigenstrainbeamfromvari descript computeeigenstrainbeamfromvari class take set displac rotat variabl use calcul displac rotat beam eigenstrain global coordin system either displac rotat aux variabl provid provid three global coordin direct exampl input file syntax list modulestensor_mechanicstesttestsbeameigenstraineigenstrain_from_vari blockmaterialstherm syntax paramet materialscomputeeigenstrainbeamfromvari syntax input materialscomputeeigenstrainbeamfromvari syntax children materialscomputeeigenstrainbeamfromvari sum tensor increment syntax descript materialssumtensorincr descript sumtensorincr materi updat strain tensor sum coupl strain increment specifi user beginequ labeleqnsum_increment_tensor boldsymbolt boldsymbolt_old sum_n delta d_n endequ boldsymbolt calcuat tensor boldsymbold_n coupl tensor increment exampl input file list modulescombinedtesttestsdiffusecreepstressi blockmaterialsdiffuse_creep_strain argument coupled_tensor_increment_nam paramet sumtensorincr materi properti paramet property_nam argument shown list modulescombinedtesttestsdiffusecreepstressi blockmaterialsdiffuse_strain_incr syntax paramet materialssumtensorincr syntax input materialssumtensorincr syntax children materialssumtensorincr bibtex bibliographi scalar materi damag syntax descript materialscombinedscalardamag descript combinedscalardamag model defin effect damag stress stiff continuum damag mechan set directli comput stress must use conjunct computedamagestresscomputedamagestressmd model scalar damag model stress boldsymbolsigma comput function damag origin stiff materi mathbbc elast strain boldsymbolvarepsilon beginequ boldsymbolsigma mathbbc boldsymbolvarepsilon endequ damag variabl comput combin seri extern scalar damag model defin damage_model input paramet two combin type possibl maximum default product begineqnarray mathrmmaximum mathrmmaxd_ d_n mathrmproduct prodlimits_in d_i endeqnarray syntax paramet materialscombinedscalardamag syntax input materialscombinedscalardamag syntax children materialscombinedscalardamag bibtex bibliographi adcomput variabl isotrop elast tensor syntax descript materialsadcomputevariableisotropicelasticitytensor descript model comput elast tensor elast moduli prescrib term young modulu poisson ratio vari defin userspecifi materi properti everi time materi evalu full tensor updat reflect current valu elast constant exampl input file syntax list modulescombinedtestteststhermal_elasticadthermal_elastici blockmaterialselasticity_tensor syntax paramet materialsadcomputevariableisotropicelasticitytensor syntax input materialsadcomputevariableisotropicelasticitytensor syntax children materialsadcomputevariableisotropicelasticitytensor templat load filestubsmoose_objectmdtempl namecappeddruckerpragercosseratstressupd syntaxmaterialscappeddruckerpragercosseratstressupd hill plastic stress updat syntax descript materialsadhillplasticitystressupd descript class comput hill plastic via gener radial return map algorithm citeversinogener requir elast behavior materi isotrop wherea departur yield function anisotrop hill yield function defin beginequ f frac boldsymbolst boldsymbola boldsymbolst s_yalpha endequ boldsymbol deviator stress tensor vector form boldsymbola anisotropi hill tensor alpha intern paramet use exampl prescrib strain harden plastic modulu note hill tensor defin six six matrix use follow unitless constant f g h l n alert warn combin elast anisotropi plastic anisotropi requir tensor project use adhillelastoplasticitystressupd applic effect plastic strain increment obtain within framework gener hill plastic radial return map see adgeneralizedradialreturnstressupdateadgeneralizedradialreturnstressupdatemd exampl input file syntax list modulestensor_mechanicstesttestsad_anisotropic_plasticityad_aniso_plasticity_yi blockmaterialstrial_plast syntax paramet materialsadhillplasticitystressupd syntax input materialsadhillplasticitystressupd syntax children materialsadhillplasticitystressupd bibtex bibliographi comput rspheric finit strain syntax descript materialscomputersphericalfinitestrain descript materi computersphericalfinitestrain calcul small increment strain rspheric system rspheric materi kernel design model sphere geometri model symmetri polar theta azimuth phi direct assum model consid revolv direct rspheric code materi properti variabl eg temperatur load condit assum spheric symmetr attribut depend axial posit alert note coord_typ problem block input file must set rspheric plane strain axisymmetr case stress strain tensor modifi spheric problem diagon compon nonzero problem beginequ beginbmatrix epsilon_rr epsilon_theta theta epsilon_phi phi endbmatrix endequ valu normal strain compon polar azimuth direct epsilon_theta theta epsilon_phi phi depend displac posit radial direct beginequ labeleqpolar_azimuthal_rspherical_strain epsilon_theta theta epsilon_phi phi fracu_rx_r endequ although axisymmetr problem solv stress strain field problem mathemat cylindr coordin axisymmetr system valu stress strain theta phi direct depend theta phi coordin deform gradient calcul geometri deform gradient pass strain rotat method use default cartesian simul describ finit strain classcomputefinitestrainmd page exampl input file syntax finit increment rspheric strain calcul activ input file use tensormechan master action shown list modulestensor_mechanicstesttestsd_sphericalfinitestrain_dsphere_hollowi blockmodulestensormechanicsmast alert note titleus tensor mechan master action recommend tensormechan master actionmodulestensormechanicsmasterindexmd design automat determin set strain stress diverg paramet correctli select strain formul recommend user employ tensormechan master actionsyntaxmodulestensormechanicsmasterindexmd whenev possibl ensur consist test function gradient strain formul select syntax paramet materialscomputersphericalfinitestrain syntax input materialscomputersphericalfinitestrain syntax children materialscomputersphericalfinitestrain adrank two tensor compon syntax descript materialsadranktwocartesiancompon descript admateri model use extract compon rank tensor cartesian coordin system use regardless coordin system use model admateri model set tensormechanicsmastermodulestensormechanicsmasterindexmd automat stress compon request generate_output paramet also set directli user adranktwocartesiancompon take argument valu index_i index_j singl tensor compon save materialproperti eqranktensor_component_indic show index valu rank tensor compon equat ideqranktensor_component_indic sigma_ij impli beginbmatrix sigma_ sigma_ sigma_ sigma_ sigma_ sigma_ sigma_ sigma_ sigma_ endbmatrix syntax paramet materialsadranktwocartesiancompon syntax input materialsadranktwocartesiancompon syntax children materialsadranktwocartesiancompon eshelbi tensor syntax descript materialseshelbytensor descript model comput eshelbi energymomentum tensor sigma citepeshelby_energy_ use fractur integr calcul beginequ boldsymbolsigma wboldsymboli boldsymbolhtboldsymbolp endequ w strain energi densiti origin configur boldsymboli ident matrix boldsymbolh displac gradient boldsymbolp first piolakirchoff stress tensor necessari includ materi within input file comput fractur integr exampl input file syntax syntax paramet materialseshelbytensor syntax input materialseshelbytensor syntax children materialseshelbytensor adrank two invari syntax descript materialsadranktwoinvari descript admateri model use extract invari rank tensor cartesian coordin system use regardless coordin system use model admateri model set tensormechanicsmastermodulestensormechanicsmasterindexmd automat stress compon request generate_output paramet also set directli user class provid abil comput vonmis effect hydrostat lnorm volumetr triaxial maxshear stressintens first second third invari well max mid min primari stress boldsymbolsigma strain boldsymbolepsilonquant rank tensor describ ranktwoscalartoolsranktwoscalartoolsmd compon rank tensor extract store scalar materi properti allow accur repres calcul use quantiti quadratur point would possibl use relat ranktwoscalarauxranktwoscalarauxmd syntax paramet materialsadranktwoinvari syntax input materialsadranktwoinvari syntax children materialsadranktwoinvari comput linear elast stress syntax descript materialscomputelinearelasticstress descript materi computelinearelasticstress comput elast stress total small strain formul stress class compat computesmallstraincomputesmallstrainmd type strain calcul includ noncartesian coordin system stress calcul class use coordin system calcul elast stress respons small total formul strain elast materi experi perman deform elast strain elast stress recover elast stress relat elast strain elast tensor beginequ sigma_ij c_ijkl epsilon_kltot endequ boldsymbolepsilontot total strain formul strain measur also sum mechan elast strain eigenstrain system exampl input file syntax list modulestensor_mechanicstutorialsbasicspart_i blockmaterialsstress syntax paramet materialscomputelinearelasticstress syntax input materialscomputelinearelasticstress syntax children materialscomputelinearelasticstress comput finit strain cartesian system syntax descript materialscomputefinitestrain descript class use comput strain increment total strain increment rotat finit strain problem finit strain approach use increment corot form citeprashidincrement approach comput logarithm strain strain increment increment configur form gener time increment consider beginequ labeleqntime_not t_n t_n endequ configur materi element consider t_n t_n denot kappa_n kappa_n respect previou current increment configur deform gradient definit deform gradient repres chang materi element refer configur current configur citepmalvernintroduct increment formul use computefinitestrain class increment deform gradient repres chang materi element previou configur kappa_n current configur kappa_n mathemat relationship given beginequ hatboldsymbolf fracpartialboldsymbolx_npartialboldsymbolx_n endequ boldsymbolx_n posit vector materi point kappa_n boldsymbolx_n posit vector materi point kappa_n alert note titleincrement vs total deform gradient note hatboldsymbolf deform gradient rather increment deform gradient kappa_n respect kappa_n thu hatboldsymbolf boldsymbolf_n boldsymbolf_n boldsymbolf_n total deform gradient time t_n alertend follow explan procedur given citezhangmodifi increment deform gradient multipl decompos increment rotat tensor boldsymbolhatr increment right stretch tensor boldsymbolhatu beginequ labeleqnpolar_decomposition_deform_grad boldsymbolhatf boldsymbolhatr cdot boldsymbolhatu endequ boldsymbolhatr proper orthogon rotat tensor stretch tensor boldsymbolhatu symmetr posit definit increment right cauchygreen deform tensor boldsymbolhatc given term boldsymbolhatu subsitut eqnpolar_decomposition_deform_grad definit boldsymbolhatc citemalvernintroduct beginequ labeleqnright_green_cauchy_deformation_tensor boldsymbolhatc boldsymbolhatft cdot boldsymbolhatf boldsymbolhatut cdot boldsymbolhatrt cdot boldsymbolhatr cdot boldsymbolhatu boldsymbolhatu endequ orthogon natur boldsymbolhatr enabl simplif given thu boldsymbolhatu comput boldsymbolhatc beginequ labeleqndefinition_stretch_tensor boldsymbolhatu boldsymbolhatcfrac endequ evalu perform spectral decomposit boldsymbolhatc boldsymbolhatu comput multipl decomposit deform gradient use find increment rotat tensor boldsymbolhatr stretch rate boldsymbold follow citerashidincrement stretch rate tensor express term increment right cauchygreen deform tensor beginequ labeleqnstretching_tensor_definit boldsymbold fracdelta tloghatboldsymbolc endequ increment stretech rate tensor use work conjug stress measur use comput anoth strain measur comput expens part procedur spectral decomposit boldsymbolhatc find boldsymbolhatu decomposit comput exactli use eigensolutioneigensolut yet approxim comput much lower comput expens use taylor expansiontaylorexpans procedur class provid option perform calcul either way taylor expansiontaylorexpans default taylor expans idtaylorexpans stretch rate tensor boldsymbold increment rotat matrix hatboldsymbolr approxim use taylor expans citerashidincrement approxim stretch rate tensor beginequ boldsymbolda fracdelta tleft frachatboldsymbolc boldsymboli frachatboldsymbolc boldsymboli frachatboldsymbolc boldsymboli right endequ approxim rotat matrix beginequ hatr_ija delta_ijco thetaa fracco thetaaq alpha_ialpha_j fracsin thetaasqrtqepsilon_ijkalpha_k endequ beginequ beginalign sin thetaa q em fracsin thetaasqrtq fracleft fracpqqpqpq rightem fracco thetaaq frac qfracppp qfracppppem qfracpppppem co thetaa p fracppqpq fracppqpqem p fractrhatboldsymbolf endalign endequ sign co thetaa set examin sign trhatboldsymbolf eigensolut ideigensolut stretch rate tensor calcul eigenvalu lambda eigenvector boldsymbolv hatboldsymbolc beginequ boldsymbold logsqrtlambda_boldsymboln_ logsqrtlambda_boldsymboln_ logsqrtlambda_boldsymboln_ endequ lambda eigenvalu boldsymboln matrix construct correspond eigenvector beginequ boldsymboln_i boldsymbolv_iboldsymbolv_it endequ increment stretch tensor beginequ hatboldsymbolu sqrtlambda_boldsymboln_ sqrtlambda_boldsymboln_ sqrtlambda_boldsymboln_ endequ thu beginequ hatboldsymbolr hatboldsymbolf hatboldsymbolu endequ volumetr lock correct computefinitestrain hatboldsymbolf calcul computestrain method includ volumetr lock correct beginequ hatboldsymbolf_corr hatboldsymbolf left fracmathrmav_elhatboldsymbolfhatboldsymbolf rightfrac endequ mathrmav_el averag valu entir element strain increment rotat increment calcul computeqpstrain strain increment calcul ad total strain t_n total strain t_n must rotat use rotat increment exampl input file syntax finit strain calcul activ input file use tensormechan master action shown list modulestensor_mechanicstesttestsfinite_strain_elasticfinite_strain_elastic_new_testi blockmodulestensormechan alert note titleus tensor mechan master action recommend tensormechan master actionmodulestensormechanicsmasterindexmd design automat determin set strain stress diverg paramet correctli select strain formul recommend user employ tensormechan master actionmodulestensormechanicsmasterindexmd whenev possibl ensur consist test function gradient strain formul select although recommend possibl directli use computefinitestrain materi input file list modulestensor_mechanicstesttestsvolumetric_deform_gradelastic_stressi blockmaterialsstrain directli use computefinitestrain input file shown stressdivergencetensorsstressdivergencetensorsmd kernel must modifi default set paramet use_displaced_mesh true set requir maintain consist test function gradient strain formul complet discuss stress divereg kernel set correspond strain class see section consist stress straintensor_mechanicsstressdivergencemdconsistency_stress_strain_use_displaced_mesh tensormechan modul overview addit awar load cycl limit use finit strain outlin section larg strain close loop load cycletensor_mechanicsstrainsmdlarge_strain_closed_loop_loading_cycl syntax paramet materialscomputefinitestrain syntax input materialscomputefinitestrain syntax children materialscomputefinitestrain bibtex bibliographi templat load filestubsmoose_objectmdtempl namefinitestrainhyperelasticviscoplast syntaxmaterialsfinitestrainhyperelasticviscoplast comput plane increment strain syntax descript materialscomputeplaneincrementalstrain descript materi computeplaneincrementalstrain calcul small increment strain plane strain problem use classic plane strain plane stresshttpsenwikipediaorgwikiplane_stress problem gener plane straintensor_mechanicsgeneralized_plane_strainmd simul plane strain classic plane strain problem assum front back surfac bodi constrain outofplan direct displac direct surfac zero result strain deform gradient compon outofplan direct held constant zero beginequ labeleqnclassical_dop_deform_grad fdop text epsilondop endequ fdop deform gradient tensor diagon compon direct outofplan strain epsilondop correspond strain compon gener plane strain case gener plane strain weak plane stress model compon strain deform gradient outofplan direct nonzero solv outofplan strain use outofplan strain variabl deform gradient compon beginequ labeleqndop_deform_grad fdop epsilonop endequ fdop deform gradient tensor diagon compon direct outofplan strain epsilonop prescrib outofplan strain valu strain valu given either scalar variabl nonlinear field variabl gener plane straintensor_mechanicsgeneralized_plane_strainmd problem use scalar variabl multipl scalar variabl provid one strain calcul need multipl gener plane strain model differ subdomain case plane stress weakplanestressweakplanestressmd kernel use integr outofplan compon stress area element assembl integr residu outofplan strain field variabl result weak enforc condit outofplan stress zero allow reus constitut model model dimension strain deform gradient formul small strain increment calcul form beginequ labeleqnstrain_incr delta boldsymbolepsilon frac left boldsymbold boldsymboldt right text boldsymbold boldsymbola barboldsymbolf boldsymboli endequ boldsymboli rank ident tensor boldsymbola deform gradient barboldsymbolf old deform gradient zdirect outofplan strain default default outofplan direct along zaxi direct current old deform gradient tensor use eqnstrain_incr given beginequ labeleqndeform_grad boldsymbola beginbmatrix u_xx u_xi u_yx u_yy fdop endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix u_xx_old u_xy_old u_yx_old u_yy_old fdop_old endbmatrix boldsymboli endequ fdop defin eqndop_deform_grad note barboldsymbolf use valu strain express previou time step classic present strain tensor plane strain problem compon deform tensor associ zdirect zero zero compon indic coupl inplan displac outofplan strain variabl xdirect outofplan strain user select outofplan direct along xdirect current old deform gradient tensor eqnstrain_incr formul beginequ labeleqndeform_grads_xdir boldsymbola beginbmatrix fdop u_yy u_zi u_yz u_zz endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix fdop_old u_yy_old u_yz_old u_zy_old u_zz_old endbmatrix boldsymboli endequ offdiagon compon deform tensor associ xdirect zero ydirect outofplan strain user select outofplan direct along ydirect current old deform gradient tensor eqnstrain_incr formul beginequ labeleqndeform_grads_ydir boldsymbola beginbmatrix u_xx u_zx fdop u_xz u_zz endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix u_xx_old u_xz_old fdop_old u_zx_old u_zz_old endbmatrix boldsymboli endequ offdiagon compon deform tensor associ ydirect zero final deform gradient increment deform gradient calcul specif geometri deform gradient pass strain rotat method use cartesian simul describ comput increment small straincomputeincrementalsmallstrainmd document select user increment strain tensor condit barb formul mitig volumetr lock element volumetr lock correct appli total strain beginequ labeleqnvlc_strain delta boldsymbolepsilon_vlc boldsymbolepsilon fracleft boldsymbolepsilon_v trboldsymboldelta epsilon right cdot boldsymboli endequ boldsymbolepsilon_v volumetr strain boldsymboli rank ident tensor detail theori behind eqnvlc_strain see volumetr lock correctiontensor_mechanicsvolumetriclockingmd document exampl input file plane stress tensor mechan master actionmodulestensormechanicsmasterindexmd use creat computeplaneincrementalstrain class set planar_formul weak_plane_stress strain small increment true master action block list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_incrementali blockmodulestensormechanicsmast note plane stress analysi out_of_plane_strain paramet must defin name outofplan strain field variabl list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_incrementali blockvariablesstrain_zz case exampl out_of_plane_strain defin globalparam block gener plane strain use plane strain class gener plane straintensor_mechanicsgeneralized_plane_strainmd simul use scalar outofplan strain tensor mechan master actionmodulestensormechanicsmasterindexmd use creat computeplaneincrementalstrain class planar_formul generalized_plane_strain strain small increment true set list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_incrementi blockmodulestensormechanicsmasteral note argument scalar_out_of_plane_strain paramet name scalar strain variabl list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_incrementi blockvariablesscalar_strain_zz syntax paramet materialscomputeplaneincrementalstrain syntax input materialscomputeplaneincrementalstrain syntax children materialscomputeplaneincrementalstrain bibtex bibliographi plastic truss syntax descript materialsplastictruss descript plastictruss model implement j plastic truss element axial elong element obtain beginequ varepsilon fracdelta ll_ fracll_l_ endequ delta l total stretch comput updat length l old length l_ truss element case linear elast materi axial stress sigma_a comput beginequ sigma_a e fracdelta ll_ endequ nonlinear behavior truss implement use simpl j plastic model use either simpl linear harden userdefin function defin harden behavior strain increment obtain total stretch updat beginequ delta varepsilon varepsilon varepsilon_old endequ trial stress estim beginequ sigmatr sigma_old e delta varepsilon endequ yield condit determin beginequ f tild sigmatr e delta varepsilonp r sigma_i endequ e young modulu r harden function sigma_i yield stress trial stress outsid yield envelop stress brought use iter newton method case linear harden harden function defin rh varepsilonp h harden constant case harden variabl begin iter process obtain beginequ rk r_old h delta varepsilonpk endequ plastic strain increment comput beginequ ddelta varepsilonp fracffracdfddelta varepsilonp fractild sigmatr e delta varepsilonpk rk sigma_y h endequ plastic strain next iter updat beginequ delta varepsilonpk delta varepsilonpk ddelta varepsilonp endequ iter process continu updat stress lie yield curv elast strain updat beginequ delta varepsilon delta varepsilon delta varepsilonp endequ updat axial stress calcul beginequ sigma_a sigma_old e delta varepsilon endequ exampl input syntax list modulestensor_mechanicstestteststrusstruss_plastici blockmaterialstruss syntax paramet materialsplastictruss syntax input materialsplastictruss syntax children materialsplastictruss porosityfromstrain syntax descript materialsporosityfromstrain descript porosityfromstrain comput poros f combin inelast strain epsilon_in beginequ f fold epsilon_in epsilon_inoldtexttr fold endequ epsilon_in typic comput computemultipleinelasticstresscomputemultipleinelasticstressmd exampl input file list modulestensor_mechanicstesttestsporosityregi blockmateri syntax paramet materialsporosityfromstrain syntax input materialsporosityfromstrain syntax children materialsporosityfromstrain bibtex bibliographi templat load filestubsmoose_objectmdtempl namecomputecosseratelasticitytensor syntaxmaterialscomputecosseratelasticitytensor strain energi densiti syntax descript materialsstrainenergydens descript materi comput strain energi densiti u defin area underneath stressstrain curv beginequ labeleqnsed_integral_def u int_x frac sigma epsilon endequ sigma stress epsilon mechan strain tensor mechan modul defin mechan strain sum elast inelast eg plastic creep strain without eigenstrain strain energi densiti calcul either total increment form base strain measur appli increment form strain energi densiti integr take form beginequ labeleqnincremental_s u u_old frac sigma delta epsilon fracsigma_old delta epsilon endequ delta epsilon mechanci strain increment alert note titlemonoton load strainenergydens class formul monoton load use calcul strain energi densiti cyclic load case exampl input file list modulestensor_mechanicstesttestsstrain_energy_densityincr_model_elas_plasi blockmaterialsstrain_energy_dens syntax paramet materialsstrainenergydens syntax input materialsstrainenergydens syntax children materialsstrainenergydens bibtex bibliographi ad comput smear crack stress syntax descript materialsadcomputesmearedcrackingstress descript similar computesmearedcrackingstresscomputesmearedcrackingstressmd object except jacobian intern forc comput via automat differenti exampl input file syntax list modulestensor_mechanicstesttestsad_smeared_crackingcrackingi blockmaterialselastic_stress syntax paramet materialsadcomputesmearedcrackingstress syntax input materialsadcomputesmearedcrackingstress syntax children materialsadcomputesmearedcrackingstress admultiplepowerlawcreepstressupd syntax descript materialsadmultiplepowerlawcreepstressupd descript metal exihibit distinct differ creep behavior depend stress level object repres creep behavior variou power law express follow logic analog adpowerlawcreepstressupdateadpowerlawcreepstressupdatemd select right set paramet von mise stress valu seen return map set von mise stress interv requir input stress_threshold vector stress defin minimum maximum model stress pair stress valu strict order correspond order power law paramet must provid ie coeffici n_expon m_expon activation_energi class reli implicit integr algorithm citedunneintroduct pg admultiplepowerlawcreepstressupd must run conjunct inelast strain return map stress calcul adcomputemultipleinelasticstressadcomputemultipleinelasticstressmd syntax paramet materialsadmultiplepowerlawcreepstressupd syntax input materialsadmultiplepowerlawcreepstressupd syntax children materialsadmultiplepowerlawcreepstressupd bibtex bibliographi ad viscoplast stress updat syntax descript materialsadviscoplasticitystressupd descript adviscoplasticitystressupd implement gursontvergaardneedlemangursongg gtn leblondperrinsuqeutleblondkl lp follow theori describ adviscoplasticitystressupd use similar techniqu adradialreturnstressupdateadradialreturnstressupdatemd comput gaug stress order correctli calcul plastic strain porou materi adviscoplasticitystressupd must use conjunct adcomputemultipleporousinelasticstressadcomputemultipleporousinelasticstressmd order captur poros evolut notat mean stress boldsymbolsigma sigma_ij microscop stress boldsymbolsigma sigma_ij mean strain mathbf e_ij microscop strain boldsymbolepsilon epsilon_ij hydrostat stress sigma_m deviator stress boldsymbolsigmaprim sigma_ij tfracdelta_ijsigma_kk equival stress sigma_eq sqrttfracleftboldsymbolsigmaprimeboldsymbolsigmaprimeright trace texttrmathbftt_ t_ t_ poros f stress expon n theori pore nucleat within materi system dissip potenti govern overal stressstrain respons drive local void growth mechan enhanc simpli put constitut behavior materi evolut poros within highli coupl process hightemperatur extrem environ potenti includ effect viscoplast diffus homogen composit materi plastic potenti accomplish use citebishopfb upperbound theorem dissip say possibl dissip field solv macroscop level upper bound volum averag local dissip within materi system beginequ boldsymbolsigmadotmathbf geq langl boldsymbolsigmaboldsymboldotepsilon rangl int_v boldsymbolsigmaboldsymboldotepsilon textdv endequ mani continuum level model problem simul length scale larger individu void therefor method homogen requir model void materi respons approxim simplifi medium method aim match dissip potenti true medium true_vs_homo therebi ensur accur stressstrain constitut behavior porou materi system media mediatensor_mechanicstrue_vs_homopng stylewidthmarginleft idtrue_vs_homo captionschemat compar true submateri respons homogen respons show two method match energi dissip citegursongg employ approach solv dissip purelyplast rateinsensit materi deriv exact express veloc strain field within unit cell base isotrop express citericeki field solut veloc field deriv use boundari condit strain surfac unit cell local incompress materi system overal minim work bring approxim upperbound solut close possibl true solut gurson formul note despit incompress materi overal unit cell void materi fact compress due void therefor void growth dotf model simpli base overal dilat beginequ dotf ftexttrdotmathbf endequ exact result averag dissip unit cell correl analyt solut would use applic finit element code largescal compon analysi sever fit paramet introduc gurson model citetvergaardip account period array void rather origin unit cell lead famou gtn model widelyus damag poros evolut model ductil materi citeleblondkl lp extend gtn model account ratesensit plastic far less common rateinsensit gtn model work leblond et al gener similar analyt solut gtn account dissip materi make also access finit element implement expect differ ratesensit ie lp rateinsensit ie gtn plastic becom signific lower temperatur stress lp model select describ dissip ratesensit void materi case singl dissip potenti describ nortontyp power law beginequ psilambda _n boldsymbolsigmaf fracsigma_ dotepsilon_n leftfraclambda_nboldsymbolsigmafsigma_rightn labeleqdissip endequ beginequ dotmathbf fracpartialpsiboldsymbolsigmapartialboldsymbolsigma fracpartialpsiboldsymbolsigmapartiallambda_n fracpartiallambda_npartialboldsymbolsigma labeleqlps_strain endequ gaug stress lambda_n use translat appli stress poros strain rate respons power law creep materi ratesensit factor n given via minim residu mathcalr beginequ mathcalr leftfracsigma_eqlambda_nboldsymbolsigmafright flefth_n fracnnfrach_nright fracnnf endequ h_n rate sensit factor law propos citeleblondklreduc exactli citegursongg model use rateinsensit expon implement inelast strain current calcul explicitli beginequ mathbfetdelta mathbfet dotmathbfedelta endequ strain rate calcul via beginequ dotmathbf fracpartialpsiboldsymbolsigmapartialboldsymbolsigma fracpartialpsiboldsymbolsigmapartiallambda_n fracpartiallambda_npartialboldsymbolsigma labeleqstrain_r endequ take deriv eqstrain_r respect gaug stress familiar norton power law form beginequ fracpartialpsiboldsymbolsigmapartiallambda_n fracdotepsilon_sigma_n leftlambda_nboldsymbolsigmafrightn labeleqnorton endequ provid clear link tradit power law creep solv replac sigma_eq util tradiat power law creep equat gaug stress exact strain dissip captur due act homogen use lp model gaug stress calcul minim residu beginequ mathcalr leftfracsigma_eqlambda_nboldsymbolsigmafright flefth_n fracnnfrach_nright fracnnf labeleqresidu endequ rate sensit factor h_n function strain rate stress expon gaug stress equival stress beginequ h_n leftfracnlefts_ffracsigma_mlambda_nboldsymbolsigmafrightfracnnrightn labeleqh endequ s_f shape factor depend pore shape beginequ s_f begincas frac textfor spheric pore sqrt textfor cylindr pore labeleqshape_factor endcas endequ addit mean stress util eqh differ depend shape pore beginequ sigma_m begincas fracsigma_ sigma_ sigma_ textfor spheric pore fracsigma_ sigma_ textfor cylindr pore labeleqmean_stress endcas endequ gtn solv exactli manner lp model take nrightarrow infti eqresidu eqshape_factor reduc mathcalr beginequ mathcalr leftfracsigma_eqlambda_inftyboldsymbolsigmafright f coshlefts_ffracsigma_mlambda_inftyright f endequ solut lambda_n found strain rate determin use eqstrain_r relationship beginequ fracpartiallambda_npartialboldsymbolsigma fraclambda_n fracpartialmathcalrpartialboldsymbolsigmafracpartialmathcalrpartialboldsymbolsigmaboldsymbolsigma endequ exampl input file case adviscoplasticitystressupd must combin adcomputemultipleporousinelasticstressadcomputemultipleporousinelasticstressmd order calcul stress captur poros evolut materi list modulestensor_mechanicstesttestsad_viscoplasticity_stress_updatelps_singlei blockmateri case power law coeffici defin eqnorton provid exampl parsedmateri note necessari coeffici must provid ad materi variabl variabl depend materi util calcul coeffici sever differ stress expon requir separ adviscoplasticitystressupd must specifi combin adcomputemultipleporousinelasticstressadcomputemultipleporousinelasticstressmd materi calcul adviscoplasticitystressupd prepend base_nam separ contribut overal system note differ base_nam provid tensormechan master actionmodulestensormechanicsmasterindexmd list modulestensor_mechanicstesttestsad_viscoplasticity_stress_updatelps_duali blockmateri syntax paramet materialsadviscoplasticitystressupd syntax input materialsadviscoplasticitystressupd syntax children materialsadviscoplasticitystressupd bibtex bibliographi linear viscoelast stress updat syntax descript materialslinearviscoelasticstressupd descript comput inelast strain increment result linear viscoelast materi generalizedkelvinvoigtmodelgeneralizedkelvinvoigtmodelmd generalizedmaxwellmodelgeneralizedmaxwellmodelmd materi use increment strain approxim either increment small strain finit strain need use conjunct computemultipleinelasticstresscomputemultipleinelasticstressmd similar stress calcul exampl input file syntax list modulestensor_mechanicstesttestsviscogen_maxwell_drivingi blockmaterialscreep linearviscoelasticstressupd must run conjunct inelast strain return map stress calcul shown list modulestensor_mechanicstesttestsviscogen_maxwell_drivingi blockmaterialsstress syntax paramet materialslinearviscoelasticstressupd syntax input materialslinearviscoelasticstressupd syntax children materialslinearviscoelasticstressupd comput extra stress constant syntax descript materialscomputeextrastressconst descript class computeextrastressconst add addit stress term boldsymbolsigma_ residu calcul constitut model calcul stress shown eqextra_stress_addit extra stress may residu stress larg civil engin simul extra stress materi properti extra_stress store rank tensor valu extra stress beginequ labeleqextra_stress_addit sigma_ij sigma_ij sigmaextra_ij endequ valu boldsymbolsigmaextra constant across entir mesh class computeextrastressconst creat symmetr stress tensor expect valu stress tensor compon specif order specifi input paramet descript exampl input file syntax list modulescombinedtesttestslinear_elasticityextra_stressi blockmaterialsconst_stress syntax paramet materialscomputeextrastressconst syntax input materialscomputeextrastressconst syntax children materialscomputeextrastressconst templat load filestubsmoose_objectmdtempl namecappedweakplanestressupd syntaxmaterialscappedweakplanestressupd comput strain increment base stress syntax descript materialsadcomputestrainincrementbasedstress descript stress calcul find valu stress function elast strain increment seri inelast strain specifi input file stress calcul beginequ labeleqnstress sigma_ij sigma_ijold c_ijkl delta epsilon_jkel endequ sigma_ij stress c_ijkl elast tensor materi elast strain increment delta epsilon_jkel found subtract sum inelast strain mechan strain beginequ labeleqnelastic_strain_incr delta boldsymbolepsilonel boldsymbolepsilonmech boldsymbolepsilonmechold sum_n left boldsymbolepsiloninel_n boldsymbolepsiloninelold_n right endequ boldsymbolepsilonmech mechan strain boldsymbolepsiloninel inelast strain tensor mechan modul mechan strain defin sum elast inelast eg creep andor plastic strain exampl input file list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_incrementali blockmaterialsstress syntax paramet materialsadcomputestrainincrementbasedstress syntax input materialsadcomputestrainincrementbasedstress syntax children materialsadcomputestrainincrementbasedstress bibtex bibliographi templat load filestubsmoose_objectmdtempl namecomputecosseratsmallstrain syntaxmaterialscomputecosseratsmallstrain comput variabl eigenstrain syntax descript materialscomputevariableeigenstrain descript computevariableeigenstrain calcul eigenstrain function specifi variabl well contribut eigenstrain first second order deriv elast strain class often use phase field simul first second deriv requir limit elast strain overli restrict rank tensor eigenstrain calcul function rank tensor base scalar materi properti beginequ labeleqnvariable_base_eigenstrain boldsymbolepsilon p boldsymbolt endequ boldsymbolepsilon_eigen comput eigenstrain p scalar materi properti boldsymbolt tensor select user base eigenstrain materi properti p use introduc depend eigenstrain userspecifi variabl contribut eigenstrain first second elast strain deriv calcul use moos derivativematerialinterfacematerialsderivativematerialinterfacemd appli prefactor variabl beginequ labeleqnderiv beginalign nabla cdot boldsymbolepsilon left nabla cdot p right boldsymbolt nabla cdot boldsymbolepsilon left nabla cdot p right boldsymbolt endalign endequ nabla cdot boldsymbolepsilon nabla cdot boldsymbolepsilon first second deriv elast strain contribut due eigenstrain alert warn titleus elast strain class assum presenc elast strain comput first second deriv exampl input file list modulescombinedtesttestsmultiphase_mechanicssimpleeigenstraini blockmaterialseigenstrain argument arg paramet eigenstrain match name coupl variabl shown auxvari list modulescombinedtesttestsmultiphase_mechanicssimpleeigenstraini blockauxvariablesc argument prefactor paramet eigenstrain materi match function name f_name paramet derivativeparsedmaterialderivativeparsedmaterialmd list modulescombinedtesttestsmultiphase_mechanicssimpleeigenstraini blockmaterialsprefactor final eigenstrain_nam paramet valu must also set strain calcul exampl paramet set shown list modulescombinedtesttestsmultiphase_mechanicssimpleeigenstraini blockmaterialsstrain syntax paramet materialscomputevariableeigenstrain syntax input materialscomputevariableeigenstrain syntax children materialscomputevariableeigenstrain bibtex bibliographi rank two tensor compon syntax descript materialsranktwocartesiancompon descript materi model use extract compon rank tensor cartesian coordin system use regardless coordin system use model materi model set tensormechanicsmastermodulestensormechanicsmasterindexmd automat stress compon request generate_output paramet also set directli user ranktwocartesiancompon take argument valu index_i index_j singl tensor compon save materialproperti eqranktensor_component_indic show index valu rank tensor compon equat ideqranktensor_component_indic sigma_ij impli beginbmatrix sigma_ sigma_ sigma_ sigma_ sigma_ sigma_ sigma_ sigma_ sigma_ endbmatrix syntax paramet materialsranktwocartesiancompon syntax input materialsranktwocartesiancompon syntax children materialsranktwocartesiancompon templat load filestubsmoose_objectmdtempl namecomputemultiplasticitystress syntaxmaterialscomputemultiplasticitystress composit eigenstrain syntax descript materialscompositeeigenstrain descript materi compositeeigenstrain calcul rank tensor use eigenstrain tensor mechan simul tensor comput weight sum base eigenstrain tensor shown eqweighted_rank_two weight scalar materi properti may depend simul variabl beginequ labeleqweighted_rank_two boldsymboltcomposit sum_n w_n cdot boldsymbolt_n endequ boldsymbolt rank tensor w weight factor rank tensor alert warn use compositeeigenstraincompositeeigenstrainmd object ranktwotensor eigenstrain tensormechanicsactiontensormechanicsmasterindexmd set automatic_eigenstrain_nam true eigenstrain list materialadconvert input tensor includ eigenstrain_nam list pass set automatic_eigenstrain_nam fals popul list manual compon need includ exampl input file syntax list modulescombinedtesttestseigenstraincompositei blockmaterialseigenstrain eigenstrain_nam paramet valu must also set strain calcul exampl paramet set shown list modulescombinedtesttestseigenstraincompositei blockmaterialsstrain syntax paramet materialscompositeeigenstrain syntax input materialscompositeeigenstrain syntax children materialscompositeeigenstrain comput linear viscoelast stress syntax descript materialscomputelinearviscoelasticstress descript comput stress linear viscoelast materi use total small strain approxim stress calcul mechan strain creep strain beginequ sigma_ij c_ijkl left epsilonmech_kl epsiloncreep_kl right endequ exampl input file syntax list modulestensor_mechanicstesttestsviscovisco_small_straini blockmaterialsstress mechan strain must comput computesmallstraincomputesmallstrainmd materi list modulestensor_mechanicstesttestsviscovisco_small_straini blockmaterialsstrain creep strain comput linear viscoelast materi generalizedkelvinvoigtmodelgeneralizedkelvinvoigtmodelmd generalizedmaxwellmodelgeneralizedmaxwellmodelmd materi elast tensor c_ijkl also provid linear viscoelast materi list modulestensor_mechanicstesttestsviscovisco_small_straini blockmaterialskelvin_voigt creep strain updat properli simul must also includ linearviscoelasticstressupdatelinearviscoelasticstressupdatemd user object list modulestensor_mechanicstesttestsviscovisco_small_straini blockuserobject syntax paramet materialscomputelinearviscoelasticstress syntax input materialscomputelinearviscoelasticstress syntax children materialscomputelinearviscoelasticstress rank two direct compon syntax descript materialsranktwodirectionalcompon descript materi model use extract compon rank tensor cartesian coordin system base input direct use regardless coordin system use model materi model set tensormechanicsmastermodulestensormechanicsmasterindexmd automat stress compon request generate_output paramet also set directli user class calcul compon rank tensor direct select user shown describ ranktwoscalartoolsranktwoscalartoolsmd compon rank tensor extract store scalar materi properti allow accur repres calcul use quantiti quadratur point would possibl use relat ranktwoscalarauxranktwoscalarauxmd syntax paramet materialsranktwodirectionalcompon syntax input materialsranktwodirectionalcompon syntax children materialsranktwodirectionalcompon comput isotrop elast tensor shell syntax descript materialsadcomputeisotropicelasticitytensorshel descript class comput plane stress isotrop elast tensor shell element pleas refer shellelementsshellelementsmd detail syntax paramet materialsadcomputeisotropicelasticitytensorshel syntax input materialsadcomputeisotropicelasticitytensorshel syntax children materialsadcomputeisotropicelasticitytensorshel rank two invari syntax descript materialsranktwoinvari descript materi model use extract invari rank tensor cartesian coordin system use regardless coordin system use model materi model set tensormechanicsmastermodulestensormechanicsmasterindexmd automat stress compon request generate_output paramet also set directli user class provid abil comput vonmis effect hydrostat lnorm volumetr triaxial maxshear stressintens first second third invari well max mid min primari stress boldsymbolsigma strain boldsymbolepsilonquant rank tensor describ ranktwoscalartoolsranktwoscalartoolsmd compon rank tensor extract store scalar materi properti allow accur repres calcul use quantiti quadratur point would possibl use relat ranktwoscalarauxranktwoscalarauxmd syntax paramet materialsranktwoinvari syntax input materialsranktwoinvari syntax children materialsranktwoinvari comput crack stress syntax descript materialscomputecrackedstress descript materi implement phase field fractur model includ anisotrop elast tensor modifi stress comput free energi deriv requir model work standard phase field kernel nonconserv variabl model nonconserv order paramet c defin crack c undamag materi c crack materi crack materi sustain compress stress tensil one c evolv minim elast free energi system model take stress jacobian_mult calcul anoth materi modifi includ crack model summari model uncrack stress sigma_ provid anoth materi decompos compress tensil part use spectral decomposit beginequ boldsymbolsigma_ boldsymbolq boldsymbollambda boldsymbolqt endequ compress tensil part stress comput postiv neg project tensor comput spectral decomposit accord beginequ boldsymbolsigma mathbfp boldsymbolsigma_ endequ beginequ boldsymbolsigma mathbfp boldsymbolsigma_ endequ free energi calcul total strain energi densiti defin beginequ psi ck k psi psi endequ psi strain energi due tensil stress psi strain energi due compress stress k paramet use avoid nonposit definit near complet damag compress tensil strain energi determin beginequ psi frac boldsymbolsigma boldsymbolepsilon endequ beginequ psi frac boldsymbolsigma boldsymbolepsilon endequ crack energi densiti defin beginequ gamma g_c fraclc g_c fracl nabla c endequ l width crack interfac g_c paramet relat energi releas rate total local free energi densiti defin beginequ beginalign f psi gamma ck k psi psi fracg_clc fracg_c l nabla c endalign endequ stress definit thermodynam consist stress relat deform energi densiti accord beginequ boldsymbolsigma fracparti psi_eparti boldsymbolepsilon ck kfracparti psiparti boldsymbolepsilon fracparti psiparti boldsymbolepsilon endequ sinc beginequ fracparti psiparti boldsymbolepsilon boldsymbolsigma endequ beginequ fracparti psiparti boldsymbolepsilon boldsymbolsigma endequ beginequ boldsymbolsigma ck kboldsymbolsigma boldsymbolsigma endequ jacobian matrix stress beginequ boldsymbolmathcalj fracparti boldsymbolsigmaparti boldsymbolepsilon leftck k boldsymbolmathcalp boldsymbolmathcalp right boldsymbolmathcalm endequ boldsymbolmathcalm jacobian_mult calcul constitut model evolut equat histori variabl avoid crack heal histori variabl h defin maximum energi densiti time interv tt_ t_ current time step ie beginequ h max_t psi endequ total free energi redefin beginequ beginalign f left ck k right h psi fracg_clc fracg_c l nabla c f_loc fracg_c l nabla c endalign endequ beginequ f_loc left ck k right h psi fracg_clc endequ deriv beginequ beginalign fracparti f_locparti c ck h fracg_cl c fracparti f_locparti c k h fracg_cl endalign endequ evolut equat damag paramet follow allencahn equat beginequ dotc l fracdelta fdelta c l left fracparti f_locparti c nabla cdot kappa nabla c right endequ l g_c eta kappa g_c l equat follow standard allencahn thu implement moos use standard allencahn kernel timederiv allencahn acinterfac action automat gener kernel nonconservedact see phasefield modul document inform exampl input file syntax list modulescombinedtesttestsphase_field_fracturecrackd_computecrackedstress_smallstraini blockmaterialscracked_stress syntax paramet materialscomputecrackedstress syntax input materialscomputecrackedstress syntax children materialscomputecrackedstress hill creep stress updat syntax descript materialsadhillcreepstressupd descript class comput creep strain rate base equival deviator stress function calcul function hill function anisotropi paramet f g h l n beginequ tildeqsigma fsigma_ sigma_ gsigma_ sigma_ hsigma_ sigma_ lsigma_ msigma_ nsigma_ endequ equival creep strain rate function may obtain beginequ dotepsilon a_aniso tildeqn endequ a_aniso creep coeffici n creep expon effect creep strain increment obtain within framework gener hill plastic radial return map see adgeneralizedradialreturnstressupdateadgeneralizedradialreturnstressupdatemd class comput gener radial return inelast increment detail hilltyp creep materi model may found citestewartanisotrop numer time integr error return map algorithm use solv elast inelast strain reli addit decomposit stress increment determin assum onedimension problem deltasigma e deltaepsilonelast e deltaepsilontot deltaepsiloncreep e repres valu young modulu one way limit error incur numer time integr compar elast strain increment increment name want ensur err_creep fracdeltasigma estim creep numer integr error proport increment creep strain rate err_creep deltadotepsilon_tdelta deltadotepsilon_t cdot delta recommend time step beginequ delta t_limit fracdelta cdot e cdot usertolerancedeltasigma labeleq_num_tim endequ delta t_limit comput time step limit delta current time step deltasigma denot stress time increment scalar usertoler maximum numer time integr error select user eq suggest creep error depend materi stiff given stress increment complex simul scenario control error prescrib maximum inelast strain increment may suffici limit creep error furthermor conserv select maximum inelast strain may lead larg increas number time step requir finish simul alert warn titleselect time step increment creep recommend choos max_inelastic_incr guarante creep strain increment well within small strain increment assumpt complementarili max_integration_error must select numer time integr significantli affect creep result usual applic valu order cdot cdot suffic better result time integr limit may combin soft terminatorterminatormd threedimension problem norm stress difer repres valu young modulu use intern exampl input file syntax list modulestensor_mechanicstesttestsad_anisotropic_creepad_aniso_creep_y_di blockmaterialstrial_creep_two syntax paramet materialsadhillcreepstressupd syntax input materialsadhillcreepstressupd syntax children materialsadhillcreepstressupd bibtex bibliographi linearelastictruss syntax descript materialslinearelastictruss descript class comput elast stretch truss element remov stretch due thermal expans total stretch elast stretch young modulu use comput axial stress truss element truss local coordin system syntax paramet materialslinearelastictruss syntax input materialslinearelastictruss syntax children materialslinearelastictruss bibtex bibliographi templat load filestubsmoose_objectmdtempl namecappeddruckerpragerstressupd syntaxmaterialscappeddruckerpragerstressupd comput finit shell strain syntax descript materialsadcomputefiniteshellstrain descript class comput finit strain increment shell element pleas refer shellelementsshellelementsmd detail syntax paramet materialsadcomputefiniteshellstrain syntax input materialsadcomputefiniteshellstrain syntax children materialsadcomputefiniteshellstrain comput increment shell strain syntax descript materialsadcomputeincrementalshellstrain descript class comput increment small strain shell element pleas refer shellelementsshellelementsmd detail syntax paramet materialsadcomputeincrementalshellstrain syntax input materialsadcomputeincrementalshellstrain syntax children materialsadcomputeincrementalshellstrain hill constant syntax descript materialshillconst descript hillconst materi transform user specifi hill constant global coordin materi coordin store materi properti rotat hill constant initi time step class rotat hill tensor simul initi rotat perform base user defin rotat angl paramet rotat hill tensor obtain citestewartanisotrop beginequ labeleqrotate_hill_tensor h_rot t_m h t_mt endequ h_rot transform hill tensor h initi hill tensor t_m transform matrix transform matrix t_m form compon total rotat matrix due initi rotat orient chang due larg deform temperatur depend larg deform kinemat hill tensor vari depend temperatur due textur depend materi rotat effect user creat function describ evolut coeffici temperatur provid materi follow list modulestensor_mechanicstesttestsad_anisotropic_creepad_aniso_creep_temperature_coefficients_function_variationi blockmaterialshill_const six piecewis linear function creat defin materi direct creep depend temperatur addit code account finit strain rotat updat hill tensor default simpl problem user deactiv featur set input argument use_large_rot fals updat direct coeffici finit strain rotat kinemat stronli encourag materi similarli use transform hill tensor would need disabl creep model ie follow input file command line need pass use_transform fals list modulestensor_mechanicstesttestsad_anisotropic_creepd_bar_orthotropic_deg_rotation_ad_creep_zi blockmaterialshill_tensor alert note temperatur coupl larg deform updat test creep model exampl input file syntax list modulestensor_mechanicstesttestsad_anisotropic_plasticityad_aniso_plasticity_xi blockmaterialshill_tensor syntax paramet materialshillconst syntax input materialshillconst syntax children materialshillconst bibtex bibliographi volumedeformgradcorrectedstress syntax descript materialsvolumedeformgradcorrectedstress descript class take stress previou configur deform gradient input comput stress current configur jacobian current configur previou configur syntax paramet materialsvolumedeformgradcorrectedstress syntax input materialsvolumedeformgradcorrectedstress syntax children materialsvolumedeformgradcorrectedstress bibtex bibliographi hyperbol viscoplast stress updat syntax descript materialshyperbolicviscoplasticitystressupd descript includ modulestensor_mechanicscommonsupplementalradialreturnstressupdatemd uniaxi viscoplast class comput plastic strain state materi properti constitut equat scalar plastic strain rate use model beginequ dotp phi sigma_ r alpha sinh beta sigma_ r sigma_i endequ class base implicit integr algorithm citedunneintroduct pg exampl input file syntax list modulestensor_mechanicstesttestsrecompute_radial_returnuniaxial_viscoplasticity_incrementalstraini blockmaterialsviscoplast hyperbolicviscoplasticitystressupd must run conjunct inelast strain return map stress calcul shown list modulestensor_mechanicstesttestsrecompute_radial_returnuniaxial_viscoplasticity_incrementalstraini blockmaterialsradial_return_stress syntax paramet materialshyperbolicviscoplasticitystressupd syntax input materialshyperbolicviscoplasticitystressupd syntax children materialshyperbolicviscoplasticitystressupd bibtex bibliographi isotrop power law harden stress updat syntax descript materialsisotropicpowerlawhardeningstressupd descript includ modulestensor_mechanicscommonsupplementalradialreturnstressupdatemd class model power law harden use relat beginequ sigma sigma_i k epsilonn endequ sigma_i yield stress class solv yield stress intersect power law relat curv hook law beginequ epsilon_i fracsigma_y left fracsigma_yk rightn endequ epsilon_i total strain yield point stress sigma_i von mise stress paramet parent class isotropicplasticitystressupdateisotropicplasticitystressupdatemd suppress enabl class solv yield stress beginequ sigma_i left fracenk rightn endequ exampl input file syntax list modulescombinedtesttestspower_law_hardeningpowerlawhardeningi blockmaterialspower_law_harden isotropicpowerlawhardeningstressupd must run conjunct inelast strain return map stress calcul shown list modulescombinedtesttestspower_law_hardeningpowerlawhardeningi blockmaterialsradial_return_stress syntax paramet materialsisotropicpowerlawhardeningstressupd syntax input materialsisotropicpowerlawhardeningstressupd syntax children materialsisotropicpowerlawhardeningstressupd power law creep stress updat syntax descript materialspowerlawcreepstressupd descript includ modulestensor_mechanicscommonsupplementalradialreturnstressupdatemd increment inelast strain comput creep rate class beginequ labeleqpower_law_creep dotepsilon left sigmatrial_effect g delta p rightn exp left fracqrt right leftt t_o rightm endequ sigmatrial_effect scalar von mise trial stress g isotrop shear modulu q activ energi r univers ga constant temperatur t_o current initi time respect n expon valu class calcul effect trial stress effect creep strain rate increment deriv creep strain rate effect scalar inelast strain increment valu pass radialreturnstressupdateradialreturnstressupdatemd comput radial return stress increment isotrop plastic class also comput plastic strain state materi properti class base implicit integr algorithm citedunneintroduct pg exampl input file list modulestensor_mechanicstesttestsmaterial_limit_time_stepcreepnafems_testa_limi blockmaterialspowerlawcrp powerlawcreepstressupd must run conjunct inelast strain return map stress calcul shown list modulestensor_mechanicstesttestsmaterial_limit_time_stepcreepnafems_testa_limi blockmaterialsradial_return_stress syntax paramet materialspowerlawcreepstressupd syntax input materialspowerlawcreepstressupd syntax children materialspowerlawcreepstressupd bibtex bibliographi adcomputeaxisymmetricrzincrementalstrain syntax descript materialsadcomputeaxisymmetricrzincrementalstrain descript materi adcomputeaxisymmetricrzincrementalstrain calcul small increment strain axisymmetr system includ modulestensor_mechanicscommonsupplementaladaxisymmetricrzstrainmd deform gradient calcul specif geometri deform gradient pass strain rotat method use default cartesian simul describ increment finit strain classadcomputeincrementalsmallstrainmd page syntax paramet materialsadcomputeaxisymmetricrzincrementalstrain syntax input materialsadcomputeaxisymmetricrzincrementalstrain syntax children materialsadcomputeaxisymmetricrzincrementalstrain comput eigenstrain syntax descript materialscomputeeigenstrain descript class computeeigenstrain allow user specifi constant valu eigenstrain simul eigenstrain ad mechan strain elast inelast comput correspond stress measur beginequ epsilon_ijtot epsilon_ijmechan epsilon_ijeigenstrain endequ eigenstrain term given strain result directli appli forc chapter citequfundament describ relationship total elast eigen strain provid exampl use thermal expans disloc eigenstrain also refer residu strain stressfre strain intrins strain translat german eigenhttpdicttuchemnitzdedeutschenglischeigenhtml mean intrins english term eigenstrain introduc citemuragener base number valu constant provid argument eigen_bas paramet computeeigenstrain build isotrop symmetr skewsymmetr rank eigenstrain tensor exampl input file syntax list modulestensor_mechanicstesttestsviscogen_kv_drivingi blockmaterialseigen syntax paramet materialscomputeeigenstrain syntax input materialscomputeeigenstrain syntax children materialscomputeeigenstrain bibtex bibliographi comput thermal expans eigenstrain beam syntax descript materialscomputethermalexpansioneigenstrainbeam descript computebeamthemalexpansioneigenstrain calcul thermal strain due chang temperatur stressfre temperatur use constant thermal expans coeffici thermal strain appli along axial direct beam exampl input file syntax list modulestensor_mechanicstesttestsbeameigenstrainthermal_expansion_sm blockmaterialstherm syntax paramet materialscomputethermalexpansioneigenstrainbeam syntax input materialscomputethermalexpansioneigenstrainbeam syntax children materialscomputethermalexpansioneigenstrainbeam adcomputemeanthermalexpansionfunctioneigenstrain syntax descript materialsadcomputemeanthermalexpansionfunctioneigenstrain descript model comput eigenstrain tensor result isotrop thermal expans temperaturedepend thermal expans defin usersuppli function describ mean thermal expans coeffici baralpha function temperatur function defin rel refer temperatur t_ref total expans given temperatur rel referer temperatur baralphatt_ref follow notat citeniffeneggerprop baralpha_t_reft defin beginequ baralpha_t_reft fracl_t l_t_refl_t_reftt_ref endequ l_t length bodi current temperatur l_t_ref length bodi refer temperatur import emphas refer temperatur tie definit thermal expans function differ gener stressfre temperatur specif simul gener case stressfre temperatur t_sf differ refer temperatur total thermal expans eigenstrain comput beginequ boldsymbolepsilonth fracbaralpha_t_refttt_ref baralpha_t_reft_sft_sft_ref baralpha_t_reft_sft_sft_ref cdot boldsymboli endequ current temperatur boldsymboli ident matrix note denomin equat correct account ratio l_t_sf l_t_ref discuss citeniffeneggerprop ratio close strictli necessari includ correct done complet alert warn function abl handl dual number time automat differenti inform retain via baralpha function exampl input file syntax list modulestensor_mechanicstesttestsad_thermal_expansion_functionfinite_consti blockmaterialsthermal_expansion_strain eigenstrain_nam paramet valu must also set strain calcul exampl paramet set shown list modulestensor_mechanicstesttestsad_thermal_expansion_functionfinite_consti blockmodulestensormechanicsmast syntax paramet materialsadcomputemeanthermalexpansionfunctioneigenstrain syntax input materialsadcomputemeanthermalexpansionfunctioneigenstrain syntax children materialsadcomputemeanthermalexpansionfunctioneigenstrain bibtex bibliographi comput multipl inelast stress syntax descript materialscomputemultipleinelasticstress descript computemultipleinelasticstress comput stress consist tangent oper approxim decomposit strain elast inelast compon seri differ inelast materi model eg creep plastic inherit stressupdatebas default finit strain assum elast strain calcul subtract comput inelast strain increment tensor mechan strain increment tensor beginequ labelcmis_elastic_strain_definit delta boldsymbolepsilonel delta boldsymbolepsilonmech delta boldsymbolepsiloninel endequ mechan strain epsilonmech consid sum elast inelast eg plastic creep strain alert note titledefault finit strain formul class use finit increment strain formul default user may elect use small increment strain formul set perform_finite_strain_rot fals simul ever use small strain class intend use total small linear strain formul alertend computemultipleinelasticstress design use conjunct separ model set model comput inelast strain given stress state inelast model must deriv stressupdatebas class tensor mechan modul contain wide varieti model includ linearviscoelasticstressupdatelinearviscoelasticstressupdatemd multiparameterplasticitystressupd radialreturnstressupdateradialreturnstressupdatemd alert note titlecompat inelast stressupd materi model inelast materi model compat computemultipleinelasicstress follow nomenclatur convent stressupd suffix class name computemultipleinelasticstress accomod zero inelast model case algorithm computefinitestrainelasticstresscomputefinitestrainelasticstressmd appli mani inelast materi model requir physic one inelast materi model suppli computemultipleinelasticstress recommend inelast model inherit base class multipl inelast model media tensor_mechanicsflowchart_computemultipleinelasticstresspng idfigmultiple_materi stylewidthmarginleftfloatright captionth computemultipleinelasticstress algorithm calcul strain stress multipl inelast materi model algorithm use comput stress multipl inelast model shown figmultiple_materi multipl inelast model given computemultipleinelasticstress iter specifi inelast model chang stress within userspecifi toler inner iter inelast model inner iter multipl inelast materi model shown green compon figmultiple_materi inelast model evalu trial stress comput use current elast strain total mechan strain minu current summat inelast strain inelast model trial stress express beginequ labeleqntrial_stress sigmatr_i begincas c_ijkl cdot left epsilonel_old delta epsilonel_i right textif c_ijkl isotrop sigma_old c_ijkl cdot left delta epsilonel_i right textif c_ijkl anisotrop endcas endequ c_ijkl elast tensor materi ith inelast materi model repres blue element figmultiple_materi call inelast materi model calcul inelast strain increment necessari produc admiss stress function trial stress total inelast strain increment updat model contribut detail calcul vari model includ effect plastic creep elast inelast strain increment stress option consist tangent oper return computemultipleinelasticstress ith inelast materi model outer iter stress differ inelast model call comput updat stress tensor minimum maximum valu compon stress tensor cours iter store two tensor denot boldsymbolsigma_max boldsymbolsigma_min respect l norm differ two tensor comput beginequ labeleqnl_norm_stress l leftdelta boldsymbolsigma right sqrtdelta sigma_ij delta sigma_ij text delta boldsymbolsigma boldsymbolsigma_max boldsymbolsigma_min endequ l norm stress differ compar absolut rel toler determin solut combin inelast materi model converg beginequ labeleqnl_norm_converg l leftdelta boldsymbolsigma right textabsolut toler fracl leftdelta boldsymbolsigma rightl leftdelta boldsymbolsigma_o right textrel toler endequ l leftdelta sigma_o right l norm first outer iter inelast materi model solut converg outer iter loop shown top half figmultiple_materi exce maximum number iter set user final strain jacobian multipli converg stress obtain calcul inelast strain final appli weight factor shown figmultiple_materi weight factor default valu uniti jacobian multipli consist tangent oper jacobian multipli use stressdivergencetensorsstressdivergencetensorsmd kernel condit jacobian calcul must calcul combin differ inelast materi model three option use calcul combin jacobian multipli elast partial nonlinear set individu elast materi model beginequ labeleqncombined_jacobian_mult boldsymbolj_m begincas boldsymbolc textelast option boldsymbola cdot boldsymbolc text boldsymbola boldsymboli sum_i boldsymbolhcto_i textparti option prod_i boldsymbolhcto_i cdot boldsymbolc textnonlinear option endcas endequ boldsymbolj_m jacobian multipli boldsymbolc elast tensor boldsymboli rank ident tensor boldsymbolhcto consist tangent oper consist tangent oper defin eqnelastic_cto provid inform stress chang respect chang displac variabl beginequ labeleqnelastic_cto delta sigma_ij h_ijkl delta epsilon_kl endequ delta epsilon_kl arbitrari chang total strain occur displac chang delta sigma_ij result chang stress pure elast situat h_ijkl c_ijkl elast tensor inelast map chang stress result chang displac variabl complic plastic materi model propos valu displac current time step use calcul trial inadmiss stress sigma_tri eqntrial_stress brought back yield surfac radial return algorithm slight chang propos displac variabl produc slightli differ trial stress inelast materi model follow similar pattern user chose forc inelast materi model use elast tensor consist tangent oper set tangent_oper elast set reduc comput load inelast materi model may hamper converg simul default inelast materi model allow comput consist tangent oper implement individu inelast model tangent_oper nonlinear option materi time step size limit prior calcul final strain valu algorithm check size current time step limit size time step option defin inelast materi model describ materi time step limit section time step size involv post processor ensur current time step size reason inelast materi model use simul end algorithm final valu elast inelast strain tensor calcul shown last element figmultiple_materi singl inelast model computemultipleinelasticstress also use calcul inelast strain stress singl inelast materi model provid media tensor_mechanicsflowchart_computemultipleinelasticstresssinglemodelpng idfigsingle_materi stylewidthmarginrightfloatleft captionth optim algorithm calcul strain stress case singl inelast materi model specifi algorithm shown figsingle_materi use singl inelast materi model optim version multipl materi algorithm need iter multipl inelast model inner outer iter figmultiple_materi remov algorithm figsingle_materi initi elast strain increment guess assum initi mechan strain increment trial stress singl inelast model calcul elast strain increment eqntrial_stress stress strain valu pass directli inelast materi model materi model comput admiss stress strain state indic blue element figsingle_materi option consist tangent oper matrix also return inelast materi model multipl inelast model algorithm user may forc use elast option set tangent_oper elast default inelast materi model allow comput consist tangent oper implement individu inelast model tangent_oper nonlinear option consist tangent oper use find jacobian multipli beginequ labeleqnsingle_model_jacobian_mult boldsymbolj_m begincas boldsymbolc textelast option leftboldsymboli boldsymbolhctoright cdot boldsymbolc textparti option boldsymbolhcto textnonlinear option endcas endequ boldsymbolj_m jacobian multipli boldsymbolc elast tensor boldsymboli rank ident tensor boldsymbolhcto consist tangent oper discuss multipl inelast materi model section maximum size allow time step option calcul inelast materi model describ section materi time step limit conclus algorithm valu elast inelast strain state updat shown figsingle_materi cycl one inelast model per time step computemultipleinelasticstress also includ option run seri inelast model rotat fashion singl inelast model run timestep option use algorithm figsingle_materi determin strain stress valu base rotat singl inelast model separ method employ propag strain stress valu inelast materi model storag old materi properti valu calcul perform stressupd materi computemultipleinelasticstress materi reli two helper calcul aid simul converg helper comput defin within specif inelast model brief overview given method repres within blue inelast materi model box figmultiple_materi figsingle_materi specif detail implement see document page individu inelast stressupd materi first helper comput consist tangent oper option featur implement certain inelast stress materi model materi time step limit implement model use radial return stress updateradialreturnstressupdatemd algorithm consist tangent oper consist tangent oper use improv converg mechan problem see refer citesimocto introduct consist tangent oper jacobian matrix eqncombined_jacobian_mult eqnsingle_model_jacobian_mult use captur chang residu calcul chang respect chang displac variabl calcul jacobian moos reli know stress chang respect chang displac variabl chang stress respect chang displac materi specif valu consist tangent oper comput inelast materi model default consist tangent oper set equal elast tensor option elast eqncombined_jacobian_mult eqnsingle_model_jacobian_mult inelast materi model use either partial nonlinear option eqncombined_jacobian_mult eqnsingle_model_jacobian_mult defin materi specif consist tangent oper gener partial consist tangent oper implement nonyield materi eg volumetr swell full consist tangent oper implement yield materi model eg plastic includ damag model option effect damag stress calcul includ model anoth materi defin evolut damag coupl use paramet damage_model first inelast strain correspond effect stress calcul base undamag properti afterward damag index appli effect stress calcul damag stress captur effect damag materi undergo creep plastic deform materi time step limit case particularli creep limit time step requir materi model formul inelast materi model respons calcul maximum time step allow materi model materialtimesteppostprocessormaterialtimesteppostprocessormd find minimum time step size limit entir simul domain postprocessor interfac iterationadaptivedtiterationadaptivedtmd restrict time step size base limit calcul previou time step damag model includ timestep limit minimum timestep inelast model damag model exampl input file input set multipl inelast materi model singl inelast model similar exampl shown multipl inelast model multipl inelast model inelast materi model name must list argument inelastic_model paramet inelast materi block must also present list modulestensor_mechanicstesttestscombined_creep_plasticitycombined_creep_plasticityi blockmateri singl inelast model singl inelast materi model input syntax simpli condens list modulestensor_mechanicstesttestsmaterial_limit_time_stepelas_plasnafems_nl_limi blockmaterialsstress singl inelast materi model includ input exampl includ max_inelastic_incr paramet use limit time step size list modulestensor_mechanicstesttestsmaterial_limit_time_stepelas_plasnafems_nl_limi blockmaterialsisopla syntax paramet materialscomputemultipleinelasticstress syntax input materialscomputemultipleinelasticstress syntax children materialscomputemultipleinelasticstress bibtex bibliographi comput finit beam strain syntax descript materialscomputefinitebeamstrain descript class comput rotat matrix relat global coordin system current beam local coordin system larg rotat scenario beam element use rotat matrix smalllarg strain increment current local configur beam also comput class pleas refer c timoshenko beamctimoshenkobeammd detail syntax paramet materialscomputefinitebeamstrain syntax input materialscomputefinitebeamstrain syntax children materialscomputefinitebeamstrain radial return stress updat base class calcul effect inelast strain increment requir return isotrop stress state j yield surfac class intend parent class class specif constitut model algorithm refer radial return map method introduc simo taylor use von mise yield surfac determin increment plastic strain necessari return stress state yield surfac trial stress increment take comput stress state across yield surfac von mise yield surfac deviator stress space shape circl _plastic correct stress_ alway direct toward center yield surfac circl addit citesimocomput textbook citedunneintroduct excel refer user work radialreturnstressupd materi sever isotrop plastic creep effect plastic strain increment algorithm taken citedunneintroduct radial return stress updat descript stress updat materi call moos directli instead materi use computeproperti method radialreturnstressupd materi call materi computemultipleinelasticstresscomputemultipleinelasticstressmd separ call stress updat materi moos allow us iter call stress updat materi requir achiev converg radial return algorithm overview media mediatensor_mechanicsradialreturnstressspacepng stylewidthmarginleftfloatright captiona trial stress shown outsid deviator yield surfac radial return stress normal yield surfac includ modulestensor_mechanicscommonsupplementalradialreturnstressupdatemd case isotrop linear harden plastic harden function r hp effect plastic strain increment form beginequ delta p fracsigmatrial_effect g delta p r sigma_yieldg h endequ g isotrop shear modulu sigmatrial_effect scalar von mise trial stress converg reach scalar inelast strain increment full inelast strain tensor calcul beginequ delta epsiloninelastic_ij frac delta pt fracdevsigmatrial_ijsigmatrial_effect endequ elast strain calcul subtract return map inelast strain increment tensor mechan strain tensor mechan strain consid sum elast inelast plastic creep etc strain beginequ epsilon_tot epsilon_mechan epsilon_eigenstrain left epsilon_elast epsilon_inelast right epsilon_eigenstrain epsilon_elast left epsilon_plast epsilon_creep epsilon_damag right epsilon_eigenstrain endequ final inelast strain return radial return stress updat materi computemultipleinelasticstress comput stress return map stress increment follow elast theori finit strain final stress calcul elast strain increment beginequ sigmanew_ij c_ijkl left delta epsilonelastic_kl epsilonoldelastic_kl right endequ one radial recomput materi includ simul combin power law creep linear strain harden computemultipleinelasticstress iter chang calcul stress return stress reach stabl valu user print strain stress use ranktwoaux describ visual tensorstensor_mechanicsvisualizingtensorsmd page substep capabl regular use radial return map trigger one instanc return yield surfac span entir system wide time step materi time step limit discuss computemultipleinelasticstresscomputemultipleinelasticstressmd effect limit time step size achiev desir converg integr error properti expens global solv discard time step altern materi time step limit substep subdivid current time step substep solv sequenti within computemultipleinelasticstress enabl substep user need input use_substep true note inelast model support substep expect capabl gradual extend model default way calcul number substep compar effect elast strain increment max_inelastic_incr use ratio determin number substep essenc beginequ textnumb substep fracdelta epsilontextelastictextmax_inelastic_incr cdot textsubstep_toler endequ substep_strain_toler max_inelastic_incr user paramet altern criterion select number substep user set flag use_substep_integration_error true use follow formula beginequ textnumb substep fracdelta epsilontextelastictextsubstep_toler endequ latest formula directli base creep numer integr error substep_strain_toler consid maximum creep numer integr error allow substep valu cdot work mani case exampl option look follow use_substep true substep_strain_toler e use_substep_integration_error true write new stress updat materi new radial return model must inherit radialreturnstressupd must overwrit six virtual method initqpstatefulproperti set initi valu new materi properti initi input paramet gener materi properti initi method set zero computestressiniti calcul initi trial stress state yield surfac valu harden soften paramet start simul time increment computeresidu iter inelast strain increment calcul valu effect scalar trial stress subtract yield surfac function computederiv iter inelast strain increment calcul deriv yield surfac function respect inelast strain increment iterationfin store valu inelast strain increment end iter computestressfin updat stress converg inelast strain increment reach addit new radial return method must also overwrit singl method moos materi class resetqpproperti set materi properti use iter usual delta p zero start iter method necessari avoid incorrect materi properti valu detail write equival yield surfac equat creep model given dunn petrin syntax children materialsradialreturnstressupd bibtex bibliographi templat load filestubsmoose_objectmdtempl namecappedmohrcoulombcosseratstressupd syntaxmaterialscappedmohrcoulombcosseratstressupd adcomputeaxisymmetricrzfinitestrain syntax descript materialsadcomputeaxisymmetricrzfinitestrain descript materi adcomputeaxisymmetricrzfinitestrain calcul finit strain axisymmetr system includ modulestensor_mechanicscommonsupplementaladaxisymmetricrzstrainmd deform gradient calcul specif geometri deform gradient pass strain rotat method use default cartesian simul describ finit strain classadcomputefinitestrainmd page exampl input file syntax paramet materialsadcomputeaxisymmetricrzfinitestrain syntax input materialsadcomputeaxisymmetricrzfinitestrain syntax children materialsadcomputeaxisymmetricrzfinitestrain bibtex bibliographi computeglobalstrain syntax descript materialscomputeglobalstrain descript materi extract valu scalar variabl solv globalstrainscalarkernelsglobalstrain store strain tensor global strain calcul ad total strain alert warn object use use_displaced_mesh true oper displac mesh includ global strain contribut exampl input file syntax list modulestensor_mechanicstesttestsglobal_strainglobal_straini blockmaterialsglobal_strain syntax paramet materialscomputeglobalstrain syntax input materialscomputeglobalstrain syntax children materialscomputeglobalstrain comput finit strain elast stress syntax descript materialscomputefinitestrainelasticstress descript materi computefinitestrainelasticstress comput elast stress increment formul increment small computeincrementalsmallstraincomputeincrementalsmallstrainmd type increment finit computefinitestraincomputefinitestrainmd type strain formul stress class compat cartesian noncartesian strain calcul includ axisymmetriccomputeaxisymmetricrzfinitestrainmd rsphericalcomputersphericalfinitestrainmd elast materi experi perman deform elast strain elast stress recover elast stress relat elast strain elast tensor beginequ labeleqincremental_stress_calcul sigma_ij c_ijkl delta epsilon_kl endequ delta boldsymbolepsilon strain increment strain measur also sum mechan elast strain eigenstrain system exampl input file syntax list modulestensor_mechanicstesttestsfinite_strain_elasticfinite_strain_elastic_new_testi blockmaterialsstress syntax paramet materialscomputefinitestrainelasticstress syntax input materialscomputefinitestrainelasticstress syntax children materialscomputefinitestrainelasticstress adcomputethermalexpansioneigenstrain syntax descript materialsadcomputethermalexpansioneigenstrain descript model comput eigenstrain tensor result isotrop thermal expans constant thermal expans defin usersuppli scalar linear thermalexpans coeffici alpha thermal expans eigenstrain comput beginequ boldsymbolepsilontherm alpha cdot left t_stress_fre right boldsymboli endequ current temperatur t_stress_fre stress free temperatur boldsymboli ident matrix jacobian contribut comput use forward mode automat differenti exampl input file syntax list modulestensor_mechanicstestteststhermal_expansionad_constant_expansion_stress_free_tempi blockmaterialsthermal_expansion_strain eigenstrain_nam paramet valu must also set strain calcul exampl paramet set shown list modulestensor_mechanicstestteststhermal_expansionad_constant_expansion_stress_free_tempi blockmodulestensormechanicsmast syntax paramet materialsadcomputethermalexpansioneigenstrain syntax input materialsadcomputethermalexpansioneigenstrain syntax children materialsadcomputethermalexpansioneigenstrain adcomputegreenlagrangestrain syntax descript materialsadcomputegreenlagrangestrain greenlagrang strain e nonlinear total strain efrac leftftfright f deform gradient tensor combin adcomputelinearelasticstress comput second piolakirchhoff stress use adstressdiverg kernel undisplac mesh combin call st venantkirchhoff hyper elast model syntax paramet materialsadcomputegreenlagrangestrain syntax input materialsadcomputegreenlagrangestrain syntax children materialsadcomputegreenlagrangestrain bibtex bibliographi gener kelvinvoigt model syntax descript materialsgeneralizedkelvinvoigtmodel descript generalizedkelvinvoigtmodel materi repres gener kelvinvoigt model materi compos n kelvinvoigt unit assembl seri materi obey follow constitut equat beginequ sigma_ij c_ijkl left epsilonmech_kl sumlimits_nn alphan_kl right endequ alphan intern strain associ kelvinvoigt unit obey follow timedepend differenti equat beginequ foral n n sigma_ij cn_ijkl left alphan etan dotalphan right endequ cn stiff nth spring chain fourthord tensor ident symmetri dimens standard elast tensor etan viscos associ dashpot scalar dimens time intern timestep scheme constitut equat solv use semiimplicit singlestep firstord finit differ scheme intern strain time step tdelta comput valu previou time step beginequ alphantdelta alphant delta left thetan dotalphan tdelta left thetan right dotalphan right endequ theta scalar fulli explicit fulli implicit control timestep scheme default valu valu theta determin integration_rul input paramet take one form shown theta_formulations_gkvm tabl idtheta_formulations_gkvm captionintegr rule timestep scheme integr rule valu theta uncondit converg backwardeul ye midpoint ye newmark userdefin theta geq zienkiewicz frac edelta etan etan delta ye alert warn titleconverg scheme valid theta valu forbidden use formal stressstrain constitut equat depend alphant delta unknown rewritten depend alphant dotalph known effici reason alphant dotalph store separ singl variabl alphant delta thetan dotalph alert note titleupd scheme linear viscoelast manag materi timestep scheme properli updat linearviscoelasticitymanagerlinearviscoelasticitymanagermd object must includ input file link materi stressstrain comput materi compat either total small strain approxim either increment strain approxim increment small strain finit strain model requir stress calcul list stress_calculators_gkvm tabl idstress_calculators_gkvm captionconsist strain stress calcul strain stress addit materi computesmallstraincomputesmallstrainmd computelinearviscoelasticstresscomputelinearviscoelasticstressmd none computeincrementalsmallstraincomputeincrementalsmallstrainmd computemultipleinelasticstresscomputemultipleinelasticstressmd linearviscoelasticstressupdatelinearviscoelasticstressupdatemd computefinitestraincomputefinitestrainmd computemultipleinelasticstresscomputemultipleinelasticstressmd linearviscoelasticstressupdatelinearviscoelasticstressupdatemd stress calcul use actual elast tensor materi c_ijkl provid materi drive eigenstrain option user defin drive eigenstrain stress induc eigenstrain ad creep calcul essenti replac differenti relat materi modul beginequ foral n n sigma_ij c_ijkl epsilondriving_kl cn_ijkl left alphan etan dotalphan right endequ exampl input file syntax list modulestensor_mechanicstesttestsviscovisco_finite_straini blockmaterialskelvin_voigt requir strain calcul list modulestensor_mechanicstesttestsviscovisco_finite_straini blockmaterialsstrain requir stress calcul list modulestensor_mechanicstesttestsviscovisco_finite_straini blockmaterialsstress addit materi defin viscoelast behavior list modulestensor_mechanicstesttestsviscovisco_finite_straini blockmaterialscreep requir linear viscoelast manag user object list modulestensor_mechanicstesttestsviscovisco_finite_straini blockuserobject syntax paramet materialsgeneralizedkelvinvoigtmodel syntax input materialsgeneralizedkelvinvoigtmodel syntax children materialsgeneralizedkelvinvoigtmodel adcomputeinstantaneousthermalexpansionfunctioneigenstrain syntax descript materialsadcomputeinstantaneousthermalexpansionfunctioneigenstrain descript model comput eigenstrain tensor result isotrop thermal expans temperaturedepend thermal expans defin usersuppli function describ instantan thermal expans coeffici alpha function temperatur use trapezoid rule perform time integr function current valu thermal eigenstrain tensor boldsymbolepsilonth_t comput given time beginequ boldsymbolepsilonth_t boldsymbolepsilonth_t fracalpha_t_t alpha_t_t t_tt_t boldsymboli endequ denot quantiti new step denot quantiti previou step temperatur alpha_t instantan thermal expans given temperatur boldsymboli ident matrix first step stressfre temperatur use previou step temperatur alert warn function abl handl dual number time automat differenti inform retain via alpha_t function exampl input file syntax list modulestensor_mechanicstesttestsad_thermal_expansion_functionfinite_consti blockmaterialsthermal_expansion_strain eigenstrain_nam paramet valu must also set strain calcul exampl paramet set shown list modulestensor_mechanicstesttestsad_thermal_expansion_functionfinite_consti blockmodulestensormechanicsmast syntax paramet materialsadcomputeinstantaneousthermalexpansionfunctioneigenstrain syntax input materialsadcomputeinstantaneousthermalexpansionfunctioneigenstrain syntax children materialsadcomputeinstantaneousthermalexpansionfunctioneigenstrain adrank two cylindr compon syntax descript materialsadranktwocylindricalcompon descript admateri model use extract compon rank tensor cylindr coordin system use regardless coordin system use model admateri model set tensormechanicsmastermodulestensormechanicsmasterindexmd automat stress compon request generate_output paramet also set directli user class provid abil comput hoop radial axial stress boldsymbolsigma strain boldsymbolepsilonquant rank tensor describ ranktwoscalartoolsranktwoscalartoolsmd compon rank tensor extract store scalar materi properti allow accur repres calcul use quantiti quadratur point would possibl use relat ranktwoscalarauxranktwoscalarauxmd syntax paramet materialsadranktwocylindricalcompon syntax input materialsadranktwocylindricalcompon syntax children materialsadranktwocylindricalcompon computedeformgradbasedstress syntax descript materialscomputedeformgradbasedstress descript class take deform gradient elast tensor input comput lagrangian strain use deforamt gradient lagrangian strain elast tensor deform gradient use comput stress syntax paramet materialscomputedeformgradbasedstress syntax input materialscomputedeformgradbasedstress syntax children materialscomputedeformgradbasedstress bibtex bibliographi adcomputemultipleinelasticstress syntax descript materialsadcomputemultipleinelasticstress descript adcomputemultipleinelasticstress comput stress decomposit strain elast inelast compon seri differ inelast materi model eg creep plastic inherit adstressupdatebas materi suppli materi properti deriv requir form exact jacobian default finit strain assum elast strain calcul subtract comput inelast strain increment tensor mechan strain increment tensor beginequ labelcmis_elastic_strain_definit delta boldsymbolepsilonel delta boldsymbolepsilonmech delta boldsymbolepsiloninel endequ mechan strain epsilonmech consid sum elast inelast eg plastic creep strain alert note titledefault finit strain formul class use finit increment strain formul default user may elect use small increment strain formul set perform_finite_strain_rot fals simul ever use small strain class intend use total small linear strain formul adcomputemultipleinelasticstress design use conjunct separ model set model comput inelast strain given stress state inelast model must deriv adstressupdatebas class alert note titlecompat inelast adstressupd materi model inelast materi model compat adcomputemultipleinelasicstress follow nomenclatur convent stressupd suffix class name adcomputemultipleinelasticstress accomod zero inelast model case algorithm adcomputefinitestrainelasticstressadcomputefinitestrainelasticstressmd appli mani inelast materi model requir physic one inelast materi model suppli adcomputemultipleinelasticstress recommend inelast model inherit base class multipl inelast model media tensor_mechanicsflowchart_computemultipleinelasticstresspng idfigmultiple_materi stylewidthmarginleftfloatright captionth adcomputemultipleinelasticstress algorithm calcul strain stress multipl inelast materi model note comput consist tangent oper perform version class exact jacobian guarante automat different algorithm use comput stress multipl inelast model shown figmultiple_materi multipl inelast model given adcomputemultipleinelasticstress iter specifi inelast model chang stress within userspecifi toler inner iter inelast model inner iter multipl inelast materi model shown green compon figmultiple_materi inelast model evalu trial stress comput use current elast strain total mechan strain minu current summat inelast strain inelast model trial stress express beginequ labeleqntrial_stress sigmatr_i begincas c_ijkl cdot left epsilonel_old delta epsilonel_i right textif c_ijkl isotrop sigma_old c_ijkl cdot left delta epsilonel_i right textif c_ijkl anisotrop endcas endequ c_ijkl elast tensor materi ith inelast materi model repres blue element figmultiple_materi call inelast materi model calcul inelast strain increment necessari produc admiss stress function trial stress total inelast strain increment updat model contribut detail calcul vari model includ effect plastic creep elast inelast strain increment stress return adcomputemultipleinelasticstress ith inelast materi model outer iter stress differ inelast model call comput updat stress tensor minimum maximum valu compon stress tensor cours iter store two tensor denot boldsymbolsigma_max boldsymbolsigma_min respect l norm differ two tensor comput beginequ labeleqnl_norm_stress l leftdelta boldsymbolsigma right sqrtdelta sigma_ij delta sigma_ij text delta boldsymbolsigma boldsymbolsigma_max boldsymbolsigma_min endequ l norm stress differ compar absolut rel toler determin solut combin inelast materi model converg beginequ labeleqnl_norm_converg l leftdelta boldsymbolsigma right textabsolut toler fracl leftdelta boldsymbolsigma rightl leftdelta boldsymbolsigma_o right textrel toler endequ l leftdelta sigma_o right l norm first outer iter inelast materi model solut converg outer iter loop shown top half figmultiple_materi exce maximum number iter set user converg stress obtain calcul inelast strain final appli weight factor shown figmultiple_materi weight factor default valu uniti materi time step size limit prior calcul final strain valu algorithm check size current time step limit size time step option defin inelast materi model describ materi time step limit section time step size involv post processor ensur current time step size reason inelast materi model use simul end alogrithm final valu elast inelast strain tensor calcul shown last element figmultiple_materi singl inelast model adcomputemultipleinelasticstress also use calcul inelast strain stress singl inelast materi model provid media tensor_mechanicsflowchart_computemultipleinelasticstresssinglemodelpng idfigsingle_materi stylewidthmarginrightfloatleft captionth optim algorithm calcul strain stress case singl inelast materi model specifi algorithm shown figsingle_materi use singl inelast materi model optim version multipl materi algorithm need iter multipl inelast model inner outer iter figmultiple_materi remov algorithm figsingle_materi initi elast strain increment guess assum initi mechan strian increment trial stress singl inelast model calcul elast strain increment eqntrial_stress stress strain valu pass directli inelast materi model materi model comput admiss stress strain state indic blue element figsingle_materi maximum size allow time step option calcul inelast materi model describ section materi time step limit conclus algorithm valu elast inelast strain state updat shown figsingle_materi cycl one inelast model per time step adcomputemultipleinelasticstress also includ option run seri inelast model rotat fashion singl inelast model run timestep option use algorithm figsingle_materi determin strain stress valu base rotat singl inelast model separ method employ propag strain stress valu inelast materi model storag old materi properti valu calcul perform stressupd materi adcomputemultipleinelasticstress materi reli two helper calcul aid simul converg helper comput defin within specif inelast model brief overview given method repres within blue inelast materi model box figmultiple_materi figsingle_materi specif detail implement see document page individu inelast stressupd materi materi time step limit case particularli creep limit time step requir materi model formul inelast materi model respons calcul maximum time step allow materi model materialtimesteppostprocessormaterialtimesteppostprocessormd find minumum time step size limit entir simul domain postprocessor interfac iterationadaptivedtiterationadaptivedtmd restrict time step size base limit calcul previou time step exampl input file input set multipl inelast materi model singl inelast model similiar exampl shown multipl inelast model multipl inelast model inelast materi model name must list arguement inelastic_model paramet inelast materi block must also present list modulestensor_mechanicstesttestscombined_creep_plasticitycombined_creep_plasticityi blockmateri singl inelast model singl inelast materi model input syntax simpli condens list modulestensor_mechanicstesttestsmaterial_limit_time_stepelas_plasnafems_nl_limi blockmaterialsstress singl inelast materi model includ input exampl includ max_inelastic_incr paramet use limit time step size list modulestensor_mechanicstesttestsmaterial_limit_time_stepelas_plasnafems_nl_limi blockmaterialsisopla syntax paramet materialsadcomputemultipleinelasticstress syntax input materialsadcomputemultipleinelasticstress syntax children materialsadcomputemultipleinelasticstress bibtex bibliographi computeeigenstrainfrominitialstress syntax descript materialscomputeeigenstrainfrominitialstress descript comput eigenstrain epsilon defin sigma_mathrminitialeepsilon e elast tensor sigma_mathrminiti initi stress enter user initi stress enter vector function may option multipli vector auxvari allow user enter insitu stress rockmechan problem instanc specifi zz compon function depth ground xx xy yx yy compon initi stress relat maximum minimum princip horizont tecton stress gener anisotrop initi stress allow use auxvari set initi stress may advantag read solut file use solutionauxsolutionauxmd eigenstrain thu comput ad mechan strain first time step unchang subsequ timestep eigenstrain thu comput given name specifi user name must includ eigenstrain_nam input paramet strain calcul eg computesmallstrain otherwis moos add eigenstrain mechan strain alert warn titletimedepend elast tensor eigenstrain comput first time step use elast tensor henc elast tensor timevari first timestep exampl input file syntax list modulestensor_mechanicstesttestsinitial_stressgravityi blockmateri exampl eigenstrain given name ini_stress name pass computesmallstrain strain calcul use eigenstrain_nam paramet initi stress defin function defin list modulestensor_mechanicstesttestsinitial_stressgravityi blockfunct syntax paramet materialscomputeeigenstrainfrominitialstress syntax input materialscomputeeigenstrainfrominitialstress syntax children materialscomputeeigenstrainfrominitialstress templat load filestubsmoose_objectmdtempl nameinclusionproperti syntaxmaterialsinclusionpropertiestempl load filestubsmoose_objectmdtempl namestressbasedchemicalpotenti syntaxmaterialsstressbasedchemicalpotenti isotrop plastic stress updat syntax descript materialsisotropicplasticitystressupd descript includ modulestensor_mechanicscommonsupplementalradialreturnstressupdatemd isotrop linear harden plastic harden function r hp effect plastic strain increment form beginequ delta p fracsigmatrial_effect g delta p r sigma_yieldg h endequ g isotrop shear modulu sigmatrial_effect scalar von mise trial stress class calcul effect trial stress effect scalar plastic strain increment deriv scalar effect plastic strain increment valu pass radialreturnstressupdateradialreturnstressupdatemd comput radial return stress increment isotrop plastic class also comput plastic strain state materi properti class base implicit integr algorithm citedunneintroduct pg adisotropicplasticitystressupd version class use forward mode automat differenti provid necessari materi properti deriv assembl perfect jacobian replac approxim tangent oper exampl input file syntax list modulestensor_mechanicstesttestsrecompute_radial_returnisotropic_plasticity_finite_straini blockmaterialsisotropic_plast isotropicplasticitystressupd must run conjunct inelast strain return map stress calcul shown list modulestensor_mechanicstesttestsrecompute_radial_returnisotropic_plasticity_finite_straini blockmaterialsradial_return_stress syntax paramet materialsisotropicplasticitystressupd syntax input materialsisotropicplasticitystressupd syntax children materialsisotropicplasticitystressupd bibtex bibliographi ad exponenti soften syntax descript materialsadexponentialsoften descript materi adexponentialsoften comput reduc stress stiff direct crack accord exponenti function comput crack stiff ratio soften tensil respons materi principl stress exce crack stress threshold materi use automat differenti comput jacobian detail refer nonad version exponentialsofteningexponentialsofteningmd exampl input file list modulestensor_mechanicstesttestsad_smeared_crackingcracking_rotationi blockmaterialsexponential_soften adexponentialsoften must run conjunct ad fix smear crack materi model shown list modulestensor_mechanicstesttestsad_smeared_crackingcracking_rotationi blockmaterialscracking_stress syntax paramet materialsadexponentialsoften syntax input materialsadexponentialsoften syntax children materialsadexponentialsoften bibtex bibliographi comput increment small strain syntax descript materialscomputeincrementalsmallstrain descript materi computeincrementalsmallstrain design linear elast problem formul within increment framework computesmallstraincomputesmallstrainmd materi use verifi materi model hand calcul simplifi strain calcul small strain materi increment small strain class assum gradient displac respect posit much smaller uniti squar displac gradient term neglect small strain definit give beginequ epsilon frac left u nabla nabla u right quad quad fracparti u partial x endequ class name suggest computeincrementalsmallstrain increment formul stress increment calcul current strain increment time step class rotat tensor defin rank ident tensor rotat allow model state properti includ strain_old stress_old store increment small strain materi use compon verifi complex finit increment strainstress calcul exampl input file syntax increment small strain calcul activ input file use tensormechan master action shown list modulestensor_mechanicstestteststhermal_expansionconstant_expansion_coeffi blockmodulestensormechan alert note titleus tensor mechan master action recommend tensormechan master actionmodulestensormechanicsmasterindexmd design automat determin set strain stress diverg paramet correctli select strain formul recommend user employ tensormechan master actionmodulestensormechanicsmasterindexmd whenev possibl ensur consist test function gradient strain formul select although recommend possibl directli use computeincrementalsmallstrain materi input file list modulestensor_mechanicstestteststhermal_expansionmultiple_thermal_eigenstrainsi blockmaterialssmall_strain syntax paramet materialscomputeincrementalsmallstrain syntax input materialscomputeincrementalsmallstrain syntax children materialscomputeincrementalsmallstrain comput reduc order eigenstrain syntax descript materialscomputereducedordereigenstrain descript sinc strain function deriv displac strain field one order lower displac field element linear strain field constant element quadrat strain field linear case eigenstrain affect strain need order strain thermal strain taken temperatur node vari accord order temperatur strain field use thermal strain one order higher strain field lead oscil overal strain stress class accept eigenstrain comput reduc order eigenstrain primari solut variabl field linear result eigenstrain constant element use volum weight primari solut variabl field quadrat result eigenstrain linear element use least squar procedur alert warn use computereducedordereigenstraincomputereducedordereigenstrainmd object ranktwotensor eigenstrain tensormechanicsactiontensormechanicsmasterindexmd set automatic_eigenstrain_nam true eigenstrain list materialadconvert input tensor includ eigenstrain_nam list pass set automatic_eigenstrain_nam fals popul list manual compon need includ exampl input file syntax list modulestensor_mechanicstesttestseigenstrainreducedorderrzlineari blockmaterialsreduced_order_eigenstrain eigenstrain_nam paramet valu must also set strain calcul exampl paramet set shown list modulestensor_mechanicstesttestseigenstrainreducedorderrzlineari blockmodul syntax paramet materialscomputereducedordereigenstrain syntax input materialscomputereducedordereigenstrain syntax children materialscomputereducedordereigenstrain templat load filestubsmoose_objectmdtempl nametensilestressupd syntaxmaterialstensilestressupd comput plane finit strain syntax descript materialscomputeplanefinitestrain descript materi computeplanefinitestrain calcul finit strain plane strain problem use classic plane strain plane stresshttpsenwikipediaorgwikiplane_stress problem gener plane straintensor_mechanicsgeneralized_plane_strainmd simul plane strain classic plane strain problem assum front back surfac bodi constrain outofplan direct displac direct surfac zero result strain deform gradient compon outofplan direct held constant zero beginequ labeleqnclassical_dop_deform_grad fdop text epsilondop endequ fdop deform gradient tensor diagon compon direct outofplan strain epsilondop correspond strain compon plane stress gener plane strain case plane stress gener plane strain assumpt compon strain deform gradient outofplan direct nonzero solv outofplan strain invok approxim stretch rate tensor beginequ labeleqnstretch_tensor_approx boldsymbold log left sqrthatboldsymbolft cdot hatboldsymbolf right cdot fracdt endequ defin deform gradient compon outofplan direct beginequ labeleqndop_deform_grad fdop exp left epsilonop right endequ fdop deform gradient tensor diagon compon direct outofplan strain epsilonop prescrib outofplan strain valu strain valu given either scalar variabl nonlinear field variabl case plane stress weakplanestressweakplanestressmd kernel use integr outofplan compon stress area element assembl integr residu outofplan strain field variabl result weak enforc condit outofplan stress zero allow reus constitut model model dimension gener plane straintensor_mechanicsgeneralized_plane_strainmd problem use scalar variabl multipl scalar variabl provid one strain calcul need multipl gener plane strain model differ subdomain strain deform gradient formul increment deform gradient planar system defin beginequ labeleqnincremental_deformation_grad hatboldsymbolf boldsymbola barboldsymbolf boldsymboli endequ boldsymboli rank ident tensor boldsymbola deform gradient barboldsymbolf old deform gradient zdirect outofplan strain default default outofplan direct along zaxi direct current old deform gradient tensor use eqnincremental_deformation_grad given beginequ labeleqndeform_grad boldsymbola beginbmatrix u_xx u_xi u_yx u_yy fdop endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix u_xx_old u_xy_old u_yx_old u_yy_old fdop_old endbmatrix boldsymboli endequ fdop defin eqndop_deform_grad note barboldsymbolf use valu strain express previou time step classic present strain tensor plane strain problem compon deform tensor associ zdirect zero zero compon indic coupl inplan displac outofplan strain variabl xdirect outofplan strain user select outofplan direct along xdirect current old deform gradient tensor eqnincremental_deformation_grad formul beginequ labeleqndeform_grads_xdir boldsymbola beginbmatrix fdop u_yy u_zi u_yz u_zz endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix fdop_old u_yy_old u_yz_old u_zy_old u_zz_old endbmatrix boldsymboli endequ offdiagon compon deform tensor associ xdirect zero ydirect outofplan strain user select outofplan direct along ydirect current old deform gradient tensor eqnincremental_deformation_grad formul beginequ labeleqndeform_grads_ydir boldsymbola beginbmatrix u_xx u_zx fdop u_xz u_zz endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix u_xx_old u_xz_old fdop_old u_zx_old u_zz_old endbmatrix boldsymboli endequ offdiagon compon deform tensor associ ydirect zero final deform gradient select user increment deform gradient condit barb formul mitig volumetr lock element volumetr lock correct appli increment deform gradient beginequ labeleqnvlc_fhat hatboldsymbolf_vlc left fracdethatboldsymbolf frachatboldsymbolf_avgv_elem right endequ total deform gradient detail theori behind eqnvlc_fhat see volumetr lock correctiontensor_mechanicsvolumetriclockingmd document increment deform gradient calcul specif geometri deform gradient pass strain rotat method use cartesian simul describ finit strain classcomputefinitestrainmd document exampl input file plane stress tensor mechan master actionmodulestensormechanicsmasterindexmd use creat computeplanefinitestrain class set planar_formul weak_plane_stress strain finit master action block list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_finitei blockmodulestensormechanicsmast note plane stress analysi out_of_plane_strain paramet must defin name outofplan strain field variabl list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_finitei blockvariablesstrain_zz case exampl out_of_plane_strain defin globalparam block gener plane strain use plane strain class gener plane straintensor_mechanicsgeneralized_plane_strainmd simul use scalar outofplan strain tensor mechan master actionmodulestensormechanicsmasterindexmd use creat computeplanefinitestrain class planar_formul generalized_plane_strain strain finit set list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_finitei blockmodulestensormechanicsmasteral note argument scalar_out_of_plane_strain paramet name scalar strain variabl list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_finitei blockvariablesscalar_strain_zz syntax paramet materialscomputeplanefinitestrain syntax input materialscomputeplanefinitestrain syntax children materialscomputeplanefinitestrain bibtex bibliographi templat load filestubsmoose_objectmdtempl namecappedweakplanecosseratstressupd syntaxmaterialscappedweakplanecosseratstressupd adcomputeaxisymmetricrzsmallstrain syntax descript materialsadcomputeaxisymmetricrzsmallstrain descript materi adcomputeaxisymmetricrzsmallstrain calcul small total strain axisymmetr system includ modulestensor_mechanicscommonsupplementaladaxisymmetricrzstrainmd minim chang requir adapt plane strain problem axisymmetr problem axisymmetr specif adcomputeaxisymmetricrzsmallstrain code overwrit method use calcul total strain compon epsilon_theta theta calcul total strain measur small strain assumpt syntax paramet materialsadcomputeaxisymmetricrzsmallstrain syntax input materialsadcomputeaxisymmetricrzsmallstrain syntax children materialsadcomputeaxisymmetricrzsmallstrain adcomputedilatationthermalexpansionfunctioneigenstrain syntax descript materialsadcomputedilatationthermalexpansionfunctioneigenstrain descript model comput eigenstrain tensor result isotrop thermal expans temperaturedepend thermal expans defin usersuppli function describ total dilat function temperatur thermal strain given beginequ boldsymbolepsilonth lambda lambdat_ boldsymboli labeleqepsilon endequ t_ stress free temperatur lambda function describ dilat function temperatur boldsymboli ident matrix materi model lambda must provid function alert warn function abl handl dual number time automat differenti inform retain via lambda function exampl input file syntax list modulestensor_mechanicstesttestsad_thermal_expansion_functiondilatationi blockmaterialsthermal_expansion_strain eigenstrain_nam paramet valu must also set strain calcul exampl paramet set shown list modulestensor_mechanicstesttestsad_thermal_expansion_functiondilatationi blockmodulestensormechanicsmast syntax paramet materialsadcomputedilatationthermalexpansionfunctioneigenstrain syntax input materialsadcomputedilatationthermalexpansionfunctioneigenstrain syntax children materialsadcomputedilatationthermalexpansionfunctioneigenstrain comput axisymmetr rz finit strain syntax descript materialscomputeaxisymmetricrzfinitestrain descript materi computeaxisymmetricrzfinitestrain calcul finit strain axisymmetr system includ modulestensor_mechanicscommonsupplementalaxisymmetricrzstrainmd deform gradient calcul specif geometri deform gradient pass strain rotat method use default cartesian simul describ finit strain classcomputefinitestrainmd page exampl input file list modulescombinedtesttestscavity_pressurerzi blockmaterialsstrain syntax paramet materialscomputeaxisymmetricrzfinitestrain syntax input materialscomputeaxisymmetricrzfinitestrain syntax children materialscomputeaxisymmetricrzfinitestrain templat load filestubsmoose_objectmdtempl nametwophasestressmateri syntaxmaterialstwophasestressmateri adpowerlawcreepstressupd syntax descript materialsadpowerlawcreepstressupd descript includ modulestensor_mechanicscommonsupplementalradialreturnstressupdatemd increment inelast strain comput creep rate class beginequ labeleqpower_law_creep dotepsilon left sigmatrial_effect g delta p rightn exp left fracqrt right leftt t_o rightm endequ sigmatrial_effect scalar von mise trial stress g isotrop shear modulu q activ energi r univers ga constant temperatur t_o current initi time respect n expon valu class calcul effect trial stress effect creep strain rate increment deriv creep strain rate effect scalar inelast strain increment valu pass adradialreturnstressupdateadradialreturnstressupdatemd comput radial return stress increment isotrop plastic class also comput plastic strain state materi properti class base implicit integr algorithm citedunneintroduct pg adpowerlawcreepstressupd must run conjunct inelast strain return map stress calcul adcomputemultipleinelasticstressadcomputemultipleinelasticstressmd syntax paramet materialsadpowerlawcreepstressupd syntax input materialsadpowerlawcreepstressupd syntax children materialsadpowerlawcreepstressupd bibtex bibliographi ad abrupt soften syntax descript materialsadabruptsoften descript materi adabruptsoften comput reduc stress stiff direct crack accord step function comput crack stiff ratio soften tensil respons materi principl stress exce crack stress threshold materi use automat differenti comput jacobian detail refer nonad version abruptsofteningabruptsofteningmd exampl input file list modulestensor_mechanicstesttestsad_smeared_crackingcracking_rzi blockmaterialsabrupt_soften adabruptsoften must run conjunct fix ad smear crack materi model shown list modulestensor_mechanicstesttestsad_smeared_crackingcracking_rzi blockmaterialselastic_stress syntax paramet materialsadabruptsoften syntax input materialsadabruptsoften syntax children materialsadabruptsoften bibtex bibliographi templat load filestubsmoose_objectmdtempl namefinitestrainplasticmateri syntaxmaterialsfinitestrainplasticmateri comput axisymmetr increment strain syntax descript materialscomputeaxisymmetricdincrementalstrain descript materi computeaxisymmetricdincrementalstrain calcul small increment strain axisymmetr system intend use gener plane straintensor_mechanicsgeneralized_plane_strainmd simul materi assum symmetri zaxi strain calcul materi comput strain within cylindr coordin system reli special axisymmetr rz kernelstressdivergencerztensorsmd handl stress diverg calcuat alert warn titlesymmetri assum zaxi axi symmetri must lie along zaxi leftr z theta right cylindr coordin system symmetri orient requir calcul residu jacobian see stressdivergencerztensorsstressdivergencerztensorsmd residu equat german discuss axisymmetr strain formul axisymmetr model use cylindr coordin r z theta linear section form r axi rotat z axi theta direct small total strain increment calcul form beginequ labeleqnstrain_incr delta boldsymbolepsilon frac left boldsymbold boldsymboldt right text boldsymbold boldsymbola barboldsymbolf boldsymboli endequ boldsymboli rank ident tensor deform gradient boldsymbola old deform gradient barboldsymbolf given beginequ labeleqndeform_grad boldsymbola beginbmatrix epsilon_rr epsilon_zz epsilon_theta theta endbmatrix text barboldsymbolf beginbmatrix epsilon_rr_old epsilon_zz_old epsilon_theta theta_old endbmatrix endequ note barboldsymbolf use valu strain express previou time step compon tensor eqndeform_grad given beginequ labeleqnstrain_compon beginalign epsilon_rr u_rr epsilon_zz epsilonop epsilon_theta theta fracu_rx_r endalign endequ epsilonop prescrib outofplan strain valu strain valu given either scalar variabl nonlinear variabl gener plane straintensor_mechanicsgeneralized_plane_strainmd problem use scalar variabl valu strain epsilon_theta theta depend displac posit radial direct alert note titlenot order chang axisymmetr system chang order displac vector u_r u_theta u_z usual seen textbook u_r u_z u_theta take care follow convent input file ad eigenstrain extra stress exampl input file alert note titleus rz coordin type coordin type problem block input file must set coord_typ rz common use computeaxisymmetricdincrementalstrain class gener plane straintensor_mechanicsgeneralized_plane_strainmd system type simul use scalar strain variabl list modulestensor_mechanicstesttestsd_axisymmetricaxisymm_gps_incrementali blockmaterialsstrain use scalar variabl coupl outofplan strain arguement scalar_out_of_plane_strain paramet name scalar strain variabl list modulestensor_mechanicstesttestsd_axisymmetricaxisymm_gps_incrementali blockvariablesscalar_strain_yy syntax paramet materialscomputeaxisymmetricdincrementalstrain syntax input materialscomputeaxisymmetricdincrementalstrain syntax children materialscomputeaxisymmetricdincrementalstrain bibtex bibliographi adcomputersphericalincrementalstrain syntax descript materialsadcomputersphericalincrementalstrain descript materi adcomputersphericalincrementalstrain calcul small increment strain rspheric system rspheric materi kernel design model sphere geometri model symmetri polar theta azimuth phi direct assum model consid revolv direct rspheric code materi properti variabl eg temperatur load condit assum spheric symmetr attribut depend axial posit alert note titleus rspheric coordin type coordin type problem block input file must set coord_typ rspheric plane strain axisymmetr case stress strain tensor modifi spheric problem diagon compon nonzero problem beginequ beginbmatrix epsilon_rr epsilon_theta theta epsilon_phi phi endbmatrix endequ valu normal strain compon polar azimuth direct epsilon_theta theta epsilon_phi phi depend displac posit radial direct beginequ labeleqpolar_azimuthal_rspherical_strain epsilon_theta theta epsilon_phi phi fracu_rx_r endequ although axisymmetr problem solv stress strain field problem mathemat cylindr coordin axisymmetr system valu stress strain theta phi direct depend theta phi coordin rspheric specif adcomputersphericalincrementalstrain class calcul radial strain normal done increment small total strain materi beginequ epsilon_rr frac left nabla u_r u_r nabla right endequ calcul total strain compon epsilon_theta theta epsilon_phi phi found eqpolar_azimuthal_rspherical_strain syntax paramet materialsadcomputersphericalincrementalstrain syntax input materialsadcomputersphericalincrementalstrain syntax children materialsadcomputersphericalincrementalstrain templat load filestubsmoose_objectmdtempl namecomputecosseratincrementalsmallstrain syntaxmaterialscomputecosseratincrementalsmallstraintempl load filestubsmoose_objectmdtempl namecomputecosseratlinearelasticstress syntaxmaterialscomputecosseratlinearelasticstress computeinstantaneousthermalexpansionfunctioneigenstrain syntax descript materialscomputeinstantaneousthermalexpansionfunctioneigenstrain descript model comput eigenstrain tensor result isotrop thermal expans temperaturedepend thermal expans defin usersuppli function describ instantan thermal expans coeffici alpha function temperatur use trapezoid rule perform time integr function current valu thermal eigenstrain tensor boldsymbolepsilonth_t comput given time beginequ boldsymbolepsilonth_t boldsymbolepsilonth_t fracalpha_t_t alpha_t_t t_tt_t boldsymboli endequ denot quantiti new step denot quantiti previou step temperatur alpha_t instantan thermal expans given temperatur boldsymboli ident matrix first step stressfre temperatur use previou step temperatur exampl input file syntax list modulestensor_mechanicstestteststhermal_expansion_functionfinite_consti blockmaterialsthermal_expansion_strain eigenstrain_nam paramet valu must also set strain calcul exampl paramet set shown list modulestensor_mechanicstestteststhermal_expansion_functionfinite_consti blockmodulestensormechanicsmast syntax paramet materialscomputeinstantaneousthermalexpansionfunctioneigenstrain syntax input materialscomputeinstantaneousthermalexpansionfunctioneigenstrain syntax children materialscomputeinstantaneousthermalexpansionfunctioneigenstrain templat load filestubsmoose_objectmdtempl namehyperelasticphasefieldisodamag syntaxmaterialshyperelasticphasefieldisodamag composit elast tensor syntax descript materialscompositeelasticitytensor descript compositeelasticitytensor calcul simpl rank tensor use elast tensor mechan simul tensor comput weight sum base elast tensor shown eqweighted_rank_four weight scalar materi properti may depend simul variabl beginequ labeleqweighted_rank_four boldsymboltcomposit sum_n w_n cdot boldsymbolt_n endequ boldsymbolt rank tensor w weight factor rank tensor exampl input file syntax list modulestensor_mechanicstesttestselasticitytensorcompositei blockmaterialsc syntax paramet materialscompositeelasticitytensor syntax input materialscompositeelasticitytensor syntax children materialscompositeelasticitytensor comput axisymmetr small strain syntax descript materialscomputeaxisymmetricdsmallstrain descript materi computeaxisymmetricdsmallstrain calcul small total strain axisymmetr system intend use gener plane straintensor_mechanicsgeneralized_plane_strainmd simul materi assum symmetri zaxi strain calcul materi comput strain within cylindr coordin system reli special axisymmetr rz kernelstressdivergencerztensorsmd handl stress diverg calcuat alert warn titlesymmetri assum zaxi axi symmetri must lie along zaxi leftr z theta right cylindr coordin system symmetri orient requir calcul residu jacobian see stressdivergencerztensorsstressdivergencerztensorsmd residu equat german discuss axisymmetr strain formul axisymmetr model use cylindr coordin r z theta linear section form r axi rotat z axi theta direct definit small total linear strain beginequ labeleqndef_small_total_strain epsilon_ij frac left u_ij u_ji right endequ asixymmetr formul strain tensor diagon eqndef_small_total_strain therefor implement straightforward manner beginequ labeleqnd_axisym_strain epsilon_ij beginbmatrix epsilon_rr epsilon_zz epsilon_theta theta endbmatrix endequ compon strain tensor eqnd_axisym_strain given beginequ labeleqnstrain_compon beginalign epsilon_rr u_rr epsilon_zz epsilonop epsilon_theta theta fracu_rx_r endalign endequ epsilonop prescrib outofplan strain valu strain valu given either scalar variabl nonlinear variabl gener plane straintensor_mechanicsgeneralized_plane_strainmd problem use scalar variabl valu strain epsilon_theta theta depend displac posit radial direct alert note titlenot order chang axisymmetr system chang order displac vector u_r u_theta u_z usual seen textbook u_r u_z u_theta take care follow convent input file ad eigenstrain extra stress exampl input file alert note titleus rz coordin type coordin type problem block input file must set coord_typ rz common use computeaxisymmetricdsmallstrain class gener plane straintensor_mechanicsgeneralized_plane_strainmd system type simul use scalar strain variabl list modulestensor_mechanicstesttestsd_axisymmetricaxisymm_gps_sm blockmaterialsstrain use scalar variabl coupl outofplan strain arguement scalar_out_of_plane_strain paramet name scalar strain variabl list modulestensor_mechanicstesttestsd_axisymmetricaxisymm_gps_sm blockvariablesscalar_strain_yy syntax paramet materialscomputeaxisymmetricdsmallstrain syntax input materialscomputeaxisymmetricdsmallstrain syntax children materialscomputeaxisymmetricdsmallstrain computebeamresult syntax descript materialscomputebeamresult descript class comput forc moment time global coordin system displac rotat strain increment constitut relat pleas refer c timeshenko beamctimoshenkobeammd detail syntax paramet materialscomputebeamresult syntax input materialscomputebeamresult syntax children materialscomputebeamresult comput variabl base eigenstrain syntax descript materialscomputevariablebaseeigenstrain descript materi computevariablebaseeigenstrain calcul rank tensor eigenstrain function rank tensor base scalar materi properti beginequ labeleqnvariable_base_eigenstrain boldsymbolepsilon_eigen p boldsymbolt boldsymbola endequ boldsymbolepsilon_eigen calcul eigenstrain p scalar materi properti boldsymbolt tensor select user base eigenstrain boldsymbola offset constant initi eigenstrain tensor materi properti p use introduc depend eigenstrain userspecifi variabl exampl input file list modulescombinedtesttestsdiffusecreepvariable_base_eigen_straini blockmaterialseigenstrain argument base_tensor_property_nam paramet eigenstrain properti paramet gb_tensor_prop_nam argument shown list modulescombinedtesttestsdiffusecreepvariable_base_eigen_straini blockmaterialsaniso_tensor argument prefactor paramet eigenstrain materi match function name f_name paramet derivativeparsedmaterialderivativeparsedmaterialmd list modulescombinedtesttestsdiffusecreepvariable_base_eigen_straini blockmaterialseigenstrain_prefactor final eigenstrain_nam paramet valu must also set strain calcul exampl paramet set shown list modulescombinedtesttestsdiffusecreepvariable_base_eigen_straini blockmaterialsstrain syntax paramet materialscomputevariablebaseeigenstrain syntax input materialscomputevariablebaseeigenstrain syntax children materialscomputevariablebaseeigenstrain bibtex bibliographi strain energi rate densiti syntax descript materialsstrainenergyratedens descript materi comput strain energi rate densiti dotu defin time rate strain energi densiti see strainenergydensitystrainenergydensitymd beginequ labeleqnsed_integral_def dotu int boldsymbolsigma textrmddotboldsymbolepsilon endequ boldsymbolsigma stress tensor dotboldsymbolepsilon strain rate express multipli fracnn n power law expon materi provid though inelastic_model input paramet factor decreas strain energi rate densiti better captur strain rate field around crack steadyst creep growth factor primarili use comput ct integr see fractureintegralsfractureintegralsmd strain rate sum elast inelast eg plastic creep strain rate class avail manual code jacobian automat differenti strategi exampl input file list modulestensor_mechanicstesttestsstrain_energy_densityad_rate_model_weak_planei blockmaterialsstrain_energy_rate_dens syntax paramet materialsstrainenergyratedens syntax input materialsstrainenergyratedens syntax children materialsstrainenergyratedens bibtex bibliographi adcomputeincrementalsmallstrain syntax descript materialsadcomputeincrementalsmallstrain descript materi adcomputeincrementalsmallstrain design linear elast problem formul within increment framework adcomputesmallstrainadcomputesmallstrainmd materi use verifi materi model hand calcul simplifi strain calcul small strain materi increment small strain class assum gradient displac respect posit much smaller uniti squar displac gradient term neglect small strain definit give beginequ epsilon frac left u nabla nabla u right quad quad fracparti u partial x endequ class name suggest adcomputeincrementalsmallstrain increment formul stress increment calcul current strain increment time step class rotat tensor defin rank ident tensor rotat allow model state properti includ strain_old stress_old store increment small strain materi use compon verifi complex finit increment strainstress calcul syntax paramet materialsadcomputeincrementalsmallstrain syntax input materialsadcomputeincrementalsmallstrain syntax children materialsadcomputeincrementalsmallstrain comput elast tensor syntax descript materialscomputeelasticitytensor descript materi computeelasticitytensor build elast stiff tensor variou userselect materi symmetri option computeelasticitytensor also rotat elast tensor initi time step class rotat elast tensor simul initi rotat perform user provid argument three euler angl paramet bung euler angl provid class use perform passiv sampl crystal rotat use extrins z_ x_ z_ conventionhttpsenwikipediaorgwikieuler_anglesrotation_matrix build rotat matrix r altern x rotat matrix defin directli input file rotat elast tensor appli beginequ labeleqrotate_elasticity_tensor c_ijkl r_im r_jn r_ko r_lp c_mnop endequ see belowrotationexampl exampl tensor rotat gener stiff tensor independ compon elast tensor within tensor mechan modul repres notat shown eqranktensor_aux_indic nonetheless full rank tensor compon creat computeelasticitytensor beginequ labeleqranktensor_aux_indic beginalign c_ijkl impli underbracebeginbmatrix c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ endbmatrix_texttextbook engin notat em impli underbracebeginbmatrix c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ endbmatrix_texttextbook einstein index notat em impli underbracebeginbmatrix c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ endbmatrix_textcomput elast tensor indic endalign endequ sever differ materi symmetri option user appli build elast tensor mechan simul discuss gener symmetri fill method symmetr use creat elast tensor linear hyperelast materi independ compon symmetri shown eqsymmetric_cijkl_cas use determin independ compon citepslaughterlinear beginequ labeleqsymmetric_cijkl_cas beginalign c_ijkl c_jikl impliedbi quad textsatisfi angular momentum c_ijkl c_ijlk impliedbi quad textsymmetr strain tensor assumpt c_ijkl c_klij impliedbi quad textlinear hyperelast materi assumpt endalign endequ exampl input file syntax list modulescombinedtesttestslinear_elasticitytensori blockmaterialselasticity_tensor show expect order elast tensor compon input argument string orthotrop symmetri fill method symmetr appropri materi three orthotrop plane symmetri citepmalvernintroduct often use simul anistrop materi cubic crystal engin elast tensor notat eqranktensor_aux_indic orthotrop materi given eqsymmetric_fill_method beginequ labeleqsymmetric_fill_method c_ijklorthotrop beginbmatrix c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ endbmatrix endequ user also select fill method orthotrop gener elast tensor base directli materi paramet elast tensor comput via moduli elast poisson ratio shear stiff see eqorhotropic_fill_method beginequ labeleqorhotropic_fill_method c_ijklorthotrop beginbmatrix e_ nu_ nu_k e_ nu_ nu_ nu_k e_ nu_ nu_ nu_k e_ nu_ nu_ nu_k e_ nu_ nu_k e_ nu_ nu_ nu_k e_ nu_ nu_ nu_k e_ nu_ nu_ nu_k e_ nu_ nu_k g_ g_ g_ endbmatrix endequ k nu_ nu_ nu_ nu_ nu_ nu_ nu_ nu_ nu_ nu_ nu_ nu_ exampl input file syntax list modulestensor_mechanicstesttestsfinite_strain_elasticfinite_strain_elastic_new_testi blockmaterialselasticity_tensor einstein index notat shown eqranktensor_aux_indic paramet c_ijkl expect elast compon order c_ijkl symmetr fill method option note case method symmetr use enter isotrop elast tensor list modulestensor_mechanicstesttestsfinite_strain_elastic_anisotropyd_bar_orthotropic_full_rotationi blockmaterialselasticity_tensor orthotrop fill method materi paramet need refer global frame introduc follow order e_e_e_g_g_g_nu_nu_nu_nu_nu_nu_ case axe orthotropi coincid global axe euler angl provid perform gener rotat elast tensor begin simul linear isotrop symmetri two constant isotrop symmetri fill method symmetric_isotrop symmetric_isotropic_e_nu use dedic isotrop elast tensor computeisotropicelasticitytensorcomputeisotropicelasticitytensormd two fill method use symmetri shown eqsymmetric_isotropic_fill_method build elast tensor beginequ labeleqsymmetric_isotropic_fill_method c_ijkl c_klij c_jikl c_jilk endequ pleas see document page computeisotropicelasticitytensorcomputeisotropicelasticitytensormd detail exampl input file syntax linear elast isotrop elast tensor antisymmetr isotrop symmetri fill method antisymmetric_isotrop use antisymmetr isotrop materi shear case elast tensor built use symmetri shown eqantisymmetric_isotropic_fill_method beginequ labeleqantisymmetric_isotropic_fill_method c_ijklantisymmetricisotrop kappa e_ijm e_klm endequ e permut tensor summat index transvers isotrop axisymmetr fill method axisymmetric_rz use materi isotrop respect axi symmetri materi compos fiber parallel axi symmetri citepslaughterlinear engin notat matrix case shown eqaxisymmetric_rz_fill_method beginequ labeleqaxisymmetric_rz_fill_method c_ijklaxisymmetr beginbmatrix c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ frac left c_ c_ right endbmatrix endequ exampl input file syntax list modulestensor_mechanicstesttestsisotropic_elasticity_tensordaxisymmetric_rz_testi blockmaterialselasticity_tensor einstein index notat shown eqranktensor_aux_indic paramet c_ijkl expect elast compon order c_ijkl axisymmetric_rz fill method option princip direct stress strain fill method princip appropri case princip direct strain stress align engin notat represent elast tensor shown eqprincipal_fill_method beginequ labeleqprincipal_fill_method c_ijklorthotrop beginbmatrix c_ c_ c_ c_ c_ c_ c_ c_ c_ endbmatrix endequ einstein index notat shown eqranktensor_aux_indic paramet c_ijkl expect elast compon order c_ijkl princip fill method option cosserat elast specif fill method follow fill method avail within computeelasticitytensor use case method fall within cosserat applic preserv equilibruim angular momentum gener isotrop symmetri fill method general_isotrop use case three independ compon elast tensor eqgeneral_isotropic_cijkl beginequ labeleqgeneral_isotropic_cijkl c_ijklisotrop lambda delta_ij delta_kl mu delta_ik delta_ji kappa delta_il delta_jk endequ fill method case use child class computecosseratelasticitytensorcomputecosseratelasticitytensormd pleas see document computecosseratelasticitytensorcomputecosseratelasticitytensormd detail exampl input file syntax gener antisymmetr fill method antisymmetr build antisymmetr elast tensor shearonli case symmetri shown eqantisymmetric_symmetri use creat complet tensor beginequ labeleqantisymmetric_symmetri c_ijkl c_jikl c_ijlk c_klij endequ engin notat represent anitsymmetr elast tensor given eqantisymmetric_fill_method beginequ labeleqantisymmetric_fill_method c_ijklantisymmetr beginbmatrix c_ c_ c_ c_ c_ c_ c_ c_ c_ endbmatrix endequ fill method case use child class computecosseratelasticitytensorcomputecosseratelasticitytensormd pleas see document computecosseratelasticitytensorcomputecosseratelasticitytensormd detail exampl input file syntax symmetri gener fill method comput elast tensor class make assumpt symmetri elast tensor requir compon stiff tensor input string fill method case use child class computecosseratelasticitytensorcomputecosseratelasticitytensormd pleas see document computecosseratelasticitytensorcomputecosseratelasticitytensormd detail exampl input file syntax rotat exampl sinc elast tensor defin respect given crystal orient may differ simul coordin frame one may wish appli rotat elast tensor exampl use case includ simul specif crystal plane simul embed secondari phase matrix phase rotat ensur correct stress gener given strain appli strain calcul sampl simul refer frame proper sampl crystal rotat must appli shown eqrotate_elasticity_tensor rotat matrix need oper built euler angl enter input file directli rotat axi suppos wish rotat elast tensor zaxi degre rotat matrix rotat vector degre zaxi activ rotat matrix beginequ labeleqz_axis_rotation__degre r_z beginbmatrix fracsqrt frac frac fracsqrt endbmatrix approx beginbmatrix endbmatrix endequ rotat implement directli suppli rotat matrix input file use rotation_matrix paramet computeelasticitytensor exampl input file syntax list modulestensor_mechanicstesttestselasticitytensorrotation_matrix__rotationi blockmaterialselasticity_matrix note rotat appli use euler angl moos expect passiv bung convent input angl degre also note sinc z_ x_ z_ convent use singl rotat need angl could enter either euler_angle_ euler_angle_ exampl input file syntax list modulestensor_mechanicstesttestselasticitytensorrotation_matrix__rotationi blockmaterialselasticity_eul orient relationship rotat rather specif axisangl rotat sometim elast tensor must rotat satisfi particular orient relationship case basi vector rotat coordin system known correspond rotat matrix built use unit basi vector row rotat matrix exampl suppos follow rotat matrix use case leftright direct rotat crystal system point along zaxi simul sampl system beginequ labeleqorientation_rot r beginbmatrix fracsqrt fracsqrt fracsqrt fracsqrt fracsqrt fracsqrt fracsqrt fracsqrt endbmatrix approx beginbmatrix endbmatrix endequ verifi appli rotat matrix hatzleftright direct sampl simul frame rhatzleftright mean correctli convert direct sampl crystal frame passiv rotat exampl input file syntax list modulestensor_mechanicstesttestselasticitytensorrotation_matrix__rotationsi blockmaterialselasticity_matrix rotat matrix eqorientation_rot also built activ sens degre rotat zaxi degre arccosleftsqrtright radian rotat xaxi take transpos therefor correspond euler angl use sinc rotat elast tensor passiv matrix rather activ matrix previou exampl howev rotat need order rotat matter sinc euler angl convent moos use extrins rotat order must revers exampl input file syntax list modulestensor_mechanicstesttestselasticitytensorrotation_matrix__rotationsi blockmaterialselasticity_eul syntax paramet materialscomputeelasticitytensor syntax input materialscomputeelasticitytensor syntax children materialscomputeelasticitytensor bibtex bibliographi adcomputersphericalfinitestrain syntax descript materialsadcomputersphericalfinitestrain descript materi adcomputersphericalfinitestrain calcul small increment strain rspheric system rspheric materi kernel design model sphere geometri model symmetri polar theta azimuth phi direct assum model consid revolv direct rspheric code materi properti variabl eg temperatur load condit assum spheric symmetr attribut depend axial posit alert note titleus rspheric coordin type coordin type problem block input file must set coord_typ rspheric plane strain axisymmetr case stress strain tensor modifi spheric problem diagon compon nonzero problem beginequ beginbmatrix epsilon_rr epsilon_theta theta epsilon_phi phi endbmatrix endequ valu normal strain compon polar azimuth direct epsilon_theta theta epsilon_phi phi depend displac posit radial direct beginequ labeleqpolar_azimuthal_rspherical_strain epsilon_theta theta epsilon_phi phi fracu_rx_r endequ although axisymmetr problem solv stress strain field problem mathemat cylindr coordin axisymmetr system valu stress strain theta phi direct depend theta phi coordin deform gradient calcul geometri deform gradient pass strain rotat method use default cartesian simul describ finit strain classadcomputefinitestrainmd page syntax paramet materialsadcomputersphericalfinitestrain syntax input materialsadcomputersphericalfinitestrain syntax children materialsadcomputersphericalfinitestrain adcomputesmallstrain syntax descript materialsadcomputesmallstrain descript materi adcomputesmallstrain design linear elast problem calcul small total strain materi use verifi materi model hand calcul simplifi strain calcul materi suppli materi properti deriv requir form exact jacobian linear small strain theori assum gradient displac respect posit much smaller uniti squar displac gradient term neglect small strain definit give beginequ epsilon frac left u nabla nabla u right quad quad fracparti u partial x endequ detail linear small strain assumpt deriv see continuum mechan text citemalvernintroduct citebowerappli specif chapter httpsolidmechanicsorgtextchapter_chapter_phpsect__ total strain theori path independ moos path independ mean total strain begin entir simul use calcul stress materi properti increment theori hand use increment strain timestep calcul stress total strain formul adcomputesmallstrain path independ old valu strain stress previou timestep store moos comparison total strain vs increment strain theori experiment data see citeshammamyincrement syntax paramet materialsadcomputesmallstrain syntax input materialsadcomputesmallstrain syntax children materialsadcomputesmallstrain bibtex bibliographi computedilatationthermalexpansionfunctioneigenstrain syntax descript materialscomputedilatationthermalexpansionfunctioneigenstrain descript model comput eigenstrain tensor result isotrop thermal expans temperaturedepend thermal expans defin usersuppli function describ total dilat function temperatur thermal strain given beginequ boldsymbolepsilonth lambda lambdat_ boldsymboli labeleqepsilon endequ t_ stress free temperatur lambda function describ dilat function temperatur boldsymboli ident matrix materi model lambda must provid function alert warn function abl handl dual number time automat differenti inform retain via lambda function exampl input file syntax list modulestensor_mechanicstestteststhermal_expansion_functiondilatationi blockmaterialsthermal_expansion_strain eigenstrain_nam paramet valu must also set strain calcul exampl paramet set shown list modulestensor_mechanicstestteststhermal_expansion_functiondilatationi blockmodulestensormechanicsmast syntax paramet materialscomputedilatationthermalexpansionfunctioneigenstrain syntax input materialscomputedilatationthermalexpansionfunctioneigenstrain syntax children materialscomputedilatationthermalexpansionfunctioneigenstrain adcomputelinearelasticstress syntax descript materialsadcomputelinearelasticstress descript materi adcomputelinearelasticstress comput elast stress total small strain formul stress class compat adcomputesmallstrainadcomputesmallstrainmd type strain calcul includ noncartesian coordin system stress calcul class use coordin system calcul elast stress respons small total formul strain elast materi experi perman deform elast strain elast stress recover elast stress relat elast strain elast tensor beginequ sigma_ij c_ijkl epsilon_kltot endequ boldsymbolepsilontot total strain formul strain measur also sum mechan elast strain eigenstrain system syntax paramet materialsadcomputelinearelasticstress syntax input materialsadcomputelinearelasticstress syntax children materialsadcomputelinearelasticstress temperatur depend harden stress updat syntax descript materialstemperaturedependenthardeningstressupd descript includ modulestensor_mechanicscommonsupplementalradialreturnstressupdatemd isotrop plastic temperaturedependenthardeningstressupd formul manner isotropicplasticitystressupdateisotropicplasticitystressupdatemd effect plastic strain increment form beginequ labeleqneffective_strain_incr delta p fracsigmatrial_effect g delta p r sigma_yg h endequ g isotrop shear modulu sigmatrial_effect scalar von mise trial stress sigma_i yield stress r harden function h deriv harden function respect trial stress temperatur depend harden temperatur depend eqneffective_strain_incr captur harden function harden function deriv beginequ labeleqnhardening_funct beginalign r left t_hf right cdot mathitf left i_low delta p right t_hf cdot mathitf left i_upp delta p right sigma_i h left t_hf right cdot mathitf left i_low delta p_old right t_hf cdot mathitf left i_upp delta p_old right endalign endequ t_hf rel temperatur fraction within lower upper temperatur bound current piecewis function section i_low index lower temperatur bound correspond harden function i_upp upper temperatur bound harden function index delta p delta p_old current old effect strain increment respect rel temperatur fraction defin beginequ labeleqntemperature_fract t_hf fract ti_lowti_upp ti_low endequ current temperatur i_low i_high indic defin eqnhardening_funct t_hf valu use eqnhardening_funct interpol harden valu class temperaturedependenthardeningstressupd calcul effect trial stress effect scalar plastic strain increment deriv scalar effect plastic strain increment valu pass radialreturnstressupdateradialreturnstressupdatemd comput radial return stress increment plastic strain state materi properti exampl input file list modulestensor_mechanicstestteststemperature_dependent_hardeningtemp_dep_hardeningi blockmaterialstemp_dep_harden argument hardening_funct paramet defin function block input file list modulestensor_mechanicstestteststemperature_dependent_hardeningtemp_dep_hardeningi blockfunctionshf list modulestensor_mechanicstestteststemperature_dependent_hardeningtemp_dep_hardeningi blockfunctionshf temperaturedependenthardeningstressupd must run conjunct inelast strain return map stress calcul shown list modulestensor_mechanicstestteststemperature_dependent_hardeningtemp_dep_hardeningi blockmaterialsradial_return_stress syntax paramet materialstemperaturedependenthardeningstressupd syntax input materialstemperaturedependenthardeningstressupd syntax children materialstemperaturedependenthardeningstressupd templat load filestubsmoose_objectmdtempl namemultiphasestressmateri syntaxmaterialsmultiphasestressmateri comput surfac tension kk syntax descript materialscomputesurfacetensionkk descript materi gener surfac tension tensor interfac two phase kimkimsuzuki kk phasefield model citekim_phasefield_ surfac tension consist two orthogon princip compon lie plane interfac approach base formul describ citelevita solid surfac surfac stress specif rather surfac tension use computeinterfacestresscomputeinterfacestressmd kernel instead surfac tension tensor mathbfsigma_st given beginequ mathbfsigma_st leftw geta frac kappa nabla eta right bfi kappa nabla eta otim nabla eta endequ w free energi barrier phase geta doublewel function eta order paramet kappa gradient energi coeffici bfi ident tensor otim denot dyadic product exampl input file syntax list modulescombinedtesttestssurface_tension_kkssurface_tension_kksi blockmaterialsinterface_stress syntax paramet materialscomputesurfacetensionkk syntax input materialscomputesurfacetensionkk syntax children materialscomputesurfacetensionkk bibtex bibliographi adporosityfromstrain syntax descript materialsadporosityfromstrain descript adporosityfromstrain comput poros f combin inelast strain epsilon_in beginequ f fold epsilon_in epsilon_inoldtexttr fold endequ epsilon_in typic comput adcomputemultipleinelasticstressadcomputemultipleinelasticstressmd use adviscoplasticitystressupdateadviscoplasticitystressupdatemd method exampl input file list modulestensor_mechanicstesttestsporosityadi blockmateri syntax paramet materialsadporosityfromstrain syntax input materialsadporosityfromstrain syntax children materialsadporosityfromstrain bibtex bibliographi comput rspheric increment strain syntax descript materialscomputersphericalincrementalstrain descript materi computersphericalincrementalstrain calcul small increment strain rspheric system rspheric materi kernel design model sphere geometri model symmetri polar theta azimuth phi direct assum model consid revolv direct rspheric code materi properti variabl eg temperatur load condit assum spheric symmetr attribut depend axial posit alert note coord_typ problem block input file must set rspheric plane strain axisymmetr case stress strain tensor modifi spheric problem diagon compon nonzero problem beginequ beginbmatrix epsilon_rr epsilon_theta theta epsilon_phi phi endbmatrix endequ valu normal strain compon polar azimuth direct epsilon_theta theta epsilon_phi phi depend displac posit radial direct beginequ labeleqpolar_azimuthal_rspherical_strain epsilon_theta theta epsilon_phi phi fracu_rx_r endequ although axisymmetr problem solv stress strain field problem mathemat cylindr coordin axisymmetr system valu stress strain theta phi direct depend theta phi coordin rspheric specif computersphericalincrementalstrain class calcul radial strain normal done increment small total strain materi beginequ epsilon_rr frac left nabla u_r u_r nabla right endequ calcul total strain compon epsilon_theta theta epsilon_phi phi found eqpolar_azimuthal_rspherical_strain exampl input file syntax increment small rspheric strain calcul activ input file use tensormechan master action alert note titleus tensor mechan master action recommend tensormechan master actionmodulestensormechanicsmasterindexmd design automat determin set strain stress diverg paramet correctli select strain formul recommend user employ tensormechan master actionmodulestensormechanicsmasterindexmd whenev possibl ensur consist test function gradient strain formul select syntax paramet materialscomputersphericalincrementalstrain syntax input materialscomputersphericalincrementalstrain syntax children materialscomputersphericalincrementalstrain comput small strain syntax descript materialscomputesmallstrain descript materi computesmallstrain design linear elast problem calcul small total strain materi use verifi materi model hand calcul simplifi strain calcul linear small strain theori assum gradient displac respect posit much smaller uniti squar displac gradient term neglect small strain definit give beginequ epsilon frac left u nabla nabla u right quad quad fracparti u partial x endequ detail linear small strain assumpt deriv see continuum mechan text citemalvernintroduct citebowerappli specif chapter httpsolidmechanicsorgtextchapter_chapter_phpsect__ total strain theori path independ moos path independ mean total strain begin entir simul use calcul stress materi properti increment theori hand use increment strain timestep calcul stress total strain formul computesmallstrain path independ old valu strain stress previou timestep store moos comparison total strain vs increment strain theori experiment data see citeshammamyincrement exampl input file syntax small strain calcul activ input file use tensormechan master action shown list modulestensor_mechanicstutorialsbasicspart_i blockmodulestensormechanicsmast alert note titleus tensor mechan master action recommend tensormechan master actionmodulestensormechanicsmasterindexmd design automat determin set strain stress diverg paramet correctli select strain formul recommend user employ tensormechan master actionmodulestensormechanicsmasterindexmd whenev possibl ensur consist test function gradient strain formul select although recommend possibl directli use computesmallstrain materi input file list modulestensor_mechanicstesttestselastic_patchelastic_patch_quadratici blockmaterialsstrain syntax paramet materialscomputesmallstrain syntax input materialscomputesmallstrain syntax children materialscomputesmallstrain bibtex bibliographi scalar materi damag syntax descript materialsscalarmaterialdamag descript scalarmaterialdamag model defin effect damag stress stiff continuum damag mechan set directli comput stress must use conjunct computedamagestresscomputedamagestressmd model scalar damag model comput evolut damag reli anoth materi model suppli scalar damag index vari undamag fulli damag model mostli intend use test continuum damag mecahn system could use model physic behavior includ model suppli damag index syntax paramet materialsscalarmaterialdamag syntax input materialsscalarmaterialdamag syntax children materialsscalarmaterialdamag bibtex bibliographi comput axisymmetr rz increment strain syntax descript materialscomputeaxisymmetricrzincrementalstrain descript materi computeaxisymmetricrzincrementalstrain calcul small increment strain axisymmetr system includ modulestensor_mechanicscommonsupplementalaxisymmetricrzstrainmd deform gradient calcul specif geometri deform gradient pass strain rotat method use default cartesian simul describ increment finit strain classcomputeincrementalsmallstrainmd page exampl input file list modulescontacttesttestsverificationpatch_testscyl_cyl_mu___peni blockmaterialsbot_strain syntax paramet materialscomputeaxisymmetricrzincrementalstrain syntax input materialscomputeaxisymmetricrzincrementalstrain syntax children materialscomputeaxisymmetricrzincrementalstrain comput smear crack stress syntax descript materialscomputesmearedcrackingstress descript class implement fix smear crack model repres crack soften stressstrain law materi point oppos introduc topograph chang mesh would case discret crack model model princip stress compar critic stress one princip stress exce critic stress materi point consid crack direct model transit orthotrop model stress crack direct decreas accord soften law materi behavior crack direct affect two way reduct stiff direct adjust stress follow soften curv interact inelast model class deriv computemultipleinelasticstraincomputemultipleinelasticstressmd prior crack allow multipl inelast model activ crack occur inelast strain materi point preserv model longer call durat simul inelast strain model longer permit evolv crack direct determin orient princip coordin system determin eigenvector elast strain tensor howev crack direct determin direct remain fix crack consid direct perpendicular origin crack direct note axisymmetr problem one crack direct known priori theta outofplan direct coupl r z direct ie rtheta ztheta shear strainstress exist therefor known princip direct store scalar valu c_i three possibl crack direct materi point combin princip direct eigenvector rotat tensor provid conveni way elimin stress crack direct valu c_i indic materi point crack direct valu close zero zero numer reason indic crack occur defin crack tensor crack orient boldsymbolc beginequ boldsymbolc beginbmatrix c_ c_ c_ endbmatrix endequ rotat tensor boldsymbolr defin term eigenvector e_i beginequ boldsymbolr beginbmatrix e_ e_ e_ endbmatrix endequ lead transform oper boldsymbolt beginequ boldsymboltboldsymbolrboldsymbolcboldsymbolrt endequ boldsymbolt use transform uncrack tensor global frame crack tensor frame exampl crack stress boldsymbolsigma_cg term stress boldsymbolsigma_g subscript c indic crack l local frame g global frame beginequ beginalign boldsymbolsigma_cg boldsymboltboldsymbolsigma_gboldsymboltt boldsymbolrcrtboldsymbolsigma_gboldsymbolrcrt boldsymbolrcboldsymbolsigma_lboldsymbolcrt boldsymbolrboldsymbolsigma_clboldsymbolrt endalign endequ mani materi point multipl crack solut becom difficult obtain numer reason control avail limit number direct crack allow also option control amount shear retent amount stress correct soften significantli affect converg exampl input file syntax list modulestensor_mechanicstesttestssmeared_crackingcrackingi blockmaterialselastic_stress syntax paramet materialscomputesmearedcrackingstress syntax input materialscomputesmearedcrackingstress syntax children materialscomputesmearedcrackingstress adrank two direct compon syntax descript materialsadranktwodirectionalcompon descript admateri model use extract compon rank tensor cartesian coordin system base input direct use regardless coordin system use model admateri model set tensormechanicsmastermodulestensormechanicsmasterindexmd automat stress compon request generate_output paramet also set directli user class calcul compon rank tensor direct select user shown describ ranktwoscalartoolsranktwoscalartoolsmd compon rank tensor extract store scalar materi properti allow accur repres calcul use quantiti quadratur point would possibl use relat ranktwoscalarauxranktwoscalarauxmd syntax paramet materialsadranktwodirectionalcompon syntax input materialsadranktwodirectionalcompon syntax children materialsadranktwodirectionalcompon templat load filestubsmoose_objectmdtempl namecappedweakinclinedplanestressupd syntaxmaterialscappedweakinclinedplanestressupd gener maxwel model syntax descript materialsgeneralizedmaxwellmodel descript generalizedmaxwellmodel class repres gener maxwel model materi compos n maxwel unit assembl seri constitut equat materi obey follow constitut equat beginequ sigma_ij c_ijkl epsilonmech_kl sumlimits_nn cn_ijkl alphan_kl endequ alphan intern strain associ maxwel unit cn stiff correspond spring fourthord tensor ident symmetri dimens standard elast tensor alphan obey follow timedepend differenti equat beginequ foral n n epsilonmech alphan etan dotalphan endequ etan viscos associ dashpot scalar dimens time intern timestep scheme constitut equat solv use semiimplicit singlestep firstord finit differ scheme intern strain time step tdelta comput valu previou time step beginequ alphantdelta alphant delta left thetan dotalphan tdelta left thetan right dotalphan right endequ theta scalar fulli explicit fulli implicit control timestep scheme default valu valu theta determin integration_rul input paramet take one form shown theta_formulations_gkvm tabl idtheta_formulations_gkvm captionintegr rule timestep scheme integr rule valu theta uncondit converg backwardeul ye midpoint ye newmark userdefin theta geq zienkiewicz frac edelta etan etan delta ye alert warn titleconverg scheme valid theta valu forbidden use formal stressstrain constitut equat depend alphant delta unknown rewritten depend alphant dotalph known effici reason alphant dotalph store separ singl variabl alphant delta thetan dotalph alert note titleupd scheme linear viscoelast manag materi timestep scheme properli updat linearviscoelasticitymanagerlinearviscoelasticitymanagermd object must includ input file link materi stressstrain comput materi compat either total small strain approxim either increment strain approxim increment small strain finit strain model requir stress calcul list stress_calculators_gkvm tabl idstress_calculators_gkvm captionconsist strain stress calcul strain stress addit materi computesmallstraincomputesmallstrainmd computelinearviscoelasticstresscomputelinearviscoelasticstressmd none computeincrementalsmallstraincomputeincrementalsmallstrainmd computemultipleinelasticstresscomputemultipleinelasticstressmd linearviscoelasticstressupdatelinearviscoelasticstressupdatemd computefinitestraincomputefinitestrainmd computemultipleinelasticstresscomputemultipleinelasticstressmd linearviscoelasticstressupdatelinearviscoelasticstressupdatemd stress calcul use actual elast tensor materi c_ijkl provid materi drive eigenstrain option user defin drive eigenstrain stress induc eigenstrain ad creep calcul essenti replac differenti relat materi modul beginequ foral n n sigma_ij c_ijkl epsilondriving_kl cn_ijkl left alphan etan dotalphan right endequ exampl input file syntax list modulestensor_mechanicstesttestsviscogen_maxwell_drivingi blockmaterialsmaxwel requir strain calcul list modulestensor_mechanicstesttestsviscogen_maxwell_drivingi blockmaterialsstrain requir stress calcul list modulestensor_mechanicstesttestsviscogen_maxwell_drivingi blockmaterialsstress addit materi defin viscoelast behavior list modulestensor_mechanicstesttestsviscogen_maxwell_drivingi blockmaterialscreep requir linear viscoelast manag user object list modulestensor_mechanicstesttestsviscogen_maxwell_drivingi blockuserobject syntax paramet materialsgeneralizedmaxwellmodel syntax input materialsgeneralizedmaxwellmodel syntax children materialsgeneralizedmaxwellmodel thermalfractureintegr syntax descript materialsthermalfractureintegr descript model comput summat deriv eigenstrain respect temperatur quantiti use comput fractur integr presenc temperatur object typic defin user set automat use domainintegralactiondomainintegralactionmd temperatur coupl variabl syntax paramet materialsthermalfractureintegr syntax input materialsthermalfractureintegr syntax children materialsthermalfractureintegr radial return stress updat automat differentai base class calcul effect inelast strain increment requir return isotrop stress state j yield surfac class intend parent class class specif constitut model algorithm refer radial return map method introduc simo taylor use von mise yield surfac determin increment plastic strain necessari return stress state yield surfac trial stress increment take comput stress state across yield surfac von mise yield surfac deviator stress space shape circl _plastic correct stress_ alway direct toward center yield surfac circl addit citesimocomput textbook citedunneintroduct excel refer user work radialreturnstressupd materi sever isotrop plastic creep effect plastic strain increment algorithm taken citedunneintroduct radial return stress updat descript stress updat materi call moos directli instead materi use computeproperti method adradialreturnstressupd materi call materi adcomputemultipleinelasticstressadcomputemultipleinelasticstressmd separ call stress updat materi moos allow us iter call stress updat materi requir achiev converg radial return algorithm overview media mediatensor_mechanicsradialreturnstressspacepng stylewidthmarginleftfloatright captiona trial stress shown outsid deviator yield surfac radial return stress normal yield surfac includ modulestensor_mechanicscommonsupplementalradialreturnstressupdatemd case isotrop linear harden plastic harden function r hp effect plastic strain increment form beginequ delta p fracsigmatrial_effect g delta p r sigma_yieldg h endequ g isotrop shear modulu sigmatrial_effect scalar von mise trial stress converg reach scalar inelast strain increment full inelast strain tensor calcul beginequ delta epsiloninelastic_ij frac delta pt fracdevsigmatrial_ijsigmatrial_effect endequ elast strain calcul subtract return map inelast strain increment tensor mechan strain tensor mechan strain consid sum elast inelast plastic creep ect strain beginequ epsilon_tot epsilon_mechan epsilon_eigenstrain left epsilon_elast epsilon_inelast right epsilon_eigenstrain epsilon_elast left epsilon_plast epsilon_creep epsilon_damag right epsilon_eigenstrain endequ final inelast strain return radial return stress updat materi computemultipleinelasticstress comput stress return map stress increment follow elast theori finit strain final stress calcul elast strain increment beginequ sigmanew_ij c_ijkl left delta epsilonelastic_kl epsilonoldelastic_kl right endequ one radial recomput materi includ simul combin power law creep linear strain harden computemultipleinelasticstress iter chang calcul stress return stress reach stabl valu user print strain stress use ranktwoaux describ visual tensorstensor_mechanicsvisualizingtensorsmd page write new stress updat materi new radial return model must inherit radialreturnstressupd must overwrit six virtual method initqpstatefulproperti set initi valu new materi properti initi input paramet gener materi properti initi method set zero computestressiniti calcul initi trial stress state yield surfac valu harden soften paramet start simul time increment computeresidu iter inelast strain increment calcul valu effect scalar trial stress subtract yield surfac function computederiv iter inelast strain increment calcul deriv yield surfac function respect inelast strain increment iterationfin store valu inelast strain increment end iter computestressfin updat stress converg inelast strain increment reach addit new radial return method must also overwrit singl method moos materi class resetqpproperti set materi properti use iter usual delta p zero start iter method necessari avoid incorrect materi properti valu detail write equival yield surfac equat creep model given dunn petrin substep provid substep capabl adradialreturnstressupd nonlinear materi model order improv converg idea materi undergo larg deform return map algorithm struggl converg would divid origin strain smaller strain increment take sever substep increment strain appli substep follow show exampl syntax use substep list modulestensor_mechanicstesttestssubsteppingpower_law_creepi blockmaterialspower_law_creep syntax children materialsradialreturnstressupd bibtex bibliographi comput linear elast phase field fractur stress descript materi implement unifi phasefield model mechan damag quasibrittl failur jiani wu citejywu pressur fractur surfac option appli describ citechukwudozi citemikel crack surfac energi regular function a_d given beginequ a_dd int_mathcalbgammadnabla dv endequ crack surfac densiti function gammadnabla express term crack phasefield spatial gradient nabla beginequ gammadnabla fracc_fraclalphad lnabla dtextwithc_ int_sqrtalphabetadbeta endequ geometr function alphad character homogen evolut crack phasefield l intern length scale regular sharp crack c_ scale paramet regular function a_dd repres crack surfac crack geometr function alphad gener satisfi follow properti beginequ alpha alpha endequ classic phasefield model model crack geometr function wide adopt brittl fracture_energi beginequ alphad begincas dtextlinear function dtextquadrat functionendcas endequ elast energi elast energi defin beginequ psivarepsilond omegadpsi_varepsilon endequ monoton decreas energet function wdin describ degrad initi strain energi psi_varepsilon crack phasefield evolv satisfi follow properti citemieh beginequ omegad textandomegaomega omega endequ variat elast energi give constitut relat beginequ boldsymbolsigma omegadfracpartialpsi_partialvarepsilonyfracpartialpsiparti omegadmathcali endequ thermodynam forc drive evolut crack phasefield refer energi mathcali relat strain field varepsilon energet degrad function genet express degrad function omegad given beginequ omegad fracphid fracdpdp qdphid fracqddp endequ p continu function qd jiani wu consid follow polynomi beginequ qd a_d a_a_d a_a_a_d endequ coeffici a_i calibr standard materi properti energet function recov particular exampl use literatur omegad p qd dp decomposit approach elast energi usual decompos addit distinguish tensil compress contribut three decomposit approach implement strain spectral decomposit total strain energi densiti defin beginequ psi omegad psi psi endequ psi strain energi due tensil stress psi strain energi due compress stress beginequ psipm lambda left varepsilon_ varepsilon_ varepsilon_ right_pm mu leftleft varepsilon_ right_pm left varepsilon_ right_pm left varepsilon_ right_pm right endequ epsilon_i ith eigenvalu strain tensor left right_pm oper provid posit neg part thermodynam consist stress relat deform energi densiti accord beginequ boldsymbolsigma fracparti psiparti boldsymbolvarepsilon endequ thu beginequ boldsymbolsigmapm fracparti psipmparti boldsymbolvarepsilon sum_a left lambda left varepsilon_ varepsilon_ varepsilon_ right_pm mu left varepsilon_a right_pm right boldsymboln_a otim boldsymboln_a endequ boldsymboln_a ath eigenvector stress becom beginequ boldsymbolsigma leftck k right boldsymbolsigma boldsymbolsigma endequ strain volumetr deviator decomposit approach base orthogon decomposit linear strain tensor spheric deviator compon beginequ varepsilon varepsilon_ varepsilon_dvarepsilon_d fracntrvarepsilonivarepsilon_d varepsilon fracntrvarepsiloni endequ werh deont ndimension ident tensor psi psi defin beginequ psi frackappalefttrvarepsilonright_ muvarepsilon_dcdotvarepsilon_d endequ beginequ psi frackappalefttrvarepsilonright_ endequ stress defin beginequ boldsymbolsigma kappa lefttrvarepsilon right endequ beginequ boldsymbolsigma boldsymbolmathcalcvarepsilon boldsymbolsigma endequ stress spectral decomposit psi psi defin beginequ psi frac boldsymbolsigma boldsymbolvarepsilon endequ beginequ psi frac boldsymbolsigma boldsymbolvarepsilon endequ compress tensil part stress comput postiv neg project tensor comput spectral decomposit accord beginequ boldsymbolsigma mathbfp boldsymbolsigma_ endequ beginequ boldsymbolsigma mathbfp boldsymbolsigma_ endequ thermodynam consist stress relat deform energi densiti accord beginequ boldsymbolsigma fracparti psi_eparti boldsymbolvarepsilon omegadfracparti psiparti boldsymbolvarepsilon fracparti psiparti boldsymbolvarepsilon endequ sinc beginequ fracparti psiparti boldsymbolvarepsilon boldsymbolsigma endequ beginequ fracparti psiparti boldsymbolvarepsilon boldsymbolsigma endequ beginequ boldsymbolsigma omegadboldsymbolsigma boldsymbolsigma endequ jacobian matrix stress beginequ boldsymbolmathcalj fracparti boldsymbolsigmaparti boldsymbolvarepsilon leftomegad boldsymbolmathcalp boldsymbolmathcalp right boldsymbolmathcalc endequ boldsymbolmathcalc elast tensor note stress spectral decomposit approach use anisotrop elast tensor evolut equat allencahn avoid crack heal histori variabl h defin maximum energi densiti time interv tt_ t_ current time step ie beginequ h max_t psi endequ total free energi redefin beginequ beginalign f omegad h psi fracc_fracg_clalphad lnabla f_elast f_fractur fracg_c lc_ nabla endalign endequ beginequ f_loc f_elast f_fractur endequ beginequ f_fractur fracc_fracg_clalphadf_elast omegadh psi endequ deriv beginequ beginalign fracparti f_elasticparti omegadh fracparti f_elasticparti omegadh fracparti f_fractureparti fracc_fracg_cl alphad fracparti f_fractureparti fracc_fracg_cl alphad endalign endequ avoid crack phasefield go neg h overcom barrier energi barrier energi f_barrier determin beginequ f_barrier fracf_fractureomegadtextatd endequ h modifi beginequ h max_t psi f_barrier endequ evolut equat damag paramet follow allencahn equat beginequ dotd l fracdelta fdelta l left fracparti f_locparti nabla cdot kappa nabla right endequ l g_c tildeeta kappa g_clc_the tildeeta etag_c scale g_c consist definit given mieh atal citemieh equat follow standard allencahn thu implement moos use standard allencahn kernel timederiv allencahn acinterfac action automat gener kernel nonconservedact see phasefield modul document inform pressur fractur surfac suggest citechukwudozi work pressur forc act along side crack ad total free energi approxim beginequ int_gammapmathbfucdot mathbfnd approx int_omegapmathbfucdotnabla endequ integr part yield beginequ int_omegapmathbfucdotnabla int_omegapdnablacdotmathbfuint_partialomegapdmathbfucdotmathbfn endequ boundari integr term neglect applic partialomega author citemikel propos replac indic function first term order make function convex indic function implement gener materi object easili provid modifi input file stress equilibrium damag evolut equat also modifi account pressur contribut petsc sne variat inequ solver option altern damag irrevers condit enforc use petsc sne variat inequ vi solver order use petsc vi solver upper lower bound damag variabl provid specif constantboundsauxconstantboundsauxmd use set upper bound variableoldvalueboundsauxvariableoldvalueboundsauxmd use set lower bound old valu note order bound effect user specifi petsc option snes_typ vinewtonssl snes_typ vinewtonrsl exampl input file list modulescombinedtesttestsphase_field_fracturecrackd_isoi blockmaterialsdamage_stress exampl input file pressur list modulescombinedtesttestsphase_field_fracturecrackd_iso_with_pressurei blockmaterialsdamage_stress list modulescombinedtesttestsphase_field_fracturecrackd_iso_with_pressurei blockmaterialspfbulkmat bibtex bibliographi templat load filestubsmoose_objectmdtempl namecomputeplasticheatenergi syntaxmaterialscomputeplasticheatenergi hill elastoplast stress updat syntax descript materialsadhillelastoplasticitystressupd descript class comput hill plastic via gener radial return map algorithm citeversinogener object implement algorithm indic anisotrop elastoplast ie combin elast anisotropi plu yield function stress compon yield valu hill yield function defin beginequ f frac boldsymbolsigmat boldsymbola boldsymbolsigmat sigma_yalpha endequ boldsymbolsigma cauchi stress tensor voigt form boldsymbola anisotropi hill tensor alpha intern paramet use exampl prescrib strain harden plastic modulu note hill tensor defin six six matrix use follow unitless constant f g h l n alert warn combin elast isotropi plastic anisotropi solv effici adhillplasticitystressupdateadhillplasticitystressupdatemd class effect plastic strain increment obtain within framework gener hill plastic radial return map see adgeneralizedradialreturnstressupdateadgeneralizedradialreturnstressupdatemd exampl input file syntax list modulestensor_mechanicstesttestsad_anisotropic_elastoplasticityad_aniso_plasticity_x_onei blockmaterialstrial_plast syntax paramet materialsadhillelastoplasticitystressupd syntax input materialsadhillelastoplasticitystressupd syntax children materialsadhillelastoplasticitystressupd bibtex bibliographi templat load filestubsmoose_objectmdtempl namegbrelaxationstrainincr syntaxmaterialsgbrelaxationstrainincrementtempl load filestubsmoose_objectmdtempl namecappedmohrcoulombstressupd syntaxmaterialscappedmohrcoulombstressupd adcomputefinitestrain syntax descript materialsadcomputefinitestrain descript class use comput strain increment total strain increment rotat finit strain problem finit strain approach use increment corot form citeprashidincrement approach comput logarithm strain strain increment materi suppli materi properti deriv requir form exact jacobian increment configur form gener time increment consider beginequ labeleqntime_not t_n t_n endequ configur materi element consider t_n t_n denot kappa_n kappa_n respect previou current increment configur deform gradient definit deform gradient repres chang materi element refer configur current configur citepmalvernintroduct increment formul use adcomputefinitestrain class increment deform gradient repres chang materi element previou configur kappa_n current configur kappa_n mathemat relationship given beginequ hatboldsymbolf fracpartialboldsymbolx_npartialboldsymbolx_n endequ boldsymbolx_n posit vector materi point kappa_n boldsymbolx_n posit vector materi point kappa_n alert note titleincrement vs total deform gradient note hatboldsymbolf deform gradient rather increment deform gradient kappa_n respect kappa_n thu hatboldsymbolf boldsymbolf_n boldsymbolf_n boldsymbolf_n total deform gradient time t_n follow explan procedur given citezhangmodifi increment deform gradient multipl decompos increment rotat tensor boldsymbolhatr increment right stretch tensor boldsymbolhatu beginequ labeleqnpolar_decomposition_deform_grad boldsymbolhatf boldsymbolhatr cdot boldsymbolhatu endequ boldsymbolhatr proper orthogon rotat tensor stretch tensor boldsymbolhatu symmetr posit definit increment right cauchygreen deform tensor boldsymbolhatc given term boldsymbolhatu subsitut eqnpolar_decomposition_deform_grad definit boldsymbolhatc citemalvernintroduct beginequ labeleqnright_green_cauchy_deformation_tensor boldsymbolhatc boldsymbolhatft cdot boldsymbolhatf boldsymbolhatut cdot boldsymbolhatrt cdot boldsymbolhatr cdot boldsymbolhatu boldsymbolhatu endequ orthogon natur boldsymbolhatr enabl simplif given thu boldsymbolhatu comput boldsymbolhatc beginequ labeleqndefinition_stretch_tensor boldsymbolhatu boldsymbolhatcfrac endequ evalu perform spectral decomposit boldsymbolhatc boldsymbolhatu comput multipl decomposit deform graidient use find increment rotat tensor boldsymbolhatr stretch rate boldsymbold follow citerashidincrement stretch rate tensor express term increment right cauchygreen deform tensor beginequ labeleqnstretching_tensor_definit boldsymbold fracdelta tloghatboldsymbolc endequ increment stretech rate tensor use work conjug stress measur use comput anoth strain measur comput expens part procedur spectral decomposit boldsymbolhatc find boldsymbolhatu decomposit comput exactli use eigensolutioneigensolut yet approxim comput much lower comput expens use taylor expansiontaylorexpans procedur class provid option perform calcul either way taylor expansiontaylorexpans default taylor expans idtaylorexpans stretch rate tensor boldsymbold increment rotat matrix hatboldsymbolr approxim use taylor expans citerashidincrement approxim stretch rate tensor beginequ boldsymbolda fracdelta tleft frachatboldsymbolc boldsymboli frachatboldsymbolc boldsymboli frachatboldsymbolc boldsymboli right endequ approxim rotat matrix beginequ hatr_ija delta_ijco thetaa fracco thetaaq alpha_ialpha_j fracsin thetaasqrtqepsilon_ijkalpha_k endequ beginequ beginalign sin thetaa q em fracsin thetaasqrtq fracleft fracpqqpqpq rightem fracco thetaaq frac qfracppp qfracppppem qfracpppppem co thetaa p fracppqpq fracppqpqem p fractrhatboldsymbolf endalign endequ sign co thetaa set examin sign trhatboldsymbolf eigensolut ideigensolut stretch rate tensor calcul eigenvalu lambda eigenvector boldsymbolv hatboldsymbolc beginequ boldsymbold logsqrtlambda_boldsymboln_ logsqrtlambda_boldsymboln_ logsqrtlambda_boldsymboln_ endequ lambda eigenvalu boldsymboln matrix construct correspond eigenvector beginequ boldsymboln_i boldsymbolv_iboldsymbolv_it endequ increment stretch tensor beginequ hatboldsymbolu sqrtlambda_boldsymboln_ sqrtlambda_boldsymboln_ sqrtlambda_boldsymboln_ endequ thu beginequ hatboldsymbolr hatboldsymbolf hatboldsymbolu endequ volumetr lock correct adcomputefinitestrain hatboldsymbolf calcul computestrain method includ volumetr lock correct beginequ hatboldsymbolf_corr hatboldsymbolf left fracmathrmav_elhatboldsymbolfhatboldsymbolf rightfrac endequ mathrmav_el averag valu entir element strain increment rotat increment calcul computeqpstrain strain increment calcul ad total strain t_n total strain t_n must rotat use rotat increment directli use adcomputefinitestrain input file shown adstressdivergencetensorsadstressdivergencetensorsmd kernel must modifi default set paramet use_displaced_mesh true set requir maintain consist test function gradient strain formul complet discuss stress divereg kernel set correspond strain class see section consist stress straintensor_mechanicsstressdivergencemdconsistency_stress_strain_use_displaced_mesh tensormechan modul overview addit awar load cycl limit use finit strain outlin section larg strain close loop load cycletensor_mechanicsstrainsmdlarge_strain_closed_loop_loading_cycl syntax paramet materialsadcomputefinitestrain syntax input materialsadcomputefinitestrain syntax children materialsadcomputefinitestrain bibtex bibliographi templat load filestubsmoose_objectmdtempl namecomputeconcentrationdependentelasticitytensor syntaxmaterialscomputeconcentrationdependentelasticitytensor ad power law soften syntax descript materialsadpowerlawsoften descript materi adpowerlawsoften comput reduc stress stiff along direct crack accord power law equat comput reduc stiff soften tensil respons materi principl stress appli materi exce crack stress threshold materi use automat differenti comput jacobian smear crack soften model follow nomenclatur convent use soften suffix model intend use adcomputesmearedcrackingstressadcomputesmearedcrackingstressmd materi detail refer nonad class powerlawsofteningpowerlawsofteningmd exampl input file list modulestensor_mechanicstesttestssmeared_crackingcracking_poweri blockmaterialspower_law_soften adpowerlawsoften must run conjunct ad fix smear crack materi model shown list modulestensor_mechanicstesttestsad_smeared_crackingcracking_poweri blockmaterialselastic_stress syntax paramet materialsadpowerlawsoften syntax input materialsadpowerlawsoften syntax children materialsadpowerlawsoften bibtex bibliographi ad comput multipl porou inelast stress syntax descript materialsadcomputemultipleporousinelasticstress descript adcomputemultipleporousinelasticstress comput stress decomposit strain elast inelast compon seri differ inelast materi model eg creep plastic inherit adstressupdatebas tangent oper relev jacobian inform comput use automat differenti techniqu adcomputemultipleporousinelasticstress oper almost exactli adcomputemultipleinelasticstressadcomputemultipleinelasticstressmd add poros materi properti inelast strain epsilon_in calcul poros f updat beginequ dotf f dotepsilon_intexttr endequ poros turn use viscoplast methodsadviscoplasticitystressupdatemd poros depend materi refer adcomputemultipleinelasticstressadcomputemultipleinelasticstressmd remaind detail adcomputemultipleporousinelasticstress comput stress exampl input file adcomputemultipleporousinelasticstress take individu combin differ inelast materi model inherit adstressupdatebas list modulestensor_mechanicstesttestsad_viscoplasticity_stress_updatelps_duali blockmateri syntax paramet materialsadcomputemultipleporousinelasticstress syntax input materialsadcomputemultipleporousinelasticstress syntax children materialsadcomputemultipleporousinelasticstress bibtex bibliographi comput variabl isotrop elast tensor syntax descript materialscomputevariableisotropicelasticitytensor descript model comput elast tensor elast moduli prescrib term young modulu poisson ratio vari defin userspecifi materi properti everi time materi evalu full tensor updat reflect current valu elast constant exampl input file syntax list modulescombinedtestteststhermal_elasticthermal_elastici blockmaterialselasticity_tensor syntax paramet materialscomputevariableisotropicelasticitytensor syntax input materialscomputevariableisotropicelasticitytensor syntax children materialscomputevariableisotropicelasticitytensor templat load filestubsmoose_objectmdtempl namecomputelayeredcosseratelasticitytensor syntaxmaterialscomputelayeredcosseratelasticitytensor comput plane increment strain syntax descript materialsadcomputeplaneincrementalstrain descript materi adcomputeplaneincrementalstrain calcul small increment strain plane strain problem use classic plane strain plane stresshttpsenwikipediaorgwikiplane_stress problem gener plane straintensor_mechanicsgeneralized_plane_strainmd simul plane strain classic plane strain problem assum front back surfac bodi constrain outofplan direct displac direct surfac zero result strain deform gradient compon outofplan direct held constant zero beginequ labeleqnclassical_dop_deform_grad fdop text epsilondop endequ fdop deform gradient tensor diagon compon direct outofplan strain epsilondop correspond strain compon gener plane strain case gener plane strain weak plane stress model compon strain deform gradient outofplan direct nonzero solv outofplan strain use outofplan strain variabl deform gradient compon beginequ labeleqndop_deform_grad fdop epsilonop endequ fdop deform gradient tensor diagon compon direct outofplan strain epsilonop prescrib outofplan strain valu strain valu given either scalar variabl nonlinear field variabl gener plane straintensor_mechanicsgeneralized_plane_strainmd problem use scalar variabl multipl scalar variabl provid one strain calcul need multipl gener plane strain model differ subdomain case plane stress adweakplanestressadweakplanestressmd kernel use integr outofplan compon stress area element assembl integr residu outofplan strain field variabl result weak enforc condit outofplan stress zero allow reus constitut model model dimension strain deform gradient formul small strain increment calcul form beginequ labeleqnstrain_incr delta boldsymbolepsilon frac left boldsymbold boldsymboldt right text boldsymbold boldsymbola barboldsymbolf boldsymboli endequ boldsymboli rank ident tensor boldsymbola deform gradient barboldsymbolf old deform gradient zdirect outofplan strain default default outofplan direct along zaxi direct current old deform gradient tensor use eqnstrain_incr given beginequ labeleqndeform_grad boldsymbola beginbmatrix u_xx u_xi u_yx u_yy fdop endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix u_xx_old u_xy_old u_yx_old u_yy_old fdop_old endbmatrix boldsymboli endequ fdop defin eqndop_deform_grad note barboldsymbolf use valu strain express previou time step classic present strain tensor plane strain problem compon deform tensor associ zdirect zero zero compon indic coupl inplan displac outofplan strain variabl xdirect outofplan strain user select outofplan direct along xdirect current old deform gradient tensor eqnstrain_incr formul beginequ labeleqndeform_grads_xdir boldsymbola beginbmatrix fdop u_yy u_zi u_yz u_zz endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix fdop_old u_yy_old u_yz_old u_zy_old u_zz_old endbmatrix boldsymboli endequ offdiagon compon deform tensor associ xdirect zero ydirect outofplan strain user select outofplan direct along ydirect current old deform gradient tensor eqnstrain_incr formul beginequ labeleqndeform_grads_ydir boldsymbola beginbmatrix u_xx u_zx fdop u_xz u_zz endbmatrix boldsymboli qquad text qquad barboldsymbolf beginbmatrix u_xx_old u_xz_old fdop_old u_zx_old u_zz_old endbmatrix boldsymboli endequ offdiagon compon deform tensor associ ydirect zero final deform gradient increment deform gradient calcul specif geometri deform gradient pass strain rotat method use cartesian simul describ comput increment small straincomputeincrementalsmallstrainmd document select user increment strain tensor condit barb formul mitig volumetr lock element volumetr lock correct appli total strain beginequ labeleqnvlc_strain delta boldsymbolepsilon_vlc boldsymbolepsilon fracleft boldsymbolepsilon_v trboldsymboldelta epsilon right cdot boldsymboli endequ boldsymbolepsilon_v volumetr strain boldsymboli rank ident tensor detail theori behind eqnvlc_strain see volumetr lock correctiontensor_mechanicsvolumetriclockingmd document exampl input file plane stress tensor mechan master actionmodulestensormechanicsmasterindexmd use creat adcomputeplaneincrementalstrain class set planar_formul weak_plane_stress strain small increment true master action block list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_incrementali blockmodulestensormechanicsmast note plane stress analysi out_of_plane_strain paramet must defin name outofplan strain field variabl list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_incrementali blockvariablesstrain_zz case exampl out_of_plane_strain defin globalparam block gener plane strain use plane strain class gener plane straintensor_mechanicsgeneralized_plane_strainmd simul use scalar outofplan strain tensor mechan master actionmodulestensormechanicsmasterindexmd use creat adcomputeplaneincrementalstrain class planar_formul generalized_plane_strain strain small increment true set list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_incrementi blockmodulestensormechanicsmasteral note argument scalar_out_of_plane_strain paramet name scalar strain variabl list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_incrementi blockvariablesscalar_strain_zz syntax paramet materialsadcomputeplaneincrementalstrain syntax input materialsadcomputeplaneincrementalstrain syntax children materialsadcomputeplaneincrementalstrain bibtex bibliographi rank two cylindr compon syntax descript materialsranktwocylindricalcompon descript materi model use extract compon rank tensor cylindr coordin system use regardless coordin system use model materi model set tensormechanicsmastermodulestensormechanicsmasterindexmd automat stress compon request generate_output paramet also set directli user class provid abil comput hoop radial axial stress boldsymbolsigma strain boldsymbolepsilonquant rank tensor describ ranktwoscalartoolsranktwoscalartoolsmd compon rank tensor extract store scalar materi properti allow accur repres calcul use quantiti quadratur point would possibl use relat ranktwoscalarauxranktwoscalarauxmd syntax paramet materialsranktwocylindricalcompon syntax input materialsranktwocylindricalcompon syntax children materialsranktwocylindricalcompon computemeanthermalexpansionfunctioneigenstrain syntax descript materialscomputemeanthermalexpansionfunctioneigenstrain descript model comput eigenstrain tensor result isotrop thermal expans temperaturedepend thermal expans defin usersuppli function describ mean thermal expans coeffici baralpha function temperatur function defin rel refer temperatur t_ref total expans given temperatur rel referer temperatur baralphatt_ref follow notat citeniffeneggerprop baralpha_t_reft defin beginequ baralpha_t_reft fracl_t l_t_refl_t_reftt_ref endequ l_t length bodi current temperatur l_t_ref length bodi refer temperatur import emphas refer temperatur tie definit thermal expans function differ gener stressfre temperatur specif simul gener case stressfre temperatur t_sf differ refer temperatur total thermal expans eigenstrain comput beginequ boldsymbolepsilonth fracbaralpha_t_refttt_ref baralpha_t_reft_sft_sft_ref baralpha_t_reft_sft_sft_ref cdot boldsymboli endequ current temperatur boldsymboli ident matrix note denomin equat correct account ratio l_t_sf l_t_ref discuss citeniffeneggerprop ratio close strictli necessari includ correct done complet exampl input file syntax list modulestensor_mechanicstestteststhermal_expansion_functionfinite_consti blockmaterialsthermal_expansion_strain eigenstrain_nam paramet valu must also set strain calcul exampl paramet set shown list modulestensor_mechanicstestteststhermal_expansion_functionfinite_consti blockmodulestensormechanicsmast syntax paramet materialscomputemeanthermalexpansionfunctioneigenstrain syntax input materialscomputemeanthermalexpansionfunctioneigenstrain syntax children materialscomputemeanthermalexpansionfunctioneigenstrain bibtex bibliographi rank two spheric compon syntax descript materialsranktwosphericalcompon descript materi model use extract compon rank tensor spheric coordin system use regardless coordin system use model materi model set tensormechanicsmastermodulestensormechanicsmasterindexmd automat stress compon request generate_output paramet also set directli user class provid abil comput spherical_hoop spherical_radi boldsymbolsigma strain boldsymbolepsilonquant rank tensor describ ranktwoscalartoolsranktwoscalartoolsmd compon rank tensor extract store scalar materi properti allow accur repres calcul use quantiti quadratur point would possibl use relat ranktwoscalarauxranktwoscalarauxmd syntax paramet materialsranktwosphericalcompon syntax input materialsranktwosphericalcompon syntax children materialsranktwosphericalcompon comput isotrop elast tensor syntax descript materialscomputeisotropicelasticitytensor descript materi computeisotropicelasticitytensor build isotrop elast stiff tensor two user provid elast constant isotrop elast tensor given engin matrix notat citepmalvernintroduct beginequ labeleqisotropic_fill_method c_ijklisotrop beginbmatrix lambda mu lambda lambda lambda lambda mu lambda lambda lambda lambda mu mu mu mu endbmatrix endequ computeisotropicelasticitytensor accept argument two five isotrop elast constant lambda lambda shear modulu mu bulk modulu k young modulu e poisson ratio nu materi includ convers lame constant see citeslaughterlinear convers equat among isotrop elast constant automat differenti version object avail adcomputeisotropicelasticitytensor exampl input file syntax list modulestensor_mechanicstesttestselastic_patchelastic_patch_quadratici blockmaterialselast_tensor syntax paramet materialscomputeisotropicelasticitytensor syntax input materialscomputeisotropicelasticitytensor syntax children materialscomputeisotropicelasticitytensor bibtex bibliographi comput plane small strain syntax descript materialsadcomputeplanesmallstrain descript materi adcomputeplanesmallstrain calcul small total strain plane strain problem use classic plane strain plane stresshttpsenwikipediaorgwikiplane_stress problem gener plane straintensor_mechanicsgeneralized_plane_strainmd simul plane strain classic plane strain problem assum front back surfac bodi constrain outofplan direct displac direct surfac zero result strain deform gradient compon outofplan direct held constant zero beginequ labeleqnclassical_dop_deform_grad epsilondop endequ epsilondop strain tensor diagon compon direct outofplan strain plane stress gener plane strain case plane stress gener plane strain assumpt compon strain deform gradient outofplan direct nonzero solv outofplan strain use outofplan strain variabl strain tensor compon beginequ labeleqndop_deform_grad epsilondop epsilonop endequ epsilondop strain tensor diagon compon direct outofplan strain epsilonop prescrib outofplan strain valu strain valu given either scalar variabl nonlinear field variabl gener plane straintensor_mechanicsgeneralized_plane_strainmd problem use scalar variabl multipl scalar variabl provid one strain calcul need multipl gener plane strain model differ subdomain case plane stress adweakplanestressadweakplanestressmd kernel use integr outofplan compon stress area element assembl integr residu outofplan strain field variabl result weak enforc condit outofplan stress zero allow reus constitut model model dimension strain deform gradient formul definit small total linear strain beginequ labeleqndef_small_total_strain epsilon_ij frac left u_ij u_ji right endequ valu strain tensor compon depend direct select user outofplan direct zdirect outofplan strain default default outofplan direct along zaxi direct strain tensor eqndef_small_total_strain given beginequ labeleqnstrain_tensor boldsymbolepsilon beginbmatrix u_xx frac leftu_xi u_yx right frac leftu_xi u_yx right u_yy epsilondop endbmatrix endequ epsilondop defin eqndop_deform_grad classic present strain tensor plane strain problem compon strain tensor associ zdirect zero zero compon indic coupl inplan outofplan strain xdirect outofplan strain user select outofplan direct along xdirect strain tensor eqndef_small_total_strain given beginequ labeleqndeform_grads_xdir boldsymbolepsilon beginbmatrix epsilondop u_yy frac leftu_yz u_zi right frac leftu_yz u_zi right u_zz endbmatrix endequ offdiagon compon strain tensor associ xdirect zero ydirect outofplan strain user select outofplan direct along ydirect strain tensor eqndef_small_total_strain given beginequ labeleqndeform_grads_ydir boldsymbolepsilon beginbmatrix u_xx frac leftu_xz u_zx right epsilondop frac leftu_xz u_zx right u_zz endbmatrix endequ offdiagon compon strain tensor associ ydirect zero volumetr lock correct strain tensor select user strain tensor condit barb formul mitig volumetr lock element volumetr lock correct appli total strain beginequ labeleqnvlc_strain boldsymbolepsilon_vlc boldsymbolepsilon fracleft boldsymbolepsilon_v trboldsymbolepsilon right cdot boldsymboli endequ boldsymbolepsilon_v volumetr strain boldsymboli rank ident tensor detail theori behind eqnvlc_strain see volumetr lock correctiontensor_mechanicsvolumetriclockingmd document exampl input file plane stress tensor mechan master actionmodulestensormechanicsmasterindexmd use creat adcomputeplanesmallstrain class set planar_formul weak_plane_stress strain small master action block list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_sm blockmodulestensormechanicsmast note plane stress analysi out_of_plane_strain paramet must defin name outofplan strain field variabl list modulestensor_mechanicstesttestsplane_stressweak_plane_stress_sm blockvariablesstrain_zz case exampl out_of_plane_strain defin globalparam block gener plane strain use plane strain class gener plane straintensor_mechanicsgeneralized_plane_strainmd simul use scalar outofplan strain tensor mechan master actionmodulestensormechanicsmasterindexmd use creat adcomputeplanesmallstrain class planar_formul generalized_plane_strain strain small set list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_sm blockmodulestensormechanicsmasteral note argument scalar_out_of_plane_strain paramet name scalar strain variabl list modulestensor_mechanicstesttestsgeneralized_plane_straingeneralized_plane_strain_sm blockvariablesscalar_strain_zz ydirect outofplan strain plane strain class use model plane strain outofplan strain direct zdirect exampl tensor mechan master actionmodulestensormechanicsmasterindexmd use creat computeplanefinitestrain class ydirect outofplan strain planar_formul plane_strain out_of_plane_direct set list modulestensor_mechanicstesttestsd_different_planesplanestrain_xzi blockmodulestensormechanicsmasterplane_strain syntax paramet materialsadcomputeplanesmallstrain syntax input materialsadcomputeplanesmallstrain syntax children materialsadcomputeplanesmallstrain bibtex bibliographi computevolumetricdeformgrad syntax descript materialscomputevolumetricdeformgrad descript class set volumetr deform gradient ident transform total deform gradient use volumetr deform gradient syntax paramet materialscomputevolumetricdeformgrad syntax input materialscomputevolumetricdeformgrad syntax children materialscomputevolumetricdeformgrad bibtex bibliographi comput extra stress van der waal ga syntax descript materialscomputeextrastressvdwga descript class computeextrastressvdwga add addit hydrostat stress term sigmag_ij residu calcul constitut model calcul stress shown eqextra_stress_vdwga addit hydrostat stress repres pressur exert van der waal ga diagon compon stress tensor given beginequ labeleqextra_stress_vdwga sigmag_ii fracktleftfracv_ac_g b right e endequ k boltzmann constant temperatur v_a atom volum lattic atom solid surround ga phase c_g local ga atom fraction rel surround solid b van der waal ga hardspher exclus volum e option scale factor nondimension offdiagon compon sigmag_ij neq j exampl input file syntax list modulescombinedtesttestssurface_tension_kkssurface_tension_vdwgasi blockmaterialsgas_pressur syntax paramet materialscomputeextrastressvdwga syntax input materialscomputeextrastressvdwga syntax children materialscomputeextrastressvdwga comput elast beam syntax descript materialscomputeelasticitybeam descript class comput elast vector materi stiff flexur beam element relat displac rotat strain increment forc moment increment respect pleas refer c timoshenko beamctimoshenkobeammd detail syntax paramet materialscomputeelasticitybeam syntax input materialscomputeelasticitybeam syntax children materialscomputeelasticitybeam templat load filestubsmoose_objectmdtempl namecomputemultipleinelasticcosseratstress syntaxmaterialscomputemultipleinelasticcosseratstress comput damag stress syntax descript materialscomputedamagestress descript computedamagestress comput stress damag elast materi conjunct anoth materi defin evolut damag must deriv damagebas sourc materi nonlinear model damag model provis includ effect creep plastic see scalarmaterialdamagescalarmaterialdamagemd simpl exampl damag materi use conjunct model defin effect damag scalarmaterialdamag model simpli use anoth scalar materi properti defin evolut damag index syntax paramet materialscomputedamagestress syntax input materialscomputedamagestress syntax children materialscomputedamagestress computeelasticitytensorconstantrotationcp syntax descript materialscomputeelasticitytensorconstantrotationcp descript materi computeelasticitytensorconstantrotationcp use creat constant elast tensor crystal plastic simul refer refer configur class rotat elast tensor initi setup step materi build orthotrop elast tensor use fill_method symmetr computeelasticitytensorcomputeelasticitytensormd alert warn titlecryst plastic simul use activ rotat rotat matrix use classcomputeelasticitytensorconstantrotationcp transpos rotat matrix creat bung euler angl base class computeelasticitytensorcomputeelasticitytensormd differ rotat matrix activ rotat convent use crystal plastic simul fill method symmetr appropri materi three orthotrop plane symmetri citepmalvernintroduct use simul anistrop materi cubic crystal engin elast tensor notat orthotrop materi given eqsymmetric_fill_method beginequ labeleqsymmetric_fill_method c_ijkl beginbmatrix c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ endbmatrix endequ rotat tensor convent euler angl conventionhttpmathworldwolframcomeulerangleshtml use computeelasticitytensorconstantrotationcp zxz convent euler angl argument expect degre radian denot phi_ phi phi_ correspond axi rotat rotat tensor r calcul current euler angl timestep shown eqrotation_tensor beginequ labeleqrotation_tensor beginalign r_ cosphi_cosphi_ cosphisinphi_sinphi_ r_ cosphi_sinphi_ cosphicosphi_sinphi_ r_ sinphi_sinphi r_ cosphi_sinphi_ cosphi_cosphisinphi_ r_ sinphi_sinphi_ cosphi_cosphicosphi_ r_ cosphi_sinphi r_ sinphi sinphi_ r_ cosphi_ sinphi r_ cosphi endalign endequ elast tensor rotat eqcp_elasticity_tensor_rot beginequ labeleqcp_elasticity_tensor_rot c_ijkl rt_im rt_jn rt_ko rt_lp c_mnop endequ begin simul calcul perform crystal plastic materi includ computeelasticitytensorconstantrotationcp employ activ rotat crystal system rotat sampl load coordin system gener bung euler angl use describ passiv rotat rotat sampl coordin system crystal coordin system result rotat tensor appli transpos rotat tensor given eqrotation_tensor note eqcp_elasticity_tensor_rot exampl input file syntax list modulestensor_mechanicstesttestscrystal_plasticitystress_update_material_basedupdate_method_testi blockmaterialselasticity_tensor syntax paramet materialscomputeelasticitytensorconstantrotationcp syntax input materialscomputeelasticitytensorconstantrotationcp syntax children materialscomputeelasticitytensorconstantrotationcp bibtex bibliographi finit strain crystal plastic syntax descript materialsfinitestraincrystalplast descript alert warn finitestraincrystalplast model activ develop use finitestrainuobasedcpfinitestrainuobasedcpmd crystal plastic system computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd system recommend instead constitut model use calcul plastic slip rate crystal plastic materi slip rate model power law beginequ labeleqnpowerlawslipr dotgammaalpha dotgamma_o left fractaualphagalpha rightm sign left taualpha right endequ dotgamma_o refer slip rate taualpha appli shear stress slip system alpha galpha slip system strength resist slip strain rate sensit expon strength slip system solv iter process function slip increment beginequ labeleqnslipstrengthevolut galpha g_o delta gammaalpha qalpha beta h _o left fracgalphag_sat righta sign left fracgalphag_sat right endequ qalpha beta harden coeffici matrix account differ self latent harden eqnselflatentqmatrix h_o initi harden term g_sat constant satur harden valu harden expon citepkalidindi self latent harden crystal defin fcc system beginequ labeleqnselflatentqmatrix qalpha beta beginbmatrix q q q q q q q q q q q q endbmatrix endequ q constant valu latent harden among noncoplanar slip system eqnselflatentqmatrix slip system share slip plane normal eg bar coplanar group togeth latent harden rate uniti citepkalidindi matrix entri eqnselflatentqmatrix repres interact among two differ coplanar slip system group total six slip system citepkalidindi class crystal strain stress respons respons residu calcul second piolakirchoff stress increment contrast finitestraincpsliprateresfinitestraincpsliprateresmd converg crystal plastic strain stress respons determin respect slip rate slip system crystal plastic model unit assum crystal plastic materi simul domain crystal plastic model resolv order individu crystal grain mesh size small although moos dimens agnost crystal plastic model implement mmmpa unit system dimens system choic impact input file follow manner mesh dimens construct mm elast constant valu eg young modulu shear modulu enter mpa initi slip system strength valu enter mpa simul time given strain rate displac load rate given mm respect physic base model mayb base class initi densiti crystal defect eg disloc point defect given mm mm syntax paramet materialsfinitestraincrystalplast syntax input materialsfinitestraincrystalplast syntax children materialsfinitestraincrystalplast bibtex bibliographi comput updat euler angl descript class comput updat euler angl crystal plastic simul need use togeth computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd class updat rotat matrix comput exampl input file syntax use class user need add addit block materi block calcul updat euler angl list modulestensor_mechanicstesttestscrystal_plasticitystress_update_material_basedupdate_euler_anglei block materi alert note need use combin materi model inherit crystalplasticitystressupdatebas work computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd verif verifi euler angl calcul class simul uniaxi tension along zdirect three differ crystal differ initi orient simul deform fcc crystal use kalidindi citepkalidindi crystal plastic model see model document page herecrystalplasticitykalidindiupdatemd invers pole figur three case seen orient crystal pole move invers pole figur deform perfectli orient initi situat symmetri line invers pole figur crystal pull pole move along symmetri line toward crystal crystal tensil axi initi insid invers pole figur move toward deform tension media tensor_mechanicscrystal_plasticityinverse_pole_figpng idipf_ori captioninvers pole figur sing crystal undergon uniaxi tension three case differ initi orient demonstr initi orient left right styledisplayblockmarginleftautomarginrightautowidth invers pole figur plot use matlab tool box mtexhttpsgithubcommtextoolboxmtex result reproduc run testmodulestensor_mechanicstesttestscrystal_plasticitystress_update_material_basedupdate_euler_anglei end_tim second moos develop would like acknowledg contribut dr alankar alankar ritam chatterje imagenhttpswwwmeiitbacinalankar indian institut technolog bombay india verif case syntax paramet materialscomputeupdatedeulerangl syntax input materialscomputeupdatedeulerangl syntax children materialscomputeupdatedeulerangl comput crystal plastic thermal eigenstrain describ computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd thermal deform gradient boldsymbolftheta introduc account thermal induc deform finit strain thermomechan problem crystal plastic accordingli total deform gradient multipl decompos three compon beginequ labeleqnf_decomposit boldsymbolf boldsymbolf boldsymbolfp boldsymbolftheta endequ textdetleft boldsymbolf right textdetleft boldsymbolfp right textdetleft boldsymbolftheta right see citelidevelopmentozturkcrystalmeissonnierfinit account one thermal eigenstrain one option decompos total thermal deform gradient boldsymbolftheta multipl compon beginequ labeleqnftheta_decomposit boldsymbolftheta boldsymbolf boldsymbolf cdot boldsymbolfn endequ total n differ thermal eigenstrain consid thermal lagrangian strain associ boldsymbolfn comput beginequ labeleqnfn_eigenstrain boldsymbolen fracleftboldsymbolfninterc boldsymbolfn boldsymboliright endequ class evolut typic thermal deform gradient compon boldsymbolfn see eqnftheta_decomposit express respect lattic symmetri axi beginequ labeleqnfn dot boldsymbolf n boldsymbolfn dottheta boldsymbolbeta endequ dottheta temperatur rate boldsymbolbeta textdiag left beta_ beta_ beta_ right diagon tensor anisotrop thermal expans coeffici one either use evolut equat creat differ crystal plastic thermal eigenstrain class custom constitut equat inherit computecrystalplasticityeigenstrainbas class alert note titlebas class requir constitut eigenstrain model develop use within computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd class must inherit computecrystalplasticityeigenstrainbas class summar numer implement detail special crystal plastic thermal eigenstrain comput follow numer implement calcul thermal deform gradient boldsymbolftheta compon boldsymbolfn lagrangian strain boldsymboletheta boldsymbolen associ deriv partial boldsymbolftheta partial theta partial boldsymbolfn partial theta includ computecrystalplasticitythermaleigenstraincomputecrystalplasticitythermaleigenstrainmd class meanwhil chang requir residu jacobian calcul computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd order account addit configur due thermal expans implement detail describ time integr boldsymbolfn evolut thermal deform gradient compon boldsymbolf n defin eqnfn similar time integr implement boldsymbolfp start backward differ express approxim boldsymbolfn beginequ boldsymbolfn_n approx frac boldsymbolf n_n boldsymbolf n_n delta endequ subscript n n identifi time step substitut eqnfn rearrang beginequ boldsymbolfn_n boldsymbolfn_n left boldsymboli delta theta boldsymbolbeta right endequ delta theta dottheta delta crystal plastic jacobian stress updat iter drive stress residu zero stress residu comput beginequ mathbbr boldsymbol mathbbc boldsymbole endequ boldsymbol second piolakirchhoff stress mathbbc elast tensor boldsymbole elast part cauchygreen deform tensor crystal plastic jacobian comput take deriv mathbbr respect boldsymbol use chain rule beginequ labeleqnjacobian mathbbj mathbbi mathbbc leftfracpartialboldsymboleepartialboldsymbolfefracpartialboldsymbolf partialboldsymbolfpfracpartialboldsymbolfppartialboldsymbolsright endequ comput term curli bracket describ follow use indici notat partialboldsymbolee_ijparti boldsymbolfe_kl comput beginequ fracparti boldsymbolee_ij partial boldsymbolfe_kl frac delta_il boldsymbolfe_kj frac delta_jl boldsymbolfe_ikinterc endequ eqnf_decomposit boldsymbolfe_ij boldsymbolf_im boldsymbolftheta_mn boldsymbolfp_nj therefor partial boldsymbolfe_ij partialboldsymbolfp_kjboldsymbolf_imboldsymbolftheta_mk evalu last term eqnjacobian via chain rule beginequ fracparti boldsymbolfp partial boldsymbol sum_alpha left fracparti boldsymbolfpparti gammaalpha frac partial gammaalpha partial taualpha fracparti taualphaparti boldsymbol right endequ evalu partial boldsymbolfpparti gammaalpha base boldsymbollp dotboldsymbolfp boldsymbolfp take chain rule evalu partial gammaalpha partial taualpha vari base form flow rule differ differ materi type last term evalu beginequ fracparti taualphaparti boldsymbol textdetboldsymbolftheta boldsymbolftheta boldsymbols_oalpha boldsymbolftheta endequ boldsymbolsalpha_o schmid tensor slip system alpha elastoplast tangent moduli elastoplast tangent moduli comput via beginequ fracpartialboldsymbolsigma partial boldsymbolf left fracparti boldsymbolsigmaparti boldsymbol fracparti boldsymbolsparti boldsymbolf fracparti boldsymbolsigmaparti boldsymbolf right fracparti boldsymbolfeparti boldsymbolf endequ partial boldsymbolsigmaparti boldsymbol partial boldsymbolsparti boldsymbolf partial boldsymbolsigmaparti boldsymbolf remain inclus thermal deform gradient last term evalu beginequ fracparti boldsymbolfe_ijparti boldsymbolf_il boldsymbolftheta _ln boldsymbolfp _nj endequ alert note titleoffdiagon jacobian offdiagon jacobian contribut due thermal expans current account stress diverg calcul improv jacobian entri associ thermal expans remain ongo work exampl input file syntax list modulestensor_mechanicstesttestscrystal_plasticitystress_update_material_basedmultiple_eigenstrains_testi blockmaterialsstress materialsthermal_eigenstrain_ materialsthermal_eigenstrain_ syntax paramet materialscomputecrystalplasticitythermaleigenstrain syntax input materialscomputecrystalplasticitythermaleigenstrain syntax children materialscomputecrystalplasticitythermaleigenstrain userobject base crystal plastic system syntax descript materialsfinitestrainuobasedcp descript userobject base crystal plastic system design facilit implement differ constitut law modular way phenomenolog constitut model dislocationbas constitut model implement system system consist one materi class finitestrainuobasedcp four userobject class name crystalplasticityslipr crystalplasticityslipresist crystalplasticitystatevarratecompon crystalplasticitystatevari materi class base plastic flow individu slip system obtain inelast deform materi present formul consid larg deform base stress updat algorithm import function associ class outlin function computeqpstress input nd piolakirchhoff pk stress intermedi configur previou increment variabl _pk_old symbol t_n plastic deform gradient previou increment variabl _fp_old symbol fp_n state variabl previou increment current deform gradient variabl _dfgrd symbol f output current pk stress variabl _pk symbol current plastic deform gradient variabl _fp symbol fp current slip system resist state variabl solv iter use predictor corrector algorithm solv use newton raphson flowchart iter yalpha_iyalpha_n ii calcul residu r jacobian jpartial rpartial function calc_resid_jacob iii updat t_it_ijr iv check r_ _rtol option user defin paramet fals go step ii els v calcul yalpha_i function updateslipsystemresistanceandstatevari vi check maxsalpha_isalpha_isalpha_i _stol option user defin paramet fals go step ii els vii obtain rotat tensor r viii updat rotat tilderrq q rotat tensor euler angl exit function function calc_resid_jacob user overrid function input pk stress previou iter variabl _pk symbol t_i iter invers plastic deform gradient previou increment variabl _fp_old_inv symbol fp_n current deform gradient variabl _dfgrd symbol f output residu variabl resid symbol r jacobian variabl jac symbol j updat invers plastic deform gradient variabl _fp_inv symbol fp residu r implement get slip rate userobject ii result slip increment variabl eqv_slip_incr delta gamma_resisumlimits_msum limits_alpha left delta gammaalpha_m s_malpharight s_malpha flow direct iii current plastic compon deform gradient fpfp_ndelta gamma_r iv elast compon deform gradient iter feffp vi pk stress due t_i associ slip increment current iter variabl pk_new tprimecfracleftfetfeiright vii residu rt_itprim jacobian j formul rt_itprim jfracparti rpartial t_iifracparti tprimeparti t_i ii tprimece give fracparti tprimeparti t_ic fracparti eeparti t_i iii eefracleftfetf iright give indici notat fracparti ee_ijparti fe_klfracleft delta_ilfe_kjdelta_jlfe_kiright delta_ij kroneckar delta iv feffp give indici notat fracparti fe_ijparti fp_klf_ikdelta_lj v fpfp_ndelta gamma_r give fracparti fppartial delta gamma_resfp_n vi delta gamma_resisumlimits_msum limits_alpha left delta gammaalpha_m s_malpharight give fracparti delta gamma_resparti delta gammaalpha_msumlimits_alpha s_malpha vii delta gammaalpha_mftau_malpha give fracparti delta gammaalpha_mparti taualpha_m viii taualphat_is_m give fracparti taualpha_mparti t_is_malpha ix henc fracparti tprimeparti t_ic fracparti eeparti fe fracparti feparti fp fracparti fppartial delta gamma_ressumlimits_mfracparti delta gamma_resparti delta gammaalpha_mfracparti delta gammaalpha_mparti taualpha_mfracparti taualphaparti t_i jacobian j implement variabl dtaudpk fracparti taualphaparti t_i ii variabl dfpinvdslip fracparti fppartial delta gammaalpha iii variabl dfedfpinv fracparti feparti fp iv variabl deedf fracparti eeparti fe v variabl dfpinvdpk fracparti fppartial t_ifracparti fppartial delta gammaalpha fracparti delta gammaalphaparti taualpha fracparti taualphaparti t_i vi fracparti delta gammaalpha_mparti taualpha_m obtain slip rate userobject vii variabl jac jcfracparti eeparti fe fracparti feparti fp fracparti fppartial t_i follow jmathfrakij mathfraki fourth order ident tensor updat cauchi stress variabl sig sigmaf t_i fetj function computeqpelasticitytensor defin tangent moduli k use precondition jfnk user overrid function input current plastic deform gradient variabl _fp symbol fp current deform gradient variabl _dfgrd symbol f output tangent moduli variabl _jacobian_multsymbol k formul kfracparti sigmaparti f ii sigmafetfetj give fracparti sigmaparti ffracjeleftfracparti feparti ftfetfefracparti tpartial ffetfetfracparti fetparti fright iii indici notat fracparti fe_ijparti f_kldelta_kifp_lj iv tcee give fracparti tpartial ffracparti tpartial eefracparti eeparti fefracparti feparti fcfracparti eeparti fefracparti feparti f v indici notat fracparti ee_ijparti fe_klfracleftdelta_ilfe_kjdelta_jlfe_kiright implement variabl dfedf calcul fracparti feparti f ii variabl deedf calcul fracparti eeparti fe iii variabl dsigspkdf calcul fet cfracparti eeparti fe fe syntax descript materialsfinitestrainuobasedcp syntax paramet materialsfinitestrainuobasedcp syntax input materialsfinitestrainuobasedcp syntax children materialsfinitestrainuobasedcp bibtex bibliographi comput elast tensor cp syntax descript materialscomputeelasticitytensorcp descript materi computeelasticitytensorcp use creat elast tensor crystal plastic simul materi build orthotrop elast tensor use fill_method symmetr computeelasticitytensorcomputeelasticitytensormd computeelasticitytensorcp rotat elast tensor initi setup step euler angl provid start timestep alert warn titlecryst plastic simul use activ rotat rotat matrix use classcomputeelasticitytensorcp transpos rotat matrix creat bung euler angl base class computeelasticitytensorcomputeelasticitytensormd differ rotat matrix activ rotat convent use crystal plastic simul fill method symmetr appropri materi three orthotrop plane symmetri citepmalvernintroduct use simul anistrop materi cubic crystal engin elast tensor notat orthotrop materi given eqsymmetric_fill_method beginequ labeleqsymmetric_fill_method c_ijkl beginbmatrix c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ endbmatrix endequ rotat tensor convent euler angl conventionhttpmathworldwolframcomeulerangleshtml use computeelasticitytensorcp zxz convent euler angl argument expect degre radian denot phi_ phi phi_ correspond axi rotat rotat tensor r calcul current euler angl timestep shown eqrotation_tensor beginequ labeleqrotation_tensor beginalign r_ cosphi_cosphi_ cosphisinphi_sinphi_ r_ cosphi_sinphi_ cosphicosphi_sinphi_ r_ sinphi_sinphi r_ cosphi_sinphi_ cosphi_cosphisinphi_ r_ sinphi_sinphi_ cosphi_cosphicosphi_ r_ cosphi_sinphi r_ sinphi sinphi_ r_ cosphi_ sinphi r_ cosphi endalign endequ elast tensor rotat eqcp_elasticity_tensor_rot beginequ labeleqcp_elasticity_tensor_rot c_ijkl rt_im rt_jn rt_ko rt_lp c_mnop endequ begin materi timestep calcul crystal plastic materi includ computeelasticitytensorcp employ activ rotat crystal system rotat sampl load coordin system gener bung euler angl use describ passiv rotat rotat sampl coordin system crystal coordin system result rotat tensor appli transpos rotat tensor given eqrotation_tensor note eqcp_elasticity_tensor_rot exampl input file syntax list modulestensor_mechanicstesttestscrystal_plasticityuser_object_basedtesti blockmaterialselasticity_tensor syntax paramet materialscomputeelasticitytensorcp syntax input materialscomputeelasticitytensorcp syntax children materialscomputeelasticitytensorcp bibtex bibliographi crystalplasticitykalidindiupd syntax descript materialscrystalplasticitykalidindiupd crystalplasticitykalidindiupd design use conjunct computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd class calcul respons fcc crystallin solid detail algorithm specif stress strain measur use crystalplasticityupd base class given document page computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd constitut model definit self latent harden crystal plastic model develop citekalidindi implement class slip rate given power law relationship beginequ labeleqnpowerlawslipr dotgammaalpha dotgamma_o left fractaualphagalpha rightm sign left taualpha right endequ dotgamma_o refer slip rate taualpha appli shear stress slip system alpha galpha slip system strength resist slip strain rate sensit expon strength slip system solv iter process function slip increment beginequ labeleqnslipstrengthevolut galpha g_o delta gammaalpha qalpha beta h _o left fracgalphag_sat righta sign left fracgalphag_sat right endequ qalpha beta harden coeffici matrix account differ self latent harden eqnselflatentqmatrix h_o initi harden term g_sat constant satur harden valu harden expon citepkalidindi self latent harden assum fcc system given beginequ labeleqnselflatentqmatrix qalpha beta beginbmatrix q q q q q q q q q q q q endbmatrix endequ q constant valu latent harden among noncoplanar slip system eqnselflatentqmatrix slip system share slip plane normal eg bar coplanar group togeth latent harden rate uniti citepkalidindi matrix entri eqnselflatentqmatrix repres interact among two differ coplanar slip system group total six slip system citepkalidindi connect twin constitut model simul twin propag disloc slip constitut model includ influenc twin propag plastic veloc gradient implement fraction total twin volum fraction citepkalidindi beginequ lp left f_total_n right sum_alphaslip dotgammaalpha salpha_o sum_betatwin dotfbetagamma_twsbeta_o endequ f_total sum twin volum fraction twin system dotgammaalpha plastic shear rate due disloc slip salpha_o schmid tensor slip system sbeta_o schmid tensor twin system note valu total volum fraction twin lag singl timestep use lag valu design n subscript modif requir name total twin volum fraction materi properti provid disloc slip constitut model shown exampl input file syntax list modulestensor_mechanicstesttestscrystal_plasticitystress_update_material_basedupdate_method_testi blockmaterialstrial_xtalpl crystalplasticitykalidindiupd must run conjunct crystal plastic specif stress calcul shown list modulestensor_mechanicstesttestscrystal_plasticitystress_update_material_basedupdate_method_testi blockmaterialsstress simul coupl disloc slip constitut model twin propag model crystalplasticitytwinningkalidindiupdatecrystalplasticitytwinningkalidindiupdatemd name total twin volum fraction materi properti must suppli input file list modulestensor_mechanicstesttestscrystal_plasticitytwinningcombined_twinning_slip_compressioni blockmaterialsslip_xtalpl syntax paramet materialscrystalplasticitykalidindiupd syntax input materialscrystalplasticitykalidindiupd syntax children materialscrystalplasticitykalidindiupd bibtex bibliographi crystalplasticitytwinningkalidindiupd syntax descript materialscrystalplasticitytwinningkalidindiupd crystalplasticitytwinningkalidindiupd design use conjunct computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd class calcul respons fcc crystallin solid detail algorithm specif stress strain measur use crystalplasticityupd base class given document page computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd addit crystalplasticitytwinningkalidindiupd intend use constitut model disloc glide slip combin twin model crystalplasticitykalidindiupdatecrystalplasticitykalidindiupdatemd replic coupl two constitut model plastic veloc gradient calcualt present citekalidindi constitut model definit propos kalidindi straightforward twin propag model comput plastic shear increment due twin power law constiut model beginequ delta gammabeta gamma_o left fractaubetagbeta rightm quad quad taubeta quad f_total f_limit endequ gamma_o refer slip rate taubeta appli resolv shear stress gbeta twin propag resist valu slip rate sensit expon f_total sum twin volum fraction twin system f_limit userdefin upper limit twin volum fraction constitut model allow detwin rate twin volum fraction twin system calcul system plastic shear increment beginequ dotfbeta fracdotgammabetagamma_tw endequ gamma_tw characterist shear twin citepkalidindi twin propag resist calcul function twin volum fraction characterist twin shear differ harden coeffici noncoplanar coplanar twin system differ coeffici requir captur experiment observ earli twin deform noncoplanar system citepkalidindi beginequ delta gbeta gamma_tw left h_ncleft f_total rightb sum_nck dotfk h_cpleft f_total right sum_cpk dotfk right endequ h_nc userdefin noncoplanar harden coeffic b harden expon noncoplanar twin system h_cp userdefin coplanar harden coeffici plastic veloc gradient calcul simul twin propag disloc slip constitut model includ influenc twin propag plastic veloc gradient implement fraction twin volum fraction beginequ labeleqnmodtwinslp lp left f_total_n right sum_alphaslip dotgammaalpha salpha_o sum_betatwin dotfbetagamma_twsbeta_o endequ dotgammaalpha plastic shear rate due disloc slip salpha_o schmid tensor slip system sbeta_o schmid tensor twin system note valu total volum fraction twin use eqnmodtwinslp lag singl timestep use lag valu design n subscript modif requir name total twin volum fraction materi properti provid disloc slip constitut model shown exampl input file syntax list modulestensor_mechanicstesttestscrystal_plasticitytwinningonly_twinning_fcci blockmaterialstwin_only_xtalpl crystalplasticitytwinningkalidindiupd must run conjunct crystal plastic specif stress calcul shown list modulestensor_mechanicstesttestscrystal_plasticitytwinningonly_twinning_fcci blockmaterialsstress case twin model intend use disloc glide slip model crystalplasticitykalidindiupdatecrystalplasticitykalidindiupdatemd coupl volum fraction twin disloc slip plastic veloc gradient contribut shown eqnmodtwinslp name total twin volum fraction materi properti must suppli glide slip materi model list modulestensor_mechanicstesttestscrystal_plasticitytwinningcombined_twinning_slip_compressioni blockmaterialsslip_xtalpl syntax paramet materialscrystalplasticitytwinningkalidindiupd syntax input materialscrystalplasticitytwinningkalidindiupd syntax children materialscrystalplasticitytwinningkalidindiupd bibtex bibliographi comput multipl crystal plastic stress syntax descript materialscomputemultiplecrystalplasticitystress descript among mani field studi mechan crystallin solid crystal plastic establish capabl tool explor relationship crystallin microstructur evolut engin scale stress respons citepasarokf roter formul crystal plastic within continuum mechan framework enabl util model longer time scale larger length scale atomist disloc dynam model explicitli track individu disloc defect computemultiplecrystalplasticitystress class design facilit implement differ crystal plastic constitut law certain degre modular among model eg flexibl includ one sever slip mode compar exist finitestrainuobasedcpfinitestrainuobasedcpmd class computemultiplecrystalplasticitystress reli materi system instead userobject system store updat state variabl mean specif constitut model comput variabl eg slip rate slip resist state variabl associ rate compon selfcontain one materi class result base class greatli reduc number addit class necessari new crystal plastic constitut model meanwhil input block defin specif crystal plastic model also significantli simplifi class computemultiplecrystalplasticitystress design use conjunct one sever crystal plastic model deriv crystalplasticitystressupdatebas class alert note titlerequir specif constitut crystal plastic base class constitut crystal plastic model develop use computemultiplecrystalplasticitystress class must inherit crystalplasticitystressupdatebas class crystal plastic govern equat within computemultiplecrystalplasticitystress base class crystal slip result strain increment implement updat lagrangian increment form constitut evolut equat also written lagrangian form relat refer frame correspond second piolakirchoff stress measur use determin local converg quadratur point crystal plastic constitut model base class converg achiev within userspecifi toler equival cauchi stress valu calcul cauchi stress measur use tradit fem residu calcul within moos framework see xtalpl_nr_pkconverg brief overview relev continuum mechan concept crystal plastic constitut model base class given constitut equat finit strain inelast mechan crystal plastic deform gradient boldsymbolf assum multipl decompos elast plastic part see eg citeasarokf beginequ boldsymbolf boldsymbolf boldsymbolfp endequ textdetleft boldsymbolf right textdetleft boldsymbolfp right elast plastic deform gradient respect elast plastic deform gradient defin two deform configur one intermedi configur describ boldsymbolfp final deform configur boldsymbolf boldsymbolfp chang crystal shape due disloc motion account plastic deform gradient tensor boldsymbolfp elast deform gradient tensor boldsymbolf account recover elast stretch rotat crystal lattic thermomechan problem third configur introduc account thermal deform see eg citelidevelopmentozturkcrystalmeissonnierfinit result decomposit read beginequ labeleqndeformationgraddecomposit boldsymbolf boldsymbolf boldsymbolfp boldsymbolftheta endequ boldsymbolftheta thermal deform gradient textdetleft boldsymbolftheta right thermal deform gradient boldsymbolftheta account deform crystal lattic due thermal expans constitut equat calcul detail associ thermal deform gradient boldsymbolf theta includ computecrystalplasticitythermaleigenstraincomputecrystalplasticitythermaleigenstrainmd total plastic veloc gradient express term plastic deform gradient beginequ labeleqnplasticdeformationgradr boldsymbollp dotboldsymbolfp boldsymbolfp endequ formul use comput updat plastic deform gradient via backward time integr ie beginequ labeleqnfpinv_upd boldsymbolfp_n boldsymbolfp_nleft boldsymboli boldsymbollp delta right endequ boldsymboli second order ident tensor subscript n denot current step n denot previou step delta time step size plastic deform gradient use calcul elast deform gradient via eqndeformationgraddecomposit use comput elast lagrangian strain elast lagrangian strain boldsymbole defin beginequ labeleqne boldsymbole frac left boldsymbolfeinterc boldsymbolf boldsymboli right endequ let boldsymbol second piolakirchhoff tensor stress work conjug boldsymbole elast constitut relat given beginequ labeleqnstress_pk boldsymbol mathbbc boldsymbole endequ mathbbc fourthord temperatur depend elast tensor stress boldsymbol pull back cauchi stress boldsymbolsigma current configur beginequ labeleqnstress_cauchi boldsymbol textdetboldsymbolf boldsymbolf boldsymbolsigma left boldsymbolf rightinterc endequ account multipl deform mechan total plastic veloc gradient boldsymbollp comput sum plastic veloc gradient come crystal plastic constitut equat beginequ labeleqnsumshears_multiple_cp boldsymbollp sum_im mathcallp_i endequ mathcallp_i plastic veloc gradient correspond th ith crystal plastic deform mechan total number deform mode mathcallp_i defin sum slip increment slip system citepasarokf beginequ labeleqnsumshears_one_cp mathcallp_i sum_alphan dotgamma_ialpha boldsymbols_ioalpha otim boldsymbolm_ioalpha endequ dotgammaalpha_i slip rate model slip system alpha note associ slip direct slip plane normal unit vector boldsymbols_io boldsymbolm_io defin refer configur evolut plastic slip gammaalpha_i must specifi everi slip plane everi slip mechan express beginequ labeleqngamma_dot dotgammaalpha_i hatdotgammaalpha_i left taualpha_i salpha_i right endequ take differ form among constitut model use crystal plastic salpha_i denot slip resist taualpha_i denot resolv shear stress associ slip system alpha model respect resolv shear stress defin beginequ labeleqnappliedshearstress taualpha textdetboldsymbolftheta left boldsymbolfthetainterc boldsymbol boldsymbolfthetainterc right boldsymbolsalpha_io otim boldsymbolmalpha_io endequ report shear stress form consid thermal effect reader particularli interest thermal eigenstrain calcul pleas refer computecrystalplasticitythermaleigenstraincomputecrystalplasticitythermaleigenstrainmd document page facilit understand constitut equat fundament continuum mechan concept includ follow subsect deform gradient strain measur refer configur deform gradient use find deform refer configur beginequ labeleqndefdeformationgradientinvers x_ki f_ik fracparti x_kpartial x_i delta_ki u_ki endequ upper case subscript denot refer configur lower case subscript denot current configur u denot displac deform gradient multipl decompos via cauchi theorem nonsingular tensor two rank tensor one repres stretch rotat motion citepmalvernintroduct beginequ labeleqndefrudecomponsit boldsymbolf boldsymbolr cdot boldsymbolu boldsymbolv cdot boldsymbolr endequ boldsymbolr orthogon rotat tensor boldsymbolu boldsymbolv symmetr right left stretch tensor respect citecauchygreen introduc follow deform tensor beginequ labeleqndefleftcauchygreendeformtensor boldsymbolb left boldsymbolf rightt cdot boldsymbolf endequ beginequ labeleqndefrightcauchygreendeformtensor boldsymbolc boldsymbolft cdot boldsymbolf endequ boldsymbolb boldsymbolc left right cauchygreen deform tensor deform tensor enabl introduct greensaint venant almansihemel strain tensor lagrangian greensaint venant strain tensor express function right cauchygreen deform tensor citepslaughterlinear beginequ labeleqndeflagrangianstrainrightcauchygreen boldsymbol frac left boldsymbolc boldsymboli right endequ boldsymboli second order ident tensor lagrangian strain tensor enabl calcul strain respect refer configur function deform gradient computemultiplecrystalplasticitystress class elast part lagrangian strain tensor boldsymbole util calcul stress see eqne eqnstress_pk second piolakirchhoff stress write constitut equat appropri correspond strain stress measur must use work conjug pair work conjug lagrangian strain tensor second piolakirchoff stress measur first second piolakirchhoff stress measur defin refer configur although second piolakirchhoff stress tensor symmetr second piolakirchhoff stress tensor defin cauchi stress tensor beginequ labeleqndefsecondpiolakirchhoffstress boldsymbol textdetboldsymbolf cdot boldsymbolf cdot boldsymbolsigma cdot left boldsymbolf rightinterc endequ invers deform gradient use relat current configur frame back refer frame ie pull back note computemultiplecrystalplasticitystress class pull back cauchi stress via elast part deform gradient boldsymbolf see eqnstress_cauchi calcul schmid tensor calcul flow direct schmid tensor dyadic product slip direct slip plane normal unit vector boldsymbols_ioalpha otim boldsymbolm_ioalpha straight forward case cubic crystal includ face center cubic fcc bodi center cubic bcc crystal index miller indic commonli use describ slip direct slip plane normal first normal individu normal directli use dyadic product convers millerbravi indic hcp cartesian system hexagon close pack hcp crystal often describ index miller bravi system beginequ labeleqnmillerbravishcpindic hkil uvtw endequ comput schmid tensor slip direct slip plane normal indic must first transform cartesian coordin system within associ computemultiplecrystalplasticitystress implement convers use assumpt a_axi h index align xaxi basal plane hcp crystal lattic see xtalpl_hcp_basalplane_not caxi l index assum paral zaxi cartesian system media tensor_mechanicscrystal_plasticityhcp_basal_plane_diagrampng idxtalpl_hcp_basalplane_not captionth convent use transform index millerbravi indic index cartesian system align xaxi a_axi basal plane implement styledisplayblockmarginleftautomarginrightautowidth slip plane direct transform cartesian system matrix equat beginequ labeleqnhcpslipdirectiontransform beginbmatrix fraca fracsqrta c endbmatrix cdot beginbmatrix u v u v w endbmatrix_hex beginbmatrix x z endbmatrix_cart endequ slip plane normal similiarli transform beginequ labeleqnhcpslipplanenormaltransform beginbmatrix fraca fracasqrt fracasqrt fracc endbmatrix cdot beginbmatrix h k l endbmatrix_hex beginbmatrix h k l endbmatrix_cart endequ c hcp unit cell lattic paramet basal axial direct respect transform cartesian system vector normal use comput schmid tensor alert note align a_ axi millerbravi notat xaxi cartesian system within basal plane unit hcp specif adopt convers implement computemultiplecrystalplasticitystress associ class broad consensu align hpc caxi cartesian zaxi standard align within basal plane emerg user note assumpt construct simul interpret simul result calcul crystal rotat rotat crystal deform calcul within computemultiplecrystalplasticitystress class polar decomposit elast part deform tensor boldsymbolf ie beginequ boldsymbolf boldsymbolrecdotboldsymbolu endequ boldsymbolu symmetr matrix describ elast stretch crystal boldsymbolr orthogon tensor describ elast part crystal rotat note boldsymbolr repres rotat crystal respect crystal lattic obtain crystal rotat rel refer frame total rotat boldsymbolrtexttot initi orient crystal need consid ie beginequ boldsymbolrtexttot boldsymbolrecdotboldsymbolrtextiniti endequ boldsymbolrtextiniti denot rotat matrix correspond initi orient crystal obtain euler angl crystal deform one need transform rotat matrix euler angl one refer computeupdatedeuleranglecomputeupdatedeuleranglemd class purpos comput workflow order calcul perform within computemultiplecrystalplasticitystress class given flowchart form xtalpl_nr_pkconverg converg cauchi stress valu correspond strain measur calcul via invers eqndefsecondpiolakirchhoffstress continu fem residu calcul within moos framework media tensor_mechanicscrystal_plasticitycrystal_plasticity_stress_update_algorithmpng idxtalpl_nr_pkconverg captionth flowchart calcul stress strain measur within computemultiplecrystalplasticitystress class implement tensor mechan modul moos shown compon involv newtonrhapson iter shown light blue compon shown light orang execut per moos iter styledisplayblockmarginleftautomarginrightautowidth use newton rhapson approach outlin xtalpl_constitutive_converg consid system converg residu second piolakirchhoff stress increment current previou iter within toler specifi user newtonrhapson iter algorithm implement crystalplasticitystressupdatebas separ iter second piolakirchhoff stress residu physic base constitut model use calcul plastic veloc gradient see xtalpl_constitutive_converg converg algorithm newtonrhapson iter taken approach alreadi implement moos adapt crystal plastic framework media tensor_mechanicscrystal_plasticitymultiple_crystal_plasticity_stress_update_constitutive_convergencepng idxtalpl_constitutive_converg captionth algorithm compon newtonrhapson iter shown light blue crystal plastic constitut model compon overwritten specif constitut model class inherit crystalplasticitystressupdatebas shown light green styledisplayblockmarginleftautomarginrightautowidth constitut model use calcul plastic slip rate class inherit crystalplasticitystressupdatebas unit assum crystal plastic materi simul domain crystal plastic model resolv order individu crystal grain mesh size small although moos dimens agnost crystal plastic model implement mmmpa unit system dimens system choic impact input file follow manner mesh dimens construct mm elast constant valu eg young modulu shear modulu enter mpa initi slip system strength valu enter mpa simul time given strain rate displac load rate given mm respect physic base model mayb base class initi densiti crystal defect eg disloc point defect given mm mm exampl input file list modulestensor_mechanicstesttestscrystal_plasticitystress_update_material_basedupdate_method_testi blockmaterialsstress note specif constitut crystal plastic model must also given input file defin plastic slip rate increment list modulestensor_mechanicstesttestscrystal_plasticitystress_update_material_basedupdate_method_testi blockmaterialstrial_xtalpl final specif constant elast tensor class must use materi account use slip plane direct refer configur eqnsumshears_multiple_cp eqnsumshears_one_cp eqnappliedshearstress list modulestensor_mechanicstesttestscrystal_plasticitystress_update_material_basedupdate_method_testi blockmaterialselasticity_tensor syntax paramet materialscomputemultiplecrystalplasticitystress syntax input materialscomputemultiplecrystalplasticitystress syntax children materialscomputemultiplecrystalplasticitystress bibtex bibliographi crystal plastic hcp disloc slip beyerlein updat syntax descript materialscrystalplasticityhcpdislocationslipbeyerleinupd descript crystalplasticityhcpdislocationslipbeyerleinupd design use conjunct computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd class calcul respons fcc crystallin solid detail algorithm specif stress strain measur use crystalplasticityupd base class given document page computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd crystal plastic consitut model compat computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd user must suppli slip plane normal slip direct inform length unit cell lattic paramet unlik crystal plastic consistut model crystalplasticityhcpdislocationslipbeyerleinupd set use hcp lattic type lattic type requir four entri expect slip plane normal slip direct vector entri constitut model definit constitut model glide evolut forest disloc within hexagon closepack hcp crystal lattic implement class constitut model taken work citebeyerleindislocationcapolungointeractionbeyerleinprobabilist develop viscoplast selfconsist applic constitut model employ within crystal plastic implement crystalplasticityhcpdislocationslipbeyerleinupd allow evalu slip resist forest disloc densiti substructur densiti differ type slip system basala prismatica pyramidalca within class differ type slip system term mode follow citebeyerleindisloc vector valu slip mode depend paramet may suppli within input file number slip system valu burger vector valu initi lattic friction exampl slip mode depend input file paramet specif mode explicityli identifi within code particular order enforc alert warn user respons ensur order modespecif paramet consist throughout input file order slip system mode correspond correctli order slip plane normal slip direct given slip system text file slip_sys_file_nam slip system resist calcul resist disloc glide repres constitut model strength valu appli shear stress must overcom produc plastic slip slip resist calcul individu usersuppli slip system resist consid sum four term beginequ labeleqnhcpglidetotalslipresist galpha galpha_o galpha_hp galpha_forest galpha_sub endequ galpha_o userdefin constant initi lattic friction galpha_hp repres hallpetch type treatment slip resist depend grain size galpha_forest galpha_sub repres harden contribut two disloc densiti popul forest substructur citepbeyerleindislocationth grainsiz depend harden term employ hallpetch type depend grain size follow citebeyerleindisloc beginequ labeleqnhallpetchtypeslipresist galpha_hp hpalphamualpha sqrtfracbalphad_g endequ hpalpha userdefin constant mualpha shear modulu slip system balpha slip system burger vector d_g averag grain size valu comput init stage simul harden contribut forest disloc see forest disloc evolut forest_dislocation_evolut discuss calcul per slip basiscitepcapolungointeract beginequ labeleqnforestdislocationslipresist galpha_forest chi balpha mualpha sqrtrhoalpha_forest endequ chi userdefin interact coeffici rhoalpha_forest densiti forest disloc slip system alpha calcul complet everi timestep captur disloc densiti evolut similarli harden contribut due substructur densiti comput per timestep howev singl total valu substructur densiti slip system track describ substructur evolutionsubstructure_evolut section characterist slip system burger vector affect harden contribut substructur densiti slip system beginequ labeleqnsubstructureslipresist galpha_sub k_sub balpha mualpha rho_sub textlogleftfracbalphasqrtrho_sub right endequ k_sub userdefin interact coeffici rho_sub substructur densiti slip rate calcul slip rate due disloc glide calcul power law relat beginequ labeleqnpowerlawslipratemodel delta gammaalpha left dotgamma_o left fractaualphagalpha rightm sign lefttaualpharight right delta endequ dotgamma_o refer strain rate taualpha resolv appli shear stress slip system alpha slip rate expon deltat current timestep size work citebeyerleindisloc low slip rate expon recommend produc slip appli shear stress near valu fo slip system resist eqnhcpglidetotalslipresist note lower valu strain rate expon caus strain rate sensit follow citecapolungointeract citebeyerleinprobabilist crystalplasticityhcpdislocationslipbeyerleinupd set refer strain rate dotgamma_o equal macroscop strain rate usersuppli paramet reduc potenti issu aris low slip increment requir beginequ fractaualphagalpha texttoler endequ implement class toler userdefin paramet slip system meet threshold requir slip increment valu set zero timestep forest disloc evolut idforest_dislocation_evolut forest disloc evolv respons resolv appli shear stress provid drive forc diclosc glide forest disloc densiti evolut model direct function slip increment citepbeyerleindisloc beginequ delta rhoalpha_forest k_ sqrtrhoalpha_forest left delta gammaalpha right delta rhoalpha_rem endequ k_ slip mode depend forest disloc gener coeffici rhoalpha_rem remov forest disloc densiti increment current timestep forest disloc either annihil gener substructur debri evolut remov forest disloc form citepbeyerleindisloc beginequ labeleqnremovedforestdisloc delta rhoalpha_rem fracchi balphagalphak_ left fracktdalphaleftbalpharight ln leftfracdotepsilonepsilon_ rightright left delta gammaalpha right endequ galpha slipmod specif normal activ energi k boltzman constant temperatur dalpha slip mode depend propotion factor dotepsilon appli strain rate bound within rang epsilon_ materi valu estim citepbeyerleindisloc final forest disloc densiti per slip system updat end time step beginequ rhoalpha_forestn rhoalpha_forestn deltarhoalpha_forest endequ n current timestep n previou timestep provid increment forest disloc densiti within userset toler forest densiti increment toler crystalplasticityhcpdislocationslipbeyerleinupd trigger use smaller timestep substep substructur disloc evolut idsubstructure_evolut substructur densiti calcul function remov forest disloc densiti eqnremovedforestdisloc follow citecapolungointeract beginequ labeleqnsubstructuredens delta rho_sub sum_alphafalphabalphadelta rhoalpha_rem sqrtrho_sub endequ falpha slipmod depend substructur gener rate coeffici substructur densiti consid affect forest disloc evolut slip systesm eqvenli thu total sum substructur densiti across slip system model note citepcapolungointeract constitut model nto allow recoveri disloc substructur densiti exampl input file syntax list modulestensor_mechanicstesttestscrystal_plasticityhcp_single_crystalupdate_method_hcp_aprismatic_capyramidali blockmaterialstrial_xtalpl crystalplasticityhcpdislocationslipbeyerleinupd must run conjunct crystal plastic specif stress calcul shown list modulestensor_mechanicstesttestscrystal_plasticityhcp_single_crystalupdate_method_hcp_aprismatic_capyramidali blockmaterialsstress syntax paramet materialscrystalplasticityhcpdislocationslipbeyerleinupd syntax input materialscrystalplasticityhcpdislocationslipbeyerleinupd syntax children materialscrystalplasticityhcpdislocationslipbeyerleinupd bibtex bibliographi finit strain crystal plastic slip rate residu syntax descript materialsfinitestraincpsliprater descript alert warn finitestraincpsliprater model activ develop use finitestrainuobasedcpfinitestrainuobasedcpmd crystal plastic system computemultiplecrystalplasticitystresscomputemultiplecrystalplasticitystressmd system recommend instead finitestraincpsliprater converg crystal plastic strain stress respons determin respect slip rate slip system crystal plastic model contrast materi finitestraincrystalplasticityfinitestraincrystalplasticitymd determin crystal strain stress respons respons residu calcul second piolakirchoff stress increment constitut model definit constitut model use calcul plastic slip rate crystal plastic materi slip rate model power law beginequ labeleqnpowerlawslipr dotgammaalpha dotgamma_o left fractaualphagalpha rightm sign left taualpha right endequ dotgamma_o refer slip rate taualpha appli shear stress slip system alpha galpha slip system strength resist slip strain rate sensit expon strength slip system solv iter process function slip increment beginequ labeleqnslipstrengthevolut galpha g_o delta gammaalpha qalpha beta h _o left fracgalphag_sat righta sign left fracgalphag_sat right endequ qalpha beta harden coeffici matrix account differ self latent harden eqnselflatentqmatrix h_o initi harden term g_sat constant satur harden valu harden expon citepkalidindi self latent harden crystal defin fcc system beginequ labeleqnselflatentqmatrix qalpha beta beginbmatrix q q q q q q q q q q q q endbmatrix endequ q constant valu latent harden among noncoplanar slip system eqnselflatentqmatrix slip system share slip plane normal eg bar coplanar group togeth latent harden rate uniti citepkalidindi matrix entri eqnselflatentqmatrix repres interact among two differ coplanar slip system group total six slip system citepkalidindi unit assum crystal plastic materi simul domain crystal plastic model resolv order individu crystal grain mesh size small although moos dimens agnost crystal plastic model implement mmmpa unit system dimens system choic impact input file follow manner mesh dimens construct mm elast constant valu eg young modulu shear modulu enter mpa initi slip system strength valu enter mpa simul time given strain rate displac load rate given mm respect physic base model mayb base class initi densiti crystal defect eg disloc point defect given mm mm syntax paramet materialsfinitestraincpsliprater syntax input materialsfinitestraincpsliprater syntax children materialsfinitestraincpsliprater bibtex bibliographi abaqu umat stress syntax descript materialsabaqusumatstress descript abaqusumatstress provid interfac use _abaqu umat_ function constitut model moos umat user subroutin interfac umat function commonli code fortran locat application_dirplugin application_dirtestplugin directori automat compil moos build system umat file my_umatf load abaqusumatstress provid full path filenam without extens via parammaterialsabaqusumatstressplugin paramet moos input file valid umat subroutin follow call signatur subroutin umatstressstatevddsddessespdscd rplddsddtdrpldedrpldt strandstrantimedtimetempdtemppredefdpredcmnam ndinshrntensnstatvpropsnpropscoordsdrotpnewdt celentcelentdfgrddfgrdnoelnptlayerksptkstepkinc c charact cmname dimens stressntensstatevnstatv ddsddentensntensddsddtntensdrpldenten stranntensdstranntenstimepredefdpr propsnpropscoordsdrotdfgrddfgrd user code defin ddsdde stress statev sse spd scd necessari rpl ddsddt drplde drpldt pnewdt return end descript input output paramet umat user subroutin found abaqu user manual note umat standard use base index noel element number npt integr point number moos use base index intern therefor add one element integr point number moos pass umat umat time step control time step control within umat subroutin use togeth moos gener capabl control time step base materi behavior pnewdt denot factor modifi umat routin less one signal cut time step one signal local increment time step sinc time step control local quadratur point moos provid layer object handl inform provid umat pnewdt first select soft termin invalid time step time step increment use turn larger comput maximum time step increment anywher system list modulestensor_mechanicstesttestsumattime_stepelastic_timestepi blockuserobject second step select time stepper control entir finit element system control appli umat step well kernel object system list modulestensor_mechanicstesttestsumattime_stepelastic_timestepi blockexecutionertimestepp time step increment reduc prescrib umat routin howev maximum increment limit select growth_factor avoid increas time step much one time step next reli umat pnewdt one choos select larger growth_factor subroutin act pnewdt chosen regress test list modulestensor_mechanicstesttestsumattime_stepelastic_timestepi blockmaterialsumat exampl input file list modulestensor_mechanicstesttestsumatelastic_hardeninglinear_strain_hardeningi blockmaterialsconst syntax paramet materialsabaqusumatstress syntax input materialsabaqusumatstress syntax children materialsabaqusumatstress bibtex bibliographi czmrealvectorcartesiancompon syntax descript materialsczmrealvectorcartesiancompon descript materi model use extract compon real vector defin cohes zone cartesian coordin system use regardless coordin system use model materi model set cohesivezonemastercohesivezonemasterindexmd automat traction displacementjump compon request generate_output paramet also set directli user czmrealvectorcartesiancompon take argument valu index save materialproperti eqreal_vecto_indic show compon valu vector compon equat ideqreal_vecto_indic v_i impli beginbmatrix v_ v_ v_ endbmatrix syntax paramet materialsczmrealvectorcartesiancompon syntax input materialsczmrealvectorcartesiancompon syntax children materialsczmrealvectorcartesiancompon czmcomputedisplacementjumpsmallstrain syntax descript materialsczmcomputedisplacementjumpsmallstrain overview czmcomputedisplacementjumpsmallstrain calcul total displac jump across cohes zone interfac natur coordin system object assum small strain account interfac rotat caus deform rigid bodi motion displac jump global coordin defin beginequ llbracket u rrbracket u u endequ relat displac jump interfac coordin llbracket hatu rrbracket follow express beginequ llbracket hatu rrbracket qt_ llbracket u rrbracket endequ express q rotat matrix transform global local coordin initi configur first compon llbracket hatu rrbracket alway refer displac jump normal direct two compon refer tangenti direct object use simul exampl input file syntax object automat ad cohes master master actioncohesivezonemasterindexmd strainsmal syntax paramet materialsczmcomputedisplacementjumpsmallstrain syntax input materialsczmcomputedisplacementjumpsmallstrain syntax children materialsczmcomputedisplacementjumpsmallstrain czmcomputeglobaltractiontotallagrangian syntax descript materialsczmcomputeglobaltractiontotallagrangian overview czmcomputeglobaltractiontotallagrangian use local traction hatt deriv wrt interfac displac jump partial hatt partial llbracket hatu rrbracket calcul cohes zone constitut model comput first piolakirchoff traction global coordin deriv object comput follow partial deriv partial partial llbracket hatu rrbracket partial partial f assum two independ object assum finit strain account interfac rotat area chang caus deform andor rigid bodi motion theori kinemat geometr variabl total lagrangian approach alway assum refer configur initi configur interfac midplan deform gradient f assum beginequ labeleqf f fracleftf fright endequ use multipl decomposit defin beginequ labeleqru f r u endequ r rotat matrix transform undeform current configur u correspond stretch let defin n midplan unit normal global coordin undeforemd configur n midplan normal global coordin current configur two normal relat rotat r follow beginequ labeleqnn n r n endequ let introduc rotat matrix q_ transform interfac coordin system undeform configur global coordin system also undeform configur one defin total rotat matrix transform interfac coordin system undeform configur global coordin system deform configur beginequ labeleqq q r q_ endequ first piolakirchoff traction definit first piolakirchoff traction cauchi traction act refer area da henc use forc equilibrium write beginequ labeleqt_t fracdada endequ da area current configur nanson formula allow comput area ratio deform undeform configur beginequ labeleqarea_ratio fracdada textrmdetleftfright vertvert ft n vertvert j vertvert ft n vertvert endequ cauchi traction interfac traction relat total rotat q beginequ labeleqt_that q hatt endequ substitut eqt_that eqt_t obtain beginequ labeleqt_that fracdada q hatt endequ czm interfac kernel total lagrangianczminterfacekerneltotallagrangianmd use total pk traction comput use equat eqt_that first piolakirchoff traction deriv use chain rule decompos deriv traction wrt discret displac beginequ labeleqdt_du fracparti t_iparti upmk_ fracparti t_i partial f_pq fracparti f_pqpartial upmk_ fracparti t_i partial llbracket u rrbracket_p fracparti llbracket u rrbracket_p partial upmk_ endequ expand term use rule obtain beginequ labeleqjac fracparti t_iparti upmz_r left fracparti fracdadaparti f_pq left q hatt right fracdada left fracparti q_ijparti f_pq hatt_j q_ij fracparti hatt_j partial llbracket hatu rrbracket_v fracparti qt_vwpartial f_pqllbracket u rrbracket_w right rightfracparti f_pqpartial upmk_ fracdada q_ij fracparti hatt_j partial llbracket hatu rrbracket_r qt_rp fracparti llbracket u rrbracket_p partial upmk_ endequ czm interfac kernel total lagrangianczminterfacekerneltotallagrangianmd use two term within curli bracket eqjac comput analyt jacobian exampl input file syntax object automat ad cohes master master actioncohesivezonemasterindexmd strainfinit syntax paramet materialsczmcomputeglobaltractiontotallagrangian syntax input materialsczmcomputeglobaltractiontotallagrangian syntax children materialsczmcomputeglobaltractiontotallagrangian salehaniirani coupl traction separ law syntax descript materialssalehaniiranidctract descript class implement nonstat traction separ law propos citesalehanicoupl materi model extens dimens dimension tractionsepar law propos xu needleman citexuvoid traction separ law use monoton load condit produc realist result unload reload model use problem traction separ relationship defin beginequ t_i fracphi_idelta_ifracdelta_idelta_i exp sum_jdfracdelta_jdelta_jalpha endequ j indic repres displac jump compon index associ open direct alpha model paramet valu alpha j alpha j paramet repres number dimens problem delta_i current gap valu delta_i characterist length separ relat maximum sustain traction symbol phi_i repres work separ defin beginequ phi_i t_imax lambda delta_i endequ lambda e lambda sqrt e paramet t_imax repres maximum allow traction interfac withstand ith direct note valu maximum allow traction differ normal tangenti direct howev t_max assum equal t_max restrict t_imax appli delta_i exampl list modulestensor_mechanicstesttestscohesive_zone_modelczm_multiple_action_and_materialsi blockmaterialsczm_dc syntax paramet materialssalehaniiranidctract syntax input materialssalehaniiranidctract syntax children materialssalehaniiranidctract bilinear mix mode traction separ law class implement bilinear mix mode traction separ law describ citecamanho soften onset predict initi soften process predict use quadrat failur criterion given beginequ leftfraclangletau_ranglenright leftfractau_ right leftfractau_t right endequ total mixedmod rel displac delta_m defin beginequ delta_m sqrtdelta_delta_langledelta_rangl sqrtdelta_shearlangledelta_rangl endequ delta_shear repres norm vector defin tangenti rel displac element use penalti stiff mode ii iii traction soften onset beginequ tau_i kdelta_i texti endequ assum st singl mode rel displac soften onset beginequ delta_fracnk endequ beginequ delta_delta_delta_shearfracsk endequ open displac delta_ greater zero mode mixiti ratio beta defin beginequ beta fracdelta_sheardelta_ endequ mixedmod rel displac correspond onset soften delta_m given beginequ delta_m begincas delta_delta_sqrtfracbetadelta_betadelta_ delta_ delta_shear delta_leq endcas endequ delamin propag predict power law criterion power law criterion given beginequ leftfracg_ig_icrightalpha leftfracg_iig_iicrightalpha endequ mixedmod displac correspond total decohes given beginequ delta_mf begincas fracbetakdelta_mleftleftfracg_icrightalpha leftfracbetag_iicrightalpharightalpha delta_ sqrtdelta_fdelta_f delta_leq endcas endequ bk criterion mixedmod criterion propos benzeggagh kenan given bk criterion beginequ g_icg_iicg_icleftfracg_shearg_trighteta g_ctextwithg_tg_ig_shear endequ mixedmod displac correspond total decohes given beginequ delta_mf begincas frackdelta_mleftg_icg_iicg_icleftfracbetabetarightetaright delta_ sqrtdelta_fdelta_f delta_leq endcas endequ constitut equat mixedmod load constitut equat mixedmod load given beginequ tau_ d_srdelta_r endequ beginequ d_sr begincas bardelta_srk textifdelta_mmax leq delta_m bardelta_srleftdkkdbardelta_sfraclangledelta_rangledelta_right textifdelta_m delta_mmax leq delta_mf bardelta_sbardelta_rfraclangledelta_rangledelta_k textifdelta_mmax geq delta_mf endcas labeltract endequ beginequ fracdelta_mfdelta_mmaxdelta_mdelta_mmaxdelta_mfdelta_m din labeldamag endequ solver option viscou regular cohes zone model exhibit soften behavior stiff degrad often lead converg difficulti implicit solver tractionsepar law regular use viscos viscou damag variabl d_v defin beginequ dotd_vfracmudd_v endequ mu viscos paramet repres relax time viscou system analyt express d_v obtain use backward euler method viscou regular replac d_v traction comput traction lag separ state typic use improv converg lag separ state lag_seperation_st true delta_ delta_mmax delta_m delta_mf replac old valu previou time step use regular heavysid function step heavysid function fraclangledelta_rangledelta_ traction usual make converg bad code replac regular heavsid function provid c continu regular paramet set alpha paramet exampl list modulestensor_mechanicstesttestscohesive_zone_modelbilinear_mixedi blockmaterialsczm syntax paramet materialsbilinearmixedmodetract syntax input materialsbilinearmixedmodetract syntax children materialsbilinearmixedmodetract pureelastictractionsepar syntax descript materialspureelastictractionsepar descript materi implement pure elast traction separ law defin beginequ k llbracket u rrbracket endequ k diagon stiff matrix user need defin normal tangent stiff model use problem exampl input file syntax list modulestensor_mechanicstesttestscohesive_zone_modelstretch_rotate_large_deformationi blockmaterialsczm_mat syntax paramet materialspureelastictractionsepar syntax input materialspureelastictractionsepar syntax children materialspureelastictractionsepar czmcomputedisplacementjumptotallagrangian syntax descript materialsczmcomputedisplacementjumptotallagrangian overview czmcomputedisplacementjumptotallagrangian calcul displac jump across cohes zone interfac natur coordin system object assum finit strain account interfac rotat caus deform rigid bodi motion displac jump global coordin defin beginequ llbracket u rrbracket u u endequ relat displac jump interfac coordin llbracket hatu rrbracket follow express beginequ llbracket hatu rrbracket qt_ rt llbracket u rrbracket endequ express q_ rotat matrix transform global local coordin initi configur r rotat matrix associ interfac deform gradient hatf first compon llbracket hatu rrbracket alway refer displac jump normal direct two compon refer tangenti direct object use simul exampl input file syntax object automat ad cohes master master actioncohesivezonemasterindexmd strainfinit syntax paramet materialsczmcomputedisplacementjumptotallagrangian syntax input materialsczmcomputedisplacementjumptotallagrangian syntax children materialsczmcomputedisplacementjumptotallagrangian czmrealvectorscalar syntax descript materialsczmrealvectorscalar descript materi model use extract normal tangent norm real vector materi defin cohes zone use vector defin global coordin system like traction_glob displacement_jump_glob vector alert warn behind scene materi use czm_total_rot matrix comput tangent normal scalar valu use vector quantiti defin interfac coordin materi model set cohesivezonemastercohesivezonemasterindexmd automat normal tangent tractiondisplacement_jump scalar request generate_output paramet also set directli user czmrealvectorscalar take argument real_vector_valu scalar compon need comput direct property_nam assign comput scalar allow valu direct normal tangent normal sign magnitud defin beginequ v_n v cdot n endequ n interfac normal v input real vector tangent norm defin beginequ v_t lvert v v_n cdot n rvert_ endequ syntax paramet materialsczmrealvectorscalar syntax input materialsczmrealvectorscalar syntax children materialsczmrealvectorscalar czmcomputeglobaltractionsmallstrain syntax descript materialsczmcomputeglobaltractionsmallstrain overview czmcomputeglobaltractionsmallstrain use local traction hatt deriv wrt local displac jump partial hatt partial llbracket hatu rrbracket calcul cohes zone constitut model comput traction global coordin deriv wrt displac jump global coordin partial partial llbracket u rrbracket object assum small strain account interfac rotat area chang caus deform rigid bodi motion small strain assumpt traction local coordin relat traction global coordin beginequ labeleqt_that q_ hatt endequ q rotat matrix transform local global coordin initi configur equat eqt_that use czm interfac kernel small strainczminterfacekernelsmallstrainmd comput residu requir partial deriv comput use chain rule beginequ labeleqdt_du fracparti t_iparti llbracket u rrbracket_j fracparti t_iparti hatt_k fracparti hatt_kparti llbracket haturrbracket_l fracparti llbracket haturrbracket_lparti llbracket u rrbracket_j endequ constitut model provid partial hatt_k partial llbracket haturrbracket_l object comput two term recal small strain llbracket hatu rrbracket qt_ llbracket u rrbracket easi see beginequ labeleqduhat_du fracparti llbracket haturrbracket_lparti llbracket u rrbracket_j q_lj endequ similarli use relationship local global traction write beginequ labeleqdt_dthat fracparti t_iparti hatt_k qt_ik endequ final substitut eqdt_dthat eqduhat_du eqdt_du get implement equat form beginequ labeleqdt_du_fin fracparti t_iparti llbracket u rrbracket_j q_ikfracparti hatt_kparti llbracket haturrbracket_lqt_lj endequ equat eqdt_du_fin use czm interfac kernel small strainczminterfacekernelsmallstrainmd comput analyt jacobian exampl input file syntax object automat ad cohes master master actioncohesivezonemasterindexmd strainsmal syntax paramet materialsczmcomputeglobaltractionsmallstrain syntax input materialsczmcomputeglobaltractionsmallstrain syntax children materialsczmcomputeglobaltractionsmallstrain templat load filestubsmoose_objectmdtempl namedashpotbc syntaxbcsdashpotbc stickybc syntax descript bcsstickybc descript nodal boundari condit impos condit beginequ u u_mathrmold endequ u_mathrmold exce either beginequ u_mathrmold geq u_mathrmmax endequ beginequ u_mathrmold leq u_mathrmmin endequ henc name sticki soon u exce bound fix subsequ timestep alert note stickybc use care approxim constraint impos wall instanc boundari node may penetr wall singl timestep stuck insid wall boundari node never move away wall stuck howev offer advantag fullblown constraint advers affect numer converg syntax paramet bcsstickybc syntax input bcsstickybc syntax children bcsstickybc coupl pressur bc descript boundari condit coupledpressurebc appli forc comput variabl mesh boundari compon normal vector mesh surfac correspond hatx hati hatz vector compon use determin direct appli traction alert note boundari condit alway appli displac mesh coupledpressurebc typic use multiapp scenario pressur variabl comput subapp exampl flow code transfer auxiliari variabl coupl boundari condit appli master app set coupledpressur boundari condit appli multipl variabl multipl compon defin coupledpressureactioncoupledpressureactionmd exampl input file syntax list modulestensor_mechanicstesttestscoupled_pressurecoupled_pressure_testi blockbcsside_x syntax paramet bcscoupledpressurebc syntax input bcscoupledpressurebc syntax children bcscoupledpressurebc adpressur syntax descript bcsadpressur descript boundari condit adpressur appli forc mesh boundari magnitud specifi user compon normal vector mesh surfac correspond hatx hati hatz vector compon use determin direct appli traction boundari condit alway appli displac mesh use forward mode automat differenti comput exact jacobian contribut conting coupl ad enabl object paramet magnitud adpressur boundari condit specifi either constant scalar factor use input paramet constant factor function factor postprocessor combin thereof syntax paramet bcsadpressur syntax input bcsadpressur syntax children bcsadpressur templat load filestubsmoose_objectmdtempl namepresetveloc syntaxbcspresetveloc pressur syntax descript bcspressur descript boundari condit pressur appli forc mesh boundari magnitud specifi user compon normal vector mesh surfac correspond hatx hati hatz vector compon use determin direct appli traction boundari condit typic appli displac mesh magnitud pressur boundari condit specifi either scalar use input paramet factor function paramet postprocessor name alert note titlecan creat pressur action set pressur boundari condit appli multipl variabl multipl compon defin pressureactionbcspressureindexmd jacobian cartesian let n number node finit element face also let h_i shape function node vector f dimens ntime model defin beginequ f int gamma ft n da endequ gamma repres scale factor n normal vector beginequ f beginbmatrix h_i h_i h_ni endbmatrix endequ ident tensor find jacobian take variat term integr beginequ deltagamma ft n gammadeltaftn ftdeltan endequ defin f_alpha beginequ f_alpha beginbmatrix h_alphai h_alphai h_nalphai endbmatrix endequ alpha may either xi eta two parametr coordin associ face element f_alpha dimens time n allow beginequ delta f beginbmatrix f_xideltaxi f_etadeltaeta endbmatrix endequ sinc valu parametr coordin fix accord integr rule vari term becom zero left gamma ftdelta n normal vector n outward unit vector integr point defin b q_xi time q_eta beginequ q_alpha f_alphap endequ defin integr point beginequ pt beginbmatrix xt_ xt_ xt_n endbmatrix endequ x_i x_i u_i x_i vector coordin node u_i vector displac node beginequ beginalign delta b delta q_xi time q_eta q_xi time delta q_eta delta q_xi f_xidelta p q_xietadelta eta delta q_eta f_etadelta p q_xietadelta xi endalign endequ deltaxi deltaeta beginequ beginalign delta b f_xidelta p time q_eta q_xi time f_etadelta p q_xi time f_etadelta p q_eta time f_xidelta p q_xi time f_eta q_eta time f_xi delta p endalign endequ left beginequ deltagamma ft n fracgammabftq_xi time f_eta q_eta time f_xi delta p endequ take cross product vector set vector matrix take cross product vector vector matrix turn jth time submatrix f_alpha h_jalphai give beginequ q_xi time f_eta q_eta time f_xi_j beginbmatrix q_xih_jetaq_etah_jxi q_xih_jetaq_etah_jxi q_xih_jetaq_etah_jxi q_xih_jetaq_etah_jxi q_xih_jetaq_etah_jxi q_xih_jetaq_etah_jxi endbmatrix endequ integrand ij time submatrix stiff beginequ fracgammabftq_xi time f_eta q_eta time f_xi_ij fracgammabh_i beginbmatrix q_xih_jetaq_etah_jxi q_xih_jetaq_etah_jxi q_xih_jetaq_etah_jxi q_xih_jetaq_etah_jxi q_xih_jetaq_etah_jxi q_xih_jetaq_etah_jxi endbmatrix endequ spheric symmetri problem use spheric symmetri jacobian much simpler beginequ f int gamma ftn da intint gamma ft n r sin phi dphi dtheta pigamma ft n r endequ r x u n function displac variat beginequ pi gamma ft n rdelta r endequ axisymmetri axisymmetri beginequ f int gamma ftn da int gamma ft nr dtheta pi gamma ft n r endequ r x u unit height n function displac variat beginequ pi gamma ft n delta r endequ axisymmetri beginequ f int gamma ftn da int int gamma ft n r dtheta dz int pigamma ft n r dz endequ r x u howev n r depend displac thu beginequ deltapigamma ft n r pi gamma ft r delta n n delta r endequ exampl input file syntax list modulestensor_mechanicstesttestsd_sphericalfinitestrain_dsphere_hollowi blockbcsouterpressur syntax paramet bcspressur syntax input bcspressur syntax children bcspressur interactionintegralbenchmarkbc syntax descript bcsinteractionintegralbenchmarkbc descript object provid boundari condit enforc displac field around crack tip base appli stress intens factor ki kii kiii use test interact integr capabl syntax paramet bcsinteractionintegralbenchmarkbc syntax input bcsinteractionintegralbenchmarkbc syntax children bcsinteractionintegralbenchmarkbc displac axi syntax descript bcsdisplacementaboutaxi descript boundari condit class displacementaboutaxi appli rotat displac specifi mesh surfac accord user defin rotat function boundari condit alway appli displac mesh rotat function given either radian angl axi rotat specifi axis_origin axis_direct paramet default function defin rotat angular_veloc paramet set allow function defin angular veloc instead total rotationa angl rotat displac valu current node calcul accord eqrotating_displac beginequ labeleqrotating_displac u_rot boldsymbolt cdot boldsymbolr_x cdot boldsymbolr_i cdot boldsymbolr_z cdot boldsymbolr_i cdot boldsymbolr_x cdot boldsymbolt endequ boldsymbolt translat matrix axe rotat center coordin system origin boldsymbolr_x boldsymbolr_i boldsymbolr_z rotat matric hatx hati hatz coordin system axe respect exampl input file syntax list modulestensor_mechanicstestteststorque_reactiontorque_reaction_cylinderi blockbcstop_x function requir prescrib either total rotat angular veloc displacementaboutaxi boundari condit appli mesh either name anoth function defin elsewher pars function use argument function input paramet displacementaboutaxi block exampl pars function use syntax paramet bcsdisplacementaboutaxi syntax input bcsdisplacementaboutaxi syntax children bcsdisplacementaboutaxi presetacceler syntax descript bcspresetacceler presetacceler class take acceler time histori provid use function input convert acceler displac use newmark time integr method displac prescrib user provid boundari direct correspond displac variabl provid input syntax paramet bcspresetacceler syntax input bcspresetacceler syntax children bcspresetacceler bibtex bibliographi penaltyinclinednodisplacementbc syntax descript bcspenaltyinclinednodisplacementbc descript penaltyinclinednodisplacementbc integratedbc use enforc inclin boundari condit mathbfucdot mathbfnorm mechan problem penalti method residu given beginequ mathcalr_i alphamathbfucdot mathbfnormalmathbfnormaltextcomponentpsi_i endequ alpha penalti paramet compon correspond direct appli residu normal directli come surfac normal defin mesh presetdisplac syntax descript bcspresetdisplac presetdisplac class take displac time histori input provid use function differenti twice use backward euler method obtain correspond acceler time histori acceler time histori integr use newmark time integr method obtain modifi displac time histori prescrib user provid boundari direct correspond displac variabl provid input modif displac time histori ensur numer error acceler veloc respons syntax paramet bcspresetdisplac syntax input bcspresetdisplac syntax children bcspresetdisplac bibtex bibliographi torqu syntax descript bcstorqu overview boundari condit appli torqu direct respect refer point origin traction distribut surfac accord right hand rule requir calcul polar moment inertia j i_z perform use polarmomentofinertiapolarmomentofinertiamd postprocessor applic torqu current valid small strain exampl input file syntax syntax paramet bcstorqu syntax input bcstorqu syntax children bcstorqu volum weight weibul syntax descript icsvolumeweightedweibul volumeweightedweibul class gener spatial random distribut variabl follow weibul distribut weight element volum account fact larger volum like contain defect would thu reduc strength class follow approach document citestrack_aleatory_ use describ local strength fractur model minim mesh size depend random valu given variabl eta use character strength express beginequ labeleqnvww etabaretabigglfracbarvlnrvlnbiggrk endequ bareta median valu strength variabl barv refer volum volum test specimen median strength equal bareta r uniform random number interv k weibul modulu two import differ use standard weibul distribut also use defin random strength moos use combin weibulldistribut object stochastic_tool modul moos randomicrandomicmd object weibul distribut defin two paramet weibul modulu k median valu random variabl bareta contrast standard version three paramet weibul modulu k shape paramet lambda locat paramet theta distribut gener weibul distribut implicitli assum theta valu lambda standard set paramet weibul distribut comput bareta k beginequ lambdabaretabigglfraclnbiggrk endequ valu sampl standard weibul distribut scale factor beginequ bigglfracbarvvbiggrk endequ result scale element larger refer volum typic decreas strength element smaller refer volum increas strength k typic greater syntax paramet icsvolumeweightedweibul syntax input icsvolumeweightedweibul syntax children icsvolumeweightedweibul bibtex bibliographi templat load filestubsmoose_objectmdtempl namenodalfrictionalconstraint syntaxconstraintsnodalfrictionalconstraint templat load filestubsmoose_objectmdtempl namenodalstickconstraint syntaxconstraintsnodalstickconstraint gener plane strain action descript action simplifi input file syntax creat gener plane strain model creat follow moos object ie kernel scalarkernel userobject relat outofplan scalar variabl kernel gener plane strain offdiagon kernelgeneralizedplanestrainoffdiagmd inplan displac variabl scalar outofplan strain coupl scalarkernel gener plane strain scalarkernelgeneralizedplanestrainmd outofplan equilibrium condit userobject gener plane strain userobjectgeneralizedplanestrainuserobjectmd residu diagon jacobian calcul scalar outofplan strain variabl gener plane strain refer residu gener plane strain problem may use referenceresidualproblem case refer scalar variabl need correspond scalar strain variabl list modulescombinedtesttestsgeneralized_plane_strain_tm_contactout_of_plane_pressurei blockproblem refer scalar variabl set use auxscalarkernel gener plane strain refer residualgeneralizedplanestrainreferenceresidualmd use gener plane strain userobjectgeneralizedplanestrainuserobjectmd list modulescombinedtesttestsgeneralized_plane_strain_tm_contactout_of_plane_pressurei blockauxscalarkernel syntax paramet modulestensormechanicsgeneralizedplanestraingeneralizedplanestrainact coupl pressur action descript coupledpressur action use creat set pressur boundari condit string displac variabl typic use case action pressur comput field variabl exampl multiapp see descript exampl use paramet coupledpressurecoupledpressureindexmd action system page domainintegralact syntax descript domainintegraldomainintegralact descript domainintegr action use set object use comput fractur domain integr includ jintegr interact integr tstress use fractur domain integr one must set model incorpor crack use one two techniqu mesh crack crack explic includ creat mesh topolog conform crack locat crack tip provid code defin nodeset includ node finit element mesh locat along crack front analys nodeset would contain singl node crack tip analys mesh connect use construct set line segment connect node use order crack node xfem rather defin topolog crack mesh xfem use cut mesh case set point need conform point mesh must provid user use defin locat crack coumput fractur integr fractur integr comput locat point order provid user theori detail theori behind comput variou fractur integr provid herefractureintegralsmd object creat action tabl iddomainintegralactionintegr captionclass use perform variou fractur integr specifi integr paramet class type function jintegraljintegralmd vectorpostprocessor comput jintegr point crack front given integr ring interactionintegralinteractionintegralmd vectorpostprocessor comput k_i k_ii k_iii stress use interact integr point crack front given integr ring mixedmodeequivalentkmixedmodeequivalentkmd vectorpostprocessor comput exquival stress intens factor k_i k_ii k_iii crackfrontdefinitioncrackfrontdefinitionmd userobject defin crack front provid geometryrel function use jintegraljintegralmd interactionintegralinteractionintegralmd vectorpostprocessorcomponentvectorpostprocessorcomponentmd postprocessor report individu quantiti comput vectorpostprocessor specif point crack front crackfrontdatacrackfrontdatamd postprocessor report valu request variabl crack front point vectorofpostprocessorsvectorofpostprocessorsmd vectorpostprocessor assembl crackfrontdata valu vector output thermalfractureintegralthermalfractureintegralmd materi comput deriv eigenstrain respect temperatur use fractur integr strainenergydensitystrainenergydensitymd materi comput strain energi densiti use fractur integr domainintegralqfunctiondomainintegralqfunctionmd auxkernel option popul auxvari valu geometrybas q function output_qtru domainintegraltopologicalqfunctiondomainintegraltopologicalqfunctionmd auxkernel option popul auxvari valu topologybas q function output_qtru syntax paramet domainintegraldomainintegralact inclinednodisplacementbc action descript inclinednodisplacementbc action use creat set inclinednodisplacementbc string displac variabl see descript exampl use paramet inclinednodisplacementbcinclinednodisplacementbcindexmd action system page cohes zone model action descript cohesivezoneact simplifi input file syntax ad appropri czminterfacekernel computedisplacementjump computeglobaltract object depend select kinemat see cohesivezonemastercohesivezonemasterindexmd detail syntax descript modulestensormechanicscohesivezonemastercohesivezoneact syntax paramet modulestensormechanicscohesivezonemastercohesivezoneact common line element master action descript commonlineel action add paramet suppli modulestensormechanicslineelementmast level default subblock within lineelementmast block see descript exampl use paramet lineelementmasterlineelementmasterindexmd action system page commoncohesivezoneact alert construct titleundocu action class commoncohesivezoneact document content list use start point document class includ typic automat document associ action howev contain ultim determin necessari make document clear user syntax descript modulestensormechanicscohesivezonemastercommoncohesivezoneact overview replac line inform regard commoncohesivezoneact action exampl input file syntax describ includ exampl use commoncohesivezoneact action syntax descript modulestensormechanicscohesivezonemastercommoncohesivezoneact syntax paramet modulestensormechanicscohesivezonemastercommoncohesivezoneact materi vector bodi forc action descript see descript exampl use paramet materialvectorbodyforcematerialvectorbodyforceindexmd action system page tensor mechan action descript tensor mechan master action simplifi input file syntax creat tensor mechan model see descript exampl use paramet tensormechanicsmastermodulestensormechanicsmasterindexmd action system page caviti pressur postprocessor action descript cavitypressureppact one three action cavitypressurecavitypressureindexmd action system intend use concurr intent cavitypressur action system reduc number input file block requir comput pressur exert ga contain intern volum caviti pressur userobject action descript cavitypressureppact one three action cavitypressurecavitypressureindexmd action system intend use concurr intent cavitypressur action system reduc number input file block requir comput pressur exert ga contain intern volum cohesivezoneact alert construct titleundocu action class cohesivezoneact document content list use start point document class includ typic automat document associ action howev contain ultim determin necessari make document clear user syntax descript modulestensormechanicscohesivezonemastercohesivezoneact overview replac line inform regard cohesivezoneact action exampl input file syntax describ includ exampl use cohesivezoneact action syntax descript modulestensormechanicscohesivezonemastercohesivezoneact syntax paramet modulestensormechanicscohesivezonemastercohesivezoneact global strain action syntax descript modulestensormechanicsglobalstrainglobalstrainact action simplifi input file syntax global strain calcul requir maintain strain period also gener auxiliari displac field creat global strain creat follow moos object userobject global strain userobjectglobalstrainuserobjectmd calcul residu jacobian correspond scalar variabl scalarkernel global strain scalarkernelglobalstrainmd solv global strain term scalar variabl materi global strain materialcomputeglobalstrainmd calcul global strain compon scalar variabl auxvari global displac auxvariablesglobaldisplacementauxmd creat auxvari addit displac compon auxkernel global displac auxkernelsglobaldisplacementauxmd calcul global displac field scalar variabl syntax paramet modulestensormechanicsglobalstrainglobalstrainact common tensor mechan action descript commontensormechanicsact action add paramet suppli modulestensormechanicsmast level default subblock within master block see descript exampl use paramet tensormechanicsmastermodulestensormechanicsmasterindexmd action system page templat load filestubsmoose_actionmdtempl nameporomechanicsact syntaxkernelsporomechanicsporomechanicsact legaci kernelonli tensor mechan action alert warn titledeprec action legaci action soon deprec favor inclus tensormechanicsmastermodulestensormechanicsmasterindexmd see descript exampl use paramet tensormechanicsmastermodulestensormechanicsmasterindexmd action system page descript legaci kernel tensor mechan action simplifi input file syntax creat tensor mechan model reduc number kernel requir see descript action paramet legacytensormechanicsactionkernelstensormechanicsindexmd action system page dynamictensormechan syntax descript kernelsdynamictensormechanicslegacydynamictensormechanicsact descript action creat dynamicstressdivergencetensorsdynamicstressdivergencetensorsmd kernel input block coordin direct inform usag action found dynamicsdynamicsmd syntax paramet kernelsdynamictensormechanicslegacydynamictensormechanicsact caviti pressur action descript cavitypressureact one three action cavitypressurecavitypressureindexmd action system intend use concurr intent cavitypressur action system reduc number input file block requir comput pressur exert ga contain intern volum pressur action descript pressur action use creat set pressur boundari condit string displac variabl typic use case action applic hydrostat pressur see descript exampl use paramet pressurepressureindexmd action system page lineel action descript lineel action simplifi input file syntax creat beam truss element model see descript exampl use paramet lineelementmasterlineelementmasterindexmd action system page legaci kernelonli dynam tensor mechan action alert warn titledeprec action legaci action soon deprec favor inclus tensormechanicsdynamicmastermodulestensormechanicsdynamicmasterindexmd see descript exampl use paramet tensormechanicsdynamicmastermodulestensormechanicsdynamicmasterindexmd action system page descript legaci kernel tensor mechan action simplifi input file syntax creat tensor mechan model reduc number kernel requir see descript action paramet legacydynamictensormechanicsactionkernelsdynamictensormechanicsindexmd action system page czminterfacekerneltotallagrangian syntax descript interfacekernelsczminterfacekerneltotallagrangian descript class assembl integr first piolakirchoff traction comput cohes zone model czm system residu vector ensur traction equilibrium across interfac czminterfacekerneltotallagrangian act one displac compon therefor user must set separ instanc kernel dimens problem czminterfacekerneltotallagrangian use pk traction deriv provid czm comput global traction total lagrangianczmcomputeglobaltractiontotallagrangianmd impos appropri residu provid appropri jacobian kernel account interfac area chang rotat residu strong form forc equilibrium equat vector form written beginequ f f int_at da int_at da endequ superscript identifi primari secondari surfac cohes zone respect furthermor f repres forc first piolakirchoff traction undeform area primari surfac one interfac normal comput util principl virtual work recogn forc work conjug displac weak form equilibrium equat written beginequ int_at psi da int_at psi da endequ psi vector test function test function psi associ specif displac compon undeform configur aaa ttt therefor equilibrium equat displac compon rewritten beginequ t_i psi psi endequ therefor residu primari secondari surfac specif test function j rewritten beginequ beginalign r_i t_i psi_j r_i t_i psi_j endalign endequ residu equat implement czminterfacekerneltotallagrangian traction vector czm equilibrium traction calcul total lagrangianczmcomputeglobaltractiontotallagrangianmd jacobian jacobian model exact jacobian requir calcul deriv residu respect discret displac upmk beginequ beginalign fracparti r_iparti uk_ fracparti t_iparti uk_ psi_j fracparti r_iparti uk_ fracparti t_iparti uk_ psi_j fracparti r_iparti uk_ fracparti t_iparti uk_ psi_j fracparti r_iparti uk_ fracparti t_iparti uk_ psi_j endalign endequ assum traction function midplan deform gradienthatf displac jump global coordin llbracket u rrbracket partial deriv traction rewritten use chain rule beginequ beginalign fracparti t_iparti uk_ fracparti t_i partial hatf_pq fracparti hatf_pqparti uk_ fracparti t_iparti llbracket u rrbracket_p fracparti llbracket u rrbracket_pparti uk_ fracparti t_iparti uk_ fracparti t_i partial hatf_pq fracparti hatf_pqparti uk_ fracparti t_iparti llbracket u rrbracket_p fracparti llbracket u rrbracket_pparti uk_ endalign endequ substitut last two equat jacobian definit one obtain equat implement kernel czm equilibrium traction calcul total lagrangianczmcomputeglobaltractiontotallagrangianmd provid partial t_iparti hatf_pq partial t_i partial llbracket u rrbracket_p kernel respons comput partial llbracket u rrbracket_p partial upmk_ partial hatf_pq partial upmk_ displac jump deform gradient deriv recal llbracket u rrbracket u u u_i sum_z phi_i uz_i write beginequ beginalign fracparti llbracket u rrbracket_iparti uz_j beginbmatrix phi_z phi_z phi_z endbmatrix fracparti llbracket u rrbracket_iparti uz_i beginbmatrix phi_z phi_z phi_z endbmatrix endalign endequ recal hatf left f fright f_ijdelta_ijsum_z leftphi_ij uz right write beginequ beginalign fracparti f_ijparti uz_k frac beginbmatrix beginbmatrix nabla phi_z nabla phi_z nabla phi_z endbmatrix_k beginbmatrix nabla phi_z nabla phi_z nabla phi_z endbmatrix_k beginbmatrix nabla phi_z nabla phi_z nabla phi_z endbmatrix_k endbmatrix fracparti f_ijparti uz_k frac beginbmatrix beginbmatrix nabla phi_z nabla phi_z nabla phi_z endbmatrix_k beginbmatrix nabla phi_z nabla phi_z nabla phi_z endbmatrix_k beginbmatrix nabla phi_z nabla phi_z nabla phi_z endbmatrix_k endbmatrix endalign endequ exampl input file syntax object automat ad cohes master master actioncohesivezonemasterindexmd strainfinit syntax paramet interfacekernelsczminterfacekerneltotallagrangian syntax input interfacekernelsczminterfacekerneltotallagrangian syntax children interfacekernelsczminterfacekerneltotallagrangian czm interfacekernelsmallstrain syntax descript interfacekernelsczminterfacekernelsmallstrain descript class assembl integr traction comput cohes zone model czm system residu vector ensur traction equilibrium across interfac czminterfacekernelsmallstrain act one displac compon therefor user must set separ instanc kernel dimens problem czminterfacekernelsmallstrain use traction deriv provid czm comput global traction small strainczmcomputeglobaltractionsmallstrainmd comput appropri residu jacobian kernel account interfac area chagn rotat residu strong form forc equilibrium equat vector form written beginequ f f int_at da int_at da endequ superscript identifi primari secondari surfac cohes zone respect furthermor f repres forc traction area primari surfac one interfac normal comput util principl virtual work recogn forc work conjug displac weak form equilibrium equat written beginequ int_at psi da int_at psi da endequ psi vector test function test function psi associ specif displac compon small deform assumpt aaa ttt therefor equilibrium equat displac compon rewritten beginequ t_i psi psi endequ therefor residu primari secondari surfac rewritten beginequ beginalign r_i t_i psi r_i t_i psi endalign endequ residu equat implement czminterfacekernelsmallstrain traction vector provid czminterfacekernelsmallstrain czmmateri jacobian jacobian model exact jacobian requir calcul deriv residu respect discret displac upmk beginequ beginalign fracparti r_iparti uk_ fracparti t_iparti uk_ psi_j fracparti r_iparti uk_ fracparti t_iparti uk_ psi_j fracparti r_iparti uk_ fracparti t_iparti uk_ psi_j fracparti r_iparti uk_ fracparti t_iparti uk_ psi_j endalign endequ assum traction function midplan deform gradienthatf displac jump global coordin llbracket u rrbracket partial deriv traction rewritten use chain rule beginequ beginalign fracparti t_iparti uk_ fracparti t_iparti llbracket u rrbracket_p fracparti llbracket u rrbracket_pparti uk_ fracparti t_iparti uk_ fracparti t_iparti llbracket u rrbracket_p fracparti llbracket u rrbracket_pparti uk_ endalign endequ substitut last two equat jacobian definit one obtain equat implement kernel czm equilibrium traction calcul small strain lagrangianczmcomputeglobaltractionsmallstrainmd provid partial t_i partial llbracket u rrbracket_p kernel respons comput partial llbracket u rrbracket_p partial upmk_ displac jump deriv recal llbracket u rrbracket u u u_i sum_z phi_i uz_i write beginequ beginalign fracparti llbracket u rrbracket_iparti uz_j beginbmatrix phi_z phi_z phi_z endbmatrix fracparti llbracket u rrbracket_iparti uz_i beginbmatrix phi_z phi_z phi_z endbmatrix endalign endequ exampl input file syntax object automat ad cohes master master actioncohesivezonemasterindexmd strainsmal syntax paramet interfacekernelsczminterfacekernelsmallstrain syntax input interfacekernelsczminterfacekernelsmallstrain syntax children interfacekernelsczminterfacekernelsmallstrain strain formul tensor mechan tensor mechan modul offer three differ type strain calcul small linear total strain small linear increment strain finit increment strain small linear total strain linear elast problem tensor mechan modul includ small strain total strain materi computesmallstraincomputesmallstrainmd materi use verifi materi model hand calcul simplifi strain calcul linear small strain theori assum gradient displac respect posit much smaller uniti squar displac gradient term neglect small strain definit give beginequ epsilon frac left u nabla nabla u right quad quad fracparti u partial x endequ detail linear small strain assumpt deriv see continuum mechan text citemalvernintroduct citebowerappli specif chapter httpsolidmechanicsorgtextchapter_chapter_phpsect__ total strain theori path independ moos path independ mean total strain begin entir simul use calcul stress materi properti increment theori hand use increment strain timestep calcul stress total strain formul computesmallstrain path independ old valu strain stress previou timestep store moos comparison total strain vs increment strain theori experiment data see citeshammamyincrement input file syntax small strain list modulestensor_mechanicstutorialsbasicspart_i blockmodulestensormechanicsmast endstress increment small strain applic small linear strain moos includ increment small strain materi computeincrementalsmallstraincomputeincrementalsmallstrainmd small strain materi increment small strain class assum gradient displac respect posit much smaller uniti squar displac gradient term neglect small strain definit give beginequ epsilon frac left u nabla nabla u right quad quad fracparti u partial x endequ class name suggest computeincrementalsmallstrain increment formul stress increment calcul current strain increment time step class rotat tensor defin rank ident tensor rotat allow model state properti includ strain_old stress_old store increment small strain materi use compon verifi complex finit increment strainstress calcul input file syntax increment small strain list modulestensor_mechanicstestteststhermal_expansionconstant_expansion_coeffi blockmodulestensormechan finit larg strain finit strain use computefinitestraincomputefinitestrainmd increment form employ strain increment rotat increment calcul increment deform gradient finit strain mechan approach use moos tensor_mechan modul increment corot form citerashidincrement form gener time increment consider t_n t_n configur materi element consider t_n t_n denot kappa_n kappa_n respect increment motion time increment assum given form invers deform gradient hatboldsymbolf kappa_n respect kappa_n may written beginequ hatboldsymbolf fracparti hatboldsymboluparti boldsymbolx endequ hatboldsymboluboldsymbolx increment displac field time step boldsymbolx posit vector materi point kappa_n note hatboldsymbolf deform gradient rather increment deform gradient kappa_n respect kappa_n thu beginequ hatboldsymbolf boldsymbolf_n boldsymbolf_n endequ boldsymbolf_n total deform gradient time t_n form assum beginequ beginalign dotboldsymbolf boldsymbolf boldsymbold mathrmconst symmetr t_ntt_n boldsymbolft_n hatboldsymbolu mathrmsymmetr posit definit boldsymbolft_n hatboldsymbolr hatboldsymbolu hatboldsymbolf hatboldsymbolr mathrmprop orthogon endalign endequ tensor mechan two decomposit option obtain strain increment taylorexpans eigensolut default set taylorexpans see computefinitestraincomputefinitestrainmd descript decomposit option larg strain close loop load cycl idlarge_strain_closed_loop_loading_cycl import note inaccuraci inher present increment hypoelast represent finit strain behavior issu moos implement discuss well implement major commerci code magnitud error increas magnitud strain increas typic practic issu larg strain hyperelast model appropri demonstr close loop load cycl illustr closed_loop_cycle_load sinc initi final configur elast materi one would expect stress would return zero final underform state increment formul howev residu stress remain magnitud residu stress increas magnitud load cycl occur integr rateofdeform full load cycl zero detail explan found citebelytschko media tensor_mechanicsclosed_loop_large_deform_cycle_loadingpng idclosed_loop_cycle_load stylewidthfloatrightpaddingtop captionclos loop larg deform load cycl volumetr lock correct computefinitestraincomputefinitestrainmd hatboldsymbolf calcul option includ volumetr lock correct follow bbar method beginequ hatboldsymbolf_corr hatboldsymbolf left fracmathrmav_elhatboldsymbolfhatboldsymbolf rightfrac endequ mathrmav_el averag valu entir element strain increment calcul ad total strain t_n total strain t_n must rotat use rotat increment input file syntax finit increment strain materi list modulestensor_mechanicstesttestsfinite_strain_elasticfinite_strain_elastic_new_testi blockmodulestensormechan bibtex bibliographi volumetr lock correct volumetr lock stiffen element materi close incompress poisson ratio nu near stiffen happen fulli integr element hex element quadratur point quad element quadratur point use numer artifact introduc shape function use finit element analysi properli approxim incompress condit throughout element avoid lock element bbar correct citehughesfinit implement moos theori method strain epsilon virtual strain delta epsilon element separ volumetr deviator compon volumetr compon replac element averag volumetr strain ensur volumetr strain remain constant throughout element exampl case small strain linear elast equat motion beginequ beginalign int_v sigmaepsilondelta epsilon dv int_v b delta v dv int_parti v delta v da endalign endequ element averag volumetr strain assum small strain formul beginequ beginalign wfracv_ int_v_ frac trepsilon dv endalign endequ v_e volum element tr trace matrix strain element replac approxim beginequ beginalign barepsilon epsilon w fractrepsiloni endalign endequ time ident matrix similarli virtual strain also approxim beginequ beginalign bardelta epsilon delta epsilon delta w fractrdelta epsiloni endalign endequ modifi equat motion beginequ beginalign int_v sigmabarepsilonbardelta epsilon dv int_v b delta v dv int_parti v delta v da endalign endequ detail method found section httpsolidmechanicsorgtextchapter_chapter_php citebowerappli finit strain formul use volumetr compon strain separ use determin deform matrix usag volumetr lock correct set fals default tensor mechan deal problem involv plastic incompress materi turn set volumetric_locking_correctiontru stress diverg kernel strain calcul tensor mechan master action volumetr lock correct turn use smp precondition coupl displac variabl may help converg problem displac unknown variabl follow precondition block may use list modulestensor_mechanicstesttestsfinite_strain_elasticelastic_rotation_testi startprecondit endexecution verif lock correct cook membran trapezoid membran fig_cook poisson ratio fix left edg shear right edg lock behavior membran observ use first order quad element volumetr lock correct lock result much lower vertic displac point observ scenario see fig_cook_result lock avoid use quad element along volumetr lock correct use second order element quad without volumetr lock correct result match present fig citenakshatralafem row media mediatensor_mechanicscook_problempng stylewidthfloatleft idfig_cook captiond problem demonstr volumetr lock media mediatensor_mechanicscook_resultspng stylewidthfloatright idfig_cook_result caption vertic displac point differ element type mesh densiti lock behavior observ quad element volumetr lock correct use rowend note least node per edg requir converg correct solut even volumetr lock correct use problem also second order element display lock behavior volumetr lock correct requir second order element use volumetr lock correct second order element caus differ converg pattern displac fig_cook_result also shown result noisi zigzag pattern stress strain profil bibtex bibliographi tensor mechan modul system document listtensor_mechanicssystemsmd tensor mechan modul librari simul tool solv continuum mechan problem provid simpl approach implement even advanc mechan model plugnplay design enabl user incorpor relev physic specif vari simul tensor implement match mathemat theori straightforward procedur ad new physic tensor mechan system use simul linear finit strain mechan includ elast cosserat elast plastic micromechan plastic creep damag due crack properti degrad explor capabl start model tensor mechan modul use varieti pure mechan simul combin physic simul heat transfer phase field contact porou flow xfem modul use moos combin modul perform simul multipl physic modul follow figur show result differ simul perform tensor mechan modul user row media tensor_mechanicsd_shear_failure_screen_shotpng stylewidthfloatrightpaddingtop captionevolut rock failur zone mwide mdeep panel coal mine applic media tensor_mechanicspolyxtal_tempgif stylewidthfloatrightmarginleftmarginright captionevolut resolv shear stress mathrmbar slip system polycrystallin simul bcc iron media tensor_mechanicslwr_quarter_demopng stylewidthfloatright captionthermomechan stress analysi reactor pressur vessel rowend interest perform simul use link learn tensor mechan modul get start continuum mechan combin physic simul row col small medium larg icondevice_hub plugnplay structur overview classcent stylefontweight familiar plugnplay structuretensor_mechanicsplug_n_playmd use tensor mechan dive mathemat theori strain calculationstensor_mechanicsstrainsmd stress modelstensor_mechanicsstressesmd stress divergencetensor_mechanicsstressdivergencemd tensor definitionstensor_mechanicstensorclassesmd type code class make core tensor mechan modul colend col small medium larg iconschool exampl tutori classcent stylefontweight get start run tensor mechan simul explor introductori tutori exampl next brows inform introductiontensor_mechanicstutorialsintroductionindexmd visual tensorstensor_mechanicsvisualizingtensorsmd set converg criteriatensor_mechanicsconvergencemd modul document listtensor_mechanicssystemsmd your readi start creat mechan simul colend col small medium larg iconstorag advanc featur classcent stylefontweight explor differ way use tensor mechan modul brows introductori theori page variou model volumetr lock correctiontensor_mechanicsvolumetriclockingmd smear crackingcomputesmearedcrackingstressmd multipl inelast stressescomputemultipleinelasticstressmd gener plane straintensor_mechanicsgeneralized_plane_strainmd fractur integralstensor_mechanicsfractureintegralsmd crystal plasticitycomputemultiplecrystalplasticitystressmd c timoshenko beamtensor_mechanicsctimoshenkobeammd dynamicstensor_mechanicsdynamicsmd viscoplasticityadviscoplasticitystressupdatemd cohes zone modelingcohesivezonemasterindexmd shell elementstensor_mechanicsshellelementsmd reduc order modelslaromancemd colend rowend tensormechan modul develop user nation laboratori univers around world learn get touch develop helpcontact_usmd optionaltru page develop new tensor mechan code consid becom develop tensor mechan modul use code syntax base tensor form approach allow constitut tensor equat implement clearli concis format written mathemat notat follow moos standard contributingframeworkcontributingmd softwar qualiti tensor mechan modul follow strict softwar qualiti guidelin refer tensor mechan sqatensor_mechanicssqaindexmd inform tensor represent util class basi tensor mechan tensor represent class two base class ranktwotensor rankfourtensor expect hold x valu xxx valu respect suit oper getset method avail specifi valu input file ranktwotensor rankfourtensor allow user specifi tensor input file ranktwotensor take vector six nine input six input use appropri symmetri maintain sigma_ij sigma_ji rankfourtensor take vector input appropri length fill tensor appropri symmetri maintain beginequ c_ijkl c_klij c_ijkl c_ijlk c_ijkl c_jikl endequ sever fill method avail specifi addit symmetri describ computeelasticitytensorcomputeelasticitytensormd get set specif compon valu ranktwotensor rankfourtensor allow user get set valu tensor use bracket notat cpp ranktwotensor aij val set ij compon tensor val use zero base index dimens cpp rankfourtensor b bijkl val set ijkl compon tensor val use zero base index dimens use notat read tensor compon cpp ranktwotensor rankfourtensor b real c c c b tensor oper see list avail oper matrix oper ranktwotensor rankthreetensor rankfourtensor descript moos util classesutilsmooseutilsmd gener plane strain descript gener plane strain problem found use mani import applic mani differ present found literatur simplest one extens plane strain problem allow nonvanish constant direct strain outofplan direct citepadamsgp gener allow two rotat degre freedom citepabaqusgp even gener form includ anticlast problem associ outofplan shear citepadamsgp ligp tensor mechan moduletensor_mechanicsindexmd simplest form implement ie extra degre freedom repres outofplan direct strain includ addit convent plane strain problem citepligp formul descript introduc coordin system xy plane posit transvers perpendicular outofplan direct zaxi run outofplan direct simplest gener plane strain condit inplan stress function z impli inplan strain function z constitut relationship linearli elast homogen materi gener plane strain problem present defin domain gener plane strain formul also work coordin system xz yz plane posit transvers perpendicular outofplan direct case yaxi xaxi run outofplan direct respect xy plane gener plane strain problem inplan equilibrium equat kinemat equat gener plane strain problem ident plane stress strain problem given beginequ labeleqnxy_kinematic_equ leftbeginmatrix epsilon_xx epsilon_yy gamma_xi endmatrixright leftbeginmatrix fracparti uparti x fracparti vpartial fracparti vpartial x fracparti uparti endmatrixright endequ equilibrium equat gener plane strain problem xy plane given beginequ beginmatrix fracparti sigma_xxparti x fracparti sigma_xyparti barf_x fracparti sigma_xyparti x fracparti sigma_yyparti barf_i endmatrix endequ left barf right bodi forc constitut equat term stressstrain relationship given beginequ left beginmatrix sigma_xx sigma_yy sigma_zz tau_xi endmatrix right left beginmatrix c_ c_ c_ c_ c_ c_ c_ c_ c_ c_ endmatrix right left left beginmatrix epsilon_xx epsilon_yy epsilon_zz gamma_xi endmatrix right left beginmatrix alpha_x alpha_i alpha_z endmatrix right delta right endequ c_ij materi stiff coeffici use voigt notat alpha_x alpha_i alpha_z materi thermal expans coeffici delta chang temperatur outofplan equilibrium equat condit requir associ outofplan direct constant strain prescrib deform compat condit zdirect beginequ epsilon_zz barepsilon_zz endequ altern forc stress result barn_z zdirect prescrib condit equilibrium condit zdirect given beginequ labeleqnxy_equilibrium n_z int_asigma_zzda barn_z endequ stress result n_z conjug constant strain epsilon_zz formul gener plane strain problem share mani similar convent plane stress plane strain problem differ associ introduct addit degre freedom outofplan direct implement outofplan strain scalar variabl ad standard system equat mechan problem boldsymbolu_x boldsymbolu_i repres displac vector x direct boldsymbolf_x boldsymbolf_i repres correspond reaction forc discuss case twodimension model lie xy plane partit linear system equat block entri stiff matrix repres subscript boldsymbolk term written includ scalar strain variabl follow intend equat hline work equat creat beginequ left beginarrayccc boldsymbolk_xx boldsymbolk_xi boldsymbolk_xz boldsymbolk_yx boldsymbolk_yy boldsymbolk_yz hline boldsymbolk_zx boldsymbolk_zi k_zz endarray right left beginarrayc boldsymbolu_x boldsymbolu_i hline epsilon_zz endarray right left beginarrayc boldsymbolf_x boldsymbolf_i hline n_z endarray right endequ beginequ left beginarrayccc boldsymbolk_xx boldsymbolk_xi boldsymbolk_xz boldsymbolk_yx boldsymbolk_yy boldsymbolk_yz boldsymbolk_zx boldsymbolk_zi k_zz endarray right left beginarrayc boldsymbolu_x boldsymbolu_i epsilon_zz endarray right left beginarrayc boldsymbolf_x boldsymbolf_i n_z endarray right endequ offdiagon entri nonzero shown xz yz plane gener plane strain problem gener plane strain formul also use twodimension model repres xz yz plane rather xy plane typic case model lie plane calcul strain tensor modifi take account fact model differ plane also scalar variabl use repres outofplan strain gener plane strain formul differ direct aspect formul ident xy plane case case model lie xz plane smallstrain kinemat equat strain calcul equival eqnxy_kinematic_equ xy plane express beginequ leftbeginmatrix epsilon_xx epsilon_zz gamma_xz endmatrixright leftbeginmatrix fracparti uparti x fracparti wpartial z fracparti wpartial x fracparti uparti z endmatrixright endequ gener plane strain equilibrium equat equival eqnxy_equilibrium express beginequ n_i int_asigma_yyda barn_i endequ pattern follow yz plane case list moos object use implement object avail gener plane strain stress diverg kernelstressdivergencemd inplan equilibrium equat stress modelstensor_mechanicsstressesmd full stress tensor calcul object specif gener plane strain gener plane strain scalarkernelgeneralizedplanestrainmd outofplan equilibrium condit gener plane strain userobjectgeneralizedplanestrainuserobjectmd residu diagon jacobian calcul scalar outofplan strain variabl gener plane strain offdiagon kernelgeneralizedplanestrainoffdiagmd inplan displac variabl scalar outofplan strain coupl strain calculationstensor_mechanicsstrainsmd inplan strain calcul format full strain tensor consid scalar outofplan strain use gener plane strain model generalizedplanestrainactiongeneralizedplanestrainactionmd use set gener plane strain model tensormechanicsactiontensormechanicsactionmd consid generalizedplanestrainactiongeneralizedplanestrainactionmd metaact also use bibtex bibliographi stress tensor mechan tensor mechan modul includ multipl class calcul elast stress plastic stress creep stress combin stress calcul method elast elast materi experi perman deform elast strain elast stress recover elast stress relat elast strain elast tensor beginequ sigma_ij c_ijkl epsilon_kl endequ two simplifi elast stress materi tensor mechan computelinearelasticstresscomputelinearelasticstressmd small total strain formul computefinitestrainelasticstresscomputefinitestrainelasticstressmd increment finit strain formul inelast stress calcul tensor mechan includ two differ algorithm approach solv stress due inelast strain user object perform stress calcul moos code userobject materi stressupd materi calcul stress within specif type moos materi code approach discuss applic exampl user object plastic model approach model plastic problem use stress materi call sever userobject user object calcul return specif materi properti eg crystal plastic lip system strength stress materi calcul current stress state base return materi properti multisurfac plastic moos multisurfac plastic implement computemultiplasticitystresscomputemultiplasticitystressmd materi assum exactli one intern paramet per singlesurfac plastic model function singlesurfac plastic model depend intern paramet must intern paramet per singlesurfac plastic model case beginequ beginarrayrcl f_alpha f_alphasigma q_alpha textyield function ralpha_ij ralpha_ijsigma q_alpha textflow potenti halpha_a deltaalpha_ahalphasigma q_alpha textharden potenti endarray endequ sum alpha newtonraphson procedur attempt solv three type equat denot f code f_alpha activ alpha toler specifi yield_function_toler plastic model denot epp code valu comput beginequ e_ijklsigma_klmathrmtri sigma_kl sum_mathrmact alphagammaalpharalpha_ijsigma q endequ toler specifi ep_plastic_toler code variabl delta_dp shorthand e_ijklsigma_klmathrmtri sigma_kl dotepsilonmathrmp_ij denot ic code valu calcul beginequ q_alpha q_alphamathrmold gamma_alphahalpha_alpha endequ toler specifi internal_constraint_toler plastic model sum alpha express addit constraint kuhntuck consist condit must also satisfi constraint satisfi last condit amount f_alpha toler gammaalphageq otherwis gammaalpha crystal plastic userobject base crystal plastic system design facilit implement differ constitut law modular way phenomenolog constitut model dislocationbas constitut model implement system system consist one materi class finitestrainuobasedcpfinitestrainuobasedcpmd four userobject class crystalplasticityslipratecrystalplasticitysliprategssmd crystalplasticityslipresistancecrystalplasticityslipresistancegssmd crystalplasticitystatevarratecomponentcrystalplasticitystatevarratecomponentgssmd crystalplasticitystatevariablecrystalplasticitystatevariablemd hyperelast viscoplast hyperelast viscoplast model base multipl decomposit total deform underlinef gradient elast underlinef viscoplast underlinefvp compon viscoplast compon deform evolv intermedi configur follow beginequ dotunderlinefvpunderlinefvp sum_in dotlambdaiunderlineri endequ dotlambdai underlineri flow rate flow direct respect n number flow rate represent allow differ flow rate direct superimpos obtain effect viscoplast deform materi integr model perform use combin materi discreteelementuserobject class materi class finitestrainhyperelasticviscoplasticfinitestrainhyperelasticviscoplasticmd follow residu equat set everi flow rate flow rate direct also calcul use userobject materi class declar properti associ userobject call function userobject perform updat describ avail base class userobject follow hevpflowrateuobas hevpinternalvarrateuobas hevpinternalvaruobas hevpstrengthuobas stressupd materi set plastic creep materi model develop stressupdatebas class allow iter within materi iter materi design stressupd end class name advantag stress updat materi abil combin multipl inelast stress calcul creep plastic class use varieti approach determin inelast strain increment inelast stress step common approach use stressupd class radial return von mise j algorithm stress updat radial return map algorithmradialreturnstressupdatemd discuss gener algorithm return stress state yield surfac stress updat materi call moos directli instead materi use computeproperti method separ call stress updat materi moos allow us iter call updat materi requir achiev converg isotrop materi radial return approach offer distinct advantag faster simul run time isotrop materi iter algorithm use singl variabl real comput converg inelast strain instead invert full rank elast tensor requir complic anisotrop algorithm easi understand return map algorithm implement radialreturnstressupdateradialreturnstressupdatemd classic radial return method base von mise yield criterion applic varieti model radial return method provid flexibl includ creep plastic damag within singl simul computemultipleinelasticstresscomputemultipleinelasticstressmd class call individu creep plastic model iter separ inelast strain increment check converg combin total radial return stress increment requir return stress state yield surfac stress updat materi individu calcul use newton methodhttpmathworldwolframcomnewtonsmethodhtml amount effect inelast strain requir return stress state yield surfac beginequ delta pt delta pt delta p endequ chang iter effect inelast strain defin yield surfac deriv yield surfac respect inelast strain increment case isotrop linear harden plastic harden function r hp effect plastic strain increment form beginequ delta p fracsigmatrial_effect g delta p r sigma_yieldg h endequ g isotrop shear modulu sigmatrial_effect scalar von mise trial stress one stress updat materi includ simul computemultipleinelasticstresscomputemultipleinelasticstressmd iter chang calcul stress return stress reach stabl valu ident involv stress tensor denot stress tensor sigma_ij assum symmetr use quantiti call mean stress beginequ sigma_m trleft sigma right sigma_ii endequ anoth use quantiti traceless part sigma call deviator stress denot s_ij beginequ s_ij sigma_ij delta_ijsigma_m sigma_ij delta_ijsigma_kk endequ mani calcul use use invari beginequ beginalign j_ trleft s_kk right j_ fracs_ijs_ij j_ det left right endalign endequ clearli j_ geq often squareroot j_ written beginequ barsigma sqrtj_ endequ altern form j_ beginequ beginalign j_ det left right fracepsilon_ijkepsilon_mnps_ims_jns_kp fracs_ijs_jks_ki endalign endequ scalar function stress tensor written term invari instanc beginequ s_ijs_jks_kls_li j_ endequ beam small strain timoshenko beam bend cantilev beam model use beam element moos beam cross section area moment inertia z axi young modulu elast nm poisson ratio shear modulu nm shear coeffici point load magnitud time n appli free end cantilev beam ydirect list timoshenko_small_strain_yi result beam dimensionless paramet alpha given beginequ alpha frac kaglei endequ valu alpha high enough beam behav like thin beam shear effect signific henc shear effect consid small deform analyt deflect cantilev beam given beginequ delta frac plei frac alpha time endequ deflect obtain moos use element time shown figtimoshenko_small_strain media mediatensor_mechanicsvandvtimoshenko_small_strainpng stylewidthpxmarginleftpxfloatcent idfigtimoshenko_small_strain captiondisplac timoshenko beam bend small strain euler beam bend cantilev beam model use beam element moos beam cross section area moment inertia z axi young modulu elast nm poisson ratio shear modulu time nm shear coeffici point load magnitud time n appli free end cantilev beam ydirect list euler_small_strain_yi result beam dimensionless paramet alpha given beginequ alpha frac kaglei time endequ sinc valu alpha quit high beam behav like thin beam shear effect signific henc small deform analyt deflect cantilev beam given beginequ delta frac plei frac alpha frac plei time endequ deflect obtain moos use element time shown figeuler_small_strain ratio beam fem solut analyt solut media mediatensor_mechanicsvandveuler_small_strainpng stylewidthpxmarginleftpxfloatcent idfigeuler_small_strain captiondisplac euler beam bend small strain euler beam axial load pipe feet inch long intern diamet inch outer diamet inch model use beam element moos young modulu elast pipe time lbin shear modulu time lbin poisson ratio pipe fix one end axial load lb appli end list euler_pipe_axial_forcei result analyt displac end given beginequ delta frac plae time endequ displac end obtain moos use element time shown figeuler_pipe_axial_forc media mediatensor_mechanicsvandveuler_pipe_axial_forcepng stylewidthpxmarginleftpxfloatcent idfigeuler_pipe_axial_forc captiondisplac euler beam axial load larg strainlarg rotat cantilev beam cantilev beam model use beam element moos beam cross section area moment inertia z axi young modulu elast time nm poisson ratio shear modulu time nm shear coeffici point load magnitud n appli free end cantilev beam ydirect list euler_finite_rot_yi result beam dimensionless paramet alpha given beginequ alpha frac kaglei time endequ sinc valu alpha quit high beam behav like thin beam shear effect signific analyt solut displac due larg rotat larg strain cantilev beam x direct respect citetbishopanddruck displac free end cantilev beam obtain moos x direct shown figeuler_finite_rot_x direct shown figeuler_finite_rot_i media mediatensor_mechanicsvandveuler_finite_rot_xpng stylewidthpxmarginleftpxfloatcent idfigeuler_finite_rot_x captiondisplac cantilev beam larg strain rotat x direct media mediatensor_mechanicsvandveuler_finite_rot_ypng stylewidthpxmarginleftpxfloatcent idfigeuler_finite_rot_i captiondisplac cantilev beam larg strain rotat direct torsion cantilev beam model use beam element moos beam cross section area moment inertia z axi time young modulu elast time nm poisson ratio shear coeffici torsion magnitud nm appli free end cantilev beam list torsion_i result analyt solut axial twist free end beam given beginequ phi frac tlgi_x time rad endequ beginequ i_x i_i i_z time endequ rotat free end beam obtain moos time rad shown figtors media mediatensor_mechanicsvandvtorsionpng stylewidthpxmarginleftpxfloatcent idfigtors captionrot beam due torsion small strain euler beam vibrat cantilev beam model use beam element moos beam cross section area moment inertia z axi time young modulu elast time nm poisson ratio densiti kgm shear modulu time nm shear coeffici impuls load peak valu n shown figimpulseload appli free end beam direct newmark time integr paramet use problem correspond newmark averag acceler method ie beta gamma media mediatensor_mechanicsvandveuler_small_impulsepng stylewidthpxmarginleftpxfloatcent idfigimpulseload captionimpuls load pattern appli free end beam list dyn_euler_sm result beam dimensionless paramet alpha given beginequ alpha frac kaglei time endequ therefor beam behav like eulerbernoulli beam displac veloc acceler function time free end cantilev beam moos compar result abaqu use time step shown figeuler_vibration_disp figeuler_vibration_vel figeuler_vibration_acc media mediatensor_mechanicsvandveuler_small_disppng stylewidthpxmarginleftpxfloatcent idfigeuler_vibration_disp captiondisplac free end euler beam media mediatensor_mechanicsvandveuler_small_velpng stylewidthpxmarginleftpxfloatcent idfigeuler_vibration_vel captionveloc free end euler beam media mediatensor_mechanicsvandveuler_small_accpng stylewidthpxmarginleftpxfloatcent idfigeuler_vibration_acc captionacceler free end euler beam small strain timoshenko beam vibrat cantilev beam model use beam element moos beam cross section area moment inertia z axi young modulu elast time nm poisson ratio densiti kgm shear modulu time nm shear coeffici impuls load peak valu n shown figimpulseload appli free end beam direct newmark time integr paramet use problem correspond newmark averag acceler method ie beta gamma media mediatensor_mechanicsvandvtimo_small_impulsepng stylewidthpxmarginleftpxfloatcent idfigimpulseload captionimpuls load pattern appli free end beam list dyn_timoshenko_sm result beam dimensionless paramet alpha given beginequ alpha frac kaglei endequ therefor beam behav like timoshenko beam displac veloc acceler function time free end cantilev beam moos compar result abaqu use time step shown figtimo_vibration_disp figtimo_vibration_vel figtimo_vibration_acc media mediatensor_mechanicsvandvtimoshenko_small_disppng stylewidthpxmarginleftpxfloatcent idfigtimo_vibration_disp captiondisplac free end timoshenko beam media mediatensor_mechanicsvandvtimoshenko_small_velpng stylewidthpxmarginleftpxfloatcent idfigtimo_vibration_vel captionveloc free end timoshenko beam media mediatensor_mechanicsvandvtimoshenko_small_accpng stylewidthpxmarginleftpxfloatcent idfigtimo_vibration_acc captionacceler free end timoshenko beam small strain massless beam vibrat lump mass cantilev beam model use beam element moos beam massless lump mass kg free end beam moment inertia time z axi young modulu elast time nm poisson ratio shear modulu time nm shear coeffici impuls load peak valu n shown figimpulseload appli free end beam direct newmark time integr paramet use problem correspond newmark averag acceler method ie beta gamma media mediatensor_mechanicsvandvmassless_small_impulsepng stylewidthpxmarginleftpxfloatcent idfigimpulseload captionimpuls load pattern appli free end beam list dyn_euler_small_added_massi result displac veloc acceler function time free end cantilev beam moos compar result abaqu use time step shown figadded_mass_disp figadded_mass_vel figadded_mass_acc media mediatensor_mechanicsvandvadded_mass_disppng stylewidthpxmarginleftpxfloatcent idfigadded_mass_disp captiondisplac free end massless beam lump mass media mediatensor_mechanicsvandvadded_mass_velpng stylewidthpxmarginleftpxfloatcent idfigadded_mass_vel captionveloc free end massless beam lump mass media mediatensor_mechanicsvandvadded_mass_accpng stylewidthpxmarginleftpxfloatcent idfigadded_mass_acc captionacceler free end massless beam lump mass small strain massless beam damp vibrat lump mass rotat moment inertia cantilev beam model use beam element moos beam massless lump mass kg free end whose moment inertia x z axi beam moment inertia z axi time young modulu elast time nm poisson ratio shear modulu time nm shear coeffici impuls load peak valu n shown figimpulseload appli free end beam direct newmark time integr paramet use problem correspond newmark averag acceler method ie beta gamma vibrat damp use mass proport coeffici eta media mediatensor_mechanicsvandvmassless_small_impulsepng stylewidthpxmarginleftpxfloatcent idfigimpulseload captionimpuls load pattern appli free end beam list dyn_euler_small_added_mass_inertia_dampingi result displac veloc acceler function time free end cantilev beam moos compar result abaqu use time step shown figmass_damping_disp figmass_damping_vel figmass_damping_acc media mediatensor_mechanicsvandvmass_damping_disppng stylewidthpxmarginleftpxfloatcent idfigmass_damping_disp captiondisplac free end massless beam lump mass rotat moment inertia media mediatensor_mechanicsvandvmass_damping_velpng stylewidthpxmarginleftpxfloatcent idfigmass_damping_vel captionveloc free end massless beam lump mass rotat moment inertia media mediatensor_mechanicsvandvmass_damping_accpng stylewidthpxmarginleftpxfloatcent idfigmass_damping_acc captionacceler free end massless beam lump mass rotat moment inertia bibtex bibliographi fractur integr jintegr finit element calcul crack repres mesh geometri use calcul displac stress field vicin crack one straightforward way evalu stress intens finit element solut jintegr citeprice_path_ provid mechan energi releas rate crack subject pure modei load k_i calcul j use follow relationship beginequ j begincas fracnuek_i textplan strain fracek_i textplan stress endcas endequ e young modulu nu poisson ratio jintegr origin formul integr close curv around crack tip altern express integr surfac volum use method citeli_comparison_ conveni implement within finit element code follow terminolog citewarpd_ integr valu jintegr segment crack front repres barj express summat four term beginequ barjbarj_barj_barj_barj_ endequ individu term defin beginequ barj_int_v_biggl p_jifracparti u_iparti x_kfracparti q_kpartial x_j wfracparti q_kpartial x_k biggr dv_ endequ beginequ barj_int_v_biggl fracparti wpartial x_k p_jifracpartialu_iparti x_jpartial x_k biggr q_k dv_ endequ beginequ barj_int_v_biggl tfracparti q_kpartial x_k rho fracparti u_iparti fracparti u_iparti x_k q_k rho fracparti u_iparti fracparti u_iparti partial x_k q_k biggr dv_ endequ beginequ barj_int_a_ t_ifracparti u_iparti x_k q_k da_ endequ equat v_ undeform volum a_ combin area two crack face p_ji st piolakirchoff stress tensor u_i displac vector x_k undeform coordin vector w stresswork densiti kinet energi densiti time rho materi densiti t_i vector traction appli crack face vector field q_k vector field orient crack normal direct field magnitud crack tip inner radiu ring integr perform drop inner outer radiu ring valu elsewher j evalu calcul integr barj segment crack front separ q field form segment along crack front ring integr evalu q field multipli weight function vari valu end finit valu middl segment valu j point curv evalu divid barj integr valu weight function segment contain point first term barj barj_ repres effect strain energi homogen materi absenc thermal strain inerti effect second term barj_ account effect materi inhomogenieti gradient thermal strain small strain term repres beginequ barj_ int_v_ sigma_ij left alpha_ij fracparti barthetaparti x_k fracparti alpha_ijparti x_k bartheta right q_k dv_ endequ sigma_ij alpha_ij bartheta cauchi stress thermal conduct differ current temperatur refer temperatur respect third term barj barj_ account inerti effect dynam analysi fourth term barj_ account effect surfac traction crack face moos implement jintegr calcul use arbitrari curv crack front includ barj_ barj_ term account effect quasistat mechan thermal induc strain last two term implement quasistat load condit inerti effect barj_ barj_ would nonzero pressur crack implement futur consid case pointwis valu js calcul jintegr crack front segment barj use express beginequ js fracbarjsint qs ds endequ use jintegr capabl moos user specifi set node along crack front inform use calcul crack normal direct along crack front inner outer radii set ring integr perform code automat defin full set q function point along crack front output either valu j k_i point addit user ask variabl model output point correspond j evalu along crack front interact integr interact integr method base jintegr make possibl evalu mixedmod stress intens factor k_i k_ii k_iii well tstress vicin threedimension crack formul reli superimpos william solut stress displac around crack context call auxiliari field comput finit element stress displac field call actual field total superimpos j separ three part j actual field j auxiliari field interact part contain term actual auxiliari field quantiti last part call interact integr fairli straight crack without bodi forc thermal load crack face traction interact integr crack front segment written citepwalters_interaction_ beginequ bari int_v left sigma_ij u_jaux sigma_ijaux u_j sigma_jk epsilon_jkaux delta_i right q_i mathrmdv int_v left epsilon_ij sigma_ijaux b_i u_iaux right q mathrmdv endequ sigma stress u displac q ident qfunction use jintegr last two term equat account effect gradient eigenstrain epsilon effect bodi forc b eigenstrain thermal strain gradient comput use gradient temperatur field temperatur deriv eigenstrain case user suppli temperatur eigenstrain name temperatur eigenstrain_nam paramet respect eigenstrain anoth sourc gradient must comput eigenstrain materi model form rankthreetensor object whose name specifi fractur integr use eigenstrain_gradi paramet way jintegr pointwis valu locat obtain bari use beginequ fracbarisint qs mathrmd endequ next relat interact integr stress intens factor write js actual auxiliari field superimpos term mixedmod stress intens factor beginequ beginalign jss fracnu left left k_i k_iaux right left k_ii k_iiaux right right fracnu left k_iii k_iiiaux right js jaux endalign endequ interact integr part evalu beginequ beginalign fracnu left k_i k_iaux k_ii k_iiaux right fracnu left k_iii k_iiiaux right endalign endequ obtain individu stress intens factor interact integr evalu differ auxiliari field instanc choos k_iaux k_iiaux k_iiiaux comput volum integr actual auxiliari field k_i solv three interact integr stress intens factor comput option output equival stress intens factor comput beginequ k_eq sqrt k_i k_ii frack_iiinu endequ tstress first secondord paramet william expans stress crack tip constant stress parallel crack citeplarsson_influence_ citeprice_limitations_ contrari j tstress depend geometri size give accur descript stress strain around crack tip j alon tstress character cracktip constraint neg tstress associ loss constraint higher fractur tough would predict oneparamet j descript load crack tstress calcul interact integr methodolog use appropri auxiliari field citeptoshio_determination_ current implement tstress comput valid twodimension threedimension crack mode load usag moos implement capabl comput fractur integr provid use varieti moos object quit complex defin manual especi simul reason comput jintegr interact integr domainintegr actiondomainintegralactionmd use set requir object list modulestensor_mechanicstesttestsj_integralj_integral_di blockdomainintegr cintegr ct integr fractur integr obtain essenti way jintegr describ replac displac strain displac rate strain rate beginequ ctint_gammabiggl p_jifracparti dotu_iparti x_kd dotwdi biggr dgamma endequ integr comput analog way jintegr domain integr solv crack front geometri defin mesh integr becom c integr creep behavior becom steadi state creep crack growth behavior secondari creep obtain integr number approxim express c avail literatur citepbongyoon_ usag comput cintegr domainintegr actiondomainintegralactionmd use set requir object particular two addit input requir integr cintegr inelastic_model former refer type integr request c latter refer name power law creep model support materi model present power law expon materi model use comput strain energi rate densiti fractur integr assumpt creep strain rate field subject steadyst secondari crack growth list modulestensor_mechanicstesttestsj_integral_vtestc_int_surfbreak_ellip_crack_sym_mmi blockdomainintegr dynam dynam problem like respons multi degre freedom structur extern forc wave propag medium also solv use tensor mechan modul equat motion typic dynam problem follow format beginequ mathbfm ddotumathbfc dotumathbfkumathbff_ext endequ mathbfm mass matrix mathbfc damp matrix mathbfk stiff matrix mathbff_ext vector extern forc act node mathbfu mathbfdotu mathbfddotu vector displac veloc acceler node respect time integr solv equat mathbfu appropri time integr scheme need chosen newmark citepnewmarkamethod hilberhughestaylor hht citephughesfem time integr scheme two commonli use method dynam newmark time integr newmark time integr acceler veloc tdelta written term displac veloc acceler time displac tdelta use newmarkaccelauxnewmarkaccelauxmd newmarkvelauxnewmarkvelauxmd aux kernel respect beginequ beginalign mathbfddotutdelta fracmathbfutdelta tmathbfutbeta delta fracmathbfdotutbeta delta tfracbeta betamathbfddotut mathbfdotut delta mathbfdotut gammadelta mathbfddotut gamma delta mathbfddotutdelta endalign endequ equat beta gamma newmark time integr paramet substitut two equat equat motion result linear system equat mathbfautdelta mathbfb mathbfutdelta estim beta frac gamma frac newmark time integr method implicit uncondit stabl constant averag acceler method numer damp recommend constant timestep use throughout simul reason simul converg timestep halv time integr method numer damp result high frequenc nois beta frac gamma frac result linear acceler method acceler linearli vari tdelta beta gamma frac ident central differ method alert note frac le gamma le beta structur dynam problem newmark method uncondit stabl irrespect timestep delta gamma frac newmark method least second order accur first order accur valu gamma hilberhughestaylor time integr hht time integr scheme built upon newmark time integr method addit newmark equat equat motion also alter result beginequ mathbfmmathbfddotutdelta mathbfcalphamathbfdotutdelta talphamathbfdotut alphamathbfkmathbfutdelta alpha k mathbfut mathbff_extt alpha delta endequ alpha hht paramet frac le alpha le beta fracalpha gamma frac alpha hht method least secondord accur uncondit stabl nonzero valu alpha respons high frequenc frac dt numer damp provid beta gamma defin detail newmark method hht method found lectur noteshttppeopledukeeduhpgavinceenumericalintegrationpdf rayleigh damp common form structur damp use dynam problem damp matrix mathbfc assum linear combin mass stiff matric ie mathbfc eta mathbfm zetamathbfk eta zeta mass stiff depend rayleigh damp paramet respect equat motion presenc rayleigh damp beginequ mathbfmmathbfddotu eta zeta kmathbfdotu mathbfkmathbfu mathbff_ext endequ degre damp system depend coeffici zeta eta follow beginequ labeleqngeneral_rayleigh xi omega fraceta fracomega fraczeta omega endequ xiomega damp ratio system function frequenc omega exampl damp ratio function frequenc zeta eta present figrayleigh note omega unit rad f use figur unit hz media mediatensor_mechanicsrayleighpng stylewidthmarginleftpxfloatcent idfigrayleigh captiondamp ratio function frequenc model constant damp ratio use rayleigh damp aim find zeta eta xif close target damp ratio xi_t constant valu frequenc rang f_ f_ achiev minim differ xi_t xif frequenc f_ f_ ie beginequ int_f_f_ xi_t leftfracetafracomega fraczeta omegaright df endequ fracdid eta fracdid zeta result two equat linear eta zeta solv two linear equat simultan give beginequ beginalign zeta fracxi_t pi fracdelta f leftf_ f_ fracf_ f_delta f ln fracf_f_right eta pi xi_t fracf_ f_delta_f leftln fracf_f_ left fracf_ f_delta_fright fracf_ f_delta_fright endalign endequ similar method use estim eta zeta nonconst damp ratio implement usag moos framework mass stiff matric explicitli calcul residu calcul get residu equat motion rayleigh damp hht time integr written beginequ rho ddotutdelta eta rho alphadotut delta talpha dotut zeta nabla cdot alphafracddtsigmatdelta alpha fracddtsigmat nabla cdot alpha sigmatdelta alpha sigmat f_extt alpha delta endequ rho densiti materi sigma stress tensor weak form equat use get residu first two term left contain rho calcul inertialforceinertialforcemd kernel alpha beta gamma eta need pass input inertialforc kernel next two term left involv sigma calcul dynamicstressdivergencetensorsdynamicstressdivergencetensorsmd note time deriv sigmatdelta sigmat approxim follow beginequ beginalign fracddtsigmatdelta fracsigmatdelta tsigmatdelta fracddtsigmat fracsigmatsigmatdelta tdelta endalign endequ input file syntax calcul residu due inerti forc dynamicstressdivergencetensor list modulestensor_mechanicstesttestsdynamicsrayleigh_dampingrayleigh_hhti startkernel endauxkernel dynamictensormechan action call dynamicstressdivergencetensorsdynamicstressdivergencetensorsmd kernel final use hht time integr method extern forc like graviti pressur also requir alpha input alert note dynam problem recommend use presetdisplacementpresetdisplacementmd presetaccelerationpresetaccelerationmd prescrib displac acceler boundari respect alert warn dynamicstressdivergencetensorsdynamicstressdivergencetensorsmd use undisplac mesh default kernel inertialforceinertialforcemd gravitygravitymd boundari condit pressurepressuremd use displac mesh default calcul perform either use undisplac mesh recommend small strain problem displac mesh recommend finit strain problem therefor use_displaced_mesh paramet appropri set kernel boundari condit static initi initi system constant initi load graviti initi static analysi conduct turn dynam relat kernel auxkernel inertialforceinertialforcemd newmarkvelauxnewmarkvelauxmd newmarkaccelauxnewmarkaccelauxmd first time step turn stiff proport rayleigh damp first time step static_initi flag set true dynamictensormechanicsdynamictensormechanicsactionmd dynamicstressdivergencetensorsdynamicstressdivergencetensorsmd exampl static initi found follow test list modulestensor_mechanicstesttestsdynamicsprescribed_displacementd_qstatic__ramped_displacement_with_gravityi bibtex bibliographi plugnplay system overview tensor mechan tensor mechan materi use plugandplay system main tensor use residu equat defin individu materi class moos plugandplay approach use tensor mechan modul requir least three separ class fulli describ materi model alert note titlethre tensor requir mechan problem three tensor must defin mechan problem strain boldsymbolepsilon strain increment elast tensor boldsymbolmathcalc stress boldsymbolsigma option tensor includ stressfre strain also known eigenstrain boldsymbolepsilon_ addit stress boldsymbolsigma_ media mediatensor_mechanicsintroplugnplaypng stylewidthfloatright captionfigur tensor requir fulli describ mechan materi time user may need defin multipl mechan properti singl block reason materi properti prepend name defin input paramet base_nam strain materi base materi class creat strain boldsymbolepsilon strain increment computestrainbas class pure virtual class requir children overrid computeqpproperti method strain base class defin properti total_strain increment strain finit small comput strain base class defin properti strain_rat strain_incr rotation_incr deformation_gradi discuss differ type strain formul avail strainstensor_mechanicsstrainsmd page small strain use computesmallstraincomputesmallstrainmd boldsymbolepsilon nabla boldsymbolu nabla boldsymbolut finit strain use computefinitestraincomputefinitestrainmd increment form employ strain_incr rotation_incr calcul tensormechan master action strain formul set strain small finit paramet shown list modulestensor_mechanicstesttestsfinite_strain_elasticfinite_strain_elastic_new_testi blockmodulestensormechan elast tensor materi primari class creat elast tensor boldsymbolmathcalc_ijkl computeelasticitytensorcomputeelasticitytensormd class defin properti _elasticity_tensor given elast constant requir applic symmetri symmetr materi calcul elast tensor wish rotat elast tensor constant euler angl provid elast tensor also scale function desir computeelasticitytensor also serv base class special elast tensor includ elast tensor crystal plastic computeelasticitytensorcpcomputeelasticitytensorcpmd cosserat elast tensor computelayeredcosseratelasticitytensorcomputelayeredcosseratelasticitytensormd isotrop elast tensor computeisotropicelasticitytensorcomputeisotropicelasticitytensormd input file syntax isotrop elast tensor list modulestensor_mechanicstutorialsbasicspart_i blockmaterialselasticity_tensor orthotrop materi metal crystal list modulestensor_mechanicstesttestsfinite_strain_elasticfinite_strain_elastic_new_testi blockmaterialselasticity_tensor stress materi base class constitut equat comput stress boldsymbolsigma computestressbas computestressbas class defin properti stress elastic_strain pure virtual class requir children overrid method computeqpstress two elast constitut model develop one assum small strain computelinearelasticstresscomputelinearelasticstressmd second assum finit strain rotat increment computefinitestrainelasticstresscomputefinitestrainelasticstressmd input file syntax materi list modulestensor_mechanicstesttestsfinite_strain_elasticfinite_strain_elastic_new_testi blockmaterialsstress number constitut model implement calcul complex elast problem plastic creep overview differ materi avail stressestensor_mechanicsstressesmd page eigenstrain materi eigenstrain term given strain result directli appli forc base class eigenstrain computeeigenstrainbas comput eigenstrain subtract total strain comput strain class beginequ epsilon_mechan epsilon_tot epsilon_eigen endequ chapter citequfundament describ relationship total elast eigen strain provid exampl use thermal expans disloc eigenstrain also refer residu strain stressfre strain intrins strain translat german eigenhttpdicttuchemnitzdedeutschenglischeigenhtml mean intrins english term eigenstrain introduc citemuragener eigenstrain gener name given nonelast strain thermal expans phase transform initi strain plastic misfit strain eigenstress gener name given selfequilibr intern stress caus one sever eigenstrain bodi free extern forc surfac constraint eigenstress field creat incompat eigenstrain new english terminolog adapt german eigenspannungen eigenspannungsquellen titl h reissner paper residu stress thermal strain volumetr chang result chang temperatur materi chang strain either simpl linear function thermal chang eg boldsymbolepsilon_t alpha delta complex function temperatur thermal expans class computethermalexpansioneigenstraincomputethermalexpansioneigenstrainmd comput thermal strain linear function temperatur input file syntax list modulestensor_mechanicstestteststhermal_expansionconstant_expansion_coeffi blockmaterialsthermal_expansion_strain eigenstrain materi block name must also ad input paramet eigenstrain_nam strain materi tensormechan master action block exampl addit paramet tensormechan master action shown list modulestensor_mechanicstestteststhermal_expansionconstant_expansion_coeffi blockmodulestensormechan eigenstrain could caus defect overs unders second phase particl eigenstrain materi computevariableeigenstraincomputevariableeigenstrainmd class comput lattic mismatch due secondari phase form tensor defin input vector scalar depend phase variabl defin anoth materi input file syntax list modulescombinedtesttestseigenstraininclusioni blockmaterialseigenstrain note derivativeparsedmateri evalu express given input file automat gener deriv quadratur point list modulescombinedtesttestseigenstraininclusioni blockmaterialsvar_depend extra stress materi extra stress boldsymbolsigma_ also pull residu calcul constitut model calcul stress extra stress materi properti extra_stress defin computeextrastressbas class ad stress valu beginequ sigma_ij sigma_ij sigmaextra_ij endequ extra stress may residu stress larg civil engin simul exampl extra stress materi use input file list modulescombinedtesttestslinear_elasticityextra_stressi blockmaterialsconst_stress bibtex bibliographi c timoshenko beam element beam element fig_beam use model respons structur element long one dimens compar crosssect two popular formul beam element media mediatensor_mechanicsbeam_representationpng stylewidthmarginleftfloatright idfig_beam captionbeam element node translat rotat degre freedom node eulerbernoulli beam element use model bend deform long slender beam two main assumpt beam theori beam crosssect rigid deform applic transvers later load ii crosssect beam remain planar normal deform axi beam timoshenko beam element citeptimoshenko_correction_ timoshenko_transverse_ use model shear bend deform short thick beam beam crosssect deform beam theori well remain planar crosssect need normal deform axi beam eulerbernoulli beam element deriv special case timoshenko beam element therefor c timoshenko beam element implement moos element two node node degre freedom dof translat rotat displac dof consid independ variat translat rotat displac along length beam model use first order lagrang shape function independ rotat dof node make easier model shear deform result nonperpendicular crosssect respect beam axi basic equat motion quasistat beam continuum brick element beginequ nabla cdot sigma f_ext endequ updat lagrangian formul similar one citebathe_large_ use calcul beam stress strain strain calcul first step calcul stress calcul strain beam element four main coordin system consid global coordin system origin beam local coordin system beam local coordin system time delta updat lagrangian formul start configur time strain increment measur deform beam rotat increment measur rigid rotat beam calcul arriv state beam delta rotat increment let r rotat matrix global coordin system origin beam local coordin system calcul use unit vector along axi beam assum beam local x axi userprovid y_orient orthonorm beam axi cross product beamaxi y_orient beam undergo small deformationrot rotat matrix increment updat rotat matrix tdelta tdelta tr assum r beam undergo finit deform rotat increment delta r transform beam beam local configur beam local configur delta calcul time step calcul perform use euler angl describ let tdelta u_i tdelta u_i tdelta u_i denot translat displac node tdelta displac differ nodal posit time tdelta global coordin system refer x z coordin respect similarli let tdelta theta_i tdelta theta_i tdelta theta_i denot rotat displac node tdelta global coordin system let tdelta delta u tdelta delta u tdelta delta u tdelta delta theta tdelta delta theta tdelta delta theta differenti displac along length beam global displac convert beam local configur use rotat matrix tr follow beginequ tdelta delta u local tr tdelta delta u endequ beginequ tdelta delta theta local tr tdelta delta theta endequ beam local displac use calcul euler angl alpha beta gamma citebathe_large_ euler angl use calcul rotat increment delta r use delta r rotat matrix tdelta calcul beginequ tdelta tr delta r tr endequ rotat matrix increment updat computefinitebeamstraincomputefinitebeamstrainmd use computeincrementalbeamstraincomputeincrementalbeamstrainmd use rotat matrix initi comput rotat matrix r strain increment calcul beam strain increment increment beam displac time tdelta local configur tdelta obtain use tdelta r transform displac global local configur tdelta simplifi notat let u_ji theta_ji translat rotat displac node tdelta beam local configur tdelta interpol nodal dof along axi beam use first order lagrang shape function give u_jx u_j fracxl u_j fraclxl theta_jx theta_j fracxl theta_j fraclxl howev u_jx give translat displac beam axi translat displac point beam obtain follow beginequ u_xyz u_x theta_x theta_x z endequ beginequ u_xyz u_x theta_x z endequ beginequ u_xyz u_x theta_x endequ axial strain epsilon_ shear strain epsilon_ epsilon_ obtain follow beginequ epsilon_xyz fracparti u_xyzparti x fracparti u_xparti x fracparti theta_xparti x fracparti theta_xparti x z endequ beginequ epsilon_xyz fracparti u_xyzparti fracparti u_xyzparti x theta_ fracparti u_xparti x fracparti theta_xparti x z endequ beginequ epsilon_xyz fracparti u_xyzparti z fracparti u_xyzparti x theta_ fracparti u_xparti x fracparti theta_xparti x endequ note use linear interpol rotat variabl calcul shear strain lead shear lock beam use theta_x theta_ theta_ calcul epsilon_ epsilon_ ensur beam doesnt lock shear deform citepprathap_reduced_ translat strain increment function x z howev sinc beam crosssect deform strain integr crosssect obtain strain increment function x beginequ epsilon_x int_a epsilon_xyz da fracparti u_xparti x fracparti theta_xparti x a_i fracparti theta_xparti x a_z endequ beginequ epsilon_x int_a epsilon_xyz da theta_ fracparti u_xparti x fracparti theta_xparti x a_z endequ beginequ epsilon_x int_a epsilon_xyz da theta_ fracparti u_xparti x fracparti theta_xparti x a_i endequ crosssect area a_i int_a da a_z int_a z da epsilon_x epsilon_x epsilon_x axial shear increment apart translat strain increment rotat strain increment also need calcul beginequ kappa_x int_a epsilon_xyz epsilon_xyz z da theta_ a_i fracparti u_xparti x a_i fracparti theta_xparti x i_x theta_ a_z fracparti u_xparti x a_z endequ beginequ kappa_x int_a epsilon_xyz z da fracparti u_xparti x a_z fracparti theta_xparti x iyz fracparti theta_xparti x i_z endequ beginequ kappa_x int_a epsilon_xyz da fracparti u_xparti x a_i fracparti theta_xparti x i_i fracparti theta_xparti x iyz endequ i_i int_a da i_z int_a z da i_x int_a z da iyz int_a yz da note iyz assum zero simplic assumpt valid symmetr crosssect squar rectangular circular i_x automat calcul i_i i_z unless i_x provid input user strain increment calcul use small strain assumpt large_strain option computeincrementalbeamstraincomputeincrementalbeamstrainmd computefinitebeamstraincomputefinitebeamstrainmd set true strain calcul use equat beginequ epsilon_xyz fracparti u_xyzparti x frac left left fracparti u_xyzparti xright left fracparti u_xyzparti x right left fracparti u_xyzparti x right right endequ beginequ epsilon_xyz fracparti u_xyzparti fracparti u_xyzparti x fracparti u_xyzparti x fracparti u_xyzparti fracparti u_xyzparti x fracparti u_xyzparti endequ beginequ epsilon_xyz fracparti u_xyzparti z fracparti u_xyzparti x fracparti u_xyzparti x fracparti u_xyzparti z fracparti u_xyzparti x fracparti u_xyzparti z endequ note large_strain calcul a_i a_z j assum zero simplic valid symmetr crosssect squar rectangular circular crosssect displac rotat eigenstrain provid input eigenstrain increment would subtract total displac rotat strain increment get mechan displac rotat strain increment stress calcul axial shear strain increment rotat strain increment remov eigenstrain pass computebeamresultantscomputebeamresultantsmd calcul forc delta f moment delta increment use linear elast constitut relat defin computeelasticitybeamcomputeelasticitybeammd follow beginequ delta f_x e epsilon_x endequ beginequ delta f_x kg epsilon_x endequ beginequ delta f_x kg epsilon_x endequ beginequ delta m_x kg kappa_x endequ beginequ delta m_x e kappa_x endequ beginequ delta m_x e kappa_x endequ e g young shear modulu respect k shear correct factor depend shape crosssect sinc strain increment beam local configur tdelta calcul forc moment increment also configur get total forc moment delta forc moment increment first transform global coordin system use tdelta tr ad forc moment alreadi global coordin system strain energi calcul beginequ delta v int_omega sigma_xyz delta epsilon_xyz sigma_xyz delta epsilon_xyz sigma_xyz delta epsilon_xyz delta omega endequ beginequ int_l f_x delta epsilon_x f_x delta epsilon_x f_x delta epsilon_x m_x delta kappa_x m_x delta kappa_x m_x delta kappa_x endequ seen equat epsilon_x depend fracparti u_parti x a_i a_z zero epsilon_x depend fracparti u_parti x theta_ therefor f_x delta epsilon_x would contribut residu translat dof direct rotat dof z direct similarli f_x delta epsilon_x would contribut residu translat dof z direct rotat dof direct account coupl shear bend behavior beam stressdiverg calcul perform stressdivergencebeamstressdivergencebeammd dynam beam two main way includ inerti effect beam first method assign uniform densiti beam calcul consist massinertia matrix beam second method assum mass beam concentr end beam repres mass beam use point massinertia node end beam consist mass matrix a_i a_z iyz zero inertialforcebeaminertialforcebeammd coupl rotat translat dof residu jth translat degre freedom node obtain follow beginequ r_j int_l rho leftfracxl ddotu_j fracl xl ddotu_j right fracxl dx endequ beginequ r_j int_l rho leftfracxl ddotu_j fracl xl ddotu_j right fracl xl dx endequ rho densiti beam assum constant length beam ddotu_ji translat acceler node jth direct residu jth rotat degre freedom obtain follow beginequ r_j int_l rho leftfracxl ddottheta_j fracl xl ddottheta_j right fracxl dx endequ beginequ r_j int_l rho leftfracxl ddottheta_j fracl xl ddottheta_j right fracl xl dx endequ i_i i_z user provid i_x j i_z j i_i j a_i a_z nonzero coupl u_ theta_ theta_ u_ theta_ u_ theta_ point massinertia nodaltranslationalinertianodaltranslationalinertiamd nodalrotationalinertianodalrotationalinertiamd use appli massinertia node mass inertia term contribut residu node appli mass behav isotrop three coordin direct result follow jth translat nodal residu beginequ r_j ddotu_j endequ nodalrotationalinertianodalrotationalinertiamd take rotat inertia compon input i_xx i_yy i_zz i_xi i_xz i_yz coordin system moment inertia compon provid differ global coordin system x_orient y_orient need provid input transform matrix local coordin system global coordin system calcul moment inertia tensor global coordin system obtain residu rotat dof jth direct beginequ r_j sum_i i_ji ddottheta_i endequ timeintegr damp rayleigh damp newmark hht time integr calcul dampinghttpmooseframeworkorgwikiphysicsmodulestensormechanicsdynam stressdivergencebeamstressdivergencebeammd inertialforcebeaminertialforcebeammd use consist massinertia matrix stressdivergencebeamstressdivergencebeammd nodaltranslationalinertianodaltranslationalinertiamd nodalrotationalinertianodalrotationalinertiamd use point massinertia matrix bibtex bibliographi critic time step explicit time integr scheme simpl implement requir minim cpu time memori per time step howev explicit scheme condit stabl time step use integr small call critic time step solut remain valid critic time step defin smallest time step ensur speed propag wave within element less theoret transmit per citethughesfinit critic time step delta t_crit mathemat defin beginequ labeleqn delta t_crit fracomegag_max endequ omegag_max maximum eigen frequenc entir mesh sinc numer expens solv omegag_max maximum eigen frequenc element smallest size usual comput conserv estim comput expect depend element type discuss differ element type isotrop elast element isotrop elast element critic time step given citeask beginequ labeleqn delta te_crit minbiggfracdelta xc_dfracdelta xc_sbigg endequ delta x minimum element size c_d dilat wave speed c_ shear wave speed wave speed given beginequ labeleqn beginalign c_d sqrtfracenununurho c_ sqrtfracgrho endalign endequ e materi elast modulu g shear modulu nu poisson ratio rho densiti sinc applic nu posit fracdelta xc_d term equat signific elast beam element critic time step elast beam element base work citetkrieg citetwright citetjunior either pure axial pure shear deform govern critic time step given beginequ labeleqn delta te_crit minbiggfracdelta xc_fracdelta xc_bigg endequ delta x minimum element size c_ c_ given beginequ labeleqn beginalign c_ sqrtfracerho c_ sqrtkappafracgrho endalign endequ e g kappa rho beam young modulu shear modulu shear factor densiti respect flexur govern critic time step given beginequ labeleqn delta te_crit fracsqrtfrackappagarhoi endequ crosssect area moment interia respect implement equat comput minimum treat critic time step bibtex bibliographi visual tensor compon visual stress strain elast tensor compon materi object must output auxiliari variabl use auxiliari kernel avail ranktwoaux use output ranktwotensor compon rankfouraux use output rankfourtensor compon auxvari creation exampl sigma_ epsilon_ c_ visual first declar auxiliari variabl input file stress sigma_xx compon list modulescombinedtesttestseigenstraininclusioni blockauxvariabless_aux strain epsilon_yy compon list modulescombinedtesttestseigenstrainvariablei blockauxvariablese_aux elast tensor c_ compon list modulestensor_mechanicstesttestselasticitytensorcompositei blockauxvariablesc_aux auxkernel creation next appropri auxiliari kernel use element requir name materi properti wish see field valu indic tensor valu either addit name output auxvari correspond auxkernel block auxvari given stress sigma_xx compon list modulescombinedtesttestseigenstraininclusioni blockauxkernelsmatl_ strain epsilon_yy compon list modulescombinedtesttestseigenstrainvariablei blockauxkernelsmatl_ elast tensor c_ compon list modulestensor_mechanicstesttestselasticitytensorcompositei blockauxkernelsmatl_c see document ranktwoauxranktwoauxmd rankfourauxrankfourauxmd detail avail option save quantiti tensor type postprocessor usag save valu csv file consol data analysi auxiliari variabl output postprocessor complet list postprocessor systempostprocessorsindexmd avail moos document commonli use option elementaveragevalueelementaveragevaluemd stress diverg materi vari rest shape due stress departur rest shape call deform displac proport deform origin size call strain determin deform shape stress govern equat solv determin displac vector boldsymbolu mathemat introduct strong form govern equat domain omega boundari gammagamma_mathitt_icupgamma_mathitg_i state follow beginequ beginalign nabla cdot boldsymbolsigma boldsymbolsigma_ boldsymbolb boldsymbol mathrminomega boldsymbolu boldsymbolgmathrmingamma_ boldsymbolg boldsymbolsigma cdot boldsymbolnboldsymboltmathrmingamma_ boldsymbolt endalign endequ boldsymbolsigma cauchi stress tensor boldsymbolsigma_ addit sourc stress pore pressur boldsymbolu displac vector boldsymbolb bodi forc boldsymboln unit normal boundari boldsymbolg prescrib displac boundari boldsymbolt prescrib traction boundari weak form residu equat express beginequ mathbbr left boldsymbolsigma boldsymbolsigma_ nabla phi_m right left boldsymbolt phi_m right left boldsymbolb phi_m right boldsymbol endequ cdot left cdot right repres volum boundari integr respect solut residu equat newton method requir jacobian residu equat express ignor boundari term beginequ mathbbj left fracparti boldsymbolsigmaparti nabla boldsymbolu nabla phi_m right endequ assum boldsymbolsigma_ independ strain materi stress respons describ constitut model stress determin function strain ie tildeboldsymbolsigma boldsymbolepsilon boldsymbolepsilon_ boldsymbolepsilon strain boldsymbolepsilon_ stress free strain exampl linear elast valid small strain materi respons linear ie boldsymbolsigma boldsymbolmathcalcboldsymbolepsilon boldsymbolepsilon_ consist stress strain idconsistency_stress_strain_use_displaced_mesh within tensor mechan modul three separ way consist calcul strain stress shown strain_formul attent correspond among stress strain formul necessari ensur stress strain calcul perform correct materi configur tabl idstrain_formul captionconsist strain stress formul theoret formul tensor mechan class linear elast total small strain problem computelinearelasticstresscomputelinearelasticstressmd computesmallstraincomputesmallstrainmd tensormechanicsmasteractionmodulestensormechanicsmasterindexmd use argument strain small linear elast increment small strain computefinitestrainelasticstresscomputefinitestrainelasticstressmd computeincrementalsmallstraincomputeincrementalsmallstrainmd tensormechanicsmasteractionmodulestensormechanicsmasterindexmd strain small increment true larg deform problem includ elast andor plastic computefinitestrainelasticstresscomputefinitestrainelasticstressmd inelast stress materi class computefinitestraincomputefinitestrainmd tensormechanicsmasteractionmodulestensormechanicsmasterindexmd use strain finit linear elast problem linear elast problem calcul refer mesh linear elast total small strain formul computesmallstraincomputesmallstrainmd rotat increment use computeincrementalsmallstraincomputeincrementalsmallstrainmd rotat increment defin ident tensor total small strain increment small strain class pass stress diverg kernel stress calcul refer mesh sigmax larg deform problem third set plugandplay tensor mechan class larg deform formul calcul strain stress deform current mesh exampl end computefinitestraincomputefinitestrainmd class strain rotat deform mesh computefinitestrainelasticstresscomputefinitestrainelasticstressmd class stress rotat deform mesh newer materi model crystal plastic model creep model also rotat strain stress deform mesh larg deform class stress pass stress diverg kernel calcul respect deform mesh sigmax alert warn titleensur consist stress strain formul user develop must take care ensur consist mesh use calcul strain mesh use calcul residu stress diverg equat stressdivergencetensorsstressdivergencetensorsmd kernel variou stress diverg action paramet use_displaced_mesh use determin deform refer mesh use detail governing_equation_mesh_formul tabl idgoverning_equation_mesh_formul captionstress diverg govern equat mesh configur correspond simul formul govern equat correct kernel paramet mesh configur linear elast nabla_x cdot sigma x use_displaced_mesh fals refer mesh undeform larg deform elast inelast nabla_x cdot sigma x use_displaced_mesh true deform mesh current stress diverg kernel nabla given gradient test function mesh gradient taken respect determin use_displaced_mesh paramet set sourc confus use_displaced_mesh paramet use materi comput strain stress paramet play larg role calcul stress diverg kernel masteract tensor mechan use_displaced_mesh paramet must set correct ensur consist equilibrium equat stress calcul respect deform mesh test function gradient must also calcul respect deform mesh tensormechanicsmasteractionmodulestensormechanicsmasterindexmd design automat determin set flag use_displaced_mesh paramet correctli select strain formul alert note titleus tensor mechan masteract recommend recommend user employ tensormechanicsmasteractionmodulestensormechanicsmasterindexmd whenev possibl ensur consist test function gradient strain formul select linear elast problem small strain linear elast problem run paramet use_displaced_mesh fals kernel ensur calcul across three class strain stress kernel comput respect refer mesh set automat handl tensormechanicsmasteractionmodulestensormechanicsmasterindexmd use list modulestensor_mechanicstutorialsbasicspart_i blockmodulestensormechanicsmast larg deform problem larg deform problem run paramet set use_displaced_mesh true kernel kernel materi comput variabl respect deform mesh howev set use_displaced_mesh chang default materi tensormechanicsmasteractionmodulestensormechanicsmasterindexmd automat creat appropri set class input file syntax set stress diverg kernel finit strain problem list modulestensor_mechanicstesttestsfinite_strain_elasticfinite_strain_elastic_new_testi blockmodul larom stress updat automat differenti descript laromancestressupdatebas class comput creep rate materi sampl lo alamo reduc order model appli nonlinear constitut equat larom formul via calibr lowerlength scale simul laromancestressupdatebas util exact techniqu util adpowerlawcreepstressupdateadpowerlawcreepstressupdatemd includ radial return method implement radialreturnstressupdateradialreturnstressupdatemd howev place tradit powerlaw creep model rom sampl determin creep rate function temperatur defect concentr von mise trial stress environment factor addit lowerlength scale inform cell disloc cell wall disloc evolv determin rom laromancestressupdatebas provid necessari math implement rom provid correct larom model format essenti includ necessari materi specif data exampl implement necessari data provid sshlaromancestressupdatetest theori creep behavior metal govern physic deform mechan disloc glide climb cobl creep citeasarokf physic mechan explicitli captur creep model formul transient creep behavior readili captur citewenhu citewenwv typic constitut model framework comput costli use effect engin applic use simplifi regress model place physicsbas simul ie reduc order model rom necessari rom method employ model depend databas physicsbas simul result formul databas must includ list input need distinguish desir output case stainless steel alloy h degre freedom present fullfidel model numer includ individu rom databas reduc instead reli isotrop effect measur exampl thermal creep randomli textur polycrystallin h approxim j materi respons ie von mise stress criterion citehutchinsondr reduc list input includ temperatur von mise stress accumul effect von mise strain histori track paramet averag disloc densiti cell averag disloc densiti cell wall physicsbas simul express viscoplast selfconsist vpsc framework citelebensohngn citelebensohniq vpsc model describ polycryst collect orient grain associ volum fraction chosen repres initi textur aggreg grain regard viscoplast inclus embed interact homogen effect medium hem averag properti aggreg macroscop respons polycryst result contribut grain viscoplast complianc hem given selfconsist condit appli grain averag constitut law relat strainrat stress aggreg written linear form beginequ dotepsilon barmathbfmbarsigma bardotepsilon_ endequ barmathbfm bardotepsilon_ macroscop viscoplast complianc tensor backextrapol term aggreg respect inclus formal coupl stress strainrat grain sigma gdotepsilong averag stress strainrat effect medium barsigmabardotepsilon interact equat beginequ dotepsilong bardotepsilon leftetaeffmathbfemathbfebarmathbfmeffrightsigma gbarsigma endequ mathbf viscoplast eshelbi tensor barmathbfmeff macroscop viscoplast complianc tensor paramet etaeff tune stiff inclusionmatrix interact constitut law describ rel contribut disloc glide climb cobl creep inform deform singl crystal level total creep rate express beginequ dotepsilonp dotepsilond dotepsilonc dotepsiloncobl endequ dotepsilond dotepsilonc dotepsiloncobl refer plastic deform accumul disloc glide climb cobl creep respect strain rate due disloc motion written sum mean shearclimb rate activ system grain beginequ beginalign dotepsilond sum_sm_ijsbardotgamma dotepsilonc sum_sc_ijsbardotbeta endalign endequ bardotgamma bardotbeta denot mean shear climb rate respect msi symmetr part schmid tensor cbsbigotim bs climb tensor edg disloc citelebensohnhr model reli origin work citewangfo citewangf respons materi point grain describ statist fashion ie via intern stress distribut allow quantif type iii stress associ disloc approach one must calcul averag strain rate one grain account mechan respons submateri point treatment provid connect local stress distribut within submateri point averag respons materi point also requir effect medium model vpsc framework assum strain rate stress within grain homogen per citewangfo citewangf mean shear rate slip system grain domain express beginequ bardotgamma int_inftyinftydotgammaslefttausright plefttausbartausrightdtau endequ dotgamma shear rate one submateri point tau local resolv shear stress bartaussigma ms denot mean resolv shear stress one grain sigma deviator stress tensor notic law appli climb rate well beginequ bardotbeta int_inftyinftydotbetaslefttau_climbsright plefttau_climb bartau_climbsrightdtau_climb endequ tau_climb bartau_climbssigma cs local global resolv climb stress respect first approxim compon stress field describ gaussian function therefor probabl distribut function plefttausbartausright repres volum fraction submateri point tau written beginequ plefttausbartausright fracsqrtpi vexpleftfraclefttausbartausrightvright endequ v distribut varianc citewangf suggest dispers intragranular stress depend total disloc densiti express v beginequ v etasqrtrho_cellrho_cw endequ eta mpam effect scale coeffici introduc sake simplic practic though eta expect function depend contrast factor disloc popul disloc arrang materi paramet use gener rom databas found elsewher citetallmanybwefyx mean implement paramet reader refer origin work citewenwv polynomi regress model use mathemat form rom formul term orthogon polynomi term defin use legendr polynomi term express p_ileftxright polynomi degre evalu input x rang x normal left right interv model form includ polynomi term input paramet interact term thereof ie beginequ output sim sum_wdegldotssum_zdegalpha_wldot zp_wleftx_wrightldotsp_zleftx_zright endequ deg maximum degre polynomi use model alpha_wldot z regress coeffici term form product wth degre polynomi input x_w etc three output valu requir rom dotepsilon_vm dotrho_cel dotrho_w strain rate desir output predict creep behavior defect densiti rate also need affect evolut creep rate time evolut entir independ regress model employ predict three output requir exampl regress model dotepsilon_vm shown ie beginequ dotvarepsilon_vm simeq sum_n_varepsilondegsum_n_rho_celldegsum_n_rho_wdegsum_n_sigmadegsum_n_tdegalpha_n_varepsilon n_rho_celln_rho_wn_sigma n_tdotvarepsilon_vmp_n_varepsilonleftvarepsilon_vmrightp_n_rho_cellleftrho_cellrightp_n_rho_wleftrho_wrightp_n_sigmaleftsigma_vmrightp_n_tlefttright endequ n_sub index correspond degre legendr polynomi input paramet subscript coeffici denot specif output dotepsilon_vm superscript addit map use convert engin input unit term less suscept error propag inform rom input output handl intern use rom unchang inclus map coeffici alpha evalu fit rom databas result vpsc simul use physicsbas constitut law maximum degre polynomi term select maxim fidel data avoid overfit data overfit indic stark differ regress fit train test data valid obtain regress coeffici valu initi condit given rom vpsc result simul compar rom tile order widen region applic without sacrif rom accuraci rom tile method use cover larger input paramet space sever separ rom requir smooth one rom anoth across region share input space perform intern via sigmoid smooth function beginequ dotepsilon_totbfi dotepsilon_bfi s_ dotepsilon_bfi s_ labeleqsmooth endequ dotepsilon_jbfi strain rate tile j use input bfi s_ sigmoid function smoothli vari given input valu beginequ beginalign x_ fraci l_l_ l_ s_ frac expleftfracx_right expleftfracx_right expleftfracx_right labeleqsigmoid endalign endequ l_ l_ limit tile strain smooth l_ l_ rom input window due natur formul rom input valu limit window applic outsid rom longer guarante valid laromancestressupdatebas handl limit coupl state variabl intern via input paramet input allow error handl extrapol input valu extrapol sigmoid function util extrapol lower limit outofbound input zero strain extrapol perform temperatur stress environment factor state variabl remain rom input cell disloc cell wall disloc previou strain calcul intern thu must within window applic start simul write larom stress updat materi laromancestressupdatebas contain necessari algorithm contain evalu rom materi specif larom data contain inherit class within tensor_mechan modul test object sshlaromancestressupdatetest includ exampl rom formul note sshlaromancestressupdatetest test object locat tensor_mechanicstestsrc activ updat valid rather includ order verifi math contain laromancestressupdatebas materi specif rom provid specif moos applic util consist input limit input transform legendr polynomi deriv class must overwrit four virtual method gettransform return vector function use convers input variabl gettransformcoef return factor function convers function given gettransform getinputlimit return humanread limit input getcoef materi specif coeffici multipli legendr polynomi input variabl fifth virtual method need overridden tile rom implement gettil return tile organ addit new larom model overrid four input paramet default ensur correct rom implement initial_cell_dislocation_dens initi densiti cell glissil disloc max_relative_cell_dislocation_incr maximum increment densiti cell glissil disloc initial_wall_dislocation_dens cell wall lock disloc densiti initi valu max_relative_wall_dislocation_incr maximum increment cell wall lock disloc densiti initi valu laromancestressupdatebas deriv class must run conjunct inelast strain return map stress calcul adcomputemultipleinelasticstressadcomputemultipleinelasticstressmd bibtex bibliographi syntax complet groupstensormechanicsapp set appropri converg criteria import set appropri converg criteria toler tight model never converg toler weak model yield incorrect answer global nonlinear converg criteria regardless whether plastic elast use moos need know mean converg must place toler nonlinear residu tensormechan come integr nabla sigma element element side length l integr less beginequ r pldsigma endequ p precis moos doubl precis dimension problem tensormechan current work sigma rough size stress exampl j plastic sigma roughli yield strength materi say element size yield r sim time time howev set nonlinear residu toler substanti larger estim error like spread entir mesh one element r multipli number element also set r small riski reli maintain full precis throughout comput instead identifi crucial region interest denot volum v usual less entir mesh identifi error nablasigma will accept denot e_nablasigma depend typic size sigma length scale problem set r ve_nablasigma converg criteria userobject base plastic three type converg criteria need set use plastic toler yield function toler plastic strain toler intern paramet somewhat interconnect toler yield function firstli let us explor lower bound toler yield function consid stress tensor sigma want calcul e_sigma chang sigma smaller e_sigma unnotic due precis loss imagin sigma p digit precis standard moos doubl precis p model contain plastic stress often resid yield surfac give estim magnitud sigma instanc mohrcoulomb plastic stress order ccotphi c cohes phi friction angl ccotphi apex hexagon pyramid denot magnitud sigma f complic multisurfac plastic model f may hard estim orderofmagnitud calcul appropri therefor beginequ e_sigma pf endequ exampl p mohrcoulomb plastic c friction angl deg e_sigma chang sigma smaller valu unnotic due precis loss also anoth lower bound come evalu trial stress return stress use strain sigma sim cepsilon c elast tensor epsilon strain mean beginequ e_sigma pcepsilon endequ exampl suppos strain order appli elast tensor order mean trial stress order p get e_sigma conclus chang sigma smaller e_sigma unnotic due precis loss e_sigma beginequ e_sigma pmaxf cepsilon endequ know allow straightforward estim lowest possibl toler yield function howev unwis use toler roundoff error accru within intern work plastic algorithm instanc calcul eigenvalu sigma might effect reduc p commonli toler stress estim user consid physic reason eg stress chang pa might rather inconsequenti might translat toler f pa provid pa close e_sigma plastic algorithm converg alert note prefixfals choos toler f smaller yield stress cohes tensil strength etc toler plastic strain intern constraint similar argument made plastic strain intern constraint alert note prefixfals choos toler epsilon epsilon epsilon typic strain encount model shell element shell element use model respons structur element much thinner along one direct outofplan direct compar two inplan direct node shell element implement moos base citedvorkincontinuum model structur respons thin thick plate media mediatensor_mechanicsshell_elementpng stylewidthmarginleftfloatright idfig_shel captionshel element node translat rotat degre freedom node four node degre freedom displac u_ku_k u_k rotat alpha_k beta_k thick a_k assum constant across shell element initi normal ov_nk node normal shell element automat comput use coordin node basic equat equilibrium quasistat shell continuum brick element beginequ nabla cdot sigma f_ext endequ quasistat shell element implement moos spread across four differ object strain comput adcomputeincrementalshellstrainadcomputeincrementalshellstrainmd adcomputefiniteshellstrainadcomputefiniteshellstrainmd elast tensor comput adcomputeisotropicelasticitytensorshelladcomputeisotropicelasticitytensorshellmd stress comput adcomputeshellstressadcomputeshellstressmd stress diverg kernel adstressdivergenceshelladstressdivergenceshellmd strain calcul first step calcul stress calcul strain shell element comput perform natur coordin system shell r_ r_ r_ geometri element time defin beginequ x_i sum_k h_k x_ik fracr_ sum_k a_k h_k tv_nik endequ therefor increment displac point within shell element natur coordin r_i time global cartesian coordin system ox_ ox_ ox_ beginequ u_i sum_k h_k u_ik fracr_ sum_k a_k h_k tv_ik alpha_k tv_ik beta_k endequ mathbfg_i partial mathbfxparti r_i covari base vector greenlagrang strain compon written beginequ tildeepsilon_ij fract mathbfg_i cdot mathbfg_j mathbfg_i cdot mathbfg_j endequ express small larg strain direct provid equat citedvorkincontinuum express shear strain direct also includ correct shear lock moos small strain increment comput adcomputeincrementalshellstrainadcomputeincrementalshellstrainmd small larg strain increment comput adcomputefiniteshellstrainadcomputefiniteshellstrainmd note strain direct comput apart strain increment two matric b bnl comput strain class two matric connect nodal displacementsrot small larg strain respect ie eb u eta b_nl u two matric use comput residu adstressdivergenceshelladstressdivergenceshellmd elast tensor shell element assum plane stress condit ie normal stress direct zero enabl plane stress condit edit constitut tensor creat local cartesian coordin system hatc_mnop local constitut tensor transform contravari constitut tensor use beginequ tildec_ijkl gi cdot hate_mgj cdot hate_ngk cdot hate_ogl cdot hate_p hatc_mnop endequ gi contravari base vector hate_i local cartesian coordin system comput use covari base vector ie beginequ hate_ fracg_g_ hate_ fracg_ time hateg_ time hate hate_ hate_ time hate_ endequ elast tensor quadratur point qp comput adcomputeisotropicelasticitytensorshelladcomputeisotropicelasticitytensorshellmd stress calcul stress tensor qp comput beginequ tildetauij tildecijkl tildeepsilon_kl endequ total stress qp comput adcomputeshellstressadcomputeshellstressmd stress diverg final residu comput assembl adstressdivergenceshelladstressdivergenceshellmd small larg strain scenario small strain scenario residu qp comput multipli stress tensor qp correspond compon b matrix addit larg strain scenario old stress tensor multipli correspond compon b_nl matrix also ad residu qp two compon residu k_l u k_nl u equat citedvorkincontinuum note quadratur point along plane well along thick element order gauss quadratur rule along thick provid input user mention object inertia element gener inertia forc obtain directli kinemat shell comput inerti forc componentwis inertia forc express term mass matrix describ citebolourchi mass matrix take follow form volum integr beginequ mathbfm int_v rho mathbfht mathbfh dv endequ mathbfh elementwis matrix contain interpol function displac rotat degre freedom implement volum integr simplifi assum element thick constant similarli one orient matrix use per element chang orient singl element geometri neglect bibtex bibliographi templat load filesqaapp_stpmdtempl categorytensor_mechan apptensor mechan templat load filesqaapp_farmdtempl categorytensor_mechan apptensor mechan templat load filesqaapp_sddmdtempl categorytensor_mechan apptensor mechan templat load filesqaapp_indexmdtempl categorytensor_mechan apptensor mechan templat item keysqareport sqa report categorycategori templat load filesqaapp_rtmmdtempl categorytensor_mechan apptensor mechan templat load filesqaapp_sllmdtempl categorytensor_mechan apptensor mechan templat load filesqaapp_vvrmdtempl categorytensor_mechan apptensor mechan templat load filesqaapp_srsmdtempl categorytensor_mechan apptensor mechan stress diverg kernel handl calcul residu mathbbr govern equat calcul jacobian strong form govern equat mechan neglect bodi forc beginequ nabla cdot sigma endequ weak form use galerkin method gauss diverg theorem becom beginequ int_ n cdot sigma psi ds int_v sigma cdot nabla psi dv endequ psi test function second term weak form equat residu contribut calcul stress diverg kernel calcul jacobian approxim elast tensor simul solv type jfnk beginequ fracdsigma_ij cdot dpsi dx_jdu_k fracdc_ijmn cdot du_m dx_n cdot dpsi dx_jdu_k endequ nonzero k solv type simul set newton finit deform jacobian need calcul set paramet use_finite_deform_jacobian true case alert note titleus tensor mechan master action recommend use_displaced_mesh paramet must set correct ensur consist equilibrium equat stress calcul respect deform mesh test function gradient must also calcul respect deform mesh tensor mechan masteractionmodulestensormechanicsmasterindexmd design automat determin set paramet correctli select strain formul recommend user employ tensor mechan masteractionmodulestensormechanicsmasterindexmd whenev possibl ensur consist test function gradient strain formul select axisymmetr cylindr materi includ tensor mechan revolv geometri assum symmetr load strain calcul materi comput strain within appropri coordin system reli special axisymmetricrz kernel handl stress diverg alert warn titlesymmetri assum zaxi axi symmetri must lie along zaxi leftr z theta right cylindr coordin system symmetri orient requir calcul residu jacobian see stressdivergencerztensorsstressdivergencerztensorsmd residu equat german discuss axisymmetricrz materi appropri simul assum symmetri revolv zaxi formul appropri simul problem reduc simul run time preserv key physic axisymmetr simul appropri problem solid gener revolv planar area axishttpsenwikipediaorgwikiaxial_symmetri plane alert note titleus rz coordin type coordin type problem block input file must set coord_typ rz axisymmetr strain formul axisymmetr model employ cylindr coordin r z theta planar cross section form r z axe rotat axial z axi along length cylind theta direct cylindr coordin system strain tensor axisymmetr problem form beginequ beginbmatrix epsilon_rr epsilon_rz epsilon_zr epsilon_zz epsilon_theta theta endbmatrix endequ valu strain epsilon_theta theta depend displac posit radial direct beginequ epsilon_theta theta fracu_rx_r endequ although axisymmetr problem solv stress strain field problem mathemat use appropri set geometri boundari condit type problem strain stress field function plane coordin variabl cylindr coordin axisymmetr system valu stress strain theta direct depend theta coordin alert note titlenot order chang axisymmetr system chang order displac vector u_r u_theta u_z usual seen textbook u_r u_z u_theta take care follow convent input file ad eigenstrain extra stress axisymmetr cylindr materi includ tensor mechan revolv geometri assum symmetr load strain calcul materi comput strain within appropri coordin system reli special axisymmetricrz kernel handl stress diverg materi suppli materi properti deriv requir form exact jacobian alert warn titlesymmetri assum zaxi axi symmetri must lie along zaxi leftr z theta right cylindr coordin system symmetri orient requir calcul residu adstressdivergencerztensorsadstressdivergencerztensorsmd residu equat german discuss axisymmetricrz materi appropri simul assum symmetri revolv zaxi formul appropri simul problem reduc simul run time preserv key physic axisymmetr simul appropri problem solid gener revolv planar area axishttpsenwikipediaorgwikiaxial_symmetri plane alert note titleus rz coordin type coordin type problem block input file must set coord_typ rz axisymmetr strain formul axisymmetr model employ cylindr coordin r z theta planar cross section form r z axe rotat axial z axi along length cylind theta direct cylindr coordin system strain tensor axisymmetr problem form beginequ beginbmatrix epsilon_rr epsilon_rz epsilon_zr epsilon_zz epsilon_theta theta endbmatrix endequ valu strain epsilon_theta theta depend displac posit radial direct beginequ epsilon_theta theta fracu_rx_r endequ although axisymmetr problem solv stress strain field problem mathemat use appropri set geometri boundari condit type problem strain stress field function plane coordin variabl cylindr coordin axisymmetr system valu stress strain theta direct depend theta coordin alert note titlenot order chang axisymmetr system chang order displac vector u_r u_theta u_z usual seen textbook u_r u_z u_theta take care follow convent input file ad eigenstrain extra stress numer approach trial stress calcul start simul time increment trial stress calcul assum new strain increment elast strain beginequ sigma_tri c_ijkl left delta epsilon_assumedelast epsilon_elasticold right endequ algorithm check see trial stress state outsid yield surfac shown figur right stress state outsid yield surfac algorithm recomput scalar effect inelast strain requir return stress state yield surfac approach given name radial return yield surfac use von mise yield surfacehttpsenwikipediaorgwikivon_mises_yield_criterion devitor stress spacehttpsenwikipediaorgwikicauchy_stress_tensorstress_deviator_tensor yield surfac shape circl scalar inelast strain assum alway direct circl center recomput iter effect plastic strain increment recomput radial return materi individu calcul use newton methodhttpmathworldwolframcomnewtonsmethodhtml amount effect inelast strain requir return stress state yield surfac beginequ delta pt delta pt delta p endequ chang iter effect inelast strain defin yield surfac deriv yield surfac respect inelast strain increment stress diverg famili automat differenti kernel adstressdivergencetensorsadstressdivergencetensorsmd stress diverg kernel cartesian coordin problemcoord_typexyz default adstressdivergencerztensorsadstressdivergencerztensorsmd stress diverg kernel cylindr coordin problemcoord_typerz adstressdivergencersphericaltensorsadstressdivergencersphericaltensorsmd stress diverg kernel spheric coordin problemcoord_typerspher stress diverg kernel handl calcul residu mathbbr govern equat calcul jacobian use forward mode automat differenti strong form govern equat mechan neglect bodi forc beginequ nabla cdot sigma endequ weak form use galerkin method gauss diverg theorem becom beginequ int_ n cdot sigma psi ds int_v sigma cdot nabla psi dv endequ psi test function second term weak form equat residu contribut calcul stress diverg kernel use_displaced_mesh paramet must set correct ensur consist equilibrium equat stress calcul respect deform mesh test function gradient must also calcul respect deform mesh alert note titleautomat differenti materi comput correct jacobian contribut requir use compat automat differenti materi admateri observ meet expect see two pillar move toward eventu overlap yet set contact condit solut field right interact base mesh connect base deform induc proxim chang scale young appli pressur amount young modulu appli pressur share unit let call pascal exampl forc area area present simul though dimens simul cell forc show anywher els scale young modulu appli pressur way correspond select new choic unit forc output term displac unaffect case introduct tensor mechan tutori aim guid new user first set tensor mechan simul well start minim setup work way complex tutori hand introduct contactcontacttutorialsintroductionindexmd optionaltru first stepstensor_mechanicstutorialsintroductionstepmd step start simpl bare bone mechan problem think unit moos ad boundari conditionstensor_mechanicstutorialsintroductionstepmd next add boundari condit load think valid strain formul make quick excurs automat differenti subdomain subdomainspecif propertiestensor_mechanicstutorialsintroductionstepmd step well set two subdomain region sampl differ materi properti thermal expansiontensor_mechanicstutorialsintroductionstepamd step well look thermal expans model moos multipl submeshestensor_mechanicstutorialsintroductionstepmd well set pair mesh separ unconnect mesh blocksa final prepar start work mechan contact volumetr lockingtensor_mechanicstutorialsintroductionstepamd well look effect volumetr lock mitig creat larg strain version input tri convert use moos automat differenti system place look parammodulestensormechanicsmastertensormechanicsactionuse_automatic_differenti tensor mechan master action parambcspressurepressureactionuse_automatic_differenti pressur bc action addirichletbcaddirichletbcmd adcomputeisotropicelasticitytensorcomputeisotropicelasticitytensormd adcomputefinitestrainelasticstressadcomputefinitestrainelasticstressmd convert input list modulestensor_mechanicstutorialsintroductionmech_stepai input file tensormechan master action ad use_automatic_differenti true caus action build automat differenti ad enabl version materi kernel output object set bc replac dirichletbc aden addirichletbc object note gener fine mix ad nonad object although might end less perfect jacobian also keep mind use ad nonad version materi properti stiff tensor strain interchang object request ad properti need use aden version materi provid pressur action also suppli use_automatic_differenti true action build aden version individu boundari condit object act displac variabl problem materi mention use aden kernel ad master action must suppli aden materi properti that select aden object comput stiff tensor stress aden strain calcul automat ad master action note first exercisetensor_mechanicstutorialsintroductionansweramd switch larg strain formul case didnt make chang use adcomputelinearelasticstress make sure strain finit master action execution select newton solv type moos actual set appropri precondit block us automat case remov input file observ ran convert exampl see substanti reduct linear iter indic new jacobian matrix gener automat differenti accur hand code jacobian nonad version rerun problem young modulu e nonlinear iter converg two linear iter problem still exhibit lot nonlinear step even cut time step due nonlinear larg deform formul syntax list bc step volumetr lock keep postprocess modif previou question set parammaterialscomputeisotropicelasticitytensorpoissons_ratio cantilev add modifi follow paramet parammeshuniform_refin mesh block parammodulestensormechanicsmastertensormechanicsactionvolumetric_locking_correct tensor mechan master action block parammeshgeneratedmeshgeneratorelem_typ generatedmeshgener block conveni paramet may list globalparam instead compar first order quad element second order quad element compar cantilev deflect without volumetr lock correct quad element compar result differ level uniform refin list modulestensor_mechanicstutorialsintroductionmech_stepai run variou combin firstsecond order element activedeactiv volumetr lock correct level refin plot result data note overrid input file paramet command line mean run case plot use command tensor_mechanicsopt mech_stepai globalparamselem_typequad tensor_mechanicsopt mech_stepai globalparamselem_typequad globalparamsvolumetric_locking_correctiontru mpirun n tensor_mechanicsopt mech_stepai globalparamselem_typequad globalparamsvolumetric_locking_correctiontru globalparamsuniform_refin mpirun n tensor_mechanicsopt mech_stepai globalparamselem_typequad mpirun n tensor_mechanicsopt mech_stepai globalparamselem_typequad globalparamsvolumetric_locking_correctiontru globalparamsuniform_refin mpirun n tensor_mechanicsopt mech_stepai globalparamselem_typequad globalparamsuniform_refin plot scatter datax namequad x namequad volumetr lock correct x namequad volumetr lock correct x refin x namequad x namequad volumetr lock correct x refin x namequad x refin layoutxaxistitletim yaxistitlemaximum x displac titlecantilev deflect point make awar volumetr lock occur first order element certain materi properti allevi refin use higher order element quad use volumetr lock correct user encourag care check result converg studi appli disp_x boundari condit entir bottom surfac observ happen undo chang move next question thermal expans eigenstrain ad input isotrop mean materi expand direct also xdirect constrain x displac along entir bottom boundari inhibit x expans thu introduc strong concentr stress scenario would model strip weld infinit stiff substrat bottom origin input fix displac entir bottom boundari tri relax constraint bit tri add second singl node boundari use extranodesetgener chain pin gener use one two bottom corner node think appli disp_x boundari condit mesh add pin type extranodesetgener input pin new_boundari pin coord replac bottom_i block bc pin_i type dirichletbc variabl disp_i boundari pin pin valu note need pin first node pin direct complet elimin translat mode second node constrain direct spatial arrang pin node matter optim pin rotat mode vector first second node perpendicular direct constrain second node intuit make sens run modifi input see bottom surfac bimetal strip remain exactli straight weve chang simul scenario repres strip suspend air step thermal expans sidebar well introduc thermal expans eigenstrain demonstr effect reshap domain step make narrow like cantilev list modulestensor_mechanicstutorialsintroductionmech_stepai input file mesh note xmin xmax upper lower xdimens extent suppli origin lie center bottom boundari gener mesh new extranodesetgeneratorextranodesetgeneratormd append exist chain mesh gener gener allow us creat new nodeset contain node locat coordin user specifi parammeshextranodesetgeneratorcoord creat nodeset contain singl node origin need make sure node actual exist specifi coordin call nodeset pin obviou reason use bc auxvari introduc new auxiliari variabl temperatur auxiliari variabl variabl solv comput directli simplifi step solv heat conduct problem instead prescrib global temperatur rise time see next section auxiliari variabl coupl everywher regular call nonlinear variabl coupl great tool simplifi model develop auxkernel functionauxfunctionauxmd auxkernel set auxvari function space time note paramauxkernelsfunctionauxexecute_on paramet avail mani moos system skip execut linear non_linear iter updat variabl valu begin timestep tensormechan master action weve ad parammodulestensormechanicsmastertensormechanicsactionautomatic_eigenstrain_nam paramet master action option enabl master action tri automat detect materi object provid eigenstrain properti work well scenario note moos print list detect eigenstrain name earli consol output look automat eigenstrain name thermal_expans run exampl master action block name thermal_expans parammaterialscomputethermalexpansioneigenstraineigenstrain_nam paramet valu two eigenstrain materi action correctli detect verifi eigenstrain provid subdomain cover master action block manual suppli eigenstrain materi properti use parammodulestensormechanicsmastertensormechanicsactioneigenstrain_nam paramet like modulestensormechanicsmast add_vari true eigenstrain_nam thermal_expans generate_output vonmises_stress bc chang way appli boundari condit x displac variabl disp_x constrain variabl pin boundari defin boundari nodeset contain singl node pin singl point less restrict allow model expand xdirect along bottom boundari happen due isotrop thermal expans yet still remov rigid bodi mode translat fix x displac least one node rotat fix displac anoth node actual node along bottom boundari pin node remov rigid bodi mode import tool creat mechan simul converg presenc rigid bodi mode lead nonconverg bc singl node rather whole boundari help avoid overconstrain problem keep mind remov rigid bodi mode simul need appli bc least node colinear one node constrain direct one one one direct first node remov three translat mode second node remov two rotat mode establish axi rotat third node remov final rotat mode materi eigenstrain moos stress free strain intrins shape chang volum element due effect like thermal expans swell diffus overunders solut etc use two computethermalexpansioneigenstraincomputethermalexpansioneigenstrainmd object comput eigenstrain tensor two subdomain parammaterialscomputethermalexpansioneigenstrainstress_free_temperatur set k initi temperatur set auxvari temperatur assum eigenstrain zero contract temperatur lower k expans parammaterialscomputethermalexpansioneigenstrainthermal_expansion_coeff chosen differ two subdomain effect model bimetal strip question expect outcom think expect happen run input click answertensor_mechanicstutorialsintroductionanswerbmd overconstrain appli disp_x boundari condit entir bottom surfac observ happen undo chang move next question click answertensor_mechanicstutorialsintroductionanswercmd constrain even less origin input fix displac entir bottom boundari tri relax constraint bit tri add second singl node boundari use extranodesetgener chain pin gener use one two bottom corner node think appli disp_i boundari condit click answertensor_mechanicstutorialsintroductionanswerdmd youv answer question run exampl move step tensor_mechanicstutorialsintroductionstepmd setup cantilev problem prepar us contact tri add output vonmis stress simul domain take look parammodulestensormechanicsmastertensormechanicsactiongenerate_output paramet generate_output conveni way obtain scalar quantiti tensor compon invari etc field visual mesh chang master action block modulestensormechanicsmast add_vari true generate_output vonmises_stress rerun input visual output notic result field look blocki moos project materi point valu onto constant monomi function parammodulestensormechanicsmastertensormechanicsactionmaterial_output_famili parammodulestensormechanicsmastertensormechanicsactionmaterial_output_ord paramet allow select higher order monomi even nodal variabl smooth materi properti output let tri second order monomi modulestensormechanicsmast add_vari true generate_output vonmises_stress material_output_ord second load result paraview notic higher order monomi paraview automat averag result node nodal patch recoveri avail perform project acur insid moos experi differ set mechan properti sampl appli load happen drastic reduc young modulu increas appli pressur simul result still valid exampl tri set young modulu e rerun problem see substanti deform block current input set small deform mechan larg load rel materi stiff lead larg deform finit strain formul need use read increment finit strain formul herecomputefinitestrainmd tensor mechan master action finit strain formul activ set parammodulestensormechanicsmastertensormechanicsactionstrain paramet finit furthermor need swap correspond stress calcul computelinearelasticstresscomputelinearelasticstressmd computefinitestrainelasticstresscomputefinitestrainelasticstressmd rerun problem chang modifi young modulu e observ moos struggl converg problem due larg deform revisit later exercis convert input automat differenti step subdomain subdomainspecif properti step well set two subdomain region sampl differ materi properti list modulestensor_mechanicstutorialsintroductionmech_stepi input file mesh note refin mesh bit better captur discontinu introduc block block subblock part chain mesh gener link input paramet subdomainboundingboxgeneratorsubdomainboundingboxgeneratormd add subdomain definit current mesh defin two subdomain one left half domain one right materi defin two elast tensor problem one left half block right half block refer subdomain id assign use mesh gener note stiff right hand side half left hand side execution make chang execution block tri play set later select newton paramexecutionertransientsolve_typ good fast option whenev complet jacobian system give us linear iter everi nonlinear iter note newton solv moos automat set smpsinglematrixpreconditionermd parampreconditioningsmpful option set true disabl set paramexecutionerauto_precondit fals use lu decomposit solv linear problem precondition effect small problem like scalabl precondition larg problem take look hypreapplication_developmenthypremd optionaltru question visual strain far weve look deform mesh moos visual host mechan quantiti master action make particularli easi tri add output vonmis stress simul domain take look parammodulestensormechanicsmastertensormechanicsactiongenerate_output paramet click answertensor_mechanicstutorialsintroductionansweramd sidebar thermal expans addit extern appli load deform induc intern chang materi one common effect thermal expans contract temperatur chang click sidebar thermal expansiontensor_mechanicstutorialsintroductionstepamd youv answer question run exampl move step tensor_mechanicstutorialsintroductionstepmd setup cantilev problem prepar us contact step first step let get start minim input file list modulestensor_mechanicstutorialsintroductionmech_stepi input file globalparam globalparam set default valu displac paramet way specifi explicitli multipl block need paramet set mesh creat simpl regular orthogon mesh block use generatedmeshgeneratorgeneratedmeshgeneratormd subblock mesh call meshgeneratorsmeshgeneratorsmeshgeneratormd chain togeth moos provid multitud gener creat modifi mesh later see creat second block combin two block mesh commonli use meshgener filemeshgeneratorfilemeshgeneratormd use load mesh file gener third parti softwar like cubit gmsh sometim even mesh gener moos moos provid shorthand filemeshgener parammeshfilemeshfil paramet insid mesh eg mesh file pressure_vessel moos support varieti mesh file formatsfilemeshgeneratormd commonli use exodu ii format tensormechan master action third top level block path three compon titl think moos input file block structur like directori master actionmodulestensormechanicsmasterindexmd nest modul tensormechan moos action conveni object setup multipl aspect simul user result compact syntax action also enforc consist simul definit simpl exampl action creat displac variabl specifi globalparamsdisplac paramet action automat determin second order shape function need base order mesh simul work kind mesh whether gener moos read file furthermor appropri strain calcul ad chosen coordin system axisymmetr spheric cartesian check master action documentationmodulestensormechanicsmasterindexmd full rundown object creat materi two subblock materialsmaterialsindexmd defin isotrop elast tensorcomputeisotropicelasticitytensormd linear elast stress calculatorcomputelinearelasticstressmd neither object block restrict use block paramet appli entir simul domain execution executionerexecutionerindexmd block paramet relev solut current problem set type transienttransientmd select timedepend simul oppos type steadysteadymd chose run five simul step timestep output use exodu true shorthand setup output object type exodu write exodu ii mesh solut file disk visual output use paraviewhttpswwwparavieworg question unit question come often unit moos use look input file tri identifi place unit might relev click answertensor_mechanicstutorialsintroductionansweramd expect outcom run first input file take moment think expect happen click answertensor_mechanicstutorialsintroductionanswerbmd youv answer question run first exampl time move slightli complex scenario step tensor_mechanicstutorialsintroductionstepmd step ad boundari condit previou step set basic small strain mechan simul noth step ad load top well fix displac bottom surfac block list modulestensor_mechanicstutorialsintroductionmech_stepi input file bc bc stand boundari condit appli boundari sideset simul domain boundari condit object see mandatori boundari paramet expect list sideset name id dirichletbc two dirichletbcdirichletbcmd boundari condit set bottom surfac simul domain fix disp_x disp_i variabl respect check list avail boundari conditionstutorialsintroductionsupplementalmd pressur may notic pressur block look differ two boundari condit block custom actionpressureactionmd syntax instead variabl paramet use displac paramet defin global paramet block action set pressurepressuremd boundari condit displac variabl see exampl action later use parambcspressurepressureactionfunct paramet suppli time depend appli pressur take advantag moos shorthand time functionnam type paramet request user instead suppli pars function expressionmooseparsedfunctionmd directli need specifi differ type functionfunctionsindexmd need reus singl function multipl time input file explicitli add function object function top level block pressur action could instead written function applied_pressure_funct type parsedfunct valu et bc pressur top boundari top function applied_pressure_funct precondit preconditioningsyntaxpreconditioningindexmd block let user specifi part jacobian matrix built select singl matrix preconditionersinglematrixpreconditionermd parampreconditioningsmpful option set true build fulli coupl jacobian matrix help solver better take cross coupl displac variabl account lead improv converg execution use paramexecutionertransientpetsc_options_inam paramexecutionertransientpetsc_options_valu paramet specifi pair petsc option valu pctype lu select direct lu decomposit solver good choic small problem provid lot scalabl larger problem question go ahead run input visual result look appli boundari condit effect deform sampl explor paramet experi differ set mechan properti sampl appli load happen drastic reduc young modulu increas appli pressur simul result still valid click answertensor_mechanicstutorialsintroductionansweramd unit chang scale young appli pressur amount click answertensor_mechanicstutorialsintroductionanswerbmd sidebar automat differenti current input file use object provid manual deriv implement jacobian matrix contribut deriv alway feasibl exact everi circumst creat larg strain version input tri convert use moos automat differenti system place look parammodulestensormechanicsmastertensormechanicsactionuse_automatic_differenti tensor mechan master action parambcspressurepressureactionuse_automatic_differenti pressur bc action addirichletbcaddirichletbcmd adcomputeisotropicelasticitytensorcomputeisotropicelasticitytensormd adcomputefinitestrainelasticstressadcomputefinitestrainelasticstressmd click answertensor_mechanicstutorialsintroductionanswercmd youv answer question run exampl move step tensor_mechanicstutorialsintroductionstepmd concept subdomain block introduc look input file tri identifi place unit might relev four line input file two line physic mesh dimens xmax ymax one line young modulu one line time step dt note poisson ratio unitless chosen unit author input file decid long unit suppli paramet consist let start young modulu say unit pa pascal si deriv unit pressur equival fracnm frackgmcdot consist time length unit follow immedi mesh dimens x must unit meter time must specifi second alert note moos provid system convert quaniti unit right input file list support unit found hereutilsunitsmd tri use youngs_modulu unit lbsin pa input file explicit convers pound per squar inch pascal step multipl submesh final step tensor mechan section tutori well set pair separ mesh block two cantilev side side fix bottom push toward pressur boundari condit list modulestensor_mechanicstutorialsintroductionmech_stepi input file mesh use multipl mesh gener set complex mesh could also use mesh softwar cubit gmsh creat geometri mesh definit model complex geometri special mesh gener provid crucial assign block boundari id name mesh appli materi model boundari condit use familiar generatedmeshgeneratorgeneratedmeshgeneratormd option last time note specifi extent mesh parammeshgeneratedmeshgeneratorxmin parammeshgeneratedmeshgeneratorxmax paramet keep default valu parammeshgeneratedmeshgeneratorymin also use parammeshgeneratedmeshgeneratorbias_i paramet element height mesh gradual shrink toward top see later good idea parammeshgeneratedmeshgeneratorboundary_name_prefix add prefix string name default boundari generatedmeshgener set left right top bottom front back gener block creat mesh boundari pillar_left pillar_right pillar_top pillar_bottom gener gener set second pillar work much like first except also ad parammeshgeneratedmeshgeneratorboundary_id_offset ensur boundari second pillar uniqu id done shift default id four boundari dont overlap id pillar alert note model deformationbend wall solid element make sure mesh least five element wall thick meshcollectiongeneratormeshcollectiongeneratormd combin two separ pillar mesh object singl mesh object contain element mesh note mean two mesh glu togeth connect way also contrast previou step mesh gener form chain form tree structur import thing moos singl gener sit end chain root tree otherwis moos complain error messag tensormechan master action discuss previous expect larg deform need make sure select correct strain formul select finit strain bc boundari condit look familiar note specifi multipl boundari everi boundari condit pressur action materi select computefinitestrainelasticstresscomputefinitestrainelasticstressmd elast stress calcul finit strain formul execution tweak made execution block disabl paramexecutionertransientline_search line search acceler converg linear system harm good check comment option add predictor acceler solv simplepredictor extrapol initi guess current time step two previou time step especi newton solv good initi guess lead drastic improv converg question expect outcom first run simul look result observ meet expect click answertensor_mechanicstutorialsintroductionansweramd converg get problem converg optim tricki tri differ thing remov petsc option check problem converg default ilu precondition comment line_search option remov predictor check consequ chang inspect intern perform metric moos ad option perf_graph true output block iter precondit check problem converg follow petsc option petsc_options_inam pc_type pc_hypre_typ petsc_options_valu hypr boomeramg enabl scalabl algebra multigrid amg precondition provid hyprehttpscomputingllnlgovprojectshyprescalablelinearsolversmultigridmethodssoftwar librari postprocess result moos system call postprocessorspostprocessorsindexmd extract scalar quantiti simul run quantiti print screen real time written file later analysi add postprocessor postprocessor top level block file output postprocessor enabl ad csv true option output block let see extract x deflect left cantilev posit valu scalar extract maximum disp_x valu simualt cell left cantilev posit displac bend right posit x direct right cantilev neg displac bend left neg x direct need postprocessor object give us extrem valu given variabl take look nodalextremevaluenodalextremevaluemd tri set output maximum posit x deflect click answertensor_mechanicstutorialsintroductionanswerbmd sidebar volumetr lock volumetr lockingtensor_mechanicsvolumetriclockingmd occur mechan simul near incompress materi element associ shape function accomod incompress constraint keep postprocess modif previou question set parammaterialscomputeisotropicelasticitytensorpoissons_ratio cantilev add modifi follow paramet parammeshuniform_refin mesh block parammodulestensormechanicsmastertensormechanicsactionvolumetric_locking_correct tensor mechan master action block parammeshgeneratedmeshgeneratorelem_typ generatedmeshgener block conveni paramet may list globalparam instead compar first order quad element second order quad element compar cantilev deflect without volumetr lock correct quad element compar result differ level uniform refin click sidebar volumetr lockingtensor_mechanicstutorialsintroductionstepamd youv answer question run exampl move step contacttutorialsintroductionstepmd optionaltru contact tutori build step let see extract x deflect left cantilev posit valu scalar extract maximum disp_x valu simul cell left cantilev posit displac bend right posit x direct right cantilev neg displac bend left neg x direct need postprocessor object give us extrem valu given variabl take look nodalextremevaluenodalextremevaluemd tri set output maximum posit x deflect add follow top level block input postprocessor x_deflect type nodalextremevalu value_typ max variabl disp_x updat output block look like output exodu true csv true run simul see output like postprocessor valu time x_deflect e e e e e e e e e e e e e e e e e e e e e e plot data obtain curv show x deflect function time simul time proport appli pressur plot scatter datax namev layoutxaxistitletim yaxistitlemaximum x displac titlecantilev deflect think expect happen run input subdomain right expand faster subdomain left temperatur rise caus bimetal strip bend left run first input file take moment think expect happen specifi boundari condit load forc act element initi condit default zero displac variabl system zero displac initi condit alreadi solut given problem expect residu norm zero timestep instantli converg run input done alreadi compil tensor_mechanicsopt execut run make j n n number cpu core avail moosemodulestensor_mechan run first tutori input type tensor_mechanicsopt tutorialsintroductionmech_stepi see framework inform output info mesh nonlinear system solv follow converg histori time step time time step time dt nonlinear r e solv converg time step time dt nonlinear r e solv converg time step time dt nonlinear r e solv converg time step time dt nonlinear r e solv converg time step time dt nonlinear r e solv converg psadob epsf creator mayura draw version titl deformation_cosseratmd creationd fri aug boundingbox documentfont arialmt symbolmt orient portrait endcom beginprolog beginresourc procset mayuradraw_op version copyright c mayura softwar pdxdict dict def pdxdict begin width height matrix proc key cach definepattern font definepattern def dict begin fontdict dict def fontdict begin cach exch def key exch def proc exch cvx def mtx exch matrix invertmatrix def height exch def width exch def ctm matrix currentmatrix def ptm matrix identmatrix def str xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx def end fontbbox def fontdict width get fontdict height get def fontmatrix fontdict mtx get def encod standardencod def fonttyp def buildchar def pop begin fontdict begin width cach ifels width height setcachedevic els setcharwidth ifels moveto width lineto width height lineto height lineto closepath clip newpath gsave proc grestor end end def fontdict key get currentdict definefont end bind def dict patternpath dict matrix patternpath patternpath def dup type dicttyp eq ifels begin fontdict ctm get setmatrix els exch begin fontdict ctm get setmatrix concat ifels currentdict setfont fontdict begin fontmatrix concat width dtransform round width div exch round width div exch height dtransform round height div exch round height div exch transform round exch round exch ptm astor setmatrix pathbbox height div ceil height mul roll width div ceil width mul roll height div floor height mul roll width div floor width mul roll index sub height div ceil cvi exch index sub width div ceil cvi exch roll moveto fontmatrix ptm invertmatrix pop repeat gsave ptm concat dup str length idiv repeat str show repeat dup str length mod str exch exch getinterv show grestor height rmoveto repeat pop end end bind def dict patternfil dict matrix patternfil patternfil def gsave eoclip patternpath grestor newpath bind def img def gsave imgh exch def imgw exch def concat imgw imgh imgw imgh neg imgh colorstr string def colorimag pop currentfil colorstr readhexstr pop fals colorimag graystr string def currentfil colorstr readhexstr pop length idiv dup sub roll graystr exch colorstr index mul get mul colorstr index mul add get mul colorstr index mul add get mul add add idiv put graystr roll getinterv imag ifels grestor bind def arrowhead gsave setdash strokec strokem strokey strokek setcmykcolor copi moveto roll exch roll exch sub roll sub exch atan rotat dup scale arrowtyp dup eq rlineto rlineto rlineto closepath fill dup eq rlineto rlineto rlineto closepath fill dup eq rmoveto rlineto rlineto rlineto rlineto rlineto closepath fill dup eq rmoveto rlineto rlineto rlineto closepath fill dup eq rmoveto rlineto rlineto rlineto closepath fill dup eq currentpoint newpath arc closepath fill dup eq rmoveto rlineto rlineto rlineto closepath fill pop grestor bind def setcmykcolor ifels pop els setcmykcolor black exch def yellow exch def magenta exch def cyan exch def cyan black add dup gt pop exch sub magenta black add dup gt pop exch sub yellow black add dup gt pop exch sub setrgbcolor bind def ifels def findfont begin currentdict dup length dict begin foral index fid ne def pop pop ifels foral fontnam exch def dup length ne encod encod array copi def exch foral dup type nametyp eq ifels encod index index put pop add els exch pop ifels foral pop currentdict dup end end fontnam get exch definefont pop bind def spacecount def exch loop search ifels pop roll add roll pop exit ifels loop bind def winansiencod quotesingl grave quotesinglbaseflorinquotedblbas ellipsisdaggerdaggerdblcircumflexperthousand scaronguilsingllefto quoteleftquoteright quotedblleftquotedblrightbulletendashemdash tildetrademarkscaronguilsinglrightoedotlessi ydieresi currenc brokenbar dieresiscopyright ordfeminin logicalnot registeredmacronr plusminustwosuperiorthreesuperioracutemu periodcenteredcedillaonesuperiorordmasculin onequarteronehalfthreequart agraveaacut acircumflexatildeadieresisaringaeccedilla egraveeacuteecircumflexedieresisigraveiacut icircumflexidieresisethntildeograveoacut ocircumflexotildeodieresismultiplyoslash ugraveuacuteucircumflexudieresisyacutethorn germandblsagraveaacuteacircumflexatildeadieresi aringaeccedillaegraveeacuteecircumflex edieresisigraveiacuteicircumflexidieresi ethntildeograveoacuteocircumflexotild odieresisdivideoslashugraveuacuteucircumflex udieresisyacutethornydieresi def symbolencod spaceexclamuniversalnumbersignexistentialperc ampersandsuchthatparenleftparenrightasteriskmathplu commaminusperiodslashzeroonetwothreefourfivesix seveneightninecolonsemicolonlessequalgreaterquest congruentalphabetachideltaepsilonphigammaetaiota thetakappalambdamunuomicronpithetarhosigmatau upsilonsigmaomegaxipsizetabracketlefttherefor bracketrightperpendicularunderscoreradicalexalpha betachideltaepsilonphigammaetaiotaphikappalambda munuomicronpithetarhosigmatauupsilonomegaomega xipsizetabraceleftbarbracerightsimilar upsilonminutelessequalfractioninfinityflorinclub diamondheartspadearrowbotharrowleftarrowuparrowright arrowdowndegreeplusminussecondgreaterequalmultipli proportionalpartialdiffbulletdividenotequalequival approxequalellipsisarrowvertexarrowhorizexcarriagereturn alephifrakturrfrakturweierstrasscirclemultipli circleplusemptysetintersectionunionpropersuperset reflexsupersetnotsubsetpropersubsetreflexsubsetel notelementanglegradientregisterserifcopyrightserif trademarkserifproductradicaldotmathlogicalnotlogicaland logicalorarrowdblbotharrowdblleftarrowdbluparrowdblright arrowdbldownlozengeangleleftregistersanscopyrightsan trademarksanssummationparenlefttpparenleftexparenleftbt bracketlefttpbracketleftexbracketleftbtbracelefttp braceleftmidbraceleftbtbraceex anglerightintegralintegraltpintegralexintegralbt parenrighttpparenrightexparenrightbtbracketrighttp bracketrightexbracketrightbtbracerighttpbracerightmid bracerightbt def patarray leftdiagon rightdiagon crossdiagon horizont vertic crosshatch fishscal wave brick def arrowtyp def fillc def fillm def filli def fillk def strokec def strokem def strokey def strokek def pattern def mat matrix def mat matrix def nest def defer n def c curveto load def c pop pop c bind def c curveto load def c pop pop c bind def e gsave concat moveto bind def f nest eq ifels pattern eq ifels fillc fillm filli fillk setcmykcolor eofil els gsave fillc fillm filli fillk setcmykcolor eofil grestor setcmykcolor patarray pattern get findfont patternfil ifels els defer f def ifels bind def f closepath f bind def k strokek exch def strokey exch def strokem exch def strokec exch def bind def k fillk exch def filli exch def fillm exch def fillc exch def bind def opc pop bind def opc pop bind def l lineto load def l pop pop l bind def moveto load def pop pop bind def n newpath load def n nest eq ifels newpath els defer n def ifels def nest eq ifels strokec strokem strokey strokek setcmykcolor stroke els defer def ifels bind def closepath bind def tx fillc fillm filli fillk setcmykcolor show lead neg translat moveto bind def grestor bind def tx pop bind def ts pop bind def tal pop bind def tld pop bind def tbx pop exch pop sub jwidth exch def def tpt def fillc fillm filli fillk setcmykcolor moveto show bind def tpj def fillc fillm filli fillk setcmykcolor moveto dup stringwidth pop roll exch sub index spacecount dup eq ifels pop pop show els div roll widthshow ifels bind def u def u def u nest nest add def def u nest nest sub def nest eq defer cvx exec def w setlinewidth load def setdash load def b nest eq ifels gsave f grestor els defer b def ifels bind def b closepath b bind def z align exch def pop lead exch def exch findfont exch scalefont setfont bind def tfn exch findfont exch scalefont setfont bind def pat pattern exch def bind def cm array astor concat bind def q mat currentmatrix pop bind def q mat setmatrix bind def ah pop arrowtyp exch def currentlinewidth roll arrowhead bind def arc mat currentmatrix pop translat scale roll arc mat setmatrix bind def arc pop pop arc bind def bx mat currentmatrix pop concat exch def x exch def exch def x exch def x moveto x lineto x lineto x lineto mat setmatrix bind def rr mat currentmatrix pop concat yrad exch def xrad exch def copi gt exch x exch def x exch def copi gt exch exch def exch def x xrad add moveto matrix currentmatrix x xrad add yrad sub translat xrad yrad scale arc setmatrix matrix currentmatrix x xrad add yrad add translat xrad yrad scale arc setmatrix matrix currentmatrix x xrad sub yrad add translat xrad yrad scale arc setmatrix matrix currentmatrix x xrad sub yrad sub translat xrad yrad scale arc setmatrix closepath mat setmatrix bind def ov mat currentmatrix pop concat translat scale moveto arc closepath mat setmatrix bind def end endresourc endprolog beginsetup pdx g includefont arialmt includefont symbolmt pdxdict begin endsetup page beginpagesetup _pdx_savepag save def div div definepattern setlinecap moveto lineto moveto lineto setlinewidth stroke bind rightdiagon true definepattern pop div div definepattern setlinecap moveto lineto moveto lineto setlinewidth stroke bind leftdiagon true definepattern pop div div definepattern setlinecap moveto lineto setlinewidth stroke bind horizont true definepattern pop div div definepattern setlinecap moveto lineto setlinewidth stroke bind vertic true definepattern pop div div definepattern setlinecap moveto lineto moveto lineto setlinewidth stroke bind crosshatch true definepattern pop div div definepattern setlinecap moveto lineto moveto lineto moveto lineto moveto lineto moveto lineto setlinewidth stroke bind brick true definepattern pop div div definepattern scale setlinecap moveto lineto moveto lineto moveto lineto moveto lineto setlinewidth stroke bind crossdiagon true definepattern pop div div definepattern scale setlinecap moveto arc moveto arc moveto arc setlinewidth stroke bind fishscal true definepattern pop div div definepattern setlinecap setlinewidth arcn arc stroke arcn arc stroke bind wave true definepattern pop winansiencod _arialmt arialmt symbolencod _symbolmt symbolmt newpath setlinecap setlinejoin setmiterlimit setdash moveto lineto lineto lineto closepath clip newpath endpagesetup w q cm l q q cm ah q q cm l q q cm ah q e tbx tal tld k _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn x tpt e tbx tal tld _arialmt tfn tpt e e e k w q cm l q q cm l q u w q cm l q q cm l q u u q cm l q q cm l q u u k q cm l q q cm l q u u k w q cm l q q cm l q u w q cm arc q q cm ah q e tbx tal tld k _arialmt tfn origin tpt e e e k q cm arc q q cm ah q e tbx tal tld k _symbolmt tfn q tpt e tbx tal tld _symbolmt tfn q tpt e tbx tal tld _symbolmt tfn q tpt e tbx tal tld _symbolmt tfn tpt e tbx tal tld _arialmt tfn rel tpt e tbx tal tld _arialmt tfn c tpt e e e k q cm c c q q cm ah q e tbx tal tld k _arialmt tfn final tpt pagetrail _pdx_savepag restor trailer end showpag eof psadob epsf creator mayura draw version titl inf_cosseratmd creationd thu aug boundingbox documentfont arialmt symbolmt orient portrait endcom beginprolog beginresourc procset mayuradraw_op version copyright c mayura softwar pdxdict dict def pdxdict begin width height matrix proc key cach definepattern font definepattern def dict begin fontdict dict def fontdict begin cach exch def key exch def proc exch cvx def mtx exch matrix invertmatrix def height exch def width exch def ctm matrix currentmatrix def ptm matrix identmatrix def str xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx def end fontbbox def fontdict width get fontdict height get def fontmatrix fontdict mtx get def encod standardencod def fonttyp def buildchar def pop begin fontdict begin width cach ifels width height setcachedevic els setcharwidth ifels moveto width lineto width height lineto height lineto closepath clip newpath gsave proc grestor end end def fontdict key get currentdict definefont end bind def dict patternpath dict matrix patternpath patternpath def dup type dicttyp eq ifels begin fontdict ctm get setmatrix els exch begin fontdict ctm get setmatrix concat ifels currentdict setfont fontdict begin fontmatrix concat width dtransform round width div exch round width div exch height dtransform round height div exch round height div exch transform round exch round exch ptm astor setmatrix pathbbox height div ceil height mul roll width div ceil width mul roll height div floor height mul roll width div floor width mul roll index sub height div ceil cvi exch index sub width div ceil cvi exch roll moveto fontmatrix ptm invertmatrix pop repeat gsave ptm concat dup str length idiv repeat str show repeat dup str length mod str exch exch getinterv show grestor height rmoveto repeat pop end end bind def dict patternfil dict matrix patternfil patternfil def gsave eoclip patternpath grestor newpath bind def img def gsave imgh exch def imgw exch def concat imgw imgh imgw imgh neg imgh colorstr string def colorimag pop currentfil colorstr readhexstr pop fals colorimag graystr string def currentfil colorstr readhexstr pop length idiv dup sub roll graystr exch colorstr index mul get mul colorstr index mul add get mul colorstr index mul add get mul add add idiv put graystr roll getinterv imag ifels grestor bind def arrowhead gsave setdash strokec strokem strokey strokek setcmykcolor copi moveto roll exch roll exch sub roll sub exch atan rotat dup scale arrowtyp dup eq rlineto rlineto rlineto closepath fill dup eq rlineto rlineto rlineto closepath fill dup eq rmoveto rlineto rlineto rlineto rlineto rlineto closepath fill dup eq rmoveto rlineto rlineto rlineto closepath fill dup eq rmoveto rlineto rlineto rlineto closepath fill dup eq currentpoint newpath arc closepath fill dup eq rmoveto rlineto rlineto rlineto closepath fill pop grestor bind def setcmykcolor ifels pop els setcmykcolor black exch def yellow exch def magenta exch def cyan exch def cyan black add dup gt pop exch sub magenta black add dup gt pop exch sub yellow black add dup gt pop exch sub setrgbcolor bind def ifels def findfont begin currentdict dup length dict begin foral index fid ne def pop pop ifels foral fontnam exch def dup length ne encod encod array copi def exch foral dup type nametyp eq ifels encod index index put pop add els exch pop ifels foral pop currentdict dup end end fontnam get exch definefont pop bind def spacecount def exch loop search ifels pop roll add roll pop exit ifels loop bind def winansiencod quotesingl grave quotesinglbaseflorinquotedblbas ellipsisdaggerdaggerdblcircumflexperthousand scaronguilsingllefto quoteleftquoteright quotedblleftquotedblrightbulletendashemdash tildetrademarkscaronguilsinglrightoedotlessi ydieresi currenc brokenbar dieresiscopyright ordfeminin logicalnot registeredmacronr plusminustwosuperiorthreesuperioracutemu periodcenteredcedillaonesuperiorordmasculin onequarteronehalfthreequart agraveaacut acircumflexatildeadieresisaringaeccedilla egraveeacuteecircumflexedieresisigraveiacut icircumflexidieresisethntildeograveoacut ocircumflexotildeodieresismultiplyoslash ugraveuacuteucircumflexudieresisyacutethorn germandblsagraveaacuteacircumflexatildeadieresi aringaeccedillaegraveeacuteecircumflex edieresisigraveiacuteicircumflexidieresi ethntildeograveoacuteocircumflexotild odieresisdivideoslashugraveuacuteucircumflex udieresisyacutethornydieresi def symbolencod spaceexclamuniversalnumbersignexistentialperc ampersandsuchthatparenleftparenrightasteriskmathplu commaminusperiodslashzeroonetwothreefourfivesix seveneightninecolonsemicolonlessequalgreaterquest congruentalphabetachideltaepsilonphigammaetaiota thetakappalambdamunuomicronpithetarhosigmatau upsilonsigmaomegaxipsizetabracketlefttherefor bracketrightperpendicularunderscoreradicalexalpha betachideltaepsilonphigammaetaiotaphikappalambda munuomicronpithetarhosigmatauupsilonomegaomega xipsizetabraceleftbarbracerightsimilar upsilonminutelessequalfractioninfinityflorinclub diamondheartspadearrowbotharrowleftarrowuparrowright arrowdowndegreeplusminussecondgreaterequalmultipli proportionalpartialdiffbulletdividenotequalequival approxequalellipsisarrowvertexarrowhorizexcarriagereturn alephifrakturrfrakturweierstrasscirclemultipli circleplusemptysetintersectionunionpropersuperset reflexsupersetnotsubsetpropersubsetreflexsubsetel notelementanglegradientregisterserifcopyrightserif trademarkserifproductradicaldotmathlogicalnotlogicaland logicalorarrowdblbotharrowdblleftarrowdbluparrowdblright arrowdbldownlozengeangleleftregistersanscopyrightsan trademarksanssummationparenlefttpparenleftexparenleftbt bracketlefttpbracketleftexbracketleftbtbracelefttp braceleftmidbraceleftbtbraceex anglerightintegralintegraltpintegralexintegralbt parenrighttpparenrightexparenrightbtbracketrighttp bracketrightexbracketrightbtbracerighttpbracerightmid bracerightbt def patarray leftdiagon rightdiagon crossdiagon horizont vertic crosshatch fishscal wave brick def arrowtyp def fillc def fillm def filli def fillk def strokec def strokem def strokey def strokek def pattern def mat matrix def mat matrix def nest def defer n def c curveto load def c pop pop c bind def c curveto load def c pop pop c bind def e gsave concat moveto bind def f nest eq ifels pattern eq ifels fillc fillm filli fillk setcmykcolor eofil els gsave fillc fillm filli fillk setcmykcolor eofil grestor setcmykcolor patarray pattern get findfont patternfil ifels els defer f def ifels bind def f closepath f bind def k strokek exch def strokey exch def strokem exch def strokec exch def bind def k fillk exch def filli exch def fillm exch def fillc exch def bind def opc pop bind def opc pop bind def l lineto load def l pop pop l bind def moveto load def pop pop bind def n newpath load def n nest eq ifels newpath els defer n def ifels def nest eq ifels strokec strokem strokey strokek setcmykcolor stroke els defer def ifels bind def closepath bind def tx fillc fillm filli fillk setcmykcolor show lead neg translat moveto bind def grestor bind def tx pop bind def ts pop bind def tal pop bind def tld pop bind def tbx pop exch pop sub jwidth exch def def tpt def fillc fillm filli fillk setcmykcolor moveto show bind def tpj def fillc fillm filli fillk setcmykcolor moveto dup stringwidth pop roll exch sub index spacecount dup eq ifels pop pop show els div roll widthshow ifels bind def u def u def u nest nest add def def u nest nest sub def nest eq defer cvx exec def w setlinewidth load def setdash load def b nest eq ifels gsave f grestor els defer b def ifels bind def b closepath b bind def z align exch def pop lead exch def exch findfont exch scalefont setfont bind def tfn exch findfont exch scalefont setfont bind def pat pattern exch def bind def cm array astor concat bind def q mat currentmatrix pop bind def q mat setmatrix bind def ah pop arrowtyp exch def currentlinewidth roll arrowhead bind def arc mat currentmatrix pop translat scale roll arc mat setmatrix bind def arc pop pop arc bind def bx mat currentmatrix pop concat exch def x exch def exch def x exch def x moveto x lineto x lineto x lineto mat setmatrix bind def rr mat currentmatrix pop concat yrad exch def xrad exch def copi gt exch x exch def x exch def copi gt exch exch def exch def x xrad add moveto matrix currentmatrix x xrad add yrad sub translat xrad yrad scale arc setmatrix matrix currentmatrix x xrad add yrad add translat xrad yrad scale arc setmatrix matrix currentmatrix x xrad sub yrad add translat xrad yrad scale arc setmatrix matrix currentmatrix x xrad sub yrad sub translat xrad yrad scale arc setmatrix closepath mat setmatrix bind def ov mat currentmatrix pop concat translat scale moveto arc closepath mat setmatrix bind def end endresourc endprolog beginsetup pdx g includefont arialmt includefont symbolmt pdxdict begin endsetup page beginpagesetup _pdx_savepag save def div div definepattern setlinecap moveto lineto moveto lineto setlinewidth stroke bind rightdiagon true definepattern pop div div definepattern setlinecap moveto lineto moveto lineto setlinewidth stroke bind leftdiagon true definepattern pop div div definepattern setlinecap moveto lineto setlinewidth stroke bind horizont true definepattern pop div div definepattern setlinecap moveto lineto setlinewidth stroke bind vertic true definepattern pop div div definepattern setlinecap moveto lineto moveto lineto setlinewidth stroke bind crosshatch true definepattern pop div div definepattern setlinecap moveto lineto moveto lineto moveto lineto moveto lineto moveto lineto setlinewidth stroke bind brick true definepattern pop div div definepattern scale setlinecap moveto lineto moveto lineto moveto lineto moveto lineto setlinewidth stroke bind crossdiagon true definepattern pop div div definepattern scale setlinecap moveto arc moveto arc moveto arc setlinewidth stroke bind fishscal true definepattern pop div div definepattern setlinecap setlinewidth arcn arc stroke arcn arc stroke bind wave true definepattern pop winansiencod _arialmt arialmt symbolencod _symbolmt symbolmt newpath setlinecap setlinejoin setmiterlimit setdash moveto lineto lineto lineto closepath clip newpath endpagesetup w bx w q cm l q q cm ah q q cm l q q cm ah q q cm l q q cm ah q q cm l q q cm ah q q cm l q q cm ah q q cm l q q cm ah q q cm l q q cm ah q q cm l q q cm ah q w bx w q cm arc q q cm ah q q cm arc q q cm ah q q cm arc q q cm ah q q cm arc q q cm ah q ov ov ov ov k w ov b ov b w q cm l q b q cm l q b q cm l q b q cm l q b e e e k q cm arc q q cm ah q e tbx tal tld k _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt q cm l q q cm ah q e tbx tal tld _arialmt tfn f tpt e tbx tal tld _symbolmt tfn tpt e tbx tal tld _symbolmt tfn tpt e tbx tal tld _symbolmt tfn tpt e tbx tal tld _symbolmt tfn tpt e tbx tal tld _symbolmt tfn tpt e tbx tal tld _symbolmt tfn tpt e tbx tal tld _symbolmt tfn tpt e tbx tal tld _symbolmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt e tbx tal tld _arialmt tfn tpt pagetrail _pdx_savepag restor trailer end showpag eof