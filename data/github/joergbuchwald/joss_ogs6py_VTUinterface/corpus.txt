joss paper ogspi vtuinterfac streamlin opengeosi workflow python vtuinterfacehttpsgithubcomjoergbuchwaldvtuinterfac ogspyhttpsgithubcomjoergbuchwaldogspi paperhttpsgithubcomjoergbuchwaldjoss_ogspy_vtuinterfaceblobmasterpaperpapermd workflow demonstr jupyt notebookhttpsgithubcomjoergbuchwaldjoss_ogspy_vtuinterfaceblobmasterdemopaper_ogspy_vtuioipynb titl ogspi vtuinterfac streamlin opengeosi workflow python tag python physic thmc vtu timeseri sensit analysi uncertainti quantif opengeosi author name jörg buchwaldcorrespond author orcid affili multipl affili must quot name olaf kolditz orcid affili name thoma nagel orcid affili affili name helmholtz center environment research ufz leipzig germani index name technisch universität bergakademi freiberg germani index name technisch universität dresden germani index name tubafufz center environment geoscienc germani index date may bibliographi paperbib summari introduc two new python modul facilit pre postprocess finit element calcul ogspyhttpsgithubcomjoergbuchwaldogspi python interfac opensourc packag opengeosi bilk finit element code simul multifield process fractur porou media model workflow streamlin jupyt notebook kluyverjupyt use newli develop vtuinterfacehttpsgithubcomjoergbuchwaldvtuinterfac use modul demonstr common workflow oper includ paramet variat set boundari condit chang solver set verif simul result comparison analyt solut setup evalu ensembl run conveni analysi result line plot time seri transient contour plot statement need python becom wide use framework scientif data analysi model develop driven eas use flexibl vast modular ecosystem includ power plot librari jupyt notebook technolog attract python limit postprocess preprocess task simpli conduct use packag python wrapper gmsh geuzainegmsh tool meshio nico_schlomer__ mani exist opensourc tool forc user learn new syntax interact softwar python bind allow control gener languag thu access wider commun user contribut address interact opensourc code opengeosi og bilk version aim facilit preand postprocess workflow python aim partli inspir desir design control evalu ensembl run buchwaldchaudhri taken wider perspect gener usabl similar python interfac ogspi exist og version mullerogspi howev conceptu differ version exampl use xml input file requir entir new packag built scratch standard output format opengeosi vtk vtk unstructur grid file vtu time slice stack togeth pvd file analyz use paraview ahrensparaview python wrapper vtk schroedervisu visual tool like pyvista sullivanpyvista mayavi ramachandranmayavi howev finiteelementmodel _bread butter_ busi often includ extract singl multipl point timeseri data direct use vtk librari quit cumbersom task especi interpol requir mention python packag focu visual aspect except paraview knowledg file support pvd file timeseri data pvdissu timeseriesissu featur ogspi allow creat complet og configur file scratch alter exist file run simul pars og log file follow exampl demonstr basic function complet exampl demonstr typic ogspyvtuinterfac workflow coupl thermohydromechan thm problem tunnel excav follow emplac heatemit canist found jupyt notebookhttpsgithubcomjoergbuchwaldjoss_ogspy_vtuinterfaceblobmasterdemopaper_ogspy_vtuioipynb locat project repositori instanc og creat exist project file import output file specifi python model ogsinput_filetunnelprj project_filetunnel_excprj project file alter command ad block remov replac paramet python modelreplace_phase_propertymediumid phasesolid namethermal_expans valuea_ python modelreplace_texttunnel_exc xpathtime_loopoutputprefix project file written disk python modelwrite_input og execut call run_model method python modelrun_modelpathgithubogsbuild_mklbin logfileexcavationlog og produc pvd vtu file handl vtuinterfac python pvdfile vtuiopvdiotunnel_excpvd dim one power featur vtuinterfac abil deal pvd file timeseri data exampl follow command read vtu point field pressur point pt defin dictionari use nearest neighbour interpol python excavation_curv pvdfileread_time_seriespressur interpolation_methodnearest ptspt result directli plot use matplotlib autoreffig time axi retriev pvd file well python pltplotpvdfiletimestep excavation_curvept e pltxlabelt pltylabelp mpa plot demonstr usag vtuinterfac deconfin curv extract time seri pvd file excav simul left contour plot pressur distribut gener vtuinterfac matplotlib tricontourf show thermal pressur heat phase rightlabelfigfigpng width spatial pressur distribut gener vtuinterfac linear point set array use three differ grid interpol method left rel converg plot show numer behaviour ten time step extract use log file parser ogspi rightfigpng width brief overview show function come ogspi vtuinterfac develop focu extend function focus builtin check ensur valid input file gener technic detail ogspi requir python use lxmlhttpslxmlde behnellxml process og input file use subprocess modul run og furthermor pandashttpspandaspydataorg mckinneydata requir hold og log file data vtuinterfac requir python use python wrapper vtkhttpsvtkorg access vtu file lxml pvd file addit vtk interpol function use panda scipyhttpsscipyorg virtanenscipi interpol applic packag introduc rel new year old howev adopt process opengeosi commun gear exampl youtub videohttpswwwyoutubecomwatchveihnkjki publish explain use tool also use teach tu bergakademi freiberg also extens util two recent peerreview public buchwaldimprov buchwald acknowledg acknowledg contribut tom fischer dmitri yu naumov dominik kern sebastian müller genesi project fund icrossproject integr nuclear wast repositori system crossscal system understand analysi feder ministri research educ bmbf grant number nuke helmholtz associ helmholtzgemeinschaft ev impuls network fund grant number greatli acknowledg work part fund deutsch forschungsgemeinschaft dfg german research foundat grant number na refer summari ogspi python interfac opengeosi finit element softwar bilk conjunct vtuinterfac possibl streamlin model workflow jupyt notebook use python articl wish introduc two new python modul facilit pre postprocess finit element calcul opengeosi thu make code access use demonstr along workflow typic encount model includ variat paramet boundari condit solver set verif simul result comparison analyt solut setup evalu ensembl run analysi result line plot time seri transient contour plot statement need driven easeofus flexibl opensourc dynam languag vast modular ecosystem develop power plot librari jupyt notebook technolog python becam quasistandard scientif data analysi model commun past decad howev attract phython limit postprocess eg python wrapper gmsh geuzainegmsh tool meshio nico_schlomer__ also preprocess task easili conduct without leav ipython command prompt useabl model packag therefor greatli enhanc python bind provid fact mani opensourc tool effect forc user learn singular syntax interact softwar python bind allow control tool within python world thu open wider commun user particularli address opensourc code opengeosi og bilk version aim facilit pre postprocess workflow use python ecosystem aim least inspir desir facilit set control evalu ensembl run buchwaldchaudhri taken wider perspect gener softwar usabl exist alreadi similar python interfac ogspi og version mullerogspi howev differ mani concept like input file handl requir entir new packag build scratch standard output format opengeosi use vtk unstructur grid file vtu timeslic stack togeth pvd file analyz typic use paraview ahrensparaview interact python use python wrapper vtk schroedervisu tool like pyvista sullivanpyvista mayavi ramachandranmayavi avail facilit easier access vtk librari direct use vtk librari quit cumbersom quit _simple_ task like read data given point set especi interpol grid point also requir latter packag focu mainli visual howev _bread butter_ bussi finiteelementmodel often cosist extract singl multipl point timeseri data knowledg name packag except paraview dont file support pvd time seri data yet pvdissu timeseriesissu usag ogspi possibl creat complet og sourc file scratch alter exist file follow exampl use complet input file coupl thm point heat sourc problem exchang part write input run problem analys result start import modul requir handl og input vtu output mathemat manipul plot python ogspyog import og python import plot_set python import vtuio python import numpi np python import matplotlibpyplot plt import matplotlibtri tri exampl problem order demonstr featur problem studi exampl tunnel excav follow emplac heatemit canist model simul thermal hydraul mechan respons system two phase detail problem refer reader previou work wang model domain consist textm time textm section clay rock format circular excavatio r textm boundari condit mimic heatemit canist seen later result excav first excav tunnel gradual reduc traction pore pressur tunnel contour achiev socal deconfin curv distribut excav day excav tunnel left drain consolid anoth day prior commenc heat excav phase set base basic input file provid user python model ogsinput_filetunnel_ogspyprj project_filetunnel_excprj mkltrue python modelreplace_texttunnel_exc xpathtime_loopoutputprefix python modelwrite_input true input file tunnel_ogspyprj build scratch use ogspi command correspond code found create_tunnelpi path og execut name logfil contain import inform simul run need given well python modelrun_modelpathgithubogsbuild_mklbin logfileexcavationlog og finish project file tunnel_excprj execut took ouput eaysili analyz use capabl vtuinterfac tool import tell vtuio dimension problem order use correct algorithm spatial interpol one signific featur vtuinterfac abil deal pvd file time seri data python pvdfile vtuiopvdiotunnel_excpvd dim tunnel_excpvd folllow command read time seri data pvd vtu file referenc therein default observ point pt correspond tunnel center use interpol method nearest data tunnel boundari gather python excavation_curv pvdfileread_time_seriespressur interpolation_methodnearest directli display use matplotlib python pltplotpvdfiletimestep excavation_curvept e pltxlabelt pltylabelp mpa pngoutput__png spatial vari properti anoth use featur model workflow wish demonstr assign spatial vari properti initi condit etc includ permeabl enhanc vicin tunnel excav order mimic exist excav damag zone edz illustr exampl wang counter usual simul edz activ heat phase order keep demonstr case simpl defin field exist vtu file defin arbitrari founction depend three coordin xy z python r python def permedzxyz r npsqrtxi return npexprre python r nplinspac python pltplotrpermedzr pltaxvlinerlscolorblack pltxlabelr pltyscalelog pltylabelk pngoutput__png read last timestep excav python lasttimestep vtuiovtuiotunnel_exc_ts__t_vtu dim function ist convert point field transform cell data function argument celltru written file tunnel_restartvtu python lasttimestepfunc_to_fieldpermedz perm tunnel_restartvtu celltru heat phase properti set initi condit calcul start heat simul follow input specifi boundari condit problem materi properti input file new phase also base origin input file use excav run follow set method gener purpos method special suit manipul og xml input python model ogsinput_filetunnelprj project_filetunnel_heatprj mkltrue python modelreplace_texttunnel_restartvtu xpathmeshesmesh occurr modelreplace_texttunnel_heat xpathtime_loopoutputprefix modelremove_elementprocessesprocessinitial_stress modelremove_elementmediamediumpropertiespropertynameperm modelremove_elementparametersparametermeshtunnel modeladd_blockproperti parent_xpathmediamediumproperti taglistnametyp parameter_nam textlistperm paramet k modeladd_blockparamet parent_xpathparamet taglistnametyp field_nam textlistk meshel perm modeladd_blockparamet parent_xpathparamet taglistnametyp field_nam textlistdisplacement_exc meshnod displac modeladd_blockparamet parent_xpathparamet taglistnametyp field_nam textlistpressure_exc meshnod pressur modelreplace_textdisplacement_exc xpathprocess_variablesprocess_variablenamedisplacementinitial_condit modelreplace_textpressure_exc xpathprocess_variablesprocess_variablenamepressureinitial_condit modelremove_elementprocess_variablesprocess_variablenamedisplacementboundary_conditionsboundary_conditionmeshtunnel_inn modelremove_elementprocess_variablesprocess_variablenamepressureboundary_conditionsboundary_conditionmeshtunnel_inn modeladd_blockboundary_condit parent_xpathprocess_variablesprocess_variablenametemperatureboundary_condit taglistmeshtyp paramet textlisttunnel_inn neumann heat_bc modelreplace_text xpathtime_loopprocessesprocesstime_steppingt_end modelreplace_text xpathtime_loopprocessesprocesstime_steppinginitial_dt modelreplace_text xpathtime_loopprocessesprocesstime_steppingminimum_dt modelreplace_text xpathtime_loopprocessesprocesstime_steppingmaximum_dt modelreplace_text xpathtime_loopoutputtimestepspaireach_step python modelwrite_input true python modelrun_modelpathgithubogsbuild_mklbin logfileheatinglog og finish project file tunnel_heatprj execut took look output defin set observ point interest temperatur well pore pressur rise due thermal pressur fluid python pvdfile vtuiopvdiotunnel_heatpvd dim tunnel_heatpvd python pt pt pt pt python heating_curv pvdfileread_time_seriestemperatur ptspt pressure_curv pvdfileread_time_seriespressur ptspt python pt pt pltplotpvdfiletimestep heating_curvept pltxlabelt pltylabelt c pngoutput__png python pt pt pltplotpvdfiletimestep pressure_curvept e pltxlabelt pltylabelp mpa pltxscalelog pngoutput__png python last_ts_vtu vtuiovtuiopvdfilevtufilenam dim without interpol field correspond order node point save point variabl read follow command python pressurefield last_ts_vtuget_point_fieldpressure_interpol avail field name obtain well use follow function call python last_ts_vtuget_point_field_nam hydraulicflow nodalforc displac epsilon original_node_numb pressur pressure_interpol satur sigma temperatur temperature_interpol veloc make contour plot pressur field matplotlib triangul tool use python level nparang python triang tritriangulationlast_ts_vtupointslast_ts_vtupoint python triangset_masknphypotlast_ts_vtupointstriangtrianglesmeanaxi last_ts_vtupointstriangtrianglesmeanaxi r python plttricontourftriangpressurefield cmappltcmget_cmapr levelslevel pltxlabelx pltylab pltcolorbarlabelp mpa plttight_layout pngoutput__png often import read data arbitrati point within mesh along predefin line need interpol grid point vtuinterfac use scipyinterpol interpol grid point ie user select differ method provid scipyinterpol diagon point set defin follow python x nplinspacernum python diagon ii x python interp_method nearest linear cubic use three differ interpol method read output data point set array along diagon python p_diagon method interp_method p_diagonalmethod last_ts_vtuget_point_set_datapressure_interpol pointsetarraydiagon interpolation_methodmethod python r npsqrtxx python method interp_method pltplotrp_diagonalmethod labelmethod pltlegend pltxlabelr pltylabelp mpa plttight_layout pngoutput__png ensembl run sensit studi combin ogspi vtuinterfac allow us perform ensembl run quit easili analyz result directli onthefli eg consid distribut triangularli distribut paramet like solid thermal expans coeffici a_text python a_s_dist low e mid e high e contrast gener purpos method like replace_text add_block exist also method conveni replac medium phase paramet properti exampl use replace_phase_properti set solid thermal expans coeffici drawn given distribut iter execut pressur valu given point read last time step save list parallel kind ensembl run straight forwad eg use python concurr futur method python a_ pressur rang model ogsinput_filetunnel_heatprj project_filetunnel_heat_sampleprj mkltrue a_sappendnprandomtriangulara_s_distlow a_s_distmida_s_disthigh modelreplace_texttunnel_heat_sampl xpathtime_loopoutputprefix modelreplace_phase_propertymediumid phasesolid namethermal_expans valuea_ modelwrite_input modelrun_modelpathgithubogsbuild_mklbin logfileheatinglog pvd vtuiopvdiotunnel_heat_samplepvd last_ts_vtu vtuiovtuiopvdvtufilenam dim p_data last_ts_vtuget_point_datapressure_interpol ptspt pressureappendp_datapt og finish project file tunnel_heat_sampleprj execut took tunnel_heat_samplepvd output show linear correl thermal expans coeffient pressur respons giveb point python pltscattera_ nparraypressure pltxlabela_mathrm k pltylabelp mpa plttight_layout pngoutput__png logpars ogspi also tool pars og log output help studi numer stabil perform follow exampl output read number nonlinear iter need everi time step plote versu time step python out_df modelparse_outheatinglog python filter nonlinear iter except last one out_df_filt out_dfdrop_duplicatessubset time_stepnumb keep last output show stabl behavior everi time step need nonlinear iter converg python pltplotout_df_filtertime_stepnumb out_df_filtertime_stepiterationnumb pltxlabeltim step pltylabeliter per time step plttight_layout pngoutput__png indivu error everi nonlinear step pars well resolv converg beheavior everi time step python filter compon except first out_df_filt out_dfout_dftime_stepiterationcomponent_convergencenumb python rang pltplotout_df_filterout_df_filtertime_stepnumberitime_stepnumberout_df_filterout_df_filtertime_stepnumberitime_stepiterationnumberout_df_filterout_df_filtertime_stepnumberitime_stepiterationcomponent_convergencedx_relativeo pltxlabeltim step pltylabelrel converg pressur pltyscalelog plttight_layout pngoutput__png conclus short overview capabl ogspi vtuinterfac enhanc model workflow opengeosi present limit user creativ appli tool complex situat sake breviti focus highlight relev model studi