pleas go stack overflow help support httpsstackoverflowcomquestionstaggedtensorflow open github issu polici must bug featur request signific problem document small doc fix pleas send pr instead form must fill shouldnt tensorboard issu go herehttpsgithubcomtensorflowtensorboardissu here polici tensorflow develop respond issu want focu work benefit whole commun eg fix bug ad featur support help individu github also notifi thousand peopl issu file want see commun interest problem rather redirect stack overflow system inform written custom code oppos use stock exampl script provid tensorflow os platform distribut eg linux ubuntu mobil devic eg iphon pixel samsung galaxi issu happen mobil devic tensorflow instal sourc binari tensorflow version use command python version bazel version compil sourc gcccompil version compil sourc cudacudnn version gpu model memori exact command reproduc collect inform use environ captur script httpsgithubcomtensorflowtensorflowtreemastertoolstf_env_collectsh obtain tensorflow version bash python c import tensorflow tf printtfversiongit_vers tfversionvers describ problem describ problem clearli sure convey bug tensorflow featur request sourc code log includ log sourc code would help diagnos problem includ traceback pleas includ full traceback larg log file attach tri provid reproduc test case bare minimum necessari gener problem open github issu polici must bugperform issu featur request build issu document issu small doc fix pleas send pr instead make sure issu templat fill issu relat repo creat here polici want focu work benefit whole commun eg fix bug ad featur individu support sought stack overflow nongithub channel help us address bug featur request time manner div aligncent img srchttpswwwtensorfloworgimagestf_logo_horizontalpng div pythonhttpsimgshieldsiopypipyversionstensorflowsvgstyleplastichttpsbadgefuryiopytensorflow pypihttpsbadgefuryiopytensorflowsvghttpsbadgefuryiopytensorflow doihttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo document documentationhttpsimgshieldsiobadgeapireferencebluesvghttpswwwtensorfloworgapi_doc tensorflowhttpswwwtensorfloworg endtoend open sourc platform machin learn comprehens flexibl ecosystem toolshttpswwwtensorfloworgresourcestool librarieshttpswwwtensorfloworgresourceslibrariesextens communityhttpswwwtensorfloworgcommun resourc let research push stateoftheart ml develop easili build deploy mlpower applic tensorflow origin develop research engin work googl brain team within googl machin intellig research organ conduct machin learn deep neural network research system gener enough applic wide varieti domain well tensorflow provid stabl pythonhttpswwwtensorfloworgapi_docspython chttpswwwtensorfloworgapi_docscc api well nonguarante backward compat api languageshttpswwwtensorfloworgapi_doc keep uptod releas announc secur updat subscrib announcetensorfloworghttpsgroupsgooglecomatensorfloworgforumforumannounc see mail listshttpswwwtensorfloworgcommunityforum instal see tensorflow instal guidehttpswwwtensorfloworginstal pip packagehttpswwwtensorfloworginstallpip enabl gpu supporthttpswwwtensorfloworginstallgpu use docker containerhttpswwwtensorfloworginstalldock build sourcehttpswwwtensorfloworginstallsourc instal current releas includ support cudaen gpu cardshttpswwwtensorfloworginstallgpu ubuntu window pip instal tensorflow smaller cpuonli packag also avail pip instal tensorflowcpu updat tensorflow latest version add upgrad flag command nightli binari avail test use tfnightlyhttpspypipythonorgpypitfnightli tfnightlycpuhttpspypipythonorgpypitfnightlycpu packag pypi tri first tensorflow program shell python python import tensorflow tf tfadd numpi hello tfconstanthello tensorflow hellonumpi bhello tensorflow exampl see tensorflow tutorialshttpswwwtensorfloworgtutori contribut guidelin want contribut tensorflow sure review contribut guidelinescontributingmd project adher tensorflow code conductcode_of_conductmd particip expect uphold code use github issueshttpsgithubcomtensorflowtensorflowissu track request bug pleas see tensorflow discusshttpsgroupsgooglecomatensorfloworgforumforumdiscuss gener question discuss pleas direct specif question stack overflowhttpsstackoverflowcomquestionstaggedtensorflow tensorflow project strive abid gener accept best practic opensourc softwar develop fuzz statushttpsossfuzzbuildlogsstoragegoogleapiscombadgestensorflowsvghttpsbugschromiumorgpossfuzzissueslistsortopenedcanqprojtensorflow cii best practiceshttpsbestpracticescoreinfrastructureorgprojectsbadgehttpsbestpracticescoreinfrastructureorgproject contributor covenanthttpsimgshieldsiobadgecontributorcovenantvadoptedffbsvgcode_of_conductmd continu build statu find communitysupport platform configur tensorflow sig build commun build tablehttpsgithubcomtensorflowbuildcommunitysupportedtensorflowbuild offici build build type statu artifact linux cpu statushttpsstoragegoogleapiscomtensorflowkokorobuildbadgesubuntuccsvghttpsstoragegoogleapiscomtensorflowkokorobuildbadgesubuntucchtml pypihttpspypiorgprojecttfnightli linux gpu statushttpsstoragegoogleapiscomtensorflowkokorobuildbadgesubuntugpupysvghttpsstoragegoogleapiscomtensorflowkokorobuildbadgesubuntugpupyhtml pypihttpspypiorgprojecttfnightlygpu linux xla statushttpsstoragegoogleapiscomtensorflowkokorobuildbadgesubuntuxlasvghttpsstoragegoogleapiscomtensorflowkokorobuildbadgesubuntuxlahtml tba maco statushttpsstoragegoogleapiscomtensorflowkokorobuildbadgesmacospyccsvghttpsstoragegoogleapiscomtensorflowkokorobuildbadgesmacospycchtml pypihttpspypiorgprojecttfnightli window cpu statushttpsstoragegoogleapiscomtensorflowkokorobuildbadgeswindowscpusvghttpsstoragegoogleapiscomtensorflowkokorobuildbadgeswindowscpuhtml pypihttpspypiorgprojecttfnightli window gpu statushttpsstoragegoogleapiscomtensorflowkokorobuildbadgeswindowsgpusvghttpsstoragegoogleapiscomtensorflowkokorobuildbadgeswindowsgpuhtml pypihttpspypiorgprojecttfnightlygpu android statushttpsstoragegoogleapiscomtensorflowkokorobuildbadgesandroidsvghttpsstoragegoogleapiscomtensorflowkokorobuildbadgesandroidhtml downloadhttpsbintraycomgoogletensorflowtensorflow_latestvers raspberri pi statushttpsstoragegoogleapiscomtensorflowkokorobuildbadgesrpipysvghttpsstoragegoogleapiscomtensorflowkokorobuildbadgesrpipyhtml pyhttpsstoragegoogleapiscomtensorflownightlytensorflowcpnonelinux_armvlwhl raspberri pi statushttpsstoragegoogleapiscomtensorflowkokorobuildbadgesrpipysvghttpsstoragegoogleapiscomtensorflowkokorobuildbadgesrpipyhtml pyhttpsstoragegoogleapiscomtensorflownightlytensorflowcpnonelinux_armvlwhl libtensorflow maco cpu statu temporarili unavail nightli binaryhttpsstoragegoogleapiscomlibtensorflownightlyprodtensorflowreleasemacoslatestmacos_cpu_libtensorflow_binariestargz offici gcshttpsstoragegoogleapiscomtensorflow libtensorflow linux cpu statu temporarili unavail nightli binaryhttpsstoragegoogleapiscomlibtensorflownightlyprodtensorflowreleaseubuntu_latestcpuubuntu_cpu_libtensorflow_binariestargz offici gcshttpsstoragegoogleapiscomtensorflow libtensorflow linux gpu statu temporarili unavail nightli binaryhttpsstoragegoogleapiscomlibtensorflownightlyprodtensorflowreleaseubuntu_latestgpuubuntu_gpu_libtensorflow_binariestargz offici gcshttpsstoragegoogleapiscomtensorflow libtensorflow window cpu statu temporarili unavail nightli binaryhttpsstoragegoogleapiscomlibtensorflownightlyprodtensorflowreleasewindowslatestcpuwindows_cpu_libtensorflow_binariestargz offici gcshttpsstoragegoogleapiscomtensorflow libtensorflow window gpu statu temporarili unavail nightli binaryhttpsstoragegoogleapiscomlibtensorflownightlyprodtensorflowreleasewindowslatestgpuwindows_gpu_libtensorflow_binariestargz offici gcshttpsstoragegoogleapiscomtensorflow resourc tensorfloworghttpswwwtensorfloworg tensorflow tutorialshttpswwwtensorfloworgtutori tensorflow offici modelshttpsgithubcomtensorflowmodelstreemasteroffici tensorflow exampleshttpsgithubcomtensorflowexampl deeplearningai tensorflow develop profession certificatehttpswwwcourseraorgspecializationstensorflowinpractic tensorflow data deploy courserahttpswwwcourseraorgspecializationstensorflowdataanddeploy get start tensorflow courserahttpswwwcourseraorglearngettingstartedwithtensorflow tensorflow advanc techniqu courserahttpswwwcourseraorgspecializationstensorflowadvancedtechniqu tensorflow deep learn special courserahttpswwwcourseraorgspecializationstensorflowdeeplearn intro tensorflow ai ml dl courserahttpswwwcourseraorglearnintroductiontensorflow intro tensorflow deep learn udacityhttpswwwudacitycomcourseintrototensorflowfordeeplearningud introduct tensorflow lite udacityhttpswwwudacitycomcourseintrototensorflowliteud machin learn tensorflow gcphttpswwwcourseraorgspecializationsmachinelearningtensorflowgcp tensorflow codelabshttpscodelabsdevelopersgooglecomcattensorflow tensorflow bloghttpsblogtensorfloworg learn ml tensorflowhttpswwwtensorfloworgresourceslearnml tensorflow twitterhttpstwittercomtensorflow tensorflow youtubehttpswwwyoutubecomchannelucrqucbdtuftjjiefwtiq tensorflow model optim roadmaphttpswwwtensorfloworgmodel_optimizationguideroadmap tensorflow white papershttpswwwtensorfloworgaboutbib tensorboard visual toolkithttpsgithubcomtensorflowtensorboard learn tensorflow communityhttpswwwtensorfloworgcommun contributehttpswwwtensorfloworgcommunitycontribut licens apach licens licens use tensorflow secur document discuss safe deal untrust program model model paramet input data also provid guidelin report vulner tensorflow tensorflow model program tensorflow runtim system interpret execut program machin learn practition term modelshttpsdevelopersgooglecommachinelearningglossarymodel express program tensorflow execut tensorflow program encod comput graphshttpsdevelopersgooglecommachinelearningglossarygraph model paramet often store separ checkpoint runtim tensorflow execut comput graph use paramet provid note behavior comput graph may chang depend paramet provid tensorflow sandbox execut comput graph tensorflow may read write file send receiv data network even spawn addit process task perform permiss tensorflow process allow flexibl make power machin learn platform implic secur comput graph may also accept input input data suppli tensorflow train model use model run infer data tensorflow model program need treat secur perspect run untrust model gener rule alway execut untrust model insid sandbox eg nsjailhttpsgithubcomgooglensjail sever way model could becom untrust obvious untrust parti suppli tensorflow kernel arbitrari code may execut true untrust parti provid python code python code gener tensorflow graph even untrust parti suppli serial comput graph form graphdef savedmodel equival ondisk format set comput primit avail tensorflow power enough assum tensorflow process effect execut arbitrari code one common solut allow safe op possibl theori still recommend sandbox execut depend comput graph whether user provid checkpoint safe easili possibl creat comput graph malici checkpoint trigger unsaf behavior exampl consid graph contain tfcond depend valu tfvariabl one branch tfcond harmless unsaf sinc tfvariabl store checkpoint whoever provid checkpoint abil trigger unsaf behavior even though graph control word graph contain vulner allow user provid checkpoint model run behalf eg order compar model qualiti fix model architectur must care audit model recommend run tensorflow process sandbox accept untrust input possibl write model secur sens safe process untrust input assum bug two main reason reli first easi write model must expos untrust input second bug softwar system suffici complex let user control input could allow trigger bug either tensorflow depend librari gener good practic isol part system expos untrust eg userprovid input sandbox use analog tensorflow graph execut interpret program languag python possibl write secur python code expos user suppli input eg care quot sanit input string sizecheck input blob etc easi write python program insecur even secur python code could render insecur bug python interpret bug python librari use eg onehttpswwwcvedetailscomcvecv run tensorflow server tensorflow platform distribut comput tensorflow server tftrainserv tensorflow server meant intern commun built use untrust network perform reason default tensorflow server includ author protocol send messag unencrypt accept connect anywher execut graph sent without perform check therefor run tftrainserv network anybodi access network execut consid arbitrari code privileg process run tftrainserv run distribut tensorflow must isol network cluster live cloud provid provid instruct set isol network sometim brand virtual privat cloud refer instruct gcphttpscloudgooglecomcomputedocsnetworksandfirewal awshttpsawsamazoncomvpc detail note tftrainserv differ server creat tensorflowserv default binari call modelserv default modelserv also builtin mechan authent connect untrust network allow anyon network run graph known modelserv mean attack may run graph use untrust input describ would abl execut arbitrari graph possibl safe expos modelserv directli untrust network graph configur use care audit safe similar best practic server recommend run modelserv appropri privileg ie use separ user reduc permiss spirit defens depth recommend authent request tensorflow server connect untrust network well sandbox server minim advers effect breach vulner tensorflow tensorflow larg complex system also depend larg set third parti librari eg numpi libjpegturbo png parser protobuf possibl tensorflow depend librari contain vulner would allow trigger unexpect danger behavior special craft input vulner given tensorflow flexibl possibl specifi comput graph exhibit unexpect unwant behavior fact tensorflow model perform arbitrari comput mean may read write file commun via network produc deadlock infinit loop run memori behavior outsid specif oper involv behavior vulner filewrit write file unexpect behavior therefor vulner tensorflow matmul allow arbitrari binari code execut vulner subtl system perspect exampl easi caus tensorflow process tri alloc memori avail specifi comput graph contain illconsid tftile oper tensorflow exit cleanli case would rais except python return error statu c howev surround system expect possibl behavior could use denial servic attack wors tensorflow behav correctli vulner tensorflow although would vulner hypothet system gener rule incorrect behavior tensorflow access memori termin unclean way bug tensorflow lead behavior constitut vulner one critic part system input handl malici input trigger side effect incorrect behavior bug like vulner report vulner pleas email report secur relat issu find securitytensorfloworg mail deliv small secur team email acknowledg within one busi day youll receiv detail respons email within day indic next step handl report critic problem may encrypt report see pleas use descript subject line report email initi repli report secur team endeavor keep inform progress made toward fix announc addit pleas includ follow inform along report name affili descript technic detail vulner import let us know reproduc find explan exploit vulner gain write attack scenario help us evalu report quickli especi issu complex whether vulner public known third parti pleas provid detail believ exist public issu securityrel pleas send email securitytensorfloworg email includ issu id short descript handl accord secur polici issu report tensorflow use follow disclosur process report receiv confirm issu determin sever know specif thirdparti servic softwar base tensorflow requir mitig public project notifi advisori prepar publish detail problem step mitig vulner fix potenti workaround identifi wherev possibl fix also prepar branch correspond releas tensorflow one year old attempt commit fix soon possibl close togeth possibl patch releas publish fix releas version notif sent discusstensorfloworg advisori publish note mostli patch releas secur reason version tensorflow support year releas past secur advisori list credit report identifi secur issu although keep name confidenti request encrypt key securitytensorfloworg disclosur extrem sensit may choos encrypt report use key pleas use critic secur report begin pgp public key block mqenbfpqdzwbcadteahlneevmaxhmgpcdjlyodouocdsqzfydiuai ljywhemdevlnrcyefgdihvtwyrvktqyehxvqcnuluucvkqbwhcdrjadaylp ajuxknrrxibhxyydycfusaazamtdpczgsmssmlhaiiymbgynvdp sepuizdibnnsatggzrdqwhdmmqgjlehqdeukricemdedxwswlmafea oetvhzetycypiffvlnsqjzhbjpcxfbiufluteeosfgmiqbjtji eckgbpacnyporoskfiqdjymbnabebaaglvrlbnnvckzsbcguvj dxjpdhkgphnlyvyaxrqhrlbnnvcmzsbcubjnpokbtgqtaqgaobyhbekvxzhm gojbnwpwxnefwvomybqjaancahsdbqsjcaccbhukcqglagqwagmbahbahea aaojebnefwvomynlkiaicqetvmdwmpaxheonkjoehqhyouwwfykufcc oxdlpqbsqmgbfutrrcwjrwvhknuzzojvcmcjvkaxmzpuxhbqdeta twklrbfgsppwnpiafehsgqtxxvlgjlgdzlnfdprghciqavaitum hbfwszszzzwankjskvtefngssngqbcjeqlnpgeqcvhrgtucgesef dxmokmfdktzlnbmlkkbftprnkdycpxkyjasmsdlkdzyw fsstizsvqygtwrmxnwdhkvxymfrtnsrgsiaqewmppaeialinfblr nfaugpfjkzapedfwdijlcfetyicwwpkobdyvbnatzithprbfuuxf zrxnnrtrrlbdsachajteflowcqordncfsohfcgeujfeampmgtop osdgxnnthooefbeuewowrztqraggknoypcdowcjptqjidtlkxybieikb nsoclqqdzjaxahgfnmozgegucggbpnhyajmlhbhywzipgoojiwda ocllupezcleyhxmniamgnchdjfuebfseutognegousqsezdzisr bzzsdfrgmzhupaeqeaaykbngqyaqgaibyhbekvxzhmgojbnwpwxnefwvomi bqjaancahsmaaojebnefwvomyxwialcyzbqhsezcstluhofzecqufqih jmikrktfwihlcujvgasguvtisyeyoomiduvllwnebemmajyrmfhyqlp avnoccczytbobrdvzduawymoitdooujahyulurkiaudlsfyzbwwi obqjbcprxkjkuurqckdrkfdtatjdihhnbbqhfuaruwntiszgpijxdbt gwiimuvdmwzgutbdgiytnkgppxomfhjtmobjztihswunyosqm vfwzeyhmrdfdirjdwxtiuervqcryiqrxexojxzljhslc cdme end pgp public key block known vulner list known vulner secur advisori tensorflow click herehttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityreadmemd tensorflow code conduct interest foster open welcom environ contributor maintain pledg make particip project commun harassmentfre experi everyon regardless age bodi size disabl ethnic gender ident express level experi nation person appear race religion sexual ident orient standard exampl behavior contribut creat posit environ includ use welcom inclus languag respect differ viewpoint experi grace accept construct critic focus best commun show empathi toward commun member exampl unaccept behavior particip includ use sexual languag imageri unwelcom sexual attent advanc troll insultingderogatori comment person polit attack public privat harass publish other privat inform physic electron address without explicit permiss conduct could reason consid inappropri forum occur tensorflow forum space meant profession interact behavior could reason consid inappropri profession set unaccept respons project maintain respons clarifi standard accept behavior expect take appropri fair correct action respons instanc unaccept behavior project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct ban temporarili perman contributor behavior deem inappropri threaten offens harm scope code conduct appli content tensorfloworg tensorflow github organ offici tensorflow web presenc allow commun interact well offici tensorflow event whether offlin onlin code conduct also appli within project space public space whenev individu repres tensorflow commun exampl repres project commun includ use offici project email address post via offici social media account act appoint de facto repres onlin offlin event conflict resolut conflict open sourc project take mani form someon bad day use harsh hurt languag issu queue seriou instanc sexistracist statement threat violenc everyth behavior threaten harass reason requir immedi escal pleas see howev vast major issu aim empow individu first resolv conflict ask help need fail escal approach give peopl control outcom disput experienc wit conflict ask use follow escal strategi address conflict address perceiv conflict directli involv prefer realtim medium fail get third parti eg mutual friend andor someon background issu involv conflict interced still unabl resolv conflict believ rise harass anoth code conduct violat report report violat violat code conduct report tensorflow project steward thea lamkin thealamkingooglecom joana carrasqueira joanafilipagooglecom project steward determin whether code conduct violat issu appropri sanction possibl includ written warn expuls project project sponsor space project forum ask make goodfaith effort resolv conflict via conflict resolut polici submit report violat code conduct occur set even unrel project consid complaint conduct occur within one year report enforc project steward receiv report alleg violat code conduct project steward notifi accus report provid opportun discuss report sanction issu project steward utmost keep report anonym act ongo someon engag harass involv threat anyon safeti eg threat violenc project steward may issu sanction without notic attribut code conduct adapt contributor coven version avail httpscontributorcovenantorgvers includ aspect geek femin code conduct drupal code conduct contribut guidelin pull request checklist send pull request make sure follow read contribut guidelinescontributingmd read code conductcode_of_conductmd ensur sign contributor licens agreement clahttpscladevelopersgooglecom check chang consist guidelinesgeneralguidelinesandphilosophyforcontribut chang consist code styleccodingstyl run unit testsrunningunittest becom contributor submit code contributor licens agreement wed love accept patch take jump coupl legal hurdl pleas fill either individu corpor contributor licens agreement cla individu write origin sourc code your sure intellectu properti youll need sign individu clahttpscodegooglecomlegalindividualclavhtml work compani want allow contribut work youll need sign corpor clahttpscodegooglecomlegalcorporateclavhtml follow either two link access appropri cla instruct sign return receiv well abl accept pull request note origin sourc code peopl sign cla accept main repositori contribut code improv tensorflow send us pull request get start github tohttpshelpgithubcomarticlesusingpullrequest tensorflow team member assign review pull request pull request approv pass continu integr check tensorflow team member appli readi pull label chang mean work get pull request submit intern repositori chang submit intern pull request merg automat github want contribut start work tensorflow codebas navig github issu tabhttpsgithubcomtensorflowtensorflowissu start look interest issu sure start start tri one smallereasi issu ie issu good first issu labelhttpsgithubcomtensorflowtensorflowlabelsgoodfirstissu take look issu contribut welcom labelhttpsgithubcomtensorflowtensorflowlabelsstatacontributionswelcom issu believ particularli well suit outsid contribut often probabl wont get right decid start issu leav comment peopl know your work want help alon use issu comment thread coordin contribut guidelin standard send pull request reviewhttpsgithubcomtensorflowtensorflowpul make sure chang consist guidelin follow tensorflow code style gener guidelin philosophi contribut includ unit test contribut new featur help prove code work correctli b guard futur break chang lower mainten cost bug fix also gener requir unit test presenc bug usual indic insuffici test coverag keep api compat mind chang code core tensorflow eg code tensorflowcorehttpsgithubcomtensorflowtensorflowtreemastertensorflowcor tensorflowpythonhttpsgithubcomtensorflowtensorflowtreemastertensorflowpython tensorflow pass version henc make nonbackwardcompat api chang without major releas review pull request comment api compat issu follow api review practiceshttpsgithubcomtensorflowcommunityblobmastergovernanceapireviewsmd contribut new featur tensorflow mainten burden default transfer tensorflow team mean benefit contribut must compar cost maintain featur full new featur eg new op implement cuttingedg algorithm typic live tensorflowaddonshttpsgithubcomtensorflowaddon get airtim decis made regard whether migrat core everi pr requir sever cpugpu hour ci test discourag submit pr fix one typo one warningetc recommend fix issu file level least eg fix typo file fix compil warn file etc test follow test best practiceshttpswwwtensorfloworgcommunitycontributetest guid licens includ licens top new file cc licens examplehttpsgithubcomtensorflowtensorflowblobmastertensorflowcoreframeworkopccl python licens examplehttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonopsnnpyl java licens examplehttpsgithubcomtensorflowtensorflowblobmastertensorflowjavasrcmainjavaorgtensorflowgraphjav go licens examplehttpsgithubcomtensorflowtensorflowblobmastertensorflowgooperationgol bash licens examplehttpsgithubcomtensorflowtensorflowblobmastertensorflowtoolsci_buildci_sanityshl html licens examplehttpsgithubcomtensorflowtensorboardblobmastertensorboardcomponentstf_backendtfbackendhtml javascripttypescript licens examplehttpsgithubcomtensorflowtensorboardblobmastertensorboardcomponentstf_backendbackendtsl bazel build file also need includ licens section eg build examplehttpsgithubcomtensorflowtensorflowblobmastertensorflowcorebuildl c code style chang tensorflow c code conform googl c style guidehttpsgooglegithubiostyleguidecppguidehtml use clangtidi check cc chang instal clangtidi ubuntu bash aptget instal clangtidi check cc file bash clangformat my_cc_fil stylegoogl tmpmy_cc_filecc diff my_cc_fil tmpmy_cc_filecc python code style chang tensorflow python code conform googl python style guidehttpsgithubcomgooglestyleguideblobghpagespyguidemd use pylint check python chang instal pylint check file pylint tensorflow custom style definit bash pip instal pylint pylint rcfiletensorflowtoolsci_buildpylintrc myfilepi note pylint rcfiletensorflowtoolsci_buildpylintrc run top level tensorflow directori code style languag googl java style guidehttpsgooglegithubiostyleguidejavaguidehtml googl javascript style guidehttpsgooglegithubiostyleguidejsguidehtml googl shell style guidehttpsgooglegithubiostyleguideshellxml googl objectivec style guidehttpsgooglegithubiostyleguideobjcguidehtml run saniti check docker instal system perform saniti check chang run command bash tensorflowtoolsci_buildci_buildsh cpu tensorflowtoolsci_buildci_sanitysh catch licens python code style build file issu may exist chang run unit test two way run tensorflow unit test use tool librari instal directli system refer cpuonli develop dockerfilehttpsgithubcomtensorflowtensorflowblobmastertensorflowtoolsdockerfilesdockerfilesdevelcpudockerfil gpu develop dockerfilehttpsgithubcomtensorflowtensorflowblobmastertensorflowtoolsdockerfilesdockerfilesdevelgpudockerfil requir packag altern use said docker imageshttpshubdockercomrtensorflowtensorflowtag eg tensorflowtensorflowdevel tensorflowtensorflowdevelgpu develop avoid instal packag directli system case rememb chang directori root tensorflow get run contain bazel find tensorflow workspac packag instal run specif unit test bazel follow bash export flagsconfigopt k test run gpu add cuda path ld_library_path add cuda option flag bash export ld_library_pathld_library_pathusrlocalcudalibusrlocalcudaextrascuptilibld_library_path export flagsconfigopt configcuda k exampl run test tensorflowpython bash bazel test flag tensorflowpython singl compon eg softmax op bash bazel test flag tensorflowpythonkernel_testssoftmax_op_test singleparameter test eg test_capture_vari tensorflowpythonsaved_modelload_testpi requir python bash bazel test flag tensorflowpythonsaved_modelload_test test_filterloadtesttest_capture_vari note add test_sharding_strategydis flag disabl shard test output one file howev may slow test run parallel may caus test timeout could use need execut singl test gener filteredselect test low execut time shard could creat overhead test executionhttpsgithubcombazelbuildbazelissuesissuecom use dockerhttpswwwdockercom tensorflow ci script bash instal docker first build run cpu test tensorflowtoolsci_buildci_buildsh cpu bazel test tensorflow see tensorflow buildshttpsgithubcomtensorflowtensorflowtreemastertensorflowtoolsci_build detail run doctest testabl docstr two way test code docstr local chang docstr classfunctionmethod test pass file path tf_doctestpyhttpswwwtensorfloworgcodetensorflowtoolsdocstf_doctestpi exampl bash python tf_doctestpi filefile_path run use instal version tensorflow sure your run code your test use date tfnightlyhttpspypiorgprojecttfnightli pip instal u tfnightli rebas pull request onto recent pull tensorflowshttpsgithubcomtensorflowtensorflow master branch chang code docstr classfunctionmethod need build tensorflow sourcehttpswwwtensorfloworginstallsourc setup build sourc run test bash bazel run tensorflowtoolsdocstf_doctest bash bazel run tensorflowtoolsdocstf_doctest moduleopsarray_op modul rel tensorflowpython debug build build tensorflowhttpswwwtensorfloworginstallsourc pass configdbg bazel build debug inform without optim allow use gdb debugg debug c code exampl build pip packag debug inform run bash bazel build configdbg tensorflowtoolspip_packagebuild_pip_packag tensorflow kernel tensorflow depend still built debug inform configdbg issu occur linux much debug info see github issuehttpsgithubcomtensorflowtensorflowissu context want debug kernel compil specif file g use per_file_copt bazel option exampl want debug ident op file start identity_op run bash bazel build configdbg per_file_copttensorflowcorekernelsidentity_opg tensorflowtoolspip_packagebuild_pip_packag note configdbg option offici support releas insert small blurb releas focu area potenti toolchain chang break chang document break chang section contain api abi behavior break chang known caveat caveat regard releas break chang addingbump depend go known lack support platform go major featur improv tfkera ad tfkerasoptimizersexperimentaloptim rework optim give control differ phase optim call easier custom provid adam sgd adadelta adagrad rmsprop optim base tfkerasoptimizersexperimentaloptim gener new optim work way old one support new constructor argument futur symbol tfkerasoptimizersoptimizeradametc point new optim previou gener optim move tfkerasoptimizerslegacyoptimizeradametc ad l unit normal layer tfkeraslayersunitnorm ad api switch interact log absl log default kera alway write log stdout howev optim noninteract environ dont access stdout view log use tfkerasutilsdisable_interactive_log write log absl log also use tfkerasutilsenable_interactive_log chang back stdout tfkerasutilsis_interactive_logging_en check interact log enabl chang default valu verbos argument modelevalu modelpredict auto default verbos case default verbos use parameterserverstrategi interact log disabl tflite ad tflite builtin op support follow tf op tfmathargmintfmathargmax input data type tfbool cpu tfnngelu op output data type tffloat quantiz cpu bug fix chang similar section import chang bug fix chang close github issu document note group per area thank contributor releas contain contribut mani peopl googl well insert name use github handl releas insert small blurb releas focu area potenti toolchain chang break chang document break chang section contain api abi behavior break chang known caveat caveat regard releas break chang addingbump depend go known lack support platform go major featur improv tflite ad tflite builtin op support follow tf op tfraw_opsbucket op cpu tfwhere op data type tfinttfuinttfinttfuinttfint tfrandomnorm op output data type tffloat cpu tfrandomuniform op output data type tffloat cpu tfrandomcategor op output data type tfint cpu tensorflowexperimentaltensorrt conversion_param deprec insid trtgraphconverterv favor direct argument max_workspace_size_byt precision_mod minimum_segment_s maximum_cached_engin use_calibr allow_build_at_runtim ad new paramet call save_gpu_specific_engin save function insid trtgraphconverterv fals save function wont save trt engin built true default origin behavior preserv trtgraphconverterv provid new api call summari output summari infer convert tftrt name show trtengineop input output shape dtype detail version summari avail print addit tensorflow op includ trtengineop tftpuexperimentalembed tftpuexperimentalembeddingfeatureconfig take addit argument output_shap specifi shape output activ featur tftpuexperimentalembeddingtpuembed behavior tftpuexperimentalembeddingserving_embedding_lookup take arbitrari rank dens spars tensor rag tensor though input tensor remain rank activ rank specifi output shape featur config via build method add tfconfigexperimentalenable_op_determinismhttpswwwtensorfloworgapi_docspythontfconfigexperimentalenable_op_determin make tensorflow op run determinist cost perform replac tf_deterministic_op environment variabl deprec bug fix chang section list determinismrel chang insert major featur use markdown syntax releas contain multipl featur area group togeth bug fix chang similar section import chang bug fix chang close github issu document note group per area tfdata optim parallel_batch becom default disabl user parallel copi batch element ad abil tensorslicedataset identifi handl input file enabl creat hermet savedmodel use dataset creat file tflite gpu add gpu deleg support serial java api boost initi time upto opencl avail deprec interpretersetnumthread favor interpreterbuildersetnumthread add tfcompatvkerasutilsget_or_create_lay aid migrat tf enabl track nest kera model creat tfstyle use tfcompatvkerasutilstrack_tf_style_vari decor tfkera preprocess layer ad tfkeraslayersexperimentalpreprocessinghashedcross layer appli hash trick concaten cross scalar input provid stateless way tri ad featur cross integ string data model remov keraslayersexperimentalpreprocessingcategorycross user migrat hashedcross layer use tfsparsecrosstfraggedcross directli ad addit standard split mode textvector standardizelow lowercas input standardizestring_punctu remov puncuat splitcharact split everi unicod charact ad output_mod argument discret hash layer semant preprocess layer categor preprocess layer support output_mod preprocess layer output follow comput dtype tfkerasmixed_precisionpolici unless construct output_modeint case output tfint output type preprocess layer control individu pass dtype argument layer tfrandomgener kera initi rng code ad new api enabledisablecheck usag tfrandomgener kera backend new backend rng kera plan switch new code path default tf behavior chang like caus breakag user side eg test check golden nubmer api allow user disabl switch back legaci behavior prefer futur eg tf expect total remov legaci code path state random op api remov well tfkerascallbacksexperimentalbackupandrestor avail tfkerascallbacksbackupandrestor experiment endpoint deprec remov futur releas tfkerasexperimentalsidecarevalu avail tfkerasutilssidecarevalu experiment endpoint deprec remov futur releas metric updat collect logic default modeltrain_step customiz via overrid modelcompute_metr loss comput logic default modeltrain_step customiz via overrid modelcompute_loss jit_compil ad modelcompil optin basi compil model train step xlahttpswwwtensorfloworgxla note jit_compiletru may necessarili work model tf core ad flag state numpy_funct allow give guarante runtim function call stateless allow optim graph determinist op function add determinsit gpu implement tffunctionjit_compiletru use scatter sinc v state op use tfdatadataset sinc v tfconvert_to_tensor fed spars tfindexedslic use tfmathunsorted_segment_sum sinc v tfgather backprop tfconvert_to_tensor reduc tfgather spars tfindexedslic gradient dens param input sinc v tfmathsegment_mean sinc v tfmathsegment_prod sinc v tfmathsegment_sum sinc v tfmathunsorted_segment_mean sinc v tfmathunsorted_segment_prod sinc v tfmathunsorted_segment_sum sinc v tfmathunsorted_segment_sqrt sinc v tfnnctc_loss resolv possibl prior releas confirm test sinc vtfnnsparse_softmax_crossentropy_with_logit sinc v run follow op cpu signific perform penalti tfscatter_nd relat scatter function tftensor_scatter_nd_upd add determinismunimpl exceptionthrow follow op opdetermin expect ie tfconfigexperimentalenable_op_determin call attempt use specifi path follow op gpu caus tferrorsunimplementederror understand messag unless otherwis specifi thrown fakequantwithminmaxvarsgradi fakequantwithminmaxvarsperchannelgradi sinc v tfcompatvget_se global random seed yet set via tfrandomset_se throw runtimeerror python invalidargu c sinc v tfcompatvnnfused_batch_norm backprop offset is_trainingfals sinc v tfimageadjust_contrast forward sinc v tfimageres methodresizemethodnearest backprop sinc v tflinalgsvd sinc v tfmathbincount sinc v tfnndepthwise_convd backprop filter use cudnn convolut sinc v tfnndilationd gradient sinc v tfnnmax_pool_with_argmax gradient sinc v tfraw_opsdebugnumericsummari tfraw_opsdebugnumericsummaryv sinc v tftimestamp throw failedprecondit sinc v tfvariablescatter_add scatter method ref resourc variabl sinc v randomnumbergener op tfrandom modul global random seed yet set via tfrandomset_se throw runtimeerror python invalidargu c thank contributor releas contain contribut mani peopl googl well jonaseschl insert name use github handl releas break chang tfkera method modelfit modelpredict modelevalu longer uprank input data shape batch_siz becom batch_siz enabl model subclass process scalar data train_steptest_steppredict_step method note chang may break certain subclass model revert back previou behavior ad uprank train_steptest_steppredict_step method eg xshaperank x tfexpand_dimsx axi function model well sequenti model built explicit input shape affect method modelto_yaml kerasmodelsmodel_from_yaml replac rais runtimeerror abus caus arbitrari code execut recommend use json serial instead yaml better altern serial h linearmodel widedeepmodel move tfcompatvkerasmodel namespac tfcompatvkerasmodelslinearmodel tfcompatvkerasmodelswidedeepmodel experiment endpoint tfkerasexperimentalmodelslinearmodel tfkerasexperimentalmodelswidedeepmodel deprec rng behavior chang tfkerasiniti class class construct fix seed longer gener valu invok multipl time instead return differ valu determinisit sequenc chang make initi behavior align v v tflite renam field signaturedef tabl schema maxim pariti tf savedmodel signatur concept deprec makefil build makefil user need migrat build cmake bazel pleas refer build tensorflow lite cmakehttpswwwtensorfloworgliteguidebuild_cmak build tensorflow lite arm boardshttpswwwtensorfloworgliteguidebuild_arm migrat deprec tfliteopresolvergetdeleg list return tflite builtinopresolvergetdeleg alway empti instead recommend use new method tfliteopresolvergetdelegatecr order achiev lazi initi tflite deleg instanc tf core tfgraphget_name_scop alway return string document previous call within name_scop name_scopenon context return none return empti string tensorflowcoreir contain new mlirbas graph dialect isomorph graphdef use replac graphdefbas eg grappler optim deprec remov attr function shape infer attribut queri name rather rang return enabl chang underli storag follow python symbol accident ad earlier version tensorflow remov symbol replac use instead note replac argument name differ tfquantize_and_dequantize_v accident introduc tensorflow use tfquantizationquantize_and_dequantize_v instead tfbatch_mat_mul_v accident introduc tensorflow use tflinalgmatmul instead tfsparse_segment_sum_grad accident introduc tensorflow use tfraw_opssparsesegmentsumgrad instead directli call op typic necessari automat use comput gradient tfsparsesegment_sum renam tensorflowint int__t numer place former alia latter could result need regener select op registr header els execut would fail unregist kernel error modular file system migrat support hdf file system migrat modular file system base approach avail httpsgithubcomtensorflowio tensorflowio python packag instal hdf support tensorflow major featur improv improv tensorflow debug experi previous tensorflow error stack trace involv mani intern frame could challeng read action end user tf tensorflow filter intern frame error rais keep stack trace short readabl focus what action end user code behavior disabl call tfdebuggingdisable_traceback_filt reenabl via tfdebuggingenable_traceback_filt debug tensorflowintern issu eg prepar tensorflow pr make sure disabl traceback filter check whether featur current enabl call tfdebuggingis_traceback_filtering_en note featur avail python higher improv inform error messag rais kera layer__call__ ad full list argument valu pass layer everi except introduc tfcompatvkerasutilstrack_tf_style_vari decor enabl use larg class tfstyle variable_scop get_vari compatvlayerbas compon within tf model run tf behavior enabl tfdata tfdata servic support autoshard user specifi shard polici tfdataexperimentalserviceshardingpolici enum one equival today parallel_epoch mode dynam equival today distributed_epoch mode one static shard polici file data file_or_data hint correspond valu tfdataexperimentalautoshardpolici static shard autoshard requir number tfdata servic worker fix user need specifi worker address tensorflowdataexperimentaldispatcherconfig tfdataexperimentalserviceregister_dataset accept option compress argument kera tfkeraslayersconv includ public convolution_op method method use simplifi implement conv subclass two primari way use new method first use method directli call method python class standardizedconvdtfkeraslayersconvd def callself input mean var tfnnmomentsselfkernel axe keepdimstru return selfconvolution_opinput selfkernel mean tfsqrtvar e altern overrid convolution_op python class standardizedconvdtfkeraslay def convolution_opself input kernel mean var tfnnmomentskernel axe keepdimstru author code use std e return superconvolution_opinput kernel mean tfsqrtvar e ad merge_st method tfkerasmetricsmetr use distribut comput ad spars rag option tfkeraslayerstextvector allow sparsetensor raggedtensor output layer distributeexperimentalrpc packag distributeexperimentalrpc packag introduc api creat grpc base server regist tffunction method grpc client invok remot regist method rpc api intend multicli setup ie server client start separ binari independ exampl usag creat server python server tfdistributeexperimentalrpcservercreategrpc tffunctioninput_signatur tftensorspec tfint tftensorspec dtypesint def _remote_multiplya b return tfmathmultiplya b serverregistermultipli _remote_multipli exampl usag creat client python client tfdistributeexperimentalrpcclientcreategrpc address tfconstant dtypetfint b tfconstant dtypetfint result clientmultiplya b tflite add experiment api experimental_from_jax support convers jax model tensorflow lite support uint data type cast op support int data type cast op add experiment quantiz debugg tflitequantizationdebugg add liteexperimentalauthoringcompat api python decor provid way check tflite compat issu tffunction return callabl object valid tflite compat incompat oper encount execut except rais inform incompat op add liteexperimentalanalyz api experiment tool analyz tflite flatbuff model api use investig tflite model structur check compat gpu deleg extens type add experiment api defin new python class handl tensorflow api creat extens type simpli defin python class tfexperimentalextensiontyp base use type annot specifi type field eg python class maskedtensortfexperimentalextensiontyp valu tftensor mask tftensor tfextensiontyp base class work similarli typingnamedtuplehttpsdocspythonorglibrarytypinghtmltypingnamedtupl dataclassesdataclasshttpsdocspythonorglibrarydataclasseshtmldataclassesdataclass standard python librari extens type support kera tfdata tfhub savedmodel tffunction control flow op py_funct distribut strategi add dispatch decor use overrid default behavior tensorflow op tfadd tfconcat appli extensiontyp valu batchableextensiontyp api use defin extens type support api make use batch tfdatadataset tfmap_fn inform see extens type guidehttpswwwtensorfloworgguideextension_typ bug fix chang tf core random number gener rng system add argument alg tfrandomstateless_ function explicitli select rng algorithm add tfnnexperimentalstateless_dropout stateless version tfnndropout tfrandomgener creat insid scope tfdistributeexperimentalparameterserverstrategi tfdistributeexperimentalcentralstoragestrategi add experiment session config tfexperimentaldisable_functional_ops_low disabl function control flow op lower optim use execut within portabl runtim control flow op kernel may load due select registr add new experiment argument experimental_is_anonym tflookupstatichashtable__init__ creat tabl anonym mode mode tabl resourc access via resourc handl resourc name delet automat resourc handl point gone tfdata introduc tfdataexperimentalat api provid random access input pipelin consist transform support random access initi set transform support random access includ tfdatadatasetfrom_tensor_slicestfdatadatasetshuffl tfdatadatasetbatch tfdatadatasetshard tfdatadatasetmap tfdatadatasetrang promot tfdataoptionsexperimental_determinist api tfdataoptionsdeterminist deprec experiment endpoint move autotun option fromtfdataoptionsexperimental_optimizationautotun newli creat tfdataoptionsautotun remov support tfdataoptionsexperimental_optimizationautotune_buff add support userdefin name tfdata core python api use disambigu tfdata event tf profil trace viewer promot tfdataexperimentalsample_from_dataset api tfdatadatasetsample_from_dataset deprec experiment endpoint ad tf_gpu_allocatorcuda_malloc_async use cudamallocasync cuda could becom default futur tf savedmodel custom gradient save default see tfsaved_modelsaveopt disabl saved_model_cli input_exampl input restrict python liter avoid code inject xla add new api allow custom call function signal error old api deprec futur releas see httpswwwtensorfloworgxlacustom_cal detail xlagpu reduct determinist default reduct within jit_compiletru determinist xlagpu work horovod oss contribut trent lo nvidia xlacpu xlagpu compil tfuniqu tfwhere shape provabl correct compil time tfsaved_modelsav save model specifi namespac whitelist custom op namespac default allow rather reject determinist op function enabl set environ variabl tf_deterministic_op true add determinsit gpu implement tfmathsegment_sum tfmathsegment_prod tfmathsegment_mean tfmathunsorted_segment_sum tfmathunsorted_segment_prod tfmathunsorted_segment_sqrt tfmathunsorted_segment_mean tfgather backprop tfconvert_to_tensor fed spars tfindexedslic tfnnsparse_softmax_crossentropy_with_logit tfnnctc_loss resolv possibl prior releas confirm test state op use tfdatadataset run follow op cpu signific perform penalti tfscatter_nd relat scatter function tftensor_scatter_nd_upd add determinismunimpl exceptionthrow follow op opdetermin expect ie environ variabl tf_deterministic_op set true attempt use specifi path follow op gpu caus tferrorsunimplementederror understand messag unless otherwis specifi thrown tfcompatvnnfused_batch_norm backprop offset is_trainingfals tfimageadjust_contrast forward tfnndepthwise_convd backprop filter use cudnn convolut tfimageres methodresizemethodnearest backprop tfmathbincount todo confirm except ad tfraw_opsdebugnumericsummari tfraw_opsdebugnumericsummaryv tfvariablescatter_add scatter method ref resourc variabl tflinalgsvd tfnndilationd gradient tfnnmax_pool_with_argmax gradient tftimestamp throw failedprecondit randomnumbergener op tfrandom modul global random seed yet set via tfrandomset_se throw runtimeerror python invalidargu c tfcompatvget_se global random seed yet set via tfrandomset_se throw runtimeerror python invalidargu c secur fix code inject issu saved_model_cli cvehttpscvemitreorgcgibincvenamecginamecv fix vulner due use uniniti valu tensorflow cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob fusedbatchnorm kernel cvehttpscvemitreorgcgibincvenamecginamecv fix arbitrari memori read immutableconst cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob sparsebincount cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob sparsefillemptyrow cvehttpscvemitreorgcgibincvenamecginamecv fix segfault due neg split splitv cvehttpscvemitreorgcgibincvenamecginamecv fix segfault vulner caus access invalid memori shape infer cudnn op cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer except exit node preced enter op cvehttpscvemitreorgcgibincvenamecginamecv fix integ divis tfraw_opsalltoal cvehttpscvemitreorgcgibincvenamecginamecv fix use free memori leak collectivereducev cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior via nullptr refer bind spars matrix multipl cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow transpos cvehttpscvemitreorgcgibincvenamecginamecv prevent deadlock aris mutual recurs tffunction object cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer except deserializespars cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr tfraggedcross cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraggedcross cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob shape infer quantizev cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opsquantizeanddequantizev op cvehttpscvemitreorgcgibincvenamecginamecv fix fpe parallelconcat cvehttpscvemitreorgcgibincvenamecginamecv fix fpe issu convolut zero size filter cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opssparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid boost tree code cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid shape multipl tf op cvehttpscvemitreorgcgibincvenamecginamecv fix segfault produc copi constant resourc tensor cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus uniti access einsumhelperparseequ cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner segfault caus miss valid checkpoint load cvehttpscvemitreorgcgibincvenamecginamecv fix overflow produc crash tfrang cvehttpscvemitreorgcgibincvenamecginamecv fix overflow produc crash tfimageres size larg cvehttpscvemitreorgcgibincvenamecginamecv fix overflow produc crash tftile tile tensor larg cvehttpscvemitreorgcgibincvenamecginamecv fix vulner produc due incomplet valid tfsummarycreate_file_writ cvehttpscvemitreorgcgibincvenamecginamecv fix multipl crash due overflow checkfail op larg tensor shape cvehttpscvemitreorgcgibincvenamecginamecv fix crash max_poold size argument neg cvehttpscvemitreorgcgibincvenamecginamecv fix crash tfmathsegment_ oper cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv thank contributor releas contain contribut mani peopl googl well bitmp abhilash majumd abhilash adeshchoudhar adrian garcia badaracco adrian ratiu agramesh aleksandr nikolaev alexand bosch alexand grund anni tallund anush elangovan artem sokolovskii azazhu balint cristian ba aart ben barsdel bhack cfrod cheneywang cheng ren christoph bate collin danila bespalov david datascientist deven desai duncan riach ehsan kia elli fan du fo freder bastien fsx gauri deshpand geetachavan guillaum klein guozhongzhuang helen hkon sandsmark japm jgehw jinzh zeng jonathan dekhtiar kai zhu kaixi hou kanvi khanna koansin tan koki ibukuro kulin seth kumatea kunlu lemo liprac liuyuanqiang mahmoud abuzaina mariu brehler maxiwel garcia mdfaijul metarutaiga michal szutenberg nammbash neil girdhar nishidha panpaliya nyadlasi patric vignola peter kast philipp hack pinto prateek gupta puneeshkhanna rahul butani rajeshwar reddi reza rahimi rinozajiffri rmothukuru rohit santhanam saduf samuel mark sclarkson sergii khomenko sheng yang sidongwei slowi srinivasan narayanamoorthi srishti srivastava stanley stella alic schlotter steven reev stevenireev svobora takayoshi koizumi tama bela feher thibaut goetghebuerplanchon trent lo twice varghes jojimon vishnuvardhan janapati wang yanzhang wangquintin william muir william ravean yasir modak yasuhiro matsumoto yi li yong tang zhaozheng zhoulong jiang zzpmiracl releas fix issu kera tensorflow_estim tensorboard miss proper upper bound result broken instal tf releas releas releas introduc sever vulner fix fix code inject issu saved_model_cli cvehttpscvemitreorgcgibincvenamecginamecv fix vulner due use uniniti valu tensorflow cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob fusedbatchnorm kernel cvehttpscvemitreorgcgibincvenamecginamecv fix arbitrari memori read immutableconst cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob sparsebincount cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob sparsefillemptyrow cvehttpscvemitreorgcgibincvenamecginamecv fix segfault due neg split splitv cvehttpscvemitreorgcgibincvenamecginamecv fix segfault vulner caus access invalid memori shape infer cudnn op cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer except exit node preced enter op cvehttpscvemitreorgcgibincvenamecginamecv fix integ divis tfraw_opsalltoal cvehttpscvemitreorgcgibincvenamecginamecv fix use free memori leak collectivereducev cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior via nullptr refer bind spars matrix multipl cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow transpos cvehttpscvemitreorgcgibincvenamecginamecv prevent deadlock aris mutual recurs tffunction object cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer except deserializespars cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr tfraggedcross cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraggedcross cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob shape infer quantizev cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opsquantizeanddequantizev op cvehttpscvemitreorgcgibincvenamecginamecv fix fpe parallelconcat cvehttpscvemitreorgcgibincvenamecginamecv fix fpe issu convolut zero size filter cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opssparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid boost tree code cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid shape multipl tf op cvehttpscvemitreorgcgibincvenamecginamecv fix segfault produc copi constant resourc tensor cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus uniti access einsumhelperparseequ cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner segfault caus miss valid checkpoint load cvehttpscvemitreorgcgibincvenamecginamecv fix overflow produc crash tfrang cvehttpscvemitreorgcgibincvenamecginamecv fix overflow produc crash tfimageres size larg cvehttpscvemitreorgcgibincvenamecginamecv fix overflow produc crash tftile tile tensor larg cvehttpscvemitreorgcgibincvenamecginamecv fix vulner produc due incomplet valid tfsummarycreate_file_writ cvehttpscvemitreorgcgibincvenamecginamecv fix multipl crash due overflow checkfail op larg tensor shape cvehttpscvemitreorgcgibincvenamecginamecv fix crash max_poold size argument neg cvehttpscvemitreorgcgibincvenamecginamecv fix crash tfmathsegment_ oper cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas break chang tftrainexperimentalenable_mixed_precision_graph_rewrit remov api work graph mode customiz function still access tfcompatvmixed_precisionenable_mixed_precision_graph_rewrit recommend use kera mix precis apihttpswwwtensorfloworgguidemixed_precis instead tflite remov experimentalnndynamic_rnn experimentalnntfliternncel experimentalnntflitelstmcel sinc theyr longer support recommend use kera lstmhttpswwwtensorfloworgapi_docspythontfkeraslayerslstm instead tfkera kera split separ pip packag kera code move github repositorykerasteamkerashttpgithubcomkerasteamkera api endpoint tfkera stay unchang back kera pip packag exist code tensorflowpythonkera stale copi remov futur releas pleas remov import tensorflowpythonkera replac public tfkera api instead method modelto_yaml kerasmodelsmodel_from_yaml replac rais runtimeerror abus caus arbitrari code execut recommend use json serial instead yaml better altern serial h known caveat tf core longstand bug tfwhile_loop caus execut sequenti even parallel_iter fix howev increas parallel may result increas memori use user experi unwant regress reset while_loop parallel_iter valu consist prior behavior major featur improv tfkera kera split separ pip packag kera code move github repositori kerasteamkerashttpgithubcomkerasteamkera api endpoint tfkera stay unchang back kera pip packag kerasrel pr issu direct github repositori kerasteamkerashttpgithubcomkerasteamkera tfkerasutilsexperimentaldatasetcr take option tfdistributeinputopt specif option use distribut tfkerasexperimentalsidecarevalu avail program intend run evalu task commonli use supplement train cluster run tfdistributeexperimentalparameterserverstrategi see httpswwwtensorfloworgtutorialsdistributeparameter_server_train also use singlework train strategi see docstr info preprocess layer move experiment core import path move tfkeraslayerspreprocessingexperiment tfkeraslay updat preprocess layer api consist clariti stringlookup integerlookup default mask_token chang none match default mask behavior hash embed layer keep exist behavior pass mask_token layer creation renam binari output mode multi_hot categoryencod stringlookup integerlookup textvector multihot encod longer automat uprank rank input layer multihot encod unbatch multidimension sampl ad new output mode one_hot categoryencod stringlookup integerlookup encod element input batch individu automat append new output dimens necessari use mode rank input old binari behavior onehot encod batch scalar normal longer automat uprank rank input allow normal unbatch multidimension sampl tflite recommend android ndk version build tensorflow lite chang rb rc support int mul support nativ variabl builtin op readvari assignvari convert experiment support variabl tflite enabl convers user need set experimental_enable_resource_vari tflitetfliteconvert true note mutabl variabl avail use from_saved_model releas support method come soon old convert toco get remov next releas deprec releas alreadi tfsaved_model savedmodel save custom gradient use option tfsaved_modelsaveoptionexperimental_custom_gradientstru enabl featur document advanc autodiffhttpswwwtensorfloworgguideadvanced_autodiffcustom_gradi updat object metadata deprec longer save savedmodel tf core ad tfconfigexperimentalreset_memory_stat reset track peak memori return tfconfigexperimentalget_memory_info tfdata ad target_work param data_service_opsfrom_dataset_id data_service_opsdistribut user specifi auto local case insensit auto tfdata servic runtim decid worker read tf worker read tfdata servic worker local tf worker read local inprocesss tfdata servic worker auto work well case user specifi target exampl local would help avoid rpc data copi everi tf worker coloc tfdata servic worker current auto read tfdata servic worker preserv exist behavior default valu auto bug fix chang tf core ad tflookupexperimentalmutablehasht provid gener mutabl hash tabl implement compar tflookupexperimentaldensehasht offer lower overal memori usag cleaner api requir specifi delete_key empty_key insert tabl ad support specifi number subdivis reduc host collect parallel work cpu speed collect perform default behavior unchang add option perturb_singular tflinalgtridiagonal_solv allow solv linear system numer singular tridiagon matrix eg use invers iter ad tflinalgeigh_tridiagon comput eigenvalu hermitian tridiagon matrix tfconstant place output current default devic savedmodel ad tfsaved_modelexperimentaltrackableresourc allow creation custom wrapper object resourc tensor ad savedmodel load option allow restor partial checkpoint savedmodel see tfsaved_modelloadoptionshttpswwwtensorfloworgapi_docspythontfsaved_modelloadopt detail ad new op sparsesegmentsumgrad match spars segment gradient op avoid extra gather oper previou gradient implement ad new session config set internal_fragmentation_fract control bfc alloc need split overs chunk satisfi alloc request ad tfget_current_name_scop return current full name scope string prepend op name tfdata promot tfdataexperimentalbucket_by_sequence_length api tfdatadatasetbucket_by_sequence_length deprec experiment endpoint promot tfdataexperimentalget_single_el api tfdatadatasetget_single_el deprec experiment endpoint promot tfdataexperimentalgroup_by_window api tfdatadatasetgroup_by_window deprec experiment endpoint promot tfdataexperimentalrandomdataset api tfdatadatasetrandom deprec experiment endpoint promot tfdataexperimentalscan api tfdatadatasetscan deprec experiment endpoint promot tfdataexperimentalsnapshot api tfdatadatasetshapshot deprec experiment endpoint promot tfdataexperimentaltake_whil api tfdatadatasettake_whil deprec experiment endpoint promot tfdataexperimentalthreadingopt api tfdatathreadingopt deprec experiment endpoint promot tfdataexperimentaluniqu api tfdatadatasetuniqu deprec experiment endpoint ad stop_on_empty_dataset paramet sample_from_dataset choose_from_dataset set stop_on_empty_datasettru stop sampl encount empti dataset preserv sampl ratio throughout train prior behavior continu sampl skip exhaust dataset dataset exhaust default origin behavior stop_on_empty_datasetfals preserv remov previous deprec tfdata statist relat api tfdataoptionsexperimental_stat tfdataexperimentalstatsaggreg tfdataexperimentalstatsopt tfdataexperimentalbytes_produced_stat tfdataexperimentallatency_stat remov follow experiment tfdata optim api tfdataexperimentalmapvectorizationopt tfdataexperimentaloptimizationoptionsfilter_with_random_uniform_fus tfdataexperimentaloptimizationoptionshoist_random_uniform tfdataexperimentaloptimizationoptionsmap_vector tfdataexperimentaloptimizationoptionsreorder_data_discarding_op tfkera fix usag __getitem__ slice kera function api input raggedtensor object add keepdim argument globalpool layer add include_preprocess argument mobilenetv architectur control inclus rescal layer model add option argument forc make_traintestpredict_funt method skip cach function gener new one use regener singl call compil train function trainabl attribut model layer chang model save_spec properti contain tensorspec spec call model spec automat save model call first time tflinalg add compositetensor base class linearoper tflite fix mean op refer quantiz round issu ad framework_st build target link nonexperiment tf lite api remov deprec java interpret method modifygraphwithdeleg use interpreteroptionsadddeleg setnumthread use interpreteroptionssetnumthread add convdtranspos builtin op tfsummari fix tfsummaryshould_record_summari correctli reflect summari written even tfsummaryrecord_if n effect return true tensor default writer present grappler disabl default grappler optim timeout make optim pipelin determinist may lead increas model load time time spent graph optim unbound minut determinist op function enabl set tf_deterministic_op true add determinist gpu implement tfnnsoftmax_cross_entropy_with_logit see pr httpsgithubcomtensorflowtensorflowpul add determinist cpu implement tfimagecrop_and_res see pr httpsgithubcomtensorflowtensorflowpul add determinismunimpl exceptionthrow follow op opdetermin expect attempt use specifi path follow op gpu caus tferrorsunimplementederror understand messag thrown tfnnsparse_softmax_cross_entropy_with_logit forward andor backward see pr httpsgithubcomtensorflowtensorflowpul tfimagecrop_and_res gradient wrt either imag box see pr httpsgithubcomtensorflowtensorflowpul tfsparsesparse_dense_matmul forward see pr httpsgithubcomtensorflowtensorflowpul secur fix heap bound access spars reduct oper cvehttpscvemitreorgcgibincvenamecginamecv fix float point except sparsedensecwisediv cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer compressel cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer heap oob read aris oper restor tensor cvehttpscvemitreorgcgibincvenamecginamecv fix integ divis spars reshap cvehttpscvemitreorgcgibincvenamecginamecv fix divis resourcescatterdiv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob raggedgath cvehttpscvemitreorgcgibincvenamecginamecv fix stdabort rais tensorlistreserv cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer matrixdiagpartop cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow due convers unsign cvehttpscvemitreorgcgibincvenamecginamecv fix bad alloc error stringngram caus integ convers cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer sparsetensorslicedataset cvehttpscvemitreorgcgibincvenamecginamecv fix incorrect valid savev input cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer uncompressel cvehttpscvemitreorgcgibincvenamecginamecv fix segfault heap buffer overflow experimentaldatasettotfrecord cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow fractionalavgpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix use free boost tree creation cvehttpscvemitreorgcgibincvenamecginamecv fix divis resourcegath cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob check fail resourcegath cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob resourcescatterupd cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr raggedtensortospars cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr matrixdiagv op cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr matrixsetdiagv op cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr heap oob binari cwise op cvehttpscvemitreorgcgibincvenamecginamecv fix divis inplac oper cvehttpscvemitreorgcgibincvenamecginamecv fix crash caus integ convers unsign cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr boost tree cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob boost tree cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris incomplet valid quantizev cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris incomplet valid mkl requant cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr raggedtensortovari cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr unicod encod cvehttpscvemitreorgcgibincvenamecginamecv fix fpe tfraw_opsunravelindex cvehttpscvemitreorgcgibincvenamecginamecv fix crash nm op caus integ convers unsign cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob upperbound lowerbound cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr map oper cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob sdcaoptimizerv cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail mapstag cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris incomplet valid maxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr shape infer cvehttpscvemitreorgcgibincvenamecginamecv fix divis convolut oper cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris miss valid shape infer dequant cvehttpscvemitreorgcgibincvenamecginamecv fix arbitrari code execut due yaml deseri cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob nest tfmap_fn raggedtensor cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite cvehttpscvemitreorgcgibincvenamecginamecv fix npe tflite cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris use uniti valu tflite cvehttpscvemitreorgcgibincvenamecginamecv fix fpe tflite divis oper cvehttpscvemitreorgcgibincvenamecginamecv fix fpe tflite pool oper cvehttpscvemitreorgcgibincvenamecginamecv fix infinit loop tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob tflite gather implement cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris null pointer derefer tflite cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris null pointer derefer tflite mlir optim cvehttpscvemitreorgcgibincvenamecginamecv fix fpe lsh tflite cvehttpscvemitreorgcgibincvenamecginamecv fix segfault string tensor mismatch dimens aris go code cvehttpscvemitreorgcgibincvenamecginamecv fix use free potenti segfault shape infer function cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv thank contributor releas contain contribut mani peopl googl well aadhitya abhilash mahendrakar abhishek varma abin shahab adam hillier aditya kane adityakan agramesh amogh joshi armen poghosov armkevincheng avrosh k ayan moitra azazhu banikumar maiti ba aart bhack bhanu prakash bandaru venkata billi cao bohumir zamecnik bradley reec cyanxu daniel situnayak david pal ddavi dekhtiarjonathan deven desai duncan riach edward eli osherovich eugen kuznetsov europeanplaic evelynmitchel evgeniy polyakov felix vollmer florentin henneck franoi chollet freder bastien fredrik knutsson gabriel macchi gaurav shukla gauri deshpand geetachavan georgiy manuilov h hengwen tong henri woodcock hiran sarkar ilya arzhannikov janghoo lee jdemato jen meder jerri shih jgehw jim fisher jingbei li jiri podivin joachim gehweil johann lade jona liechti jona liechti jona ohlsson jonathan dekhtiar julian gross kaixi hou kevin cheng koansin tan kulin seth linzewen liubov batanina luislee luka geiger mahmoud abuzaina mathgam matt conley max h gerlach mdfaijul mh kwon michael marti michal szutenberg mn nilsson nammbash neil girdhar nichola vadivelu nick kreeger nirja jakilim okyanusoz patric vignola patrik laurel pedro marqu philipp hack phillip cloud piergiacomo de marchi prashant kumar puneeshkhanna pvarouktsi qq rajeshwar reddi rama ketineni reza rahimi robert kalmar rsun ryan kuester saduf sean morgan sean moriar shaochen shi sheng yang shu wang shuai zhang soojeong stanleynod steven reev stevenireev suraj sudhir sven mayer tama bela feher tashuangzk tcervi teng lu thale elero cervi thibaut goetghebuerplanchon thoma walther till brychci trent lo uday bondhugula vishakhaagraw vishnuvardhan janapati wamuir wenwen ouyang wenwu williard joshua jose xiaohong xiaom jason cui xinan jiang yasir modak yi li yong tang zilinzhu   releas releas introduc sever vulner fix fix code inject issu saved_model_cli cvehttpscvemitreorgcgibincvenamecginamecv fix vulner due use uniniti valu tensorflow cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob fusedbatchnorm kernel cvehttpscvemitreorgcgibincvenamecginamecv fix arbitrari memori read immutableconst cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob sparsebincount cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob sparsefillemptyrow cvehttpscvemitreorgcgibincvenamecginamecv fix segfault due neg split splitv cvehttpscvemitreorgcgibincvenamecginamecv fix segfault vulner caus access invalid memori shape infer cudnn op cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer except exit node preced enter op cvehttpscvemitreorgcgibincvenamecginamecv fix integ divis tfraw_opsalltoal cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior via nullptr refer bind spars matrix multipl cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow transpos cvehttpscvemitreorgcgibincvenamecginamecv prevent deadlock aris mutual recurs tffunction object cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer except deserializespars cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr tfraggedcross cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraggedcross cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opsquantizeanddequantizev op cvehttpscvemitreorgcgibincvenamecginamecv fix fpe parallelconcat cve httpscvemitreorgcgibincvenamecginamecv fix fpe issu convolut zero size filter cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opssparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid boost tree code cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid shape multipl tf op cvehttpscvemitreorgcgibincvenamecginamecv fix segfault produc copi constant resourc tensor cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus uniti access einsumhelperparseequ cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner segfault caus miss valid checkpoint load cvehttpscvemitreorgcgibincvenamecginamecv fix overflow produc crash tfrang cvehttpscvemitreorgcgibincvenamecginamecv fix overflow produc crash tfimageres size larg cvehttpscvemitreorgcgibincvenamecginamecv fix overflow produc crash tftile tile tensor larg cvehttpscvemitreorgcgibincvenamecginamecv fix vulner produc due incomplet valid tfsummarycreate_file_writ cvehttpscvemitreorgcgibincvenamecginamecv fix multipl crash due overflow checkfail op larg tensor shape cvehttpscvemitreorgcgibincvenamecginamecv fix crash max_poold size argument neg cvehttpscvemitreorgcgibincvenamecginamecv fix crash tfmathsegment_ oper cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas releas introduc sever vulner fix fix heap bound access spars reduct oper cvehttpscvemitreorgcgibincvenamecginamecv fix float point except sparsedensecwisediv cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer compressel cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer heap oob read aris oper restor tensor cvehttpscvemitreorgcgibincvenamecginamecv fix integ divis spars reshap cvehttpscvemitreorgcgibincvenamecginamecv fix divis resourcescatterdiv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob raggedgath cvehttpscvemitreorgcgibincvenamecginamecv fix stdabort rais tensorlistreserv cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer matrixdiagpartop cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow due convers unsign cvehttpscvemitreorgcgibincvenamecginamecv fix bad alloc error stringngram caus integ convers cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer sparsetensorslicedataset cvehttpscvemitreorgcgibincvenamecginamecv fix incorrect valid savev input cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer uncompressel cvehttpscvemitreorgcgibincvenamecginamecv fix segfault heap buffer overflow experimentaldatasettotfrecord cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow fractionalavgpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix use free boost tree creation cvehttpscvemitreorgcgibincvenamecginamecv fix divis resourcegath cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob check fail resourcegath cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob resourcescatterupd cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr raggedtensortospars cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr matrixdiagv op cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr matrixsetdiagv op cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr heap oob binari cwise op cvehttpscvemitreorgcgibincvenamecginamecv fix divis inplac oper cvehttpscvemitreorgcgibincvenamecginamecv fix crash caus integ convers unsign cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr boost tree cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob boost tree cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris incomplet valid quantizev cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris incomplet valid mkl requant cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr raggedtensortovari cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr unicod encod cvehttpscvemitreorgcgibincvenamecginamecv fix fpe tfraw_opsunravelindex cvehttpscvemitreorgcgibincvenamecginamecv fix crash nm op caus integ convers unsign cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob upperbound lowerbound cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr map oper cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob sdcaoptimizerv cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail mapstag cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris incomplet valid maxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr shape infer cvehttpscvemitreorgcgibincvenamecginamecv fix divis convolut oper cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris miss valid shape infer dequant cvehttpscvemitreorgcgibincvenamecginamecv fix arbitrari code execut due yaml deseri cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob nest tfmap_fn raggedtensor cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite cvehttpscvemitreorgcgibincvenamecginamecv fix npe tflite cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris use uniti valu tflite cvehttpscvemitreorgcgibincvenamecginamecv fix fpe tflite divis oper cvehttpscvemitreorgcgibincvenamecginamecv fix fpe tflite pool oper cvehttpscvemitreorgcgibincvenamecginamecv fix infinit loop tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob tflite gather implement cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris null pointer derefer tflite cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris null pointer derefer tflite mlir optim cvehttpscvemitreorgcgibincvenamecginamecv fix fpe lsh tflite cvehttpscvemitreorgcgibincvenamecginamecv fix segfault string tensor mismatch dimens aris go code cvehttpscvemitreorgcgibincvenamecginamecv fix use free potenti segfault shape infer function cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas releas introduc sever vulner fix fix code inject issu saved_model_cli cvehttpscvemitreorgcgibincvenamecginamecv fix vulner due use uniniti valu tensorflow cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob fusedbatchnorm kernel cvehttpscvemitreorgcgibincvenamecginamecv fix arbitrari memori read immutableconst cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob sparsebincount cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob sparsefillemptyrow cvehttpscvemitreorgcgibincvenamecginamecv fix segfault due neg split splitv cvehttpscvemitreorgcgibincvenamecginamecv fix segfault vulner caus access invalid memori shape infer cudnn op cve httpscvemitreorgcgibincvenamecginamecv fix null pointer except exit node preced enter op cvehttpscvemitreorgcgibincvenamecginamecv fix integ divis tfraw_opsalltoal cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior via nullptr refer bind spars matrix multipl cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow transpos cvehttpscvemitreorgcgibincvenamecginamecv prevent deadlock aris mutual recurs tffunction object cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer except deserializespars cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr tfraggedcross cve httpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraggedcross cve httpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opsquantizeanddequantizev op cvehttpscvemitreorgcgibincvenamecginamecv fix fpe parallelconcat cvehttpscvemitreorgcgibincvenamecginamecv fix fpe issu convolut zero size filter cve httpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opssparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid boost tree code cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid shape multipl tf op cvehttpscvemitreorgcgibincvenamecginamecv fix segfault produc copi constant resourc tensor cve httpscvemitreorgcgibincvenamecginamecv fix vulner caus uniti access einsumhelperparseequ cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner segfault caus miss valid checkpoint load cve httpscvemitreorgcgibincvenamecginamecv fix overflow produc crash tfrang cve httpscvemitreorgcgibincvenamecginamecv fix overflow produc crash tfimageres size larg cvehttpscvemitreorgcgibincvenamecginamecv fix overflow produc crash tftile tile tensor larg cvehttpscvemitreorgcgibincvenamecginamecv fix vulner produc due incomplet valid tfsummarycreate_file_writ cvehttpscvemitreorgcgibincvenamecginamecv fix multipl crash due overflow checkfail op larg tensor shape cvehttpscvemitreorgcgibincvenamecginamecv fix crash max_poold size argument neg cvehttpscvemitreorgcgibincvenamecginamecv fix crash tfmathsegment_ oper cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas releas introduc sever vulner fix fix heap bound access spars reduct oper cvehttpscvemitreorgcgibincvenamecginamecv fix float point except sparsedensecwisediv cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer compressel cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer heap oob read aris oper restor tensor cvehttpscvemitreorgcgibincvenamecginamecv fix integ divis spars reshap cvehttpscvemitreorgcgibincvenamecginamecv fix divis resourcescatterdiv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob raggedgath cvehttpscvemitreorgcgibincvenamecginamecv fix stdabort rais tensorlistreserv cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer matrixdiagpartop cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow due convers unsign cvehttpscvemitreorgcgibincvenamecginamecv fix bad alloc error stringngram caus integ convers cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer sparsetensorslicedataset cvehttpscvemitreorgcgibincvenamecginamecv fix incorrect valid savev input cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer uncompressel cvehttpscvemitreorgcgibincvenamecginamecv fix segfault heap buffer overflow experimentaldatasettotfrecord cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow fractionalavgpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix use free boost tree creation cvehttpscvemitreorgcgibincvenamecginamecv fix divis resourcegath cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob check fail resourcegath cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob resourcescatterupd cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr raggedtensortospars cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr matrixdiagv op cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr matrixsetdiagv op cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr heap oob binari cwise op cvehttpscvemitreorgcgibincvenamecginamecv fix divis inplac oper cvehttpscvemitreorgcgibincvenamecginamecv fix crash caus integ convers unsign cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr boost tree cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob boost tree cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris incomplet valid quantizev cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris incomplet valid mkl requant cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr raggedtensortovari cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr unicod encod cvehttpscvemitreorgcgibincvenamecginamecv fix fpe tfraw_opsunravelindex cvehttpscvemitreorgcgibincvenamecginamecv fix crash nm op caus integ convers unsign cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob upperbound lowerbound cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr map oper cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob sdcaoptimizerv cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail mapstag cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris incomplet valid maxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr shape infer cvehttpscvemitreorgcgibincvenamecginamecv fix divis convolut oper cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris miss valid shape infer dequant cvehttpscvemitreorgcgibincvenamecginamecv fix arbitrari code execut due yaml deseri cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob nest tfmap_fn raggedtensor cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite cvehttpscvemitreorgcgibincvenamecginamecv fix npe tflite cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris use uniti valu tflite cvehttpscvemitreorgcgibincvenamecginamecv fix fpe tflite divis oper cvehttpscvemitreorgcgibincvenamecginamecv fix fpe tflite pool oper cvehttpscvemitreorgcgibincvenamecginamecv fix infinit loop tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob tflite gather implement cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris null pointer derefer tflite cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris null pointer derefer tflite mlir optim cvehttpscvemitreorgcgibincvenamecginamecv fix fpe lsh tflite cvehttpscvemitreorgcgibincvenamecginamecv fix segfault string tensor mismatch dimens aris go code cvehttpscvemitreorgcgibincvenamecginamecv fix use free potenti segfault shape infer function cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas releas introduc sever vulner fix fix heap bound access spars reduct oper cvehttpscvemitreorgcgibincvenamecginamecv fix float point except sparsedensecwisediv cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer compressel cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer heap oob read aris oper restor tensor cvehttpscvemitreorgcgibincvenamecginamecv fix integ divis spars reshap cvehttpscvemitreorgcgibincvenamecginamecv fix divis resourcescatterdiv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob raggedgath cvehttpscvemitreorgcgibincvenamecginamecv fix stdabort rais tensorlistreserv cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer matrixdiagpartop cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow due convers unsign cvehttpscvemitreorgcgibincvenamecginamecv fix bad alloc error stringngram caus integ convers cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer sparsetensorslicedataset cvehttpscvemitreorgcgibincvenamecginamecv fix incorrect valid savev input cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer uncompressel cvehttpscvemitreorgcgibincvenamecginamecv fix segfault heap buffer overflow experimentaldatasettotfrecord cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow fractionalavgpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix use free boost tree creation cvehttpscvemitreorgcgibincvenamecginamecv fix divis resourcegath cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob check fail resourcegath cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob resourcescatterupd cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr raggedtensortospars cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr matrixdiagv op cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr matrixsetdiagv op cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr heap oob binari cwise op cvehttpscvemitreorgcgibincvenamecginamecv fix divis inplac oper cvehttpscvemitreorgcgibincvenamecginamecv fix crash caus integ convers unsign cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr boost tree cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob boost tree cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris incomplet valid quantizev cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris incomplet valid mkl requant cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr raggedtensortovari cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr unicod encod cvehttpscvemitreorgcgibincvenamecginamecv fix fpe tfraw_opsunravelindex cvehttpscvemitreorgcgibincvenamecginamecv fix crash nm op caus integ convers unsign cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob upperbound lowerbound cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr map oper cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob sdcaoptimizerv cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail mapstag cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris incomplet valid maxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris refer bind nullptr shape infer cvehttpscvemitreorgcgibincvenamecginamecv fix divis convolut oper cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris miss valid shape infer dequant cvehttpscvemitreorgcgibincvenamecginamecv fix arbitrari code execut due yaml deseri cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob nest tfmap_fn raggedtensor cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite cvehttpscvemitreorgcgibincvenamecginamecv fix npe tflite cvehttpscvemitreorgcgibincvenamecginamecv fix vulner aris use uniti valu tflite cvehttpscvemitreorgcgibincvenamecginamecv fix fpe tflite divis oper cvehttpscvemitreorgcgibincvenamecginamecv fix fpe tflite pool oper cvehttpscvemitreorgcgibincvenamecginamecv fix infinit loop tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob tflite gather implement cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris null pointer derefer tflite cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior aris null pointer derefer tflite mlir optim cvehttpscvemitreorgcgibincvenamecginamecv fix fpe lsh tflite cvehttpscvemitreorgcgibincvenamecginamecv fix segfault string tensor mismatch dimens aris go code cvehttpscvemitreorgcgibincvenamecginamecv fix use free potenti segfault shape infer function cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas releas introduc sever vulner fix fix heap buffer overflow raggedbincount cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound write raggedbincount cvehttpscvemitreorgcgibincvenamecginamecv fix type confus tensor cast lead dereferenc null pointer cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind null pointer matrixdiag op cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer via invalid rag tensor cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero convd cvehttpscvemitreorgcgibincvenamecginamecv fix vulner session oper eager mode lead null pointer derefer cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail sparsecross caus type confus cvehttpscvemitreorgcgibincvenamecginamecv fix segfault sparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow convdbackprop cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackprop cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail addmanysparsetotensorsmap cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackpropinput cvehttpscvemitreorgcgibincvenamecginamecv fix divis convd cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedconvd cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedmul cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus invalid valid sparsematrixsparsecholeski cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow caus round cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsencodepng cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read raggedcross cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail drawboundingbox cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedmul cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail sparseconcat cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedresizebilinear cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedreshap cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow stringngram cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer stringngram cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail quantizeanddequantizevgrad cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail ctcgreedydecod cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow sparsetensortocsrsparsematrix cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedbiasadd cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound quantizedbatchnormwithglobalnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedbatchnormwithglobalnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedadd cvehttpscvemitreorgcgibincvenamecginamecv fix divis fractionalavgpool cvehttpscvemitreorgcgibincvenamecginamecv fix oob read matrixtriangularsolv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob quantizeanddequantizev cvehttpscvemitreorgcgibincvenamecginamecv fix checkfailur unsortedsegmentjoin cvehttpscvemitreorgcgibincvenamecginamecv fix divis densecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix divis fusedbatchnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis sparsematmul cvehttpscvemitreorgcgibincvenamecginamecv fix divis revers cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow sparsesplit cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob access unicod op cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail loadandremapmatrix cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsirfft cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsrfft cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer editdist cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer sparsefillemptyrow cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob access dilationdbackpropinput cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind null parameterizedtruncatednorm cvehttpscvemitreorgcgibincvenamecginamecv fix set vulner caus lack valid sparsedensecwisemul cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read maxpoolgradwithargmax cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read requantizationrang cvehttpscvemitreorgcgibincvenamecginamecv fix memori corrupt drawboundingboxesv cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind nullptr sdcaoptim cvehttpscvemitreorgcgibincvenamecginamecv fix overflow denial servic tfraw_opsreversesequ cvehttpscvemitreorgcgibincvenamecginamecv fix divis maxpoolgradwithargmax cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior maxpooldgradgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow maxpooldgradgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow avgpooldgrad cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior checkfail fractionalmaxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow fractionalavgpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow maxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix segfault ctcbeamsearchdecod cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opsdequant cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail due integ overflow cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow undefin behavior fusedbatchnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero pad comput tflite cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero optim pool implement tflite cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement spacetodepth cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement gathernd cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement transposeconv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tflite implement minimum maximum cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer tflite reshap oper cvehttpscvemitreorgcgibincvenamecginamecv fix stack overflow due loop tflite subgraph cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement depthtospac cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite convolut code cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement embeddinglookup cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement batchtospacend cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement spacetobatchnd cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement svdf cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement split cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement onehot cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement depthwiseconv cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement hashtabl lookup cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow tflite concatent cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow tflite memori alloc cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob write tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob null pointer derefer raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparseadd cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparsesparseminimum cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparsereshap cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus invalid valid quantizeanddequantizev cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow bandedtriangularsolv cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid tfraw_opsctcloss cvehttpscvemitreorgcgibincvenamecginamecv fix interpret crash vulner tfiodecode_raw cvehttpscvemitreorgcgibincvenamecginamecv fix stack overflow parseattrvalu nest tensor cvehttpscvemitreorgcgibincvenamecginamecv fix null derefer grappler trysimplifi cvehttpscvemitreorgcgibincvenamecginamecv fix crash tftranspos complex input cvehttpscvemitreorgcgibincvenamecginamecv fix crash tfstringssubstr due checkfail cvehttpscvemitreorgcgibincvenamecginamecv fix segfault tfraw_opssparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix segfault tfraw_opsimmutableconst cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas releas introduc sever vulner fix fix heap buffer overflow raggedbincount cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound write raggedbincount cvehttpscvemitreorgcgibincvenamecginamecv fix type confus tensor cast lead dereferenc null pointer cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind null pointer matrixdiag op cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer via invalid rag tensor cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero convd cvehttpscvemitreorgcgibincvenamecginamecv fix vulner session oper eager mode lead null pointer derefer cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail sparsecross caus type confus cvehttpscvemitreorgcgibincvenamecginamecv fix segfault sparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow convdbackprop cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackprop cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail addmanysparsetotensorsmap cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackpropinput cvehttpscvemitreorgcgibincvenamecginamecv fix divis convd cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedconvd cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedmul cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus invalid valid sparsematrixsparsecholeski cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow caus round cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsencodepng cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read raggedcross cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail drawboundingbox cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedmul cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail sparseconcat cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedresizebilinear cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedreshap cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow stringngram cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer stringngram cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail quantizeanddequantizevgrad cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail ctcgreedydecod cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow sparsetensortocsrsparsematrix cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedbiasadd cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound quantizedbatchnormwithglobalnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedbatchnormwithglobalnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedadd cvehttpscvemitreorgcgibincvenamecginamecv fix divis fractionalavgpool cvehttpscvemitreorgcgibincvenamecginamecv fix oob read matrixtriangularsolv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob quantizeanddequantizev cvehttpscvemitreorgcgibincvenamecginamecv fix checkfailur unsortedsegmentjoin cvehttpscvemitreorgcgibincvenamecginamecv fix divis densecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix divis fusedbatchnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis sparsematmul cvehttpscvemitreorgcgibincvenamecginamecv fix divis revers cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow sparsesplit cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob access unicod op cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail loadandremapmatrix cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsirfft cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsrfft cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer editdist cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer sparsefillemptyrow cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob access dilationdbackpropinput cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind null parameterizedtruncatednorm cvehttpscvemitreorgcgibincvenamecginamecv fix set vulner caus lack valid sparsedensecwisemul cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read maxpoolgradwithargmax cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read requantizationrang cvehttpscvemitreorgcgibincvenamecginamecv fix memori corrupt drawboundingboxesv cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind nullptr sdcaoptim cvehttpscvemitreorgcgibincvenamecginamecv fix overflow denial servic tfraw_opsreversesequ cvehttpscvemitreorgcgibincvenamecginamecv fix divis maxpoolgradwithargmax cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior maxpooldgradgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow maxpooldgradgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow avgpooldgrad cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior checkfail fractionalmaxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow fractionalavgpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow maxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix segfault ctcbeamsearchdecod cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opsdequant cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail due integ overflow cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow undefin behavior fusedbatchnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero pad comput tflite cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero optim pool implement tflite cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement spacetodepth cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement gathernd cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement transposeconv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tflite implement minimum maximum cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer tflite reshap oper cvehttpscvemitreorgcgibincvenamecginamecv fix stack overflow due loop tflite subgraph cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement depthtospac cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite convolut code cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement embeddinglookup cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement batchtospacend cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement spacetobatchnd cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement svdf cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement split cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement onehot cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement depthwiseconv cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement hashtabl lookup cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow tflite concatent cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow tflite memori alloc cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob write tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob null pointer derefer raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparseadd cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparsesparseminimum cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparsereshap cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus invalid valid quantizeanddequantizev cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow bandedtriangularsolv cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid tfraw_opsctcloss cvehttpscvemitreorgcgibincvenamecginamecv fix interpret crash vulner tfiodecode_raw cvehttpscvemitreorgcgibincvenamecginamecv fix stack overflow parseattrvalu nest tensor cvehttpscvemitreorgcgibincvenamecginamecv fix null derefer grappler trysimplifi cvehttpscvemitreorgcgibincvenamecginamecv fix crash tftranspos complex input cvehttpscvemitreorgcgibincvenamecginamecv fix crash tfstringssubstr due checkfail cvehttpscvemitreorgcgibincvenamecginamecv fix segfault tfraw_opssparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix segfault tfraw_opsimmutableconst cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas releas introduc sever vulner fix fix heap buffer overflow raggedbincount cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound write raggedbincount cvehttpscvemitreorgcgibincvenamecginamecv fix type confus tensor cast lead dereferenc null pointer cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind null pointer matrixdiag op cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer via invalid rag tensor cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero convd cvehttpscvemitreorgcgibincvenamecginamecv fix vulner session oper eager mode lead null pointer derefer cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail sparsecross caus type confus cvehttpscvemitreorgcgibincvenamecginamecv fix segfault sparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow convdbackprop cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackprop cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail addmanysparsetotensorsmap cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackpropinput cvehttpscvemitreorgcgibincvenamecginamecv fix divis convd cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedconvd cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedmul cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus invalid valid sparsematrixsparsecholeski cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow caus round cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsencodepng cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read raggedcross cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail drawboundingbox cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedmul cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail sparseconcat cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedresizebilinear cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedreshap cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow stringngram cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer stringngram cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail quantizeanddequantizevgrad cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail ctcgreedydecod cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow sparsetensortocsrsparsematrix cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedbiasadd cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound quantizedbatchnormwithglobalnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedbatchnormwithglobalnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedadd cvehttpscvemitreorgcgibincvenamecginamecv fix divis fractionalavgpool cvehttpscvemitreorgcgibincvenamecginamecv fix oob read matrixtriangularsolv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob quantizeanddequantizev cvehttpscvemitreorgcgibincvenamecginamecv fix checkfailur unsortedsegmentjoin cvehttpscvemitreorgcgibincvenamecginamecv fix divis densecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix divis fusedbatchnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis sparsematmul cvehttpscvemitreorgcgibincvenamecginamecv fix divis revers cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow sparsesplit cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob access unicod op cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail loadandremapmatrix cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsirfft cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsrfft cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer editdist cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer sparsefillemptyrow cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob access dilationdbackpropinput cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind null parameterizedtruncatednorm cvehttpscvemitreorgcgibincvenamecginamecv fix set vulner caus lack valid sparsedensecwisemul cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read maxpoolgradwithargmax cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read requantizationrang cvehttpscvemitreorgcgibincvenamecginamecv fix memori corrupt drawboundingboxesv cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind nullptr sdcaoptim cvehttpscvemitreorgcgibincvenamecginamecv fix overflow denial servic tfraw_opsreversesequ cvehttpscvemitreorgcgibincvenamecginamecv fix divis maxpoolgradwithargmax cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior maxpooldgradgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow maxpooldgradgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow avgpooldgrad cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior checkfail fractionalmaxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow fractionalavgpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow maxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix segfault ctcbeamsearchdecod cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opsdequant cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail due integ overflow cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow undefin behavior fusedbatchnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero pad comput tflite cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero optim pool implement tflite cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement spacetodepth cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement gathernd cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement transposeconv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tflite implement minimum maximum cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer tflite reshap oper cvehttpscvemitreorgcgibincvenamecginamecv fix stack overflow due loop tflite subgraph cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement depthtospac cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite convolut code cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement embeddinglookup cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement batchtospacend cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement spacetobatchnd cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement svdf cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement split cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement onehot cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement depthwiseconv cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement hashtabl lookup cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow tflite concatent cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow tflite memori alloc cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob write tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob null pointer derefer raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparseadd cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparsesparseminimum cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparsereshap cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus invalid valid quantizeanddequantizev cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow bandedtriangularsolv cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid tfraw_opsctcloss cvehttpscvemitreorgcgibincvenamecginamecv fix interpret crash vulner tfiodecode_raw cvehttpscvemitreorgcgibincvenamecginamecv fix stack overflow parseattrvalu nest tensor cvehttpscvemitreorgcgibincvenamecginamecv fix null derefer grappler trysimplifi cvehttpscvemitreorgcgibincvenamecginamecv fix crash tftranspos complex input cvehttpscvemitreorgcgibincvenamecginamecv fix crash tfstringssubstr due checkfail cvehttpscvemitreorgcgibincvenamecginamecv fix segfault tfraw_opssparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix segfault tfraw_opsimmutableconst cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas releas introduc sever vulner fix fix heap buffer overflow raggedbincount cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound write raggedbincount cvehttpscvemitreorgcgibincvenamecginamecv fix type confus tensor cast lead dereferenc null pointer cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind null pointer matrixdiag op cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer via invalid rag tensor cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero convd cvehttpscvemitreorgcgibincvenamecginamecv fix vulner session oper eager mode lead null pointer derefer cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail sparsecross caus type confus cvehttpscvemitreorgcgibincvenamecginamecv fix segfault sparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow convdbackprop cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackprop cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail addmanysparsetotensorsmap cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackpropinput cvehttpscvemitreorgcgibincvenamecginamecv fix divis convd cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedconvd cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedmul cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus invalid valid sparsematrixsparsecholeski cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow caus round cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsencodepng cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read raggedcross cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail drawboundingbox cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedmul cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail sparseconcat cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedresizebilinear cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedreshap cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow stringngram cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer stringngram cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail quantizeanddequantizevgrad cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail ctcgreedydecod cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow sparsetensortocsrsparsematrix cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedbiasadd cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound quantizedbatchnormwithglobalnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedbatchnormwithglobalnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedadd cvehttpscvemitreorgcgibincvenamecginamecv fix divis fractionalavgpool cvehttpscvemitreorgcgibincvenamecginamecv fix oob read matrixtriangularsolv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob quantizeanddequantizev cvehttpscvemitreorgcgibincvenamecginamecv fix checkfailur unsortedsegmentjoin cvehttpscvemitreorgcgibincvenamecginamecv fix divis densecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix divis fusedbatchnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis sparsematmul cvehttpscvemitreorgcgibincvenamecginamecv fix divis revers cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow sparsesplit cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob access unicod op cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail loadandremapmatrix cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsirfft cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsrfft cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer editdist cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer sparsefillemptyrow cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob access dilationdbackpropinput cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind null parameterizedtruncatednorm cvehttpscvemitreorgcgibincvenamecginamecv fix set vulner caus lack valid sparsedensecwisemul cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read maxpoolgradwithargmax cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read requantizationrang cvehttpscvemitreorgcgibincvenamecginamecv fix memori corrupt drawboundingboxesv cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind nullptr sdcaoptim cvehttpscvemitreorgcgibincvenamecginamecv fix overflow denial servic tfraw_opsreversesequ cvehttpscvemitreorgcgibincvenamecginamecv fix divis maxpoolgradwithargmax cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior maxpooldgradgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow maxpooldgradgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow avgpooldgrad cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior checkfail fractionalmaxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow fractionalavgpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow maxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix segfault ctcbeamsearchdecod cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opsdequant cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail due integ overflow cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow undefin behavior fusedbatchnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero pad comput tflite cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero optim pool implement tflite cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement spacetodepth cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement gathernd cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement transposeconv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tflite implement minimum maximum cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer tflite reshap oper cvehttpscvemitreorgcgibincvenamecginamecv fix stack overflow due loop tflite subgraph cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement depthtospac cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite convolut code cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement embeddinglookup cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement batchtospacend cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement spacetobatchnd cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement svdf cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement split cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement onehot cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement depthwiseconv cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement hashtabl lookup cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow tflite concatent cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow tflite memori alloc cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob write tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob null pointer derefer raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparseadd cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparsesparseminimum cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparsereshap cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus invalid valid quantizeanddequantizev cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow bandedtriangularsolv cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid tfraw_opsctcloss cvehttpscvemitreorgcgibincvenamecginamecv fix interpret crash vulner tfiodecode_raw cvehttpscvemitreorgcgibincvenamecginamecv fix stack overflow parseattrvalu nest tensor cvehttpscvemitreorgcgibincvenamecginamecv fix null derefer grappler trysimplifi cvehttpscvemitreorgcgibincvenamecginamecv fix crash tftranspos complex input cvehttpscvemitreorgcgibincvenamecginamecv fix crash tfstringssubstr due checkfail cvehttpscvemitreorgcgibincvenamecginamecv fix segfault tfraw_opssparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix segfault tfraw_opsimmutableconst cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas major featur improv support python ad tfdata tfdata servic support strict roundrobin read use synchron train workload exampl size vari strict round robin read user guarante consum get similars exampl step tfdata servic support option compress previous data would alway compress disabl compress pass compressionnon tfdataexperimentalservicedistribut tfdatadatasetbatch support num_parallel_cal determinist argument num_parallel_cal use indic multipl input batch comput parallel num_parallel_cal set determinist use indic output obtain nondeterminist order option return tfdatadatasetopt longer mutabl tfdata input pipelin execut debug mode disabl asynchroni parallel nondetermin forc python execut oppos tracecompil graph execut userdefin function pass transform map debug mode enabl tfdataexperimentalenable_debug_mod tflite enabl new mlirbas quantiz backend default new backend use bit full integ posttrain quantiz new backend remov redund rescal fix bug share weightbia extrem small scale etc set experimental_new_quant tflitetfliteconvert fals disabl chang tfkera tfkerasmetricsauc support logit predict enabl new support input type modelfit tfkerasutilsexperimentaldatasetcr take callabl dataset_fn datasetcr intend work across tfdistribut strategi input type support paramet server strategi tfdistribut tfdistributeexperimentalparameterserverstrategi support train kera modelfit use datasetcr creat tfrandomgener tfdistributestrategi scope allow except tfdistributeexperimentalcentralstoragestrategi tfdistributeexperimentalparameterserverstrategi differ replica get differ randomnumb stream tpu embed support ad profile_data_directori embeddingconfigspec _tpu_estimator_embeddingpi allow embed lookup statist gather runtim use embed layer partit decis pluggabledevic thirdparti devic connect tensorflow plugin streamexecutor c apihttpsgithubcomtensorflowcommunityblobmasterrfcsstreamexecutorcapimd pluggabledevicehttpsgithubcomtensorflowcommunityblobmasterrfcspluggabledevicefortensorflowmd interfac add custom op kernel kernel op registr c apihttpsgithubcomtensorflowcommunityblobmasterrfcskernelandopregistrationmd regist custom graph optim pass graph optim c apihttpsgithubcomtensorflowcommunityblobmasterrfcsmodulartensorflowgraphcapimd oneapi deep neural network librari onednnhttpsgithubcomoneapisrconednn cpu perform optim inteloptim tensorflowhttpssoftwareintelcomcontentwwwusendeveloparticlesinteloptimizationfortensorflowinstallationguidehtml avail offici x linux window build default enabl set environ variabl tf_enable_onednn_opt recommend use gpu system suffici test gpu yet tensorflow pip packag built cuda cudnn break chang tf_cpp_min_vlog_level environ variabl renam tf_cpp_max_vlog_level correctli describ effect bug fix chang tfkera preprocess layer api consist chang stringlookup ad output_mod spars pad_to_max_token argument semant textvector integerlookup ad output_mod spars pad_to_max_token argument semant textvector renam max_valu oov_valu mask_valu max_token oov_token mask_token align stringlookup textvector textvector default pad_to_max_token switch fals categoryencod longer support adapt integerlookup support equival function max_token argument renam num_token discret ad num_bin argument learn bin boundari call adapt dataset renam bin argument bin_boundari specifi bin without adapt improv model savingload modelload_weight accept path save model kera input creat directli arbitrari tftypespec two new learn rate schedul ad tfkerasoptimizersschedulescosinedecay andtfkerasoptimizersschedulescosinedecayrestart tfdata expos tfdataexperimentalexternalstatepolici use control extern state handl dataset serial iter checkpoint chang tfdataexperimentalsav store type specif dataset element avoid need explicitli specifi element_spec argument tfdataexperimentalload load previous save dataset add element_spec properti tfdatadatasetspec access inner spec use extract structur nest dataset add tfdataexperimentalautoshardingpolicyhint use provid hint tfdistributebas autoshard input pipelin insert shard transform make tfdataopt persist across tffunction graphdef boundari xla compil tffunctionexperimental_compiletru becom stabl api renam tffunctionjit_compiletru xla compil mirroredstrategi step function pass tostrategyrun annot jit_compiletru tfdistribut renam experimental_prefetch_to_devic tfdistributeinputopt experimental_fetch_to_devic better reflect purpos tflite class tflitesubgraph remov tensor method nonconst overload nodes_and_registr method previous document temporari remov use tensor replac call exist method tensors_s tensorint use nonconst overload nodes_and_registr replac call exist method nodes_s context call getnodeandregistr method tflitecontext return context nnapi remov deprec interpreterusennapibool c api use nnapideleg relat deleg configur method directli replac model cach key model comput algorithm one guarante stabl across run bit quantiz ad intx support ab reduce_max reduce_min oper addit test fix add sub oper ad support save model session initi tfliteconverterfrom_saved_model ad depth_to_spac support post train quantiz ad dynam rang quantiz support batchmatmul op symmetr asymmetr quantiz input tensor support add rfftd builtin op rfftd also support rfftd current support float input add support slice op tflite support singaturedef tfliteconvert export model signaturedef interpret support get list signatur get callabl function given signaturedef add int support reshapev add experiment support optim sparsiti add nomin support unsign bit integ tensor type note tflite kernel support type nativ use mobil ml author gener discourag add support static hash tabl tfliteconverterfrom_saved_model python tf lite interpret bind option experimental_preserve_all_tensor aid debug convers quantiz x execut default ruy gemm librari platform avx support deprec tfcompatvliteexperimentalget_potentially_supported_op use tflitetfliteconvert directli check whether model convert add support select one three differ builtin op resolv enabl post train calibr model requir user provid tensorflow lite custom op librari via convertertarget_spec_experimental_custom_op_register use python interpret api tf core correct higherord gradient control flow construct tfcond tfwhile_loop composit like tffoldl comput tfgradienttap insid tffunction chang default step size gradient_checker_vcompute_gradi exactli represent binari float point number avoid polut gradient approxim needlessli case lead fals neg op gradient test ad tfconfigexperimentalget_memory_info return dict current peak memori usag deprec tfconfigexperimentalget_memory_usag favor new function extend tfconfigexperimentalenable_tensor_float__execut control tensorfloat evalu rnn ad experimental_payload field tferrorsoperror subclass support detail error report inspir abseil statu payload httpsgithubcomabseilabseilcppblobmasterabslstatusstatush tfsummari new tfsummarygraph allow manual write tensorflow graph tfgraph tfcompatvgraphdef summari replac tracebas api set dreducedoptimizehugefunct default window build provid big compiletim speedup effect rais minimum support msvc version current see httpsgroupsgooglecomatensorfloworgdtopicbuildssweolodiscuss tensorrt remov deprec session_config paramet tftrt convert trtgraphconvert previous issu warn valu paramet none tftrt convert trtgraphconverterv take object class trtconversionparam paramet remov three deprec field class rewriter_config_templ is_dynamic_op max_batch_s previous issu warn valu rewriter_config_templ none issu error valu is_dynamic_op true didnt use valu max_batch_s build tensorrt engin add paramet use_dynamic_shap enabl dynam shape support default disabl dynam shape support add dynamic_shape_profile_strategi select dynam shape profil strategi default profil strategi rang issu warn function get_tensorrt_rewriter_config use tf xla add new enum valu mlir_bridge_rollout_safe_mode_en tfconfigexperimentalmlir_bridge_rollout enabl safe mode run mlir bridg analysi graph analysi graph determin safe run add new enum valu mlir_bridge_rollout_safe_mode_fallback_en totfconfigexperimentalmlir_bridge_rollout enabl fallback mlir bridg safe mode run mlir bridg fallbacken mode analysi graph determin graph unsupport featur determinist op function add determinismunimpl exceptionthrow segmentsum op environ variabl tf_deterministic_op set true opdetermin expect attempt run follow op gpu throw tferrorsunimplementederror understand messag data floatingpoint type includ complex type support tfmathsegment_prod tfmathsegment_sum tfmathunsorted_segment_mean tfmathunsorted_segment_sqrt_n tfmathunsorted_segment_prod tfmathunsorted_segment_sum therefor also tfconvert_to_tensor valu type tfindexedslic back prop though tfgather dens embed see issu httpsgithubcomtensorflowtensorflowissu chang address solv exceptionthrow behavior disabl set environ variabl tf_disable_segment_reduction_op_determinism_except true inform chang see descript pull request httpsgithubcomtensorflowtensorflowpul previou version tensorflow gpu avail tfsparsesparse_dense_matmul introduc truli random nois forward path data type tffloat data type tffloat gpu implement current releas gpu support floatingpoint type tffloat tffloat tfcomplex tfcomplex ad op reli determin tffloat cpu implement automat select absenc tffloat gpu implement either need forc op run cpu use differ data type secur fix heap buffer overflow raggedbincount cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound write raggedbincount cvehttpscvemitreorgcgibincvenamecginamecv fix type confus tensor cast lead dereferenc null pointer cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind null pointer matrixdiag op cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer via invalid rag tensor cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero convd cvehttpscvemitreorgcgibincvenamecginamecv fix vulner session oper eager mode lead null pointer derefer cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail sparsecross caus type confus cvehttpscvemitreorgcgibincvenamecginamecv fix segfault sparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow convdbackprop cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackprop cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail addmanysparsetotensorsmap cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix divis convdbackpropinput cvehttpscvemitreorgcgibincvenamecginamecv fix divis convd cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedconvd cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedmul cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus invalid valid sparsematrixsparsecholeski cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow caus round cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsencodepng cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read raggedcross cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail drawboundingbox cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedmul cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail sparseconcat cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedresizebilinear cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow quantizedreshap cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow convdbackpropfilt cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow stringngram cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer stringngram cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail quantizeanddequantizevgrad cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail ctcgreedydecod cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow sparsetensortocsrsparsematrix cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedbiasadd cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound quantizedbatchnormwithglobalnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedbatchnormwithglobalnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis quantizedadd cvehttpscvemitreorgcgibincvenamecginamecv fix divis fractionalavgpool cvehttpscvemitreorgcgibincvenamecginamecv fix oob read matrixtriangularsolv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob quantizeanddequantizev cvehttpscvemitreorgcgibincvenamecginamecv fix checkfailur unsortedsegmentjoin cvehttpscvemitreorgcgibincvenamecginamecv fix divis densecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix divis fusedbatchnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis sparsematmul cvehttpscvemitreorgcgibincvenamecginamecv fix divis revers cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow sparsesplit cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob access unicod op cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail loadandremapmatrix cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsirfft cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail tfraw_opsrfft cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer editdist cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer sparsefillemptyrow cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob access dilationdbackpropinput cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind null parameterizedtruncatednorm cvehttpscvemitreorgcgibincvenamecginamecv fix set vulner caus lack valid sparsedensecwisemul cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read maxpoolgradwithargmax cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound read requantizationrang cvehttpscvemitreorgcgibincvenamecginamecv fix memori corrupt drawboundingboxesv cvehttpscvemitreorgcgibincvenamecginamecv fix refer bind nullptr sdcaoptim cvehttpscvemitreorgcgibincvenamecginamecv fix overflow denial servic tfraw_opsreversesequ cvehttpscvemitreorgcgibincvenamecginamecv fix divis maxpoolgradwithargmax cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior maxpooldgradgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow maxpooldgradgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow avgpooldgrad cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior checkfail fractionalmaxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow fractionalavgpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow maxpoolgrad cvehttpscvemitreorgcgibincvenamecginamecv fix segfault ctcbeamsearchdecod cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tfraw_opsdequant cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail due integ overflow cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow undefin behavior fusedbatchnorm cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero pad comput tflite cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero optim pool implement tflite cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement spacetodepth cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement gathernd cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement transposeconv cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tflite implement minimum maximum cvehttpscvemitreorgcgibincvenamecginamecv fix null pointer derefer tflite reshap oper cvehttpscvemitreorgcgibincvenamecginamecv fix stack overflow due loop tflite subgraph cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement depthtospac cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite convolut code cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement embeddinglookup cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement batchtospacend cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement spacetobatchnd cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement svdf cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement split cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement onehot cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement depthwiseconv cvehttpscvemitreorgcgibincvenamecginamecv fix divis zero tflite implement hashtabl lookup cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow tflite concatent cvehttpscvemitreorgcgibincvenamecginamecv fix integ overflow tflite memori alloc cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob write tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob read tflite cvehttpscvemitreorgcgibincvenamecginamecv fix heap oob null pointer derefer raggedtensortotensor cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparseadd cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparsesparseminimum cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid sparsereshap cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus invalid valid quantizeanddequantizev cvehttpscvemitreorgcgibincvenamecginamecv fix heap buffer overflow bandedtriangularsolv cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus incomplet valid tfraw_opsctcloss cvehttpscvemitreorgcgibincvenamecginamecv fix interpret crash vulner tfiodecode_raw cvehttpscvemitreorgcgibincvenamecginamecv fix stack overflow parseattrvalu nest tensor cvehttpscvemitreorgcgibincvenamecginamecv fix null derefer grappler trysimplifi cvehttpscvemitreorgcgibincvenamecginamecv fix crash tftranspos complex input cvehttpscvemitreorgcgibincvenamecginamecv fix crash tfstringssubstr due checkfail cvehttpscvemitreorgcgibincvenamecginamecv fix segfault tfraw_opssparsecountsparseoutput cvehttpscvemitreorgcgibincvenamecginamecv fix segfault tfraw_opsimmutableconst cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv ad show_debug_info mlirconvert_graph_def mlirconvert_funct ad arm comput librari aclhttpsgithubcomarmsoftwarecomputelibrari support configmkl_aarch build thank contributor releas contain contribut mani peopl googl well bitmp aaron mondal abhilash mahendrakar abhinav upadhyay abhishek kulkarni abolfazl shahbazi adam hillier aditya kane ag ramesh ahmedsabi albert villanova del moral aleksey vitebskiy alex hoffman alexand bayandin alfi edward aman kishor amogh joshi andreabbau andrew goodbodi andrzej pomirski artemiy ryabinkov ashish jha ather ayan moitra bairen yi bart ribber ba aart behzad abghari ben arnao ben barsdel benjamin klimczak bhack brendan collin wang cheng ren chri leari chri olivi clemen giuliani cloud han corey cole cui yifeng cuong v nguyen daniel moor dawid wojciechowski ddavi dean wyatt denisa robert dependabotbot dmitri volodin domin jack duncan riach dushuai elena zhelezina eli osherovich erik smistad ewsn felix fent fo franoi chollet freder bastien freedom koansin tan fsx ganand gbane georgiy manuilov gerbauz guillaum klein guozhong zhuang harri slatyer harsh henri henri woodcock hiran sarkar hollow man hkon sandsmark wayan dharmana icysapphir ikko ashimin jab hofmeier jack hessel jacob valdez jakub jatczak jame bernardi jare smolen jason zaman jedlimlx jenni plunkett jen elofsson jerri shih jgehw jia fu low jim fisher jpodivin julien stephan jungsub lim junha park junhyuk justkw kaixi hou kashyaprav kasra bigd kazuaki ishizaki keith mok kevin cheng kopytjuk kristian hartikainen ksood kulin seth kushanam latya lequn chen lesliefang long lu luka geiger machineko mahmoud abuzaina manish mao yunfei maozhou ge marcin juszkiewicz marcin owsiani marconi jiang marco pereira maria romanenko vexlard maria vexlard mariu brehler marload martin kubovk matej mateusz holenko maxiwel garcia mazhar mazharul mbhuiyan mdfaijul michael gielda michael kuchnik michal szutenberg mikhail stepanov milan straka mitchel humpheri moham moselhi moham nour abouelseoud mn bermel mn nilsson nathan luehr nico jahn niroop ammbashankar oceania omri steiner orivej desh oskar flordal oujiafan patrik laurel paul b isaac paul klinger pawel piskorski pedro marqu phat tran piotr zierhoff piyushdatta pnikamcad prashant kumar prateek gupta pratsbhatt pravin karandikar qqqjq qq quintin rama ketineni ravikyram rehan guha rhdong rmothukuru roger cheng rohit santhanam rpost rsanthanamamd rsun rsunbdti ryan kuester ryank saduf sami kama samuel mark scott tseng sean moriar sergey popov sergii khomenko sheng yang shwetaoj sidongwei simon maurer simrit kaur srini srinivasan narayanamoorthi stephan stephen matthew sungmann cho sunoru suraj sudhir suraj upadhyay taebum kim takayoshi koizumi tama bela feher teng lu thibaut goetghebuerplanchon tomwildenhainmicrosoft toni traun leyden trent lo tvlignaci tzuwei sung vaibhav vignesh kothap vikram dattu viktprog vinayaka bandishti vincent abriou vishakha agraw vivek panyam vladimir silyaev v vn ngha wamuir wang yanzhang wangsiyu waqar hame wxinix xiao yang xiaohong xiaom jason cui xinan jiang yair ehrenwald yajush vya yasir modak yimei sun yong tang yosshi youshenmebutuo yqtianust yuan tang yuanbopeng yuriy chernyshov yuta fukasawa zachari deanemay zeno gantner zhoulong jiang zhuyi zilinzhu  releas releas remov avx requir tf releas bug fix chang fix access uniti memori eigen code cvehttpscvemitreorgcgibincvenamecginamecv fix secur vulner caus lack valid tfraw_opsdataformatvecpermut tfraw_opsdataformatdimmap cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus attempt write immut memori region tfraw_opsimmutableconst cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail lstm zerolength input cvehttpscvemitreorgcgibincvenamecginamecv fix secur vulner caus access heap data outsid bound load special craft savedmodel cvehttpscvemitreorgcgibincvenamecginamecv solv oom issu tpu xla context use fuse averag updat updat libjpegturbo handl cvehttpscvemitreorgcgibincvenamecginamecv updat junit handl cvehttpscvemitreorgcgibincvenamecginamecv updat pcre handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat sqlite keep sync master branch releas bug fix chang fix access uniti memori eigen code cvehttpscvemitreorgcgibincvenamecginamecv fix secur vulner caus lack valid tfraw_opsdataformatvecpermut tfraw_opsdataformatdimmap cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus attempt write immut memori region tfraw_opsimmutableconst cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail lstm zerolength input cvehttpscvemitreorgcgibincvenamecginamecv fix secur vulner caus access heap data outsid bound load special craft savedmodel cvehttpscvemitreorgcgibincvenamecginamecv prevent memori leak load savedmodel import function updat libjpegturbo handl cvehttpscvemitreorgcgibincvenamecginamecv updat junit handl cvehttpscvemitreorgcgibincvenamecginamecv updat pcre handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat sqlite keep sync master branch releas bug fix chang fix access uniti memori eigen code cvehttpscvemitreorgcgibincvenamecginamecv fix secur vulner caus lack valid tfraw_opsdataformatvecpermut tfraw_opsdataformatdimmap cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus attempt write immut memori region tfraw_opsimmutableconst cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail lstm zerolength input cvehttpscvemitreorgcgibincvenamecginamecv fix secur vulner caus access heap data outsid bound load special craft savedmodel cvehttpscvemitreorgcgibincvenamecginamecv updat libjpegturbo handl cvehttpscvemitreorgcgibincvenamecginamecv updat junit handl cvehttpscvemitreorgcgibincvenamecginamecv updat pcre handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat sqlite keep sync master branch newer rocm version support branch releas note last patch releas tensorflow x seri bug fix chang fix access uniti memori eigen code cvehttpscvemitreorgcgibincvenamecginamecv fix secur vulner caus lack valid tfraw_opsdataformatvecpermut tfraw_opsdataformatdimmap cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus attempt write immut memori region tfraw_opsimmutableconst cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail lstm zerolength input cvehttpscvemitreorgcgibincvenamecginamecv fix secur vulner caus access heap data outsid bound load special craft savedmodel cvehttpscvemitreorgcgibincvenamecginamecv updat libjpegturbo handl cvehttpscvemitreorgcgibincvenamecginamecv updat junit handl cvehttpscvemitreorgcgibincvenamecginamecv updat pcre handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat sqlite keep sync master branch releas note last patch releas tensorflow x seri bug fix chang fix access uniti memori eigen code cvehttpscvemitreorgcgibincvenamecginamecv fix secur vulner caus lack valid tfraw_opsdataformatvecpermut tfraw_opsdataformatdimmap cvehttpscvemitreorgcgibincvenamecginamecv fix vulner caus attempt write immut memori region tfraw_opsimmutableconst cvehttpscvemitreorgcgibincvenamecginamecv fix checkfail lstm zerolength input cvehttpscvemitreorgcgibincvenamecginamecv fix secur vulner caus access heap data outsid bound load special craft savedmodel cvehttpscvemitreorgcgibincvenamecginamecv updat libjpegturbo handl cvehttpscvemitreorgcgibincvenamecginamecv updat junit handl cvehttpscvemitreorgcgibincvenamecginamecv updat pcre handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat sqlite keep sync master branch releas major featur improv tfdistribut introduc experiment support asynchron train model via tfdistributeexperimentalparameterserverstrategi httpswwwtensorfloworgapi_docspythontfdistributeexperimentalparameterserverstrategi api pleas see tutorialhttpswwwtensorfloworgtutorialsdistributeparameter_server_train learn multiworkermirroredstrategyhttpswwwtensorfloworgapi_docspythontfdistributemultiworkermirroredstrategi stabl api longer consid experiment major improv involv handl peer failur mani bug fix pleas check detail tutori multiwork train kera httpswwwtensorfloworgtutorialsdistributemulti_worker_with_kera introduc experiment support new modul name tfexperimentalnumpi httpswwwtensorfloworgapi_docspythontfexperimentalnumpi numpycompat api write tf program see detail guid httpswwwtensorfloworgguidetf_numpi learn addit detail add support tensorfloathttpsblogsnvidiacomblogtensorfloatprecisionformat amper base gpu tensorfloat tf short math mode nvidia amper base gpu enabl default major refactor intern kera function api complet improv reliabl stabil perform construct function model kera mix precis api tfkerasmixed_precis httpswwwtensorfloworgapi_docspythontfkerasmixed_precisionversionnightli longer experiment allow use bit float point format train improv perform x gpu tpu pleas see addit detail tensorflow profil support profil multiworkermirroredstrategi trace multipl worker use sampl mode api httpswwwtensorfloworgguideprofilerprofiling_api tflite profil android avail see detail guid httpswwwtensorfloworgliteperformancemeasurementtrace_tensorflow_lite_internals_in_android learn tensorflow pip packag built cuda cudnn break chang tf core certain float op run lower precis amper base gpu includ matmul convolut due use tensorfloat httpsblogsnvidiacomblogtensorfloatprecisionformat specif input op round bit precis bit precis unlik caus issu practic deep learn model case tensorfloat also use complex op tensorfloat disabl run tfconfigexperimentalenable_tensor_float__executionfals byte layout string tensor across capi updat match tf corec ie contigu array tensorflowtstringtf_tstr capi function tf_stringdecod tf_stringencod tf_stringencodeds longer relev remov see coreplatformctstringh string accessmodif c tensorflowpython tensorflowcor tensorflowcompil modul hidden modul part tensorflow public api tfraw_opsmax tfraw_opsmin longer accept input type tfcomplex tfcomplex behavior op well defin complex type xlacpu xlagpu devic longer regist default use tf_xla_flagstf_xla_enable_xla_devic realli need flag eventu remov subsequ releas tfkera steps_per_execut argument modelcompil longer experiment pass experimental_steps_per_execut renam steps_per_execut code argument control number batch run tffunction call call modelfit run multipl batch insid singl tffunction call greatli improv perform tpu small model larg python overhead major refactor intern kera function api may affect code reli certain intern detail code use isinstancex tftensor instead tfis_tensor check kera symbol inputsoutput switch use tfis_tensor code overli depend exact name attach symbol tensor eg assum end input treat name uniqu identifi instead use tensorref etc may break code use full path get_concrete_funct trace kera symbol input directli switch build match tftensorspec directli trace tensorspec object code reli exact number name op layer tensorflow oper convert may chang code use tfmap_fntfcondtfwhile_loopcontrol flow op layer happen work tf explicitli unsupport convert op function api op layer unreli tf prone error incomprehens silent buggi code directli assert kera symbol valu case op like tfrank use return static symbol valu depend input fulli static shape op alway return symbol valu code alreadi suscept leak tensor outsid graph becom slightli like code tri directli get gradient respect symbol kera inputsoutput use gradienttap actual tensor pass alreadyconstruct model instead code requir tricki shape manipul via convert op layer order work kera symbol shape infer prove insuffici code tri manual walk tfkerasmodel layer layer assum layer ever one posit argument assumpt doesnt hold true tf either like caus issu code manual enter kerasbackendget_graph build function model longer need start enforc input shape assumpt call function api kera model may potenti break user case mismatch shape use creat input object function model shape data pass model fix mismatch either call model correctlyshap data relax input shape assumpt note pass shape none entri axe meant dynam also disabl input check entir set modelinput_spec none sever chang made tfkerasmixed_precisionexperiment note recommend use nonexperiment tfkerasmixed_precis api autocastvariabledtyp refer actual variabl dtype dtype cast mix precis enabl tfkeraslayersembed output float bfloat tensor instead float tensor properti tfkerasmixed_precisionexperimentallossscaleoptimizerloss_scal tensor lossscal object mean get loss scale lossscaleoptim tensor must call optloss_scaleinstead optloss_scal properti should_cast_vari remov tfkerasmixed_precisionexperimentalpolici pass tfmixed_precisionexperimentaldynamiclossscal tfkerasmixed_precisionexperimentallossscaleoptim dynamiclossscal multipli must pass tfmixed_precisionexperimentaldynamiclossscal tfkerasmixed_precisionexperimentallossscaleoptim weight dynanmiclossscal copi lossscaleoptim instead reus mean modifi weight dynamiclossscal longer affect weight lossscaleoptim vice versa global polici longer set nonfloat point polici tfkerasmixed_precisionexperimentalset_polici layercal autocastvari longer cast within mirroredstrategyrun replicacontextmerge_cal thread local variabl use determin whether autocastvari cast two function run differ thread note appli one two function call within layercal one two function call layercal autocastvari still cast tfdata tfdataexperimentalservicedispatchserv take config tupl instead individu argument usag updat tfdataexperimentalservicedispatchserverdispatcher_config tfdataexperimentalserviceworkerserv take config tupl instead individu argument usag updat tfdataexperimentalserviceworkerserverworker_config tfdistribut remov tfdistributestrategyexperimental_make_numpy_dataset pleas use tfdatadatasetfrom_tensor_slic instead renam experimental_hint tfdistributestrategyextendedreduce_to tfdistributestrategyextendedbatch_reduce_to tfdistributereplicacontextall_reduc option renam tfdistributeexperimentalcollectivehint tfdistributeexperimentalcommunicationopt renam tfdistributeexperimentalcollectivecommun tfdistributeexperimentalcommunicationimplement renam tfdistributestrategyexperimental_distribute_datasets_from_funct distribute_datasets_from_funct longer experiment remov tfdistributestrategyexperimental_run_v method deprec tf tflite tfquantizationquantize_and_dequantize_v introduc updat gradient definit quantiz outsid rang simul v behavior tfquantizationquantize_and_dequant use tfgrad_pass_throughtfquantizationquantize_and_dequantize_v build tensorflow window platform build tensorflow window msvc built coptexperimentalpreprocessor host_coptexperimentalpreprocessor see bazelrc detail build includ tensorflow may fail unexpect syntax error flag absent see also thread sig buildhttpsgroupsgooglecomatensorfloworggbuildclbawrilvtgmttnuhyubgaj known caveat tfkerasmixed_precis use mix precis call rmspropapply_gradi nadamapply_gradi outsid tffunction work rais attributeerror tensorop meaningless eager execut enabl see issuehttpsgithubcomtensorflowtensorflowissu detail workaround bug fix chang tf core introduc experiment support new modul name tfexperimentalnumpi httpswwwtensorfloworgapi_docspythontfexperimentalnumpi numpycompat api write tf program modul provid class ndarray mimic ndarray class numpi wrap immut tftensor hood subset numpi function eg numpyadd provid interoper tf facil seamless case see tensorflowpythonopsnumpy_opsreadmemdhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonopsnumpy_opsreadmemd detail oper support differ numpi tftypesexperimentaltensorlik new union type use type annot variabl repres tensor valu convert tensor tfconvert_to_tensor call op python constant numpi valu consist tfconvert_to_tensor behavior avoid oper like tfreshap truncat input int int add tfsparsemap_valu appli function valu sparsetensor argument python bitwis oper tensor __and__ __or__ __xor__ __invert__ support nonbool argument appli correspond bitwis op bool argument continu support dispatch logic op bring line python numpi behavior add tfsparsetensorwith_valu return new sparsetensor sparsiti pattern new provid valu similar with_valu function raggedtensor add statelesscas op use none case branch state op add tfconfigexperimentalget_memory_usag return total memori usag devic add gradient raggedtensortovari raggedtensorfromvari improv shape infer nest function call support constant fold across arg node make static valu avail shape infer function tfdebug tfdebuggingassert_shap work sparsetensor fix httpsgithubcomtensorflowtensorflowissu gpu add support tensorfloathttpsblogsnvidiacomblogtensorfloatprecisionformat amper base gpustensorfloat tf short math mode nvidia amper base gpu caus certain float op matrix multipl convolut run much faster amper gpu reduc precis reduc precis found effect converg qualiti deep learn model practic tensorfloat enabl default disabl tfconfigexperimentalenable_tensor_float__execut tfmath add tfmatherfcinv invers tfmatherfc tfnn tfnnmax_poold support explicit pad tfimag add determinist tfimagestateless_random_ function tfimagerandom_ function ad new op stateless_sample_distorted_bounding_box determinist version sample_distorted_bounding_box op given seed stateless functionsop produc result independ mani time function call independ global seed set add determinist tfimageres backprop cuda kernel methodresizemethodbilinear default method enabl set environ variabl tf_deterministic_op true tfprint bug fix tfprint ordereddict ordereddict didnt key sort key valu print accord correct map tftraincheckpoint accept root argument initi gener checkpoint root object allow user creat checkpoint object compat kera modelsave_weight modelload_weight checkpoint also compat checkpoint save variabl folder savedmodel restor save_path path savedmodel function automat find checkpoint savedmodel tfdata add new tfdataexperimentalserviceregister_dataset tfdataexperimentalservicefrom_dataset_id api enabl one process regist dataset tfdata servic anoth process consum data dataset add support dispatch fault toler enabl fault toler configur work_dir run dispatch server set dispatcher_fault_tolerancetru dispatch store state work_dir restart continu previou state restart add support share dataset graph via share filesystem instead rpc reduc load dispatch improv perform distribut dataset work dispatch work_dir must access worker worker fail read work_dir fall back use rpc dataset graph transfer add support new distributed_epoch process mode process mode distribut dataset across tfdata worker instead worker process full dataset see tfdata servic docshttpswwwtensorfloworgapi_docspythontfdataexperimentalserviceunderstand_processing_mod learn add option exclude_col paramet csvdataset paramet complement select_col one specifi implement optim reorder datadiscard transform take shard happen earlier dataset safe optim disabl via experimental_optimizationreorder_data_discarding_op dataset option tfdataopt previous immut overridden tfdatadatasetfrom_gener support rag spars tensor new output_signatur argument allow from_gener produc type describ tftypespec tfdataexperimentalautotun avail core api tfdataautotun tfdistribut introduc experiment support asynchron train model via tfdistributeexperimentalparameterserverstrategi replac exist tfdistributeexperimentalparameterserverstrategi symbol new class paramet server train tf usag old symbol usual estim api replac tfcompatvdistributeexperimentalparameterserverstrategi ad tfdistributeexperimentalcoordin namespac includ main api clustercoordin coordin train cluster relat data structur remotevalu perworkervalu multiworkermirroredstrategyhttpswwwtensorfloworgapi_docspythontfdistributemultiworkermirroredstrategi stabl api longer consid experiment major improv involv handl peer failur mani bug fix pleas check detail tutori multiwor train kerashttpswwwtensorfloworgtutorialsdistributemulti_worker_with_kera add tfdistributestrategygath tfdistributereplicacontextall_gath api support gather dens distribut valu fix variou issu save distribut model tfkera improv function api refactor function model construct need maintain global workspac graph remov memori leak especi build mani model larg model function model construct faster averag function model contain nonsymbol valu call input insid first posit argument sever class tf op reliabl convert kera layer function api construct work egtfimagessim_multiscal error messag function api construct goe wrong op convert kera layer automat clearer easier understand optimizerminim accept loss tensor gradienttap altern accept callabl loss add beta hyperparamet ftrlhttpswwwtensorfloworgapi_docspythontfkerasoptimizersftrl optim class kera other match ftrl paperhttpsresearchgooglecompubsarchivepdf optimizer__init__ accept gradient_aggreg allow custom gradient aggreg across devic well gradients_transform allow custom gradient transform gradient clip improv kera preprocess layer textvector accept vocabulari list file init arg normal accept mean varianc valu init arg attent additiveattent layer call method accept return_attention_scor argument set true layer return attent score addit output argument add tfmetricslog_cosh tfmetricslogcosh api entrypoint implement tfloss equival kera model individu call modelevalu use cach data evalu modelfit use cach data validation_data arg provid better perform add save_trac argument modelsav tfkerasmodelssave_model determin whether savedmodel format store kera modellay call function trace function allow kera reviv custom model layer without origin class definit isnt requir trace disabl ad option tfkerasmixed_precis api nonexperiment nonexperiment api differ experiment api sever way tfkerasmixed_precisionpolici longer take tfmixed_precis experimentallossscal constructor longer lossscal associ instead modelcompil automat wrap optim lossscaleoptim use dynam loss scale policynam mixed_float tfkerasmixed_precisionlossscaleoptim constructor take differ argument particular longer take lossscal longer lossscal associ lossscaleoptim instead lossscaleoptim directli implement fix dynam loss scale see document tfkerasmixed_precisionexperimentallossscaleoptim httpswwwtensorfloworgapi_docspythontfkerasmixed_precisionexperimentallossscaleoptimizerversionnightli detail differ experiment lossscaleoptim new nonexperiment lossscaleoptim tfmixed_precisionexperimentallossscal subclass deprec function exist within tfkerasmixed_precisionlossscaleoptim tflite tfliteconvert support option flag inference_input_typ inference_output_typ full integ quantiz model allow user modifi model input output type integ type tfint tfuint instead default float type tffloat nnapi add nnapi deleg support requant use case convert oper dequantizequant pair remov deprec interpretersetusennapiboolean java api use interpreteroptionssetusennapi instead deprec interpreterusennapibool c api use nnapideleg relat deleg configur method directli deprec interpretersetallowfpprecisionforfpbool c api prefer control via deleg option eg tflitestatefulnnapidelegateoptionsallow_fp tflitegpudelegateoptionsvis_precision_loss_allow gpu gpu acceler support quantiz model default dynamicbufferaddjoinedstr add separ first string join empti add support cumul sum cumsum builtin op mlir convers tensorrt issu warn session_config paramet tf convert use rewrite_config_templ field tf convert paramet object use tpu enhanc add support beta paramet ftrl optim tpu embed user tensorflow platform implement equival behavior adjust l paramet xla support xlaexperimentalcompil deprec use tffunctionexperimental_compiletru instead add tffunctionexperimental_get_compiler_ir return compil ir current hlo optimized_hlo given input given function secur fix undefin behavior caus segfault tfraw_opsswitch cvehttpscvemitreorgcgibincvenamecginamecv fix three vulner convers dlpack format cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix two vulner sparsefillemptyrowsgrad cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner raggedcountsparseoutput sparsecountsparseoutput oper cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix integ truncat vulner code use work sharder api cvehttpscvemitreorgcgibincvenamecginamecv fix format string vulner tfstringsas_str cvehttpscvemitreorgcgibincvenamecginamecv fix segfault rais call sessiononli op eager mode cvehttpscvemitreorgcgibincvenamecginamecv fix data leak potenti aslr violat tfraw_opsstringngram cvehttpscvemitreorgcgibincvenamecginamecv fix segfault caus incomplet savedmodel valid cvehttpscvemitreorgcgibincvenamecginamecv fix data corrupt due bug neg index support tflite cvehttpscvemitreorgcgibincvenamecginamecv fix data corrupt due dimens mismatch tflite cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner tflite save model format cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner tflite implement segment sum cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix segfault tfquantizationquantize_and_dequant cvehttpscvemitreorgcgibincvenamecginamecv fix undefin behavior float cast caus crash cvehttpscvemitreorgcgibincvenamecginamecv fix lack valid tfraw_opsdataformatvecpermut tfraw_opsdataformatdimmap caus uniniti memori access read outsid bound array data corrupt segment fault cvehttpscvemitreorgcgibincvenamecginamecv fix crash caus write read memori region cvehttpscvemitreorgcgibincvenamecginamecv fix heap bound access filesystem glob implement cvehttpscvemitreorgcgibincvenamecginamecv replac use whitelist blacklist allowlist denylist possibl pleas see listhttpsdevelopersgooglecomstylewordlistblacklist context add tfconfigexperimentalmlir_bridge_rollout help us rollout new mlir tpu bridg add tfexperimentalregister_filesystem_plugin load modular filesystem plugin python thank contributor releas contain contribut mani peopl googl well follow extern contributor bitmp aaajq abhineet choudhari abolfazl shahbazi acxz adam hillier adrian garcia badaracco ag ramesh ahmedsabi alan anderson alexand grund alexandr lissi alexey ivanov amedeo cavallo anencor aniket kumar singh anthoni platanio ashwin phadk balint cristian basit ayantund bbbboom ben barsdel benjamin chetioui benjamin peterson bhack bhanu prakash bandaru venkata biagio montaruli brent spell bubblebooy bzhao cfrod cheng chen chengkit chen chri tessum christian chuanqiw codeadmin_peritia cotaspar cuiyifeng danielknob daniely dannyfriar daria darrenzhang denisa robert dependabotbot deven desai dmitri volodin dmitri zakharov drebain duncan riach eduard feicho ehsan toosi elena zhelezina emlapris eugen kuznetsov evaderanlab evgeniy polyakov fausto moral felix johnni fo freder bastien fredrik knutsson fsx gaurav singh gauri deshpand georg grzegorz pawelczak gerbauz gianluca baratti giorgio arena gmc guozhong zhuang hann achleitn harirai hariswang harsh hedgehog hemal mamtora hideto ueno hugh ku ian beauregard ilya perski jacco jakub bernek jan jongboom javier montalt tordera jen elofsson jerri shih jerryyin jgehw jinj zhou jma jmsmdi johan nordstrm john pool jonah kohn jonathan dekhtiar jpodivin jung daun kai katsumata kaixi hou kamil rakoczi kaustubh mask patil kazuaki ishizaki kedar sovani koansin tan koki ibukuro krzysztof laskowski kushagra sharma kushan ahmadian lakshay toka leicong li levinxo luka geiger mader mahmoud abuzaina mao yunfei mariu brehler markf martin hwasser martin kubovk matt conley matthia mazharul mdfaijul michael michelbr mikhail startsev milan straka ml myunghyun kim mn nilsson nathan luehr ngc nikochiko niranjan hasabni nyagato_ oceania oleg guba ongun kanat oscarvanl patrik laurel paul tanger peter sobot phil pearl plusplusultra poedat prasad nikam rahulkamat rajeshwar reddi redwrass rickard robert szczepanski rohan lekhwani sam holt sami kama samuel holt sandeep giri sboshin sean settl settl sharada shiddibhavi shawn presser shengyang shiguangyong shuxiang gao sicong li sidongwei srihari humbarwadi srinivasan narayanamoorthi steenu johnson steven clarkson stjohnso tama bela feher tama nyiri tarandeep singh teng lu thibaut goetghebuerplanchon tim bradley tomasz strejczek tongzhou wang torsten rudolf trent lo ty mick tzuwei sung varghes jojimon vignesh kothap vishakha agraw vividha vladimir menshakov vladimir silyaev vovallen v vn ngha wondertx xiaohong xiaom jason cui xinan jiang yair ehrenwald yasir modak yasuhiro matsumoto yimei sun yiwen li yix yoav ramon yong tang yong wu yuanbopeng yunmo koo zhangqiang zhou peng zhubaoh zilinzhu zmx releas bug fix chang fix undefin behavior caus segfault tfraw_opsswitch cvehttpscvemitreorgcgibincvenamecginamecv fix three vulner convers dlpack format cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix two vulner sparsefillemptyrowsgrad cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner raggedcountsparseoutput sparsecountsparseoutput oper cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix integ truncat vulner code use work sharder api cvehttpscvemitreorgcgibincvenamecginamecv fix format string vulner tfstringsas_str cvehttpscvemitreorgcgibincvenamecginamecv fix segfault rais call sessiononli op eager mode cvehttpscvemitreorgcgibincvenamecginamecv fix data leak potenti aslr violat tfraw_opsstringngram cvehttpscvemitreorgcgibincvenamecginamecv fix segfault caus incomplet savedmodel valid cvehttpscvemitreorgcgibincvenamecginamecv fix data corrupt due bug neg index support tflite cvehttpscvemitreorgcgibincvenamecginamecv fix data corrupt due dimens mismatch tflite cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner tflite save model format cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner tflite implement segment sum cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat sqlite handl cvehttpscvemitreorgcgibincvenamecginamecv fix deprec usag collect api remov scipi depend setuppi sinc tensorflow need instal pip packag releas bug fix chang fix undefin behavior caus segfault tfraw_opsswitch cvehttpscvemitreorgcgibincvenamecginamecv fix three vulner convers dlpack format cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix two vulner sparsefillemptyrowsgrad cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix integ truncat vulner code use work sharder api cvehttpscvemitreorgcgibincvenamecginamecv fix format string vulner tfstringsas_str cvehttpscvemitreorgcgibincvenamecginamecv fix segfault rais call sessiononli op eager mode cvehttpscvemitreorgcgibincvenamecginamecv fix data leak potenti aslr violat tfraw_opsstringngram cvehttpscvemitreorgcgibincvenamecginamecv fix segfault caus incomplet savedmodel valid cvehttpscvemitreorgcgibincvenamecginamecv fix data corrupt due bug neg index support tflite cvehttpscvemitreorgcgibincvenamecginamecv fix data corrupt due dimens mismatch tflite cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner tflite save model format cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner tflite implement segment sum cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat sqlite handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix deprec usag collect api remov scipi depend setuppi sinc tensorflow need instal pip packag releas bug fix chang fix undefin behavior caus segfault tfraw_opsswitch cvehttpscvemitreorgcgibincvenamecginamecv fix three vulner convers dlpack format cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix two vulner sparsefillemptyrowsgrad cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix integ truncat vulner code use work sharder api cvehttpscvemitreorgcgibincvenamecginamecv fix format string vulner tfstringsas_str cvehttpscvemitreorgcgibincvenamecginamecv fix segfault rais call sessiononli op eager mode cvehttpscvemitreorgcgibincvenamecginamecv fix data leak potenti aslr violat tfraw_opsstringngram cvehttpscvemitreorgcgibincvenamecginamecv fix segfault caus incomplet savedmodel valid cvehttpscvemitreorgcgibincvenamecginamecv fix data corrupt due bug neg index support tflite cvehttpscvemitreorgcgibincvenamecginamecv fix data corrupt due dimens mismatch tflite cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner tflite save model format cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat sqlite handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv remov scipi depend setuppi sinc tensorflow need instal pip packag switch rocm build use rocm releas bug fix chang fix undefin behavior caus segfault tfraw_opsswitch cvehttpscvemitreorgcgibincvenamecginamecv fix three vulner convers dlpack format cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix two vulner sparsefillemptyrowsgrad cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix integ truncat vulner code use work sharder api cvehttpscvemitreorgcgibincvenamecginamecv fix format string vulner tfstringsas_str cvehttpscvemitreorgcgibincvenamecginamecv fix segfault rais call sessiononli op eager mode cvehttpscvemitreorgcgibincvenamecginamecv fix data leak potenti aslr violat tfraw_opsstringngram cvehttpscvemitreorgcgibincvenamecginamecv fix segfault caus incomplet savedmodel valid cvehttpscvemitreorgcgibincvenamecginamecv fix data corrupt due bug neg index support tflite cvehttpscvemitreorgcgibincvenamecginamecv fix data corrupt due dimens mismatch tflite cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner tflite save model format cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat sqlite handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv pin numpi prevent abi breakag compil code use numpi tensorflow header releas bug fix chang fix undefin behavior caus segfault tfraw_opsswitch cvehttpscvemitreorgcgibincvenamecginamecv fix three vulner convers dlpack format cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix two vulner sparsefillemptyrowsgrad cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix integ truncat vulner code use work sharder api cvehttpscvemitreorgcgibincvenamecginamecv fix format string vulner tfstringsas_str cvehttpscvemitreorgcgibincvenamecginamecv fix segfault rais call sessiononli op eager mode cvehttpscvemitreorgcgibincvenamecginamecv fix data leak potenti aslr violat tfraw_opsstringngram cvehttpscvemitreorgcgibincvenamecginamecv fix segfault caus incomplet savedmodel valid cvehttpscvemitreorgcgibincvenamecginamecv fix data corrupt due bug neg index support tflite cvehttpscvemitreorgcgibincvenamecginamecv fix data corrupt due dimens mismatch tflite cvehttpscvemitreorgcgibincvenamecginamecv fix sever vulner tflite save model format cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat sqlite handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix includ max_seq_length cudnn descriptor cach key pin numpi prevent abi breakag compil code use numpi tensorflow header releas major featur improv tfdata add two new mechan solv input pipelin bottleneck save resourc snapshothttpswwwtensorfloworgapi_docspythontfdataexperimentalsnapshot tfdata servicehttpswwwtensorfloworgapi_docspythontfdataexperimentalservic addit checkout detail guidehttpswwwtensorfloworgguidedata_performance_analysi analyz input pipelin perform tf profil tfdistributetpustrategyhttpswwwtensorfloworgapi_docspythontfdistributetpustrategi stabl api longer consid experiment tensorflow earlier tfdistributeexperimentaltpustrategi tf profilerhttpswwwtensorfloworgguideprofil introduc two new tool memori profil visual model memori usag time python tracerhttpswwwtensorfloworgguideprofilerev allow trace python function call model usabl improv includ better diagnost messag profil optionshttpstensorfloworgguideprofilercollect_performance_data custom host devic trace verbos level introduc experiment support kera preprocess layer api tfkeraslayersexperimentalpreprocessinghttpswwwtensorfloworgapi_docspythontfkeraslayersexperimentalpreprocessingversionnightli handl data preprocess oper support composit tensor input pleas see addit detail layer tflite properli support dynam shape convers infer weve also ad optin support android io xnnpackhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitedelegatesxnnpack highli optim set cpu kernel well optin support execut quantiz model gpuhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitegdocperformancegpu_advancedmdrunningquantizedmodelsexperiment libtensorflow packag avail gc start releas also start releas nightli version packageshttpsgithubcomtensorflowtensorflowofficialbuild experiment python api tfdebuggingexperimentalenable_dump_debug_infohttpswwwtensorfloworgapi_docspythontfdebuggingexperimentalenable_dump_debug_info allow instrument tensorflow program dump debug inform directori file system directori read visual new interact dashboard tensorboard call debugg vhttpswwwtensorfloworgtensorboarddebugger_v reveal detail tensorflow program includ graph structur histori op execut python eager intragraph level runtim dtype shape numer composit tensor well code locat break chang increas minimum bazel version requir build tf tfdata make follow break chang tfdata c api iteratorbaserestoreintern iteratorbasesaveintern datasetbasecheckexternalst becom purevirtu subclass expect provid implement deprec datasetbaseisst method remov favor datasetbasecheckexternalst deprec overrid datasetbasemakeiter makeiteratorfrominputel remov signatur tensorflowdataiteratorbasesaveintern tensorflowdataiteratorbasesaveinput extend serializationcontext argument enabl overrid default polici handl extern state iter checkpoint backward compat chang subclass iteratorbas need updat accordingli tfkera add new backupandrestor callback handl distribut train failur restart pleas take look tutorialhttpswwwtensorfloworgtutorialsdistributemulti_worker_with_kera detail use callback tfimageextract_glimps updat correctli process case centeredfals normalizedfals break chang output differ incorrect previou version note break chang impact tfimageextract_glimps tfcompatvimageextract_glimps api endpoint behavior tfcompatvimageextract_glimps chang behavior exist c kernel extractglimps chang either save model use tfraw_opsextractglimps impact known caveat tflite kerasbas lstm model must convert explicit batch size input layer bug fix chang tf core set tf_behavior enabl v earli load case add execute_fn_for_devic function dynam choos implement base underli devic placement eager add reduce_logsumexp benchmark experi compil give eagertensor meaning __array__ implement add anoth version defun matmul perform analysi tffunctionautograph autograph includ tensorflow loop variabl close local function previous variabl sometim incorrectli ignor function return get_concrete_funct method tffunction object call argument consist origin argument type spec pass get_concrete_funct call convent prefer way use concret function nest valu composit tensor pleas check guidehttpswwwtensorfloworgguideconcrete_funct detail concrete_ function updat tffunction experimental_relax_shap handl composit tensor appropri optim tffunction invoc remov redund list convert tffunction retrac call differ variabl instead simpli use dtype shape improv supporthttpsgithubcomtensorflowtensorflowissu dynamicallys tensorarray insid tffunction tfmath narrow argminargmax contract alway return smallest index tie tfmathreduce_vari tfmathreduce_std return correct comput complex type longer support integ type add bessel function order tfmathspeci tfdivid alway return tensor consist document api tfimag replac tfimagenon_max_suppression_paddedhttpswwwtensorfloworgversionsrapi_docspythontfimagenon_max_suppression_paddedhlen new implement support batch input consider faster tpu gpu box area ignor exist usag singl input still work tflinalg add tflinalgbanded_triangular_solv tfrandom add tfrandomstateless_parameterized_truncated_norm tfrag add tfraggedcross tfraggedcross_hash oper tfraggedtensor raggedtensorto_tensor preserv static shape add tfstringsformat tfprint support raggedtensor tfsaved_model tffunction savedmodel longer ignor arg raggedtensor select concret function run fix save model issu op list function add tfsaved_modelloadopt experimental_io_devicehttpswwwtensorfloworgversionsrapi_docspythontfsaved_modelloadoptionshlen arg default valu none choos io devic load model weight updat tfsaved_modelsaveopt experimental_io_devicehttpswwwtensorfloworgversionsrapi_docspythontfsaved_modelsaveoptionshlen arg default valu none choos io devic save model weight mutabl tabl restor checkpoint valu load savedmodel user object metadata field savedmodel proto deprec part updat kera savedmodel kera consum field prior updat gpu tf includ ptx kernel comput capabilityhttpsdevelopernvidiacomcudagpu reduc tf pip binari size earlier releas includ ptx varieti older comput capabl remov environment variabl tf_use_cudnn other retain parent namescop op ad insid tfwhile_looptfcondtfswitch_cas updat tfvectorized_map support vector tfwhile_loop tensorlist oper tfcustom_gradi appli function accept nest structur tensor input instead list tensor note python structur tupl list wont treat tensor still want treat way need wrap tfconvert_to_tensor lower gradient case op input deviceindex op extend rag version tfgather support batch_dim axi arg updat tfmap_fn support raggedtensor sparsetensor deprec tfgroup use eager mode add cpu gpu implement modifi variat ftrlhttpswwwtensorfloworgversionsrapi_docspythontfraw_opsapplyftrlftrlvhttpswwwtensorfloworgversionsrapi_docspythontfraw_opsapplyftrlv trigger multiply_linear_by_lr allow learn rate zero tfdata tfdataexperimentaldense_to_ragged_batch work correctli tupl tfdataexperimentaldense_to_ragged_batch output variabl rag rank tfdataexperimentalcardin method tfdatadataset tfdatadataset support lendataset cardin finit tfdistribut expos experiment tfdistributedistributeddatasethttpswwwtensorfloworgversionsrapi_docspythontfdistributedistributeddatasethlen tfdistributedistributediteratorhttpswwwtensorfloworgversionsrapi_docspythontfdistributedistributediter distribut input data use tfdistribut scale train multipl devic ad get_next_as_optionalhttpswwwtensorfloworgversionsrapi_docspythontfdistributedistributediteratorhlenget_next_as_opt method tfdistributedistributediteratorhttpswwwtensorfloworgversionsrapi_docspythontfdistributedistributediteratorhlen class return tfexperimentalopt instanc contain next valu replica none instead rais rang error also see new guid input distributionhttpswwwtensorfloworgtutorialsdistributeinput allow varassign mirroredvari aggregationnon replica context previous would rais error allow mani user librari writer find use assign replica context conveni instead use strategyextendedupd previou way updat variabl situat tfdistributeexperimentalmultiworkermirroredstrategi add support partial batch worker run data continu particip train empti input instead rais error learn partial batch herehttpswwwtensorfloworgtutorialsdistributeinputpartial_batch improv perform read metric eagerli tfdistributeexperimentalmultiworkermirroredstrategi fix issu strategyreduc insid tffunction may rais except valu reduc loop ifclaus fix issu tfdistributemirroredstrategi use togeth tfdistributeexperimentalmultiworkermirroredstrategi add tfdistributecluster_resolvertpuclusterresolverconnect api simplifi tpu initi add tfdistributestrategygath tfdistributereplicacontextall_gath method gather concaten tfdistributedistributedvalu across worker devic tfkera introduc experiment preprocess layer api tfkeraslayersexperimentalpreprocess handl data preprocess oper categor featur encod text vector data normal data discret bin newli ad layer provid replac legaci featur column api support composit tensor input ad categor data process layer integerlookup stringlookup build index categor featur valu categoryencod turn integerencod categori onehot multihot tfidf encod represent categorycross creat new categor featur repres cooccurr previou categor featur valu hash hash trick largevocabulari categor featur discret turn continu numer featur categor featur bin valu improv imag preprocess layer centercrop rescal improv imag augment layer randomcrop randomflip randomtransl randomrot randomheight randomwidth randomzoom randomcontrast improv textvector layer handl string token ngram gener token encod textvector layer account mask_token part vocabulari size output_modeint mean max_token valu output uniqu valu chang return valu textvectorizationget_vocabulari byte string user previous call decod output method longer need introduc new kera dataset gener util image_dataset_from_directoryhttpswwwtensorfloworgapi_docspythontfkeraspreprocessingimage_dataset_from_directori util base tfdatadataset meant replac legaci imagedatagener take structur directori imag label dataset one function call note doesnt perform imag data augment meant done use preprocess layer text_dataset_from_directoryhttpswwwtensorfloworgapi_docspythontfkeraspreprocessingtext_dataset_from_directori take structur directori text file label dataset one function call timeseries_dataset_from_arrayhttpswwwtensorfloworgapi_docspythontfkeraspreprocessingtimeseries_dataset_from_array tfdatadatasetbas replac legaci timeseriesgener take array timeseri data dataset shift window target ad experimental_steps_per_executionhttpswwwtensorfloworgversionsrapi_docspythontfkerasmodelhlencompil arg modelcompil indic number batch run per tffunction call speed kera model tpu x extend tfkeraslayerslambda layer support multiargu lambda keyword argument call layer function model get construct tensor layer call argumentskeyword argument come kera input previous function api would work element first argument layer came kera input clean batchnorm layer trainabl properti act like standard python state use insid tffunction frozen trace time instead act like pseudovari whose updat kind sometim get reflect alreadytrac tffunction trace add convdtranspos layer refin semant sensitivityspecificitybas deriv metric see updat api docstr tfkerasmetricssensitivityatspecificityhttpswwwtensorfloworgversionsrapi_docspythontfkerasmetricssensitivityatspecif tfkerasmetricsspecificityatsensitivtyhttpswwwtensorfloworgversionsrapi_docspythontfkerasmetricsspecificityatsensit tflite convert restor inference_input_typ inference_output_typ flag tf x tfliteconvert backward compat tf x support integ tfint tfuint input output type post train full integ quantiz model ad support convert resiz model dynam placehold dimens previous limit support dynam batch size even guarante model could properli resiz runtim enabl experiment support new quantiz mode bit activ bit weight see liteopssetexperimental_tflite_builtins_activations_int_weights_int cpu fix issu w dynam weight convd x add runtim android flag enabl xnnpack optim cpu perform add runtim io flag enabl xnnpack optim cpu perform add compil flag enabl build tflite librari appli xnnpack deleg automat model fp oper gpu allow gpu acceler start intern graph node experiment support quantiz model android gpu deleg add gpu deleg whitelist renam gpu whitelist compat list improv gpu compat list entri crash report nnapi set default valu statefulnnapidelegateoptionsmax_number_delegated_partit add capabl disabl nnapi cpu check nnapi errno fix crash use nnapi target acceler specifi model contain convd fullyconnect lstm node quantiz weight fix aneuralnetworks_bad_data execut failur summaxminreduc oper scalar input hexagon tflite hexagon deleg experiment experiment int support hexagon op experiment perchannel quant support conv hexagon deleg support dynam batch size c api coreml opensourc coreml deleg misc enabl build android tflite target window add support batchmatmul add support half_pixel_cent resizenearestneighbor add support batchtospacend add support broadcastsub maximum minimum transpos broadcastdiv renam ktfliteactrelu ktfliteactrelunto enabl flex deleg tensorflowliteinterpret python packag add buckett sparsecross boostedtreesbucket flex whitelist add support select registr flex op add miss kernel flex deleg whitelist op fix issu use direct bytebuff input graph dynam shape fix error check support oper model contain hardswish packag support ad tfsysconfigget_build_info return dict describ build environ current instal tensorflow packag eg nvidia cuda nvidia cudnn version use tensorflow built profil fix subtl useafterfre issu xstatvisitorrefvalu tpu enhanc add mesh support tpu configur op ad tpu code ftrl multiply_linear_by_lr silent add new file system registri gstpu support restarttyp cloud tpu client depend specif version googleapipythoncli fix apicli import trace debug add tfe_py_execut tracem xla support implement stabl argmin argmax thank contributor releas contain contribut mani peopl googl well bigcat_chenas abdul baseer khan abhineet choudhari abolfazl shahbazi adam hillier agramesh agoniii ajay p alex hoffman alexand bayandin alexand grund alexandr abadi alexey rogachevskiy amoitra andrew steven angusluo anshuman tripathi anush elangovan artem mavrin ashutosh hathidara autoih ayushman kumar ayushmankumar bairen yi ba aart bastian eichenberg ben barsdel bhack bharat raghunathan biagio montaruli bigcathimax blueyi bryan cutler byambaa carlo hernandezvaquero chen lei chri knorowski christian clauss chuanqiw cuiyifeng daniel situnayak daria zhuravleva dayanandav deven desai devi sandeep endluri dmitri zakharov domin jack duncan riach edgar liberi ehsan toosi ekuznetsov elena zhelezina eugen kuznetsov eugen mikhantiev evgenii zheltonozhskii fabio di domenico fausto moral fei sun feihugi felix e klee flyingcat freder bastien fredrik knutsson frreiss fsx ganler gaurav singh georgio pinita gian marco iodic giorgio arena giusepp rossini gregori keith guozhong zhuang gurushantj hahn anselm harald husum harjyot bagga hristo vrigazov ilya perski ird itamar turnertraur jacco jake tae janosh riebesel jason zaman jayanth jeff daili jen elofsson jinzh zeng jlz jona skog jonathan dekhtiar josh meyer joshua chia judd justkw kaixi hou kam kasravi kamil rakoczi karol gugala kayou kazuaki ishizaki keith smiley khale besrour kilaru yasaswi sri chandra gandhi kim young soo kristian hartikainen kwabena w agyeman lesliefang lesliefangintel li guizi luka geiger lutz roeder muen nilsson mahmoud abuzaina manish marcel koester marcin sielski marload martin jul matt conley mdfaijul meng peng meteorix michael kufl michael milan straka mitchel vitez ml mokk meguru mshrh nammbash nathan luehr naumkin neeraj bhadani ngc nick morgan nihui niranjan hasabni niranjan yadla nishidha panpaliya oceania oclyk ouyang jin overlordgolddragon owen lyke patrick hemmer paul andrey peng sun periannath phil pearl prashant dandriy prashant kumar rahul huilgol rajan singh rajeshwar reddi rangjiaheng rishit dagli rohan reddi rpalakk rpost ruan kunliang rushabh vasani ryohei ikegami semun lee seoinyoung sergey mironov sharada shiddibhavi shengyang shraiysh vaishay shunya ueta shwetaoj siyavash najafzad srinivasan narayanamoorthi stephan uphoff storypku sunchenggen sunway svenhendrik haas swapnil parekh tama bela feher teng lu tigertang toma tomohiro ubukata tongxuanltx toni tonev tzuwei huang to bouvard uday bondhugula vaibhav jade vijay tadikamalla vikram dattu vincent abriou vishnuvardhan janapati vo van nghia vovallen battel william iron wyzhao xiaom jason cui xiaoquan kong xinan jiang xutianm yair ehrenwald yasir modak yasuhiro matsumoto yix fu yong tang yuan tang zhaozheng zilin zhu zilinzhu  releas bug fix chang updat sqlite handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv updat libjpegturbo handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat apach spark handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv fix version bug caus kera layer tf x use instead tf x releas bug fix chang updat sqlite handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv updat libjpegturbo handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat apach spark handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas bug fix chang updat sqlite handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv updat libjpegturbo handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat apach spark handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas tensorflow discontinu support python previous announcedhttpsgroupsgooglecomatensorfloworgdmsgannouncegvwsrcmdsdctkaxaaaj follow python eol januari httpswwwpythonorgdevpepspepupd coincid chang new releas tensorflow docker imageshttpshubdockercomrtensorflowtensorflow provid python exclus imag use python docker tag contain py longer provid exist py tag like latestpi updat major featur improv replac scalar type string tensor stdstring tensorflowtstr abi stabl new profil tf cpugputpu offer devic host perform analysi includ input pipelin tf op optim advisori provid whenev possibl pleas see tutorialhttpswwwtensorfloworgtensorboardtensorboard_profiling_kera guidehttpswwwtensorfloworgguideprofil usag guidelin export c function python use pybind oppos swig part deprec swig effortshttpsgithubcomtensorflowcommunityblobmasterrfcspybindmd tfdistribut support ad global sync batchnorm use newli ad tfkeraslayersexperimentalsyncbatchnorm layer layer sync batchnorm statist everi step across replica take part sync train perform improv gpu multiwork distribut train use tfdistributeexperimentalmultiworkermirroredstrategi updat nvidia nccl better perform perform tune pleas see nccl develop guidehttpsdocsnvidiacomdeeplearningsdknccldeveloperguidedocsenvhtml inform support gradient allreduc float see examplehttpsgithubcomtensorflowmodelsblobmasterofficialmodelinggrad_utilspi usag experiment support reduc gradient packinghttpswwwtensorfloworgapi_docspythontfdistributeexperimentalcollectivehint allow overlap gradient aggreg backward path comput deprec experimental_run_v method distribut strategi renam method run longer experiment add compositetensor support distributediter help prevent unnecessari function retrac memori leak tfkera modelfit major improv use custom train logic modelfit overrid modeltrain_step easili write stateoftheart train loop without worri featur modelfit handl distribut strategi callback data format loop logic etc see default modeltrain_stephttpsgithubcomtensorflowtensorflowblobfceebedfddaeatensorflowpythonkerasenginetrainingpyl exampl function look like appli valid infer via modeltest_step modelpredict_step savedmodel use model_saved_model_inputs_spec attr instead reli modelinput modelinput_nam longer set subclass model attr set eager tffunction graph mode get rid need user manual call model_set_input use custom train loopsctl dynam shape support gener call model first batch peek gener use happen implicitli model_standardize_user_data longterm solut dataadapt doesnt need call model probabl prefer savedmodel format support kera builtin layer includ metric preprocess layer state rnn layer updat kera batch normal layer use run mean averag comput fused_batch_norm see signific perform improv use fused_batch_norm eager mode tflite enabl tflite experiment new convert default xla xla build work window prebuilt packag come xla avail xla enabl tffunctionhttpswwwtensorfloworgxlaexplicit_compilation_with_tffunct compil throw except semant cpu gpu break chang tfkera tfkerasappl name top layer standard predict problem code reli exact name layer huber loss function updat consist kera loss comput mean last axi persampl loss appli reduct function autograph longer convert function pass tfpy_funct tfpy_func tfnumpy_funct deprec xla_cpu xla_gpu devic releas increas minimum bazel version build tf use bazel cc_experimental_shared_librari kera compilefit behavior function subclass model unifi model properti metric metrics_nam avail trainingevalu model actual data function model metric includ model loss output lossesloss_funct properti remov model undocu properti accident public remov known caveat current tensorflow releas requir gasthttpspypiorgprojectgast version bug fix chang tfdata remov autotune_algorithm experiment optim option tf core tfconstant alway creat cpu tensor irrespect current devic context eager tensorhandl maintain list mirror copi local remot devic avoid redund copi due op execut tftensor tfvariabl experimental_ref longer experiment avail simpli ref pforvectorized_map ad support vector op vector tfcond also support set much partial shape infer static within gradient impl gather op gradient tfwhile_loop emit statelesswhil op cond bodi function stateless allow multipl gradient op run parallel distribut strategi speed gradienttap eager mode autogener list op inputsoutput unus henc cach gradient function support back_propfals while_v mark deprec improv error messag attempt use none datadepend control flow add raggedtensornumpi updat raggedtensor__getitem__ preserv uniform dimens allow index uniform dimens updat tfexpand_dim alway insert new dimens nonrag dimens updat tfembedding_lookup use partition_strategi max_norm id rag allow batch_dimsrankindic tfgather add support bfloat tfprint tfdistribut support embedding_column variablelength input featur multiworkermirroredstrategi tfkera ad experimental_aggregate_gradi argument tfkerasoptimizeroptimizerapply_gradi allow custom gradient aggreg process aggreg gradient custom train loop allow pathlibpath path load model via kera api tffunctionautograph autograph avail replicacontextmerge_cal strategyextendedupd strategyextendedupdate_non_slot experiment support shape invari enabl tffunction see api doc tfautographexperimentalset_loop_opt addit info autograph error messag exclud frame correspond api intern autograph improv shape infer tffunction input argument unlock grappler optim tensorflow x improv automat control depend manag resourc allow resourc read occur parallel synchron write fix execut order multipl state call experimental_run_v tffunction iter raggedtensor use loop insid tffunction tflite migrat tflite c infer api experiment litec add option disallow nnapi cpu partial acceler android tflite android aar includ c header api requir use tflite nativ code refactor deleg deleg kernel sourc allow usag linter limit deleg op actual support one devic name specifi nnapi cpu fallback disabl tflite support tfmathreciproc op lower tfdiv op tflite unpack op support boolean tensor input microcontrol embed code move experiment main tensorflow lite folder check larg tflite tensor fix gpu deleg crash c add support tflite strided_slic fix error deleg depth_to_spac nnapi caus op acceler fix segment fault run model lstm node use nnapi deleg fix nnapi deleg failur operand maximumminimum oper scalar fix nnapi deleg failur axi input reduc oper scalar expos option limit number partit deleg nnapi target acceler specifi use featur level determin oper deleg instead sdk version tfrandom variou random number gener improv add fast path default random_uniform random_se document improv randombinomi broadcast append sampl shape left rather right ad tfrandomstateless_binomi tfrandomstateless_gamma tfrandomstateless_poisson tfrandomstateless_uniform support unbound sampl int type math linear algebra add tflinalglinearoperatortridiag add linearoperatorblocklowertriangular add broadcast support tflinalgtriangular_solvehttpsgithubcomtensorflowtensorflowissu tfmathinvert_permut add tfmathsobol_sampl op add tfmathxlogpi add tfmathspecialdawsnexpifresnel_cosfresnel_sinsp add modifi discret cosin transform mdct invers tfsignal tpu enhanc refactor tpuclusterresolv move share logic separ pip packag support configur tpu softwar version cloud tpu client allow tpu embed weight decay factor multipli learn rate xla support add standalon xla aot runtim target relev cc sourc pip packag add check memori align memoryallocationmemoryalloc bit arm ensur determinist earli exit instead hard debug bu error later saved_model_cli aot_compile_cpu allow compil save model xla headerobject file includ c program enabl igamma igammac xla determinist op function xla reduct emitt determinist environ variabl tf_deterministic_op set true extend determinist tfnnbias_add backprop function therefor also determinist backprop biasaddit kera layer includ xla jit compil enabl fix problem run cuda gpu either environ variabl tf_deterministic_op environ variabl tf_cudnn_determinist set true layer configur led except messag algorithm work trace debug add sourc destin name _send tracem allow easier debug add tracem event fastpathexecut fix issu aucreset_st multilabel auc httpsgithubcomtensorflowtensorflowissu fix tf upgrad script delet file pars error output mode inplac move tensorflowcoreframework_pyclif rule tensorflowcoreframework_pyclif thank contributor releas contain contribut mani peopl googl well bitmp aaronhma abin shahab aditya patwardhan agoniii ahti kitsik alan yee albin joy alex hoffman alexand grund alexandr e eichenberg amit kumar jaiswal amoitra andrew anderson angusluo anthoni barbier anton kachatk anuj rawat archi arpandhatt arvind sundararajan ashutosh hathidara autoih bairen yi balint cristian ba aart bashirsba basit ayantund ben barsdel benjamin gaillard boron brett koonc bryan cutler christian goll christian sach clayn robison comet daniel falbel daria zhuravleva darsh david trubi dayanandav deepakm deni khalikov devansh singh dheeraj r reddi diederik van lier diego caballero domin jack dothink douman drake gen duncan riach ehsan toosi ekuznetsov elena zhelezina elzino endinga eric schweitz erik zettel ethan saadia eugen kuznetsov evgeniy zheltonozhskiy ewout ter hoeven exfalso faijul fangjun kuang fei hu frank laub freder bastien fredrik knutsson frreiss frdric rechtenstein fsx gaurav singh gbane georg grzegorz pawelczak georg sterpu gian marco iodic giorgio arena han gaiser han pabst haoyu wu harri slatyer hsahov hugo hugo sjberg irinam jacco jake tae jeandeni lesag jeanmichel goriu jeff daili jen elofsson jerri shih jerryyin jin mingjian jinj zhou jkisaacle jojimonv jonathan dekhtiar jose ignacio gomez josephr judd julian gross kaixi hou kaustubh mask patil keunwoo choi kevin hanselman khor chean wei kilaru yasaswi sri chandra gandhi koansin tan koki ibukuro kristian holsheim kurileo lakshay toka lee netherton leik lesliefangintel li guizi liujian luka geiger lyo nguyen madisetti maher jendoubi mahmoud abuzaina manuel freiberg marcel koester marco jacopo ferrarotti marku frank marload mbahjavi mbhuiyan meng zhang michael liao michaelkonobeev michal tarnowski milan straka minor moham nour abouelseoud moussamm mrinal jain mrtsjolder mn nilsson namrata bhave nichola gao niel ole salscheid nikochiko niranjan hasabni nishidha panpaliya nmostafa noah trenaman nuka officium owen l sfe pallavi g paul andrey peng sun peng wu phil pearl philipmay pingsutw pooya davoodi pragmatwic pshiko qwerti r gomathi rahul huilgol richard xiao rick wierenga roberto rosmaninho ruchit rushabh vasani sami sana damani sarvesh dubey sasan jafarnejad sergii khomenko shane smiskol shaochen shi sharkdtu shawn presser shengyang shreyash patodia shyam sundar dhanabalan siju samuel somyajit chakraborti sam srihari humbarwadi srinivasannarayanamoorthi srishti yadav stephenm stephan uphoff stephen mugisha sumansudhir taehun kim tama bela feher tenglu tetragramm thierri herrmann tian jin tigertang tom carchra tom forb trent lo victor peng vijayphoenix vincent abriou vishal bhola vishnuvardhan janapati vladbataev vovallen wallyss lima wenheng jack chung wenxizhu william iron william zhang xiaom jason cui xiaoquan kong xinan jiang yasir modak yasuhiro matsumoto yaxun sam liu yong tang ytytyt yuan yuan mingshuai yuan tang yuki ueda yusup zhangshijin zhuwenxi releas bug fix chang fix secur vulner convert python string tffloat valu produc segment fault cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat sqlite handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas bug fix chang fix secur vulner convert python string tffloat valu produc segment fault cvehttpscvemitreorgcgibincvenamecginamecv updat curl handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv updat sqlite handl cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv cvehttpscvemitreorgcgibincvenamecginamecv releas tensorflow last tf releas support python python support offici end januari httpswwwpythonorgdevpepspepupd announc earlierhttpsgroupsgooglecomatensorfloworgdmsgannouncegvwsrcmdsdctkaxaaaj tensorflow also stop support python start januari releas expect major featur improv tensorflow pip packag includ gpu support default tensorflowgpu linux window run machin without nvidia gpu tensorflowgpu still avail cpuonli packag download tensorflowcpu user concern packag size window user officiallyreleas tensorflow pip packag built visual studio version order take advantag new dreducedoptimizehugefunct compil flag use new packag must instal microsoft visual c redistribut visual studio avail microsoft websit herehttpssupportmicrosoftcomhelpthelatestsupportedvisualcdownload chang minimum requir version build tensorflow sourc window build enabl eigen_strong_inlin take hour compil without flag refer configurepi inform eigen_strong_inlin dreducedoptimizehugefunct either requir dll msvcpdll old msvcp_dll new miss machin import tensorflow print warn messag tensorflow pip packag built cuda cudnn tfkera experiment support mix precis avail gpu cloud tpu see usag guidehttpswwwtensorfloworgguidekerasmixed_precis introduc textvector layer take input raw string take care text standard token ngram gener vocabulari index see endtoend text classif examplehttpscolabresearchgooglecomdrivervcnrh_leknvinwtoitnjdpuzb kera compil fit evalu predict allow outsid distributionstrategi scope long model construct insid scope experiment support kera compil fit evalu predict avail cloud tpu cloud tpu type kera model sequenti function subclass model automat outsid compil enabl cloud tpu allow tfsummari use conveni cloud tpu dynam batch size distributionstrategi kera support cloud tpu support fit evalu predict tpu use numpi data addit tfdatadataset kera refer implement mani popular model avail tensorflow model gardenhttpsgithubcomtensorflowmodelstreemasteroffici tfdata chang rebatch tfdata dataset distributionstrategi better perform note dataset also behav slightli differ rebatch dataset cardin alway multipl number replica tfdatadataset support automat data distribut shard distribut environ includ tpu pod distribut polici tfdatadataset tune tfdataexperimentalautoshardpolicyoff auto file data tfdataexperimentalexternalstatepolicywarn ignor fail tfdebug add tfdebuggingenable_check_numer tfdebuggingdisable_check_numer help debug root caus issu involv infin nan tfdistribut custom train loop support tpu tpu pod avail strategyexperimental_distribute_dataset strategyexperimental_distribute_datasets_from_funct strategyexperimental_run_v strategyreduc support global distribut strategi tfdistributeexperimental_set_strategi addit strategyscop tensorrt tensorrt httpsdevelopernvidiacomtensorrttensorrtwhatsnew support enabl default add support tensorflow op includ convd convdbackpropinputv avgpoold maxpoold resizebilinear resizenearestneighbor addit tensorflowtensorrt python convers api export tfexperimentaltensorrtconvert environ variabl tf_deterministic_op ad set true environ variabl make tfnnbias_add oper determinist ie reproduc current xla jit compil enabl set tf_deterministic_op true also make cudnn convolut maxpool oper determinist make kera convd maxpoold layer oper determinist forward backward direct run cudaen gpu break chang delet operationtraceback_with_start_lin know usag remov id tftensor__repr__ id use intern debug tfassert_ method rais assert oper creation time input tensor valu known time sessionrun chang behavior graph execut would result error happen noop return input tensor mark nonfeed word use key feed_dict argument sessionrun error rais also assert op dont make graph graph structur chang differ graph result differ perop random seed given explicitli often follow api longer experiment tfconfiglist_logical_devic tfconfiglist_physical_devic tfconfigget_visible_devic tfconfigset_visible_devic tfconfigget_logical_device_configur tfconfigset_logical_device_configur tfconfigexperimentalvirtualdeviceconfigur renam tfconfiglogicaldeviceconfigur tfconfigexperimental_list_devic remov pleas use tfconfiglist_logical_devic bug fix chang tfdata fix concurr issu tfdataexperimentalparallel_interleav sloppytru add tfdataexperimentaldense_to_ragged_batch extend tfdata pars op support raggedtensor tfdistribut fix issu gru would crash give incorrect output tfdistributestrategi use tfestim ad option tfestimatorcheckpointsaverhook save graphdef move checkpoint reader swig pybind tfkera export depthwise_convd tfkerasbackend kera layer model variabl trainable_weight non_trainable_weight weight explicitli dedupl kera modelload_weight accept skip_mismatch argument avail extern kera copi tfkera fix input shape cach behavior kera convolut layer modelfit_gener modelevaluate_gener modelpredict_gener modeltrain_on_batch modeltest_on_batch modelpredict_on_batch method respect run_eagerli properti correctli run use tffunction default note modelfit_gener modelevaluate_gener modelpredict_gener deprec endpoint subsum modelfit modelevalu modelpredict support gener sequenc tflite legal nm op tflite add narrow_rang axi quantize_v dequant op ad support fusedbatchnormv convert add errnolik field nnapi deleg detect nnapi error fallback behaviour refactor nnapi deleg support detail reason oper acceler convert hardswish subgraph atom op critic stabil updat tpu especi case xla compil produc compil error tpu reiniti multipl time use tftpuexperimentalinitialize_tpu_system add raggedtensormerge_dim ad new uniform_row_length rowpartit tensor raggedtensor add shape arg raggedtensorto_tensor improv speed raggedtensorto_tensor tfioparse_sequence_exampl tfioparse_single_sequence_exampl support rag featur fix while_v variabl custom gradient support take gradient v tfcond tfwhile_loop use lookupt fix bug vectorized_map fail input unknown static shape add preliminari support spars csr matric tensor equal none behav expect make call tffunctionf tffunctionfget_concrete_funct tffunctionfget_initialization_funct threadsaf extend tfident work compositetensor sparsetensor ad dtype zeros input einsum op improv perform enabl multiwork nccl allreduc insid function execut eagerli ad complex support rfft rfftd rfftd irfft irfftd irfftd add pfor convert selfadjointeigv add tfmathndtri tfmatherfinv add tfconfigexperimentalenable_mlir_bridg allow use mlir compil bridg eager model ad support matrixsolv cloud tpu xla ad tfautodiffforwardaccumul forwardmod autodiff add linearoperatorpermut perform optim tfreduce_logsumexp ad multilabel handl auc metric optim zeros_lik dimens constructor requir none type __index__ method add tfrandomuniform microbenchmark use _protogen suffix proto librari target instead _cc_protogen suffix move checkpoint reader swig pybind tfdevic mirroredstrategi support pass tfconfiglogicaldevic your build tensorflow sourc consid use bazeliskhttpsgithubcombazelbuildbazelisk automat download use correct bazel version bazelisk read bazelvers file root project directori thank contributor releas contain contribut mani peopl googl well bitmp aaron abdlhamit yilmaz abhai kollara aflc ag ramesh albert z guo alex torr amoitra andrii prymostka angeliand anshuman tripathi anthoni barbier anton kachatk anubhv anuja jakhad artem ryabov autoih bairen yi ba aart basit ayantund ben barsdel bhavani subramanian brett koonc candydc captainpool caster cathi chong yan choong yin thong clayn robison coll dan ganea david norman david refa dengzim diego caballero divyanshu djshen douman duncan riach efanzh elena zhelezina eric schweitz evgenii zheltonozhskii fei hu fo fred reiss freder bastien fredrik knutsson fsx fwcore georg grzegorz pawelczak georg sterpu gian marco iodic giorgio arena giuro gomathi ramamurthi guozhong zhuang haifeng jin haoyu wu harikrishnanbalagop hjyoo huang chenyi ilham firdausi putra imran salam jare nielsen jason zaman jasper vicenti jeff daili jeff poznanov jen elofsson jerri shih jerryyin jesper dramsch jimmey jongwon lee jun wan junyuan xie kaixi hou kamalkraj kan chen karthik muthuraman keiji ariyama kevin rose kevin wang koansin tan kstuedem kwabena w agyeman lakshay toka latya lesliefangintel li guizi luciano resend luka foll luka geiger mahmoud abuzaina manuel freiberg mark ryan martin mlostek masaki kozuki matthew bentham matthew denton mbhuiyan mdfaijul muhwan kim nagi mostafa nammbash nathan luehr nathan well niranjan hasabni oleksii volkovskyi olivi moindrot olramd ouyang jin overlordgolddragon pallavi g paul andrey paul wai pkanwar pooya davoodi prabindh sundareson rajeshwar reddi ralovich kristof refractionray richard barn richardbrk robert herbig romeo kienzler ryan mccormick saishruthi saket khandelw sami kama sana damani satoshi tanaka sergey mironov sergii khomenko shahid shawn presser shengyang siddhartha bagaria simon plovyt skeydan srinivasannarayanamoorthi stephen mugisha sunway takeshi watanab taylor jakobson tenglu themindviru thisisisaac tim gate timothi liu tomer gafner trent lo trevor hickey trevor morri vcarpani wei wang wenheng jack chung wenshuai wenshuaixiaomi wenxizhu william william iron xinan jiang yannic yasir modak yasuhiro matsumoto yong tang yongfeng gu youwei song zacchari ramzi zhang zhenyu guo  zhenhua wang   isaac lee releas last x releas tensorflow expect updat x branch featur although issu patch releas fix vulner least one year major featur improv announcedhttpsgroupsgooglecomatensorfloworgforumtopicdevelopersirctmquz tensorflow pip packag default includ gpu support tensorflowgpu platform current gpu support linux window work machin without nvidia gpu tensorflowgpu still avail cpuonli packag download tensorflowcpu user concern packag size tensorflow contain complet implement api compatv modul contain copi main modul without contrib compatv modul tensorflow abl emul behavior use enable_v_behavior function enabl write forward compat code explicitli import either tensorflowcompatv tensorflowcompatv ensur code work without modif instal eagertensor support numpi buffer interfac tensor add toggl tfenable_control_flow_v tfdisable_control_flow_v enablingdis v control flow enabl v control flow part tfenable_v_behavior tf_behavior autograph translat python control flow tensorflow express allow user write regular python insid tffunctiondecor function autograph also appli function use tfdata tfdistribut tfkera api add enable_tensor_equ switch behavior tensor longer hashabl tensor compar yield boolean tensor elementwis comparison result default behavior break chang tensorflow code produc differ pip packag tensorflow_cor contain code futur contain privat implement tensorflow virtual pip packag forward tensorflow_cor futur contain public api tensorflow dont expect break unless import directli implement tensorflow built use devtoolset gcc ubuntu may lead abi incompat extens built earlier version tensorflow deprec use constraint constraint resourcevari tfkera omp_num_thread longer use default kera config configur number thread use tfconfigthread api tfkerasmodelsave_model modelsav default save tensorflow savedmodel kerasbackendresize_imag consequ keraslayersupsamplingd behavior chang bug resiz implement fix layer default float automat cast input layer dtype model use float probabl silent use float tensorflow warn issu start layer layernam cast input tensor dtype float layer dtype float fix either set default dtype float tfkerasbackendset_floatxfloat pass dtypefloat layer constructor see tfkeraslayerslay inform tfassert_ method rais assert oper creation time ie python line execut input tensor valu known time sessionrun happen noop return input tensor mark nonfeed word use key feed_dict argument sessionrun error rais also assert op dont make graph graph structur chang differ graph result differ perop random seed given explicitli often bug fix chang tfestim tfkerasestimatormodel_to_estim support export tftraincheckpoint format allow save checkpoint compat modelload_weight fix test can estim expos head public api fix critic bug help densefeatur usabl tf tfdata promot unbatch experiment core api ad support dataset input from_tensor from_tensor_slic batch unbatch nest dataset tfkera tfkerasestimatormodel_to_estim support export tftraincheckpoint format allow save checkpoint compat modelload_weight save kera model use tfsaved_modelsav save list variabl trainabl variabl regular loss call function deprec tfkerasexperimentalexport_saved_model tfkerasexperimentalfunct pleas use tfkerasmodelssave_model save_formattf tfkerasmodelsload_model instead add implement mode tfkeraslayerslocallyconnectedd tfkeraslayerslocallyconnectedd layer use tfsparsetensor store weight allow dramat speedup larg spars model enabl kera compil api experimental_run_tf_funct flag default flag enabl singl trainingevalpredict execut path input type convert dataset distribut strategi specifi goe noop distribut strategi path execut wrap tffunction unless run_eagerlytru set compil rais error batch_siz argument use input datasetgeneratorkera sequenc tflite add gather support nn api deleg tflite object detect script debug mode add deleg support quantiz ad evalu script coco miniv add deleg support quantized_bit_lstm convert hardswish subgraph atom op add support default valu cycle_length argument tfdatadatasetinterleav number schedul cpu core parallel_for add convert matrixdiag add narrow_rang attribut quantizeanddequantizev v ad new op tfstringsunsorted_segment_join add hw acceler support topk_v add new typespec class cloudbigt version updat v expos head public api updat docstr gather properli describ nonempti batch_dim case ad tfsparsefrom_dens util function improv rag tensor support tensorflowtestcas make anorm form transform pyct configur node convert variabl resizeinputtensor work deleg add expand_dim support nn api deleg test expand_dims_test tfcond emit statelessif op branch function stateless touch resourc tfcond tfwhile autograph accept nonscalar predic singl element affect nonv control flow tfwhile_loop emit statelesswhil op cond bodi function stateless touch resourc refactor code quant lstm support reduc tflite binari size add support local soft devic placement eager op add hw acceler support logsoftmax ad function nested_value_rowid rag tensor add guard avoid acceler l normal input rank add tfmathcumulative_logsumexp oper add tfraggedstack fix memori alloc problem call addnewinputconstanttensor deleg applic failur leav interpret valid state add check correct memori align memoryallocationmemoryalloc extract nnapidelegatekernel nnapi_delegatecc ad support fusedbatchnormv convert rag dens op directli calcul tensor fix accident quadrat graph construct cost graphmod tfgradient thank contributor releas contain contribut mani peopl googl well aaron abdullah selek abolfazl shahbazi ag ramesh albert z guo albin joy alex itk alex sergeev alexand pivovarov alexey romanov alhkad amit srivastava amoitra andrew lihonosov andrii prymostka anuj rawat astropeak ayush agraw bairen yi ba aart bastian eichenberg ben barsdel benjamin peterson bhack bharat raghunathan bhavani subramanian bryan cutler candydc cao zongyan captainpool casper da costalui chen guoyin cheng chang chengchingwen chong yan choong yin thong christoph yeh clayn robison coadi patrick dan ganea david norman deni khalikov deven desai diego caballero duncan dean duncan riach dwight j lyle eamon itofish eashtian efanzh ejot elroy ashtian jr eric schweitz fangjun kuang fei hu fo formath fred reiss freder bastien fredrik knutsson g hussain chinoy gabriel gehr georg grzegorz pawelczak gianluca varisco gleb popov greg peatfield guillaum klein gurpreet singh gustavo lima chave haison haraldur tma hallgrmsson harikrishnanbalagop hkon sandsmark ihong ilham firdausi putra imran salam jason zaman jason zavaglia jayhpark jefbi jeff daili jeffrey poznanov jekyl lai jeroen bdorf jerri shih jerryyin jiakai jiangxiao joe bowser joel shapiro johan gunnarsson jojimon varghes joon josh beal julian niedermei jun wan junqin zhang junyuan xie justin tuni kaixi hou karl lessard karthik muthuraman kbhuteibm khanhlvg koock yoon kstuedem kyuwon kim lakshay toka leik leonard lesliefang lesliefangintel li guizi luka foll luka geiger mahmoud abuzaina manraj singh grover margaret maynardreid mark ryan matt conley matthew bentham matthew denton mbhuiyan mdfaijul mei jie merturl michaelkonobeev michal w tarnowski mind mpppk musikisomorphi nagi mostafa nayana thorat neil niel ole salscheid nikla silfverstrm niranjan hasabni ocjosen olramd pariksheet pinjari patrick j lopresti patrik gustavsson per peterle phan van nguyen duc phillip kravtsov pooya davoodi pranav marath putra manggala qingq cao rajeshwar reddi ramon via rasmu diederichsen reuben morai richardbrk robert ronlek ryan jiang saishruthi saket khandelw saleem abdulrasool sami kama sanadamani sergii khomenko severen redwood shubham goyal sigrid keydana siju samuel sleighsoft smilu son tran srini srinivasannarayanamoorthi sumesh udayakumaran sungmann cho taehwan jung taehoon lee takeshi watanab tenglu terryki themindviru thisisisaac till hoffmann timothi liu tomer gafner tongxuan liu trent lo trevor morri uday bondhugula vasileio liouta vbvg vishnuvardhan janapati vivek suryamurthi wei wang wenheng jack chung wenxizhu william iron winstonq wyzhao xiaom jason cui xinan jiang xinp wang yannyy yasir modak yong tang yongfeng gu yuchen ying yuxin wu zyeric  zhenhua wang releas major featur improv tensorflow focus simplic eas use featur updat like easi model build kera eager execut robust model deploy product platform power experiment research api simplif reduc duplic remov deprec endpoint detail best practic see effect guidehttpswwwtensorfloworgbetaguideeffective_tf inform upgrad exist tensorflow x model pleas refer upgradehttpsmediumcomtensorflowupgradingyourcodetotensorflowfcadb migrationhttpswwwtensorfloworgbetaguidemigration_guid guid also releas collect tutori get start guideshttpswwwtensorfloworgbeta highlight tf deliv kera central high level api use build train model kera provid sever modelbuild api sequenti function subclass along eager execut immedi iter intuit debug tfdata build scalabl input pipelin checkout guidehttpswwwtensorfloworgbetaguidekerasoverview addit detail distribut strategi tf user abl use tfdistributestrategyhttpswwwtensorfloworgbetaguidedistribute_strategi api distribut train minim code chang yield great outofthebox perform support distribut train kera modelfit well custom train loop multigpu support avail along experiment support multi worker cloud tpu check guidehttpswwwtensorfloworgbetaguidedistribute_strategi detail function session tradit declar program model build graph execut via tfsession discourag replac write regular python function use tffunction decor function turn graph execut remot serial optim perform unif tftrainoptim tfkerasoptim use tfkerasoptim tf compute_gradi remov public api use gradienttap comput gradient autograph translat python control flow tensorflow express allow user write regular python insid tffunctiondecor function autograph also appli function use tfdata tfdistribut tfkera api unif exchang format savedmodel tensorflow ecosystem project tensorflow lite tensorflow js tensorflow serv tensorflow hub accept savedmodel model state save restor savedmodel api chang mani api symbol renam remov argument name chang mani chang motiv consist clariti x api remain avail compatv modul list symbol chang found herehttpsdocsgooglecomspreadsheetsdflfjlzgwnpjhodxqbdgptkafq_slhpnhvbjiteqeditgid api cleanup includ remov tfapp tfflag tflog favor abslpyhttpsgithubcomabseilabseilpi global variabl helper method like tfglobal_variables_initi tfget_global_step add toggl tfenable_control_flow_v tfdisable_control_flow_v enablingdis v control flow enabl v control flow part tfenable_v_behavior tf_behavior fix autocomplet tensorflow api refer switch use rel import api __init__pi file auto mixedprecis graph optim simplifi convert model float acceler volta ture tensor core featur enabl wrap optim class tftrainexperimentalenable_mixed_precision_graph_rewrit add environ variabl tf_cudnn_determinist set true forc select determinist cudnn convolut maxpool algorithm enabl algorithm select procedur also determinist break chang mani backward incompat api chang made clean api make consist toolchain tensorflow built use devtoolset gcc ubuntu may lead abi incompat extens built earlier version tensorflow tensorflow code produc differ pip packag tensorflow_cor contain code futur contain privat implement tensorflow virtual pip packag forward tensorflow_cor futur contain public api tensorflow dont expect break unless import directli implement remov freeze_graph command line tool savedmodel use place frozen graph tfcontrib tfcontrib deprec function either migrat core tensorflow api ecosystem project tensorflowaddonshttpswwwgithubcomtensorflowaddon tensorflowiohttpswwwgithubcomtensorflowio remov entir remov tfcontribtimeseri depend tf distribut replac contrib refer tfestimatorexperiment api early_stoppingpi tfestim premad estim tfestimatordnnlineardnnlinearcombin famili updat use tfkerasoptim instead tfcompatvtrainoptim pass optim arg use string premad estim use kera optim checkpoint break optim separ variabl checkpoint convert tool convert optim includ releas want avoid chang switch v version estim tfcompatvestimatordnnlineardnnlinearcombin default aggreg can estim sum_over_batch_s maintain previou default behavior pleas pass sum loss aggreg method can estim dont support input_layer_partition arg api arg switch tfcompatv can estim estimatorexport_savedmodel renam export_saved_model save savedmodel estim strip default op attribut almost alway correct behavior forward compat requir default attribut save model pleas use tfcompatvestim featur column upgrad eagerfriendli work kera result tffeature_columninput_lay deprec favor tfkeraslayersdensefeatur v featur column direct analogu v except shared_embedding_column crosscompat v v use tffeature_columnshared_embed instead tfkera omp_num_thread longer use default kera config configur number thread use tfconfigthread api tfkerasmodelsave_model modelsav default save tensorflow savedmodel hdf file still support deprec tfkerasexperimentalexport_saved_model tfkerasexperimentalfunct pleas use tfkerasmodelssave_model save_formattf tfkerasmodelsload_model instead layer default float automat cast input layer dtype model use float probabl silent use float tensorflow warn issu start layer layernam cast input tensor dtype float layer dtype float fix either set default dtype float tfkerasbackendset_floatxfloat pass dtypefloat layer constructor see tfkeraslayerslay inform tflite remov liteophint liteexperiment liteconst api tensor longer hashabl instead compar elementwis use tfcompatvdisable_tensor_equ return previou behavior perform equal oper tensor variabl incompat shape except longer thrown instead __eq__ return fals __ne__ return true remov tfstring_split v api deprec use constraint constraint resourcevari add unifiedgru new gru implement tf chang default recurr activ function gru hard_sigmoid sigmoid reset_aft true histor recurr activ hard_sigmoid sinc fast sigmoid new unifi backend cpu gpu mode sinc cudnn kernel use sigmoid chang default cpu mode sigmoid well default gru compat cpu gpu kernel enabl user gpu use cudnn kernel default get x perform boost train note checkpoint break chang user want use x pretrain checkpoint pleas construct layer grurecurrent_activationhard_sigmoid reset_afterfals fallback x behavior cudnn_install_path tensorrt_install_path nccl_install_path nccl_hdr_path deprec use tf_cuda_path instead support commasepar list base path search find cuda librari header refer public project statu trackerhttpsgithubcomorgstensorflowproject issu tag httpsgithubcomtensorflowtensorflowissuesqisaopenisaissuelabela github insight recent issu develop progress experi snag use tf pleas let us know tf test user grouphttpsgroupsgooglecomatensorfloworgforumutm_mediumemailutm_sourcefooterforumtest support mail list well weekli test meet would love hear migrat feedback question bug fix chang tfcontrib expos tfcontribproto op tfio exist tf tfdata add support tensorarray tfdata dataset integr rag tensor tfdata core experiment tfdata transform input userdefin function span multipl devic extend tf support shuffl reshuffle_each_iterationtru cach work across differ python iter dataset remov experimental_numa_awar option tfdataopt add num_parallel_read pass dataset contain filenam textlinedataset fixedlengthrecorddataset add support default valu cycle_length argument tfdatadatasetinterleav number schedul cpu core promot tfdataexperimentalenumerate_dataset core tfdatadatasetenumer promot tfdataexperimentalunbatch core tfdatadatasetunbatch add option introduc slack pipelin reduc cpu content via tfdataoptionsexperimental_slack true ad experiment support parallel batch batch padded_batch function enabl tfdataopt support cancel longrun reduc use dataset node name prefix instead op name identifi compon correctli metric pipelin repeat compon improv perform dataset use from_tensor promot unbatch experiment core api ad support dataset input from_tensor from_tensor_slic batch unbatch nest dataset tfdistribut enabl tfdistributeexperimentalmultiworkermirroredstrategi work eager mode callback support multiworkermirroredstrategi disabl run_eagerli distribut strategi symbol tensor ad model use add_metr add_loss loss gradient reliabl correctli scale wrt global batch size use tfdistributestrategi set default loss reduct auto improv reliabl loss scale distribut strategi custom train loop auto indic reduct option determin usag context almost case default sum_over_batch_s use distribut strategi scope outsid builtin train loop tfkera compil fit expect reduct valu none sum use valu rais error support multihost ncclallreduc distribut strategi tfestim replac tfcontribestimatoradd_metr tfestimatoradd_metr use tfcompatvestimatorinput instead tfestimatorinput replac contrib refer tfestimatorexperiment api early_ estim can estim use kera optim default error rais tftrainoptim use switch tfkerasoptim tfcompatv can estim checkpoint convert can estim provid transit can estim warm start tftrainoptim tfkerasoptim loss scale can estim v optim anymor use estim distribut strategi optimikz v behavior chang impli use custom estim optim v scale loss new util help scale loss tfnncompute_average_loss tfnnscale_regularization_loss tfkera premad model includ linear widedeep introduc purpos replac premad estim model save chang modelsav tfsaved_modelsav may save tensorflow savedmodel format model restor use tfkerasmodelsload_model hdf file still support may use specifi save_formath save raw tensorflow function use conjunct kera function api model creation obviat need user creat lambda layer case use function api like lambda layer tensorflow function result variabl creation assign op support add support pass list list metric argument kera compil add tfkeraslayersabstractrnncel prefer implement rnn cell tf v user use implement rnn cell custom behavior kera train valid curv shown plot use tensorboard callback switch kera fitevaluatepredict execut use singl unifi path default unless eager execut explicitli disabl regardless input type unifi path place eagerfriendli train step insid tffunction input type convert dataset path assum alway distribut strategi distribut strategi specifi path use noop distribut strategi train step wrap tffunction unless run_eagerlytru set compil singl path execut code yet support use case fallback exist v execut path model contain follow sample_weight_mod compil weighted_metr compil v optim target tensor compil experienc issu chang pleas inform us file issu use case unblock set experimental_run_tf_functionfals compil meanwhil seen coupl use case model usag pattern expect would work chang output tensor one layer use constructor anoth symbol tensor outsid scope model use custom loss function flag disabl case ideal usag pattern need fix mark kera set_sess compatv tfkerasestimatormodel_to_estim support export tftraincheckpoint format allow save checkpoint compat modelload_weight kerasbackendresize_imag consequ keraslayersupsamplingd behavior chang bug resiz implement fix add implement mode tfkeraslayerslocallyconnectedd tfkeraslayerslocallyconnectedd layer use tfsparsetensor store weight allow dramat speedup larg spars model rais error batch_siz argument use input datasetgeneratorkera sequenc updat tf kerasbackendname_scop use tf name_scop add v modul alias loss metric initi optim tfloss tfkerasloss tfmetric tfkerasmetr tfiniti tfkerasiniti tfoptim tfkerasoptim updat binari cross entropi logic kera input probabl instead convert probabl logit use cross entropi formula probabl ad public api cumsum cumprod kera backend function add support tempor sampl weight mode subclass model rais valueerror integ pass train api ad faulttoler support train kera model via modelfit multiworkermirroredstrategi tutori avail custom callback tutori avail train tfdistribut kera api recommend estim steps_per_epoch step argument support numpi array new error messag unexpect key use sample_weightclass_weight dictionari loss scale kera compilefit optim anymor use custom train loop new util help scale loss tfnncompute_average_loss tfnnscale_regularization_loss layer appli add_vari api deprec ad support channel first data format cross entropi loss logit support tensor unknown rank error messag rais add_upd add_metr add_loss activ regular use insid control flow branch new loss reduct type auto indic reduct option determin usag context almost case default sum_over_batch_s use tfdistributestrategi outsid builtin train loop tfkera compil fit expect reduct valu sum none use auto case rais error none weight loss one dimens reduc axi axi specifi loss function reduct type use builtin kera train loop like fitevalu unreduc vector loss pass optim report loss scalar valu sum scalar sum weight loss sum_over_batch_s scalar sum divid number element loss reduct type support use tfdistributestrategi outsid builtin train loop like tfkera compilefit wrap loss pass compil api string v loss instanc v loss class losswrapp class loss use sum_over_batch_s reduct default modeladd_losssymbolic_tensor work ambient eager updat metric name alway reflect user given compil affect follow case name given accuracycrossentropi alias function name use eg mse remov weight prefix weight metric name allow nontensor v loss add v spars categor crossentropi metric add v api auccurv aucsummationmethod enum add_upd pass zeroarg callabl order support turn updat set trainablefals layer model compil run_eagerlytru standard layernorm api replac arg norm_axi params_axi axi fix critic bug help densefeatur usabl tf tflite ad evalu script coco miniv add deleg support quantiz add gather support nn api deleg ad support tfliteconvert python api contain function from_saved_model from_keras_fil from_concrete_funct add expand_dim support nn api deleg test add narrow_rang attribut quantizeanddequantizev v ad support tflite_convert command line tool posttrain quantiz tool support quantiz weight share multipl oper model made version tool use int type weight execut interpret version onward posttrain quantiz tool support fp weight gpu deleg acceler fp add deleg support quantized_bit_lstm extract nnapidelegatekernel nnapi_delegatecc tensorrt add tensorflow compat trtgraphconverterv api tensorrt convers tensorrt initi argument pass wrap namedtupl trtconversionparam rather separ argument trtgraphconvert chang api optim tensorrt engin graph optim done call converterbuild previous is_dynamic_opfals would set converterconvert longer return tffunction function must access save model convertercalibr method remov trigger calibr calibration_input_fn provid converterconvert fix accident quadrat graph construct cost graphmod tfgradient resourcevari gather op support batch dimens resourcevari support gather_nd resourcevari variabl longer accept constraint constructor expos properti ad gradient sparsetodens op expos flag allow number thread vari across python benchmark imageres support gradient new resiz kernel imageres consid proper pixel center new kernel incl antialias renam tfimag function remov duplic imag redund variad reduc support cpu variad reduc support cpu remov unus stringviewvariantwrapp delet unus fingerprintmap op registr add broadcast support tfmatmul add c gradient batchmatmulv add tfmathcumulative_logsumexp oper add ellipsi support tfeinsum add expand_composit argument nest method ad stringsbyte_split add new result_typ paramet tfstringssplit add name argument tfstring_split tfstrings_split extend tfstringssplit support input rank ad tfrandombinomi ad key skip method randomexperimentalgener extend tffunction basic support compositetensor argument sparsetensor raggedtensor parallel_forpfor add convert softmax logsoftmax isnan matrixsetdiag parallel_for add convert lowertriangularsolv choleski parallel_for add convert logmatrixdetermin matrixbandpart parallel_for add convert matrixdiag parallel_for add convert onehot lowerbound upperbound parallel_for add convert broadcastto add pfor convert squeez add raggedtensorplacehold add rag tensor support tfsqueez updat raggedtensor support int row_split allow linearoperatorsolv take linearoper allow dtype linearoperatorcircul introduc maxparallel method add linearoperatorhousehold add philox support new state rng xla path ad tensorspec support compositetensor ad tflinalgtridiagonal_solv op ad partial_pivot input paramet tflinalgtridiagonal_solv ad gradient tflinalgtridiagonal_solv ad tflinalgtridiagonal_mul op ad gpu implement tflinalgtridiagonal_matmul ad linearoperatortoeplitz upgrad libxsmm version uniform process quantiz embed gather embeddinglookup op correct misstat document spars softmax cross entropi logit paramet add tfraggedboolean_mask tfswitch_cas ad select branch_fn base branch_index c kernel gather op support batch dimens fix default valu document trainabl arg tfvariabl eagertensor support numpi buffer interfac tensor chang bump version number fullyconnect op ad new op tfstringsunsorted_segment_join ad hw acceler support topk_v cloudbigt version updat v begin_publ cloudbigt version updat v expos head public api ad tfsparsefrom_dens util function improv rag tensor support tensorflowtestcas ad function nested_value_rowid rag tensor ad tfraggedstack make anorm form transform pyct configur node convert variabl resizeinputtensor work deleg tfcond emit statelessif op branch function stateless touch resourc add support local soft devic placement eager op pass partial_pivot _tridiagonalsolvegrad add hw acceler support logsoftmax add guard avoid acceler l normal input rank fix memori alloc problem call addnewinputconstanttensor deleg applic failur leav interpret valid state tfwhile_loop emit statelesswhil op cond bodi function stateless touch resourc tfcond tfwhile autograph accept nonscalar predic singl element affect nonv control flow fix potenti secur vulner decod variant tensor proto could result heap bound memori access creat gc directori object object alreadi exist introduc dynam constructor argument layer model set true use imper control flow call method begin ad go wrapper c eager api xla hlo graph inspect interactive_graphviz tool add dataset op graph creat kernel eager execut python dataset object creation instead iter creation time add batch_dim argument tfgather behavior tfgather correct axisnon batch_dim updat docstr gather properli describ nonempti batch_dim case remov dtype constructor initi partition_info call add tfmathnextaft op turn mkldnn contract kernel default mkldnn dynam dispatch best kernel implement base cpu vector architectur disabl build definetensorflow_mkldnn_contraction_kernel tflinspacestart stop num alway use stop last valu num ad topk precis recal kera metric add rag size op regist op dispatch transit depend pooling_op remov user may need add explicit depend pooling_op refer oper librari add compositetensor base class malform gif imag could result access bound color palett frame fix add templat interfac creat lookup tabl tensorunsafecopyfromintern deprec favor tensorbitcastfrom map_vector optim reduc degre parallel vector map node add variant wrapper abslstring_view add opkernel stateless map dtype longer convert int use dtypeas_datatype_enum instead intdtyp get result support binari label input v hing squar hing loss ad linearoperatoradjoint linearoperatorh alia expos criticalsect core tfcriticalsect enhanc graphviz output add opkernel templat common tabl oper fix callback log valu eager mode defer build model use signaturedef util function deprec updat fingerprintmap use alias add legaci string flat hash map op kernel add support add_metr graph function mode updat cosin similar loss remov negat sign cosin similar chang default gradient accumul tpu embed true add summari trace api collect graph profil inform precision_mod argument trtgraphconvert case insensit thank contributor releas contain contribut mani peopl googl well e abdullah selek abenmao abolfazl shahbazi adam richter adam weiss ag ramesh alan du albin joy alex alex itk alex sergeev alexand pivovarov alexey romanov alhkad aman patel amit amit kumar jaiswal amit srivastava amoitra andrea eberl andrew lihonosov andi craze anshuman tripathi anthoni hsu anthoni platanio anuj rawat arp arpit shah armen poghosov armenpoghosov astropeak ashwin ramaswami arpit shah augustina ragwitz aurelien geron aurlien geron avasid aweer awesomealex ayush agraw ba aart bastian eichenberg bairen yi bayberri z ben barsdel benjamin peterson bhack bharat raghunathan bhavani subramanian bin fan blairhan blnesi attila bodin brandon carter bryan cutler candydc cao zongyan casper da costalui chao liu chen guoyin chenchc chengchingwen chie christian hansen christoph boeddek christoph yeh clayn robison coadi patrick crafet csukuangfj ctiijima dan jarvi dan lazewatski daniel ingram daniel rasmussen daniel salvadori dave airli david norman dayananda v delock deni khalikov deven desai dheeraj rajaram reddi diego caballero dmitrievanthoni donovan ong drew szurko duncan dean duncan riach dustin neighli dwight j lyle eamon itofish eashtian edward forgac efanzh ejot elroy ashtian jr eric schweitz evgeniy polyakov fangjun kuang federico martinez fei hu felix lemk filip matzner flashtek fo formath francoi chollet frreiss fred reiss freder bastien fredrik knutsson g hussain chinoy gabriel gautam gehr geoffrey irv georg grzegorz pawelczak grzegorz pawelczak georg sterpu gianluca varisco gleb popov greg peatfield guillaum klein gurpreet singh gustavo lima chave gyoungyoon ryoo haison hanton yang hanguo haraldur tma hallgrmsson hari shankar hehongliang heungsub lee hoeseong kim huan li  hkon sandsmark ihong ihong jhuo ilham firdausi putra ilango r imran salam innovimax jacki ko iren dea ivan habern jakub lipinski jacki jason zaman jason zavaglia jayhpark jcf jefbi jeff daili jeff poznanov jeffrey poznanov jekyl lai jer jeroen bdorf jerryyin jhalakp jiakai jia qingtong jiankang jiangxiao joe bowser joe q joe quadrino joel shapiro johan gunnarsson jojimon varghes jona rauber jonathan kyl jonathan joon jopp geluyken joseph friedman josh beal jtressl julian niedermei junqin zhang justin dujardin justin tuni jwu k hodg kaixih kaixi hou kjopek karl lessard karl weinmeist karthik muthuraman kashif rasul kay zhu kbhuteibm kdr keno fischer kevin mader khanhlvg kilaru yasaswi sri chandra gandhi koansin tan koock yoon kouml ktaebum kyuwon kim lakshay toka laurent le brun leik leonard lesliefang letian kang li guizi loo rong jie luca hendren luka foll luka geiger luke han luxupu lvli guokai mahmoud abuzaina maksym kysylov mandar deshpand manhyuk manraj singh grover marco gaido marek drozdowski margaret maynardreid mark ryan mar mateusz chudyk matt conley mbhuiyan mdfaijul mei jie melissa grueter merturl michaelkonobeev michael kufl michal w tarnowski mickal schoentgen miguel morin mihail salnikov mikalai drabovich mike arpaia mike holcomb mind monklof mose marin mpppk mr metal mshrh musikisomorphi nammbash natalia gimelshein nathan luehr nayanaibm nayana thorat neargy neeraj pradhan nehal j wani neil nick nick lewycki niel ole salscheid nikla silfverstrm niranjan hasabni nuka nutti ocjosen olicht omeir p sudeepam paig bailey palmer lao pan daoxin pariksheet pinjari pasqual minervini patrick j lopresti patrik gustavsson pavel akhtyamov pavel samolysov pengwa per peterle phan van nguyen duc philipp jund phillip kravtsov pooya davoodi pranav marath putra manggala qingq cao r nikhil krishna rajeshwar reddi ramon via rasmu diederichsen reuben morai robert rohit gupta roland zimmermann roman soldatow ronlek ruizh ryan jiang saishruthi saleem abdulrasool samantha andow sami kama sanadamani saurabh deora sdamani sean morgan seanshpark sebastien iooss servinc severen redwood shahzad lone shashank gupta shashvat shashvat chand shahi shubham goyal shashi sigrid keydana siju siju samuel sleighsoft smilu sneaseabq son tran spencer schaber sremedio srini srinivasannarayanamoorthi steve lang steve nesa subin sumesh udayakumaran sungmann cho sunway supriya rao sxwang taehwan jung taehoon lee takeo sawada taylor jakobson taylor thornton ted chang tenglu terryki thisisisaac thisispiri thoma deegan thoma hagebol tianyapiaozi till hoffmann tim zaman tomguluson tongxuan liu trent lo trevor morri tungjerri tyorden uday bondhugula vincent vagif vasileio liouta vbvg vcarpani vijay ravichandran vikram tiwariviktor gal vishwak srinivasan vincent vishnuvardhan janapati vitoralv vivek suryamurthi wangsiyu wateryzephyr weberxi wei wang weijiesun wenheng jack chung wenxizhu battel william iron winstonq wyzhao xiaom jason cui xiaoquan kong xin xinp wang yan facai  yannyy yasir modak yasuhiro matsumoto ymodak yong tang yongfeng gu youn khoudli yuan lin yuan terri tang yuchen ying yvesnoel wewel zhangyuj zjjott zyeric  zhenhua wang  releas major featur improv first x releas contain compatv modul modul requir allow librari publish code work x x releas backward incompat chang allow python api turn mkldnn contract kernel default mkldnn dynam dispatch best kernel implement base cpu vector architectur disabl build definetensorflow_mkldnn_contraction_kernel behavior chang set default loss reduct auto improv reliabl loss scale distribut strategi custom train loop auto indic reduct option determin usag context almost case default sum_over_batch_s use distribut strategi scope outsid builtin train loop tfkera compil fit expect reduct valu none sum use valu rais error wrap loss pass compil api string v loss instanc v loss class losswrapp class loss use sum_over_batch_s reduct default disabl run_eagerli distribut strategi symbol tensor ad model use add_metr add_loss tflinspacestart stop num alway use stop last valu num resourcevari variabl longer accept constraint constructor expos properti behavior tfgather correct axisnon batch_dim creat gc directori object object alreadi exist map_vector optim reduc degre parallel vector map node bug fix loss gradient reliabl correctli scale wrt global batch size use tfdistributestrategi updat cosin similar loss remov negat sign cosin similar dtype longer convert int use dtypeas_datatype_enum instead intdtyp get result chang default gradient accumul tpu embed true callback log valu eager mode defer build model use transit depend pooling_op remov user may need add explicit depend pooling_op refer oper librari tfkerasoptim default learn rate chang adadelta adagrad adamax nadam bug fix chang document deprec symbol renam remov unus stringviewvariantwrapp delet unus fingerprintmap op registr signaturedef util function deprec renam tfimag function remov duplic imag redund tfkerasexperimentalexport renam tfkerasexperimentalexport_saved_model standard layernorm api replac arg norm_axi params_axi axi tensorunsafecopyfromintern deprec favor tensorbitcastfrom kera python api add v modul alias tfiniti tfkerasiniti tfloss tfkerasloss tfmetric tfkerasmetr tfoptim tfkerasoptim add tfkeraslayersabstractrnncel prefer implement rnn cell tf v user use implement rnn cell custom behavior ad clear_loss api abl clear loss end forward pass custom train loop eager add support pass list list metric param kera compil ad topk precis recal kera metric ad public api cumsum cumprod kera backend function fix modeladd_losssymbolic_tensor work ambient eager add name argument tfstring_split tfstrings_split minor chang savedmodel export kera use tfkerasexperimentalexport signaturedef key evalu mode eval instead test revert back test near futur updat binari cross entropi logic kera input probabl instead convert probabl logit use cross entropi formula probabl raw tensorflow function use conjunct kera function api model creation obviat need user creat lambda layer case use function api like lambda layer tensorflow function result variabl creation assign op support kera train valid curv shown plot introduc dynam constructor argument layer model set true use imper control flow call method remov dtype constructor initi partition_info call new op improv op function add opkernel stateless map add v api auccurv aucsummationmethod enum tfmetricsconverg add tfmathnextaft op add compositetensor base class add tflinalgtridiagonal_solv op add opkernel templat common tabl oper ad support tflite tensorflow add summari trace api collect graph profil inform add batch_dim argument tfgather add support add_metr graph function mode add c gradient batchmatmulv ad tfrandombinomi ad gradient sparsetodens op add legaci string flat hash map op kernel add rag size op regist op dispatch add broadcast support tfmatmul add ellipsi support tfeinsum ad linearoperatoradjoint linearoperatorh alia ad gpu implement tflinalgtridiagonal_solv ad stringsbyte_split add raggedtensorplacehold add new result_typ paramet tfstringssplit add_upd pass zeroarg callabl order support turn updat set trainablefals layer model compil run_eagerlytru add variant wrapper abslstring_view add expand_composit argument nest method add pfor convert squeez bug fix tftile gradient expos criticalsect core tfcriticalsect updat fingerprintmap use alias resourcevari support gather_nd resourcevari gather op support batch dimens variad reduc support cpu extend tffunction basic support compositetensor argument sparsetensor raggedtensor add templat interfac creat lookup tabl posttrain quantiz tool support quantiz weight share multipl oper model made version tool use int type weight execut interpret version onward malform gif imag could result access bound color palett frame fix imageres consid proper pixel center new kernel incl antialias ad isoton regress solver tfnnisotonic_regress perform turn mkldnn contract kernel default mkldnn dynam dispatch best kernel implement base cpu vector architectur disabl build definetensorflow_mkldnn_contraction_kernel support multihost ncclallreduc distribut strategi expos flag allow number thread vari across python benchmark tensorflow develop add v spars categor crossentropi metric allow nontensor v loss add unifiedgru new gru implement tf chang default recurr activ function gru hard_sigmoid sigmoid reset_aft true histor recurr activ hard_sigmoid sinc fast sigmoid new unifi backend cpu gpu mode sinc cudnn kernel use sigmoid chang default cpu mode sigmoid well default gru compat cpu gpu kernel enabl user gpu use cudnn kernel default get x perform boost train note checkpoint break chang user want use x pretrain checkpoint pleas construct layer grurecurrent_activationhard_sigmoid reset_afterfals fallback x behavior tf updat metric name alway reflect user given compil affect follow case name given accuracycrossentropi alias function name use eg mse remov weight prefix weight metric name begin ad go wrapper c eager api imageres support gradient new resiz kernel remov tfstring_split v api expos tfcontribproto op tfio exist tf updat tfliteconvert api chang from_concrete_funct from_concrete_funct enabl tfdistributeexperimentalmultiworkermirroredstrategi work eager mode support binari label input v hing squar hing loss tensorflow lite add support tflite_convert remov liteophint liteexperiment liteconst api tfcontrib ad neural ture implement describ httpsarxivorgab remov tfcontribtimeseri depend tf distribut tfdata add num_parallel_read pass dataset contain filenam textlinedataset fixedlengthrecorddataset go forward oper tf chang part effort slowli convert xyzdataset datasetv type offici version go use tf motiv compat issu found _bigtablexyzdataset type datasetv implement _as_variant_tensor datasetv move contribbigt tensorflow_io convert datasetv remov overhead maintain v move tf add dataset op graph creat kernel eager execut python dataset object creation instead iter creation time add support tensorarray tfdata dataset switch tfdata function use defun provid escap hatch continu use legaci defun toolchain cudnn_install_path tensorrt_install_path nccl_install_path nccl_hdr_path deprec use tf_cuda_path instead support commasepar list base path search find cuda librari header tf code resid tensorflow_cor tensorflow virtual pip packag code chang need project use tensorflow chang transpar xla xla hlo graph inspect interactive_graphviz tool estim use tfcompatvestimatorinput instead tfestimatorinput replac contrib refer tfestimatorexperiment api early_stoppingpi thank contributor releas contain contribut mani peopl googl well e abenmao adam weiss ag ramesh alan du albin joy alex aman patel amit amit kumar jaiswal amit srivastava andrea eberl andi craze anthoni platanio armen poghosov armenpoghosov arp arpit shah ashwin ramaswami aurelien geron aurlien geron aweer awesomealex ayush agraw ben barsdel bharat raghunathan bhavani subramanian blairhan blnesi attila brandon carter candydc chao liu chenchc chie christian hansen christian sigg clayn robison crafet csukuangfj ctiijima dan jarvi dan lazewatski daniel ingram daniel salvadori dave airli david norman dayananda v dayanandav delock deni khalikov deven desai dheeraj rajaram reddi dmitrievanthoni donovan ong drew szurko duncan riach dustin neighli edward forgac efanzh fei hu felix lemk filip matzner fo frreiss gautam gehr geoffrey irv grzegorz georg pawelczak grzegorz pawelczak gyoungyoon ryoo hanguo hanton yang hari shankar hehongliang heungsub lee hoeseong kim ihong jhuo ilango r innovimax iren dea jacki ko jakub lipinski jason zaman jcf jeffrey poznanov jen elofsson jeroen bdorf jia qingtong jiankang joe q joe quadrino joeran beel jona rauber jonathan jonathan kyl jopp geluyken joseph friedman jtressl jwu k yasaswi sri chandra gandhi k hodg kaixi hou karl lessard karl weinmeist karthik muthuraman kashif rasul kdr keno fischer kevin mader kjopek koansin tan kouml ktaebum lakshay toka laurent le brun letian kang li guizi loo rong jie luca hendren luka geiger luke han luxupu guokai mahmoud abuzaina mandar deshpand manhyuk marco gaido marek drozdowski mark collier mark ryan mar mateusz chudyk matt conley mattconley mbhuiyan mdfaijul melissa grueter michael kufl mickal schoentgen miguel morin mihail salnikov mike arpaia mike holcomb monklof mose marin mshrh nammbash natalia gimelshein nayanaibm neargy neeraj pradhan nehal j wani nick niel ole salscheid niranjan hasabni nlewycki nuka nutti olicht p sudeepam palmer lao pan daoxin pariksheet pinjari pavel samolysov pengwa pooya davoodi r nikhil krishna rohit gupta roman soldatow rthadur ruizh ryan jiang samantha andow sami kama sanadamani saurabh deora sdamani seanshpark sebastien iooss servinc shahzad lone shashank gupta shashi shashvat shashvatshahi siju siju samuel sneaseabq spencer schaber sremedio srinivasannarayanamoorthi steve lang steve nesa sumesh udayakumaran supriya rao taylor jakobson taylor thornton ted chang thisispiri thoma deegan thoma hagebol tianyapiaozi tim zaman tomguluson tongxuan liu tungjerri vincent vagif vcarpani vikram tiwari vishwak srinivasan vitoralv wangsiyu wateryzephyr weberxi weijiesun wenheng jack chung wenxizhu battel william iron wyzhao xin yasuhiro matsumoto ymodak yong tang youn khoudli yuan lin yvesnoel wewel zantar zjjott   wang zhenhua  releas bug fix chang updat png_archiv depend affect cve cve cve updat sqlite depend affect cve cve cve releas bug fix chang fix potenti secur vulner care craft gif imag produc null pointer derefer decod releas major featur improv tensorflow lite move contrib core mean python modul tflite sourc code tensorflowlit rather tensorflowcontriblit tensorflow gpu binari built cuda tensorrt support python oper system move nccl core behavior chang disallow convers python float type uint match behavior integ type tfconstant make gain argument convolut orthogon initi convolutional_delta_orthogon convolutional_orthogonal_d convolutional_orthogonal_d convolutional_orthogonal_d consist behavior tfinitializersorthogon initi ie scale output lnorm gain sqrtgain note function current tfcontrib guarante backward compat bug fix chang document updat doc detail round mode use quantize_and_dequantize_v clarifi tensorflowportinitmain _should_ call use tensorflow librari program fail portabl platform deprec symbol renam remov deprec follow endpoint tfaco tfacosh tfadd tfas_str tfasin tfasinh tfatan tfatan tfatanh tfco tfcosh tfequal tfexp tffloor tfgreater tfgreater_equ tfless tfless_equ tflog tflogp tflogical_and tflogical_not tflogical_or tfmaximum tfminimum tfnot_equ tfsin tfsinh tftan deprec tfdatadatasetshard deprec saved_modelloaderload replac saved_modelload saved_modelmain_op replac saved_modelmain_op v deprec tfquantized_dtyp offici new symbol tfdtypesquantized_dtyp updat sklearn import deprec packag deprec variablecount_up_to tfcount_up_to favor datasetrang export confusion_matrix op tfmathconfusion_matrix instead tftrainconfusion_matrix add tfdtype endpoint everi constant dtypespi move endpoint versionspi correspond endpoint tfsysconfig tfversion move constant tfsaved_model submodul tfsaved_model modul new endpoint ad v v exist endpoint remov appli v deprec behavior devic assign overrid colloc constraint insid colloc context manag kera python api add kera function analog tfregister_tensor_conversion_funct subclass kera model save tfcontribsaved_modelsave_keras_model linearoperatormatmul return new linearoper new op improv op function add nearest neighbor resiz op add ignore_unknown argument parse_valu suppress valueerror unknown hyperparamet type add tflinalgmatvec conveni function tfeinsumrais valueerror unsupport equat like ii add dcti idcti tfsignaldct tfsignalidct add lu decomposit op add quantil loss gradient boost tree estim add round_mod quantizeanddequantizev op select round algorithm add unicode_encod unicode_decod unicode_decode_with_offset unicode_split unicode_split_with_offset unicode_transcod op amongst thing op add abil encod decod transcod varieti input text encod format main unicod encod utf utfb utfb add unit attribut substr op allow obtain substr string contain unicod charact broadcast support rag tensor spacetodepth support uint data type support multilabel quantil regress estim use div default partition_strategi tfnnsafe_embedding_lookup_spars tfnnsampled_softmax tfnnnce_loss hyperparamet ignor perform improv perform gpu cumsumcumprod x ad support weight decay tpu embed optim includ adamw momentumw tensorflow develop add command line tool convert tf tf_upgrade_v merg tfspectral tfsignal tensorflow chang default recurr activ function lstm hard_sigmoid sigmoid histor recurr activ hard_sigmoid sinc fast sigmoid new unifi backend cpu gpu mode sinc cudnn kernel use sigmoid chang default cpu mode sigmoid well default lstm compat cpu gpu kernel enabl user gpu use cudnn kernel default get x perform boost train note checkpoint break chang user want use x pretrain checkpoint pleas construct layer lstmrecurrent_activationhard_sigmoid fallback x behavior tensorflow lite move tensorflowcontriblit tensorflowlit add experiment java api inject tensorflow lite deleg add support string tensorflow lite java api tfcontrib add apach ignit filesystem plugin support access apach igf dropout take rate argument keep_prob deprec estim occurr refer tfcontribestim chang tfestim tfcontribestimatorbaselineestim tfestimatorbaselineestim tfcontribestimatordnnlinearcombinedestim tfestimatordnnlinearcombinedestim tfcontribestimatordnnestim tfestimatordnnestim tfcontribestimatorlinearestim tfestimatorlinearestim tfcontribestimatorinmemoryevaluatorhook tfestimatorexperimentalinmemoryevaluatorhook tfcontribestimatormake_stop_at_checkpoint_step_hook tfestimatorexperimentalmake_stop_at_checkpoint_step_hook expos tfdistributestrategi new name tfcontribdistributedistributionstrategi migrat linear optim contrib core move tfcontribsign tfsignal preserv alias tfcontribsign user tfcontribestimatorexport_all_saved_model relat switch tfestimatorestimatorexperimental_export_all_saved_model tfdata add tfdataexperimentalstatsopt configur option collect statist tfdatadataset pipelin use statsaggreg add nest option experimental_stat take tfdataexperimen talstatsopt object tfdataopt deprec tfdataexperimentalset_stats_agreg perform optim add tfdataexperimentaloptimizationopt configur option enabl tfdata perform optim add nest option experimental_optim take tfdataexperimentaloptimizationopt object tfdataopt remov perform optim option tfdataopt add tfdataexperimentaloptimizationopt instead enabl map_and_batch_fus noop_elimin optim default disabl configur tfdataexperimentaloptimizationopt set map_and_batch fals noop_elimin fals respect disabl default optim set apply_default_optim fals support parallel map map_and_filter_fus disabl static optim input pipelin use nonresourc tfvariabl add numaawar mapandbatch dataset deprec tfdatadatasetmake_one_shot_iter v remov v ad tfcompatvdatamake_one_shot_iter deprec tfdatadatasetmake_initializable_iter v remov v ad tfcompatvdatamake_initializable_iter enabl nest dataset support core tfdata transform tfdatadataset implement ad tfdatadataset_element_structur properti replac datasetoutput_typesshapesclass make num_parallel_cal tfdatadatasetinterleav tfdatadatasetmap work eager mode toolchain fix openssl compat avoid evp_md_ctx_destroy ad bound check print deprec warn upgrad cuda depend build android ndk rb add includ linuxcompilerh androidndkrbplatformsandroidarchusrincludelinuxfutexh remov android_tensorflow_lib_selective_registr target use android_tensorflow_lib_lit target instead xla move roundtoeven function xlaclientlibmathh new environ variabl tf_xla_debug_options_passthrough set true allow debug option pass within xrtcompil op pass directli xla compil backend variabl set servic side restrict set pass allow xrtcompil op return programshap result form xla compil second return argument xla hlo graph render svghtml estim replac occurr tfcontribestimatorbaselineestim tfestimatorbaselineestim replac occurr tfcontribestimatordnnlinearcombinedestim tfestimatordnnlinearcombinedestim replac occurr tfcontribestimatordnnestim tfestimatordnnestim replac occurr tfcontribestimatorlinearestim tfestimatorlinearestim user tfcontribestimatorexport_all_saved_model relat switch tfestimatorestimatorexperimental_export_all_saved_model updat regression_head new head api can estim v switch multi_class_head head api can estim v replac occurr tfcontribestimatorinmemoryevaluatorhook tfcontribestimatormake_stop_at_checkpoint_step_hook tfestimatorexperimentalinmemoryevaluatorhook tfestimatorexperimentalmake_stop_at_checkpoint_step_hook migrat linear optim contrib core thank contributor releas contain contribut mani peopl googl well abhinav upadhyay ag ramesh akikaaa alexi loui ander huss andrea madsen andrew banchich andi craze anton dmitriev artem malykh avijitnervana balint cristian benjamin tan wei hao bhavani subramanian brendan finan brian nemsick bryan cutler shen cao zongyan castiel chri antaki christian goll cibifang clayn robison codrut grosu cong xu dalmo cirn daniel hunter dougal j sutherland edvard fagerholm efanzh erik smistad evgeniy polyakov feiyang chen franklin fred reiss gautam gehr geoffrey irv georg sterpu gitea grzegorz georg pawelczak guozhong zhuang himkt hoeseong kim huan li  huiyangfei hyunyoung isaac burbank jackonan jacki ko jason furmanek jason zaman javier luraschi jiangzhoulong joaak john lin jonathan wyatt hoech josephyearsley josh gordon julian niedermei karl lessard keno fischer lanhin leon graser leondgars li guizi li yiqiang lxl mahmoud abuzaina manhyuk marcela moral quisp margaretmz matt conley max pumperla mbhuiyan mdfaijul meng peng michael michael gielda mrtsjolder muhammad wildan neargy nehal j wani newplan niranjan hasabni nutti olicht pan daoxin pedro monreal peng yu pillarpond pooya davoodi qiezi rholai lii richard yu rin arakaki roger iyengar sahilbady sami kama sandip giri scott leishman serg panev seunghoon park shafi dayatar shengfuintel shimin guo siju silent stefan dyulgerov steven tao wei thor johnsen tingbo lu tomguluson tongxuan liu trevor morri ubuntu vadim borisov vanderliang wangsiyu wen yun wenheng jack chung wenxizhu william iron xiaom jason cui yan facai  yanbo liang yaniv blumenfeld yash gaurkar yicheng fan yong tang yongjoon lee yuan terri tang yuxin wu zldrobit releas major featur improv kera model directli export savedmodel formattfcontribsaved_modelsave_keras_model use tensorflow serv kera model support evalu tfdatadataset tensorflow binari built xla support link default ignit dataset ad contribignit allow work apach ignit bug fix chang tfdata tfdata user repres get set option tensorflow input pipelin use tfdataopt tfdatadatasetopt tfdatadatasetwith_opt respect new tfdatadatasetreduc api allow user reduc finit dataset singl element use userprovid reduc function new tfdatadatasetwindow api allow user creat finit window input dataset combin tfdatadatasetreduc api allow user implement custom batch c code move tensorflowdata namespac add support num_parallel_cal tfdatadatasetinterleav tfcontrib remov tfcontriblinalg tflinalg use instead replac call tfcontribget_signature_def_by_keymetagraph_def signature_def_key meta_graph_defsignature_defsignature_def_key catch valueerror except thrown tfcontribget_signature_def_by_key replac catch keyerror except tfcontribdata deprec replac tfdataexperiment instead jemalloc revert back use system malloc sinc simplifi build compar perform remov integ type tfnnsoftplu tfnnsoftsign opdef bugfix op never meant support integ allow subslic tensor singl dimens add option calcul string length unicod charact add function subslic tensor add searchsort ie lowerupper_bound op add model explain boost tree support neg posit tfsubstr previous bug bijector_impl _reduce_jacobian_det_over_ev handl scalar ildj implement properli tf eager execut allow reenter gradienttap context add tf_api_vers flag definetf_api_vers flag pass bazel build tensorflow api version note tensorflow activ develop guarante point add addit compress option tfrecordwrit perform improv regex full match oper replac tfgraphkeysvari tfgraphkeysglobal_vari remov unus dynam learn rate support thank contributor releas contain contribut mani peopl googl well david siukei muk ag ramesh anton dmitriev artem sobolev avijitnervana bairen yi bruno goncalv shen candydc cheng chen clayn robison coder dao zhang elm fei hu feiquan geoffrey irv guozhong zhuang hellcom hoeseong kim imsheridan jason furmanek jason zaman jenni sahng jiefangxuanyan johann bannhof jonathan homer koansin tan kouml loo rong jie luka geiger manipopopo ming li moritz krger naurril niranjan hasabni pan daoxin peng yu pengwa rasmi roger xin roland fernandez sami kama samuel matzek sangjung woo sergei lebedev sergii khomenko shaohua shaohua zhang shujian sunitha kambhampati tomguluson vinciu camargo wangsiyu weidankong wenheng jack chung william iron xin jin yan facai  yanbo liang yash katariya yong tang  releas major featur improv nvidia gpu prebuilt binari tensorflow built cudnn tensorrt see updat instal guid instal tensorflow ubuntuhttpswwwtensorfloworginstallinstall_linuxtensorflow_gpu_support googl cloud tpu experiment tfdata integr kera googl cloud tpu experiment preview support eager execut googl cloud tpu distributionstrategi add multigpu distributionstrategi support tfkera user use fit evalu predict distribut model multipl gpu add multiwork distributionstrategi standalon client support estim see readmehttpsgithubcomtensorflowtensorflowtreemastertensorflowcontribdistribut detail add c c python function queri kernel break chang kera default valu tfkera randomuniform randomnorm truncatednorm initi chang match extern kera break chang modelget_config sequenti model return config dictionari consist model instanc instead list config underli layer bug fix chang c chang signatur sessionfactorynewsess return meaning error messag failur tfdata remov num_parallel_parser_cal argument tfcontribdatamake_csv_dataset tfdata remov num_parallel_parser_cal argument tfcontribdatamake_csv_dataset tfdatadatasetlist_fil rais except initi time argument match file renam bigtabl class bigtablet clariti document use cloud bigtabl api add tfcontribdatareduce_dataset use reduc dataset singl element gener tfcontribdatasliding_window_batch inc runtim improv triangular solv tfcontrib add implement argument tfkeraslayerslocallyconnectedd tfkeraslayerslocallyconnectedd new mode implement perform forward pass singl dens matrix multipl allow dramat speedup certain scenario wors perform other see docstr option also allow use paddingsam add document clarifi differ tffill tfconstant add experiment indexeddataset add select registr target use lite proto runtim add simpl tensor datatyp class tensorflow lite java add support bitcast tofrom uint uint ad subclass estim creat savedmodel savedmodelestim add leaf index mode argument allow differ output shape input tfcontribimagetransform chang state_s order stackedrnncel natur order keep exist behavior user add reverse_state_ordertru construct stackedrnncel deprec selftest_sess favor selfsess selfcached_sess directli import tensorprotoh transit import remov tensorh soon estimatortrain support tfcontribsummari summari box call train creat separ tfevent file rather reus share one fix ftrl lshrinkag behavior gradient l shrinkag term end accumul fix toco compilationexecut window googlezoneprovid class ad detect googl cloud engin zone tensorflow run safe call c api tf_delet function nullptr log error android logcat match fakequ numer tflite improv accuraci tflite quantiz infer model option bucket locat check gc filesystem perform enhanc stringsplitop stringsplitvop perform improv regex replac oper tfrecordwrit rais error write fail tpu help error messag tpuclusterresolv legacy_init_op argument savedmodelbuild method ad metagraph deprec pleas use equival main_op argument instead part explicitli check singl main_op legacy_init_op time savedmodel build wherea check main_op previous done load time protocol use estim train configur runconfig triangular solv perform improv unifi rnn cell interfac tf kera add new get_initial_st kera tf rnn cell use replac exist zero_st method updat initi variabl kera updat constrained_optim tensorflowcontrib boost tree ad prune mode tftraincheckpoint delet old checkpoint default tfdbg limit total disk space occupi dump tensor data gbyte add environ variabl tfdbg_disk_bytes_limit allow adjust upper limit thank contributor releas contain contribut mani peopl googl well aap adoda ag ramesh amogh mannekot andrew gibianski andi craze anirudh koul aurelien geron avijit avijitnervana ben benjamin h myara bhack brett koonc cao zongyan cbockman cheerss chikanaga tomoyuki clayn robison cosin cui wei dan j david david norman dmitri klimenkov eliel hojman florian courtial fo formath geoffrey irv gracehoney grzegorz pawelczak guoliang hua guozhong zhuang herman zvonimir doilovi huiyangfei jacker jan hnnemey jason taylor jason zaman jess jiangzhoulong jiawei zhang jie joe yearsley johann schmitz jon perl jon triebenbach jonathan jonathan hseu jongmin park justin shenk karlkubxca kate hodesdon kb sriram keishi hattori kenneth blomqvist koansin tan li liangbin li yiqiang loo rong jie madiyar mahmoud abuzaina mark ryan matt dodg mbhuiyan melvinlji miguel mota nafi sadat nathan luehr naurril nehal j wani niall moran niranjan hasabni nishidha panpaliya npow olicht pei zhang peng wang simpeng peng yu philipp jund pradeep banavara pratik kalshetti qwertwz rakesh chada randi west ray kim rholai lii robin richtsfeld rodrigo silveira ruizhi santosh kumar seb bro sergei lebedev sfujiwara shaba abhiram shashi sneakyfish soila kavulya stefan dyulgerov steven winston sunitha kambhampati surri shome taehoon lee thor johnsen tristan rice tshapinski tucan tucan vicent rey vilmarhillow vitali lavrukhin wangershi weidankong weidankong wenheng jack chung william iron wim glenn xfeif yan facai  yanbo liang yong tang yoshihiro yamazaki yuan terri tang yuan man zhaoyongk ron ricardo perezlopez   releas bug fix chang tfkera fix kera cloud tpu new binari built window releas major featur improv tflite runtim support complex initi googl cloud bigtabl integrationhttpsgithubcomtensorflowtensorflowtreertensorflowcontribbigt tfdata improv local run behavior tfestimatortrain_and_evalu reload checkpoint evalu runconfig set device_filt restrict worker ps commun speed train ensur clean shutdown situat job requir commun worker set custom session_opt runconfig move distribut bijector tfcontribdistribut tensorflow probabl tfphttpsgithubcomtensorflowprob tfcontribdistribut deprec remov end ad new endpoint exist tensorflow symbol endpoint go prefer endpoint go forward may replac exist endpoint futur see complet list new symbol ad follow modul tfdebugginghttpswwwtensorfloworgversionsmasterapi_docspythontfdebug tfdtypeshttpswwwtensorfloworgversionsmasterapi_docspythontfdtyp tfimagehttpswwwtensorfloworgversionsmasterapi_docspythontfimag tfiohttpswwwtensorfloworgversionsmasterapi_docspythontfio tflinalghttpswwwtensorfloworgversionsmasterapi_docspythontflinalg tfmaniphttpswwwtensorfloworgversionsmasterapi_docspythontfmanip tfmathhttpswwwtensorfloworgversionsmasterapi_docspythontfmath tfquantizationhttpswwwtensorfloworgversionsmasterapi_docspythontfquant tfstringshttpswwwtensorfloworgversionsmasterapi_docspythontfstr break chang prebuilt binari tensorflow built nccl longer includ nccl binari instal tensorflow usag multipl gpu nccl requir upgrad nccl httpsdevelopernvidiacomnccl see updat instal guid tensorflow gpu supporthttpswwwtensorfloworginstallgpu build tensorflow sourcehttpswwwtensorfloworginstallsourc start tensorflow window build use bazel therefor drop offici support cmake bug fix chang tfdata tfcontribdatagroup_by_reduc avail via public api tfcontribdatachoose_from_dataset avail via public api ad drop_remaind argument tfdatadatasetbatch tfdatadatasetpadded_batch deprec tfcontribdatabatch_and_drop_remaind tfcontribdatapadded_batch_and_drop_remaind tfestim estim use custom saver includ estimatorspec scaffold save savedmodel export estimatorspec add default predict output export export_output provid elimin need explicitli includ predictoutput object model_fn simpl usecas support sparse_combin can linear estim ad batch normal dnnclassifi dnnregressor dnnestim ad rank support boost tree ad center bia option boost tree add synchron aggreg arg get_vari arg use distribut variabl add synchron aggreg arg layer add_weight api arg use distribut variabl tfloss add global collect execut eagerli avoid leak memori support differ summari checkpoint directori tftrainmonitoredtrainingsess ad indrnn indygru indylstm cell tfcontribrnn add safe static factori function sparsetensor convert check dcheck use constructor directli unsaf deprec make bigtabl client connect pool configur increas default connect perform ad deriv tfrandom_gamma respect alpha paramet ad deriv tfigammaa x tfigammaca x respect modifi bessel function order zero one add filltriangular bijector creat triangular matric ad support type iii dct tfspectralidcttyp correctli handl cudnn rnn weight load nest timedistribut ad perel weight support walscomputepartiallhsandrhsop zeroslik oneslik op treat constant graph transform tool gamma distribut deriv distribut beta dirichlet student invers gamma fulli reparameter java experiment wrapper class make graph gener easier thank karllessard kbsriram build link secur grpc compon switch insecur grpc depend secur grpc depend ad new endpoint exist tensorflow symbol endpoint go prefer endpoint go forward may replac exist endpoint futur list new endpoint new endpoint tfimag namespac tfimageextract_image_patch new endpoint tfdebug namespac tfdebuggingcheck_numer tfdebuggingis_finit tfdebuggingis_inf tfdebuggingis_nan new endpoint tfdtype namespac tfdtypesas_str new endpoint tfio namespac tfiodecode_bas tfiodecode_compress tfiodecode_json_exampl tfiodecode_raw tfioencode_bas tfiomatching_fil tfioparse_tensor tfioread_fil tfiowrite_fil new endpoint tflinalg namespac tflinalgcross tflinalgtensor_diag correspond tfdiag tflinalgtensor_diag_part correspond tfdiag_part new endpoint tfmanip namespac tfmanipbatch_to_space_nd tfmanipgather_nd tfmanipreshap tfmaniprevers tfmanipscatter_nd tfmanipspace_to_batch_nd tfmaniptil new endpoint tfmath namespac tfmathaco tfmathacosh tfmathadd tfmathasin tfmathasinh tfmathatan tfmathatan tfmathatanh tfmathbetainc tfmathceil tfmathco tfmathcosh tfmathdigamma tfmathequ tfmatherfc tfmathexp tfmathexpm tfmathfloor tfmathgreat tfmathgreater_equ tfmathigamma tfmathigammac tfmathinvert_permut tfmathless tfmathless_equ tfmathlgamma tfmathlog tfmathlogp tfmathlogical_and tfmathlogical_not tfmathlogical_or tfmathmaximum tfmathminimum tfmathnot_equ tfmathpolygamma tfmathreciproc tfmathrint tfmathrsqrt tfmathsegment_max tfmathsegment_mean tfmathsegment_min tfmathsegment_prod tfmathsegment_sum tfmathsin tfmathsinh tfmathsoftplu tfmathsoftsign tfmathsquared_differ tfmathtan tfmathunsorted_segment_max tfmathunsorted_segment_min tfmathunsorted_segment_prod tfmathunsorted_segment_sum tfmathzeta new endpoint tfquantiz namespac tfquantizationdequant tfquantizationfake_quant_with_min_max_arg tfquantizationfake_quant_with_min_max_args_gradi tfquantizationfake_quant_with_min_max_var tfquantizationfake_quant_with_min_max_vars_gradi tfquantizationfake_quant_with_min_max_vars_per_channel tfquantizationfake_quant_with_min_max_vars_per_channel_gradi new endpoint tfstring namespac tfstringsjoin correspond tfstring_join tfstringsregex_replac tfstringsto_numb correspond tfstring_to_numb tfstringsstrip correspond tfstring_strip tfstringssubstr tfstringsto_hash_bucket correspond tfstring_to_hash_bucket tfstringsto_hash_bucket_fast correspond tfstring_to_hash_bucket_fast tfstringsto_hash_bucket_strong correspond tfstring_to_hash_bucket_strong thank contributor releas contain contribut mani peopl googl well ag ramesh alex wiltschko alexand pantyukhin amogh mannekot jiaoyang andrei nigmatulin andrew ginn bjrn moholt brett koonc chengzhi chen chinmay da christian ertler christoph boeddek clayn robison courtial florian ctiijima dan douthit dan j dan ringwalt efanzh emanuel ballarin eqi evgeniy zheltonozhskiy freedom koansin tan frdric branchaudcharron g k gracehoney guillaum klein guozhong zhuang hsienyang li hsm imsheridan jayaram bobba jiandong ruan jie joel shor jona rauber jongmin baek jsawruk karan kaw karl lessard karlkubxca kb sriram kinmanlam leiiwang li yiqiang loo rong jie mahmoud abuzaina mahmoud aslan manhyuk martin patz martin zeitler mktozk mohammad ashraf bhuiyan mrtsjolder naman bhalla nick felt nicola lopez niranjan hasabni nishidha panpaliya nitish nrstott nutti parag jain peterle philipp jund rach l rafal wojdyla roland zimmermann sergei lebedev sneakyfish soila kavulya sriram veturi steven schmatz taehoon lee tang wenyi tara sereda ted chang tim zaman tristan rice tucan vchigrin vikram tiwari vincent weberxi william iron yan facai  yong tang yu yi yuxin wu z vinciu releas major featur improv updat doc tfkera new kerasbas get startedhttptensorfloworgversionsrget_start programm guid pagehttptensorfloworgversionsrprogrammers_guidekera updat tfkera kera api ad tfkeraslayerscudnngruhttpswwwtensorfloworgversionsrapi_docspythontfkeraslayerscudnngru tfkeraslayerscudnnlstmhttpswwwtensorfloworgversionsrapi_docspythontfkeraslayerscudnnlstm layer tri ithttpscolabsandboxgooglecomgithubtensorflowtensorflowblobmastertensorflowcontribeagerpythonexamplesnmt_with_attentionnmt_with_attentionipynblinkid ad support core featur columnshttpswwwtensorfloworgget_startedfeature_column losseshttpswwwtensorfloworgapi_docspythontfloss gradient boost tree estimatorshttpsgithubcomtensorflowmodelstreemasterofficialrboosted_tre python interfacehttpswwwtensorfloworgversionsrapi_docspythontflit tflite optim converterhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitetocoreadmemd expand command line interfac aka toco tflite_convert includ standard pip instal improv dataload text process tfdecode_compressedhttpswwwtensorfloworgversionsrapi_docspythontfdecode_compress tfstring_striphttpswwwtensorfloworgversionsrapi_docspythontfstring_strip tfstringsregex_full_matchhttpswwwtensorfloworgversionsrapi_docspythontfstringsregex_full_match ad experiment support new premad estim tfcontribestimatorbaselineestimatorhttpswwwtensorfloworgversionsrapi_docspythontfcontribestimatorbaselineestim tfcontribestimatorrnnclassifierhttpswwwtensorfloworgversionsrapi_docspythontfcontribestimatorrnnestim tfcontribestimatorrnnestimatorhttpswwwtensorfloworgversionsrapi_docspythontfcontribestimatorrnnclassifi distributionsbijectorhttpswwwtensorfloworgversionsrapi_docspythontfcontribdistributionsbijectorsbijector api support broadcast bijector new api chang break chang your open empti variabl scope replac variable_scop variable_scopetfget_variable_scop header use build custom op move sitepackagesextern sitepackagestensorflowincludeextern bug fix chang tfenetwork deprec pleas inherit tfkerasmodel layer variabl name chang follow condit use tfkeraslay custom variabl scope use tflayer subclass tfkerasmodel class see herehttpswwwtensorfloworgversionsrapi_docspythontflay detail tfdata datasetfrom_gener accept arg list order creat nest gener datasetlist_fil produc determinist result shufflefals seed pass tfcontribdatasample_from_dataset tfcontribdatachoose_from_dataset make easier sampl determinist choos element multipl dataset tfcontribdatamake_csv_dataset support line break quot string two infrequ use argument remov c datasetbasedebugstr const c datasetbasemakeiter renam datasetbasemakeiteratorintern c iteratorbaseiniti method ad support rais error iter construct eager execut ad abil paus record oper gradient comput via tfgradienttapestop_record updat document introductori notebook tfkera move kera code _impl folder remov api file tfkerasmodelsave_weight save tensorflow format default enabl dataset iter pass tfkerasmodel trainingev method tensorflow debugg tfdbg cli fix issu tensorboard debugg plugin could handl total sourc file size exceed grpc messag size limit mb tfcontrib tfcontribframeworkzero_initi support resourcevari ad constrained_optim tensorflowcontrib add gc configur op chang signatur makeiter enabl propag error statu kl diverg two dirichlet distribut consist gcsfilesystem behavior certain read past eof updat benchmark tfscan match rang across eager graph mode fix bug tfreduce_prod gradient complex dtype allow use variabl eg hparamsparseab would previous rais error correspond attribut name embed symbol eg ab access indirectli eg getattr setattr set user first need explicitli add variabl hparam object eg hparamsadd_hparamnameab valu benchmark tfscan graph eager mode ad complex support fft fftd fftd ifft ifftd ifftd make id uniqu nnembedding_lookup_spars help reduc rpc call look embed repeat id batch support indic column boost tree prevent tfgradient backpropag integ tensor linearoperatordddcircul ad tensorflowlinalg convd convdbackpropinput convdbackpropfilt support arbitrari ad tftraincheckpoint readingwrit objectbas checkpoint ad linearoperatorkroneck densefre implement kroneck product allow linearoper broadcast savedmodelbuild dedupl asset name point file basenam content note may result new asset file includ savedmodel case asset name differ content previous overwrit thank contributor releas contain contribut mani peopl googl well abdullah alrashe achal shah ad adiegocalonso aditya yogi ag ramesh akindyakov andi kernahan anya petrova aurelien geron ben ben barsdel bhavanisubramanian braincodercn brett koonc brian nemsick brian zier bryan heden candydc cclauss clayn robison ctiijima dalmo cirn david norman david th kao doslin ekelsen elson rodriguez erik smistad felix abecassi fergal cotter fo fooxa freedom koansin tan frdric branchaudcharron gdh geoffrey irv giusepp gracehoney guido zuidhof guillaum klein guozhong zhuang haggai harald husum imsheridan ivan zhang jan zike jayaram bobba jess benson jess gumz jiajia li jie jinghuangintel jingwen jjsjann joe yearsley joel hest joel shor josephyearsley junpeng lao karol langner kb sriram krantideep krish ravindranath letian feng loo rong jie luka geiger maciej mahmoud abuzaina manhyuk mark ryan mbhuiyan michal turek mostafa alaa myungsung kwak nand dalal nehal j wani neil tenenholtz ngc nichola nadeau peng av niranjan hasabni phidring paul van eck peng yu qing zhao qingi chen quanlong rajendra arora rholai lii rmanyari robin richtsfeld russel klopfer sagi sam sendelbach sandeep n gupta sandip giri sarah edkin scott tseng sdalbsoo sergii khomenko seungwoo choi biggi sey majid azimi shaon zeng shengfuintel siu kei muk smit shilu soonson stefan schweter sukhwan kim sunitha kambhampati taehoon lee tamimaddari tang wenyi ted chang utakey utkarsh upadhyay vadim markovtsev voegtlel wai hon law wangsiyu wenhao hu wenhaohu william iron yan facai  yanbo liang yihong wang yilei dole yang yong tang yuan terri tang releas major featur improv pass tfcontribdistributemirroredstrategi tfestimatorrunconfig run estim model multipl gpu one machin add tfcontribdataprefetch_to_devic support prefetch gpu memori ad gradient boost tree premad estim boostedtreesclassifi boostedtreesregressor add rd gener pipelin config cloud tpu improv perform usabl tfcontribbayesflow move repo ad tfcontribprotorpc allow gener proto pars rpc communicationsuprpcissuesup bug fix chang tfdata add tfcontribdataprefetch_to_devic enabl prefetch dataset element gpu memori add tfcontribdataautotun allow tfdata runtim automat tune prefetch buffer size base system environ add tfcontribdatamake_csv_dataset build dataset csv file eager execut eager execut dataset use standard python iter batch dataset dataset__iter__ datasetmake_one_shot_iter use creat iter eager execut enabl automat devic placement enabl ie use gpu avail automat without requir explicit tfdevicegpu fix tfgradienttap move contrib tfkera ad fashion mnist dataset new data preprocess function imagerandom_bright sequencetimeseriesgener texthashing_trick acceler linear algebra xla select scatter refer util evalu use lexicograph order break tie tensorflow debugg tfdbg cli tensorfilt oper allow exclus node regular express fix spuriou background color text termin tfcontrib add metadistribut batchreshap reshap batch dimens tfcontriblayersrecompute_grad work explicit gradient checkpoint tpu add tfcontribframeworkargsort allow dnnboostedtreecombinedestim work core version featur column loss add nonlinear imag warp op tfcontribimagesparse_image_warp tfcontribimagedense_image_warp tfcontribimageinterpolate_splin fix bug tfcontriboptmultitaskoptimizerwrapp type tensor mismatch lowlevel graph construct call tensorflow c api chang invis user disabl set environ variabl tf_c_api_graph_construct releas futur releas remov abil disabl chang pleas file bughttpsgithubcomtensorflowtensorflowissuesnew find use escap hatch add descript shape pointer tutori notebook tfdistributionsdistribut updat scatter oper add tfscatter_min tfscatter_max extend scatter oper work scalar updat paramet move cudnn rnn op core use tensorflow codebas add float support convd convdbackpropinput convdbackpropfilt add float support avgpoolavgpoolgrad make graph name scope thread local work correctli multithread environ updat nsync synchron librari avoid slow primit linux remov need put nsyncpubl c includ path build custom op add tfimagepsnr tfimagessim tfimagessim_multiscal tfimageimage_gradi tfimagesobel_edg add link httpsjstensorfloworg fix nonuniform orthogon matric fix bug multiimag estim eval summari display correctli namerpcissuesupsupa cancel logic rpc op contain concurr error fix submit master part next releas thank contributor releas contain contribut mani peopl googl well aghasi alan du alan lee alan yee alex wiltschko animesh karnewar ankit gupta anton matosov ari l ben barsdel brent yi brett koonc carl thom cbockman chikanaga tomoyuki chri tava cdric deltheil dahan gong dalmo cirn daniel erenrich david norman davidnorman edd wilderjam fanjin zeng felix abecassi fo georg sterpu giovanni terlingen gor baghdasaryan guillaum klein hanchen li ilya polenov jakub kolodziejczyk jason sadler jayaram bobba jerri liu jinghuangintel jiongyan zhang  joel shor jong wook kim julian eisenschlo karl lessard krish ravindranath loo rong jie luka geiger luke iwanski mahmoud abuzaina manhyuk marvin richter maximilian mitchel mohammad ashraf bhuiyan msofka mustafa kasap nathan burnham nathan luehr naveen marri ngc nio oleg zabluda ou changkun pano ipeiroti paul van eck peter lee piotr czapla qjivi rholai lii rodrigo formigon russel klopfer ryantimjohn sang han sebastin ramrez shengfuintel sibi jose plathottam silver chan stanislaw antol taehoon lee tarang chugh ted chang thoma bastiani xian xu xiaom jason cui yan facai  yaox yashal shakti kanungo yong tang yuan terri tang yuxin wu ziyueloui lu releas major featur improv eager mode move contrib tri tfenable_eager_execut graph rewrit emul fixedpoint quantiz compat tensorflow lite support new tfcontribquant packag easili custom gradient comput tfcustom_gradi tensorboard debugg pluginhttpsgithubcomtensorflowtensorboardblobmastertensorboardpluginsdebuggerreadmemd graphic user interfac gui tensorflow debugg tfdbg alpha experiment support read sqlite databas dataset new tfcontribdatasqldataset distribut mutex criticalsect ad tfcontribframeworkcriticalsect better text process tfregex_replac easi effici sequenc input tfcontribdatabucket_by_sequence_length initi support tfcontribtensorrt enabl nativ tensorrt tensorflow bug fix chang acceler linear algebra xla add maxpoolgradgrad support xla cse pass tensorflow disabl xla tfdata tfdatadataset add support build c dataset op kernel extern librari use tfload_op_librari mechan datasetlist_fil shuffl output default datasetshuffl seedtfconst dtypetfint yield sequenc element datasetshuffl seed add num_parallel_read argument tfdatatfrecorddataset tfcontrib tfcontribbayesflowhalton_sequ support random add support scalar tfcontriball_reduc add effective_sample_s tfcontribbayesflowmcmc_diagnost add potential_scale_reduct tfcontribbayesflowmcmc_diagnost add batchnorm kumaraswami bijector deprec tfcontriblearn pleas check contriblearnreadmemd instruct convert exist code tfcontribdata remov deprec tfcontribdatadataset tfcontribdataiter tfcontribdatafixedlengthrecorddataset tfcontribdatatextlinedataset tfcontribdatatfrecorddataset class ad bucket_by_sequence_length sliding_window_batch make_batched_features_dataset remov unmaintain tfcontribndlstm find extern httpsgithubcomtmbarchivetfndlstm move tfcontribbayesflow repo tfp tfpy_func report full stack trace except occur integr tpuclusterresolv gke integr cloud tpu add librari statist test sampler add helper stream data gce vm cloud tpu integr clusterresolv tpuestim unifi metropolis_hast interfac hmc kernel move libxsmm convolut separ defin flag disabl default fix momentumoptim lambda reduc tfplayer boilerpl via programm docstr add auc_with_confidence_interv method comput auc confid interv linearithm time complex regression_head accept custom link function satisfi usag user defin link function array_opsident meet requir fix initialized_valu initial_valu behavior resourcevari creat variabledef proto add tensorspec repres specif tensor constant fold pass determinist support float dtype tflinalg add tfestimatorexporttensorservinginputreceiv allow tfestimatorestimatorexport_savedmodel pass raw tensor model function deprec tensorflow may last time support cuda version start tensorflow releas minimum support version tensorflow may last time support cudnn version start tensorflow releas minimum support version thank contributor releas contain contribut mani peopl googl well abe alistair low andi kernahan appledor ben ben barsdel bori pfahring brad wannow brett koonc carl thom cclauss chengzhi chen chri drake christoph yeh clayn robison codrut grosu daniel trebbien danni goodman david goodwin david norman deron eriksson donggeon lim donni viszneki doslin dylandmitri francisco guerrero fred reiss gdh giusepp glenn weidner gracehoney guozhong zhuang haichen hc li harald husum harumitsunobuta henri spivey hsm jekyl song jerom jiongyan zhang jjsjann john sungjin park johnson joshvarti julian wolff jun wang juneon kamil sindi kb sriram kdavismozilla kenji lazypanda liangchi hsieh loo rong jie mahesh bhosal mandarjkulkarni manhyuk marcu ong marshal hay martin pool matthieudelaro mdfaijul mholzel michael zhou ming li minmin sun myungjoo ham myungsungkwak naman kamra peng yu penghao cen phil raghuramank resec rohin mohanada sandeep n gupta scott tseng seaotterman seo sanghyeon sergei lebedev ted chang terrytangyuan tim h tkunic tod vihanjain yan facai  yin li yong tang yukun chen yusuk yamada releas break chang prebuilt binari built cuda cudnn prebuilt binari use avx instruct may break tf older cpu major featur improv new optim intern api nonslot variabl descend adamoptim access _beta_pow need updat tfestimatorfinalexporterlatestexport export strip savedmodel improv forward compat savedmodel fft support ad xla cpugpu bug fix chang document updat ad second version get start aim ml newcom clarifi document resize_imagesalign_corn paramet addit document tpu googl cloud storag gc add clientsid throttl add flushcach method filesystem interfac implement gcsfilesystem add tfcontribdistributionskumaraswami retryingfilesystemflushcach call base filesystem flushcach add auto_correl distribut add tfcontribdistributionsautoregress add separableconvd layer add convolut flipout layer input tfmatmul bfloat return bfloat instead float ad tfcontribimageconnected_compon add tfcontribframeworkcriticalsect allow atom variabl access output varianc tree predict classif task pt eval command allow write tensor valu filesystem numpi file grpc propag truncat error instead return grpc intern error augment parallel_interleav support kind prefetch improv xla support crelat op log pow atan tanh add probabilist convolut layer api chang introduc prepare_vari boolean default set fals backward compat move layers_dense_variational_implpi layers_dense_variationalpi known bug use xlagpu cuda cuda result garbag result andor cuda_illegal_address failur googl discov middecemb ptxtosass compil cuda cuda sometim properli comput carri bit decompos bit address calcul larg offset eg load x large_const bit arithmet sass result version ptxa miscompil xla program use gb temp memori result garbag result andor cuda_error_illegal_address failur fix cuda expect late februari expect fix cuda x fix avail workaround downgradehttpsdevelopernvidiacomcudatoolkitarch cuda x disabl xlagpu tensorflow print warn use xlagpu knownbad version cuda see ebacedaddcbea thank contributor releas contain contribut mani peopl googl well ag ramesh aiden scandella akimasa kimura alex rothberg allen goodman amilioto andrei costinescu andrei nigmatulin anjum say anthoni platanio anush elangovan armando fandango ashish kumar ram ashwini shukla ben bhavani subramanian brett koonc carl thom cclauss cesc changm sun christoph boeddek clayn robison clemen schulz clint woonhyuk baek codrut cole gerdemann colin raffel daniel trebbien daniel ylitalo daniel zhang daniyar darjan salaj dave maclachlan david norman dongjian dongsamb dssgsra edward h eladweiss elilienstein eric lilienstein errord eunji jeong fanlu florian courtial fo fred gregg helt guozhong zhuang hanchen li hsm hyunyoung imsheridan ishant mrinal haloi jacki ko jay young jean flaherti jerom jerrikeph jess kinkead jfaath jian lin jinghuangintel jiongyan zhang joel hest joel shor johnni chan julian niedermei julian wolff jxking kww karl lessard kasper marstal keiji ariyama koansin tan loki der quaeler loo rong jie luke schaefer lynn jackson manhyuk matt basta matt smith matthew schulkind michael michaelkhan miguel piedrafita mikalai drabovich mike knapp mjwen mktozk moham ali mohammad ashraf bhuiyan myungjoo ham naman bhalla namrataibm nathan luehr nathansilberman netzeband niranjan hasabni omar aflak ozg yalcinkaya parth p panchal patrickzzi patryk chrabaszcz paul van eck pawe kapica peng yu philip yang pierr blondeau pohsien chu powderluv puyu wang rajendra arora rasmu renat idrisov resec robin richtsfeld ronald eddi jr sahil singh sam matzek sami kama sandipmgiri santiago castro say hadi hashemi scott tseng sergii khomenko shahid shengpeng liu shreyash sharma shrinidhi kl simon cirillo simsicon stanislav levent starsblink stephen lumenta steven hickson su tang taehoon lee takuya wakisaka ted chang ted ying tijmen verhulsdonck timofey kondrashov vade vaibhav valentin khrulkov vchigrin victor costan viraj navkal vivek rane wagonhelm yan facai  yanbo liang yaroslav bulatov yegord yong tang yoni tsafir yordun yuan terri tang yuxin wu zhengdi zhengsheng wei  releas break chang prebuilt binari built cuda cudnn start releas prebuilt binari use avx instruct may break tf older cpu major featur improv eager executionhttpsgithubcomtensorflowtensorflowtreertensorflowcontribeag preview version avail tensorflow litehttpsgithubcomtensorflowtensorflowtreertensorflowlit dev preview avail cuda cudnn support acceler linear algebra xla add complex support xla compil bfloat support ad xla infrastructur make clusterspec propag work xla devic use determinist executor gener xla graph tfcontrib tfcontribdistribut add tfcontribdistributionsautoregress make tfcontribdistribut quadraturecompound class support batch infer tfcontribdistributionsrelaxedonehotcategor dtype argument make tfcontribdistribut quadratur famili parameter quadrature_grid_and_prob vs quadrature_degre auto_correl ad tfcontribdistribut add tfcontribbayesflowlay collect probabilist neural layer add tfcontribbayesflowhalton_sequ add tfcontribdatamake_saveable_from_iter add tfcontribdatashuffle_and_repeat add new custom transform tfcontribdatascan tfcontribdistributionsbijector add tfcontribdistributionsbijectorsmaskedautoregressiveflow add tfcontribdistributionsbijectorspermut add tfcontribdistributionsbijectorsgumbel add tfcontribdistributionsbijectorsreshap support shape infer ie shape contain reshap bijector add streaming_precision_recall_at_equal_threshold method comput stream precis recal onum_threshold size predict time space complex chang runconfig default behavior set random seed make random behavior independ random distribut worker expect gener improv train perform model reli determin set random seed explicitli replac implement tfflag abslflag add support cublas_tensor_op_math fp gemm add support cuda nvidia tegra devic bug fix chang document updat clarifi instal tensorflow bit machin ad short doc explain estim save checkpoint add document op support tfxla bridg fix minor typo doc spacetodepth depthtospac updat document comment mfcc_mel_filterbankh mfcch clarifi input domain squar magnitud spectra weight done linear magnitud spectra sqrt input chang tfcontribdistribut docstr exampl use tfd alia rather ds bs fix docstr typo tfdistributionsbijectorsbijector tfassert_equ longer rais valueerror rais invalidargumenterror document updat get start doc api intro googl cloud storag gc add userspac dn cach gc client custom request timeout gc filesystem improv gc filesystem cach bug fix fix bug partit integ variabl got wrong shape fix correct bug cpu gpu implement adadelta fix bug import_meta_graph handl partit variabl import scope warn may break load checkpoint graph partit variabl save use import_meta_graph nonempti import_scop argument fix bug offlin debugg prevent view event ad workerservicedeleteworkersess method grpc interfac fix memori leak ensur master worker server run version tensorflow avoid compat issu fix bug peephol implement blocklstm cell fix bug cast dtype log_det_jacobian match log_prob transformeddistribut fix bug import_meta_graph handl partit variabl ensur tfdistributionsmultinomi doesnt underflow log_prob chang partit integ variabl initi shape unpartit variabl chang initi correctli add necessari shape util support bfloat add way run op use step function monitoredsess add denseflipout probabilist layer new flag ignore_live_thread avail train set true ignor thread remain run tear infrastructur success complet train instead throw runtimeerror restandard densevari simpler templat probabilist layer tfdata support tfsparsetensor compon dataset element possibl iter tensor allow sparsesegmentreduct op miss segment id modifi custom export strategi account multidimension spars float split convd convdbackpropinput convdbackpropfilt support arbitrari dilat gpu cudnnv support estim support dataset input_fn return dataset instead tensor add revblock memoryeffici implement revers residu layer reduc bfcalloc intern fragment add cross_entropi kl_diverg tfdistributionsdistribut add tfnnsoftmax_cross_entropy_with_logits_v enabl backprop wrt label gpu backend use ptxa compil gener ptx bufferassign protocol buffer dump determinist chang embed op use parallel version dynamicstitch add support spars multidimension featur column speed case spars float column valu allow spars float split support multival featur column add quantil tfdistributionstransformeddistribut add nchw_vect_c support tfdepth_to_spac gpu add nchw_vect_c support tfspace_to_depth gpu api chang renam squeezedim attribut axi c api squeez op streamblockhostuntildon return statu rather bool minor refactor move stat file stochast common remov stochast known bug use xlagpu cuda cuda result garbag result andor cuda_illegal_address failur googl discov middecemb ptxtosass compil cuda cuda sometim properli comput carri bit decompos bit address calcul larg offset eg load x large_const bit arithmet sass result version ptxa miscompil xla program use gb temp memori result garbag result andor cuda_error_illegal_address failur fix cuda expect late februari expect fix cuda x fix avail workaround downgradehttpsdevelopernvidiacomcudatoolkitarch cuda x disabl xlagpu tensorflow print warn use xlagpu knownbad version cuda see ebacedaddcbea thank contributor releas contain contribut mani peopl googl well adam zahran ag ramesh alan lee alan yee alex sergeev alexand amir h jadidinejad ami anastasio doumoulaki andrei costinescu andrei nigmatulin anthoni platanio anush elangovan arixlin armen donigian artm sobolev atla ben barsdel bill prin bo wang brett koonc cameron thoma carl thom cem etek cglewi changm sun charl shenton chihung chri donahu chri filo gorgolewski chri hoyean song chri tava christian grail christoph boeddek cinq clayn robison codrut concerttttt cqi dan becker dan jarvi daniel zhang david norman dmaclach dmitri trifonov donggeon lim dongpilyu dr kashif rasul edd wilderjam eric lv fcharra felix abecassi firefoxmetzg formath fredzhang gaojin cao gari deer guenther schmuell hanchen li hanmin qin hannesa hyunyoung ilya edrenkin jackson kontni jan javier luraschi jay young jayaram bobba jeff jeff carpent jeremi sharp jeroen bdorf jimmi jia jinz bai jiongyan zhang joe castagneri johan ju josh varti julian niedermei jxking karl lessard kb sriram keven wang koansin tan kyle mill lanhin levinehuang loki der quaeler loo rong jie luke iwanski lszl csomor mahdi abavisani mahmoud abuzaina manhyuk marek uppa mathsquar mat linand matt wytock matthew daley maximilian bachl mdymczyk melvyniandrag michael case mike traynor miqla namrataibm nathan luehr nathan van doorn noa ezra nolan liu oleg zabluda opensourcemattress ouwen huang paul van eck peisong peng yu pinkysan pk powderluv qiao haijun qiao longfei rajendra arora ralph tang resec robin richtsfeld rohan varma ryohei kuroki saintnazair samuel sandeep dcunha sandipmgiri sang han scott scott mudg sewon kim simon perkin simon cirillo steffen schmitz suvojit manna sylvu taehoon lee ted chang thoma deegan till hoffmann tim toni kunic toon verstraelen tristan rice ur kster utkarsh upadhyay vish ishaya abram winni tsang yan chen yan facai  yi yang yong tang youssef hesham yuan terri tang zhengsheng wei zxcqwe   also grate file issu help resolv ask answer question part inspir discuss releas bug fix chang linearclassifi fix releas major featur improv tfkera part core tensorflow api tfdatahttptensorfloworgguidedata part core tensorflow api api subject backward compat guarante guid migrat tfcontribdata api see readmehttpsgithubcomtensorflowtensorflowblobrtensorflowcontribdatareadmemd major new featur includ datasetfrom_gener build input pipelin python gener datasetappli method appli custom transform function sever custom transform function ad includ tfcontribdatabatch_and_drop_remaind tfcontribdatasloppy_interleav add train_and_evalu simpl distribut estim train add tfspectraldct comput dctii add melfrequ cepstral coeffici support tfcontribsign gpu gradient support add selfcheck import tensorflow window dll issu add nchw support tfdepth_to_spac gpu tensorflow debugg tfdbg add eval command allow evalu arbitrari pythonnumpi express tfdbg commandlin interfac see debug tensorflow programshttpswwwtensorfloworgguidedebugg detail usabl improv frequent use tensor filter has_inf_or_nan ad session wrapper hook default need client call add_tensor_filtertf_debughas_inf_or_nan anymor sinharcsinh scalar distribut ad contribdistribut make ganestim opensourc estimatorexport_savedmodel includ valid serv signatur construct serv input receiv avail exportoutput instanc classifi may provid regress predictionflavor output addit classificationflavor one build signatur allow tf serv honor request use differ api classifi regress predict furthermor serving_input_receiver_fn may specifi altern subset node may act input allow instanc produc predict signatur classifi accept raw tensor instead serial tfexampl add tfcontribbayesflowhmc add tfcontribdistributionsmixturesamefamili make datasetshuffl alway reshuffl iter default add tfcontribbayesflowmetropolis_hast add log_rat paramet tfcontribdistributionspoisson extend tfcontribdistributionsbijector api handl noninject transform java gener eg tensorinteg improv typesafeti courtesi andrewcmy support multidimension string tensor support load custom oper eg mani tfcontrib linux os x prebuilt binari built cuda cudnn anticip releas tensorflow cuda cudnn bug fix chang tfnnrnn_celldropoutwrapp care drop lstm state specif longer ever drop c memori state lstmstatetupl new behavior lead proper dropout behavior lstm stack lstm bug fix follow recommend publish literatur behavior chang state dropout behavior may custom via new dropout_state_filter_visitor argument remov tfcontribtrainingpython_input behavior flexibl reproduc packag avail via new tfcontribdatadatasetfrom_gener method fix tfcontribdistributionsaffin incorrectli comput logdetjacobian fix tfrandom_gamma incorrectli handl nonbatch scalar draw resolv race condit tensorforest treepredictionsvop googl cloud storag file system amazon file system hadoop file system support default build option custom op librari must link libtensorflow_frameworkso instal tfsysconfigget_lib chang runconfig default behavior set random seed make random behavior independ random distribut worker expect gener improv train perform model reli determin set random seed explicitli break chang api signatur tfcontribdatarejection_resampl function chang return function use argument datasetappli remov tfcontribdataiteratorfrom_dataset method use datasetmake_initializable_iter instead remov seldom use unnecessari tfcontribdataiteratordispose_op reorder tfgan loss function nonbackward compat way known issu python datasetfrom_gener support unicod string must convert string byte object yield gener thank contributor releas contain contribut mani peopl googl well abdullah alrashe abenmao adam salvail aditya dhulipala ag ramesh akimasa kimura alan du alan yee alexand amit kushwaha ami andrei costinescu andrei nigmatulin andrew erlichson andrew myer andrew stepanov androbin angrypowman anish shah anton daitch artsiom chapiali asdf aseem raj baranw ash hall bart kier batchu venkat vishal ben ben barsdel bill piel carl thom catalin voss changm sun chengzhi chen chi zeng chri antaki chri donahu chri oelmuel chri tava clayn robison codrut courtial florian dalmo cirn dan j darren garvey david kristoffersson david norman david rthlisberg davidnorman dhruv dimann dorokhov duncan macvicar p edwarddixon emcp errord faijul fan xia francoi xavier fred reiss freedom koansin tan fritz obermey gao xiang guenther schmuell guo yejun  han gaiser hectorsvc hyungsuk yoon jame pruegsanusak jay young jean wanka jeff carpent jeremi rutman jeroen bdorf jett jone jimmi jia jinghuangintel jinz jkurland joel hest joetoth john b nelson john impallomeni john lawson jona jonathan dekhtiar joshkyh jun luan jun mei kai sasaki karl lessard karlkubxca kb sriram kenichi ueno kevin slagl kongsea lakshay garg lhlmgr lin min liuguangcong loki der quaeler louie helm lucasmoura luke iwanski lyndon white mahmoud abuzaina marcel puyat mark aaron shirley michel colombo mtdersvan namrataibm nathan luehr naurril nayana thorat nicola lopez niranjan hasabni nolan liu nouc oliv hennigh osdamv patrik erd patryk chrabaszcz pavel christof penghao cen postbg qingq cao qingi chen qjivi raphael rasmi raymondxyang renz yu resec roffel ruben vereecken ryohei kuroki sandipmgiri santiago castro scott kirkland sean vig sebastian raschka sebastian weiss sergey kolesnikov sergii khomenko shahid shivam kotwalia stuart berg sumit gouthaman superzerg sven mayer tetri ti zhou tiago freita pereira tian jin tomoaki oiki vaibhav sood vfdev vivek rane vladimir moskva wangqr weber xie frey yan facai  yanivbl yaroslav bulatov yix lao yong tang youkaichao yuan terri tang yue zhang yuxin wu zime dong zxyuan  also grate file issu help resolv ask answer question part inspir discuss releas see also tensorboard httpsgithubcomtensorflowtensorboardreleasestag releas note major featur improv ad can estim tensorflow librari list ad estim dnnclassifi dnnregressor linearclassifi linearregressor dnnlinearcombinedclassifi dnnlinearcombinedregressor prebuilt binari built cudnn anticip releas tensorflow cudnn import tensorflow goe much faster add file cach gc filesystem configur max stale file content permit cach file content across closeopen boundari ad axi paramet tfgather ad constant_valu keyword argument tfpad add datasetinterleav transform add concatenatedataset concaten two dataset ad mobilenet support tensorflow poet train script add block cach gc filesystem configur block size count sinharcsinh bijector ad ad datasetlist_fil api introduc new oper python bind cloud tpu ad tensorflowio cocoapod symmetri tensorflowandroid introduc base implement clusterresolv unifi memori represent tensorshap partialtensorshap consequ tensor maximum dimens chang refer libxsmm use version tensorflow debugg tfdbg display summari numer tensor valu flag command print_tensor pt display feed valu print_fe pf command clickabl link curs ui runtim profil op level python sourc line level run p command initi releas statist distribut librari tfdistribut gpu kernel speed improv unari tfwhere tfnntop_k monoton attent wrapper ad tfcontribseqseq ad tfcontribsign librari signal process primit ad tfcontribresampl contain cpu gpu op differenti resampl imag break chang api tfrewriterconfig remov python api avail releas candid never actual releas graph rewrit still avail tfrewriterconfig instead add explicit import break chang tfcontribdatadataset api expect nest structur list convert tftensor implicitli may need chang use list tupl exist code addit dict support nest structur chang contrib api add tfcontribnnrank_sampled_softmax_loss sampledsoftmax variant improv rank loss tfcontribmetricsstreaming_covariancestreaming_pearson_correl modifi return nan seen less equal unit weight add time seri model contrib see contribtimeseriesreadmemd detail add fully_connect op tensorflowliteschemafb known issu tensorflow_gpu compil fail bazel bug fix chang fix stride begin dtype mismatch slice use int tensor index python improv convolut pad document add tag constant gpu present graph gpu support saved_modelutil support sparsetensor transpar effici implement nonmax suppress add support shrinkagetyp l ftrloptim addit onlin l alreadi support fix neg varianc moment calcul expand uniqueop benchmark test cover collis case improv stabil gc filesystem mac add time estim hlocostanalysi fix bug estim param constructor deepcopi user provid one bug inadvert enabl user mutat param creation estim lead potenti undefin behavior ad none check save_path saverrestor regist devic legaci name device_mgr eas transit clusterspecpropag configur vectorexponenti ad distribut add bitwis modul bitwise_and bitwise_or bitwise_xor invert function add fixedgrid ode integr routin allow pass bound scipyoptimizerinterfac correct fix fft_length paramet tfspectralrfft tfspectralirfft export model signatur use predict method longer input output key silent ignor rewritten input output model export differ name serv tensorflowserv accept request use input output start model accept key specifi export therefor infer request use input output may start fail fix either updat infer client send request actual input output key use trainer code convers updat trainer code name input output tensor input output respect signatur use classifi regress method affect chang continu standard input output key add inmemori cach dataset api set default end_of_sequ variabl dataset iter fals perform increas perform tflayersconvd set use_biastru x use nnbias_add updat io exampl use cocoapod move tensorflowexamplesio add famili attribut tfsummari op allow control tab name use tensorboard organ summari gpu configur requir configcuda instead automat build gpu request configur script fix incorrect sampl small probabl cpugpu multinomi add list_devic api session list devic within cluster addit chang augment listdevic master api support specifi session allow use overparameter separ convolut tensorforest multiregress bug fix framework support armv cocoapodsorg display correct page script creat io framework cocoapod android releas tensorflow push jcenter easier integr app see httpsgithubcomtensorflowtensorflowblobmastertensorflowtoolsandroidinference_interfacereadmemd detail tensorflow debugg tfdbg fix bug prevent tfdbg function multigpu setup fix bug prevent tfdbg work tfsessionmake_cal thank contributor releas contain contribut mani peopl googl well feae adriano carmezim adri arrufat alan yee alex latta alex rothberg alexandr baranezki ali siddiqui andrea solled andrei costinescu andrew hundt androbin andi kernahan anish shah anthoni platanio arvindsd brd baptist arnaud ben mabey benedikt lins beomsu kim bo wang boyuan deng brett koonc bruno rosa carl thom changm sun chase robert chirag bhatia chri antaki chri hoyean song chri tava christo nikola croath liu cxx czxck daniel ylitalo danni goodman darren garvey david brailovski david norman davidnorman davidpham ddurham dhruv dimann drew hintz dustin tran earthson lu ethiraj fabian winnen fei sun freedom koansin tan fritz obermey gao xiang gautam guenther schmuell gyuho lee hauk brammer horanc human j alammar jayeol chun jeroen bdorf jianfei wang jiefangxuanyan jing jun yin joan puigcerv joel hest johann mayer john lawson johnson jon malmaud jonathan alvarezgutierrez juang yilin julian viereck kaarthik sivashanmugam karl lessard karlkubxca kevin carbon kevin van der burgt kongsea ksellesk lanhin lef ioannidi liangliang loui tiao luke iwanski lszl csomor magixsno mahmoud abuzaina marcel hlopko mark neumann maxwel paul brickner mdfaijul michal defferrard micha jastrzbski michel colombo mike brodi mosnoi ion mouradmourafiq mypreci nayana thorat neeraj kashyap nelson liu niranjan hasabni olivi moindrot orom pankaj gupta paul van eck peeyush peng yu pierr preciousdp qjivi raingo raoqiyu ribx richard imaoka rishabh patel robert walecki rockford wei ryan kung sahil dua sandip giri say hadi hashemi sgt shitian ni shuolongbj siim pder simon perkin sj solari spotlightxff steffen eberbach stephen fox superryanguo sven mayer tapan prakash tiago morai morgado till hoffmann tj rana vadim markovtsev vhasanov wei wu windead yan asta li yan chen yann henon yi wang yong tang yorki yuan terri tang yuxin wu zhengjiajin zhongzyd  also grate file issu help resolv ask answer question part inspir discuss releas bug fix chang updat markdown version requir support tensor dropout rate remov minmax releas major featur improv python support window ad tflayersconvd_transpos layer spatio tempor deconvolut ad tfsessionmake_cal provid lower overhead mean run similar step multipl time ad libverbsbas rdma support contrib courtesi junshi yahoo bring tffeature_column api nondeprec function tfcontriblay move tffeature_column cosmet chang rnncell object subclass tflayerslay strict describ tensorflow releas gone first time rnncell use cach scope futur use rnncell reus variabl scope break chang behavior rnncell tensorflow version tensorflow check place ensur old code work correctli new semant version allow flexibl use rnncell lead subtl error use code meant tensorflow exampl write multirnncelllstm build layer lstm stack layer share paramet get layer paramet write multirnncelllstmcel _ rang unsur first test code tf ensur rais error upgrad tf rnncell variabl name renam consist kera layer specif previou variabl name weight bias chang kernel bia respect may caus backward incompat regard old checkpoint contain rnn cell case use tool checkpoint_convert scripthttpsgithubcomtensorflowtensorflowblobmastertensorflowcontribrnnpythontoolscheckpoint_convertpi convert variabl name old checkpoint mani rnn function class tfnn namespac releas move tfcontribrnn move back core namespac includ rnncell lstmcell grucel number cell resid tfnnrnn_cell alias tfcontribrnn backward compat origin tfnnrnn function tfnnstatic_rnn bidirect static state save static rnn function also back tfnn namespac notabl except embeddingwrapp inputprojectionwrapp outputprojectionwrapp slowli move deprec tfcontribrnn ineffici wrapper often replac call embedding_lookup layersdens pre post process rnn rnn decod function replac altern api tfcontribseqseq intel mkl integr httpssoftwareintelcomenusarticlestensorflowoptimizationsonmodernintelarchitectur intel develop number optim deep learn primit addit matrix multipl convolut build block includ direct batch convolut pool maximum minimum averag normal lrn batch normal activ rectifi linear unit relu data manipul multidimension transposit convers split concat sum scale tensorforest estim support savedmodel export serv support clientprovid clusterspec propag worker enabl creation dynam tensorflow cluster tensorflow c librari avail window releas new opensourc version tensorboard savedmodel clihttpswwwtensorfloworgversionsmasterguidesaved_model_cli tool avail inspect execut metagraph savedmodel android releas tensorflow push jcenter easier integr app see httpsgithubcomtensorflowtensorflowblobmastertensorflowtoolsandroidinference_interfacereadmemd detail deprec tensorflow may last time build cudnn start tensorflow tri build prebuilt binari cudnn tri keep sourc code compat cudnn best effort break chang api orgtensorflowcontribandroidtensorflowinferenceinterfac throw except possibl simplifi method signatur chang contrib api ad tfcontributilcreate_exampl ad bilinear interpol tfcontribimag add tfcontribstateless random op custom seed control multivariatenormalfullcovari ad contribdistribut tensorflowcontribrnn undergo rnn cell variabl renam consist kera layer specif previou variabl name weight bias chang kernel bia respect may caus backward incompat regard old checkpoint contain rnn cell case use checkpoint_convert scripthttpsgithubcomtensorflowtensorflowblobmastertensorflowcontribrnnpythontoolscheckpoint_convertpi convert variabl name old checkpoint ad tfcontribkernel_method modul op estim primal explicit kernel method tensorflow bug fix chang python operationget_attr type attribut return python dtype version type match expect get_attr document rather protobuf enum tensorflowcontribrnn undergo rnn cell variabl renam consist kera layer specif previou variabl name weight bias chang kernel bia respect chang min_sdk version build io librari fix libxsmm integr make decode_jpegdecode_pngdecode_gif handl format sinc user frequent tri decod imag wrong type improv implicit broadcast lower improv stabil gcsbigqueri client faster retri stale transmiss remov opkernelconstructionop_def part minim proto depend vectorlaplacediag distribut ad android demo longer requir libtensorflow_demoso run libtensorflow_inferenceso still requir ad categorical_column_with_vocabulary_fil introduc op batchingunbatch tensor across sessionrun call add tflog_sigmoidx tflogtfsigmoidx tfnnsoftplusx chang hook list immut tupl allow iter associ argument introduc tfdecor ad mfcc op speech featur gener improv directsessionrun overhead error check feed valu wrong type synchron rais invalid_argu error instead asynchron rais intern error code depend undefin behavior feed tensor wrong type may need updat ad unreduc none reduc mean option loss remov weighted_ prefix reduct constant assertallclos handl dict ad gmock matcher hloinstruct add var name error variabl restor ad audiospectrogram op audio featur gener ad reduct arg loss tfplacehold repres scalar shape partial known remov estimator_specmod argument ad audiospectrogram op audio featur gener tensorboard disabl run default run remov old doc gener code gc file system integr support domain bucket eg gsbucketdomaincompath add tfsummarytext output text tensorboard run command tfdbg commandlin interfac support filter tensor node name op type tensor dtype tfstring_to_numb support int float output thank contributor releas contain contribut mani peopl googl well feae aaron schumach abhi agg admcra adriano carmezim adri arrufat agramesh akimitsu seo alan mosca alex egg alex rothberg alexand heineck alexand matyasko alexandr baranezki alexandr caulier ali siddiqui anand venkat andrew hundt androbin anmol sharma ari arno leist arron cao aurlien geron bairen yi beomsu kim carl thom cfperez changm sun corey wharton critiqjo dalei li daniel rasmussen daniel trebbien daro here david eng david norman david zhang davi song ddurham deepak subburam dmytro kyrychuk domin rossi dominik schlsser dustin tran eduardo pinho egil martinsson elliot saba eric bigelow erik smistad evan klitzk fabrizio milo falcon dai fei gao floopcz fung lam gautam gblin greg peatfield gu wang guenther schmuell han pabst harun gunaydin huaizheng ido shamay ikaro silva ilya edrenkin immexxx jame mishra jami cook jay young jayaram bobba jianfei wang jinghua joey meyer john maiden jonghoon jin julian villella jun kim jun shi junwei pan jyegerlehn karan desai karel van de plassch kb sriram khabarlakkonstantin koansin tan krivard kwotsin leandro gracia gil li chen liangliang louie helm lspvic luiz henriqu soar lszl csomor mark wong mathew wick matthew rahtz maxwel paul brickner michael hofmann miguel flore ruiz de eguino miketam mortada mehyar mycosynth namnamseo nate harada neven miculin nghia tran nick lyu niranjan hasabni nishidha oleksii kuchaiev oyesh mann singh panmari patrick paul van eck piyush chaudhari quim llimona raingo richard davi ruben vereecken sahit chintalapudi sam abraham santiago castro scott sievert sean okeef sebastian schlecht shane shubhankar deshpand spencer schaber sunyeop lee tm td thoma h p andersen tobi petti umang mehta vadim markovtsev valentin ioven vincent zhao vit stepanov vivek rane vu pham wannabesreveng weipingpku wuhaixutab wydwww xiang gao xiaolin lin xiaoyaozhuzi yaroslav bulatov yi liu yoshihiro sugi yuan terri tang yume wang yuxin wu zader zheng zhaojun zhang zhengjiajin zhipengshen zime dong zjjwri also grate file issu help resolv ask answer question part inspir discuss releas major featur improv ad java api support window ad tfspectral modul move exist fft op tfspectral keep alia old locat tf ad fourier transform op real signal tfspectral ad tfbincount function ad kera api contrib ad new lightweight queuelik object recordinput ad tfcontribimagecompose_transform function bring tfestim api nondeprec function tfcontriblearnestim move tfestimatorestim cosmet chang docker imag tf imag gcrio docker hub upgrad ubuntu ad follow featur tensorflow debugg tfdbg abil inspect python sourc file tf op tensor command print_sourc ps new navig bar cursesbas ui nodestepp command invoke_stepp use intermedi tensor dump also use tensorhandl direct feed success cont call improv perform reduc memori consumpt initi releas instal guid java c go ad text dashboard tensorboard deprec tensorflow last time releas binari mac gpu support go forward stop test mac gpu system continu welcom patch maintain mac gpu support tri keep mac gpu build work chang contrib api behavior rnncell stricter due transit toward make rnncell act like kera layer rnncell use twice two differ variabl scope error rais describ avoid behavior rnncell use variabl scope exist conflict variabl error rais show rnncell must construct argument reusetru deprec contribdistribut pmf pdf log_pmf log_pdf move bayesflowspecial_math distribut tfcontribtensor_forestpythontensor_forestrandomforestdeviceassign remov chang mvn class paramet tfcontribdistributionsmultivariatenormalful replac tfcontribdistributionsmultivariatenormaltril tfcontribdistributionsmultivariatenormalcholeski replac tfcontribdistributionsmultivariatenormaltril tfcontribdistributionsmultivariatenormaldiagwithsoftplusstdev replac tfcontribdistributionsmultivariatenormaldiagwithsoftplusscal tfcontribdistributionsmultivariatenormaldiag argument chang mu diag_stddev log scale_diag tfcontribdistributionsmultivariatenormaldiagplusvdvt remov tfcontribdistributionsmultivariatenormaldiagpluslowrank ad bug fix chang java support load model export use savedmodel api courtesi eronwright go ad support increment graph execut fix bug wal solver singlethread ad support integ spars featur valu tfcontriblayerssparse_column_with_key fix tfset_random_se determinist op stabil improv gc file system support improv tensorforest perform ad support multipl filenam glob tfmatching_fil logmessag includ timestamp begin messag ad multibox person detector exampl standalon binari android demo makefil build function ad buildgradl fulli support build tensorflow demo android window android demo read multibox prior txt file rather protobuf ad coloc constraint stagingarea sparse_matmul_op reenabl android build restrict weight rank broadcast target avoid ambigu broadcast rule upgrad libxsmm appli chang perform memori usag fix bfloat integr libxsmm spars matmul improv perform reduc memori usag allow op forward input buffer output buffer perform comput inplac improv perform cpu assign string speed matrix vector multipl matrix matrix unknown shape c api graph import support input remap control depend return import node see tf_graphimportgraphdefwithreturnoutput multipl c api updat multipl tensorboard updat includ user view imag summari variou sampl step instead last step bug involv switch run well imag dashboard fix remov data download link tensorboard tensorboard use rel data directori easier embed tensorboard automat ignor outlier domain calcul format proport valu consist multipl tfdbg bug fix fix window compat issu command histori persist across run bug fix graph valid relat tfwhile_loop java maven fix bug window instal backport fix improv extern kera kera config file handl fix thank contributor releas contain contribut mani peopl googl well besir kurtulmu adal chiriliuc akash alecdesouza alex rothberg alex sergeev alexand heineck allen guo andrea madsen ankesh anand anton loss aravind ari ashutosh da aurlien geron bairen yi bakunyo ben visser bradi zhou calpa liu changm sun chih cheng liang christoph berner clark zinzow conchylicultor dan elli dan j dan jarvi daniel ylitalo darren garvey david norman david truong davidnorman dimitar pavlov dmitri persiyanov eddi elirex erfan nouri eron wright evgeni mazovetskiy fabrizio misto milo fanlu fisher coder florian courtial franck dernoncourt gagan goel gao xiang gautam gefu tang guilherm guschmu hannah provenza han pabst hartb hsiao yi huazuo gao igor chorewicz ivan smirnov jakub kolodziejczyk jason gavri jason morton jay young jayaram bobba jeremi sawruk jiam liu jihun choi jiqiu joan thibault john c f joji georg varghes jon malmaud julian berman julian niedermei junpeng lao kai sasaki kankroc karl lessard kyle bostelmann lezcano li yi luo yun lurker mahmoudabuzaina mandeep singh marek kolodziej mark szepieniec martial hue medhat omr memo akten michael gharbi michal defferrard milan straka mircot mlucool muammar ibn faisal nayana thorat nghiattran nichola connor nikolaa steenbergen niraj patel niranjan hasabni panmari pavel bulanov philip pri henningsen philipp jund polonez prayag verma rahul kavi raphael gontijo lope rasbt raven iqq reid pryzant richard shin rizwan asif russel kaplan ryo asakura rdiger busch saisai shao sam abraham sanosay sean papay seaotterman selay shaurya sharma sriram narayanamoorthi stefano probst taknevski tbonza teldridg tim anglad toma reimer tomer gafner valentin ioven vamsi sripathi viktor malyi vit stepanov vivek rane vlad firoiu wangg xiaoyu tao yaroslav bulatov yi liu yuan terri tang yufeng yume wang yuxin wu zafar takhirov zime dong also grate file issu help resolv ask answer question part inspir discuss releas bug fix chang chang graphconstructor increas version import instead take min version googl cloud storag fix remov tfcore tfpython modul api never intend expos pleas use object toplevel tf modul instead releas major featur improv xla experiment initi releas xlahttpswwwtensorfloworgversionsmasterexperimentalxla domainspecif compil tensorflow graph target cpu gpu tensorflow debugg tfdbg commandlin interfac api new python docker imag ad made pip packag pypi compliant tensorflow instal pip instal tensorflow command sever python api call chang resembl numpi close android person detect track demo implement scalabl object detect use deep neural network new experiment java apihttpsgithubcomtensorflowtensorflowtreemastertensorflowjava add new android imag styliz demo base learn represent artist style add yolo object detector support break chang api help upgrad exist tensorflow python code match api chang prepar convers scripthttpsgithubcomtensorflowtensorflowtreemastertensorflowtoolscompat tensorflowmodel move separ github repositori divis modulu oper match python floor semant appli tfdiv tfmod well obtain forc integ truncat base behavior use tftruncatediv tftruncatemod tfdivid recommend divis function tfdiv remain semant respond python futur mechan tfrevers take indic axe revers eg tfreversea true fals true must written tfreversea tfreverse_v remain final tfmul tfsub tfneg deprec favor tfmultipli tfsubtract tfneg tfpack tfunpack deprec favor tfstack tfunstack tensorarraypack tensorarrayunpack get deprec favor tensorarraystack tensorarrayunstack follow python function argument chang use axi refer specif dimens kept old keyword argument compat current remov well final tfargmax dimens becom axi tfargmin dimens becom axi tfcount_nonzero reduction_indic becom axi tfexpand_dim dim becom axi tfreduce_al reduction_indic becom axi tfreduce_ani reduction_indic becom axi tfreduce_join reduction_indic becom axi tfreduce_logsumexp reduction_indic becom axi tfreduce_max reduction_indic becom axi tfreduce_mean reduction_indic becom axi tfreduce_min reduction_indic becom axi tfreduce_prod reduction_indic becom axi tfreduce_sum reduction_indic becom axi tfreverse_sequ batch_dim becom batch_axi seq_dim becom seq_axi tfsparse_concat concat_dim becom axi tfsparse_reduce_sum reduction_ax becom axi tfsparse_reduce_sum_spars reduction_ax becom axi tfsparse_split split_dim becom axi tflistdiff renam tfsetdiffd match numpi name tfinv renam tfreciproc componentwis reciproc avoid confus npinv matrix invers tfround use banker round round even semant match numpi tfsplit take argument revers order differ keyword particular match numpi order tfsplitvalu num_or_size_split axi tfsparse_split take argument revers order differ keyword particular match numpi order tfsparse_splitsp_input num_split axi note temporarili made tfsparse_split requir keyword argument tfconcat take argument revers order differ keyword particular match numpi order tfconcatvalu axi name tfimagedecode_jpeg default use faster dct method sacrif littl fidel improv speed one revert old behavior specifi attribut dct_methodinteger_accur tfcomplex_ab remov python interfac tfab support complex tensor use instead c api tensorflowcc input output etc move tensorflowop namespac tensorflow templatevar_scop properti renam variable_scop syncreplicasoptim remov syncreplicasoptimizerv renam syncreplicasoptim tfzeros_initi tfones_initi return callabl must call initi argument code replac tfzeros_initi tfzeros_initi sparsetensorshap renam sparsetensordense_shap sparsetensorvalueshap replac tfscalar_summari tfhistogram_summari tfaudio_summari tfimage_summari tfsummaryscalar tfsummaryhistogram tfsummaryaudio tfsummaryimag respect new summari op take name rather tag first argument mean summari op respect tensorflow name scope replac tftrainsummarywrit tftrainsummarywritercach tfsummaryfilewrit tfsummaryfilewritercach remov registershap public api use c shape function registr instead deprec _ref dtype python api c api tensorflowcc input output etc move tensorflowop namespac tensorflow chang arg order softmaxsparse_softmaxsigmoid_cross_entropy_with_logit label predict forc use name arg tfnnrnn_cell function tfnnrnn except dynamic_rnn raw_rnn temporarili tfcontribrnn move back core tf tfnnsampled_softmax_loss tfnnnce_loss chang api need switch input label label input paramet shape keyword argument sparsetensor constructor chang name dense_shap tensorflow tensorflow bug fix chang numer c api updat new op parallel_stack introduc common tf io compress option constant recordreaderrecordwrit add sparse_column_with_vocabulary_fil specifi featur column transform string featur id map defin vocabulari file ad index_to_string_t return lookup tabl map indic string add string_to_index_t return lookup tabl match string indic add parallelforwithworkerid function add string_to_index_t return lookup tabl match string indic support restor session checkpoint file v contribsession_bundl ad tfcontribimagerot function arbitrari angl ad tfcontribframeworkfilter_vari conveni function filter list variabl base regular express make_templ take option custom_getter_ param ad comment exist directori handl recursive_create_dir ad op qr factor divid mod python api use floor python semant android prebuilt lib built nightli android cmakegradl build tensorflow infer librari contribandroidcmak android much robust session initi code android tf stat expos directli demo log debug mode activ android newbett readmemd document saved_model avail tfsaved_model empti op state improv speed scatter_upd cpu assign oper chang reduce_join treat reduction_indic way reduce_ op move tensorforestestim contribtensor_forest enabl compil optim default allow configur configur tfdivid honor name field make metric weight broadcast strict add new queuelik stagingarea new op stage unstag enabl inplac updat op string cpu speed string concat thank contributor releas contain contribut mani peopl googl well aaron hu abhishek aggarw adam michael adriano carmezim afirsraftgarri alexand novikov alexand rosenberg johansen andrew gibianski andrew hundt anish shah anton loss bnoi boyuanjiang carl thom chad kennedi comic chang connor braa daniel n lang daniel trebbien danielgordon darci liu darren garvey dmitri lapin eron wright evan cofer fabrizio milo finbarr timber franck dernoncourt garrett smith guschmu hao wei henrik holst huazuo gao ian issac jacob israel jangsoo park jin kim jingtian peng john pope kye bostelmann liangliang ling zhang luheng luke iwanski lvli michael basilyan mihir patel mikalai drabovich morten newg nick butlin nishant shukla pengfei ni przemyslaw tredak rasbt ronni rudolf rosa rustingsword sam abraham sam putnam seongahjo shi jiaxin skavulya steffen mller theuser tiriplicamihai vhasanov victor costan vit stepanov wangda tan wenjian huang xingdong zuo yaroslav bulatov yota toyama yuan terri tang yuxin wu also grate file issu help resolv ask answer question part inspir discuss releas major featur improv tensorflow build run microsoft window test window window window server support languag includ python via pip packag c cuda cudnn support gpu acceler known limit includ current possibl load custom op librari gc hdf file system current support follow op current implement dequant quantizeanddequant quantizedavgpool quantizedbatchnomwithglobalnorm quantizedbiasadd quantizedconcat quantizedconvd quantizedmatmul quantizedmaxpool quantizedownandshrinkrang quantizedrelu quantizedrelu quantizedreshap quantizev requantizationrang requant go experiment api go creat execut graph httpsgodocorggithubcomtensorflowtensorflowtensorflowgo new checkpoint format becom default tftrainsav old v checkpoint continu readabl control write_vers argument tftrainsav default write new v format significantli reduc peak memori requir latenc incur restor ad new librari librari matrixfre iter solver linear equat linear leastsquar eigenvalu singular valu tensorflowcontribsolv initi version lanczo bidiagon conjug gradient cgl ad gradient matrix_solve_l self_adjoint_eig larg cleanup add second order gradient op c gradient improv exist gradient op differenti multipl time ad solver ordinari differenti equat tfcontribintegrateodeint new contrib modul tensor name axe tfcontriblabeled_tensor visual embed tensorboard break chang api busadjac enum replac protocol buffer deviceloc pci bu index start instead bus_id use previous bus_ani use envfileexist filesystemfileexist return tensorflowstatu instead bool caller function convert bool ad ok call c api type tf_sessionwithgraph renam tf_session indic prefer use languag bind tensorflow previous tf_session renam tf_deprecatedsess renam tf_port tf_output c api remov registershap public api use c shape function registr instead index start instead bus_id use previous bus_ani use rnn cell rnn function use differ variabl scope consist layer tfcontriblay mean old checkpoint written use code load chang without provid saver list variabl renam exampl variabl scope chang includ rnn rnn tfnnrnn tfnndynamic_rnn move linearmatrix weight linearbia bias rnn cell deprec tfselect op tfwhere use instead sparsetensorshap renam sparsetensordense_shap sparsetensorvalueshap envfileexist filesystemfileexist return tensorflowstatu instead bool caller function convert bool ad ok call c api type tf_sessionwithgraph renam tf_session indic prefer use languag bind tensorflow previous tf_session renam tf_deprecatedsess c api renam tf_port tf_output c api caller retain ownership tf_tensor object provid tf_run tf_sessionrun tf_setattrtensor etc renam tfimageper_image_whiten tfimageper_image_standard move summari protobuf constructor tfsummari submodul deprec histogram_summari audio_summari scalar_summari image_summari merge_summari merge_all_summari combin batch_ regular version linear algebra fft op regular op handl batch well batch_ python interfac remov tfall_vari tfvariabl tfinitialize_all_vari renam tfglobal_vari tfglobal_vari tfglobal_variables_initi respect tfzeros_initi tfones_initi return callabl must call initi argument code replac tfzeros_initi tfzeros_initi bug fix chang use threadsaf version lgamma function fix tfsqrt handl neg argument fix bug caus incorrect number thread use multithread benchmark perform optim batch_matmul multicor cpu improv trace matrix_set_diag matrix_diag_part gradient work rectangular matric support svd complex valu matric thank contributor releas contain contribut mani peopl googl well ahsc abhi agg admcra adriano carmezim aki sukegawa alex kendal alexand rosenberg johansen amcra amlan kar andr simpelo andrea eberl andrew hundt arnaud lenglet bnoi balachand ramachandran ben barsdel ben guidarelli benjamin mularczyk bur duan cg changm sun chani corey wharton dan j daniel trebbien darren garvey david brailovski david jone di zeng djangopeng dr kashif rasul drag fabrizio misto milo fabrcio ceschin fp ghedeon guschmu gken eraslan haosdent huang haroen viaen harold cooper henrik holst hoangmit ivan ukhov javier dehesa jingtian peng jithin odattu joan pastor johan math johann mayer jongwook choi justu schwabed kai wolf kamil hryniewicz kamran amini karen brem karl lattim kborer ken shirriff kevin rose larissa laich laurent mazar leonard lee liangchi hsieh liangliang luke iwanski marek kolodziej moustafa alzantot mrqianjinsi nagachika neil han nick meehan niel ole salscheid nikhil mishra nschuc ondrej skopek ondej filip oscardpan pablo moyano przemyslaw tredak qitaishui quarazi raix philipp helo sam abraham sriramramesh till hoffmann tushar soni tvn tyfkda uwe schmidt victor villa vit stepanov vladislav gubarev wujingyu xuesong yang yi liu yilei yang youyou yuan terri tang yume wang zafar takhirov zhongyuk zime dong guotong also grate file issu help resolv ask answer question part inspir discuss releas major featur improv cuda support cudnn support hdf support add fuse lstm support via cudnn tensorflowcontribcudnn_rnn improv support numpi style basic slice includ non stride ellips newaxi neg indic exampl complic express like foo tfnewaxi support addit preliminari nonbroadcast support slice assign variabl particular one write varassign deprec tfop_scop tfvariable_op_scop favor unifi tfname_scop tfvariable_scop new argument order tfvariable_scop incompat previou version introduc coreutiltensor_bundl modul modul effici serializedeseri tensor disk use tf new checkpoint format ad tfsvd comput singular valu decomposit svd dens matric batch matric cpu ad gradient eigenvalu eigenvector comput use self_adjoint_eig self_adjoint_eigv elimin batch_ method linear algebra fft op promot nonbatch version op handl batch matric tracingtimelin support distribut runtim gpu profil yet c api give access infer shape tf_graphgettensornumdim tf_graphgettensorshap shape function core op move c via register_opsetshapefn python shape infer registershap call use c shape function common_shapescall_cpp_shape_fn futur releas remov registershap python bug fix chang document includ oper overload tensor variabl tensorflow__git_version__ allow user identifi version code tensorflow compil also tensorflow__git_compiler__ identifi compil use compil tensorflow core improv multithread perform batch_matmul lstmcell basiclstmcel multirnncel constructor default state_is_tupletru quick fix transit new default simpli pass argument state_is_tuplefals devicefactori adddevic createdevic function return statu instead void int element listtyp argument longer place host memori default necessari listtyp argument kernel place host memori use hostmemori annot uniform_unit_scaling_initi longer take full_shap arg instead reli partit info pass initi function call nodedef protocol messag defin file node_defproto instead graphproto opsnogradi renam opsnotdifferenti opsnogradi remov soon doth dotgraph remov earli analysi tool prior tensorboard longer use remain histori someon find code use regexph remov public interfac tf user need regular express depend librari directli rather via tensorflow thank contributor releas contain contribut mani peopl googl well abid k afshinrahimi aidangg ajay rao aki sukegawa alex rothberg alexand rosenberg johansen andrew gibianski andrew thoma applehol bastiaan quast ben dilday bofu chen brandon amo bryon gloden cissp chani chenyang liu corey wharton daeyun shin daniel juliu lasiman daniel waterworth danijar hafner darren garvey deni gorbachev djangopeng egorkrivov elia palm eric platon fabrizio milo gaetan semet georg nebehay gu wang gustav larsson haosdent harold cooper hwzz ichuang igor babuschkin igor macedo quintanilha ilya edrenkin ironhead jakub kolodziejczyk jennif guo jihun choi jona rauber josh bleecher snyder jpangburn jule gagnonmarchand karen brem kborer kiril bobyrev laurent mazar longqi yang malith yapa maniteja nandana martin englund matthia winkelmann mecab muik jeon nand dalal niel ole salscheid nikhil mishra park jiin pieter de rijk raix ritwik gupta sahil sharma sangheum hwang sergejsrk shinichiro hamaji simon denel steve suiyuan tiago jorg tijmen tieleman tvn tyfkda wang yang weit kuo wenjian huang yan chen yenchenlin yuan terri tang yuncheng li yunfeng wang zack polizzi zhongzyd zime dong perhapszzi also grate file issu help resolv ask answer question part inspir discuss releas major featur improv ad support c shape infer ad graphconstruct c api major revis graphconstruct c api support makefil build io ad mac gpu support full version tfslim avail tfcontribslim ad kmean cluster wal matrix factor bug fix chang allow gradient comput scalar valu perform improv grpc improv support fp new highlevel op tfcontriblayersmetr new featur tensorboard shape display exponenti smooth faster stabl googl cloud storag gc filesystem support support zlib compress decompress tfrecordread tfrecordwrit support read anim gif improv support sparsetensor ad support probabl distribut dirichlet beta bernoulli etc ad python interfac reset resourc contain mani bugfix perform improv mani document fix thank contributor releas contain contribut mani peopl googl well alex rothberg andrew royer austin marshal blackcoal bob adolf brian diesel charlesemmanuel dia chemelnucfin chri lesniewski daeyun shin daniel rodriguez danijar hafner darci liu kristinn r thrisson daniel castro dmitri savintsev kashif rasul dylan paiton emmanuel odek ernest grzybowski gavin sherri gideon dresdner gregori king harold cooper heinzbeinz henri saputra huarong huo huazuo gao igor babuschkin igor macedo quintanilha ivan ukhov jame fysh jan wilken drrie jihun choi johnni lim jonathan raiman justin franci lilac li yi marc khouri marco marchesi max melnick micael carvalho mikow mostafa gazar nico galoppo nishant agraw petr janda yuncheng li raix robert rose robindesboi rohit girdhar sam abraham satok sergey kishchenko sharkd tu shotat siddharth agraw simon denel sonobfio sunyeop lee thij vogel tobegithub undo wang yang wenjian huang yaroslav bulatov yuan tang yunfeng wang zime dong also grate file issu help resolv ask answer question part inspir discuss releas major featur improv python support binari ad io support ad support process gpu maco ad makefil better crossplatform build support c api fp support improv complex support mani op higher level function contriblayerslossesmetricslearn featur tensorboard improv support string embed spars featur rnn api final offici see eg tfnndynamic_rnn tfnnrnn class tfnnrnn_cell tensorboard audio dashboard associ audio summari bug fix chang turn cudnn autotun ad support use thirdparti python optim algorithm contribopt googl cloud storag filesystem support hdf support add support convolut pool updat grpc releas eigen version upgrad switch eigen thread pool tfnnmoment accept shift argument shift good estim mean improv numer stabil also chang behavior shift argument tfnnsufficient_statist perform improv mani bugfix mani document fix tensorboard fix graph one data point nan valu reload button autoreload tooltip scalar chart run filter stabl color tensorboard graph visual support run metadata click node view stat particular run show runtim statist memori comput usag unus node fade thank contributor releas contain contribut mani peopl googl well aaron schumach aidan dang akihiko itoh aki sukegawa arbit chen aziz alto danijar hafner erik erwitt fabrizio milo felix maximilian mller henri saputra sung kim igor babuschkin jan zike jeremi barn jesper steen mller johann mayer justin harri kashif rasul kevin robinson loo rong jie luca moura ukasz bieniaszkrzywiec mario cho maxim grechkin michael heilman mostafa rahmani mourad mourafiq ninotoshi orion reblitzrichardson yuncheng li raoqiyu robert dipietro sam abraham sebastian raschka siddharth agraw snakecharm stephen roller sung kim sunyeop lee thij vogel till hoffmann victor melo vill kallioniemi wale abdulla wenjian huang yaroslav bulatov yeison rodriguez yuan tang yuxin wu zhongzyd zime dong zohar jackson also grate file issu help resolv ask answer question part inspir discuss releas major featur improv ad distribut runtim use grpc move skflow contriblearn better linear optim contriblinear_optim random forest implement contribtensor_forest ctc loss decod contribctc basic support half data type better support load user op see exampl contrib allow use nonblock eigen threadpool tensorflow_use_eigen_threadpool defin add extens mechan ad network file system support tensorboard display metadata stat run time memori usag devic use tensor shape bug fix chang util inspect checkpoint basic trace timelin support allow build cudnn incl rnnlstm support ad instruct binari protobuf librari fast serial without mb limit ad special function boolstrict tensor explicitli compar none shape strict fed valu must shape compat tensor replac expos tfwhile_loop deprec control_flow_opswhil run take runopt runmetadata enabl time stat fix lot potenti overflow problem op kernel variou perform improv especi rnn convolut mani bugfix nightli build tutori test mani test improv new exampl transfer learn deepdream ipython notebook ad tutori mani document fix thank contributor releas contain contribut mani peopl googl well abhinav upadhyay aggelo avgerino alan wu alexand g de g matthew aleksandr yahnev amchercashin andi kitchen aurelien geron awni hannun banditcat ba veel cameron chen cg chenglung sung christoph bonnett dan becker dan van boxel daniel golden danijar hafner danni goodman dave decker david dao david kretch dongjoon hyun dustin dorroh elin eurico doirado erik erwitt fabrizio milo gaohuazuo ibli lin igor babuschkin isaac hode isaac turner ivn vall j yegerlehn jack zhang jame wexler jan zike jay young jeff hodg jmtatsch johnni lim jona meinertz hansen kanit wongsuphasawat kashif rasul ken shirriff kenneth mitchner kenta yonekura konrad magnusson konstantin lopuhin lahwran lekaha liyongsea luca adam makseq mandeep singh manipopopo mark ameri memo akten michael heilman michael peteuil nathan dali nicola fauchereau ninotoshi olav nymoen panmari papelita pedro lope pranav sailesh mani rj ryan rob culliton robert dipietro ronrest sam abraham sarath shekkizhar scott graham sebastian raschka sung kim surya bhupatiraju sy ahm till hoffmann timsl urimend vesnica vlad frolov vlad zagorodniy weit kuo wenjian huang william dmitri breaden madden wladimir schmidt yuan tang yuwen yan yuxin wu yuya kusakab zhongzyd znah also grate file issu help resolv ask answer question part inspir discuss releas bug fix chang ad gfileopen gfilecopi use input_datapi fix saver bug makedir tri creat empti directori gpu pip wheel built cuda cudnnv make requir binari releas lower version cudacudnn support instal sourc set option configur fix dataset encod exampl python danijar fix pip instal packag protobuf part wheel requir protobuf b fix mac pip instal numpi requir pip improv fix docker imag releas major featur improv allow use instal cuda cudnn r add support cudnn r ad contrib directori unsupport experiment featur includ higher level layer modul ad easi way add dynam load userdefin op built good suit test thing break less ad metagraphdef make easier save graph metadata ad assign deep learn tensorflow udac cours bug fix chang ad version framework graphdef ensur compat enforc python compat intern chang show sensibl separ commit opensourc doc gener unfork eigen simplifi build file clean c header tensorflow use submodul anoth bazel build new op eg fft _matrix_solv support data type mani op perform improv variou bugfix document fix improv break chang api adjustcontrast kernel deprec new kernel adjustcontrastv take output float adjust_contrast take data type adjust_brightnesss delta argument alway assum norm imag float point format independ data type input imag imag process op take min max input cast safeti handl saturate_cast make sure underflow handl cast data type smaller rang c api user islegacyscalar islegacyvector gone tensorshapeutil sinc tensorflow scalar strict within googl exampl shape argument tfreshap cant scalar anymor open sourc releas alreadi scalar strict outsid googl isscalar isvector exact replac follow file remov tensorflowcorepubl envh platformenvh statush libcorestatush tensorh frameworktensorh tensor_shapeh frameworktensor_shapeh partial_tensor_shapeh frameworkpartial_tensor_shapeh tensorflow_serverh delet c api user tensorshapeshortdebugstr renam debugstr previou debugstr behavior gone needlessli verbos produc confus empti string scalar graphoptionsskip_common_subexpression_elimin remov graph optim option specifi via graphoptionsoptimizeropt assert_ok expect_ok macro conflict extern project renam tf_assert_ok tf_expect_ok exist macro current maintain shortterm compat remov nonpubl nnrnn variou nnseqseq method return final state instead list state tfscatter_upd longer guarante lexicograph largest index use updat duplic entri exist tfimagerandom_cropimag height width tfrandom_cropimag height width depth tfrandom_crop work rank imag c randomcrop op replac pure python renam tftestgettempdir tftestisbuiltwithcuda tftestget_temp_dir tftestis_built_with_cuda pep compat parse_exampl interfac chang old interfac access legacy_parse_exampl relat function new variabl ad collect sever time even list duplic pass constructor python api properli set list member attrvalu construct graphdef messag empti list serial graph chang chang forward backward compat break test compar gener graphdef golden serial graphdef discourag thank contributor releas contain contribut mani peopl googl well akiomi kamakura alex vig alexand rosenberg johansen andr cruz arun ahuja bart coppen bernardo pire carl vondrick cesar salgado chen yu christian jauvin damien aymer dan vanderkam denni britz dongjoon hyun eren gven erik erwitt fabrizio milo g hussain chinoy jim fleme joao felip santo jona meinertz hansen joshi rekha julian viereck keiji ariyama kenton lee krishna sankar kristina chodorow linchao zhu luka krecan mark borgerd mark daoust moussa taifi nathan howel naveen sundar govindarajulu nick sweet nikla riekenbrauck olivi grisel patrick christ povila liubauska rainer wasserfuhr romain thouvenin sagan bollig sam abraham taehoon kim timothi j laurent vlad zavidovych yangq jia yilin juang yuxin wu zachari lipton zero chen alan wu brchiu emmjaykay jalammar mandarshind nsipplswezey ninotoshi panmari prolearn rizzomichaelg also grate file issu help resolv ask answer question part inspir discuss releas major featur improv python support via chang python codebas abil specifi python version via configur improv gpu perform memori usag convnet benchmarkshttpsgithubcomsoumithconvnetbenchmarksissu roughli equival nativ cudnn v perform improv mostli due move bit indic faster shuffl kernel improv come later releas bug fix lot fix document tutori mani contribut public close issu github issu backwardsincompat chang tfnnfixed_unigram_candidate_sampl chang default distort attribut bug origin releas fix ad deterministicrandomtesttool migration_utilspi use migrat tf x tf need make sure comput still happen correctli along way see valid correct migrat guidehttpswwwtensorfloworgguidemigratevalidate_correct info releas initi releas tensorflow tensorflow go construct execut tensorflow graph go godochttpsgodocorggithubcomtensorflowtensorflowtensorflowgostatussvghttpsgodocorggithubcomtensorflowtensorflowtensorflowgo warn api defin packag stabl chang without notic goe packag path githubcomtensorflowtensorflowtensorflowgo build tensorflow c librari sourc quickstart instruct work perhap releas archiv avail oper system architectur your use differ version cudacudnn tensorflow c librari must built sourc prerequisit bazelhttpswwwbazelbuildversionsmasterdocsinstallhtml environ build tensorflow sourc code linux macoshttpswwwtensorfloworginstallsourc dont need gpu support tri follow sh sudo aptget instal python swig pythonnumpi linux brew instal swig os x homebrew protocol buffer compil protoc xhttpsgithubcomgoogleprotobufreleas build download sourc code sh go get githubcomtensorflowtensorflowtensorflowgo build tensorflow c librari sh cd gopathsrcgithubcomtensorflowtensorflow configur bazel build c opt tensorflowlibtensorflowso take ten minut also build gpu make libtensorflowso libtensorflow_frameworkso avail linker done either copi system locat eg sh sudo cp gopathsrcgithubcomtensorflowtensorflowbazelbintensorflowlibtensorflowso usrlocallib sudo cp gopathsrcgithubcomtensorflowtensorflowbazelbintensorflowlibtensorflow_frameworkso usrlocallib b set environ variabl sh export library_pathgopathsrcgithubcomtensorflowtensorflowbazelbintensorflow linux export ld_library_pathgopathsrcgithubcomtensorflowtensorflowbazelbintensorflow os x export dyld_library_pathgopathsrcgithubcomtensorflowtensorflowbazelbintensorflow build test sh go gener githubcomtensorflowtensorflowtensorflowgoop go test githubcomtensorflowtensorflowtensorflowgo gener wrapper function op go function correspond tensorflow oper gener opwrappersgo regener prerequisit protocol buffer compil protoc xhttpsgithubcomgoogleprotobufreleas tensorflow repositori gopath sh go gener githubcomtensorflowtensorflowtensorflowgoop support use stack overflowhttpstackoverflowcomquestionstaggedtensorflow andor github issueshttpsgithubcomtensorflowtensorflowissu contribut contribut welcom make signif chang probabl best discuss github issuehttpsgithubcomtensorflowtensorflowissu invest much time github pull request use contribut tensorflow lite tensorflow lite tensorflow lightweight solut mobil embed devic enabl lowlat infer ondevic machin learn model small binari size fast perform support hardwar acceler see document httpswwwtensorfloworglit document edit made tensorflowlitegdocgdoc june tflm codebas move standalon github repositoryhttpsgithubcomtensorflowtflitemicro audio frontend tensorflow oper featur gener common modul use audio process modul featur gener also call frontend receiv raw audio input produc filter bank vector valu specif audio signal goe preemphasi filter option get slice overlap frame window function appli frame afterward fourier transform frame specif shorttim fourier transform calcul power spectrum subsequ comput filter bank oper provid implement tensorflow tensorflow lite oper encapsul function audio frontend frontend op receiv audio data produc mani unstack frame filterbank audio pass accord configur process use lightweight librari perform slice window function shorttim fft filterbank calcul nois reduct auto gain control logarithm scale pleas refer op document detail differ configur paramet howev import clarifi contract op frontend op produc mani unstack frame possibl given audio input mean output rank tensor row correspond sequencetim dimens column featur dimens expect op receiv right input term posit audio stream amount need produc expect output thu logic slice cach otherwis rearrang input andor output oper must handl extern graph exampl ms audio input produc output tensor shape num_channel configur window_sizem window_stepm reason reach point audio ms there enough audio construct complet window due function effici reason provid follow function relat input process pad boolean flag zero_pad indic whether pad audio zero gener output frame base window_step mean exampl would gener tensor shape num_channel ad enough zero step avail audio still abl creat complet window audio window zero exampl frame equival ms full zero respect todo stack integ indic mani contigu frame stack output tensor first dimens tensor shape stack_siz num_channel exampl stack_siz exampl would produc output tensor shape pad fals pad set true stride integ frame_strid indic stride step use gener output tensor thu determin second dimens exampl frame_strid output tensor would shape zero_pad set fals zero_pad set true todo note would expect stride step larger stack_siz enforc audio frontend librari featur gener featur gener librari also call frontend receiv raw audio input produc filter bank vector valu raw audio input expect bit pcm featur configur sampl rate specif audio signal goe preemphasi filter option get slice potenti overlap frame window function appli frame afterward fourier transform frame specif shorttim fourier transform calcul power spectrum subsequ comput filter bank default librari configur set default perform differ process task take place frontend_utilc function c void frontendfillconfigwithdefaultsstruct frontendconfig config singl invoc look like c struct frontendconfig frontend_config frontendfillconfigwithdefaultsfrontend_config int sample_r frontendpopulatestatefrontend_config frontend_st sample_r int_t audio_data pcm audio sampl khz size_t audio_s number audio sampl size_t num_samples_read mani sampl process struct frontendoutput output frontendprocesssampl frontend_st audio_data audio_s num_samples_read outputs printfd outputvaluesi print featur vector someth note exampl frontend consum mani sampl need audio data produc singl featur vector accord frontend configur enough sampl avail gener featur vector return size valu pointer null exampl use frontend provid frontend_maincc binari frontend_main exampl expect path file contain int pcm featur sampl rate khz upon execut print coeffici accord frontend default configur extra featur extra featur frontend librari includ nois reduct modul well gain control modul nois cancel remov stationari nois channel signal use low pass filter gain control novel automat gain control base dynam compress replac wide use static log root compress disabl default memori map binari frontend_memmap_main show sampl usag avoid initi code applic first run frontend_generate_memmap creat headersourc file use bake frontend state command could autom part build process use output directli tf lite experiment uniti plugin directori contain experiment sampl uniti plugin base experiment tf lite c api sampl demonstr run infer within uniti way c interpret wrapper note nativ tf lite plugin must built use uniti plugin place assetstensorflowlitesdkplugin editor note gener share librari name suffix platformdepend sh bazel build c opt tensorflowlitectensorflowlite_c android replac android_arm android_arm bit sh bazel build c opt configandroid_arm tensorflowlitectensorflowlite_c encount issu nativ plugin discoveri mac darwin platform tri renam libtensorflowlite_cdylib tensorflowlite_cbundl acceler allowlist experiment librari tool determin whether acceler engin work well given devic given model platformagnost androidfirst androidfocus sinc much smaller set configur io mean much less need allowlist io tflite code live tflite codebas sinc tflite first opensourc custom howev meant support user direct use nnapi mediapip code gener accuraci metric tflite model packag provid build block gener accuraci metric use minibenchmark gpu deleg compat databas packag provid data code decid gpu deleg support specif android devic custom databas convert checkedin flatbuff json run flatc rawbinari strictjson databasefb gpu_compatibilitybin edit json convert json flatbuff flatc b databasefb gpu_compatibilityjson rebuild javatensorflowlitegpu tensorflow lite convert tensorflow lite convert convert tensorflow graph tensorflow lite graph addit usag also detail usag document usag document usag inform given document commandlin glossarygdocrconvertcmdline_referencemd commandlin examplesgdocrconvertcmdline_examplesmd python api examplesgdocrconvertpython_apimd convert fit tensorflow landscap applic develop train tensorflow model tensorflow lite convert accept model gener tensorflow lite flatbufferhttpsgooglegithubioflatbuff file convert current support savedmodelshttpswwwtensorfloworgguidesaved_modelusing_savedmodel_with_estim frozen graph model gener via freeze_graphpyhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythontoolsfreeze_graphpi tfkera model file tensorflow lite flatbuff file ship client devic gener mobil devic tensorflow lite interpret handl ondevic flow repres diagram drawinggdocrimagesconvertworkflowsvg toco file move gdocconvertgdocconvert use tf lookup op tflite object file provid exampl demonstr use tf lookup op tflite support tensorflow lookup op tflite support statu tensorflow lookup op tabl tr tdstrongemtf python lookup opsemstrong td td colspan strongemsupport statusemstrong td tr tr td rowspan tflookupstatichasht td td rowspan colspan support tensor initi p support map type string int int string td tr tr tr tr td rowspan tflookuphasht td td rowspan colspan support tensor initi p support map type string int int string td tr tr tr tr td rowspan tflookupindex_to_string_table_from_tensor td td rowspan colspan support td tr tr tr tr td rowspan tflookupindex_table_from_tensor td td rowspan colspan support nativ num_oov_bucket dtypedtypesstr p oov concept need hrefhttpswwwtensorfloworgliteguideops_select titleselect tensorflow oper use tensorflow liteflex delegatea td tr tr tr tr tdtflookupstaticvocabularyt td td colspan support need hrefhttpswwwtensorfloworgliteguideops_select titleselect tensorflow oper use tensorflow liteflex delegatea p use tfindex_table_from_tensor tfindex_to_string_table_from_tensor instead possibl dont want use hrefhttpswwwtensorfloworgliteguideops_select titleselect tensorflow oper use tensorflow liteflex delegatea td tr tr tdtflookupexperimentaldensehasht p tfcontriblookupmutablehasht p tfcontriblookupmutabledensehasht td td colspan support yet td tr tr tdtflookupidtablewithhashbucket td td colspan support need hrefhttpswwwtensorfloworgliteguideops_select titleselect tensorflow oper use tensorflow liteflex delegatea td tr tabl python sampl code find python sampl code static hash tabl string int int_valu tfconstant dtypetfint string_valu tfconstantbar foo baz dtypetfstr initi tflookupkeyvaluetensorinitializerstring_valu int_valu tabl tflookupstatichashtableiniti tfcontrol_dependenciestfinitializerstables_initi input_string_tensor tfcompatvplaceholdertfstr shape out_int_tensor tablelookupinput_string_tensor static hash tabl initi file string int opentmpvocabfil r f word freadsplitlin string_valu tfconstantword dtypetfstr initi tflookupkeyvaluetensorinitializerstring_valu int_valu tabl tflookupstatichashtableiniti tfcontrol_dependenciestfinitializerstables_initi input_string_tensor tfplaceholdertfstr shape out_int_tensor tablelookupinput_string_tensor index tabl string int unk_id vocab tfconstantemerson lake palmer vocab_t tflookupindex_table_from_tensorvocab default_valueunk_id input_tensor tfcompatvplaceholdertfstr shape tfcontrol_dependenciestfinitializerstables_initi out_tensor vocab_tablelookupinput_tensor index tabl initi file string int opentmpvocabfil r f word freadsplitlin unk_id vocab tfconstantword vocab_t tflookupindex_table_from_tensorvocab default_valueunk_id input_tensor tfcompatvplaceholdertfstr shape tfcontrol_dependenciestfinitializerstables_initi out_tensor vocab_tablelookupinput_tensor index string tabl int string unk_word unknown vocab tfconstantemerson lake palmer vocab_t tflookupindex_to_string_table_from_tensorvocab default_valueunk_word input_tensor tfcompatvplaceholdertfint shape tfcontrol_dependenciestfinitializerstables_initi out_tensor vocab_tablelookupinput_tensor index string tabl initi file int string opentmpvocabfil r f word freadsplitlin unk_word unknown vocab tfconstantword vocab_t tflookupindex_to_string_table_from_tensorvocab default_valueunk_word input_tensor tfcompatvplaceholdertfint shape tfcontrol_dependenciestfinitializerstables_initi out_tensor vocab_tablelookupinput_tensor includ hashtabl op tflite current hashtabl op part tflite builtin op set dont need add hashtabl op manual directori contain optim implement int fulli integ kernel weight filter conv expect symmetr perchannel quantiz rang inputsactiv expect asymmetr perlay quantiz rang experiment prone chang directori contain refer implement int fulli integ kernel weight filter conv expect symmetr perchannel quantiz rang inputsactiv expect asymmetr perlay quantiz rang experiment prone chang folder contain conveni librari call tfshim tf tflite op kernel api summari librari creat shim custom op api tf tflite develop write custom op minim binari runtim overhead exampl usag input preprocess op kernel use tf tflite background need implement logic support tf builtin op altern build custom op op need run ondevic need written c client api custom op exampl featur process especi textual input ml model involv oper dont lend well vector code written c function would much shorter readabl howev tensorflow tflite api creat op kernel moment ident librari offer conveni way write kernel adapt tf tflite minim binari runtim overhead implement folder contain two piec tensorview shim tensorflowtensor tflitetensor opkernelshim class abstract tf tflite op kernel api tensorview class view alreadi alloc tensor tf tflite without take ownership sens similar stdstring_view differ underli buffer mutabl exampl usag tensorflowtensor tf_tensor auto tensorviewnewtf_tensor auto t_str_mat tastensorflowtstr rank ab cde auto t_buffer tdatatensorflowtstr ab cde tflitetensor tflite_tensor auto tensorviewnewtflite_tensor auto t_int_vec tasint rank auto t_buffer tdataint new factori function base type input return either tftensorview tflitetensorview see unit test tf_tensor_view_testcc tflite_tensor_view_testcc usag string tensor tflitetensorview bit special case sinc string tensor tflite serial specif format write tensor intermedi buffer need hold intermedi valu string get serial intermedi string buffer serial back tflite string format last remain tflitetensorview goe scope user see string valu underli tflitetensor said implement op kernel rare need read back content mutabl output tflitetensor within code block opkernelshim warn experiment interfac subject chang class defin interfac implement allow conveni adapt tf tflite op kernel exampl op kernel implement interfac templatetfruntim r class myop public opkernelshimmyop r attribut declar syntax httpswwwtensorfloworgguidecreate_op static stdvectorstdstr attr input tensor declar syntax httpswwwtensorfloworgguidecreate_op static stdvectorstdstr input output tensor declar syntax httpswwwtensorfloworgguidecreate_op static stdvectorstdstr output initi op abslstatu initinitcontext ctx run oper abslstatu invokeinvokecontext ctx shape infer static abslstatu shapeinferenceshapeinferencecontext ctx class myop pass opkernelshim templat paramet opkernelshim static interfac use crtp pattern similarli context class initcontext invokecontext shapeinferencecontext static interfac way context interfac op kernel written use librari access number context object variou stage lifecycl context object effect shim exist context object tf tflite initcontext instanc class pass op kernel initi templat typenam subtyp class initcontext public read given attribut popul given valu templat typenam attrtyp abslstatu getattrconst stdstring attr_nam attrtyp valu const invokecontext instanc class pass op kernel invoc templat typenam subtyp class invokecontext public read input tensor consttensorviewor getinputconst int idx const get mutabl output tensor tensorviewor getoutputconst int idx const shape shape const shapeinferencecontext instanc class pass op kernel shape infer templat typenam subtyp class shapeinferencecontext public read input tensor shape shapeor getinputshapeconst int idx const set output tensor shape abslstatu setoutputshapeconst int idx const shape shape read input tensor shape infer consttensorviewor getinputtensorconst int idx const directori contain fake oper order demonstr test interfac content simple_ophcc actual implement op resid simple_tf_opcc tf op definit use simple_op simple_tflite_ophcc tflite op definit use simple_op tensorflow lite api refer api refer document provid detail inform class method tensorflow lite librari choos prefer platform list python api referenceliteapi_docspythontflit android java api referenceliteapi_docsjavaorgtensorflowlitepackagesummari swift api referenceliteapi_docsswiftclass objectivec api refer come soon c api referenceliteapi_docscc also provid tool relat tensorflow lite tensorflow lite model maker python api referenceliteapi_docspythontflite_model_mak convert command line exampl page show use tensorflow lite convert command line _note possibl use recommend python apipython_apimd instead_ commandlin tool nametoolsa start tensorflow two approach run convert command line tflite_convert recommend instal tensorflow use piphttpswwwtensorfloworginstallpip exampl tflite_convert output_fil bazel instal tensorflow sourcehttpswwwtensorfloworginstallsourc exampl bazel run tensorflowlitepythontflite_convert output_fil follow exampl use tflite_convert simplic altern replac tflite_convert bazel run tensorflowlitepythontflite_convert prior tensorflow namepre_tensorflow_a recommend approach use convert prior tensorflow python apipython_apimd tensorflow command line tool toco avail run toco help addit detail usag nameusagea setup namedownload_modelsa begin download model requir run exampl document echo download mobilenet v curl httpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___frozentgz tar xzv c tmp echo download incept v curl httpsstoragegoogleapiscomdownloadtensorfloworgmodelsinception_v____frozenpbtargz tar xzv c tmp basic exampl namebasica follow section show exampl convert basic model support data format tensorflow lite model convert savedmodel namesavedmodela tflite_convert saved_model_dirtmpsaved_model output_filetmpfootflit convert tfkera model namekerasa tflite_convert keras_model_filetmpkeras_modelh output_filetmpfootflit convert frozen graphdef namegraphdefa tflite_convert graph_def_filetmpmobilenet_v__frozen_graphpb output_filetmpfootflit input_arraysinput output_arraysmobilenetvpredictionsreshape_ frozen graphdef model frozen graph produc freeze_graphpyhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythontoolsfreeze_graphpi requir addit flag input_array output_array inform store model format advanc exampl convert quantiz awar train model quantiz tensorflow lite model quantiz awar train model ie model insert fakequ oper record min max rang tensor order quantiz convert quantiz tensorflow lite model shown tflite_convert graph_def_filetmpsome_mobilenetv_quantized_frozen_graphpb output_filetmpfootflit input_arraysinput output_arraysmobilenetvpredictionsreshape_ inference_typeint mean_valu std_dev_valu your set inference_typeuint updat mean_valu std_dev_valu convert model dummyquant quantiz tensorflow lite model regular float model want estim benefit quantiz model ie estim perform model quantiz awar train perform dummyquant use flag default_ranges_min default_ranges_max specifi use default min max rang tensor lack min max rang inform allow quantiz proceed help emul perform quantiz tensorflow lite model lower accuraci exampl contain model use relu activ function therefor reason guess activ rang contain tflite_convert graph_def_filetmpmobilenet_v__frozen_graphpb output_filetmpfootflit input_arraysinput output_arraysmobilenetvpredictionsreshape_ inference_typeint mean_valu std_dev_valu default_ranges_min default_ranges_max your set inference_typeuint updat mean_valu std_dev_valu convert model select tensorflow oper sinc tensorflow lite support limit number tensorflow oper everi model convert detail refer oper compatibilityhttpswwwtensorfloworgliteguideops_compat allow convers user enabl usag certain tensorflow opshttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegatesflexallowlisted_flex_opscc tensorflow lite model shown follow exampl tflite_convert graph_def_filetmpfoopb output_filetmpfootflit input_arraysinput output_arraysmobilenetvpredictionsreshape_ target_opstflite_builtinsselect_tf_op build run tflite_convert bazel pleas pass definetflite_convert_with_select_tf_opstru addit argument bazel run definetflite_convert_with_select_tf_opstru tflite_convert graph_def_filetmpfoopb output_filetmpfootflit input_arraysinput output_arraysmobilenetvpredictionsreshape_ target_opstflite_builtinsselect_tf_op convert model multipl input array flag input_array take commasepar list input array seen exampl use model subgraph multipl input note input_shap provid colonsepar list input shape correspond input array posit respect list tflite_convert graph_def_filetmpinception_v____frozenpb output_filetmpfootflit input_arraysinceptionvinceptionvmixed_bbranch_convd_a_xreluinceptionvinceptionvmixed_bbranch_convd_a_xreluinceptionvinceptionvmixed_bbranch_maxpool_a_xmaxpoolinceptionvinceptionvmixed_bbranch_convd_a_xrelu input_shap output_arraysinceptionvlogitspredictionsreshape_ convert model multipl output array flag output_array take commasepar list output array seen exampl use model subgraph multipl output tflite_convert graph_def_filetmpinception_v____frozenpb output_filetmpfootflit input_arraysinput output_arraysinceptionvinceptionvmixed_bbranch_convd_a_xreluinceptionvinceptionvmixed_bbranch_convd_a_xrelu convert model specifi subgraph array input file specifi input output array order extract subgraph input model file tensorflow lite convert discard part model outsid specif subgraph use visualizationvisu identifi input output array make desir subgraph follow command show extract singl fuse layer tensorflow graphdef tflite_convert graph_def_filetmpinception_v____frozenpb output_filetmpfoopb input_arraysinceptionvinceptionvmixed_bbranch_convd_a_xreluinceptionvinceptionvmixed_bbranch_convd_a_xreluinceptionvinceptionvmixed_bbranch_maxpool_a_xmaxpoolinceptionvinceptionvmixed_bbranch_convd_a_xrelu input_shap output_arraysinceptionvinceptionvmixed_bconcat_v note final represent tensorflow lite model tend coarser granular fine granular tensorflow graphdef represent exampl fullyconnect layer typic repres least four separ oper tensorflow graphdef reshap matmul biasadd relu typic repres singl fuse op fullyconnect convert optim represent final ondevic represent level granular get coarser intermedi array say array matmul biasadd tensorflow graphdef drop specifi intermedi array input_array output_array desir often requir specifi array meant surviv final form model fuse typic output activ function sinc everyth layer activ function tend get fuse visual namevisualizationa use dump_graphviz_dir first way get graphviz render pass dump_graphviz_dir flag specifi destin directori dump graphviz render tflite_convert graph_def_filetmpmobilenet_v__frozen_graphpb output_filetmpfootflit input_arraysinput output_arraysmobilenetvpredictionsreshape_ dump_graphviz_dirtmp gener file destin directori two import file toco_at_importdot tmptoco_after_transformationsdot toco_at_importdot repres origin model contain transform done import time tend complex visual limit inform node use situat convers command fail toco_after_transformationsdot repres model transform appli export typic much smaller model inform node render pdf dot tpdf tmptoco_dot result dotpdf view pdf viewer suggest one good abil pan zoom across larg page googl chrome well respect googlechrom tmpfoodotpdf sampl output file seen note averagepool node top right imag tabletr td target_blank hrefhttpsstoragegoogleapiscomdownloadtensorfloworgexample_imagestoco_at_importdotpdf img srcimagesconvertsample_beforepng td td target_blank hrefhttpsstoragegoogleapiscomdownloadtensorfloworgexample_imagestoco_after_transformationsdotpdf img srcimagesconvertsample_afterpng td tr trtdbeforetdtdaftertdtr tabl use output_formatgraphviz_dot nameusing_output_format_graphviz_dota note work set flag experimental_new_converterfals also format lead loss tflite specif transform recommend use dump_graphviz_dir instead get final visual graph transform second way get graphviz render pass graphviz_dot output_format result plausibl visual model reduc requir exist convers tensorflow graphdef tensorflow lite model may use convers tflite fail tflite_convert experimental_new_converterfals graph_def_filetmpmobilenet_v__frozen_graphpb output_formatgraphviz_dot output_filetmpfoodot output_formatgraphviz_dot input_arraysinput input_shap output_arraysmobilenetvpredictionsreshape_ result dot file render pdf follow dot tpdf tmpfoodot result dotpdf view pdf viewer suggest one good abil pan zoom across larg page googl chrome well respect googlechrom tmpfoodotpdf video log dump_graphviz_dir use one may addit pass dump_graphviz_video caus model visual dump individu model transform result thousand file typic one would bisect file understand given chang introduc model legend visual namegraphviz_legenda oper red squar box follow hue red oper span stylebackgroundcolordbcolorwhiteborderpxborderstylesolidbordercolorblackpaddingpxbright redspan typic heavi oper eg conv render span stylebackgroundcolorccolorwhiteborderpxborderstylesolidbordercolorblackpaddingpxdark redspan array octagon follow color constant array span stylebackgroundcolorfcolorwhiteborderpxborderstylesolidbordercolorblackpaddingpxbluespan activ array gray intern intermedi activ array span stylebackgroundcolorfffborderpxborderstylesolidbordercolorblackborderpxborderstylesolidbordercolorblackpaddingpxlight grayspan activ array design input_array output_array span stylebackgroundcoloreeeborderpxborderstylesolidbordercolorblackpaddingpxdark grayspan rnn state array green way convert repres rnn backedg explicitli rnn state repres pair green array activ array sourc rnn backedg ie whose content copi rnn state array comput span stylebackgroundcolorbecdborderpxborderstylesolidbordercolorblackpaddingpxlight greenspan actual rnn state array span stylebackgroundcolorfdcolorwhiteborderpxborderstylesolidbordercolorblackpaddingpxdark greenspan destin rnn backedg updat tensorflow lite convert tensorflow lite convert take tensorflow model gener tensorflow lite model optim flatbufferhttpsgooglegithubioflatbuff identifi tflite file extens note page contain document convert api tensorflow x api tensorflow avail herehttpswwwtensorfloworgliteconvert option tensorflow lite convert use two way python apipython_apimd recommend use python api make easier convert model part model develop pipelin help mitig compat issu earli command linecmdline_examplesmd workflow use flatbuff format flatbuff effici opensourc crossplatform serial librari similar protocol buffershttpsdevelopersgooglecomprotocolbuff use tensorflow model format distinct flatbuff need parsingunpack step secondari represent data access avoid perobject memori alloc code footprint flatbuff order magnitud smaller protocol buffer convert model convert support follow input format savedmodelshttpswwwtensorfloworgguidesaved_modelusing_savedmodel_with_estim tfkera h model frozen graphdef model gener use freeze_graphpyhttpswwwtensorfloworgcodetensorflowpythontoolsfreeze_graphpi tfsession model python api run infer tensorflow lite model deploy client devic tensorflow lite interpret use compress model ondevic infer convers process shown diagram tflite convert workflowimagesconvertworkflowsvg convert command line refer page complet refer commandlin flag use tensorflow lite convert command line tool highlevel flag follow high level flag specifi detail input output file flag output_fil alway requir addit either saved_model_dir keras_model_fil graph_def_fil requir output_fil type string specifi full path output file saved_model_dir type string specifi full path directori contain savedmodel keras_model_fil type string specifi full path hdf file contain tfkera model graph_def_fil type string specifi full path input graphdef file frozen use freeze_graphpyhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythontoolsfreeze_graphpi output_format type string default tflite specifi format output file allow valu tflite tensorflow lite model format graphviz_dot graphviz dot format contain visual graph graph transform note work set flag experimental_new_converterfals also format lead loss tflite specif transform recommend use dump_graphviz_dir instead get final visual graph transform experimental_new_convert type bool default true tf leverag mlirbas convers googl cut edg compil technolog machin learn enabl convers new class model includ mask rcnn mobil bert etc support model function control flow follow flag specifi option paramet use savedmodel saved_model_tag_set type string default serv option refer tag_constantshhttpsgithubcomtensorflowtensorflowblobmastertensorflowccsaved_modeltag_constantsh specifi commasepar set tag identifi metagraphdef within savedmodel analyz tag tag set must specifi saved_model_signature_key type string default serving_default option refer tfcompatvsaved_modelsignature_constantshttpswwwtensorfloworgapi_docspythontfcompatvsaved_modelsignature_const specifi key identifi signaturedef contain input output model flag model flag provid addit inform model store input file input_array type commasepar list string specifi list name input tensor output_array type commasepar list string specifi list name output tensor follow flag defin properti input tensor item input_array flag correspond item follow flag base index input_shap type colonsepar list commasepar list integ commasepar list integ give shape one input array exampl input_shap typic vision model mean batch size input imag height input imag width input imag depth repres rgb channel exampl input_arraysfoobar input_shap mean foo shape bar shape std_dev_valu mean_valu type commasepar list float specifi dequant paramet input array quantiz need inference_input_typ int uint mean mean_valu std_dev_valu follow quantiz valu quantiz input array interpret mathemat real number ie input activ valu accord follow formula real_valu quantized_valu mean_valu std_dev_valu perform float infer inference_typefloat quantiz input quantiz input would immedi dequant infer code accord formula proceed float infer perform quantiz infer inference_typ int uint dequant perform infer code howev quantiz paramet array includ input array specifi mean_valu std_dev_valu determin fixedpoint multipli use quantiz infer codeth mean_valu must integ perform quantiz infer transform flag transform flag specifi option transform appli graph ie specifi request properti output file inference_typ type string default float data type realnumb array output file except input array defin inference_input_typ must float int uint flag impact realnumb array includ float quantiz array exclud data type includ plain integ array string array specif float realnumb array type float output file quantiz input file get dequant int realnumb array quantiz int output file float input file get quantiz uint realnumb array quantiz uint output file float input file get quantiz inference_input_typ type string data type realnumb input array output file default inference_typ use type input array flag primarili intend gener floatpoint graph quantiz input array dequant oper ad immedi input array must float int uint flag typic use vision model take bitmap input requir floatingpoint infer imag model uint input quantiz quantiz paramet use input array mean_valu std_dev_valu paramet default_ranges_min default_ranges_max type floatingpoint default valu min max rang valu use array without specifi rang allow user proceed quantiz nonquant incorrectlyquant input file flag produc model low accuraci intend easi experiment quantiz via dummi quantiz post_training_quant type boolean default fals boolean indic whether quantiz weight convert float model model size reduc latenc improv cost accuraci quantize_to_float type boolean default fals boolean indic whether quantiz weight fp instead default int post_training_quantizetru reorder_across_fake_qu type boolean default fals indic whether reorder fakequ node unexpect locat use locat fakequ node prevent graph transform necessari convert graph result graph differ quantiz train graph potenti caus differ arithmet behavior change_concat_input_rang type boolean default fals boolean chang behavior minmax rang input output concat oper quantiz model chang rang concat oper overlap true drop_control_depend type boolean default true indic whether drop control depend silent due tensorflow lite support control depend target_op type string default tflite_builtin experiment flag subject chang set opsset option indic convert use option tf lite_builtinsselect_tf_opstflite_builtins_intexp imental_tflite_builtins_activations_int_weights_int one option may specifi allow_custom_op type bool default fals indic whether allow custom oper fals unknown oper error true custom op creat op unknown develop need provid tensorflow lite runtim custom resolv custom_opdef type string string repres list custom op opdef delin comma includ graphdef requir use custom oper experimental_new_convert log flag follow flag gener graph visual graph graphvizhttpswwwgraphvizorg dot file variou point graph transform dump_graphviz_dir type string specifi full path directori output graphviz dot file output graph immedi read graph transform complet dump_graphviz_video type boolean output graphviz everi graph transform requir dump_graphviz_dir specifi follow flag control gener convers log convers log includ protocol buffer analyt collect convers html file user preview convers summari conversion_summary_dir type string specifi full path directori output convers log convert python api guid page describ convert tensorflow model tensorflow lite format use tfcompatvlitetfliteconverterhttpswwwtensorfloworgapi_docspythontfcompatvlitetfliteconvert python api provid follow class method base origin format model tfcompatvlitetfliteconverterfrom_saved_model convert savedmodelhttpswwwtensorfloworgguidesaved_model tfcompatvlitetfliteconverterfrom_keras_model_fil convert kerashttpswwwtensorfloworgguidekerasoverview model file tfcompatvlitetfliteconverterfrom_sess convert graphdef session tfcompatvlitetfliteconverterfrom_frozen_graph convert frozen graphdef file checkpoint first convert frozen graphdef file use api shown herecheckpoint follow section discuss basic examplesbas complex examplescomplex basic exampl namebasica follow section show exampl convert basic model support model format tensorflow lite model convert savedmodel namebasic_savedmodela follow exampl show convert savedmodelhttpswwwtensorfloworgguidesaved_model tensorflow lite model python import tensorflow tf convert model convert tfcompatvlitetfliteconverterfrom_saved_modelsaved_model_dir tflite_model converterconvert save model openmodeltflit wb f fwritetflite_model convert kera model file namebasic_keras_filea follow exampl show convert kerashttpswwwtensorfloworgguidekerasoverview model file tensorflow lite model python import tensorflow tf convert model convert tfcompatvlitetfliteconverterfrom_keras_model_filekeras_modelh tflite_model converterconvert save model openmodeltflit wb f fwritetflite_model kera file contain model weight comprehens exampl given python import numpi np import tensorflow tf gener tfkera model model tfkerasmodelssequenti modeladdtfkeraslayersdens input_shap modeladdtfkeraslayersrepeatvector modeladdtfkeraslayerstimedistributedtfkeraslayersdens modelcompilelosstfkeraslossesms optimizertfkerasoptimizersrmsproplr metricstfkerasmetricscategorical_accuraci sample_weight_modetempor x nprandomrandom nprandomrandom modeltrain_on_batchx modelpredictx save tfkera model h format keras_fil keras_modelh tfkerasmodelssave_modelmodel keras_fil convert model convert tfcompatvlitetfliteconverterfrom_keras_model_filekeras_fil tflite_model converterconvert save model openmodeltflit wb f fwritetflite_model convert graphdef session namebasic_graphdef_sessa follow exampl show convert graphdef tfsession object tensorflow lite model python import tensorflow tf img tfplaceholdernameimg dtypetffloat shape var tfget_variableweight dtypetffloat shape val img var tfidentityv nameout tfsession sess sessruntfglobal_variables_initi convert model convert tfcompatvlitetfliteconverterfrom_sessionsess img tflite_model converterconvert save model openmodeltflit wb f fwritetflite_model convert frozen graphdef file namebasic_graphdef_filea follow exampl show convert frozen graphdef frozen graph usual gener use freeze_graphpyhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythontoolsfreeze_graphpi script tensorflow lite model exampl use mobilenet__httpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___frozentgz python import tensorflow tf convert model convert tfcompatvlitetfliteconverterfrom_frozen_graph graph_def_filepathtomobilenet_v__frozen_graphpb pb pbtxt file accept input_arraysinput input_shapesinput output_arraysmobilenetvpredictionssoftmax tflite_model converterconvert save model openmodeltflit wb f fwritetflite_model convert checkpoint namecheckpointsa convert checkpoint frozen graphdef follow referencehttpslaiddelanovercomhowtofreezeagraphintensorflow instal bazelhttpsdocsbazelbuildversionsmasterinstallhtml clone tensorflow repositori git clone httpsgithubcomtensorflowtensorflowgit build freez graph tool bazel build tensorflowpythontoolsfreeze_graph directori run contain file name workspac your run ubuntu os face issu updat command bazel build c opt coptmss coptmss tensorflowpythontoolsfreeze_graph run freez graph tool bazel run tensorflowpythontoolsfreeze_graph input_graphpathtographpbtxt input_binaryfals input_checkpointpathtomodelckpt output_graphpathtofrozen_graphpb output_node_namesnamenam input pb file instead pbtxt replac input_graphpathtographpbtxt input_binaryfals input_graphpathtographpb find output name explor graph use netronhttpsgithubcomlutzroedernetron summar graph toolhttpsgithubcomtensorflowtensorflowtreemastertensorflowtoolsgraph_transformsinspectinggraph convert frozen graphdef filebasic_graphdef_fil tensorflow lite model shown exampl complex exampl namecomplexa model default valu attribut suffici attribut valu set call convert run helptfcompatvlitetfliteconvert python termin detail document attribut convert quantiz awar train model namecomplex_quanta follow exampl show convert quantiz awar train model tensorflow lite model exampl use mobilenet__httpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___frozentgz python import tensorflow tf convert model convert tfcompatvlitetfliteconverterfrom_frozen_graph graph_def_filepathtomobilenet_v__frozen_graphpb input_arraysinput input_shapesinput output_arraysmobilenetvpredictionssoftmax converterquantized_input_stat input mean std_dev input rang converterinference_typ tfint recommend type converterinference_input_typetfuint option converterinference_output_typetfuint option tflite_model converterconvert save model openquantized_modeltflit wb f fwritetflite_model convert model tensorflow namepre_tensorflow_a refer follow tabl convert tensorflow model tensorflow lite tensorflow run help get detail api tensorflow version python api tfcontriblitetfliteconvert tfcontriblitetococonvert tfcontriblitetoco_convert tensorflow rnn convers tensorflow lite overview tensorflow lite support convert tensorflow rnn model tensorflow lite fuse lstm oper fuse oper exist maxim perform underli kernel implement well provid higher level interfac defin complex transform like quantizat sinc mani variant rnn api tensorflow approach two fold provid nativ support standard tensorflow rnn api like kera lstm recommend option provid interfac convers infrastructur userdefin rnn implement plug get convert tensorflow lite provid coupl box exampl convers use lingvo lstmcellsimplehttpsgithubcomtensorflowtensorflowblobabfdbfcdaecdbcfcbetensorflowcompilermlirlitetransformsprepare_composite_functions_tfccl layernormalizedlstmcellsimplehttpsgithubcomtensorflowtensorflowblobcddfdeebfdaebafftensorflowcompilermlirlitetransformsprepare_composite_functions_tfccl rnn interfac convert api featur part tensorflow releas also avail tfnightlyhttpspypiorgprojecttfnightli pip head convers function avail convert tensorflow lite via savedmodel kera model directli see exampl usag save model idfrom_saved_modela build save model concrete_funct export function correspond tensorflow model contain one kera lstm layer saved_model saved_model_dir build_saved_model_lstm saved_modelsavesaved_model_dir save_formattf signaturesconcrete_func convert model convert tfliteconverterfrom_saved_modelsaved_model_dir tflite_model converterconvert kera model build kera model keras_model build_keras_lstm convert model convert tfliteconverterfrom_keras_modelkeras_model tflite_model converterconvert exampl kera lstm tensorflow lite colabhttpscolabresearchgooglecomgithubtensorflowtensorflowblobmastertensorflowliteexamplesexperimental_new_converterkeras_lstm_fusion_codelabipynb illustr end end usag tensorflow lite interpret tensorflow rnn api support idrnn_apisa kera lstm convers recommend support outofthebox convers kera lstm tensorflow lite detail work pleas refer kera lstm interfacehttpsgithubcomtensorflowtensorflowblobaabbfbdabbacdtensorflowpythonkeraslayersrecurrent_vpylspan styletextdecorationspac spanand convers logic herehttpsgithubcomtensorflowtensorflowblobaabbfbdabbacdtensorflowcompilermlirliteutilslstm_utilsccl also import highlight tensorflow lite lstm contract respect kera oper definit dimens input tensor batch size dimens recurrent_weight tensor number output weight recurrent_kernel tensor transpos transpos weight transpos recurrent_kernel bia tensor split equal size tensor along dimens correspond input gate forget gate cell output gate kera lstm variant time major user may choos timemajor timemajor kera lstm add timemajor attribut function def attribut unidirect sequenc lstm simpli map unidirecional_sequence_lstm time major attributehttpsgithubcomtensorflowtensorflowblobaabbfbdabbacdtensorflowcompilermlirliteirtfl_opstdl bidirect lstm bidirect lstm implement two kera lstm layer one forward one backward see exampl herehttpsgithubcomtensorflowtensorflowblobaabbfbdabbacdtensorflowpythonkeraslayerswrapperspyl see go_backward attribut recogn backward lstm group forward backward lstm togeth futur work current creat two unidirectionalsequencelstm oper tensorflow lite model userdefin lstm convers exampl tensorflow lite also provid way convert user defin lstm implement use lingvo lstm exampl implement detail pleas refer lingvolstmcellsimpl interfacehttpsgithubcomtensorflowlingvoblobadbcaedacdcclingvocorernn_cellpyl convers logic herehttpsgithubcomtensorflowtensorflowblobabfdbfcdaecdbcfcbetensorflowcompilermlirlitetransformsprepare_composite_functions_tfccl also provid exampl anoth lingvo lstm definit lingvolayernormalizedlstmcellsimpl interfacehttpsgithubcomtensorflowlingvoblobadbcaedacdcclingvocorernn_cellpyl convert logic herehttpsgithubcomtensorflowtensorflowblobcddfdeebfdaebafftensorflowcompilermlirlitetransformsprepare_composite_functions_tfccl bring tensorflow rnn tensorflow lite user rnn interfac differ standard support one coupl option option write adapt code tensorflow python adapt rnn interfac kera rnn interfac mean tffunction tf_implement annotationhttpsgithubcomtensorflowcommunitypul gener rnn interfac function ident one gener kera lstm layer convers api use kera lstm work option possibl eg kera lstm miss function current expos tensorflow lite fuse lstm op like layer normal extend tensorflow lite convert write custom convers code plug preparecompositefunct mlirpass herehttpsgithubcomtensorflowtensorflowblobcddfdeebfdaebafftensorflowcompilermlirlitetransformsprepare_composite_functions_tfccl function interfac treat like api contract contain argument need convert fuse tensorflow lite lstm oper ie input bia weight project layer normal etc prefer tensor pass argument function known rank ie rankedtensortyp mlir make much easier write convers code assum tensor rankedtensortyp help transform rank tensor correspond fuse tensorflow lite oper operand complet exampl convers flow lingvo lstmcellsimpl tensorflow lite convers lstmcellsimpl lingvo defin herehttpsgithubcomtensorflowlingvoblobadbcaedacdcclingvocorernn_cellpyl model train lstm cell convert tensorflow lite follow wrap use lstmcellsimpl tffunction tf_implement annot label eg lingvolstmcellsimpl would good annot name make sure tffunction gener match interfac function expect convers code contract model author ad annot convers code extend preparecompositefunct pass plug custom composit op tensorflow lite fuse lstm op convers see lstmcellsimplehttpsgithubcomtensorflowtensorflowblobabfdbfcdaecdbcfcbetensorflowcompilermlirlitetransformsprepare_composite_functions_tfccl convers code convers contract weight project tensor transpos input recurr cell input gate forget gate output gate extract slice transpos weight tensor bia cell input gate forget gate output gate extract slice bia tensor project extract slice transpos project tensor similar convers written layernormalizedlstmcellsimplehttpsgithubcomtensorflowtensorflowblobcddfdeebfdaebafftensorflowcompilermlirlitetransformsprepare_composite_functions_tfccl rest tensorflow lite convers infrastructur includ mlir passeshttpsgithubcomtensorflowtensorflowblobaabbfbdabbacdtensorflowcompilermlirlitetf_tfl_passesccl defin well final export tensorflow lite flatbuff reus known issueslimit current support convert stateless kera lstm default behavior kera state kera lstm convers futur work still possibl model state kera lstm layer use underli stateless kera lstm layer manag state explicitli user program tensorflow program still convert tensorflow lite use featur describ bidirect lstm current model two unidirectionalsequencelstm oper tensorflow lite replac singl bidirectionalsequencelstm op ad metadata tensorflow lite model tensorflow lite metadata provid standard model descript metadata import sourc knowledg model input output inform metadata consist human readabl part convey best practic use model machin readabl part leverag code gener tensorflow lite android code generatorinference_with_metadatacodegenmdgeneratecodewithtensorflowliteandroidcodegener android studio ml bind featureinference_with_metadatacodegenmdgeneratecodewithandroidstudiomlmodelbind imag model publish tensorflow lite host modelshttpswwwtensorfloworgliteguidehosted_model tensorflow hubhttpstfhubdevsdeploymentformatlit popul metadata model metadata format centerimg srcimagesconvertmodel_with_metadatapng altmodel_with_metadata widthcent centerfigur tflite model metadata associ filescent model metadata defin metadata_schemafbshttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportmetadatametadata_schemafb flatbufferhttpsgooglegithubioflatbuffersindexhtmlflatbuffers_overview file shown figur store metadatahttpsgithubcomtensorflowtensorflowblobbdafddfdfdbaacaftensorflowliteschemaschemafbsl field tflite model schemahttpsgithubcomtensorflowtensorflowblobmastertensorflowliteschemaschemafb name tflite_metadata model may come associ file classif label fileshttpsgithubcomtensorflowexamplesblobddbcbcacfaacbbaabbdliteexamplesimage_classificationandroidmodelssrcmainassetslabelstxtl file concaten end origin model file zip use zipfil append modehttpspymotwcomzipfileappendingtofil mode tflite interpret consum new file format way see pack associ filespacktheassociatedfil inform see instruct popul visual read metadata setup metadata tool ad metadata model need python program environ setup run tensorflow detail guid set herehttpswwwtensorfloworginstal setup python program environ need instal addit tool sh pip instal tflitesupport tensorflow lite metadata tool support python ad metadata use flatbuff python api note creat metadata popular ml task support tensorflow lite task libraryinference_with_metadatatask_libraryoverview use highlevel api tensorflow lite metadata writer librarymetadata_writer_tutorialipynb three part model metadata schemahttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportmetadatametadata_schemafb model inform overal descript model well item licens term see modelmetadatahttpsgithubcomtensorflowtflitesupportblobcdbeebafcdedaetensorflow_lite_supportmetadatametadata_schemafbsl input inform descript input preprocess requir normal see subgraphmetadatainput_tensor_metadatahttpsgithubcomtensorflowtflitesupportblobcdbeebafcdedaetensorflow_lite_supportmetadatametadata_schemafbsl output inform descript output postprocess requir map label see subgraphmetadataoutput_tensor_metadatahttpsgithubcomtensorflowtflitesupportblobcdbeebafcdedaetensorflow_lite_supportmetadatametadata_schemafbsl sinc tensorflow lite support singl subgraph point tensorflow lite code generatorinference_with_metadatacodegenmdgeneratecodewithtensorflowliteandroidcodegener android studio ml bind featureinference_with_metadatacodegenmdgeneratecodewithandroidstudiomlmodelbind use modelmetadatanam modelmetadatadescript instead subgraphmetadatanam subgraphmetadatadescript display metadata gener code support input output type tensorflow lite metadata input output design specif model type mind rather input output type matter model function long input output type consist follow combin follow support tensorflow lite metadata featur number unsign integ float imag metadata current support rgb greyscal imag bound box rectangular shape bound box schema support varieti number schemeshttpsgithubcomtensorflowtflitesupportblobcdbeebafcdedaetensorflow_lite_supportmetadatametadata_schemafbsl pack associ file tensorflow lite model may come differ associ file exampl natur languag model usual vocab file map word piec word id classif model may label file indic object categori without associ file model function well associ file bundl model metadata python librari new tensorflow lite model becom zip file contain model associ file unpack common zip tool new model format keep use file extens tflite compat exist tflite framework interpret see pack metadata associ file modelpackmetadataandassociatedfilesintothemodel detail associ file inform record metadata depend file type file attach ie modelmetadata subgraphmetadata tensormetadata tensorflow lite android code generatorinference_with_metadatacodegenmd may appli correspond prepost process automat object see codegen usag section associ file typehttpsgithubcomtensorflowtflitesupportblobcdbeebafcdedaetensorflow_lite_supportmetadatametadata_schemafbsl schema detail normal quantiz paramet normal common data preprocess techniqu machin learn goal normal chang valu common scale without distort differ rang valu model quantizationhttpswwwtensorfloworgliteperformancemodel_optimizationmodel_quant techniqu allow reduc precis represent weight option activ storag comput term preprocess postprocess normal quantiz two independ step detail normal quantiz float model float model exampl mean zeropoint paramet valu std scale input imag quant model quant model mobilenet float mean zeropoint quant model std scalef respect float model need quantiz input input quantiz model may data normal may need invok train input quantiz prepost data infer need process depend normal datatyp accordingli inputoutput tensor output output float tensor data quantiz prepost normal gener process need quant op dequant op bake model graph intuint tensor need quantiz prepost process quantiz input formula normalized_input q f scale input mean std zeropoint dequant output f q zeropoint scale fill model creator fill automat store model tflite convert paramet metadata store tflite model normalizationopt file get tflite paramet metadataextractor api tensor api metadataextractor api float quant ye float quant float model model share model need quantiz valu normal paramet tflite code gener android ye ye studio ml bind automat gener data process tensorflow lite java apihttpsgithubcomtensorflowtensorflowblobeceecebceddtensorflowlitejavasrcmainjavaorgtensorflowlitetensorjav tensorflow lite c apihttpsgithubcomtensorflowtensorflowblobeceecebceddtensorflowliteccommonhl metadata extractor libraryreadthemetadatafrommodel process imag data uint model normal quantiz sometim skip fine pixel valu rang gener alway process data accord normal quantiz paramet applic tensorflow lite task libraryhttpswwwtensorfloworgliteinference_with_metadataoverview handl normal set normalizationopt metadata quantiz dequant process alway encaplu exampl note export directori specifi exist run script get creat part process find exampl metadata popul differ type model imag classif download script herehttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationmetadatametadata_writer_for_image_classifierpi popul metadata mobilenet_v___quantizedtflitehttpstfhubdevtensorflowlitemodelmobilenet_v___quantizeddefault run script like sh python metadata_writer_for_image_classifierpi model_filemodel_without_metadatamobilenet_v___quantizedtflit label_filemodel_without_metadatalabelstxt export_directorymodel_with_metadata popul metadata imag classif model add model spec like thishttpsgithubcomtensorflowexamplesblobmasterliteexamplesimage_classificationmetadatametadata_writer_for_image_classifierpyl script rest guid highlight key section imag classif exampl illustr key element deep dive imag classif exampl model inform metadata start creat new model info python tflite_support import flatbuff tflite_support import metadata _metadata tflite_support import metadata_schema_py_gener _metadata_fb creat metadata imag classifi creat model info model_meta _metadata_fbmodelmetadatat model_metanam mobilenetv imag classifi model_metadescript identifi promin object imag set categori tree anim food vehicl person etc model_metavers v model_metaauthor tensorflow model_metalicens apach licens version httpwwwapacheorglicenseslicens input output inform section show describ model input output signatur metadata may use automat code gener creat pre post process code creat input output inform tensor python creat input info input_meta _metadata_fbtensormetadatat creat output info output_meta _metadata_fbtensormetadatat imag input imag common input type machin learn tensorflow lite metadata support inform colorspac preprocess inform normal dimens imag requir manual specif sinc alreadi provid shape input tensor automat infer python input_metanam imag input_metadescript input imag classifi expect imag x three channel red blue green per pixel valu tensor singl byte format input_metacont _metadata_fbcontentt input_metacontentcontentproperti _metadata_fbimagepropertiest input_metacontentcontentpropertiescolorspac _metadata_fbcolorspacetypergb input_metacontentcontentpropertiestyp _metadata_fbcontentpropertiesimageproperti input_norm _metadata_fbprocessunitt input_normalizationoptionstyp _metadata_fbprocessunitoptionsnormalizationopt input_normalizationopt _metadata_fbnormalizationoptionst input_normalizationoptionsmean input_normalizationoptionsstd input_metaprocessunit input_norm input_stat _metadata_fbstatst input_statsmax input_statsmin input_metastat input_stat label output label map output tensor via associ file use tensor_axis_label python creat output info output_meta _metadata_fbtensormetadatat output_metanam probabl output_metadescript probabl label respect output_metacont _metadata_fbcontentt output_metacontentcontent_properti _metadata_fbfeaturepropertiest output_metacontentcontentpropertiestyp _metadata_fbcontentpropertiesfeatureproperti output_stat _metadata_fbstatst output_statsmax output_statsmin output_metastat output_stat label_fil _metadata_fbassociatedfilet label_filenam ospathbasenameyour_path_to_label_fil label_filedescript label object model recogn label_filetyp _metadata_fbassociatedfiletypetensor_axis_label output_metaassociatedfil label_fil creat metadata flatbuff follow code combin model inform input output inform python creat subgraph info subgraph _metadata_fbsubgraphmetadatat subgraphinputtensormetadata input_meta subgraphoutputtensormetadata output_meta model_metasubgraphmetadata subgraph b flatbuffersbuild bfinish model_metapackb _metadatametadatapopulatormetadata_file_identifi metadata_buf boutput pack metadata associ file model metadata flatbuff creat metadata label file written tflite file via popul method python popul _metadatametadatapopulatorwith_model_filemodel_fil populatorload_metadata_buffermetadata_buf populatorload_associated_filesyour_path_to_label_fil populatorpopul pack mani associ file want model load_associated_fil howev requir pack least file document metadata exampl pack label file mandatori visual metadata use netronhttpsgithubcomlutzroedernetron visual metadata read metadata tensorflow lite model json format use metadatadisplay python display _metadatametadatadisplayerwith_model_fileexport_model_path export_json_fil ospathjoinflagsexport_directori ospathsplitextmodel_basenam json json_fil displayerget_metadata_json option write metadata json file openexport_json_fil w f fwritejson_fil android studio also support display metadata android studio ml bind featurehttpsdeveloperandroidcomstudiopreviewfeaturestensorflowlitemodel metadata version metadata schemahttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportmetadatametadata_schemafb version semant version number track chang schema file flatbuff file identif indic true version compat semant version number metadata schema version semant version numberhttpsgithubcomtensorflowtflitesupportblobcdbeebafcdedaetensorflow_lite_supportmetadatametadata_schemafbsl majorminorpatch track schema chang accord rule herehttpsgithubcomtensorflowtflitesupportblobcdbeebafcdedaetensorflow_lite_supportmetadatametadata_schemafbsl see histori fieldshttpsgithubcomtensorflowtflitesupportblobcdbeebafcdedaetensorflow_lite_supportmetadatametadata_schemafbsl ad version flatbuff file identif semant version guarante compat follow rule impli true incompat bump major number necessarili mean backward compat broken therefor use flatbuff file identificationhttpsgooglegithubioflatbuffersmd__schemashtml file_identifierhttpsgithubcomtensorflowtflitesupportblobcdbeebafcdedaetensorflow_lite_supportmetadatametadata_schemafbsl denot true compat metadata schema file identifi exactli charact long fix certain metadata schema subject chang user backward compat metadata schema broken reason file_identifi bump exampl file_identifi expect chang much less frequent metadata_vers minimum necessari metadata parser version minimum necessari metadata parser versionhttpsgithubcomtensorflowtflitesupportblobcdbeebafcdedaetensorflow_lite_supportmetadatametadata_schemafbsl minimum version metadata parser flatbuff gener code read metadata flatbuff full version effect largest version number among version field popul smallest compat version indic file identifi minimum necessari metadata parser version automat popul metadatapopul metadata popul tflite model see metadata extractorreadthemetadatafrommodel inform minimum necessari metadata parser version use read metadata model metadata extractor librari conveni tool read metadata associ file model across differ platform see java versionhttpsgithubcomtensorflowtflitesupporttreemastertensorflow_lite_supportmetadatajava c versionhttpsgithubcomtensorflowtflitesupporttreemastertensorflow_lite_supportmetadatacc build metadata extractor tool languag use flatbuff librari read metadata java use metadata extractor librari android app recommend use tensorflow lite metadata aar host mavencentralhttpssearchmavenorgartifactorgtensorflowtensorflowlitemetadata contain metadataextractor class well flatbuff java bind metadata schemahttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportmetadatametadata_schemafb model schemahttpsgithubcomtensorflowtensorflowblobmastertensorflowliteschemaschemafb specifi buildgradl depend follow build depend implement orgtensorflowtensorflowlitemetadata use nightli snapshot make sure ad sonatyp snapshot repositoryguidebuild_androiduse_nightly_snapshot initi metadataextractor object bytebuff point model java public metadataextractorbytebuff buffer bytebuff must remain unchang entir lifetim metadataextractor object initi may fail flatbuff file identifi model metadata match metadata parser see metadata versioningmetadatavers inform match file identifi metadata extractor success read metadata gener past futur schema due flatbuff forward backward compat mechan howev field futur schema extract older metadata extractor minimum necessari parser versiontheminimumnecessarymetadataparservers metadata indic minimum version metadata parser read metadata flatbuff full use follow method verifi minimum necessari parser version condit met java public final boolean isminimumparserversionsatisfi pass model without metadata allow howev invok method read metadata caus runtim error check model metadata invok hasmetadata method java public boolean hasmetadata metadataextractor provid conveni function get inputoutput tensor metadata exampl java public int getinputtensorcount public tensormetadata getinputtensormetadataint inputindex public quantizationparam getinputtensorquantizationparamsint inputindex public int getinputtensorshapeint inputindex public int getoutputtensorcount public tensormetadata getoutputtensormetadataint inputindex public quantizationparam getoutputtensorquantizationparamsint inputindex public int getoutputtensorshapeint inputindex though tensorflow lite model schemahttpsgithubcomtensorflowtensorflowblobaaffaaeacaeedabbftensorflowliteschemaschemafbsl support multipl subgraph tflite interpret current support singl subgraph therefor metadataextractor omit subgraph index input argument method read associ file model tensorflow lite model metadata associ file essenti zip file unpack common zip tool get associ file exampl unzip mobilenet_v___quantizedhttpstfhubdevtensorflowlitemodelmobilenet_v___quantizedmetadata extract label file model follow sh unzip mobilenet_v___quantized__metadata_tflit archiv mobilenet_v___quantized__metadata_tflit extract labelstxt also read associ file metadata extractor librari java pass file name metadataextractorgetassociatedfil method java public inputstream getassociatedfilestr filenam similarili c done method modelmetadataextractorgetassociatedfil c tflitesupportstatusorabslstring_view getassociatedfil const stdstring filenam const tensorflow lite convert tensorflow lite convert take tensorflow model gener tensorflow lite model optim flatbufferhttpsgooglegithubioflatbuff format identifi tflite file extens follow two option use convert python apipython_api recommend make easier convert model part model develop pipelin appli optim add metadata mani featur command linecmdlin support basic model convers note case encount issu model convers creat github issuehttpsgithubcomtensorflowtensorflowissuesnewtemplatetfliteconverterissuemd tflite convert workflowimagesconvertconvertpng python api namepython_apia helper code identifi instal tensorflow version run printtf__version__ learn tensorflow lite convert api run printhelptflitetfliteconvert youv instal tensorflow xhttpswwwtensorfloworginstallpiptensorflowpackagesareavail follow two option youv instal tensorflow xhttpswwwtensorfloworginstallpipolderversionsoftensorflow refer githubhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitegdocrconvertpython_apimd convert tensorflow x model use tflitetfliteconverterhttpswwwtensorfloworgapi_docspythontflitetfliteconvert tensorflow x model store use savedmodel format gener either use highlevel tfkera api kera model lowlevel tf api gener concret function result follow three option exampl next section tflitetfliteconverterfrom_saved_model recommend convert savedmodelhttpswwwtensorfloworgguidesaved_model tflitetfliteconverterfrom_keras_model convert kerashttpswwwtensorfloworgguidekerasoverview model tflitetfliteconverterfrom_concrete_funct convert concret functionshttpswwwtensorfloworgguideintro_to_graph convert tensorflow x model use tfcompatvlitetfliteconverterhttpswwwtensorfloworgapi_docspythontfcompatvlitetfliteconvert exampl githubhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitegdocrconvertpython_apimd tfcompatvlitetfliteconverterfrom_saved_model convert savedmodelhttpswwwtensorfloworgguidesaved_model tfcompatvlitetfliteconverterfrom_keras_model_fil convert kerashttpswwwtensorfloworgguidekerasoverview model tfcompatvlitetfliteconverterfrom_sess convert graphdef session tfcompatvlitetfliteconverterfrom_frozen_graph convert frozen graphdef file checkpoint first convert frozen graphdef file use api shown herehttpsgithubcomtensorflowtensorflowblobmastertensorflowlitegdocrconvertpython_apimdcheckpoint note follow section assum youv instal tensorflow x train model tensorflow x convert savedmodel recommend namesaved_modela follow exampl show convert savedmodelhttpswwwtensorfloworgguidesaved_model tensorflow lite model python import tensorflow tf convert model convert tflitetfliteconverterfrom_saved_modelsaved_model_dir path savedmodel directori tflite_model converterconvert save model openmodeltflit wb f fwritetflite_model convert kera model namekerasa follow exampl show convert kerashttpswwwtensorfloworgguidekerasoverview model tensorflow lite model python import tensorflow tf creat model use highlevel tfkera api model tfkerasmodelssequenti tfkeraslayersdenseunit input_shap tfkeraslayersdenseunit activationrelu tfkeraslayersdenseunit modelcompileoptimizersgd lossmean_squared_error compil model modelfitx epoch train model gener savedmodel tfsaved_modelsavemodel saved_model_keras_dir convert model convert tflitetfliteconverterfrom_keras_modelmodel tflite_model converterconvert save model openmodeltflit wb f fwritetflite_model convert concret function nameconcrete_functiona follow exampl show convert concret functionshttpswwwtensorfloworgguideintro_to_graph tensorflow lite model python import tensorflow tf creat model use lowlevel tf api class squaredtfmodul tffunctioninput_signaturetftensorspecshapenon dtypetffloat def __call__self x return tfsquarex model squar ro run model result squar print gener savedmodel tfsaved_modelsavemodel saved_model_tf_dir concrete_func model__call__get_concrete_funct convert model note version earlier tensorflow from_concrete_funct api abl work first argument given convert tflitetfliteconverterfrom_concrete_functionsconcrete_func convert tflitetfliteconverterfrom_concrete_functionsconcrete_func model tflite_model converterconvert save model openmodeltflit wb f fwritetflite_model featur appli optimizationsperformancemodel_optimizationmd common optim use post train quantizationperformancepost_training_quantizationmd reduc model latenc size minim loss accuraci add metadatametadatamd make easier creat platform specif wrapper code deploy model devic convers error follow common convers error solut error op support nativ tflite runtim enabl tf kernel fallback use tf select see instruct httpswwwtensorfloworgliteguideops_select tf select op solut error occur model tf op dont correspond tflite implement resolv use tf op tflite modelguideops_selectmd recommend want gener model tflite op either add request miss tflite op github issu httpsgithubcomtensorflowtensorflowissu leav comment request hasnt alreadi mention creat tflite opguideops_customcreate_and_register_the_oper error neither custom op flex op solut tf op support tf error occur tf op miss allowlistguideop_select_allowlistmd exhaust list tf op support tflite resolv follow add miss op allowlistguideop_select_allowlistmdadd_tensorflow_core_operators_to_the_allowed_list convert tf model tflite model run inferenceguideops_selectmd unsupport tf error occur tflite unawar custom tf oper defin resolv follow creat tf ophttpswwwtensorfloworgguidecreate_op convert tf model tflite modelguideop_select_allowlistmdusers_defined_oper creat tflite opguideops_custommdcreate_and_register_the_oper run infer link tflite runtim command line tool namecmdlinea highli recommend use python apipython_api list instead possibl youv instal tensorflow x piphttpswwwtensorfloworginstallpip use tflite_convert command follow youv instal tensorflow x sourcehttpswwwtensorfloworginstallsourc replac tflite_convert bazel run tensorflowlitepythontflite_convert follow section youv instal tensorflow xhttpswwwtensorfloworginstallpipolderversionsoftensorflow refer github referencehttpsgithubcomtensorflowtensorflowblobmastertensorflowlitegdocrconvertcmdline_referencemd exampleshttpsgithubcomtensorflowtensorflowblobmastertensorflowlitegdocrconvertcmdline_examplesmd tflite_convert view avail flag use follow command sh tflite_convert help output_fil type string full path output file saved_model_dir type string full path savedmodel directori keras_model_fil type string full path kera h model file enable_v_convert type bool default fals enabl convert flag use tf x instead tf x requir provid output_fil flag either saved_model_dir keras_model_fil flag convert savedmodel namecmdline_saved_modela sh tflite_convert saved_model_dirtmpmobilenet_saved_model output_filetmpmobilenettflit convert kera h model namecmdline_keras_modela sh tflite_convert keras_model_filetmpmobilenet_keras_modelh output_filetmpmobilenettflit next step use tensorflow lite interpreterguideinferencemd run infer client devic eg mobil embed tensorflow oper fusion overview page describ design step need convert composit oper tensorflow fuse oper tensorflow lite infrastructur gener purpos support convers composit oper tensorflow correspond fuse oper tensorflow lite exampl use infrastructur tensorflow rnn oper fusion tensorflow lite detail herehttpswwwtensorfloworgliteconvertrnn fuse oper drawingimagesconvertop_fusion_bannerjpg tensorflow oper either primit op eg tfaddhttpswwwtensorfloworgapi_docspythontfmathadd compos primit oper eg tfeinsumhttpswwwtensorfloworgapi_docspythontfeinsum primit oper show singl node tensorflow graph whilea composit oper collect node tensorflow graph execut composit oper equival execut constitu primit oper fuse oper correspond singl oper subsum comput perform primit oper within correspond composit oper benefit fuse oper fuse oper exist maxim perform underli kernel implement optim overal comput reduc memori footprint valuabl especi lowlat infer workload resourc constrain mobil platform fuse oper also provid higher level interfac defin complex transform like quantiz would otherwis infeas hard granular level tensorflow lite mani instanc fuse oper reason articul fuse oper typic correspond composit oper sourc tensorflow program exampl composit oper tensorflow implement singl fuse oper tensorflow lite includ variou rnn oper like unidirect bidirect sequenc lstm convolut convd bia add relu fulli connect matmul bia add relu tensorflow lite lstm quantiz current implement fuse lstm oper challeng fuse oper convert composit oper tensorflow fuse oper tensorflow lite hard problem composit oper repres tensorflow graph set primit oper without well defin boundari challeng identifi eg via pattern match subgraph correspond composit oper may one tensorflow implement target fuse tensorflow lite oper exampl mani lstm implement tensorflow kera babelfishlingvo etc compos differ primit oper could still convert fuse lstm oper tensorflow lite convers fuse oper proven quit challeng convert composit fuse oper overal architectur convert tensorflow composit oper tensorflow lite fuse oper drawingimagesconvertop_fusionpng wrap composit oper tffunction tensorflow model sourc code identifi abstract composit oper tffunction experimental_implementshttpsgithubcomtensorflowtensorflowblobcddfdeebfdaebafftensorflowpythoneagerdef_functionpyl function annot see exampl embed lookupcomposing_op function defin interfac argument use implement convers logic write convers code convers code written per interfac function implement annot see exampl fusion embed lookupfusion_cod conceptu convers code replac composit implement interfac fuse one preparecompositefunct pass plugin convers codehttpsgithubcomtensorflowtensorflowblobcddfdeebfdaebafftensorflowcompilermlirlitetransformsprepare_composite_functions_tfccl advanc usag possibl implement complex transform composit oper operand order deriv operand fuse oper see kera lstmhttpsgithubcomtensorflowtensorflowblobfaadaefdedcffffdatensorflowcompilermlirliteutilslstm_utilsccl convers code exampl convert tensorflow lite use tfliteconverterfrom_saved_modelhttpswwwtensorfloworgapi_docspythontflitetfliteconverterfrom_saved_model api convert tensorflow lite hood idunder_the_hooda describ high level detail overal design convert fuse oper tensorflow lite compos oper tensorflow idcomposing_opsa use tffunction experimental_implementshttpsgithubcomtensorflowtensorflowblobcddfdeebfdaebafftensorflowpythoneagerdef_functionpyl function attribut allow user explicitli compos new oper use tensorflow primit oper specifi interfac result composit oper implement use provid welldefin boundari composit oper underli tensorflow graph explicitli specifi interfac oper implement argument tffunction correspond argument interfac exampl let consid composit oper defin implement embed lookup map fuse oper tensorflow lite python tffunction experimental_implementsembedding_lookup def embfpropemb ids_vec embed forward prop effect comput num size ids_vec ret zerosnum embed dim rangenum retsi embsids_veci return ret arg emb embed matrix ids_vec vector int embed id return result embed lookup matrix shape num id ids_vec embed dim num tfshapeids_vec ret inplace_opsemptynum emb_shape_suf py_utilsfpropdtypep def embfproploopi emb ids_vec ret row_id ids_veci row_id tfgatherids_vec row embsrow_id row tfreshapetfgatheremb row_id emb_shape_suf retsi row ret inplace_opsalias_inplace_updateret row return emb ids_vec ret _ _ ret functional_opsfor start limitnum delta inputsemb ids_vec ret bodyembfproploop rewrite_with_whilecompil lenweight_shap ret tfreshaperet num symbolictostaticpembedding_dim return ret make model use composit oper via tffunction illustr becom possibl build gener infrastructur identifi convert oper fuse tensorflow lite oper extend tensorflow lite convert tensorflow lite convert releas earlier year support import tensorflow model graph variabl replac correspond constant valu work oper fusion sinc graph function inlin variabl turn constant order leverag tffunction experimental_impl featur convers process function need preserv later convers process implement new workflow import convert tensorflow model convert support composit oper fusion use case specif new featur ad import tensorflow save model mlirhttpsgithubcomtensorflowtensorflowblobfaadaefdedcffffdatensorflowcompilermlirtensorflowtranslateimport_modelccl fuse composit operationshttpsgithubcomtensorflowtensorflowblobfaadaefdedcffffdatensorflowcompilermlirlitetransformsprepare_composite_functions_tfccl variabl mutabl analysishttpsgithubcomtensorflowtensorflowblobfaadaefdedcffffdatensorflowcompilermlirtensorflowtransformsoptimize_global_tensorsccl freez readonli variableshttpsgithubcomtensorflowtensorflowblobfaadaefdedcffffdatensorflowcompilermlirtensorflowtransformsfreeze_global_tensorsccl allow us perform oper fusion use function repres composit oper prior function inlin variabl freez implement oper fusion let look oper fusion pass detail pass follow loop function mlir modul function tf_implement attribut base attribut valu call appropri oper fusion util oper fusion util oper function operand attribut serv interfac convers replac bodi function equival function bodi contain fuse oper mani case replac bodi contain oper fuse oper correspond static transform function operand order obtain operand fuse oper sinc comput constant fold away would present export flatbuff fuse oper would exist code snippet pass show main workflow void preparecompositefunctionspassconverttfimplementsfuncop func stringattr attr attrgetvalu embedding_lookup funcerasebodi funcaddentryblock convert composit embedding_lookup function bodi tflite fuse embedding_lookup op convertembeddedlookupfunc convert_embedded_lookupfunc failedconvert_embedded_lookupverifysignatur return signalpassfailur convert_embedded_lookuprewritefunc els attrgetvalu mlirtflkkeraslstm funcerasebodi funcaddentryblock opbuild builderfuncgetbodi failedconvertkeraslstmlayerfunc builder return signalpassfailur els fusion plug code snippet show map composit oper fuse oper tensorflow lite leverag function convers interfac idfusion_codea c void rewritefunc valu lookup func_getargu valu valu func_getargu auto output_typ func_gettypegetresult opbuild builderfunc_getbodi auto op buildercreatemlirtflembeddinglookupop func_getloc output_typ lookup valu buildercreatemlirreturnopfunc_getloc opgetresult api updat nameapi_updatesa page provid inform updat made tflitetfliteconvert python apiindexmd tensorflow x note chang rais concern pleas file github issuehttpsgithubcomtensorflowtensorflowissuesnewtemplatetfliteconverterissuemd tensorflow support integ previous float inputoutput type integ quantiz model use new inference_input_typ inference_output_typ attribut refer exampl usageperformancepost_training_quantizationmdinteger_onli support convers resiz model dynam dimens ad new experiment quantiz mode bit activ bit weight tensorflow default leverag mlirbas conversionhttpsmlirllvmorg googl cut edg compil technolog machin learn enabl convers new class model includ mask rcnn mobil bert etc support model function control flow tensorflow vs tensorflow x renam target_op attribut target_specsupported_op remov follow attribut _quantization_ inference_typ quantized_input_stat post_training_quant default_ranges_stat reorder_across_fake_qu change_concat_input_rang get_input_array instead quantiz awar traininghttpswwwtensorfloworgmodel_optimizationguidequantizationtrain support tfkera api post train quantizationperformancepost_training_quantizationmd use fewer attribut _visualization_ output_format dump_graphviz_dir dump_graphviz_video instead recommend approach visual tensorflow lite model use visualizepyhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitetoolsvisualizepi _frozen graphs_ drop_control_depend frozen graph unsupport tensorflow x remov convert api tflitetoco_convert tflitetococonvert remov relat api tfliteophint tfliteconst tfliteconst type map tf tensorflow data type reduc duplic android quickstart get start tensorflow lite android recommend explor follow exampl classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationandroidandroid imag classif examplea read tensorflow lite android imag classificationhttpsgithubcomtensorflowexamplesblobmasterliteexamplesimage_classificationandroidexplore_the_codemd explan sourc code exampl app use imag classificationhttpswwwtensorfloworglitemodelsimage_classificationoverview continu classifi whatev see devic rearfac camera applic run either devic emul infer perform use tensorflow lite java api tensorflow lite android support libraryinference_with_metadatalite_supportmd demo app classifi frame realtim display top probabl classif allow user choos float point quantizedhttpswwwtensorfloworgliteperformancepost_training_quant model select thread count decid whether run cpu gpu via nnapihttpsdeveloperandroidcomndkguidesneuralnetwork note addit android applic demonstr tensorflow lite varieti use case avail exampleshttpswwwtensorfloworgliteexampl build android studio build exampl android studio follow instruct readmemdhttpsgithubcomtensorflowexamplesblobmasterliteexamplesimage_classificationandroidreadmemd creat android app get start quickli write android code recommend use android imag classif examplehttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationandroid start point follow section contain use inform work tensorflow lite android use android studio ml model bind note requir android studio httpsdeveloperandroidcomstudio import tensorflow lite tflite model rightclick modul would like use tflite model click file new tensorflow lite model rightclick menu access tensorflow lite import functionalityimagesandroidright_click_menupng select locat tflite file note tool configur modul depend behalf ml model bind depend automat insert android modul buildgradl file option select second checkbox import tensorflow gpu want use gpu accelerationperformancegpu import dialog tflite modelimagesandroidimport_dialogpng click finish follow screen appear import success start use model select kotlin java copi past code sampl code section get back screen doubl click tflite model ml directori android studio model detail page android studioimagesandroidmodel_detailspng use tensorflow lite task librari tensorflow lite task librari contain set power easytous taskspecif librari app develop creat ml experi tflite provid optim outofbox model interfac popular machin learn task imag classif question answer etc model interfac specif design task achiev best perform usabl task librari work crossplatform support java c swift come soon use task librari android app recommend use aar host mavencentr task vision libraryhttpssearchmavenorgartifactorgtensorflowtensorflowlitetaskvis task text libraryhttpssearchmavenorgartifactorgtensorflowtensorflowlitetasktext respect specifi buildgradl depend follow build depend implement orgtensorflowtensorflowlitetaskvis implement orgtensorflowtensorflowlitetasktext implement orgtensorflowtensorflowlitetaskaudio use nightli snapshot make sure ad sonatyp snapshot repositorybuild_androiduse_nightly_snapshot see introduct tensorflow lite task librari overviewinference_with_metadatatask_libraryoverviewmd detail use tensorflow lite android support librari tensorflow lite android support librari make easier integr model applic provid highlevel api help transform raw input data form requir model interpret model output reduc amount boilerpl code requir support common data format input output includ imag array also provid pre postprocess unit perform task imag resiz crop use support librari android app recommend use tensorflow lite support librari aar host mavencentralhttpssearchmavenorgartifactorgtensorflowtensorflowlitesupport specifi buildgradl depend follow build depend implement orgtensorflowtensorflowlitesupport use nightli snapshot make sure ad sonatyp snapshot repositorybuild_androiduse_nightly_snapshot get start follow instruct tensorflow lite android support libraryinference_with_metadatalite_supportmd use tensorflow lite aar mavencentr use tensorflow lite android app recommend use tensorflow lite aar host mavencentralhttpssearchmavenorgartifactorgtensorflowtensorflowlit specifi buildgradl depend follow build depend implement orgtensorflowtensorflowlitenightlysnapshot use nightli snapshot make sure ad sonatyp snapshot repositorybuild_androiduse_nightly_snapshot aar includ binari android abishttpsdeveloperandroidcomndkguidesabi reduc size applic binari includ abi need support recommend develop omit x x_ arm abi achiev follow gradl configur specif includ armeabiva armva cover modern android devic build android defaultconfig ndk abifilt armeabiva armva learn abifilt see ndkoptionshttpsgooglegithubioandroidgradledslcurrentcomandroidbuildgradleinternaldslndkoptionshtml android gradl document build android app use c two way use tflite c build app ndk use tflite c api recommend approach download tensorflow lite aar host mavencentralhttpssearchmavenorgartifactorgtensorflowtensorflowtensorflowlit renam tensorflowlitezip unzip must includ four header file headerstensorflowlit headerstensorflowlitec folder relev libtensorflowlite_jniso dynam librari jni folder ndk project c_apih header file contain basic document use tflite c api use tflite c api want use tflite c api build c share librari bit armeabiva sh bazel build c opt configandroid_arm tensorflowlitelibtensorflowliteso bit armva sh bazel build c opt configandroid_arm tensorflowlitelibtensorflowliteso current straightforward way extract header file need must includ header file tensorflowlit tensorflow repositori addit need header file flatbuffershttpsgithubcomgoogleflatbuff abseilhttpsgithubcomabseilabseilcpp min sdk version tflite librari minsdkvers devic requir tensorflowlit nnapi usag requir api tensorflowlitegpu gle opencl typic avail api tensorflowlitehexagon tensorflowlitesupport tensorflowlitetaskvis androidgraphicscolor relat api requir api tensorflowlitetasktext tensorflowlitetaskaudio tensorflowlitemetadata host model follow incomplet list pretrain model optim work tensorflow lite get start choos model visit hrefmodelsmodelsa page endtoend exampl pick tensorflow lite model tensorflow hubhttpstfhubdevsdeploymentformatlit note best model given applic depend requir exampl applic might benefit higher accuraci other requir small model size test applic varieti model find optim balanc size perform accuraci imag classif inform imag classif see hrefmodelsimage_classificationoverviewmdimag classificationa explor tensorflow lite task librari instruct integr imag classif modelsinference_with_metadatatask_libraryimage_classifi line code quantiz model hrefperformancepost_training_quantizationquantizeda imag classif model offer smallest model size fastest perform expens accuraci perform valu measur pixel android find mani quantiz modelshttpstfhubdevsdeploymentformatlitemoduletypeimageclassificationqquant tensorflow hub get model inform model name paper model model size top accuraci top accuraci cpu thread nnapi mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz mb ms ms mobilenet_v___qu paperhttpsarxivorgab tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflite___mobilenet_v___quanttgz mb ms ms inception_v_qu paperhttpsarxivorgab tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsinception_v__quant_tgz mb ms ms inception_v_qu paperhttpsarxivorgab tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsinception_v__quant_tgz mb ms ms inception_v_qu paperhttpsarxivorgabstflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflite___inception_v_quanttgz mb ms ms inception_v_qu paperhttpsarxivorgab tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsinception_v__quant_tgz mb ms ms note model file includ tf lite flatbuff tensorflow frozen graph note perform number benchmark pixel android accuraci number comput use tflite imag classif evalu toolhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsevaluationtasksimagenet_image_classif float point model float point model offer best accuraci expens model size perform hrefperformancegpugpu accelerationa requir use float point model perform valu measur pixel android find mani imag classif modelshttpstfhubdevsdeploymentformatlitemoduletypeimageclassif tensorflow hub get model inform model name paper model model size top accuraci top accuraci cpu thread gpu nnapi densenet paperhttpsarxivorgab tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_densenet___tgz mb ms ms ms squeezenet paperhttpsarxivorgab tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_squeezenet___tgz mb ms ms ms nasnet mobil paperhttpsarxivorgab tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_nasnet_mobile___tgz mb ms ms nasnet larg paperhttpsarxivorgab tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_nasnet_large___tgz mb ms ms resnet_v_ paperhttpsarxivorgab tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflite___resnet_v_tgz mb ms ms ms inception_v paperhttparxivorgab tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_inception_v___tgz mb ms ms ms inception_v paperhttparxivorgab tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_inception_v___tgz mb ms ms ms inception_resnet_v paperhttpsarxivorgab tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_inception_resnet_v___tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mb ms ms ms mobilenet_v__ paperhttpsarxivorgpdfpdf tflitepbhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflite___mobilenet_v__tgz mb ms ms ms automl mobil model follow imag classif model creat use hrefhttpscloudgooglecomautomlcloud automla perform valu measur pixel android find model tensorflow hubhttpstfhubdevsdeploymentformatliteqmnasnet get model inform model name paper model model size top accuraci top accuraci cpu thread gpu nnapi mnasnet__ paperhttpsarxivorgab tflitepbhttpsstoragecloudgooglecomdownloadtensorfloworgmodelstflitemnasnet_____tgz mb ms ms ms mnasnet__ paperhttpsarxivorgab tflitepbhttpsstoragecloudgooglecomdownloadtensorfloworgmodelstflitemnasnet_____tgz mb ms ms ms mnasnet__ paperhttpsarxivorgab tflitepbhttpsstoragecloudgooglecomdownloadtensorfloworgmodelstflitemnasnet_____tgz mb ms ms ms mnasnet__ paperhttpsarxivorgab tflitepbhttpsstoragecloudgooglecomdownloadtensorfloworgmodelstflitemnasnet_____tgz mb ms ms ms mnasnet__ paperhttpsarxivorgab tflitepbhttpsstoragecloudgooglecomdownloadtensorfloworgmodelstflitemnasnet_____tgz mb ms ms ms mnasnet__ paperhttpsarxivorgab tflitepbhttpsstoragecloudgooglecomdownloadtensorfloworgmodelstflitemnasnet_____tgz mb ms ms ms mnasnet__ paperhttpsarxivorgab tflitepbhttpsstoragecloudgooglecomdownloadtensorfloworgmodelstflitemnasnet_____tgz mb ms ms ms mnasnet__ paperhttpsarxivorgab tflitepbhttpsstoragecloudgooglecomdownloadtensorfloworgmodelstflitemnasnet_____tgz mb ms ms ms note perform number benchmark pixel android accuraci number comput use tflite imag classif evalu toolhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsevaluationtasksimagenet_image_classif object detect inform object detect see hrefmodelsobject_detectionoverviewmdobject detectiona explor tensorflow lite task librari instruct integr object detect modelsinference_with_metadatatask_libraryobject_detector line code pleas find object detect modelshttpstfhubdevsdeploymentformatlitemoduletypeimageobjectdetect tensorflow hub pose estim inform pose estim see hrefmodelspose_estimationoverviewmdpos estimationa pleas find pose estim modelshttpstfhubdevsdeploymentformatlitemoduletypeimageposedetect tensorflow hub imag segment inform imag segment see hrefmodelssegmentationoverviewmdsegmentationa explor tensorflow lite task librari instruct integr imag segment modelsinference_with_metadatatask_libraryimage_segment line code pleas find imag segment modelshttpstfhubdevsdeploymentformatlitemoduletypeimagesegment tensorflow hub question answer inform question answer mobilebert see hrefmodelsbert_qaoverviewmdquest answera explor tensorflow lite task librari instruct integr question answer modelsinference_with_metadatatask_librarybert_question_answer line code pleas find mobil bert modelhttpstfhubdevtensorflowmobilebert tensorflow hub smart repli inform smart repli see hrefmodelssmart_replyoverviewmdsmart replya pleas find smart repli modelhttpstfhubdevtensorflowsmartrepli tensorflow hub reduc tensorflow lite binari size overview deploy model ondevic machin learn odml applic import awar limit memori avail mobil devic model binari size close correl number op use model tensorflow lite enabl reduc model binari size use select build select build skip unus oper model set produc compact librari runtim op kernel requir model run mobil devic select build appli follow three oper librari tensorflow lite builtin op libraryhttpswwwtensorfloworgliteguideops_compat tensorflow lite custom opshttpswwwtensorfloworgliteguideops_custom select tensorflow op libraryhttpswwwtensorfloworgliteguideops_select tabl demonstr impact select build common use case tabl thead tr thmodel nameth thdomainth thtarget architectureth thaar file sizesth tr thead tr td rowspan hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgzmobilenet__floata td td rowspan imag classificationtd tdarmeabivatd tdtensorflowliteaar bytestd tr tr tdarmvatd tdtensorflowliteaar bytestd tr tr td rowspan hrefhttpstfhubdevgooglelitemodelspicespicea td td rowspan sound pitch extractiontd tdarmeabivatd tdtensorflowliteaar bytesbr tensorflowliteselecttfopsaar bytestd tr tr tdarmvatd tdtensorflowliteaar bytesbr tensorflowliteselecttfopsaar bytestd tr tr td rowspan hrefhttpstfhubdevdeepmindidkineticsidkineticsa td td rowspan video classificationtd tdarmeabivatd tdtensorflowliteaar bytesbr tensorflowliteselecttfopsaar bytestd tr tr tdarmvatd tdtensorflowliteaar bytesbr tensorflowliteselecttfopsaar bytestd tr tabl note featur current experiment avail sinc version may chang select build tensorflow lite bazel section assum download tensorflow sourc code set local develop environmenthttpswwwtensorfloworgliteguidebuild_androidset_up_build_environment_without_dock bazel build aar file android project build custom tensorflow lite aar provid model file path follow sh sh tensorflowlitetoolsbuild_aarsh input_modelsabmodel_onetflitecdmodel_twotflit target_archsxx_armvaarmeabiva command gener aar file bazelbintmptensorflowliteaar tensorflow lite builtin custom op option gener aar file bazelbintmptensorflowliteselecttfopsaar model contain select tensorflow op note build fat aar sever differ architectur dont need use subset appropri deploy environ build custom op develop tensorflow lite model custom op build ad follow flag build command sh sh tensorflowlitetoolsbuild_aarsh input_modelsabmodel_onetflitecdmodel_twotflit target_archsxx_armvaarmeabiva tflite_custom_ops_srcseffileccghfileh tflite_custom_ops_depsdepdep tflite_custom_ops_src flag contain sourc file custom op tflite_custom_ops_dep flag contain depend build sourc file note depend must exist tensorflow repo advanc usag custom bazel rule project use bazel would like defin custom tflite depend given set model defin follow rule project repositori model builtin op bazel load org_tensorflowtensorflowlitebuild_defbzl tflite_custom_android_librari tflite_custom_c_librari tflite_custom_cc_librari select built tflite android librari tflite_custom_android_librari name selectively_built_android_lib model model_onetflit model_twotflit select built tflite c librari tflite_custom_c_librari name selectively_built_c_lib model model_onetflit model_twotflit select built tflite c librari tflite_custom_cc_librari name selectively_built_cc_lib model model_onetflit model_twotflit model select tf opsguideops_selectmd bazel load org_tensorflowtensorflowlitedelegatesflexbuild_defbzl tflite_flex_android_librari tflite_flex_cc_librari select tf op enabl select built tflite android librari tflite_flex_android_librari name selective_built_tflite_flex_android_lib model model_onetflit model_twotflit select tf op enabl select built tflite c librari tflite_flex_cc_librari name selective_built_tflite_flex_cc_lib model model_onetflit model_twotflit advanc usag build custom cc share librari would like build custom tflite cc share object toward given model follow step creat temporari build file run follow command root directori tensorflow sourc code sh mkdir p tmp touch tmpbuild build custom c share object would like build custom tflite c share object add follow tmpbuild file bazel load tensorflowlitebuild_defbzl tflite_custom_c_librari tflite_cc_shared_object tflite_custom_c_librari name selectively_built_c_lib model model_onetflit model_twotflit gener platformspecif share librari contain tensorflow lite c api implement defin c_apih exact output librari name platform depend linuxandroid libtensorflowlite_cso mac libtensorflowlite_cdylib window tensorflowlite_cdl tflite_cc_shared_object name tensorflowlite_c linkopt select tensorflowio wlexported_symbols_listloc tensorflowlitecexported_symbolsld tensorflowmaco wlexported_symbols_listloc tensorflowlitecexported_symbolsld tensorflowwindow conditionsdefault z def wlversionscriptloc tensorflowlitecversion_scriptld per_os_target true dep selectively_built_c_lib tensorflowlitecexported_symbolsld tensorflowlitecversion_scriptld newli ad target built follow sh bazel build c opt cxxoptstdc tmptensorflowlite_c android replac android_arm android_arm bit sh bazel build c opt cxxoptstdc configandroid_arm tmptensorflowlite_c build custom c share object would like build custom tflite c share object add follow tmpbuild file bazel load tensorflowlitebuild_defbzl tflite_custom_cc_librari tflite_cc_shared_object tflite_custom_cc_librari name selectively_built_cc_lib model model_onetflit model_twotflit share lib target conveni pull core runtim builtin op note target yet final exact set export cc api subject chang output librari name platform depend linuxandroid libtensorflowliteso mac libtensorflowlitedylib window tensorflowlitedl tflite_cc_shared_object name tensorflowlit granular symbol export c api window export symbol featur windows_export_all_symbol linkopt select tensorflowmaco wlexported_symbols_listloc tensorflowlitetflite_exported_symbolsld tensorflowwindow conditionsdefault wlzdef wlversionscriptloc tensorflowlitetflite_version_scriptld per_os_target true dep selectively_built_cc_lib tensorflowlitetflite_exported_symbolsld tensorflowlitetflite_version_scriptld newli ad target built follow sh bazel build c opt cxxoptstdc tmptensorflowlit android replac android_arm android_arm bit sh bazel build c opt cxxoptstdc configandroid_arm tmptensorflowlit model select tf op also need build follow share librari well bazel load org_tensorflowtensorflowlitedelegatesflexbuild_defbzl tflite_flex_shared_librari share lib target conveni pull standard set tensorflow op kernel output librari name platform depend linuxandroid libtensorflowlite_flexso mac libtensorflowlite_flexdylib window libtensorflowlite_flexdl tflite_flex_shared_librari name tensorflowlite_flex model model_onetflit model_twotflit newli ad target built follow sh bazel build c opt cxxoptstdc configmonolith host_crosstool_topbazel_toolstoolscpptoolchain tmptensorflowlite_flex android replac android_arm android_arm bit sh bazel build c opt cxxoptstdc configandroid_arm configmonolith host_crosstool_topbazel_toolstoolscpptoolchain tmptensorflowlite_flex select build tensorflow lite docker section assum instal dockerhttpsdocsdockercomgetdock local machin download tensorflow lite dockerfil herehttpswwwtensorfloworgliteguidebuild_androidset_up_build_environment_using_dock download dockerfil build docker imag run shell docker build tflitebuild f tfliteandroiddockerfil build aar file android project download script build docker run sh curl build_aar_with_dockersh httpsrawgithubusercontentcomtensorflowtensorflowmastertensorflowlitetoolsbuild_aar_with_dockersh chmod x build_aar_with_dockersh build custom tensorflow lite aar provid model file path follow sh sh build_aar_with_dockersh input_modelsabmodel_onetflitecdmodel_twotflit target_archsxx_armvaarmeabiva checkpointmast cache_dirpath cach directori checkpoint flag commit branch tag tensorflow repo want checkout build librari default latest releas branch command gener aar file tensorflowliteaar tensorflow lite builtin custom op option aar file tensorflowliteselecttfopsaar select tensorflow op current directori cache_dir specifi cach directori provid script creat directori name bazelbuildcach current work directori cach add aar file project add aar file directli import aar projecthttpswwwtensorfloworgliteguidebuild_androidadd_aar_directly_to_project publish custom aar local maven repositoryhttpswwwtensorfloworgliteguidebuild_androidinstall_aar_to_local_maven_repositori note add aar file tensorflowliteselecttfopsaar well gener select build io pleas see build local sectionguidebuild_iosmdbuilding_loc set build environ configur tensorflow workspac follow guideguidebuild_iosmdselectively_build_tflite_framework use select build script io custom oper sinc tensorflow lite builtin oper librari support limit number tensorflow oper everi model convert detail refer oper compatibilityops_compatibilitymd allow convers user provid custom implement unsupport tensorflow oper tensorflow lite known custom oper instead wish combin seri unsupport support tensorflow oper singl fuse optim custom oper refer oper fusinghttpswwwtensorfloworgliteconvertoperation_fus use custom oper consist four step creat tensorflow modelcreateatensorflowmodel make sure save model graph def refer correctli name tensorflow lite oper convert tensorflow lite modelconverttoatensorflowlitemodel make sure set right tensorflow lite convert attribut order success convert model creat regist operatorcreateandregistertheoper tensorflow lite runtim know map oper paramet graph execut cc code test profil operatortestandprofileyouroper wish test custom oper best creat model custom oper use benchmark_modelhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitetoolsbenchmarkbenchmark_modelcc program let walk endtoend exampl run model custom oper tfsin name sin refer createatensorflowmodel support tensorflow unsupport tensorflow lite note realiti tfsin custom oper regular oper support tensorflow tensorflow lite assum custom oper follow exampl order demonstr simpl workflow exampl custom sin oper let walk exampl support tensorflow oper tensorflow lite assum use sin oper build simpl model function sinx offset offset trainabl creat tensorflow model follow code snippet train simpl tensorflow model model contain custom oper name sin function sinx offset offset trainabl python import tensorflow tf defin train dataset variabl x offset tfvariabl defin simpl model contain custom oper name sin tffunction def sinx return tfsinx offset namesin train model optim tfoptimizersadam def trainx tfgradienttap predicted_i sinx loss tfreduce_sumtfsquarepredicted_i grad tgradientloss offset optimizerapply_gradientszipgrad offset rang trainx printth actual offset printth predict offset offsetnumpi python actual offset predict offset point tri gener tensorflow lite model default convert flag get follow error messag none error oper model support standard tensorflow lite runtim list oper need custom implement sin convert tensorflow lite model creat tensorflow lite model custom oper set convert attribut allow_custom_op shown pre convert tflitetfliteconverterfrom_concrete_functionssinget_concrete_functionx sin bconverterallow_custom_op trueb tflite_model converterconvert pre point run default interpret get follow error messag none error didnt find custom oper name sin registr fail creat regist oper tensorflow lite oper custom builtin defin use simpl purec interfac consist four function c typedef struct void inittflitecontext context const char buffer size_t length void freetflitecontext context void buffer tflitestatu preparetflitecontext context tflitenod node tflitestatu invoketflitecontext context tflitenod node tfliteregistr refer commonhhttpsgithubcomtensorflowtensorflowblobmastertensorflowliteccommonh detail tflitecontext tflitenod former provid error report facil access global object includ tensor latter allow implement access input output interpret load model call init node graph given init call op use multipl time graph custom op configur buffer provid contain flexbuff map paramet name valu buffer empti builtin op interpret alreadi pars op paramet kernel implement requir state initi transfer ownership caller init call correspond call free allow implement dispos buffer might alloc init whenev input tensor resiz interpret go graph notifi implement chang give chanc resiz intern buffer check valid input shape type recalcul output shape done prepar implement access state use nodeuser_data final time infer run interpret travers graph call invok state avail nodeuser_data custom op implement exactli way builtin op defin four function global registr function usual look like c namespac tflite namespac op namespac custom tfliteregistr register_my_custom_op static tfliteregistr r my_custom_opinit my_custom_opfre my_custom_opprepar my_custom_opev return r namespac custom namespac op namespac tflite note registr automat explicit call register_my_custom_op made standard builtinopresolv avail builtin_op target take care registr builtin custom op collect separ custom librari defin kernel tensorflow lite runtim need use op tensorflow lite defin two function prepar eval construct tfliteregistr cpp tflitestatu sinpreparetflitecontext context tflitenod node use namespac tflite tf_lite_ensure_eqcontext numinputsnod tf_lite_ensure_eqcontext numoutputsnod const tflitetensor input getinputcontext node tflitetensor output getoutputcontext node int num_dim numdimensionsinput tfliteintarray output_s tfliteintarraycreatenum_dim int inum_dim output_sizedatai inputdimsdatai return contextresizetensorcontext output output_s tflitestatu sinevaltflitecontext context tflitenod node use namespac tflite const tflitetensor input getinputcontext node tflitetensor output getoutputcontext node float input_data inputdataf float output_data outputdataf size_t count int num_dim numdimensionsinput int num_dim count inputdimsdatai size_t icount output_datai sininput_datai return ktfliteok tfliteregistr register_sin static tfliteregistr r nullptr nullptr sinprepar sinev return r initi opresolv add custom op resolv see exampl regist oper tensorflow lite tensorflow lite use new implement note last two argument tfliteregistr correspond sinprepar sinev function defin custom op use sininit sinfre function initi variabl use op free space respect would ad first two argument tfliteregistr argument set nullptr exampl regist oper kernel librari need regist oper kernel librari done opresolv behind scene interpret load librari kernel assign execut oper model default librari contain builtin kernel possibl replaceaug custom librari op oper opresolv class translat oper code name actual code defin like c class opresolv virtual tfliteregistr findoptflitebuiltinoper op const virtual tfliteregistr findopconst char op const virtual void addbuiltintflitebuiltinoper op tfliteregistr registr virtual void addcustomconst char op tfliteregistr registr regular usag requir use builtinopresolv write c tfliteopsbuiltinbuiltinopresolv resolv add custom op creat call addop pass resolv interpreterbuild c resolveraddcustomsin register_sin set builtin op deem larg new opresolv could codegener base given subset op possibl one contain given model equival tensorflow select registr simpl version avail tool directori want defin custom oper java would current need build custom jni layer compil aar jni codehttpsgithubcomtensorflowtensorflowblobmastertensorflowlitejavasrcmainnativebuiltin_ops_jnicc similarli wish defin oper avail python place registr python wrapper codehttpsgithubcomtensorflowtensorflowblobmastertensorflowlitepythoninterpreter_wrapperinterpreter_wrappercc note similar process follow support set oper instead singl oper add mani addcustom oper need addit builtinopresolv also allow overrid implement builtin use addbuiltin test profil oper profil op tensorflow lite benchmark tool use benchmark model toolhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarktflitemodelbenchmarktool tensorflow lite test purpos make local build tensorflow lite awar custom op ad appropri addcustom call show registercchttpsgithubcomtensorflowtensorflowtreemastertensorflowlitekernelsregistercc best practic optim memori alloc dealloc cautious alloc memori prepar effici invok alloc memori loop better everi iter use temporari tensor data rather malloc see item use pointersrefer instead copi much possibl data structur persist entir oper advis prealloc memori use temporari tensor may need use opdata struct refer tensor indic function see exampl kernel convolutionhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitekernelsconvcc sampl code snippet auto op_data reinterpret_castopdatanodeuser_data tfliteintarrayfreenodetemporari nodetemporari tfliteintarraycr nodetemporariesdata op_datatemp_tensor_index tflitetensor temp_tensor contexttensorsop_datatemp_tensor_index temp_tensortyp ktflitefloat temp_tensorallocation_typ ktflitearenarw doesnt cost much wast memori prefer use static fix size array prealloc stdvector resiz rather use dynam alloc stdvector everi iter execut avoid instanti standard librari contain templat dont alreadi exist affect binari size exampl need stdmap oper doesnt exist kernel use stdvector direct index map could work keep binari size small see kernel use gain insight ask check pointer memori return malloc pointer nullptr oper perform use pointer malloc function error exit dealloc memori exit use tf_lite_ensurecontext condit check specif condit code must leav memori hang tf_lite_ensur use ie macro use resourc alloc leak tensorflow lite tensorflow lite set tool enabl ondevic machin learn help develop run model mobil embed iot devic key featur optim ondevic machin learn address key constraint latenc there roundtrip server privaci person data leav devic connect internet connect requir size reduc model binari size power consumpt effici infer lack network connect multipl platform support cover androidandroid iosio devic embed linuxpython microcontrollersmicrocontrol divers languag support includ java swift objectivec c python high perform hardwar accelerationperformancedeleg model optimizationperformancemodel_optim endtoend examplesexampl common machin learn task imag classif object detect pose estim question answer text classif etc multipl platform key point tensorflow lite binari mb support oper link bit arm build less kb use oper need support common imag classif model inceptionv mobilenet develop workflow follow guid walk step workflow provid link instruct note refer perform best practicesperformancebest_practic guid ideal balanc perform model size accuraci gener tensorflow lite model tensorflow lite model repres special effici portabl format known flatbuffershttpsgooglegithubioflatbuffersextern identifi tflite file extens provid sever advantag tensorflow protocol buffer model format reduc size small code footprint faster infer data directli access without extra parsingunpack step enabl tensorflow lite execut effici devic limit comput memori resourc tensorflow lite model option includ metadata humanread model descript machineread data automat gener pre postprocess pipelin ondevic infer refer add metadataconvertmetadata detail gener tensorflow lite model follow way use exist tensorflow lite model refer tensorflow lite examplesexampl pick exist model model may may contain metadata creat tensorflow lite model use tensorflow lite model makermodel_mak creat model custom dataset default model contain metadata convert tensorflow model tensorflow lite model use tensorflow lite converterconvertindex convert tensorflow model tensorflow lite model convers appli optimizationsperformancemodel_optim quantizationperformancepost_training_quant reduc model size latenc minim loss accuraci default model dont contain metadata run infer infer refer process execut tensorflow lite model ondevic make predict base input data run infer follow way base model type model without metadata use tensorflow lite interpreterinfer api support multipl platform languag java swift c objectivec python model metadata either leverag outofbox api use tensorflow lite task libraryinference_with_metadatatask_libraryoverview build custom infer pipelin tensorflow lite support libraryinference_with_metadatalite_support android devic user automat gener code wrapper use android studio ml model bindinginference_with_metadatacodegenmlbind tensorflow lite code generatorinference_with_metadatacodegencodegen support java android swift io c work progress android io devic improv perform use hardwar acceler either platform use gpu delegateperformancegpu android either use nnapi delegateperformancennapi newer devic hexagon delegateperformancehexagon_deleg older devic io use core ml delegateperformancecoreml_deleg add support new hardwar acceler defin delegateperformanceimplementing_deleg get start refer follow guid base target devic android io explor android quickstartandroid io quickstartio embed linux explor python quickstartpython embed devic raspberri pihttpswwwraspberrypiorgextern coral devic edg tpuhttpscoralwithgooglecomextern c build instruct armbuild_arm microcontrol explor tensorflow lite microcontrollersmicrocontrol librari microcontrol dsp contain kilobyt memori technic constraint tensorflow model convert tensorflow lite model refer oper compatibilityops_compat unsupport ondevic train howev roadmaproadmap cross compil tensorflow lite cmake page describ build tensorflow lite librari variou arm devic follow instruct test ubuntu bit pc amd tensorflow devel docker imag tensorflowtensorflowdevelhttpshubdockercomrtensorflowtensorflowtag note featur avail sinc version prerequisit need cmake instal download tensorflow sourc code pleas check build tensorflow lite cmakehttpswwwtensorfloworgliteguidebuild_cmak page detail check target environ follow exampl test raspberri pi os ubuntu server lt mendel linux depend target glibc version cpu capabl may need use differ version toolchain build paramet check glibc version sh ldd version pre classtfonotebookcodecelloutput ldd debian glibc copyright c free softwar foundat inc free softwar see sourc copi condit warranti even merchant fit particular purpos written roland mcgrath ulrich drepper pre check abi compat target arm bit two abi avail depend vfp avail armhfhttpswikidebianorgarmhardfloatport armelhttpswikidebianorgarmeabiport document show armhf exampl need use differ toolchain armel target check cpu capabl armv know target support vfp version neon avail sh cat proccpuinfo pre classtfonotebookcodecelloutput processor model name armv processor rev vl bogomip featur half thumb fastmult vfp edsp neon vfpv tl vfpv idiva idivt vfpd lpae evtstrm crc cpu implement x cpu architectur cpu variant x cpu part xd cpu revis pre build aarch arm instruct show build aarch binari compat coral mendel linux httpscoralai raspberri pi ubuntu server lt bithttpsubuntucomdownloadraspberrypi instal download toolchain command instal gccarmx_aarchlinuxgnu toolchain hometoolchain sh curl lo httpsstoragegoogleapiscommirrortensorfloworgdeveloperarmcommediafilesdownloadsgnuabinrelgccarmx_aarchlinuxgnutarxz mkdir p hometoolchain tar xvf gccarmx_aarchlinuxgnutarxz c hometoolchain note binari built gcc requir glibc higher target lower glibc version need use older gcc toolchain run cmake sh armcc_prefixhometoolchainsgccarmx_aarchlinuxgnubinaarchlinuxgnu armcc_flagsfunsafemathoptim cmake dcmake_c_compilerarmcc_prefixgcc dcmake_cxx_compilerarmcc_prefixg dcmake_c_flagsarmcc_flag dcmake_cxx_flagsarmcc_flag dcmake_verbose_makefileboolon dcmake_system_namelinux dcmake_system_processoraarch tensorflowlit note enabl gpu deleg dtflite_enable_gpuon target devic support opencl higher build armv neon enabl instruct show build armv vfpv neon enabl binari compat raspberri pi download toolchain command instal gccarmx_armlinuxgnueabihf toolchain hometoolchain sh curl lo httpsstoragegoogleapiscommirrortensorfloworgdeveloperarmcommediafilesdownloadsgnuabinrelgccarmx_armlinuxgnueabihftarxz mkdir p hometoolchain tar xvf gccarmx_armlinuxgnueabihftarxz c hometoolchain note binari built gcc requir glibc higher target lower glibc version need use older gcc toolchain run cmake sh armcc_flagsmarcharmva mfpuneonvfpv funsafemathoptim armcc_prefixhometoolchainsgccarmx_armlinuxgnueabihfbinarmlinuxgnueabihf cmake dcmake_c_compilerarmcc_prefixgcc dcmake_cxx_compilerarmcc_prefixg dcmake_c_flagsarmcc_flag dcmake_cxx_flagsarmcc_flag dcmake_verbose_makefileboolon dcmake_system_namelinux dcmake_system_processorarmv tensorflowlit note sinc armv architectur divers may need updat armcc_flag target devic profil build raspberri pi zero armv instruct show build armv binari compat raspberri pi zero download toolchain command instal armrpilinuxgnueabihf toolchain hometoolchain sh curl l httpsgithubcomrvaggrpinewercrosstoolsarchiveebccecbfecacectargz rpitoolchaintargz tar xzf rpitoolchaintargz c hometoolchain mv hometoolchainsrpinewercrosstoolsebccecbfecacec hometoolchainsarmrpilinuxgnueabihf run cmake sh armcc_prefixhometoolchainsarmrpilinuxgnueabihfxgccarmrpilinuxgnueabihfbinarmrpilinuxgnueabihf armcc_flagsmarcharmv mfpuvfp funsafemathoptim cmake dcmake_c_compilerarmcc_prefixgcc dcmake_cxx_compilerarmcc_prefixg dcmake_c_flagsarmcc_flag dcmake_cxx_flagsarmcc_flag dcmake_verbose_makefileboolon dcmake_system_namelinux dcmake_system_processorarmv dtflite_enable_xnnpackoff tensorflowlit note xnnpack disabl sinc neon support build tensorflow lite io document describ build tensorflow lite io librari normal need local build tensorflow lite io librari want use easiest way use prebuilt stabl nightli releas tensorflow lite cocoapod see io quickstartiosmd detail use io project build local case might wish use local build tensorflow lite exampl want make local chang tensorflow lite test chang io app prefer use static framework provid dynam one creat univers io framework tensorflow lite local need build use bazel maco machin instal xcode alreadi need instal xcode later tool use xcodeselect sh xcodeselect instal new instal need accept licens agreement user follow command sh sudo xcodebuild licens accept instal bazel bazel primari build system tensorflow instal bazel per instruct bazel websitebazelinstal make sure choos version _tf_min_bazel_vers _tf_max_bazel_vers configurepi fileconfigurepi root tensorflow repositori configur workspac bazelrc run configur script root tensorflow checkout directori answer ye script ask wish build tensorflow io support build tensorflowlitec dynam framework recommend note step necessari use bazel app want test local chang swift objectivec api case skip use applicationuse_in_your_own_appl section bazel properli configur io support build tensorflowlitec framework follow command sh bazel build configios_fat c opt tensorflowliteiostensorflowlitec_framework command gener tensorflowlitec_frameworkzip file bazelbintensorflowliteio directori tensorflow root directori default gener framework contain fat binari contain armv arm x_ see full list build flag use specifi configios_fat pleas refer io config section bazelrc filebazelrc build tensorflowlitec static framework default distribut dynam framework via cocoapod want use static framework instead build tensorflowlitec static framework follow command bazel build configios_fat c opt tensorflowliteiostensorflowlitec_static_framework command gener file name tensorflowlitec_static_frameworkzip bazelbintensorflowliteio directori tensorflow root directori static framework use exact way dynam one select build tflite framework build smaller framework target set model use select build skip unus oper model set includ op kernel requir run given set model command follow sh bash tensorflowliteiosbuild_frameworkssh input_modelsmodeltflitemodeltflit target_archsx_armvarm command gener static framework bazelbintensorflowliteiostmptensorflowlitec_frameworkzip tensorflow lite builtin custom op option gener static framework bazelbintensorflowliteiostmptensorflowliteselecttfops_frameworkzip model contain select tensorflow op note target_arch flag use specifi deploy architectur use applic cocoapod develop three cocoapod tensorflow lite tensorflowliteswift provid swift api tensorflow lite tensorflowliteobjc provid objectivec api tensorflow lite tensorflowlitec common base pod emb tensorflow lite core runtim expos base c api use two pod meant directli use user develop choos either tensorflowliteswift tensorflowliteobjc pod base languag app written exact step use local build tensorflow lite differ depend exact part would like build use local swift objectivec api use cocoapod wish test local chang tensorflow lite swift apisswiftapi objectivec apisobjcapi follow step make chang swift objectivec api tensorflow checkout open tensorflowliteswiftobjcpodspec file updat line sdepend tensorflowlitec sversion sdepend tensorflowlitec nightli ensur build swift objectivec api latest avail nightli version tensorflowlitec api built everi night pacif time rather stabl version may outdat compar local tensorflow checkout altern could choos publish version tensorflowlitec use version see use local tensorflow lite coreusing_local_tensorflow_lite_cor section podfil io project chang depend follow point local path tensorflow root directori swift pod tensorflowliteswift path your_tensorflow_root_dir objectivec pod tensorflowliteobjc path your_tensorflow_root_dir updat pod instal io project root directori pod updat reopen gener workspac projectxcworkspac rebuild app within xcode use local tensorflow lite core set privat cocoapod spec repositori publish custom tensorflowlitec framework privat repo copi podspec filetflitepodspec modifi valu rubi sversion your_desired_version_tag note two file one path ssourc http filepathtotensorflowlitec_frameworkzip svendored_framework tensorflowlitecframework creat tensorflowlitecpodspec file follow instruct use privat cocoapodsprivatecocoapod use project also modifi tensorflowliteswiftobjcpodspec point custom tensorflowlitec pod use either swift objectivec pod app project bazel develop use bazel main build tool simpli add tensorflowlit depend target build file swift python swift_librari dep tensorflowliteswifttensorflowlit objectivec python objc_librari dep tensorflowliteobjctensorflowlit build app project chang tensorflow lite librari pick built app modifi xcode project set directli highli recommend use cocoapod bazel ad tensorflow lite depend project still wish add tensorflowlitec framework manual youll need add tensorflowlitec framework embed framework applic project unzip tensorflowlitec_frameworkzip gener build get tensorflowlitecframework directori directori actual framework xcode understand youv prepar tensorflowlitecframework first need add embed binari app target exact project set section may differ depend xcode version xcode go gener tab project editor app target add tensorflowlitecframework framework librari embed content section xcode go gener tab project editor app target add tensorflowlitecframework embed binari framework also ad automat link framework librari section add framework embed binari xcode would also updat framework search path entri build set tab includ parent directori framework case happen automat manual add parent directori tensorflowlitecframework directori two set done abl import call tensorflow lite c api defin header file tensorflowlitecframeworkhead directori bazelinstal httpsdocsbazelbuildversionsmasterinstallosxhtml bazelrc httpsgithubcomtensorflowtensorflowblobmasterbazelrc configurepi httpsgithubcomtensorflowtensorflowblobmasterconfigurepi objcapi httpsgithubcomtensorflowtensorflowtreemastertensorflowliteobjc privatecocoapod httpsguidescocoapodsorgmakingprivatecocoapodshtml swiftapi httpsgithubcomtensorflowtensorflowtreemastertensorflowliteswift tflitepodspec httpsgithubcomtensorflowtensorflowblobmastertensorflowliteiostensorflowlitecpodspec io quickstart get start tensorflow lite io recommend explor follow exampl classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationiosio imag classif examplea explan sourc code also read tensorflow lite io imag classificationhttpsgithubcomtensorflowexamplesblobmasterliteexamplesimage_classificationiosexplore_the_codemd exampl app use imag classificationhttpswwwtensorfloworglitemodelsimage_classificationoverview continu classifi whatev see devic rearfac camera display top probabl classif allow user choos float point quantizedhttpswwwtensorfloworgliteperformancepost_training_quant model select number thread perform infer note addit io applic demonstr tensorflow lite varieti use case avail exampleshttpswwwtensorfloworgliteexampl add tensorflow lite swift objectivec project tensorflow lite offer nativ io librari written swifthttpsgithubcomtensorflowtensorflowtreemastertensorflowliteswift objectivechttpsgithubcomtensorflowtensorflowtreemastertensorflowliteobjc start write io code use swift imag classif examplehttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationio start point section demonstr add tensorflow lite swift objectivec project cocoapod develop podfil add tensorflow lite pod run pod instal swift rubi use_framework pod tensorflowliteswift objectivec rubi pod tensorflowliteobjc specifi version stabl releas nightli releas avail tensorflowliteswift tensorflowliteobjc pod specifi version constraint exampl cocoapod pull latest stabl releas default also specifi version constraint exampl wish depend version write depend rubi pod tensorflowliteswift ensur latest avail xy version tensorflowliteswift pod use app altern want depend nightli build write rubi pod tensorflowliteswift nightli version latest nightli releas default gpuhttpswwwtensorfloworgliteperformancegpu core ml delegateshttpswwwtensorfloworgliteperformancecoreml_deleg exclud pod reduc binari size includ specifi subspec rubi pod tensorflowliteswift nightli subspec coreml metal allow use latest featur ad tensorflow lite note podfilelock file creat run pod instal command first time nightli librari version lock current date version wish updat nightli librari newer one run pod updat command inform differ way specifi version constraint see specifi pod versionshttpsguidescocoapodsorgusingthepodfilehtmlspecifyingpodvers bazel develop build file add tensorflowlit depend target swift python swift_librari dep tensorflowliteswifttensorflowlit objectivec python objc_librari dep tensorflowliteobjctensorflowlit cc api altern use c apihttpswwwtensorfloworgcodetensorflowlitecc_apih c apihttpstensorfloworgliteapi_docscc python use c api directli objc_librari dep tensorflowlitecc_api use c api directli objc_librari dep third_partytensorflowliteframework import librari swift file import tensorflow lite modul swift import tensorflowlit objectivec file import umbrella header objectivec import tfltensorflowliteh modul set clang_enable_modul ye xcode project objectivec import tfltensorflowlit note cocoapod develop want import objectivec tensorflow lite modul must also includ use_framework podfil build tensorflow lite arm board page describ build tensorflow lite librari armbas comput tensorflow lite support two build system support featur build system ident check follow tabl pick proper build system featur bazel cmake predefin toolchain armhf aarch armel armhf aarch custom toolchain harder use easi use select tf opshttpswwwtensorfloworgliteguideops_select support support gpu delegatehttpswwwtensorfloworgliteperformancegpu avail android platform support opencl xnnpack support support python wheelhttpswwwtensorfloworgliteguidebuild_cmake_pip support support c apihttpsgithubcomtensorflowtensorflowblobmastertensorflowlitecreadmemd support supportedhttpswwwtensorfloworgliteguidebuild_cmakebuild_tensorflow_lite_c_librari c apihttpswwwtensorfloworgliteguideinferenceload_and_run_a_model_in_c support bazel project support cmake project crosscompil arm cmake cmake project want use custom toolchain youd better use cmake cross compil separ cross compil tensorflow lite cmakehttpswwwtensorfloworgliteguidebuild_cmake_arm page avail crosscompil arm bazel bazel project want use tf op youd better use bazel build system youll use integr arm gcc toolchainshttpsgithubcomtensorflowtoolchainstreemastertoolchainsembeddedarmlinux bazel build arm share librari target architectur bazel configur compat devic armhf arm configelinux_armhf rpi rpi bit raspberri pi os aarch arm configelinux_aarch coral rpi ubuntu bit note gener share librari requir glibc higher run follow instruct test ubuntu bit pc amd tensorflow devel docker imag tensorflowtensorflowdevelhttpshubdockercomrtensorflowtensorflowtag cross compil tensorflow lite bazel follow step step instal bazel bazel primari build system tensorflow instal latest version bazel build systemhttpsbazelbuildversionsmasterdocsinstallhtml note your use tensorflow docker imag bazel alreadi avail step clone tensorflow repositori sh git clone httpsgithubcomtensorflowtensorflowgit tensorflow_src note your use tensorflow docker imag repo alreadi provid tensorflow_src step build arm binari c librari bash bazel build configelinux_aarch c opt tensorflowliteclibtensorflowlite_cso find share librari bazelbintensorflowliteclibtensorflowlite_cso note use elinux_armhf bit arm hard floathttpswikidebianorgarmhardfloatport build check tensorflow lite c apihttpsgithubcomtensorflowtensorflowblobmastertensorflowlitecreadmemd page detail c librari bash bazel build configelinux_aarch c opt tensorflowlitelibtensorflowliteso find share librari bazelbintensorflowlitelibtensorflowliteso current straightforward way extract header file need must includ header file tensorflowlit tensorflow repositori addit need header file flatbuff abseil etc also build bazel target toolchain use target tensorflowlitetoolsbenchmarkbenchmark_model tensorflowliteexampleslabel_imagelabel_imag build tensorflow lite android document describ build tensorflow lite android librari normal need local build tensorflow lite android librari want use easiest way use tensorflow lite aar host mavencentralhttpssearchmavenorgartifactorgtensorflowtensorflowlit see android quickstartguideandroidmd detail use android project use nightli snapshot use nightli snapshot add follow repo root gradl build config build allproject repositori alreadi mavencentr alreadi maven add repo use snapshot name ossrhsnapshot url httpsosssonatypeorgcontentrepositoriessnapshot build tensorflow lite local case might wish use local build tensorflow lite exampl may build custom binari includ oper select tensorflowhttpswwwtensorfloworgliteguideops_select may wish make local chang tensorflow lite set build environ use docker download docker file download docker file agre follow term servic govern use thereof click accept herebi agre use android studio android nativ develop kit govern android softwar develop kit licens agreement avail httpsdeveloperandroidcomstudioterm url may updat chang googl time time mdformat offdevsit fail linebreak templat dynam tfliteandroidto useracknowledged_wal requesttld cn download docker file hrefhttpsrawgithubusercontentcomtensorflowtensorflowmastertensorflowtoolsdockerfilestfliteandroiddockerfileherea dynam els must acknowledg term servic download file classbutton buttonblu devsiteacknowledgementlink datagloballyuniquewallidtfliteandroidtosacknowledgea dynam endif mdformat option chang android sdk ndk version put download docker file empti folder build docker imag run shell docker build tflitebuild f tfliteandroiddockerfil start docker contain interact mount current folder host_dir insid contain note tensorflow_src tensorflow repositori insid contain shell docker run v pwdhost_dir tflitebuild bash use powershel window replac pwd pwd would like use tensorflow repositori host mount host directori instead v hostdirhost_dir insid contain run follow download addit android tool librari note may need accept licens shell sdkmanag buildtoolsandroid_build_tools_vers platformtool platformsandroidandroid_api_level proceed configur workspac bazelrcconfigure_workspace_and_bazelrc section configur build set finish build librari copi host_dir insid contain access host set build environ without docker instal bazel android prerequisit bazel primari build system tensorflow build must android ndk sdk instal system instal latest version bazel build systemhttpsbazelbuildversionsmasterdocsinstallhtml android ndk requir build nativ cc tensorflow lite code current recommend version c may found herehttpsdeveloperandroidcomndkdownloadsolder_releaseshtmlndkcdownload android sdk build tool may obtain herehttpsdeveloperandroidcomtoolsrevisionsbuildtoolshtml altern part android studiohttpsdeveloperandroidcomstudioindexhtml build tool api recommend version build tensorflow lite configur workspac bazelrc onetim configur step requir build tf lite librari run configur script root tensorflow checkout directori answer ye script ask interact configur workspac android build script attempt configur set use follow environ variabl android_sdk_hom android_sdk_api_level android_ndk_hom android_ndk_api_level variabl arent set must provid interact script prompt success configur yield entri similar follow tf_configurebazelrc file root folder shell build action_env android_ndk_homeusrlocalandroidandroidndkrc build action_env android_ndk_api_level build action_env android_build_tools_vers build action_env android_sdk_api_level build action_env android_sdk_homeusrlocalandroidandroidsdklinux build instal bazel properli configur build tensorflow lite aar root checkout directori follow sh bazel build c opt fat_apk_cpuxx_armvaarmeabiva host_crosstool_topbazel_toolstoolscpptoolchain tensorflowlitejavatensorflowlit gener aar file bazelbintensorflowlitejava note build fat aar sever differ architectur dont need use subset appropri deploy environ build smaller aar file target set model follow sh bash tensorflowlitetoolsbuild_aarsh input_modelsmodelmodel target_archsxx_armvaarmeabiva script gener tensorflowliteaar file option tensorflowliteselecttfopsaar file one model use tensorflow op detail pleas see reduc tensorflow lite binari sizeguidereduce_binary_sizemd section add aar directli project move tensorflowliteaar file directori call lib project modifi app buildgradl file refer new directori replac exist tensorflow lite depend new local librari eg allproject repositori mavencentr maven snapshot artifact name ossrhsnapshot url httpsosssonatypeorgcontentrepositoriessnapshot flatdir dir lib depend compilenametensorflowlit extaar instal aar local maven repositori execut follow command root checkout directori sh mvn installinstallfil dfilebazelbintensorflowlitejavatensorflowliteaar dgroupidorgtensorflow dartifactidtensorflowlit dversion dpackagingaar app buildgradl ensur mavenloc depend replac standard tensorflow lite depend one support select tensorflow op allproject repositori mavencentr maven snapshot artifact name ossrhsnapshot url httpsosssonatypeorgcontentrepositoriessnapshot mavenloc depend implement orgtensorflowtensorflowlit note version pure sake testingdevelop local aar instal use standard tensorflow lite java infer apisguideinferencemd app code select tensorflow oper sinc tensorflow lite builtin oper librari support limit number tensorflow oper everi model convert detail refer oper compatibilityops_compatibilitymd allow convers user enabl usag certain tensorflow opsop_select_allowlistmd tensorflow lite model howev run tensorflow lite model tensorflow op requir pull core tensorflow runtim increas tensorflow lite interpret binari size android avoid select build requir tensorflow op detail refer reduc binari sizeguidereduce_binary_sizemd document outlin convertconvert_a_model runrun_infer tensorflow lite model contain tensorflow op platform choic also discuss perform size metricsmetr known limitationsknown_limit convert model follow exampl show gener tensorflow lite model select tensorflow op python import tensorflow tf convert tflitetfliteconverterfrom_saved_modelsaved_model_dir convertertarget_specsupported_op tfliteopssettflite_builtin enabl tensorflow lite op tfliteopssetselect_tf_op enabl tensorflow op tflite_model converterconvert openconverted_modeltflit wbwritetflite_model run infer use tensorflow lite model convert support select tensorflow op client must also use tensorflow lite runtim includ necessari librari tensorflow op android aar reduc binari size pleas build custom aar file guid next sectionbuildingtheandroidaar binari size consider concern recommend use prebuilt aar tensorflow op host mavencentralhttpssearchmavenorgartifactorgtensorflowtensorflowliteselecttfop specifi buildgradl depend ad alongsid standard tensorflow lite aar follow build depend implement orgtensorflowtensorflowlitenightlysnapshot depend add necessari tf op support implement orgtensorflowtensorflowliteselecttfopsnightlysnapshot use nightli snapshot make sure ad sonatyp snapshot repositorybuild_androiduse_nightly_snapshot youv ad depend necessari deleg handl graph tensorflow op automat instal graph requir note tensorflow op depend rel larg youll probabl want filter unnecessari x abi gradl file set abifilt build android defaultconfig ndk abifilt armeabiva armva build android aar reduc binari size advanc case also build librari manual assum hrefandroidmdwork tensorflow lite build environmenta build android aar select tensorflow op follow sh sh tensorflowlitetoolsbuild_aarsh input_modelsabmodel_onetflitecdmodel_twotflit target_archsxx_armvaarmeabiva gener aar file bazelbintmptensorflowliteaar tensorflow lite builtin custom op gener aar file bazelbintmptensorflowliteselecttfopsaar tensorflow op dont work build environ also build file dockerguidereduce_binary_sizemdselectively_build_tensorflow_lite_with_dock either import aar file directli project publish custom aar file local maven repositori sh mvn installinstallfil dfilebazelbintmptensorflowliteaar dgroupidorgtensorflow dartifactidtensorflowlit dversion dpackagingaar mvn installinstallfil dfilebazelbintmptensorflowliteselecttfopsaar dgroupidorgtensorflow dartifactidtensorflowliteselecttfop dversion dpackagingaar final app buildgradl ensur mavenloc depend replac standard tensorflow lite depend one support select tensorflow op build allproject repositori mavencentr maven snapshot artifact name ossrhsnapshot url httpsosssonatypeorgcontentrepositoriessnapshot mavenloc depend implement orgtensorflowtensorflowlit implement orgtensorflowtensorflowliteselecttfop io use cocoapod provid nightli prebuilt select tf op cocoapod armv arm depend alongsid tensorflowliteswift tensorflowliteobjc cocoapod note need use select tf op x_ simul build select op framework see use bazel xcodeusing_bazel_xcod section detail rubi podfil target pod tensorflowliteswift tensorflowliteobjc pod tensorflowliteselecttfop nightli run pod instal need provid addit linker flag forc load select tf op framework project xcode project go build set linker flag add text force_load srcrootpodstensorflowliteselecttfopsframeworkstensorflowliteselecttfopsframeworktensorflowliteselecttfop abl run model convert select_tf_op io app exampl modifi imag classif io apphttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationio test select tf op featur replac model file one convert select_tf_op enabl add tensorflowliteselecttfop depend podfil instruct add addit linker flag run exampl app see model work correctli use bazel xcode tensorflow lite select tensorflow op io built use bazel first follow io build instructionsbuild_iosmd configur bazel workspac bazelrc file correctli configur workspac io support enabl use follow command build select tf op addon framework ad top regular tensorflowlitecframework note select tf op framework built architectur need explicitli provid list target architectur exclud sh bazel build c opt configio ios_multi_cpusarmvarmx_ tensorflowliteiostensorflowliteselecttfops_framework gener framework bazelbintensorflowliteio directori add new framework xcode project follow similar step describ xcode project settingsbuild_iosmdmodify_xcode_project_settings_directli section io build guid ad framework app project addit linker flag specifi app project forc load select tf op framework xcode project go build set linker flag add text force_load pathtoyourtensorflowliteselecttfopsframeworktensorflowliteselecttfop c build tensorflow lite librari use bazel pipelin addit tensorflow op librari includ enabl follow enabl monolith build necessari ad configmonolith build flag add tensorflow op deleg librari depend build depend tensorflowlitedelegatesflexdeleg note necessari tflitedeleg instal automat creat interpret runtim long deleg link client librari necessari explicitli instal deleg instanc typic requir deleg type python tensorflow lite select tensorflow op instal automat tensorflow pip packagehttpswwwtensorfloworginstallpip also choos instal tensorflow lite interpret pip packagehttpswwwtensorfloworgliteguidepythoninstall_just_the_tensorflow_lite_interpret note tensorflow lite select tensorflow op avail tensorflow pip packag version sinc linux environ metric perform use mixtur builtin select tensorflow op tensorflow lite optim optim builtin op avail usabl convert model follow tabl describ averag time taken run infer mobilenet pixel list time averag run target built android use flag configandroid_arm c opt build time millisecond builtin op tflite_builtin use tf op select_tf_op binari size follow tabl describ binari size tensorflow lite build target built android use configandroid_arm c opt build c binari size android apk size builtin op kb kb builtin op tf op mb mb builtin op tf op mb mb librari select built idkinet modelhttpstfhubdevdeepmindidkinet tflite builtin op tensorflow op detail pleas see reduc tensorflow lite binari sizeguidereduce_binary_sizemd section known limit unsupport type certain tensorflow op may support full set inputoutput type typic avail tensorflow updat version support graphdefattribut base oper hashtabl resourc initi improv version appli optim known post train quantizationperformancepost_training_quantizationmd version compat hardwar acceler deleg improv build tensorflow lite python wheel packag page describ build tensorflow lite tflite_runtim python librari x_ variou arm devic follow instruct test ubuntu bit pc amd maco catalina x_ tensorflow devel docker imag tensorflowtensorflowdevelhttpshubdockercomrtensorflowtensorflowtag note featur avail sinc version prerequisit need cmake instal copi tensorflow sourc code pleas check build tensorflow lite cmakehttpswwwtensorfloworgliteguidebuild_cmak page detail build pip packag workstat run follow command sh pythonpython tensorflowlitetoolspip_packagebuild_pip_package_with_cmakesh nativ note multipl python interpret avail specifi exact python version python variabl current support python higher arm cross compil arm cross compil recommend use docker sinc make easier setup cross build environ also need target option figur target architectur helper script tensorflowtoolsci_buildci_buildsh avail invok build command use predefin docker contain docker host machin run build command contain name target name follow sh tensorflowtoolsci_buildci_buildsh contain tensorflowlitetoolspip_packagebuild_pip_package_with_cmakesh target avail docker contain need select arm cross build contain target python interpret version list support contain contain support python version pipython python pipython python pipython python avail target name tensorflowlitetoolspip_packagebuild_pip_package_with_cmakesh script need target name figur target architectur list support target target target architectur comment armhf armv vfp neon compat raspberri pi rpi armv compat raspberri pi zero aarch aarch arm bit coral mendel linux httpscoralai br raspberri pi ubuntu server lt bithttpsubuntucomdownloadraspberrypi nativ workstat build mnativ optim default workstat default target build exampl exampl command use armhf target python sh tensorflowtoolsci_buildci_buildsh pipython tensorflowlitetoolspip_packagebuild_pip_package_with_cmakesh armhf aarch target python sh tensorflowtoolsci_buildci_buildsh pipython tensorflowlitetoolspip_packagebuild_pip_package_with_cmakesh aarch use custom toolchain gener binari compat target need use toolchain provid custom build flag check thishttpswwwtensorfloworgliteguidebuild_cmake_armcheck_your_target_environ understand target environ case need modifi tensorflowlitetoolscmakedownload_toolchainssh use toolchain toolchain script defin follow two variabl build_pip_package_with_cmakesh script variabl purpos exampl armcc_prefix defin toolchain prefix armlinuxgnueabihf armcc_flag compil flag marcharmva mfpuneonvfpv note armcc_flag might need contain python librari includ path see download_toolchainssh refer tensorflow lite oper version document describ tensorflow lite op version schema op version enabl develop add new function paramet exist op addit guarante follow backward compat new tensorflow lite implement handl old model file forward compat old tensorflow lite implement handl new model file produc new version convert long new featur use forward incompat detect old tensorflow lite implement read new model contain new version op isnt support report error exampl ad dilat depthwis convolut remaind document explain op version tflite show add dilat paramet depthwis convolut oper knowledg dilat requir understand document note new integ paramet ad dilation_width_factor dilation_height_factor old depthwis convolut kernel dont support dilat equival set dilat factor chang flatbuff schema add new paramet op chang option tabl liteschemaschemafb exampl option tabl depthwis convolut look like tabl depthwiseconvdopt paddingpad stride_wint stride_hint depth_multiplierint fused_activation_functionactivationfunctiontyp ad new paramet add comment indic paramet support version new implement get default valu newli ad paramet work exactli old implement tabl like new paramet ad tabl depthwiseconvdopt paramet depthwiseconv version paddingpad stride_wint stride_hint depth_multiplierint fused_activation_functionactivationfunctiontyp paramet depthwiseconv version dilation_w_factorint dilation_h_factorint file liteschemaschema_generatedh regener new schema chang c structur kernel implement tensorflow lite kernel implement decoupl flatbuff definit kernel read paramet c structur defin litecbuiltin_op_datah origin depthwis convolut paramet follow typedef struct tflitepad pad int stride_width int stride_height int depth_multipli tflitefusedactiv activ tflitedepthwiseconvparam flatbuff schema add comment indic paramet support start version result seen typedef struct paramet depthwiseconv version tflitepad pad int stride_width int stride_height int depth_multipli tflitefusedactiv activ paramet depthwiseconv version int dilation_width_factor int dilation_height_factor tflitedepthwiseconvparam pleas also chang kernel implement read newli ad paramet c structur detail omit chang flatbuff read code logic read flatbuff produc c structur litecoreapiflatbuffer_conversionscc updat file handl new paramet shown tflitestatu parsedepthwiseconvdconst oper op errorreport error_report builtindataalloc alloc void builtin_data checkparsepointerparamsop error_report alloc builtin_data safebuiltindataalloc safe_allocatoralloc stdunique_ptrtflitedepthwiseconvparam safebuiltindataallocatorbuiltindatadelet param safe_allocatorallocatetflitedepthwiseconvparam tf_lite_ensureerror_report param nullptr const depthwiseconvdopt schema_param opbuiltin_options_as_depthwiseconvdopt schema_param nullptr paramspad convertpaddingschema_paramspad paramsstride_width schema_paramsstride_w paramsstride_height schema_paramsstride_h paramsdepth_multipli schema_paramsdepth_multipli paramsactiv convertactivationschema_paramsfused_activation_funct paramsdilation_width_factor schema_paramsdilation_w_factor paramsdilation_height_factor schema_paramsdilation_h_factor builtin_data paramsreleas return ktfliteok requir check op version new implement read old model file dilat factor miss use default valu new kernel work consist old kernel chang kernel registr mutableopresolv defin litemutable_op_resolverh provid function regist op kernel minimum maximum version default void addbuiltintflitebuiltinoper op tfliteregistr registr int min_vers int max_vers void addcustomconst char name tfliteregistr registr int min_vers int max_vers builtin op regist litekernelsregistercc exampl implement new op kernel handl depthwiseconvd version need chang line addbuiltinbuiltinoperator_depthwise_conv_d register_depthwise_conv_d addbuiltinbuiltinoperator_depthwise_conv_d register_depthwise_conv_d min_vers max_vers chang tflite op version next step make tflite popul minimum version that requir execut op exampl mean popul version dilat factor popul version otherwis modifi getbuiltinoperatorvers function oper litetoolsversioningop_versioncc ad new version case depthwiseconvd case builtinoperator_depthwise_conv_d auto depthwise_conv_param reinterpret_casttflitedepthwiseconvparamsop_sigbuiltin_data tflite_dcheckdepthwise_conv_param nullptr depthwise_conv_paramsdilation_width_factor depthwise_conv_paramsdilation_height_factor return return updat oper version map last step add new version info oper version map step requir need gener model minimum requir runtim version base version map need add new map entri litetoolsversioningruntime_versioncc exampl need add follow entri op_version_map builtinoperator_depthwise_conv_d current_runtime_vers current_runtime_vers correspond current runtim version defin tensorflowcorepublicversionhhttpsgithubcomtensorflowtensorflowblobmastertensorflowcorepublicversionh deleg implement tensorflow lite provid deleg api enabl deleg op hardwar backend deleg prepar function check version support everi node deleg code const int kmaxvers tflitenod node tfliteregistr registr nullptr tf_lite_ensure_statuscontextgetnodeandregistrationcontext node_index node registr registrationvers kmaxvers reject node version isnt support requir even deleg support version op deleg detect incompat get higher version op build tensorflow lite cmake page describ build use tensorflow lite librari cmakehttpscmakeorg tool follow instruct test ubuntu bit pc amd maco catalina x_ window tensorflow devel docker imag tensorflowtensorflowdevelhttpshubdockercomrtensorflowtensorflowtag note featur avail sinc version step instal cmake tool requir cmake higher ubuntu simpli run follow command sh sudo aptget instal cmake follow offici cmake instal guidehttpscmakeorginstal step clone tensorflow repositori sh git clone httpsgithubcomtensorflowtensorflowgit tensorflow_src note your use tensorflow docker imag repo alreadi provid tensorflow_src step creat cmake build directori sh mkdir tflite_build cd tflite_build step run cmake tool configur releas build gener optim releas binari default want build workstat simpli run follow command sh cmake tensorflow_srctensorflowlit debug build need produc debug build symbol inform need provid dcmake_build_typedebug option sh cmake tensorflow_srctensorflowlit dcmake_build_typedebug build kernel unit test order abl run kernel test need provid dtflite_kernel_teston flag unit test crosscompil specif found next subsect sh cmake tensorflow_srctensorflowlit dtflite_kernel_teston crosscompil use cmake build binari arm android target architectur order crosscompil tf lite name need provid path sdk eg arm sdk ndk android case dcmake_toolchain_fil flag sh cmake dcmake_toolchain_filecmaketoolchainfileloc tensorflowlit specif android crosscompil android crosscompil need instal android ndkhttpsdeveloperandroidcomndk provid ndk path dcmake_toolchain_fil flag mention also need set target abi withdandroid_abi flag sh cmake dcmake_toolchain_filendk pathbuildcmakeandroidtoolchaincmak dandroid_abiarmva tensorflow_srctensorflowlit specif kernel unit test crosscompil crosscompil unit test requir flatc compil host architectur purpos cmakelist locat tensorflowlitetoolscmakenative_toolsflatbuff build flatc compil cmake advanc separ build directori use host toolchain sh mkdir flatcnativebuild cd flatcnativebuild cmake tensorflow_srctensorflowlitetoolscmakenative_toolsflatbuff cmake build also possibl instal flatc custom instal locat eg directori contain nativelybuilt tool instead cmake build directori sh cmake dcmake_install_prefixnative_tools_dir tensorflow_srctensorflowlitetoolscmakenative_toolsflatbuff cmake build tf lite crosscompil addit paramet dtflite_host_tools_dirflatc_dir_path point directori contain nativ flatc binari need provid along dtflite_kernel_teston flag mention sh cmake dcmake_toolchain_fileoe_cmake_toolchain_fil dtflite_kernel_teston dtflite_host_tools_dirflatc_dir_path tensorflowlit crosscompil kernel unit test launch target unit test run separ execut use ctest util far ctest concern least one paramet tflite_enable_nnapi tflite_enable_xnnpack tflite_external_deleg enabl tf lite build result test gener two differ label util test execut plain denot test one run cpu backend deleg denot test expect addit launch argument use use deleg specif ctesttestfilecmak runtestscmak refer avail build_dirkernel launch unit test cpu backend provid ctesttestfilecmak present target current directori sh ctest l plain launch exampl unit test use deleg provid ctesttestfilecmak well runtestscmak file present target current directori sh cmake e env tests_argumentsuse_nnapitruennapi_accelerator_namevsinpu ctest l deleg cmake e env tests_argumentsuse_xnnpacktru ctest l deleg cmake e env tests_argumentsexternal_delegate_pathpath ctest l deleg known limit way provid addit delegaterel launch argument unit test effect support expect return valu differ return valu report test failur opencl gpu deleg target machin opencl support use gpu delegatehttpswwwtensorfloworgliteperformancegpu leverag gpu power configur opencl gpu deleg support sh cmake tensorflow_srctensorflowlit dtflite_enable_gpuon note experiment avail start tensorflow could compat issu verifi android devic nvidia cuda opencl step build tensorflow lite tflite_build directori sh cmake build j note gener static librari libtensorflowlitea current directori librari isnt selfcontain sinc transit depend includ use librari properli need creat cmake project pleas refer creat cmake project use tensorflow litecreate_a_cmake_project_which_uses_tensorflow_lit section step build tensorflow lite benchmark tool label imag exampl option tflite_build directori sh cmake build j benchmark_model sh cmake build j label_imag avail option build tensorflow lite list avail option overrid doption_nameonoff exampl dtflite_enable_xnnpackoff disabl xnnpack enabl default option name featur android linux maco window tflite_enable_ruy enabl ruy matrix multipl librari tflite_enable_nnapi enabl nnapi na na deleg tflite_enable_gpu enabl gpu na na deleg tflite_enable_xnnpack enabl xnnpack deleg tflite_enable_mmap enabl mmap na creat cmake project use tensorflow lite cmakeliststxt tflite minim examplehttpsgithubcomtensorflowtensorflowtreemastertensorflowliteexamplesminim need add_subdirectori tensorflow lite directori link tensorflowlit target_link_librari cmake_minimum_requiredvers projectminim c cxx settensorflow_source_dir cach path directori contain tensorflow project ifnot tensorflow_source_dir get_filename_componenttensorflow_source_dir cmake_current_list_dir absolut endif add_subdirectori tensorflow_source_dirtensorflowlit cmake_current_binary_dirtensorflowlit exclude_from_al add_executableminim minimalcc target_link_librariesminim tensorflowlit build tensorflow lite c librari want build tensorflow lite share librari c apihttpsgithubcomtensorflowtensorflowblobmastertensorflowlitecreadmemd follow step stepinstallcmaketool step stepcreatecmakebuilddirectori first run follow command sh cmake tensorflow_srctensorflowlitec cmake build j command gener follow share librari current directori platform librari name linux libtensorflowlite_cso maco libtensorflowlite_cdylib window tensorflowlite_cdl note need necessari header c_apih c_api_experimentalh commonh use gener share librari support select tensorflow oper caution oper list updat frequent tensorflow core oper follow exhaust list tensorflow core oper support tensorflow lite runtim select tensorflow op featur raw_opsabort raw_opsab raw_opsadd raw_opsaddn raw_opsaddv raw_opsadjustcontrast raw_opsadjustcontrastv raw_opsadjusthu raw_opsadjustsatur raw_opsal raw_opsangl raw_opsani raw_opsapplyadadelta raw_opsapplyadagrad raw_opsapplyadagradda raw_opsapplyadagradv raw_opsapplyadam raw_opsapplyadamax raw_opsapplyaddsign raw_opsapplycenteredrmsprop raw_opsapplyftrl raw_opsapplyftrlv raw_opsapplygradientdesc raw_opsapplymomentum raw_opsapplypowersign raw_opsapplyproximaladagrad raw_opsapplyproximalgradientdesc raw_opsapplyrmsprop raw_opsapproximateequ raw_opsargmax raw_opsargmin raw_opsasstr raw_opsassert raw_opsassign raw_opsassignadd raw_opsassignaddvariableop raw_opsassignsub raw_opsassignsubvariableop raw_opsassignvariableop raw_opsatan raw_opsatan raw_opsaudiospectrogram raw_opsavgpool raw_opsavgpoold raw_opsavgpooldgrad raw_opsavgpoolgrad raw_opsbatchcholeski raw_opsbatchdatasetv raw_opsbatchmatmul raw_opsbatchmatmulv raw_opsbatchmatrixbandpart raw_opsbatchmatrixdiag raw_opsbatchmatrixdiagpart raw_opsbatchmatrixinvers raw_opsbatchmatrixsetdiag raw_opsbatchmatrixtriangularsolv raw_opsbatchnormwithglobalnorm raw_opsbatchnormwithglobalnormalizationgrad raw_opsbatchtospac raw_opsbatchtospacend raw_opsbiasadd raw_opsbiasaddgrad raw_opsbiasaddv raw_opsbincount raw_opsbitcast raw_opsbitwiseand raw_opsbitwiseor raw_opsbitwisexor raw_opsboostedtreesbucket raw_opsboostedtreescreatequantilestreamresourc raw_opsboostedtreesflushquantilesummari raw_opsboostedtreesmakequantilesummari raw_opsboostedtreesquantilestreamresourceaddsummari raw_opsboostedtreesquantilestreamresourcedeseri raw_opsboostedtreesquantilestreamresourceflush raw_opsboostedtreesquantilestreamresourcegetbucketboundari raw_opsboostedtreesquantilestreamresourcehandleop raw_opsbroadcastarg raw_opsbroadcastgradientarg raw_opsbroadcastto raw_opsbucket raw_opsctcbeamsearchdecod raw_opsctcgreedydecod raw_opscast raw_opsceil raw_opschecknumer raw_opschecknumericsv raw_opscholeski raw_opscombinednonmaxsuppress raw_opscomplex raw_opscomplexab raw_opsconcat raw_opsconcatoffset raw_opsconcatv raw_opsconj raw_opsconjugatetranspos raw_opsconst raw_opscontroltrigg raw_opsconvd raw_opsconvdbackpropfilt raw_opsconvdbackpropinput raw_opsconvd raw_opsconvdbackpropfilt raw_opsconvdbackpropfilterv raw_opsconvdbackpropinput raw_opsconvdbackpropinputv raw_opsco raw_opscosh raw_opscropandres raw_opscropandresizegradbox raw_opscropandresizegradimag raw_opsctcbeamsearchdecod raw_opsctcgreedydecod raw_opscumprod raw_opscumsum raw_opscumulativelogsumexp raw_opsdataformatdimmap raw_opsdataformatvecpermut raw_opsdebuggradientident raw_opsdebuggradientrefident raw_opsdecodeandcropjpeg raw_opsdecodebas raw_opsdecodebmp raw_opsdecodegif raw_opsdecodeimag raw_opsdecodejpeg raw_opsdecodepaddedraw raw_opsdecodepng raw_opsdecoderaw raw_opsdecodewav raw_opsdeepcopi raw_opsdeletesessiontensor raw_opsdensebincount raw_opsdensetodensesetoper raw_opsdensetosparsesetoper raw_opsdepthtospac raw_opsdepthwiseconvdn raw_opsdepthwiseconvdnativebackpropfilt raw_opsdepthwiseconvdnativebackpropinput raw_opsdequant raw_opsdestroyresourceop raw_opsdestroytemporaryvari raw_opsdiag raw_opsdiagpart raw_opsdilationd raw_opsdilationdbackpropfilt raw_opsdilationdbackpropinput raw_opsdiv raw_opsdivnonan raw_opsdynamicpartit raw_opsdynamicstitch raw_opseinsum raw_opselu raw_opselugrad raw_opsempti raw_opsemptytensorlist raw_opsemptytensormap raw_opsencodebas raw_opsencodejpeg raw_opsencodejpegvariablequ raw_opsencodepng raw_opsencodewav raw_opsensureshap raw_opsent raw_opsequ raw_opserf raw_opsexit raw_opsexp raw_opsexpanddim raw_opsextractimagepatch raw_opsfakequantwithminmaxarg raw_opsfakequantwithminmaxargsgradi raw_opsfakequantwithminmaxvar raw_opsfakequantwithminmaxvarsgradi raw_opsfakequantwithminmaxvarsperchannel raw_opsfakequantwithminmaxvarsperchannelgradi raw_opsfakequeu raw_opsfft raw_opsfftd raw_opsfftd raw_opsfifoqueu raw_opsfifoqueuev raw_opsfil raw_opsfilterdataset raw_opsfinalizedataset raw_opsfingerprint raw_opsflatmapdataset raw_opsfloor raw_opsfloordiv raw_opsfloormod raw_opsfusedbatchnorm raw_opsfusedbatchnormgrad raw_opsfusedbatchnormgradv raw_opsfusedbatchnormgradv raw_opsfusedbatchnormv raw_opsfusedbatchnormv raw_opsfusedpadconvd raw_opsfusedresizeandpadconvd raw_opsgath raw_opsgathernd raw_opsgatherv raw_opsgetsessionhandl raw_opsgetsessionhandlev raw_opsgetsessiontensor raw_opsgreat raw_opsgreaterequ raw_opshsvtorgb raw_opshasht raw_opshashtablev raw_opshistogramsummari raw_opsident raw_opsidentityn raw_opsifft raw_opsifftd raw_opsifftd raw_opsimag raw_opsimageprojectivetransformv raw_opsimageprojectivetransformv raw_opsimmutableconst raw_opsinplaceadd raw_opsinplacesub raw_opsinplaceupd raw_opsintopk raw_opsintopkv raw_opsinitializet raw_opsinitializetablefromdataset raw_opsinitializetablefromtextfil raw_opsinitializetablefromtextfilev raw_opsinitializetablev raw_opsinv raw_opsinvert raw_opsinvertpermut raw_opsinvgrad raw_opsirfft raw_opsirfftd raw_opsirfftd raw_opsisboostedtreesquantilestreamresourceiniti raw_opsisfinit raw_opsisnan raw_opsisvariableiniti raw_opslrn raw_opsleakyrelu raw_opsleakyrelugrad raw_opsleftshift raw_opsless raw_opslessequ raw_opslinspac raw_opslistdiff raw_opslog raw_opslogmatrixdetermin raw_opslogsoftmax raw_opslogicaland raw_opslogicalnot raw_opslogicalor raw_opslookuptableexport raw_opslookuptableexportv raw_opslookuptablefind raw_opslookuptablefindv raw_opslookuptableimport raw_opslookuptableimportv raw_opslookuptableinsert raw_opslookuptableinsertv raw_opslookuptableremovev raw_opslookuptables raw_opslookuptablesizev raw_opsloopcond raw_opslrn raw_opsmapdataset raw_opsmatmul raw_opsmatrixbandpart raw_opsmatrixdiag raw_opsmatrixdiagpart raw_opsmatrixdiagpartv raw_opsmatrixdiagpartv raw_opsmatrixdiagv raw_opsmatrixdiagv raw_opsmatrixinvers raw_opsmatrixsetdiag raw_opsmatrixsetdiagv raw_opsmatrixsetdiagv raw_opsmatrixtriangularsolv raw_opsmax raw_opsmaximum raw_opsmaxpool raw_opsmaxpoold raw_opsmaxpooldgrad raw_opsmaxpooldgradgrad raw_opsmaxpoolgrad raw_opsmaxpoolgradgrad raw_opsmaxpoolgradgradv raw_opsmaxpoolgradv raw_opsmaxpoolgradwithargmax raw_opsmaxpoolv raw_opsmaxpoolwithargmax raw_opsmean raw_opsmerg raw_opsmergesummari raw_opsmergevcheckpoint raw_opsmfcc raw_opsmin raw_opsminimum raw_opsmirrorpad raw_opsmirrorpadgrad raw_opsmodeldataset raw_opsmul raw_opsmulnonan raw_opsmultinomi raw_opsmutabledensehasht raw_opsmutabledensehashtablev raw_opsmutablehasht raw_opsmutablehashtableoftensor raw_opsmutablehashtableoftensorsv raw_opsmutablehashtablev raw_opsneg raw_opsnextiter raw_opsnonmaxsuppress raw_opsnonmaxsuppressionv raw_opsnonmaxsuppressionv raw_opsnonmaxsuppressionv raw_opsnonmaxsuppressionv raw_opsnonmaxsuppressionwithoverlap raw_opsnoop raw_opsnotequ raw_opsonehot raw_opsoneslik raw_opsoptimizedatasetv raw_opsoptionalfromvalu raw_opsoptionalgetvalu raw_opsoptionalhasvalu raw_opsoptionalnon raw_opspack raw_opspad raw_opspadv raw_opspaddingfifoqueu raw_opspaddingfifoqueuev raw_opspadv raw_opsparallelconcat raw_opsparalleldynamicstitch raw_opsparseexampl raw_opsparseexamplev raw_opsparsesequenceexampl raw_opsparsesequenceexamplev raw_opsparsesingleexampl raw_opsparsesinglesequenceexampl raw_opsplacehold raw_opsplaceholderv raw_opsplaceholderwithdefault raw_opspopulationcount raw_opspow raw_opspreventgradi raw_opsprint raw_opsprintv raw_opsprod raw_opsqr raw_opsquantizedadd raw_opsquantizedavgpool raw_opsquantizedbatchnormwithglobalnorm raw_opsquantizedbiasadd raw_opsquantizedconcat raw_opsquantizedconvd raw_opsquantizedinstancenorm raw_opsquantizedmatmul raw_opsquantizedmaxpool raw_opsquantizedmul raw_opsquantizedownandshrinkrang raw_opsquantizedrelu raw_opsquantizedrelu raw_opsquantizedreshap raw_opsquantizedresizebilinear raw_opsquantizev raw_opsqueueclos raw_opsqueueclosev raw_opsqueuedequeu raw_opsqueuedequeuemani raw_opsqueuedequeuemanyv raw_opsqueuedequeueupto raw_opsqueuedequeueuptov raw_opsqueuedequeuev raw_opsqueueenqueu raw_opsqueueenqueuemani raw_opsqueueenqueuemanyv raw_opsqueueenqueuev raw_opsqueueisclos raw_opsqueueisclosedv raw_opsqueues raw_opsqueuesizev raw_opsrfft raw_opsrfftd raw_opsrfftd raw_opsrgbtohsv raw_opsraggedbincount raw_opsraggedgath raw_opsraggedrang raw_opsraggedtensorfromvari raw_opsraggedtensortospars raw_opsraggedtensortotensor raw_opsraggedtensortovari raw_opsraggedtensortovariantgradi raw_opsrandomgamma raw_opsrandompoisson raw_opsrandompoissonv raw_opsrandomshuffl raw_opsrandomstandardnorm raw_opsrandomuniform raw_opsrandomuniformint raw_opsrang raw_opsrank raw_opsreadvariableop raw_opsr raw_opsrealdiv raw_opsreciproc raw_opsreciprocalgrad raw_opsrecv raw_opsreducedataset raw_opsreducejoin raw_opsrefent raw_opsrefexit raw_opsrefident raw_opsrefmerg raw_opsrefnextiter raw_opsrefselect raw_opsrefswitch raw_opsregexfullmatch raw_opsregexreplac raw_opsrelu raw_opsrelu raw_opsrelugrad raw_opsrelugrad raw_opsremotecal raw_opsrepeatdataset raw_opsrequantizationrang raw_opsrequant raw_opsreshap raw_opsresizebicub raw_opsresizebicubicgrad raw_opsresizebilinear raw_opsresizebilineargrad raw_opsresizenearestneighbor raw_opsresizenearestneighborgrad raw_opsresourceapplyadadelta raw_opsresourceapplyadagrad raw_opsresourceapplyadagradda raw_opsresourceapplyadagradv raw_opsresourceapplyadam raw_opsresourceapplyadamax raw_opsresourceapplyadamwithamsgrad raw_opsresourceapplyaddsign raw_opsresourceapplycenteredrmsprop raw_opsresourceapplyftrl raw_opsresourceapplyftrlv raw_opsresourceapplygradientdesc raw_opsresourceapplykerasmomentum raw_opsresourceapplymomentum raw_opsresourceapplypowersign raw_opsresourceapplyproximaladagrad raw_opsresourceapplyproximalgradientdesc raw_opsresourceapplyrmsprop raw_opsresourcegath raw_opsresourcegathernd raw_opsresourcescatteradd raw_opsresourcescatterdiv raw_opsresourcescattermax raw_opsresourcescattermin raw_opsresourcescattermul raw_opsresourcescatterndadd raw_opsresourcescatterndmax raw_opsresourcescatterndmin raw_opsresourcescatterndsub raw_opsresourcescatterndupd raw_opsresourcescattersub raw_opsresourcescatterupd raw_opsresourcesparseapplyadadelta raw_opsresourcesparseapplyadagrad raw_opsresourcesparseapplyadagradda raw_opsresourcesparseapplyadagradv raw_opsresourcesparseapplycenteredrmsprop raw_opsresourcesparseapplyftrl raw_opsresourcesparseapplyftrlv raw_opsresourcesparseapplykerasmomentum raw_opsresourcesparseapplymomentum raw_opsresourcesparseapplyproximaladagrad raw_opsresourcesparseapplyproximalgradientdesc raw_opsresourcesparseapplyrmsprop raw_opsresourcestridedsliceassign raw_opsrestor raw_opsrestoreslic raw_opsrestorev raw_opsrevers raw_opsreversesequ raw_opsreversev raw_opsrightshift raw_opsrol raw_opsround raw_opsrsqrt raw_opsrsqrtgrad raw_opssampledistortedboundingbox raw_opssampledistortedboundingboxv raw_opssav raw_opssaveslic raw_opssavev raw_opsscalarsummari raw_opsscatternd raw_opsscatterndadd raw_opsscatterndmax raw_opsscatterndmin raw_opsscatterndnonaliasingadd raw_opsscatterndsub raw_opsscatterndupd raw_opssegmentmax raw_opssegmentmean raw_opssegmentmin raw_opssegmentprod raw_opssegmentsum raw_opsselect raw_opsselectv raw_opsselu raw_opsselugrad raw_opssend raw_opsserializetensor raw_opsshap raw_opsshapen raw_opsshardedfilenam raw_opsshardedfilespec raw_opssigmoid raw_opssigmoidgrad raw_opssign raw_opssin raw_opssinh raw_opss raw_opsslic raw_opssoftmax raw_opssoftmaxcrossentropywithlogit raw_opssoftplu raw_opssoftplusgrad raw_opssoftsign raw_opssoftsigngrad raw_opsspacetobatch raw_opsspacetobatchnd raw_opsspacetodepth raw_opssparseadd raw_opssparseapplyadadelta raw_opssparseapplyadagrad raw_opssparseapplyadagradda raw_opssparseapplyadagradv raw_opssparseapplycenteredrmsprop raw_opssparseapplyftrl raw_opssparseapplyftrlv raw_opssparseapplymomentum raw_opssparseapplyproximaladagrad raw_opssparseapplyproximalgradientdesc raw_opssparseapplyrmsprop raw_opssparsebincount raw_opssparsecross raw_opssparsecrosshash raw_opssparsecrossv raw_opssparsefillemptyrow raw_opssparsefillemptyrowsgrad raw_opssparsereducesum raw_opssparsereshap raw_opssparsereord raw_opssparsesegmentmean raw_opssparsesegmentmeangrad raw_opssparsesegmentmeanwithnumseg raw_opssparsesegmentsqrtn raw_opssparsesegmentsqrtngrad raw_opssparsesegmentsqrtnwithnumseg raw_opssparsesegmentsum raw_opssparsesegmentsumgrad raw_opssparsesegmentsumwithnumseg raw_opssparseslic raw_opssparsesoftmaxcrossentropywithlogit raw_opssparsetensordensematmul raw_opssparsetodens raw_opssparsetosparsesetoper raw_opssplit raw_opssplitv raw_opssqrt raw_opssqrtgrad raw_opssquar raw_opssquareddiffer raw_opssqueez raw_opsstack raw_opsstackclos raw_opsstackclosev raw_opsstackpop raw_opsstackpopv raw_opsstackpush raw_opsstackpushv raw_opsstackv raw_opsstatelessmultinomi raw_opsstatelessrandomgammav raw_opsstatelessrandomgetalg raw_opsstatelessrandomgetkeycount raw_opsstatelessrandomgetkeycounteralg raw_opsstatelessrandomnorm raw_opsstatelessrandomnormalv raw_opsstatelessrandompoisson raw_opsstatelessrandomuniform raw_opsstatelessrandomuniformfullint raw_opsstatelessrandomuniformfullintv raw_opsstatelessrandomuniformint raw_opsstatelessrandomuniformintv raw_opsstatelessrandomuniformv raw_opsstatelesssampledistortedboundingbox raw_opsstatelesstruncatednorm raw_opsstatelesstruncatednormalv raw_opsstaticregexfullmatch raw_opsstaticregexreplac raw_opsstopgradi raw_opsstridedslic raw_opsstridedsliceassign raw_opsstridedslicegrad raw_opsstringformat raw_opsstringjoin raw_opsstringlength raw_opsstringlow raw_opsstringsplit raw_opsstringsplitv raw_opsstringstrip raw_opsstringtohashbucket raw_opsstringtohashbucketfast raw_opsstringtohashbucketstrong raw_opsstringtonumb raw_opssub raw_opssubstr raw_opssum raw_opsswitch raw_opssymbolicgradi raw_opstakedataset raw_opstakewhiledataset raw_opstan raw_opstanh raw_opstanhgrad raw_opstemporaryvari raw_opstensorarray raw_opstensorarrayclos raw_opstensorarrayclosev raw_opstensorarrayclosev raw_opstensorarrayconcat raw_opstensorarrayconcatv raw_opstensorarrayconcatv raw_opstensorarraygath raw_opstensorarraygatherv raw_opstensorarraygatherv raw_opstensorarraygrad raw_opstensorarraygradv raw_opstensorarraygradv raw_opstensorarraygradwithshap raw_opstensorarraypack raw_opstensorarrayread raw_opstensorarrayreadv raw_opstensorarrayreadv raw_opstensorarrayscatt raw_opstensorarrayscatterv raw_opstensorarrayscatterv raw_opstensorarrays raw_opstensorarraysizev raw_opstensorarraysizev raw_opstensorarraysplit raw_opstensorarraysplitv raw_opstensorarraysplitv raw_opstensorarrayunpack raw_opstensorarrayv raw_opstensorarrayv raw_opstensorarraywrit raw_opstensorarraywritev raw_opstensorarraywritev raw_opstensorlistconcat raw_opstensorlistconcatlist raw_opstensorlistconcatv raw_opstensorlistelementshap raw_opstensorlistfromtensor raw_opstensorlistgath raw_opstensorlistgetitem raw_opstensorlistlength raw_opstensorlistpopback raw_opstensorlistpushback raw_opstensorlistpushbackbatch raw_opstensorlistreserv raw_opstensorlistres raw_opstensorlistscatt raw_opstensorlistscatterintoexistinglist raw_opstensorlistscatterv raw_opstensorlistsetitem raw_opstensorlistsplit raw_opstensorliststack raw_opstensormaperas raw_opstensormaphaskey raw_opstensormapinsert raw_opstensormaplookup raw_opstensormaps raw_opstensormapstackkey raw_opstensorscatteradd raw_opstensorscattermax raw_opstensorscattermin raw_opstensorscattersub raw_opstensorscatterupd raw_opstensorslicedataset raw_opstensorstridedsliceupd raw_opstil raw_opstilegrad raw_opstimestamp raw_opstokenizerfromlogit raw_opstopk raw_opstopkv raw_opstranspos raw_opstruncatediv raw_opstruncatednorm raw_opsunicodedecod raw_opsunicodedecodewithoffset raw_opsunicodeencod raw_opsunicodetranscod raw_opsuniqu raw_opsuniquev raw_opsuniquewithcount raw_opsuniquewithcountsv raw_opsunpack raw_opsunsortedsegmentmax raw_opsunsortedsegmentmin raw_opsunsortedsegmentprod raw_opsunsortedsegmentsum raw_opsunwrapdatasetvari raw_opsvarhandleop raw_opsvari raw_opsvariableshap raw_opsvariablev raw_opsvarisinitializedop raw_opswher raw_opswrapdatasetvari raw_opsxdivi raw_opsxlogpi raw_opsxlog raw_opszeroslik tensorflow text sentencepiec oper follow tensorflow texthttpswwwtensorfloworgtutorialstensorflow_textintro sentencepiecehttpsgithubcomgooglesentencepiec oper support use python api convers import librari tftext oper casefoldutf constrainedsequ maxspanningtre normalizeutf normalizeutfwithoffsetsmap regexsplitwithoffset rougel sentencefrag sentencepieceop sentencepiecetokenizeop sentencepiecetokenizewithoffsetsop sentencepiecedetokenizeop sentencepiecevocabsizeop splitmergetokenizewithoffset unicodescripttokenizewithoffset whitespacetokenizewithoffset wordpiecetokenizewithoffset sentencepiec oper sentencepiecegetpieces sentencepiecepiecetoid sentencepieceidtopiec sentencepieceencodedens sentencepieceencodespars sentencepiecedecod follow snippet show convert model oper python import tensorflow tf import requir load oper definit import tensorflow_text tf_text import sentencepiec spm convert tflitetfliteconverterfrom_keras_modelyour_model convertertarget_specsupported_op tfliteopssettflite_builtin tfliteopssetselect_tf_op model_data converterconvert runtim side also requir link tensorflow text sentencepiec librari final app binari user defin oper note featur avail tensorflow version creat tensorflow operatorshttpswwwtensorfloworgguidecreate_op also convert model contain tensorflow lite list requir oper experimental_select_user_tf_op follow python import tensorflow tf ops_modul tfload_op_libraryyour_ops_libraryso convert tflitetfliteconverterfrom_saved_modelyour_model convertertarget_specsupported_op tfliteopssettflite_builtin tfliteopssetselect_tf_op convertertarget_specexperimental_select_user_tf_op your_op_nam your_op_nam model_data converterconvert runtim side also requir link oper librari final app binari add tensorflow core oper allow list hit case tensorflow core oper allow listhttpswwwtensorfloworgliteguideop_select_allowlisttensorflow_core_oper report featur request herehttpsgithubcomtensorflowtensorflowissu name tensorflow core oper list allow list also creat pull request sourc code exampl want add raw_opsstringtonumb op allow list three place updat like commithttpsgithubcomtensorflowtensorflowcommiteebeeddbefcebff add oper kernel sourc code portable_extended_ops_group build rule filegroup name portable_extended_ops_group src string_to_number_opcc order find relvant oper kernel sourc file tensorflowcorekernel directori search sourc code locat contain follow kernel declar oper name register_kernel_buildernamestringtonumb devicedevice_cpu typeconstrainttypeout_typ stringtonumberoptyp header file tensorflowcorekernel directori requir oper kernel sourc code need add header file portable_extended_ops_head build rule follow filegroup name portable_extended_ops_head src string_utilh add oper name allow list allow list defin tensorflowlitedelegatesflexallowlisted_flex_opscc tensorflow core oper name need list order allow select tf option static const stdsetstdstr allowlisted_flex_op new stdsetstdstr stringtonumb sinc list sort alphabet order make sure place name right place add oper name guid page show oper inclus develop guid page updat well page locat tensorflowlitegdocguideop_select_allowlistmd tensorflow core oper follow exhaust list tensorflow core oper support tensorflow lite runtim select tensorflow op featur raw_opsstringtonumb sinc list sort alphabet order make sure place name right place tensorflow lite tensorflow oper compat tensorflow lite support number tensorflow oper use common infer model process tensorflow lite optim convert oper may elid fuse support oper map tensorflow lite counterpart sinc tensorflow lite builtin oper librari support limit number tensorflow oper everi model convert even support oper specif usag pattern sometim expect perform reason expect expand set support oper futur tensorflow lite releas best way understand build tensorflow model use tensorflow lite care consid oper convert optim along limit impos process support type tensorflow lite oper target floatingpoint float quantiz uint int infer mani op yet type like tffloat string apart use differ version oper differ floatingpoint quantiz model way convert quantiz convers requir dynam rang inform tensor requir fakequant model train get rang inform via calibr data set onthefli rang estim see quantizationperformancemodel_optimizationmd support oper restrict tensorflow lite support subset tensorflow oper limit full list oper limit see tf lite op pagehttpswwwtensorfloworgmlirtfl_op straightforward convers constantfold fuse number tensorflow oper process tensorflow lite even though direct equival case oper simpli remov graph tfident replac tensor tfplacehold fuse complex oper tfnnbias_add even support oper may sometim remov one process nonexhaust list tensorflow oper usual remov graph tfadd tfcheck_numer tfconstant tfdiv tfdivid tffake_quant_with_min_max_arg tffake_quant_with_min_max_var tfident tfmaximum tfminimum tfmultipli tfno_op tfplacehold tfplaceholder_with_default tfrealdiv tfreduce_max tfreduce_min tfreduce_sum tfrsqrt tfshape tfsqrt tfsquar tfsubtract tftile tfnnbatch_norm_with_global_norm tfnnbias_add tfnnfused_batch_norm tfnnrelu tfnnrelu note mani oper dont tensorflow lite equival correspond model convert cant elid fuse experiment oper follow tensorflow lite oper present readi custom model call concat_embed custom embedding_lookup_spars hashtable_lookup lsh_project skip_gram svdf frequent ask question dont find answer question pleas look detail document topic file github issuehttpsgithubcomtensorflowtensorflowissu model convers format support convers tensorflow tensorflow lite support format list hereconvertindexmdpython_api oper implement tensorflow lite order keep tflite lightweight certain tf oper list allowlistop_select_allowlistmd support tflite doesnt model convert sinc number tensorflow lite oper smaller tensorflow model may abl convert common error list hereconvertindexmdconversionerror convers issu relat miss oper control flow op search github issueshttpsgithubcomtensorflowtensorflowissuesqlabelacompalit file new onehttpsgithubcomtensorflowtensorflowissu test tensorflow lite model behav origin tensorflow model best way test compar output tensorflow tensorflow lite model input test data random input shown hereinferencemdloadandrunamodelinpython determin inputsoutput graphdef protocol buffer easiest way inspect graph pb file use netronhttpsgithubcomlutzroedernetron opensourc viewer machin learn model netron open graph tri summarize_graphhttpsgithubcomtensorflowtensorflowblobmastertensorflowtoolsgraph_transformsreadmemdinspectinggraph tool summarize_graph tool yield error visual graphdef tensorboardhttpswwwtensorfloworgguidesummaries_and_tensorboard look input output graph visual pb file use import_pb_to_tensorboardpyhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythontoolsimport_pb_to_tensorboardpi script like shell python import_pb_to_tensorboardpi model_dir model path log_dir log dir path inspect tflite file netronhttpsgithubcomlutzroedernetron easiest way visual tensorflow lite model netron open tensorflow lite model tri visualizepyhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitetoolsvisualizepi script repositori your use tf later version shell python tensorflowlitetoolsvisu modeltflit visualized_modelhtml otherwis run script bazel clone tensorflow repositoryhttpswwwtensorfloworginstallsourc run visualizepi script bazel shell bazel run tensorflowlitetoolsvisu modeltflit visualized_modelhtml optim reduc size convert tensorflow lite model posttrain quantizationperformancepost_training_quantizationmd use convers tensorflow lite reduc size model posttrain quantiz quantiz weight bit precis floatingpoint dequant runtim perform float point comput howev note could accuraci implic retrain model option consid quantizationawar traininghttpsgithubcomtensorflowtensorflowtreertensorflowcontribquant howev note quantizationawar train avail subset convolut neural network architectur deeper understand differ optim method look model optimizationperformancemodel_optimizationmd optim tensorflow lite perform machin learn task highlevel process optim tensorflow lite perform look someth like make sure right model task imag classif check list host modelshosted_modelsmd tweak number thread mani tensorflow lite oper support multithread kernel use setnumthread c apihttpsgithubcomtensorflowtensorflowblobmastertensorflowliteinterpreterhl howev increas thread result perform variabl depend environ use hardwar acceler tensorflow lite support model acceler specif hardwar use deleg see delegatesperformancedelegatesmd guid inform acceler support use model ondevic advanc profil model tensorflow lite benchmark toolhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmark builtin profil show peroper statist know optim oper perform specif platform implement custom operatorops_custommd indepth discuss optim perform take look best practicesperformancebest_practicesmd tensorflow lite infer term infer refer process execut tensorflow lite model ondevic order make predict base input data perform infer tensorflow lite model must run interpret tensorflow lite interpret design lean fast interpret use static graph order custom lessdynam memori alloc ensur minim load initi execut latenc page describ access tensorflow lite interpret perform infer use c java python plu link resourc support platformsupportedplatform toc import concept tensorflow lite infer typic follow follow step load model must load tflite model memori contain model execut graph transform data raw input data model gener match input data format expect model exampl might need resiz imag chang imag format compat model run infer step involv use tensorflow lite api execut model involv step build interpret alloc tensor describ follow section interpret output receiv result model infer must interpret tensor meaning way that use applic exampl model might return list probabl map probabl relev categori present endus support platform tensorflow infer api provid common mobileembed platform androidandroidplatform iosiosplatform linuxlinuxplatform multipl program languag case api design reflect prefer perform eas use tensorflow lite design fast infer small devic surpris api tri avoid unnecessari copi expens conveni similarli consist tensorflow api explicit goal varianc languag expect across librari tensorflow lite api enabl load model feed input retriev infer output android platform android tensorflow lite infer perform use either java c api java api provid conveni use directli within android activ class c api offer flexibl speed may requir write jni wrapper move data java c layer see detail use cloadandrunamodelinc javaloadandrunamodelinjava follow android quickstartandroidmd tutori exampl code tensorflow lite android wrapper code gener note tensorflow lite wrapper code gener experiment beta phase current support android tensorflow lite model enhanc metadataconvertmetadatamd develop use tensorflow lite android wrapper code gener creat platform specif wrapper code wrapper code remov need interact directli bytebuff android instead develop interact tensorflow lite model type object bitmap rect inform pleas refer tensorflow lite android wrapper code generatorinference_with_metadatacodegenmd io platform io tensorflow lite avail nativ io librari written swifthttpswwwtensorfloworgcodetensorflowliteswift objectivechttpswwwtensorfloworgcodetensorflowliteobjc also use c apihttpswwwtensorfloworgcodetensorflowlitecc_apih directli objectivec code see detail use swiftloadandrunamodelinswift objectivecloadandrunamodelinobjectivec c apiusingcapiinobjectiveccod follow io quickstartiosmd tutori exampl code linux platform linux platform includ raspberri pibuild_rpimd run infer use tensorflow lite api avail cloadandrunamodelinc pythonloadandrunamodelinpython shown follow section run model run tensorflow lite model involv simpl step load model memori build interpret base exist model set input tensor valu option resiz input tensor predefin size desir invok infer read output tensor valu follow section describ step done languag load run model java platform android java api run infer tensorflow lite primarili design use android avail android librari depend orgtensorflowtensorflowlit java youll use interpret class load model drive model infer mani case may api need initi interpret use tflite file java public interpreternotnul file modelfil mappedbytebuff java public interpreternotnul mappedbytebuff mappedbytebuff case must provid valid tensorflow lite model api throw illegalargumentexcept use mappedbytebuff initi interpret must remain unchang whole lifetim interpret prefer way run infer model use signatur avail model convert start tensorflow java tri interpret interpret new interpreterfile_of_tensorflowlite_model mapstr object input new hashmap inputsputinput_ input inputsputinput_ input mapstr object output new hashmap outputsputoutput_ output interpreterrunsignatureinput output mysignatur runsignatur method take three argument input map input input name signatur input object output map output map output name signatur output data signatur name option signatur name left empti model singl signatur anoth way run infer model doesnt defin signatur simpli call interpreterrun exampl java tri interpret interpret new interpreterfile_of_a_tensorflowlite_model interpreterruninput output run method take one input return one output model multipl input multipl output instead use java interpreterrunformultipleinputsoutputsinput map_of_indices_to_output case entri input correspond input tensor map_of_indices_to_output map indic output tensor correspond output data case tensor indic correspond valu gave tensorflow lite converterconvert creat model awar order tensor input must match order given tensorflow lite convert interpret class also provid conveni function get index model input output use oper name java public int getinputindexstr opnam public int getoutputindexstr opnam opnam valid oper model throw illegalargumentexcept also bewar interpret own resourc avoid memori leak resourc must releas use java interpreterclos exampl project java see android imag classif samplehttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationandroid support data type java use tensorflow lite data type input output tensor must one follow primit type float int long byte string type also support encod differ primit type particular shape string tensor dictat number arrang string tensor element variabl length string sens byte size tensor comput shape type alon consequ string provid singl flat bytebuff argument data type includ box type like integ float use illegalargumentexcept thrown input input array multidimension array support primit type raw bytebuff appropri size input array multidimension array associ input tensor implicitli resiz array dimens infer time input bytebuff caller first manual resiz associ input tensor via interpreterresizeinput run infer use bytebuff prefer use direct byte buffer allow interpret avoid unnecessari copi bytebuff direct byte buffer order must byteordernativeord use model infer must remain unchang model infer finish output output array multidimension array support primit type bytebuff appropri size note model dynam output shape output tensor vari depend input there straightforward way handl exist java infer api plan extens make possibl load run model swift platform io swift apihttpswwwtensorfloworgcodetensorflowliteswift avail tensorflowliteswift pod cocoapod first need import tensorflowlit modul swift import tensorflowlit swift get model path guard let modelpath bundlemainpathforresourc model oftyp tflite els error handl initi interpret model let interpret tri interpretermodelpath modelpath alloc memori model input tensor tri interpreterallocatetensor let inputdata data initi input data prepar copi input data input tensor tri selfinterpretercopyinputdata toinputat run infer invok interpret tri selfinterpreterinvok get output tensor let outputtensor tri selfinterpreteroutputat copi output data process infer result let outputs outputtensorshapedimensionsreduc x x let outputdata unsafemutablebufferpointerfloatallocatecapac outputs outputtensordatacopybytesto outputdata error nil error handl catch error error handl load run model objectivec platform io objectivec apihttpswwwtensorfloworgcodetensorflowliteobjc avail tensorflowliteobjc pod cocoapod first need import tensorflowlit modul objc import tensorflowlit objc nsstring modelpath nsbundl mainbundl pathforresourcemodel oftypetflit nserror error initi interpret model tflinterpret interpret tflinterpret alloc initwithmodelpathmodelpath errorerror error nil error handl alloc memori model input tfltensor interpret allocatetensorswitherrorerror error nil error handl nsmutabledata inputdata initi input data prepar get input tfltensor tfltensor inputtensor interpret inputtensoratindex errorerror error nil error handl copi input data input tfltensor inputtensor copydatainputdata errorerror error nil error handl run infer invok tflinterpret interpret invokewitherrorerror error nil error handl get output tfltensor tfltensor outputtensor interpret outputtensoratindex errorerror error nil error handl copi output nsdata process infer result nsdata outputdata outputtensor datawitherrorerror error nil error handl use c api objectivec code current objectivec api support deleg order use deleg objectivec code need directli call underli c apihttpswwwtensorfloworgcodetensorflowlitecc_apih c includ tensorflowlitecc_apih c tflitemodel model tflitemodelcreatefromfilemodelpath utfstr tfliteinterpreteropt option tfliteinterpreteroptionscr creat interpret tfliteinterpret interpret tfliteinterpretercreatemodel option alloc tensor popul input tensor data tfliteinterpreterallocatetensorsinterpret tflitetensor input_tensor tfliteinterpretergetinputtensorinterpret tflitetensorcopyfrombufferinput_tensor inputdata inputs sizeoffloat execut infer tfliteinterpreterinvokeinterpret extract output tensor data const tflitetensor output_tensor tfliteinterpretergetoutputtensorinterpret tflitetensorcopytobufferoutput_tensor outputdata outputs sizeoffloat dispos model interpret object tfliteinterpreterdeleteinterpret tfliteinterpreteroptionsdeleteopt tflitemodeldeletemodel load run model c platform android io linux note c api io avail use bazel c model store flatbuffermodelhttpswwwtensorfloworgliteapi_docsccclasstfliteflatbuffermodelhtml class encapsul tensorflow lite model build coupl differ way depend model store c class flatbuffermodel build model base file return nullptr case failur static stdunique_ptrflatbuffermodel buildfromfil const char filenam errorreport error_report build model base preload flatbuff caller retain ownership buffer keep aliv return object destroy return nullptr case failur static stdunique_ptrflatbuffermodel buildfrombuff const char buffer size_t buffer_s errorreport error_report note tensorflow lite detect presenc android nnapihttpsdeveloperandroidcomndkguidesneuralnetwork automat tri use share memori store flatbuffermodel model flatbuffermodel object execut interpreterhttpswwwtensorfloworgliteapi_docsccclasstfliteinterpreterhtml singl flatbuffermodel use simultan one interpret caution flatbuffermodel object must remain valid instanc interpret use destroy import part interpret api shown code snippet note tensor repres integ order avoid string comparison fix depend string librari interpret must access concurr thread memori alloc input output tensor must trigger call allocatetensor right resiz tensor simplest usag tensorflow lite c look like c load model stdunique_ptrtfliteflatbuffermodel model tfliteflatbuffermodelbuildfromfilefilenam build interpret tfliteopsbuiltinbuiltinopresolv resolv stdunique_ptrtfliteinterpret interpret tfliteinterpreterbuildermodel resolverinterpret resiz input tensor desir interpreterallocatetensor float input interpretertyped_input_tensorfloat fill input interpreterinvok float output interpretertyped_output_tensorfloat exampl code see minimalcchttpsgithubcomtensorflowtensorflowblobmastertensorflowliteexamplesminimalminimalcc label_imagecchttpsgithubcomtensorflowtensorflowblobmastertensorflowliteexampleslabel_imagelabel_imagecc load run model python platform linux python api run infer provid tflite modul mostli need tfliteinterpreterhttpswwwtensorfloworgapi_docspythontfliteinterpret load model run infer follow exampl show use python interpret load tflite file run infer random input data exampl recommend your convert savedmodel defin signaturedef avail start tensorflow python class testmodeltfmodul def __init__self supertestmodel self__init__ tffunctioninput_signaturetftensorspecshap dtypetffloat def addself x simpl method accept singl input x return x name output result conveni return result x saved_model_path contentsaved_modelstest_vari tflite_file_path contenttest_variabletflit save model modul testmodel omit signatur argument default signatur name creat name serving_default tfsaved_modelsav modul saved_model_path signaturesmy_signaturemoduleaddget_concrete_funct convert model use tfliteconvert convert tflitetfliteconverterfrom_saved_modelsaved_model_path tflite_model converterconvert opentflite_file_path wb f fwritetflite_model load tflite model tflite interpret interpret tfliteinterpretertflite_file_path signatur defin model return default multipl signatur pass name my_signatur interpreterget_signature_runn my_signatur callabl input argument output my_signaturextfconst shape dtypetffloat output dictionari output infer case singl output result printoutputresult anoth exampl model doesnt signaturedef defin python import numpi np import tensorflow tf load tflite model alloc tensor interpret tfliteinterpretermodel_pathconverted_modeltflit interpreterallocate_tensor get input output tensor input_detail interpreterget_input_detail output_detail interpreterget_output_detail test model random input data input_shap input_detailsshap input_data nparraynprandomrandom_sampleinput_shap dtypenpfloat interpreterset_tensorinput_detailsindex input_data interpreterinvok function get_tensor return copi tensor data use tensor order get pointer tensor output_data interpreterget_tensoroutput_detailsindex printoutput_data altern load model preconvert tflite file combin code tensorflow lite convert python apihttpswwwtensorfloworgliteconvertpython_api tflitetfliteconvert allow convert tensorflow model tensorflow lite format run infer python import numpi np import tensorflow tf img tfplaceholdernameimg dtypetffloat shape const tfconstant tfconstant val img const tfidentityv nameout convert tf lite format tfsession sess convert tflitetfliteconverterfrom_sessionsess img tflite_model converterconvert load tflite model alloc tensor interpret tfliteinterpretermodel_contenttflite_model interpreterallocate_tensor continu get tensor forth shown python sampl code see label_imagepyhttpsgithubcomtensorflowtensorflowblobmastertensorflowliteexamplespythonlabel_imagepi tip run helptfliteinterpret python termin get detail document interpret support oper tensorflow lite support subset tensorflow oper limit full list oper limit see tf lite op pagehttpswwwtensorfloworgmlirtfl_op tensorflow lite roadmap updat may follow repres high level overview roadmap awar roadmap may chang time order reflect type prioriti break roadmap four key segment usabl perform optim portabl strongli encourag comment roadmap provid us feedback tensorflow lite discuss grouphttpsgroupsgooglecomatensorfloworggtflit usabl expand op coverag add target op base user feedback add target op set specif domain area includ random op base kera layer op hash tabl select train op assist tool provid tensorflow graph annot compat tool valid tflite hardwar acceler compat duringtrain afterconvers allow target optim specif acceler convers ondevic train support ondevic train person transfer learn includ colab demonstr endtoend usag support variableresourc type infer train support convert execut graph multipl function signatur entrypoint enhanc android studio integr drag drop tflite model android studio gener model interfac improv android studio profil support includ memori profil model maker support newer task includ object detect recommend audio classif cover wide collect common usag support data set make transfer learn easier task librari support model type eg audio nlp associ pre post process capabl updat refer exampl task api support outofthebox acceler task sota model exampl add exampl eg audio nlp structuredata relat demonstr model usag well new featur api cover differ platform creat shareabl backbon model ondevic reduc train deploy cost seamless deploy across multipl platform run tensorflow lite model web improv crossplatform support extend improv api java android swift io python rpi enhanc cmake support eg broader acceler support better frontend support improv compat variou author frontend includ kera tfnumpi perform better tool public dashboard track perform gain releas tool better understand graph compat target acceler improv cpu perform xnnpack enabl default faster float point infer endtoend half precis float support optim kernel updat nn api support full support newer android version nn api featur op type gpu optim improv startup time deleg serial support hardwar buffer interop zerocopi infer wider avail devic acceler better op coverag optim quantiz select posttrain quantiz exclud certain layer quantiz quantiz debugg inspect quantiz error loss per layer appli quantizationawar train model coverag eg tensorflow model garden qualiti perform improv posttrain dynamicrang quantiz tensor compress api allow compress algorithm svd prune sparsiti combin configur trainingtim prune quantizationawar train api increas spariti applic tf model garden model spars model execut support tensorflow lite portabl microcontrol support add support rang bit mcu architectur use case speech imag classif audio frontend ingraph audio preprocess acceler support sampl code model vision audio data python quickstart use tensorflow lite python great embed devic base linux raspberri pihttpswwwraspberrypiorgextern coral devic edg tpuhttpscoralwithgooglecomextern among mani other page show start run tensorflow lite model python minut need tensorflow model convert tensorflow liteconvert dont model convert yet experi use model provid exampl link tensorflow lite runtim packag quickli start execut tensorflow lite model python instal tensorflow lite interpret instead tensorflow packag call simplifi python packag tflite_runtim tflite_runtim packag fraction size full tensorflow packag includ bare minimum code requir run infer tensorflow liteprimarili interpreterhttpswwwtensorfloworgapi_docspythontfliteinterpret python class small packag ideal want execut tflite model avoid wast disk space larg tensorflow librari note need access python api tensorflow lite converterconvert must instal full tensorflow packagehttpswwwtensorfloworginstal exampl select tf op httpswwwtensorfloworgliteguideops_select includ tflite_runtim packag model depend select tf op need use full tensorflow packag instead instal tensorflow lite python instal linux pip pre classdevsitetermin devsiteclicktocopi python pip instal tfliteruntim pre support platform tfliteruntim python wheel prebuilt provid platform linux armvl eg raspberri pi zero run raspberri pi os bit linux aarch eg raspberri pi run debian arm linux x_ want run tensorflow lite model platform either use full tensorflow packagehttpswwwtensorfloworginstal build tfliteruntim packag sourcebuild_cmake_pipmd your use tensorflow coral edg tpu instead follow appropri coral setup documentationhttpscoralaidocssetup note longer updat debian packag pythontfliteruntim latest debian packag tf version instal follow older instructionshttpsgithubcomtensorflowtensorflowblobvtensorflowlitegdocguidepythonmdinstalltensorflowliteforpython note longer releas prebuilt tfliteruntim wheel window maco platform use full tensorflow packagehttpswwwtensorfloworginstal build tfliteruntim packag sourcebuild_cmake_pipmd run infer use tflite_runtim instead import interpret tensorflow modul need import tflite_runtim exampl instal packag copi run label_imagepi httpsgithubcomtensorflowtensorflowtreemastertensorflowliteexamplespython file probabl fail dont tensorflow librari instal fix edit line file python import tensorflow tf instead read python import tflite_runtimeinterpret tflite chang line python interpret tfliteinterpretermodel_pathargsmodel_fil read python interpret tfliteinterpretermodel_pathargsmodel_fil run label_imagepi that your execut tensorflow lite model learn detail interpret api read load run model pythoninferencemdloadandrunamodelinpython raspberri pi check video serieshttpswwwyoutubecomwatchvmnjxeybfnlistplqyhrroyvz_anznbgyvhusmcpno run object detect raspberri pi use tensorflow lite your use coral ml acceler check coral exampl githubhttpsgithubcomgooglecoraltflitetreemasterpythonexampl convert tensorflow model tensorflow lite read tensorflow lite converterconvert want build tflite_runtim wheel read build tensorflow lite python wheel packagebuild_cmake_pipmd tensorflow lite model maker overview tensorflow lite model maker librari simplifi process train tensorflow lite model use custom dataset use transfer learn reduc amount train data requir shorten train time support task model maker librari current support follow ml task click link guid train model support task task util imag classif tutorialhttpswwwtensorfloworglitetutorialsmodel_maker_image_classif apihttpswwwtensorfloworgliteapi_docspythontflite_model_makerimage_classifi classifi imag predefin categori object detect tutorialhttpswwwtensorfloworglitetutorialsmodel_maker_object_detect apihttpswwwtensorfloworgliteapi_docspythontflite_model_makerobject_detector detect object real time text classif tutorialhttpswwwtensorfloworglitetutorialsmodel_maker_text_classif apihttpswwwtensorfloworgliteapi_docspythontflite_model_makertext_classifi classifi text predefin categori bert question answer tutorialhttpswwwtensorfloworglitetutorialsmodel_maker_question_answ apihttpswwwtensorfloworgliteapi_docspythontflite_model_makerquestion_answ find answer certain context given question bert audio classif tutorialhttpswwwtensorfloworglitetutorialsmodel_maker_audio_classif apihttpswwwtensorfloworgliteapi_docspythontflite_model_makeraudio_classifi classifi audio predefin categori recommend demohttpsgithubcomtensorflowexamplesblobmastertensorflow_exampleslitemodel_makerdemorecommendation_demopi apihttpswwwtensorfloworgliteapi_docspythontflite_model_makerrecommend recommend item base context inform ondevic scenario task support pleas first use tensorflowhttpswwwtensorfloworgguid retrain tensorflow model transfer learn follow guid like imageshttpswwwtensorfloworgtutorialsimagestransfer_learn texthttpswwwtensorfloworgofficial_modelsfine_tuning_bert audiohttpswwwtensorfloworgtutorialsaudiotransfer_learning_audio train scratch converthttpswwwtensorfloworgliteconvert tensorflow lite model endtoend exampl model maker allow train tensorflow lite model use custom dataset line code exampl step train imag classif model python tflite_model_mak import image_classifi tflite_model_makerimage_classifi import dataload load input data specif ondevic ml app data dataloaderfrom_folderflower_photo train_data test_data datasplit custom tensorflow model model image_classifiercreatetrain_data evalu model loss accuraci modelevaluatetest_data export tensorflow lite model label file export_dir modelexportexport_dirtmp detail see imag classif guidehttpswwwtensorfloworglitetutorialsmodel_maker_image_classif instal two way instal model maker instal prebuilt pip packag shell pip instal tflitemodelmak want instal nightli version pleas follow command shell pip instal tflitemodelmakernightli clone sourc code github instal shell git clone httpsgithubcomtensorflowexampl cd examplestensorflow_exampleslitemodel_makerpip_packag pip instal e tensorflow lite model maker depend tensorflow pip packagehttpswwwtensorfloworginstallpip gpu driver pleas refer tensorflow gpu guidehttpswwwtensorfloworginstallgpu instal guidehttpswwwtensorfloworginstal python api refer find model maker public api api referencehttpswwwtensorfloworgliteapi_docspythontflite_model_mak process input output data tensorflow lite support librari note tensorflow lite support librari current support android mobil applic develop typic interact type object bitmap primit integ howev tensorflow lite interpret api run ondevic machin learn model use tensor form bytebuff difficult debug manipul tensorflow lite android support libraryhttpsgithubcomtensorflowtflitesupporttreemastertensorflow_lite_supportjava design help process input output tensorflow lite model make tensorflow lite interpret easier use get start import gradl depend set copi tflite model file asset directori android modul model run specifi file compress add tensorflow lite librari modul buildgradl file java android set specifi tflite file compress app apk aaptopt nocompress tflite depend depend import tflite depend implement orgtensorflowtensorflowlitenightlysnapshot gpu deleg librari option depend need implement orgtensorflowtensorflowlitegpunightlysnapshot implement orgtensorflowtensorflowlitesupportnightlysnapshot note start version android gradl plugin tflite ad nocompress list default aaptopt need anymor explor tensorflow lite support librari aar host mavencentralhttpssearchmavenorgartifactorgtensorflowtensorflowlitesupport differ version support librari basic imag manipul convers tensorflow lite support librari suit basic imag manipul method crop resiz use creat imagepreprocessor add requir oper convert imag tensor format requir tensorflow lite interpret creat tensorimag use input java import orgtensorflowlitedatatyp import orgtensorflowlitesupportimageimageprocessor import orgtensorflowlitesupportimagetensorimag import orgtensorflowlitesupportimageopsresizeop initi code creat imageprocessor op requir op pleas refer imageprocessor architectur section readm imageprocessor imageprocessor new imageprocessorbuild addnew resizeop resizeopresizemethodbilinear build creat tensorimag object creat tensor correspond tensor type uint case tensorflow lite interpret need tensorimag tensorimag new tensorimagedatatypeuint analysi code everi frame preprocess imag tensorimageloadbitmap tensorimag imageprocessorprocesstensorimag datatyp tensor read metadata exractor libraryconvertmetadatamdreadthemetadatafrommodel well model inform basic audio data process tensorflow lite support librari also defin tensoraudio class wrap basic audio data process method mostli use togeth audiorecordhttpsdeveloperandroidcomreferenceandroidmediaaudiorecord captur audio sampl ring buffer java import androidmediaaudiorecord import orgtensorflowlitesupportaudiotensoraudio creat audiorecord instanc audiorecord record audiorecord creat tensoraudio object android audioformat tensoraudio tensoraudio new tensoraudiorecordgetformat size load audio sampl avail audiorecord without block tensoraudioloadrecord get tensorbuff infer tensorbuff buffer tensoraudiogettensorbuff creat output object run model run model need creat contain object store result java import orgtensorflowlitedatatyp import orgtensorflowlitesupporttensorbuffertensorbuff creat contain result specifi quantiz model henc datatyp defin uint bit unsign integ tensorbuff probabilitybuff tensorbuffercreatefixedsizenew int datatypeuint load model run infer java import javaniomappedbytebuff import orgtensorflowliteinterpreterfactori import orgtensorflowliteinterpreterapi initialis model tri mappedbytebuff tflitemodel fileutilloadmappedfileact mobilenet_v___quanttflit interpreterapi tflite new interpreterfactorycr tflitemodel new interpreterapiopt catch ioexcept e logetflitesupport error read model e run infer ifnul tflite tfliteruntimagegetbuff probabilitybuffergetbuff access result develop access output directli probabilitybuffergetfloatarray model produc quantiz output rememb convert result mobilenet quantiz model develop need divid output valu obtain probabl rang least like like categori option map result label develop also option map result label first copi text file contain label modul asset directori next load label file use follow code java import orgtensorflowlitesupportcommonfileutil final string associated_axis_label labelstxt liststr associatedaxislabel null tri associatedaxislabel fileutilloadlabelsthi associated_axis_label catch ioexcept e logetflitesupport error read label file e follow snippet demonstr associ probabl categori label java import javautilmap import orgtensorflowlitesupportcommontensorprocessor import orgtensorflowlitesupportcommonopsnormalizeop import orgtensorflowlitesupportlabeltensorlabel postprocessor dequant result tensorprocessor probabilityprocessor new tensorprocessorbuilderaddnew normalizeop build null associatedaxislabel map label correspond probabl tensorlabel label new tensorlabelassociatedaxislabel probabilityprocessorprocessprobabilitybuff creat map access result base label mapstr float floatmap labelsgetmapwithfloatvalu current usecas coverag current version tensorflow lite support librari cover common data type float uint imag audio array object input output tflite model basic imag oper crop imag resiz rotat normal quantiz file util futur version improv support textrel applic imageprocessor architectur design imageprocessor allow imag manipul oper defin front optimis build process imageprocessor current support three basic preprocess oper describ three comment code snippet java import orgtensorflowlitesupportcommonopsnormalizeop import orgtensorflowlitesupportcommonopsquantizeop import orgtensorflowlitesupportimageopsresizeop import orgtensorflowlitesupportimageopsresizewithcroporpadop import orgtensorflowlitesupportimageopsrotop int width bitmapgetwidth int height bitmapgetheight int size height width width height imageprocessor imageprocessor new imageprocessorbuild center crop imag largest squar possibl addnew resizewithcroporpadops size resiz use bilinear nearest neighbour addnew resizeop resizeopresizemethodbilinear rotat counterclockwis degre increment addnew rotoprotatedegre addnew normalizeop addnew quantizeop build see detail hereconvertmetadatamdnormalizationandquantizationparamet normal quantiz eventu goal support librari support tfimagehttpswwwtensorfloworgapi_docspythontfimag transform mean transform tensorflow implement independ oper system develop also welcom creat custom processor import case align train process ie preprocess appli train infer increas reproduc quantiz initi input output object tensorimag tensorbuff need specifi type datatypeuint datatypefloat java tensorimag tensorimag new tensorimagedatatypeuint tensorbuff probabilitybuff tensorbuffercreatefixedsizenew int datatypeuint tensorprocessor use quantiz input tensor dequant output tensor exampl process quantiz output tensorbuff develop use dequantizeop dequant result float point probabl java import orgtensorflowlitesupportcommontensorprocessor postprocessor dequant result tensorprocessor probabilityprocessor new tensorprocessorbuilderaddnew dequantizeop build tensorbuff dequantizedbuff probabilityprocessorprocessprobabilitybuff quantiz paramet tensor read metadata exractor libraryconvertmetadatamdreadthemetadatafrommodel gener model interfac use metadata use tensorflow lite metadataconvertmetadata develop gener wrapper code enabl integr android develop graphic interfac android studio ml model bindingmlbind easiest use requir customis use command line tool tensorflow lite codegencodegen also avail use android studio ml model bind mlbind tensorflow lite model enhanc metadataconvertmetadatamd develop use android studio ml model bind automat configur set project gener wrapper class base model metadata wrapper code remov need interact directli bytebuff instead develop interact tensorflow lite model type object bitmap rect note requir android studio httpsdeveloperandroidcomstudio import tensorflow lite model android studio rightclick modul would like use tflite model click file new tensorflow lite model rightclick menu access tensorflow lite import functionalityimagesandroidright_click_menupng select locat tflite file note tool configur modul depend behalf ml model bind depend automat insert android modul buildgradl file option select second checkbox import tensorflow gpu want use gpu acceler import dialog tflite modelimagesandroidimport_dialogpng click finish follow screen appear import success start use model select kotlin java copi past code sampl code section get back screen doubl click tflite model ml directori android studio model detail page android studioimagesandroidmodel_detailspng acceler model infer acceler ml model bind provid way develop acceler code use deleg number thread note tensorflow lite interpret must creat thread run otherwis tflitegpudeleg invok gpudeleg must run thread initi may occur step check modul buildgradl file contain follow depend java depend tflite gpu deleg requir implement orgtensorflowtensorflowlitegpu step detect gpu run devic compat tensorflow gpu deleg run model use multipl cpu thread div devsiteselector section hkotlinh ppre classprettyprint langkotlin import orgtensorflowlitegpucompatibilitylist import orgtensorflowlitegpugpudeleg val compatlist compatibilitylist val option ifcompatlistisdelegatesupportedonthisdevic devic support gpu add gpu deleg modeloptionsbuildersetdevicemodeldevicegpubuild els gpu support run thread modeloptionsbuildersetnumthreadsbuild initi model usual feed option object val mymodel mymodelnewinstancecontext option run infer per sampl code prep section section hjavah ppre classprettyprint langjava import orgtensorflowlitesupportmodelmodel import orgtensorflowlitegpucompatibilitylist import orgtensorflowlitegpugpudeleg initi interpret gpu deleg modelopt option compatibilitylist compatlist compatibilitylist ifcompatlistisdelegatesupportedonthisdevic devic support gpu add gpu deleg option modeloptionsbuildersetdevicemodeldevicegpubuild els gpu support run thread option modeloptionsbuildersetnumthreadsbuild mymodel mymodel new mymodelnewinstancecontext option run infer per sampl code prep section devsiteselector div gener model interfac tensorflow lite code gener codegen note tensorflow lite wrapper code gener current support android tensorflow lite model enhanc metadataconvertmetadatamd develop use tensorflow lite android wrapper code gener creat platform specif wrapper code wrapper code remov need interact directli bytebuff instead develop interact tensorflow lite model type object bitmap rect use code gener depend complet tensorflow lite model metadata entri refer codegen usag section relev field metadata_schemafbshttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportmetadatametadata_schemafb see codegen tool pars field gener wrapper code need instal follow tool termin sh pip instal tflitesupport complet code gener use use follow syntax sh tflite_codegen modelmodel_with_metadatamobilenet_v___quantizedtflit package_nameorgtensorflowliteclassifi model_class_namemyclassifiermodel destinationclassify_wrapp result code locat destin directori use googl colabhttpscolabresearchgooglecom remot environ mayb easier zip result zip archiv download android studio project python zip gener code zip r classify_wrapperzip classify_wrapp download archiv googlecolab import file filesdownloadclassify_wrapperzip use gener code step import gener code unzip gener code necessari directori structur root gener code assum src_root open android studio project would like use tensorflow lite model import gener modul file new import modul select src_root use exampl directori modul import would call classify_wrapp step updat app buildgradl file app modul consum gener librari modul android section add follow build aaptopt nocompress tflite note start version android gradl plugin tflite ad nocompress list default aaptopt need anymor depend section add follow build implement projectclassify_wrapp step use model java initi model myclassifiermodel myimageclassifi null tri myimageclassifi new myclassifiermodelthi catch ioexcept io error read model ifnul myimageclassifi set input bitmap call inputbitmap myclassifiermodelinput input myimageclassifiercreateinput inputsloadimageinputbitmap run model myclassifiermodeloutput output myimageclassifierruninput retriev result mapstr float labeledprob outputsgetprob acceler model infer gener code provid way develop acceler code use delegatesperformancedelegatesmd number thread set initiat model object take three paramet context context android activ servic option devic tflite acceler deleg exampl gpudeleg nnapideleg option numthread number thread use run model default one exampl use nnapi deleg three thread initi model like java tri myimageclassifi new myclassifiermodelthi modeldevicennapi catch ioexcept io error read model troubleshoot get javaiofilenotfoundexcept file open file descriptor probabl compress error insert follow line android section app modul use librari modul build aaptopt nocompress tflite note start version android gradl plugin tflite ad nocompress list default aaptopt need anymor tensorflow lite infer metadata inferenc model metadataconvertmetadatamd easi line code tensorflow lite metadata contain rich descript model use model empow code gener automat gener infer code use android studio ml bind featurecodegenmdmlbind tensorflow lite android code generatorcodegenmdcodegen also use configur custom infer pipelin tool librari tensorflow lite provid varieti tool librari serv differ tier deploy requir follow gener model interfac android code gener two way automat gener necessari android wrapper code tensorflow lite model metadata android studio ml model bindingcodegenmdmlbind tool avail within android studio import tensorflow lite model graphic interfac android studio automat configur set project gener wrapper class base model metadata tensorflow lite code generatorcodegenmdcodegen execut gener model interfac automat base metadata current support android java wrapper code remov need interact directli bytebuff instead develop interact tensorflow lite model type object bitmap rect android studio user also get access codegen featur android studio ml bindingcodegenmdmlbind leverag outofbox api tensorflow lite task librari tensorflow lite task librarytask_libraryoverviewmd provid optim readytous model interfac popular machin learn task imag classif question answer etc model interfac specif design task achiev best perform usabl task librari work crossplatform support java c swift build custom infer pipelin tensorflow lite support librari tensorflow lite support librarylite_supportmd crossplatform librari help custom model interfac build infer pipelin contain varieti util method data structur perform prepost process data convers also design match behavior tensorflow modul tfimag tftext ensur consist train inferenc explor pretrain model metadata brows tensorflow lite host modelshttpswwwtensorfloworgliteguidehosted_model tensorflow hubhttpstfhubdevsdeploymentformatlit download pretrain model metadata vision text task also see differ option visual metadataconvertmetadatamdvisualizethemetadata tensorflow lite support github repo visit tensorflow lite support github repohttpsgithubcomtensorflowtflitesupport exampl sourc code let us know feedback creat new github issuehttpsgithubcomtensorflowtflitesupportissuesnew integr imag segment imag segment predict whether pixel imag associ certain class contrast hrefmodelsobject_detectionoverviewmdobject detectiona detect object rectangular region hrefmodelsimage_classificationoverviewmdimag classificationa classifi overal imag see introduct imag segmentationmodelssegmentationoverviewmd inform imag segment use task librari imagesegment api deploy custom imag segment pretrain one mobil app key featur imagesegment api input imag process includ rotat resiz color space convers label map local two output type categori mask confid mask color label display purpos support imag segment model follow model guarante compat imagesegment api pretrain imag segment model tensorflow hubhttpstfhubdevtensorflowcollectionslitetasklibraryimagesegment custom model meet model compat requirementsmodelcompatibilityrequir run infer java see imag segment refer apphttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_segmentationandroid exampl use imagesegment android app step import gradl depend set copi tflite model file asset directori android modul model run specifi file compress add tensorflow lite librari modul buildgradl file java android set specifi tflite file compress app apk aaptopt nocompress tflite depend depend import task vision librari depend nnapi includ implement orgtensorflowtensorflowlitetaskvis import gpu deleg plugin librari gpu infer implement orgtensorflowtensorflowlitegpudelegateplugin note start version android gradl plugin tflite ad nocompress list default aaptopt need anymor step use model java initi imagesegmenteropt option imagesegmenteroptionsbuild setbaseoptionsbaseoptionsbuilderusegpubuild setoutputtypeoutputtypeconfidence_mask build imagesegment imagesegment imagesegmentercreatefromfileandoptionscontext modelfil option run infer listsegment result imagesegmentersegmentimag see sourc code javadochttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportjavasrcjavaorgtensorflowlitetaskvisionsegmenterimagesegmenterjava option configur imagesegment run infer c c initi imagesegmenteropt option optionsmutable_base_optionsmutable_model_fileset_file_namemodel_fil stdunique_ptrimagesegment image_segment imagesegmentercreatefromoptionsoptionsvalu run infer const segmentationresult result image_segmentersegmentframe_buffervalu see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctaskvisionimage_segmenterh option configur imagesegment exampl result exampl segment result deeplab_vhttpstfhubdevtensorflowlitemodeldeeplabvmetadata gener segment model avail tensorflow hub img srcimagesplanejpg altplan width color legend r g b index class name background r g b index class name aeroplan omit multipl line concis r g b index class name train r g b index class name tv tip use color picker output png file inspect output mask legend segment categori mask look like img srcimagessegmentationoutputpng altsegmentationoutput width tri simpl cli demo tool imagesegmenterhttpsgithubcomtensorflowtflitesupporttreemastertensorflow_lite_supportexamplestaskvisiondesktopimagesegment model test data model compat requir imagesegment api expect tflite model mandatori tflite model metadataconvertmetadatamd see exampl creat metadata imag segment use tensorflow lite metadata writer apiconvertmetadata_writer_tutorialipynbimage_segment input imag tensor ktfliteuintktflitefloat imag input size batch x height x width x channel batch infer support batch requir rgb input support channel requir type ktflitefloat normalizationopt requir attach metadata input normal output mask tensor ktfliteuintktflitefloat tensor size batch x mask_height x mask_width x num_class batch requir mask_width mask_height dimens segment mask produc model num_class number class support model option recommend label map attach associatedfil type tensor_axis_label contain one label per line first associatedfil use fill label field name class_nam c result display_nam field fill associatedfil whose local match display_names_local field imagesegmenteropt use creation time en default ie english none avail index field result fill integr bert question answer task librari bertquestionanswer api load bert model answer question base content given passag inform see document questionansw model hrefmodelsbert_qaoverviewmdherea key featur bertquestionanswer api take two text input question context output list possibl answer perform outofgraph wordpiec sentencepiec token input text support bertquestionanswer model follow model compat bertnlclassifi api model creat tensorflow lite model maker bert question answerhttpswwwtensorfloworglitetutorialsmodel_maker_question_answ pretrain bert model tensorflow hubhttpstfhubdevtensorflowcollectionslitetasklibrarybertquestionanswer custom model meet model compat requirementsmodelcompatibilityrequir run infer java step import gradl depend set copi tflite model file asset directori android modul model run specifi file compress add tensorflow lite librari modul buildgradl file java android set specifi tflite file compress app apk aaptopt nocompress tflite depend depend import task text librari depend nnapi includ implement orgtensorflowtensorflowlitetasktext note start version android gradl plugin tflite ad nocompress list default aaptopt need anymor step run infer use api java initi bertquestionanswereropt option bertquestionanswereroptionsbuild setbaseoptionsbaseoptionsbuildersetnumthreadsbuild build bertquestionanswer answer bertquestionanswerercreatefromfileandopt androidcontext modelfil option run infer listqaansw answer answereranswercontextofthequest questiontoask see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportjavasrcjavaorgtensorflowlitetasktextqabertquestionanswererjava detail run infer swift step import cocoapod add tensorflowlitetasktext pod podfil target myswiftappwithtaskapi use_framework pod tensorflowlitetasktext end step run infer use api swift initi let mobilebertanswer tflbertquestionanswererquestionanswer modelpath mobilebertmodelpath run infer let answer mobilebertanswereransw context context question question see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportiostasktextqasourcestflbertquestionanswererh detail run infer c c initi bertquestionanswereropt option optionsmutable_base_optionsmutable_model_fileset_file_namemodel_fil stdunique_ptrbertquestionanswer answer bertquestionanswerercreatefromoptionsoptionsvalu run infer stdvectorqaansw positive_result answereranswercontext_of_quest question_to_ask see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctasktextqabert_question_answererh detail exampl result exampl answer result albert modelhttpstfhubdevtensorflowlitemodelalbert_lite_basesquadv context amazon rainforest altern amazon jungl also known english amazonia moist broadleaf tropic rainforest amazon biom cover amazon basin south america basin encompass km sq mi km sq mi cover rainforest region includ territori belong nine nation question amazon rainforest answer answer south america logit start_index end_index answer amazon basin south america logit start_index end_index answer amazon basin south america logit start_index end_index answer amazon biom cover amazon basin south america logit start_index end_index answer amazon basin south america logit start_index end_index tri simpl cli demo tool bertquestionanswererhttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportexamplestasktextdesktopreadmemdbertquestionanswer model test data model compat requir bertquestionanswer api expect tflite model mandatori tflite model metadataconvertmetadatamd metadata meet follow requir input_process_unit wordpiecesentencepiec token input tensor name id mask segment_id output token output tensor name end_logit start_logit indic answer rel posit context integr audio classifi audio classif common use case machin learn classifi sound type exampl identifi bird speci song task librari audioclassifi api use deploy custom audio classifi pretrain one mobil app key featur audioclassifi api input audio process eg convert pcm bit encod pcm float encod manipul audio ring buffer label map local support multihead classif model support singlelabel multilabel classif score threshold filter result topk classif result label allowlist denylist support audio classifi model follow model guarante compat audioclassifi api model creat tensorflow lite model maker audio classificationhttpswwwtensorfloworgliteapi_docspythontflite_model_makeraudio_classifi pretrain audio event classif model tensorflow hubhttpstfhubdevgooglelitemodelyamnetclassificationtflit custom model meet model compat requirementsmodelcompatibilityrequir run infer java see audio classif refer apphttpsgithubcomtensorflowexamplestreemasterliteexamplessound_classificationandroid exampl use audioclassifi android app step import gradl depend set copi tflite model file asset directori android modul model run specifi file compress add tensorflow lite librari modul buildgradl file java android set specifi tflite file compress build apk packag aaptopt nocompress tflite depend depend import audio task librari depend nnapi includ implement orgtensorflowtensorflowlitetaskaudio import gpu deleg plugin librari gpu infer implement orgtensorflowtensorflowlitegpudelegateplugin note start version android gradl plugin tflite ad nocompress list default aaptopt need anymor step use model java initi audioclassifieropt option audioclassifieroptionsbuild setbaseoptionsbaseoptionsbuilderusegpubuild setmaxresult build audioclassifi classifi audioclassifiercreatefromfileandoptionscontext modelfil option start record audiorecord record classifiercreateaudiorecord recordstartrecord load latest audio sampl tensoraudio audiotensor classifiercreateinputtensoraudio audiotensorloadrecord run infer listclassif result audioclassifierclassifyaudiotensor see sourc code javadochttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportjavasrcjavaorgtensorflowlitetaskaudioclassifieraudioclassifierjava option configur audioclassifi run infer c c initi audioclassifieropt option optionsmutable_base_optionsmutable_model_fileset_file_namemodel_fil stdunique_ptraudioclassifi audio_classifi audioclassifiercreatefromoptionsoptionsvalu creat input audio buffer data int input_buffer_s audio_classifiergetrequiredinputbuffers const stdunique_ptraudiobuff audio_buff audiobuffercreateaudio_dataget input_buffer_s kaudioformatvalu run infer const classificationresult result audio_classifierclassifyaudio_buffervalu see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctaskaudioaudio_classifierh option configur audioclassifi model compat requir audioclassifi api expect tflite model mandatori tflite model metadataconvertmetadatamd see exampl creat metadata audio classifi use tensorflow lite metadata writer apiconvertmetadata_writer_tutorialipynbaudio_classifi compat audio classifi model meet follow requir input audio tensor ktflitefloat audio clip size batch x sampl batch infer support batch requir multichannel model channel need interleav output score tensor ktflitefloat x n array n repres class number option recommend label map associatedfil type tensor_axis_label contain one label per line first associatedfil use fill label field name class_nam c result display_nam field fill associatedfil whose local match display_names_local field audioclassifieropt use creation time en default ie english none avail index field result fill integr imag classifi imag classif common use machin learn identifi imag repres exampl might want know type anim appear given pictur task predict imag repres call imag classif imag classifi train recogn variou class imag exampl model might train recogn photo repres three differ type anim rabbit hamster dog see introduct imag classificationmodelsimage_classificationoverviewmd inform imag classifi use task librari imageclassifi api deploy custom imag classifi pretrain one mobil app key featur imageclassifi api input imag process includ rotat resiz color space convers region interest input imag label map local score threshold filter result topk classif result label allowlist denylist support imag classifi model follow model guarante compat imageclassifi api model creat tensorflow lite model maker imag classficationhttpswwwtensorfloworglitetutorialsmodel_maker_image_classif pretrain imag classif model tensorflow lite host modelshttpswwwtensorfloworgliteguidehosted_modelsimage_classif pretrain imag classif model tensorflow hubhttpstfhubdevtensorflowcollectionslitetasklibraryimageclassifi model creat automl vision edg imag classificationhttpscloudgooglecomvisionautomldocsedgequickstart custom model meet model compat requirementsmodelcompatibilityrequir run infer java see imag classif refer apphttpsgithubcomtensorflowexamplesblobmasterliteexamplesimage_classificationandroidexplore_the_codemd exampl use imageclassifi android app step import gradl depend set copi tflite model file asset directori android modul model run specifi file compress add tensorflow lite librari modul buildgradl file java android set specifi tflite file compress app apk aaptopt nocompress tflite depend depend import task vision librari depend nnapi includ implement orgtensorflowtensorflowlitetaskvis import gpu deleg plugin librari gpu infer implement orgtensorflowtensorflowlitegpudelegateplugin step use model java initi imageclassifieropt option imageclassifieroptionsbuild setbaseoptionsbaseoptionsbuilderusegpubuild setmaxresult build imageclassifi imageclassifi imageclassifiercreatefromfileandopt context modelfil option run infer listclassif result imageclassifierclassifyimag see sourc code javadochttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportjavasrcjavaorgtensorflowlitetaskvisionclassifierimageclassifierjava option configur imageclassifi run infer c c initi imageclassifieropt option optionsmutable_base_optionsmutable_model_fileset_file_namemodel_fil stdunique_ptrimageclassifi image_classifi imageclassifiercreatefromoptionsoptionsvalu run infer const classificationresult result image_classifierclassifyframe_buffervalu see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctaskvisionimage_classifierh option configur imageclassifi exampl result exampl classif result bird classifierhttpstfhubdevgooglelitemodelaiyvisionclassifierbirds_v img srcimagessparrowjpg altsparrow width result rank index score class name mbwb display name passer domesticu rank index score class name mbwbt display name passer montanu rank index score class name mbwmm display name passer italia tri simpl cli demo tool imageclassifierhttpsgithubcomtensorflowtflitesupporttreemastertensorflow_lite_supportexamplestaskvisiondesktopimageclassifi model test data model compat requir imageclassifi api expect tflite model mandatori tflite model metadataconvertmetadatamd see exampl creat metadata imag classifi use tensorflow lite metadata writer apiconvertmetadata_writer_tutorialipynbimage_classifi compat imag classifi model meet follow requir input imag tensor ktfliteuintktflitefloat imag input size batch x height x width x channel batch infer support batch requir rgb input support channel requir type ktflitefloat normalizationopt requir attach metadata input normal output score tensor ktfliteuintktflitefloat n class either dimens ie x n x x x n option recommend label map associatedfil type tensor_axis_label contain one label per line see exampl label filehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportmetadatapythonteststestdataimage_classifierlabelstxt first associatedfil use fill label field name class_nam c result display_nam field fill associatedfil whose local match display_names_local field imageclassifieropt use creation time en default ie english none avail index field result fill integr bert natur languag classifi task librari bertnlclassifi api similar nlclassifi classifi input text differ categori except api special tailor bert relat model requir wordpiec sentencepiec token outsid tflite model key featur bertnlclassifi api take singl string input perform classif string output label score pair classif result perform outofgraph wordpiecehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctexttokenizersbert_tokenizerh sentencepiecehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctexttokenizerssentencepiece_tokenizerh token input text support bertnlclassifi model follow model compat bertnlclassifi api bert model creat tensorflow lite model maker text classficationhttpswwwtensorfloworglitetutorialsmodel_maker_text_classif custom model meet model compat requirementsmodelcompatibilityrequir run infer java step import gradl depend set copi tflite model file asset directori android modul model run specifi file compress add tensorflow lite librari modul buildgradl file java android set specifi tflite file compress app apk aaptopt nocompress tflite depend depend import task text librari depend nnapi includ implement orgtensorflowtensorflowlitetasktext note start version android gradl plugin tflite ad nocompress list default aaptopt need anymor step run infer use api java initi bertnlclassifieropt option bertnlclassifieroptionsbuild setbaseoptionsbaseoptionsbuildersetnumthreadsbuild build bertnlclassifi classifi bertnlclassifiercreatefromfileandoptionscontext modelfil option run infer listcategori result classifierclassifyinput see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportjavasrcjavaorgtensorflowlitetasktextnlclassifierbertnlclassifierjava detail run infer swift step import cocoapod add tensorflowlitetasktext pod podfil target myswiftappwithtaskapi use_framework pod tensorflowlitetasktext end step run infer use api swift initi let bertnlclassifi tflbertnlclassifierbertnlclassifi modelpath bertmodelpath run infer let categori bertnlclassifierclassifytext input see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportiostasktextnlclassifiersourcestflbertnlclassifierh detail run infer c c initi bertnlclassifieropt option optionsmutable_base_optionsmutable_model_fileset_file_namemodel_fil stdunique_ptrbertnlclassifi classifi bertnlclassifiercreatefromoptionsoptionsvalu run infer stdvectorcorecategori categori classifierclassifykinput see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctasktextnlclassifierbert_nl_classifierh detail exampl result exampl classif result movi review use mobileberthttpswwwtensorfloworglitetutorialsmodel_maker_text_classif model model maker input charm often affect journey output categori neg categori posit tri simpl cli demo tool bertnlclassifierhttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportexamplestasktextdesktopreadmemdbertnlclassifi model test data model compat requir betnlclassifi api expect tflite model mandatori tflite model metadataconvertmetadatamd metadata meet follow requir input_process_unit wordpiecesentencepiec token input tensor name id mask segment_id output token output tensor type float option attach label file label file attach file plain text file one label per line number label match number categori model output integr object detector object detector identifi known set object might present provid inform posit within given imag video stream object detector train detect presenc locat multipl class object exampl model might train imag contain variou piec fruit along _label_ specifi class fruit repres eg appl banana strawberri data specifi object appear imag see introduct object detectionmodelsobject_detectionoverviewmd inform object detector use task librari objectdetector api deploy custom object detector pretrain one mobil app key featur objectdetector api input imag process includ rotat resiz color space convers label map local score threshold filter result topk detect result label allowlist denylist support object detector model follow model guarante compat objectdetector api pretrain object detect model tensorflow hubhttpstfhubdevtensorflowcollectionslitetasklibraryobjectdetector model creat automl vision edg object detectionhttpscloudgooglecomvisionautomlobjectdetectiondoc model creat tensorflow lite model maker object detectorhttpswwwtensorfloworgliteguidemodel_mak custom model meet model compat requirementsmodelcompatibilityrequir run infer java see object detect refer apphttpsgithubcomtensorflowexamplestreemasterliteexamplesobject_detectionandroid exampl use objectdetector android app step import gradl depend set copi tflite model file asset directori android modul model run specifi file compress add tensorflow lite librari modul buildgradl file java android set specifi tflite file compress app apk aaptopt nocompress tflite depend depend import task vision librari depend nnapi includ implement orgtensorflowtensorflowlitetaskvis import gpu deleg plugin librari gpu infer implement orgtensorflowtensorflowlitegpudelegateplugin note start version android gradl plugin tflite ad nocompress list default aaptopt need anymor step use model java initi objectdetectoropt option objectdetectoroptionsbuild setbaseoptionsbaseoptionsbuilderusegpubuild setmaxresult build objectdetector objectdetector objectdetectorcreatefromfileandopt context modelfil option run infer listdetect result objectdetectordetectimag see sourc code javadochttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportjavasrcjavaorgtensorflowlitetaskvisiondetectorobjectdetectorjava option configur objectdetector run infer c c initi objectdetectoropt option optionsmutable_base_optionsmutable_model_fileset_file_namemodel_fil stdunique_ptrobjectdetector object_detector objectdetectorcreatefromoptionsoptionsvalu run infer const detectionresult result object_detectordetectframe_buffervalu see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctaskvisionobject_detectorh option configur objectdetector exampl result exampl detect result ssd mobilenet vhttpstfhubdevtensorflowlitemodelssd_mobilenet_vmetadata tensorflow hub img srcimagesdogsjpg altdog width result detect red box x w h top class index score class name dog detect green box x w h top class index score class name dog render bound box onto input imag img srcimagesdetectionoutputpng altdetect output width tri simpl cli demo tool objectdetectorhttpsgithubcomtensorflowtflitesupporttreemastertensorflow_lite_supportexamplestaskvisiondesktopobjectdetector model test data model compat requir objectdetector api expect tflite model mandatori tflite model metadataconvertmetadatamd see exampl creat metadata object detector use tensorflow lite metadata writer apiconvertmetadata_writer_tutorialipynbobject_detector compat object detector model meet follow requir input imag tensor ktfliteuintktflitefloat imag input size batch x height x width x channel batch infer support batch requir rgb input support channel requir type ktflitefloat normalizationopt requir attach metadata input normal output tensor must output detectionpostprocess op ie locat tensor ktflitefloat tensor size x num_result x inner array repres bound box form top left right bottom boundingboxproperti requir attach metadata must specifi typeboundari coordinate_typeratio class tensor ktflitefloat tensor size x num_result valu repres integ index class option recommend label map attach associatedfil type tensor_value_label contain one label per line see exampl label filehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportmetadatapythonteststestdataobject_detectorlabelmaptxt first associatedfil use fill class_nam field result display_nam field fill associatedfil whose local match display_names_local field objectdetectoropt use creation time en default ie english none avail index field result fill score tensor ktflitefloat tensor size x num_result valu repres score detect object number detect tensor ktflitefloat integ num_result tensor size integr natur languag classifi task librari nlclassifi api classifi input text differ categori versatil configur api handl text classif model key featur nlclassifi api take singl string input perform classif string output label score pair classif result option regex token avail input text configur adapt differ classif model support nlclassifi model follow model guarante compat nlclassifi api hrefmodelstext_classificationoverviewmdmovi review sentiment classificationa model model average_word_vec spec creat tensorflow lite model maker text classficationhttpswwwtensorfloworglitetutorialsmodel_maker_text_classif custom model meet model compat requirementsmodelcompatibilityrequir run infer java see text classif refer apphttpsgithubcomtensorflowexamplesblobmasterliteexamplestext_classificationandroidlib_task_apisrcmainjavaorgtensorflowliteexamplestextclassificationclienttextclassificationclientjava exampl use nlclassifi android app step import gradl depend set copi tflite model file asset directori android modul model run specifi file compress add tensorflow lite librari modul buildgradl file java android set specifi tflite file compress app apk aaptopt nocompress tflite depend depend import task vision librari depend nnapi includ implement orgtensorflowtensorflowlitetasktext import gpu deleg plugin librari gpu infer implement orgtensorflowtensorflowlitegpudelegateplugin note start version android gradl plugin tflite ad nocompress list default aaptopt need anymor step run infer use api java initi use nlclassifieropt configur input output tensor nlclassifieropt option nlclassifieroptionsbuild setbaseoptionsbaseoptionsbuilderusegpubuild setinputtensornameinput_tensor_nam setoutputscoretensornameoutput_score_tensor_nam build nlclassifi classifi nlclassifiercreatefromfileandoptionscontext modelfil option run infer listcategori result classifierclassifyinput see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportjavasrcjavaorgtensorflowlitetasktextnlclassifiernlclassifierjava option configur nlclassifi run infer swift step import cocoapod add tensorflowlitetasktext pod podfil target myswiftappwithtaskapi use_framework pod tensorflowlitetasktext end step run infer use api swift initi var modeloptionstflnlclassifieropt tflnlclassifieropt modeloptionsinputtensornam inputtensornam modeloptionsoutputscoretensornam outputscoretensornam let nlclassifi tflnlclassifiernlclassifi modelpath modelpath option modelopt run infer let categori nlclassifierclassifytext input see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportiostasktextnlclassifiersourcestflnlclassifierh detail run infer c c initi nlclassifieropt option optionsmutable_base_optionsmutable_model_fileset_file_namemodel_fil stdunique_ptrnlclassifi classifi nlclassifiercreatefromoptionsoptionsvalu run infer stdvectorcorecategori categori classifierclassifykinput see sourc codehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctasktextnlclassifiernl_classifierh detail exampl result exampl classif result movi review modelhttpswwwtensorfloworglitemodelstext_classificationoverview input wast time output categori neg categori posit tri simpl cli demo tool nlclassifierhttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportexamplestasktextdesktopreadmemdnlclassifi model test data model compat requir depend use case nlclassifi api load tflite model without tflite model metadataconvertmetadatamd see exampl creat metadata natur languag classifi use tensorflow lite metadata writer apiconvertmetadata_writer_tutorialipynbnl_classifi compat model meet follow requir input tensor ktflitestringktfliteint input model either ktflitestr tensor raw input string ktfliteint tensor regex token indic raw input string input type ktflitestr metadataconvertmetadatamd requir model input type ktfliteint regextoken need set input tensor metadatahttpswwwtensorfloworgliteconvertmetadata_writer_tutorialnatural_language_classifi output score tensor ktfliteuintktfliteintktfliteintktflitefloatktflitefloat mandatori output tensor score categori classifi type one int type dequant doublefloat correspond platform option associ file output tensor correspond metadataconvertmetadatamd categori label file plain text file one label per line number label match number categori model output see exmapl label filehttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportmetadatapythonteststestdatanl_classifierlabelstxt output label tensor ktflitestringktfliteint option output tensor label categori length output score tensor tensor present api use score indic classnam ignor associ label file present output score tensor metadata build task api hrefoverviewmdtensorflow lite task librarya provid prebuilt nativeandroidio api top infrastructur abstract tensorflow extend task api infrastructur build custom api model support exist task librari overview task api infrastructur twolay structur bottom c layer encapsul nativ tflite runtim top javaobjc layer commun c layer jni nativ wrapper implement tensorflow logic c minim cost maxim infer perform simplifi overal workflow across platform creat task class extend basetaskapihttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctaskcorebase_task_apih provid convers logic tflite model interfac task api interfac use javaobjc util creat correspond api tensorflow detail hidden deploy tflite model app without machin learn knowledg tensorflow lite provid prebuilt api popular hrefoverviewmdsupported_tasksvis nlp tasksa build api task use task api infrastructur div aligncenterprebuilt_task_apisimagesprebuilt_task_apissvg div aligncenterfigur prebuilt task api div alignleft build api task api infra c api tflite detail implement nativ api creat api object use one factori function get model result call function defin interfac sampl usag exampl use c bertquestionanswererhttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctasktextqabert_question_answererh mobileberthttpstfhubdevtensorflowlitemodelmobilebertdefault cpp char kbertmodelpath pathtomodeltflit creat api model file stdunique_ptrbertquestionanswer question_answer bertquestionanswerercreatefromfilekbertmodelpath char kcontext context question answer char kquestion question answer ask question stdvectorqaansw answer question_answereranswerkcontext kquestion answerstext best answer build api div aligncenternative_task_apiimagesnative_task_apisvg div aligncenterfigur nativ task api div alignleft build api objecty must provid follow inform extend basetaskapihttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctaskcorebase_task_apih determin api io api expos similar inputoutput across differ platform eg bertquestionanswer take two string stdstring context stdstring question input output vector possibl answer probabl stdvectorqaansw done specifi correspond type basetaskapi templat parameterhttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctaskcorebase_task_apihqtempl class outputtyp class inputtyp templat paramet specifi basetaskapiinferhttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctaskcorebase_task_apihqinferinputtyp arg function correct inputoutput type function directli call api client good practic wrap insid modelspecif function case bertquestionanswereransw cpp class bertquestionanswer public basetaskapi stdvectorqaansw outputtyp const stdstring const stdstring inputtyp model specif function deleg call basetaskapiinf stdvectorqaansw answerconst stdstring context const stdstring question return infercontext questionvalu provid convers logic api io inputoutput tensor model input output type specifi subclass also need implement type function basetaskapipreprocesshttpsgithubcomtensorflowtflitesupportblobceacbdeedebafcdbbdtensorflow_lite_supportcctaskcorebase_task_apihl basetaskapipostprocesshttpsgithubcomtensorflowtflitesupportblobceacbdeedebafcdbbdtensorflow_lite_supportcctaskcorebase_task_apihl two function provid inputshttpsgithubcomtensorflowtensorflowblobbeaffbdcbdeebfcctensorflowliteschemaschemafbsl outputshttpsgithubcomtensorflowtensorflowblobbeaffbdcbdeebfcctensorflowliteschemaschemafbsl tflite flatbuff subclass respons assign valu api io io tensor see complet implement exampl bertquestionanswererhttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctasktextqabert_question_answerercc cpp class bertquestionanswer public basetaskapi stdvectorqaansw outputtyp const stdstring const stdstring inputtyp convert api input tensor abslstatu bertquestionanswererpreprocess const stdvectortflitetensor input_tensor input tensor model const stdstring context const stdstring queri inputtyp api perform token input string popul id mask segmentid correspond input tensor populatetensorinput_id input_tensor populatetensorinput_mask input_tensor populatetensorsegment_id input_tensor return abslokstatu convert output tensor api output statusorstdvectorqaansw outputtyp bertquestionanswererpostprocess const stdvectorconst tflitetensor output_tensor output tensor model get startend logit predict result output tensor stdvectorfloat end_logit stdvectorfloat start_logit output_tensor end_logit float populatevectoroutput_tensor end_logit output_tensor start_logit float populatevectoroutput_tensor start_logit stdvectorqaanswerpo orig_result look indic vocabulari file build result return orig_result creat factori function api model file opresolverhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitecoreapiop_resolverh need initi tfliteinterpreterhttpsgithubcomtensorflowtensorflowblobmastertensorflowliteinterpreterh taskapifactoryhttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctaskcoretask_api_factoryh provid util function creat basetaskapi instanc note default taskapifactoryhttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportcctaskcoretask_api_factoryh provid builtinopresolverhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitekernelsregisterh model need custom op subset builtin op regist creat mutableopresolverhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitemutable_op_resolverh must also provid file associ model eg bertquestionanswer also addit file token vocabulari cpp class bertquestionanswer public basetaskapi stdvectorqaansw outputtyp const stdstring const stdstring inputtyp factori function creat api instanc statusorstdunique_ptrquestionanswer bertquestionanswerercreatebertquestionanswer const stdstring path_to_model model pass taskapifactori const stdstring path_to_vocab addit model specif file creat api object call one util taskapifactori stdunique_ptrbertquestionanswer api_to_init assign_or_return api_to_init coretaskapifactorycreatefromfilebertquestionanswer path_to_model abslmake_uniquetfliteopsbuiltinbuiltinopresolv knumlitethread perform addit model specif initi case build vocabulari vector vocab file api_to_initinitializevocabpath_to_vocab return api_to_init android api creat android api defin javakotlin interfac deleg logic c layer jni android api requir nativ api built first sampl usag exampl use java bertquestionanswererhttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportjavasrcjavaorgtensorflowlitetasktextqabertquestionanswererjava mobileberthttpstfhubdevtensorflowlitemodelmobilebertdefault java string bert_model_fil pathtomodeltflit string vocab_fil pathtovocabtxt creat api model file vocabulari file bertquestionanswer bertquestionanswer bertquestionanswerercreatebertquestionanswer applicationprovidergetapplicationcontext bert_model_fil vocab_fil string context context question answer string question question answer ask question listqaansw answer bertquestionanswereranswercontext question answersgettext best answer build api div aligncenterandroid_task_apiimagesandroid_task_apisvg div aligncenterfigur android task api div alignleft similar nativ api build api object client need provid follow inform extend basetaskapihttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportjavasrcjavaorgtensorflowlitetaskcorebasetaskapijava provid jni handl java task api __determin api io__ usual mirror nativ interfac eg bertquestionanswer take string context string question input output listqaansw implement call privat nativ function similar signatur except addit paramet long nativehandl pointer return c java class bertquestionanswer extend basetaskapi public listqaansw answerstr context string question return answernativegetnativehandl context question privat static nativ listqaansw answern long nativehandl c pointer string context string question api io __creat factori function api__ also mirror nativ factori function except android factori function also need take contexthttpsdeveloperandroidcomreferenceandroidcontentcontext file access implement call one util taskjniutilshttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportjavasrcjavaorgtensorflowlitetaskcoretaskjniutilsjava build correspond c api object pass pointer basetaskapi constructor java class bertquestionanswer extend basetaskapi privat static final string bert_question_answerer_native_libnam bert_question_answerer_jni extend super constructor provid nativ handlepoint correspond c api object privat bertquestionanswererlong nativehandl supernativehandl public static bertquestionanswer createbertquestionanswer context context access android file string pathtomodel string pathtovocab return new bertquestionanswer util first tri load jni modul name bert_question_answerer_native_libnam open two file convert bytebuff final initjniwithbertbytebuff call buffer c api object pointer taskjniutilscreatehandlewithmultipleassetfilesfromlibrari context bertquestionanswererinitjniwithbertbytebuff bert_question_answerer_native_libnam pathtomodel pathtovocab modelbuff tflite model file buffer modelbuff vocab file buffer return c api object pointer cast long privat static nativ long initjniwithbertbytebuffersbytebuff modelbuff __implement jni modul nativ functions__ java nativ method implement call correspond nativ function jni modul factori function would creat nativ api object return pointer long type java later call java api long type pointer pass back jni cast back nativ api object nativ api result convert back java result exampl bert_question_answerer_jnihttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportjavasrcnativetasktextqabert_question_answerer_jnicc implement cpp implement bertquestionanswererinitjniwithbertbytebuff extern c jniexport jlong jnical java_org_tensorflow_lite_task_text_qa_bertquestionanswerer_initjniwithbertbytebuff jnienv env jclass thiz jobjectarray model_buff convert java bytebuff object buffer read nativ factori function abslstring_view model getmappedfilebufferenv envgetobjectarrayelementmodel_buff creat nativ api object abslstatusorstdunique_ptrquestionanswer statu bertquestionanswerercreatefrombuff modeldata models statusok convert object pointer jlong return java return reinterpret_castjlongstatusreleas els return kinvalidpoint implement bertquestionanswereranswern extern c jniexport jobject jnical java_org_tensorflow_lite_task_text_qa_bertquestionanswerer_answern jnienv env jclass thiz jlong native_handl jstring context jstring question convert long nativ api object pointer questionanswer question_answer reinterpret_castquestionanswerernative_handl call nativ api stdvectorqaansw result question_answereranswerjstringtostringenv context jstringtostringenv question convert nativ resultstdvectorqaansw java resultlistqaanswer jclass qa_answer_class envfindclassorgtensorflowlitetasktextqaqaansw jmethodid qa_answer_ctor envgetmethodidqa_answer_class init ljavalangstringiifv return convertvectortoarraylistqaansw env result env qa_answer_class qa_answer_ctorconst qaanswer an jstring text envnewstringutfanstextdata jobject qa_answ envnewobjectqa_answer_class qa_answer_ctor text ansposstart ansposend ansposlogit envdeletelocalreftext return qa_answ implement basetaskapideinitjni delet nativ object extern c jniexport void jnical java_task_core_basetaskapi_deinitjni jnienv env jobject thiz jlong native_handl delet reinterpret_castquestionanswerernative_handl io api creat io api wrap nativ api object objc api object creat api object use either objc swift io api requir nativ api built first sampl usag exampl use objc tflbertquestionanswererhttpsgithubcomtensorflowtflitesupportblobmastertensorflow_lite_supportiostasktextqasourcestflbertquestionanswererh mobileberthttpstfhubdevtensorflowlitemodelmobilebertdefault swift swift static let mobilebertmodelpath pathtomodeltflit creat api model file vocabulari file let mobilebertanswer tflbertquestionanswerermobilebertquestionanswer modelpath mobilebertmodelpath static let context context question answer static let question question answer ask question let answer mobilebertanswereransw context tflbertquestionanswerertestcontext question tflbertquestionanswerertestquest answerstext best answer build api div aligncenterios_task_apiimagesios_task_apisvg div aligncenterfigur io task api div alignleft io api simpl objc wrapper top nativ api build api follow step defin objc wrapper defin objc class deleg implement correspond nativ api object note nativ depend appear mm file due swift inabl interop c h file objc interfac tflbertquestionanswer nsobject deleg call nativ bertquestionanswerercreatebertquestionanswer instancetypemobilebertquestionanswererwithmodelpathnsstringmodelpath vocabpathnsstringvocabpath ns_swift_namemobilebertquestionanswerermodelpathvocabpath deleg call nativ bertquestionanswereransw nsarraytflqaansweranswerwithcontextnsstringcontext questionnsstringquest ns_swift_nameanswercontextquest mm file objc use bertquestionanswerercpp tflitetasktextbertquestionanswer implement tflbertquestionanswer defin ivar nativ api object stdunique_ptrquestionanswerercpp _bertquestionanswerw initi nativ api object instancetypemobilebertquestionanswererwithmodelpathnsstr modelpath vocabpathnsstr vocabpath abslstatusorstdunique_ptrquestionanswerercpp cquestionanswer bertquestionanswerercppcreatebertquestionanswerermakestringmodelpath makestringvocabpath _gtmdevassertcquestionanswererok fail creat bertquestionanswer return tflbertquestionanswer alloc initwithquestionanswererstdmovecquestionanswerervalu call nativ api convert c result objc result nsarraytflqaansw answerwithcontextnsstr context questionnsstr question stdvectorqaanswercpp result _bertquestionanswerweranswermakestringcontext makestringquest return self arrayfromvectorresult tensorflow lite task librari tensorflow lite task librari contain set power easytous taskspecif librari app develop creat ml experi tflite provid optim outofbox model interfac popular machin learn task imag classif question answer etc model interfac specif design task achiev best perform usabl task librari work crossplatform support java c swift expect task librari clean welldefin api usabl nonmlexpert infer done within line code use power easytous api task librari build block help easili develop ml tflite mobil devic complex common data process support common vision natur languag process logic convert data data format requir model provid shareabl process logic train infer high perform gain data process would take millisecond ensur fast infer experi use tensorflow lite extens custom leverag benefit task librari infrastructur provid easili build androidio infer api support task list support task type list expect grow continu enabl use case vision api imageclassifierimage_classifiermd objectdetectorobject_detectormd imagesegmenterimage_segmentermd natur languag nl api nlclassifiernl_classifiermd bertnlclassifierbert_nl_classifiermd bertquestionanswererbert_question_answerermd audio api audioclassifieraudio_classifiermd custom api extend task api infrastructur build custom apicustomized_task_apimd run task librari deleg delegateshttpswwwtensorfloworgliteperformancedeleg enabl hardwar acceler tensorflow lite model leverag ondevic acceler gpuhttpswwwtensorfloworgliteperformancegpu coral edg tpuhttpscoralai util neural network oper provid huge benefit term latenc power effici exampl gpu provid upto x speeduphttpsblogtensorfloworgfastermobilegpuinferencewithopenclhtml latenc mobil devic coral edg tpu infer x fasterhttpscoralaidocsedgetpubenchmark desktop cpu task librari provid easi configur fall back option set use deleg follow acceler support task api android gpuhttpswwwtensorfloworgliteperformancegpu java c nnapihttpswwwtensorfloworgliteperformancennapi java c hexagonhttpswwwtensorfloworgliteperformancehexagon_deleg c linux mac coral edg tpuhttpscoralai c core ml delegatehttpswwwtensorfloworgliteperformancecoreml_deleg io acceler support task java swift web api come soon exampl usag gpu android java step add gpu deleg plugin librari modul buildgradl file java depend import task librari depend vision text audio import gpu deleg plugin librari gpu infer implement orgtensorflowtensorflowlitegpudelegateplugin note nnapi come task librari target vision text audio default step configur gpu deleg task option baseoptionshttpswwwtensorfloworgliteapi_docsjavaorgtensorflowlitetaskcorebaseoptionsbuild exampl set gpu objectdetecor follow java turn gpu deleg baseopt baseopt baseoptionsbuilderusegpubuild configur option objectdetector objectdetectoropt option objectdetectoroptionsbuild setbaseoptionsbaseopt setmaxresult build creat objectdetector option objectdetector objectdetector objectdetectorcreatefromfileandoptionscontext modelfil option run infer listdetect result objectdetectordetectimag exampl usag gpu android c step depend gpu deleg plugin bazel build target dep tensorflow_lite_supportaccelerationconfigurationgpu_plugin gpu note gpu_plugin target separ one gpu deleg targethttpsgithubcomtensorflowtensorflowtreemastertensorflowlitedelegatesgpu gpu_plugin wrap gpu deleg target provid safti guard ie fallback tflite cpu path deleg error deleg option includ tensorflow_lite_supportaccelerationconfigurationnnapi_plugin nnapi tensorflow_lite_supportaccelerationconfigurationhexagon_plugin hexagon step configur gpu deleg task option exampl set gpu bertquestionanswer follow c initi bertquestionanswereropt option load tflite model auto base_opt optionsmutable_base_opt base_optionsmutable_model_fileset_file_namemodel_fil turn gpu deleg auto tflite_set base_optionsmutable_compute_settingsmutable_tflite_set tflite_settingsset_delegatedelegategpu option turn automat fallback tflite cpu path deleg error tflite_settingsmutable_fallback_settingsset_allow_automatic_fallback_on_execution_errortru creat questionanswer option stdunique_ptrquestionanswer answer bertquestionanswerercreatefromoptionsoptionsvalu run infer gpu stdvectorqaansw result answereranswercontext_of_quest question_to_ask explor advanc acceler set herehttpsgithubcomtensorflowtensorflowblobaebcabccbbecaaebctensorflowliteexperimentalaccelerationconfigurationconfigurationproto exampl usag coral edg tpu c step depend coral edg tpu deleg plugin bazel build target dep tensorflow_lite_supportaccelerationconfigurationedgetpu_coral_plugin coral edg tpu step configur coral edg tpu task option exampl set coral edg tpu imageclassifi follow c initi imageclassifieropt option load tflite model optionsmutable_base_optionsmutable_model_fileset_file_namemodel_fil turn coral edg tpu deleg optionsmutable_base_optionsmutable_compute_settingsmutable_tflite_settingsset_delegatedelegateedgetpu_cor creat imageclassifi option stdunique_ptrimageclassifi image_classifi imageclassifiercreatefromoptionsoptionsvalu run infer coral edg tpu const classificationresult result image_classifierclassifyframe_buffervalu step instal libusbdev packag alreadi instal skip next step bash linux sudo aptget instal libusbdev maco port instal libusb brew instal libusb step compil follow configur bazel command bash linux defin darwinn_port linkoptlusb maco add linkoptlusb linkoptloptlocallib use macport linkoptlusb linkoptlopthomebrewlib use homebrew defin darwinn_port linkoptloptlocallib linkoptlusb window support yet tri task librari cli demo toolhttpsgithubcomtensorflowtflitesupporttreemastertensorflow_lite_supportexamplestaskvisiondesktop coral edg tpu devic explor pretrain edg tpu modelshttpscoralaimodel advanc edg tpu settingshttpsgithubcomtensorflowtensorflowblobaebcabccbbecaaebctensorflowliteexperimentalaccelerationconfigurationconfigurationprotol model optim edg devic often limit memori comput power variou optim appli model run within constraint addit optim allow use special hardwar acceler infer tensorflow lite tensorflow model optim toolkithttpswwwtensorfloworgmodel_optim provid tool minim complex optim infer recommend consid model optim applic develop process document outlin best practic optim tensorflow model deploy edg hardwar model optim sever main way model optim help applic develop size reduct form optim use reduc size model smaller model follow benefit smaller storag size smaller model occupi less storag space user devic exampl android app use smaller model take less storag space user mobil devic smaller download size smaller model requir less time bandwidth download user devic less memori usag smaller model use less ram run free memori part applic use translat better perform stabil quantiz reduc size model case potenti expens accuraci prune cluster reduc size model download make easili compress latenc reduct latenc amount time take run singl infer given model form optim reduc amount comput requir run infer use model result lower latenc latenc also impact power consumpt current quantiz use reduc latenc simplifi calcul occur infer potenti expens accuraci acceler compat hardwar acceler edg tpuhttpscloudgooglecomedgetpu run infer extrem fast model correctli optim gener type devic requir model quantiz specif way see hardwar acceler document learn requir tradeoff optim potenti result chang model accuraci must consid applic develop process accuraci chang depend individu model optim difficult predict ahead time gener model optim size latenc lose small amount accuraci depend applic may may impact user experi rare case certain model may gain accuraci result optim process type optim tensorflow lite current support optim via quantiz prune cluster part tensorflow model optim toolkithttpswwwtensorfloworgmodel_optim provid resourc model optim techniqu compat tensorflow lite quantiz quantizationhttpswwwtensorfloworgmodel_optimizationguidequantizationpost_train work reduc precis number use repres model paramet default bit float point number result smaller model size faster comput follow type quantiz avail tensorflow lite techniqu data requir size reduct accuraci support hardwar posttrain float quantizationpost_training_float_quantipynb data insignific accuraci loss cpu gpu posttrain dynam rang quantizationpost_training_quantipynb data smallest accuraci loss cpu gpu android posttrain integ quantizationpost_training_integer_quantipynb unlabel repres sampl small accuraci loss cpu gpu android edgetpu hexagon dsp quantizationawar traininghttpwwwtensorfloworgmodel_optimizationguidequantizationtrain label train data smallest accuraci loss cpu gpu android edgetpu hexagon dsp follow decis tree help select quantiz scheme might want use model simpli base expect model size accuraci quantizationdecisiontreeimagesquantization_decision_treepng latenc accuraci result posttrain quantiz quantizationawar train model latenc number measur pixel devic use singl big core cpu toolkit improv number figur tabl tr thmodelth thtop accuraci origin th thtop accuraci post train quantiz th thtop accuraci quantiz awar train th thlatenc origin ms th thlatenc post train quantiz ms th thlatenc quantiz awar train ms th th size origin mbth th size optim mbth tr trtdmobilenetvtdtdtdtdtdtdtd tdtdtdtdtdtdtdtdtdtdtr trtdmobilenetvtdtdtdtdtdtdtd tdtdtdtdtdtdtdtdtdtdtr trtdinception_vtdtdtdtdtdtdtd tdtdtdtdtdtdtdtdtdtdtr trtdresnet_v_tdtdtdtdtdtdnatd tdtdtdtdtdnatdtdtdtdtdtr tabl figcapt btabl b benefit model quantiz select cnn model figcapt figur full integ quantiz int activ int weight quantiz int activationshttpswwwtensorfloworgmodel_optimizationguidequantizationpost_train full integ quantiz scheme activ int weight int mode improv accuraci quantiz model comparison full integ quantiz scheme activ weight int keep similar model size recommend activ sensit quantiz inotei current nonoptim refer kernel implement avail tflite quantiz scheme default perform slow compar int kernel full advantag mode current access via specialis hardwar custom softwar accuraci result model benefit mode figur tabl tr thmodelth thaccuraci metric type th thaccuraci float activ th thaccuraci int activ th thaccuraci int activ th tr trtdwavlettertdtdwertdtdtdtdtd tdtdtr trtddeepspeech unrolledtdtdcertdtdtdtdtd tdtdtr trtdyolovtdtdmapioutdtdtdtdtd tdtdtr trtdmobilenetvtdtdtop accuracytdtdtdtdtd tdtdtr trtdmobilenetvtdtdtop accuracytdtdtdtdtd tdtdtr trtdmobileberttdtdfexact matchtdtdtdtdtd tdtdtr tabl figcapt btabl b benefit model quantiz int activ figcapt figur prune pruninghttpswwwtensorfloworgmodel_optimizationguideprun work remov paramet within model minor impact predict prune model size disk runtim latenc compress effect make prune use techniqu reduc model download size futur tensorflow lite provid latenc reduct prune model cluster clusteringhttpswwwtensorfloworgmodel_optimizationguideclust work group weight layer model predefin number cluster share centroid valu weight belong individu cluster reduc number uniqu weight valu model thu reduc complex result cluster model compress effect provid deploy benefit similar prune develop workflow start point check model host modelsguidehosted_modelsmd work applic recommend user start posttrain quantiz toolpost_training_quantizationmd sinc broadli applic requir train data case accuraci latenc target met hardwar acceler support import quantizationawar traininghttpswwwtensorfloworgmodel_optimizationguidequantizationtrainingextern better option see addit optim techniqu tensorflow model optim toolkithttpswwwtensorfloworgmodel_optim want reduc model size tri pruningprun andor clusteringclust prior quantiz model tensorflow lite gpu deleg tensorflow litehttpswwwtensorfloworglit support sever hardwar acceler document describ use gpu backend use tensorflow lite deleg api android io gpu design high throughput massiv paralleliz workload thu wellsuit deep neural net consist huge number oper work input tensor easili divid smaller workload carri parallel typic result lower latenc best scenario infer gpu may run fast enough previous avail realtim applic unlik cpu gpu comput bit bit float point number requir quantiz optim perform deleg accept bit quantiz model calcul perform float point number refer advanc documentationgpu_advancedmd detail anoth benefit gpu infer power effici gpu carri comput effici optim manner consum less power gener less heat task run cpu demo app tutori easiest way tri gpu deleg follow tutori go build classif demo applic gpu support gpu code binari opensourc soon understand get demo work tri custom model android android studio stepbystep tutori watch gpu deleg androidhttpsyoutubexkhgrerg video note requir opencl opengl es higher step clone tensorflow sourc code open android studio sh git clone httpsgithubcomtensorflowtensorflow step edit appbuildgradl use nightli gpu aar note target android targetsdkvers manifest targetsdkvers gradl defaultconfig api level tbd case merg content androidmanifestgpuxmlhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitejavaandroidmanifestgpuxml android applic manifest without chang gpu deleg access opencl librari acceler agp requir work add tensorflowlitegpu packag alongsid exist tensorflowlit packag exist depend block depend implement orgtensorflowtensorflowlit implement orgtensorflowtensorflowlitegpu step build run run run app run applic see button enabl gpu chang quantiz float model click gpu run gpu run android gpu demo switch gpuimagesandroid_gpu_demogif io xcode stepbystep tutori watch gpu deleg ioshttpsyoutubeahzwjpc video note requir xcode v later step get demo sourc code make sure compil follow io demo app tutorialhttpswwwtensorfloworglitedemo_io get point unmodifi io camera demo work phone step modifi podfil use tensorflow lite gpu cocoapod releas default gpu deleg exclud pod reduc binari size includ specifi subspec tensorflowliteswift pod rubi pod tensorflowliteswiftmet nightli rubi pod tensorflowliteswift nightli subspec metal similarli tensorflowliteobjc tensorflowlitc want use objectivec releas c api div devsiteexpand h classshowalwaysbefor releaseh huntil tensorflow lite h p built binari cocoapod includ gpu deleg switch project use modifi tensorflowtensorflowliteexamplesioscamerapodfil file use tensorflowlitegpuexperiment pod instead tensorflowlit p pre classprettyprint langrubi notransl translatenocod target yourprojectnam pod tensorflowlit pod tensorflowlitegpuexperiment codepr huntil tensorflow lite h p tensorflow lite gpu deleg includ tensorflowlitec pod choos tensorflowlitec tensorflowliteswift depend languag p devsiteexpand div step enabl gpu deleg enabl code use gpu deleg need chang tflite_use_gpu_deleg cameraexampleviewcontrollerh c defin tflite_use_gpu_deleg step build run demo app follow previou step abl run app step releas mode step ran debug mode get better perform chang releas build appropri optim metal set particular edit set go product scheme edit scheme select run info tab chang build configur debug releas uncheck debug execut set releaseimagesiosdebugpng click option tab chang gpu frame captur disabl metal api valid disabl set metal optionsimagesiosmetalpng lastli make sure select releaseonli build bit architectur project navig tflite_camera_exampl project tflite_camera_exampl build set set build activ architectur releas ye set releas optionsimagesiosreleasepng tri gpu deleg model android note tensorflow lite interpret must creat thread run otherwis tflitegpudeleg invok gpudeleg must run thread initi may occur two way invok model acceler depend use android studio ml model bindinginference_with_metadatacodegenacceler tensorflow lite interpret tensorflow lite interpret look demo see add deleg applic add aar import orgtensorflowlitegpugpudeleg modul use theadddeleg function regist gpu deleg interpret div devsiteselector section hkotlinh ppre classprettyprint langkotlin import orgtensorflowliteinterpret import orgtensorflowlitegpucompatibilitylist import orgtensorflowlitegpugpudeleg val compatlist compatibilitylist val option interpreteroptionsappli ifcompatlistisdelegatesupportedonthisdevic devic support gpu add gpu deleg val delegateopt compatlistbestoptionsforthisdevic thisadddelegategpudelegatedelegateopt els gpu support run thread thissetnumthread val interpret interpretermodel option run infer writetoinputinput interpreterruninput output readfromoutputoutput prep section section hjavah ppre classprettyprint langjava import orgtensorflowliteinterpret import orgtensorflowlitegpucompatibilitylist import orgtensorflowlitegpugpudeleg initi interpret gpu deleg interpreteropt option new interpreteropt compatibilitylist compatlist compatibilitylist ifcompatlistisdelegatesupportedonthisdevic devic support gpu add gpu deleg gpudelegateopt delegateopt compatlistgetbestoptionsforthisdevic gpudeleg gpudeleg new gpudelegatedelegateopt optionsadddelegategpudeleg els gpu support run thread optionssetnumthread interpret interpret new interpretermodel option run infer writetoinputinput interpreterruninput output readfromoutputoutput prep section devsiteselector div io note gpu deleg also use c api objectivec code prior tensorflow lite releas option div devsiteselector section hswifth ppre classprettyprint langswift import tensorflowlit load model initi tensorflow lite interpret gpu deleg let deleg metaldeleg let interpret tri interpretermodelpath modelpath deleg deleg run infer prep section section hobjectivech ppre classprettyprint langobjc import modul use cocoapod modul support import tfltensorflowlit import follow header manual import tensorflowliteobjcapistflmetaldelegateh import tensorflowliteobjcapistfltensorflowliteh initi gpu deleg tflmetaldeleg metaldeleg tflmetaldeleg alloc init initi interpret model path gpu deleg tflinterpreteropt option tflinterpreteropt alloc init nserror error nil tflinterpret interpret tflinterpret alloc initwithmodelpathmodelpath optionsopt deleg metaldeleg erroramperror error nil error handl interpret allocatetensorswitherroramperror error handl error nil error handl run infer prep section section hc h ppre classprettyprint langc includ tensorflowlitecc_apih includ tensorflowlitedelegatesgpumetal_delegateh initi model tflitemodel model tflitemodelcreatefromfilemodel_path initi interpret gpu deleg tfliteinterpreteropt option tfliteinterpreteroptionscr tflitedeleg deleg tflgpudelegatecreatenil default config tfliteinterpreteroptionsadddelegateopt metal_deleg tfliteinterpret interpret tfliteinterpretercreatemodel option tfliteinterpreteroptionsdeleteopt tfliteinterpreterallocatetensorsinterpret nsmutabledata input_data nsmutabledata datawithlengthinput_s sizeoffloat nsmutabledata output_data nsmutabledata datawithlengthoutput_s sizeoffloat tflitetensor input tfliteinterpretergetinputtensorinterpret const tflitetensor output tfliteinterpretergetoutputtensorinterpret run infer tflitetensorcopyfrombufferinput inputdatabyt inputdatalength tfliteinterpreterinvokeinterpret tflitetensorcopytobufferoutput outputdatamutablebyt outputdatalength clean tfliteinterpreterdeleteinterpret tflgpudelegatedeletemetal_deleg tflitemodeldeletemodel prep section devsiteselector div support model op releas gpu deleg includ hand model run backend mobilenet v x imag classificationhttpsaigoogleblogcommobilenetsopensourcemodelsforhtml downloadhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitegpumobilenet_v__tflit br iimag classif model design mobil embed base vision applicationsi deeplab segment xhttpsaigoogleblogcomsemanticimagesegmentationwithhtml downloadhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitegpudeeplabv__mv_gputflit br iimag segment model assign semant label eg dog cat car everi pixel input imagei mobilenet ssd object detectionhttpsaigoogleblogcomacceleratedtrainingandinferencewithhtml downloadhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitegpumobile_ssd_v_float_cocotflit br iimag classif model detect multipl object bound boxesi posenet pose estimationhttpsgithubcomtensorflowtfjsmodelstreemasterposenet downloadhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitegpumulti_person_mobilenet_v__floattflit br ivis model estim pose person imag videoi see full list support op pleas see advanc documentationgpu_advancedmd nonsupport model op op support gpu deleg framework run part graph gpu remain part cpu due high cost cpugpu synchron split execut mode like often result slower perform whole network run cpu alon case user get warn like none warn op code handl deleg provid callback failur true runtim failur someth develop observ tri get network run deleg tip optim optim mobil devic oper trivial cpu may high cost gpu mobil devic reshap oper particularli expens run includ batch_to_spac space_to_batch space_to_depth forth close examin use reshap oper consid may appli explor data earli iter model remov significantli improv perform gpu tensor data slice channel thu comput tensor shape bhw perform tensor shape bhw significantli wors bhw sens camera hardwar support imag frame rgba feed channel input significantli faster memori copi channel rgb channel rgbx avoid best perform consid retrain classifi mobileoptim network architectur optim ondevic inferenc dramat reduc latenc power consumpt take advantag mobil hardwar featur reduc initi time serial gpu deleg featur allow load precompil kernel code model data serial save disk previou run approach avoid recompil reduc startup time instruct appli serial project see gpu deleg serializationgpu_advancedmdgpu_delegate_seri tensorflow lite core ml deleg tensorflow lite core ml deleg enabl run tensorflow lite model core ml frameworkhttpsdeveloperapplecomdocumentationcoreml result faster model infer io devic note deleg experiment beta phase avail tensorflow lite latest nightli releas note core ml deleg support core ml version later support io version devic io later older io version core ml deleg automat fallback cpu default core ml deleg enabl devic soc later iphon xs later use neural engin faster infer want use core ml deleg also older devic pleas see best practicesbestpractic support model core ml deleg current support float fp fp model tri core ml deleg model core ml deleg alreadi includ nightli releas tensorflow lite cocoapod use core ml deleg chang tensorflow lite pod includ subspec coreml podfil note want use c api instead objectivec api includ tensorflowliteccoreml pod target yourprojectnam pod tensorflowliteswiftcoreml tensorflowliteobjccoreml particularili use also want includ metal subspec target yourprojectnam pod tensorflowliteswift subspec coreml note core ml deleg also use c api objectivec code prior tensorflow lite releas option div devsiteselector section hswifth ppre classprettyprint langswift let coremldeleg coremldeleg var interpret interpret core ml deleg creat devic neural engin coremldeleg nil interpret tri interpretermodelpath modelpath deleg coremldeleg els interpret tri interpretermodelpath modelpath prep section section hobjectivech ppre classprettyprint langobjc import modul use cocoapod modul support import tfltensorflowlit import follow header manual import tensorflowliteobjcapistflcoremldelegateh import tensorflowliteobjcapistfltensorflowliteh initi core ml deleg tflcoremldeleg coremldeleg tflcoremldeleg alloc init initi interpret model path core ml deleg tflinterpreteropt option tflinterpreteropt alloc init nserror error nil tflinterpret interpret tflinterpret alloc initwithmodelpathmodelpath optionsopt deleg coremldeleg erroramperror error nil error handl interpret allocatetensorswitherroramperror error handl error nil error handl run infer prep section section hc h ppre classprettyprint langc includ tensorflowlitedelegatescoremlcoreml_delegateh initi interpret model tflitemodel model tflitemodelcreatefromfilemodel_path initi interpret core ml deleg tfliteinterpreteropt option tfliteinterpreteroptionscr tflitedeleg deleg tflitecoremldelegatecreatenul default config tfliteinterpreteroptionsadddelegateopt deleg tfliteinterpreteroptionsdeleteopt tfliteinterpret interpret tfliteinterpretercreatemodel option tfliteinterpreterallocatetensorsinterpret run infer dispos resourc longer use add follow code section dispos deleg eg dealloc class tfliteinterpreterdeleteinterpret tflitecoremldelegatedeletedeleg tflitemodeldeletemodel prep section devsiteselector div best practic use core ml deleg devic without neural engin default core ml deleg creat devic neural engin return null deleg creat want run core ml deleg environ exampl simul pass option creat deleg swift c objectivec pass tflitecoremldelegatealldevic follow exampl show div devsiteselector section hswifth ppre classprettyprint langswift var option coremldelegateopt optionsenableddevic let coremldeleg coremldelegateopt option let interpret tri interpretermodelpath modelpath deleg coremldeleg prep section section hobjectivech ppre classprettyprint langobjc tflcoremldelegateopt coremlopt tflcoremldelegateopt alloc init coremloptionsenableddevic tflcoremldelegateenableddevicesal tflcoremldeleg coremldeleg tflcoremldeleg alloc initwithoptionscoremlopt initi interpret deleg prep section section hch ppre classprettyprint langc tflitecoremldelegateopt option optionsenabled_devic tflitecoremldelegatealldevic tflitedeleg deleg tflitecoremldelegatecreateampopt initi interpret deleg prep section devsiteselector div use metalgpu deleg fallback core ml deleg creat altern still use metal delegatehttpswwwtensorfloworgliteperformancegpuio get perform benefit follow exampl show div devsiteselector section hswifth ppre classprettyprint langswift var deleg coremldeleg deleg nil deleg metaldeleg add metal deleg option necessari let interpret tri interpretermodelpath modelpath deleg deleg prep section section hobjectivech ppre classprettyprint langobjc tfldeleg deleg tflcoremldeleg alloc init deleg add metal deleg option necessari deleg tflmetaldeleg alloc init initi interpret deleg prep section section hch ppre classprettyprint langc tflitecoremldelegateopt option deleg tflitecoremldelegatecreateampopt deleg null add metal deleg option necessari deleg tflgpudelegatecreatenul initi interpret deleg prep section devsiteselector div deleg creation logic read devic machin id eg iphon determin neural engin avail see codehttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegatescoremlcoreml_delegatemm detail altern implement set denylist devic use librari devicekithttpsgithubcomdevicekitdevicekit use older core ml version although io support core ml model might work better convert core ml model specif target convers version set latest version default chang set coremlvers swift coreml_vers c api deleg option older version support op follow op support core ml deleg add certain shape broadcast core ml tensor layout follow tensor shape broadcast b c h w b c b h w b averagepoold concat concaten done along channel axi convd weight bia constant depthwiseconvd weight bia constant fullyconnect aka dens innerproduct weight bia present constant support singlebatch case input dimens except last dimens hardswish logist aka sigmoid maxpoold mirrorpad input reflect mode support pad constant allow h w dimens mul certain shape broadcast core ml tensor layout follow tensor shape broadcast b c h w b c b h w b pad padv input support pad constant allow h w dimens relu relunto relu reshap support target core ml version support target core ml resizebilinear softmax tanh transposeconv weight constant feedback issu pleas creat githubhttpsgithubcomtensorflowtensorflowissuesnewtemplateotherissuesmd issu necessari detail reproduc faq coreml deleg support fallback cpu graph contain unsupport op ye coreml deleg work io simul ye librari includ x x_ target run simul see perform boost cpu tensorflow lite coreml deleg support maco tensorflow lite test io maco custom tf lite op support coreml deleg support custom op fallback cpu api core ml deleg swift apihttpsgithubcomtensorflowtensorflowblobmastertensorflowliteswiftsourcescoremldelegateswift core ml deleg c apihttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegatescoremlcoreml_delegateh use objectivec code perform best practic mobil embed devic limit comput resourc import keep applic resourc effici compil list best practic strategi use improv tensorflow lite model perform choos best model task depend task need make tradeoff model complex size task requir high accuraci may need larg complex model task requir less precis better use smaller model use less disk space memori also gener faster energi effici exampl graph show accuraci latenc tradeoff common imag classif model graph model size vs accuracyimagesperformancemodel_size_vs_accuracypng model size vs accuraci graph accuraci vs latencyimagesperformanceaccuracy_vs_latencypng accuraci vs latenc one exampl model optim mobil devic mobilenetshttpsarxivorgab optim mobil vision applic host modelsguidehosted_modelsmd list sever model optim specif mobil embed devic retrain list model dataset use transfer learn check transfer learn tutori imag classificationlitetutorialsmodel_maker_image_classif object detectionhttpsmediumcomtensorflowtrainingandservingarealtimemobileobjectdetectorinminuteswithcloudtpusbcf profil model select candid model right task good practic profil benchmark model tensorflow lite benchmark toolhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmark builtin profil show per oper profil statist help understand perform bottleneck oper domin comput time also use tensorflow lite tracingmeasurementmdtrace_tensorflow_lite_internals_in_android profil model android applic use standard android system trace visual oper invoc time gui base profil tool profil optim oper graph particular oper appear frequent model base profil find oper consum amount time look optim oper scenario rare tensorflow lite optim version oper howev may abl write faster version custom op know constraint oper execut check custom oper documentationcustom_operatorsmd optim model model optim aim creat smaller model gener faster energi effici deploy mobil devic tensorflow lite support multipl optim techniqu quantiz check model optim docsmodel_optimizationmd detail tweak number thread tensorflow lite support multithread kernel mani oper increas number thread speed execut oper increas number thread howev make model use resourc power applic latenc may import energi effici increas number thread set number interpret threadshttpsgithubcomtensorflowtensorflowblobmastertensorflowliteinterpreterhl multithread execut howev come cost increas perform variabl depend els execut concurr particularli case mobil app exampl isol test may show x speedup vs singlethread anoth app execut time may result wors perform singlethread elimin redund copi applic care design redund copi feed input read output model make sure elimin redund copi use higher level api like java make sure care check document perform caveat exampl java api lot faster bytebuff use inputshttpsgithubcomtensorflowtensorflowblobmastertensorflowlitejavasrcmainjavaorgtensorflowliteinterpreterjav profil applic platform specif tool platform specif tool like android profilerhttpsdeveloperandroidcomstudioprofileandroidprofil instrumentshttpshelpapplecominstrumentsmaccurr provid wealth profil inform use debug app sometim perform bug may model part applic code interact model make sure familiar platform specif profil tool best practic platform evalu whether model benefit use hardwar acceler avail devic tensorflow lite ad new way acceler model faster hardwar like gpu dsp neural acceler typic acceler expos delegatedelegatesmd submodul take part interpret execut tensorflow lite use deleg use android neural network apihttpsdeveloperandroidcomndkguidesneuralnetwork util hardwar acceler backend improv speed effici model enabl neural network api check nnapi delegatennapimd guid gpu deleg avail android io use openglopencl metal respect tri see gpu deleg tutorialgpumd documentationgpu_advancedmd hexagon deleg avail android leverag qualcomm hexagon dsp avail devic see hexagon deleg tutorialhexagon_delegatemd inform possibl creat deleg access nonstandard hardwar see tensorflow lite delegatesdelegatesmd inform awar acceler work better differ type model deleg support float model model optim specif way import benchmarkmeasurementmd deleg see good choic applic exampl small model may worth deleg model either nn api gpu convers acceler great choic larg model high arithmet intens need help tensorflow team happi help diagnos address specif perform issu may face pleas file issu githubhttpsgithubcomtensorflowtensorflowissu detail issu tensorflow lite bit quantiz specif follow document outlin specif tensorflow lite bit quantiz scheme intend assist hardwar develop provid hardwar support infer quantiz tensorflow lite model specif summari provid specif provid guarante behaviour spec follow also understand differ hardwar may prefer restrict may caus slight deviat implement spec result implement bitexact wherea may accept case provid suit test best knowledg includ peroper toler gather sever model natur machin learn deep learn common case make imposs provid hard guarante bit quantiz approxim float point valu use follow formula real_valu int_valu zero_point time scale peraxi aka perchannel conv op pertensor weight repres int two complement valu rang zeropoint equal pertensor activationsinput repres int two complement valu rang zeropoint rang except particular oper document note past quantiz tool use pertensor asymmetr uint quantiz new tool refer kernel optim kernel bit quantiz use spec sign integ vs unsign integ tensorflow lite quantiz primarili priorit tool kernel int quantiz bit conveni symmetr quantiz repres zeropoint equal addit mani backend addit optim intxint accumul peraxi vs pertensor pertensor quantiz mean one scale andor zeropoint per entir tensor peraxi quantiz mean one scale andor zero_point per slice quantized_dimens quantiz dimens specifi dimens tensor shape scale zeropoint correspond exampl tensor dim quantiz param scale zero_point quantization_dimens quantiz across second dimens scale zero_point scale zero_point scale zero_point often quantized_dimens output_channel weight convolut theori dimens correspond dotproduct kernel implement allow quantiz granular without perform implic larg improv accuraci tflite peraxi support grow number oper time document support exist convd depthwiseconvd symmetr vs asymmetr activ asymmetr zeropoint anywher within sign int rang mani activ asymmetr natur zeropoint rel inexpens way effect get extra binari bit precis sinc activ multipli constant weight constant zeropoint valu optim pretti heavili weight symmetr forc zeropoint equal weight valu multipli dynam input activ valu mean unavoid runtim cost multipli zeropoint weight activ valu enforc zeropoint avoid cost explan math similar section arxivhttpsarxivorgab except differ allow scale valu peraxi gener readili follow time n matrix quantiz activ br b n time p matrix quantiz weight br consid multipli jth row a_j kth column b b_k length n quantiz integ valu zeropoint valu q_a z_a q_b z_b respect a_j cdot b_k sum_in a_ji b_ki sum_in q_ai z_a q_bi z_b sum_in q_ai q_bi sum_in q_ai z_b sum_in q_bi z_a sum_in z_a z_b dont chang mathjax fail sum_in q_ai q_bi term unavoid sinc perform dot product input valu weight valu sum_in q_bi z_a sum_in z_a z_b term made constant remain per infer invoc thu precalcul sum_in q_ai z_b term need comput everi infer sinc activ chang everi infer enforc weight symmetr remov cost term int quantiz oper specif describ quantiz requir int tflite kernel add input data_typ int rang granular pertensor input data_typ int rang granular pertensor output data_typ int rang granular pertensor average_pool_d input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point concaten input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point conv_d input data_typ int rang granular pertensor input weight data_typ int rang granular peraxi dim restrict zero_point input bia data_typ int rang int_min int_max granular peraxi restrict scale zero_point input_scal input_scal output data_typ int rang granular pertensor depthwise_conv_d input data_typ int rang granular pertensor input weight data_typ int rang granular peraxi dim restrict zero_point input bia data_typ int rang int_min int_max granular peraxi restrict scale zero_point input_scal input_scal output data_typ int rang granular pertensor fully_connect input data_typ int rang granular pertensor input weight data_typ int rang granular pertensor restrict zero_point input bia data_typ int rang int_min int_max granular pertensor restrict scale zero_point input_scal input_scal output data_typ int rang granular pertensor l_normal input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict scale zero_point logist input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict scale zero_point max_pool_d input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point mul input data_typ int rang granular pertensor input data_typ int rang granular pertensor output data_typ int rang granular pertensor reshap input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point resize_bilinear input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point softmax input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict scale zero_point space_to_depth input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point tanh input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict scale zero_point pad input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point gather input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point batch_to_space_nd input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point space_to_batch_nd input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point transpos input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point mean input data_typ int rang granular pertensor output data_typ int rang granular pertensor sub input data_typ int rang granular pertensor input data_typ int rang granular pertensor output data_typ int rang granular pertensor sum input data_typ int rang granular pertensor output data_typ int rang granular pertensor squeez input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point log_softmax input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict scale zero_point maximum input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point arg_max input data_typ int rang granular pertensor minimum input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point less input data_typ int rang granular pertensor input data_typ int rang granular pertensor padv input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point greater input data_typ int rang granular pertensor input data_typ int rang granular pertensor greater_equ input data_typ int rang granular pertensor input data_typ int rang granular pertensor less_equ input data_typ int rang granular pertensor input data_typ int rang granular pertensor slice input data_typ int rang granular pertensor output data_typ int rang granular pertensor restrict input output must scalezero_point equal input data_typ int rang granular pertensor input data_typ int rang granular pertensor not_equ input data_typ int rang granular pertensor input data_typ int rang granular pertensor shape input data_typ int rang granular pertensor quantiz requant input data_typ int rang granular pertensor output data_typ int rang granular pertensor refer arxivhttpsarxivorgab posttrain quantiz posttrain quantiz convers techniqu reduc model size also improv cpu hardwar acceler latenc littl degrad model accuraci quantiz alreadytrain float tensorflow model convert tensorflow lite format use tensorflow lite converterconvert note procedur page requir tensorflow higher optim method sever posttrain quantiz option choos summari tabl choic benefit provid techniqu benefit hardwar dynam rang x smaller xx speedup cpu quantiz full integ x smaller x speedup cpu edg tpu quantiz microcontrol float quantiz x smaller gpu cpu gpu acceler follow decis tree help determin posttrain quantiz method best use case posttrain optim optionsimagesoptimizationjpg dynam rang quantiz simplest form posttrain quantiz static quantiz weight float point integ bit precis pre import tensorflow tf convert tflitetfliteconverterfrom_saved_modelsaved_model_dir bconverteroptim tfliteoptimizedefaultb tflite_quant_model converterconvert pre infer weight convert bit precis float point comput use floatingpoint kernel convers done cach reduc latenc improv latenc dynamicrang oper dynam quantiz activ base rang bit perform comput bit weight activ optim provid latenc close fulli fixedpoint infer howev output still store use float point speedup dynamicrang op less full fixedpoint comput full integ quantiz get latenc improv reduct peak memori usag compat integ hardwar devic acceler make sure model math integ quantiz full integ quantiz need calibr estim rang ie min max floatingpoint tensor model unlik constant tensor weight bias variabl tensor model input activ output intermedi layer model output calibr unless run infer cycl result convert requir repres dataset calibr dataset small subset around sampl train valid data refer representative_dataset function tensorflow version specifi repres dataset signatureliteguidesignatur follow exampl pre def representative_dataset data dataset yield imag dataimag bia databia pre one signatur given tensorflow model specifi multipl dataset specifi signatur key pre def representative_dataset feed data set encod signatur data encode_signature_dataset yield encod imag dataimag bia databia feed data set decod signatur data decode_signature_dataset yield decod imag dataimag hint datahint pre gener repres dataset provid input tensor list pre def representative_dataset data tfdatadatasetfrom_tensor_slicesimagesbatchtak yield tfdtypescastdata tffloat pre sinc tensorflow version recommend use signaturebas approach input tensor listbas approach input tensor order easili flip test purpos use dummi dataset follow pre def representative_dataset _ rang data nprandomrand yield dataastypenpfloat pre integ float fallback use default float inputoutput order fulli integ quantiz model use float oper dont integ implement ensur convers occur smoothli use follow step pre import tensorflow tf convert tflitetfliteconverterfrom_saved_modelsaved_model_dir bconverteroptim tfliteoptimizedefault converterrepresentative_dataset representative_datasetb tflite_quant_model converterconvert pre note tflite_quant_model wont compat integ devic bit microcontrol acceler coral edg tpu input output still remain float order interfac origin float model integ creat integ model common use case tensorflow lite microcontrollershttpswwwtensorfloworglitemicrocontrol coral edg tpushttpscoralai note start tensorflow support inference_input_typ inference_output_typ attribut addit ensur compat integ devic bit microcontrol acceler coral edg tpu enforc full integ quantiz op includ input output use follow step pre import tensorflow tf convert tflitetfliteconverterfrom_saved_modelsaved_model_dir converteroptim tfliteoptimizedefault converterrepresentative_dataset representative_dataset bconvertertarget_specsupported_op tfliteopssettflite_builtins_intb bconverterinference_input_typ tfintb tfuint bconverterinference_output_typ tfintb tfuint tflite_quant_model converterconvert pre note convert throw error encount oper current quantiz float quantiz reduc size float point model quantiz weight float ieee standard bit float point number enabl float quantiz weight use follow step pre import tensorflow tf convert tflitetfliteconverterfrom_saved_modelsaved_model_dir bconverteroptim tfliteoptimizedefault convertertarget_specsupported_typ tffloatb tflite_quant_model converterconvert pre advantag float quantiz follow reduc model size half sinc weight becom half origin size caus minim loss accuraci support deleg eg gpu deleg oper directli float data result faster execut float comput disadvantag float quantiz follow reduc latenc much quantiz fix point math default float quantiz model dequant weight valu float run cpu note gpu deleg perform dequant sinc oper float data integ bit activ bit weight experiment experiment quantiz scheme similar integ scheme activ quantiz base rang bit weight quantiz bit integ bia quantiz bit integ refer x quantiz main advantag quantiz improv accuraci significantli slightli increas model size pre import tensorflow tf convert tflitetfliteconverterfrom_saved_modelsaved_model_dir converterrepresentative_dataset representative_dataset bconverteroptim tfliteoptimizedefault convertertarget_specsupported_op tfliteopssetexperimental_tflite_builtins_activations_int_weights_intb tflite_quant_model converterconvert pre x quantiz support oper model model still quantiz unsupport oper kept float follow option ad target_spec allow pre import tensorflow tf convert tflitetfliteconverterfrom_saved_modelsaved_model_dir converterrepresentative_dataset representative_dataset converteroptim tfliteoptimizedefault convertertarget_specsupported_op tfliteopssetexperimental_tflite_builtins_activations_int_weights_int btfliteopssettflite_builtinsb tflite_quant_model converterconvert pre exampl use case accuraci improv provid quantiz scheme includ superresolut audio signal process nois cancel beamform imag denois hdr reconstruct singl imag disadvantag quantiz current infer notic slower bit full integ due lack optim kernel implement current incompat exist hardwar acceler tflite deleg note experiment featur tutori quantiz mode found herepost_training_integer_quant_xipynb model accuraci sinc weight quantiz post train could accuraci loss particularli smaller network pretrain fulli quantiz model provid specif network tensorflow lite model repositorymodel import check accuraci quantiz model verifi degrad accuraci within accept limit tool evalu tensorflow lite model accuracyhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsevaluationtasksextern altern accuraci drop high consid use quantiz awar traininghttpswwwtensorfloworgmodel_optimizationguidequantizationtrain howev requir modif model train add fake quantiz node wherea posttrain quantiz techniqu page use exist pretrain model represent quantiz tensor bit quantiz approxim float point valu use follow formula real_valu int_valu zero_point time scale represent two main part peraxi aka perchannel pertensor weight repres int two complement valu rang zeropoint equal pertensor activationsinput repres int two complement valu rang zeropoint rang detail view quantiz scheme pleas see quantiz specquantization_specmd hardwar vendor want plug tensorflow lite deleg interfac encourag implement quantiz scheme describ implement custom deleg toc tensorflow lite deleg tensorflow lite delegatehttpswwwtensorfloworgliteperformancedeleg allow run model part whole anoth executor mechan leverag varieti ondevic acceler gpu edg tpu tensor process unit infer provid develop flexibl decoupl method default tflite speed infer diagram summar deleg detail section tflite delegatesimagestflite_delegatepng tflite deleg creat custom deleg tensorflow lite wide varieti deleg target acceler gpu dsp edgetpu framework like android nnapi creat deleg use follow scenario want integr new ml infer engin support exist deleg custom hardwar acceler improv runtim known scenario develop cpu optim oper fuse speed certain model deleg work consid simpl model graph follow deleg mydeleg faster implement convd mean oper origin graphimagesperformancetflite_delegate_graph_png origin graph appli mydeleg origin tensorflow lite graph updat like follow graph delegateimagesperformancetflite_delegate_graph_png graph deleg graph obtain tensorflow lite split origin graph follow two rule specif oper could handl deleg put partit still satisfi origin comput workflow depend among oper tobedeleg partit input output node handl deleg partit handl deleg replac deleg node also call deleg kernel origin graph evalu partit invok call depend model final graph end one node latter mean op support deleg gener dont want multipl partit handl deleg time switch deleg main graph overhead pass result deleg subgraph main graph result due memori copi exampl gpu cpu overhead might offset perform gain especi larg amount memori copi implement custom deleg prefer method add deleg use simpledeleg apihttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegatesutilssimple_delegateh creat new deleg need implement interfac provid implement interfac method simpledelegateinterfac class repres capabl deleg oper support factori class creat kernel encapsul deleg graph detail see interfac defin c header filehttpsgithubcomtensorflowtensorflowblobacebbdbbbfabfaafecftensorflowlitedelegatesutilssimple_delegatehl comment code explain api detail simpledelegatekernelinterfac class encapsul logic initi prepar run deleg partit see definitionhttpsgithubcomtensorflowtensorflowblobacebbdbbbfabfaafecftensorflowlitedelegatesutilssimple_delegatehl init call onetim initi prepar call differ instanc node happen multipl deleg partit usual want memori alloc sinc call everytim tensor resiz invok call infer exampl exampl creat simpl deleg support type oper add sub float tensor mydeleg implement interfac simpledelegateinterfac hold deleg capabl class mydeleg public simpledelegateinterfac public bool isnodesupportedbydelegateconst tfliteregistr registr const tflitenod node tflitecontext context const overrid support add sub op ktflitebuiltinadd registrationbuiltin_cod ktflitebuiltinsub registrationbuiltin_cod return fals deleg support float type int nodeinputss auto tensor contexttensorsnodeinputsdatai tensortyp ktflitefloat return fals return true tflitestatu initializetflitecontext context overrid return ktfliteok const char name const overrid static constexpr char kname mydeleg return kname stdunique_ptrsimpledelegatekernelinterfac createdelegatekernelinterfac overrid return stdmake_uniquemydelegatekernel next creat deleg kernel inherit simpledelegatekernelinterfac deleg kernel class mydelegatekernel public simpledelegatekernelinterfac public tflitestatu inittflitecontext context const tflitedelegateparam param overrid save index node part deleg inputs_resizeparamsnodes_to_replaces outputs_resizeparamsnodes_to_replaces builtin_code_resizeparamsnodes_to_replaces int paramsnodes_to_replaces const int node_index paramsnodes_to_replacedatai get node inform tflitenod delegated_nod nullptr tfliteregistr delegated_node_registr nullptr tf_lite_ensure_eq context contextgetnodeandregistrationcontext node_index delegated_nod delegated_node_registr ktfliteok inputs_ipush_backdelegated_nodeinputsdata inputs_ipush_backdelegated_nodeinputsdata outputs_ipush_backdelegated_nodeoutputsdata builtin_code_i delegated_node_registrationbuiltin_cod return ktfliteok tflitestatu preparetflitecontext context tflitenod node overrid return ktfliteok tflitestatu evaltflitecontext context tflitenod node overrid evalu deleg graph loop deleg node know node either add sub oper number node equal inputs_s inputsi list tensor indic input node outputs_i list output node note intent simpl implement demonstr int inputs_s get node input tensor addsub oper accept input auto input_tensor_ contexttensorsinputs_i auto input_tensor_ contexttensorsinputs_i auto output_tensor contexttensorsoutputs_i tf_lite_ensure_eq context computeresultcontext builtin_code_i input_tensor_ input_tensor_ output_tensor ktfliteok return ktfliteok privat comput result addit input_tensor_ input_tensor_ store result output_tensor tflitestatu computeresulttflitecontext context int builtin_cod const tflitetensor input_tensor_ const tflitetensor input_tensor_ tflitetensor output_tensor numelementsinput_tensor_ numelementsinput_tensor_ numelementsinput_tensor_ numelementsoutput_tensor return ktflitedelegateerror code assum activ broadcast need input size auto input_ gettensordatafloatinput_tensor_ auto input_ gettensordatafloatinput_tensor_ auto output gettensordatafloatoutput_tensor int numelementsinput_tensor_ builtin_cod ktflitebuiltinadd outputi input_i input_i els outputi input_i input_i return ktfliteok hold indic inputoutput tensor inputs_i list input tensor node index outputs_i list output tensor node index stdvectorstdvectorint inputs_ outputs_ hold builtin code op builtin_code_i type node index stdvectorint builtin_code_ benchmark evalu new deleg tflite set tool quickli test tflite model model benchmark toolhttpsgithubcomtensorflowtensorflowtreefefaabadfeaafcadtensorflowlitetoolsbenchmark tool take tflite model gener random input repeatedli run model specifi number run print aggreg latenc statist end infer diff toolhttpsgithubcomtensorflowtensorflowtreefefaabadfeaafcadtensorflowlitetoolsevaluationtasksinference_diff given model tool gener random gaussian data pass two differ tflite interpret one run singl thread cpu kernel use userdefin spec measur absolut differ output tensor interpret perel basi tool also help debug accuraci issu also task specif evalu tool imag classif object detect tool found herehttpswwwtensorfloworgliteperformancedelegatestools_for_evalu addit tflite larg set kernel op unit test could reus test new deleg coverag ensur regular tflite execut path broken achiev reus tflite test tool new deleg use either follow two option util deleg registrarhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsdeleg mechan util extern delegatehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitedelegatesextern mechan choos best approach approach requir chang detail howev first approach link deleg static requir rebuild test benchmark evalu tool contrast second one make deleg share librari requir expos createdelet method share librari result externaldeleg mechan work tflite prebuilt tensorflow lite tool binariesdownloadlinksfornightlyprebuilttflitetoolingbinari less explicit might complic set autom integr test use deleg registrar approach better clariti option leverag deleg registrar deleg registrarhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsdeleg keep list deleg provid provid easi way creat tflite deleg base commandlin flag henc conveni tool plug new deleg tensorflow lite tool mention first creat new deleg provid like onehttpsgithubcomtensorflowtensorflowblobmastertensorflowlitetoolsdelegateshexagon_delegate_providercc make chang build rule full exampl integr process shown code found herehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitedelegatesutilsdummy_deleg assum deleg implement simpledeleg api extern c api creatingdelet dummi deleg shown return default option dummydeleg dummydelegateopt tflitedummydelegateoptionsdefault creat new deleg instanc need destroy tflitedummydelegatedelet deleg longer use tflite option set nullptr default valu use tflitedeleg tflitedummydelegatecreateconst dummydelegateopt option destroy deleg creat tflitedummydelegatecr call void tflitedummydelegatedeletetflitedeleg deleg integr dummydeleg benchmark tool infer tool defin delegateprovid like class dummydelegateprovid public delegateprovid public dummydelegateprovid default_params_addparamuse_dummy_deleg toolparamcreateboolfals stdvectorflag createflagstoolparam param const final void logparamsconst toolparam param const final tflitedelegateptr createtflitedelegateconst toolparam param const final stdstring getnam const final return dummydeleg register_delegate_providerdummydelegateprovid stdvectorflag dummydelegateprovidercreateflagstoolparam param const stdvectorflag flag createflagbooluse_dummy_deleg param use dummi deleg return flag void dummydelegateproviderlogparamsconst toolparam param const tflite_loginfo use dummi test deleg paramsgetbooluse_dummy_deleg tflitedelegateptr dummydelegateprovidercreatetflitedeleg const toolparam param const paramsgetbooluse_dummy_deleg auto default_opt tflitedummydelegateoptionsdefault return tflitedummydelegatecreateuniquedefault_opt return tflitedelegateptrnullptr tflitedeleg build rule definit import need make sure librari alway link drop optim follow use dummi test deleg tflite tool cc_librari name dummy_delegate_provid src dummy_delegate_providercc copt tflite_copt dep dummy_deleg tensorflowlitetoolsdelegatesdelegate_provider_hdr alwayslink requir optim doesnt optim librari away add two wrapper rule build file creat version benchmark tool infer tool evalu tool could run deleg cc_binari name benchmark_model_plus_dummy_deleg copt tflite_copt linkopt task_linkopt dep dummy_delegate_provid tensorflowlitetoolsbenchmarkbenchmark_model_main cc_binari name inference_diff_plus_dummy_deleg copt tflite_copt linkopt task_linkopt dep dummy_delegate_provid tensorflowlitetoolsevaluationtaskstask_executor_main tensorflowlitetoolsevaluationtasksinference_diffrun_eval_lib cc_binari name imagenet_classification_eval_plus_dummy_deleg copt tflite_copt linkopt task_linkopt dep dummy_delegate_provid tensorflowlitetoolsevaluationtaskstask_executor_main tensorflowlitetoolsevaluationtasksimagenet_image_classificationrun_eval_lib cc_binari name coco_object_detection_eval_plus_dummy_deleg copt tflite_copt linkopt task_linkopt dep dummy_delegate_provid tensorflowlitetoolsevaluationtaskstask_executor_main tensorflowlitetoolsevaluationtaskscoco_object_detectionrun_eval_lib also plug deleg provid tflite kernel test describ herehttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegatesutilsdummy_delegatereadmemdkerneltest option leverag extern deleg altern first creat extern deleg adaptor external_delegate_adaptorcchttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegatesutilsdummy_delegateexternal_delegate_adaptorcc shown note approach slightli less prefer compar option aforementionedcomparisonbetweenthetwoopt tflitedeleg createdummydelegatefromoptionschar options_key char options_valu size_t num_opt dummydelegateopt option tflitedummydelegateoptionsdefault pars keyvalu option dummydelegateopt achiev mimick commandlin flag stdunique_ptrconst char argv stdunique_ptrconst charnew const charnum_opt constexpr char kdummydelegatepars dummy_delegate_pars argvget kdummydelegatepars stdvectorstdstr option_arg option_argsreservenum_opt int num_opt option_argsemplace_back option_argsrbeginappendoptions_keysi option_argsrbeginpush_back option_argsrbeginappendoptions_valuesi argvgeti option_argsrbeginc_str defin commandlin flag stdvectortfliteflag flag_list tfliteflagcreateflag tfliteflagcreateflag int argc num_opt tfliteflagsparseargc argvget flag_list return nullptr return tflitedummydelegatecreateopt ifdef __cplusplu extern c endif __cplusplu defin two symbol need export use tflite extern deleg see tensorflowlitedelegatesextern detail tfl_capi_export tflitedeleg tflite_plugin_create_deleg char options_key char options_valu size_t num_opt void report_errorconst char return tflitetoolscreatedummydelegatefromopt options_key options_valu num_opt tfl_capi_export void tflite_plugin_destroy_delegatetflitedeleg deleg tflitedummydelegatedeletedeleg ifdef __cplusplu endif __cplusplu creat correspond build target build dynam librari shown cc_binari name dummy_external_delegateso src external_delegate_adaptorcc linkshar linkstat dep dummy_deleg tensorflowliteccommon tensorflowlitetoolscommand_line_flag tensorflowlitetoolslog extern deleg file creat build binari use prebuilt one run new deleg long binari link external_delegate_providerhttpsgithubcomtensorflowtensorflowblobcfdffcffddbcdeedbatensorflowlitetoolsdelegatesbuildl librari support commandlin flag describ herehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsdelegatesexternaldelegateprovid note extern deleg provid alreadi link exist test tool binari refer descript herehttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegatesutilsdummy_delegatereadmemdoptionutilizetensorflowliteexternaldeleg illustr benchmark dummi deleg via externaldeleg approach use similar command test evalu tool mention earlier worth note _extern delegate_ correspond c implement _delegate_ tensorflow lite python bind shown herehttpsgithubcomtensorflowtensorflowblobfcebeeffdfceetensorflowlitepythoninterpreterpyl therefor dynam extern deleg adaptor librari creat could directli use tensorflow lite python api resourc download link nightli prebuilt tflite tool binari tabl tr tdo td tdarch td tdbinary_nam td tr tr td rowspan linux td tdx_ td tdul lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_x_benchmark_modelbenchmark_modela lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_x_eval_inference_diffinference_diffa lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_x_eval_imagenet_image_classificationimagenet_image_classification_evala lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_x_eval_coco_object_detectioncoco_object_detection_evalaliul td tr tr tdarm td tdul lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_arm_benchmark_modelbenchmark_modela lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_arm_eval_inference_diffinference_diffa lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_arm_eval_imagenet_image_classificationimagenet_image_classification_evala lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_arm_eval_coco_object_detectioncoco_object_detection_evalaliul td tr tr tdaarch td tdul lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_aarch_benchmark_modelbenchmark_modela lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_aarch_eval_inference_diffinference_diffa lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_aarch_eval_imagenet_image_classificationimagenet_image_classification_evala lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_aarch_eval_coco_object_detectioncoco_object_detection_evalaliul td tr tr td rowspan android td tdarm td tdul lia hrefhttpstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_arm_benchmark_modelbenchmark_modela listronga hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_arm_benchmark_modelapkbenchmark_modelapkastrong lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_arm_eval_inference_diffinference_diffa lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_arm_eval_imagenet_image_classificationimagenet_image_classification_evala lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_arm_eval_coco_object_detectioncoco_object_detection_evalaliul td tr tr tdaarch td tdul lia hrefhttpstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_benchmark_modelbenchmark_modela listronga hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_benchmark_modelapkbenchmark_modelapkastrong lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_eval_inference_diffinference_diffa lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_eval_imagenet_image_classificationimagenet_image_classification_evala lia hrefhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_eval_coco_object_detectioncoco_object_detection_evalaliul td tr tabl perform measur benchmark tool tensorflow lite benchmark tool current measur calcul statist follow import perform metric initi time infer time warmup state infer time steadi state memori usag initi time overal memori usag benchmark tool avail benchmark app android io nativ commandlin binari share core perform measur logic note avail option output format slightli differ due differ runtim environ android benchmark app two option use benchmark tool android one nativ benchmark binarynativebenchmarkbinari anoth android benchmark app better gaug model would perform app either way number benchmark tool still differ slightli run infer model actual app android benchmark app ui instal run use adb command retriev result use adb logcat command download build app download nightli prebuilt android benchmark app use link android_aarchhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_benchmark_modelapk android_armhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_arm_benchmark_modelapk android benchmark app support tf opshttpswwwtensorfloworgliteguideops_select via flex delegatehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitedelegatesflex use link android_aarchhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_benchmark_model_plus_flexapk android_armhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_arm_benchmark_model_plus_flexapk also build app sourc follow instructionshttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkandroid note requir build app sourc want run android benchmark apk x cpu hexagon deleg model contain select tf operatorsguideops_select custom operatorsguideops_custom prepar benchmark run benchmark app instal app push model file devic follow shell adb instal r g android_aarch_benchmark_modelapk adb push your_modeltflit datalocaltmp run benchmark shell adb shell start n orgtensorflowlitebenchmarkbenchmarkmodelact es arg graphdatalocaltmpyour_modeltflit num_thread graph requir paramet graph string path tflite model file specifi option paramet run benchmark num_thread int default number thread use run tflite interpret use_gpu bool defaultfals use gpu delegategpu use_nnapi bool defaultfals use nnapi delegatennapi use_xnnpack bool defaultfals use xnnpack delegatehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitedelegatesxnnpack use_hexagon bool defaultfals use hexagon delegatehexagon_deleg depend devic use option may avail effect refer parametershttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkparamet perform paramet could run benchmark app view result use logcat command shell adb logcat grep averag infer benchmark result report tflite averag infer time us warmup init infer nativ benchmark binari benchmark tool also provid nativ binari benchmark_model execut tool shell command line linux mac embed devic android devic download build binari download nightli prebuilt nativ commandlin binari follow link linux_xhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_x_benchmark_model linux_aarchhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_aarch_benchmark_model linux_armhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_arm_benchmark_model android_aarchhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_benchmark_model android_armhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_arm_benchmark_model nightli prebuilt binari support tf opshttpswwwtensorfloworgliteguideops_select via flex delegatehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitedelegatesflex use link linux_xhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_x_benchmark_model_plus_flex linux_aarchhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_aarch_benchmark_model_plus_flex linux_armhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_arm_benchmark_model_plus_flex android_aarchhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_benchmark_model_plus_flex android_armhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_arm_benchmark_model_plus_flex benchmark tensorflow lite hexagon delegatehttpswwwtensorfloworgliteperformancehexagon_deleg also prebuilt requir libhexagon_interfaceso file see herehttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegateshexagonreadmemd detail file download file correspond platform link pleas renam file libhexagon_interfaceso android_aarchhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_libhexagon_interfaceso android_armhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_arm_libhexagon_interfaceso also build nativ benchmark binari sourcehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmark comput shell bazel build c opt tensorflowlitetoolsbenchmarkbenchmark_model build android ndk toolchain need set build environ first follow guideguidebuild_androidset_up_build_environment_without_dock use docker imag describ guideguidebuild_androidset_up_build_environment_using_dock shell bazel build c opt configandroid_arm tensorflowlitetoolsbenchmarkbenchmark_model note valid approach push execut binari directli android devic benchmark result subtl observ differ perform rel execut within actual android app particular android schedul tailor behavior base thread process prioriti differ foreground activityappl regular background binari execut via adb shell tailor behavior evid enabl multithread cpu execut tensorflow lite therefor android benchmark app prefer perform measur run benchmark run benchmark comput execut binari shell shell pathtodownloaded_or_builtbenchmark_model graphyour_modeltflit num_thread use set parametershttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkparamet mention nativ commandlin binari profil model op benchmark model binari also allow profil model op get execut time oper pass flag enable_op_profilingtru benchmark_model invoc detail explain herehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkprofilingmodeloper nativ benchmark binari multipl perform option singl run conveni simpl c binari also provid benchmark multipl perform optionshttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkbenchmarkmultipleperformanceoptionsinasinglerun singl run binari built base aforement benchmark tool could benchmark singl perform option time share buildinstallrun process build target name binari benchmark_model_performance_opt take addit paramet import paramet binari perf_options_list string defaultal commasepar list tflite perform option benchmark get nightli prebuilt binari tool list linux_xhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_x_benchmark_model_performance_opt linux_aarchhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_aarch_benchmark_model_performance_opt linux_armhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestlinux_arm_benchmark_model_performance_opt android_aarchhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_benchmark_model_performance_opt android_armhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_arm_benchmark_model_performance_opt io benchmark app run benchmark io devic need build app sourcehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkio put tensorflow lite model file benchmark_datahttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkiostflitebenchmarktflitebenchmarkbenchmark_data directori sourc tree modifi benchmark_paramsjson file file packag app app read data directori visit io benchmark apphttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkio detail instruct perform benchmark well known model section list tensorflow lite perform benchmark run well known model android io devic android perform benchmark perform benchmark number gener nativ benchmark binaryhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmark android benchmark cpu affin set use big core devic reduc varianc see detailshttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkreducingvariancebetweenrunsonandroid assum model download unzip datalocaltmptflite_model directori benchmark binari built use instructionshttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkonandroid assum datalocaltmp directori run benchmark sh adb shell datalocaltmpbenchmark_model num_thread graphdatalocaltmptflite_modelsgraph warmup_run num_run run nnapi deleg set use_nnapitru run gpu deleg set use_gputru perform valu measur android tabl thead tr thmodel nameth thdevic th thcpu threadsth thgputh thnnapith tr thead tr td rowspan hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgzmobilenet__floata td tdpixel td td mstd td mstd td mstd tr tr tdpixel td td mstd td mstd td mstd tr tr td rowspan hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgzmobilenet__ quanta td tdpixel td td mstd td td td mstd tr tr tdpixel td td mstd td td td mstd tr tr td rowspan hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_nasnet_mobile___tgznasnet mobilea td tdpixel td td mstd td td td mstd tr tr tdpixel td td mstd td td td mstd tr tr td rowspan hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_squeezenet___tgzsqueezeneta td tdpixel td td mstd td ms td td mstd tr tr tdpixel td td mstd td mstd td mstd tr tr td rowspan hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_inception_resnet_v___tgzinception_resnet_va td tdpixel td td mstd td ms td td mstd tr tr tdpixel td td mstd td mstd td mstd tr tr td rowspan hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_inception_v___tgzinception_va td tdpixel td td mstd td ms td td mstd tr tr tdpixel td td mstd td mstd td mstd tr tabl io perform benchmark perform benchmark number gener io benchmark apphttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkio run io benchmark benchmark app modifi includ appropri model benchmark_paramsjson modifi set num_thread use gpu deleg use_gpu gpu_wait_typ aggress option also ad benchmark_paramsjson tabl thead tr thmodel nameth thdevic th thcpu threadsth thgputh tr thead tr td hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgzmobilenet__floata td tdiphon xs td td mstd td mstd tr tr td hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgzmobilenet__ quanta td tdiphon xs td td mstd tdtd tr tr td hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_nasnet_mobile___tgznasnet mobilea td tdiphon xs td td mstd tdtd tr tr td hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_squeezenet___tgzsqueezeneta td tdiphon xs td td mstd td mstd tr tr td hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_inception_resnet_v___tgzinception_resnet_va td tdiphon xs td td mstd td mstd tr tr td hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemodel_zooupload_inception_v___tgzinception_va td tdiphon xs td td mstd td mstd tr tabl trace tensorflow lite intern trace tensorflow lite intern android note featur avail tensorflow lite v intern event tensorflow lite interpret android app captur android trace toolshttpsdeveloperandroidcomtopicperformancetrac event android tracehttpsdeveloperandroidcomreferenceandroidostrac api captur event javakotlin code seen togeth tensorflow lite intern event exampl event oper invoc graph modif deleg tensor alloc among differ option captur trace guid cover android studio cpu profil system trace app refer perfetto commandlin toolhttpsdeveloperandroidcomstudiocommandlineperfetto systrac commandlin toolhttpsdeveloperandroidcomtopicperformancetracingcommandlin option ad trace event java code code snippet imag classificationhttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationandroid exampl app tensorflow lite interpret run recognizeimageruninfer section step option use help notic infer call made java tracebeginsectionrecognizeimag run infer call tracebeginsectionruninfer tfliteruninputimagebuffergetbuff outputprobabilitybuffergetbufferrewind traceendsect traceendsect enabl tensorflow lite trace enabl tensorflow lite trace set android system properti debugtflitetrac start android app shell adb shell setprop debugtflitetrac properti set tensorflow lite interpret initi key event eg oper invoc interpret trace captur trace disabl trace set properti valu shell adb shell setprop debugtflitetrac android studio cpu profil captur trace android studio cpu profilerhttpsdeveloperandroidcomstudioprofilecpuprofil follow step select run profil app top menu click anywher cpu timelin profil window appear select trace system call among cpu profil mode select trace system callsimagesas_select_profiling_modepng press record button press stop button investig trace result android studio traceimagesas_tracespng exampl see hierarchi event thread statist oper time also see data flow whole app among thread system trace app captur trace without android studio follow step detail system trace apphttpsdeveloperandroidcomtopicperformancetracingondevic exampl tflite event captur save perfetto systrac format depend version android devic captur trace file open perfetto uihttpsuiperfettodev perfetto traceimagesperfetto_tracespng trace tensorflow lite intern io note featur avail tensorflow lite v intern event tensorflow lite interpret io app captur instrumentshttpsdeveloperapplecomlibraryarchivedocumentationtoolslanguagesconceptualxcode_overviewmeasuringperformancehtmlapple_refdocuidtpchsw tool includ xcode io signposthttpsdeveloperapplecomdocumentationosloggingrecording_performance_data event captur event swiftobjectivec code seen togeth tensorflow lite intern event exampl event oper invoc graph modif deleg tensor alloc enabl tensorflow lite trace set environ variabl debugtflitetrac follow step select product scheme edit scheme top menu xcode click profil left pane deselect use run action argument environ variabl checkbox add debugtflitetrac environ variabl section set environ variableimagesxcode_profile_environmentpng want exclud tensorflow lite event profil io app disabl trace remov environ variabl xcode instrument captur trace follow step select product profil top menu xcode click log among profil templat instrument tool launch press start button press stop button click os_signpost expand os log subsystem item click orgtensorflowlit os log subsystem investig trace result xcode instrument traceimagesxcode_tracespng exampl see hierarchi event statist oper time use trace data trace data allow identifi perform bottleneck exampl insight get profil potenti solut improv perform number avail cpu core smaller number infer thread cpu schedul overhead lead subpar perform reschedul cpu intens task applic avoid overlap model infer tweak number interpret thread oper fulli deleg part model graph execut cpu rather expect hardwar acceler substitut unsupport oper similar support oper tensorflow lite deleg introduct deleg enabl hardwar acceler tensorflow lite model leverag ondevic acceler gpu digit signal processor dsphttpsenwikipediaorgwikidigital_signal_processor default tensorflow lite util cpu kernel optim arm neonhttpsdeveloperarmcomdocumentationdhtaintroducingneonneonarchitectureoverviewneoninstruct instruct set howev cpu multipurpos processor isnt necessarili optim heavi arithmet typic found machin learn model exampl matrix math involv convolut dens layer hand modern mobil phone contain chip better handl heavi oper util neural network oper provid huge benefit term latenc power effici exampl gpu provid upto x speeduphttpsblogtensorfloworgfastermobilegpuinferencewithopenclhtml latenc qualcomm hexagon dsphttpsdeveloperqualcommcomsoftwarehexagondspsdkdspprocessor shown reduc power consumpt upto experi acceler associ api enabl custom comput openclhttpswwwkhronosorgopencl opengl eshttpswwwkhronosorgopengl mobil gpu qualcomm hexagon sdkhttpsdeveloperqualcommcomsoftwarehexagondspsdk dsp typic would write lot custom code run neural network interfac thing get even complic consid acceler pro con execut everi oper neural network tensorflow lite deleg api solv problem act bridg tflite runtim lowerlevel api runtim delegatesimagesdelegate_runtimepng choos deleg tensorflow lite support multipl deleg optim certain platform particular type model usual multipl deleg applic usecas depend two major criteria platform android io target modeltyp floatingpoint quantiz tri acceler deleg platform crossplatform android io gpu deleg gpu deleg use android io optim run bit bit float base model gpu avail also support bit quantiz model provid gpu perform par float version detail gpu deleg see tensorflow lite gpugpu_advancedmd stepbystep tutori use gpu deleg android io see tensorflow lite gpu deleg tutorialgpumd android nnapi deleg newer android devic nnapi deleg use acceler model android devic gpu dsp npu avail avail android api higher overview nnapi deleg stepbystep instruct best practic see tensorflow lite nnapi delegatennapimd hexagon deleg older android devic hexagon deleg use acceler model android devic qualcomm hexagon dsp use devic run older version android support nnapi see tensorflow lite hexagon delegatehexagon_delegatemd detail io core ml deleg newer iphon ipad newer iphon ipad neural engin avail use core ml deleg acceler infer bit bit floatingpoint model neural engin avail appl mobil devic soc higher overview core ml deleg stepbystep instruct see tensorflow lite core ml delegatecoreml_delegatemd deleg model type acceler design certain bitwidth data mind provid floatingpoint model deleg support bit quantiz oper hexagon delegatehexagon_delegatemd reject oper model run entir cpu avoid surpris tabl provid overview deleg support base model type model type gpu nnapi hexagon coreml floatingpoint bit ye ye ye posttrain float quantizationpost_training_float_quantipynb ye ye posttrain dynam rang quantizationpost_training_quantipynb ye ye posttrain integ quantizationpost_training_integer_quantipynb ye ye ye quantizationawar traininghttpwwwtensorfloworgmodel_optimizationguidequantizationtrain ye ye ye valid perform inform section act rough guidelin shortlist deleg could improv applic howev import note deleg predefin set oper support may perform differ depend model devic exampl nnapi delegatennapimd may choos use googl edgetpu pixel phone util dsp anoth devic therefor usual recommend perform benchmark gaug use deleg need also help justifi binari size increas associ attach deleg tensorflow lite runtim tensorflow lite extens perform accuracyevalu tool empow develop confid use deleg applic tool discuss next section tool evalu latenc memori footprint tensorflow lite benchmark toolhttpswwwtensorfloworgliteperformancemeasur use suitabl paramet estim model perform includ averag infer latenc initi overhead memori footprint etc tool support multipl flag figur best deleg configur model instanc gpu_backendgl specifi use_gpu measur gpu execut opengl complet list support deleg paramet defin detail documentationhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitetoolsdelegatesreadmemdtflitedelegateregistrar here exampl run quantiz model gpu via adb adb shell datalocaltmpbenchmark_model graphdatalocaltmpmobilenet_v__quanttflit use_gputru download prebuilt version tool android bit arm architectur herehttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_benchmark_modelapk detailshttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkandroid accuraci correct deleg usual perform comput differ precis cpu counterpart result usual minor accuraci tradeoff associ util deleg hardwar acceler note isnt alway true exampl sinc gpu use floatingpoint precis run quantiz model might slight precis improv eg top improv ilsvrc imag classif tensorflow lite two type tool measur accur deleg behav given model taskbas taskagnost tool describ section support advanc deleg parametershttpsgithubcomtensorflowtensorflowblobmastertensorflowlitetoolsdelegatesreadmemdtflitedelegateregistrar use benchmark tool previou section note subsect focu deleg evalu deleg perform cpu rather model evalu model good task taskbas evalu tensorflow lite tool evalu correct two imagebas task ilsvrc httpimagenetorgchallengeslsvrc imag classif topk accuracyhttpsenwikipediaorgwikievaluation_measures_information_retrievalprecision_at_k coco object detect w bound boxeshttpscocodatasetorgdetect mean averag precis maphttpsenwikipediaorgwikievaluation_measures_information_retrievalmean_average_precis prebuilt binari tool android bit arm architectur along document found imagenet imag classificationhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_eval_imagenet_image_classif detailshttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsevaluationtasksimagenet_image_classif coco object detectionhttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_eval_coco_object_detect detailshttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsevaluationtaskscoco_object_detect exampl demonstr imag classif evaluationhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsevaluationtasksimagenet_image_classif nnapi util googl edgetpu pixel adb shell datalocaltmprun_ev model_filedatalocaltmpmobilenet_quant_v_tflit ground_truth_images_pathdatalocaltmpilsvrc_imag ground_truth_labelsdatalocaltmpilsvrc_validation_labelstxt model_output_labelsdatalocaltmpmodel_output_labelstxt output_file_pathdatalocaltmpaccuracy_outputtxt num_imag run imag use_nnapitru nnapi_accelerator_namegoogleedgetpu expect output list topk metric top accuraci top accuraci top accuraci top accuraci top accuraci top accuraci top accuraci top accuraci top accuraci top accuraci taskagnost evalu task isnt establish ondevic evalu tool experi custom model tensorflow lite infer diffhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsevaluationtasksinference_diff tool android bit arm binari architectur binari herehttpsstoragegoogleapiscomtensorflownightlypublicprodtensorflowreleaselitetoolsnightlylatestandroid_aarch_eval_inference_diff infer diff compar tensorflow lite execut term latenc outputvalu deviat two set singlethread cpu infer userdefin infer defin parametershttpsgithubcomtensorflowtensorflowblobmastertensorflowlitetoolsdelegatesreadmemdtflitedelegateregistrar tool gener random gaussian data pass two tflite interpret one run singlethread cpu kernel parameter user argument measur latenc well absolut differ output tensor interpret perel basi model singl output tensor output might look like num evalu run refer run latenc avgu std_devu test run latenc avgu std_devu outputdiff avg_error std_deve mean output tensor index element cpu output differ deleg output averag e note interpret number requir deeper knowledg model output tensor signifi simpl regress determin sort score embed differ low otherwis error deleg howev output like detect class one ssd model littl harder interpret exampl might show differ use tool may mean someth realli wrong deleg consid two fake class tv id monitor id deleg slightli golden truth show monitor instead tv output diff tensor might someth high tensorflow lite gpu tensorflow litehttpswwwtensorfloworgmobiletflit support sever hardwar acceler document describ use gpu backend use tensorflow lite deleg api android requir opencl opengl es higher io requir io later benefit gpu acceler speed gpu design high throughput massiv paralleliz workload thu wellsuit deep neural net consist huge number oper work input tensor easili divid smaller workload carri parallel parallel typic result lower latenc best scenario infer gpu may run fast enough becom suitabl realtim applic previous possibl accuraci gpu comput bit bit float point number unlik cpu requir quantiz optim perform decreas accuraci made quantiz unten model run neural network gpu may elimin concern energi effici anoth benefit come gpu infer power effici gpu carri comput effici optim way consum less power gener less heat task run cpu support op tensorflow lite gpu support follow op bit bit float precis add average_pool_d concaten conv_d depthwise_conv_d v exp fully_connect logist lstm v basic lstm max_pool_d maximum minimum mul pad prelu relu relu reshap resize_bilinear v softmax strided_slic sub transpose_conv default op support version enabl experiment quantiz supportgpu_advancedmdrunningquantizedmodelsexperimentalandroidonli allow appropri version exampl add v basic usag two way invok model acceler android depend use android studio ml model bindinginference_with_metadatacodegenacceler tensorflow lite interpret android via tensorflow lite interpret add tensorflowlitegpu packag alongsid exist tensorflowlit packag exist depend block depend implement orgtensorflowtensorflowlit implement orgtensorflowtensorflowlitegpu run tensorflow lite gpu tflitedeleg java specifi gpudeleg interpreteropt div devsiteselector section hkotlinh ppre classprettyprint langkotlin import orgtensorflowliteinterpret import orgtensorflowlitegpucompatibilitylist import orgtensorflowlitegpugpudeleg val compatlist compatibilitylist val option interpreteroptionsappli ifcompatlistisdelegatesupportedonthisdevic devic support gpu add gpu deleg val delegateopt compatlistbestoptionsforthisdevic thisadddelegategpudelegatedelegateopt els gpu support run thread thissetnumthread val interpret interpretermodel option run infer writetoinputinput interpreterruninput output readfromoutputoutput prep section section hjavah ppre classprettyprint langjava import orgtensorflowliteinterpret import orgtensorflowlitegpucompatibilitylist import orgtensorflowlitegpugpudeleg initi interpret gpu deleg interpreteropt option new interpreteropt compatibilitylist compatlist compatibilitylist ifcompatlistisdelegatesupportedonthisdevic devic support gpu add gpu deleg gpudelegateopt delegateopt compatlistgetbestoptionsforthisdevic gpudeleg gpudeleg new gpudelegatedelegateopt optionsadddelegategpudeleg els gpu support run thread optionssetnumthread interpret interpret new interpretermodel option run infer writetoinputinput interpreterruninput output readfromoutputoutput prep section devsiteselector div android cc cc usag tensorflow lite gpu android gpu deleg creat tflitegpudelegatevcr destroy tflitegpudelegatevdelet c set interpret auto model flatbuffermodelbuildfromfilemodel_path model return fals opsbuiltinbuiltinopresolv op_resolv stdunique_ptrinterpret interpret interpreterbuildermodel op_resolverinterpret new prepar gpu deleg auto deleg tflitegpudelegatevcreatedefault optionsnullptr interpretermodifygraphwithdelegatedeleg ktfliteok return fals run infer writetoinputtensorinterpretertyped_input_tensorfloat interpreterinvok ktfliteok return fals readfromoutputtensorinterpretertyped_output_tensorfloat new clean tflitegpudelegatevdeletedeleg take look tflitegpudelegateoptionsv creat deleg instanc custom option initi default option tflitegpudelegateoptionsvdefault modifi necessari tflite gpu android cc use bazelhttpsbazelio build system deleg built exampl use follow command sh bazel build c opt config android_arm tensorflowlitedelegatesgpudeleg static librari bazel build c opt config android_arm tensorflowlitedelegatesgpulibtensorflowlite_gpu_delegateso dynam librari note call interpretermodifygraphwithdeleg interpreterinvok caller must eglcontext current thread interpreterinvok must call eglcontext eglcontext exist deleg intern creat one develop must ensur interpreterinvok alway call thread interpretermodifygraphwithdeleg call io c note swiftobjectivecc use case pleas refer gpu deleg guidegpuio note avail use bazel build tensorflow lite c api cant use cocoapod use tensorflow lite gpu get gpu deleg via tflgpudelegatecr pass interpretermodifygraphwithdeleg instead call interpreterallocatetensor c set interpret auto model flatbuffermodelbuildfromfilemodel_path model return fals tfliteopsbuiltinbuiltinopresolv op_resolv stdunique_ptrinterpret interpret interpreterbuildermodel op_resolverinterpret new prepar gpu deleg auto deleg tflgpudelegatecreatedefault optionsnullptr interpretermodifygraphwithdelegatedeleg ktfliteok return fals run infer writetoinputtensorinterpretertyped_input_tensorfloat interpreterinvok ktfliteok return fals readfromoutputtensorinterpretertyped_output_tensorfloat clean tflgpudelegatedeletedeleg advanc usag deleg option io constructor gpu deleg accept struct option swift apihttpsgithubcomtensorflowtensorflowblobmastertensorflowliteswiftsourcesmetaldelegateswift objectivec apihttpsgithubcomtensorflowtensorflowblobmastertensorflowliteobjcapistflmetaldelegateh c apihttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegatesgpumetal_delegateh pass nullptr c api noth objectivec swift api initi set default option explic basic usag exampl div devsiteselector section hswifth ppre classprettyprint langswift var option metaldelegateopt optionsisprecisionlossallow fals optionswaittyp passiv optionsisquantizationen true let deleg metaldelegateopt option let deleg metaldeleg prep section section hobjectivech ppre classprettyprint langobjc tflmetaldelegateopt option tflmetaldelegateopt alloc init optionsprecisionlossallow fals optionswaittyp tflmetaldelegatethreadwaittypepass optionsquantizationen true tflmetaldeleg deleg tflmetaldeleg alloc initwithoptionsopt tflmetaldeleg deleg tflmetaldeleg alloc init prep section section hch ppre classprettyprint langc const tflgpudelegateopt option allow_precision_loss fals wait_typ tflgpudelegatewaittypetflgpudelegatewaittypepass enable_quant true tflitedeleg deleg tflgpudelegatecreateopt tflitedeleg deleg tflgpudelegatecreatenullptr prep section devsiteselector div conveni use nullptr default constructor recommend explicitli set option avoid unexpect behavior default valu chang futur run quantiz model gpu section explain gpu deleg acceler bit quantiz model includ flavor quantiz includ model train quantizationawar traininghttpswwwtensorfloworgliteconvertquant posttrain dynamicrang quantizationhttpswwwtensorfloworgliteperformancepost_training_qu posttrain fullinteg quantizationhttpswwwtensorfloworgliteperformancepost_training_integer_qu optim perform use model floatingpoint input output tensor work sinc gpu backend support floatingpoint execut run quantiz model give floatingpoint view origin model highlevel entail follow step constant tensor weightsbias dequant gpu memori happen deleg appli tflite interpret input output gpu program bit quantiz dequant quantiz respect infer done cpu use tflite optim kernel gpu program modifi mimic quantiz behavior insert quantiz simul oper necessari model op expect activ follow bound learnt quantiz featur enabl use deleg option follow android android api support quantiz model default disabl follow c api c tflitegpudelegateoptionsv option tflitegpudelegateoptionsvdefault optionsexperimental_flag tflite_gpu_experimental_flags_non auto deleg tflitegpudelegatevcreateopt interpretermodifygraphwithdelegatedeleg ktfliteok return fals java api java gpudeleg deleg new gpudelegatenew gpudelegateoptionssetquantizedmodelsallowedfals interpreteropt option new interpreteroptionsadddelegatedeleg io io api support quantiz model default disabl follow div devsiteselector section hswifth ppre classprettyprint langswift var option metaldelegateopt optionsisquantizationen fals let deleg metaldelegateopt option prep section section hobjectivech ppre classprettyprint langobjc tflmetaldelegateopt option tflmetaldelegateopt alloc init optionsquantizationen fals prep section section hch ppre classprettyprint langc tflgpudelegateopt option tflgpudelegateoptionsdefault optionsenable_quant fals tflitedeleg deleg tflgpudelegatecreateopt prep section devsiteselector div inputoutput buffer io c api note avail use bazel build tensorflow lite c api cant use cocoapod comput gpu data must made avail gpu often requir perform memori copi desir cross cpugpu memori boundari possibl take signific amount time usual cross inevit special case one omit network input imag alreadi load gpu memori exampl gpu textur contain camera feed stay gpu memori without ever enter cpu memori similarli network output form render imag exampl imag style transferhttpswwwcvfoundationorgopenaccesscontent_cvpr_papersgatys_image_style_transfer_cvpr__paperpdf directli display screen achiev best perform tensorflow lite make possibl user directli read write tensorflow hardwar buffer bypass avoid memori copi assum imag input gpu memori must first convert mtlbuffer object metal associ tflitetensor userprepar mtlbuffer tflgpudelegatebindmetalbuffertotensor note tflgpudelegatebindmetalbuffertotensor must call interpretermodifygraphwithdeleg addit infer output default copi gpu memori cpu memori behavior turn call interpretersetallowbufferhandleoutputtru initi c includ tensorflowlitedelegatesgpumetal_delegateh includ tensorflowlitedelegatesgpumetal_delegate_internalh prepar gpu deleg auto deleg tflgpudelegatecreatenullptr interpretermodifygraphwithdelegatedeleg ktfliteok return fals interpretersetallowbufferhandleoutputtru disabl default gpucpu copi tflgpudelegatebindmetalbuffertotensor deleg interpreterinput user_provided_input_buff return fals tflgpudelegatebindmetalbuffertotensor deleg interpreteroutput user_provided_output_buff return fals run infer interpreterinvok ktfliteok return fals note default behavior turn copi infer output gpu memori cpu memori requir explicit call interpreterensuretensordataisread output tensor note also work quantiz model still need float size buffer float data buffer bound intern dequant buffer gpu deleg serial use serial gpu kernel code model data previou initi reduc latenc gpu deleg initi improv achiev exchang disk space time save enabl featur configur option shown follow code exampl div devsiteselector section hch ppre classprettyprint langcpp tflitegpudelegateoptionsv option tflitegpudelegateoptionsvdefault optionsexperimental_flag tflite_gpu_experimental_flags_enable_seri optionsserialization_dir ktmpdir optionsmodel_token kmodeltoken auto deleg tflitegpudelegatevcreateopt interpretermodifygraphwithdelegatedeleg ktfliteok return fals prep section section hjavah ppre classprettyprint langjava gpudeleg deleg new gpudeleg new gpudelegateoptionssetserializationparam serializationdir serializationdir modeltoken modeltoken interpreteropt option new interpreteroptionsadddelegatedeleg prep section devsiteselector div use serial featur make sure code compli implement rule store serial data directori access app android devic use getcodecachedirhttpsdeveloperandroidcomreferenceandroidcontentcontextgetcachedir point locat privat current applic model token must uniqu devic specif model comput model token gener fingerprint model data eg use farmhashfingerprinthttpsgithubcomgooglefarmhash note featur requir opencl sdkhttpsgithubcomkhronosgroupopenclsdk serial support tip trick oper trivial cpu may high cost gpu one class oper includ variou form reshap oper includ batch_to_spac space_to_batch space_to_depth similar oper oper requir exampl insert help network architect reason system otherwis affect output worth remov perform gpu tensor data slice channel thu comput tensor shape b h w perform tensor shape b h w significantli wors b h w exampl camera hardwar support imag frame rgba feed channel input significantli faster memori copi channel rgb channel rgbx avoid best perform hesit retrain classifi mobileoptim network architectur signific part optim ondevic infer tensorflow lite nnapi deleg android neural network api nnapihttpsdeveloperandroidcomndkguidesneuralnetwork avail android devic run android api level higher provid acceler tensorflow lite model android devic support hardwar acceler includ graphic process unit gpu digit signal processor dsp neural process unit npu perform vari depend specif hardwar avail devic page describ use nnapi deleg tensorflow lite interpret java kotlin android c api pleas refer android nativ develop kit documentationhttpsdeveloperandroidcomndkguidesneuralnetwork tri nnapi deleg model gradl import nnapi deleg part tensorflow lite android interpret releas higher import project ad follow modul gradl file groovi depend implement orgtensorflowtensorflowlit initi nnapi deleg add code initi nnapi deleg initi tensorflow lite interpret note although nnapi support api level android oreo mr support oper improv significantli api level android pie onward result recommend develop use nnapi deleg android pie scenario java import orgtensorflowliteinterpret import orgtensorflowlitennapinnapideleg interpreteropt option new interpreteropt nnapideleg nnapideleg null initi interpret nnapi deleg android pie ifbuildversionsdk_int buildversion_codesp nnapideleg new nnapideleg optionsadddelegatennapideleg initi tflite interpret tri tflite new interpreterloadmodelfileassetmanag modelfilenam option catch except e throw new runtimeexception run infer unload deleg tfliteclos ifnul nnapideleg nnapidelegateclos best practic test perform deploy runtim perform vari significantli due model architectur size oper hardwar avail runtim hardwar util exampl app heavili util gpu render nnapi acceler may improv perform due resourc content recommend run simpl perform test use debug logger measur infer time run test sever phone differ chipset manufactur model manufactur repres user base enabl nnapi product advanc develop tensorflow lite also offer model benchmark tool androidhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmark creat devic exclus list product may case nnapi perform expect recommend develop maintain list devic use nnapi acceler combin particular model creat list base valu roboardplatform retriev use follow code snippet java string boardplatform tri process sysprocess new processbuildersystembingetprop roboardplatform redirecterrorstreamtruestart bufferedread reader new bufferedread new inputstreamreadersysprocessgetinputstream string currentlin null currentlinereaderreadlin null boardplatform line sysprocessdestroy catch ioexcept e logdboard platform boardplatform advanc develop consid maintain list via remot configur system tensorflow team activ work way simplifi autom discov appli optim nnapi configur quantiz quantiz reduc model size use bit integ bit float instead bit float comput bit integ model size quarter bit float version bit float half size quantiz improv perform significantli though process could trade model accuraci multipl type posttrain quantiz techniqu avail maximum support acceler current hardwar recommend full integ quantizationpost_training_quantizationfull_integer_quantization_of_weights_and_activ approach convert weight oper integ quantiz process requir repres dataset work use support model op nnapi deleg support op paramet combin model framework run support part graph acceler remaind run cpu result split execut due high cost cpuacceler synchron may result slower perform execut whole network cpu alon nnapi perform best model use support opshttpsdeveloperandroidcomndkguidesneuralnetworksmodel follow model known compat nnapi mobilenet v x imag classif float model downloadhttpsaigoogleblogcommobilenetsopensourcemodelsforhtml quantiz model downloadhttpdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v___quanttgz _imag classif model design mobil embed base vision applications_ mobilenet v ssd object detectionhttpsaigoogleblogcomacceleratedtrainingandinferencewithhtml downloadhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitegpumobile_ssd_v_float_cocotflit _imag classif model detect multipl object bound boxes_ mobilenet vx singl shot detector ssd object detectionhttpsaigoogleblogcomacceleratedtrainingandinferencewithhtml download httpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitecoco_ssd_mobilenet_v__quant___zip posenet pose estimationhttpsgithubcomtensorflowtfjsmodelstreemasterposenet downloadhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitegpumulti_person_mobilenet_v__floattflit _vision model estim pose person imag video_ nnapi acceler also support model contain dynamicallys output case get warn like none error attempt use deleg support statics tensor graph dynamics tensor enabl nnapi cpu implement graph cant process complet acceler fall back nnapi cpu implement howev sinc typic less perform tensorflow interpret option disabl default nnapi deleg android api level overrid behavior set setusennapicpu true nnapidelegateopt object tensorflow lite hexagon deleg document explain use tensorflow lite hexagon deleg applic use java andor c api deleg leverag qualcomm hexagon librari execut quantiz kernel dsp note deleg intend complement nnapi function particularli devic nnapi dsp acceler unavail eg older devic devic dont yet dsp nnapi driver note deleg experiment beta phase support devic current follow hexagon architectur support includ limit hexagon soc exampl snapdragon hexagon soc exampl snapdragon hexagon soc exampl snapdragon snapdragon qc qc hexagon soc exampl snapdragon qc qc rb support model hexagon deleg support model conform bit symmetr quantiz spechttpswwwtensorfloworgliteperformancequantization_spec includ gener use posttrain integ quantizationhttpswwwtensorfloworgliteperformancepost_training_integer_qu uint model train legaci quantizationawar traininghttpsgithubcomtensorflowtensorflowtreertensorflowcontribquant path also support eg quantiz versionshttpswwwtensorfloworgliteguidehosted_modelsquantized_model host model page hexagon deleg java api java public class hexagondeleg implement deleg closeabl creat new hexagondeleg object given current context throw unsupportedoperationexcept hexagon dsp deleg avail devic public hexagondelegatecontext context throw unsupportedoperationexcept free tflite resourc c runtim user expect call method explicitli overrid public void close exampl usag step edit appbuildgradl use nightli hexagon deleg aar depend implement orgtensorflowtensorflowlitenightlysnapshot implement orgtensorflowtensorflowlitehexagonnightlysnapshot step add hexagon librari android app download run hexagon_nn_skelrun provid differ share librari libhexagon_nn_skelso libhexagon_nn_skel_vso libhexagon_nn_skel_vso vhttpsstoragecloudgooglecomdownloadtensorfloworgtflitehexagon_nn_skel____run vhttpsstoragecloudgooglecomdownloadtensorfloworgtflitehexagon_nn_skel_vrun vhttpsstoragecloudgooglecomdownloadtensorfloworgtflitehexagon_nn_skel_vrun vhttpsstoragecloudgooglecomdownloadtensorfloworgtflitehexagon_nn_skel_vrun vhttpsstoragecloudgooglecomdownloadtensorfloworgtflitehexagon_nn_skel_vrun note need accept licens agreement note use v note must use hexagon_nn librari compat version interfac librari interfac librari part aar fetch bazel confighttpsgithubcomtensorflowtensorflowblobmasterthird_partyhexagonworkspacebzl version bazel config version use includ app share librari see add share librari apphowtoaddsharedlibrarytoyourapp deleg automat pick one best perform depend devic note app built bit arm devic need add hexagon share lib bit lib folder step creat deleg initi tensorflow lite interpret java import orgtensorflowlitehexagondeleg creat deleg instanc tri hexagondeleg new hexagondelegateact tfliteoptionsadddelegatehexagondeleg catch unsupportedoperationexcept e hexagon deleg support devic tfliteinterpret new interpretertflitemodel tfliteopt dispos finish infer tfliteinterpreterclos hexagondeleg null hexagondelegateclos hexagon deleg c api c struct tflitehexagondelegateopt correspond debug level hexagon sdk default mean debug int debug_level correspond powersave_level hexagon sdk default mean high perform mean power consumpt int powersave_level set true perform inform graph dump standard output includ cpu cycl warn experiment subject chang anytim bool print_graph_profil set true graph structur dump standard output usual benefici see actual node execut dsp combin debug_level inform print warn experiment subject chang anytim bool print_graph_debug return deleg use hexagon sdk op execut must outliv interpret tflitedeleg tflitehexagondelegatecreateconst tflitehexagondelegateopt option need cleanup delet deleg void tflitehexagondelegatedeletetflitedeleg deleg initi dsp connect call usag deleg lib_directory_path path directori hold share librari hexagon nn librari devic void tflitehexagoninitwithpathconst char lib_directory_path method doesnt accept path param assum environ setup alreadi done initi hexagon void tflitehexagoninit clean switch dsp connect call process done deleg delet void tflitehexagonteardown exampl usag step edit appbuildgradl use nightli hexagon deleg aar depend implement orgtensorflowtensorflowlitenightlysnapshot implement orgtensorflowtensorflowlitehexagonnightlysnapshot step add hexagon librari android app download run hexagon_nn_skelrun provid differ share librari libhexagon_nn_skelso libhexagon_nn_skel_vso libhexagon_nn_skel_vso vhttpsstoragecloudgooglecomdownloadtensorfloworgtflitehexagon_nn_skel____run vhttpsstoragecloudgooglecomdownloadtensorfloworgtflitehexagon_nn_skel_vrun vhttpsstoragecloudgooglecomdownloadtensorfloworgtflitehexagon_nn_skel_vrun vhttpsstoragecloudgooglecomdownloadtensorfloworgtflitehexagon_nn_skel_vrun vhttpsstoragecloudgooglecomdownloadtensorfloworgtflitehexagon_nn_skel_vrun note need accept licens agreement note use v note must use hexagon_nn librari compat version interfac librari interfac librari part aar fetch bazel confighttpsgithubcomtensorflowtensorflowblobmasterthird_partyhexagonworkspacebzl version bazel config version use includ app share librari see add share librari apphowtoaddsharedlibrarytoyourapp deleg automat pick one best perform depend devic note app built bit arm devic need add hexagon share lib bit lib folder step includ c header header file hexagon_delegateh download githubhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegateshexagonhexagon_delegateh extract hexagon deleg aar step creat deleg initi tensorflow lite interpret code ensur nativ hexagon librari load done call systemloadlibrarytensorflowlite_hexagon_jni activ java entrypoint creat deleg exampl c includ tensorflowlitedelegateshexagonhexagon_delegateh assum share librari datalocaltmp file packag nativ lib android app typic equival path provid getcontextgetapplicationinfonativelibrarydir const char library_directory_path datalocaltmp tflitehexagoninitwithpathlibrary_directory_path need startup tflitetflitehexagondelegateopt param delegate_ptr need outliv interpret exampl use case need resiz input anyth trigger reappli deleg delegate_ptr need outliv interpret auto delegate_ptr tflitetflitehexagondelegatecreateparam interpretertflitedelegateptr delegatedelegate_ptr tflitedeleg deleg tflitetflitehexagondelegatedeletedeleg interpretermodifygraphwithdelegatedelegateget usag deleg tflitehexagonteardown need end appdsp usag add share librari app creat folder appsrcmainjnilib creat directori target architectur exampl arm bit appsrcmainjnilibsarmva arm bit appsrcmainjnilibsarmeabiva put directori match architectur note your use app bundl publish applic might want set androidbundleenableuncompressednativelibsfals gradleproperti file feedback issu pleas creat githubhttpsgithubcomtensorflowtensorflowissuesnewtemplateotherissuesmd issu necessari repro detail includ phone model board use adb shell getprop roproductdevic adb shell getprop roboardplatform faq op support deleg see current list support op constraintshttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegateshexagonreadmemd tell model use dsp enabl deleg two log messag print enabl deleg one indic deleg creat anoth indic mani node run use deleg creat tensorflow lite deleg hexagon hexagon deleg x node deleg node need op model support run deleg model partit subgraph base support op unsupport op run cpu build hexagon deleg aar sourc use bazel build c opt configandroid_arm tensorflowlitedelegateshexagonjavatensorflowlitehexagon hexagon deleg fail initi although android devic support soc verifi devic inde support soc run adb shell cat proccpuinfo grep hardwar see return someth like hardwar qualcomm technolog inc msmxxxx phone manufactur use differ soc phone model therefor hexagon deleg may work devic phone model phone manufactur intent restrict use hexagon dsp nonsystem android app make hexagon deleg unabl work phone lock dsp access root phone still cant run deleg make sure disabl selinux enforc run adb shell setenforc pose estim img srcimagesposepng classattemptright pose estim task use ml model estim pose person imag video estim spatial locat key bodi joint keypoint get start new tensorflow lite work android io explor follow exampl applic help get start classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplespose_estimationandroid android examplea classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplespose_estimationio io examplea familiar tensorflow lite apishttpswwwtensorfloworgapi_docspythontflit download starter movenet pose estim model support file classbutton buttonprimari hrefhttpstfhubdevsqmovenet download starter modela want tri pose estim web browser check hrefhttpsstoragegoogleapiscomtfjsmodelsdemosposedetectionindexhtmlmodelmovenet tensorflow js demoa model descript work pose estim refer comput vision techniqu detect human figur imag video one could determin exampl someon elbow show imag import awar fact pose estim mere estim key bodi joint recogn imag video pose estim model take process camera imag input output inform keypoint keypoint detect index part id confid score confid score indic probabl keypoint exist posit provid refer implement two tensorflow lite pose estim model movenet stateoftheart pose estim model avail two flavor light thunder see comparison two section posenet previou gener pose estim model releas variou bodi joint detect pose estim model tabul tabl stylewidth thead tr thidth thpartth tr thead tbodi tr tdtd tdnosetd tr tr tdtd tdlefteyetd tr tr tdtd tdrighteyetd tr tr tdtd tdlefteartd tr tr tdtd tdrighteartd tr tr tdtd tdleftshouldertd tr tr tdtd tdrightshouldertd tr tr tdtd tdleftelbowtd tr tr tdtd tdrightelbowtd tr tr tdtd tdleftwristtd tr tr tdtd tdrightwristtd tr tr tdtd tdlefthiptd tr tr tdtd tdrighthiptd tr tr tdtd tdleftkneetd tr tr tdtd tdrightkneetd tr tr tdtd tdleftankletd tr tr tdtd tdrightankletd tr tbodi tabl exampl output shown img altanim show pose estim srchttpsstoragegoogleapiscomdownloadtensorfloworgexample_imagesmovenet_demogif perform benchmark movenet avail two flavor movenetlightn smaller faster less accur thunder version run realtim modern smartphon movenetthund accur version also larger slower lightn use use case requir higher accuraci movenet outperform posenet varieti dataset especi imag fit action imag therefor recommend use movenet posenet perform benchmark number gener tool describ hereperformancemeasur accuraci map number measur subset coco datasethttpscocodatasetorghom filter crop imag contain one person tabl thead tr th rowspanmodelth th rowspans mbth th rowspanmapth th colspanlat msth tr tr tdpixel cpu threadstd tdpixel gputd tdraspberri pi cpu threadstd tr thead tbodi tr td hrefhttpstfhubdevgooglelitemodelmovenetsingleposethundertflitefloatmovenetthund fp quantizeda td tdmbtd tdtd tdmstd tdmstd tdmstd tr tr td hrefhttpstfhubdevgooglelitemodelmovenetsingleposethundertfliteintmovenetthund int quantizeda td tdmbtd tdtd tdmstd tdmstd tdmstd tr tr td hrefhttpstfhubdevgooglelitemodelmovenetsingleposelightningtflitefloatmovenetlightn fp quantizeda td tdmbtd tdtd tdmstd tdmstd tdmstd tr tr td hrefhttpstfhubdevgooglelitemodelmovenetsingleposelightningtfliteintmovenetlightn int quantizeda td tdmbtd tdtd tdmstd tdmstd tdmstd tr tr td hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstfliteposenet_mobilenet_v__x_multi_kpt_strippedtfliteposenetmobilenetv backbon fpa td tdmbtd tdtd tdmstd tdmstd tdmstd tr tbodi tabl read resourc check blog posthttpsblogtensorfloworgposeestimationandclassificationonedgedeviceswithmovenetandtensorflowlitehtml learn pose estim use movenet tensorflow lite check blog posthttpsblogtensorfloworgnextgenerationposedetectionwithmovenetandtensorflowjshtml learn pose estim web check tutorialhttpswwwtensorfloworghubtutorialsmovenet learn run movenet python use model tensorflow hub coraledgetpu make pose estim run much faster iot devic see edgetpuoptim modelshttpscoralaimodelsposeestim detail read posenet paper herehttpsarxivorgab also check use case pose estim ul lia hrefhttpsvimeocompompom mirrorali lia hrefhttpsyoutubei__hqyasamaz art instal turn bird chri milk treacheri sanctuaryali lia hrefhttpsvimeocompuppet parad interact kinect puppetsali lia hrefhttpsvimeocommessa di voce perform excerptsali lia hrefhttpswwwinstagramcompbbkkliegrtraug realityali lia hrefhttpswwwinstagramcompbgegoihgyhinteract animationali lia hrefhttpswwwrunnersneedcomexpertadvicegearguidesgaitanalysishtmlgait analysisali ul object detect given imag video stream object detect model identifi known set object might present provid inform posit within imag exampl screenshot hrefget_startedexampl applicationa show two object recogn posit annot img srcimagesandroid_apple_bananapng altscreenshot android exampl width note integr exist model tri tensorflow lite task libraryhttpswwwtensorfloworgliteinference_with_metadatatask_libraryobject_detector custom model tri tensorflow lite model makerhttpswwwtensorfloworgliteguidemodel_mak get start learn use object detect mobil app explor hrefexample_applications_and_guidesexampl applic guidesa use platform android io alreadi familiar hrefhttpswwwtensorfloworgapi_docspythontflitetensorflow lite apisa download starter object detect model accompani label classbutton buttonprimari hrefhttpstfhubdevtensorflowlitemodelssd_mobilenet_vmetadataliteformattflitedownload starter model metadataa inform metadata associ field eg labelstxt see hrefhttpswwwtensorfloworgliteconvertmetadataread_the_metadata_from_modelsread metadata modelsa want train custom detect model task see hrefmodelcustomizationmodel customizationa follow use case use differ type model ul lipredict singl label imag like repres see hrefimage_classificationoverviewmdimag classificationali lipredict composit imag exampl subject versu background see hrefsegmentationoverviewmdsegmentationali ul exampl applic guid new tensorflow lite work android io recommend explor follow exampl applic help get start android leverag outofbox api tensorflow lite task libraryinference_with_metadatatask_libraryobject_detector integr object detect model line code also build custom infer pipelin use tensorflow lite interpret java apiguideinferenceload_and_run_a_model_in_java android exampl demonstr implement method lib_task_apihttpsgithubcomtensorflowexamplestreemasterliteexamplesobject_detectionandroidlib_task_api lib_interpreterhttpsgithubcomtensorflowexamplestreemasterliteexamplesobject_detectionandroidlib_interpret respect classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesobject_detectionandroidview android examplea io integr model use tensorflow lite interpret swift apiguideinferenceload_and_run_a_model_in_swift see io exampl classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesobject_detectioniosview io examplea model descript section describ signatur singleshot detectorhttpsarxivorgab model convert tensorflow lite tensorflow object detect apihttpsgithubcomtensorflowmodelsblobmasterresearchobject_detect object detect model train detect presenc locat multipl class object exampl model might train imag contain variou piec fruit along _label_ specifi class fruit repres eg appl banana strawberri data specifi object appear imag imag subsequ provid model output list object detect locat bound box contain object score indic confid detect correct input signatur model take imag input let assum expect imag x pixel three channel red blue green per pixel fed model flatten buffer byte valu xx model hrefperformancepost_training_quantizationmdquantizeda valu singl byte repres valu take look exampl app codehttpsgithubcomtensorflowexamplestreemasterliteexamplesobject_detectionandroid understand preprocess android output signatur model output four array map indic array describ n detect object one element array correspond object tabl thead tr thindexth thnameth thdescriptionth tr thead tbodi tr tdtd tdlocationstd tdmultidimension array n float point valu inner array repres bound box form top left bottom righttd tr tr tdtd tdclassestd tdarray n integ output float point valu indic index class label label filetd tr tr tdtd tdscorestd tdarray n float point valu repres probabl class detectedtd tr tr tdtd tdnumber detectionstd tdinteg valu ntd tr tbodi tabl note number result case paramet set export detect model tensorflow lite see hrefmodelcustomizationmodel customizationa detail exampl imagin model train detect appl banana strawberri provid imag output set number detect result exampl tabl stylewidth thead tr thclassth thscoreth thlocationth tr thead tbodi tr tdappletd tdtd td td tr tr tdbananatd tdtd td td tr tr tdstrawberrytd tdtd td td tr tr tdbananatd tdtd td td tr tr tdappletd tdtd td td tr tbodi tabl confid score interpret result look score locat detect object score number indic confid object genuin detect closer number confid model depend applic decid cutoff threshold discard detect result current exampl sensibl cutoff score mean probabl detect valid case last two object array would ignor confid score tabl stylewidth thead tr thclassth thscoreth thlocationth tr thead tbodi tr tdappletd tdtd td td tr tr tdbananatd tdtd td td tr tr tdstrawberrytd tdtd td td tr tr td stylebackgroundcolor ececc textdecorationlin linethroughbananatd td stylebackgroundcolor ececc textdecorationlin linethroughtd td stylebackgroundcolor ececc textdecorationlin linethrough td tr tr td stylebackgroundcolor ececc textdecorationlin linethroughappletd td stylebackgroundcolor ececc textdecorationlin linethroughtd td stylebackgroundcolor ececc textdecorationlin linethrough td tr tbodi tabl cutoff use base whether comfort fals posit object wrongli identifi area imag erron identifi object fals neg genuin object miss confid low exampl follow imag pear object model train detect misidentifi person exampl fals posit could ignor select appropri cutoff case cutoff would comfort exclud fals posit img srcimagesfalse_positivepng altscreenshot android exampl show fals posit width locat detect object model return array four number repres bound rectangl surround posit starter model provid number order follow tabl stylewidth margin auto tbodi tr stylebordertop none tdtd tdtoptd tdlefttd tdbottomtd tdrighttd tdtd tr tbodi tabl top valu repres distanc rectangl top edg top imag pixel left valu repres left edg distanc left input imag valu repres bottom right edg similar manner note object detect model accept input imag specif size like differ size raw imag captur devic camera write code crop scale raw imag fit model input size exampl hrefget_startedexampl applicationsabr br pixel valu output model refer posit crop scale imag must scale fit raw imag order interpret correctli perform benchmark perform benchmark number classbutton buttonprimari hrefhttpstfhubdevtensorflowlitemodelssd_mobilenet_vmetadataliteformattflitestart modela gener tool describ herehttpswwwtensorfloworgliteperformancebenchmark tabl thead tr thmodel nameth thmodel size th thdevic th thgputh thcputh tr thead tr td rowspan hrefhttpstfhubdevtensorflowlitemodelssd_mobilenet_vmetadataliteformattflitecoco ssd mobilenet va td td rowspan mb td tdpixel android td tdmstd tdmstd tr tr tdpixel android td tdmstd tdmstd tr tr tdiphon xs io td tdmstd tdm td tr tabl thread use thread use iphon best perform result model custom pretrain model mobileoptim detect model varieti latenc precis characterist found detect zoohttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiongdoctf_detection_zoomdmobilemodel one follow input output signatur describ follow section download zip contain modeltflit file isnt one tensorflow lite flatbuff gener use instructionshttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiongdocrunning_on_mobile_tensorflowlitemd ssd model tf object detect zoohttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiongdoctf_detection_zoomd also convert tensorflow lite use instruct herehttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiongdocrunning_on_mobile_tfmd import note detect model convert directli use tensorflow lite converterhttpswwwtensorfloworgliteconvert sinc requir intermedi step gener mobilefriendli sourc model script link perform step tfhttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiongdocrunning_on_mobile_tensorflowlitemd tfhttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiongdocrunning_on_mobile_tensorflowlitemd export script paramet enabl larger number output object slower moreaccur post process pleas use help script see exhaust list support argument current ondevic infer optim ssd model better support architectur like centernet efficientdet investig choos model custom model come precis quantifi map valu latenc characterist choos model work best usecas intend hardwar exampl edg tpuhttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiongdoctf_detection_zoomdpixeledgetpumodel model ideal infer googl edg tpu pixel use benchmark toolhttpswwwtensorfloworgliteperformancemeasur evalu model choos effici option avail finetun model custom data pretrain model provid train detect class object full list class see label file hrefhttpstfhubdevtensorflowlitemodelssd_mobilenet_vmetadataliteformattflitemodel metadataa use techniqu known transfer learn retrain model recogn class origin set exampl could retrain model detect multipl type veget despit one veget origin train data need set train imag new label wish train recommend way use tensorflow lite model makerhttpswwwtensorfloworgliteguidemodel_mak librari simplifi process train tensorflow lite model use custom dataset line code use transfer learn reduc amount requir train data time also learn fewshot detect colabhttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectioncolab_tutorialseager_few_shot_od_training_tfliteipynb exampl finetun pretrain model exampl finetun larger dataset take look guid train model tensorflow object detect api tfhttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiongdoctf_training_and_evaluationmd tfhttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiongdoctf_training_and_evaluationmd train convert tflitefriendli format instruct tfhttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiongdocrunning_on_mobile_tensorflowlitemd tfhttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiongdocrunning_on_mobile_tensorflowlitemd imag classif img srcimagesimagepng classattemptright task identifi imag repres call _imag classification_ imag classif model train recogn variou class imag exampl may train model recogn photo repres three differ type anim rabbit hamster dog tensorflow lite provid optim pretrain model deploy mobil applic learn imag classif use tensorflow herehttpswwwtensorfloworgtutorialsimagesclassif follow imag show output imag classif model android img srcimagesandroid_bananapng altscreenshot android exampl width note integr exist model tri tensorflow lite task libraryhttpswwwtensorfloworgliteinference_with_metadatatask_libraryimage_classifi custom model tri tensorflow lite model makerhttpswwwtensorfloworglitetutorialsmodel_maker_image_classif get start new tensorflow lite work android io recommend explor follow exampl applic help get start leverag outofbox api tensorflow lite task libraryinference_with_metadatatask_libraryimage_classifi integr imag classif model line code also build custom infer pipelin use tensorflow lite support libraryinference_with_metadatalite_support android exampl demonstr implement method lib_task_apihttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationandroidlib_task_api lib_supporthttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationandroidlib_support respect classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationandroidview android examplea classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationiosview io examplea use platform androidio alreadi familiar tensorflow lite apishttpswwwtensorfloworgapi_docspythontflit download starter model support file applic classbutton buttonprimari hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemobilenet_v___quant_and_labelszipdownload starter modela model descript work train imag classif model fed imag associ _labels_ label name distinct concept class model learn recogn given suffici train data often hundr thousand imag per label imag classif model learn predict whether new imag belong class train process predict call _inference_ note also use transfer learninghttpswwwtensorfloworgtutorialsimagestransfer_learn identifi new class imag use preexist model transfer learn requir larg train dataset subsequ provid new imag input model output probabl imag repres type anim train exampl output might follow tabl stylewidth thead tr thanim typeth thprobabilityth tr thead tbodi tr tdrabbittd tdtd tr tr tdhamstertd tdtd tr tr td stylebackgroundcolor fcbddogtd td stylebackgroundcolor fcbdtd tr tbodi tabl number output correspond label train data associ output three label model train see model predict high probabl imag repres dog might notic sum probabl rabbit hamster dog equal common type output model multipl class see hrefhttpsdevelopersgooglecommachinelearningcrashcoursemulticlassneuralnetworkssoftmaxsoftmaxa inform note imag classif tell probabl imag repres one class model train tell posit ident object within imag need identifi object posit within imag use hrefobject_detectionoverviewmdobject detectiona model hambigu resultsh sinc output probabl alway sum imag confid recogn belong class model train may see probabl distribut throughout label without one valu significantli larger exampl follow might indic ambigu result tabl stylewidth thead tr thlabelth thprobabilityth tr thead tbodi tr tdrabbittd tdtd tr tr tdhamstertd tdtd tr tr tddogtd tdtd tr tbodi tabl model frequent return ambigu result may need differ accur model hchoos model architectureh tensorflow lite provid varieti imag classif model train origin dataset model architectur like mobilenet incept nasnet avail hrefguidehosted_modelsmdhost model pagea choos best model use case need consid individu architectur well tradeoff variou model model tradeoff base metric perform accuraci model size exampl might need faster model build bar code scanner might prefer slower accur model medic imag app note hrefhttpswwwtensorfloworgliteguidehosted_modelsimage_classificationimag classif modelsa provid accept vari size input model indic filenam exampl mobilenet_v__ model accept input x pixel model requir three color channel per pixel red green blue quantiz model requir byte per channel float model requir byte per channel hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationandroidexplore_the_codemdandroida hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationiosexplore_the_codemdiosa code sampl demonstr process fullsiz camera imag requir format model huse limitationsh tensorflow lite imag classif model use singlelabel classif predict singl label imag like repres train recogn imag class full list class see label file hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemobilenet_v___quant_and_labelszipmodel zipa want train model recogn new class see hrefcustomize_modelcustom modela follow use case use differ type model ul lipredict type posit one object within imag see hrefobject_detectionoverviewmdobject detectionali lipredict composit imag exampl subject versu background see hrefsegmentationoverviewmdsegmentationali ul starter model run target devic experi differ model find optim balanc perform accuraci model size hcustom modelh pretrain model provid train recogn class imag full list class see label file hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemobilenet_v___quant_and_labelszipmodel zipa also use transfer learn retrain model recogn class origin set exampl could retrain model distinguish differ speci tree despit tree origin train data need set train imag new label wish train learn perform transfer learn hrefhttpswwwtensorfloworglitetutorialsmodel_maker_image_classificationtflit model makera hrefhttpscodelabsdevelopersgooglecomcodelabsrecognizeflowerswithtensorflowonandroidindexhtmlrecogn flower tensorflowa codelab hperform benchmarksh model perform measur term amount time take model run infer given piec hardwar lower time faster model perform requir depend applic perform import applic like realtim video may import analyz frame time next frame drawn eg infer must faster ms perform realtim infer fp video stream tensorflow lite quantiz mobilenet model perform rang ms ms perform benchmark number gener hrefhttpswwwtensorfloworgliteperformancebenchmarksbenchmark toola tabl thead tr thmodel nameth thmodel size th thdevic th thnnapith thcputh tr thead tr td rowspan hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemobilenet_v___quant_and_labelszipmobilenet_v___quanta td td rowspan mb td tdpixel android td tdmstd tdmstd tr tr tdpixel android td tdmstd tdmstd tr tr tdiphon xs io td tdtd tdm td tr tabl thread use thread use iphon best perform result model accuraci accuraci measur term often model correctli classifi imag exampl model state accuraci expect classifi imag correctli averag time list host modelsguidehosted_modelsmd provid top top accuraci statist top refer often correct label appear label highest probabl model output top refer often correct label appear highest probabl model output tensorflow lite quantiz mobilenet model top accuraci rang model size size model ondisk vari perform accuraci size may import mobil develop might impact app download size work hardwar avail storag might limit tensorflow lite quantiz mobilenet model size rang mb read resourc use follow resourc learn concept relat imag classif imag classif use tensorflowhttpswwwtensorfloworgtutorialsimagesclassif imag classif cnnshttpswwwtensorfloworgtutorialsimagescnn transfer learninghttpswwwtensorfloworgtutorialsimagestransfer_learn data augmentationhttpswwwtensorfloworgtutorialsimagesdata_augment optic charact recognit ocr optic charact recognit ocr process recogn charact imag use comput vision machin learn techniqu refer app demo use tensorflow lite ocr use combin text detect modelhttpstfhubdevsayakpaullitemodeleasttextdetectorfp text recognit modelhttpstfhubdevtulasiramlitemodelkerasocrfloat ocr pipelin recogn text charact get start img srcimagesscreenshotgif classattemptright stylemaxwidth px new tensorflow lite work android recommend explor follow exampl applic help get start classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesoptical_character_recognitionandroidandroid examplea use platform android alreadi familiar tensorflow lite apishttpswwwtensorfloworgapi_docspythontflit download model tf hubhttpstfhubdev work ocr task often broken stage first use text detect model detect bound box around possibl text second feed process bound box text recognit model determin specif charact insid bound box also need nonmaxim supress perspect transform etc befor text recoginit case model tensorflow hub fp quantiz model perform benchmark perform benchmark number gener tool describ herehttpswwwtensorfloworgliteperformancebenchmark tabl thead tr thmodel nameth thmodel size th thdevic th thcputh thgputh tr thead tr td hrefhttpstfhubdevsayakpaullitemodeleasttextdetectorfptext detectiona td td mbtd tdpixel android td tdmstd tdmstd tr tr td hrefhttpstfhubdevtulasiramlitemodelkerasocrfloattext recognitiona td td mbtd tdpixel android td tdmstd tdnatd tr tabl thread use model could use gpu deleg sinc need tensorflow op run input text detect model accept float tensor input text recognit model accept float tensor input output text detect model return float tensor shape bound box float tensor shape detect score text recognit model return float tensor shape map indic alphabet list abcdefghijklmnopqrstuvwxyz limit current text recognit modelhttpstfhubdevtulasiramlitemodelkerasocrfloat train use synthet data english letter number english support model gener enough ocr wild say random imag taken smartphon camera low light condit chosen googl product logo demonstr ocr tensorflow lite look readytous productiongrad ocr product consid googl ml kithttpsdevelopersgooglecommlkitvisiontextrecognit ml kit use tflite underneath suffici ocr use case case may want build ocr solut tflite exampl text detectionrecognit tflite model would like use special busi requir ie recogn text upsid need custom ocr pipelin want support languag cover ml kit target user devic dont necessarili googl play servic instal refer opencv text detectionrecognit exampl httpsgithubcomopencvopencvblobmastersamplesdnntext_detectioncpp ocr tflite commun project commun contributor httpsgithubcomtulasiramocr_tflit opencv text detect httpswwwpyimagesearchcomopencvtextdetectioneasttextdetector deep learn base text detect use opencv httpslearnopencvcomdeeplearningbasedtextdetectionusingopencvcpython smart repli img srcimagessmart_replypng classattemptright get start smart repli model gener repli suggest base chat messag suggest intend contextu relev onetouch respons help user easili repli incom messag classbutton buttonprimari hrefhttpstfhubdevtensorflowlitemodelsmartreplydefaultliteformattflitedownload starter modela sampl applic tensorflow lite sampl applic demonstr smart repli model android classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplessmart_replyandroidview android examplea read github pagehttpsgithubcomtensorflowexamplestreemasterliteexamplessmart_replyandroid learn app work insid project also learn build app custom c op work model gener repli suggest convers chat messag ondevic model come sever benefit ul lifast model resid devic requir internet connect thu infer fast averag latenc millisecondsli liresourc effici model small memori footprint devic liprivacyfriendli user data never leav devic ul exampl output img altanim show smart repli srcimagessmart_replygif stylemaxwidth px read ul lia hrefhttpsarxivorgpdfpdfresearch paperali lia hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplessmart_replyandroidsourc codeali ul user ul lia hrefhttpswwwbloggoogleproductsgmailsavetimewithsmartreplyingmailgmailali lia hrefhttpswwwbloggoogleproductsgmailcomputerrespondtothisemailinboxali lia hrefhttpsbloggoogleproductsallogoogleallosmartermessagingappalloali lia hrefhttpsresearchgoogleblogcomondevicemachineintelligencehtmlsmart repli android wearali ul reinforc learn play board game agent train use reinforc learn deploy tensorflow lite get start img srcimagesscreenshotgif classattemptright stylemaxwidth px new tensorflow lite work android recommend explor follow exampl applic help get start classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesreinforcement_learningandroidandroid examplea use platform android alreadi familiar tensorflow lite apishttpswwwtensorfloworgapi_docspythontflit download train model classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplesblobmasterliteexamplesreinforcement_learningandroidappsrcmainassetsplanestrike_tftflitedownload modela work model built game agent play small board game call plane strike quick introduct game rule pleas refer readmehttpsgithubcomtensorflowexamplestreemasterliteexamplesreinforcement_learningandroid underneath app ui built agent play human player agent layer mlp take board state input output predict score possibl board cell model train use polici gradient reinforc find train code herehttpsgithubcomtensorflowexamplesblobmasterliteexamplesreinforcement_learningml train agent convert model tflite deploy android app actual game play android app agent turn take action agent look human player board state board bottom contain inform previou success unsuccess strike hit miss use train model predict strike next finish game human player perform benchmark perform benchmark number gener tool describ herehttpswwwtensorfloworgliteperformancebenchmark tabl thead tr thmodel nameth thmodel size th thdevic th thcputh tr thead tr td rowspan hrefhttpsgithubcomtensorflowexamplesblobmasterliteexamplesreinforcement_learningandroidappsrcmainassetsplanestriketflitepolici gradienta td td rowspan kb td tdpixel android td tdmstd tr tr tdpixel android td tdmstd tr tabl thread use input model accept float tensor board state output model return float tensor shape predict score possibl strike posit train model could train model largersmal board chang board_siz paramet train codehttpsgithubcomtensorflowexamplesblobmasterliteexamplesreinforcement_learningml text classif use tensorflow lite model categori paragraph predefin group note integr exist model tri tensorflow lite task libraryhttpswwwtensorfloworgliteinference_with_metadatatask_librarynl_classifi custom model tri tensorflow lite model makerhttpswwwtensorfloworglitetutorialsmodel_maker_text_classif get start img srcimagesscreenshotgif classattemptright stylemaxwidth px new tensorflow lite work android recommend explor guid tensorflow lite task libraryinference_with_metadatatask_librarynl_classifi integr text classif model within line code also integr model use tensorflow lite interpret java apiguideinferenceload_and_run_a_model_in_java android exampl demonstr implement method lib_task_apihttpsgithubcomtensorflowexamplestreemasterliteexamplestext_classificationandroidlib_task_api lib_interpreterhttpsgithubcomtensorflowexamplestreemasterliteexamplestext_classificationandroidlib_interpret respect classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplestext_classificationandroidandroid examplea use platform android alreadi familiar tensorflow lite api download starter text classif model classbutton buttonprimari hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitetext_classificationtext_classification_vtflitedownload starter modela work text classif categor paragraph predefin group base content pretrain model predict paragraph sentiment posit neg train larg movi review dataset vhttpaistanfordeduamaasdatasenti mass et al consist imdb movi review label either posit neg step classifi paragraph model token paragraph convert list word id use predefin vocabulari feed list tensorflow lite model get probabl paragraph posit neg model output note english support model train movi review dataset may experi reduc accuraci classifi text domain perform benchmark perform benchmark number gener tool describ herehttpswwwtensorfloworgliteperformancebenchmark tabl thead tr thmodel nameth thmodel size th thdevic th thcputh tr thead tr td rowspan hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitetext_classificationtext_classification_vtflitetext classificationa td td rowspan mb td tdpixel android td tdmstd tr tr tdpixel android td tdmstd tr tr tdiphon xs io td tdm td tr tabl thread use thread use iphon best perform result exampl output text neg posit best movi ive seen recent year strongli recommend wast time use train dataset follow tutorialhttpsgithubcomtensorflowexamplestreemastertensorflow_exampleslitemodel_makerdemotext_classificationipynb appli techniqu use train text classif model use dataset right dataset creat model use case document categor toxic comment detect read text classif word embed tutori train modelhttpswwwtensorfloworgtutorialstextword_embed bert question answer use tensorflow lite model answer question base content given passag note integr exist model tri tensorflow lite task libraryhttpswwwtensorfloworgliteinference_with_metadatatask_librarybert_question_answer custom model tri tensorflow lite model makerhttpswwwtensorfloworglitetutorialsmodel_maker_question_answ get start img srcimagesscreenshotgif classattemptright stylemaxwidth px new tensorflow lite work android io recommend explor follow exampl applic help get start classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesbert_qaandroidandroid examplea classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesbert_qaiosio examplea use platform androidio alreadi familiar tensorflow lite apishttpswwwtensorfloworgapi_docspythontflit download starter question answer model classbutton buttonprimari hrefhttpstfhubdevtensorflowlitemodelmobilebertmetadataliteformattflitedownload starter model vocaba inform metadata associ field eg vocabtxt see hrefhttpswwwtensorfloworgliteconvertmetadataread_the_metadata_from_modelsread metadata modelsa work model use build system answer user question natur languag creat use pretrain bert model finetun squad dataset berthttpsgithubcomgoogleresearchbert bidirect encod represent transform method pretrain languag represent obtain stateoftheart result wide array natur languag process task app use compress version bert mobilebert run x faster x smaller model size squadhttpsrajpurkargithubiosquadexplor stanford question answer dataset read comprehens dataset consist articl wikipedia set questionansw pair articl model take passag question input return segment passag like answer question requir semicomplex preprocess includ token postprocess step describ bert paperhttpsarxivorgab implement sampl app perform benchmark perform benchmark number gener tool describ herehttpswwwtensorfloworgliteperformancebenchmark tabl thead tr thmodel nameth thmodel size th thdevic th thcputh tr thead tr td rowspan hrefhttpstfhubdevtensorflowlitemodelmobilebertmetadataliteformattflitemobil berta td td rowspan mb td tdpixel android td tdmstd tr tr tdpixel android td tdmstd tr tr tdiphon xs io td tdm td tr tabl thread use thread use iphon best perform result exampl output passag input googl llc american multin technolog compani special internetrel servic product includ onlin advertis technolog search engin cloud comput softwar hardwar consid one big four technolog compani alongsid amazon appl facebook googl found septemb larri page sergey brin phd student stanford univers california togeth percent share control percent stockhold vote power supervot stock incorpor googl california privat held compani septemb california googl reincorpor delawar octob initi public offer ipo took place august googl move headquart mountain view california nicknam googleplex august googl announc plan reorgan variou interest conglomer call alphabet inc googl alphabet lead subsidiari continu umbrella compani alphabet internet interest sundar pichai appoint ceo googl replac larri page becam ceo alphabet question input ceo googl answer output sundar pichai read bert academ paper bert pretrain deep bidirect transform languag understandinghttpsarxivorgab opensourc implement berthttpsgithubcomgoogleresearchbert recommend tabl classtfonotebookbutton alignleft td target_blank hrefhttpswwwtensorfloworgliteexamplesrecommendationoverviewimg srchttpswwwtensorfloworgimagestf_logo_pxpng view tensorfloworga td dynam requesttld cn td target_blank hrefhttpscolabresearchgooglecomgithubtensorflowexamplesblobmasterliteexamplesrecommendationmlondevice_recommendationipynbimg srchttpswwwtensorfloworgimagescolab_logo_pxpng run googl colaba td dynam endif td target_blank hrefhttpsgithubcomtensorflowexamplesblobmasterliteexamplesrecommendationmlondevice_recommendationipynbimg srchttpswwwtensorfloworgimagesgithubmarkpxpng view sourc githuba td tabl person recommend wide use varieti use case mobil devic media content retriev shop product suggest next app recommend interest provid person recommend applic respect user privaci recommend explor follow exampl toolkit note custom model tri tensorflow lite model makerhttpswwwtensorfloworgliteguidemodel_mak get start img srcimagesscreenshotgif classattemptright stylemaxwidth px provid tensorflow lite sampl applic demonstr recommend relev item user android classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesrecommendationandroidandroid examplea use platform android alreadi familiar tensorflow lite api download starter recommend model classbutton buttonprimari hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstfliterecommendationrecommendationtargzdownload starter modela also provid train script github train model configur way classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesrecommendationmltrain codea understand model architectur leverag dualencod model architectur contextencod encod sequenti user histori labelencod encod predict recommend candid similar context label encod use repres likelihood predict candid meet user need three differ sequenti user histori encod techniqu provid code base bagofword encod bow averag user activ embed without consid context order convolut neural network encod cnn appli multipl layer convolut neural network gener context encod recurr neural network encod rnn appli recurr neural network encod context sequenc model user activ could use id activ item idbas multipl featur item featurebas combin featurebas model util multipl featur collect encod user behavior code base could creat either idbas featurebas model configur way train tensorflow lite model export directli provid topk predict among recommend candid use train data addit train model provid opensourc toolkit githubhttpsgithubcomtensorflowexamplestreemasterliteexamplesrecommendationml train model data follow tutori learn use toolkit deploy train model mobil applic pleas follow tutorialhttpsgithubcomtensorflowexamplestreemasterliteexamplesrecommendationmlondevice_recommendationipynb appli techniqu use train recommend model use dataset exampl exampl train recommend model idbas featurebas approach idbas model take movi id input featurebas model take movi id movi genr id input pleas find follow input output exampl input context movi id lion king id toy stori id context movi genr id anim id children id music id anim id children id comedi id output recommend movi id toy stori id note pretrain model built base movielenshttpsgrouplensorgdatasetsmovielensm dataset research purpos perform benchmark perform benchmark number gener tool describ herehttpswwwtensorfloworgliteperformancebenchmark tabl thead tr thmodel nameth thmodel size th thdevic th thcputh tr thead tbodi tr tr td rowspan hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstfliterecommendationmodeltargzrecommend movi id inputa td td rowspan mb td tdpixel td tdmstd tr tr tdpixel td tdmstd tr tr tr tr td rowspan hrefhttpsstoragegoogleapiscomdownloadtensorfloworgmodelstfliterecommendationrecommendation_cnn_iiotfliterecommend movi id movi genr inputsa td td rowspan mb td tdpixel td tdmstd tr tr tdpixel td tdmstd tr tr tbodi tabl thread use use train data addit train model provid opensourc toolkit githubhttpsgithubcomtensorflowexamplestreemasterliteexamplesrecommendationml train model data follow tutori learn use toolkit deploy train model mobil applic pleas follow tutorialhttpsgithubcomtensorflowexamplestreemasterliteexamplesrecommendationmlondevice_recommendationipynb appli techniqu use train recommend model use dataset tip model custom data pretrain model integr demo applic train movielenshttpsgrouplensorgdatasetsmovielensm dataset may want modifi model configur base data vocab size embed dim input context length tip input context length best input context length vari dataset suggest select input context length base much label event correl longterm interest vs shortterm context encod type select suggest select encod type base input context length bagofword encod work well short input context length eg cnn rnn encod bring summar abil long input context length use underli featur repres item user activ could improv model perform better accommod fresh item possibl scale embed space henc reduc memori consumpt ondevic friendli segment imag segment process partit digit imag multipl segment set pixel also known imag object goal segment simplifi andor chang represent imag someth meaning easier analyz follow imag show output imag segment model android model creat mask target object high accuraci img srcimagessegmentationgif classattemptright note integr exist model tri tensorflow lite task libraryhttpswwwtensorfloworgliteinference_with_metadatatask_libraryimage_segment get start new tensorflow lite work android io recommend explor follow exampl applic help get start leverag outofbox api tensorflow lite task libraryinference_with_metadatatask_libraryimage_segment integr imag segment model within line code also integr model use tensorflow lite interpret java apiguideinferenceload_and_run_a_model_in_java android exampl demonstr implement method lib_task_apihttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_segmentationandroidlib_task_api lib_interpreterhttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_segmentationandroidlib_interpret respect classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_segmentationandroidview android examplea classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_segmentationiosview io examplea use platform android io alreadi familiar hrefhttpswwwtensorfloworgapi_docspythontflitetensorflow lite apisa download starter imag segment model classbutton buttonprimari hrefhttpstfhubdevtensorflowlitemodeldeeplabvmetadataliteformattflitedownload starter modela model descript _deeplab_ stateofart deep learn model semant imag segment goal assign semant label eg person dog cat everi pixel input imag work semant imag segment predict whether pixel imag associ certain class contrast hrefobject_detectionoverviewmdobject detectiona detect object rectangular region hrefimage_classificationoverviewmdimag classificationa classifi overal imag current implement includ follow featur ol lideeplabv use atrou convolut explicitli control resolut featur respons comput within deep convolut neural networksli lideeplabv use atrou spatial pyramid pool aspp robustli segment object multipl scale filter multipl sampl rate effect fieldsofviewsli lideeplabv augment aspp modul imagelevel featur captur longer rang inform also includ batch normal paramet facilit train particular appli atrou convolut extract output featur differ output stride train evalu effici enabl train bn output stride attain high perform output stride evaluationli lideeplabv extend deeplabv includ simpl yet effect decod modul refin segment result especi along object boundari furthermor encoderdecod structur one arbitrarili control resolut extract encod featur atrou convolut tradeoff precis runtim ol perform benchmark perform benchmark number gener tool describ herehttpswwwtensorfloworgliteperformancebenchmark tabl thead tr thmodel nameth thmodel size th thdevic th thgputh thcputh tr thead tr td rowspan hrefhttpstfhubdevtensorflowlitemodeldeeplabvmetadataliteformattflitedeeplab va td td rowspan mb td tdpixel android td tdmstd tdmstd tr tr tdpixel android td tdmstd tdmstd tr tr tdiphon xs io td tdmstd tdm td tr tabl thread use thread use iphon best perform result read resourc ul lia hrefhttpsaigoogleblogcomsemanticimagesegmentationwithhtmlsemant imag segment deeplab tensorflowali lia hrefhttpsmediumcomtensorflowtensorflowlitenowfasterwithmobilegpusdeveloperprevieweedeetensorflow lite faster mobil gpu develop previewali lia hrefhttpsgithubcomtensorflowmodelstreemasterresearchdeeplabdeeplab deep label semant imag segmentationali ul audio classif img srcimagesaudiopng classattemptright task identifi audio repres call _audio classification_ audio classif model train recogn variou audio event exampl may train model recogn event repres three differ event clap finger snap type tensorflow lite provid optim pretrain model deploy mobil applic learn audio classif use tensorflow herehttpswwwtensorfloworgtutorialsaudiosimple_audio follow imag show output audio classif model android img srcimagesandroid_audio_classificationpng altscreenshot android exampl width note integr exist model tri tensorflow lite task libraryhttpswwwtensorfloworgliteinference_with_metadatatask_libraryaudio_classifi custom model tri tensorflow lite model makerhttpswwwtensorfloworglitetutorialsmodel_maker_audio_classif get start new tensorflow lite work android recommend explor follow exampl applic help get start leverag outofbox api tensorflow lite task libraryinference_with_metadatatask_libraryaudio_classifi integr audio classif model line code also build custom infer pipelin use tensorflow lite support libraryinference_with_metadatalite_support android exampl demonstr implement use tflite task libraryhttpsgithubcomtensorflowexamplestreemasterliteexamplessound_classificationandroid classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplessound_classificationandroidview android examplea classbutton buttonprimari hrefhttpsgithubcomtensorflowexamplestreemasterliteexamplessound_classificationiosview io examplea use platform androidio alreadi familiar tensorflow lite apishttpswwwtensorfloworgapi_docspythontflit download starter model support file applic classbutton buttonprimari hrefhttpstfhubdevgooglelitemodelyamnetclassificationtfliteliteformattflitedownload starter model tensorflow huba model descript yamnet audio event classifi take audio waveform input make independ predict audio event audiosethttpsgcoaudioset ontolog model use mobilenet v architectur train use audioset corpu model origin releas tensorflow model garden model sourc code origin model checkpoint detail document work two version yamnet model convert tflite yamnethttpstfhubdevgoogleyamnet origin audio classif model dynam input size suitabl transfer learn web mobil deploy also complex output yamnetclassificationhttpstfhubdevgooglelitemodelyamnetclassificationtflit quantiz version simpler fix lengh frame input sampl return singl vector score audio event class input model accept float tensor numpi array length contain second waveform repres mono khz sampl rang output model return float tensor shape contain predict score class audioset ontolog support yamnet column index score tensor map correspond audioset class name use yamnet class map avail associ file yamnet_label_listtxt pack model file see usag suitabl use yamnet use standalon audio event classifi provid reason baselin across wide varieti audio event highlevel featur extractor embed output yamnet use input featur anoth model train small amount data particular task allow quickli creat special audio classifi without requir lot label data without train larg model endtoend warm start yamnet model paramet use initi part larger model allow faster finetun model explor limit yamnet classifi output calibr across class directli treat output probabl given task like need perform calibr taskspecif data let assign proper perclass score threshold scale yamnet train million youtub video although divers still domain mismatch averag youtub video audio input expect given task expect amount finetun calibr make yamnet usabl system build model custom pretrain model provid train detect differ audio class full list class see label file hrefhttpsgithubcomtensorflowmodelsblobmasterresearchaudiosetyamnetyamnet_class_mapcsvmodel repositorya use techniqu known transfer learn retrain model recogn class origin set exampl could retrain model detect multipl bird song need set train audio new label wish train recommend way use tensorflow lite model makerhttpswwwtensorfloworglitetutorialsmodel_maker_audio_classif librari simplifi process train tensorflow lite model use custom dataset line code use transfer learn reduc amount requir train data time also learn transfer learn audio recognitionhttpswwwtensorfloworgtutorialsaudiotransfer_learning_audio exampl transfer learn read resourc use follow resourc learn concept relat audio classif audio classif use tensorflowhttpswwwtensorfloworgtutorialsaudiosimple_audio transfer learn audio recognitionhttpswwwtensorfloworgtutorialsaudiotransfer_learning_audio audio data augmentationhttpswwwtensorfloworgiotutorialsaudio tensorflow lite microcontrol tensorflow lite microcontrol design run machin learn model microcontrol devic kilobyt memori core runtim fit kb arm cortex run mani basic model doesnt requir oper system support standard c c librari dynam memori alloc note tensorflow lite microcontrol experimentshttpsexperimentswithgooglecomcollectiontfliteformicrocontrol featur work develop combin arduino tensorflow creat awesom experi tool check site inspir creat tinyml project microcontrol import microcontrol typic small lowpow comput devic embed within hardwar requir basic comput bring machin learn tini microcontrol boost intellig billion devic use live includ household applianc internet thing devic without reli expens hardwar reliabl internet connect often subject bandwidth power constraint result high latenc also help preserv privaci sinc data leav devic imagin smart applianc adapt daili routin intellig industri sensor understand differ problem normal oper magic toy help kid learn fun delight way support platform tensorflow lite microcontrol written c requir bit platform test extens mani processor base arm cortexm serieshttpsdeveloperarmcomipproductsprocessorscortexm architectur port architectur includ esphttpswwwespressifcomenproductshardwareespoverview framework avail arduino librari also gener project develop environ mbed open sourc includ c project follow develop board support arduino nano ble sensehttpsstorearduinoccusananoblesensewithhead sparkfun edgehttpswwwsparkfuncomproduct stmf discoveri kithttpswwwstcomenevaluationtoolsfgdiscoveryhtml adafruit edgebadgehttpswwwadafruitcomproduct adafruit tensorflow lite microcontrol kithttpswwwadafruitcomproduct adafruit circuit playground bluefruithttpslearnadafruitcomtensorflowliteforcircuitplaygroundbluefruitquickstartviewal espressif espdevkitchttpswwwespressifcomenproductshardwareespdevkitcoverview espressif espeyehttpswwwespressifcomenproductshardwareespeyeoverview wio termin atsamdhttpswwwseeedstudiocomwioterminalphtml himax wei plu evb endpoint ai develop boardhttpswwwsparkfuncomproduct synopsi designwar arc em softwar develop platformhttpswwwsynopsyscomdwipdirphpdsarcemsoftwaredevelopmentplatform soni spresensehttpsdevelopersonycomdevelopspresens explor exampl exampl applic githubhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicroexampl readmemd file explain deploy support platform exampl also endtoend tutori use specif platform given hello worldhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicroexampleshello_world demonstr absolut basic use tensorflow lite microcontrol tutori use support deviceget_started_low_levelmd micro speechhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicroexamplesmicro_speech captur audio microphon detect word ye tutori use sparkfun edgehttpscodelabsdevelopersgooglecomcodelabssparkfuntensorflow magic wandhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicroexamplesmagic_wand captur acceleromet data classifi three differ physic gestur tutori use arduino nano ble sensehttpscodelabsdevelopersgooglecomcodelabsaimagicwand person detectionhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicroexamplesperson_detect captur camera data imag sensor detect presenc absenc person workflow follow step requir deploy run tensorflow model microcontrol train model gener small tensorflow model fit target devic contain support operationsbuild_convertmdoperationsupport convert tensorflow lite model use tensorflow lite converterbuild_convertmdmodelconvers convert c byte array use standard toolsbuild_convertmdconverttoacarray store readonli program memori devic run infer devic use c librarylibrarymd process result limit tensorflow lite microcontrol design specif constraint microcontrol develop work power devic exampl embed linux devic like raspberri pi standard tensorflow lite framework might easier integr follow limit consid support limit subsetbuild_convertmdoperationsupport tensorflow oper support limit set devic lowlevel c api requir manual memori manag devic train support next step get start microcontrollersget_started_low_levelmd tri exampl applic learn use api understand c librarylibrarymd learn use librari project build convert modelsbuild_convertmd learn train convert model deploy microcontrol build convert model microcontrol limit ram storag place constraint size machin learn model addit tensorflow lite microcontrol current support limit subset oper model architectur possibl document explain process convert tensorflow model run microcontrol also outlin support oper give guidanc design train model fit limit memori endtoend runnabl exampl build convert model see follow colab part hello world exampl classbutton buttonprimari hrefhttpscolabresearchgooglecomgithubtensorflowtflitemicroblobmaintensorflowlitemicroexampleshello_worldtraintrain_hello_world_modelipynbtrain_hello_world_modelipynba model convers convert train tensorflow model run microcontrol use tensorflow lite convert python apihttpswwwtensorfloworgliteconvert convert model flatbufferhttpsgooglegithubioflatbuff reduc model size modifi use tensorflow lite oper obtain smallest possibl model size consid use posttrain quantizationhttpswwwtensorfloworgliteperformancepost_training_quant convert c array mani microcontrol platform nativ filesystem support easiest way use model program includ c array compil program follow unix command gener c sourc file contain tensorflow lite model char array bash xxd converted_modeltflit model_datacc output look similar follow c unsign char converted_model_tflit x x x x x x xc x x x xe x line omit unsign int converted_model_tflite_len gener file includ program import chang array declar const better memori effici embed platform exampl includ use model program see modelcchttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicroexampleshello_worldmodelcc hello world exampl model architectur train design model use microcontrol import consid model size workload oper use model size model must small enough fit within target devic memori alongsid rest program binari runtim creat smaller model use fewer smaller layer architectur howev small model like suffer underfit mean mani problem make sens tri use largest model fit memori howev use larger model also lead increas processor workload note core runtim tensorflow lite microcontrol fit kb cortex workload size complex model impact workload larg complex model might result higher duti cycl mean devic processor spend time work less time idl increas power consumpt heat output might issu depend applic oper support tensorflow lite microcontrol current support limit subset tensorflow oper impact model architectur possibl run work expand oper support term refer implement optim specif architectur support oper seen file all_ops_resolvercchttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicroall_ops_resolvercc understand c librari tensorflow lite microcontrol c librari part tensorflow repositoryhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicro design readabl easi modifi welltest easi integr compat regular tensorflow lite follow document outlin basic structur c librari provid inform creat project file structur microhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicro root directori rel simpl structur howev sinc locat insid extens tensorflow repositori creat script pregener project file provid relev sourc file isol within variou embed develop environ key file import file use tensorflow lite microcontrol interpret locat root project accompani test all_ops_resolverhhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicroall_ops_resolverh micro_mutable_op_resolverhhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicromicro_mutable_op_resolverh use provid oper use interpret run model sinc all_ops_resolverh pull everi avail oper use lot memori product applic use micro_mutable_op_resolverh pull oper model need micro_error_reporterhhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicromicro_error_reporterh output debug inform micro_interpreterhhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicromicro_interpreterh contain code handl run model see get start microcontrollersget_started_low_levelmd walkthrough typic usag build system provid platformspecif implement certain file locat directori platform name exampl sparkfun_edgehttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicrosparkfun_edg sever directori exist includ kernelhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicrokernel contain oper implement associ code toolshttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicrotool contain build tool output exampleshttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicroexampl contain sampl code start new project recommend use hello world exampl templat new project obtain version platform choic follow instruct section use arduino librari use arduino hello world exampl includ arduino_tensorflowlit arduino librari download arduino ide arduino createhttpscreatearduinocc librari ad go file exampl see exampl near bottom list name tensorflowlitehello_world select click hello_world load exampl save copi exampl use basi project gener project platform tensorflow lite microcontrol abl gener standalon project contain necessari sourc file use makefil current support environ keil make mbed gener project make clone tensorflow repositoryhttpgithubcomtensorflowtensorflow run follow command bash make f tensorflowlitemicrotoolsmakemakefil generate_project take minut sinc download larg toolchain depend finish see folder creat insid path like tensorflowlitemicrotoolsmakegenlinux_x_prj exact path depend host oper system folder contain gener project sourc file run command youll abl find hello world project tensorflowlitemicrotoolsmakegenlinux_x_prjhello_world exampl hello_worldkeil contain keil project run test build librari run unit test use follow command bash make f tensorflowlitemicrotoolsmakemakefil test run individu test use follow command replac test_nam name test bash make f tensorflowlitemicrotoolsmakemakefil test_test_nam find test name project makefil exampl exampleshello_worldmakefileinc specifi test name hello world exampl build binari build runnabl binari given project exampl applic use follow command replac project_nam project wish build bash make f tensorflowlitemicrotoolsmakemakefil project_name_bin exampl follow command build binari hello world applic bash make f tensorflowlitemicrotoolsmakemakefil hello_world_bin default project compil host oper system specifi differ target architectur use target follow exampl show build hello world exampl sparkfun edg bash make f tensorflowlitemicrotoolsmakemakefil targetsparkfun_edg hello_world_bin target specifi avail targetspecif sourc file use place origin code exampl subdirectori exampleshello_worldsparkfun_edg contain sparkfun edg implement file constantscc output_handlercc use target sparkfun_edg specifi find project name project makefil exampl exampleshello_worldmakefileinc specifi binari name hello world exampl optim kernel refer kernel root tensorflowlitemicrokernel implement pure cc includ platformspecif hardwar optim optim version kernel provid subdirectori exampl kernelscmsisnn contain sever optim kernel make use arm cmsisnn librari gener project use optim kernel use follow command replac subdirectory_nam name subdirectori contain optim bash make f tensorflowlitemicrotoolsmakemakefil tagssubdirectory_nam generate_project add optim creat new subfold encourag pull request new optim implement gener arduino librari nightli build arduino librari avail via arduino ide librari manag need gener new build librari run follow script tensorflow repositori bash tensorflowlitemicrotoolsci_buildtest_arduinosh result librari found tensorflowlitemicrotoolsmakegenarduino_x_prjtensorflow_litezip port new devic guidanc port tensorflow lite microcontrol new platform devic found microreadmemdhttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicroreadmemd get start microcontrol document explain train model run infer use microcontrol hello world exampl hello worldhttpsgithubcomtensorflowtflitemicrotreemaintensorflowlitemicroexampleshello_world exampl design demonstr absolut basic use tensorflow lite microcontrol train run model replic sine function ie take singl number input output number sinehttpsenwikipediaorgwikisin valu deploy microcontrol predict use either blink led control anim endtoend workflow involv follow step train modeltrain_a_model python jupyt notebook train convert optim model ondevic use run inferencerun_infer c endtoend unit test run infer model use c librarylibrarymd get support devic exampl applic well use test follow devic arduino nano ble sensehttpsstorearduinoccusananoblesensewithhead use arduino ide sparkfun edgehttpswwwsparkfuncomproduct build directli sourc stmf discoveri kithttpswwwstcomenevaluationtoolsfgdiscoveryhtml use mbed adafruit edgebadgehttpswwwadafruitcomproduct use arduino ide adafruit tensorflow lite microcontrol kithttpswwwadafruitcomproduct use arduino ide adafruit circuit playground bluefruithttpslearnadafruitcomtensorflowliteforcircuitplaygroundbluefruitquickstartviewal use arduino ide espressif espdevkitchttpswwwespressifcomenproductshardwareespdevkitcoverview use esp idf espressif espeyehttpswwwespressifcomenproductshardwareespeyeoverview use esp idf learn support platform tensorflow lite microcontrollersindexmd train model note skip section use train model includ exampl code use googl colaboratori train modelhttpscolabresearchgooglecomgithubtensorflowtflitemicroblobmaintensorflowlitemicroexampleshello_worldtraintrain_hello_world_modelipynb detail refer readmemd classbutton buttonprimari hrefhttpsgithubcomtensorflowtflitemicrotreemaintensorflowlitemicroexampleshello_worldtrainreadmemdhello world train readmemda run infer run model devic walk instruct readmemd classbutton buttonprimari hrefhttpsgithubcomtensorflowtflitemicrotreemaintensorflowlitemicroexampleshello_worldreadmemdhello world readmemda follow section walk exampl hello_world_testcchttpsgithubcomtensorflowtflitemicrotreemaintensorflowlitemicroexampleshello_worldhello_world_testcc unit test demonstr run infer use tensorflow lite microcontrol load model run infer sever time includ librari header use tensorflow lite microcontrol librari must includ follow header file c includ tensorflowlitemicroall_ops_resolverh includ tensorflowlitemicromicro_error_reporterh includ tensorflowlitemicromicro_interpreterh includ tensorflowliteschemaschema_generatedh includ tensorflowliteversionh all_ops_resolverhhttpsgithubcomtensorflowtflitemicrotreemaintensorflowlitemicroall_ops_resolverh provid oper use interpret run model micro_error_reporterhhttpsgithubcomtensorflowtflitemicrotreemaintensorflowlitemicromicro_error_reporterh output debug inform micro_interpreterhhttpsgithubcomtensorflowtflitemicrotreemaintensorflowlitemicromicro_interpreterh contain code load run model schema_generatedhhttpsgithubcomtensorflowtflitemicrotreemaintensorflowliteschemaschema_generatedh contain schema tensorflow lite flatbufferhttpsgooglegithubioflatbuff model file format versionhhttpsgithubcomtensorflowtflitemicroblobmaintensorflowliteversionh provid version inform tensorflow lite schema includ model header tensorflow lite microcontrol interpret expect model provid c array model defin modelh modelcc file header includ follow line c includ tensorflowlitemicroexampleshello_worldmodelh includ unit test framework header order creat unit test includ tensorflow lite microcontrol unit test framework includ follow line c includ tensorflowlitemicrotestingmicro_testh test defin use follow macro c tf_lite_micro_tests_begin tf_lite_micro_testloadmodelandperforminfer add code tf_lite_micro_tests_end discuss code includ macro set log set log tfliteerrorreport pointer creat use pointer tflitemicroerrorreport instanc c tflitemicroerrorreport micro_error_report tfliteerrorreport error_report micro_error_report variabl pass interpret allow write log sinc microcontrol often varieti mechan log implement tflitemicroerrorreport design custom particular devic load model follow code model instanti use data char array g_model declar modelh check model ensur schema version compat version use c const tflitemodel model tflitegetmodelg_model modelvers tflite_schema_vers tf_lite_report_errorerror_report model provid schema version equal support version dn modelvers tflite_schema_vers instanti oper resolv allopsresolvergithubcomtensorflowtflitemicrotreemaintensorflowlitemicroall_ops_resolverh instanc declar use interpret access oper use model c tfliteallopsresolv resolv allopsresolv load oper avail tensorflow lite microcontrol use lot memori sinc given model use subset oper recommend real world applic load oper need done use differ class micromutableopresolv see use micro speech exampl micro_speech_testcchttpsgithubcomtensorflowtflitemicrotreemaintensorflowlitemicroexamplesmicro_speechmicro_speech_testcc alloc memori need prealloc certain amount memori input output intermedi array provid uint_t array size tensor_arena_s c const int tensor_arena_s uint_t tensor_arenatensor_arena_s size requir depend model use may need determin experiment instanti interpret creat tflitemicrointerpret instanc pass variabl creat earlier c tflitemicrointerpret interpretermodel resolv tensor_arena tensor_arena_s error_report alloc tensor tell interpret alloc memori tensor_arena model tensor c interpreterallocatetensor valid input shape microinterpret instanc provid us pointer model input tensor call input repres first input tensor c obtain pointer model input tensor tflitetensor input interpreterinput inspect tensor confirm shape type expect c make sure input properti expect tf_lite_micro_expect_nenullptr input properti dim tell us tensor shape one element dimens input tensor contain element dim size tf_lite_micro_expect_eq inputdimss valu element give length correspond tensor expect two singl element tensor one contain within tf_lite_micro_expect_eq inputdimsdata tf_lite_micro_expect_eq inputdimsdata input bit float point valu tf_lite_micro_expect_eqktflitefloat inputtyp enum valu ktflitefloat refer one tensorflow lite data type defin commonhhttpsgithubcomtensorflowtflitemicrotreemaintensorflowliteccommonh provid input valu provid input model set content input tensor follow c inputdataf case input float point valu repres run model run model call invok tflitemicrointerpret instanc c tflitestatu invoke_statu interpreterinvok invoke_statu ktfliteok tf_lite_report_errorerror_report invok failedn check return valu tflitestatu determin run success possibl valu tflitestatu defin commonhhttpsgithubcomtensorflowtflitemicrotreemaintensorflowliteccommonh ktfliteok ktfliteerror follow code assert valu ktfliteok mean infer success run c tf_lite_micro_expect_eqktfliteok invoke_statu obtain output model output tensor obtain call output tflitemicrointerpret repres first output tensor exampl model output singl float point valu contain within tensor c tflitetensor output interpreteroutput tf_lite_micro_expect_eq outputdimss tf_lite_micro_expect_eq inputdimsdata tf_lite_micro_expect_eq inputdimsdata tf_lite_micro_expect_eqktflitefloat outputtyp read valu directli output tensor assert expect c obtain output valu tensor float valu outputdataf check output valu within expect valu tf_lite_micro_expect_near valu run infer remaind code run infer sever time instanc assign valu input tensor invok interpret read result output tensor c inputdataf interpreterinvok valu outputdataf tf_lite_micro_expect_near valu inputdataf interpreterinvok valu outputdataf tf_lite_micro_expect_near valu inputdataf interpreterinvok valu outputdataf tf_lite_micro_expect_near valu read applic code walk unit test abl understand exampl applic code locat main_functionscchttpsgithubcomtensorflowtflitemicroblobmaintensorflowlitemicroexampleshello_worldmain_functionscc follow similar process gener input valu base mani infer run call devicespecif function display model output user builtin op header gener directori contain code gener gener pure c header builtin op definit whenev add new builtin op pleas execut sh bazel run tensorflowliteschemabuiltin_ops_headergener tensorflowlitebuiltin_opsh bazel run tensorflowliteschemabuiltin_ops_listgener tensorflowlitecoreshimsbuiltin_ops_listinc builtin op list gener directori contain code gener gener pure c header builtin op list whenev add new builtin op pleas execut sh bazel run tensorflowliteschemabuiltin_ops_headergener tensorflowlitebuiltin_opsh bazel run tensorflowliteschemabuiltin_ops_listgener tensorflowlitecoreshimsbuiltin_ops_listinc tensorflow lite c api directori contain c api tensorflow lite includ c api common type like kernel deleg well explicit c api infer header summari public c header contain type method specif use commonh contain common c enum type method use throughout tensorflow lite includ everyth error code kernel deleg api builtin_op_datah contain opspecif data use builtin kernel use reimplement builtin oper c_apih contain tensorflow lite c api infer function larg equival though strict subset function provid c interpret api c_api_experimentalh contain experiment c api method infer method use usabl arent yet part stabl api use c api see c_apihc_apih header api usag detail build c api nativ share librari target contain c api infer provid assum work bazelhttpsbazelbuildversionsmasterdocsinstallhtml configur built follow sh bazel build c opt tensorflowlitectensorflowlite_c android replac android_arm android_arm bit assum youv configur project android buildsgdocguideandroidmd sh bazel build c opt cxxoptstdc configandroid_arm tensorflowlitectensorflowlite_c gener share librari avail bazelbintensorflowlitec directori target packag share librari togeth necessari header c_apih c_api_experimentalh commonh avail soon also releas prebuilt archiv togeth exist prebuilt packag androidio android neural network api android neural network api nnapi android c api design run comput intens oper machin learn mobil devic tensorflow lite design use nnapi perform hardwareacceler infer oper support devic base app requir hardwar capabl devic nnapi distribut comput workload across avail ondevic processor includ dedic neural network hardwar graphic process unit gpu digit signal processor dsp devic lack special vendor driver nnapi runtim reli optim code execut request cpu inform nnapi pleas refer nnapi documentationhttpsdeveloperandroidcomndkguidesneuralnetworksindexhtml nnapi support librari file directori copi nnapi support librari fileshttpscsandroidcomandroidplatformsuperprojectmasterpackagesmodulesneuralnetworksshim_and_sldrcceabbebecbadcbe aosp file modifi make work tf lite context list differ aosp version includ direct use fullyqualifi path pragma direct chang header guard android path header guard chang tf lite path tensorflowlitennapineuralnetworkstypesh use definit nnapi type instead neuralnetworkstypesh aosphttpscsandroidcomandroid_androidplatformpackagesmodulesneuralnetworksfababdfedafecbruntimeincludeneuralnetworkstypeshdrcaebbacaaeebad loadnnapisupportlibrari use tensorflowliteminimal_loggingh log error supportlibraryh declar wrap tflitennapi namespac __begin_decl __end_decl chang explicit extern c block copyright notic chang one use tensorflow project directori contain shim header file forward tf lite c api key header tf lite c api intent shim directori could modifi option redirect differ implement api exampl one built underli oper system platform use follow includ cc file _implementing_ shim tf lite api includ regular tf lite api header includ file _using_ shim api includ shim header tensorflow lite objectivec tensorflow litehttpswwwtensorfloworglit tensorflow lightweight solut objectivec develop enabl lowlat infer ondevic machin learn model small binari size fast perform support hardwar acceler build tensorflow io support build objectivec tensorflow lite librari appl platform instal sourcehttpswwwtensorfloworginstallsourcesetup_for_linux_and_maco clone github repohttpsgithubcomtensorflowtensorflow configur tensorflow navig root directori execut configurepi script shell python configurepi follow prompt ask build tensorflow io support enter cocoapod develop add tensorflow lite pod podfil rubi pod tensorflowliteobjc run pod instal objectivec file import umbrella header objectivec import tfltensorflowliteh modul set clang_enable_modul ye xcode project objectivec import tfltensorflowlit note import tensorflow lite modul objectivec file must also includ use_framework podfil bazel develop build file add tensorflowlit depend target python objc_librari dep tensorflowliteobjctensorflowlit objectivec file import umbrella header objectivec import tfltensorflowliteh modul set clang_enable_modul ye xcode project objectivec import tfltensorflowlit build tensorflowlit objectivec librari target shell bazel build tensorflowliteobjctensorflowlit build test target shell bazel test tensorflowliteobjctest gener xcode project use tulsi open tensorflowliteobjctensorflowlitetulsiproj use tulsiapphttpsgithubcombazelbuildtulsi run generate_xcodeprojshhttpsgithubcombazelbuildtulsiblobmastersrctoolsgenerate_xcodeprojsh script root tensorflow directori shell generate_xcodeprojsh genconfig tensorflowliteobjctensorflowlitetulsiprojtensorflowlit outputfold pathtogeneratedtensorflowlitexcodeproj tensorflow lite select tensorflow op enabl select tensorflow op tensorflow lite app pleas add tensorflowliteselecttfop pod podfil addit tensorflowliteswift tensorflowliteobjc pod depend primari languag also forc load framework project add follow line linker flag project build set page force_load project_dirpodstensorflowliteselecttfopsframeworkstensorflowliteselecttfopsframeworktensorflowliteselecttfop pleas refer select oper tensorflowopsselect guid detail opsselect httpswwwtensorfloworgliteguideops_selectio tensorflow lite io swift develop add tensorflowliteswift pod podfil objectivec develop add tensorflowliteobjc see tensorflow lite swifthttpsgithubcomtensorflowtensorflowtreemastertensorflowliteswift objchttpsgithubcomtensorflowtensorflowtreemastertensorflowliteobjc directori detail tensorflow lite swift tensorflow litehttpswwwtensorfloworglit tensorflow lightweight solut swift develop enabl lowlat infer ondevic machin learn model small binari size fast perform support hardwar acceler build tensorflow io support build swift tensorflow lite librari appl platform instal sourcehttpswwwtensorfloworginstallsourcesetup_for_linux_and_maco clone github repohttpsgithubcomtensorflowtensorflow configur tensorflow navig root directori execut configurepi script shell python configurepi follow prompt ask build tensorflow io support enter cocoapod develop add tensorflow lite pod podfil rubi pod tensorflowliteswift run pod instal swift file import modul swift import tensorflowlit bazel develop build file add tensorflowlit depend target python swift_librari dep tensorflowliteswifttensorflowlit swift file import modul swift import tensorflowlit build tensorflowlit swift librari target shell bazel build tensorflowliteswifttensorflowlit build test target shell bazel test tensorflowliteswifttest swiftcoptenabletest note swiftcoptenabletest requir optim build c opt gener xcode project use tulsi open tensorflowliteswifttensorflowlitetulsiproj use tulsiapphttpsgithubcombazelbuildtulsi run generate_xcodeprojshhttpsgithubcombazelbuildtulsiblobmastersrctoolsgenerate_xcodeprojsh script root tensorflow directori shell generate_xcodeprojsh genconfig tensorflowliteswifttensorflowlitetulsiprojtensorflowlit outputfold pathtogeneratedtensorflowlitexcodeproj tensorflow lite swift api test app tensorflow lite swift api usag found variou io exampl app provid follow locat tensorflow lite exampl appshttpswwwtensorfloworgliteexampl tensorflowexampl repositoryhttpsgithubcomtensorflowexampl gener doc tensorflowliteswift document gener via jazzyhttpsgithubcomrealmjazzi googler see cr detail brows swift refer document visit httpswwwtensorfloworgliteapi_docsswift directori contain dummi xcode project gener document tensorflowliteswift via jazzi opensourc tool hook xcode build tool pars doc comment unfortun tensorflowliteswift primarili develop via xcodebuild doc build potenti becom decoupl upstream tensorflowliteswift develop known issu everi new file ad tensorflowliteswift build must also manual ad xcode project project result document split type modul there way tell look gener document modul must includ order access specif type tensorflowlitec depend includ binari form contribut signific bloat git repositori sinc binari contain unus architectur slice gener document outsid googl run jazzi would swift modul jazzi swiftbuildtool xcodebuild modul tensorflowliteswift author tensorflow author sdk iphoneo speak tflite deleg creat reus exist tflite test tool new deleg two major challeng issu show dummi deleg implement illustr recommend approach address issu deleg creation recommend use simpledelegateinterfac simpledelegatekernelinterfacehttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegatesutilssimple_delegateh believ api make easier creat tflite deleg high level develop need focu whether tflite node graph support deleg given set support node ie subgraph origin model graph implement deleg kernel execut set node dummi deleg implement good start point understand idea sophist exampl refer flex delegatehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitedelegatesflex hexagon delegatehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitedelegateshexagon test tool current two option plug newli creat tflite deleg reus exist tflite kernel test tool util deleg registrarhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsdeleg mechan util extern delegatehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitedelegatesextern mechan former approach requir chang detail latter one requir even fewer chang work prebuilt tensorflow lite tool binari howev less explicit might complic set autom integr test therefor better clariti delegateregistrar approach slightli prefer describ option detail follow section option util deleg registrar approach creat deleg provid like dummy_delegate_providercchttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegatesutilsdummy_delegatedummy_delegate_providercc add extra depend build binari refer herehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsdeleg deleg provid exampl look use provid test evalu kernel test test refer defin tensorflowlitekernelshttpsgithubcomtensorflowtensorflowblobmastertensorflowlitekernel base test_util libraryhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitekernelstest_utilh test main function stubhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitekernelstest_maincc plug newli creat deleg reus test simpli add creat deleg provid extra depend test_util_delegate_providershttpsgithubcomtensorflowtensorflowblobfdccfefdeffcdacftensorflowlitekernelsbuildl remov other relev like follow cc_librari name tflite_driver_delegate_provid dep exist deleg provid might still relev dummy_delegate_provid alwayslink build kernel test specifi commandlin flag defin deleg provid execut test take case exampl bazel build c opt tensorflowlitekernelsadd_test set use_dummy_delegatetru appli dummi deleg tflite model graph bazelbintensorflowlitekernelsadd_test use_dummy_delegatetru benchmark task evalu tool tflite develop model benchmark toolhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmark evalu toolshttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsevaluationtask alreadi integr exist variou tflite deleg reus tool new deleg similar kernel test simpli add creat deleg provid addit depend build binari see rule buildhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegatesutilsbuild file detail take reus tflite model benchmark tool exampl deleg provid creat defin build rule like follow cc_binari name benchmark_model_plus_dummy_deleg copt tflite_copt linkopt task_linkopt dep simpli add deleg provid extra dep dummy_delegate_provid tensorflowlitetoolsbenchmarkbenchmark_model_main build binari specifi commandlin flag defin new deleg provid other detail benchmark model tool dochttpsgithubcomtensorflowtensorflowblobmastertensorflowlitetoolsbenchmarkreadmemd run benchmark tool like follow bazel build c opt tensorflowlitedelegatesutilsdummy_delegatebenchmark_model_plus_dummy_deleg set use_dummy_delegatetru appli dummi deleg tflite model graph bazelbintensorflowlitedelegatesutilsdummy_delegatebenchmark_model_plus_dummy_deleg graphtmpmobilenetvtflit use_dummy_delegatetru option util tensorflow lite extern deleg altern approach reus exist tensorflow lite kernel test tool first creat extern deleg adaptor like external_delegate_adaptorcchttpsgithubcomtensorflowtensorflowblobmastertensorflowlitedelegatesutilsdummy_delegateexternal_delegate_adaptorcc creat correspond build target build dynam librari afterward one could build binari use prebuilt one run dummi deleg long binari link external_delegate_providerhttpsgithubcomtensorflowtensorflowblobcfdffcffddbcdeedbatensorflowlitetoolsdelegatesbuildl librari support commandlin flag describ herehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsdelegatesexternaldelegateprovid note extern deleg provid alreadi link exist test tool binari exampl follow illustr benchmark dummi deleg via externaldeleg approach could use similar command test evalu tool bazel build c opt tensorflowlitedelegatesutilsdummy_delegatedummy_external_delegateso copi file directori extern deleg load choic cp bazelbintensorflowlitedelegatesutilsdummy_delegatedummy_external_delegateso tmp bazel build c opt tensorflowlitetoolsbenchmarkbenchmark_model set nonempti external_delegate_path valu trigger appli extern deleg runtim bazelbintensorflowlitetoolsbenchmarkbenchmark_model graphtmpmobilenetvtflit external_delegate_pathtmpdummy_external_delegateso external_delegate_optionserror_during_inittrueerror_during_preparetru worth note extern deleg correspond c implement deleg tensorflow lite python bind shown herehttpsgithubcomtensorflowtensorflowblobfcebeeffdfceetensorflowlitepythoninterpreterpyl therefor dynam extern deleg adaptor librari creat could directli use tensorflow lite python api detail guid tflite deleg come soon tensorflow lite core ml deleg tensorflow lite core ml deleg enabl run tensorflow lite model core ml frameworkhttpsdeveloperapplecomdocumentationcoreml result faster model infer io devic toc support io version processor io later older io version core ml deleg automat fallback cpu run iphon xs later use neural engin faster infer updat code use core ml deleg swift initi tensorflow lite interpret core ml deleg swift let coremldeleg coremldeleg let interpret tri interpretermodelpath modelpath deleg coremldeleg objectivec interpret initi includ coreml_delegateh objectivec includ tensorflowliteexperimentaldelegatescoremlcoreml_delegateh modifi code follow interpret initi appli deleg objectivec initi interpret model tfliteinterpreterbuildermodel resolverinterpret add follow section use core ml deleg tflitecoremldelegateopt option deleg tflitecoremldelegatecreateopt interpretermodifygraphwithdelegatedeleg dispos add code section dispos deleg eg dealloc class objectivec tflitecoremldelegatedeletedeleg support op follow op support core ml deleg add certain shape broadcast core ml tensor layout follow tensor shape broadcast b c h w b c b h w b averagepoold concat convd weight bia constant depthwiseconvd weight bia constant fullyconnect aka dens innerproduct weight bia present constant support singlebatch case input dimens except last dimens hardswish logist aka sigmoid maxpoold mirrorpad input reflect mode support pad constant allow h w dimens mul certain shape broadcast core ml tensor layout follow tensor shape broadcast b c h w b c b h w b pad padv input support pad constant allow h w dimens relu relunto relu reshap support target core ml version support target core ml resizebilinear softmax tanh transposeconv weight constant faq core ml deleg support fallback cpu graph contain unsupport op ye core ml deleg work io simul ye librari includ x x_ target run simul see perform boost cpu tensorflow lite core ml deleg support maco tensorflow lite test io maco custom tf lite op support coreml deleg support custom op fallback cpu appendix core ml deleg swift api swift deleg use core ml framework perform tensorflow lite graph oper import experiment interfac subject chang public final class coremldeleg deleg configur option coremldeleg public let option option conform deleg protocol public privateset var cdeleg cdeleg creat new instanc configur given option paramet option configur deleg default new instanc coremldelegateopt default configur valu public initopt option option selfopt option var delegateopt tflitecoremldelegateopt cdeleg tflitecoremldelegatecreatedelegateopt deinit tflitecoremldelegatedeletecdeleg extens coremldeleg option configur coremldeleg public struct option equat hashabl creat new instanc default valu public init core ml deleg c api c typedef struct dummi cant empti struct c char dummi tflitecoremldelegateopt return deleg use coreml op execut must outliv interpret tflitedeleg tflitecoremldelegatecr const tflitecoremldelegateopt option need cleanup delet deleg void tflitecoremldelegatedeletetflitedeleg deleg tflite gpu tensorflow lite tflite support sever hardwar acceler document describ use gpu backend use tflite deleg api android io gpu design high throughput massiv paralleliz workload thu wellsuit deep neural net consist huge number oper work input tensor easili divid smaller workload carri parallel typic result lower latenc best scenario infer gpu may run fast enough becom suitabl realtim applic gpu comput bit bit float point number requir quantiz optim perform unlik cpu quantiz neural network option due lower accuraci caus lost precis concern discard run deep neural net model gpu anoth benefit come gpu infer power effici gpu carri comput effici optim way consum less power gener less heat task run cpu tflite gpu support follow op bit bit float precis add v average_pool_d v concaten v conv_d v depthwise_conv_d v exp v fully_connect v logist v lstm v basic lstm max_pool_d v maximum v minimum v mul v pad v prelu v relu v relu v reshap v resize_bilinear v softmax v strided_slic v sub v transpose_conv v basic usag note follow section describ exampl usag android gpu deleg c languag platform pleas see documentationhttpswwwtensorfloworgliteperformancegpu use tflite gpu simpl get gpu deleg via tflitegpudelegatevcr pass interpreterbuilderadddeleg c set interpreterbuild auto model flatbuffermodelbuildfromfilemodel_path opsbuiltinbuiltinopresolv op_resolv interpreterbuild interpreter_buildermodel op_resolv new prepar gpu deleg auto deleg tflitegpudelegatevcreatedefault optionsnullptr interpreter_builderadddelegatedeleg set interpret stdunique_ptrinterpret interpret interpreter_builderinterpret ktfliteok return run infer writetoinputtensorinterpretertyped_input_tensorfloat interpreterinvok ktfliteok return readfromoutputtensorinterpretertyped_output_tensorfloat clean tflitegpudelegatevdeletedeleg import call interpretermodifygraphwithdeleg interpreterbuilderoper interpreterinvok caller must eglcontext current thread interpreterinvok must call eglcontext eglcontext exist deleg intern creat one develop must ensur interpreterinvok alway call thread interpreterbuilderoper interpretermodifygraphwithdeleg call build runtim tflite gpu backend use opengl es comput shader opencl sh bazel build config android_arm pathtoyourproject metal shader use io introduc io thu compil flag look like sh bazel build config ios_fat pathtoyourproject advanc usag deleg option gpu option set pass tflitegpudelegatevcr option set nullptr shown basic usag translat c const tflitegpudelegateoptionsv kdefaultopt tflitegpudelegateoptionsvdefault similar tflgpudelegatecr c const tflgpudelegateopt kdefaultopt allow_precision_loss fals wait_typ tflgpudelegatewaittypepass enable_quant fals conveni suppli nullptr recommend explicitli set option avoid unexpect artifact case default valu chang import note default option may fastest faster execut may want set allow_precision_loss true gpu perform fp calcul intern set wait_typ tflgpudelegatewaittypeaggress avoid gpu sleep mode tip trick oper trivial cpu side may high cost gpu land one class oper variou form reshap oper includ batch_to_spac space_to_batch space_to_depth etc op insert network network architect logic think worth remov perform gpu tensor data slice channel thu comput tensor shape b h w perform tensor shape b h w significantli wors b h w sens camera hardwar support imag frame rgba feed channel input significantli faster memori copi channel rgb channel rgbx avoid perform best practiceshttpswwwtensorfloworgliteperformancebest_practic hesit retrain classifi mobileoptim network architectur signific part optim ondevic infer public ondevic neural net infer mobil gpushttpsarxivorgab juhyun lee nikolay chirkov ekaterina ignasheva yuri pisarchyk mogan shieh fabio riccardi raman sarokin andrei kulik matthia grundmann cvpr workshop effici deep learn comput vision ecvhttpssitesgooglecomcorpviewecv tflite deleg featur pariti test test ensur featur pariti across tflite gpu deleg everi test receiv simpl automat gener tflite model input model run default tflite cpu interpret deleg interpret test succe output result interpret match given accuraci tflite model must ad folder xcodeproj gener hexagon deleg deleg use hexagon sdk deleg process qc dsp note support quantiz model sinc dsp effici quantiz version op support quantiz version detail usag exampl check user guidehttpswwwtensorfloworgliteperformancehexagon_deleg usag add depend hexagon_deleg rule code chang exampl includ tensorflowlitedelegateshexagonhexagon_delegateh assum share librari datalocaltmp file packag nativ lib android app typic equival path provid getcontextgetapplicationinfonativelibrarydir const char library_directory_path datalocaltmp tflitehexagoninitwithpathlibrary_directory_path need startup tflitetflitehexagondelegateopt param delegate_ptr need outliv interpret exampl use case need resiz input anyth trigger reappli deleg delegate_ptr need outliv interpret auto delegate_ptr tflitetflitehexagondelegatecreateparam interpretertflitedelegateptr delegatedelegate_ptr tflitedeleg deleg tflitetflitehexagondelegatedeletedeleg interpretermodifygraphwithdelegatedelegateget tflitehexagonteardown need end appdsp usag share librari libhexagon_interfaceso hold interfac deleg use must avail link hexagon_deleg librari tflite load either shell overrid ld_library_pathld_library_pathpath add insid apk way avail libhexagon_nn_skel_v_vso hold dsp code use tflitehexagoninitwithpath provid path directori hold share librari hexagon nn devic your use tflitehexagoninit need set environ variabl adsp_library_path path_to_the_libsystemlibrfsaadspsystemvendorlibrfsaadspdsp note separ push file librari pick one need base runtim sure use devic push one support op hexagon support op inputsoutput dimens follow oper implement constraint verifi isnodesupportedbyhexagon add support relu activ argmax argmin averagepoold constraint activ concat convd constraint stride widthheight depthtospac depthwiseconvd constraint filter width depth_multipli dilat support stride otherwis stride heightwidth fullyconnect hardswish lnormal without activ logist aka sigmoid maximum maxpoold without activ b mean minimum mirrorpad mul support relu activ neg pack pad support pad b quantiz bit input output relu relu reshap resiz bilinear constraint request size b resiz nearest neighbor rsqrt slice softmax spacetodepth split squareddiffer stride slice sub support relu activ tanh transpos transposeconvd constraint stride heightwidth dilat heightwidth hexagon deleg test directori contain unittest op builder hexagon deleg run test use run_testssh directori pass path directori contain libhexagon_nn_skelso file script copi file devic build test execut test stop one test fail exampl follow instructionshttpswwwtensorfloworgliteperformancehexagon_deleg download hexagon_nn_skel extract file exampl file extract tmphexagon_skel sampl command bash tensorflowlitedelegateshexagonbuilderstestsrun_testssh tmphexagon_skel xnnpack backend tensorflow lite xnnpack highli optim librari neural network infer oper arm x webassembl architectur android io window linux maco emscripten environ document describ use xnnpack librari infer engin tensorflow lite use xnnpack engin tensorflow lite interpret xnnpack integr tensorflow lite interpret deleg mechan tensorflow lite support sever method enabl xnnpack floatingpoint infer enabl xnnpack via java api android recommend android prebuilt nightli tensorflow lite binari androidhttpswwwtensorfloworgliteguideandroiduse_the_tensorflow_lite_aar_from_mavencentr includ xnnpack albeit disabl default use setusexnnpack method interpreteropt class enabl java interpreteropt interpreteropt new interpreteropt interpreteroptionssetusexnnpacktru interpret interpret new interpretermodel interpreteropt enabl xnnpack via swiftobjectivec api io recommend io prebuilt nightli tensorflow lite cocoapodshttpswwwtensorfloworgliteguideiosspecifying_vers includ xnnpack enabl default swift develop use interpreteropt object enabl xnnpack swift var option interpreteropt optionsisxnnpacken true var interpret tri interpretermodelpath modelpath option option objectivec develop enabl xnnpack via new properti tflinterpreteropt class objc tflinterpreteropt option tflinterpreteropt alloc init optionsusexnnpack ye nserror error tflinterpret interpret tflinterpret alloc initwithmodelpathmodelpath optionsopt errorerror enabl xnnpack via bazel build flag recommend desktop build tensorflow lite bazel add defin tflite_with_xnnpacktru tensorflow lite interpret use xnnpack engin default exact command depend target platform eg android aar youd use bazel build c opt fat_apk_cpuxx_armvaarmeabiva host_crosstool_topbazel_toolstoolscpptoolchain defin tflite_with_xnnpacktru tensorflowlitejavatensorflowlit note case interpretersetnumthread invoc take effect number thread use xnnpack engin order specifi number thread avail xnnpack engin manual pass valu construct interpret snippet illustr assum use interpreterbuild construct interpret c load model tflitemodel model construct interprept tfliteopsbuiltinbuiltinopresolv resolv stdunique_ptrtfliteinterpret interpret tflitestatu re tfliteinterpreterbuildermodel resolv num_thread xnnpack engin use tensorflow lite interpret use singl thread infer default enabl xnnpack via addit depend anoth way enabl xnnpack build link tensorflowlitetflite_with_xnnpack target applic alongsid tensorflow lite framework method work platform support posixstyl weak symbol android io linux mac window enabl xnnpack via lowlevel deleg api recommend possibl use lowlevel deleg api enabl xnnpack method recommend unless need use tensorflow lite without xnnpack eg benchmark lowlevel deleg api user creat xnnpack deleg tflitexnnpackdelegatecr function call interpretermodifygraphwithdeleg deleg support part model xnnpack deleg user must destroy deleg tflitexnnpackdelegatedelet releas tensorflow lite interpret snippet illustr typic usag c build interpret stdunique_ptrtfliteinterpret interpret import initi option tflitexnnpackdelegateoptionsdefault apicompat futur extens tflitexnnpackdelegateopt structur tflitexnnpackdelegateopt xnnpack_opt tflitexnnpackdelegateoptionsdefault xnnpack_optionsnum_thread num_thread tflitedeleg xnnpack_deleg tflitexnnpackdelegatecreatexnnpack_opt interpretermodifygraphwithdelegatexnnpack_deleg ktfliteok report error fall back anoth deleg default backend run infer use xnnpack interpreterinvok import releas interpret destroy deleg interpreterreset tflitexnnpackdelegatedeletexnnpack_deleg limit support oper xnnpack deleg workinprogress current support limit set oper unsupport oper fall back default implement model use combin support unsupport oper still benefit xnnpack deleg floatingpoint oper list current support floatingpoint oper ab input output must bit floatingpoint format add input output must bit floatingpoint format addit two input support fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ average_pool_d input output must bit floatingpoint format x pool nonunit stride support fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ ceil input output must bit floatingpoint format conv_d input output must bit floatingpoint format bia mandatori filter bia must static use ktflitemmapro alloc type fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ depth_to_spac input output must bit floatingpoint format block size must greater depthwise_conv_d input output must bit floatingpoint format bia mandatori filter bia must static use ktflitemmapro alloc type fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ div input output must bit floatingpoint format fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ elu input output must bit floatingpoint format fully_connect input output must bit floatingpoint format filter bia must static use ktflitemmapro alloc type fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ floor input output must bit floatingpoint format hard_swish input output must bit floatingpoint format leaky_relu input output must bit floatingpoint format logist input output must bit floatingpoint format max_pool_d input output must bit floatingpoint format x pool nonunit stride support fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ maximum input output must bit floatingpoint format mean first input output must tensor bit floatingpoint format second input input axe specif must static use ktflitemmapro alloc type axe specif ie reduct across spatial dimens support keep_dim true paramet valu support minimum input output must bit floatingpoint format mul input output must bit floatingpoint format fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ neg input output must bit floatingpoint format pad first input output must bit floatingpoint format second input input pad specif must static use ktflitemmapro alloc type number pad element must nonneg prelu input output must bit floatingpoint format slope must static use ktflitemmapro alloc type slope must either tensor nonchannel dimens equal relu input output must bit floatingpoint format relu input output must bit floatingpoint format relu_n_to_ input output must bit floatingpoint format reshap first input output must bit floatingpoint format second input input new shape specif must either static use ktflitemmapro alloc type absent new shape specifi via reshapeopt tabl resize_bilinear first input output must tensor bit floatingpoint format second input input new shape specif must static use ktflitemmapro alloc type round input output must bit floatingpoint format softmax input output must bit floatingpoint format beta support sqrt input output must bit floatingpoint format squar input output must bit floatingpoint format squared_differ input output must bit floatingpoint format sub input output must bit floatingpoint format fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ transpose_conv input filter bia present output tensor must bit floatingpoint format output size filter bia present must static use ktflitemmapro alloc type quantiz oper default quantiz infer xnnpack deleg disabl xnnpack use floatingpoint model support quantiz infer xnnpack must enabl ad extra bazel flag build tensorflow lite defin xnn_enable_qstru flag enabl xnnpack infer quantiz oper use sign quantiz schema schema use model produc model optim toolkithttpswwwtensorfloworgmodel_optim either posttrain integ quantiz quantizationawar train posttrain dynam rang quantiz support xnnpack defin xnn_enable_qutru flag enabl xnnpack infer quantiz oper use unsign quantiz schema produc via legaci tensorflow x quantiz tool option experiment may perform suboptim mobil processor neon dot product instruct list current support quantiz oper add input output must bit quantiz format addit two input support fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ conv_d input output must bit quantiz format bia must bit quantiz format bia mandatori filter bia must static use ktflitemmapro alloc type use either pertensor perchannel quantiz paramet fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ depthwise_conv_d input output must bit quantiz format bia must bit quantiz format bia mandatori filter bia must static use ktflitemmapro alloc type use either pertensor perchannel quantiz paramet fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ dequant input tensor must bit quantiz format without perchannel quantiz output tensor must bit floatingpoint format elu input output must bit sign quantiz format fully_connect input output must bit quantiz format bia present must bit quantiz format filter bia must static use ktflitemmapro alloc type fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ logist input output must bit quantiz format max_pool_d input output must bit quantiz format x pool nonunit stride support fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ mean first input output must tensor bit quantiz format second input input axe specif must static use ktflitemmapro alloc type axe specif ie reduct across spatial dimens support keep_dim true paramet valu support mul input output must bit quantiz format fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ pad first input output must bit quantiz format second input input pad specif must static use ktflitemmapro alloc type number pad element must nonneg quantiz input tensor must bit floatingpoint format output tensor must bit quantiz format without perchannel quantiz resize_bilinear first input output must tensor bit quantiz format second input input new shape specif must static use ktflitemmapro alloc type sub input output must bit quantiz format fuse none relu relu_n_to_ relu activ support fuse tanh sign_bit activ transpose_conv input filter output tensor must bit quantiz format bia present must bit quantiz format output size filter bia present must static use ktflitemmapro alloc type spars infer xnnpack backend support spars infer cnn model describ fast spars convnetshttpsarxivorgab paper spars infer restrict subgraph follow oper spars subgraph must store weight spars represent use densifi oper tensorflow lite schema spars subgraph must start x stride conv_d oper pad side dilat input channel spars subgraph must end either mean oper reduct across spatial axe depth_to_spac oper spars subgraph may contain follow oper conv_d x kernel pad least rd filter weight x conv_d oper across spars subgraph must zero enabl spars infer depthwise_conv_d x kernel stride dilat pad side depthwise_conv_d x kernel stride dilat pad side depthwise_conv_d x kernel stride dilat pad side depthwise_conv_d x kernel stride dilat pad side resize_bilinear oper output dimens greater mean oper reduct across spatial axe add mul oper input tensor one input add mul constant tensor must represent either scalar vector unari elementwis oper ab ceil elu floor hard_swish leaky_relu logist neg relu relu relu_n_to_ round sigmoid squar pretrain fast spars convnet modelshttpsgithubcomgoogleresearchgoogleresearchtreemasterfastconvnet provid exampl satisfi constrain limit dynam alloc ktflitedynam alloc type input output support resiz model input via interpreterresizeinputtensor support caus complet reiniti deleg instanc consider overhead extern deleg extern deleg special tensorflow lite deleg simpli initi load dynam librari encapsul actual tensorflow lite deleg implement actual deleg expos follow two creation delet c api __tflite_plugin_create_delegate__ declar seen creat deleg object base provid keyvalu option may return null indic error detail inform report call report_error provid option key valu nulltermin tflitedeleg tflite_plugin_create_deleg char options_key char options_valu size_t num_opt void report_errorconst char __tflite_plugin_destroy_delegate__ declar seen destroy deleg object creat previou api null argument valu allow void tflite_plugin_destroy_delegatetflitedeleg deleg extern deleg provid opaqu transpar way util tensorflow lite deleg perform infer word one may replac actual tensorflow lite deleg simpli updat dynam librari without chang applic code develop mainli deleg evalu note deleg correspond c implement one tensorflow lite python bind shown herehttpsgithubcomtensorflowtensorflowblobfcebeeffdfceetensorflowlitepythoninterpreterpyl tf lite android exampl deprec exampl move new tensorflow exampl repohttpsgithubcomtensorflowexampl split sever distinct exampl imag classificationhttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationandroid object detectionhttpsgithubcomtensorflowexamplestreemasterliteexamplesobject_detectionandroid speech commandshttpsgithubcomtensorflowexamplestreemasterliteexamplesspeech_commandsandroid tensorflow lite c imag classif demo exampl show load pretrain convert tensorflow lite model use recogn object imag begin make sure tensorflow installedhttpswwwtensorfloworginstal also need instal bazelhttpsdocsbazelbuildversionsmasterinstallhtml order build exampl code sure python futur modul instal pip instal futur user build exampl first run tensorflow_rootconfigur build android set android ndk configur ndk set tensorflow_rootworkspac first build desktop machin test ubuntu os x bazel build c opt tensorflowliteexampleslabel_imagelabel_imag build android armv bazel build c opt configandroid_arm tensorflowliteexampleslabel_imagelabel_imag build android armva bazel build c opt configandroid_arm tensorflowliteexampleslabel_imagelabel_imag download sampl model imag use compat model follow mobilenet v model offer good demonstr model train recogn differ object get model curl httpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz tar xzv c tmp get label curl httpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___frozentgz tar xzv c tmp mobilenet_v__labelstxt mv tmpmobilenet_v__labelstxt tmp run sampl desktop bazelbintensorflowliteexampleslabel_imagelabel_imag tflite_model tmpmobilenet_v__tflit label tmplabelstxt imag tensorflowliteexampleslabel_imagetestdatagrace_hopperbmp see result like load model tmpmobilenet_v__tflit resolv report invok averag time ms militari uniform windsor tie bulletproof vest cornet horn trumpet trump drumstick run sampl android devic prepar data devic eg adb push bazelbintensorflowliteexampleslabel_imagelabel_imag datalocaltmp adb push tmpmobilenet_v__tflit datalocaltmp adb push tensorflowliteexampleslabel_imagetestdatagrace_hopperbmp datalocaltmp adb push tmplabelstxt datalocaltmp run adb shell datalocaltmplabel_imag datalocaltmpmobilenet_v__tflit datalocaltmpgrace_hopperbmp l datalocaltmplabelstxt see someth like follow load model datalocaltmpmobilenet_v__tflit resolv report info initi tensorflow lite runtim invok averag time ms militari uniform windsor tie bulletproof vest bow tie cornet run model nnapi deleg adb shell datalocaltmplabel_imag datalocaltmpmobilenet_v__tflit datalocaltmpgrace_hopperbmp l datalocaltmplabelstxt f see someth like follow load model datalocaltmpmobilenet_v__tflit resolv report info initi tensorflow lite runtim info creat tensorflow lite deleg nnapi appli nnapi deleg invok averag time ms militari uniform windsor tie bulletproof vest bow tie cornet run model hexagon deleg assum follow hexagon deleg guidehttpsgithubcomtensorflowtensorflowblobmastertensorflowlitegdocperformancehexagon_delegatemd instal hexagon librari datalocaltmp run j adb shell datalocaltmplabel_imag datalocaltmpmobilenet_v___quanttflit datalocaltmpgrace_hopperbmp l datalocaltmplabelstxt j see someth like follow load model datalocaltmpmobilenet_v___quanttflit resolv report info initi tensorflow lite runtim load libcdsprpcso info creat tensorflow lite deleg hexagon info hexagon deleg node deleg node partit appli hexagon deleg invok averag time ms bow tie militari uniform suit jersey cornet run model xnnpack deleg x shell adb shell datalocaltmplabel_imag datalocaltmpmobilenet_v__tflit datalocaltmpgrace_hopperbmp l datalocaltmplabelstxt x see someth like follow load model datalocaltmpmobilenet_v__tflit resolv report info initi tensorflow lite runtim appli xnnpack deleg invok averag time ms militari uniform windsor tie bulletproof vest bow tie cornet h unsupport flag label_imag list support option shell sargodatalocaltmp label_imag h label_imag invalid option h label_imag acceler use android nnapi old_acceler use old android nnapi deleg allow_fp f allow run fp model fp count c loop interpreterinvok certain time gl_backend g use gpu deleg android hexagon_deleg j use hexagon deleg android input_mean b input mean input_std input standard deviat imag image_namebmp label l label model tflite_model model_nametflit profil p profil num_result r number result show thread number thread verbos v print inform warmup_run w number warmup run xnnpack_deleg x xnnpack deleg see label_imagecc sourc code command line option note binari also support runtimedeleg argument introduc deleg registrarhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsdeleg conflict argument mention earlier given preced exampl run binari addit command line option use_nnapitru nnapi_accelerator_namegoogleedgetpu util edgetpu thgen pixel phone pleas awar option omit adb shell datalocaltmplabel_imag datalocaltmpmobilenet_v___quanttflit datalocaltmpgrace_hopperbmp l datalocaltmplabelstxt j use_nnapitru nnapi_accelerator_namegoogleedgetpu tensorflow lite python imag classif demo label_imagepi script show load pretrain convert tensorflow lite model use recogn object imag python script accept argument specifi model use correspond label file imag process tip your use raspberri pi instead tri classify_picamerapi examplehttpsgithubcomtensorflowexamplestreemasterliteexamplesimage_classificationraspberry_pi begin make sure tensorflow installedhttpswwwtensorfloworginstal download sampl model imag use compat model follow mobilenet v model offer good demonstr model train recogn differ object sh get photo curl httpsrawgithubusercontentcomtensorflowtensorflowmastertensorflowliteexampleslabel_imagetestdatagrace_hopperbmp tmpgrace_hopperbmp get model curl httpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz tar xzv c tmp get label curl httpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___frozentgz tar xzv c tmp mobilenet_v__labelstxt mv tmpmobilenet_v__labelstxt tmp run sampl sh python label_imagepi model_fil tmpmobilenet_v__tflit label_fil tmplabelstxt imag tmpgrace_hopperbmp see result like militari uniform windsor tie bow tie mortarboard bolo tie use io demo app pleas read tensorflow lite io demo apphttpswwwtensorfloworglitedemo_io page tensorflow lite c minim exampl exampl show build simpl tensorflow lite applic step instal cmake tool requir cmake higher ubuntu simpli run follow command sh sudo aptget instal cmake follow offici cmake instal guidehttpscmakeorginstal step clone tensorflow repositori sh git clone httpsgithubcomtensorflowtensorflowgit tensorflow_src step creat cmake build directori run cmake tool sh mkdir minimal_build cd minimal_build cmake tensorflow_srctensorflowliteexamplesminim step build tensorflow lite minimal_build directori sh cmake build j build tensorflow lite makefil warn use makefil build tensorflow lite deprec aug pleas use cmake bazel instead pleas refer build tensorflow lite cmakehttpswwwtensorfloworgliteguidebuild_cmak build tensorflow lite arm boardshttpswwwtensorfloworgliteguidebuild_arm detail build tensorflow lite standalon pip mani user would like deploy tensorflow lite interpret use python without requir rest tensorflow step build binari wheel run script sh sudo apt instal swig libjpegdev zlibgdev pythondev pythonnumpi pip instal numpi pybind sh tensorflowlitetoolspip_packagebuild_pip_package_with_cmakesh print output whl file instal sh pip instal upgrad wheel also build wheel insid docker contain use make tool exampl follow command crosscompil tfliteruntim packag python python debian buster raspberri pi sh make base_imagedebianbust pythonpython tensorflow_targetrpi dockerbuild make base_imagedebianbust pythonpython tensorflow_targetrpi dockerbuild anoth option crosscompil python debian stretch arm board sh make base_imagedebianstretch pythonpython tensorflow_targetaarch dockerbuild build python ubuntu x_ nativ docker imag run sh make base_imageubuntu pythonpython tensorflow_targetn dockerbuild addit wheel way build debian packag ad build_debi make command python sh make base_imagedebianbust pythonpython tensorflow_targetrpi build_debi dockerbuild altern build bazel experiment anoth build step build binari wheel use bazel instead makefil dont need instal addit depend approach leverag tf ci_buildsh arm cross build normal build workstat sh tensorflowlitetoolspip_packagebuild_pip_package_with_bazelsh optim build workstat output may compat issu machin give best perform workstat sh tensorflowlitetoolspip_packagebuild_pip_package_with_bazelsh nativ cross build armhf python sh tensorflowtoolsci_buildci_buildsh pipython tensorflowlitetoolspip_packagebuild_pip_package_with_bazelsh armhf cross build armhf python sh tensorflowtoolsci_buildci_buildsh pipython tensorflowlitetoolspip_packagebuild_pip_package_with_bazelsh armhf cross build aarch python sh tensorflowtoolsci_buildci_buildsh pipython tensorflowlitetoolspip_packagebuild_pip_package_with_bazelsh aarch cross build aarch python sh tensorflowtoolsci_buildci_buildsh pipython tensorflowlitetoolspip_packagebuild_pip_package_with_bazelsh aarch cross build aarch python sh tensorflowtoolsci_buildci_buildsh pipython tensorflowlitetoolspip_packagebuild_pip_package_with_bazelsh aarch nativ build window sh bash tensorflowlitetoolspip_packagebuild_pip_package_with_bazelsh window enabl tf op support flex deleg want use tf op python api need enabl flex support build tflite interpret flex op support provid definetflite_pip_with_flextru bazel exampl normal build flex workstat sh custom_bazel_flagsdefinetflite_pip_with_flextru tensorflowlitetoolspip_packagebuild_pip_package_with_bazelsh cross build flex armhf python sh ci_docker_extra_params custom_bazel_flagsdefinetflite_pip_with_flextru tensorflowtoolsci_buildci_buildsh pipython tensorflowlitetoolspip_packagebuild_pip_package_with_bazelsh armhf usag note unlik tensorflow instal tflite_runtim namespac use tensorflow lite interpret python tflite_runtimeinterpret import interpret interpret interpretermodel_pathfootflit current work build linux machin includ raspberri pi futur cross compil smaller soc like raspberri pi bigger host support caveat use tensorflow select op tensorflow lite builtin current custom op deleg regist tflite serial tool note tool intend advanc user use care c serial librari gener write tflite flatbuff given interpret subgraph exampl usecas includ author model interpret api updat model ondevic modifi tensordata relev tensor serial write flatbuff file write tflite model interpret see liteinterpreterh stdunique_ptrtfliteinterpret interpret buildmodifi interpret tflitemodelwrit writerinterpreterget stdstring filenam tmpmodeltflit writerwritefilenam note api support custom io tensor custom op yet howev support model control flow generatewrit flatbuff particular subgraph see litecoresubgraphh use subgraphwrit stdunique_ptrtfliteinterpret interpret buildmodifi interpret number subgraph obtain const int num_subgraph interpreter_subgraphs_s note subgraph_index num_subgraph tflitesubgraphwrit writerinterpretersubgraphsubgraph_index stdstring filenam tmpmodeltflit writerwritefilenam subgraphwrit support custom op andor custom io tensor gener flatbuff inmemori modelwrit subgraphwrit support getbuff method return gener flatbuff inmemori stdunique_ptruint_t output_buff size_t output_buffer_s tflitemodelwrit writerinterpreterget writergetbufferoutput_buff output_buffer_s deseri flatbuff written deseri like tflite model eg stdunique_ptrflatbuffermodel model flatbuffermodelbuildfromfilefilenam tfliteopsbuiltinbuiltinopresolv resolv interpreterbuild buildermodel resolv stdunique_ptrinterpret new_interpret buildernew_interpret tflite model task evalu page describ check accuraci quantiz model verifi degrad accuraci within accept limit accuraci correct tensorflow lite two type tool measur accur deleg behav given model taskbas taskagnost taskbas evalu tflite two tool evalu correct two imagebas task ilsvrc httpimagenetorgchallengeslsvrc imag classif topk accuraci coco object detectionhttpscocodatasetorgdetect w bound box mean averag precis map taskagnost evalu task isnt establish ondevic evalu tool experi custom model tensorflow lite infer diff tool tool three differ binari support brief descript provid infer diff toolhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsevaluationtasksinference_diffinferencedifftool binari compar tensorflow lite execut singlethread cpu infer userdefin infer imag classif evaluationhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsevaluationtasksimagenet_image_classificationimageclassificationevaluationbasedonilsvrctask binari evalu tensorflow lite model train ilsvrc imag classif taskhttpwwwimagenetorgchallengeslsvrc object detect evaluationhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsevaluationtaskscoco_object_detectionobjectdetectionevaluationusingthecocominivaldataset binari evalu tensorflow lite model train bound boxbas coco object detectionhttpscocodatasetorgdetectionev task inform visit tensorflow lite guid accuraci correctnesshttpswwwtensorfloworgliteperformancedelegatesaccuracy_correct page object detect evalu use coco miniv dataset binari evalu follow paramet tflite model train bound boxbas coco object detectionhttpcocodatasetorgdetectionev task nativ preprocess latenc infer latenc mean averag precis map averag across iou threshold increment object categori binari take path valid imag ground truth proto file input along model inferencespecif paramet deleg number thread output metric stdout follow num evalu run preprocess latenc avgu std_devu infer latenc avgu std_devu averag precis iou threshold averag precis iou threshold averag precis iou threshold averag precis iou threshold averag precis iou threshold averag precis iou threshold averag precis iou threshold averag precis iou threshold averag precis iou threshold averag precis iou threshold overal map run binari pleas follow preprocess sectionpreprocessingtheminivaldataset prepar data execut command run binari sectionrunningthebinari paramet binari take follow paramet model_fil string path tflite model file accept imag preprocess incept format output signatur similar ssd mobilenet modelhttpswwwtensorfloworglitemodelsobject_detectionoverviewoutput model_output_label string path label correspond output model eg case cocotrain ssd model path file line contain class detect model correct order start background sampl model labellist combin coco download tflite host model pagehttpswwwtensorfloworgliteguidehosted_modelsobject_detect ground_truth_images_path string path directori contain ground truth imag ground_truth_proto string path file contain tfliteevaluationobjectdetectiongroundtruth proto text format left empti map number provid two paramet prepar use preprocess_coco_miniv script includ folder output_file_path string final metric dump output_file_path stringseri instanc tfliteevaluationevaluationstagemetr follow option paramet use modifi infer runtim num_interpreter_thread int default modifi number thread use tflite interpret infer deleg string provid tri use specifi deleg accuraci evalu valid valu nnapi gpu hexagon note pleas refer hexagon deleg documentationhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitegdocperformancehexagon_delegatemd instruct set hexagon deleg tool assum libhexagon_interfaceso qualcomm librari lie datalocaltmp script also support runtimedeleg argument introduc deleg registrarhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsdeleg conflict exampl num_thread vs num_interpreter_thread paramet script given preced multipl deleg specifi use commandlin flag via support deleg registrar order deleg appli tflite runtim enabl commandlin flag specifi exampl use_xnnpacktru use_gputru mean appli xnnpack deleg first gpu deleg secondli comparison use_gputru use_xnnpacktru mean appli gpu deleg first xnnpack deleg secondli note one could specifi help launch binari see full list support argument debug mode script also support debug mode follow paramet debug_mod boolean whether enabl debug mode perimag predict written stdout along metric imagewis predict output follow imag image_jpg object score classid bound box normal top normal bottom normal left normal right object score classid bound box normal top normal bottom normal left normal right imag image_jpg mode let debug output object detect model isnt necessarili train coco dataset leav ground_truth_proto empti model output signatur would still need follow convent mention still need output label file preprocess miniv dataset comput map consist interpret way util coco miniv dataset mention tensorflow detect model zoohttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiongdoctf_detection_zoomd link download compon valid set coco valid imageshttpimagescocodatasetorgzipsvalzip coco trainval annotationshttpimagescocodatasetorgannotationsannotations_trainvalzip file zip requir instances_valjson miniv imag idshttpsgithubcomtensorflowmodelsblobmasterresearchobject_detectiondatamscoco_minival_idstxt appli valid set would need copi content text file sinc evalu perform ondevic first filter data extract subset contain imag groundtruth bound box need util preprocess_coco_miniv python binari follow bazel run tensorflowlitetoolsevaluationtaskscoco_object_detectionpreprocess_coco_miniv images_folderpathtov instances_filepathtoinstances_valjson allowlist_filepathtominival_allowlisttxt output_folderpathtooutputfold option specifi num_imagesn argument preprocess first n imag file base sort list filenam script gener follow within output folder imag result subset coco valid imag ground_truthpb pb binaryformat proto file hold tfliteevaluationobjectdetectiongroundtruth correspond imag subset run binari android refer httpsgithubcomtensorflowtensorflowtreemastertensorflowexamplesandroid configur ndk sdk build use follow command bazel build c opt configandroid_arm cxxoptstdc tensorflowlitetoolsevaluationtaskscoco_object_detectionrun_ev connect phone push binari phone adb push make directori requir adb push bazelbinthird_partytensorflowlitetoolsevaluationtaskscoco_object_detectionrun_ev datalocaltmp make binari execut adb shell chmod x datalocaltmprun_ev push tflite model need test adb push ssd_mobilenet_v_floattflit datalocaltmp push model label text file devic adb push pathtolabelmaptxt datalocaltmplabelmaptxt preprocess dataset use instruct given preprocess sectionpreprocessingtheminivaldataset push data folder contain imag ground truth proto devic adb shell mkdir datalocaltmpcoco_valid adb push pathtooutputfold datalocaltmpcoco_valid run binari adb shell datalocaltmprun_ev model_filedatalocaltmpssd_mobilenet_v_floattflit ground_truth_images_pathdatalocaltmpcoco_validationimag ground_truth_protodatalocaltmpcoco_validationground_truthpb model_output_labelsdatalocaltmplabelmaptxt output_file_pathdatalocaltmpcoco_outputtxt option could also pass num_interpreter_thread deleg argument run differ configur desktop build run use follow command bazel run c opt tensorflowlitetoolsevaluationtaskscoco_object_detectionrun_ev model_filepathtossd_mobilenet_v_floattflit ground_truth_images_pathpathtoimag ground_truth_protopathtoground_truthpb model_output_labelspathtolabelmaptxt output_file_pathpathtococo_outputtxt infer diff tool note experiment tool analyz tensorflow lite behavior deleg given model binari compar tensorflow lite execut term latenc outputvalu deviat two set singlethread cpu infer userdefin infer tool gener random gaussian data pass two tflite interpret one run singlethread cpu kernel parameter user argument measur latenc well absolut differ output tensor interpret perel basi final output log stdout typic look like num evalu run refer run latenc avgu std_devu test run latenc avgu std_devu outputdiff avg_error std_deve one instanc outputdiff output tensor model statist outputdiffi correspond absolut differ raw valu across element ith output paramet section test interpret refer userdefin infer mention refer set alway singlethread cpu binari take follow paramet model_fil string path tflite model file follow option paramet num_run int mani run perform compar execut refer test set default binari perform run invoc per run get accur latenc number num_interpreter_thread int default modifi number thread use test interpret infer deleg string provid tri use specifi deleg test interpret valid valu nnapi gpu hexagon note pleas refer hexagon deleg documentationhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitegdocperformancehexagon_delegatemd instruct set hexagon deleg tool assum libhexagon_interfaceso qualcomm librari lie datalocaltmp output_file_path string final metric dump output_file_path serial instanc tfliteevaluationevaluationstagemetr script also support runtimedeleg argument introduc deleg registrarhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsdeleg conflict exampl num_thread vs num_interpreter_thread paramet script given preced multipl deleg specifi use commandlin flag via support deleg registrar order deleg appli tflite runtim enabl commandlin flag specifi exampl use_xnnpacktru use_gputru mean appli xnnpack deleg first gpu deleg secondli comparison use_gputru use_xnnpacktru mean appli gpu deleg first xnnpack deleg secondli note one could specifi help launch binari see full list support argument run binari android build use follow command bazel build c opt configandroid_arm tensorflowlitetoolsevaluationtasksinference_diffrun_ev connect phone push binari phone adb push make directori requir adb push bazelbinthird_partytensorflowlitetoolsevaluationtasksinference_diffrun_ev datalocaltmp push tflite model need test exampl adb push mobilenet_v__tflit datalocaltmp run binari adb shell datalocaltmprun_ev model_filedatalocaltmpmobilenet_v__tflit delegategpu pull result adb pull datalocaltmpinference_difftxt accuracy_tool imag classif evalu base ilsvrc task binari evalu follow paramet tflite model train ilsvrc imag classif taskhttpwwwimagenetorgchallengeslsvrc nativ preprocess latenc infer latenc topk accuraci valu binari take path valid imag label input along model inferencespecif paramet deleg number thread output metric stdout follow num evalu run total imag evalu preprocess latenc avgu std_devu infer latenc avgu std_devu top accuraci top accuraci top accuraci top accuraci top accuraci top accuraci top accuraci top accuraci top accuraci top accuraci run binari download ilsvrc devkit see instructionsdownloadingilsvrc run generate_validation_ground_truth scriptgroundtruthlabelgener gener ground truth label paramet binari take follow paramet model_fil string path tflite model file ground_truth_images_path string path directori contain ground truth imag ground_truth_label string path ground truth label file file contain number label number imag ground truth directori label assum order sort filenam imag see ground truth label generationgroundtruthlabelgener section inform gener label imag model_output_label string path file contain label use interpret output model eg case mobilenet path mobilenet_labelstxt label order output dimens tensor follow option paramet denylist_file_path string path denylist file file contain indic imag denylist evalu imag denylist ilsvrc dataset detail pleas refer readmetxt ilsvrc devkit num_imag int default number imag process imag directori process otherwis num_imag process num_thread int default number thread use evalu note chang number tflite interpret thread shard dataset speed evalu output_file_path string final metric dump output_file_path stringseri instanc tfliteevaluationevaluationstagemetr follow option paramet use modifi infer runtim num_interpreter_thread int default modifi number thread use tflite interpret infer deleg string provid tri use specifi deleg accuraci evalu valid valu nnapi gpu hexagon note pleas refer hexagon deleg documentationhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitegdocperformancehexagon_delegatemd instruct set hexagon deleg tool assum libhexagon_interfaceso qualcomm librari lie datalocaltmp script also support runtimedeleg argument introduc deleg registrarhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsdeleg conflict exampl num_thread vs num_interpreter_thread paramet script given preced multipl deleg specifi use commandlin flag via support deleg registrar order deleg appli tflite runtim enabl commandlin flag specifi exampl use_xnnpacktru use_gputru mean appli xnnpack deleg first gpu deleg secondli comparison use_gputru use_xnnpacktru mean appli gpu deleg first xnnpack deleg secondli note one could specifi help launch binari see full list support argument download ilsvrc order use tool run evalu full k imagenet dataset download data set httpimagenetorgrequest ground truth label gener ilsvrc devkit validation_ground_truthtxt contain id correspond synset imag accuraci binari howev expect ground truth label contain actual name categori instead synset id convers script provid convert valid ground truth categori label validation_ground_truthtxt convert follow step ilsvrc__devkit_dirset path ilsvrc devkit validation_labelsset path output python third_partytensorflowlitetoolsevaluationtasksimagenet_image_classificationgenerate_validation_labelspi ilsvrc_devkit_dirilsvrc__devkit_dir validation_labels_outputvalidation_label run binari android refer httpsgithubcomtensorflowtensorflowtreemastertensorflowexamplesandroid configur ndk sdk build use follow command bazel build c opt configandroid_arm cxxoptstdc tensorflowlitetoolsevaluationtasksimagenet_image_classificationrun_ev connect phone push binari phone adb push make directori requir adb push bazelbintensorflowlitetoolsevaluationtasksimagenet_image_classificationrun_ev datalocaltmp make binari execut adb shell chmod x datalocaltmprun_ev push tflite model need test exampl adb push mobilenet_quant_v_tflit datalocaltmp push imagenet imag devic make sure devic suffici storag avail push dataset adb shell mkdir datalocaltmpilsvrc_imag adb push imagenet_images_dir datalocaltmpilsvrc_imag push gener valid ground label devic adb push validation_label datalocaltmpilsvrc_validation_labelstxt push model label text file devic adb push model_labels_txt datalocaltmpmodel_output_labelstxt run binari adb shell datalocaltmprun_ev model_filedatalocaltmpmobilenet_quant_v_tflit ground_truth_images_pathdatalocaltmpilsvrc_imag ground_truth_labelsdatalocaltmpilsvrc_validation_labelstxt model_output_labelsdatalocaltmpmodel_output_labelstxt output_file_pathdatalocaltmpaccuracy_outputtxt num_imag run imag desktop build run use follow command bazel run c opt tensorflowlitetoolsevaluationtasksimagenet_image_classificationrun_ev model_filemobilenet_quant_v_tflit ground_truth_images_pathimagenet_images_dir ground_truth_labelsvalidation_label model_output_labelsmodel_labels_txt output_file_pathtmpaccuracy_outputtxt num_imag run imag tflite bufferstrip toollibrari note advanc tool use reduc bandwidth usag neural architectur search applic use caution tool directori make easier distribut tflite model multipl devic network sole aim benchmark latenc perform intend workflow follow strip tool empti elig constant tflite flatbuff reduc size lean model easili transport devic network reconstitut tool devic take flatbuff memori fill appropri buffer random data exampl see beforeaft size mobilenetv float mb kb quantiz mb kb note tool support singl subgraph two tool directori strip buffer tflite flatbuff tool take input flatbuff strip empti buffer constant data tensor follow follow guidelin either float int uint int int tensor min element second rule protect us invalid constant data randomis exampl reshap shape input run associ script bazel run c opt tensorflowlitetoolsstrip_buffersstrip_buffers_from_fb input_flatbufferinputpathtflit output_flatbufferoutputpathtflit strip buffer tflite flatbuff idea reconstitut lean flatbuff model generar step fill random data whereev necessari prototyp script call bazel run c opt tensorflowlitetoolsstrip_buffersreconstitute_buffers_into_fb input_flatbufferinputpathtflit output_flatbufferoutputpathtflit c librari tool present stripping_lib directori mutat flatbuff inmemori ensur two step without touch filesystem tflite model benchmark tool c binari descript simpl c binari benchmark tflite model individu oper desktop machin android binari take tflite model gener random input repeatedli run model specifi number run aggreg latenc statist report run benchmark instruct run binari desktop android io pleas use io benchmark apphttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkio experiment android apk wrapper benchmark model util offer faith execut behavior android via foreground activ locat herehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkandroid paramet binari take follow requir paramet graph string path tflite model file follow option paramet num_thread int default number thread use run tflite interpret default set platform default valu warmup_run int default number warmup run start benchmark num_run int default number run increas reduc varianc run_delay float default delay second subsequ benchmark run nonposit valu mean use delay run_frequ float default frequenc run benchmark run number prorat run per second target rate per second reach benchmark would start next run immedi tri best catch set overrid run_delay paramet nonposit valu mean delay subsequ run enable_op_profil bool defaultfals whether enabl peroper profil measur max_profiling_buffer_entri int default max number profil event store infer run meaning enable_op_profil set true note actual valu paramet adjust model node specifi valu paramet profiling_output_csv_fil str default file path export profil data csv result print stdout option set requir enable_op_profil true path includ name output csv otherwis result print stdout print_preinvoke_st bool defaultfals whether print tflite interpret intern call tfliteinterpreterinvok intern includ alloc memori size tensor etc enabl could help understand tflite graph memori usag print_postinvoke_st bool defaultfals whether print tflite interpret intern benchmark complet ie repeat invok call complet intern includ alloc memori size tensor etc enabl could help understand tflite graph memori usag particularli dynamicshap tensor graph report_peak_memory_footprint bool defaultfals whether report peak memori footprint period check memori footprint intern separ thread spawn period check therefor perform benchmark result could affect memory_footprint_check_interval_m int default interv millisecond two consecut memori footprint check use report_peak_memory_footprint set true dry_run bool defaultfals whether run tool simpli load model alloc tensor etc without actual invok op kernel verbos bool defaultfals whether log paramet whose valu set default log paramet set pars valu commandlin flag release_dynamic_tensor bool defaultfals whether configur interpret immedi releas memori dynam tensor graph use model input paramet default tool use random data model input follow paramet allow user specifi custom input valu model run benchmark tool input_lay string commasepar list input layer name eg inputinput note input model graph need specifi howev input name need match encod model addit order input layer name specifi assum seen tensorflow lite interpret bit inconveni visual toolhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitetoolsvisualizepi help find order input_layer_shap string colonsepar list input layer shape shape commasepar list eg similar input_lay paramet also requir shape input specifi order input seen interpret input_layer_value_rang string maplik string repres valu rang integ input layer item separ item valu consist input layer name integeronli rang valu low high inclus separ eg inputinput note input layer name must exist list name specifi input_lay input_layer_value_fil string maplik string repres file contain input valu item separ item valu consist input layer name file path separ eg inputfile_pathinputfile_path input name appear input_layer_value_rang input_layer_value_fil correspond input valu rang specifi byinput_layer_value_rang ignor file format binari content either byte array nullsepar string note inpput layer name must also exist list name specifi input_lay tflite deleg paramet tool support runtimedeleg paramet introduc deleg registrarhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsdeleg follow simpli list name paramet addit note applic detail paramet pleas refer pagehttpsgithubcomtensorflowtensorflowblobmastertensorflowlitetoolsdelegatesreadmemdtflitedelegateregistrar common paramet max_delegated_partit int default min_nodes_per_partitionint default delegate_serialize_dir str default delegate_serialize_token str default gpu deleg use_gpu bool defaultfals gpu_precision_loss_allow bool defaulttru gpu_experimental_enable_qu bool defaulttru gpu_inference_for_sustained_spe bool defaultfals gpu_backend string default gpu_wait_typ str default nnapi deleg use_nnapi bool defaultfals note android p devic fail use nnapi model datalocaltmp benchmark tool correctli use nnapi nnapi_execution_prefer str default one fast_single_answ sustained_spe low_pow undefin nnapi_execution_prior str default note requir android nnapi_accelerator_nam str default note requir android disable_nnapi_cpu bool defaulttru nnapi_allow_fp bool defaultfals nnapi_allow_dynamic_dimensionsbool defaultfals nnapi_use_burst_modebool defaultfals hexagon deleg use_hexagon bool defaultfals hexagon_profil bool defaultfals note enabl option produc profil result output unless enable_op_profil also turn paramet set true profil op hexagon dsp ad profil tabl note report data hexagon cycl ms like cpu xnnpack deleg use_xnnpack bool defaultfals note option explicitli set fals tflite runtim use origin cpu kernel model execut word enabl featur xnnpack deleg appli default tflite runtim explictli set flag fals caus benchmark tool disabl featur runtim use origin nondeleg cpu execut path model benchmark coreml deleg use_coreml bool defaultfals coreml_vers int default extern deleg external_delegate_path string default external_delegate_opt string default deleg avail certain platform run benchmark tool particular platform specifi help print support paramet use multipl deleg multipl deleg specifi use commandlin flag order deleg appli tflite runtim enabl commandlin flag specifi exampl use_xnnpacktru use_gputru mean appli xnnpack deleg first gpu deleg secondli comparison use_gputru use_xnnpacktru mean appli gpu deleg first xnnpack deleg secondli buildinstallrun android refer httpswwwtensorfloworgliteguidebuild_android edit workspac configur android ndksdk build specif platform eg bazel build c opt configandroid_arm tensorflowlitetoolsbenchmarkbenchmark_model connect phone push binari phone adb push make directori requir adb push bazelbintensorflowlitetoolsbenchmarkbenchmark_model datalocaltmp make binari execut adb shell chmod x datalocaltmpbenchmark_model push comput graph need test exampl adb push mobilenet_quant_v_tflit datalocaltmp option instal hexagon librari devic step need use hexagon deleg bazel build configandroid_arm tensorflowlitedelegateshexagonhexagon_nnlibhexagon_interfaceso adb push bazelbintensorflowlitedelegateshexagonhexagon_nnlibhexagon_interfaceso datalocaltmp adb push libhexagon_nn_skelso datalocaltmp run benchmark exampl adb shell datalocaltmpbenchmark_model graphdatalocaltmpmobilenet_quant_v_tflit num_thread desktop build binari bazel build c opt tensorflowlitetoolsbenchmarkbenchmark_model run comput graph similar android case without need adb shell exampl bazelbintensorflowlitetoolsbenchmarkbenchmark_model graphmobilenet_quant_v_tflit num_thread mobilenet graph use exampl may download herehttpsstoragegoogleapiscomdownloadtensorfloworgmodelstflitemobilenet_v__android_quant___zip reduc varianc run android modern android phone use arm biglittlehttpsenwikipediaorgwikiarm_biglittl architectur core power hungri faster core run benchmark phone signific varianc differ run benchmark one way reduc varianc run set cpu affinityhttpsenwikipediaorgwikiprocessor_affin run benchmark android done use taskset command eg run benchmark big core pixel singl thread one use follow command adb shell taskset f datalocaltmpbenchmark_model graphdatalocaltmpmobilenet_quant_v_tflit num_thread f affin mask big core pixel note affin mask vari devic profil model oper benchmark model binari also allow profil oper give execut time oper pass flag enable_op_profilingtru benchmark_model invoc eg adb shell taskset f datalocaltmpbenchmark_model graphdatalocaltmpmobilenet_quant_v_tflit enable_op_profilingtru enabl benchmark_model binari produc detail statist oper similar shown run order node type start first avg ms cdf mem kb time call name conv_d mobilenetvmobilenetvconvd_relu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu depthwise_conv_d mobilenetvmobilenetvconvd__depthwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu average_pool_d mobilenetvlogitsavgpool_aavgpool conv_d mobilenetvlogitsconvd_c_xbiasadd reshap mobilenetvpredictionsreshap softmax mobilenetvpredictionssoftmax top comput time node type start first avg ms cdf mem kb time call name conv_d mobilenetvmobilenetvconvd__pointwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu conv_d mobilenetvmobilenetvconvd__pointwiserelu conv_d mobilenetvmobilenetvconvd_relu number node execut summari node type node type count avg ms avg cdf mem kb time call conv_d depthwise_conv_d softmax reshap average_pool_d time microsecond count first curr min max avg std memori byte count node observ averag infer time us warmup init infer benchmark multipl perform option singl run conveni simpl c binari also provid benchmark multipl perform option singl run binari built base aforement benchmark tool could benchmark singl perform option time share buildinstallrun process build target name binari benchmark_model_performance_opt take addit paramet detail addit paramet perf_options_list string defaultal commasepar list tflite perform option benchmark option_benchmark_run_delay float default delay two consecut run benchmark perform option second random_shuffle_benchmark_run bool defaulttru whether perform benchmark run differ perform option random order build benchmark tool tensorflow op support build benchmark tool tensorflow oper supporthttpswwwtensorfloworgliteguideops_select build build tool need use benchmark_model_plus_flex target configmonolith option bazel build c opt configmonolith tensorflowlitetoolsbenchmarkbenchmark_model_plus_flex benchmark tflite model tensorflow op tensorflow op support work benchmark tool built tensorflow op support doesnt requir addit option use bazelbintensorflowlitetoolsbenchmarkbenchmark_model_plus_flex graphmodel_converted_with_tf_opstflit tflite model benchmark tool android apk descript android benchmark app simpl wrapper around tensorflow lite commandlin benchmark utilityhttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmark push execut binari directli android devic valid approach benchmark result subtl observ differ perform rel execut within actual android app particular android schedul tailor behavior base thread process prioriti differ foreground activityappl regular background binari execut via adb shell tailor behavior evid enabl multithread cpu execut tensorflow lite end app offer perhap faith view runtim perform develop expect deploy tensorflow lite applic buildinstallrun refer httpsgithubcomtensorflowtensorflowtreemastertensorflowexamplesandroid edit workspac configur android ndksdk build specif platform eg bazel build c opt configandroid_arm tensorflowlitetoolsbenchmarkandroidbenchmark_model option enabl hexagon deleg use_hexagontru option download instal librari guid hexagon deleg httpswwwtensorfloworgliteperformancehexagon_delegatestep__add_hexagon_libraries_to_your_android_app page exampl instal librari third_partyhexagon_nn_skel creat third_partyhexagon_nn_skelbuild build target filegroup name libhexagon_nn_skel src globso need modifi tflite_hexagon_nn_skel_librari macro tensorflowlitespecial_rulesbzl specifi build target return third_partyhexagon_nn_skellibhexagon_nn_skel connect phone instal benchmark apk phone adb adb instal r g bazelbintensorflowlitetoolsbenchmarkandroidbenchmark_modelapk note make sure instal g option grant permiss read extern storag push comput graph need test adb push mobilenet_quant_v_tflit datalocaltmp run benchmark addit commandlin flag document herehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitetoolsbenchmarkreadmemd append arg string alongsid requir graph flag note arg must nest singl quot string follow arg key adb shell start n orgtensorflowlitebenchmarkbenchmarkmodelact es arg graphdatalocaltmpmobilenet_quant_v_tflit num_thread result avail android logcat eg adb logcat grep averag infer tflite averag infer time us warmup init infer trace tensorflow lite intern includ oper invoc step describ follow method httpsdeveloperandroidcomtopicperformancetracingondevic refer page detail inform follow step buildinstallruntobuildinstallrun section enabl platform trace adb shell setprop debugtflitetrac set quick set tile system trace app devic follow instructionhttpsdeveloperandroidcomtopicperformancetracingondevicesetuptil system trace tile ad quick set panel option set configur trace app menu refer guidehttpsdeveloperandroidcomtopicperformancetracingondeviceappmenu inform tap system trace tile label record trace tile becom enabl persist notif appear notifi system record trace run benchmark platform trace enabl adb shell start n orgtensorflowlitebenchmarkbenchmarkmodelact es arg graphdatalocaltmpmobilenet_quant_v_tflit num_thread wait benchmark finish check android log messag eg adb logcat grep averag infer tflite averag infer time us warmup init infer stop trace tap either system trace tile quick set panel system trace notif system display new notif contain messag save trace save complet system dismiss notif display third notif trace save confirm trace save your readi share system trace sharehttpsdeveloperandroidcomtopicperformancetracingondevicesharetrac trace file converthttpsdeveloperandroidcomtopicperformancetracingondeviceconverting_between_trace_format trace format createhttpsdeveloperandroidcomtopicperformancetracingondevicecreatehtmlreport html report note captur trace file format either perfetto format systrac format depend android version devic select appropri method handl gener file disabl platform trace adb shell setprop debugtflitetrac tflite io benchmark app descript io app benchmark tflite model app read benchmark paramet json file name benchmark_paramsjson benchmark_data directori download model benchmark also place benchmark_data directori json file specifi name model file benchmark paramet like input model type input number iter number thread default valu json file mobilenet__ model papermobilenetpap tflitepbmobilenetmodel build run app follow io build instructionsbuildio configur bazel workspac bazelrc file correctli run build_benchmark_frameworksh script build benchmark framework script build benchmark framework io put tflitebenchmarktflitebenchmarkframework directori want detail profil run build script p option build_benchmark_frameworksh p modifi benchmark_paramsjson chang input_lay input_layer_shap benchmark paramet chang build phase copi bundl resourc add model file resourc need copi ensur build phase link binari librari contain acceler framework tensorflowlitebenchmarkcframework tri run app app singl button run benchmark model display result text view also see consol output section xcode see detail benchmark inform buildio httpstensorfloworgliteguidebuild_io mobilenetmodel httpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobilenet_v___mobilenet_v__tgz mobilenetpap httpsarxivorgpdfpdf test model test quantiz directori contain test model test quantiz model single_conv_weights_min__max_plus_bin float point model singl convolut weight integ weight randomli distribut guarante min max weight go appear channel activ min max activ rang single_conv_weights_min_minus__max_plus_bin float point model singl convolut weight model integ lie rang weight put way channel least one weight one weight activ rang mean bia comput result scale single_softmax_min_minus__max_bin float point model singl softmax input tensor min max rang necessarili single_avg_pool_input_min_minus__max_bin float point model singl averag pool input tensor min max rang necessarili weight_shared_between_convsbin float point model two conv use weight tensor multi_input_add_reshapebin float point model two input add follow reshap quantized_with_gatherbin float point model input gather model situat map categor input embed tflite quantiz weight tool recommend usag quantiz weight transform integr tflite_converthttpsgithubcomtensorflowtensorflowblobmastertensorflowlitegdocconvertcmdline_referencemdtransformationflag recommend way invok tool simpli ad post_training_quant flag origin tflite_convert invoc exampl tflite_convert output_filetmpfootflit saved_model_dirtmpsaved_model post_training_quant overview quantiz weight tool provid simpl way quantiz weight float tflite model todoraghuramank add link weight quantiz tutori size reduct float weight convert bit integ result model around th size origin model latenc reduct tflite also hybrid kernel implement mani oper hybrid kernel take bit integ weight float input dynam quantiz input tensor base input tensor min max element comput use bit integ valu result x reduct latenc hybrid kernel mode infer type still float sinc input output oper still float oper yet hybrid kernel implement introduc dequant oper bit integ weight convert weight back float infer allow origin float kernel run sinc cach dequant result result dequant path onpar origin float model todoyunluli fill latenc result latenc experi accuraci sinc techniqu quantiz weight model alreadi train accuraci drop depend model common cnn network observ accuraci drop small seen todoyunluli fill accuraci result accuraci experi direct usag one also invok quantiz weight directli via c float tflitemodel want convert must provid flatbuffersflatbufferbuild own underli buffer creat model exampl invoc tflitemodel input_model flatbuffersflatbufferbuild builder tflitestatu statu tfliteoptimizequantizeweightsbuild input_model checkstatu ktflitestatusok const uint_t buffer buildergetbufferpoint tflitemodel output_model tflitegetmodelbuff tensorflow lite quantiz debugg toc overview quantiz model produc requir tediou manual custom code debug model order verifi quantiz model work expect spot error check accuraci etc compar quantiz model origin float model feasibl use tensorflow lite quantiz debugg shown note current workflow support full integ int quantiz debug model produc use workflow use debug purpos infer analysi quantiz model produc debug model modifi tflite full integ int quantiz stepshttpswwwtensorfloworgliteperformancepost_training_quantizationfull_integer_quant shown produc debug model use debug purpos infer work help mlir quantiz debug mode featur debug model produc origin float oper op quantiz op addit numericverifi op ad compar output origin float quantiz op also collect statist name format numericverifyorigin tensor nameorigin tensor id python mlir_quant tensorflowlitepython import convert set fullinteg quantiz paramet usual convertertarget_specsupported_op tfliteopssettflite_builtins_int converterrepresentative_dataset calibration_gen creat tflite model new quantiz numer verifi op rather call convert calibr model first call mlir_quant run actual quantiz enable_numeric_verifi set true converteroptim tfliteoptimizedefault converter_experimental_calibrate_onli true calibr converterconvert return convertmlir_quantizecalibr enable_numeric_verifytru run debugg debug model initi debugg debug model done two way python tensorflowlitetoolsoptimizedebuggingpython import debugg debug_dataset accpet type converterrepresentative_dataset quant_debugg debuggerquantizationdebugg quant_debug_model_contentquant_debug_model debug_datasetdata_gen quant_debugg debuggerquantizationdebugg quant_debug_model_pathpathtodebug_modeltflit debug_datasetdata_gen quant_debuggerrun inspect statist call quant_debuggerrun quant_debuggerlayer_statist fill aggreg statist numericverifi op metric ie stddev mean squar error calcul default exampl output python quant_debuggerlayer_statisticsmetr defaultdict convert dict readabl output import pprint layer_nam metric quant_debuggerlayer_statisticsitem printlayer_nam pprintpprintdictmetr python numericverifysequentialdensematmulsequentialdensebiasadd max_abs_error mean_error mean_squared_error num_el stddev numericverifysequentialdense_matmulsequentialdense_biasadd max_abs_error mean_error mean_squared_error num_el stddev numericverifyident max_abs_error mean_error mean_squared_error e num_el stddev ad custom metric metric ad pass quantizationdebugopt initi exampl want add mean absolut error use follow snippet python debug_opt debuggerquantizationdebugopt layer_debug_metr mean_abs_error lambda diff npmeannpabsdiff quant_debugg debuggerquantizationdebugg quant_debug_model_contentquant_debug_model debug_datasetdata_gen debug_optionsdebug_opt quant_debuggerrun quant_debuggerlayer_statist includ mean absoult error layer analysi float quantiz model addit singl model analysi output origin float model quantiz model compar model given done provid float model metric compar output argmax classif model bit complex model like detect complic logic given python function model_debug_metr get output tensor float quantiz model return singl metric valu debug_opt debuggerquantizationdebugopt model_debug_metr argmax_accuraci lambda f q npargmaxf npargmaxq float_model converterconvert convert without optim quant_debugg debuggerquantizationdebugg quant_debug_model_contentquant_debug_model float_model_contentfloat_model pass float_model_path instead debug_datasetdata_gen debug_optionsdebug_opt quant_debuggerrun result singl number per metric easier inspect python quant_debuggermodel_statist argmax_accuraci advanc usag export stat csv import panda quant_debuggerlayer_statistics_dump function accept filelik object export layer statist csv import tool like panda process export data also name op origin tensor id quantiz paramet scale zero point quantiz layer note scale zero point list import panda text default addit process pars requir process python import panda pd import yaml use pars list openpathtostatscsv w f quant_debuggerlayer_statistics_dumpf data pdread_csvpathtostatscsv convert scale yamlsafe_load zero_point yamlsafe_load tflite deleg util tool tflite deleg registrar tflite deleg registrarhttpsgithubcomtensorflowtensorflowblobmastertensorflowlitetoolsdelegatesdelegate_providerh provid registrar keep list tflite deleg provid defin list paramet could initi commandlin argument provid tflite deleg instanc creation base paramet deleg registrar use tflite evalu tool benchmark model tool particular tflite deleg provid use link correspond librari eg ad dep build rule note deleg provid librari configur alwayslink build rule link binari directli indirectli depend follow list implement tflite deleg provid correspond list paramet support creat particular tflite deleg common paramet num_thread int default number thread use run infer cpu default set platform default valu max_delegated_partit int default ie limit maximum number partit deleg current support gpu hexagon coreml nnapi deleg min_nodes_per_partit int defaultdeleg choic minim number tflite graph node partit need reach deleg neg valu mean use default choic deleg option current support hexagon coreml deleg delegate_serialize_dir string default directori use deleg serial model data allow deleg save data directori reduc init time first run current support gpu opencl nnapi deleg specif backend android note delegate_serialize_token also requir enabl featur delegate_serialize_token string default modelspecif token act namespac deleg serial uniqu token ensur deleg doesnt read inapplicableinvalid data note delegate_serialize_dir also requir enabl featur gpu deleg provid gpu deleagt support android io devic platform deleg librari built dcl_delegate_no_gl macro common option use_gpu bool defaultfals whether use gpu acceler delegatehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitedelegatesgpu gpu_precision_loss_allow bool defaulttru whether allow gpu deleg carri comput precis loss ie process fp allow perform increas gpu_experimental_enable_qu bool defaulttru whether allow gpu deleg run bit quantiz model gpu_inference_for_sustained_spe bool defaultfals whether prefer maxim throughput mode help deleg use repeatedli multipl input support nonio platform android option gpu_backend string default forc gpu deleg use particular backend execut fail unsuccess one cl gl default gpu deleg tri opencl first opengl former fail io option gpu_wait_typ string default gpu wait_typ option use one follow passiv activ do_not_wait aggress left blank passiv mode use default nnapi deleg provid use_nnapi bool defaultfals whether use android nnapihttpsdeveloperandroidcomndkguidesneuralnetwork api avail recent android devic android q also print name nnapi acceler access nnapi_accelerator_nam flag nnapi_accelerator_nam string default name nnapi acceler use requir android q left blank nnapi automat select avail acceler use nnapi_execution_prefer string default nnapi execut preferencehttpsdeveloperandroidcomndkreferencegroupneuralnetworkshtmlgroup___neural_networks_ggaedbaecfafcfeddcccaefeaf use execut use nnapi one follow fast_single_answ sustained_spe low_pow undefin nnapi_execution_prior string default rel prioriti execut model nnapi one follow default low medium high option requir android disable_nnapi_cpu bool defaulttru exclud nnapi cpu refer implementationhttpsdeveloperandroidcomndkguidesneuralnetworksdeviceassign possibl devic use nnapi execut model option ignor nnapi_accelerator_nam specifi nnapi_allow_fp bool defaultfals whether allow fp comput run fp nnapi_allow_dynamic_dimens bool defaultfals whether allow dynam dimens size without recompil requir android nnapi_use_burst_mod bool defaultfals use nnapi burst mode support burst mode allow acceler effici manag resourc would significantli reduc overhead especi deleg instanc use multipl infer nnapi_support_library_path string default path nnapi support librari load construct deleg order use nnapi deleg support librari nnapi_accelerator_nam must specifi must equal one devic provid support librari hexagon deleg provid use_hexagon bool defaultfals whether use hexagon deleg devic may support hexagon deleg refer tensorflow lite documentationhttpswwwtensorfloworgliteperformancehexagon_deleg inform deviceschipset support get requir librari use hexagon deleg also build hexagon_nnlibhexagon_interfaceso target copi librari devic librari copi datalocaltmp devic hexagon_profil bool defaultfals whether profil op run hexagon xnnpack deleg provid use_xnnpack bool defaultfals whether explicitli appli xnnpack deleg note xnnpack deleg could implicitli appli tf lite runtim regardless valu paramet disabl implicit applic set valu fals explicitli coreml deleg provid use_coreml bool defaultfals whether use core ml delegatehttpsgithubcomtensorflowtensorflowtreemastertensorflowlitedelegatescoreml option avail io coreml_vers int default target core ml version model convers default valu mean use newest version that avail devic extern deleg provid external_delegate_path string default path extern deleg librari use external_delegate_opt string default list option pass extern deleg librari option format optionvalueoptionvalueoptionnvaluen build tensorflow lite cmake pleas refer gdocguidebuild_cmakemdgdocguidebuild_cmakemd tf lite android imag classifi app exampl simpl android exampl demonstr imag classif use camera build android studio tensorflow lite aar mavencentr buildgradl configur use tensorflow lite nightli build see build error relat compat tensorflow lite java api exampl method x undefin type interpret like backward compat chang api need pull new app code that compat nightli build may need first wait day extern intern code merg build sourc bazel follow bazel step tf demo apphttpsgithubcomtensorflowtensorflowtreemastertensorflowexamplesandroidbazel instal bazel android prerequisiteshttpsgithubcomtensorflowtensorflowtreemastertensorflowexamplesandroidinstallbazelandandroidprerequisit easiest android studio youll need least sdk version make sure instal latest version bazel distribut ship bazel old bazel requir android build tool higher also need instal android support repositori avail android studio android sdk manag sdk tool android support repositori edit workspacehttpsgithubcomtensorflowtensorflowtreemastertensorflowexamplesandroideditworkspac add sdk ndk target note long sdk ndk instal configur script creat rule answer ye script ask automat configur workspac make sure api_level workspac set sdk version instal default android studio instal sdk androidsdk ndk androidsdkndkbundl build app bazel demo need c shell bazel build c opt tensorflowlitejavademoappsrcmaintflitecamerademo instal demo debugen devicehttpsgithubcomtensorflowtensorflowtreemastertensorflowexamplesandroidinstal shell adb instal bazelbintensorflowlitejavademoappsrcmaintflitecamerademoapk ovic benchmark lpcv folder contain sdk track one low power comput vision workshop cvpr httpslpcvaicvprovictrack prerequisit follow step herehttpswwwtensorfloworglitedemo_android instal tensorflow bazel android ndk sdk test benchmark test util help develop make sure submiss tflite format process expect competit benchmark system note test provid correct check ie classifi predict correct categori test imag ondevic latenc measur test latenc measur function test print latenc run desktop comput indic ondevic runtim releas benchmark apk would allow develop measur latenc devic obtain sampl model test data model imag download automat bazel case manual instal note command call tensorflow instal folder folder find tensorflowlit download testdata packagehttpsstoragegoogleapiscomdownloadtensorfloworgdataovic___zip sh curl l httpsstoragegoogleapiscomdownloadtensorfloworgdataovic___zip tmpoviczip unzip packag testdata folder sh unzip j tmpoviczip tensorflowlitejavaovicsrctestdata run test run test bazel help ensur instal correct sh bazel test tensorflowlitejavaovicovicclassifiertest cxxoptwnoal test_outputal bazel test tensorflowlitejavaovicovicdetectortest cxxoptwnoal test_outputal test submiss submiss follow instruct competit sitehttpslpcvaicvprovictrack verifi two way valid use randomli gener imag call valid binari verifi model fit format requir often help catch size mismatch eg output classif instead let say submiss file locat pathtomy_modellit call sh bazel build tensorflowlitejavaovicovic_valid cxxoptwnoal bazelbintensorflowlitejavaovicovic_valid pathtomy_modellit classifi success valid print follow messag termin success valid pathtomy_modellit valid detect model use command provid detect second argument instead classifi test model produc sensibl outcom go step verifi model produc result expect help catch bug tflite convers eg use wrong mean std valu move submiss testdata folder sh cp pathtomy_modellit tensorflowlitejavaovicsrctestdata resiz test imag resolut expect submiss test imag found tensorflowlitejavaovicsrctestdatatest_image_jpg may reus imag imag resolut x x add model test imag build rule tensorflowlitejavaovicsrctestdatabuild json filegroup name ovic_testdata src tflite_ovic_testdatadetectlit tflite_ovic_testdatafloat_modellit tflite_ovic_testdatalow_res_modellit tflite_ovic_testdataquantized_modellit tflite_ovic_testdatatest_image_jpg tflite_ovic_testdatatest_image_jpg my_modellit submiss my_test_imagejpg test imag classif model modifi ovicclassifiertestjava chang test_image_path my_test_imagejpg chang either float_model_path quantized_model_path my_modellit depend whether model run infer float bithttpsgithubcomtensorflowtensorflowtreemastertensorflowcontribquant chang test_image_groundtruth imagenet class id consist test imag detect model modifi ovicdetectortestjava chang test_image_path my_test_imagejpg chang model_path my_modellit chang groundtruth coco class id consist test imag run bazel test catch runtim issu submiss note pleas make sure submiss pass test submiss fail pass test process submiss server measur ondevic latenc provid two way measur ondevic latenc submiss first competit server reliabl repeat limit trial per day second benchmark apk requir devic may accur server fast turnaround access limit recommend particip use benchmark apk earli develop reserv competit server evalu promis submiss run benchmark app make sure follow instruct test submissionstestyoursubmiss add model testdata folder correspond build rule modifi tensorflowlitejavaovicdemoappovicbenchmarkeractivityjava add model benchmark apk chang modelpath testimagepath submiss test imag benchmarkclassif testimagepath my_test_imagejpg modelpath my_modellit els benchmark detect ad detect model simpli modifi modelpath testimagepath els block adjust benchmark paramet need chang length experi processor affin big_core_mask integ whose binari encod repres set use core number phonespecif exampl pixel core littl core repres less signific bit big core signific bit therefor mask valu binari repres use first big core mask binari use second big core deliv ident result mask big core interchang wall time benchmark experi privat static final doubl wall_tim maximum number iter benchmark experi privat static final int max_iter mask bind singl big core pixel pixel privat static final int big_core_mask note youll need root access phone chang processor affin build instal app bazel build c opt cxxoptwnoal tensorflowlitejavaovicdemoappovic_benchmarker_binari adb instal r bazelbintensorflowlitejavaovicdemoappovic_benchmarker_binaryapk start app pick task click either clf button classif det button detect button turn bright green signal experi run benchmark result display wall_tim specifi exampl my_modellit averag latencym run sampl latenc note benchmark result quit differ depend background process run phone thing help stabil app read place phone cool plate restart phone shut internet access classif model pixel pixel pixel float_modellit quantized_modellit low_res_modellit detect model pixel pixel detectlit quantized_detectlit quantized_fpnlitelit latenc number millisecond pixel pixel latenc number measur oct github commit hash idefffaffecbcfhttpsgithubcomtensorflowtensorflowcommitbbceffabcbcbcdiffedfdbafbbd pixel latenc number measur apr github commit hash bcbddacbabcaehttpsgithubcomtensorflowtensorflowcommitbcbddacbabca sinc pixel excel support bit quantiz model strongli recommend check posttrain quantiz tutorialhttpswwwtensorfloworgliteperformancepost_training_quant detect model singleshot model ie object propos gener use tflite fast version nonmaxsuppress nm fast nm signific faster regular nm use objectdetectionapi train expens map list model latenc tabl compil latenc tabl common neural network oper convolut separ convolut matrix multipl tabl result avail httpsstoragecloudgooglecomovicdata result gener creat small network contain singl oper run op test har detail see netadapt papersupsup plan expand tabl regularli test newer os releas updat tensorflow lite sampl benchmark baselin model mobilenetv mnasnet mobilenetv use comput refer accuraci imagenet classif name convent model precision_model class_resolution_multipli pixel latenc ms measur singl pixel big core use competit server oct pixel latenc ms measur singl pixel big core use competit server apr find model tflite host model pagehttpswwwtensorfloworgliteguidehosted_modelsimage_classif model pixel pixel top accuraci quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ float_mnasnet__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ quant_mobilenetv__ float_mnasnet__ quant_mobilenetv__ float_mnasnet__ quant_mobilenetv__ float_mnasnet__ float_mnasnet__ float_mnasnet__ float_mnasnet__ float_vsmallminimalistic__ quant_vsmall__ float_vsmall__ float_vsmall__ quant_vlarge__ float_vlarge__ float_vlargeminimalistic__ float_vlarge__ refer netadapt platformawar neural network adapt mobil applicationsbr yang tienju andrew howard bo chen xiao zhang alec go mark sandler vivienn sze hartwig adam proceed european confer comput vision eccv pp br linkhttpsarxivorgab arxiv readmemd templat encourag use releas model gener section ad templat variou ml model may need add remov section depend need project name author st place winner th ondevic visual intellig competit ovichttpsdocsgooglecomdocumentdrxm_ndgrypxjypidrwdhznryelfozdnfyucikedit lowpow comput vision challeng lpcvchttpslpcvai last name first name githubusernamehttpsgithubcomusernam last name first name githubusernamehttpsgithubcomusernam last name first name githubusernamehttpsgithubcomusernam descript provid descript model model submit ovic full implement code train evalu infer ovic track imag classif object detect algorithm provid detail algorithm use requir provid descript model provid brief inform algorithm use instal requir setup pip instal r requirementstxt pretrain model model download md checksum model name download link size kb md checksum model tar file contain follow train model checkpoint frozen train model tensorflow lite model result th ovic public rank leaderboardhttpslpcvcecnpurdueeduscore_board_rcontestround imag classif leaderboard rank usernam latenc accuraci classifi classifi accuracytim metric refer accuraci usernam xxx xxxx xxx xxxxx xxxxx metric accuraci improv refer accuraci pareto optim curv accuraci classifi accuraci comput base imag classifi within walltim classifi number imag classifi within walltim accuracytim accuraci divid either total infer time walltim whichev longer refer accuraci refer accuraci model pareto optim curv latenc submiss object detect rank usernam metric runtim map time map process usernam xxxxx xxxx xxx xxx metric coco map comput entir miniv dataset map time coco map miniv dataset divid latenc per imag map process coco map comput process imag dataset provid detail inform dataset use train provid detail train inform preprocess hyperparamet random seed environ provid command line exampl train pleas run command line train shell python evalu provid evalu script detail reproduc result describ data preprocess postprocess step provid command line exampl evalu pleas run command line evalu shell python refer link refer licens place licens text file name licensetxt licensemd root repositori pleas also includ inform licens readmemd file eg ad licens repositoryhttpshelpgithubcomengithubbuildingastrongcommunityaddingalicensetoarepositori project licens term apach licens citat want make repositori citabl pleas follow instruct make code citablehttpsguidesgithubcomactivitiescitablecod want cite repositori research paper pleas use follow inform tensorflow c api see wwwtensorfloworginstalllang_chttpswwwtensorfloworginstalllang_c nightli build linux cpuonlyhttpsstoragegoogleapiscomtensorflownightlygithubtensorflowlib_packagelibtensorflowcpulinuxx_targz linux gpuhttpsstoragegoogleapiscomtensorflownightlygithubtensorflowlib_packagelibtensorflowgpulinuxx_targz maco cpuonlyhttpsstoragegoogleapiscomtensorflownightlygithubtensorflowlib_packagelibtensorflowcpudarwinx_targz experiment c op c file directori _opsh _opscc autogener regist op api definit regener run script directori update_cpp_opssh argument script overwrit exist op inplac tensorflowcexperimentalops_opscch run update_cpp_opssh script op definit chang registri gener addit oper extend list script note categori name correspond gener sourc file name consist origin sourc file regist oper exampl sinc register_opmatmul appear coremath_opscc matmul oper script math categori gener output file cexperimentalopsmath_opscc run script noop gener ident code format ie line wrap tensorflow op codegen machineri experiment usag usag generate_cpp flag opnam opnam flag helpfals bool print help messag categori string categori gener op eg math array namespac string compact c namespac default tensorflowop output_dir string directori output file gener source_dir string tensorflow root directori eg tensorflow insourc includ path path underneath tensorflow root also accept api_dir string commasepar list directori contain api definit design gener framework gener framework loos modelviewcontrol arrang model class live model directori represent opdef apidef proto normal resolv _for exampl opdef proto argdef member contain type string must dereferenc attrdef name determin type attrdef proto messag turn contain type string may need pars listtyp attrdef messag type instead argumentlik modifi contrast gener model argspec contain resolv argtyp provid boolean is_list method directli model opspec provid list argumentlik attribut addit conveni aid consist gener code target language_ control common directori workhors use languag gener digest op registri api definit build model provid util languag gener view render class map languageindepend model class opspec argspec attrspec etc languagespecif sourcecod framework impos design languagespecif gener provid util c gener complet exampl c gener cppgener class interfac cpp languag directori given config gener sourc code cc h file string write target file cppfilerender main render use gener render entir file cppconfig defin oper header sourc mode view stateless intend lowlevel build block direct languagespecif represent model class exampl argview initi argspec creat initi argdef proto messag may similar method model view view method languagespecif instanc c gener argviewvariablenam method languageformat name usabl variabl repres model argspec object contrast argspecnam method model refer canon name object proto view represent input model c gener render use view build output sourcecod render understand languag statementdirect level target function section output block comment entir method file differ view render render state modifi referenc sourcecod view stateless public method const return string render contextdepend eg method signatur includ default valu declar mode definit mode view argument object simpli know default valu care context term depend render use view render howev render refer model directli eg opspec render need refer part model get languag specif represent extend addit languag design c gener appli languag underli gener framework model control tri agnost fact element c design could formal renderingview framework reus eg cpprender could like share c java common cstyle languag render base class abstract condens c gener overal control flow could describ follow main generate_lang_maincc call tensorflowportinitmain pars flag initi config object eg pathconfig langconfig flag initi new langgener config object call gener createwrit sourcecod file class langgener lang_generatorcc initi new control config object call control build op model opspec initi new languagespecif view model object creat blank sourcecod render target output file initi new langfilerender target sourc code model view object config object call render gener target sourcecod depend follow langgener depend control model langrender langview langrender depend langview langrender peer langview depend model eg opspec langview peer tensorflow c savedmodel api overview new experiment c savedmodel api load run savedmodel tfidiomat fashion see rfc httpsgithubcomtensorflowcommunitypul addit context directori structur follow none saved_model public intern core saved_modelpubl saved_modelpubl intend hous public header savedmodel c api header declar opaqu c type like tf_savedmodel declar function oper type like tf_loadsavedmodel leav experiment api consid stabl use extern client header separ directori make obviou client header depend header implement detail separ public header directori also allow futur programmat check ensur tf public header includ public tf header saved_modelintern saved_modelintern glue c api intern c implement role implement c api function declar saved_modelpubl defin c api type declar saved_modelpubl file fulfil name cc eg concrete_functioncc file fulfil typeh eg concrete_function_typeh header expos intern implement opaqu c type visibl implementor c api similar tf c api implement use tf_status_internalh extract underli tensorflowstatu target directori privat saved_modelcor saved_modelcor contain pure c class underli c api type saved_modelpubl implement detail subject chang limit visibl implementor bottommost layer c c c sandwich tensorflow save model c api small concretefunct exampl follow exampl load save model pathtomodel execut function f take argument return one singl valu error check omit simplic c tf_statu statu tf_newstatu tfe_contextopt ctx_option tfe_newcontextopt tfe_context ctx tfe_newcontextctx_opt statu tf_savedmodel saved_model tf_loadsavedmodelpathtomodel ctx statu tf_concretefunct f tf_getsavedmodelconcretefunctionsaved_model f statu tfe_op op tf_concretefunctionmakecallopf null statu tfe_tensorhandl output int nout tfe_executeop output nout statu tfe_deletetensorhandleoutput tfe_deleteopop tfe_deletesavedmodelsaved_model tfe_deletecontextctx tfe_deletecontextoptionsctx_opt tf_deletestatusstatu mlir dialect util tensorflow tensorflow lite xla modul contain mlir multilevel intermedi representationhttpsmlirllvmorg dialect util tensorflow xla tf lite see mlir websitehttpsmlirllvmorg complet document get start build dialect util follow standard approach use bazel rest tensorflow use local llvm repo develop across mlir core tensorflow use overrid repo use local version instead fetch head achiev note build file automat gener cmake use chang requir build file chang use differ version llvm set tensorflowworkspacebzl llvm_commit manual build file chang may requir sh llvm_src creat basic workspac file echo workspacenam llvmproject llvm_srcworkspac copi bazel build file cp third_partyllvmllvmautogeneratedbuild llvm_srcllvmbuild cp third_partymlirbuild llvm_srcmlir cp third_partymlirtestbuild llvm_srcmlirtestbuild bazel build override_repositoryllvmprojectllvm_src c opt tensorflowcompilermlirtfopt automat space depth transform mlir bridg author wangtao yuanzx hinsu lyandi chiachenc aminim jpienaar dehao tldr _thi document describ automat space depth transform first convolut new mlir bridg improv mxu effici low batch size convolutions_ background imag model first layer usual mxu friendli featur size result poor perform especi small batch one way address issu use spacetodepth transform optim tile x space dimens featur dimens featur dimens becom mxu friendli order make optim effici shape weight need pad transpos shape convolut emitt expect input also need transpos host pad devic make convolut effici although x spacetodepth transform work first convolut stride mani imag model resnetlik particular stride convolut first layer space depth help model maskrcnn ssd id gain x speedup reduc memori usag first convolut first convolut mani imag model includ resnet resnetlik kernel stride convolut input convolut imag usual rgb channel input first convolut shape batch_siz height width kernel size kernel_s kernel_s out_channel space depth transform first convolut input batch_siz height stride width stride stride stride kernel kernel_s stride kernel_s stride stride stride out_channel improv tpu mxu util drawingsimagesspace_to_depth_transformpng optim automat done graph optim weight transform done variabl load time input transform done everi infer invoc optim fuse host doubl transpos minim memori oper host propos method block_siz defin number space size transform depth dimens _stride block_siz _ _stride block_size_ requir transform three part automat space depth transform transform input host spacetodepth perform follow permut equival tfnnspace_to_depth python imag tfreshapeimag batch h block_siz block_siz w block_siz block_siz c imag tftransposeimag imag tfreshapeimag batch h block_siz w block_siz c block_siz spacetodepthop call host perform transform weight transform weight transform similar input transform weight transform need appli space depth optim model need load pretrain checkpoint transform done host tpu devic base cost size kernel rel small wont add addit cost tpu devic time logic transform kernel shape python conv tfcompatvlayersconvd filtersfilt kernel_sizekernel_s stride paddingsam stride els valid use_biasfals kernel_initializertfvariance_scaling_initi data_formatdata_format use imag size without spacetodepth transform input conv batch_siz h w channel inputsget_shapeas_list convbuild batch_siz h space_to_depth_block_s w space_to_depth_block_s channel space_to_depth_block_s kernel convweight kernel tfpad kernel paddingstfconst modeconst constant_valu transform kernel follow spacetodepth logic httpswwwtensorfloworgapi_docspythontfnnspace_to_depth kernel tfreshap kernel space_to_depth_block_s space_to_depth_block_s filter kernel tftransposekernel kernel tfreshapekernel intchannel filter kernel tfcastkernel inputsdtyp kernel_s block_siz pad need weight transform input convolut need pad well rewrit first convolut need rewrit first convolut shape input batch_siz height width batch_siz height block_siz width block_siz block_siz block_siz kernel shape kernel_s kernel_s out_channel kernel_s block_siz kernel_s block_siz block_siz block_siz propos workflow automat space depth transform transform trigger mlir spacetodepthrewritepass rewrit pass trigger tpurewrit metadata rewrit need first rewrit pass walk convolut func tf_devicelaunchop get first convolut shape second rewrit pass appli transform first convolut pad first convolut first convolut filter convdbackpropfilt last rewrit pass insert spacetodepthop iteratorgetnext iter result shape first convolut input pseudo mlir code rewritepass mlir exampl origin program modul func while_bodi input tfiteratorgetnext devic cpu tensorxxxxf device_launch tf_devicelaunch_funcinput func _func return func _funcinput tensorxxxxf filter tensorxxxxf tfconvdinput filter stride tensorxxxxf tensorxxxxf tensorxxxxf pass program transform modul func while_bodi input tfiteratorgetnext devic cpu tensorxxxxf space_to_depth tfspacetodepthinput block_siz tensorxxxxf tensorxxxxf device_launch tf_devicelaunch_funcspace_to_depth func _func return func _funcinput tensorxxxxf filter tensorxxxxf filter_transform tfpadtftransposetfreshapefilt tensorxxxxf tensorxxxxf conv tfconvdinput filter_transform stride tensorxxxxf tensorxxxxf tensorxxxxf spacetodepth trigger condit space depth trigger batch size small first convolut channel size small stride convolut bigger well cost model built take input shape host cost consider trigger transform flag disabl featur well fuse spacetodepth automat doubl transpos transpos reshap op spacetodepthop tpu host may caus imag model infe bound reduc host time space depth transform fuse automat doubl transpos reduc extra overhead host extend convd convd spacetodepth help imag model also imag model id plan appli automat space depth convd first step convd well test gener techniqu convd tensorflow mlir dialect object mlirhttpsmediumcomtensorflowmliranewintermediaterepresentationandcompilerframeworkbebaedd intermedi represent compil framework invest build compil infrastructur tensorflow represent tensorflow expos document futur highlevel transform oper make use two differ dialect model tensorflow graph mlir first tf_executor dialect repres execut model tensorflow executor eg control depend dead propag tf dialect repres regular oper tensorflow graph one dont special contract executor one intent design tensorflow x featur choos target tf dialect allow us phase tf_executor dialect subsequ tensorflow releas combin two dialect allow repres arbitrari exist tensorflow graph represent document address specif need acceler custom backend tensorflow plan provid gener infrastructur replac tfxla bridg flexibl reusabl system across target later design propos address aspect also represent address shape infer independ design explor conduct separ moment tensorflow dialect tensorflow dialect mlir open dialect allow oper mlir doesnt know contain tensorflow oper specif handl executor oper dont oper dead valu dont control depend execut conceptu program order form use dialect align direct taken tensorflow tffunction autograph well need frontend eas develop analys transform optim oper simpler semant local graph transform valid local scope simpl pattern like fold xx constant need updat control depend also easili lower toward multipl acceler heterogen system gener oper dialect usual oper tensor scalar type defin standard dialect extra defin type specif tensorflow qint type like tf_typeqint etc quint type like tf_typequint ref type like tf_typeuintref well tf_typestr tf_typeresourc tf_typevari correspond tensorflow type name exampl exampl function oper tensorflow dialect mlir mlir regular function take input valu return new valu bodi regular cfg func some_functioninput tensorxf tensorxf tensorflow oper variad tfadd oper alway take two input return singl output simplifi patternmatch verif rewrit ad tfadd input input tensorxf oper sequenti execut semant basic block control depend compil reorder oper accord asif rule httpsenwikipediaorgwikiasif_rul three arithconst splattensorf mul tfmul input three tensorxf tensorf tensorxf control flow v support tf dialect tfif oper take three function accept argument condit return bool two branch must return type also return tfif valu tfifad mul cond cond_func true_branch func_foo false_branch func_bar tensorxf tensorxf tensorxf return valu tensorxf tensorflow executor dialect tf_executor dialect intend model current tensorflow executor semant combin tf dialect repres arbitrari tensorflow x x graph follow executor model includ dead propag concurr semant control depend tf_executor dialect defin two dialectspecif type tf_executorcontrol repres control depend tf_executortoken repres pair oper model nextiter oper tf_executor dialect close oper known mlir tensorflow op specif graph executor behavior addit oper repres island predict dialect model tensorflow executor semant larg part defin oper mirror tensorflow control flow opshttpswwwtensorfloworgapi_docsccgroupcontrolflowop implement control flow tensorflowhttpdownloadtensorfloworgpaperwhite_paper_tf_control_flow_implementation___pdf also almost oper accept variad number control token return extra control token output except tf_executormerg tf_executorcontroltrigg oper propag dead input control noncontrol dead output control noncontrol dead well tf_executormerg output dead either input control token dead regular input dead tf_executorcontroltrigg live control output alway produc even control input dead tf_executorgraph oper tf_executorgraph oper contain region singl block list oper tensorflow graph oper topolog sort inord cycl allow ssa valu execut model oper block follow tensorflow executor semant oper dont transit depend ssa defus chain may execut parallel tf_executornextiterationsourc except ssa valu block implicitli dead mean everi ssa valu defin tf_executorgraph consid implicitli wrap conceptu dead_ort structur includ runtim flag indic valu dead present oper may special case handl dead valu oper dialect return valu type tf_executorcontrol last return valu except tf_executornextiterationsink tf_executorfetch dont return valu tf_executorgraph op allow specif tf_executor dialect oper bodi tf_executorgraph verifi reject unknown oper order execut standard tf dialect oper like tfadd must wrap tf_executorisland oper tf_executorgraph oper accept operand input implicitli captur region repres feed graph region attach tf_executorgraph termin tf_executorfetch oper noncontrol operand termin correspond result valu fetch tf_executorgraph oper behavior undefin operand tf_executorfetch dead mlir mlir fetch tf_executorgraph tensorxf oper current block execut input readi possibl concurr oper tf_executor dialect expect op return multipl output control token control depend dont mention control token return type implicit ctl tf_executoropa feed feed tensorxf ctl tf_executoropb tensorxf ctl tf_executoropc ctl tensorxf ctl tf_executoropd tensorxf tf_executorfetch tensorxf end tf_executorgraph operationregion tf_executorisland oper tf_executorgraph oper allow tf dialect oper immedi nest underneath tf_executorisland introduc wrapper gener comput exampl tf dialect oper result consist represent make analysi transform simpler tf_executorisland oper singl region singl block attach function control flow allow block termin tf_executoryield oper operand termin correspond result valu tf_executorgraph oper extra result type _tf_executorcontrol alway produc everi tf_executorisland within island execut semant follow standard sequenti behavior consist direct tensorflow autograph desir compil analys transform valu island cant dead nest tf_executorgraph oper present region call function reenabl tensorflow executor behavior subsect code import follow reason initi function control flow oper call function involv nest graph tf_executorgraph werent allow island oper would need equival tf_executor dialect nest also allow form island without involv interprocedur analyz function call may involv calle graph tf_executorisland region allow implicit captur valu captur tf_executorisland dead whole region execut everi produc valu mark dead well arbitrari number tf_executorcontrol operand accept tf_executorisland oper operand dead region execut dead valu immedi return everi result mlir mlir island captur implicitli also take control depend ctl input produc tensorxf valu match argument yield termin well extra control token ctl tf_executorisland ctl tensorxf tf_executorcontrol tensorxf ad tfadd tensorxf mul tfmul ad tensorxf yield termin operand result valu island tf_executoryield mul tensorxf case singl oper wrap insid island even compress infer termin return valu oper exampl contain addit implicit captur would display mlir mlir ctl tf_executorislandctl wrap tfadd tensorxf tf_executorswitch oper tf_executorswitchhttpswwwtensorfloworgapi_docsccclasstensorflowopsswitch take two inputspredicateanddataand return two regular outputstrue_outputfalse_output thedatainput copi totrue_outputifpredicateevalu true otherwis copi tofalse_output output mark dead one input control token dead output mark dead well tf_executorswitchn oper tf_executorswitchnhttpsgithubcomtensorflowtensorflowblobmastertensorflowcoreopscontrol_flow_opsccl take two inputsdataandindexand integ attributenum_outsind number output thedatainput copi output indic theindex input output mark dead one input control token dead output mark dead well tf_executormerg oper tf_executormergehttpswwwtensorfloworgapi_docsccclasstensorflowopsmerg take variad number input return singl output output defin nondead input select nondefin way multipl input nondead input dead output also dead nextiter tf_executornextiterationsourc tf_executornextiterationsink oper tensorflow nextiterationhttpswwwtensorfloworgapi_docsccclasstensorflowopsnextiter op model use two pair oper sinc _nextiteration_ intend model loop backedg break two differ oper allow keep structur dagtf_executornextiterationsourcedo take operand produc two result one regular valu correspond tensorflow graph second valu typetf_executorloop_token token consum pairedtf_executornextiterationsinkoper alongsid valu pass backedg valu return bytf_executornextiterationsink type result sourc must match type valu operand sink tf_executornextiterationsourc except executor model sens execut pair tf_executornextiterationsink even though data depend tf_executorloopcond oper tf_executorloopcondhttpswwwtensorfloworgapi_docsccclasstensorflowopsloopcond forward boolean input output act aspivot mark loop termin conditionhttpsgithubcomtensorflowtensorflowblobmastertensorflowcorekernelscontrol_flow_opshl tf_executorent oper tf_executorenterhttpsgithubcomtensorflowtensorflowblobmastertensorflowcorekernelscontrol_flow_opshl take singl input anam string attribut identifi execut frame forward input output new execut frame tf_executorexit oper tf_executorexithttpsgithubcomtensorflowtensorflowblobmastertensorflowcorekernelscontrol_flow_opshl forward singl input output exit current execut frame tf_executorcontroltrigg oper tf_executorcontroltriggerhttpswwwtensorfloworgapi_docsccclasstensorflowopscontroltrigg similar noophttpsgithubcomtensorflowtensorflowblobmastertensorflowcorekernelscontrol_flow_opshl act placehold control depend alway produc live control output even control input dead tf_executorsend oper tf_executorsendhttpsgithubcomtensorflowtensorflowblobmastertensorflowcorekernelssendrecv_opshl match tensorflow semant tf_executorrecv oper tf_executorrecvhttpsgithubcomtensorflowtensorflowblobmastertensorflowcorekernelssendrecv_opshl match tensorflow semant exampl exampl loop decrement initi _countinit integ reach return last valu loop mlir mlir loop countinit time return last counter alway zero fetch tf_executorgraph loopinit ctl tf_executorent countinit next_count tok tf_executornextiterationsourc loopbodyinit ctlmerg tf_executormerg loopinit next_count dec_count ctladd tf_executorisland wrap tfadd loopbodyinit loop_cond ctlne tf_executorisland wrap tfnotequ dec_count true fals ctlswitch tf_executorswitch loop_cond dec_count tf_executornextiterationsinktok fals exit_count ctlexit tf_executorexit true tf_executorfetch exit_count end tf_executorgraph operationregion enabl mlirbas new tpu bridg mlirbas new tpu bridg experiment featur tread lightli tf xbase model tfconfigprotoexperiment knob control whether new tpu bridg enabl set use follow exampl code session_config tfconfigproto experimentaltfconfigprotoexperiment enable_mlir_bridgetru tf xbase model session session config longer avail tf x instead global context hold equival manipul context follow code note must ad earli program least model comput tfconfigexperimentalenable_mlir_bridg disabl old tpu bridg due tpu bridg design work dont actual need disabl old bridg would interfer savedmodel import filecheck test debug test debug test follow command handi run filecheck test bazel run foopytest run python file look output bazel run foo gener save model inspect proto bazel run foo save_model_pathtmpmysaved_model inspect tmpmysaved_modelsaved_modelpb rational pythonbas test savedmodel import natur place start feed savedmodel format directli test output mlir dont though savedmodel format directori structur contain savedmodel proto stuff mostli binari file sort make suitabl use test input sinc humanread even text proto savedmodel proto difficult use test input sinc small piec python code eg tfadd gener thousand line text proto point solut though write test start python api gener savedmodel lead compact test input savedmodel work progress like interest find shortcut python tfmodul savedmodel mlir represent doesnt involv serial savedmodel disk read back potenti improv test iter cycl test long usual minut need find way improv futur new mlir base tensorflow tensorflow lite convert directori contain mlirhttpsgithubcomllvmllvmprojecttreemainmlir dialect transform pass util tensorflow lite api api convert tensorflow model tensorflow lite tflitetfliteconvert convers code open sourc api integr soon convers process tensorflow tensorflow lite includ follow major pass import graphdef pb pbtxt format mlir rais controlflowgraph convert tf control flow dialect tf dialect canonic pass iter appli canonic transform greedi way chang occur canonic includ constant fold legal pass convert tensorflow oper tensorflow lite one oper map tensorflow lite dialect left tensorflow oper unsupport op handl follow propos tflite mechan optim perform tf tflite dialect aim small size high perform among core valu proposit tensorflow lite model export pass write tensorflow lite flatbuff format pass oper mlir tensorflow lite dialect simpledirect translat see httpsgithubcomtensorflowtensorflowblobmastertensorflowcompilermlirlitetf_tfl_passescc full list mlir pass convers tensorflow tensorflow lite target awar convers tac differ hardwar differ capabl restrict tac design leverag hardwar capabl perform devicespecif optim unsupport op lower layout transform etc graph partit base hardwar cost model support gener importexport hook importerexport format mlir export mlir anyth detail pleas checkout tac workflowhttpsgithubcomtensorflowtensorflowtreemastertensorflowcompilermlirliteexperimentaltacreadmemdtacworkflow section use convert tflite model readi use follow command use tac optim model bazel run c opt tensorflowcompilermlirliteexperimentaltactactransl path_to_your_model ooutput_path devicespecshardware_backend devices_spec list name desir hardwar backend separ comma eg gpucpu your interest subgraph explor differ backend pass outputmlir inlinesubgraphsfals check output mlir file add hardwar backend want add hardwar backend tac start simplehardwar interfac exampl class foohardwar public simplehardwar public static constexpr char kid foo mlirrewritepatternset gettransform mlircontext context const overrid mlirrewritepatternset pattern pick transform want perform add transform like patternsinsertlowerpackintoconcatreshap unrollsplit unrollsplitv padslicecontext return pattern mlirtypeid gettypeid const overrid return mlirtypeidgetfoohardwar specifi op support bool isnotsupportedopmliroper op const overrid return fals basic say fast compar cpu larger valu better float advantageovercpu const overrid return need regist hardwar like stdunique_ptrtargethardwar createfoohardwar return stdmake_uniquefoohardwar targethardwareregistrationfoohardwar foo_hardwar target devic foo createfoohardwar advanc user advanc user eg may alreadi hardwar dialect defin pleas use targethardwar directli see follow code snippet refer class mycustomhardwar public targethardwar public static constexpr char kid my_custom_hardwar mlirtypeid gettypeid const overrid return mlirtypeidgetmycustomhardwar bool isopsupportedmliroper op const overrid check whether op support user dialect target dialect legal process doubl gethardwareswitchingcostconst targethardwar size_t buffer_s const overrid get hardwar switch cost sourc hardwar doubl getopcostmliroper op const overrid call custom cost model mlirrewritepatternset gettransform mlircontext context const overrid custom transform pattern op loweringfus layout transform etc tac workflow workflow targetawareconvers follow tri break whole graph sever subgraph base hardwar capabilit see diagram let say desir target backend gpu cpu current c support gpu rest support gpu end subgraph shown diagram target annotationgdocimagestarget_annotationpng perform opslow targetspecif optim differ hardwar backend shown diagram red yellow subgraph duplic altern subgraph view cpu c op lower g h op support gpu target optimizationgdocimagestarget_optimizationpng estim cost subgraph altern view base hardwar cost model see follow diagram estim costsgdocimagescompute_costpng pick proper subgraph alternatview view execut base costscomput cost transfer cost quantdequ cost shown diagram sinc crossdevic data transfer cost high even g h run gpu mayb less effici c run cpu still pick g h subgraph pick subgraphsgdocimagespick_subgraphspng final graph look like final graphgdocimagesfinal_graphpng tac compon hardwar hardwar use model target devic capabl also op cost target devic alreadi model cpu_hardwar gpu_hardwar well nnapi_hardwar pass target annot pass pass everi op target user specifi target base devic capabilit exampl user specifi desir target gpu cpu convd run gpu cpu annot op convd gpu sinc prefer pack run cpu annot op cpu sinc gpu support op rais target subgraph pass pass op broken subgraph op target annot rais subgraph pass subgraph actual implement funcop take follow code exampl func simpletestarg tensorxf arg tensorxf arg tensorxf arg tensorxf tensorxxf tfladdarg arg tacdevic gpu fused_activation_funct relu tacinference_typ float tensorxf tensorxf tensorxf tflmul arg tacdevic gpu fused_activation_funct relu tacinference_typ float tensorxf tensorxf tensorxf tfladdarg arg tacdevic gpu fused_activation_funct relu tacinference_typ float tensorxf tensorxf tensorxf tflpack tacdevic cpu tacinference_typ float axi values_count tensorxf tensorxf tensorxxf return tensorxxf code annot cpu other annot gpu case rais separ function like func privat func__gpu_floatarg tensorxf arg tensorxf tensorxf attribut tacdevic gpu tacinference_typ float tacinterface_nam func_ tfladd arg arg fused_activation_funct relu tacdevic gpu tacinference_typ float tensorxf return tensorxf rest op rais func privat func__cpu_floatarg tensorxf arg tensorxf tensorxxf attribut tacdevic cpu tacinference_typ float tacinterface_nam func_ tflpackarg arg axi tacdevic cpu tacinference_typ float values_count tensorxf tensorxf tensorxxf return tensorxxf func privat func__gpu_floatarg tensorxf arg tensorxf arg tensorxf tensorxf attribut tacdevic gpu tacinference_typ float tacinterface_nam func_ tfladd arg arg fused_activation_funct relu tacdevic gpu tacinference_typ float tensorxf tflmul arg fused_activation_funct relu tacdevic gpu tacinference_typ float tensorxf return tensorxf origin function replac callop funcop func simpletestarg tensorxf arg tensorxf arg tensorxf arg tensorxf tensorxxf call func__gpu_floatarg arg arg tacdevic gpu tacinference_typ float tacinterface_nam func_ tensorxf tensorxf tensorxf tensorxf call func__gpu_floatarg arg tacdevic gpu tacinference_typ float tacinterface_nam func_ tensorxf tensorxf tensorxf call func__cpu_float tacdevic cpu tacinference_typ float tacinterface_nam func_ tensorxf tensorxf tensorxxf return tensorxxf need rais op funcop pleas see follow section get altern subgraph view pass get altern subgraph view pass essenti duplic funcop perform unsupport op lower targetspecif optim exampl pack support gpu lower concat reshap support gpu origin exampl func privat func__gpu_floatarg tensorxf arg tensorxf tensorxf attribut tacdevic gpu tacinference_typ float tacinterface_nam func_ tfladd arg arg fused_activation_funct relu tacdevic gpu tacinference_typ float tensorxf return tensorxf transform func privat func__cpu_floatarg tensorxf arg tensorxf tensorxxf attribut tacdevic cpu tacinference_typ float tacinterface_nam func_ tflpackarg arg axi tacdevic cpu tacinference_typ float values_count tensorxf tensorxf tensorxxf return tensorxxf func privat func__gpu_floatarg tensorxf arg tensorxf tensorxxf attribut tacdevic gpu tacinference_typ float tacinterface_nam func_ cst arithconst dens tensorxi cst_ arithconst dens tensorxi cst_ arithconst dens tensorxi tflreshapearg cst tacdevic gpu tacinference_typ float tensorxf tensorxi tensorxxxxf tflreshapearg cst tacdevic gpu tacinference_typ float tensorxf tensorxi tensorxxxxf tflconcaten axi fused_activation_funct none tacdevic gpu tacinference_typ float tensorxxxxf tensorxxxxf tensorxxxxf tflreshap cst_ tacdevic gpu tacinference_typ float tensorxxxxf tensorxi tensorxf tflreshap cst_ tacdevic gpu tacinference_typ float tensorxf tensorxi tensorxxf return tensorxxf comput cost pass comput cost pass essenti comput cost op within funcop base targetdevic cost model sum togeth pick subgraph pass pick subgraph pass pick subgraph minim global cost take tensor transfer cost well tensorflow mlir doc httpswwwtensorfloworgmlir mlir codegen xla document fresh inform see gofreshsourc fresh owner timshen review xla oper hloinstruct perform mani optim represent share lot target devic point linear schedul comput memori buffer assign valu static devic specif codegen oper travers sequenc call emitt gener represent suitabl devic exampl singl llvm function per xla comput cpu sequenc thunk encapsul gpu oper possibl gener ptx target gpu stage step current process intercept process right xla complet bufferassign phase emit instead mlir modul lhlo dialect perform codegen use mlir compon linalg affin gpu dialect mainli depend devic plan record increment migrat xlagpu use lhlo codegen input task host devic input format hloinstruct task hloinstruct task output format xlathunk task llvm ir task task chang host devic input format hloinstruct lhlo task chang output format host thunk land pad host see task migrat devic output llvm ir form mlir option project see section migrat devic llvm ir detail project priorit endtoend runnabl model lhloemitt enabl much possibl impli follow order list object prioriti make xlagpu runnabl lhlo emitt exist thunk emitt unmodifi elimin refer hloinstruct lhlo case case switch legaci emitt mlirbas emitt eg linalg mechan translat exist emitt take mlir represent migrat standard gpu dialect migrat thunk task xlagputhunk data structur call host xlagputhunkexecuteonstream carri variou data subclass interact bufferallocationslic streamexecutor launch kernel call runtim librari cost includ repres opspecif configur data eg convolut config migrat op shape operand shape repres tree thunk condit etc migrat work independ lhlo emitt migrat limit resourc priorit behind lhlo emitt migrat sever choic lower hostsid part lhlo tfrt pro great cuda hip wrapper use pro easi implement librari call cudnn cubla cufft etc tfrt op interpret c code con host side develop test jit cpu code pro great lower creat loop condit done con gpudialect doesnt yet model chainsstreamsasynchronicitydevic alloc con cuda hip runtim support minim toolkit path version dynam load etc exist interpret xla runtim decis adopt tfrt also support jit cpu code tfrt migrat devic llvm ir task element emitt gener target op fill element element output element depend set element operand element describ combin buffer dynam indic suffici describ almost math op perform reason larg subset math op implement directli cpugpuelementaliremitt elementaliremitt uniqu larg portion code share xlagpu cpu repres larg portion op seen model includ elementwis op fusion sole depend elementaliremitt structur simpl describ data depend dag op element operand element mostli portabl highlevel eg unlik gpu kreduc gpu kcopi dynam shape support easi least elementwis op op elementallyemit sever flavor end state xla op devic code stay llvm ir refactor old emitt like lhlo mlir llvm dialect cost throwaway work want ultim migrat standard benefit easi mechan done short period benefit doesnt benefit compar refactor old emitt like lhlo mlir gpu standard loop cost lift exist emitt standard introduc challeng pointer gep need convert memref subview ensur amdgpu complet anoth one cost xlagpu heavili reli llvm metadata rang blockthread indic align dereferenc invariantload aliasscop noalia loadstor llvmloopunrolldis llvmloopunrollful llvmloopvectorizeen sequenti loop benefit longterm portabl refactor old emitt lhlo linalg write new linalg emitt cost case case compar previou option new implement match xla perform need go benchmark optim workflow signific cost op benefit unifi stack commun support portabl optim potenti conclus dont go better cost sinc requir lot mechan refactor still achiev goal enabl xla pick mlir emitt lhlo llvm ir run legaci devic emitt elementaliremitt op go increment way op op elementallyemit op connect graph work also serv unif point sever ongo forc kernel gener linalg op go stretch goal might migrat priorit three task mention paralleliz limit resourc serial priorit focus visibl result complet task priorit task lhlo legaci emitt task thunk task mlir emitt end task user xla gener lhlo eg kernel gener execut compil format serializ mlir end task lhlo lower proper serializ mlir enabl offlin compil end task xla emitt mlirbas implement detail design step task complet lhlo make legaci emitt take lhlo step make exist xlagpu emitt interact mlir op step pure refactor nfc step mostli mechan worth notic follow discrep unnest hlocomput lhlo hloinstruct direct access operand dataflow dag contrari lhlo op access operand buffer bipartit op buffer lhlo op go usedef chain access operand op unnest legaci emitt empir almost never access operand except kreduc unnest legaci emitt access bufferassign get slice access aux data structur like dataflow_analysi alias_analysi llvm_ir build alias_analysi base slice inform conclus lhlo fit rightin without major hassl step option profil support step need start discard xla thunk logic see next step actual turn mlirbas emitt need profil mlirbas emitt current xla perform profil call streamexecutor timer timer hood insert two event kernel launch measur sync time two event roughli three approach support profil mlir run profil endtoend add profil op op lhlo use inject profil endtoend approach transpar mlir suffer problem make xla use first place librari call collect profil nvprof cant easili relat hlo op exampl cudnn launch multipl kernel hlo hard tell kernel correspond hlo inject profil approach requir lhlo take profil paramet insert profilestart profileend op pass lower profilestartend c implement exact profil cant easili done mlirgener op sinc mlir doesnt timer depend tfrt streamexecutor mlir doesnt easili call c function complic paramet step task migrat thunk note roughli three kind thunk kernelthunk launch kernel control flow thunk host control flow logic condit sequenc launch bodi kernel librari thunk cudnn cubla cufft nccl etc plan make thunk deserializ help improv tfrt state support semant state improv migrat individu thunk increment action item partial order actual execut order engin parallel evalu goe step task migrat elementaliremitt profil readi complet tune elementaliremitterbas emitt mlir turn default assum mlirbas emitt use singl stream notic benefici migrat xlacpu elementaliremitt well sinc share larg portion code benchmark perform hunt done todo defin perform pariti turn new mlirbas element emitt delet legaci elementaliremitt step also provid easi fusion transit nest op later migrat step multistream support drop cant delet emittershttpsgithubcomtensorflowtensorflowblobmastertensorflowcompilerxlaservicegpustream_assignmentccl support mlir drop featur rel larg amount work mlir small amount gain xla investig current user multistream xlagpu user tri delet featur reason step task migrat devic op step migrat unnest op delet unnest emitt call rewriterefactor kcopi kreduc kreduc alreadi work plenti actual amount work need done remain seen mlir dialect overview separ differ hardwar softwar target mlir dialect includ tensorflow ir repres thing possibl tensorflow graph xla hlo ir design take advantag xla compil abil output among thing tpu experiment affin dialect focus polyhedr representationshttpsenwikipediaorgwikipolytope_model optim llvm ir map llvm represent allow mlir emit gpu cpu code llvm tensorflow lite translat run code mobil platform dialect consist set defin oper invari place like binari oper input output type ad mlir mlir fixedbuiltin list global known oper intrins dialect defin entir custom type mlir model thing like llvm ir type system first class aggreg domain abstract import mloptim acceler like quantiz type even swift clang type system built around swiftclang declar node futur want connect new lowlevel compil would creat new dialect lower tensorflow graph dialect dialect smooth path hardwar compil maker even target dialect differ level model higherlevel optim respect unfamiliar part ir wait lower level handl mlir overview mlir multilevel intermedi represent represent format librari compil util sit model represent lowlevel compilersexecutor gener hardwarespecif code mlir heart flexibl infrastructur modern optim compil mean consist specif intermedi represent ir code toolkit perform transform represent compil parlanc move higherlevel represent lowerlevel represent transform call lower mlir highli influenc llvmhttpsllvmorg unabashedli reus mani great idea flexibl type system allow repres analyz transform graph combin multipl level abstract compil unit abstract includ tensorflow oper nest polyhedr loop region even llvm instruct fix hardwar oper type expect mlir interest mani group includ compil research implement look optim perform memori consumpt machin learn model hardwar maker look way connect hardwar tensorflow tpu portabl neural hardwar phone custom asic peopl write languag bind want take advantag optim compil hardwar acceler tensorflow ecosystem contain number compil optim oper multipl level softwar hardwar stack expect gradual adopt mlir simplifi everi aspect stack img altmlir overview diagram srcimagesmlirinfrasvg autogener mlirtblgen dont manual edit clustertfopsbyhost cluster tensorflow op host function contain op place host constantopdeviceassign assign devic tfconst op converttfcontrolflowtoscf convert tensorflow control flow scf pass use direct control flow lower tensorflow dialect scf dialect preparetpucomputationfortfexport prepar tpu comput legal export tensorflow prepar tpu comput modul attach _tpucompilemlir op tensorflow graph export make transform replac remov mlir xla specif attribut legal tensorflow graph tfbatchmatmultotfeinsum replac tf batchmatmul op tf einsum op tfbroadcastfold fold explicit broadcast follow oper support implicit broadcast operand tfdataoptim perform tfdata optim tfdeviceclusterform form cluster instruct assign devic cluster oper devic assign id cluster creat tf_devicedevice_launch op region contain op cluster replac op new launch op exampl given follow program mlir tfaarg tensorxi tensorxi tfb devic tpu tensorxi tensorxi tfc devic tpu tensorxi tensorxi tensorxi tfd tensorxi tensorxi pass mlir tfaarg tensorxi tensorxi tf_devicelaunch tfb tensorxi tensorxi tfc tensorxi tensorxi tensorxi tf_devicereturn tensorxi devic tpu tensorxi tfd tensorxi tensorxi return tensorxi tfdeviceclusteroutlin outlin region tf_deviceclust oper pass outlin bodi tf_deviceclust function replac tf_deviceclust op equival tf_devicecluster_func op implicit operand captur materi explicit argument newli creat function associ tf_devicecluster_func op exampl follow mlir func computationarg tensori tensori cluster tf_deviceclust ident tfidentityarg tensori tensori tf_devicereturn ident tensori tensori return cluster tensori transform mlir func computationarg tensori tensori cluster tf_devicecluster_funcarg func _func tensori tensori return cluster tensori func _funcarg tensori tensori ident tfidentityarg tensori tensori return ident tensori tfdeviceconstantsink sink constant implicitli captur tf_deviceclust region pass sink implicitli captur constant tfconst op use tf_deviceclust region perform prior outlin reduc number argument outlin function exampl follow mlir func cluster tensori const tfconst valu dens tensori tensori cluster tf_deviceclust ident tfidentityconst tensori tensori tf_devicereturn ident tensori tensori return cluster tensori transform mlir func cluster tensori cluster tf_deviceclust const tfconst valu dens tensori tensori ident tfidentityconst tensori tensori tf_devicereturn ident tensori tensori return cluster tensori tfdeviceconvertlaunchfunctotfcal rewrit tf_devicelaunchfuncop tfpartitionedcallop pass convert tf_devicelaunchfuncop equival tfpartitionedcallop export tensorflow graphdef tfdeviceindexselector fold tfdeviceindex constant tfdevicelaunchoutlin outlin region tf_devicelaunch oper pass outlin bodi tf_devicelaunch function replac tf_devicelaunch op equival tf_devicelaunch_func op implicit operand captur materi explicit argument newli creat function associ tf_devicelaunch_func op devic attribut launch op transfer launch_func exampl follow mlir func computationarg tensori tensori launch tf_devicelaunch ident tfidentityarg tensori tensori tf_devicereturn ident tensori devic some_devic tensori return launch tensori transform mlir func computationarg tensori tensori launch tf_devicelaunch_funcarg devic some_devic func _func tensori tensori return launch tensori func _funcarg tensori tensori ident tfidentityarg tensori tensori return ident tensori tfdevicemarkinputoutputalias mark devic cluster inputsoutput pair readwrit variabl alias pass analyz input output devic cluster mark inputoutput pair alias use tfaliasing_output attribut read write resourc alias inform propag xla compil inputoutput buffer space optim tfdropwhileshapeinvari drop shape_invari attrbut whilewhileregion op drop shape_invari attribut tfwhile tfwhileregion op would allow shape infer pass refin operandresult shape op safe compil xla tfdropwhileshapeinvariantindeviceclust drop shape_invari attrbut whilewhileregion op insid devic cluster drop shape_invari attribut tfwhile tfwhileregion op insid devic cluster would allow shape infer pass refin operandresult shape op safe compil xla tfeinsum transform einsum tf op support variant tfexecutorbreakupisland transform tf control dialect tf executor dialect tfexecutorconvertcontroltodataoutput chain control output loop bodi pass convert control output loop bodi function data output thu inter iter control depend transform data depend sinc data depend express particular oper loop bodi depend input captur inter iter parallel loop control depend hand creat barrier end loop bodi thu block parallel across iter exampl follow loop bodi barrier end although datacontrol depend tfassignvariableop arg tfassignvariableop arg across iter loop bodi control barrier barrier end forc depend two assign variabl op must wait complet start next iter transform control output data output remov depend two assign variabl op thu allow run parallel across iter mlir tf_re type tensortf_typeresourcetensorf func while_bodyarg tf_re arg tf_re arg tensorf arg tensorf tf_re tf_re tensorf tensorf graph tf_executorgraph assign__control tf_executorisland wrap tfassignvariableoparg arg tf_re tensorf assign__control tf_executorisland wrap tfassignvariableoparg arg tf_re tensorf add_out add_control tf_executorisland wrap tfaddarg arg tensorf tensorf tensorf mul_out mul_control tf_executorisland wrap tfmularg arg tensorf tensorf tensorf barrier tf_executorislandassign__control assign__control add_control mul_control wrap tfnoop tf_executorfetch arg arg add_out mul_out barrier tf_re tf_re tensorf tensorf tf_executorcontrol return graph graph graph graph tf_re tf_re tensorf tensorf mlir func while_bodyarg tf_re arg tf_re arg tensorf arg tensorf chain_ tensori chain_ tensori tf_re tf_re tensorf tensorf tensori tensori graph tf_executorgraph _ chain__src tf_executorisland wrap tfidentitychain_ tensori tensori _ chain__src tf_executorisland wrap tfidentitychain_ tensori tensori assign__control tf_executorislandchain__src wrap tfassignvariableoparg arg tf_re tensorf assign__control tf_executorislandchain__src wrap tfassignvariableoparg arg tf_re tensorf add_out add_control tf_executorisland wrap tfaddarg arg tensorf tensorf tensorf mul_out mul_control tf_executorisland wrap tfmularg arg tensorf tensorf tensorf chain__sink _ tf_executorislandassign__control wrap tfidentitychain_ tensori tensori chain__sink _ tf_executorislandassign__control wrap tfidentitychain_ tensori tensori tf_executorfetch arg arg add_out mul_out chain__sink chain__sink tf_re tf_re tensorf tensorf tensori tensori return graph graph graph graph graph graph tf_re tf_re tensorf tensorf tensori tensori tfexecutorgraphprun prune unreach op tf_executorgraph pass remov op tf_executorgraph transit via data control depend connect associ tf_executorfetch op order op preserv function name main tfentry_funct attribut prune graphsfunct may import v tensorflow graph feedsfetchestarget provid certain stage ir transform eg preplac option opstopreserv allow specifi op prune regardless reachabl exampl follow mlir func grapharg tensori arg tensori tensori graph tf_executorgraph transitive_reachable_data tf_executorisland wrap tfidentityarg tensori tensori reachable_data tf_executorisland wrap tfidentitytransitive_reachable_data tensori tensori unreachable_data tf_executorisland wrap tfconst valu dens tensori tensori transitive_reachable_control tf_executorisland wrap tfnoop reachable_control tf_executorislandtransitive_reachable_control wrap tfnoop unreachable_control tf_executorisland wrap tfnoop tensori tf_executorfetch reachable_data reachable_control tensori tf_executorcontrol return graph tensori transform mlir func grapharg tensori arg tensori tensori graph tf_executorgraph transitive_reachable_data tf_executorisland wrap tfidentityarg tensori tensori reachable_data tf_executorisland wrap tfidentitytransitive_reachable_data tensori tensori transitive_reachable_control tf_executorisland wrap tfnoop reachable_control tf_executorislandtransitive_reachable_control wrap tfnoop tf_executorfetch reachable_data reachable_control tensori tf_executorcontrol return graph tensori option opstopreserv comma separ list op prune regardless reachabl tfexecutorislandcoarsen walk tf_executorgraphop merg individu tf_executorislandop pass perform whole graph analysi graph encapsul tf_executorgraphop analysi identifi islandop within graph could merg togeth goal merg mani island possibl analysi complet pass merg islandop singl scan exampl given follow program two disjunct island mlir func testarg tensori tensorf tf_executorgraph tf_executorisland tfopaarg tensori tensori tf_executoryield tensori tf_executorisland tfopb tensorf tf_executoryield tensorf tf_executorfetch tensorf return tensorf run pass two island merg mlir func testarg tensori tensorf tf_executorgraph output control tf_executorisland tfopaarg tensori tensori tfopb tensorf tf_executoryield tensorf tf_executorfetch output tensorf return tensorf tfexecutortofunctionalconvers lift tf_executorisland inner op tf_executorgraph pass convert tf_executorgraph consist tf_executorisland tf_executorfetch sea node consist tensorflow dialect op lift op tf_executorgraph tf_executorisland v control flow op present tf_executorgraph error return exampl follow mlir func my_fnarg tensori arg tensori tensori tensori graph_result tf_executorgraph island__result island__control tf_executorisland ident tfidentityarg tensori tensori tf_executoryield ident tensori island__result island__control tf_executorisland identity_n tfidentitynarg island__result tensori tensori tensori tensori tf_executoryield identity_n tf_executorfetch island__result island__result tensori tensori return graph_result graph_result tensori tensori transform mlir func my_fnarg tensori arg tensori tensori tensori ident tfidentityarg tensori tensori identity_n tfidentitynarg ident tensori tensori tensori tensori return ident identity_n tensori tensori tfexecutortpuvislandcoarsen merg tpu cluster islandop intend v compat mode pass variant executorislandcoarseningpass limit tpuannot oper intend preserv backward compat tfv tfexecutortpuvislandinlin inlin call nest tpu modul pass inlin island call nest modul outlin thu revers effect tfexecutortpuvislandoutlin pass exampl follow mlir modul func fooarg tensorf tensorf tf_executorgraph output control tf_executorisland wrap tfpartitionedcallarg f _tpu_v_compat_outlinedbar tensorf tensorf tf_executorfetch output tensorf return tensorf modul _tpu_v_compat_outlin func nest bararg tensorf tensorf tfopaarg tensorf tensorf return tensorf transform mlir modul func fooarg tensorf tensorf tf_executorgraph output control tf_executorisland tfopaarg tensorf tensorf tf_executoryield tensorf tf_executorfetch output tensorf return tensorf tfexecutortpuvislandoutlin outlin tpu cluster island nest modul process like v modul intend v compat mode extract island contain tpu cluster comput outlin function nest modul allow run usual bridg nest modul exhibit friendli vlike structur intend v compat mode bridg run without feedfetch session createextend given eg mlir func test tensori tf_executorgraph output control tf_executorisland tf_executoryield result tensori tf_executorfetch output tensori return pass creat addit function contain code tf_executorisland mlir func nest _tpu_v_compat_outlined_func tensori replac island wrap call mlir func test tensori tf_executorgraph output control tf_executorisland wrap tfpartitionedcal f _tpu_v_compat_outlined_tpu_v_compat_outlined_func tensori tf_executorfetch output tensori return tensori tffunctionalcontrolflowtocfg transform function control flow op mlir control form graph cfg form tffunctionalcontrolflowtoregion transform function control flow oper regionbas counterpart pass transform function control flow oper tensorflow dialect regionbas counterpart ie tfif transform tfifregion tfwhile transform tfwhileregion exampl function oper mlir tfifarg arg then_branch then_branch_func else_branch else_branch_func is_stateless fals tensori tensorxf tensorxf transform regionbas oper mlir tfifregionarg call then_branch_funcarg tensorxf tensorxf tfyield tensorxf call else_branch_funcarg tensorxf tensorxf tfyield tensorxf is_stateless fals tensori tensorxf tffunctionaltoexecutorconvers transform func op tf executor dialect tffusedkernelmatch match comput correspond optim fuse kernel tfgpuopfus fusion optim gpu target pass perform fusion specif gpu target adhoc pass integr notion target mlir pipelin futur tfguaranteeallfuncsoneus guarante funcop singl use tfhoistreplicateinvariantresourcewrit hoist write replic invari resourc variabl pass hoist replic invari resourc variabl write outsid tf_devicerepl op may insert pass resourc op lift howev resourc variabl replic write variabl replica redund replac write singl valu first replica benefit optim reduc memori requir host multipl write one replica variabl host would alloc buffer space reciev devic output replica requir use output first replica case tfinittextfiletoimport convert initializetablefromtextfilev op lookuptableimportvop remov depend asset file option tfsavedmodeldir directori contain model export tensorflow savedmodel model base tensorflow savedmodel use empti valu tflayoutassign layout assign pass option forcedataformat forc data format layout sensit op tflegalizehlo legal hlo tf dialect tflowerquant lower op requir quantiz input output pass rewrit op least one input output must quantiz type op whose input output allow nonquant type exampl quantiz type tf_qint tf_quint exampl tf_dequantizeop convert quantiz type float op rewritten gener op perform scale shift oper nonquant type current tf_dequantizeop op lower fall categori lower ad eg quantizevop ad pass tfmarkopsforoutsidecompil mark op devic cluster outsid compil unsupport devic pass mark unsupport op devic cluster _xla_outside_compil attribut oper run host instead devic unsupport op op code gener run devic cluster includ string oper tpu oper dont kernel defin devic pass conserv mark op outsid compil compil devic except ad op rewritten decompos compil devic exampl tf_deviceclust op unsupport op tfunsupportedop mlir func unsupported_op tensori tf_deviceclust tfunsupportedop tensori tfident tensori tensori tf_devicereturn tensori allow_soft_plac true num_cores_per_replica topolog device_assign tensori return tensori mark tfunsupportedop _xla_outside_compil attribut mlir func unsupported_op tensori tf_deviceclust tfunsupportedop _xla_outside_compil auto tensori tfident tensori tensori tf_devicereturn tensori allow_soft_plac true device_assign num_cores_per_replica topolog tensori return tensori tfmaterializepassthroughop materi mlirpassthroughop replac mlir modul attach attribut pass replac mlirpassthrough op code mlir_modul string attribut tfmergecontrolflow merg ifregion op togeth common predic pass merg ifregion op togeth predic safe intermedi depend block etc exampl mlir tfifregion tfa tensorf tfyield tfyield is_stateless true tensori tfifregion tfb tensorf tfyield tfyield is_stateless true tensori would transform mlir tfifregion tfa tensorf tfb tensorf tfyield tfyield is_stateless true tensori tfmovetranspos move transpos pass option foldtransposeinop whether fold transpos op support fold direct move transpos begin end block defin tfoptim optim tensorflow modul tfoutsidecompiledtohostlaunch wrap op _xla_outside_compil attribut separ tf_devicelaunch replic host devic pass wrap op _xla_outside_compil attribut valu tf_devicelaunch op host devic assign simpl exampl mlir tf_deviceclust tfa tfb _xla_outside_compil cluster tfc tf_devicereturn num_cores_per_replica topolog device_assign would becom follow op unimport attribut type omit mlir tf_deviceclust tfa tf_devicelaunch tfb _xla_outside_compil cluster tf_devicereturn devic tpu_replicated_host tfc tf_devicereturn num_cores_per_replica topolog device_assign tfparallelexecutetoisland lower devic parallel_execut executor island tfpromoteresourcestoarg promot resourc readswrit function inputsoutput pass promot resourc access function default main input argument output function two type resourc support function argument tfresourcetyp type pass varhandleop function tfpromotevarhandlestoarg pass function input argument resourc alreadi provid input argument read type input argument becom shape valu repres resourc function output resourc written type output becom shape resourc inform variabl identif inputoutput alis record name attribut input argument output tfresource_nam match shared_nam varhandleop repres identifi correspond resourc attribut ad input argument initi valu resourc read output initi valu read tfaliasing_output index function output alia input argument attribut ad input argument initi valu correspond resourc read resourc written later assumpt pass compound resourc oper alreadi decompos dead function alreadi remov resourc argument dead function caus pass fail option function comma separ list function whose resourc readwrit promot function inputsoutput tfpromotevarhandlestoarg promot tfvarhandleop function argument see joint descript promot resourc arg tfreadonlyreferencestoresourc convert readonli refer variabl resourc variabl tfregioncontrolflowtofunct transform regionbas control flow oper function counterpart pass transform regionbas control flow oper tensorflow dialect function counterpart ie tfifregion transform tfif tfwhileregion transform tfwhile exampl regionbas oper mlir tfifregionarg call then_branch_funcarg tensorxf tensorxf tfyield tensorxf call else_branch_funcarg tensorxf tensorxf tfyield tensorxf is_stateless fals tensori tensorxf transform function oper mlir tfifarg arg then_branch then_branch_func else_branch else_branch_func is_stateless fals tensori tensorxf tensorxf tfreplicateinvariantophoist hoist replic invari oper replic pass look replic invari op tf_devicerepl op region hoist also make tfshape op replic invari possibl current updat replac tfshape op replic argument either tensor resourc exampl follow mlir tf_devicerepl ri tensorxi n tfshaperi tensorxi tensorxi tf_devicereturn get convert mlir tf_devicerepl ri tensorxi n tfshape tensorxi tensorxi tf_devicereturn resourc variabl follow mlir tf_devicerepl ri tensorxtf_typeresourc n tfreadvariableopri tensorxtf_typeresourc tensorxi tfshape tensorxi tensorxi tf_devicereturn get convert mlir tf_devicerepl ri tensorxtf_typeresourc n tfreadvariableopri tensorxtf_typeresourc tensorxi tfvariableshap tensorxtf_typeresourc tensorxi tf_devicereturn tfreplicatetoisland lower devic replic executor island tfresourcedeviceinfer propag devic attribut resourc caller calle pass propag devic assign resourc modul perform infunct propag well crossfunct propag caller calle pass chang modul ad tfdevic attribut function argument ad devic attribut tf op exampl given function mlir tf_re type tensorxtf_typeresourcetensorxf func testarg tf_re tfdevic tpu tf_executorgraph control tf_executorisland id tfidentityarg tf_re tf_re tf_executoryield tf_executorfetch control tf_executorcontrol return observ op insid island obtain tpu devic assign mlir tf_re type tensorxtf_typeresourcetensorxf func testarg tf_re tfdevic tpu tf_executorgraph control tf_executorisland tfidentityarg devic tpu tf_re tf_re tf_executoryield tf_executorfetch control tf_executorcontrol return tfrewritetpuembeddingop rewrit tpu embed sendrecv op ad tpu embed dedupl data tfshapeinfer shape infer tf dialect op implement infertypeopinterfac fix point shape refin pass util shape function regist op use infertypeopinterfac well bridg tensorflow op registri shape function interprocedur pass propag inform across function callscontrol flow oper possibl guaranteeallfuncsoneusepass often run pass enabl propag opportun refin outermost element type tensor well nest compon type eg tensor list shape refin pass may insert addit cast oper well fold constant shape comput enabl exact shape infer therefor mutat graph constant fold requir produc exact shape also perform valu kept context rather op foldedir mutat option maxiter maximum shape infer iter tfsimpledeviceassign simpl devic assign tf dialect assign default devic op empti nonexist devic attribut exampl code mlir tfconst valu dens tensorxxf tensorxxf tfconst devic valu dens tensorxxf tensorxxf tfconst devic baz valu dens tensorxxf tensorxxf run pass defaultdevicefoobar get mlir tfconst devic foobar valu dens tensorxxf tensorxxf tfconst devic foobar valu dens tensorxxf tensorxxf tfconst devic baz valu dens tensorxxf tensorxxf option defaultdevic default devic assign tfstackopsdecomposit decompos stack oper local variabl oper need static shape pass convert stack oper tensor oper readassign op local variabl later resourc lift pass remov local variabl pass requir full shape stack infer maximum size need constant push op found known shape push op need shape stack creation op tfstackv turn two zeroiniti variabl buffer current size push turn mlir old_val tfreadvariableopbuff old_siz tfreadvariableops offset tfconcatvold_s other_dims_ const new_val tfxladynamicupdatesliceold_v push_val offset tfassignvariableopbuff new_val new_siz tfaddvold_s const tfassignvariableops new_siz pop turn mlir old_val tfreadvariableopbuff old_siz tfreadvariableops new_siz tfsubold_s const offset tfconcatvold_s other_dims_ const slice tfsliceold_v offset slice_size_const pop_result tfreshapeslic elem_size_const tfassignvariableops new_siz pass also work across control flow function call tfstripnoinlineattribut strip tf_noinlin attribut toplevel function tftensorarrayopsdecomposit decompos tensor array oper local variabl oper pass convert tensor array oper tensor oper readassign op local variabl later resourc lift pass remov local variabl pass requir full shape tensor array infer size need constant specifi full element shape infer later write element shape tftensordevicecopi fold tfident op tfidentityn op op devic operand tftensorlistopsdecomposit decompos tensorlist oper gener oper tensor pass rewrit tensorlist oper gener nonmut oper tensor result oper legal xla list convert singl larg tensor includ list element new first dimens list index list updat oper convert oper creat new tensor repres list current implement result oper static shape mean must possibl infer bound full shape tensorlist element_shap num_el argument tensor list creation op constant tensor list creation op tfemptytensorlisttftensorlistreserv turn zeroiniti buffer size initi tfemptytensorlist specifi size tftensorlistreserv push turn tfxladynamicupdateslic increment size pop turn tfslice copi buffer decrement size tftensorlistsetitem turn tfxladynamicupdateslic unchang size tftensorlistgetitem rewritten tfslice pass also work across control flow function call exampl tensorlist op follow function mlir func mainarg tensorxxf elem_shap tfconst valu dens tensorxi tensorxi max_siz tfconst valu dens tensori tensori tl tfemptytensorlistelem_shap max_siz tensorxi tensori tensortf_typevarianttensorxxf push tftensorlistpushbacktl arg tensortf_typevarianttensorxxf tensorxxf tensortf_typevarianttensorxxf return transform mlir func mainarg tensorxxf emptytensorlist lower emptyi tfconst valu dens tensori tensori emptyf tfcastemptyi tensori tensorf size_shap tfconst valu dens tensorxi tensorxi tl tfbroadcasttoemptyf size_shap tensorf tensorxi tensorxxxf tensorlistpushback lower index_in_list tfconst valu dens tensorxi tensorxi arg_shap tfconst valu dens tensorxi tensorxi arg_reshap tfreshapearg arg_shap tensorxxf tensorxi tensorxxxf zeroi tfconst valu dens tensorxi tensorxi axi tfconst valu dens tensori tensori start_indic tfconcatvindex_in_list zeroi axi tensorxi tensorxi tensori tensorxi push tfxladynamicupdateslicetl arg_reshap start_indic tensorxxxf tensorxxxf tensorxi tensorxxxf one tfconst valu dens tensorxi tensorxi next_index_in_list tfaddvindex_in_list one tensorxi tensorxi tensorxi return tftpucleanupclusterattribut elimin _tpu_repl attribut op cluster pass elimin _tpu_repl devic attribut oper contain tf_deviceclust op tftpuclusterform form cluster oper assign tpu comput tpu comput frontend compos tftpureplicatemetadata op subgraph op tensorflow dialect match _tpu_repl attribut rel associ tftpureplicatemetadata op option tftpureplicatedinput tftpureplicatedoutput op feed input output replic tpu comput number time tpu comput replic defin tftpureplicatemetadata op num_replica attribut operand result size tftpureplicatedinput tftpureplicatedoutput respect must match exclud pack tensor also assum op tpu comput op outsid tpu comput input output tpu comput pass take tpu comput subgraph move tf_deviceclust copi attribut associ tftpureplicatemetadata op newli creat tf_deviceclust comput replic num_replica num_replica attribut copi instead tf_deviceclust wrap tf_devicerepl associ tftpureplicatedinput tftpureplicatedoutput op replac tf_devicerepl operand result otherwis singl operand result associ tftpureplicatedinput tftpureplicatedoutput op simpli forward tf_deviceclust exampl follow non replic comput mlir func tpu_computationarg tensori tensori metadata op cluster cluster replica core per replica topolog topolog tftpureplicatemetadata _tpu_repl cluster num_relica num_cores_per_replica topolog topolog device_assign padding_map replicated_input tftpureplicatedinputarg tensori tensori ident tfidentityreplicated_input _tpu_repl cluster tensori tensori replicated_output tftpureplicatedoutputident tensori tensori return replicated_output tensori transform mlir func tpu_computationarg tensori tensori cluster tf_deviceclust ident tfidentityarg tensori tensori tf_devicereturn ident tensori _tpu_repl cluster num_cores_per_replica topolog topolog device_assign padding_map tensori return cluster tensori follow replic comput mlir func tpu_computationarg tensori arg tensori tensori tensori tftpureplicatemetadata _tpu_repl cluster num_relica num_cores_per_replica topolog topolog device_assign padding_map replicated_input tftpureplicatedinputarg arg tensori tensori tensori ident tfidentityreplicated_input _tpu_repl cluster tensori tensori replicated_output tftpureplicatedoutputident tensori tensori tensori return replicated_output replicated_output tensori tensori transform mlir func tpu_computationarg tensori arg tensori tensori tensori replic tf_devicereplicatearg arg replicated_input n cluster tf_deviceclust ident tfidentityreplicated_input tensori tensori tf_devicereturn ident tensori _tpu_repl cluster num_cores_per_replica topolog topolog device_assign padding_map tensori tf_devicereturn cluster tensori return replic replic tensori tensori tftpucolocatecompositeresourceop coloc resourc composit devic assign tpu devic pass coloc resourc op use composit devic resourc pack tensor underli physic tpu devic exampl function insid tf_devicerepl mlir tfreadvariableoparg tensorxtf_typeresourcetensorxf tensorxf said readvariableop go get replac mlir tf_devicelaunch tfreadvariableoparg tensorxtf_typeresourcetensorxf tensorxf tf_devicereturn tensorxf tensorxf tftpudevicepropag propag tpu devic op user tftpudynamiclayoutpass insert tpu layout op determin layout run time pass allow tpu input layout determin jit compil done ad runtim op interpret compil result copi input devic layout exampl origin program mlir input tfiteratorgetnext devic cpu compil tf_tpucompilemlir execut tftpuexecuteinput compil devic tpu without pass later tf graph partit pass insert sendrecv input execut data copi devic fix layout pass program transform mlir input tfiteratorgetnext devic cpu compil tf_tpucompilemlir get_layout tftpugetlayoutopcompil copy_to_devic tftpucopywithlayoutinput get_layout devic tpu execut tftpuexecutecopy_to_devic compil devic tpu way compil determin layout respect copy_to_devic sendrecv op ad later pass tftpucopywithlayout accept host input produc devic output tftpuextractheadtailoutsidecompil extract tpu head tail outsid compil separ host launch beforeaft devic cluster pass extract cpu comput cluster _xla_outside_compil annot head tail tpu cluster exampl mlir cluster tf_deviceclust tfaarg _xla_outside_compil cluster tensori tensori b tfba tensori tensori c tfcb _xla_outside_compil cluster tensori tensori tf_devicereturn c tensori num_cores_per_replica step_marker_loc padding_map topolog device_assign tensori return cluster tensori becom mlir tf_devicelaunch tfaarg tensori tensori tf_devicereturn tensori devic jobworkerreplicataskdevicecpu tensori tf_deviceclust tfb tensori tensori tf_devicereturn tensori device_assign num_cores_per_replica padding_map step_marker_loc topolog tensori tf_devicelaunch tfc tensori tensori tf_devicereturn tensori devic jobworkerreplicataskdevicecpu tensori return tensori tftpuextractoutsidecompil extract tpu outsid compil comput separ tf_deviceparallel_execut region pass extract cpu comput cluster _xla_outside_compil annot denot op run cpuhost tpu cluster outsid compil cluster move tf_deviceparallel_execut region tpu cluster also move tf_deviceparallel_execut region commun op devic host ad pass inputsoutput tofrom outsid compil region exampl follow tf_deviceclust op mark xla_outside_compil mlir func outside_compil tensorf tf_deviceclust tfconst _xla_outside_compil valu dens tensorf tensorf tfident _xla_outside_compil tensorf tensorf tfaddv tensorf tensorf tensorf tf_devicereturn tensorf num_cores_per_replica topolog device_assign tensorf return tensorf becom tf_deviceparallel_execut op cpuhost region tf_deviceclust commun op send data tofrom devicehost mlir func outside_compil tensorf tf_deviceparallel_execut tf_devicelaunch tf_tpucompilemlirplaceholderprogramkey tensorxtf_typestr tf_xlarecvathost device_ordin key host_compute_channel___arg tensorxtf_typestr tensorf tfident tensorf tensorf tf_xlasendfromhost device_ordin key host_compute_channel___retv tensorf tensorxtf_typestr tf_devicereturn devic jobworkerreplicataskdevicecpu tf_devicereturn tf_deviceclust tfconst valu dense tensorf tensorf tf_xlahostcomputemlir recv_key host_compute_channel___retv send_key host_compute_channel___arg tpu_cor tensorf tensorf tfaddv tensorf tensorf tensorf tf_devicereturn tensorf device_assign num_cores_per_replica topolog tensorf tf_devicereturn tensorf tensorf return tensorf tftpuhostcomputationexpans expand host comput tpu comput pass expand outsid compil attribut identitycast op head tpu comput use outsid compil op tftpuidentityprun remov identityidentityn op tpu comput tftpumergevariableswithexecut merg devic variabl read updat tpu execut op pass find ondevic resourc variabl read updat surround tftpuexecut op merg tftpuexecuteandupdatevari op allow tpu execut perform effici inplac variabl updat exampl mlir tfreadvariableoparg tfreadvariableoparg tftpuexecut compil tfassignvariableoparg transform mlir tftpuexecuteandupdatevariablesarg arg compil device_var_reads_indic device_var_updates_indic transform happen ondevic variabl transform requir arg arg devic assign tpuexecut op tftpuparallelexecutesinkresourcewrit move tfassignvariableop consum tf_deviceparallel_execut tf_deviceparallel_execut region tftpureorderreplicatepartitionedinput reorder replic partit input op pass rewrit data parallel model parallel express input reorder tftpupartitionedinput model parallel tftpureplicatedinput data parallel op transform dag multipl tftpupartitionedinput op feed singl tftpureplicatedinput dag multipl tftpureplicatedinput op feed singl tftpupartitionedinput transform ir manner allow subsequ cluster format pass handl ir data model parallel easier manner exampl follow mlir rtype type tensortf_typeresourcetensorxxf func data_and_model_parallelismarg rtype arg rtype arg rtype arg rtype rtype pi_ tftpupartitionedinputarg arg _xlashard devic partition_dim rtype rtype rtype pi_ tftpupartitionedinputarg arg _xlashard devic partition_dim rtype rtype rtype ri tftpureplicatedinputpi_ pi_ rtype rtype rtype return ri rtype transform mlir rtype type tensortf_typeresourcetensorxxf func data_and_model_parallelismarg rtype arg rtype arg rtype arg rtype rtype ri_ tftpureplicatedinputarg arg rtype rtype rtype ri_ tftpureplicatedinputarg arg rtype rtype rtype pi tftpupartitionedinputri_ ri_ _xlashard devic partition_dim rtype rtype rtype return pi rtype tftpuresourcepartit partit unpartit resourc readwrit partit resourc variabl pass creat individu resourc readswrit unpartit resourc variabl tftpupartitionedinput individu partit resourc variabl tftpupartitionedinput operand resourc op decompositionlift occur unpartit resourc variabl transform ir manner allow subsequ pass oper individu resourc variabl handl per coredevic exampl follow mlir func clusterarg tensortf_typeresourcetensori arg tensortf_typeresourcetensori partitioned_vari tftpupartitionedinputarg arg n _xlashard partition_dim tensortf_typeresourcetensori tensortf_typeresourcetensori tensortf_typeresourcetensori read tfreadvariableoppartitioned_vari tensortf_typeresourcetensori tensori comput tf_devicecluster_funcread func comput use_spmd_for_xla_partit true tensori tensori tfassignvariableoppartitioned_vari comput tensortf_typeresourcetensori tensori return func computationarg tensori tensori return arg tensori transform mlir func clusterarg tensortf_typeresourcetensori arg tensortf_typeresourcetensori read tfreadvariableoparg tensortf_typeresourcetensori tensori read tfreadvariableoparg tensortf_typeresourcetensori tensori partitioned_input tftpupartitionedinputread read n _xlashard partition_dim tensori tensori tensori comput tf_devicecluster_funcpartitioned_input func comput use_spmd_for_xla_partit true tensori tensori partitioned_output tftpupartitionedoutputcomput n _xlashard partition_dim tensori tensori tensori tfassignvariableoparg partitioned_output tensortf_typeresourcetensori tensori tfassignvariableoparg partitioned_output tensortf_typeresourcetensori tensori return func computationarg tensori tensori return arg tensori tftpuresourcereadforwrit insert tfreadvariableop input tpu cluster resourc write read pass materi tfreadvariableop input outlin tpu comput resourc variabl write present later pipelin resourc variabl fuse gener tftpuexecut op support resourc variabl read read write tpu comput resourc variabl requir initi prior execut write resourc variabl use gener current via pack tensor use exampl follow mlir func write_only_resourcevalu tensori resourc tensorxtf_typeresourcetensori tf_devicecluster_funcvalu func cluster tensori tensori tfassignvariableopresourc tensorxtf_typeresourcetensori tensori return func clusterarg tensori tensori ident tfidentityarg tensori tensori return ident tensori transform mlir func write_only_resourcevalu tensori resourc tensorxtf_typeresourcetensori resource_read tfreadvariableopresourc tensorxtf_typeresourcetensori tensori tf_devicecluster_funcvalu resource_read func cluster tensori tensori tensori tfassignvariableopresourc tensorxtf_typeresourcetensori tensori return func clusterarg tensori arg tensori tensori ident tfidentityarg tensori tensori return ident tensori tftpurewrit rewrit tf_devicecluster_func tpu tpu runtim oper pass rewrit tf_devicecluster_func oper sequenc tf_tpucompilemlir tftpuexecut oper tf_tpucompilemlir contain mlir modul function equival function referenc tf_devicecluster_func make modul jitcompil execut tpu possibl rewrit oper devic assign fail failur return note mani paramet tf_devicecluster_func ommit follow exampl exampl non replic tf_devicecluster_func mlir func tf_tpu_rewritearg tensori tf_devicecluster_funcarg _tpu_repl cluster func func tensori tensori return rewritten mlir func tf_tpu_rewritearg tensori tf_devicelaunch compilation_statu program tf_tpucompilemlir mlir_modul serial func tensortf_typestr tensorxtf_typestr tf_devicereturn compilation_statu program tensortf_typestr tensorxtf_typestr devic jobworkerreplicataskdevicecpu tensortf_typestr tensorxtf_typestr tf_devicelaunch tftpucompilesucceededassert tensortf_typestr tf_devicereturn devic jobworkerreplicataskdevicecpu tf_devicelaunch tftpuexecutearg tensori tensorxtf_typestr tensori tf_devicereturn tensori devic jobworkerreplicataskdevicetpu tensori return replic tf_devicecluster_func mlir func tf_tpu_rewritearg tensori arg tensori tf_devicereplicatearg arg ri tensori n tf_devicecluster_funcri _tpu_repl cluster func func tensori tensori tf_devicereturn tensori return rewritten mlir func tf_tpu_rewritearg tensori arg tensori tf_devicereplicatearg arg arg tensori devic tpu_replicated_core_ jobworkerreplicataskdevicetpu jobworkerreplicataskdevicetpu tpu_replicated_host jobworkerreplicataskdevicecpu jobworkerreplicataskdevicecpu n tf_devicelaunch compilation_statu program tf_tpucompilemlir mlir_modul serial func tensortf_typestr tensorxtf_typestr tf_devicereturn compilation_statu program tensortf_typestr tensorxtf_typestr devic jobworkerreplicataskdevicecpu tensortf_typestr tensorxtf_typestr tf_devicelaunch tftpucompilesucceededassert tensortf_typestr tf_devicereturn devic jobworkerreplicataskdevicecpu tf_devicelaunch tftpuexecutearg tensori tensorxtf_typestr tensori tf_devicereturn tensori devic tpu_replicated_core_ tensori tf_devicereturn tensori return non replic tf_devicecluster_func model parallel mlir func tf_tpu_rewritearg tensorxi tensorxi tf_devicecluster_funcarg _tpu_repl cluster func func num_cores_per_replica input_sharding_configur output_sharding_configur tensorxi tensorxi return tensorxi rewritten mlir func tf_tpu_rewritearg tensorxi tensorxi tf_devicelaunch compilation_statu program tf_tpucompilemlir mlir_modul serial func tensortf_typestr tensorxtf_typestr tensorxtf_typestr tf_devicereturn compilation_statu program program tensortf_typestr tensorxtf_typestr tensorxtf_typestr devic joblocalhostreplicataskdevicecpu tensortf_typestr tensorxtf_typestr tensorxtf_typestr tf_devicelaunch tftpucompilesucceededassert tensortf_typestr tf_devicereturn devic joblocalhostreplicataskdevicecpu tf_deviceparallel_execut tf_devicelaunch tftpuexecutearg tensorxi tensorxtf_typestr tensorxi tf_devicereturn tensorxi devic joblocalhostreplicataskdevicetpu tensorxi tf_devicereturn tensorxi tf_devicelaunch tftpuexecut tensorxtf_typestr tf_devicereturn devic joblocalhostreplicataskdevicetpu tf_devicereturn tensorxi return tensorxi tftpushardingidentif identifi handl inputsoutput tpu comput shard across logic core bubbl shard configur cluster_func region attribut cluster_func done pars xlashard tpupartitionedoutput tpupartitionedinput op insid cluster_func exampl given follow cluster_func wrap func mlir func testarg tensorxi tf_devicecluster_funcarg func func step_marker_loc tensorxi tensorxi return func funcarg tensorxi tensorxi tfxlashardingarg _xlashard shard tensorxi tensorxi tfa tensorxi tensorxi return tensorxi cluster_func reciev follow _sharding_configur attribut func receiv mhloshard attribut mlir func testarg tensorxi tf_devicecluster_funcarg func func input_sharding_configur output_sharding_configur step_marker_loc tensorxi tensorxi return func funcarg tensorxi mhloshard tensorxi mhloshard tfxlashardingarg _xlashard shard tensorxi tensorxi tfa tensorxi tensorxi return tensorxi tftpuspacetodepthpass appli automat space depth transform first frontier convolut consum host input tpu automat space depth transform done ad space depth transform op host input appli space depth transform first convolut backprop filter tpu exampl origin program mlir modul func while_bodi input tfiteratorgetnext devic cpu tensorxxxxf device_launch tf_devicecluster_funcinput func _func return func _funcinput tensorxxxxf filter tensorxxxxf tfconvdinput filter stride tensorxxxxf tensorxxxxf tensorxxxxf program transform mlir modul func while_bodi input tfiteratorgetnext devic cpu tensorxxxxf space_to_depth tfspacetodepthinput block_siz tensorxxxxf tensorxxxxf device_launch tf_devicecluster_funcspace_to_depth func _func return func _funcinput tensorxxxxf filter tensorxxxxf filter_transform tfpadtftransposetfreshapefilt tensorxxxxf tensorxxxxf conv tfconvdinput filter_transfrom stride tensorxxxxf tensorxxxxf tensorxxxxf way first convolut featur dimens transform featur dimens better perform tpu tftpuupdateembeddingenqueueopinput updat input tpu embed enqueu op depend whether graph train mode evalu mode updat input tpu embed enqueu op depend whether graph train mode evalu mode tftpuvariableruntimereformat add devic variabl format op allow compilationguid variabl format pass take advantag loop add op allow execut avoid repeatedli format variabl back forth desir format determin tpu program compil pass includ reformat variabl insert gener tpureshardvariablesop proper place tpureshardvariablesop interpret compil core idea optim keep track format state variabl next desir state chang avoid reformat associ set variabl devic format state tpureshardvariablesop compar current state desir state compil result mismatch tpureshardvariablesop reformat variabl desir state match tpureshardvariablesop noop major use pass weightupd shard data parallel requir tf_devicerepl loop exampl suppos train loop simplic write loop bodi inin mlir var var tfwhile var var tf_devicerepl var var rvar compil tf_tpucompilemlir tftpuexecuteandupdatevariablesoprvar compil pass transform mlir var var state_var state_var tfwhile var var state_var state_var tf_devicerepl var var rvar state_var state_var rstate compil tf_tpucompilemlir tftpureshardvariablesoprvar compil rstate tftpuexecuteandupdatevariablesoprvar compil default_format tfconstant tf_devicerepl var var rvar state_var state_var rstate tftpureshardvariablesoprvar default_format rstate tfunrollbatchmatmul unrol tf batchmatmul op reshap slice matmul pack op tfverifyforexport verifi modul suitabl export back tf graph verifi whether function modul singl tf_executorgraph tf_executorisland tf_executorgraph singl op tfelegalizetfg legal tfg tfe dialect perform benchmark mlir base code gener benchmark compar perform tensorflow llvm code gener eigen benchmark base googl benchmark librari integr perform monitor tool run benchmark bazel run c opt cpuhaswel cwise_op_tanh_benchmark benchmarksfk use perf pprof benchmark record perf profil perf record k tmpperfdata bazel run c opt cpuhaswel coptgmlt cwise_op_tanh_benchmark benchmarksfk inject data jit compil function perf inject j v tmpperfdata tmpperfdatajit report perf data perf report tmpperfdatajit pprof flame nodecount tmpperfdatajit begin googleintern run benchmark use perflab benchi gobenchi goperflab benchi referencerefer cpuhaswel run benchmarksal perflab borg_constraintsplatform_family_genus_cpuindusskylak third_partytensorflowcompilermlirtfrtbenchmarkscwise_op_tanh_benchmark q indusskylak machin day rougli fleet cycl execut skylak refer cl number test again anoth pend chang srcf test again g head anoth client number test local chang wihtout export end googleintern compos tensorflow compos tensorflow compos tensorflow tf framework defin portabl tf op composit author languag set standard tf op current open new op defin special purpos hard make work endtoend op need handl separ sever backend tfxla bridg tflite convert cpu kernel etc write shape function gradient op extrem difficult tffunction make part implement simpler introduc runtim overhead easili use appli dedic optim op kernel compos tf framework allow user defin portabl tf op composit tf op translat python function use defin composit directli portabl ir build time use expand composit op tf program compil execut use expans mechan new op readili avail differ platform without extra work moreov sinc expans option backend easili treat monolith op need instanc appli optim associ custom kernel benefit use compos tf api defin new op composit bring follow benefit automat backend support long compos op support backend new op automatc support tffunction altern reduc trace overhead unlik tffunction composit function compil build time henc tf need trace singl op build graph easi fuse opkernel optim even complex semant new op present singl node graph thu optim pass kernel easili special op better perform automat shapetyp infer support shape function requir new op automat gradient support wip user doesnt need author gradient function op train use case portabl user want add new op run op differ platform cpu tpu tflite etc portabl solut user defin new op composit op use insid composit support platform op also composit op perform user defin custom kernel regular structur ie lstm hard add logic fuse individu op target kernel infer graph solut user defin new tf op correspond fuse kernel composit use op build model train infer platform fuse kernel avail execut use composit instead gradient todo author op composit python compos tf provid singl api defin new op composit time exampl follow code defin new fusedfullyconnect op matmul add activ function specifi op attribut fuse python import tensorflow tf composit fusedfullyconnect inputsinput_ filter_ bia attrsact relu relu tanh derived_attrst float int outputso def _composite_fully_connectedinput_ filter_ bia act re tfraw_opsmatmul ainput_ bfilter_ transpose_afals transpose_btru re tfraw_opsaddxr ybia act relu return tfraw_opsrelufeaturesr elif act relu return tfraw_opsrelufeaturesr elif act tanh return tfraw_opstanhxr els return re besid defin new op composit specifi exist op portabl follow code defin semant addnop python compositeaddnop def _my_op_cin n lenin n return in sum in rang n sum insi return sum util built compil python composit function backend ir project also provid set graph optim pass expand composit op graph use input backend ir pass ad tf common runtimehttpsgithubcomtensorflowtensorflowblobmastertensorflowcorecommon_runtim graph execut eager runtimehttpsgithubcomtensorflowtensorflowblobmastertensorflowcorecommon_runtimeeag eager execut compil op composit aheadoftim aot mode like op kernel op composit precompil backend ir decomposit invok runtim python define_op_templatepyhttpsgithubcomtensorflowtensorflowblobmastertensorflowcompilermlirtfrdefine_op_templatepi file provid exampl build composit op user project directori target requir build new op creat follow target build loadtensorflowcompilermlirtfrbuild_defsbzl gen_op_librari gen_op_librari name test_op src define_op_templatepi dep third_partypytensorflow composit op definit usag includ exampleshttpsgithubcomtensorflowtensorflowblobmastertensorflowcompilermlirtfrexampl directori justintim jit mode todo known limit statement condit statement couldnt tensor rfc project altern implementaion rfcstandard composit op tensorflow support effici inferencehttpsgithubcomtensorflowcommunityblobmasterrfcsstandardizingcomposite_opsmd project doesnt reli trace function provid tffunction avoid pitfal help build gener transform backend team feng liu dan moldovan tosa lower introduct overview document provid pseudocod lower tensorflow tensorflow lite mlir dialect httpswwwtensorfloworgmlirdialect tosa dialect httpsmlirllvmorgdocsdialectstosa document workinprogress section miss legal process written syntax pseudocod syntax use document describ primit datatyp int sign bit integ uint unsign bit integ int sign bit integ int sign bit integ int sign bit integ uint unsign bit integ float ieee bit float point format float ieee bit float point format bool boolean valu pseudocod symbol start indic valu valu evalu oper run time oper consum consum list valu operand note valu tensor type determin compil time evalu happen run time one easili construct data flow subgraph look producerconsum tensor type tensor type attribut determin legal compil time describ shape element data type note tensorltshap dtypegt shorthand tensorltttypegt oper prototyp pseudocod tosa oper prototyp follow format ltoutput_valuegt tosaltoperatorgtltinput_valuegt ltattribut valu attribut purpos breviti clariti document pseudocod allow follow notat valu attribut shorthand descript tshape shape vector tensor tshapei size dimens tensor trank rank tensor tdtype datatyp tensor tscale quantiz scale paramet float tzp quantiz zeropoint int tsign boolean indic type sign tnum_bit number bit datatyp tnum_el number element tensor ttype tupl tensortshap tdtype tsize tensor list number tensor list tensor dimens shorthand tosa specif allow use name dimens follow name may use name descript n batch dimens h height dimens w width dimens c channel dimens depthwis multipli may prefix input dimens output dimens k kernel dimens common legal function follow pseudocod helper function use cannonic argument differ framework tosa dialect as_const match constant wherev tensoras_const specifi constant vector creat hold valu tensor compil time succe tensor fed constant type oper constant match fail lower fail termin common legal function follow pseudocod helper function use cannonic argument differ framework tosa dialect get_padding_values_from_explicit_pad_attr vectorint get_padding_values_from_explict_pad_attrvectorint explicit_pad tensorflowtensorformat data_format_tf int pad_befor pad_aft vectorint computed_pad int int dim gettensorspatialdimindex data_format_tf pad_befor explicit_paddim pad_aft explicit_paddim computed_paddingspush_backpad_befor computed_paddingspush_backpad_aft return computed_pad get_padding_values_from_pad_typ calcul explicit pad array base pad type vectorint get_padding_values_from_pad_typetensorflowpad pad tensorflowtensorformat data_format uint first_filter_spatial_dim type input_typ type filter_typ vector stride vector dilat assertpad tensorflowpaddingexplicit vectorint computed_pad pad h w dimens int int ifm_dim get_tensor_spatial_dim_index data_format int filter_dim first_filter_spatial_dim int dim_dil dilationsifm_dim int dim_strid stridesifm_dim int op_siz pad_before_tf pad_after_tf tensorflowgetwindowedoutputsizeverbosevinput_typeshapeifm_dim filter_typeshapefilter_dim dim_dil dim_strid pad output op_siz pad_before_tf pad_after_tf computed_paddingspush_backpad_before_tf computed_paddingspush_backpad_after_tf return computed_pad positive_axi cannonic scalar axi attribut scalar posit axi attribut int positive_axisint axi int rank axi axi rank return axi compute_scale_ void compute_scale_float scale int multipli int shift gener mantissa shift valu mantissa multipli mantissashift const float mantissa stdfrexpscal shift auto shifted_m stdroundmantissa int assertshifted_m int cant greater shifted_m int shifted_m shift tosa expect right shift posit emb right shift bit shift shift assertshifted_m stdnumeric_limitsintmax multipli static_castintshifted_m lower_batch_to_space_nd_op valu lower_batch_to_space_nd_opvalu input valu block_shap valu crop shape_t output_shap vector size_t block_shapeblock_shaperank vector stdpairsize_t size_t crops_arr size_t remaining_shape_rank inputrank blockrank size_t crops_dim cropsshap int crops_dim cropsi stdmake_paircropsas_constanti crops_dim cropsas_constanti crops_dim step reshap input block_shap block_shapem batch prodblock_shap input_shap input_shapen vector size_t a_shapeblockrank inputrank int blockrank a_shapei blockshapei a_shapeblockrank inputshap blocknum_el int inputrank a_shapei blockrank inputshapei step permut shape batch prodblock_shap input_shap block_shap input_shapem block_shapem remaining_input_shap input_shapem n vector size_t a_permblockrank inputrank a_perm blockrank int blockrank a_perm blockrank a_perm step reshap batch prodblock_shap input_shap block_shap input_shapem block_shapem remain input shape input_shapem n vector size_t a_shapeinputrank a_shap inputshap blocknum_el int blockrank a_shapei inputshapei blockshapei int remaining_block_shap a_shap blockrank inputshapeblockrank step crop startend dimens use slice vector size_t a_begininputrank a_sizeinputrank int inputrank crop_dim a_begini a_sizei output_shapei els a_begini cropsifirst a_sizei cropsi first cropsi second a_reshap tosareshapeinput new_shapea_shap a_transpos tosatransposea_reshap permsa_perm a_reshap tosareshapea_transpos new_shapea_shap output tosaslicea_reshap begina_begin sizea_s return output lower_concatv_op valu lower_concatv_optyp output_typ valu valu int axi int tosa_axi positive_axisaxi assertvaluess convert scalar input tensor valuess int valuess valuesi tosareshapevaluesi new_shap int valuess val valuesi valzp output_typezp valscal output_typescal float rescale_scal valscal output_typescal valuesi tosarescalev scalerescale_scal input_zpvalueszp output_zpoutput_typezp concat_op tosaconcatvalu valu axistosa_axi int valuess concat_op tosaconcatconcat_op valuesi axistosa_axi return concat_op lower_depth_to_space_op valu lower_depth_to_space_opvalu input size_t block_siz format_t data_format assertdata_format nhwc vector size_t a_shap inputshap inputshap inputshap block_siz block_siz inputshap block_siz block_siz vector size_t a_shap inputshap inputshap block_siz inputshap block_siz inputshap block_siz block_siz a_reshap tosareshapeinput new_shapea_shap a_transpos tosatransposea_reshap perm output tosareshapea_transpos new_shapea_shap return output lower_elu_op valu lower_elu_opvalu valu elux x expx x creat constant reshap match rank valu one_const tosaconst valu zero_const tosaconst valu vector bcast_shap int valuerank bcast_shapepush_back one_reshap tosareshapeone_const new_shapebcast_shap zero_reshap tosareshapezero_const new_shapebcast_shap exp_in tosaexpvalu sub tosasubexp_in one_reshap ge tosagreater_equalvalu zero_reshap output tosaselectg valu sub return output lower_expand_dim valu lower_expand_dimsvalu input int axi vectorsize_t reshape_dim axi axi inputrank insert end tensor axi inputrank int inputrank reshape_dimspush_backinputshapei els int inputrank axi reshape_dimspush_back reshape_dimspush_backinputshapei output tosareshapeinput new_shapereshape_dim return output lower_fake_quant_op valu lower_fake_quant_opvalu input type output_typ float min float max int num_bit bool narrow_rang assertnum_bit num_bit int qmax l num_bit int qmin l num_bit narrow_rang qmin qmin float scale max min floatqmax qmin int zeropoint intstdroundmin scale floatqmin quantiz lower_quantize_opinputstyp input scale zeropoint dequant lower_dequantize_opoutput_typ quantized_op scale zeropoint return dequant lower_floor_div valu lower_floor_divvalu lh valu rh recip tosareciprocalrh mul tosamullh recip output tosafloormul return output lower_floor_mod valu lower_floor_modvalu lh valu rh recip tosareciprocalrh mul tosamullh recip floor tosafloormul output tosasubmul floor return output lower_quantize_op valu lower_quantize_optyp output_typ valu input float scale int zeropoint const_scal tosaconst valuescal const_zp tosaconst valuezeropoint op_mul_in_scal tosamulinput const_scal op_add_op_zp tosaaddop_mul_in_scal const_zp op_cast_op tosacastop_add_op_zp foutputdtyp lower_dequantize_op valu lower_dequantize_opvalu input float scale int zeropoint const_scal tosaconst valuescal const_zp tosaconst valuefloatzeropoint op_cast_in tosacastinput inputdtypef op_sub_op_zp tosasubop_cast_in const_zp op_mul_op_scal tosamulop_sub_op_zp const_scal lower_log_softmax_op valu lower_log_softmax_opvalu logit op tosaexplogit op tosareduce_sumop axislogitsrank op tosareciprocalop op tosamulop op op tosalogop return op lower_pack_op valu lower_pack_opvalu input size_t axi size_t concat_axi positive_axisaxi size_t input_tensor_rank inputrank convert rank rank reshap input_tensor_rank int inputs inputi tosareshapeinputi vectorsize_t output_shap int input_tensor_rank output_shapepush_backinputshapei output_shapeconcat_axi output_shapeconcat_axi inputs first pair tensor concat tosaconcatinput input axisconcat_axi remain tensor int inputs concat tosaconcatconcat inputi axisconcat_axi input_tensor_rank reshap need rank alreadi done output concat els reshap tosareshapeconcat new_shapeoutput_shap concat_axi input_tensor_rank output shape b c n case need reshap n b c perm concat_axi vector size_t perm int inputrank permspush_backi permspush_back output tosatransposereshap permsperm els output reshap return output lower_reduce_op valu lower_reduce_optosa_op_t opvalu input shape_t output_shap valu axe bool keep_dim float input_scalef int input_zp float output_scalef int output_zp vector axes_vec axesas_const special case axe mean transform axes_vecs return tosaidentityinput bool is_quant isaquantizedtypeinputdtyp true fals shape_t shape inputshap output input is_quant output tosarescaleoutput scaleinput_scal input_zpinput_zp output_zp int axes_vecs int axi positive_axisaxes_veci inputrank shapeaxi output tosaopoutput axisaxi keep_dim output tosareshapeoutput new_shapeoutput_shap is_quant output tosarescaleoutput scaleoutput_scal input_zp output_zpoutput_zp return output lower_resize_op valu lower_resize_opvalu imag valu size shape output_shap dtype output_dtyp mode_t mode int input_height inputshap int input_width inputshap int output_height outputshap int output_width outputshap float in_center_h static_castfloatinput_height float in_center_w static_castfloatinput_width float out_center_h static_castfloatoutput_height float out_center_w static_castfloatoutput_width float fp_stride_i fp_stride_x align_corn output_height fp_stride_i static_castfloatinput_height static_castfloatoutput_height els fp_stride_i static_castfloatinput_height static_castfloatoutput_height align_corn output_width fp_stride_x static_castfloatinput_width static_castfloatoutput_width els fp_stride_x static_castfloatinput_width static_castfloatoutput_width float fp_offset_i fp_offset_i f half_pixel_cent fp_offset_i fp_stride_i f f fp_offset_x fp_stride_x f f dtype float op_resize_in tosaresizeinput stridefp_stride_i fp_stride_x offsetfp_offset_i fp_offset_x shift resize_modemod els int shift float unit static_castfloat shift int stride_i fp_stride_i unit int stride_x fp_stride_x unit int offset_i fp_offset_i unit int offset_x fp_offset_x unit op_resize_in tosaresizeinput stridestride_i stride_x offsetoffset_i offset_x shiftshift resize_modemod mode bilinear const_zero tosaconst valu const_twenti tosaconst valu op_ge_op tosagreater_equalop_resize_in const_zero op_abs_op tosaabsop_resize_in op_rshift_op tosaarithmetic_right_shiftop_abs_op const_twenti op_negate_op tosanegateop_rshift_op op_select_op_op_op tosaselectop_ge_op op_rshift_op op_negate_op op_cast_op tosacastop_select_op_op_op iioutputdtyp lower_reversev_op valu lower_reverse_v_opvalu tensor valu axi valu output tensor axisnum_el output tosaidentitytensor els int axisshap size_t axis_v positive_axisaxisas_constanti output tosareverseoutput axisaxis_v return output lower_round_op valu lower_round_opvalu x half tosaconst valu add tosaaddx half output tosaflooradd return output lower_selectv_op valu lower_selectv_opvalu condit valu valu e shape output_shap reshap condit rank match support broadcast necessari conditionrank output_shapes vector size_t cond_shap conditionshap int output_shapes conditionrank cond_shapepush_front condit tosareshapecondit new_shapecond_shap output tosaselectcondit e return output lower_shape_op valu lower_shape_opvalu input vector size_t input_shap inputshap shape tosaconst valueinput_shap return shape lower_space_to_batch_nd_op valu lower_space_to_batch_nd_opvalu input valu block_shap valu pad size_t block_rank blockshap size_t remaining_shape_rank inputrank block_rank step pad base pad operand flatten represent inputrankshap array vector size_t a_pad a_pad a_pad int paddingshap a_paddingi paddingas_constanti a_pad tosapadinput paddinga_pad step reshap batch padded_shap block_shap block_shap padded_shapem block_shapem block_shapem remaining_shap vector size_t a_shap block_rank remaining_shape_rank a_shap inputshap int block_rank a_shap a_padshap block_shapeas_constanti a_shap block_shapeas_constanti int remaining_shape_rank a_shap block_rank inputshap block_rank a_reshap tosareshapea_pad new_shapea_shap step transpos blockshap batch padded_shap block_shap padded_shapem block_shapem remaining_shap vector size_t a_perma_reshaperank size_t block_num_elem int block_rank a_permi a_permblock_rank block_num_elem blockas_constanti a_permblock_rank int block_rank a_reshaperank a_permi a_reshap tosareshapea_reshap perma_perm step reshap transpos tensor batch prodblock_shap padded_shap block_shap padded_shapem block_shapem remaining_shap vector size_t a_shapeinputrank a_shap batch_siz block_num_el int block_rank a_shapei a_padshapei blockas_constanti int remaining_block_shap a_shap block_rank inputshap block_rank output tosareshapea_reshap new_shapea_shap return output lower_space_to_depth_op valu lower_space_to_depth_opvalu input size_t block_siz format_t data_format assertdata_format nhwc vector size_t a_shap inputshap inputshap block_siz block_siz input_shap block_siz block_siz input_shap a_reshap tosareshapeinput new_shapea_shap a_transpos tosatransposea_reshap perm vector size_t a_shap inputshap input_shap block_siz input_shap block_siz input_shap block_siz block_siz output tosareshapea_transpos new_shapea_shap return output lower_split_op valu lower_split_opvalu valu size_t axi size_t num_split valu output size_t slice_s valueshapeaxi num_split int num_split vector size_t begin_v size_v int j j valuerank j j axi begin_valspush_backslice_s size_valspush_backslice_s els begin_valspush_back size_valspush_bacvalueshapej outputi tosaslicevalu startbegin_v sizesize_v output_list tosaidentitynoutput return output_list lower_splitv_op valu lower_splitv_opvalu valu vector size_t size_split size_t axi valu output size_t curr_split_start int size_splits vector size_t begin_v size_v int j j valuerank j j axi begin_valspush_backcurr_split_start size_valspush_backsize_spl els begin_valspush_back size_valspush_backinputshapej outputi tosaslicevalu startbegin_v sizesize_v curr_split_start size_spl output_list tosaidentitynoutput return output_list lower_squeeze_op valu lower_squeeze_opvalu input vectorsize_t squeeze_dim vector size_t reshape_dim squeeze_dimss remov dim int inputrank inputshapei reshape_dimspush_backinput_shapei els remov specifi dimens int inputrank squeeze_dimsfindi inputshapei reshape_dimspush_backinput_shapei output tosareshapeinput new_shapereshape_dim return output lower_strided_slice_op valu lower_strided_slice_opvalu input valu begin_v valu end_val valu strides_v size_t begin_mask size_t end_mask size_t ellipsis_mask size_t new_axis_mask size_t shrink_axis_mask note implement ellipsis_mask revers stride time assertellipsis_mask vector size_t beginbegin_valas_const endend_valas_const stridesstrides_valas_const vector size_t a_start a_siz a_shap a_start a_siz a_shap int inputrank begin_mask begini end_mask endi inputshapei wrap around index begin end neg begini begini inputshapei endi endi inputshapei a_starti begini a_sizei endi begini a_shapei a_sizei stridesi a_shapei stridesi a_starti a_starti shrink_axis_mask a_sizei els a_sizei a_sizei stridesi a_sizei shrink_axis_mask new_axis_mask a_shapepush_back a_shapepush_backa_sizei stridesi step slice input array a_slic tosasliceinput starta_start sizea_s step reshap slice array x mani dimens input a_reshap tosareshapea_slic new_shapea_shap step take slice index along stride dimens even dimens a_slic tosaslicea_reshap starta_start sizea_s step reshap nowstrid tensor back desir number dimens output tosareshapea_slic new_shapea_shap return output lower_unpack_op valu lower_unpack_opvalu valu size_t axi uint_t num axi positive_axisaxi valu output_arr step transpos axi leftmost dimens necessari valu transposed_valu axi vector size_t perm permspush_backaxi int inputrank axi permspush_backi transposed_valu tosatransposevalu permsperm els transposed_valu valu step slice n b c n b c int transposed_valuerank vector size_t begin_v size_v shape_v begin_valspush_backi size_valspush_back int j j transposed_valuerank j begin_valspush_back size_valspush_backtransposed_valueshapej shape_valspush_backtransposed_valueshapej slice tosaslicetransposed_valu beginbegin_v sizesize_v output_arri tosareshapeslic new_shapeshape_v beginbegin_v sizesize_v combin array slice tensor list tensor output tosaidentitynoutput_arr return output get_transpose_convd_padding_values_from_pad_typ vectorint get_transpose_convd_padding_values_from_pad_typetensorflowpad pad tensorflowtensorformat data_format uint first_filter_spatial_dim type input_typ type filter_typ vector stride vector dilat int pad_befor pad_aft vectorint computed_pad int int ifm_dim gettensorspatialdimindex data_format int ofm_dim gettensorspatialdimindex data_format int filter_dim first_filter_spatial_dim int ifm_siz input_shapeifm_dim int ofm_siz output_dimsofm_dim int filter_s filtershapefilter_dim int dim_dil dilationsi int dim_strid stridesi int effective_filter_s filter_s dim_dil int total_pad ifm_siz dim_strid effective_filter_s ofm_siz total_pad total_pad total_pad pad_befor total_pad pad_aft total_pad pad_befor computed_paddingpush_backpad_befor return computed_pad lower_fused_activ valu lower_fused_activationvalu input string activ bool is_quant isaquantizedtypeinputdtyp true fals is_quant activ none return input els activ relu int quantized_ inputzp int quantized_max inputstorage_max return tosaclampinput min_intquantized_ max_intquantized_max els activ relu int quantized_ inputzp int quantized_ inputzp inputscal return tosaclampinput min_intquantized_ max_intquantized_ els activ relu_n_to_ int quantized_n inputzp inputscal int quantized_ inputzp inputscal return tosaclampinput min_intquantized_n max_intquantized_ els activ none return input els activ relu return tosareluninput max_fpnumeric_limitfloatmax els activ relu return tosareluninput max_fp els activ relu_n_to_ return tosaclampinput min_fp max_fp els activ tanh return tosatanhinput get_table_const_tensor valu get_table_const_tensorfunct func arrayint table_array int table_arrayi funci return tosaconst valuetable_array lower_gather_op valu lower_gather_opvalu param valu indic int batch_dim int axi assert batch_dim indicesrank assert axi batch_dim int n w k c int batch_dim n paramsshapei int batch_dim indicesrank w indicesshapei k paramsshapeaxi int batch_dim axi c paramsshapei int axi paramsrank c paramsshapei vectorint params_idx_batch params_idx_left params_idx_indic params_idx_right int paramsrank batch_dim axi params_idx_batchpush_backi els axi params_idx_leftpush_backi els axi params_idx_indicespush_backi els params_idx_rightpush_backi vectorint params_perm params_idx_batch params_idx_left params_idx_indic params_idx_right vectorint result_perm int batch_dim result_permpush_backi int params_idx_lefts result_permpush_backparams_idx_lefti int batch_dim indicesrank result_permpush_backi int params_idx_rights result_permpush_backparams_idx_righti const_params_perm tosaconst valueparams_perm const_result_perm tosaconst valueresult_perm op_transpose_param tosatransposeparam const_params_perm op_reshape_op tosareshapeop_transpose_param shapenkc op_reshape_indic tosareshapeindic shapenw op_gather_op_op tosagatherop_reshape_op op_reshape_indic op_reshape_op tosareshapeop_gather_op_op shapenwc op_transpose_op tosatransposeop_reshape_op const_result_perm lower_gather_nd_op valu lower_gather_nd_opvalu param valu indic int n w k c nd nd indicesshapeindicesrank assert nd paramsrank int indicesrank w indicesshapei int nd k paramsshapei int nd paramsrank c paramsshapei vectorint flatten_coeff_vec int nd flatten_coeff_vecpush_backi flatten_coeff_vecpush_back const_flatten_coeff tosaconst valueflatten_coeff_vec op_reshape_param tosareshapeparam shapenkc op_reshape_indic tosareshapeindic shapewnd op_mul_op_flatten_coeff tosamulop_reshape_indic const_flatten_coeff op_rsum_op tosareduce_sumop_mul_op_flatten_coeff axi op_reshape_op tosareshapeop_rsum_op shapenw op_gather_op_op tosagatherop_reshape_param op_reshape_op op_reshape_op tosareshapeop_gather_op_op shapenwc lower_one_hot_op valu lower_one_hot_opvalu indic valu depth valu on_valu valu off_valu int axi int n w c int k depthas_const int left_dim right_dim forint indicesrank int dim indicesshapei n dim axi right_dim dim els left_dim dim perm_const tosaconst valu op_reshape_on_valu tosareshapeon_valu shape op_tile_op tosatileop_reshape_on_valu multiplesn w c op_reshape_off_valu tosareshapeoff_valu shape op_tile_op tosatileop_reshape_off_valu multiplesn k c op_reshape_indic tosareshapeindic shapen w op_scatter_op_op_op tosascatterop_tile_op op_reshape_indic op_tile_op op_reshape_op tosareshapeop_scatter_op_op_op shapeleft_dim right_dim k op_transpose_op tosatransposeop_reshape_op perm_const op_reshape_op tosareshapeop_transpose_op shapeoutputshap mlir pass manag legal built multipl mlir pass mlir pass name input dialect output dialect descript legalize_tf tensorflow tosa legal tensorflow dialect tosa dialect fuse_tf_bia tensorflow tosa map tfbiasadd tfconvd tosaconvd legalize_tfl tensorflow tosa legal lite tensorflow lite dialect tosa dialect convert_tfl_uint tensorflow tensorflow convert lite lite quantiz uint graph int graph tf tosa legal could summar follow pseudocod void legalize_tf_to_tosamlirmodul modul mlirpassmanag pm mlir pass optim tf pmaddpassfuse_tf_bia pmaddpasslegalize_tf mlir pass optim tosa tflite tosa legal could summar follow pseudocod void legalize_tfl_to_tosamlirmodul modul mlirpassmanag pm mlir pass optim tflite pmaddpassconvert_tfl_uint pmaddpasslegalize_tfl mlir pass optim tosa pass describ detail subsequ chapter tensorflow mlir dialect legal legalize_tf tfab oper trivial lower tosaab tfaddn tensorflow dialect output tfaddninput tosa lower output tosaaddinput input int inputss output tosaaddinputsi output tfadd elementwis addit tensorflow dialect output tfaddx tosa lower oper trivial lower tosaadd tfaddv elementwis addit tensorflow dialect output tfaddvx tosa lower oper trivial lower tosaadd tfall comput logic element across dimens tensor tensorflow dialect output tfallinput reduction_indici keep_dim tosa lower output lower_reduce_optosareduce_allinput outputshap reduction_indici keep_dim tfani comput logic element across dimens tensor tensorflow dialect output tfanyinput reduction_indici keep_dim tosa lower output lower_reduce_optosareduce_anyinput outputshap reduction_indici keep_dim tfargmax return index largest valu across given axi input tensor tensorflow dialect output tfargmaxinput dimens tosa lower int axi positive_axisdimens output tosaargmaxinput axisaxi tfargmin return index smallest valu across given axi input tensor tensorflow dialect output tfargmininput dimens tosa lower tosa lower defin tfassert assert given condit true tensorflow dialect output tfassertcondit summar tosa lower tosa lower defin tfassignaddvariableop add valu current valu variabl tensorflow dialect output tfassignaddvariableopresourc valu dtype tosa lower tosa lower defin tfassignsubvariableop subtract valu current valu variabl tensorflow dialect output tfassignsubvariableopresourc valu dtype tosa lower tosa lower defin tfassignvariableop assign new valu variabl tensorflow dialect output tfassignvariableopresourc valu dtype tosa lower tosa lower defin tfavgpool perform averag pool input tensorflow dialect output tfavgpoolvalu ksize stride pad data_format tosa lower assertdata_format nhwc tosa_pad get_padding_values_from_pad_typeinput ksize pad data_format format_ohwi stride output tosaavg_pooldvalu ksizeks stridesstrid paddingtosa_pad tfbatchmatmul multipli slice two tensor batch tensorflow dialect output tfbatchmatmulx adj_x adj_i tosa lower tosa lower defin tfbatchmatmulv multipli slice two tensor batch tensorflow dialect output tfbatchmatmulvx adj_x adj_i tosa lower tosa lower defin tfbatchnormwithglobalnorm deprec oper tfbatchtospacend batchtospacend nd tensor type tensorflow dialect output tfbatchtospacendinput block_shap crop tosa lower output lower_batch_to_space_nd_opinput block_shap crop outputshap tfbiasaddgrad train profil tosa lower yet defin tfbiasadd add bia valu tensorflow dialect output tfbiasaddbia valu data_format tosa lower assertdata_format nhwc output tosaaddvalu bia tfbitcast bitcast tensor one type anoth without copi data tensorflow dialect output tfbitcastinput dtype tosa lower tosa lower defin tfbitwiseand oper trivial lower tosabitwise_and tfbitwiseor oper trivial lower tosabitwise_or tfbroadcastgradientarg train profil tosa lower yet defin tfbroadcastto tosa lower defin tfcast oper trivial lower tosacast tfceil oper trivial lower tosaceil tfchecknumer tosa lower defin tfcomplexab tosa lower defin tfcomplex tosa lower defin tfconcatoffset tosa lower defin train profil tosa lower yet defin tfconcat tosa lower defin tfconcatv concaten tensor along one dimens tensorflow dialect output tfconcatvvalu axi tosa lower output lower_concatv_opvalu axi tfconj tosa lower defin tfconst oper trivial lower tosaconst tfconvdbackpropfilt tosa lower defin tfconvdbackpropinput comput gradient convolut respect input tensorflow dialect output tfconvdbackpropinputinput_s filter out_backprop stride use_cudnn_on_gpu pad explicit_pad data_format dilat tosa lower transpos filter hwio ohwi tosa_filt tosatransposefilt perm vector output_shap int input_sizess output_shapepush_backinput_sizei pad explicit tosa_pad get_padding_values_from_explicit_pad_attrexplict_pad data_format els tosa_pad get_transpose_convd_padding_values_from_pad_typeinput_s filter output_shap pad data_format format_hwio stride dilat creat zero bia tensor zero_bia tosaconst valu output tosatranspose_convdout_backprop weighttosa_filt biaszero_bia outpadtosa_pad stridestrid dilationdil out_shapeout_shap tfconvd comput convolut given input filter tensor tensorflow dialect output tfconvdinput filter stride pad explicit_pad data_format dilat tosa lower assertdata_format nhwc transpos filter hwio ohwi filter_tranpos tosatransposefilt perm pad explicit tosa_pad get_padding_values_from_explicit_pad_attrexplict_pad data_format els tosa_pad get_padding_values_from_pad_typeinput filtershap pad data_format format_hwio stride dilat creat zero bia tensor zero_bia tosaconst valu output tosaconvdinput filter_transpos zero_bia paddingtosa_pad stridestrid dilationdil tfconvd tosa lower tosaconvd defin tfco tosa lower defin tfcrossreplicasum tosa lower defin tfdepthtospac depthtospac tensor type tensorflow dialect output tfdepthtospaceinput block_siz data_format tosa lower output lower_depth_to_space_opinput block_siz data_format tfdepthwiseconvdn comput depthwis convlut given input filter tensor tensorflow dialect output tfdepthwiseconvdnativeinput filter stride pad data_format dilat tosa lower pad explicit tosa_pad get_padding_values_from_explicit_pad_attrexplict_pad data_format els tosa_pad get_padding_values_from_pad_typeinput filtershap pad data_format format_hwio stride dilat bias_dim filtershap filtershap creat zerobia tensor zero_bia tosaconst valu bias_dim output tosadepthwise_convdinput filter zero_bia stridestrid dilationdil paddingpad tfdivnonan tosa lower defin tfdiv tosa lower defin tfdynamicstitch tosa lower defin tfeinsum tosa lower defin tfelu comput exponenti linear expfeatur lt featur otherwis tensorflow dialect output tfelufeatur tosa lower output lower_elu_opfeatur tfemptytensorlist tosa lower defin tfequal return truth valu x elementwis broadcast tensorflow dialect output tfequalx tosa lower oper trivial lower tosaequ tfexp oper trivial lower tosaexp tfexpanddim insert dimens tensor shape tensorflow dialect output tfexpanddimsinput axi tosa lower output lower_expand_dimsinput axisto_const tffakequantwithminmaxarg fakequant input tensor type float output tensor type tensorflow dialect output tffakequantwithminmaxargsinput min max num_bit narrow_rang tosa lower output lower_fake_quant_opinput min max num_bit narrow_rang tffakequantwithminmaxvar fakequant input tensor type float via global flat sclar min tensorflow dialect output tffakequantwithminmaxvarsinput min max num_bit narrow_rang tosa lower output lower_fake_quant_opinput outputtyp minto_const maxto_const num_bit narrow_rang tffakequantwithminmaxvarsperchannel fakequant input tensor type float one shape tensorflow dialect output tffakequantwithminmaxvarsperchannelinput min max num_bit narrow_rang tosa lower defin tffill creat tensor fill scalar valu tensorflow dialect output tffilldim valu tosa lower int total_s int dimsshap total_s dimsi vectorvaluedtyp fill_arrtotal_s valu output tosaconst valuefill_arr tffloordiv return x elementwis tensorflow dialect output tffloordivx tosa lower output lower_floor_divlh rh tffloormod return elementwis remaind divis x lt xor x lt true tensorflow dialect output tffloormodx tosa lower output lower_floor_modlh rh tffloor oper trivial lower tosafloor tffusedbatchnormgrad train profil tosa lower yet defin tffusedbatchnormgradv train profil tosa lower yet defin tffusedbatchnormgradv train profil tosa lower yet defin tffusedbatchnorm batch normal tensorflow dialect output tffusedbatchnormx scale offset mean varianc epsilon data_format is_train assertdata_format nhwc assertis_train fals epsilon_const tosaconst valueepsilon op tosasubx bmean op tosaaddvari epsilon_const op tosarsqrtop op tosamulop op op tosamulop scale output tosaaddop offset tffusedbatchnormv batch normal tensorflow dialect output tffusedbatchnormvx scale offset mean varianc epsilon data_format is_train tosa lower assertdata_format nhwc assertis_train fals epsilon_const tosaconst valueepsilon op tosasubx bmean op tosaaddvari epsilon_const op tosarsqrtop op tosamulmean op op tosamulop scale output tosaaddop offset tfgathernd gather slice param tensor shape specifi indic tensorflow dialect output tfgatherndparam indic tosa lower output lower_gather_nd_opparam indici tfgather gather slice param accord indici tensorflow dialect output tfgatherparam indic tosa lower output lower_gather_opparam indici tfgatherv gather slice param axi accord indici tensorflow dialect output tfgathervparam indic axi batch_dim tosa lower output lower_gather_opparam indici batch_dim axisto_const tfgreaterequ return truth valu x gt elementwis broadcast tensorflow dialect output tfgreaterequalx tosa lower oper trivial lower tosagreater_equ tfgreater retrureturn truth valu x gt elementwis broadcast tensorflow dialect output tfgreaterx tosa lower oper trivial lower tosagreat tfhashtablev tosa lower defin tfidentityn return list tensor shape content input tensorflow dialect output tfidentityninput tosa lower output tosaidentityninput tfident return tensor shape content input tensorflow dialect output tfidentityinput tosa lower output tosaidentityinput tfif tosa lower defin tfimag tosa lower defin tfinfeeddequeuetupl tosa lower defin tfinvert oper trivial lower tosabitwise_not tfinvertpermut tosa lower defin tfisfinit tosa lower defin tfiteratorgetnext tosa lower defin tflloss train profil tosa lower yet defin tflrn tosa lower defin tfleakyrelu comput rectifi linear maxfeatur featur alpha tensorflow dialect output tfleakyrelufeatur alpha tosa lower alpha_tensor tosaconst valuealpha features_alpha tosamulfeatur alpha_tensor greater tosagreaterfeatur features_alpha output tosaselectgreat featur features_alpha tfleftshift comput bitwis leftshift x bit elementwis tensorflow dialect output tfleftshiftx tosa lower oper trivial lower tosalogical_left_shift tflegacycal tosa lower defin tflessequ return truth valu x elementwis broadcast tensorflow dialect output tflessequalx tosa lower output_great tosagreaterx output tosalogical_notoutput_great tfless return truth valu x lt elementwis broadcast tensorflow dialect output tflessequalx tosa lower output_greater_equ tosagreater_equalx output tosalogical_notoutput_greater_equ tflinspac tosa lower defin tflogp tosa lower defin tflog oper trivial lower tosalog tflogsoftmax comput log softmax activ tensorflow dialect output tflogsoftmaxlogit tosa lower output lower_log_softmax_oplogit tflogicaland return truth valu x elementwis tensorflow dialect output tflogicalandx tosa lower oper trivial lower tosalogical_and tflogicalnot oper trivial lower tosalogical_not tflogicalor return truth valu x elementwis tensorflow dialect output tflogicalorx tosa lower oper trivial lower tosalogical_or tflookuptablefindv tosa lower defin tflookuptableinputv tosa lower defin tflookuptablesizev tosa lower defin tfmatmul multipli matrix matrix b tensorflow dialect output tfmatmula b tosa lower output tosamatmula b tfmatrixdiag tosa lower defin tfmatrixdiagv tosa lower defin tfmatrixdiagv tosa lower defin tfmatrixsetdiag tosa lower defin tfmatrixsetdiagv tosa lower defin tfmatrixsetdiagv tosa lower defin tfmax comput maximum element across dimens tensor tensorflow dialect output tfmaxinput reduction_indici keep_dim tosa lower output lower_reduce_optosareduce_maxinput outputshap reduction_indici keep_dim tfmaxpoolgrad train profil tosa lower yet defin tfmaxpool perform max pool input tensorflow dialect output tfmaxpoolinput ksize stride pad data_format tosa lower assertdata_format nhwc tosa_pad get_padding_values_from_pad_typeinput ksize pad data_format format_ohwi stride output tosamax_pooldvalu ksizeks stridesstrid paddingtosa_pad tfmaximum oper trivial lower tosamaximum tfmean comput mean element across dimens tensor tensorflow dialect output tfmeaninput reduction_indici keep_dim tosa lower int num_elements_on_axi int axi reduction_indic num_elements_on_axi inputshapeaxi float div_scal num_elements_on_axi cst_div_scal tosaconst valuediv_scal op_rsum_in lower_reduce_optosareduce_suminput outputshap reduction_indici keep_dim op_mul_op tosamulop_rsum_in cst_div_scal tfmin comput minimum element across dimens tensor tensorflow dialect output tfmininput reduction_indici keep_dim tosa lower output lower_reduce_optosareduce_mininput outputshap reduction_indici keep_dim tfminimum oper trivial lower tosamaximum tfmirrorpad tosa lower defin tfmlirpassthroughop tosa lower defin tfmulnonan tosa lower defin tfmul return product x elementwis tensorflow dialect output tfmulx tosa lower oper trivial lower tosamul tfneg oper trivial lower tosaneg tfnoop tosa lower defin tfnonmaxsuppressionv tosa lower defin tfnonmaxsuppressionv tosa lower defin tfnotequ return truth valu x elementwis broadcast tensorflow dialect output tfnotequalx tosa lower equal tosaequalx output tosanotequ tfonehot onehot oper tensorflow lite dialect output tfonehotindic depth on_valu off_valu axi tosa lower output lower_one_hot_opindic depth on_valu off_valu axi tfoutputenqueuetupl tosa lower defin tfpack pack list n rankr tensor one rankr tensor tensorflow dialect output tfpackvalu axi tosa lower output lower_pack_opvalu axi tfpad oper trivial lower tosapad tfpadv tosa lower defin tfparseexamplev tosa lower defin tfpartitionedcal tosa lower defin tfplacehold seen practic lower need tfplaceholderwithdefault seen practic lower need tfpow oper trivial lower tosapow tfpreventgradi train profil tosa lower yet defin tfprod comput product element across dimens tensor tensorflow dialect output tfprodinput reduction_indici keep_dim tosa lower output lower_reduce_optosareduce_productinput outputshap reduction_indici keep_dim tfquantizeanddequant tosa lower defin tfquantizeanddequantizev tosa lower defin tfquantizeanddequantizev tosa lower defin tfrfft tosa lower defin tfrandomshuffl tosa lower defin tfrandomstandardnorm tosa lower defin tfrandomuniform tosa lower defin tfrang tosa lower defin tfrank return rank tensor tensorflow dialect output tfrankinput tosa lower output tosaconst valueinputrank tfreadvariableop tosa lower defin tfrealdiv return x elementwis real type tensorflow dialect output tfrealdivx tosa lower recip tosareciprocali output tosamulx recip tfreal tosa lower defin tfreciproc oper trivial lower tosareciproc tfrelu comput rectifi linear minmaxfeatur tensorflow dialect output tfrelufeatur tosa lower output tosarelunfeatur max_val tfrelugrad train profil tosa lower yet defin tfrelu comput rectifi linear maxfeatur tensorflow dialect output tfrelufeatur tosa lower output tosarelunfeatur max_val tfreshap reshap tensor tensorflow dialect output tfreshapetensor shape tosa lower output tosareshapetensor new_shapeshapeas_const tfresizebilinear resiz imag size use bilinear interpol tensorflow dialect output tfresizebilinearimag size align_corn half_pixel_cent infer output shape tosa lower output lower_resize_opimag size float bilinear tfresizenearestneighbor resiz imag size use nearest neighbor interpol tensorflow dialect output tfresizenearestneighborimag size align_corn half_pixel_cent infer output shape tosa lower output lower_resize_opimag size output float nearest_neighbor tfresourceapplyadam train profil tosa lower yet defin tfresourceapplygradientdesc train profil tosa lower yet defin tfresourceapplykerasmomentum train profil tosa lower yet defin tfresourcegath train profil tosa lower yet defin tfresourcescatterupd train profil tosa lower yet defin tfreversesequ tosa lower defin tfreversev revers specif dimens tensor tensorflow dialect output tfreversevtensor axi tosa lower output lower_reversev_optensor axi tfrightshift comput bitwis leftshift x bit elementwis tensorflow dialect output tfleftshiftx tosa lower is_unsignedxdtyp output tosalogical_right_shiftx els output tosaarithmetic_right_shiftx tfround round valu tensor nearest integ elementwis tensorflow dialect output tfroundx tosa lower output lower_round_opx tfrsqrtgrad train profil tosa lower yet defin tfrsqrt oper trivial lower tosarsqrt tfsegmentmax tosa lower defin tfsegmentmean tosa lower defin tfsegmentmin tosa lower defin tfsegmentprod tosa lower defin tfsegmentsum tosa lower defin tfselect tosa lower defin tfselectv select element e depend condit tensorflow dialect output tfselectvcondit e tosa lower output lower_selectv_opcondit e outputshap tfshapen tosa lower defin tfshape return shape tensor tensorflow dialect output tfshapeinput tosa lower output lower_shape_opinput tfsigmoid oper trivial lower tosasigmoid tfsign tosa lower defin tfsin tosa lower defin tfsize tosa lower defin tfslice return slice input tensorflow dialect output tfsliceinput begin size tosa lower vector size_t output_s tri output_s sizeas_const exceptconversionfail output_s outputshap output tosasliceinput startbegin sizeoutput_s tfsnapshot tosa lower defin tfsoftmaxcrossentropywithlogit train profil tosa lower yet defin tfsoftmax comput softmax activ tensorflow dialect output tfsoftmaxlogit tosa lower op tosaexplogit op tosareduce_sumop reduce_axislogitsrank op tosareciprocalop output tosamulop op tfsoftplu tosa lower defin tfspacetobatchnd spacetobatch nd tensor type tensorflow dialect output tfspacetobatchndinput block_shap pad tosa lower output lower_space_to_batch_nd_opinput block_shap pad tfspacetodepth spacetodepth tensor type tensorflow dialect output tfspacetodepthinput block_siz data_format tosa lower output lower_space_to_depth_opinput block_siz data_format tfsparsematmul tosa lower defin tfsparsesoftmaxcrossentropywithlogit tosa lower defin tfsparsetodens tosa lower defin tfsplit split tensor num_split tensor along one dimens tensorflow dialect output tfsplitsplit_dim valu num_split tosa lower output lower_split_opvalu split_dimas_const num_split tfsplitv split tensor num_split tensor along one dimens tensorflow dialect output tfsplitvvalu size_split split_dim num_split tosa lower output lower_splitv_opvalu size_splitsas_const split_dimas_const tfsqrt tosa lower defin tfsquar comput squar x elementwis tensorflow dialect output tfsquarex tosa lower output tosamulx x tfsquarediffer comput xyxi elementwis tensorflow dialect output tfsquaredifferencex tosa lower diff tosasubx output tosamuldiff diff tfsqueez remov dimens size shape tensor tensorflow dialect output tfsqueezeinput squeeze_dim tosa lower output lower_squeeze_opinput squeeze_dim tfstatefulpartitionedcal tosa lower defin tfstopgradi train profil tosa lower yet defin tfstridedslicegrad train profil tosa lower yet defin tfstridedslic return stride slice input tensorflow dialect output tfstridedsliceinput begin end stride begin_mask end_mask ellipsis_mask new_axis_mask shrink_axis_mask tosa lower output lower_strided_slice_opinput begin end stride begin_mask end_mask ellipsis_mask new_axis_mask shrink_axis_mask tfsub oper trivial lower tosasub tfsum comput sum element across dimens tensor tensorflow dialect output tfsuminput reduction_indici keep_dim tosa lower output lower_reduce_optosareduce_suminput outputshap reduction_indici keep_dim tftpucompilationresult tosa lower defin tftpucopywithlayout tosa lower defin tftpuexecuteandupdatevari tosa lower defin tftpuexecut tosa lower defin tftpugetlayout tosa lower defin tftpureplicatemetadata tosa lower defin tftpureplicatedinput tosa lower defin tftpureplicatedoutput tosa lower defin tftpureshardvari tosa lower defin tftanhgrad train profil tosa lower yet defin tftanh oper trivial lower tosatanh tftensorlistfromtensor tosa lower defin tftensorlistgetitem tosa lower defin tftensorlistlength tosa lower defin tftensorlistpushback tosa lower defin tftensorlistreserv tosa lower defin tftensorlistres tosa lower defin tftensorlistsetitem tosa lower defin tftensorliststack tosa lower defin tftensorscatterupd tosa lower defin tftile construct tensor tile given tensor tensorflow dialect output tftileinput multipl tosa lower output tosatileinput multiplesmultiplesas_const tftobool tosa lower defin tftopkv tosa lower defin tftranspos shuffl dimens x accord permut tensorflow dialect output tftransposex perm tosa lower output tosatransposex permpermas_const tftruncatediv tosa lower defin tfuniqu tosa lower defin tfunpack unpack given dimens rankr tensor num rankr tensor tensorflow dialect output tfunpackvalu axi num tosa lower output lower_unpack_opvalu axi num tfunsortedsegmentmax tosa lower defin tfunsortedsegmentmin tosa lower defin tfunsortedsegmentprod tosa lower defin tfunsortedsegmentsum tosa lower defin tfvarhandl tosa lower defin tfvariableshap tosa lower defin tfwhere tosa lower defin tfwhile tosa lower defin tfxdivi tosa lower defin tfxladynamicupdateslic tosa lower defin tfxlashard tosa lower defin tfzeroslik return tensor zero shape type x tensorflow dialect output tfzeroslikex tosa lower output tosaconst valu xnum_el tensorflow lite mlir dialect legal legalize_tfl tflab oper trivial lower tosaab tfladd_n add_n oper tensorflow lite dialect sum tfladd_ninput tosa lower output tosaaddinput input int inputss output tosaaddinputsi output tfladd elementwis addit oper tensorflow lite dialect output tfladdlh rh tosa lower inputoutput tensor nonquant type legal result tosaaddlh rh inputoutput tensor quantiz type prepar float max_scale_x maxlhsscal rhsscale float lhs_scale float input_shift lhsscale max_scale_x float rhs_scale float input_shift rhsscale max_scale_x float output_scal max_scale_x outputscal float input_shift legal op_rescale_lh tosarescalelh scalelhs_scal input_zplhszp output_zp lhsdtypei op_rescale_rh tosarescalerh scalerhs_scal input_zprhszp output_zp rhsdtypei op_add_op_op tosaaddop_rescale_lh op_rescale_rh op_rescale_op tosarescaleop_add_op_op scaleoutput_scal ioutputdtyp tflarg_max argmax oper tensorflow lite dialect output tflarg_maxinput dim tosa lower result tosaargmaxinput axispositive_axisdim_constas_const inputrank tflarg_min tosa lower defin tflaverage_pool_d average_pool_d oper tensorflow lite dialect output tflaverage_pool_dinput filter_height filter_width pad stride_h stride_w fused_activation_funct tosa lower prepar tosa_pad get_padding_values_from_pad_typepad nhwc inputtyp tensorfilter_height filter_width tosaint stride_h stride_w inputoutput tensor nonquant type legal avgpoold tosaavg_pooldinput kernelfilter_height filter_width stridestride_h stride_w paddingtosa_pad iffused_activ none result convert_fused_activationavgpoold fused_activ els result avgpoold inputoutput tensor quantiz type legal avgpoold tosaavg_pooldinput kernelfilter_height filter_width stridestride_h stride_w paddingtosa_pad quantization_infoinput_zpinputzp output_zpoutputzp iffused_activ none result convert_fused_activationavgpoold fused_activ els result avgpoold tflbasic_lstm tosa lower defin tflbatch_to_space_nd batchtospacend oper tensorflow lite dialect output tflbatch_to_space_ndinput block_shap indic tosa lower result convert_batch_to_space_nd_opinput block_shap indic tflcast oper trivial lower tosacast tflceil ceil oper tensorflow lite dialect tflceilx tosa lower inputoutput tensor nonquant type result tosaceilx tflconcaten concaten oper tensorflow lite dialect output tflconcatenationvalu axi tosa lower result lower_concatv_opvalu axi tflpseudo_const oper trivial lower tosaconst tflconv_d convolut oper tensorflow lite dialect output tflconv_dinput filter bia dilation_h_factor dilation_w_factor fused_activation_funct pad stride_h stride_w tosa lower inputoutput tensor nonquant type prepar tosa_pad get_padding_values_from_pad_typepad nhwc inputtyp filtertyp stride_h stride_w dilation_h_factor dilation_w_factor legal convd tosaconvdinput filter bia paddingtosa_pad stridestride_h stride_w dilationdilation_h_factor dilation_w_factor iffused_activ none result convert_fused_activationconvd fused_activation_funct els result convd inputoutput tensor quantiz type prepar float output_rescale_scal inputscal filterscal outputscal tosa_pad get_padding_values_from_pad_typepad nhwc inputtyp filtertyp stride_h stride_w dilation_h_factor dilation_w_factor legal convd tosaconvdinput filter bia paddingtosa_pad stridestride_h stride_w dilationdilation_h_factor dilation_w_factor quantization_infoinput_zpinputzp weight_zpfilterzp rescal tosarescaleconvd scaleoutput_rescale_scal input_zp output_zpoutputzp convddtypeoutputdtyp iffused_activ none result convert_fused_activationrescal fused_activation_funct els result rescal tflconvolution_d_transpose_bia tosa lower defin tflco tosa lower defin tfldensifi tosa lower defin tfldepth_to_spac depthtospac oper tensorflow dialect output tfldepth_to_spaceinput block_siz tosa lower output lower_depth_to_space_opinput block_siz nhwc tfldepthwise_conv_d depthwisesepar convolut oper tensorflow lite dialect output tfldepthwise_conv_dinput filter bia dilation_h_factor dilation_w_factor fused_activation_funct pad stride_h stride_w depth_multipli tosa lower inputoutput tensor nonquant type prepar tosa_pad get_padding_values_from_pad_typepad nhwc inputtyp filtertyp stride_h stride_w dilation_h_factor dilation_w_factor legal depthwise_convd tosadepthwise_convdinput filter bia paddingtosa_pad stridestride_h stride_w dilationdilation_h_factor dilation_w_factor iffused_activ none result convert_fused_activationdepthwise_convd fused_activation_funct els result depthwise_convd inputoutput tensor quantiz type prepar float output_rescale_scal inputscal filterscal outputscal tosa_pad get_padding_values_from_pad_typepad nhwc inputtyp filtertyp stride_h stride_w dilation_h_factor dilation_w_factor legal depthwise_convd tosadepthwise_convdinput filter bia paddingtosa_pad stridestride_h stride_w dilationdilation_h_factor dilation_w_factor quantization_infoinput_zpinputzp weight_zpfilterzp rescal tosarescaleconvd scaleoutput_rescale_scal input_zp output_zpoutputzp depthwise_convddtypeoutputdtyp iffused_activ none result convert_fused_activationrescal fused_activation_funct els result rescal tfldequant dequant oper tensorflow lite dialect output tfldequantizeinput tosa lower result lower_dequantize_opinput inputscal inputzp tfldiv divis oper tensorflow lite dialect output tfldivlh rh tosa lower inputoutput tensor nonquant type rcp tosareciprocalrh mul tosamullh rcp tflelu exponenti linear unit oper tensorflow lite dialect tflelux tosa lower inputoutput tensor nonquant type rcp lower_elu_opx tflembedding_lookup embed lookup oper tensorflow lite dialect output tflembedding_lookuplookup valu tflequal oper trivial lower tosaequ tflexp natur exponenti oper tensorflow lite dialect tflexpx tosa lower inputoutput tensor nonquant type result tosaexpx tflexpand_dim insert dimens tensor shape tensorflow lite dialect output tflexpand_dimsinput dim tosa lower result lower_expand_dimsinput dimas_const tflexternal_const tosa lower defin tflfake_qu fakequ oper tensorflow lite dialect output tflfake_quantinput min max num_bit narrow_rang tosa lower result convert_fake_quant_opinput min max num_bit narrow_rang tflfill fill tensor given valu tensorflow lite dialect re tflfilldim valu tosa lower prepar total_s dim_vec dimas_const forint dim_vecs total_s dim_veci filled_v valueas_const output_typ tensordim_vec filled_valdtyp legal result tosaconst valuefilled_v total_s tflfloor_div floor div oper tensorflow lite dialect output tflfloor_divlh rh tosa lower inputoutput tensor nonquant type recip tosareciprocalrh mul tosamullh recip result tosafloormul tflfloor_mod divis remaind tensorflow lite dialect output tflfloor_modlh rh tosa lower inputoutput tensor nonquant type recip tosareciprocalrh mul tosamullh recip floor tosafloormul result tosasubmul floor tflfloor oper trivial lower tosafloor tflfully_connect fulli connect op tensorflow lite dialect output tflfully_connectedinput filter bia fused_activation_funct tosa lower inputoutput tensor nonquant type prepar inputn ic x filteroc ic biasoc outputn oc auto input_reshape_shap inputnum_el filtershap filtershap legal ifbia bias_val tosaconst valu filtershap els bias_val bia ifinputrank input_v tosareshapeinput shapeinput_reshape_shap els input_v input fc tosafully_connectedinput_v filter bias_val iffused_activ none result convert_fused_activationfc fused_activation_funct els result fc inputoutput tensor quantiz type prepar auto input_reshape_shap inputnum_el filtershap filtershap float output_rescale_scal inputscal filterscal outputscal legal ifbia bias_val tosaconst valu filtershap els bias_val bia ifinputrank input_v tosareshapeinput shapeinput_reshape_shap els input_v input fc tosafully_connectedinput_v filter bias_val rescal tosarescalefc scaleoutput_rescale_scal input_zp output_zpoutputzp fcdtypeoutputdtyp iffused_activ none result convert_fused_activationrescal fused_activation_funct els result rescal tflgather_nd gather_nd oper tensorflow dialect output tflgather_ndparam indic tosa lower output lower_gather_nd_opparam indici tflgather gather oper tensorflow dialect output tflgatherparam indic axi tosa lower output lower_gather_opparam indici axi tflgreater_equ oper trivial lower tosagreater_equ tflgreater oper trivial lower tosagreat tflhard_swish hardswish activ function tensorflow lite dialect output tflhard_swishinput tosa lower inputoutput tensor nonquant type const_ tosaconst valu const_rcp tosaconst valu op_add_in_ tosaaddinput const_ op_relun_op tosarelunop_add_in_ max op_mul_in_op tosamulinput op_relun_op op_mul_op_rcp tosamulop const_rcp inputoutput tensor quantiz type prepar float input_sample_grain auto hardswish_func input_sample_grainint x int float v floatx input_sample_grain float w v w w w w v v w return stdlround v float input_rescale_scal inputscal input_sample_grain float output_rescale_scal outputscal int quantized_ intstdceil inputscal inputzp legal table_const get_table_const_tensorhardswish_func const_ tosaconst valuequantized_ op_rescale_in tosarescaleinput scaleinput_rescale_scal input_zpinputzp output_zp inputdtypei op_table_op tosatableop_rescale_in table_const op_rescale_op tosarescaleop_table_op scaleoutput_rescale_scal input_zp output_zpoutputzp ioutputdtyp op_rescale_in tosarescaleinput scale input_zp output_zp inputdtypei op_ge_op tosagreater_equalop_rescale_in const_ op_select_op_in_op tosaselectop_ge_op input op_rescale_op tfll_normal tosa lower defin tfllstm tosa lower defin tflleaky_relu leaki relu oper tensorflow lite dialect output tflleaky_reluinput alpha tosa lower inputoutput tensor nonquant type legal const_ tosaconst valu const_alpha tosaconst valuealpha op_mul_in_alpha tosamulinput const_alpha op_ge_in_ tosagreater_equalinput const_ op_select_op_in_op tosaselectop_ge_in_ input op_mul_in_alpha inputoutput tensor quantiz type prepar float scaled_alpha inputscal alpha outputscal float scaled_ident inputscal outputscal legal const_ tosaconst valu op_rescale_in tosarescaleinput scale input_zpinputzp inputdtypei op_ge_in_ tosagreater_equalinput const_ op_rescale_in_alpha tosarescaleinput scalescaled_alpha input_zpinputzp output_zpoutput_zp inputdtypeoutputdtyp op_rescale_in_ident tosarescaleinput scalescaled_ident input_zpinputzp output_zpoutput_zp inputdtypeoutputdtyp op_select_op_op_op tosaselectop_ge_in_ op_rescale_in_ident op_rescale_in_alpha tflless_equ less_equ oper tensorflow lite dialect output tflless_equallh rh tosa lower inputoutput tensor nonquant type legal op_greater_lhs_rh tosagreaterlh rh op_not_op tosalogical_notop_greater_lhs_rh inputoutput tensor quantiz type legal assert lhsscale rhsscale lhszp rhszp op_rescale_lh tosarescalelh scale input_zplhszp output_zp lhsdtypei op_rescale_rh tosarescalerh scale input_zprhszp output_zp rhsdtypei op_greater_op_op tosagreaterop_rescale_lh op_rescale_rh op_not_op tosalogical_notop_greater_op_op tflless less oper tensorflow lite dialect output tfllesslh rh tosa lower inputoutput tensor nonquant type legal op_ge_lhs_rh tosagreater_equallh rh op_not_op tosalogical_notop_ge_lhs_rh inputoutput tensor quantiz type legal assert lhsscale rhsscale lhszp rhszp op_rescale_lh tosarescalelh scale input_zplhszp output_zp lhsdtypei op_rescale_rh tosarescalerh scale input_zprhszp output_zp rhsdtypei op_ge_op_op tosagreater_equalop_rescale_lh op_rescale_rh op_not_op tosalogical_notop_ge_op_op tfllocal_response_norm tosa lower defin tfllog tosa lower defin tfllog_softmax log softmax oper tensorflow lite dialect output tfllog_softmaxinput tosa lower inputoutput tensor nonquant type legal output lower_log_softmax_oplogit tosa lower defin inputoutput tensor quantiz type tfllogical_and oper trivial lower tosalogical_and tfllogical_not oper trivial lower tosalogical_not tfllogical_or oper trivial lower tosalogical_or tfllogist logist oper tensorflow lite dialect tfllogisticx tosa lower inputoutput tensor nonquant type legal op_sigmoid_in tosasigmoidx inputoutput tensor quantiz type prepar float input_sample_grain auto sigmoid_func input_sample_grainint x int float v static_castfloatx input_sample_grain v stdexpv return stdlround v float input_rescale_scal xscale input_sample_grain float output_rescale_scal yscale legal table_const get_table_const_tensorsigmoid_func op_rescale_in tosarescalex scaleinput_rescale_scal input_zpxzp output_zp xdtypei op_table_op tosatableop_rescale_in table_const op_rescale_op tosarescaleop_table_op scaleoutput_rescale_scal input_zp output_zpyzp intydtyp tflmatrix_diag tosa lower defin tflmatrix_set_diag tosa lower defin tflmax_pool_d max pool op tensorflow lite dialect output tflmax_pool_dinput filter_height filter_width pad stride_h stride_w fused_activation_funct tosa lower prepar tosa_pad get_padding_values_from_pad_typepad nhwc inputtyp tensorfilter_height filter_width tosaint stride_h stride_w inputoutput tensor nonquant type legal maxpoold tosamax_pooldinput kernelfilter_height filter_width stridestride_h stride_w paddingtosa_pad iffused_activ none result convert_fused_activationmaxpoold fused_activ els result maxpoold inputoutput tensor quantiz type legal maxpoold tosamax_pooldinput kernelfilter_height filter_width stridestride_h stride_w paddingtosa_pad quantization_infoinput_zpinputzp output_zpoutputzp iffused_activ none result convert_fused_activationmaxpoold fused_activ els result maxpoold tflmax_pooling_with_argmax_d tosa lower defin tflmax_unpooling_d tosa lower defin tflmaximum oper trivial lower tosamaximum tflmean mean oper tensorflow lite dialect output tflmeaninput axi keep_dim tosa lower prepar int num_elements_on_axi int axi reduction_indic num_elements_on_axi inputshapeaxi float div_scal num_elements_on_axi inputoutput tensor nonquant type legal cst_div_scal tosaconst valuediv_scal op_rsum_in lower_reduce_optosareduce_suminput outputshap axi keep_dim op_mul_op tosamulop_rsum_in cst_div_scal inputoutput tensor quantiz type legal rsum lower_reduce_optosareduce_sumop_rescale_in outputshap reduction_indici keep_dim f input_zp div_scal inputscal outputscal outputzp tflminimum oper trivial lower tosaminimum tflmirror_pad tosa lower defin tflmul mul oper tensorflow lite dialect output tflmullh rh tosa lower inputoutput tensor nonquant type legal op_mul_in tosamullh rh inputoutput tensor quantiz type legal op_rescale_lh tosarescalelh scalef input_zplhszp output_zp lhsdtypei op_rescale_rh tosarescalerh scalef input_zprhszp output_zp rhsdtypei op_mul_op_op tosamulop_rescale_lh op_rescale_rh op_rescale_op tosarescaleop_mul_op_op scalelhsscal rhsscale outputscal input_zp output_zpoutputzp ioutputdtyp tflneg oper trivial lower tosaneg tflnon_max_suppression_v tosa lower defin tflnon_max_suppression_v tosa lower defin tflnot_equ not_equ oper tensorflow lite dialect output tflnot_equallh rh tosa lower inputoutput tensor nonquant type legal op_equal_lhs_rh tosaequallh rh op_not_op tosalogical_notop_equal_lhs_rh inputoutput tensor quantiz type legal assert lhsscale rhsscale lhszp rhszp op_rescale_lh tosarescalelh scalef input_zplhszp output_zp lhsdtypei op_rescale_rh tosarescalerh scalef input_zprhszp output_zp rhsdtypei op_equal_op_op tosaequalop_rescale_lh op_rescale_rh op_not_op tosalogical_notop_equal_op_op ioutputdtyp tflnumericverifi tosa lower defin tflone_hot onehot oper tensorflow lite dialect output tflone_hotindic depth on_valu off_valu axi tosa lower output lower_one_hot_opindic depth on_valu off_valu axi tflprelu tosa lower defin tflpack pack list tensor along dimens one tensor tensorflow dialect output tfpackvalu axi tosa lower output lower_pack_opvalu axi tflpad oper trivial lower tosapad tflpadv tosa lower defin tflpow tosa lower defin tflpseudo_qconst oper trivial lower tosaconst tflquantiz quantiz oper tensorflow lite dialect output tflquantizeinput tosa lower legal isaquantizedtypeinputdtyp op_rescale_in tosarescaleinput scaleinputscal outputscal input_zpinputzp output_zpoutputzp els output lower_quantize_opoutputdtyp input outputzp outputscal tflrang tosa lower defin tflrank rank oper tensorflow lite dialect output tflrankinput tosa lower legal const tosaconst valueinputrank tflreduce_ani comput logic element across dimens tensor tensorflow lite dialect output tflreduce_anyinput reduction_indic keep_dim tosa lower legal op_rsum_in lower_reduce_optosareduce_anyinput outputshap reduction_indici keep_dim tflreduce_max maxreduct oper tensorflow lite dialect output tflreduce_maxinput axe keep_dim tosa lower legal op_rsum_in lower_reduce_optosareduce_maxinput outputshap reduction_indici keep_dim tflreduce_min comput min reduct along specifi axe tensorflow lite dialect output tflreduce_mininput axe keep_dim tosa lower legal op_rsum_in lower_reduce_optosareduce_mininput outputshap reduction_indici keep_dim tflreduce_prod prodreduct oper tensorflow lite dialect output tflreduce_prodinput axe keep_dim tosa lower inputoutput tensor float type legal op_rsum_in lower_reduce_optosareduce_prodinput outputshap reduction_indici keep_dim tflrelu_n_to_ tosa lower defin tflrelu relu oper tensorflow lite dialect tflrelux tosa lower inputoutput tensor nonquant type legal op_relun_in tosareluninput max_int max_fp inputoutput tensor quantiz type legal op_rescale_in tosarescalelh scalexscal yscale input_zpxzp output_zp xdtypei op_relun_op tosarelunop_rescale_in max_int yscale max_fp op_rescale_op tosarescaleop_relun_op scale input_zp output_zpyzp iydtyp tflrelu relu oper tensorflow lite dialect tflrelux tosa lower inputoutput tensor nonquant type legal op_relun_in tosareluninput max_int max_fpstdnumeric_limitsfloatmax inputoutput tensor quantiz type legal op_rescale_in tosarescalelh scalexscal yscale input_zpxzp output_zp xdtypei op_relun_op tosarelunop_rescale_in max_intstdnumeric_limitsintmax max_fp op_rescale_op tosarescaleop_relun_op scale input_zp output_zpyzp iydtyp tflreshap oper trivial lower tosareshap tflresize_bilinear resizebilinear op tensorflow lite dialect output tflresize_bilinearinput size aligned_corn half_pixel_cent tosa lower output lower_resize_opinput size inputdtyp bilinear tflresize_nearest_neighbor resizebilinear op tensorflow lite dialect output tflresize_bilinearinput size aligned_corn half_pixel_cent tosa lower output lower_resize_opinput size inputdtyp nearest_neighbor tflreverse_sequ tosa lower defin tflreverse_v reversev oper tensorflow lite dialect output tflreverse_vinput axi tosa lower output lower_reversev_optensor axi tflround round oper tensorflow lite dialect output tflroundinput tosa lower const_half tosaconst valu op_add_in_half tosaaddinput const_half op_floor_op tosafloorop_add_in_half tflrsqrt tosa lower defin tflsvdf tosa lower defin tflsegment_sum tosa lower defin tflselect oper trivial lower tosaselect tflselect_v oper trivial lower tosaselect tflshape shape oper tensorflow lite dialect output tflshapeinput tosa lower legal const tosaconst valueinputshap tflsin tosa lower defin tflslice oper trivial lower tosaslic tflsoftmax softmax oper tensorflow lite dialect output tflsoftmaxinput tosa lower inputoutput tensor nonquant type legal op_exp_in tosaexpinput op_rsum_op tosareduce_sumop_exp_in axisinputrank op_rcp_op tosareciprocalop op_mul_op_op tosamulop op inputoutput tensor quantiz type prepar float exp_sample_grain auto exp_func exp_sample_grainint x int doubl v static_castfloatx exp_sample_grain v v stdexpv return stdlround v float one_over_one_plus_x_sample_grain auto one_over_one_plus_x_func one_over_one_plus_x_sample_grainint x int doubl v static_castfloatx one_over_one_plus_x_sample_grain v v v return stdlround v float op_rescale_scal inputscal exp_sample_grain float op_rescale_scal outputscal legal const_exp_t get_table_const_tensorexp_func const_one_over_one_plus_x_t get_table_const_tensorone_over_one_plus_x_func const_ tosaconst valu const_ tosaconst valu const__to_ tosaconst valu const_ tosaconst valu op_rescale_in tosarescalelh scalef input_zpxzp output_zp xdtypei op_rmax_op tosareduce_maxop_rescale_in axisinputrank op_sub_op_op tosasubop_rescale_in op_relun_op op_rescale_op tosarescaleop_sub_op_op scaleop_rescale_scal input_zp output_zp ii op_table_op tosatableop_rescale_op const_exp_t op_rshift_op_ tosaarithmetic_right_shiftop_table_op const_ op_rsum_op tosareduce_sumop_rshift_op_ axisinputrank op_clz_op tosaclzop_rsum_op op_sub__op tosasubconst_ op_clz_op op_lshift_op_op tosalogical_left_shiftop_rsum_op op_clz_op op_sub_op tosasubop_lshift_op_op const__to_ op_rshift_op_ tosaarithmetic_right_shiftop_sub_op const_ op_cast_op tosacastop_rshift_op_ ii op_table_op tosatableop_cast_op const_one_over_one_plus_x_t op_rescale_op tosarescaleop_table_op scale input_zp output_zp ii op_rescale_op tosarescaleop_table_op scale input_zp output_zp ii op_mul_op_op tosamulop_rescale_op op_rescale_op op_rshift_op_op tosaarithmetic_right_shiftop_mul_op_op op_sub__op op_rescale_op tosarescaleop_rshift_op_op scaleop_rescale_scal input_zp output_zpoutputzp tflspace_to_batch_nd spacetobatchnd oper tensorflow dialect output tflspace_to_batch_ndinput block_shap pad tosa lower output lower_space_to_batch_nd_opinput block_shap pad tflspace_to_depth spacetodepth oper tensorflow dialect output tflspace_to_depthinput block_siz tosa lower output lower_space_to_depth_opinput block_siz nhwc tflpseudo_sparse_const tosa lower defin tflpseudo_sparse_qconst tosa lower defin tflsparse_to_dens tosa lower defin tflsplit split tensor num_split tensor along one dimens tensorflow dialect output tflsplitsplit_dim valu num_split tosa lower output lower_split_opvalu split_dimas_const num_split tflsplit_v split tensor num_split tensor along one dimens tensorflow dialect output tflsplit_vvalu size_split split_dim num_split tosa lower output lower_splitv_opvalu size_splitsas_const split_dimas_const tflsqrt tosa lower defin tflsquar squar oper tensorflow lite dialect tflsquarex tosa lower inputoutput tensor nonquant type legal op_mul_in tosamulx x inputoutput tensor quantiz type legal op_rescale_x tosarescalex scalef input_zpxzp output_zp xdtypei op_mul_op_op tosamulop_rescale_x op_rescale_x op_rescale_op tosarescaleop_mul_op_op scalexscal xscale outputscal input_zp output_zpyzp iydtyp tflsquared_differ squar differ oper tensorflow lite dialect output tflsquared_differencelh rh tosa lower legal op_sub_in tosasublh rh op_mul_op tosamulop_sub_in op_sub_in tflsqueez remov dimens size shape tensor tensorflow dialect output tflsqueezeinput squeeze_dim tosa lower output lower_squeeze_opinput squeeze_dim tflstrided_slic stridedslic op tensorflow dialect output tflstrided_sliceinput begin end stride begin_mask end_mask ellipsis_mask new_axis_mask shrink_axis_mask tosa lower output lower_strided_slice_opinput begin end stride begin_mask end_mask ellipsis_mask new_axis_mask shrink_axis_mask tflsub oper trivial lower tosasub tflsum sum oper tensorflow lite dialect output tflsuminput axi keep_dim tosa lower inputoutput tensor nonquant type legal op_rsum_in lower_reduce_optosareduce_suminput outputshap axi keep_dim inputoutput tensor quantiz type legal rsum lower_reduce_optosareduce_sumop_rescale_in outputshap reduction_indici keep_dim f input_zp inputscal outputscal outputzp tfltanh hyperbol tangent oper tensorflow lite dialect tfltanhx tosa lower inputoutput tensor nonquant type legal op_tanh_in tosatanhx inputoutput tensor quantiz type prepar float input_sample_grain auto tanh_func input_sample_grainint x int float v static_castfloatx input_sample_grain v stdexp v v v v return stdlround v float input_rescale_scal xscale input_sample_grain float output_rescale_scal yscale legal table_const get_table_const_tensortanh_func op_rescale_in tosarescalex scaleinput_rescale_scal input_zpxzp output_zp xdtypei op_table_op tosatableop_rescale_in table_const op_rescale_op tosarescaleop_table_op scaleoutput_rescale_scal input_zp output_zpyzp intydtyp tfltile oper trivial lower tosatil tfltopk_v tosa lower defin tfltranspose_conv transpos convolut oper tensorflow lite dialect output tfltranspose_convoutput_shap weight input pad stride_h stride_w tosa lower prepar tosa_pad get_transpose_convd_padding_values_from_pad_typeinputtyp weightstyp output_shap pad nhwc format_hwio stride_h stride_w inputoutput tensor nonquant type legal bia tosaconst valu outputshap convd tosatranspose_convdinput weight bia paddingtosa_pad stridestride_h stride_w dilat inputoutput tensor quantiz type prepar float output_rescale_scal inputscal weightsscal outputscal legal bia tosaconst valu outputshap convd tosatranspose_convdinput weight bia paddingtosa_pad stridestride_h stride_w dilat rescal tosarescaleconvd scaleoutput_rescale_scal input_zp output_zpoutputzp convddtypeoutputdtyp tfltranspos oper trivial lower tosatranspos tflunidirectional_sequence_lstm tosa lower defin tflunidirectional_sequence_rnn tosa lower defin tfluniqu tosa lower defin tflunpack unpack tensor along dimens multipl tensor tensorflow dialect output tflunpackinput num axi tosa lower output lower_unpack_opinput axi num tflwhere tosa lower defin tflwhile tosa lower defin tflyield oper trivial lower tosayield tflzeros_lik zeroslik oper tensorflow dialect output tflzeros_likeinput tosa lower output tosaconst valu inputnum_el fuse_tf_bia legal tfconvd tfbiasadd tosaconvd current n map tosa legal convd tfconvdinput filter bias_add tfbiasaddconvd bia convd tosaconvdinput filter bia convert_tfl_uint pass three thing convert const quantiz uint quantiz int valu within remap well input placehold quantiz uint type insert tosarescal scale input_zpinput_zp output_zpinput_zp quqi output tensor quantiz uint type insert tosarescal scale input_zpoutput_zp output_zpoutput_zp qiqu mlirhlo standalon hlo mlirbas compil code exist two place httpsgithubcomtensorflowtensorflowtreemastertensorflowcompilermlirhlo canon locat contribut made use github pullrequest httpsgithubcomtensorflowmlirhlo standalon repositori view code allow project use without depend entir tf monorepo implement selfcontain compil linear algebra set oper inspir xla hlo irhttpswwwtensorfloworgxlaarchitecturehow_does_xla_work use mlir compon design provid endtoend flow independ tensorflow xla usabl insid project code practic convent repositori follow mlir develop guidehttpsmlirllvmorggetting_starteddeveloperguid repo part intent act incub technolog upstream quickstart build test instruct work linux may adjust platform build code repositori need clone llvmmlir git repositori git clone httpsgithubcomllvmllvmprojectgit need make sure right commit check llvm repositori need everi time pull repo cd llvmproject git checkout cat build_toolsllvm_versiontxt provid script configur build llvmmlir build_toolsbuild_mlirsh pwdllvmproject pwdllvmbuild someth everi time pull repositori llvm revis chang final build test repositori mkdir build cd build cmake gninja dllvm_enable_lldon dcmake_build_typereleas dllvm_enable_assertionson dmlir_dirpwdllvmbuildlibcmakemlir ninja checkmlirhlo overview mlirhlo aim provid endtoend compil cpu gpu well build reusabl block acceler heavili inspir success xla xlahttpswwwtensorfloworgxla acceler linear algebra domainspecif compil framework execut environ linear algebra power codegener ml framework like tensorflow jax other cornerston xla hlo high level optim ir offer care fix select list oper mostli orthogon provid effici optim comput express set oper gener code hardwar platform like cpu gpu tpu goal provid uniform interfac compil execut optim hlo program independ target devic frontend ml system like tensorflow jax rather backend framework optim hlo lower machin code hlo set oper close well defin semant hlo oper oper immut tensor static shape actual bound shape exact explicit broadcast mlirhttpsmlirllvmorg compil infrastructur intend come batteri includ intend provid block requir assembl graph optim codegen pipelin longer term roadmap mlir provid tensor comput primitivehttpsllvmdiscoursegroupcmlirmlirtcpwg tcp dialect hope gener enough model hlo repres today see slideshttpsdrivegooglecomopenidiljcptqnpamfgpopdfmlxkyxjk_a recordinghttpsdrivegooglecomopenidjspatwpkutwulqugcogsuvyjhmvwz technic discuss topic work mlirhlo seen step stone toward build tcp integr intermedi compon xla reli wellproven hlo ir introduc piec upstream mlir linalghttpsmlirllvmorgdocsdialectslinalg vectorhttpsmlirllvmorgdocsdialectsvector gpuhttpsmlirllvmorgdocsdialectsgpu dialect documenthttpswwwtensorfloworgmlirxla_gpu_codegen provid inform current migrat xla gpu codegen mlir dialect xlastyl compil repositori defin three dialect support hlolik compil pipelin use mlir chlo client hlo dialect intend closer frontend includ implicit broadcast semant mhlo metahlo dialect similar xla_hlo extens dynam shape support lmhlo latemetahlo ir buffer alloc perform xla buffer alloc sidedata structur keep track inform separ dialect materi ir describ detail hlo client dialect chlo origin design map xla client apishttpswwwtensorfloworgxlaoperation_semant eg op support implicit broadcast roughli model xlabuild api modulo support dynam shape addit op requir support dynam client side hlo op either xlabuild xla helper function convert op eg given ambigu constitut op freedom decid goal dialect correspond close client level enabl thin layer client use op construct make cheap construct optim dialect close optim client op entri vast major old client interact via xlabuild api api use tfxla kernel jax pytorch bridg directli legal path describ also reus xlabuild api construct xla client hlo op directli use mlirxlabuild subclass xlabuild entri point legal tensorflow op tf graph compil tool eg savedmodel lower tfcompil exit mhlo may export xlahloinstructionproto invok xlabuild api regular xlabuild chlo dialect start origin map xla client builder api enabl construct convert back exist xla interfac use xlabuild api due way translat dialect work expect dialect roundtrip xla eg intend translat mlir legal anoth dialect translat hloinstructionproto export approach reus xlabuild enabl reus lot logic alreadi implement term comput shape insert broadcast etc import topic xla client hlo op well defin set particular would consid helper function other would consid op easi move defin new op along helper function autogener helper function descript op former simpl approach would simpli consid context op construct mlir one construct op client dialect instead call xlabuild latter could implement ad op legal op known op helper function get gener could use regular statu exist need clean meta hlo dialect mhlo dialect closer current hlo server op eg implicit broadcast mhlo dialect deviat requir client server dialect particular control flow op implicit captur enabl simpler optim eg gener licm unrol jam etc multipl result op eg tupl op exampl uniqu op assert op op dont need ad either client server dialect op set constrain implement eg hloadd oper say mydialectweird_typ allow even though xla backend support verif type happen boundari need preserv deprec xla construct eg state rng hlo dynam shape support op without need updat usersbackend dialect enabl evolv hlo independ xla order experi featur wed like upstream mlir tcp particular intend userextens interfaceshttpsmlirllvmorgdocsinterfac tensorflow proto googl intern depend need complet superset op compar xla hlo dialect entri legal chlo dialect convers xla hlo directli emit tf graph compil builder call eg edsl exit lmhlo linalg ire directli use codegen xla hlo mhlo dialect direct export format meant intermedi optim dialectformat also experi cheapli new op format represent would differ exist endpoint statu exist need clean evolv particular respect support dynam shape mhlo differ xla hlo op set multipl way includ mhlo accept multipl operand may produc multipl result instead lmhlo lmhlo correspond late mhlo oper buffer domain eg memref sideeffect oper lower mhlo dialect proce way schedul memori buffer alloc current map directli xla client hlo without implicit broadcast oper memref dialect instead rebas mhlo dialect oper buffer still entri post buffer assign mhlo dialect xla buffer assign exit codegen llvm ir common case moment endtoend pipelin todo altern build setup build python api build mhlo python api requir build llvm extern project instruct presum mlirhlo repo llvmproject repo check side side note python packag produc procedur includ mlir packag suitabl deploy asi includ larger aggreg mkdir build cd build cmake gninja b llvm_src_dirllvm dcmake_build_typereleas dllvm_enable_projectsmlir dllvm_external_projectsmlir_hlo dllvm_external_mlir_hlo_source_dirmlir_hlo_src_dir dllvm_targets_to_buildhost dpython_executablewhich python dmlir_enable_bindings_pythonon dmhlo_enable_bindings_pythonon ninja mlirhlopythonmodul export pythonpathpwdtoolsmlir_hlopython_packagesmlir_hlo python c import mlirdialectsmhlo extern project depend mlirhlo extern project need depend mlirhlo exampl via git submodul use follow set cmake configur order find_packagemhlo import mlirhlo cmake target build setup access requir includ lib variabl see gener mhloconfigcmak dmhlo_dirpath mlirhlo build dirlibcmakemlirhlo googl ml structur dialect gml_st dialect contain looplik construct subset oper allow support fusion beyond rectangular tile necessari oper like gather scatter concat overview tile fusion tile op perform creat loop comput subset result usual tile need enabl vector distribut tile opinput tile loop iv subsetinput iv op fusion produc op tile consum consist two main part comput subset produc operand move produc op loop bodi oper subset origin operand consum tile produc input loop iv subset iv consum produc fusion loop iv subsetinput iv produc consum dualiti tile fusion one consid tile fusion op loop partit iter space return ident everi subset hand fusion seen tile produc merg loop bodi subset oper linalg support hyperrectangular subset tile tensormemref operand current linalg fusion assum tile perform use tensorextract_slicetensorinsert_slic memrefsubview oper sever disadvantag approach operand affect tile ie tile perform along dimens present operand fuse anymor produc operand happen linalggener broadcast one operand output tile reduct dimens support fusion op like gather scatter concat case done via tilinginterfac rfchttpsllvmdiscoursegrouptrfcfortilinginterfacefortilingoperationsthatdontfitintolinalgstructuredoperationdefinit exampl tile op sum linalgtiled_loop j c c c c step c c in in_ tensorxxf cst_ cst f out out_ tensorxf iteratorsparallel reduct in_sub tensorextract_slic in_i j tensorxxf tensorxxf out_sub tensorextract_slic out_i tensorxf tensorxf reduct linalggener indexing_map affine_mapd affine_mapd iterator_typ parallel reduct insin_sub tensorxxf outsout_sub tensorxf bba f b f arithaddf b f linalgyield f tensorxf updat tensorinsert_slic reduct out_i tensorxf tensorxf linalgyield updat tensorxf bodi loop model readmodifywrit output tensor tile extract out_ sizesoffsetsstrid destin tensorinsert_slic argument tensorextract_slic tensorinsert_slic current requir encod tile introduc new oper defin subset tensorsmemref subsetful tensor subset span origin tensor fulli subsettil tensor offsetssizesstrid defin rectangular tile subsetfilt tensorindic subset shape origin tensor valu indic popul spars tensor subsetpoint tensorindex subset contain singl element structur loop introduc gml_stloop keep subset definit separ materi linalggener affinemap attribut specifi index map region model comput element type operand tensorsmemref region end linalgyield termin yield element output load store op case implicit extractioninsert gml_stloop gml_stloop one region contain subset oper defin densespars rang work also gml_stmateri op convert subset spec tensor memref gml_styield termin gml_stloop take comput tensor subset specif comput done note way dont explicitli write destruct updat tensorinsert_slic yield full tensor yield valu subset sum gml_stloop j c c c c step c c in in_ tensorxxf cst_ cst f out out_ tensorxf iteratorsparallel sequenti in_til gml_sttile in_i j tensorxxf gml_stsubsetxxf out_til gml_sttile out_i tensorxf gml_stsubsetxf in_sub gml_stmateri in_til gml_stsubsetxxf tensorxxf out_sub gml_stmateri in_til gml_stsubsetxf tensorxf reduct linalggener indexing_map affine_mapd affine_mapd iterator_typ parallel reduct insin_sub tensorxxf outsout_sub tensorxf bba f b f arithaddf b f linalgyield f tensorxf gml_styield reduct out_til tensorxf gml_stsubsetxf current tile consum fusion produc tightli coupl fusion happen pass analysi requir find consum tensorextract_slic produc tripl perform fusion keep subset comput separ comput op improv readabl also simplifi fusion sinc subset comput per operand specifi argument loop want fuse also simplifi buffer sinc dont need introduc addit oper memref dialect everi subset oper tensorop convolut emitt context doc describ set patch still review todotimshen chang patch check convolut emitt prototyp follow goal top prioriti perform support arbitrarili sophist layout support platformspecif highperform instruct portabl possibl enabl fusion support futur current design overview prototyp consist follow compon emitt current focus nvidia volta architectur nchw layout mlirbas emitt take set tune paramet convolut configur produc nvvm devic function autotun gener tune paramet given convolut configur test framework execut gener devic function random input compar result cudnn emitt naiv implement emitt start handbuilt naiv implement look like follow resnet first layer convolut pseudo code mlir func convinput memrefxxxxvectorxf filter memrefxxxxvectorxf output memrefxxxxf affineparallel n oh ow acc alloc memreff affinestor acc affinefor c fh fw affinepaddedload inputn c oh fh ow fw b affineload filtero c fh fw c affineload acc stdfpext vectorxf e stdfpext b vectorxf f stdmultipli e g reduc f v g c affinestor v acc c affineload acc affinestor acc outputn oh ow extens use exampl affinepaddedload allow outofbound access case result alway reduc oper produc sum element vector also notic input element type vectorxf current implement memref xxf work well given align properli align least usual emitt semant preserv transform work code toward ptx structur emitt tile follow naiv code loop tile mlir func convinput memrefxxxxvectorxf filter memrefxxxxvectorxf output memrefxxxxf affineparallel n oh ow affineparallel n oh ow acc alloc memreff affinestor acc affinefor c fh fw affinefor c fh fw affinepaddedload input n n c c oh oh fh fh ow ow fw fw b affineload filter c c fh fh fw fw old affineload acc stdfpext vectorxf e stdfpext b vectorxf f stdmultipli e g reduc f new g old affinestor new acc v affineload acc affinestor v output n n oh oh ow ow ptx_block ptx_grid motiv obviou need decid loop parallel comput unit ptx architectur ptx_grid ptx_block direct loop parallel grid block respect also notic keep code pattern clean neat tile implement follow way defin simpl loop loop lower bound step tile take simpl loop produc simpl loop extra oper gener alter index calcul done user affinemap contract dimens c fh fw also tile signific seen later share memori promot emitt split step split bodi n oh ow loop sever part code set accumul actual convolut comput code code write back accumul output buffer transform vector accumul accordingli alloc get hoist affineparallel op split mlir func convinput memrefxxxxvectorxf filter memrefxxxxvectorxf output memrefxxxxf affineparallel n oh ow acc alloc memrefxxxxf affineparallel n oh ow affinestor accn oh ow ptx_block affineparallel n oh ow affinefor c fh fw affinefor c fh fw affinepaddedload input n n c c oh oh fh fh ow ow fw fw b affineload filter c c fh fh fw fw old affineload accn oh ow stdfpext vectorxf e stdfpext b vectorxf f stdmultipli e g reduc f new g old affinestor new accn oh ow ptx_block affineparallel n oh ow v affineload accn oh ow affinestor v output n n oh oh ow ow ptx_block ptx_grid prepar next transform wed also like sink n oh ow c fh fw interest affineparallel n oh ow affinefor c fh fw affinefor c fh fw ptx_block affinefor c fh fw affinefor c fh fw affineparallel n oh ow ptx_block emitt share memori promot transform done affinedatacopygener precis calcul much memori transfer load oper calcul size share memori buffer promoted_input promoted_filt transform also creat load store prefetch data global memori input filter promot share memori mlir affinefor c fh fw affineparallel n oh ow affinepaddedload input n n c c oh oh fh fh ow ow fw fw b affineload filter c c fh fh fw fw old affineload accn oh ow stdfpext vectorxf e stdfpext b vectorxf f stdmultipli e g reduc f new g old affinestor new accn oh ow ptx_block mlir promoted_input alloc memrefxxx memory_spac promoted_filt alloc memrefxxx memory_spac affineparallel v affinepaddedload input n c oh fh ow fw affinestor v promoted_inputi ptx_block affineparallel v affineload filter c fh fw affinestor v promoted_filteri ptx_block affinefor c fh fw affineparallel n oh ow affineload promoted_inputn c oh fh ow fw b affineload promoted_filtero c fh fw old affineload accn oh ow stdfpext vectorxf e stdfpext b vectorxf f stdmultipli e g reduc f new g old affinestor new accn oh ow ptx_block emitt volta mma instruct transform turn inner loop mlir affineparallel n oh ow affineload promoted_inputn c oh fh ow fw b affineload promoted_filtero c fh fw old affineload accn oh ow stdfpext vectorxf e stdfpext b vectorxf f stdmultipli e g reduc f new g old affinestor new accn oh ow ptx_block multipl volta mmasync instruct result shown prototyp current hack achiev benchmark goal autotun shown mani paramet dictat naiv implement transform paramet tile size top emitt prototyp includ simpl autotun enumer good combin tile size invok emitt combin assist inprocess benchmark autotun abl pick best set paramet futur improv explor linalgvector higherlevel naiv implement mma instruct handl would much easier highlevel function construct explor layout current layout correspond nvidia cudnn_tensor_nchw_vect_c fp iron gpu dialect relat lower annot like ptx_grid ptx_block gener architectur speed autotun prune support dynam shape rd parti xla devic directori intend place rd parti xla devic _not_ integr public repositori ad entri build target directori third parti devic includ depend jit subsystem integr unit test system see file tensorflowcompilertestspluginbzl tensorflowcompilerxlatestspluginbzl support oper devic xla_cpu_jit oper type constraint ab tdoublefloatintint aco tcomplexdoublefloatintint acosh tcomplexdoublefloat add tcomplexdoublefloatintint addn tcomplexdoublefloatintintuintuint adjustcontrastv adjusthu adjustsatur tidxintint angl toutdoublefloatbrtcomplex tidxintint approximateequ tcomplexdoublefloatintintuintuint argmax tidxintintbroutput_typeintintbrtfloat argmin tidxintintbroutput_typeintintbrtcomplexdoublefloatintintuintuint asin tcomplexdoublefloatintint asinh tcomplexdoublefloat assignaddvariableop dtypecomplexdoublefloatintintuintuint assignsubvariableop dtypecomplexdoublefloatintintuintuint assignvariableop dtypeboolcomplexdoublefloatintintuintuint atan tcomplexdoublefloatintint atan tdoublefloat atanh tcomplexdoublefloat avgpool tdoublefloat avgpoold tdoublefloat avgpooldgrad tdoublefloat avgpoolgrad tdoublefloat batchmatmul tcomplexdoublefloatint batchtospac tidxintintbrtboolcomplexdoublefloatintintuintuint batchtospacend tcropsintintbrtblock_shapeintintbrtboolcomplexdoublefloatintintuintuint biasadd tcomplexdoublefloatintintuintuint biasaddgrad tcomplexdoublefloatintintuintuint biasaddv tcomplexdoublefloatintintuintuint bitwiseand tintintuintuint bitwiseor tintintuintuint broadcastarg tintint broadcastgradientarg tintint cast dsttboolcomplexdoublefloatintintuintuintbrsrctboolcomplexdoublefloatintintuintuint ceil tdoublefloat choleski tdoublefloat complex toutcomplexbrtdoublefloat complexab toutdoublefloatbrtcomplex concat tboolcomplexdoublefloatintintuintuint concatoffset concatv tidxintbrtboolcomplexdoublefloatintintuintuint conj tcomplex const dtypeboolcomplexdoublefloatintintuintuint controltrigg convd tfloat convdbackpropfilt tfloat convdbackpropinput tfloat convd tdoublefloat convdbackpropfilterv tdoublefloat convdbackpropinputv tdoublefloat co tcomplexdoublefloat cosh tcomplexdoublefloat cross tdoublefloatintintuintuint cumprod tidxintintbrtfloat cumsum tidxintintbrtfloat depthtospac tboolcomplexdoublefloatintintuintuint depthwiseconvdn tdoublefloat depthwiseconvdnativebackpropfilt tdoublefloat depthwiseconvdnativebackpropinput tdoublefloat diag tcomplexdoublefloatintint diagpart tcomplexdoublefloatintint div tcomplexdoublefloatintint dynamicstitch tboolcomplexdoublefloatintintuintuint elu tdoublefloat elugrad tdoublefloat equal tboolcomplexdoublefloatintint exp tcomplexdoublefloat expanddim tdimintintbrtboolcomplexdoublefloatintintuintuint expm tcomplexdoublefloat extractimagepatch tdoublefloatintintuintuint fft fftd fftd fakequantwithminmaxarg fakequantwithminmaxargsgradi fakequantwithminmaxvar fakequantwithminmaxvarsgradi fill index_typeintintbrtboolcomplexdoublefloatintintuintuint floor tdoublefloat floordiv tcomplexdoublefloatintint floormod tdoublefloatintint fusedbatchnorm tfloat fusedbatchnormgrad tfloat fusedbatchnormgradv ufloatbrtfloat fusedbatchnormv ufloatbrtfloat gather tindicesintintbrtparamsboolcomplexdoublefloatintintuintuint gathernd tindicesintintbrtparamsboolcomplexdoublefloatintintuintuint gatherv taxisintintbrtindicesintintbrtparamsboolcomplexdoublefloatintintuintuint greater tdoublefloatintintuintuint greaterequ tdoublefloatintintuintuint hsvtorgb tdoublefloat ifft ifftd ifftd irfft irfftd irfftd ident tboolcomplexdoublefloatintintuintuint identityn tboolcomplexdoublefloatintintuintuint imag toutdoublefloatbrtcomplex inv tcomplexdoublefloatintint invert tintintuintuint invertpermut tint isfinit tdoublefloat isinf tdoublefloat isnan tdoublefloat lloss tdoublefloat lrn tfloat lrngrad tfloat leftshift tintintuintuint less tdoublefloatintintuintuint lessequ tdoublefloatintintuintuint linspac tidxintintbrtdoublefloat log tcomplexdoublefloat logp tcomplexdoublefloat logsoftmax tdoublefloat logicaland logicalnot logicalor matmul tcomplexdoublefloat matrixbandpart tindexintintbrtboolcomplexdoublefloatintintuintuint matrixdiag tboolcomplexdoublefloatintintuintuint matrixdiagpart tboolcomplexdoublefloatintintuintuint matrixsetdiag tboolcomplexdoublefloatintintuintuint matrixtriangularsolv tcomplexdoublefloat max tidxintintbrtcomplexdoublefloatintintuintuint maxpool tdoublefloatintint maxpoold tfloat maxpooldgrad tinputfloatbrtfloat maxpoolgrad tdoublefloatintintuintuint maxpoolgradgrad tfloat maxpoolgradgradv tfloat maxpoolgradv tdoublefloatintintuintuint maxpoolv tdoublefloatintint maximum tdoublefloatintint mean tidxintintbrtcomplexdoublefloatintintuintuint min tidxintintbrtcomplexdoublefloatintintuintuint minimum tdoublefloatintint mirrorpad tpaddingsintintbrtboolcomplexdoublefloatintintuintuint mod tdoublefloatintint mul tcomplexdoublefloatintint multinomi output_dtypeintintbrtdoublefloatintintuintuint neg tcomplexdoublefloatintint noop notequ tboolcomplexdoublefloatintint onehot tiintintbrtboolcomplexdoublefloatintintuintuint oneslik tboolcomplexdoublefloatintint pack tboolcomplexdoublefloatintintuintuint pad tpaddingsintintbrtboolcomplexdoublefloatintintuintuint padv tpaddingsintintbrtboolcomplexdoublefloatintintuintuint paralleldynamicstitch tboolcomplexdoublefloatintintuintuint pow tcomplexdoublefloatintint preventgradi tboolcomplexdoublefloatintintuintuint prod tidxintintbrtcomplexdoublefloatintintuintuint quantizeanddequantizev tdoublefloat rfft rfftd rfftd rgbtohsv tdoublefloat randomstandardnorm dtypefloat randomuniform tintintbrdtypedoublefloat randomuniformint tintintbrtoutintint rang tidxdoublefloatintint rank tboolcomplexdoublefloatintintuintuint readvariableop dtypeboolcomplexdoublefloatintintuintuint real toutdoublefloatbrtcomplex realdiv tcomplexdoublefloatintint reciproc tcomplexdoublefloatintint reciprocalgrad tcomplexdoublefloat relu tdoublefloatintintuintuint relu tdoublefloatintintuintuint relugrad tdoublefloatintintuintuint relugrad tdoublefloatintintuintuint reshap tshapeintintbrtboolcomplexdoublefloatintintuintuint resizebilinear tdoublefloatintint resizebilineargrad tdoublefloat resourceapplyadagrad tdoublefloat resourceapplyadam tdoublefloat resourceapplyftrl tdoublefloat resourceapplyftrlv tdoublefloat resourceapplygradientdesc tdoublefloat resourceapplymomentum tdoublefloat resourceapplyrmsprop tdoublefloat resourcegath tindicesintintbrdtypecomplexdoublefloatintintuintuint resourcestridedsliceassign indexintintbrtboolcomplexdoublefloatintintuintuint revers tboolcomplexdoublefloatintint reversesequ tlenintintbrtboolcomplexdoublefloatintintuintuint reversev tboolcomplexdoublefloatintintbrtidxintint rightshift tintintuintuint rint tdoublefloat round tcomplexdoublefloatintint rsqrt tcomplexdoublefloat rsqrtgrad tcomplexdoublefloat scatternd tindicesintintbrtboolcomplexdoublefloatintintuintuint select tboolcomplexdoublefloatintintuintuint selu tdoublefloat selugrad tdoublefloat shape out_typeintintbrtboolcomplexdoublefloatintintuintuint shapen out_typeintintbrtboolcomplexdoublefloatintintuintuint sigmoid tcomplexdoublefloat sigmoidgrad tcomplexdoublefloat sign tcomplexdoublefloatintint sin tcomplexdoublefloat sinh tcomplexdoublefloat size out_typeintintbrtboolcomplexdoublefloatintintuintuint slice indexintintbrtboolcomplexdoublefloatintintuintuint snapshot tboolcomplexdoublefloatintintuintuint softmax tdoublefloat softmaxcrossentropywithlogit tdoublefloat softplu tdoublefloatintintuintuint softplusgrad tdoublefloatintintuintuint softsign tdoublefloatintintuintuint softsigngrad tdoublefloatintintuintuint spacetobatch tpaddingsintintbrtboolcomplexdoublefloatintintuintuint spacetobatchnd tblock_shapeintintbrtpaddingsintintbrtboolcomplexdoublefloatintintuintuint spacetodepth tboolcomplexdoublefloatintintuintuint sparsematmul tbfloatbrtafloat sparsesoftmaxcrossentropywithlogit tlabelsintintbrtdoublefloat split tboolcomplexdoublefloatintintuintuint splitv tlenintintbrtboolcomplexdoublefloatintintuintuint sqrt tcomplexdoublefloat sqrtgrad tcomplexdoublefloat squar tcomplexdoublefloatintint squareddiffer tcomplexdoublefloatintint squeez tboolcomplexdoublefloatintintuintuint stackclosev stackpopv elem_typeboolcomplexdoublefloatintintuintuint stackpushv tboolcomplexdoublefloatintintuintuint stackv elem_typeboolcomplexdoublefloatintintuintuint statelessrandomnorm tseedintbrtintintbrdtypefloat statelessrandomuniform tseedintbrtintintbrdtypefloat stopgradi tboolcomplexdoublefloatintintuintuint stridedslic indexintintbrtboolcomplexdoublefloatintintuintuint stridedslicegrad indexintintbrtboolcomplexdoublefloatintintuintuint sub tcomplexdoublefloatintint sum tidxintintbrtcomplexdoublefloatintintuintuint symbolicgradi toutboolcomplexdoublefloatintintuintuintbrtinboolcomplexdoublefloatintintuintuint tan tcomplexdoublefloatintint tanh tcomplexdoublefloat tanhgrad tcomplexdoublefloat tensorarrayclosev tensorarrayconcatv dtypeboolcomplexdoublefloatintintuintuint tensorarraygatherv dtypeboolcomplexdoublefloatintintuintuint tensorarraygradv tensorarrayreadv dtypeboolcomplexdoublefloatintintuintuint tensorarrayscatterv tboolcomplexdoublefloatintintuintuint tensorarraysizev tensorarraysplitv tboolcomplexdoublefloatintintuintuint tensorarrayv dtypeboolcomplexdoublefloatintintuintuint tensorarraywritev tboolcomplexdoublefloatintintuintuint tile tmultiplesintintbrtboolcomplexdoublefloatintintuintuint transpos tpermintintbrtboolcomplexdoublefloatintintuintuint truncatediv tcomplexdoublefloatintint truncatemod tdoublefloatintint truncatednorm tintintbrdtypedoublefloat unpack tboolcomplexdoublefloatintintuintuint unsortedsegmentsum tnumsegmentsintintbrtindicesintintbrtcomplexdoublefloatintintuintuint varisinitializedop variableshap out_typeintint xlawhil tboolcomplexdoublefloatintintresourceuintuint zeroslik tboolcomplexdoublefloatintintuintuint _arg tboolcomplexdoublefloatintintresourceuintuint _arraytolist out_typesboolcomplexdoublefloatintintuintuintbrtboolcomplexdoublefloatintintuintuint _listtoarray tboolcomplexdoublefloatintintuintuintbrtinboolcomplexdoublefloatintintuintuint _retval tboolcomplexdoublefloatintintuintuint _xlarecv tboolcomplexdoublefloatintintuintuint _xlasend tboolcomplexdoublefloatintintuintuint regener tabl run shell bazel run c opt tensorflowcompilertfxlatfxla_supported_op devicexla_cpu_jit support oper devic xla_gpu_jit oper type constraint ab tdoublefloatintint aco tcomplexdoublefloatintint acosh tcomplexdoublefloat add tcomplexdoublefloatintint addn tcomplexdoublefloatintintuintuint adjustcontrastv adjusthu adjustsatur tidxintint angl toutdoublefloatbrtcomplex tidxintint approximateequ tcomplexdoublefloatintintuintuint argmax tidxintintbroutput_typeintintbrtcomplexdoublefloatintintuintuint argmin tidxintintbroutput_typeintintbrtcomplexdoublefloatintintuintuint asin tcomplexdoublefloatintint asinh tcomplexdoublefloat assignaddvariableop dtypecomplexdoublefloatintintuintuint assignsubvariableop dtypecomplexdoublefloatintintuintuint assignvariableop dtypeboolcomplexdoublefloatintintuintuint atan tcomplexdoublefloatintint atan tdoublefloat atanh tcomplexdoublefloat avgpool tdoublefloat avgpoold tdoublefloat avgpooldgrad tdoublefloat avgpoolgrad tdoublefloat batchmatmul tcomplexdoublefloatint batchtospac tidxintintbrtboolcomplexdoublefloatintintuintuint batchtospacend tcropsintintbrtblock_shapeintintbrtboolcomplexdoublefloatintintuintuint biasadd tcomplexdoublefloatintintuintuint biasaddgrad tcomplexdoublefloatintintuintuint biasaddv tcomplexdoublefloatintintuintuint bitwiseand tintintuintuint bitwiseor tintintuintuint broadcastarg tintint broadcastgradientarg tintint cast dsttboolcomplexdoublefloatintintuintuintbrsrctboolcomplexdoublefloatintintuintuint ceil tdoublefloat choleski tdoublefloat complex toutcomplexbrtdoublefloat complexab toutdoublefloatbrtcomplex concat tboolcomplexdoublefloatintintuintuint concatoffset concatv tidxintbrtboolcomplexdoublefloatintintuintuint conj tcomplex const dtypeboolcomplexdoublefloatintintuintuint controltrigg convd tfloat convdbackpropfilt tfloat convdbackpropinput tfloat convd tdoublefloat convdbackpropfilterv tdoublefloat convdbackpropinputv tdoublefloat co tcomplexdoublefloat cosh tcomplexdoublefloat cross tdoublefloatintintuintuint cumprod tidxintintbrtfloat cumsum tidxintintbrtfloat depthtospac tboolcomplexdoublefloatintintuintuint depthwiseconvdn tdoublefloat depthwiseconvdnativebackpropfilt tdoublefloat depthwiseconvdnativebackpropinput tdoublefloat diag tcomplexdoublefloatintint diagpart tcomplexdoublefloatintint div tcomplexdoublefloatintint dynamicstitch tboolcomplexdoublefloatintintuintuint elu tdoublefloat elugrad tdoublefloat equal tboolcomplexdoublefloatintint exp tcomplexdoublefloat expanddim tdimintintbrtboolcomplexdoublefloatintintuintuint expm tcomplexdoublefloat extractimagepatch tdoublefloatintintuintuint fft fftd fftd fakequantwithminmaxarg fakequantwithminmaxargsgradi fakequantwithminmaxvar fakequantwithminmaxvarsgradi fill index_typeintintbrtboolcomplexdoublefloatintintuintuint floor tdoublefloat floordiv tcomplexdoublefloatintint floormod tdoublefloatintint fusedbatchnorm tfloat fusedbatchnormgrad tfloat fusedbatchnormgradv ufloatbrtfloat fusedbatchnormv ufloatbrtfloat gather tindicesintintbrtparamsboolcomplexdoublefloatintintuintuint gathernd tindicesintintbrtparamsboolcomplexdoublefloatintintuintuint gatherv taxisintintbrtindicesintintbrtparamsboolcomplexdoublefloatintintuintuint greater tdoublefloatintintuintuint greaterequ tdoublefloatintintuintuint hsvtorgb tdoublefloat ifft ifftd ifftd irfft irfftd irfftd ident tboolcomplexdoublefloatintintuintuint identityn tboolcomplexdoublefloatintintuintuint imag toutdoublefloatbrtcomplex inv tcomplexdoublefloatintint invert tintintuintuint invertpermut tint isfinit tdoublefloat isinf tdoublefloat isnan tdoublefloat lloss tdoublefloat lrn tfloat lrngrad tfloat leftshift tintintuintuint less tdoublefloatintintuintuint lessequ tdoublefloatintintuintuint linspac tidxintintbrtdoublefloat log tcomplexdoublefloat logp tcomplexdoublefloat logsoftmax tdoublefloat logicaland logicalnot logicalor matmul tcomplexdoublefloat matrixbandpart tindexintintbrtboolcomplexdoublefloatintintuintuint matrixdiag tboolcomplexdoublefloatintintuintuint matrixdiagpart tboolcomplexdoublefloatintintuintuint matrixsetdiag tboolcomplexdoublefloatintintuintuint matrixtriangularsolv tcomplexdoublefloat max tidxintintbrtcomplexdoublefloatintintuintuint maxpool tdoublefloatintint maxpoold tfloat maxpooldgrad tinputfloatbrtfloat maxpoolgrad tdoublefloatintintuintuint maxpoolgradgrad tfloat maxpoolgradgradv tfloat maxpoolgradv tdoublefloatintintuintuint maxpoolv tdoublefloatintint maximum tdoublefloatintint mean tidxintintbrtcomplexdoublefloatintintuintuint min tidxintintbrtcomplexdoublefloatintintuintuint minimum tdoublefloatintint mirrorpad tpaddingsintintbrtboolcomplexdoublefloatintintuintuint mod tdoublefloatintint mul tcomplexdoublefloatintint multinomi output_dtypeintintbrtdoublefloatintintuintuint neg tcomplexdoublefloatintint noop notequ tboolcomplexdoublefloatintint onehot tiintintbrtboolcomplexdoublefloatintintuintuint oneslik tboolcomplexdoublefloatintint pack tboolcomplexdoublefloatintintuintuint pad tpaddingsintintbrtboolcomplexdoublefloatintintuintuint padv tpaddingsintintbrtboolcomplexdoublefloatintintuintuint paralleldynamicstitch tboolcomplexdoublefloatintintuintuint pow tcomplexdoublefloatintint preventgradi tboolcomplexdoublefloatintintuintuint prod tidxintintbrtcomplexdoublefloatintintuintuint quantizeanddequantizev tdoublefloat rfft rfftd rfftd rgbtohsv tdoublefloat rang tidxdoublefloatintint rank tboolcomplexdoublefloatintintuintuint readvariableop dtypeboolcomplexdoublefloatintintuintuint real toutdoublefloatbrtcomplex realdiv tcomplexdoublefloatintint reciproc tcomplexdoublefloatintint reciprocalgrad tcomplexdoublefloat relu tdoublefloatintintuintuint relu tdoublefloatintintuintuint relugrad tdoublefloatintintuintuint relugrad tdoublefloatintintuintuint reshap tshapeintintbrtboolcomplexdoublefloatintintuintuint resizebilinear tdoublefloatintint resizebilineargrad tdoublefloat resourceapplyadagrad tdoublefloat resourceapplyadam tdoublefloat resourceapplyftrl tdoublefloat resourceapplyftrlv tdoublefloat resourceapplygradientdesc tdoublefloat resourceapplymomentum tdoublefloat resourceapplyrmsprop tdoublefloat resourcegath tindicesintintbrdtypecomplexdoublefloatintintuintuint resourcestridedsliceassign indexintintbrtboolcomplexdoublefloatintintuintuint revers tboolcomplexdoublefloatintint reversesequ tlenintintbrtboolcomplexdoublefloatintintuintuint reversev tboolcomplexdoublefloatintintbrtidxintint rightshift tintintuintuint rint tdoublefloat round tcomplexdoublefloatintint rsqrt tcomplexdoublefloat rsqrtgrad tcomplexdoublefloat scatternd tindicesintintbrtboolcomplexdoublefloatintintuintuint select tboolcomplexdoublefloatintintuintuint selu tdoublefloat selugrad tdoublefloat shape out_typeintintbrtboolcomplexdoublefloatintintuintuint shapen out_typeintintbrtboolcomplexdoublefloatintintuintuint sigmoid tcomplexdoublefloat sigmoidgrad tcomplexdoublefloat sign tcomplexdoublefloatintint sin tcomplexdoublefloat sinh tcomplexdoublefloat size out_typeintintbrtboolcomplexdoublefloatintintuintuint slice indexintintbrtboolcomplexdoublefloatintintuintuint snapshot tboolcomplexdoublefloatintintuintuint softmax tdoublefloat softmaxcrossentropywithlogit tdoublefloat softplu tdoublefloatintintuintuint softplusgrad tdoublefloatintintuintuint softsign tdoublefloatintintuintuint softsigngrad tdoublefloatintintuintuint spacetobatch tpaddingsintintbrtboolcomplexdoublefloatintintuintuint spacetobatchnd tblock_shapeintintbrtpaddingsintintbrtboolcomplexdoublefloatintintuintuint spacetodepth tboolcomplexdoublefloatintintuintuint sparsematmul tbfloatbrtafloat sparsesoftmaxcrossentropywithlogit tlabelsintintbrtdoublefloat split tboolcomplexdoublefloatintintuintuint splitv tlenintintbrtboolcomplexdoublefloatintintuintuint sqrt tcomplexdoublefloat sqrtgrad tcomplexdoublefloat squar tcomplexdoublefloatintint squareddiffer tcomplexdoublefloatintint squeez tboolcomplexdoublefloatintintuintuint stackclosev stackpopv elem_typeboolcomplexdoublefloatintintuintuint stackpushv tboolcomplexdoublefloatintintuintuint stackv elem_typeboolcomplexdoublefloatintintuintuint statelessrandomnorm tseedintbrtintintbrdtypefloat statelessrandomuniform tseedintbrtintintbrdtypefloat stopgradi tboolcomplexdoublefloatintintuintuint stridedslic indexintintbrtboolcomplexdoublefloatintintuintuint stridedslicegrad indexintintbrtboolcomplexdoublefloatintintuintuint sub tcomplexdoublefloatintint sum tidxintintbrtcomplexdoublefloatintintuintuint symbolicgradi toutboolcomplexdoublefloatintintuintuintbrtinboolcomplexdoublefloatintintuintuint tan tcomplexdoublefloatintint tanh tcomplexdoublefloat tanhgrad tcomplexdoublefloat tensorarrayclosev tensorarrayconcatv dtypeboolcomplexdoublefloatintintuintuint tensorarraygatherv dtypeboolcomplexdoublefloatintintuintuint tensorarraygradv tensorarrayreadv dtypeboolcomplexdoublefloatintintuintuint tensorarrayscatterv tboolcomplexdoublefloatintintuintuint tensorarraysizev tensorarraysplitv tboolcomplexdoublefloatintintuintuint tensorarrayv dtypeboolcomplexdoublefloatintintuintuint tensorarraywritev tboolcomplexdoublefloatintintuintuint tile tmultiplesintintbrtboolcomplexdoublefloatintintuintuint transpos tpermintintbrtboolcomplexdoublefloatintintuintuint truncatediv tcomplexdoublefloatintint truncatemod tdoublefloatintint unpack tboolcomplexdoublefloatintintuintuint unsortedsegmentsum tnumsegmentsintintbrtindicesintintbrtcomplexdoublefloatintintuintuint varisinitializedop variableshap out_typeintint xlawhil tboolcomplexdoublefloatintintresourceuintuint zeroslik tboolcomplexdoublefloatintintuintuint _arg tboolcomplexdoublefloatintintresourceuintuint _arraytolist out_typesboolcomplexdoublefloatintintuintuintbrtboolcomplexdoublefloatintintuintuint _listtoarray tboolcomplexdoublefloatintintuintuintbrtinboolcomplexdoublefloatintintuintuint _retval tboolcomplexdoublefloatintintuintuint _xlarecv tboolcomplexdoublefloatintintuintuint _xlasend tboolcomplexdoublefloatintintuintuint regener tabl run shell bazel run c opt tensorflowcompilertfxlatfxla_supported_op devicexla_gpu_jit p aligncent img width srcgdocimagesxlalogopng p xla acceler linear algebra domainspecif compil linear algebra optim tensorflow comput see documentationgdocindexmd xla interpret backend xla interpret backend oper hlolevel ingest hlomodul evalu result hlo graph directli hloevalu without lower llvm ir exampl execut backend cpu gpu exampl key compon interpretercompil despit inherit name compil interpretercompil realli follow run certain hlo optim pass given hlo graph gener interpreterexecut optim hlo graph regist global compil factori registri interpreterexecut respons run input hlo graph hloevalu alloc output buffer final copi evalu liter result hloevalu travers hlo graph evalu node df order along way hlo text syntax yacc hlo_modul hlomodul name comput comput mark entri last comput entri comput modul comput comput comput comput comput entri name param_list_to_shap instruction_list name param_list_to_shap instruction_list entri name instruction_list name instruction_list instruct mark root last instruct root comput instruction_list instruction_list instruction_list instruct instruction_list instruct instruct root name shape opcod operand extra_attribut name shape opcod operand extra_attribut operand operand operand empti operand operand operand operand shape name name attribut empti attribut attribut attribut attribut attribute_nam attribute_valu attribute_valu kint kname bf_iobf dim_labels_pattern x dxd_pattern __x__ pad_pattern sub_attribut param_list_to_shap param_list shape param_list param_list param_list empti param param_list param param name shape shape shape_val_ tuple_el tuple_el empti shape shape name identifi identifi identifi identifi azaz_azaz_ liter right hand side constant instruct liter tupl non_tupl tupl shape literal_list literal_list empti liter literal_list liter non_tupl rank rank rank nested_array xla gpu backend fresh owner sanjoy owner timshen review compil time compil time gpucompilerhttpsgithubcomtensorflowtensorflowblobmastertensorflowcompilerxlaservicegpugpu_compilerh gener gpuexecutablehttpsgithubcomtensorflowtensorflowblobmastertensorflowcompilerxlaservicegpugpu_executableh whose executeonstream interfac call xla servic runtim figur show work flow gpucompil dot strict digraph compoundtru rankdirlr graph autosizefals size resolut rank unopt_hlo idgooglegreen shapeov labelunoptimizednhlo hlo_pass idgoogleblu shapebox labelhlo pass opt_hlo idgooglegreen shapeov labeloptim andncanonic hlo ranksam buffer_assign idgoogleblu shapebox labelbufferassign buffer_assign idgooglegreen shapeov labelbufferassign lmhlo idgooglegreen shapeov labellmhlo ir_emitt idgoogleblu shapebox labeliremitt gpu_ir idgooglegreen shapeov labelllvm irngpu llvm_gpu idgoogleblu shapebox labelllvm jitngpu subgraph cluster_gpu_execut labelgpuexecut ptx idgooglegreen shapeov labelptx subgraph cluster_thunk_sequ labelthunksequ thunk idgooglegreen shapeov labelthunk thunk idgooglegreen shapeov labelthunk unopt_hlo hlo_pass opt_hlo lmhlo buffer_assign buffer_assign buffer_assign lmhlo ir_emitt ir_emitt gpu_ir llvm_gpu ptx ir_emitt thunk thunk centerimg stylewidth srcimagesgpu_backend_chartsvgimgcent optim gpucompil run pipelin targetindepend targetdepend optim input hlo graph exampl fold transposehttpswwwtensorfloworgxlaoperation_semanticstranspos dothttpswwwtensorfloworgxlaoperation_semanticsdot certain situat transpos instruct elid cubla gemm call canonic hlo optim gpucompil run canonic transform ensur iremitt emit valid ir canonic make later ir emiss easier iremitt current work one hlo instruct time without global view entir graph buffer analysi buffer assign pass assign buffer necessari store result hlo instruct actual buffer alloc happen runtim therefor compil time buffer analysi assign bufferalloc contain metadata index shape buffer gpuexecut alloc dealloc buffer lmhlo convers gpucompil take optim hlo bufferassign convert mlir dialect lmhlohttpsgithubcomtensorflowtensorflowblobmastertensorflowcompilermlirhloincludemlirhlodialectlhloirlhlo_opstd lmhlo dialect graph consist lmhlo op lmhlo op bufferbas sequenti order sequenti order reflect execut order lmhlo direct operandus inform strip away op connect buffer op gener buffer notic lmhlo op eg lmhlofus lmhloreduc contain mhlohttpsgithubcomtensorflowtensorflowblobmastertensorflowcompilermlirhloincludemlirhlodialectmhloirhlo_opstdbas region tensorbas mhlo region op dont buffer associ code convert xla hlo lmhlo herehttpsgithubcomtensorflowtensorflowblobmastertensorflowcompilermlirxlatransformsmhlo_to_lhlo_with_xlah current lower mhlo region take twist first mhlo region get convert back xla hlo graph convert xla hlo graph handl fusediremitterhttpsgithubcomtensorflowtensorflowblobmastertensorflowcompilerxlaservicellvm_irfused_ir_emitterh elementaliremitterhttpsgithubcomtensorflowtensorflowblobmastertensorflowcompilerxlaserviceelemental_ir_emitterh ir emiss iremitt emit cuda kernel llvm ir implement lmhlo oper input graph gpucompil compil emit llvm ir ptx use llvm jit compil iremitt need emit ir instruct exampl gpucompil implement certain dot instruct cubla gemm requir custom kernel iremitt two subclass iremitterunnest emit code lmhlo instruct iremitternest handl instruct nest comput eg scalar comput map reduc iremitterunnest emit zero global function lmhlo instruct contrast iremitternest emit devic function hlo instruct devic function small like inlin kernel thunk build besid emit llvm ir iremitt also gener sequenc thunkshttpsgithubcomtensorflowtensorflowblobmastertensorflowcompilerxlaservicegputhunkh thunk contain metadata gpuexecut invok hlo instruct runtim hlo instruct implement cubla gemm iremitt gener gemmthunk whose executeonstream interfac call cubla gemm via streamexecutorhttpsgithubcomtensorflowtensorflowtreemastertensorflowstream_executor api instruct implement custom kernel iremitt gener kernelthunk contain necessari argument launch kernel centerimg stylewidth srcimageskernel_thunksvgimgcent instanc figur show hlo graph perform elementwis add two input array shape f suppos buffer analysi assign buffer param param add respect also suppos iremitt emit kernel name add add instruct case iremitt gener kernelthunk input buffer output buffer kernel name add runtim gpuexecut launch kernel name add base address buffer construct gpuexecut final gpucompil construct gpuexecut object wrap ptx assembl thunk sequenc gener iremitt runtim runtim gpuexecut follow alloc buffer assign buffer analysi invok thunk thunk sequenc call executeonstream interfac base address alloc buffer pass array void kernel devic function emit iremitt dealloc buffer live common util abstract handl emit llvm ir xla backend xla optim compil machin learn xla acceler linear algebra domainspecif compil linear algebra acceler tensorflow model potenti sourc code chang result improv speed memori usag eg bert mlperfhttpsblogtensorfloworgtensorflowmlperfsubmissionshtml submiss use volta v gpu use xla achiev x perform improv x batch size improv div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagestf_xla_performancepng div introduct tensorflow program run oper execut individu tensorflow executor tensorflow oper precompil gpu kernel implement executor dispatch xla provid altern mode run model compil tensorflow graph sequenc comput kernel gener specif given model kernel uniqu model exploit modelspecif inform optim exampl let look optim xla context simpl tensorflow comput def model_fnx z return tfreduce_sumx z run without xla graph launch three kernel one multipl one addit one reduct howev xla optim graph comput result singl kernel launch fuse addit multipl reduct singl gpu kernel moreov fuse oper write intermedi valu produc yz xyz memori instead stream result intermedi comput directli user keep entir gpu regist fusion xla singl import optim memori bandwidth typic scarcest resourc hardwar acceler remov memori oper one best way improv perform enabl xla tensorflow model explicit compil tffunctionjit_compiletru explicit compil api offer finegrain control choos function compil exampl follow tensorflow function perform mnist train compil xla tffunctionjit_compiletru def train_mnistimag label imag label castimag label tfgradienttap tape predicted_label layerimag loss tfreduce_meantfnnsparse_softmax_cross_entropy_with_logit logitspredicted_label labelslabel layer_vari layertrainable_vari grad tapegradientloss layer_vari optimizerapply_gradientszipgrad layer_vari jit_compil api _mustcompile_ semant either entir function compil xla errorsinvalidargumenterror except thrown xla current compil function dimens _inferrable_ possibl infer dimens tensor without run entir comput exampl follow function compil tffunction def not_compilablex return tfuniquex shape vari across run though tffunctionjit_compiletru def recompiled_on_launcha b return b recompiled_on_launchtfon tfone recompiled_on_launchtfon tfone note nest behavior function compil least one function call stack jit_compiletru see tutori colabtutorialsjit_compileipynb detail usag exampl tutori videohttpswwwyoutubecomwatchvcpadvlkec jit_compiletru usag autoclust simpl way start use xla tensorflow model without chang enabl _autoclustering_ automat find _clusters_ connect subgraph within tensorflow function compil execut use xla autoclust gpu enabl set tf_xla_flag environ variabl note tf code insid tffunction cluster tf_xla_flagstf_xla_auto_jit pathtoyourtfprogram autoclust current optim gpu workload also enabl cpu addit use flag tf_xla_cpu_global_jit tf_xla_flagstf_xla_auto_jit tf_xla_cpu_global_jit pathtoyourprogram note autoclust support cpu multigpu environ experiment detail usag exampl see autoclust tutori colabtutorialsautoclustering_xlaipynb aot aheadoftim compil cpu tfcompil also use standalon tfcompiletfcompilemd tool convert tensorflow graph execut code x cpu inspect compil program xla provid introspect facil let inspect gener program dump gener program use environ variabl xla_flag xla_flagsxla_dump_totmpgener tf_xla_flagstf_xla_auto_jit mytensorflowprogram dump perform find follow file tmpgener module_xxxx_optimizationstxt gener xla programsoperation_semanticsmd one per compil cluster attach submit xla bug report extrem help module_xxxxirl gener file llvmhttpsllvmorgdocslangrefhtml intermedi represent nvptxhttpsllvmorgdocsnvptxusagehtml intrins module_xxxxptx gener ptxhttpsdocsnvidiacomcudaparallelthreadexecutionindexhtml file also dump graph visual embed xla cluster insid tensorflow graph tf_dump_graph_prefixtmpgener tf_xla_flagstf_xla_clustering_debug reproduc bug report bug report much easier reproduc includ dump gener xla program use autoclust embed gener tensorflow program run autoclust launch tf_dump_graph_prefixtmpgener tf_xla_flagstf_xla_clustering_debug tf_xla_auto_jit xla_flagsxla_dump_hlo_as_text xla_dump_totmpgener mytensorflowprogram file bug attach content tmpgener directori referenc possibl tri isol bug singl xla program use replay_computationhttpsgithubcomtensorflowtensorflowblobmastertensorflowcompilerxlatoolsrun_hlo_module_maincc iter run gener program read known issuesknown_issuesmd list known issu xla xla architecturearchitecturemd overview xla architectur xla tensorflow compiledhttpsdevelopersgoogleblogcomxlatensorflowcompiledhtml read googl develop blog check xla sourcehttpsgithubcomtensorflowtensorflowtreemastertensorflowcompilerxla github xla frontend apart tensorflow xla program gener jaxhttpsgithubcomgooglejax compos transform pythonnumpi program juliahttpsgithubcomjuliatpuxlajl julia languag scientif comput pytorchhttpsgithubcompytorchxla pytorch framework nxhttpsgithubcomelixirnxnx numer comput librari elixir program languag talk use xla tf use jit_compiletru ifram framebord allowacceleromet autoplay encryptedmedia gyroscop pictureinpictur fullscreen width height srchttpswwwyoutubecomembedcpadvlkecoriginhttpsaffwwwtensorfloworgampautohideampshowinfoampvideoidkaoanjczhaampenablejsapiampwidgetid idwidget datatitleyoutub video playerifram xla overview ifram framebord allowacceleromet autoplay encryptedmedia gyroscop pictureinpictur fullscreen width height srchttpswwwyoutubecomembedkaoanjczhaoriginhttpsaffwwwtensorfloworgampautohideampshowinfoampvideoidkaoanjczhaampenablejsapiampwidgetid idwidget datatitleyoutub video playerifram known issu compil xla greatli improv perform program tensorflow interop number known sharp corner tfvariabl differ devic error messag invalid_argu tri access resourc variabl defin loc locat devic cpu devic gpu xla cluster run exactli one devic read write tfvariabl locat differ devic usual error messag indic variabl place right devic begin error messag precis specifi locat offend variabl note tfvariabl type int alway place host place gpu workaround int use tensorarray tfxla interconvers support error messag support tensorlist cross xlatf boundari implement xla support tftensorarray howev _interconversion_ tf xla represent implement yet error often aris tensorarray use insid compil block deriv taken outsid workaround compil outermost scope take deriv tensorflow loop need bound backprop disabl error messag xla compil requir fix tensor list size set max number element could also happen your use tensorarray loop maximum_iter set fix set maximum_iter suitabl valu tf loopshttpswwwtensorfloworgapi_docspythontfwhile_loop creat use tfwhile_loop support backpropag accumul intermedi result tensorarray xla support bound tensorarray workaround compil loop need either maximum_iter paramet set constant valu known compil time backpropag disabl use back_propfals dynam tftensorarray support write tftensorarray dynamic_sizetru compil xla write requir unknown number realloc array exce origin bound workaround provid static known bound array random number gener ignor tf seed xla current ignor tf seed random oper affect state tf random oper tfrandomnorm tfnndropout xla behav compil seed new uniqu seed run within process first run process alway yield result workaround use recommend rngshttpswwwtensorfloworgguiderandom_numbersstateless_rng tfrandomstateless_uniform tfrandomgener directli develop new backend xla preliminari guid earli adopt want easili retarget tensorflow hardwar effici manner guid stepbystep assum knowledg llvmhttpllvmorg bazelhttpsbazelbuild tensorflow xla provid abstract interfac new architectur acceler implement creat backend run tensorflow graph retarget xla significantli simpler scalabl implement everi exist tensorflow op new hardwar implement fall one follow scenario exist cpu architectur yet offici support xla without exist llvmhttpllvmorg backend noncpulik hardwar exist llvm backend noncpulik hardwar without exist llvm backend note llvm backend mean either one offici releas llvm backend custom llvm backend develop inhous scenario exist cpu architectur yet offici support xla scenario start look exist xla cpu backendhttpswwwtensorfloworgcodetensorflowcompilerxlaservicecpu xla make easi retarget tensorflow differ cpu use llvm sinc main differ xla backend cpu code gener llvm googl test xla x arm architectur hardwar vendor llvm backend hardwar simpl link backend llvm built xla jit mode xla cpu backend emit code host cpu aheadoftim compil xlaaotcompilationoptionshttpswwwtensorfloworgcodetensorflowcompilerxlaservicecompilerh provid llvm tripl configur target architectur exist llvm backend anoth kind code gener exist possibl reus exist cpu backend scenario noncpulik hardwar exist llvm backend possibl model new xlacompilerhttpswwwtensorfloworgcodetensorflowcompilerxlaservicecompilerh implement exist xlacpucompilerhttpswwwtensorfloworgcodetensorflowcompilerxlaservicecpucpu_compilercc xlagpucompilerhttpswwwtensorfloworgcodetensorflowcompilerxlaservicegpunvptx_compilercc class sinc alreadi emit llvm ir depend natur hardwar possibl mani llvm ir gener aspect chang lot code share exist backend good exampl follow gpu backendhttpswwwtensorfloworgcodetensorflowcompilerxlaservicegpu xla gpu backend target noncpulik isa therefor aspect code gener uniqu gpu domain kind hardwar eg dsp like hexagon upstream llvm backend reus part llvm ir emiss logic part uniqu scenario noncpulik hardwar without exist llvm backend possibl util llvm best option implement new backend xla desir hardwar option requir effort class need implement follow streamexecutorhttpswwwtensorfloworgcodetensorflowstream_executorstream_executorh mani devic method streamexecutor need see exist streamexecutor implement detail xlacompilerhttpswwwtensorfloworgcodetensorflowcompilerxlaservicecompilerh class encapsul compil hlo comput xlaexecut xlaexecutablehttpswwwtensorfloworgcodetensorflowcompilerxlaserviceexecutableh class use launch compil comput platform xlatransfermanagerhttpswwwtensorfloworgcodetensorflowcompilerxlaservicetransfer_managerh class enabl backend provid platformspecif mechan construct xla liter data given devic memori handl word help encapsul transfer data host devic back xla custom call document describ write use xla custom call custom call let invok code written program languag like c cuda xla program warn custom call lowlevel powerus featur easi break program difficulttodebug even difficulttonotic way use customcal shouldnt use custom call unless your prepar debug xla someth goe wrong expect rel less assist xla develop run troubl warn customcal apiabi current stabl dont intend chang caprici may chang possibl futur chang describ customcal cpu creat hlo instruct repres customcal via xla client api expos via tensorflow write exampl follow code use customcal comput ai bi ci cpu cours could regular hlo c includ tensorflowcompilerxlaclientxla_builderh includ tensorflowcompilerxlaservicecustom_call_target_registryh void do_it xlaxlabuild bdo_it xlaxlaop param xlaparameterb xlashapeutilmakeshapexlaf p xlaxlaop param xlaparameterb xlashapeutilmakeshapexlaf p xlaxlaop custom_cal xlacustomcallb do_custom_cal operandsparam param shapexlashapeutilmakeshapexlaf void do_custom_callvoid const void float out_buf reinterpret_castfloatout const float reinterpret_castconst floatin const float reinterpret_castconst floatin int out_bufi ini ini xla_register_custom_call_targetdo_custom_cal host notic function do_custom_cal need know dimens buffer oper exampl hardcod size dont want pass dimens paramet call customcal gpu gpu custom call framework somewhat differ cpu cuda exampl ai bi ci comput cpu code c void do_it implement __global__ custom_call_kernelconst float const float float size_t idx blockidxx blockdimx threadidxx outidx inidx inidx void do_custom_callcustream stream void buffer const char opaqu size_t opaque_len const float reinterpret_castconst floatbuff const float reinterpret_castconst floatbuff float reinterpret_castfloatbuff const int block_dim const int grid_dim block_dim custom_call_kernelgrid_dim block_dim dynamic_shared_mem_byt streamin xla_register_custom_call_targetdo_custom_cal cuda notic first gpu custom call function still function execut cpu do_custom_cal cpu function respons enqueu work gpu launch cuda kernel could also someth els like call cubla buffer array pointer live host element contain point devic ie gpu memori paramet come first follow output valu notabl differ cpu call convent two param in main reason diverg make possibl handl tupleshap inputsoutput effici see section cpu exampl weve hardcod input output buffer size custom call howev unlik cpu case pass buffer size operand custom call would work well usual need buffer size avail us cpu eg launch kernel need know blockgrid dimens use pass buffer size operand custom call valu would live gpu memori wed expens synchron devicetohost memcpi start oper read size let work around provid opaqu paramet set arbitrari string byte creat custom call c stdstring opaqu xlacustomcallb do_custom_cal operandsparam param output_shapexlashapeutilmakeshapexlaf opaqu sinc xlashap protocol buffer represent could store serial proto insid opaqu deseri within gpu customcal note howev although xlashapeproto chang frequent chang check git log see chang past signal error custom call encount error signal error xla runtim instead eg crash return nonsens output buffer use follow signatur function cpu c includ tensorflowcompilerxlaservicecustom_call_statush void do_custom_callvoid const void xlacustomcallstatu statu gpu c includ tensorflowcompilerxlaservicecustom_call_statush void do_custom_callcustream stream void buffer const char opaqu size_t opaque_len xlaxlacustomcallstatu statu signal failur use xlacustomcallstatussetfailur eg c void do_custom_callvoid const void xlacustomcallstatu statu work bad_condit char error_messag error occur xlacustomcallstatussetfailurestatu error_messag strlenerror_messag return continu also use xlacustomcallstatussetsuccess indic success xlacustomcallstatu success state default ignor complet also indic success use custom call function signatur must creat correspond customcal op appropri api version set eg c xlacustomcallb do_custom_cal operandsparam param output_shapexlashapeutilmakeshapef opaqu has_side_effectfals output_operand_alias literalnullptr schedulexlacustomcallscheduleschedule_non api_versionapi_version_status_return note futur client requir migrat custom call function new api version old one deprec custom call cant fail simpli add new xlacustomcallstatu paramet ignor failur none custom call output use xla runtim termin comput possibl hlo comput recov error eg catch handl pass tupl customcal consid follow customcal c use xlashapeutil use xlaf shape p_shape shapeutilmaketupl shapeutilmakeshapef shapeutilmaketupl shapeutilmakeshapef shapeutilmakeshapef shapeutilmakeshapef xlaxlaop p xlaparamet p_shape p shape out_shap shapeutilmaketupl shapeutilmakeshapef shapeutilmakeshapef xlacustomcallb do_custom_cal operandsp out_shap cpu gpu tupl repres memori array pointer cpseudocod paramet laid follow c inmemori layout paramet customcal true cpu gpu float subbuf new float float subbuf new float float subbuf new float float subbuf new float void subtupl new void subtupl subbuf subtupl subbuf void p new void p subbuf p subtupl p subbuf although inmemori represent tupl cpu gpu handl differ cpu gpu customcal call convent tupl output temp buffer tupl input customcal conveni arent strictli necessari didnt support tupl input custom call could alway unpack tupl use gettupleel pass custom call hand tupl output let thing couldnt otherwis obviou reason tupl output that custom call xla op return multipl independ array less obvious tupl output also way give custom call temp memori ye output repres temp buffer consid output buffer properti op write read written that exactli want temp buffer exampl suppos want use f temp buffer wed write hlo wed simpli never read tupl index custom call output tupl cpu customcal cpu code function do_custom_callconst void in void in array one element point param subbuff param access dereferenc pointer subbuff output_tupl access dereferenc tupl gpu customcal gpu code function do_custom_cal void buffer case buffer host array six devic pointer one leaf buffer inputoutput gener flat list iter paramet output preorder travers shape concret c layout buffer paramet gpu custom call function customcal buffer subbuf buffer subbuf buffer subbuf buffer subbuf buffer output_subbuf buffer output_subbuf broadcast semant document describ broadcast semant xla work broadcast broadcast process make array differ shape compat shape arithmet oper terminolog borrow numpi broadcastinghttpdocsscipyorgdocnumpyuserbasicsbroadcastinghtml broadcast may requir oper multidimension array differ rank multidimension array differ compat shape consid addit xv x matrix array rank v vector array rank perform elementwis addit xla need broadcast vector v rank matrix x replic v certain number time vector length match least one dimens matrix exampl matrix dimens vector vector broadcast replic row get numpi call broadcastinghttpdocsscipyorgdocnumpyuserbasicsbroadcastinghtml principl xla languag strict explicit possibl avoid implicit magic featur featur may make comput slightli easier defin cost assumpt bake user code difficult chang long term necessari implicit magic featur ad clientlevel wrapper regard broadcast explicit broadcast specif oper array differ rank requir differ numpi infer specif possibl broadcast lowerrank array onto higherrank array scalar alway broadcast array without explicit specif broadcast dimens elementwis binari oper scalar array mean appli oper scalar element array exampl ad scalar matrix mean produc matrix element sum scalar correspond input matrix element broadcast need captur use tupl dimens binari oper input oper differ rank broadcast tupl specifi dimens higherrank array match lowerrank array consid previou exampl instead ad scalar matrix add vector dimens matrix dimens without specifi broadcast oper invalid correctli request matrixvector addit specifi broadcast dimens mean vector dimens match dimens matrix dimens consid row dimens column mean element vector becom column size match number row matrix complex exampl consid ad element vector dimens x matrix dimens two way broadcast happen exampl broadcast dimens use vector element becom column vector duplic row matrix broadcast dimens use vector element becom row vector duplic column matrix note ad x matrix element vector broadcast dimens invalid broadcast dimens tupl describ smaller rank shape broadcast larger rank shape exampl given xx cuboid x matrix broadcast tupl mean match matrix dimens cuboid type broadcast use binari op xlabuild broadcast_dimens argument given exampl see xlabuilderaddhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_buildercc xla sourc code type broadcast sometim call indim broadcast formal definit broadcast attribut allow match lowerrank array higherrank array specifi dimens higherrank array match exampl array dimens mxnxpxq vector dimens match follow mxnxpxq dim dim dim dim case equal match dimens higherrank array vector valu broadcast match dimens dimens match txv matrix onto mxnxpxq array pair broadcast dimens use mxnxpxq dim v dim v dim v etc order dimens broadcast tupl order lowerrank array dimens expect match higherrank array dimens first element tupl say dimens higherrank array match dimens lowerrank array second element dimens order broadcast dimens strictli increas exampl previou exampl illeg match v n p also illeg match v p n broadcast similarrank array degener dimens relat broadcast problem broadcast two array rank differ dimens size similarli numpi rule possibl array compat two array compat dimens compat two dimens compat equal one degener dimens two compat array encount result shape maximum among two input everi dimens index exampl broadcast broadcast broadcast incompat broadcast special case aris also support input array degener dimens differ index case result outer oper broadcast exampl consult numpi document broadcastinghttpdocsscipyorgdocnumpyuserbasicsbroadcastinghtml broadcast composit broadcast lowerrank array higherrank array broadcast use degener dimens perform binari oper exampl vector size matrix size x ad togeth use broadcast dimens valu x matrix vector first vector broadcast rank matrix use broadcast dimens singl valu broadcast dimens indic dimens zero vector match dimens zero matrix produc matrix size xm valu chosen match correspond dimens size x array therefor x matrix produc degener dimens broadcast broadcast dimens zero x matrix match correspond dimens size right hand side complic exampl matrix size x ad array size xx use broadcast dimens first x matrix broadcast rank use broadcast dimens produc intermedi mxx array dimens size determin size larger operand xx array produc xx intermedi array dimens leftmost dimens dimens map dimens origin x matrix broadcast dimens intermedi array ad xx matrix use broadcast degener dimens produc xx array result oper semant follow describ semant oper defin xlabuilderhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh interfac typic oper map onetoon oper defin rpc interfac xla_dataprotohttpswwwtensorfloworgcodetensorflowcompilerxlaxla_dataproto note nomenclatur gener data type xla deal ndimension array hold element uniform type bit float throughout document array use denot arbitrarydimension array conveni special case specif familiar name exampl vector dimension array matrix dimension array afteral see also xlabuilderafterallhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh afteral take variad number token produc singl token token primit type thread sideeffect oper enforc order afteral use join token order oper set oper b afteralloperand b argument type semant operand xlaop variad number token allgath see also xlabuilderallgatherhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh perform concaten across replica b allgatheroperand all_gather_dim shard_count replica_group_id channel_id b argument type semant operand xlaop array concaten across replica all_gather_dim int concaten dimens replica_group vector vector group int concaten perform channel_id option int option channel id crossmodul commun replica_group list replica group concaten perform replica id current replica retriev use replicaidreplicaid order replica group determin order input locat result replica_group must either empti case replica belong singl group order n contain number element number replica exampl replica_group perform concaten replica shard_count size replica group need case replica_group empti channel_id use crossmodul commun allgath oper channel_id commun output shape input shape all_gather_dim made shard_count time larger exampl two replica operand valu respect two replica output valu op all_gather_dim replica allreduc see also xlabuilderallreducehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh perform custom comput across replica b allreduceoperand comput replica_group_id channel_id b argument type semant operand xlaop array nonempti tupl array reduc across replica comput xlacomput reduct comput replica_group vector vector group int reduct perform channel_id option int option channel id crossmodul commun operand tupl array allreduc perform element tupl replica_group list replica group reduct perform replica id current replica retriev use replicaidreplicaid replica_group must either empti case replica belong singl group contain number element number replica exampl replica_group perform reduct replica channel_id use crossmodul commun allreduc oper channel_id commun output shape input shape exampl two replica operand valu respect two replica output valu op summat comput replica input tupl output tupl well comput result allreduc requir one input replica one replica execut allreduc node time anoth former replica wait forev sinc replica run program lot way happen possibl loop condit depend data infe data inf caus loop iter time one replica anoth alltoal see also xlabuilderalltoallhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh alltoal collect oper send data core core two phase scatter phase core operand split split_count number block along split_dimens block scatter core eg ith block send ith core gather phase core concaten receiv block along concat_dimens particip core configur replica_group replicagroup contain list replica id particip comput replica id current replica retriev use replicaidreplicaid alltoal appli within subgroup specifi order exampl replica_group mean alltoal appli within replica gather phase receiv block concaten order anoth alltoal appli within replica concaten order also replica_group empti replica belong one group concaten order appear prerequisit dimens size operand split_dimens divis split_count operand shape tupl b alltoalloperand split_dimens concat_dimens split_count replica_group b argument type semant operand xlaop n dimension input array split_dimens int valu interv n name dimens along operand split concat_dimens int valu interv n name dimens along split block concaten split_count int number core particip oper replica_group empti number replica otherwis equal number replica group replica_group replicagroup vector group contain list replica id show exampl alltoal xlabuild balltoal auto x parameterb shapeutilmakeshapef x alltoallx split_dimens concat_dimens split_count div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_alltoallpng div exampl core particip alltoal core operand split part along dimens part shape f part scatter core core concaten receiv part along dimens order core output core shape f batchnormgrad see also xlabuilderbatchnormgradhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh origin batch normal paperhttpsarxivorgab detail descript algorithm calcul gradient batch norm b batchnormgradoperand scale mean varianc grad_output epsilon feature_index b argument type semant operand xlaop n dimension array normal x scale xlaop dimension array gamma mean xlaop dimension array mu varianc xlaop dimension array sigma grad_output xlaop gradient pass batchnormtrain nabla epsilon float epsilon valu epsilon feature_index int index featur dimens operand featur featur dimens feature_index index featur dimens operand oper calcul gradient respect operand offset scale across dimens feature_index must valid index featur dimens operand three gradient defin follow formula assum dimension array operand featur dimens index l batch size spatial size w h beginsplit c_l fracmwhsum_imsum_jwsum_kh left nabla y_ijkl fracx_ijkl mu_lsigma_lepsilon right nabla x_ijkl fracgamma_lsqrtsigma_lepsilon left nabla y_ijkl mathrmmeannabla c_l x_ijkl mu_l right nabla gamma_l sum_imsum_jwsum_kh left nabla y_ijkl fracx_ijkl mu_lsqrtsigma_lepsilon right nabla beta_l sum_imsum_jwsum_kh nabla y_ijkl endsplit input mean varianc repres moment valu across batch spatial dimens output type tupl three handl output type semant grad_operand xlaop gradient respect input operand nabla x grad_scal xlaop gradient respect input scale nabla gamma grad_offset xlaop gradient respect input offset nabla beta batchnorminfer see also xlabuilderbatchnorminferencehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh origin batch normal paperhttpsarxivorgab detail descript algorithm normal array across batch spatial dimens b batchnorminferenceoperand scale offset mean varianc epsilon feature_index b argument type semant operand xlaop n dimension array normal scale xlaop dimension array offset xlaop dimension array mean xlaop dimension array varianc xlaop dimension array epsilon float epsilon valu feature_index int index featur dimens operand featur featur dimens feature_index index featur dimens operand oper calcul mean varianc across dimens use mean varianc normal element operand feature_index must valid index featur dimens operand batchnorminfer equival call batchnormtrain without comput mean varianc batch use input mean varianc instead estim valu purpos op reduc latenc infer henc name batchnorminfer output ndimension normal array shape input operand batchnormtrain see also xlabuilderbatchnormtraininghttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh origin batch normal paperhttpsarxivorgab detail descript algorithm normal array across batch spatial dimens b batchnormtrainingoperand scale offset epsilon feature_index b argument type semant operand xlaop n dimension array normal x scale xlaop dimension array gamma offset xlaop dimension array beta epsilon float epsilon valu epsilon feature_index int index featur dimens operand featur featur dimens feature_index index featur dimens operand oper calcul mean varianc across dimens use mean varianc normal element operand feature_index must valid index featur dimens operand algorithm goe follow batch operand x contain element w h size spatial dimens assum operand dimension array calcul batch mean mu_l featur l featur dimens mu_lfracmwhsum_imsum_jwsum_kh x_ijkl calcul batch varianc sigma_l sigma_lfracmwhsum_imsum_jwsum_kh x_ijkl mu_l normal scale shift y_ijklfracgamma_lx_ijklmu_lsqrtsigma_lepsilonbeta_l epsilon valu usual small number ad avoid dividebyzero error output type tupl three xlaop output type semant output xlaop n dimension array shape input operand batch_mean xlaop dimension array mu batch_var xlaop dimension array sigma batch_mean batch_var moment calcul across batch spatial dimens use formula bitcastconverttyp see also xlabuilderbitcastconverttypehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh similar tfbitcast tensorflow perform elementwis bitcast oper data shape target shape input output size must match eg element becom f element via bitcast routin one element becom four element bitcast implement lowlevel cast machin differ floatingpoint represent give differ result b bitcastconverttypeoperand new_element_typ b argument type semant operand xlaop array type dim new_element_typ primitivetyp type u dimens operand target shape must match apart last dimens chang ratio primit size convers sourc destin element type must tupl bitcastconvert primit type differ width bitcastconvert hlo instruct support case size output element type equal size input element whole oper conceptu bitcast chang underli byte shape output element chang b sizeoft b sizeoft two possibl case first b b output shape get new minormost dimens size bb exampl f output f bitcastconvertf input rule remain effect scalar f output f bitcastconvertf input altern b b instruct requir last logic dimens input shape equal bb dimens drop convers f output f bitcastconvertf input note convers differ bitwidth elementwis broadcast see also xlabuilderbroadcasthttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh add dimens array duplic data array b broadcastoperand broadcast_s b argument type semant operand xlaop array duplic broadcast_s arraysliceint size new dimens new dimens insert left ie broadcast_s valu operand shape dimens b bm shape output dimens b bm new dimens index copi operand ie outputi j jm operandj jm exampl operand scalar f valu f broadcast_s result array shape f valu result f broadcastindim see also xlabuilderbroadcastindimhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh expand size rank array duplic data array b broadcastindimoperand out_dim_s broadcast_dimens b argument type semant operand xlaop array duplic out_dim_s arraysliceint size dimens target shape broadcast_dimens arraysliceint dimens target shape dimens operand shape correspond similar broadcast allow ad dimens anywher expand exist dimens size operand broadcast shape describ out_dim_s broadcast_dimens map dimens operand dimens target shape ie ith dimens operand map broadcast_dimensionith dimens output shape dimens operand must size size dimens output shape map remain dimens fill dimens size degeneratedimens broadcast broadcast along degener dimens reach output shape semant describ detail broadcast pagebroadcastingmd call see also xlabuildercallhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh invok comput given argument b callcomput arg b argument type semant comput xlacomput comput type t_ t_ t_n n paramet arbitrari type arg sequenc n xlaop n argument arbitrari type ariti type arg must match paramet comput allow arg choleski see also xlabuildercholeskyhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh comput choleski decompositionhttpsenwikipediaorgwikicholesky_decomposit batch symmetr hermitian posit definit matric b choleskya lower b argument type semant xlaop rank array complex floatingpoint type lower bool whether use upper lower triangl lower true comput lowertriangular matric l l lt lower fals comput uppertriangular matric u ut u input data read lowerupp triangl depend valu lower valu triangl ignor output data return triangl valu triangl implementationdefin may anyth rank greater treat batch matric except minor dimens batch dimens symmetr hermitian posit definit result implementationdefin clamp see also xlabuilderclamphttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh clamp operand within rang minimum maximum valu b clampmin operand max b argument type semant min xlaop array type operand xlaop array type max xlaop array type given operand minimum maximum valu return operand rang minimum maximum els return minimum valu operand rang maximum valu operand rang clampa x b minmaxa x b three array must shape altern restrict form broadcastingbroadcastingmd min andor max scalar type exampl scalar min max let operand let min let max clampmin operand max collaps see also xlabuildercollapsehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh tfreshap oper collaps dimens array one dimens b collapseoperand dimens b argument type semant operand xlaop array type dimens int vector inord consecut subset ts dimens collaps replac given subset operand dimens singl dimens input argument arbitrari array type compiletimeconst vector dimens indic dimens indic must inord low high dimens number consecut subset ts dimens thu valid dimens set replac singl new dimens posit dimens sequenc replac new dimens size equal product origin dimens size lowest dimens number dimens slowest vari dimens major loop nest collaps dimens highest dimens number fastest vari minor see tfreshap oper gener collaps order need exampl let v array element let v fxx collaps singl dimens leav one dimens let v collapsev v f collaps two lower dimens leav two dimens let v collapsev v fx collaps two higher dimens leav two dimens let v collapsev v fx collectivepermut see also xlabuildercollectivepermutehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh collectivepermut collect oper send receiv data cross replica b collectivepermuteoperand source_target_pair b argument type semant operand xlaop n dimension input array source_target_pair int int vector list source_replica_id target_replica_id pair pair operand sent sourc replica target replica note follow restrict source_target_pair two pair target replica id sourc replica id replica id target pair output replica tensor consist shape input concaten see also xlabuilderconcatindimhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh concaten compos array multipl array operand array rank input array operand must rank contain argument order specifi b concatenateoperand dimens b argument type semant operand sequenc n xlaop n array type dimens l l requir n dimens int valu interv n name dimens concaten operand except dimens dimens must xla support rag array also note rank valu concaten imposs name dimens along concaten occur dimension exampl concat dimension exampl let let b concata b diagram div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_concatenatepng div condit see also xlabuilderconditionalhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh b conditionalpr true_operand true_comput false_operand false_comput b mdformat offdis mdformat proper mathjax format argument type semant pred xlaop scalar type pred true_operand xlaop argument type t_ true_comput xlacomput xlacomput type t_ false_operand xlaop argument type t_ false_comput xlacomput xlacomput type t_ execut true_comput pred true false_comput pred fals return result true_comput must take singl argument type t_ invok true_operand must type false_comput must take singl argument type t_ invok false_operand must type type return valu true_comput false_comput must mdformat note one true_comput false_comput execut depend valu pred b conditionalbranch_index branch_comput branch_operand b mdformat offdis mdformat proper mathjax format argument type semant branch_index xlaop scalar type branch_comput sequenc n xlacomput type xlacomput t_ t_ t_n branch_operand sequenc n xlaop argument type t_ t_ t_n mdformat execut branch_computationsbranch_index return result branch_index n branch_computationsn execut default branch branch_computationsb must take singl argument type t_b invok branch_operandsb must type type return valu branch_computationsb must note one branch_comput execut depend valu branch_index conv convolut see also xlabuilderconvhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh convwithgeneralpad pad specifi shorthand way either valid pad pad input lh zero output shape input take stride account valid pad simpli mean pad convwithgeneralpad convolut see also xlabuilderconvwithgeneralpaddinghttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh comput convolut kind use neural network convolut thought ndimension window move across ndimension base area comput perform possibl posit window argument type semant lh xlaop rank n array input rh xlaop rank n array kernel weight window_strid arraysliceint nd array kernel stride pad arrayslic pairint nd array low high int pad lhs_dilat arraysliceint nd lh dilat factor array rhs_dilat arraysliceint nd rh dilat factor array feature_group_count int number featur group batch_group_count int number batch group let n number spatial dimens lh argument rank n array describ base area call input even though cours rh also input neural network input activ n dimens order batch coordin dimens repres independ input convolut carri zdepthfeatur yx posit base area vector associ goe dimens spatial_dim describ n spatial dimens defin base area window move across rh argument rank n array describ convolut filterkernelwindow dimens order outputz z dimens output inputz size dimens time feature_group_count equal size z dimens lh spatial_dim describ n spatial dimens defin nd window move across base area window_strid argument specifi stride convolut window spatial dimens exampl stride first spatial dimens window place coordin first spatial index divis pad argument specifi amount zero pad appli base area amount pad neg absolut valu neg pad indic number element remov specifi dimens convolut pad specifi pad dimens pad specifi pad dimens x pair low pad first element high pad second element low pad appli direct lower indic high pad appli direct higher indic exampl pad pad zero left zero right second spatial dimens use pad equival insert zero valu input lh convolut lhs_dilat rhs_dilat argument specifi dilat factor appli lh rh respect spatial dimens dilat factor spatial dimens hole implicitli place entri dimens increas size array hole fill noop valu convolut mean zero dilat rh also call atrou convolut detail see tfnnatrous_convd dilat lh also call transpos convolut detail see tfnnconvd_transpos feature_group_count argument default valu use group convolut feature_group_count need divisor input output featur dimens feature_group_count greater mean conceptu input output featur dimens rh output featur dimens split evenli feature_group_count mani group group consist consecut subsequ featur input featur dimens rh need equal lh input featur dimens divid feature_group_count alreadi size group input featur ith group use togeth comput feature_group_count mani separ convolut result convolut concaten togeth output featur dimens depthwis convolut feature_group_count argument would set input featur dimens filter would reshap filter_height filter_width in_channel channel_multipli filter_height filter_width in_channel channel_multipli detail see tfnndepthwise_convd batch_group_count default valu argument use group filter backpropag batch_group_count need divisor size lh input batch dimens batch_group_count greater mean output batch dimens size input batch batch_group_count batch_group_count must divisor output featur size output shape dimens order batch size dimens time batch_group_count equal size batch dimens lh z size outputz kernel rh spatial_dim one valu valid placement convolut window valid placement convolut window determin stride size base area pad describ convolut consid convolut pick fix batch z x coordin output yx posit corner window within base area eg upper left corner depend interpret spatial dimens window taken base area point associ vector get box convolut kernel sinc fix output coordin z also box two box dimens take sum elementwis product two box similar dot product output valu note outputz eg posit window produc valu output z dimens output valu differ part convolut kernel use separ box valu use outputz coordin could think separ convolut differ filter pseudocod convolut pad stride b oz oy ox output coordin valu iz ky kx kernel coordin input z iy oystride_i ky pad_low_i ix oxstride_x kx pad_low_x iy ix insid base area consid without pad valu inputb iz iy ix kerneloz iz ky kx outputb oz oy ox valu convertelementtyp see also xlabuilderconvertelementtypehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh similar elementwis static_cast c perform elementwis convers oper data shape target shape dimens must match convers elementwis one eg element becom f element via stof convers routin b convertelementtypeoperand new_element_typ b argument type semant operand xlaop array type dim new_element_typ primitivetyp type u dimens operand target shape must match sourc destin element type must tupl convers ts uf perform normal inttofloat convers routin roundtonearesteven note precis floattoint visaversa convers current unspecifi may becom addit argument convert oper futur possibl convers implement target let let b f converta f b f crossreplicasum perform allreduc summat comput optimizationbarri block optim pass move comput across barrier ensur input evalu oper depend barrier output customcal see also xlabuildercustomcallhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh call userprovid function within comput b customcalltarget_nam arg shape b argument type semant target_nam string name function call instruct emit target symbol name arg sequenc n xlaop n argument arbitrari type pass function shape shape output shape function function signatur regardless ariti type arg extern c void target_namevoid void exampl customcal use follow let x f let fx customcallmyfunc x fx exampl implement myfunc extern c void myfuncvoid void float x static_castfloatin float static_castfloatin expect_eq x expect_eq x expect_eq expect_eq expect_eq expect_eq expect_eq expect_eq float z static_castfloatout z x userprovid function must sideeffect execut must idempot note opaqu natur userprovid function restrict optim opportun compil tri express comput term nativ xla op whenev possibl use customcal last resort dot see also xlabuilderdothttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh b dotlh rh b argument type semant lh xlaop array type rh xlaop array type exact semant oper depend rank operand input output semant vector n dot vector scalar vector dot product n matrix x k dot vector matrixvector vector k multipl matrix x k dot matrix x n matrixmatrix matrix k x n multipl oper perform sum product second dimens lh first rank first dimens rh contract dimens contract dimens lh rh must size practic use perform dot product vector vectormatrix multipl matrixmatrix multipl dotgener see also xlabuilderdotgeneralhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh b dotgenerallh rh dimension_numb b argument type semant lh xlaop array type rh xlaop array type dimension_numb dotdimensionnumb contract batch dimens number dot allow contract batch dimens number specifi lh rh dotdimensionnumb field type semant lhs_contracting_dimens repeat int lh contract dimens number rhs_contracting_dimens repeat int rh contract dimens number lhs_batch_dimens repeat int lh batch dimens number rhs_batch_dimens repeat int rh batch dimens number dotgener perform sum product contract dimens specifi dimension_numb associ contract dimens number lh rh need must dimens size exampl contract dimens number lh rh dotdimensionnumb dnum dnumsadd_lhs_contracting_dimens dnumsadd_rhs_contracting_dimens dotgenerallh rh dnum associ batch dimens number lh rh must dimens size exampl batch dimens number batch size x matric lh rh dotdimensionnumb dnum dnumsadd_lhs_contracting_dimens dnumsadd_rhs_contracting_dimens dnumsadd_lhs_batch_dimens dnumsadd_rhs_batch_dimens dotgenerallh rh dnum input output semant b k dot b k n b n batch matmul b b k dot b b k n b b n batch matmul follow result dimens number start batch dimens lh noncontractingnonbatch dimens final rh noncontractingnonbatch dimens dynamicslic see also xlabuilderdynamicslicehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh dynamicslic extract subarray input array dynam start_indic size slice dimens pass size_indic specifi end point exclus slice interv dimens start start size shape start_indic must rank dimens size equal rank operand b dynamicsliceoperand start_indic size_indic b argument type semant operand xlaop n dimension array type start_indic sequenc n xlaop list n scalar integ contain start indic slice dimens valu must greater equal zero size_indic arraysliceint list n integ contain slice size dimens valu must strictli greater zero start size must less equal size dimens avoid wrap modulo dimens size effect slice indic comput appli follow transform index n perform slice start_indicesi clampstart_indicesi operanddimension_sizei size_indicesi ensur extract slice alway inbound respect operand array slice inbound transform appli transform effect dimension exampl let let dynamicslicea produc dimension exampl let b let dynamicsliceb produc dynamicupdateslic see also xlabuilderdynamicupdateslicehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh dynamicupdateslic gener result valu input array operand slice updat overwritten start_indic shape updat determin shape subarray result updat shape start_indic must rank dimens size equal rank operand b dynamicupdatesliceoperand updat start_indic b argument type semant operand xlaop n dimension array type updat xlaop n dimension array type contain slice updat dimens updat shape must strictli greater zero start updat must less equal operand size dimens avoid gener outofbound updat indic start_indic sequenc n xlaop list n scalar integ contain start indic slice dimens valu must greater equal zero effect slice indic comput appli follow transform index n perform slice start_indicesi clampstart_indicesi operanddimension_sizei updatedimension_sizei ensur updat slice alway inbound respect operand array slice inbound transform appli transform effect dimension exampl let let u let dynamicupdateslicea u produc dimension exampl let b let u let dynamicupdatesliceb u produc elementwis binari arithmet oper see also xlabuilderaddhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh set elementwis binari arithmet oper support b oplh rh b op one add addit sub subtract mul multipl div divis rem remaind max maximum min minimum logicaland logic logicalor logic argument type semant lh xlaop lefthandsid operand array type rh xlaop righthandsid operand array type argument shape either similar compat see broadcastingbroadcastingmd document mean shape compat result oper shape result broadcast two input array variant oper array differ rank support unless one operand scalar op rem sign result taken dividend absolut valu result alway less divisor absolut valu integ divis overflow signedunsign divisionremaind zero sign divisionremaind int_smin produc implement defin valu altern variant differentrank broadcast support exist oper b oplh rh broadcast_dimens b op variant oper use arithmet oper array differ rank ad matrix vector addit broadcast_dimens operand slice integ use expand rank lowerrank operand rank higherrank operand broadcast_dimens map dimens lowerrank shape dimens higherrank shape unmap dimens expand shape fill dimens size one degeneratedimens broadcast broadcast shape along degener dimens equal shape operand semant describ detail broadcast pagebroadcastingmd elementwis comparison oper see also xlabuildereqhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh set standard elementwis binari comparison oper support note standard ieee floatingpoint comparison semant appli compar floatingpoint type b oplh rh b op one eq equalto ne equalto ge greaterorequalthan gt greaterthan le lessorequalthan lt lessthan anoth set oper eqtotalord netotalord getotalord gttotalord letotalord lttotalord provid function except addit support total order float point number enforc nan inf finit finit inf nan argument type semant lh xlaop lefthandsid operand array type rh xlaop righthandsid operand array type argument shape either similar compat see broadcastingbroadcastingmd document mean shape compat result oper shape result broadcast two input array element type pred variant oper array differ rank support unless one operand scalar altern variant differentrank broadcast support exist oper b oplh rh broadcast_dimens b op variant oper use comparison oper array differ rank ad matrix vector addit broadcast_dimens operand slice integ specifi dimens use broadcast operand semant describ detail broadcast pagebroadcastingmd elementwis unari function xlabuild support elementwis unari function babsoperandb elementwis ab x x bceiloperandb elementwis ceil x x bcosoperandb elementwis cosin x cosx bexpoperandb elementwis natur exponenti x ex bflooroperandb elementwis floor x x bimagoperandb elementwis imaginari part complex real shape x imagx operand float point type return bisfiniteoperandb test whether element operand finit ie posit neg infin nan return array pred valu shape input element true correspond input element finit blogoperandb elementwis natur logarithm x lnx blogicalnotoperandb elementwis logic x x blogisticoperandb elementwis logist function comput x logisticx bpopulationcountoperandb comput number bit set element operand bnegoperandb elementwis negat x x brealoperandb elementwis real part complex real shape x realx operand float point type return valu brsqrtoperandb elementwis reciproc squar root oper x sqrtx bsignoperandb elementwis sign oper x sgnx textsgnx begincas x x nan x nan x x endcas use comparison oper element type operand bsqrtoperandb elementwis squar root oper x sqrtx bcbrtoperandb elementwis cubic root oper x cbrtx btanhoperandb elementwis hyperbol tangent x tanhx argument type semant operand xlaop operand function function appli element operand array result array shape allow operand scalar rank fft xla fft oper implement forward invers fourier transform real complex inputsoutput multidimension fft axe support see also xlabuilderffthttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh argument type semant operand xlaop array fourier transform fft_type ffttype see tabl fft_length arraysliceint timedomain length axe transform need particular irfft rightsiz innermost axi sinc rfftfft_length output shape rfftfft_length ffttype semant fft forward complextocomplex fft shape unchang ifft invers complextocomplex fft shape unchang rfft forward realtocomplex fft shape innermost axi reduc fft_length fft_length nonzero valu omit revers conjug part transform signal beyond nyquist frequenc irfft invers realtocomplex fft ie take complex return real shape innermost axi expand fft_length fft_length nonzero valu infer part transform signal beyond nyquist frequenc revers conjug fft_length entri multidimension fft fft_length provid equival appli cascad fft oper innermost axe note realcomplex complexr case innermost axi transform effect perform first rfft last irfft innermost axi one chang size axi transform complexcomplex implement detail cpu fft back eigen tensorfft gpu fft use cufft gather xla gather oper stitch togeth sever slice slice potenti differ runtim offset input array gener semant see also xlabuildergatherhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh intuit descript see inform descript section b gatheroperand start_indic offset_dim collapsed_slice_dim slice_s start_index_map b argument type semant operand xlaop array gather start_indic xlaop array contain start indic slice gather index_vector_dim int dimens start_indic contain start indic see detail descript offset_dim arraysliceint set dimens output shape offset array slice operand slice_s arraysliceint slice_sizesi bound slice dimens collapsed_slice_dim arraysliceint set dimens slice collaps away dimens must size start_index_map arraysliceint map describ map indic start_indic legal indic operand indices_are_sort bool whether indic guarante sort caller unique_indic bool whether indic guarante uniqu caller conveni label dimens output array offset_dim batch_dim output array rank batch_dimss offset_dimss operandrank must equal sum offset_dimss collapsed_slice_dimss also slice_sizess equal operandrank index_vector_dim equal start_indicesrank implicitli consid start_indic trail dimens ie start_indic shape index_vector_dim implicitli consid shape start_indic bound output array along dimens comput follow present batch_dim ie equal batch_dimsk k pick correspond dimens bound start_indicesshap skip index_vector_dim ie pick start_indicesshapedimsk k index_vector_dim start_indicesshapedimsk otherwis present offset_dim ie equal offset_dimsk k pick correspond bound slice_s account collapsed_slice_dim ie pick adjusted_slice_sizesk adjusted_slice_s slice_s bound indic collapsed_slice_dim remov formal operand index correspond given output index calcul follow let g outk k batch_dim use g slice vector si start_indicescombineg combinea b insert b posit index_vector_dim note well defin even g empti g empti start_indic creat start index ssubinsub operand use scatter use start_index_map precis ssubinsubstart_index_mapk sk k start_index_maps ssubinsub_ otherwis creat index osubinsub operand scatter indic offset dimens accord collapsed_slice_dim set precis osubinsubremapped_offset_dimsk outoffset_dimsk k offset_dimss remapped_offset_dim defin osubinsub_ otherwis osubinsub ssubinsub elementwis addit remapped_offset_dim monoton function domain offset_dimss rang operandrank collapsed_slice_dim eg offset_dimss operandrank collapsed_slice_dim remapped_offset_dim indices_are_sort set true xla assum start_indic sort ascend start_index_map order user semant implement defin unique_indic set true xla assum element scatter uniqu xla could use nonatom oper unique_indic set true indic scatter uniqu semant implement defin inform descript exampl inform everi index output array correspond element e operand array comput follow use batch dimens look start index start_indic use start_index_map map start index whose size may less operandrank full start index operand dynamicslic slice size slice_s use full start index reshap slice collaps collapsed_slice_dim dimens sinc collaps slice dimens must bound reshap alway legal use offset dimens index slice get input element e correspond output index index_vector_dim set start_indicesrank exampl follow interest valu index_vector_dim chang oper fundament make visual represent cumbersom get intuit fit togeth let look exampl gather slice shape array posit slice array repres index vector shape set posit repres array behavior gather oper depict index transform take gosubsubosubsub index output shape map element input array follow way div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_xla_gather_svg div first select xy vector gather indic array use g element output array index gosubsubosubsub element input array index xosubsubyosubsub slice_s decid rang osubsub osubsub turn decid bound slice gather oper act batch dynam slice g batch dimens gather indic may multidimension instanc gener version exampl use gather indic array shape would translat indic like div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_xla_gather_svg div act batch dynam slice gsubsub gsubsub batch dimens slice size still gather oper xla gener inform semant outlin follow way configur dimens output shape offset dimens dimens contain osubsub osubsub last exampl output batch dimens dimens contain gsubsub gsubsub last exampl defin output dimens offset dimens number output offset dimens explicitli present output shape may smaller input rank miss dimens list explicitli collapsed_slice_dim must slice size sinc slice size valid index elid introduc ambigu slice extract gather indic array x last exampl may fewer element input array rank explicit map dictat index expand rank input final exampl use implement tfgather_nd div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_xla_gather_svg div gsubsub gsubsub use slice start index gather indic array usual except start index one element x similarli one output offset index valu osubsub howev use indic input array expand accord gather index map start_index_map formal descript offset map remapped_offset_dim formal descript x osubsub respect ad xosubsub word output index gsubsubgsubsubosubsub map input index gatherindicesgsubsubgsubsubx give us semant tfgather_nd slice_s case intuit mean everi index x gather indic array pick entir row result concaten row getdimensions see also xlabuildergetdimensionsizehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh return size given dimens operand operand must array shape b getdimensionsizeoperand dimens b argument type semant operand xlaop n dimension input array dimens int valu interv n specifi dimens setdimensions see also xlabuildersetdimensionsizehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh set dynam size xlaop given dimens operand must array shape b setdimensionsizeoperand size dimens b argument type semant operand xlaop n dimension input array size xlaop int repres runtim dynam size dimens int valu interv n specifi dimens pass operand result dynam dimens track compil pad valu ignor downstream reduct op let v f f let five let six set dynam dimens size doesnt chang upper bound static shape let padded_v_f f set_dimension_sizev five dimens let padded_v_six f set_dimension_sizev six dimens sum let sumf reduce_sumpadded_v_f product let productf reduce_productpadded_v_f chang pad size yield differ result sum let sumf reduce_sumpadded_v_six gettupleel see also xlabuildergettupleelementhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh index tupl compiletimeconst valu valu must compiletimeconst shape infer determin type result valu analog stdgetint nt c conceptu let v f f let let f tuplev let element_ gettupleelementt infer shape match see also tftupl infe see also xlabuilderinfeedhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh b infeedshap b argument type semant shape shape shape data read infe interfac layout field shape must set match layout data sent devic otherwis behavior undefin read singl data item implicit infe stream interfac devic interpret data given shape layout return xlaop data multipl infe oper allow comput must total order among infe oper exampl two infe code total order sinc depend loop result condit init init_valu infeedshap result condit init result infeedshap nest tupl shape support empti tupl shape infe oper effect noop proce without read data infe devic note plan allow multipl infe oper without total order case compil provid inform infe oper serial compil program iota see also xlabuilderiotahttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh b iotashap iota_dimens b build constant liter devic rather potenti larg host transfer creat array specifi shape hold valu start zero increment one along specifi dimens floatingpoint type produc array equival convertelementtypeiota iota integr type convers floatingpoint type argument type semant shape shape shape array creat iota iota_dimens int dimens increment along exampl iota return iota return map see also xlabuildermaphttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh b mapoperand comput b argument type semant operand sequenc n xlaop n array type t_t_n comput xlacomput comput type t_ t_ t_n n paramet type arbitrari type dimens int array array map dimens appli scalar function given operand array produc array dimens element result map function appli correspond element input array map function arbitrari comput restrict n input scalar type singl output type output dimens operand except element type replac exampl mapop op op comput par map elem_out computationelem elem elem par multidimension index input array produc output array pad see also xlabuilderpadhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh b padoperand padding_valu padding_config b argument type semant operand xlaop array type padding_valu xlaop scalar type fill ad pad padding_config paddingconfig pad amount edg low high element dimens expand given operand array pad around array well element array given padding_valu padding_config specifi amount edg pad interior pad dimens paddingconfig repeat field paddingconfigdimens contain three field dimens edge_padding_low edge_padding_high interior_pad edge_padding_low edge_padding_high specifi amount pad ad lowend next index highend next highest index dimens respect amount edg pad neg absolut valu neg pad indic number element remov specifi dimens interior_pad specifi amount pad ad two element dimens may neg interior pad occur logic edg pad case neg edg pad element remov interiorpad operand oper noop edg pad pair interior pad valu figur show exampl differ edge_pad interior_pad valu twodimension array div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_padpng div recv see also xlabuilderrecvhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh b recvshap channel_handl b argument type semant shape shape shape data receiv channel_handl channelhandl uniqu identifi sendrecv pair receiv data given shape send instruct anoth comput share channel handl return xlaop receiv data client api recv oper repres synchron commun howev instruct intern decompos hlo instruct recv recvdon enabl asynchron data transfer see also hloinstructioncreaterecv hloinstructioncreaterecvdonehttpswwwtensorfloworgcodetensorflowcompilerxlaservicehlo_instructionh brecvconst shape shape int channel_idb alloc resourc requir receiv data send instruct channel_id return context alloc resourc use follow recvdon instruct wait complet data transfer context tupl receiv buffer shape request identifi u use recvdon instruct b recvdonehloinstruct context b given context creat recv instruct wait data transfer complet return receiv data reduc see also xlabuilderreducehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh appli reduct function one array parallel b reduceoperand init_valu comput dimens b argument type semant operand sequenc n xlaop n array type t_ t_n init_valu sequenc n xlaop n scalar type t_ t_n comput xlacomput comput type t_ t_n t_ t_n collatet_ t_n dimens int array unord array dimens reduc n requir greater equal input array must dimens n collatet n collatet_ t_n tupl n element type output op collateq_ q_n q_i array type t_i dimens describ oper reduc one dimens input array scalar rank return array rankoperand lendimens initi valu use everi reduct init_valu may insert anywher comput backend requir init_valu ident reduct function exampl addit undefin behavior occur appli comput alway pass init_valu lefthand side differ backend allow reassoci reduct comput lead numer differ reduct function like addit associ float howev rang data limit floatingpoint addit close enough associ practic use exampl reduc across one dimens singl array valu reduct function f comput could comput f f f finit_valu also mani possibl eg finit_valu ff finit_valu ffinit_valu finit_valu follow rough pseudocod exampl reduct could implement use summat reduct comput initi valu python result_shap remov dim dimens operand_shap iter element result_shap number rs equal rank result r rangeresult_shap r rangeresult_shap initi result element resultr r iter reduct dimens rangedimens rangedimens increment result element valu operand element index operand element construct ri di right order construct ri di togeth index whole operand shape resultr r operandri di here exampl reduc array matrix shape rank dimens size dimens size div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_d_matrixpng div result reduc dimens add function div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_reduce_from_d_matrixpng div note reduct result array diagram show one column anoth row visual conveni complex exampl array rank dimens size dimens size dimens size simplic valu replic across dimens div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_reduce_from_d_matrixpng div similarli exampl reduc one dimens reduc dimens exampl get rank array valu across dimens fold scalar text reduc dimens also get rank array valu across dimens fold scalar text note rel order remain dimens input preserv output dimens may get assign new number sinc rank chang also reduc multipl dimens addreduc dimens produc array reduc array dimens produc scalar variad reduc n reduc function applic slightli complex appli simultan input operand suppli comput follow order run reduc valu first operand run reduc valu nth operand input valu first operand input valu nth operand exampl consid follow reduct function use comput max argmax array parallel python f float int float int float int fmax argmax valu index valu max return valu index els return max argmax input array v floatn k intn init valu i_v float i_k int result f_n reduc across input dimens equival follow recurs applic f_ fi_v i_k v_ k_ f_ ff_first f_second v_ k_ f_n ff_nfirst f_nsecond v_n k_n appli reduct array valu array sequenti indic ie iota coiter array return tupl contain maxim valu match index reduceprecis see also xlabuilderreduceprecisionhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh model effect convert floatingpoint valu lowerprecis format ieeefp back origin format number expon mantissa bit lowerprecis format specifi arbitrarili although bit size may support hardwar implement b reduceprecisionoperand mantissa_bit exponent_bit b argument type semant operand xlaop array floatingpoint type exponent_bit int number expon bit lowerprecis format mantissa_bit int number mantissa bit lowerprecis format result array type input valu round nearest valu represent given number mantissa bit use tie even semant valu exceed rang specifi number expon bit clamp posit neg infin nan valu retain although may convert canon nan valu lowerprecis format must least one expon bit order distinguish zero valu infin sinc zero mantissa must nonneg number mantissa bit number expon mantissa bit may exceed correspond valu type correspond portion convers simpli noop reducescatt see also xlabuilderreducescatterhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh reducescatt collect oper effect allreduc scatter result split shard_count block along scatter_dimens replica replica group receiv ith shard b reducescatteroperand comput scatter_dim shard_count replica_group_id channel_id b argument type semant operand xlaop array nonempti tupl array reduc across replica comput xlacomput reduct comput scatter_dimens int dimens scatter shard_count int number block split scatter_dimens replica_group vector vector group int reduct perform channel_id option int option channel id crossmodul commun operand tupl array reducescatt perform element tupl replica_group list replica group reduct perform replica id current replica retriev use replicaidreplicaid order replica group determin order allreduc result scatter replica_group must either empti case replica belong singl group contain number element number replica one replica group must size exampl replica_group perform reduct replica scatter result shard_count size replica group need case replica_group empti replica_group empti shard_count must equal size replica group channel_id use crossmodul commun reducescatt oper channel_id commun output shape input shape scatter_dimens made shard_count time smaller exampl two replica operand valu respect two replica output valu op scatter_dim first replica second replica reducewindow see also xlabuilderreducewindowhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh appli reduct function element window sequenc n multidimension array produc singl tupl n multidimension array output output array number element number valid posit window pool layer express reducewindow similar reducereduc appli comput alway pass init_valu lefthand side b reducewindowoperand init_valu comput window_dimens window_strid pad b argument type semant operand n xlaop sequenc n multidimension array type t_ t_n repres base area window place init_valu n xlaop n start valu reduct one n operand see reducereduc detail comput xlacomput reduct function type t_ t_n t_ t_n collatet_ t_n appli element window input operand window_dimens arraysliceint array integ window dimens valu window_strid arraysliceint array integ window stride valu base_dil arraysliceint array integ base dilat valu window_dil arraysliceint array integ window dilat valu pad pad pad type window paddingksam pad output shape input stride paddingkvalid use pad stop window longer fit n requir greater equal input array must dimens n collatet n collatet_ t_n tupl n element type ttn code figur show exampl use reducewindow input matrix size x window_dimens window_stride_dimens x creat comput reduct maximum xlacomput max xlabuild builderclient_ max auto builderparamet shapeutilmakeshapef auto x builderparamet shapeutilmakeshapef x buildermaxi x max builderbuildconsumevalueordi creat reducewindow comput max reduct comput xlabuild builderclient_ reduce_window_x auto shape shapeutilmakeshapef auto input builderparamet shape input builderreducewindow input init_valbuilderconstantliteralliteralutilminvaluef max window_dimens window_stride_dimens paddingkvalid div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_reduce_windowpng div stride dimens specifi posit window dimens element away adjac window order specifi window overlap window_stride_dimens equal window_dimens figur illustr use two differ stride valu pad appli dimens input calcul though input came dimens pad div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_reduce_window_stridepng div nontrivi pad exampl consid comput reducewindow minimum initi valu max_float dimens stride input array pad kvalid comput minimum two _valid_ window result output pad ksame first pad array shape reducewindow would _same_ input stride one ad initi element side get max_valu max_valu run reducewindow pad array oper three window max_valu max_valu yield evalu order reduct function arbitrari may nondeterminist therefor reduct function overli sensit reassoci see discuss associ context reducereduc detail replicaid see also xlabuilderreplicaidhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh return uniqu id u scalar replica b replicaid b uniqu id replica unsign integ interv n n number replica sinc replica run program replicaid call program return differ valu replica reshap see also xlabuilderreshapehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh collapsecollaps oper reshap dimens array new configur b reshapeoperand new_siz b b reshapeoperand dimens new_siz b argument type semant operand xlaop array type dimens int vector order dimens collaps new_siz int vector vector size new dimens conceptu reshap first flatten array onedimension vector data valu refin vector new shape input argument arbitrari array type compiletimeconst vector dimens indic compiletimeconst vector dimens size result valu dimens vector given must permut ts dimens default given rank order dimens dimens slowestvari dimens major fastestvari dimens minor loop nest collaps input array singl dimens new_siz vector determin size output array valu index new_siz size dimens valu index size dimens product new_siz dimens must equal product operand dimens size refin collaps array multidimension array defin new_siz dimens new_siz order slowest vari major fastest vari minor exampl let v array element let v fxx inord collaps let v_ reshapev v_ f let v_ reshapev v_ fx outoford collaps let v_ reshapev v_ f let v_ reshapev v_ fx let v_ reshapev v_ fxx special case reshap transform singleel array scalar vice versa exampl reshapefx reshap fx rev revers see also xlabuilderrevhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh brevoperand dimensionsb argument type semant operand xlaop array type dimens arraysliceint dimens revers revers order element operand array along specifi dimens gener output array shape element operand array multidimension index store output array transform index multidimension index transform revers index dimens revers ie dimens size n one revers dimens index transform n one use rev oper revers convolut weight array along two window dimens gradient comput neural network rngnormal see also xlabuilderrngnormalhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh construct output given shape random number gener follow nmu sigma normal distribut paramet mu sigma output shape float point element type paramet furthermor scalar valu brngnormalmu sigma shapeb argument type semant mu xlaop scalar type specifi mean gener number sigma xlaop scalar type specifi standard deviat gener number shape shape output shape type rnguniform see also xlabuilderrnguniformhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh construct output given shape random number gener follow uniform distribut interv ab paramet output element type boolean type integr type float point type type consist cpu gpu backend current support f f f bf u u furthermor paramet need scalar valu b result implementationdefin brnguniforma b shapeb argument type semant xlaop scalar type specifi lower limit interv b xlaop scalar type specifi upper limit interv shape shape output shape type rngbitgener gener output given shape fill uniform random bit use specifi algorithm backend default return updat state shape initi state gener random data initi state initi state current random number gener requir shape valid valu depend algorithm use output guarante determinist function initi state guarante determinist backend differ compil version brngbitgeneratoralgorithm key shapeb argument type semant algorithm randomalgorithm prng algorithm use initial_st xlaop initi state prng algorithm shape shape output shape gener data avail valu algorithm rng_default backend specif algorithm backend specif shape requir rng_three_fri threefri counterbas prng algorithm initial_st shape u arbitrari valu salmon et al sc parallel random number easi httpwwwthesalmonsorgjohnrandompapersrandomscpdf rng_philox philox algorithm gener random number parallel initial_st shape u arbitrari valu salmon et al sc parallel random number easi httpwwwthesalmonsorgjohnrandompapersrandomscpdf scatter xla scatter oper gener result valu input array operand sever slice indic specifi scatter_indic updat valu updat use update_comput see also xlabuilderscatterhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh b scatteroperand scatter_indic updat update_comput index_vector_dim update_window_dim inserted_window_dim scatter_dims_to_operand_dim b argument type semant operand xlaop array scatter scatter_indic xlaop array contain start indic slice must scatter updat xlaop array contain valu must use scatter update_comput xlacomput comput use combin exist valu input array updat scatter comput type index_vector_dim int dimens scatter_indic contain start indic update_window_dim arraysliceint set dimens updat shape _window dimensions_ inserted_window_dim arraysliceint set _window dimensions_ must insert updat shape scatter_dims_to_operand_dim arraysliceint dimens map scatter indic operand index space array interpret map scatter_dims_to_operand_dimsi onetoon total indices_are_sort bool whether indic guarante sort caller index_vector_dim equal scatter_indicesrank implicitli consid scatter_indic trail dimens defin update_scatter_dim type arraysliceint set dimens updat shape update_window_dim ascend order argument scatter follow constraint updat array must rank update_window_dimss scatter_indicesrank bound dimens updat must conform follow present update_window_dim ie equal update_window_dimsk k bound dimens updat must exceed correspond bound operand account inserted_window_dim ie adjusted_window_boundsk adjusted_window_bound contain bound operand bound indic inserted_window_dim remov present update_scatter_dim ie equal update_scatter_dimsk k bound dimens updat must equal correspond bound scatter_indic skip index_vector_dim ie scatter_indicesshapedimsk k index_vector_dim scatter_indicesshapedimsk otherwis update_window_dim must ascend order repeat dimens number rang updatesrank inserted_window_dim must ascend order repeat dimens number rang operandrank operandrank must equal sum update_window_dimss inserted_window_dimss scatter_dims_to_operand_dimss must equal scatter_indicesindex_vector_dim valu must rang operandrank given index u updat array correspond index operand array updat appli comput follow let g uk k update_scatter_dim use g look index vector scatter_indic array si scatter_indicescombineg combinea b insert b posit index_vector_dim creat index ssubinsub operand use scatter use scatter_dims_to_operand_dim map formal ssubinsubscatter_dims_to_operand_dimsk sk k scatter_dims_to_operand_dimss ssubinsub_ otherwis creat index wsubinsub operand scatter indic update_window_dim u accord inserted_window_dim formal wsubinsubwindow_dims_to_operand_dimsk uk k update_window_dim window_dims_to_operand_dim monoton function domain update_window_dimss rang operandrank inserted_window_dim exampl update_window_dimss operandrank inserted_window_dim window_dims_to_operand_dim wsubinsub_ otherwis wsubinsub ssubinsub elementwis addit summari scatter oper defin follow initi output operand ie indic operand array outputo operando everi index u updat array correspond index operand array valid index output outputo update_computationoutputo updatesu order updat appli nondeterminist multipl indic updat refer index operand correspond valu output nondeterminist note first paramet pass update_comput alway current valu output array second paramet alway valu updat array import specif case update_comput _not commutative_ indices_are_sort set true xla assum start_indic sort ascend start_index_map order user semant implement defin inform scatter op view _inverse_ gather op ie scatter op updat element input extract correspond gather op detail inform descript exampl refer inform descript section gather select see also xlabuilderselecthttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh construct output array element two input array base valu predic array b selectpr on_tru on_fals b argument type semant pred xlaop array type pred on_tru xlaop array type on_fals xlaop array type array on_tru on_fals must shape also shape output array array pred must dimension on_tru on_fals pred element type element p pred correspond element output array taken on_tru valu p true on_fals valu p fals restrict form broadcastingbroadcastingmd pred scalar type pred case output array taken wholli on_tru pred true on_fals pred fals exampl nonscalar pred let pred pred true fals fals true let v let v selectpr v v exampl scalar pred let pred pred true let v let v selectpr v v select tupl support tupl consid scalar type purpos on_tru on_fals tupl must shape pred scalar type pred selectandscatt see also xlabuilderselectandscatterhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh oper consid composit oper first comput reducewindow operand array select element window scatter sourc array indic select element construct output array shape operand array binari select function use select element window appli across window call properti first paramet index vector lexicograph less second paramet index vector select function return true first paramet select return fals second paramet select function must hold transit ie selecta b selectb c true selecta c also true select element depend order element travers given window function scatter appli select index output array take two scalar paramet current valu select index output array scatter valu sourc appli select index combin two paramet return scalar valu that use updat valu select index output array initi indic output array set init_valu output array shape operand array sourc array must shape result appli reducewindow oper operand array selectandscatt use backpropag gradient valu pool layer neural network bselectandscatteroperand select window_dimens window_strid pad sourc init_valu scatterb argument type semant operand xlaop array type window slide select xlacomput binari comput type pred appli element window return true first paramet select return fals second paramet select window_dimens arraysliceint array integ window dimens valu window_strid arraysliceint array integ window stride valu pad pad pad type window paddingksam paddingkvalid sourc xlaop array type valu scatter init_valu xlaop scalar valu type initi valu output array scatter xlacomput binari comput type appli scatter sourc element destin element figur show exampl use selectandscatt select function comput maxim valu among paramet note window overlap figur index operand array may select multipl time differ window figur element valu select top window blue red binari addit scatter function produc output element valu div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_scatter_to_selected_window_elementpng div evalu order scatter function arbitrari may nondeterminist therefor scatter function overli sensit reassoci see discuss associ context reducereduc detail send see also xlabuildersendhttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh b sendoperand channel_handl b argument type semant operand xlaop data send array type channel_handl channelhandl uniqu identifi sendrecv pair send given operand data recv instruct anoth comput share channel handl return data similar recv oper client api send oper repres synchron commun intern decompos hlo instruct send senddon enabl asynchron data transfer see also hloinstructioncreatesend hloinstructioncreatesenddonehttpswwwtensorfloworgcodetensorflowcompilerxlaservicehlo_instructionh bsendhloinstruct operand int channel_idb initi asynchron transfer operand resourc alloc recv instruct channel id return context use follow senddon instruct wait complet data transfer context tupl operand shape request identifi u use senddon instruct b senddonehloinstruct context b given context creat send instruct wait data transfer complet instruct return data b schedul channel instruct b execut order instruct channel recv recvdon send senddon div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagessend_recv_orderpng div recv happen send send happen recvdon recv happen recvdon send happen senddon backend compil gener linear schedul comput commun via channel instruct must cycl across comput exampl schedul lead deadlock div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagessend_recv_schedulepng div slice see also xlabuilderslicehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh slice extract subarray input array subarray rank input contain valu insid bound box within input array dimens indic bound box given argument slice oper b sliceoperand start_indic limit_indic b argument type semant operand xlaop n dimension array type start_indic arraysliceint list n integ contain start indic slice dimens valu must greater equal zero limit_indic arraysliceint list n integ contain end indic exclus slice dimens valu must greater equal respect start_indic valu dimens less equal size dimens stride arraysliceint list n integ decid input stride slice slice pick everi stridesd element dimens dimension exampl let slicea produc dimension exampl let b sliceb produc sort see also xlabuildersorthttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh bsortoperand compar dimens is_stableb argument type semant operand arrayslicexlaop operand sort compar xlacomput compar comput use dimens int dimens along sort is_stabl bool whether stabl sort use one operand provid operand rank tensor array result sort array want sort array ascend order compar perform lessthan comparison formal array sort hold index posit j j either comparatorvaluei valuej comparatorvaluej valuei fals comparatorvaluei valuej true operand higher rank operand sort along provid dimens exampl rank tensor matrix dimens valu independ sort everi column dimens valu independ sort row dimens number provid last dimens chosen default dimens sort sort order appli rank case n operand provid n operand must tensor dimens element type tensor may differ operand sort togeth individu conceptu operand treat tupl check whether element operand index posit j need swap compar call n scalar paramet paramet k correspond valu posit kth operand paramet k correspond valu posit j kth operand usual compar would thu compar paramet k k possibl use paramet pair tie breaker result tupl consist operand sort order along provid dimens ith operand tupl correspond ith operand sort exampl three operand operand operand operand compar compar valu operand lessthan output sort tupl is_stabl set true sort guarante stabl element consid equal compar rel order equal valu preserv default is_stabl set fals transpos see also tfreshap oper btransposeoperandb argument type semant operand xlaop operand transpos permut arraysliceint permut dimens permut operand dimens given permut rank input_dimensionspermutationi output_dimensionsi reshapeoperand permut permutepermut operandshapedimens triangularsolv see also xlabuildertriangularsolvehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh solv system linear equat lower upper triangular coeffici matric forward backsubstitut broadcast along lead dimens routin solv one matrix system opa x b x opa b variabl x given b opa either opa opa transposea opa conjtransposea b triangularsolvea b left_sid lower unit_diagon transpose_a b argument type semant xlaop rank array complex floatingpoint type shape b xlaop rank array type shape k left_sid true k otherwis left_sid bool indic whether solv system form opa x b true x opa b fals lower bool whether use upper lower triangl unit_diagon bool true diagon element assum access transpose_a transpos whether use transpos take conjug transpos input data read lowerupp triangl depend valu lower valu triangl ignor output data return triangl valu triangl implementationdefin may anyth rank b greater treat batch matric except minor dimens batch dimens b must equal batch dimens tupl see also xlabuildertuplehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh tupl contain variabl number data handl shape analog stdtupl c conceptu let v f f let let f tuplev tupl deconstruct access via gettupleel gettupleel oper see also xlabuilderwhilehttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh b whilecondit bodi init b argument type semant condit xlacomput xlacomput type pred defin termin condit loop bodi xlacomput xlacomput type defin bodi loop init initi valu paramet condit bodi sequenti execut bodi condit fail similar typic loop mani languag except differ restrict list node return valu type result last execut bodi shape type static determin must across iter paramet comput initi init valu first iter automat updat new result bodi subsequ iter one main use case node implement repeat execut train neural network simplifi pseudocod shown graph repres comput code found while_testcchttpswwwtensorfloworgcodetensorflowcompilerxlatestswhile_testcc type exampl tupl consist int iter count vector accumul iter loop keep ad constant vector accumul pseudocod comput init zero_vector tupl int float result init result iter result new_vector result constant_vector result iter new_vector div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesops_whilepng div tile layout caution tile layout prereleas describ intend work error may silent ignor p aligncent img srcimagesxla_array_layout_figurepng figur p figur show array f laid memori x tile shape layout written ft relat physic order dimens minor_to_major field layout colon indic tile physic dimens x tile intuit tile laid cover shape within tile element laid without tile exampl right part exampl show layout memori includ white pad element ad order complet x tile even though origin array bound even extra element pad requir contain particular valu linear index formula tile given shape tile without tile element eesubnsub esubnsub esubsub array array bound ddsubnsub dsubnsub dsubsub minor dimens laid major minor order posit nbspnbsp linear_index linear_indexesubnsub esubnsub esubsub dsubnsub dsubnsub dsubsub esubnsubdsubnsubdsubsub esubnsubdsubnsubdsubsub esubsub simplic notat document assum tile number dimens array xla implement tile gener tile fewer dimens leav initi mostmajor dimens unchang appli tile minor dimens tile specifi mention suffix physic dimens shape tile tile size tsubnsub tsubnsub tsubsub use element array indic esubnsub esubnsub esubsub map posit final layout nbspnbsp linear_index_with_tile linear_indexet e mod dt nbsp nbsp arithmet elementwis ab concaten linear_indexesubnsubtsubnsub esubsubtsubsub esubnsub mod tsubnsub esubsub mod tsubsub dsubnsubtsubnsub dsubsubtsubsub tsubnsub tsubnsub tsubsub linear_indexesubnsubtsubnsub esubsubtsubsub dsubnsubtsubnsub dsubsubtsubsubtsubnsubtsubnsubtsubsub linear_indexesubnsub mod tsubnsub esubsub mod tsubsub tsubnsub tsubnsub tsubsub layout thought two part esubnsubtsubnsub esubsubtsubsub correspond tile index array tile size dsubnsubtsubnsub dsubsubtsubsub esubnsub mod tsubnsub esubsub mod tsubsub correspond withintil index ceil function appear dsubisubtsubisub tile overrun bound larger array pad insert figur tile element within tile laid recurs without tile exampl figur element tile index withintil index combin coordin vector tile indic bound tile combin vector linear index tile element index logic shape nbspnbsp linear_index_with_til linear_index linear_index linear_index tile padreshapetranspos tilingbas layout oper follow consid array dimens dsubnsub dsubnsub minor dimens laid tile size tsubnsub tsubnsub tsubsub tsubsub minor dimens tile describ term padreshapetranspos follow way array pad dsubnsubtsubnsubtsubnsub dsubsubtsubsubtsubsub dimens broken dsubisubtsubisub tsubisub ie array reshap nbsp nbsp dsubnsubtsubnsub tsubnsub dsubsubtsubsub tsubsub physic layout chang reshap reshap bitcast one explicitli think tile reshap could express shape number element pad shape exampl express tile way transpos happen move tsubnsub tsubsub minor dimens keep rel order order dimens major minor becom nbsp nbsp dsubnsubtsubnsub dsubsubtsubsub tsubnsub tsubsub final shape prefix nbsp nbsp dsubnsubtsubnsub dsubsubtsubsub describ number tile dimens element array esubnsub esubsub map element final shape nbsp nbsp esubnsubtsubnsub esubsubtsubsub esubnsub mod tsubnsub esubsub mod tsubsub easi see linear index element follow formula expect repeat tile xla tile becom even flexibl appli repeatedli p aligncent img srcimagesxla_array_layout_figurepng figur p figur show array size x tile two level tile first x x repres repeat tile color indic x tile red border box x tile number indic linear index memori element tile format format match format use bf tpu except initi tile bigger name tile purpos second tile x collect togeth two bit valu form one bit valu way align architectur tpu note second later tile refer minor withintil dimens rearrang data within tile exampl also refer major crosstil dimens prior tile combin dimens use tile xla tile also support combin dimens exampl combin dimens f f first tile tile use lowastlowastlowast asterisk tile impli take dimens combin next minor dimens multipl adjac dimens subsum togeth one dimens subsum dimens repres tile valu dimens tile otherwis valid tile dimens size precis dimens shape elimin via asterisk tile prior definit tile appli dimens remov shape tile tile vector dimens shape array bound increas dsubisub dsubisubdsubisub step repeat asterisk tile vector xla acceler linear algebra doc httpswwwtensorfloworgxla shape layout xla shape proto xla_dataprotohttpswwwtensorfloworgcodetensorflowcompilerxlaxla_dataproto describ rank size data type ndimension array array short terminolog notat convent rank array equal number dimens true rank array number dimens size greater dimens number n n dimension array dimens number arbitrari label conveni order dimens number impli particular minormajor order layout shape layout determin layout proto convent dimens list increas order dimens number exampl dimension array size x b x c dimens size dimens size b dimens size c util xla also support neg index similarli python dimens last dimens equival n n dimension array exampl dimension array describ dimens size c dimens size b two three four dimension array often specif letter associ dimens exampl array dimens dimens x array dimens z dimens dimens x array dimens p dimens z dimens dimens x function xla api take dimens increas order dimens number match order use pass dimens initializer_list eg shapeutilmakeshapef b c creat shape whose dimens size array consist sequenc b c layout layout proto describ array repres memori layout proto includ follow field messag layout repeat int minor_to_major repeat int padded_dimens option paddingvalu padding_valu minortomajor dimens order requir field minor_to_major field describ minortomajor order dimens within shape valu minor_to_major order dimens array n n dimension array first valu mostminor dimens last valu mostmajor dimens mostminor dimens dimens chang rapidli step element array laid linear memori exampl consid follow array size x b c e f dimens size dimens size minor_to_major field layout dimens mostminor dimens dimens mostmajor dimens correspond follow layout linear memori b e c f minortomajor dimens order n akin columnmajor rank assum monoton order dimens anoth name may use refer layout code simpli dim minor hand minor_to_major field layout layout linear memori b c e f minortomajor dimens order n n dimension array akin rowmajor rank assum monoton order dimens anoth name may use refer layout code simpli dim major default minortomajor order default layout newli creat shape dimens order majortominor akin rowmajor rank pad pad defin option padded_dimens padding_valu field field padded_dimens describ size width dimens pad present number element padded_dimens must equal rank shape exampl given x array defin padded_dimens dimens pad width dimens pad width layout linear memori assum pad valu columnmajor layout b e c f equival layout follow array minortomajor dimens order b c e f index array class indexutil index_utilhhttpswwwtensorfloworgcodetensorflowcompilerxlaindex_utilh provid util convert multidimension indic linear indic given shape layout multidimension indic includ int index dimens linear indic singl int valu index buffer hold array see shape_utilh layout_utilh directori util simplifi creation manipul shape layout xla architectur div stylewidth marginauto marginbottompx margintoppx img stylewidth srcimagesxlalogopng div build xla sever object xla work tensorflow improv execut speed compil subgraph reduc execut time shortliv op elimin overhead tensorflow runtim fuse pipelin oper reduc memori overhead special known tensor shape allow aggress constant propag improv memori usag analyz schedul memori usag principl elimin mani intermedi storag buffer reduc relianc custom op remov need mani custom op improv perform automat fuse lowlevel op match perform custom op fuse hand reduc mobil footprint elimin tensorflow runtim aheadoftim compil subgraph emit objecthead file pair link directli anoth applic result reduc footprint mobil infer sever order magnitud improv portabl make rel easi write new backend novel hardwar point larg fraction tensorflow program run unmodifi hardwar contrast approach special individu monolith op new hardwar requir tensorflow program rewritten make use op xla work input languag xla call hlo ir hlo high level oper semant hlo describ oper semanticsoperation_semanticsmd page conveni think hlo compil irhttpsenwikipediaorgwikiintermediate_represent xla take graph comput defin hlo compil machin instruct variou architectur xla modular sens easi slot altern backend target novel hw architecturedeveloping_new_backendmd cpu backend x arm well nvidia gpu backend tensorflow sourc tree follow diagram show compil process xla div stylewidth marginauto marginbottompx margintoppx img srcimageshowdoesxlaworkpng div xla come sever optim analysi pass targetindepend csehttpsenwikipediaorgwikicommon_subexpression_elimin targetindepend oper fusion buffer analysi alloc runtim memori comput targetindepend step xla send hlo comput backend backend perform hlolevel optim time target specif inform need mind exampl xla gpu backend may perform oper fusion benefici specif gpu program model determin partit comput stream stage backend may also patternmatch certain oper combin thereof optim librari call next step targetspecif code gener cpu gpu backend includ xla use llvmhttpllvmorg lowlevel ir optim codegener backend emit llvm ir necessari repres xla hlo comput effici manner invok llvm emit nativ code llvm ir gpu backend current support nvidia gpu via llvm nvptx backend cpu backend support multipl cpu isa alias xla document describ alias api xla build xla program specifi desir alias input output buffer defin alias compiletim exampl consid trivial hlo modul simpli add input hlomodul increment entri entri p f paramet c f constant root f addp c modul alloc two byte buffer one input p one output howev often desir perform updat inplac exampl frontend gener express input variabl longer aliv comput increment p perform updat effici specifi input alias hlomodul increment input_output_alia entri entri p f paramet c f constant root f addp c format specifi entir output mark alias input paramet see xlabuildersetupaliashttpswwwtensorfloworgcodetensorflowcompilerxlaclientxla_builderh api specifi alias programmat defin alias runtim alias defin previou step specifi _compilation_ execut choos whether actual donat buffer use localclientrunasynchttpswwwtensorfloworgcodetensorflowcompilerxlaclientlocal_clienth api input buffer program wrap executioninputhttpswwwtensorfloworgcodetensorflowcompilerxlaserviceexecutableh turn contain tree maybeowningdevicememori memori specifi _owning_ ownership buffer pass xla runtim buffer actual donat updat execut inplac request compiletim alias api howev buffer alias compil time _not_ donat runtim _copyprotection_ kick extra output buffer alloc content input buffer p meant alias copi effect program execut buffer donat runtim frontend interop tfxla cluster tensorflow program compil xla resourc variabl updat alias compil time alias runtim depend whether anyth els hold refer resourc variabl tensor use aot compil tfcompil tfcompil standalon tool aheadoftim aot compil tensorflow graph execut code reduc total binari size also avoid runtim overhead typic usecas tfcompil compil infer graph execut code mobil devic tensorflow graph normal execut tensorflow runtim incur runtim overhead execut node graph also lead larger total binari size sinc code tensorflow runtim need avail addit graph execut code produc tfcompil use tensorflow runtim depend kernel actual use comput compil built top xla framework code bridg tensorflow xla framework resid tensorflowcompilerhttpswwwtensorfloworgcodetensorflowcompil tfcompil tfcompil take subgraph identifi tensorflow concept feed fetch gener function implement subgraph feed input argument function fetch output argument function input must fulli specifi feed result prune subgraph contain placehold variabl node common specifi placehold variabl feed ensur result subgraph longer contain node gener function packag cc_librari header file export function signatur object file contain implement user write code invok gener function appropri use tfcompil section detail high level step gener execut binari tfcompil tensorflow subgraph step step configur subgraph compil step use tf_librari build macro compil subgraph step write code invok subgraph step creat final binari step configur subgraph compil identifi feed fetch correspond input output argument gener function configur feed fetch tensorflowtfxlaconfighttpswwwtensorfloworgcodetensorflowcompilertfxlatfxlaproto proto textproto feed posit input argument gener function order entri match order input argument x_hold y_hold refer name placehold node defin graph feed id node_nam x_hold shape dim size dim size feed id node_nam y_hold shape dim size dim size fetch posit output argument gener function order entri match order output argument x_y_prod refer name matmul node defin graph fetch id node_nam x_y_prod step use tf_librari build macro compil subgraph step convert graph cc_librari use tf_librari build macro cc_librari consist object file contain code gener graph along header file give access gener code tf_librari util tfcompil compil tensorflow graph execut code build loadtensorflowcompileraottfcompilebzl tf_librari use tf_librari macro compil graph execut code tf_librari name use gener follow underli build rule name cc_librari packag gener header object file name_test cc_test contain simpl test benchmark name_benchmark cc_binari contain standalon benchmark minim dep run mobil devic name test_graph_tfmatmul cpp_class specifi name gener c class namespac allow class gener given namespac namespac given within global namespac cpp_class foobarmatmulcomp graph input graphdef proto default expect binari format use text format instead use pbtxt suffix subgraph creat input graph feed input fetch output placehold variabl op may exist subgraph graph test_graph_tfmatmulpb config input config proto default expect binari format use text format instead use pbtxt suffix feed fetch specifi previou step config test_graph_tfmatmulconfigpbtxt gener graphdef proto test_graph_tfmatmulpb exampl run make_test_graphspyhttpswwwtensorfloworgcodetensorflowcompileraottestsmake_test_graphspi specifi output locat out_dir flag typic graph contain variableshttpswwwtensorfloworgguidevari repres weight learn via train tfcompil compil subgraph contain variabl freeze_graphpyhttpswwwtensorfloworgcodetensorflowpythontoolsfreeze_graphpi tool convert variabl constant use valu store checkpoint file conveni tf_librari macro support freeze_checkpoint argument run tool exampl see tensorflowcompileraottestsbuildhttpswwwtensorfloworgcodetensorflowcompileraottestsbuild constant show compil subgraph compil directli gener code pass constant gener function rather compiledin simpli pass feed detail tf_librari build macro see tfcompilebzlhttpswwwtensorfloworgcodetensorflowcompileraottfcompilebzl detail underli tfcompil tool see tfcompile_maincchttpswwwtensorfloworgcodetensorflowcompileraottfcompile_maincc step write code invok subgraph step use header file test_graph_tfmatmulh gener tf_librari build macro previou step invok gener code header file locat bazelbin directori correspond build packag name base name attribut set tf_librari build macro exampl header gener test_graph_tfmatmul would test_graph_tfmatmulh abbrevi version gener gener file bazelbin contain addit use comment c namespac foo namespac bar matmulcomp repres comput previous specifi tensorflow graph compil execut code class matmulcomp public allocmod control buffer alloc mode enum class allocmod args_results_and_temp alloc arg result temp buffer results_and_temps_onli alloc result temp buffer matmulcompallocmod mode allocmodeargs_results_and_temp matmulcomp run comput input read arg buffer output written result buffer return true success fals failur bool run arg method manag input buffer buffer rowmajor order set method posit argument void arg void set_arg_datafloat data float arg_data float argsize_t dim size_t dim void set_arg_datafloat data float arg_data float argsize_t dim size_t dim result method manag output buffer buffer rowmajor order must call success run call set method posit result void result float result_data float resultsize_t dim size_t dim end namespac bar end namespac foo gener c class call matmulcomp foobar namespac cpp_class specifi tf_librari macro gener class similar api differ method handl arg result buffer method differ base number type buffer specifi feed fetch argument tf_librari macro three type buffer manag within gener class arg repres input result repres output temp repres temporari buffer use intern perform comput default instanc gener class alloc manag buffer allocmod constructor argument may use chang behavior buffer align byte boundari gener c class wrapper around lowlevel code gener xla exampl invok gener function base tfcompile_testcchttpswwwtensorfloworgcodetensorflowcompileraotteststfcompile_testcc c defin eigen_use_thread defin eigen_use_custom_thread_pool includ iostream includ third_partyeigenunsupportedeigencxxtensor includ tensorflowcompileraotteststest_graph_tfmatmulh gener int mainint argc char argv eigenthreadpool tp size thread pool appropri eigenthreadpooldevic devicetp tpnumthread foobarmatmulcomp matmul matmulset_thread_pooldevic set arg run comput const float arg stdcopyarg arg matmularg_data stdcopyarg arg matmularg_data matmulrun check result matmulresult stdcout success stdendl els stdcout fail expect valu got matmulresult stdendl return step creat final binari step combin librari gener tf_librari step code written step creat final binari exampl bazel build file build exampl link binari also see tensorflowcompileraottestsbuild loadtensorflowcompileraottfcompilebzl tf_librari tf_librari call step tf_librari name test_graph_tfmatmul execut code gener tf_librari link code cc_binari name my_binari src my_codecc includ test_graph_tfmatmulh access gener header dep test_graph_tfmatmul link gener object file third_partyeigen linkopt lpthread tpu driver api repositori contain tpu driver api network grpc transport implement highperform access tpu hardwar build bazel use build driver librari test remot test requir access cloud tpu fetch bazel download latest copi bazel httpsgithubcombazelbuildbazelreleas build bazel build test bazel test vector map see also httpsenwikipediaorgwikiautomatic_vector tensorflow provid ingraph loop construct like tfwhile_loop similar loop languag repeatedli run loop bodi keep memori contigu take advantag hardwar simd loop iter independ much effici batch tensor togeth matrixmatrix multipli instead loop vectormatrix multipli tfvectorized_map provid tfmap_fnlik api effici manual batch api match api implement tfwhile_loop like tfmap_fn tfvectorized_map implement use batch dimens op tfmap_fn style often conveni way author model oppos juggl batch dimens explicitli python def farg embed index arg embed vocab_s embedding_dim index desir result embedding_dim return tfgatherparamsembed indicesindex tffunction def f_auto_vectorizedembed indic embed num_head vocab_s embedding_dim indic num_head desir result num_head embedding_dim return tfvectorized_mapf embed indic concrete_vector f_auto_vectorizedget_concrete_funct tftensorspecshapenon dtypetffloat tftensorspecshapenon dtypetfint printconcrete_vectorizedgraphas_graph_def vector graph contain mani op loop instead tfvectorized_map look gatherv op attribut gener equival tfgather batch_dim without requir user know tell tfgather everi op use dimens batch dimens python gdef concrete_vectorizedgraphas_graph_def printn n gdefnod nop gatherv print bunch gather relat pfor infrastructur time write includ one batch_dim attribut vector posttrac graph transform tfvectorized_map current work graphtograph transform implement python mostli histor artifact conceiv tensorflow opbyop execut similar tfgradient walk connect exist graph appli opspecif rule defin registergradi tfgradient registerpfor tfvectorized_map order produc new graph tfgradient add backward pass refer tensor forward pass execut tfvectorized_map creat transform graph execut place origin graph gradient tfgradienttap introduc provid opbyop version gradient reus perop registergradi definit equival vector instead tfvectorized_map wrap function take argument tffunction order creat trace vector mean user function never execut eagerli tfvectorized_map call execut eagerli user function retrac revector everi call tfvectorized_map tfvectorized_map publicfac api implement written term integerindex loophttpsgithubcomtensorflowtensorflowblobbceddeaebfdtensorflowpythonopsparallel_forcontrol_flow_opspyl loop execut regular loop good mental model implement make frequent refer loop_len ie number iter hypothet loop uservis output ideal match output equival real loop unit test written virtual loop setup includ loopvari integ loop index tensor loopvari mean tensor differ valu iter loopvari tensor repres lead extra dimens correspond loop iter tfvectorized_map implement tfgather slice input use loop index run user function loopvari valu anyth loop index transit input loopvari must transform op like tfconstant howev creat loopinvari valu ie valu loop iter loopinvari valu return vector may simpli tile frequent feed op mix variantinvari input produc loopvari valu convert op sometim simpler special case loopinvari input eg tfroll convert much simpler shift amount loopinvari common case defin vector gradient op rel straightforward definit function call control flow oper complic special case section cover common case registergradi convert defin op type correspond register_op macro c name withuppercas python endpoint user write tfroll correspond registerpforrol converterhttpsgithubcomtensorflowtensorflowblobcfacbadadcbfetensorflowpythonopsparallel_forpforpyl trigger sinc tfroll implement roll op like gradient set tensorflow op would ideal close vector ie vector would alway produc op vectoriz practic op pfor convert defin sometim assum input loopinvari fallback convert run case ad tfwhile_loop place real vector op safe gener slower tfwhile_loop run iter parallel nonstrict execut benefit vector like contigu memori layout simd avail stateless op comput determinist valu input common case pfor convert take loopvari input extra dimens stack emit op subgraph treat extra stack dimens tensor zeroth dimens batch dimens otherwis comput valu origin op may involv examin origin op attribut forward newli emit op gener case convert everi input stack loopvari often effici special case input loopinvari may handl unstack special zeroth dimens convert omit gener case entir simpli request unstack input reli fallback convert trigger fail input loopvari other branch variou combin stackedunstack input mani exampl exist convert tensorflowpythonopsparallel_forpforpi userfac api defin control_flow_opspi directori convert quit subtl import use unit test macro compar groundtruth loop ensur relev combin loop variantinvari input cover test state op state op op nondeterminist output difficult deal one option use fallback tfwhile_loop convert op eg tfprint would print loop_len time differ loopvari valu make sens loop ground truth mindset less clear satisfi user expect tfvectorized_map doesnt explicitli mention loop isnt great univers answer class op current tfprint print full vector tensorshttpsgithubcomtensorflowtensorflowblobcfacbadadcbfetensorflowpythonopsparallel_forpforpyl examplehttpsgithubcomtensorflowtensorflowblobbfdeafbdbafafbcectensorflowpythonopsparallel_forcontrol_flow_ops_testpyl rather print loop_len time state random op vector ad extra dimens outputhttpsgithubcomtensorflowtensorflowblobcfacbadadcbfetensorflowpythonopsparallel_forpforpyl shape attribut even though give differ result follow distribut independ structur stateless random op use tfwhile_loop fallback converterhttpsgithubcomtensorflowtensorflowblobcfacbadadcbfetensorflowpythonopsparallel_forpforpyl sinc user might care exact valu may want revisit stateless random op use implement popular api vector control flow while_loop cond variant op whose execut defin serial program gener functiondef referenc name attribut need special handl sinc vector op refer transform serial program function call oper rel straightforward convert convert function bodi gener new call oper referenc vector function bodi see registerpforpartitionedcal code pretti readabl cond ifstatelessif opshttpsgithubcomtensorflowtensorflowblobcfacbadadcbfetensorflowpythonopsparallel_forpforpyl examplehttpsgithubcomtensorflowtensorflowblobbfdeafbdbafafbcectensorflowpythonopsparallel_forcontrol_flow_ops_testpyl bit complic boolean condit loop variant case inputsoutput must partit branch run although op one branch could zeros input loop variant condit happen trigger branch iter virtual loop condit boolean loop invari cond similar function call oper two function bodi transform loop vectorizationhttpsgithubcomtensorflowtensorflowblobcfacbadadcbfetensorflowpythonopsparallel_forpforpyl fairli complic unrel fallback convert op trigger user defin graph tfwhile_loop request vector although fallback convert trigger case tfvectorized_map nest high level loop convers iter version loopvariantcondit cond convers one loop run vector graph keep track iter virtual pfor loop done run loop bodi correspond input iter virtual pfor loop would finish tfwhile_loop singl vector loop termin loop accumul valu across iter tensorlist aka tensorarray variantdtyp tensor c vector pointer tensor straightforward convers would simpli stack variant tensor rather scalar variantdtyp tensor would shape loop_len howev would make memori noncontigu tensor across iter virtual pfor loop would separ tensor object c concaten split would necessari push pop tensor instead tensorlist specialcas use intern vector variant repres vectorizedstack tensorlist remain scalar shape tensor contain special zeroth dimens make mani common oper vector tensorlist effici lead complic special case access vector dimens modul implement tfexperimentalnumpi api provid numpi api implement top tensorflow pleas see tensorflow numpi api documentationhttpswwwtensorfloworgapi_docspythontfexperimentalnumpi tensorflow event process folder contain class use analyz visual tensorflow event file code primarili develop support tensorboard use anyon wish analyz visual tensorflow event file wish load tensorflow event use eventaccumul load singl event file eventmultiplex load multipl event file tensorflow savedmodel toc overview savedmodel univers serial format tensorflowhttpswwwtensorfloworg model savedmodel provid languageneutr format save machinelearn model recover hermet enabl higherlevel system tool produc consum transform tensorflow model guid use savedmodel formathttpswwwtensorfloworgguidesaved_model save load kera modelshttpswwwtensorfloworgguidekerassave_and_seri save load checkpoint kerashttpswwwtensorfloworgtutorialskerassave_and_load train checkpointshttpswwwtensorfloworgguidecheckpoint save load model use distribut strategyhttpswwwtensorfloworgtutorialsdistributesave_and_load public apihttpswwwtensorfloworgapi_docspythontfsaved_model tfsaved_modelsavehttpswwwtensorfloworgapi_docspythontfsaved_modelsav tfsaved_modelloadhttpswwwtensorfloworgapi_docspythontfsaved_modelload tfsaved_modelsaveoptionshttpswwwtensorfloworgapi_docspythontfsaved_modelsaveopt tfsaved_modelloadoptionshttpswwwtensorfloworgapi_docspythontfsaved_modelloadopt tfsaved_modelassethttpswwwtensorfloworgapi_docspythontfsaved_modelasset tfsaved_modelcontains_saved_modelhttpswwwtensorfloworgapi_docspythontfsaved_modelcontains_saved_model relat modul function tfkerasmodelssave_modelhttpswwwtensorfloworgapi_docspythontfkerasmodelssave_model tfkerasmodelsload_modelhttpswwwtensorfloworgapi_docspythontfkerasmodelsload_model tftraincheckpointhttpswwwtensorfloworgapi_docspythontftraincheckpoint savedmodel format savedmodel directori follow structur asset assetsextra variabl variablesdataof variablesindex saved_modelpb savedmodel protocol buffer saved_modelpbhttpsgithubcomtensorflowtensorflowblobmastertensorflowcoreprotobufsaved_modelproto saved_modelpbtxt includ graph definit metagraphdef protocol buffer asset subfold call asset contain auxiliari file vocabulari etc extra asset subfold higherlevel librari user add asset coexist model load graph subfold manag savedmodel librari variabl subfold call variabl variablesdataof variablesindex savedmodel tensorflow x savedmodel slightli differ semant tf x convent gener support tf x note featur follow summari featur savedmodel tfonli multipl graph share singl set variabl asset ad singl savedmodel graph associ specif set tag allow identif load restor oper tfonli support signaturedef graph use infer task typic set input output call signatur savedmodel use signaturedefshttpsgithubcomtensorflowtensorflowblobmastertensorflowcoreprotobufmeta_graphproto allow gener support signatur may need save graph commonli use signaturedef context tensorflow serv pleas see document herehttpsgithubcomtensorflowservingblobmastertensorflow_servinggdocsignature_defsmd support asset case op depend extern file initi vocabulari savedmodel support via asset asset copi savedmodel locat read load specif meta graph def support clear devic gener savedmodel follow summari featur support savedmodel higherlevel framework tool use savedmodel may provid implicit version garbag collect atom write savedmodel locat tf savedmodel background savedmodel manag build upon exist tensorflow primit tensorflow saver metagraphdef specif savedmodel wrap tensorflow saverhttpsgithubcomtensorflowtensorflowtreemastertensorflowpythontrainingsaverpi saver primarili use gener variabl checkpoint savedmodel replac exist tensorflow infer model formathttpsgithubcomtensorflowtensorflowtreertensorflowcontribsession_bundletensorflowinferencemodelformat canon way export tensorflow graph serv api api build load savedmodel describ section tfonli builder savedmodel builderhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonsaved_modelbuilderpi implement python savedmodelbuild class provid function save multipl meta graph def associ variabl asset build savedmodel first meta graph must save variabl subsequ meta graph simpli save graph definit asset need save written copi disk provid meta graph def ad multipl meta graph def associ asset name first version retain tfonli tag meta graph ad savedmodel must annot user specifi tag reflect meta graph capabl usecas specif tag typic annot meta graph function eg serv train possibl hardwar specif aspect gpu savedmodel meta graph def whose tagset exactli match specifi loader api one load loader meta graph def found match specifi tag error return exampl loader requir serv gpu hardwar would abl load meta graph annot tagsservegpu specifi set tag tensorflowloadsavedmodel usag typic usag builder follow python export_dir builder tfsaved_modelbuildersavedmodelbuilderexport_dir tfsessiongraphtfgraph sess builderadd_meta_graph_and_variablessess tfsaved_modeltag_constantstrain signature_def_mapfoo_signatur assets_collectionfoo_asset tfsessiongraphtfgraph sess builderadd_meta_graphbartag baztag buildersav tfonli strip default valu attribut savedmodelbuild class allow user control whether defaultvalu attribut must strip nodedef ad meta graph savedmodel bundl savedmodelbuilderadd_meta_graph_and_vari savedmodelbuilderadd_meta_graph method accept boolean flag strip_default_attr control behavior strip_default_attr fals export metagraphdef default valu attribut nodedef instanc break forward compat sequenc event follow exist op foo updat includ new attribut default bool version model produc trainer binari pick chang version opdef reexport exist model use op foo model consum tensorflow serv run older binari version doesnt attribut op foo tri import model model consum doesnt recogn attribut nodedef use op foo therefor fail load model set strip_default_attr true model produc strip away default valu attribut nodedef help ensur newli ad attribut default dont caus older model consum fail load model regener newer train binari tip care forward compat set strip_default_attr true use savedmodelbuilderadd_meta_graph_and_vari savedmodelbuilderadd_meta_graph loader savedmodel loader implement c python tfonli python python version savedmodel loaderhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonsaved_modelloaderpi provid load restor capabl savedmodel load oper requir session restor graph definit variabl tag use identifi meta graph def load locat savedmodel upon load subset variabl asset suppli part specif meta graph def restor suppli session python export_dir tfsessiongraphtfgraph sess tfsaved_modelloaderloadsess tag_constantstrain export_dir c c version savedmodel loaderhttpsgithubcomtensorflowtensorflowblobmastertensorflowccsaved_modelloaderh provid api load savedmodel path allow sessionopt runopt similar python version c version requir tag associ graph load specifi load version savedmodel refer savedmodelbundl contain meta graph def session within load c const string export_dir savedmodelbundl bundl loadsavedmodelsession_opt run_opt export_dir ksavedmodeltagtrain bundl constant savedmodel offer flexibl build load tensorflow graph varieti usecas set common expect usecas savedmodel api provid set constant python c easi reus share across tool consist tfspecif tag constant set tag use uniqu identifi metagraphdef save savedmodel subset commonli use tag specifi pythonhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonsaved_modeltag_constantspi chttpsgithubcomtensorflowtensorflowblobmastertensorflowccsaved_modeltag_constantsh tfspecif signatur constant signaturedef use defin signatur comput support tensorflow graph commonli use input key output key method name defin pythonhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonsaved_modelsignature_constantspi chttpsgithubcomtensorflowtensorflowblobmastertensorflowccsaved_modelsignature_constantsh registr configur savemodel checkpoint beyond basic save load step document tbd registr requir current tensorflowintern registr allow must ad allowlist tensorflowpythonsaved_modelregistrationregister_tf_serializ allowlist tf_serializable_allowlisttxt tensorflowpythonsaved_modelregistrationregister_tf_checkpoint_sav allowlist tf_checkpoint_saver_allowlisttxt toc savedmodel serializ registr custom object must regist order get correct deseri method load regist name class save proto kera alreadi similar mechan regist serializ tfkerasutilsregister_keras_serializablepackag namehttpswwwtensorfloworgapi_docspythontfkerasutilsregister_keras_serializ import core tensorflow python registrationregister_serializablepackag name registrationregister_tf_serializablenam tensorflowintern packag packag class belong name name class regist name save proto packagenam tensorflow intern registr packag name tf checkpoint saver registr trackabl share state requir complic coordin multipl trackabl eg dtensor user may regist save restor function object tfsaved_modelregister_checkpoint_sav predic save_fnnon restore_fnnon predic function return true trackabl object save use regist save_fn restore_fn save_fn python function tffunction none none run default save process call trackable_serialize_to_tensor restore_fn tffunction none none run default restor process call trackable_restore_from_tensor save_fn detail tffunction option decor def save_fntrack file_prefix listshard filenam trackabl dictionari object_prefix trackabl object_prefix use object name uniqu identifi trackabl trackabl filter set trackabl pass predic file_prefix string string tensor checkpoint prefix shard filenam list filenam written use io_opssave_v merg checkpoint data file prefix file_prefix function python function case shard filenam empti list valu written without savev op function tffunction shard must written use savev op guarante checkpoint format compat exist checkpoint reader manag restore_fn detail tffunction requir decor def restore_fntrack file_prefix none tffunction spec trackabl dictionari object_prefix trackabl object_prefix use object name uniqu identifi trackabl trackabl object filter result regist predic file_prefix string string tensor checkpoint prefix restor function requir tffunction short answer savedmodel format must maintain invari savedmodel packag use infer platform languag savedmodel infer need abl restor checkpoint valu restor function must directli encod savedmodel graph also secur measur functiondef graphdef user check savedmodel run arbitrari code featur saved_model_cli exampl show stack modul contain multipl part subclass tfvariabl stack save checkpoint part stack togeth singl entri checkpoint creat checkpoint valu restor part stack registrationregister_serializ class partresource_variable_opsresourcevari def __init__self valu self_init_from_argsvalu classmethod def _deserialize_from_protocl kwarg return cl registrationregister_serializ class stacktrackingautotrack def __init__self partsnon selfpart part def_functionfunctioninput_signatur def valueself return array_opsstackselfpart def get_tensor_slicestrack tensor_nam shapes_and_slic tensor restored_track obj_prefix obj trackablesitem isinstanceobj part continu save stack tensor_namesappendobj_prefix valu shapes_and_slicesappend x objvalu opsdevicedevicecpu tensorsappendarray_opsidentityx restored_trackablesappendobj return tensor_nam shapes_and_slic tensor restored_track def save_stacks_and_partstrack file_prefix save stack part object checkpoint shard tensor_nam shapes_and_slic tensor _ get_tensor_slicestrack io_opssave_vfile_prefix tensor_nam shapes_and_slic tensor return file_prefix def restore_stacks_and_partstrack merged_prefix tensor_nam shapes_and_slic tensor restored_track get_tensor_slicestrack dtype tdtype tensor restored_tensor io_opsrestore_vmerged_prefix tensor_nam shapes_and_slic dtype trackabl restored_tensor ziprestored_track restored_tensor expected_shap trackablevalueget_shap restored_tensor array_opsreshaperestored_tensor expected_shap part array_opsunstackrestored_tensor part restored_part ziptrackablepart part partassignrestored_part registrationregister_checkpoint_sav namestack predicatelambda x isinstancex stack part save_fnsave_stacks_and_part restore_fnrestore_stacks_and_part stop folder contain legaci kera code stale delet current kera code live githubkerasteamkerashttpsgithubcomkerasteamkera pleas use code folder kera distribut strategi test directori contain unit test combin kera librari distribut traininghttpswwwtensorfloworgguidedistributed_train test use custom train loop instead kera compilefit place pythondistribut directori instead kera savedmodel question feedback featur request pleas file bugcontact kathywu tensorflow core savedmodel implement tensorflow save load implement revolv around object graph gener root trackabl object trackabl object connect attribut program build block variabl asset tabl high level object like optim layer subclass trackabl class object like tensorflow function concret function also save node object graph load savedmodel object graph use recreat structur origin object pleas see link detail save model guidehttpswwwtensorfloworgguidesaved_model checkpoint guidehttpswwwtensorfloworgguidecheckpoint kera savedmodel implement overview kera object serial built top core serial attribut impact model execut inspect save savedmodel allow model recreat attribut divid three categori python properti eg layer name layer config object eg data structur like list variabl layer function eg call function loss function trackabl object tensorflow function repres node trackabl object graph node graph store inform python properti sinc mani attribut kera layersmodel trackabl object tffunction attribut wrap trackabl objectstffunct serial time exampl layervari implement python properti append list trainablenontrain variabl serial new trackabl list object creat save variabl attribut anoth exampl call function model decor call function tffunction sinc kera take care graphfunct manag model save call function wrap tffunction ad __call__ attribut keras_api attribut mani attribut relev reviv instead attach directli export object save new keras_api trackabl object attach export object avoid clutter export object objectsfunct use kera librari exampl __call__ call_and_return_conditional_loss function save model __call__ function attach directli export object call_and_return_conditional_loss attach separ object say user save model load savedmodel use core loader tfsaved_modelload reli kera librari reviv model load object structur look like load object __call__ keras_api __call__ call_and_return_conditional_loss two call function may access loaded__call__ loadedkeras_api__call__ loadedkeras_apicall_and_return_conditional_loss save detail kera layer use helper abstract class attribut valid class defin standard serial implement serializationimplhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonkerassavingsaved_modelbase_serializationpi ensur layer python properti save serial json string metadata field gather attribut save kera object pleas see docstr abstract methodsproperti see requir serializedattributeshttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonkerassavingsaved_modelserialized_attributespi track attribut must save kera object object function may specifi keras_onli mean appear keras_api attribut base layer serial defin layer_serializationpyhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonkerassavingsaved_modellayer_serializationpi see layerattribut layerserializationimpl ad new attribut base layer savedmodel add new attribut layerattribut modifi layerserializationimpl intern method ad python properti add keyvalu item dictionari return _python_properties_intern bif ad new objectfunct modifi dictionari return _get_serialized_attributes_intern ad custom serial layer subclass creat new attribut valid copi layerattribut add new attribut serial subclass layerserializationimpl implement _python_properties_intern andor _get_serialized_attributes_intern return new attribut unless modifi loader see section load pleas keep object_identifi instruct also carri modifi modelhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonkerassavingsaved_modelmodel_serializationpi networkhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonkerassavingsaved_modelnetwork_serializationpi serial load detail todokathywu write section load code move _serializationpi file autograph style guid page contain style decis develop follow contribut code autograph tensorflow style follow tensorflow style guidehttpswwwtensorfloworgcommunitycontributecode_styl document guidehttpswwwtensorfloworgcommunitycontributedoc googl python style guidehttpsgooglegithubiostyleguidepyguidehtml name convent name tensorflow tensorflow name autograph autograph autograph style autographspecif convent event conflict superced previou convent __type docstrings__ use pep httpswwwpythonorgdevpepspep notat describ type arg return valu attribut exampl arg foo dictstr listint dictionari sort __citat docstrings__ write refer subsect bottom docstr citat use iclr bibliographi style write refer exampl order entri first author last name add link paper public open sourc ideal arxiv write inparagraph citat gener eg tran blei write intext citat citat noun eg tran blei write citat two author use et al eg tran et al separ multipl citat semicolon eg tran blei gelman rubin exampl none refer technic report toni finch increment calcul weight mean varianc _technic report_ httppeopledscamacukfanfhermesdocantiforgerystatspdf journal andrew gelman donald b rubin infer iter simul use multipl sequenc _statist science_ arxiv preprint use et al paper mani author maintain aaron van den oord et al parallel wavenet fast highfidel speech synthesi _arxiv preprint arxiv_ httpsarxivorgab confer yeme wen paul vicol jimmi ba dustin tran roger gross flipout effici pseudoindepend weight perturb minibatch _intern confer learn representations_ httpsarxivorgab avoid latex docstr render mani editor hard read latex expert nonexpert write docstr comment math use ascii friendli notat python use oper eg x better x xi j better x_ij sum fxi better sum_in fx_i intsinx dx x pi better int_pi sinx dx stick python style someon copypasteexecut python style usual easier read ascii contribut wed love patch contribut guidelin gener follow tensorflow contribut guidelinescontributingmd autographspecif style guidelinesstyle_guidemd detail note activ contributor prepar tf move code base autograph tensorflowcontribautograph tensorflowpythonautograph move impact function autograph remain access tensorflowcontribautograph tensorflowcontrib retir tensorflow code conduct pleas review follow tensorflow code conductcode_of_conductmd contributor licens agreement contribut project must accompani contributor licens agreement employ retain copyright contribut simpli give us permiss use redistribut contribut part project head httpscladevelopersgooglecom see current agreement file sign new one gener need submit cla youv alreadi submit one even differ project probabl dont need code review submiss includ submiss project member requir review use github pull request purpos consult github helphttpshelpgithubcomarticlesaboutpullrequest inform use pull request pull request approv merg note merg process differ github pull submit chang intern version control system system automat push git commit github repositori credit origin author close pull request style see autograph style guidestyle_guidemd unit test pleas includ unit test contribut new featur exampl hereconverterscontinue_statements_testpi help prove code work correctli b guard futur break chang lower mainten cost also help check chang propos break exist unit test run test use command shell bazel test configopt copto coptmarchn tensorflowcontribautograph root tensorflow repositori detail see main tensorflow contribut filecontributingmd develop info modul structur graph describ depend autograph modul mistaken directori structur modul flat dot digraph d_modul autograph stylefil convert core impl lang oper autograph impl autograph lang impl convert impl core impl oper lang oper convert core convert lang autograph sole uservis modul short descript modul autograph main modul import user gener code contain declar impl high level code implement api frontend core base class autograph sourc code transform logic see particular converterpi lang special uservis function serv extens python languag convert collect sourc code transform modul special particular autograph featur oper collect oper autograph overload correspond python oper well python syntact structur like control flow two addit modul pyct util independ autograph pyct gener purpos python sourc code transform librari util kitchen sync deprec note long term plan factor implement impl convert independ autograph gener purpos python oper overload librari autograph refer indexindexmd control flow autograph rewrit control flow statement special autograph function call function call capabl execut correspond control flow statement use python semant effect outsid python interpret see introductionintromd dispatch rule key point statement condit iter tensorflow object tftensor convert tensorflow op describ introductionintromd autograph aim preserv semant valid python code control flow statement run graph execut without rais error autograph also execut normal python control flow statement would normal rais error exampl statement use bool tensor condit convert tensorflow control flow op analog compiletim constant code optim perspect tensorflow graph nontensor valu exampl integ numpi array _constants_ chang valu graph execut exampl graph condit alway true invari x tfcondx lambda x lambda x equival code x x exampl weve optim away condit constant condit autograph dispatch rule effect anyth tensorflow object compiletim constant tensorflow optim away reason usual mix python tensorflow comput transpar expect result even comput execut graph todomdan actual limit subtl one caution assumpt invari code made true tensorflow graph callback python code modifi data within tfpy_funct code outsid tfpy_funct unpredict behavior depend data exampl tfcond run part statement miss updat made f n def f n return tfpy_functionf tfint tfequaln tfprintn n compound symbol autograph usual handl basic symbol tfconda lambda lambda also handl complex symbol mani case exampl treat ab symbol code use basic symbol name ab ab ab ab tfcondab lambda ab lambda ab use method oper properti self well work directli complex object structur collect caution certain limitationslimitationsmd around use python collect object mutat doubt place valu work local variabl oper effect trace process python code path execut trace construct graph tensorflow _traces_ code trace control flow requir visit _everi possibl code path_ usual note rare case runtim may decid trace code path sever time exampl condit statement may execut twice first temporari graph determin whether evalu tftensor tftensor execut second time proper graph word trace execut branch statement similarli bodi loop execut even loop would otherwis iter explain insert print statement statement produc output printbefor tfconstanttru printtru branch els printfals branch printaft true branch fals branch note control flow execut tensorflow graph trace bodi execut expect exampl code run regular python code printbefor true condit tensor run normal printtru branch els printfals branch printaft true branch python valu modifi tensorflow control flow becom tensor symbol modifi tensorflow control flow statement becom tftensor even start python primit valu exampl condit run tfcond condit tftensor turn caus becom tftensor tfgreateri tensor statement statement whose condit tftensor execut tensorflow condit convert tfcond tfrandomuniform x els x statement whose condit tftensor execut normal python nprandomuniform x els x statement execut tensorflow condit subject restrict see limitationslimitationsmd symbol affect statement use thereaft must data type understood tensorflow defin branch consist dtype branch tensorflow entiti consist structur branch static collect list tupl statement statement whose condit tftensor execut tensorflow loop convert tfwhile_loop x tfrandomuniform x x statement whose condit tftensor execut normal python x nprandomuniform x x statement execut tensorflow loop subject restrict see limitationslimitationsmd symbol affect statement use thereaft must data type understood tensorflow defin loop consist dtype begin end loop tensorflow entiti either consist shape begin end loop tensorflow entiti declar shape_invari consist structur begin end loop static collect list tupl caution loop whose condit python scalar execut normal python intend run loop tensorflow loop loop replic bodi graph unrol avoid make sure condit convert tftensor use instanc tfconstant exampl follow loop unrol even though list contain tftensor valu type l python list l tfconstant tfconstant tfconstant l tfprinti unrol three tfprint built graph wish loop run tensorflow loop stack loop l tfconstant tfconstant tfconstant tfstackl tfprinti run tensorflow loop todomdan list limit caution loop type condit chang across iter way would influenc way loop execut allow autograph exampl loop gener error first iter becom tftensor python bool run normal loop tfconstant error would tftensor statement statement iter tftensor execut tensorflow loop convert tfwhile_loop iter first dimens equival numpi tfconstant tfprintiter iter iter note possibl autograph also set maximum_iter paramet tfwhile_loop statement iter output tfrang execut tensorflow loop convert tfwhile_loop use argument pass tfrang tfrang tfprintiter statement iter tfdatadataset contain break return statement execut tensorflow loop convert tfdatadatasetreduc op tfdatadatasetrang tfprintiter statement iter _distribut dataset_ contain break return statement execut tensorflow loop convert dataset reduc op tfdistributeonedevicestrategycpuexperimental_distribute_dataset tfdatadatasetrang tfprintiter statement iter tfdatadataset contain break return statement execut tensorflow loop convert combin tfdatadatasetscan tfdatadatasettake_whil tfdatadatasetreduc op tfdatadatasetrang tfprintiter break iter statement iter tfdatadataset _iterator_ execut tensorflow loop convert combin tfwhile_loop tfcond op itertfdatadatasetrang tfprintiter statement iter type differ execut normal python printiter caution loop list tupl tftensor consid iter python list respect tupl therefor execut normal python intend run tensorflow loop use tfstack tfconcat caution loop python rang execut normal python intend run tensorflow loop use tfrang note autograph may output warn believ unrol loop ineffici howev warn threshold conserv warn print __debug__httpsdocspythonorglibraryconstantshtml__debug__ true note __debug__ true autograph limit number iter normal python loop prevent infinit loop rais error limit exceed howev iter limit larg may take trigger error break statement code block break statement use rewritten equival code use extra control boolean condit control boolean use directli loop case loop autograph correspond oper accept extra_test argument similar condit loop contain control boolean exampl loop rewritten show output break transform break break_ fals break_ break_ true continu continu statement also rewritten subsequ pass anoth exampl show control boolean use overload loop show portion final output rang break break_ fals def extra_testbreak_ return ag__not_break_ break_ becom loop variabl break_ ag__for_stmtrang extra_test break_ mix tensordepend break pythondepend loop disallow tffunction def buggy_while_py_true_tf_breakx true python condit tfequalx tensor break break x return x rais operatornotallowedingrapherror use tftensor python bool allow buggy_while_true_tf_break continu statement code block continu statement use rewritten equival code use extra control boolean condit similar break handl exampl loop rewritten show output continu transform rang continu rang continue_ fals continue_ true continue_ notic unlik break continu statement local loop influenc number iter return statement return statement also rewritten use control symbol manner similar break convert case return statement addit symbol keep track return valu depend structur code return valu might undefin part code exampl code path return statement execut autograph keep track use special valu special valu convert none default return valu upon exit function caution tensorflow control flow doe support undefin valu undefin return valu except therefor autograph rais error tensorflow control flow return valu known code path exampl follow code rais error return valu would undefin random number would less tfrandomuniform return valueerror valu must also return els branch exampl rewrit show output return transform def f return def f do_return fals retval_ ag__undefinedreturnvalu do_return do_return true retval_ do_return return ag__retvalretval_ transform undefinedreturnvalu none note autograph perform addit code normal statement els branch contain return statement rewritten ifels statement code follow statement move els branch exampl show normal def f return def f return els autograph refer refer document describ semant autograph transform tffunction autograph allow run eagerstyl code tensorflow graph introductionintromd interact gener codegenerated_codemd debug autograph codedebuggingmd control flowcontrol_flowmd function function callsfunctionsmd error handlingerror_handlingmd oper semanticsoperatorsmd limitationslimitationsmd common errorscommon_errorsmd also see autograph blog posthttpsmediumcomtensorflowautographconvertspythonintotensorflowgraphsbafec autograph deep divehttpswwwyoutubecomwatchvniegzljydyi tffunction guidehttpswwwtensorfloworgguidefunct intro tf graphshttpswwwtensorfloworgguideintro_to_graph autograph refer indexindexmd gener code convert function autograph creat new function load mechan implement detail may chang gener function gener regular python functionhttpsdocspythonorgreferencecompound_stmtshtmlfunct function typic execut intern tffunction construct tensorflow graph transform made gener code gener code transform input code transform list element left unchang summari transform function call replac wrapper fooarg ag__converted_callfoo arg statement replac function call ag__if_stmt ag__while_stmt ag__for_stmt break return continu statement replac equival statement oper replac function call ag__and_ ag__or_ ag__not_ function replac control flow statement similar form correspond control flow op tensorflow autograph gener normal python code interact normal gener code exampl use inspectgetsourcefil inspectgetsourc def fa converted_f tfautographto_graphf printinspectgetsourcefileconverted_f tmptmpmwljpi use tffunction repeat step use function python_funct attribut tffunction def fa converted_f tfautographto_graphfpython_funct printinspectgetsourcefileconverted_f tmptmpmwljpi tfautographto_codef shortcut obtain gener code equival call inspectgetsourcetfautographto_graphf record diagnost inform tfautographset_verbos autograph log addit debug inform mostli use file bug also use get indic whether function convert success enabl log call tfautographset_verbositylevel level argument vari log includ gener code extrem verbos log caution inform log includ sourc code well data share autograph log make sure dont contain sensit inform altern control verbos level use environ variabl autograph_verbos autograph refer indexindexmd error handl except occur code gener autograph error messag augment inform locat origin code convers error occur tensorflow graph construct use autograph code stack trace point fail op creat modifi point origin code convers python execut error python execut trace except rais autograph code caught rerais extend error messag contain refer origin code function rerais tffunction use trycatch except insid tffunction obtain origin except except traceback still contain entir call stack includ frame correspond gener code autograph tri rerais except type origin except usual possibl subclass except defin custom __init__ complex except type defin custom constructor autograph rais stagingerror instead among distinct featur rerais except except traceback indic call stack except first tffunction error messag includ refer origin code within tffunction refer correspond convert code mark asterisk refer correspond code autograph reach decid convert mark doubl asterisk refer correspond code autograph didnt reach mark exampl code trigger except python runtim graph construct time tffunction def f tfconstant tfconstant f excerpt except rais shown traceback recent call last file ipythoninputacd line modul f file tensorflowpythoneagerdef_functionpi line __call__ self_initializearg kwd add_initializers_toinitializer_map tensorflow intern frame typeerror convert code ipythoninputfafdf f tfconstant tfconstant tensorflowpythonopsmath_opspi binary_op_wrapp return funcx namenam tensorflow intern frame typeerror input addv op type float match type int argument x note exact appear variou part error messag may chang futur let look individu compon except traceback except indic locat call tffunction includ frame intern tensorflow traceback recent call last file ipythoninputacd line modul f file tensorflowpythoneagerdef_functionpi line __call__ self_initializearg kwd add_initializers_toinitializer_map file tensorflowpythoneagerdef_functionpi line _initi arg kwd file tensorflowpythoneagerfunctionpi line _get_concrete_function_internal_garbage_collect graph_funct _ _ self_maybe_define_functionarg kwarg file tensorflowpythoneagerfunctionpi line _maybe_define_funct graph_funct self_create_graph_functionarg kwarg file tensorflowpythoneagerfunctionpi line _create_graph_funct capture_by_valueself_capture_by_valu file tensorflowpythonframeworkfunc_graphpi line func_graph_from_py_func func_output python_funcfunc_arg func_kwarg file tensorflowpythoneagerdef_functionpi line wrapped_fn return weak_wrapped_fn__wrapped__arg kwd file tensorflowpythonframeworkfunc_graphpi line wrapper rais eag_error_metadatato_exceptiontype except messag includ locat insid convert function f typeerror convert code ipythoninputfafdf f tfconstant tfconstant tensorflowpythonopsmath_opspi binary_op_wrapp return funcx namenam tensorflowpythonopsmath_opspi _add_dispatch return gen_math_opsadd_vx namenam tensorflowpythonopsgen_math_opspi add_v addv xx yy namenam tensorflowpythonframeworkop_def_librarypi _apply_op_help inferred_frominput_argtype_attr notic frame correspond call f function convert indic asterisk charact display next f ipythoninputfafdf f tfconstant tfconstant lastli lower part includ messag except origin report typeerror input addv op type float match type int argument x note typic error messag rais code intern tensorflow refer argument intern api fail error messag rais code intern autograph tensorflowpythonautograph usual refer symbol use code tensorflow execut error tensorflow execut error display normal portion error messag correspond user code contain refer origin code exampl code trigger error tensorflow runtim graph execut time tffunction def my_funct tfasserttfrandomuniform exampl error my_funct excerpt except subsequ rais shown traceback recent call last file ipythoninputaffbf line modul my_funct file tensorflowpythoneagerdef_functionpi line __call__ return self_concrete_stateful_fn_filtered_callcanon_arg canon_kwd file tensorflowpythoneagerfunctionpi line _filtered_cal selfcaptured_input file tensorflowpythoneagerfunctionpi line _call_flat output self_inference_functioncallctx arg file tensorflowpythoneagerfunctionpi line call ctxctx file tensorflowpythoneagerexecutepi line quick_execut sixraise_fromcore_status_to_exceptionecod messag none file string line raise_from invalidargumenterror assert fail exampl error node assertassert defin ipythoninputaffbf op__inference_my_function_ notic error messag contain refer locat fail op defin code ipythoninputaffbf invalidargumenterror assert fail exampl error node assertassert defin ipythoninputaffbf op__inference_my_function_ autograph convers except within tffunction autograph fail convert function display warn messag attempt run function without convers exampl code make call python generatorhttpswikipythonorgmoingener function support autograph def example_gener yield tffunction def f example_gener printi call f still run code autograph convert function f skip function example_gener addit autograph print warn consol indic function call without convert warn entiti function example_gener xfbf appear gener function convert autograph autograph refer indexindexmd debug autograph code recommend way debug autograph code run eagerli see autograph gener new function rather directli execut input function noncod element breakpoint transfer gener code step gener code set breakpoint debug convert function cach breakpoint persist lifetim python runtim note code gener autograph code complex input code interspers autograph boilerpl note python debug use step code graph construct time trace time case tffunction debug tensorflow execut use eager execut debug tffunction tfconfigexperimental_run_functions_eagerli use tffunction temporarili toggl graph execut use tfconfigexperimental_run_functions_eagerli effect run annot code eagerli without transform sinc autograph semant consist eager effect way debug code stepbystep note autograph compat eager convers alway true exercis care make modif code debug consid follow code tffunction def fa pdbset_trac tfprinta posit execut line land debugg gener code function trace f l def tf__fa pdbset_trac ag__converted_callprint tf ag__std none ad call tfconfigexperimental_run_functions_eagerli execut function land debugg origin code instead tfconfigrun_functions_eagerlytru f l def fa pdbset_trac tfprinta tfprinti posit use print tfprint print function convert autograph use inspect valu variabl graph construct time mix print tfprint confus first run differ stage gener print run tensorflow graph construct tfprint run tensorflow graph execut exampl print see differ print tfprint tffunction def fa printa tftensor object print without actual valu ftfconstant tensora shape dtypeint similarli python valu print directli f exampl print follow tfprint see differ print tfprint let run togeth tffunction def fa printa tfprinta nontensor valu produc similar result f tensor valu tfprint output actual valu ftfconstant tensora shape dtypeint exampl tfprint follow print rememb gener print run tfprint what sinc graph usual built execut multipl time print usual run function first call exampl even though tfprint appear print run graph execut built tffunction def fa tfprintat graph execut printat graph construct ftfconstant graph construct tensora shape dtypeint graph execut call function reus graph case ftfconstant graph execut autograph refer indexindexmd limit autograph appli normal python code expect chang function howev appli tensorflow control flow exampl statement tftensor condit certain limit section describ limit practic allow avoid key term python variabl refer python symbol symbol short confus tensorflow variabl key term tensorflow loop variabl loop variabl short refer valu typic tftensor modifi loop see tfwhile_loop undefin none valu tensorflow tensorflow support undefin none valu tensor must valu exampl x tfcond tfrandomuniform lambda tfconstant lambda none error tensor none restrict carri autograph variabl creat insid control flow use must defin control flow statement tfrandomuniform x tfconstant els x none tfprintx error x may none reason autograph forbid variabl defin one branch tensorflow condit variabl use afterward del x tfrandomuniform x tfconstant els pass tfprintx error x may undefin note variabl use control flow statement consid local control flow block subject restrict del x tfrandomuniform x tfconstant okay x need return tf cond els pass similarli variabl must usual defin tensorflow loop common exampl allow loop initi accumul variabl first iter del x tfrang error x must defin loop x tfconstant els x x tfprintx variabl use insid loop depend previou iter ok initi insid loop del x tfrandomuniform okay x use loop x tfconstant new tf long doesnt depend previou iter variabl may also use loop howev case loop must execut least one iter rais runtim error otherwis del x tfrang okay x depend previou iter x tfconstant tfprintx del x tfconstantfals error loop must initi x x tfconstant tfprintx avoid limit defin default valu control flow statement x tfconstant tfrandomuniform x tfconstant tfprintx okay x either note none valu undefin symbol allow eager control flow eager execut use python control flow rather tensorflow control flow op special case creat tensor loop new tf common usecas run train loop creat output tfrangenum_step output trainnextdata_iter often time output nest structur tensor make impract initi ahead loop help usecas autograph let run loop certain condit output must tensor python numer structur output must depend valu previou iter word output may appear left assign oper loop must run least one iter type output recogn usual output must defin loop rais graph construct autograph also insert tfassert statement rais runtim error loop execut least one iter indirect modif hidden side effect tensorflow control flow key point recommend use function program style immut python collect tensorflow op collect tensorflow object use side effect autograph analyz code detect modif python object note modif tensorflow object tfvariabl track use differ mechan automat control depend reli code analysi one import function autograph rewrit python control flow statement equival tensorflow op process requir wire variabl cover control flow statement respect op exampl use loop notion extend control flow statement exampl x need becom loop variabl correspond tfwhile_loop x x x x tfwhile_loop loop_varsx tf control op support limit set type loop variabl time effici tensorflow graph influenc number loop variabl dont want creat unnecessarili autograph pull symbol loop variabl necessari minim number loop variabl note symbol refer nest structur dict dict entir structur map multipl loop variabl tensorflow automat unpack exampl symbol wire tfwhile_loop loop_var affect loop x x x printi x tfwhile_loop loop_varsx need loop variabl autograph use static analysi determin symbol modifi code order transform control flow variabl static analysi gener perform singl function python dynam natur limit effect across function modif python object detect across function note modif tensorflow object tfvariabl track use differ mechan automat control depend modif tfvariabl object correctli handl even call function static analysi limit singl function modif perform function visibl autograph def change_i global x change_i problem chang made visibl easili remedi use function program style write function use argument input return valu output def changey return x changey okay properli track note limit appli tensorflow object although still good idea use function program style better code readabl def changey_var y_varassign_add tfvariabl x changey still okay tensorflow side effect robust keep mind howev certain type like tftensorarray dont support side effect must result assign otherwis may rais error def changeta tawrit incorrect use tensorarray rais error word tftensorarray must handl use function program style def changeta ta tawrit modif creat new tensorarray effici return ta ta tftensorarraytfint size dynamic_sizetru x tensorarray must handl use function program style ta changeta modif python object detect method special case hidden side effect method commonli use chang valu object class myclassobject def changeself selfi c myclass x cchang problem modif cy visibl address number way one possibl oper directli object properti c myclass x cy okay cy properli track anoth possibl reli immut object valu semant may lead mani temporari object execut eagerli number greatli reduc tffunction class myclasscollectionsnamedtuplemyclass def changeself new_i selfi return myclassnew_i c myclass x c cchang okay c loop var also recommend use function program style immut object argument input chang return valu def use_my_classc myclass myclass new_c cchang return new_c dont worri creat extra object use trace time dont exist graph execut note tensorflow control flow current support arbitrari python object support basic collect object list dict tupl namedtupl subclass design object subclass namedtuplehttpsdocspythonorglibrarycollectionshtmlcollectionsnamedtupl type tfnesthttpswwwtensorfloworgapi_docspythontfnestmap_structur recogn variabl close lambda function autograph assum variabl local function close may use anywher parent function gener possibl hide function call almost python statement reason variabl account within tensorflow loop exampl follow code correctli captur tensorflow loop variabl def f tfprinta tfrang f print consequ variabl must defin loop see undefin none valu follow code rais error even variabl never use loop def f tfprinta tfrang error must defin loop howev lambda function handl differ reason backward compat lambda function assum use statement use least block foolambda lambda expect call anywher els tfrang okay local loop due reason follow code work expect tensorflow loop l lambda tfprinta tfrang consid local loop l print note none restrict appli tensorflow loop python loop correctli handl closur case python collect tensorflow control flow key point use tensorflow collect class instead python collect python collect okay use repres fix structur list dont chang length dict dont add remov key modifi python collect tensorflow control flow allow one advantag eager execut may use usual python collect like list dict hold tftensor valu howev gener compat tensorflow control flow special collect like tftensorarray requir consid follow exampl def fn l def loop_condi return def loop_bodyi lappendi return tfwhile_loop condloop_cond bodyloop_bodi loop_var return l code work eager execut use tensorflow runtim tfwhile_loop fn howev work graph execut tensorflow use special mechan ensur comput correctli sequenc dataflow graph tffunctionfn error illeg tensor captur equival autograph code rais error l tfrang lappendi error illeg tensor captur instead use special tftensorarray class l tftensorarraytfint size dynamic_sizetru tfrang l lwritels okay python collect fix structur allow tensorflow control flow except previou rule made python collect static dont grow size durat comput caution use function program style manipul static collect exampl static_list tfconstant dprop static_list okay static_list chang structur static_object myclass static_objectfield tfconstant static_objectfield static_objectfield okay static_object chang structur static_dict field tfconstant static_dictfield static_dictfield okay static_dict chang structur howev rememb use function program style collect use insid control flow python collect fix structur dynam index subtl error occur collect static access dynam way key constant exampl tfconstant tfrang key dkey problem access dict use nonconst key code rais illeg captur error remedi write function program style tfconstant tfrang key valu key valu ditem okay shape dtype consist tensorflow control flow unlik python tensorflow limit support dynam type mean tensor must maintain consist shape dtype across control flow path note gener restrict appli control flow eager execut eager execut use python control flow rather tensorflow control flow op mix dynam comput static shape key point use shape tensor static shape shaperank tensor static rank use tfshape tfrank shape rank dynam tensorflow option static type shape shape tensor may static eg my_tensorshap denot three three matrix dynam eg my_tensorshapenon denot matrix dynam number row three column shape dynam still queri runtim use tfshape function note tfshape alway return tensor static shape tensorflow perform addit shape verif graph construct time trace static shape verif use work like compil exampl error caught earli execut even begin exampl x tfconstant x trace error bound avoid trace error add static shape verif help make code robust xshape val x els val some_default_valu snippet code protect indexoutofbound error code also effici verif xshape includ graph happen tri perform index verif use dynam control flow might expect code work way val tfcond xshape lambda x lambda some_default_valu howev tensorflow let write code could result error even code appear branch tfcond statement would never execut rememb shape x tensorflow perform static shape verif lead surpris behavior use tfshape tensor static shape tensorflow x tfconstant tfshapex val x error trace bound els val some_default_valu tfshape alway evalu tensor statement convert autograph tfcond perform static shape verif branch need write code handl static dynam shape option case first option alway work dynam shape instanc use input_signatur tffunction mani shape shaperel check skip shape dynam tffunctioninput_signaturetftensorspecshapenon def fx x dynam shape tfshapex build tfcond val x okay bound check skip shape dynam els val some_default_valu second option first verifi whether shape static dynam done trace time allow use python trace code suitabl situat xshape none python bool use tfcond use xshape els use tfshapex consist dtype dtype across code path must consist condit loop exampl tfcond correspondingli autograph set tensor valu condit tensor must shape dtype branch condit exampl illeg dtype chang condit x tfcond tfrandomuniform lambda tfconstant dtypetfint lambda tfconstant dtypetffloat error inconsist dtype int float restrict autograph code tfrandomuniform x tfconstant dtypetfint els x tfconstant dtypetffloat error inconsist dtype int float exampl illeg dtype chang loop wont work x chang dtype insid loop x tfwhile_loop lambda _ tfrandomuniform lambda x tfconstant dtypetffloat loop_varstfconst dtypetfint error inconsist dtype int float restrict autograph code x tfconstant dtypetfint tfrandomuniform x tfconstant dtypetffloat error inconsist dtype int float consist shape shape across code path must consist loop tensor need chang shape across iter use shape_invari note shape allow inconsist condit result partial dynam shape tfwhile_loop correspondingli autograph loop loop variabl must maintain consist shape dtype across iter everi loop variabl must shape end loop bodi begin loop bodi exampl illeg shape chang loop def loop_bodyx xshape return tfconstant error inconsist shape x tfwhile_loop lambda _ tfrandomuniform loop_bodi loop_varstfconst restrict autograph code x tfconstant tfrandomuniform x tfconstant error inconsist shape consist control flow type autograph one write python control flow like rang well tensorflow control flow like tfrang howev one could also write illeg program start python control flow turn tensorflow control flow case error rais exampl along recommend python loop tfdepend break return exampl rang tfgreateri break error tf break insid python loop solut case chang loop type tf loop tfrang tfgreateri break work python loop turn tensorflow loop exampl tfmathsubtracti error loop would turn tf loop solut case make sure loop type start tf loop typic make sure condit alway tensor tfconstant work tfmathsubtracti tensorflow loop never turn python loop note legal case tensorflow implicitli convert python valu tensor tfconstant ok autoconvert tensor access sourc code key point autograph handl function whose sourc code access runtim almost python function allow access sourc code howev except exist function creat python interact shell function nativ bind python sourc code function creat dynam use exec eval use inspectfindsourcehttpsdocspythonorglibraryinspecthtmlinspectfindsourc quickli diagnos whether sourc code avail function exampl import inspect def simple_funct return rais error autograph print warn return sourc code autograph work well inspectfindsourcesimple_funct sourc code lambda function tf newer key point nest lambda function use distinguish argument name avoid pars error python runtim expos sourc code lambda function howev may omit part actual bodi includ surround code may make imposs pars exact sourc code lambda function see httpsgithubcomtensorflowtensorflowissu autograph use altern method pars sourc code robustli rare case may unabl distinguish nest lambda function ident signatur exampl l lambda x lambda x x autograph rais error code parser distinguish two function signatur work around limit use distinct argument name l lambda outer_x lambda inner_x inner_x tf older older version tensorflow load code lambda function robust follow guidanc avoid error import declar lambda function singl line make sure sourc code load correctli python runtim expos sourc code lambda function howev may omit part actual bodi includ surround code may make imposs pars exact sourc code lambda function exampl consid declar lambda function foo lambda lambda x x python runtim report follow sourc code foo inspectgetsourcefoo lambda lambda x xy n case sourc code return valid python code result error foo bar lambda x report sourc code contain invalid token inspectgetsourcefoo lambda xn shortcom avoid declar lambda singl assign return valu avoid place insid parenthes could caus autoformat tool break multipl line good singl assign my_lambda lambda x good singl return return lambda x xy bad wrap parenthes my_lambda lambda x x bad inlin anoth express foolambda x x bar autograph refer indexindexmd oper semant definit section describ semant oper use code gener autograph understand oper make easier read gener code autograph oper python function replac certain python construct gener code exampl follow statement x els result follow gener code def get_stat return def set_statevars_ nonloc vars_ def if_bodi nonloc def else_bodi nonloc ag__undefinedi ag__if_stmtag__ldx if_bodi else_bodi get_stat set_stat exampl ag__if_stmt ag__ld ag__undefin autograph oper sourc truth oper sourc codehttpsgithubcomtensorflowtensorflowtreemastertensorflowpythonautographoper public symbol export modul consid oper typebas dispatch autograph replac python statement oper order enabl typebas dispatch python didnt support thing like __add__ autograph would alreadi add oper dispatch mean simpli oper differ thing base type input gener dispatch follow rule input type would execut normal python also refer default path autograph alway revert correspond python oper exampl ag__notfals alway result fals input tensorflow type autograph typic dispatch equival tensorflow api perform addit check rais error exampl ag__eqtfconst tfconstant result tfmathequaltfconst tfconstant first rule mean convert normal nontensorflow code autograph call nontensorflow input execut gener code differ execut origin function form autograph oper use pure function form may sometim mean express normal appear bare python wrap insid function also known thunk python statement appear foo correspond thunk lambda foo oper list condit express sourcehttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonautographoperatorsconditional_expressionspi if_exp sourcehttpsgithubcomtensorflowtensorflowblobbacdadafdedccdtensorflowpythonautographoperatorsconditional_expressionspyl python condit statement foo bar els baz arg cond express condit cond _ cond els _ if_tru true valu thunk lambda x x _ els _ if_fals fals valu thunk lambda x _ _ els x expr_repr human readabl string repres cond use error messag exampl true_val cond els false_v ag__if_exprcond lambda true_val lambda false_v cond dispatch cond default python ifels statement tftensor tfcond check true_val false_v compat shape type control flow sourcehttpsgithubcomtensorflowtensorflowblobbacdadafdedccdtensorflowpythonautographoperatorscontrol_flowpi unlik python autograph control flow oper use explicit control flow variabl includ symbol modifi control flow exampl code singl loop variabl x x x x addit control flow dispatch nonpython implement subject restrict respect implement exampl tfwhile_loop requir loop variabl support type eg tensor consist shape dtype for_stmt sourcehttpsgithubcomtensorflowtensorflowblobbacdadafdedccdtensorflowpythonautographoperatorscontrol_flowpyl loop var target bodi extend periter condit handl earli termin eg due break arg iter_ iter target n _ n extra_test option extra periter condit thunk bodi loop bodi unari thunk def bodyi b _ b get_stat return current valu loop variabl set_stat set new valu loop variabl symbol_nam human readabl string repres loop variabl use error messag opt addit implementationspecif keyword argument exampl rang j j def get_stat return j def set_statevars_ nonloc j j vars_ def loop_bodyitr nonloc j itr j j ag__for_stmtrang none loop_bodi get_stat set_stat j exampl use extra_test rang break j j def get_stat return j def set_statevars_ nonloc j j vars_ def loop_bodyitr nonloc j itr j j def extra_test return noti ag__for_stmtrang extra_test loop_bodi get_stat set_stat j dispatch iter_ default python loop account extra_test tftensor produc tfrang tfwhile_loop remov tfrang tftensor tfragedtensor tfwhile_loop check loop var consist opt forward tfwhile_loop iter outermost dimens tensor similar tfmap_fn tfdatadataset tfdatadatasettake_whil check loop var consist tfdataiter tfdistributeiter tfwhile_loop call iter get_next_as_opt check loop var consist tfdistributeiter tfdistributeiterablereduc if_stmt sourcehttpsgithubcomtensorflowtensorflowblobbacdadafdedccdtensorflowpythonautographoperatorscontrol_flowpyl statement cond bodi els orelsebodi arg cond condit cond cond bodi true branch unari thunk def bodi b _ b orels fals branch unari thunk def bodi b _ b get_stat return current valu condit variabl set_stat set new valu condit variabl symbol_nam human readabl string repres condit variabl use error messag nout number output condit variabl condit variabl output input first nout valu get_stat set_stat condit output exampl k j j def get_stat return j def set_statevars_ nonloc j j vars_ def bodi nonloc j j j def orels pass ag__if_stmtk bodi orels get_stat set_stat j dispatch cond default python statement tftensor tfcond remov tfrang while_stmt sourcehttpsgithubcomtensorflowtensorflowblobbacdadafdedccdtensorflowpythonautographoperatorscontrol_flowpyl loop cond bodi arg test loop condit thunk def test cond cond bodi loop bodi thunk def bodi b _ b get_stat return current valu loop variabl set_stat set new valu loop variabl symbol_nam human readabl string repres loop variabl use error messag opt addit implementationspecif keyword argument exampl j j j def get_stat return j def set_statevars_ nonloc j j vars_ def loop_test nonloc j return j def loop_bodi nonloc j j j ag__while_stmtloop_test loop_bodi get_stat set_stat j dispatch return type test default python loop tftensor tfwhile_loop data structur sourcehttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonautographoperatorsdata_structurespi list_append sourcehttpsgithubcomtensorflowtensorflowblobbacdadafdedccdtensorflowpythonautographoperatorsdata_structurespyl list append oper lappendx caller assum list argument modifi possibl arg list_ listlik valu x valu append list return list_ append valu exampl lappendx l ag__list_appendl x dispatch list_ default list_append tftensor tfraw_opstensor_list_push_back tftensorarray tftensorarraywrit list_pop sourcehttpsgithubcomtensorflowtensorflowblobbacdadafdedccdtensorflowpythonautographoperatorsdata_structurespyl list pop oper lpopi caller assum list argument modifi possibl arg list_ listlik valu option index remov opt option implementationspecif argument return new_list list_ valu remov x valu remov exampl x lpop l x ag__list_popl dispatch list_ default list_pop tftensor tfraw_opstensor_list_pop_back list_stack listpopopt liststackopt new_list except assert_stmt boolean and_ eq not_ not_eq or_ python builtin float_ int_ len_ print_ range_ slice get_item getitemopt set_item variabl ld ldu undefin undefinedreturnvalu autograph refer indexindexmd function function call typic autograph convert one function time function call function call function convert recurs describ function call autograph rewrit function call special wrapper may convert call function runtim exampl function call fx z convert code schemat look like ag__converted_callf x z call rewritten includ call type callabl builtin function etc origin call function convert autograph simpli forward call wrapper function equival origin function call origin call function convert convers perform first convert function call instead note cach mechan prevent function convert multipl time mechan ensur function call made differ global free variableshttpsdocspythonorgreferenceexecutionmodelhtmlbindingofnam handl correctli function convers rule follow type function convert function alreadi convert function defin allowlist modul see autographcoreconfigpi nonpython function nativ bind print pdbset_trac ipdbset_trac builtin function except list autographoperatorspy_builtinspi constructor function without sourc code attach print warningse limitationslimitationsmd gener function print warn iter protocol method __next__ __iter__ context manag method __enter__ __exit__ autograph encount function convert outsid list print warn nest function function nest insid function convert autograph convert time function contain nest function return convert version return autograph refer indexindexmd common autograph error warn autograph could transform name warn output autograph could convert function unexpect reason error messag contain reason function could convert well guidanc proceed next exact error messag may vari version version gener caus failur appear somewher text exampl caus could get sourc code origin error could get sourc code note autograph alway output warn exampl constructor silent call without convers warn print code return autograph still execut function indic warn execut without convers function contain pure python graph code exampl tensordepend control flow code like still run without error howev contain construct support autograph expect subsequ except note warn output abseilhttpsgithubcomabseilabseilpi logger warn sever direct warn stdout use tfautographset_verbos true unabl locat sourc code sourc found error newer version autograph rais conversionerror older version print warn case similar messag find sourc code includ error rais autograph unabl find sourc code function need transform see limitationslimitationsmd detail warn larg unrol loop detect warn output autograph detect loop creat tensorflow op larg number iter creat usual indic loop intend run tfwhile_loop instead run python loop exampl train loop might mistakenli iter python rang instead tfrang num_step step tfconstant rangenum_step step train_stepmodel anoth exampl use custom gener autograph support even wrap support iter like dataset def my_iteratord data ds yield data custom iter alway dispatch python loop x my_iteratortfdatadatasetrang tfprintx note verif perform __debug__ true note warn output abseilhttpsgithubcomabseilabseilpi logger warn sever direct warn stdout use tfautographset_verbos true operatornotallowedingrapherror use tftensor python bool except rais whenev tftensor typecast python bool context eager execut activ except rais graph execut activ exampl insid tffunction autograph turn autograph caus place tensordepend break continu return insid python loop see exampl attempt use tftensor list comprehens iter use condit typic exampl mix python tf control flow incompat way rang python loop tfconstant tf condit break rais operatornotallowedingrapherror way error typic fix ensur control flow tf control flow tfrang tf loop tfconstant tf condit break work autograph caus use tftensor valu condit statement tensor argument logic express tensor another_tensor argument bool builtin booltensor note oper allow execut eagerli encount error make sure function either decor tffunction call anoth function decor way also look consol log output convers warn see section operatornotallowedingrapherror iter tftensor except rais whenev tri iter tftensor context eager execut activ except rais graph execut activ exampl insid tffunction autograph turn caus use tftensor valu iter statement tensor argument iter builtin itertensor note oper allow execut eagerli except similar previou exampl similar caus remedi inaccessibletensorerror tensor name defin anoth function code block except common code attempt obtain valu calcul within tfcond tfwhile_loop anoth tffunction without use function style mutabl collect see captur extern symbol tensorshttpswwwtensorfloworgguidefunctionall_outputs_of_a_tffunction_must_be_return_valu limitationslimitationsmd detail stagingerror convert code except use autograph wrap except custom constructor rerais origin type see error handlingerror_handlingmd detail code use custom except expect wrap except unabl identifi sourc code lambda function error usual appear context convers warn indic lambda function could pars see limitationslimitationsmd type error usual avoid creat lambda function separ simpl assign exampl l lambda arg bodi autograph refer indexindexmd introduct terminolog typic autograph oper convert function new function new semant def f converted_f tfautographto_graphf tensorflow autograph use convert function trace use tffunction api exampl follow code def f graph_f tffunctionf roughli equival converted_f tfautographto_graphf graph_f tffunctionautographfalseconverted_f remaind document convert function function convert autograph graph function function compil tffunction graph function usual also convert unless specifi otherwis safe behavior semant describ summar code either produc result run eager mode fail error tf graph code produc graph run directli graph mode python semant gener autograph chang semant errorfre python special circumst autograph may also preserv semant code rais error well semant preserv sens asif rulehttpsenwikipediaorgwikiasif_rul specif code would legal tensorflow graph code may becom legal convert exampl consid follow function correspond convert function def fx x return x return x converted_f tfautographto_graphf f execut without error converted_f ident result f run without error converted_f ident result tensorflow eager semant function call tensor argument eager execut mode certain semant differ graph execut semant exampl function produc differ result execut eager graph mode def fx x return x return x use tffunction run code tensorflow graph unconverted_graph_f tffunctionf autographfals graph_f tffunctionf autographtru ftfconstant valid eager tftensor numpi unconverted_graph_ftfconst error legal graph code typeerror use tftensor autograph transfer eager semant graph function graph_ftfconst valid autograph tftensor numpi subset eager autograph current support subset eager exampl list oper semant support def fn l tfrangen lappendi return l converted_f tfautographto_graphf f valid eager converted_f valid autograph default error experiment featur autograph support addit semant yet stabl includ exampl support list semant appli tensorarray def fn l tftensorarraydtypetfint size dynamic_sizetru tfrangen lappendi return l converted_f tfautographto_graphf experimental_converted_f tfautographto_graph f experimental_optional_featurestfautographexperimentalfeaturelist converted_f valid autograph default error experimental_converted_f valid tensorarray object use tensorrt tensorflow tftrt modul provid necessari bind introduc trtengineop oper wrap subgraph tensorrt modul activ develop instal tftrt current tensorflow nightli build includ tftrt default mean dont need instal tftrt separ pull latest tf contain docker hub instal latest tf pip packag get access latest tftrt want use tftrt nvidia jetson platform find download link relev tensorflow pip packag httpsdocsnvidiacomdeeplearningdgxindexhtmlinstallingframeworksforjetson instal tensorrt order make use tftrt need local instal tensorrt instal instruct compat tensorflow provid tensorflow gpu supporthttpswwwtensorfloworginstallgpu guid exampl find exampl script run infer deep learn model repositori httpsgithubcomtensorflowtensorrt use exampl verifi accuraci perform tftrt inform see verifi modelshttpsdocsnvidiacomdeeplearningframeworkstftrtuserguideindexhtmlverifiedmodel document tftrt documentationhttpsdocsnvidiacomdeeplearningframeworkstftrtuserguideindexhtml give overview support function provid tutori verifi model explain best practic troubleshoot guid test tftrt includ python test c unit test python test locat test directori execut use bazel test directli python command c unit test use test convers function convert tf op number tensorrt layer compil order compil modul need local tensorrt instal libnvinferso respect includ file configur step tensorrt enabl instal path set instal packag manag debrpm configur script find necessari compon system automat instal tar packag user set path locat librari instal configur shell bazel build configcuda configopt tensorflowtoolspip_packagebuild_pip_packag bazelbintensorflowtoolspip_packagebuild_pip_packag tmp tensorflow distribut librari overview tfdistributestrategi tensorflow api distribut train across multipl gpu multipl machin tpu use api user distribut exist model train code minim code chang use tensorflow high level api tfkera tfestim coupl line code chang chang underli compon tensorflow becom strategyawar includ variabl layer model optim metric summari checkpoint document distribut train guidehttpswwwtensorfloworgguidedistributed_train distribut train kera tutorialhttpswwwtensorfloworgtutorialsdistributekera distribut train custom train loop tutorialhttpswwwtensorfloworgtutorialsdistributecustom_train multiwork train kera tutorialhttpswwwtensorfloworgtutorialsdistributemulti_worker_with_kera multiwork train estim tutorialhttpswwwtensorfloworgtutorialsdistributemulti_worker_with_estim save load distribut strategyhttpswwwtensorfloworgtutorialsdistributesave_and_load simpl exampl use compil fit gpu python creat strategi instanc automat detect gpu mirrored_strategi tfdistributemirroredstrategi creat compil kera model strategyscop mirrored_strategyscop model tfkerassequentialtfkeraslayersdens input_shap modelcompilelossms optimizersgd call modelfit modelevalu dataset tfdatadatasetfrom_tensor repeatbatch modelfitdataset epoch modelevaluatedataset custom train loop tpu python creat strategi instanc tpu_strategi tfdistributetpustrategyresolv creat kera model strategyscop tpu_strategyscop model keraslayersdens namedens creat custom train loop bodi tffunction tffunction def train_stepiter def step_fninput imag target input tfgradienttap tape output modelimag loss tfreduce_sumoutput target grad tapegradientloss modelvari return grad return tpu_strategyrun step_fn argsnextiter run loop bodi dataset dataset tfdatadatasetfrom_tensor repeatbatch input_iter itertpu_strategyexperimental_distribute_datasetdataset train_stepinput_iter test test cover distribut strategi ensur featur pariti done use test decor strategy_combinationspi slurm cluster resolv slurm cluster resolv resolv cluster specif distribut tensorflow work launch hpc system run slurm implement abl handl homogen heterogen task long number gpu per node task mean node gpu possibl alloc process node node b resolut done determin job configur number slurm variabl overwritten user input default everyth determin slurm environ henc use case manual set paramet requir work slurmclusterresolv read environ variabl set insid job step launch slurm mean work correctli applic launch via srun process idrank extract environ variabl slurm_procid total number task launch extract slurm_step_num_task hostnam resolv inspect slurm_step_nodelist number task per node extract slurm_step_tasks_per_nod unless valu specifi user use variabl heterogen task distribut possibl user set tasks_per_nod singl integ homogen task dictionari map node name number task heterogen distribut howev set recommend chanc make slurm_procid wrong base port specifi user case one task launch per node port number increment addit task node howev reason default use number gpu present node number gpu task automat detect done check cuda_visible_devic first set slurm list gpu current node fallback use nvidiasmi doesnt work nonnvidia gpu use valu specifi user default alloc gpu automat expos process accord specif set cuda_visible_devic basic exampl slurm alloc shell salloc node ntaskspernod gresgpuk exclus run exampl srun python tf_examplepi creat cluster python import tensorflow tf cluster_resolv tfdistributecluster_resolverslurmclusterresolv strategi tfdistributeexperimentalmultiworkermirroredstrategycluster_resolvercluster_resolv strategyscop load compil model data exampl alloc job node node job gpu cluster_resolvercluster_spec return cluster specif object protobuf format follow valu host name may vari job name worker task key valu tn task key valu tn task key valu tn task key valu tn job_nam worker node task_index also gpu alloc automat first job node see gpu second gpu advanc exampl assum job paramet salloc srun creat cluster python cluster_resolv tfcontribcluster_resolverslurmclusterresolv ps worker port_bas tasks_per_nod gpus_per_nod gpus_per_task auto_set_gpufals cluster cluster_resolvercluster_spec job_nam task_index cluster_resolverget_task_info case paramet server job worker job use result protobuf specif look similar job name ps task key valu tn job name worker task key valu tn task key valu tn task key valu tn valu job_nam ps tn worker other gpu alloc done cluster resolv done manual use eg gpu go first process gpu second process node also note gpu use per task extens point class slurmclusterresolv provid method meant overwritten deriv class _resolve_own_rank _resolve_num_task _resolve_hostlist _resolve_task_configur use implement cluster resolv get inform differ sourc eg via mpi file environ variabl see document method return cluster resolv cluster resolv new way specifi cluster inform distribut execut built top exist clusterspec framework cluster resolv allow user simpli specifi configur cluster manag servic clusterresolv automat fetch relev inform servic popul clusterspec clusterresolv design work well managedtrainingsess clusterspec propag distribut train session remain robust face node network failur imag classif use resnet model describ deep residu learn imag recognitionhttpsarxivorgab content resnetpi model definit resnet_testpi saniti unittest benchmark use model eager execut enabl resnet_graph_testpi saniti unittest benchmark use model code construct tensorflow graph benchmark use synthet data run use eager execut python resnet_testpi benchmark use graph execut python resnet_graph_testpi benchmark use model definit includ tensorflow pip packag build run benchmark sourc use eager execut bazel run c opt configcuda resnet_test benchmark use graph execut bazel run c opt configcuda resnet_graph_test benchmark remov configcuda flag run cpu instead gpu octob benchmark demonstr compar perform eager graph execut particular model use singl nvidia titan x pascal gpu host intel xeon e cpu ghz batch size benchmark name batch size imagessecond eager_train_gpu_batch__channels_first graph_train_gpu_batch__channels_first tensorflow debugg tfdbg toc tensorflow debugg tfdbg special debugg tensorflow comput runtim tfdbg tensorflow x provid access tensor valu eagerhttpswwwtensorfloworgguideeag graphhttpswwwtensorfloworgapi_docspythontfgraph execut structur comput graph sourc code stack trace associ execut graphexecut event use tfdbg tfdbg tensorflow x consist python api enabl dump debug data file system name tfdebuggingexperimentalenable_dump_debug_info tensorboardbas gui provid interact visual debug data ie tensorboard debugg v plugin enable_dump_debug_info offer number level tensorvalu instrument vari amount inform dump incur perform overhead see api document tfdebuggingexperimentalenable_dump_debug_infohttpswwwtensorfloworgapi_docspythontfdebuggingexperimentalenable_dump_debug_info detail walkthrough gui tensorboard debugg v plugin see debug numer issu tensorflow program use tensorboard debugg vhttpswwwtensorfloworgtensorboarddebugger_v known issu limit use tfdebuggingexperimentalenable_dumpp_debug_info lead perform penalti tensorflow program amount slowdown vari depend whether use tensorflow cpu gpu tpu perform penalti highest tpu follow gpu lowest cpu tfdebuggingexperimentalenable_dump_debug_info current incompat model savingload checkpointinghttpswwwtensorfloworgtutorialskerassave_and_load legaci api tensorflow x tensorflow xs execut paradigm differ tensorflow v base deprec tfsessionhttpswwwtensorfloworgapi_docspythontfcompatvsess use tensorflow x use deprec tf_debuglocalclidebugwrappersess wrapper tfsession inspect tensor valu type debug inform terminalbas commandlin interfac detail see blog posthttpsdevelopersgoogleblogcomdebugtensorflowmodelswithtfdbghtml hi document tensorflow debugg tfdbg move see sourc version new locationdocs_srcguidedebuggermd see public websit version httpswwwtensorfloworgguidedebuggerhttpswwwtensorfloworgguidedebugg experiment tensorflow rpc op directori contain kernel rpc op tensorflow distribut packag note op may move separ repositori futur directori move new locat httpsgithubcomtensorflowdoc tensorflow secur advisori c fuzz fuzz statushttpsossfuzzbuildlogsstoragegoogleapiscombadgestensorflowsvghttpsbugschromiumorgpossfuzzissueslistsortopenedcanqprojtensorflow python fuzz fuzz statushttpsossfuzzbuildlogsstoragegoogleapiscombadgestensorflowpysvghttpsbugschromiumorgpossfuzzissueslistsortopenedcanqprojtensorflowpi regularli publish secur advisori use tensorflow note conjunct secur advisori strongli encourag tensorflow user read understand tensorflow secur model outlin securitymdhttpsgithubcomtensorflowtensorflowblobmastersecuritymd advisori number type version affect report addit inform tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd crash tfmathsegment_ oper report github issuehttpsgithubcomtensorflowtensorflowissu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd crash max_poold size argument neg report github issuehttpsgithubcomtensorflowtensorflowissu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd crash due overflow checkfail op larg tensor shape report github issuehttpsgithubcomtensorflowtensorflowissu issuehttpsgithubcomtensorflowtensorflowissu issuehttpsgithubcomtensorflowtensorflowissu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incomplet valid tfsummarycreate_file_writ report github issuehttpsgithubcomtensorflowtensorflowissu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd overflowcrash tftile tile tensor larg report github issuehttpsgithubcomtensorflowtensorflowissu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd overflowcrash tfimageres size larg report github issuehttpsgithubcomtensorflowtensorflowissu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd overflowcrash tfrang report github issuehttpsgithubcomtensorflowtensorflowissu issuehttpsgithubcomtensorflowtensorflowissu issuehttpsgithubcomtensorflowtensorflowissu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd miss valid checkpoint load discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd uniniti access einsumhelperparseequ discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault copi constant resourc tensor discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incomplet valid shape multipl tf op discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incomplet valid boost tree code aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob read tfraw_opssparsecountsparseoutput aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd fpe convolut zero size filter aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd fpe parallelconcat aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob read tfraw_opsquantizeanddequantizev op aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob shape infer quantizev aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob read tfraggedcross aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind nullptr tfraggedcross aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer except deserializespars aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd deadlock mutual recurs tffunction object aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow transpos aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd undefin behavior via nullptr refer bind spars matrix multipl aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd use free memori leak collectivereducev aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd integ divis tfraw_opsalltoal aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer except exit node preced enter op aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd access invalid memori shape infer cudnn op aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault due neg split splitv aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd sparsefillemptyrow heap oob aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob sparsebincount aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd arbitrari memori read immutableconst aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob fusedbatchnorm kernel aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd use uniniti valu vulner tensorflow qian feng baidu secur team tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd code inject saved_model_cli omer kaspi vdoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd use free segfault shape infer function discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault string tensor mismatch dimens due go code report github prhttpsgithubcomtensorflowtensorflowpul tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd fpe lsh tflite yakun zhang baidu secur tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer tflite mlir optim yakun zhang baidu secur tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer tflite yakun zhang baidu secur tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob tflite gather implement yakun zhang baidu secur tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob tflite yakun zhang baidu secur tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd infinit loop tflite aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd fpe tflite pool oper aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd fpe tflite divis oper aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd use uniti valu tflite aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd npe tflite aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite aivul team qihoo yakun zhang baidu secur tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob nest tfmap_fn raggedtensor hari sahov tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd arbitrari code execut due yaml deseri arjun shibu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd miss valid shape infer dequant yakun zhang baidu secur tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis convolut oper yakun zhang baidu secur tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind nullptr shape infer yakun zhang baidu secur tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incomplet valid maxpoolgrad yakun zhang baidu secur tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail mapstag ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob sdcaoptimizerv aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind nullptr map oper aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob upperbound lowerbound aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd crash nm op caus integ convers unsign aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd fpe tfraw_opsunravelindex aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind nullptr unicod encod aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind nullptr raggedtensortovari aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incomplet valid mkl requant aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incomplet valid quantizev aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob boost tree aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind nullptr boost tree aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd crash caus integ convers unsign aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis inplac oper aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind nullptr heap oob binari cwise op aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind nullptr matrixsetdiagv op aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind nullptr matrixdiagv op aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind nullptr raggedtensortospars aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob resourcescatterupd aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob check fail resourcegath aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis resourcegath aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd use free boost tree creation aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow fractionalavgpoolgrad aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault heap buffer overflow experimentaldatasettotfrecord aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer uncompressel aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incorrect valid savev input aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer sparsetensorslicedataset aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd bad alloc stringngram caus integ convers aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd integ overflow due convers unsign aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer matrixdiagpartop aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd stdabort rais tensorlistreserv aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob raggedgath aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis resourcescatterdiv aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd integ divis spars reshap aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer heap oob read oper restor tensor aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer raggedtensortotensor aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer compressel aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd float point except sparsedensecwisediv aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap bound access spars reduct oper aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault tfraw_opsimmutableconst discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault tfraw_opssparsecountsparseoutput discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd crash tfstringssubstr due checkfail report github issu reporthttpsgithubcomtensorflowtensorflowissu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd crash tftranspos complex input report github issu reporthttpsgithubcomtensorflowtensorflowissu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null derefer grappler trysimplifi discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd stack overflow parseattrvalu nest tensor discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd interpret crash tfiodecode_raw discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incomplet valid tfraw_opsctcloss yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow bandedtriangularsolv ye zhang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd invalid valid quantizeanddequantizev yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incomplet valid sparsereshap ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incomplet valid sparsesparseminimum ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incomplet valid sparseadd yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob null pointer derefer raggedtensortotensor yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob read tflite aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob write tflite aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd integ overflow tflite memori alloc aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd integ overflow tflite concaten aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite implement hashtabl lookup aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite implement depthwiseconv aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite implement onehot aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite implement split aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite implement svdf aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite implement spacetobatchnd aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite implement batchtospacend aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite implement embeddinglookup aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite convolut code aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite implement depthtospac aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd stack overflow due loop tflite subgraph aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer tflite reshap oper aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob read tflite implement minimum maximum aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite implement transposeconv aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite implement gathernd aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero tflite implement spacetodepth aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero optim pool implement tflite aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero pad comput tflite aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow undefin behavior fusedbatchnorm ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail due integ overflow univers virginia univers california santa barbara tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob read tfraw_opsdequant yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault ctcbeamsearchdecod yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow maxpoolgrad ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow fractionalavgpoolgrad ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd undefin behavior checkfail fractionalmaxpoolgrad ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow avgpooldgrad ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow maxpooldgradgrad ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd undefin behavior maxpooldgradgrad ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis maxpoolgradwithargmax ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd overflowdeni servic tfraw_opsreversesequ ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind nullptr sdcaoptim ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd memori corrupt drawboundingboxesv yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap bound read requantizationrang ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap bound read maxpoolgradwithargmax ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd lack valid sparsedensecwisemul yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind null parameterizedtruncatednorm ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob access dilationdbackpropinput yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer sparsefillemptyrow yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer editdist yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail tfraw_opsrfft yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail tfraw_opsirfft yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail loadandremapmatrix yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow raggedtensortotensor ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob access unicod op ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow sparsesplit ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis revers ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis sparsematmul ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis fusedbatchnorm ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis densecountsparseoutput yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfailur unsortedsegmentjoin ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap oob quantizeanddequantizev aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd oob read matrixtriangularsolv ye zhang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis fractionalavgpool ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis quantizedadd yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis quantizedbatchnormwithglobalnorm yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap bound quantizedbatchnormwithglobalnorm yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis quantizedbiasadd yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow sparsetensortocsrsparsematrix yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail ctcgreedydecod yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail quantizeanddequantizevgrad yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer stringngram yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow stringngram yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow convdbackpropfilt yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero convdbackpropfilt yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow quantizedreshap ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow quantizedresizebilinear ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail sparseconcat yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow quantizedmul ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail drawboundingbox yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap bound read raggedcross ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail tfraw_opsencodepng yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow caus round ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd invalid valid sparsematrixsparsecholeski ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis quantizedmul ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis quantizedconvd ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis convd ying wang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis convdbackpropinput yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis convdbackpropfilt yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail addmanysparsetotensorsmap yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis convdbackprop yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow convdbackprop yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault sparsecountsparseoutput yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail sparsecross due type confus yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd session oper eager mode lead null pointer derefer aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd divis zero convd yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer via invalid rag tensor yakun zhang ying wang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd refer bind null pointer matrixdiag op ye zhang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd type confus tensor cast lead dereferenc null pointer aivul team qihoo ye zhang yakun zhang baidu xteam tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap bound write raggedbincount aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow raggedbincount aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap bound access makeedg discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkfail lstm zerolength input discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap bound read filesystem glob match rc aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd write immut memori region aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd lack valid data format attribut aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd uniniti memori access eigen type discov intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd float cast overflow undefin behavior report github issu reporthttpsgithubcomtensorflowtensorflowissu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault tfquantizationquantize_and_dequant report github issu reporthttpsgithubcomtensorflowtensorflowissu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault tfraw_opsswitch eager mode aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd undefin behavior dlpackto_dlpack aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd memori leak dlpackto_dlpack aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd memori corrupt dlpackto_dlpack aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd crash due invalid shape grad_valu sparsefillemptyrowsgrad variant analysi aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow sparsefillemptyrowsgrad aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow weight spars count op variant analysi aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd crash due invalid split sparsecountsparseoutput variant analysi aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow due invalid indic sparsecountsparseoutput variant analysi aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd abort due invalid split raggedcountsparseoutput variant analysi aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault due invalid split raggedcountsparseoutput variant analysi aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow due invalid split raggedcountsparseoutput aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd integ truncat shard api usag aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd formatstr vulner tensorflow as_str aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault call sessiononli op eager mode aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd data leak tfraw_opsstringngram aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incomplet valid tensorflow savedmodel constant node caus segfault shuaik dong alipay tian qian secur lab issu reporthttpsgithubcomtensorflowtensorflowissu tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segfault data corrupt caus neg index tflite aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd data corrupt due dimens mismatch tflite aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer tflite aivul team qihoo variant analysi tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segment fault andor data corrupt due invalid tflite model variant analysi aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd bound access tflite oper aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd bound access tflite implement segment sum variant analysi aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd denial servic tflite implement segment sum variant analysi aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd bound write tflite implement segment sum aivul team qihoo tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd segment fault convert python string tffloat found intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd heap buffer overflow unsortedsegmentsum found intern tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd null pointer derefer error decod gif file baidu secur lab tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd craft configur file result invalid memori access blade team tencent tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd old snappi librari usag result memcpi paramet overlap blade team tencent tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd checkpoint meta file outofbound read blade team tencent tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tensorflow lite toco flatbuff pars vulner blade team tencent tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd gif file pars null pointer derefer error blade team tencent tfsahttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd bmp file parser outofbound read blade team tencent bound read blade team tencent issu reporthttpsgithubcomtensorflowtensorflowissu tfsa heap buffer overflow undefin behavior fusedbatchnorm cve number cve impact implement tfraw_opsfusedbatchnorm vulner heap buffer overflow python import tensorflow tf x tfzero dtypetffloat scale tfconstant shape dtypetffloat offset tfconstant shape dtypetffloat mean tfconstant shape dtypetffloat varianc tfconstant shape dtypetffloat epsilon exponential_avg_factor data_format nhwc is_train fals tfraw_opsfusedbatchnorm xx scalescal offsetoffset meanmean variancevari epsilonepsilon exponential_avg_factorexponential_avg_factor data_formatdata_format is_trainingis_train tensor empti implement trigger undefin behavior dereferenc null pointer python import tensorflow tf import numpi np x tfzero dtypetffloat scale tfconstant shape dtypetffloat offset tfconstant shape dtypetffloat mean tfconstant shape dtypetffloat varianc tfconstant shape dtypetffloat epsilon exponential_avg_factor data_format nhwc is_train fals tfraw_opsfusedbatchnorm xx scalescal offsetoffset meanmean variancevari epsilonepsilon exponential_avg_factorexponential_avg_factor data_formatdata_format is_trainingis_train implementationhttpsgithubcomtensorflowtensorflowblobdedbdfadccedfcbffddctensorflowcorekernelsfused_batch_norm_opcc fail valid scale offset mean varianc last two requir number element number channel x result heap bound read buffer back tensor index past boundari tensor empti valid mention paragraph would also trigger prevent undefin behavior patch patch issu github commit fdfebdbebceeachttpsgithubcomtensorflowtensorflowcommitfdfebdbebceeac fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa divis zero tflite implement spacetobatchnd cve number cve impact implement spacetobatchnd tflite oper vulner divis zero errorhttpsgithubcomtensorflowtensorflowblobcdbbfacbcebfafaactensorflowlitekernelsspace_to_batch_ndccl cc tf_lite_ensure_eqcontext final_dim_s block_shapedim output_sizedatadim final_dim_s block_shapedim attack craft model one dimens block input henc correspond valu block_shap patch patch issu github commit dbaaffbbcabdhttpsgithubcomtensorflowtensorflowcommitdbaaffbbcabd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob boost tree cve number cve impact attack read outsid bound heap alloc data send special craft illeg argument boostedtreessparsecalculatebestfeaturesplit python import tensorflow tf tfraw_opsboostedtreessparsecalculatebestfeaturesplit node_id_rang stats_summary_indic x stats_summary_valu stats_summary_shap tree_complex min_node_weight logits_dimens split_typeinequ implementationhttpsgithubcomtensorflowtensorflowblobdcbdefbdbbcactensorflowcorekernelsboosted_treesstats_opscc need valid valu stats_summary_indic rang patch patch issu github commit eceeebbeacchttpsgithubcomtensorflowtensorflowcommiteceeebbeacc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa memori corrupt dlpackto_dlpack cve number cve impact implement dlpackto_dlpack made use uniniti memori result memori corrupt pybind glue code assum argument tensorhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowpythontfe_wrapperccl cc tfe_tensorhandl thandl eagertensor_handleeager_tensor_pyobject_ptr howev noth stop user pass python object instead tensor python tfexperimentaldlpackto_dlpack warn memorysanit useofuninitializedvalu xbbaca tensorflowanonym namespacegettensorfromhandletfe_tensorhandl tf_statu third_partytensorflowceagerdlpackcc xbbacf tensorflowtfe_handletodlpacktfe_tensorhandl tf_statu third_partytensorflowceagerdlpackcc uniniti memori address due reinterpret_casthttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowpythoneagerpywrap_tensorccl cc tfe_tensorhandl eagertensor_handleconst pyobject return reinterpret_castconst eagertensorohandl sinc pyobject python object tensorflow tensor cast eagertensor fail vulner version tensorflow patch patch issu efbebcbeaeafcebhttpsgithubcomtensorflowtensorflowcommitefbebcbeaeafceb releas patch releas affect version recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa divis quantizedbiasadd cve number cve impact attack trigger integ divis zero undefin behavior tfraw_opsquantizedbiasadd python import tensorflow tf input_tensor tfconstant shape dtypetfquint bia tfconstant shape dtypetfquint min_input tfconstant dtypetffloat max_input tfconstant dtypetffloat min_bia tfconstant dtypetffloat max_bia tfconstant dtypetffloat tfraw_opsquantizedbiasaddinputinput_tensor biasbia min_inputmin_input max_inputmax_input min_biasmin_bia max_biasmax_bia out_typetfqint implement eigen kernelhttpsgithubcomtensorflowtensorflowblobbcabdbaabdddfafcdfbcdtensorflowcorekernelsquantization_utilshl divis number element smaller input base shape without check zero cc templat typenam typenam typenam void quantizedaddusingeigenconst eigenthreadpooldevic devic const tensor input float input_min float input_max const tensor smaller_input float smaller_input_min float smaller_input_max tensor output float output_min float output_max const int input_element_count inputnumel const int smaller_input_element_count smaller_inputnumel bcast input_element_count smaller_input_element_count integr divis undefin behavior patch patch issu github commit ddfefaebeccbhttpsgithubcomtensorflowtensorflowcommitddfefaebeccb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa access invalid memori shape infer cudnn op cve number cve impact shape infer codehttpsgithubcomtensorflowtensorflowblobfffddcdebdfbtensorflowcoreopscudnn_rnn_opscc cudnn oper tensorflow trick access invalid memori via heap buffer overflow python import tensorflow tf tffunction def func return tfraw_opscudnnrnnv input input_h input_c param sequence_length func occur rank input input_h input_c paramet valid code assum certain valu cc auto input_shap cinput auto input_h_shap cinput auto seq_length cdiminput_shap auto batch_siz cdiminput_shap assum rank auto num_unit cdiminput_h_shap assum rank patch patch issu github commit affcebbcbdcfecccehttpsgithubcomtensorflowtensorflowcommitaffcebbcbdcfeccc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa overflowdeni servic tfraw_opsreversesequ cve number cve impact implement tfraw_opsreversesequ allow stack overflow andor checkfail base denial servic python import tensorflow tf input tfzero dtypetfint seq_length tfconstant shape dtypetfint tfraw_opsreversesequ inputinput seq_lengthsseq_length seq_dim batch_dim implementationhttpsgithubcomtensorflowtensorflowblobbbefdcbafcdbatensorflowcorekernelsreverse_sequence_opccl fail valid seq_dim batch_dim argument valid neg valu seq_dim result stack overflow checkfailur depend version eigen code use implement oper similar behavior exhibit invalid valu batch_dim patch patch issu github commit ecfcbecedcaceeeadddhttpsgithubcomtensorflowtensorflowcommitecfcbecedcaceeeaddd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa refer bind nullptr raggedtensortovari cve number cve impact attack caus undefin behavior via bind refer null pointer tfraw_opsraggedtensortovari python import tensorflow tf tfraw_opsraggedtensortovari rt_nested_split rt_dense_valu batched_inputtru implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcorekernelsragged_tensor_to_variant_opccl incomplet valid split valu miss case argument would empti patch patch issu github commit beadeadfbdcebedffhttpsgithubcomtensorflowtensorflowcommitbeadeadfbdcebedff fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa segfault tfquantizationquantize_and_dequant cve number cve impact attack pass invalid axi valu tfquantizationquantize_and_dequant python tfquantizationquantize_and_dequant input input_min input_max axi result access dimens outsid rank input tensorhttpsgithubcomtensorflowtensorflowblobbbfcbaafaaadabctensorflowcorekernelsquantize_and_dequantize_opccl c kernel implement cc const int depth axis_ inputdim_sizeaxis_ howev dim_siz dcheckhttpsgithubcomtensorflowtensorflowblobbbfcbaafaaadabctensorflowcoreframeworktensor_shapeccl valid argument use access correspond element array cc int tensorshapebaseshapedim_sizeint const dcheck_g dcheck_ltd dim dostuffwithdims_d sinc normal build dchecklik macro noop result segfault access bound array patch patch issu eccbeceadfeeehttpsgithubcomtensorflowtensorflowcommiteccbeceadfee releas tensorflow contain patch tensorflow nightli packag commit also issu resolv inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report httpsgithubcomtensorflowissu tfsa segfault data corrupt caus neg index tflite cve number cve impact mimic python index neg valu tflite use resolveaxi convert neg valu posit indic howev check convert index valid present debug buildshttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowlitekernelsinternalreferencereducehl cc handl neg index posit index p_idx repres neg index n_idx n_idx p_idxnum_dim eg num_dim int current axisidx axisidx num_dim axisidx tflite_dcheckcurr current num_dim dcheck trigger code execut move ahead neg index turn result access data bound result segfault andor data corrupt vulner version tensorflow patch patch issu dfdeabfbfeahttpsgithubcomtensorflowtensorflowcommitdfdeabfbfea releas patch releas version recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob read tfraw_opssparsecountsparseoutput cve number cve impact shape infer function sparsecountsparseoutputhttpsgithubcomtensorflowtensorflowblobebeccebfaabctensorflowcoreopscount_opsccl trigger read outsid bound heap alloc array python import tensorflow tf tffunction def func return tfraw_opssparsecountsparseoutput indic valu dense_shap weight binary_output true func function fail check first input ie indic rank cc auto rank cdimcinput patch patch issu github commit cfacaaafbeebbdbaaadhttpsgithubcomtensorflowtensorflowcommitcfacaaafbeebbdbaaad fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap buffer overflow stringngram cve number cve impact attack caus heap buffer overflow pass craft input tfraw_opsstringngram python import tensorflow tf separ bxx ngram_width left_pad bxfxfxfxfxf right_pad bxfxfxxdxx pad_width preserve_short_sequ true l data tfconstantl shape dtypetfstr l data_split tfconstantl shape dtypetfint tfraw_opsstringngramsdatadata data_splitsdata_split separatorsepar ngram_widthsngram_width left_padleft_pad right_padright_pad pad_widthpad_width preserve_short_sequencespreserve_short_sequ implementationhttpsgithubcomtensorflowtensorflowblobcdddaccedacdbftensorflowcorekernelsstring_ngrams_opccl fail consid corner case input would split way gener token contain pad element cc int ngram_index ngram_index num_ngram ngram_index int pad_width get_pad_widthngram_width int left_pad stdmax pad_width ngram_index int right_pad stdmax pad_width num_ngram ngram_index int num_token ngram_width left_pad right_pad int data_start_index left_pad ngram_index pad_width tstring ngram outputngram_index ngramreservengram_s int n n left_pad n ngramappendleft_pad_ ngramappendseparator_ int n n num_token n ngramappenddatadata_start_index n ngramappendseparator_ ngramappenddatadata_start_index num_token int n n right_pad n ngramappendseparator_ ngramappendright_pad_ input num_token data_start_index left pad present mark line would result read data patch patch issu github commit baddffeeaafaffbhttpsgithubcomtensorflowtensorflowcommitbaddffeeaafaffb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa incomplet valid sparsereshap cve number cve impact incomplet valid sparsereshap result denial servic base checkfailur python import tensorflow tf input_indic tfconstant shape dtypetfint input_shap tfzero dtypetfint new_shap tfzero dtypetfint tfraw_opssparsereshapeinput_indicesinput_indic input_shapeinput_shap new_shapenew_shap implementationhttpsgithubcomtensorflowtensorflowblobebcecebaeaftensorflowcorekernelssparse_reshape_opccl valid input argument specifi valid spars tensor patch patch issu github commit dddfedabfdbdcfdbhttpsgithubcomtensorflowtensorflowcommitdddfedabfdbdcfdb fix includ tensorflow also cherrypick commit tensorflow tensorflow affect version inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa refer bind nullptr shape infer cve number cve impact attack caus undefin behavior via bind refer null pointer tfraw_opssparsefillemptyrow python import tensorflow tf tfcompatvdisable_v_behavior tfraw_opssparsefillemptyrow indic tfconstant shape dtypetfint valu tfconstant shape dtypetfint dense_shap tfconstant shape dtypetfint default_valu shape infer implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcoreopssparse_opsccl valid input argument empti tensor patch patch issu github commit ebfccdbfebbedhttpsgithubcomtensorflowtensorflowcommitebfccdbfeb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang baidu secur tfsa segfault ctcbeamsearchdecod cve number cve impact due lack valid tfraw_opsctcbeamsearchdecod attack trigger denial servic via segment fault python import tensorflow tf input tfconstant shape dtypetffloat sequence_length tfconstant shape dtypetfint beam_width top_path merge_rep true tfraw_opsctcbeamsearchdecod inputsinput sequence_lengthsequence_length beam_widthbeam_width top_pathstop_path merge_repeatedmerge_rep implementationhttpsgithubcomtensorflowtensorflowblobafeefbdadeffeeecfacftensorflowcorekernelsctc_decoder_opsccl fail detect case input tensor empti proce read data null buffer patch patch issu github commit bbcdaefbccfehttpsgithubcomtensorflowtensorflowcommitbbcdaefbccf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa incomplet valid sparsesparseminimum cve number cve impact incomplet valid sparseadd result allow attack exploit undefin behavior dereferenc null pointer well write outsid bound heap alloc data python import tensorflow tf a_indic tfone dtypetfint a_valu tfone dtypetfint a_shap tfone dtypetfint b_indic tfone dtypetfint b_valu tfone dtypetfint b_shape tfone dtypetfint tfraw_opssparsesparseminimuma_indicesa_indic a_valuesa_valu a_shapea_shap b_indicesb_indic b_valuesb_valu b_shapeb_shap implementationhttpsgithubcomtensorflowtensorflowblobebacddcfcdcactensorflowcorekernelssparse_sparse_binary_op_sharedcc larg set valid two spars tensor input tensor total valid tensor empti second dimens _indic match size correspond _shape allow attack send tensor tripl repres invalid spars tensor abus code assumpt protect valid patch patch issu github commit babdbbaabfcaedbefhttpsgithubcomtensorflowtensorflowcommitbabdbbaabfcaedbef follow github commit ffdeefcdcfdecfahttpsgithubcomtensorflowtensorflowcommitffdeefcdcfdecfa fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa incomplet valid tfraw_opsctcloss cve number cve impact incomplet valid tfraw_opsctcloss allow attack trigger oob read heap python import tensorflow tf input tfconstant shape dtypetffloat labels_indic tfconstant shape dtypetfint labels_valu tfconstant shape dtypetfint sequence_length tfconstant shape dtypetfint tfraw_opsctclossinputsinput labels_indiceslabels_indic labels_valueslabels_valu sequence_lengthsequence_length preprocess_collapse_repeatedtru ctc_merge_repeatedfals ignore_longer_outputs_than_inputstru attack also trigger heap buffer overflow python import tensorflow tf input tfconstant shape dtypetffloat labels_indic tfconstant shape dtypetfint labels_valu tfconstant shape dtypetfint sequence_length tfconstant shape dtypetfint tfraw_opsctclossinputsinput labels_indiceslabels_indic labels_valueslabels_valu sequence_lengthsequence_length preprocess_collapse_repeatedfals ctc_merge_repeatedfals ignore_longer_outputs_than_inputsfals final attack trigger null pointer derefer python import tensorflow tf input tfconstant shape dtypetffloat labels_indic tfconstant shape dtypetfint labels_valu tfconstant shape dtypetfint sequence_length tfconstant shape dtypetfint tfraw_opsctclossinputsinput labels_indiceslabels_indic labels_valueslabels_valu sequence_lengthsequence_length preprocess_collapse_repeatedfals ctc_merge_repeatedfals ignore_longer_outputs_than_inputsfals patch patch issu github commit cdebcbbchttpsgithubcomtensorflowtensorflowcommitcdebcbbc follow github commit aafbbefbhttpsgithubcomtensorflowtensorflowcommitaafbbefb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa crash nm op caus integ convers unsign cve number cve impact attack caus denial servic applic serv model use tfraw_opsnonmaxsuppressionv trigger divis python import tensorflow tf tfraw_opsnonmaxsuppressionv box score max_output_s iou_threshold score_threshold soft_nms_sigma pad_to_max_output_sizetru implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcorekernelsimagenon_max_suppression_opccl use user control argument resiz stdvector cc const int output_s max_output_sizescalarint stdvectorint select pad_to_max_output_s selectedresizeoutput_s howev stdvectorres take size argument size_t output_s int implicit convers usign attack suppli neg valu convers result crash similar issu occur combinednonmaxsuppress python import tensorflow tf tfraw_opsnonmaxsuppressionv box score max_output_size_per_class max_total_s iou_thresholdscore_threshold pad_per_classtru clip_boxestru patch patch issu github commit adcaafcafbfbcdfdhttpsgithubcomtensorflowtensorflowcommitadcaafcafbfbcdfd commit bcdbfffcaaffecffabeabbefhttpsgithubcomtensorflowtensorflowcommitbcdbfffcaaffecffabeabbef fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa incomplet valid shape multipl tf op cve number cve impact sever tensorflow oper miss valid shape tensor argument involv call depend api result undefin behavior segfault checkfail relat crash scenario write read heap popul array also possibl discov issu intern via tool work improvingtest gpu op determin dont reproduc multipl fix issu patch patch issu github commit bedfadbcdcdefdahttpsgithubcomtensorflowtensorflowcommitbedfadbcdcdefda ddabcbaaeddedbfhttpsgithubcomtensorflowtensorflowcommitddabcbaaeddedbf dcdfefdadhttpsgithubcomtensorflowtensorflowcommitdcdfefdad daaadbeeffaefefhttpsgithubcomtensorflowtensorflowcommitdaaadbeeffaefef dddbfdbcddafbbaacehttpsgithubcomtensorflowtensorflowcommitdddbfdbcddafbbaac efabbbaeafcdecchttpsgithubcomtensorflowtensorflowcommitefabbbaeafcdecc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa segfault string tensor mismatch dimens due go code cve number cve impact certain condit go code trigger segfault string dealloc string tensor ctf_tstring_dealloc call garbag collect within final function howev tensor structur isnt check encod avoid perform penalti current method dealloc assum encod succeed segfault string tensor garbag collect whose encod fail eg due mismatch dimens fix call set final function defer newtensor return encod fail string tensor dealloc determin base byte written patch patch issu github commit baecbfdbabeedfhttpsgithubcomtensorflowtensorflowcommitbaecbfdbabeedf merg httpsgithubcomtensorflowtensorflowpul fix includ tensorflow also cherrypick commit tensorflow affect version inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report extern via fix prhttpsgithubcomtensorflowtensorflowpul tfsa divis zero pad comput tflite cve number cve impact tflite comput size output pad computeoutsizehttpsgithubcomtensorflowtensorflowblobcaebceddedcftensorflowlitekernelspaddinghl check stride argument divis cc inlin int computeoutsizetflitepad pad int image_s int filter_s int stride int dilation_r int effective_filter_s filter_s dilation_r switch pad case ktflitepaddingsam return image_s stride stride case ktflitepaddingvalid return image_s stride effective_filter_s stride default return user craft special model computeouts call stride set patch patch issu github commit aeaeaaefdbecehttpsgithubcomtensorflowtensorflowcommitaeaeaaefdbec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa incorrect valid savev input cve number cve impact code tfraw_opssavev properli valid input attack trigger null pointer derefer python import tensorflow tf tfraw_opssavev prefixtensorflow tensor_namev shape_and_slic tensor implementationhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelssave_restore_v_opscc use validateinput check input argument valid valid would caught illeg state repres reproduc howev valid use op_requir translat set statu object current opkernelcontext error statu follow empti return statement termin execut function present howev mean kernel execut final instead execut continu next line comput follow call validateinput equival lack valid patch patch issu github commit ceadcaebcceafhttpsgithubcomtensorflowtensorflowcommitceadcaebcceaf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap buffer overflow caus round cve number cve impact attack trigger heap buffer overflow tfraw_opsquantizedresizebilinear manipul input valu float round result offbyon error access imag element python import tensorflow tf l imag tfconstantl shape dtypetfqint size tfconstant shape dtypetfint min tfconstant max tfconstant tfraw_opsquantizedresizebilinearimagesimag sizes minmin maxmax align_cornerstru half_pixel_centerstru implementationhttpsgithubcomtensorflowtensorflowblobbfcfbcedeeeatensorflowcorekernelsquantized_resize_bilinear_opccl comput two integ repres upper lower bound interpol ceil floor float point valu cc const float in_f stdfloorin interpolationloweri stdmaxstatic_castintin_f static_castint interpolationupperi stdminstatic_castintstdceilin in_siz valu interpolationupperi might smaller interpolationloweri issu interpolationupperi cap in_siz mean interpolationloweri point outsid imag interpol codehttpsgithubcomtensorflowtensorflowblobbfcfbcedeeeatensorflowcorekernelsquantized_resize_bilinear_opccl would result heap buffer overflow cc templat int resolut typenam typenam t_scale typenam t_calc inlin void outputlerpforchannelsconst interpolationcachet_scal xs const int x const t_scale ys_ilerp const int channel const float min const float max const ys_input_lower_ptr const ys_input_upper_ptr output_y_ptr const int xs_lower xslowerx int c c channel c const top_left ys_input_lower_ptrxs_low c case interpolationupperi smaller interpolationloweri set equal without affect output patch patch issu github commit ffffbcdcedcfecehttpsgithubcomtensorflowtensorflowcommitffffbcdcedcfec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa heap oob access dilationdbackpropinput cve number cve impact attack write outsid bound heap alloc array pass invalid argument tfraw_opsdilationdbackpropinput python import tensorflow tf input_tensor tfconstant shape dtypetffloat filter tfconstant shape dtypetffloat out_backprop tfconstant shape dtypetffloat tfraw_opsdilationdbackpropinput inputinput_tensor filterfilt out_backpropout_backprop stride rate paddingvalid implementationhttpsgithubcomtensorflowtensorflowblobafdefaeaddafcaadtensorflowcorekernelsdilation_opsccl valid write output array cc in_backpropb h_in_max w_in_max out_backpropb h_out w_out valu h_out w_out guarante rang out_backprop loop indic bound size array howev similar guarante relat h_in_maxw_in_max in_backprop patch patch issu github commit ffedfeffebcdffhttpsgithubcomtensorflowtensorflowcommitffedfeffebcdff fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa checkfail addmanysparsetotensorsmap cve number cve impact attack trigger denial servic via checkfail tfraw_opsaddmanysparsetotensorsmap python import tensorflow tf import numpi np sparse_indic tfconstant shape dtypetfint sparse_valu tfone dtypetfint shape tfvariabletfon dtypetfint shapeassignnparray dtypenpint tfraw_opsaddmanysparsetotensorsmapsparse_indicessparse_indic sparse_valuessparse_valu sparse_shapeshap implementationhttpsgithubcomtensorflowtensorflowblobfccaeaeeetensorflowcorekernelssparse_tensors_map_opsccl take valu specifi sparse_shap dimens output shape cc tensorshap tensor_input_shapeinput_shapevecint tensorshap constructorhttpsgithubcomtensorflowtensorflowblobfccaeaeeetensorflowcoreframeworktensor_shapeccl use check oper trigger initdimshttpsgithubcomtensorflowtensorflowblobfccaeaeeetensorflowcoreframeworktensor_shapeccl return nonok statu cc templat class shape tensorshapebaseshapetensorshapebasegtlarraysliceint dim_siz set_tagrep set_data_typedt_invalid tf_check_okinitdimsdim_s scenario occur ad dimens argument result overflow cc templat class shape statu tensorshapebaseshapeinitdimsgtlarraysliceint dim_siz statu statu statusok int dim_siz statusupdateadddimwithstatusinternalsubtlemustcopi statusok return statu templat class shape statu tensorshapebaseshapeadddimwithstatusint size int new_num_el kisparti num_el size new_num_el els new_num_el multiplywithoutoverflownum_el size tf_predict_falsenew_num_el return errorsinternalencount overflow multipli num_el size result new_num_el legaci implement constructor oper use buildtensorshapebas adddimwithstatu prevent checkfailur presenc overflow patch patch issu github commit cecbbdfffaedadcadddchttpsgithubcomtensorflowtensorflowcommitcecbbdfffaedadcadddc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa fpe parallelconcat cve number cve impact implement parallelconcathttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelsinplace_opsccl miss input valid produc divis python import tensorflow tf tffunction def test tfraw_opsparallelconcatvaluestfshap return test patch patch issu github commit fceaafeeffaadddeahttpsgithubcomtensorflowtensorflowcommitfceaafeeffaadddea fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa denial servic tflite implement segment sum cve number cve impact tensorflow lite model use segment sum trigger denial servic caus memori alloc implement segment sum sinc code use last element tensor hold determin dimension output tensor attack use larg valu trigger larg allocationhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowlitekernelssegment_sumccl cc segment_id_s max_index segment_idsdataisegment_id_s tfliteintarray output_shap tfliteintarraycreatenumdimensionsdata output_shapedata max_index int data_rank output_shapedatai datadimsdatai return contextresizetensorcontext output output_shap vulner version tensorflow patch patch issu bhttpsgithubcomtensorflowtensorflowcommitb releas patch releas affect version recommend user upgrad tensorflow workaround potenti workaround would add custom verifi limit maximum valu segment id tensor handl case segment id store static model similar valid could done segment id gener runtim infer step howev segment id gener output tensor infer step possibl workaround user advis upgrad patch code inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner discov variant analysi vulner report member aivul team qihoo httpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tfsa crash tftranspos complex input cve number cve impact pass complex argument tftranspos time pass conjugatetru argument result crash python import tensorflow tf tftransposeconjugatetru acomplex patch receiv patch issu github commit dcaceebeaaebfcbcafhttpsgithubcomtensorflowtensorflowcommitdcaceebeaaebfcbcaf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report httpsgithubcomtensorflowissu fix httpsgithubcomtensorflowissu tfsa heap buffer overflow bandedtriangularsolv cve number cve impact attack trigger heap buffer overflow eigen implement tfraw_opsbandedtriangularsolv python import tensorflow tf import numpi np matrix_array nparray matrix_tensor tfconvert_to_tensornpreshapematrix_arraydtypetffloat rhs_array nparray rhs_tensor tfconvert_to_tensornpreshaperhs_arraydtypetffloat tfraw_opsbandedtriangularsolvematrixmatrix_tensorrhsrhs_tensor implementationhttpsgithubcomtensorflowtensorflowblobeccbeceadfeeetensorflowcorekernelslinalgbanded_triangular_solve_opccl call validateinputtensor input valid fail valid two tensor empti cc void validateinputtensorsopkernelcontext ctx const tensor const tensor op_requir ctx indim errorsinvalidargumentin ndim must indim op_requir ctx indim errorsinvalidargumentin ndim must indim furthermor sinc op_requir macro stop execut current function set ctxstatu nonok valu caller helper function use op_requir must check valu ctxstatu continu doesnt happen op implementationhttpsgithubcomtensorflowtensorflowblobeccbeceadfeeetensorflowcorekernelslinalgbanded_triangular_solve_opccl henc valid present also effect patch patch issu github commit babdbbaabfcaedbefhttpsgithubcomtensorflowtensorflowcommitbabdbbaabfcaedbef follow github commit abfabebeafdeeabahttpsgithubcomtensorflowtensorflowcommitabfabebeafdeeaba fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ye zhang yakun zhang baidu xteam tfsa refer bind nullptr boost tree cve number cve impact attack gener undefin behavior via refer bind nullptr boostedtreescalculatebestgainsperfeatur python import tensorflow tf tfraw_opsboostedtreescalculatebestgainsperfeatur node_id_rang stats_summary_list l l tree_complex min_node_weight max_split similar attack occur boostedtreescalculatebestfeaturesplitv python import tensorflow tf tfraw_opsboostedtreescalculatebestfeaturesplitv node_id_rang stats_summaries_list split_typ candidate_feature_id l l tree_complex min_node_weight logits_dimens implementationhttpsgithubcomtensorflowtensorflowblobdcbdefbdbbcactensorflowcorekernelsboosted_treesstats_opscc valid input valu patch patch issu github commit cccdbbdcfdbfdeefaadhttpsgithubcomtensorflowtensorflowcommitcccdbbdcfdbfdeefaad commit fdbcddbbbffbbaadhttpsgithubcomtensorflowtensorflowcommitfdbcddbbbffbbaad fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa integ overflow tflite memori alloc cve number cve impact tflite code alloc tfliteintarray vulner integ overflow issuehttpsgithubcomtensorflowtensorflowblobceffaeebfbefedcdfatensorflowliteccommoncl cc int tfliteintarraygetsizeinbytesint size static tfliteintarray dummi return sizeofdummi sizeofdummydata size attack craft model size multipli larg return valu overflow int datatyp becom neg turn result invalid valu given mallochttpsgithubcomtensorflowtensorflowblobceffaeebfbefedcdfatensorflowliteccommoncl cc tfliteintarray tfliteintarraycreateint size tfliteintarray ret tfliteintarraymalloctfliteintarraygetsizeinbytess retsiz size return ret case retsiz would derefer invalid pointer patch patch issu github commit ccceccdeadacafaadehttpsgithubcomtensorflowtensorflowcommitccceccdeadacafaad fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa incomplet valid quantizev cve number cve impact due incomplet valid tfraw_opsquantizev attack trigger undefin behavior via bind refer null pointer access data outsid bound heap alloc array python import tensorflow tf tfraw_opsquantizev input min_rang max_rang ttfqint modesc round_modehalf_away_from_zero narrow_rangefals axi ensure_minimum_rang implementationhttpsgithubcomtensorflowtensorflowblobdcbdefbdbbcactensorflowcorekernelsquantize_opccl valid check min_rang max_rang nonzero number element axi provid ie valid check valu rang rank input tensor length min_rang max_rang input match axi dimens input tensor patch patch issu github commit daefadcbfbhttpsgithubcomtensorflowtensorflowcommitdaefadcbfb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa craft configur file result invalid memori access cve number cve issu descript malici craft configur file pass tensorflow xla compil could caus invalid memori access andor heap buffer overflow impact malici craft configur file could caus tensorflow crash read part process memori vulner version tensorflow mitig patch vulner github commit cabahttpsgithubcomtensorflowtensorflowcommitcabacdaabfee user load untrust configur tensorflow encourag user appli patch upgrad snappi upgrad version tensorflow current use addit releas tensorflow version mitig vulner credit issu discov blade team tencent tfsa heap buffer overflow sparsefillemptyrowsgrad cve number cve impact implement sparsefillemptyrowsgrad use doubl index patternhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorekernelssparse_fill_empty_rows_opccl cc d_valuesi grad_valuesreverse_index_mapi possibl reverse_index_mapi index outsid bound grad_valu thu result heap buffer overflow vulner version tensorflow patch patch issu edccafceachttpsgithubcomtensorflowtensorflowcommitedccafceac releas patch releas affect version recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa null pointer derefer via invalid rag tensor cve number cve impact call tfraw_opsraggedtensortovari argument specifi invalid rag tensor result null pointer derefer python import tensorflow tf input_tensor tfconstant shape dtypetffloat filter_tensor tfconstant shape dtypetffloat tfraw_opsconvdinputinput_tensor filterfilter_tensor stride paddingvalid data_formatndhwc dilat python import tensorflow tf input_tensor tfconstant shape dtypetffloat filter_tensor tfconstant shape dtypetffloat tfraw_opsconvdinputinput_tensor filterfilter_tensor stride paddingvalid data_formatndhwc dilat implement raggedtensortovari operationshttpsgithubcomtensorflowtensorflowblobbedccdddabaatensorflowcorekernelsragged_tensor_to_variant_opccl valid rag tensor argument nonempti cc int ragged_rank batched_raggedragged_rank auto batched_splits_top_vec batched_raggedsplitsvecsplit_typ sinc batched_rag contain element batched_raggedsplit null vector thu batched_raggedsplit result dereferenc nullptr patch patch issu github commit bbccdddefeeafdhttpsgithubcomtensorflowtensorflowcommitbbccdddefeeafd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa segfault due neg split splitv cve number cve impact implementationhttpsgithubcomtensorflowtensorflowblobebdfbcbfdbddcebtensorflowcorekernelssplit_v_opccl splitv trigger segfault attack suppli neg argument python import tensorflow tf tfraw_opssplitv valuetfconst size_split axi num_split occur whenev size_split contain one valu least one valu neg patch patch issu github commit dffcaccbcaecchttpsgithubcomtensorflowtensorflowcommitdffcaccbcaecc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa null pointer derefer tflite reshap oper cve number cve impact fix cvehttpscvemitreorgcgibincvenamecginamecv miss case target shape reshap oper given element tensor fix vulnerabilityhttpsgithubcomtensorflowtensorflowblobcdcdffbdcddfbtensorflowlitecoresubgraphccl allow pass nullbufferback tensor shape cc tensordataraw nullptr tensorbyt registrationbuiltin_cod ktflitebuiltinreshap gener tensor buffer error howev reshap oper second input tensor use shape data thu null buffer ok continu els case need return error otherwis trigger null pointer derefer like reporterrorinput tensor lack data tensor_index return ktfliteerror patch patch issu github commit fffdabefbaceaahttpsgithubcomtensorflowtensorflowcommitfffdabefbaceaa fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob tflite gather implement cve number cve impact tflite gathernd implementationhttpsgithubcomtensorflowtensorflowblobdfaaeadfdfcdbatensorflowlitekernelsgather_ndccl support neg indic check situat henc attack read arbitrari data heap care craft model neg valu indic similar issu exist gather implementationhttpsgithubcomtensorflowtensorflowblobdfaaeadfdfcdbatensorflowlitekernelsgathercc python import tensorflow tf import numpi np tfcompatvdisable_v_behavior param tfcompatvplaceholdernameparam dtypetfint shape indic tfcompatvplaceholdernameindic dtypetfint shape tfgatherparam indic nameout tfcompatvsess sess convert tfcompatvlitetfliteconverterfrom_sessionsess param indic tflite_model converterconvert interpret tfliteinterpretermodel_contenttflite_model interpreterallocate_tensor input_detail interpreterget_input_detail output_detail interpreterget_output_detail params_data npreshapenparray dtypenpint newshap indices_data npreshapenparray dtypenpint newshap interpreterset_tensorinput_detailsindex params_data interpreterset_tensorinput_detailsindex indices_data interpreterinvok patch patch issu github commit bbaedcfcacfdcafhttpsgithubcomtensorflowtensorflowcommitbbaedcfcacfdcaf ebabeeebeddhttpsgithubcomtensorflowtensorflowcommitebabeeebedd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang baidu secur tfsa null pointer derefer uncompressel cve number cve impact code tfraw_opsuncompressel made trigger null pointer derefer python import tensorflow tf data tfdatadatasetfrom_tensor tfraw_opsuncompressel compressedtfdataexperimentalto_variantdata output_typestfint output_shap implementationhttpsgithubcomtensorflowtensorflowblobffaaadabfdaaabaddebtensorflowcorekernelsdataexperimentalcompression_opsccl obtain pointer compressedel variant tensor proce derefer decompress check variant tensor contain compressedel pointer actual nullptr patch patch issu github commit bdfbbfcacccebdhttpsgithubcomtensorflowtensorflowcommitbdfbbfcacccebd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa float cast overflow undefin behavior cve number cve impact box argument tfimagecrop_and_res larg valu cpu kernel implement receiv c nan float point valu attempt oper undefin behavior later produc segment fault patch patch issu cffeccecbfeddhttpsgithubcomtensorflowtensorflowcommitcffeccecbfedd releas tensorflow contain patch tensorflow nightli packag commit also issu resolv inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report httpsgithubcomtensorflowissu tfsa stack overflow due loop tflite subgraph cve number cve impact tflite graph must loop node howev condit check attack could craft model would result infinit loop evalu certain case infinit loop would replac stack overflow due mani recurs call exampl implementationhttpsgithubcomtensorflowtensorflowblobdffbacdcbacadtensorflowlitekernelswhilecc could trick scneario bodi loop subgraph evalu one subgraph mean call eval function quickli exhaust stack space patch patch issu github commit cdcdffbdcddfbhttpsgithubcomtensorflowtensorflowcommitcdcdffbdcddfb oper github commit cffecdbabfffeaaebafhttpsgithubcomtensorflowtensorflowcommitcffecdbabfffeaaebaf gener fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa checkfail tfraw_opsirfft cve number cve impact attack caus denial servic exploit checkfailur come implement tfraw_opsirfft python import tensorflow tf valu valu input tfconstantvalu shape dtypetffloat input tfcastinput dtypetfcomplex fft_length tfconstant shape dtypetfint tfraw_opsirfftinputinput fft_lengthfft_length exampl caus eigen code oper empti matrix trigger assert caus program termin patch patch issu github commit cfbebcacbcdfedcahttpsgithubcomtensorflowtensorflowcommitcfbebcacbcdfedca fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa divis convdbackpropfilt cve number cve impact attack trigger divis tfraw_opsconvdbackpropfilt python import tensorflow tf input_tensor tfconstant shape dtypetffloat filter_s tfconstant shape dtypetfint out_backprop tfconstant shape dtypetffloat tfraw_opsconvdbackpropfilterinputinput_tensor filter_sizesfilter_s out_backpropout_backprop stride use_cudnn_on_gputru paddingsam explicit_pad data_formatnhwc dilat implementationhttpsgithubcomtensorflowtensorflowblobcecafbacedbdbbtensorflowcorekernelsconv_grad_shape_utilsccl modulu oper divisor control caller cc dimsin_depth filter_shapedim_sizenum_dim patch patch issu github commit fcaabafdfbabaahttpsgithubcomtensorflowtensorflowcommitfcaabafdfbabaa fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa bmp file parser outofbound read cve number cve issu descript bmp bitmap imag file graphic format decod outofbound read due insuffici check header size sign integ valu impact like consequ vulner would invalid bmp file could lead unhandl process crash may permit read access unintend region tensorflow process memori vulner version tensorflow mitig patch vulner github commit fchttpsgithubcomtensorflowtensorflowcommitfcdedffebdebcaaadcca user run tensorflow product untrust data encourag appli patch addit patch alreadi integr tensorflow newer credit issu discov blade team tencent tfsa bound access tflite implement segment sum cve number cve impact tensorflow lite model use segment sum trigger write outsid bound heap alloc buffershttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowlitekernelsinternalreferencereference_opshl insert neg element segment id tensor cc int input_shapedim int output_index segment_ids_datai int j j segment_flat_s j output_dataoutput_index segment_flat_s j input_datai segment_flat_s j user access segment_ids_data alter output_index write outsid output_data buffer might result segment fault also use corrupt memori chain vulner creat advanc exploit vulner version tensorflow patch patch issu bhttpsgithubcomtensorflowtensorflowcommitb releas patch releas affect version recommend user upgrad tensorflow workaround potenti workaround would add custom verifi model load code ensur segment id posit although handl case segment id store static model similar valid could done segment id gener runtim infer step segment id gener output tensor infer step possibl workaround user advis upgrad patch code inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner discov variant analysi vulner report member aivul team qihoo httpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tfsa heap bound read filesystem glob match cve number cve impact gener implement match filesystem path glob pattern vulner access bound array hold directorieshttpsgithubcomtensorflowtensorflowblobccebafdcaeabbtensorflowcoreplatformfile_system_helperccl cc fsmatchchild_path dirsdir_index sinc dir_index unconditionali incrementedhttpsgithubcomtensorflowtensorflowblobccebafdcaeabbtensorflowcoreplatformfile_system_helperccl outsid lambda function vulner pattern occur result access bound issu certain scenario exampl tmpx directori contain singl file follow snippet caus crash due bound read python tfiogfileglobtmpx segment fault multipl invari precondit assum parallel implement getmatchingpath verifi pr introduc httpsgithubcomtensorflowtensorflowpul httpsgithubcomtensorflowtensorflowpul thu complet rewrit implement fulli specifi valid patch patch issu github commit bbdcaadfadffebbchttpsgithubcomtensorflowtensorflowcommitbbdcaadfadffebbc releas tensorflow contain patch tensorflow nightli packag commit also issu resolv issu impact master branch releas candid tf version final releas releas patch inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob resourcescatterupd cve number cve impact attack trigger read outsid bound heap alloc data send invalid argument tfraw_opsresourcescatterupd python import tensorflow tf v tfvariablebvvv tfraw_opsresourcescatterupd resourcevhandl indic updat implementationhttpsgithubcomtensorflowtensorflowblobffaaadabfdaaabaddebtensorflowcorekernelsresource_variable_opsccl incomplet valid relationship shape indic updat instead check shape indic prefix shape updat broadcast happen code check number element two tensor divis relationship patch patch issu github commit cfffdacfhttpsgithubcomtensorflowtensorflowcommitcfffdacf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa bound write tflite implement segment sum cve number cve impact tensorflow lite model use segment sum trigger write bound segment fault segment id sort code assum segment id increas order use last element tensor hold determin dimension output tensorhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowlitekernelssegment_sumccl cc segment_id_s max_index segment_idsdataisegment_id_s tfliteintarray output_shap tfliteintarraycreatenumdimensionsdata output_shapedata max_index result alloc insuffici memori output tensor write outsid bound output arrayhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowlitekernelsinternalreferencereference_opshl cc memsetoutput_data sizeoft output_shapeflats int input_shapedim int output_index segment_ids_datai int j j segment_flat_s j output_dataoutput_index segment_flat_s j input_datai segment_flat_s j usual result segment fault depend runtim condit provid write gadget use futur memori corruptionbas exploit vulner version tensorflow patch patch issu bhttpsgithubcomtensorflowtensorflowcommitb releas patch releas affect version recommend user upgrad tensorflow workaround potenti workaround would add custom verifi model load code ensur segment id sort although handl case segment id store static model similar valid could done segment id gener runtim infer step segment id gener output tensor infer step possibl workaround user advis upgrad patch code inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa overflowcrash tfimageres size larg cve number cve impact tfimageres call larg input argument tensorflow process crash due checkfailur caus overflow python import tensorflow tf import numpi np tfkeraslayersupsamplingd size data_formatchannels_first interpolationbilinearnpon number element output tensor much int_t type overflow detect via check statement abort process patch patch issu github commit edffbaeffcehttpsgithubcomtensorflowtensorflowcommitedffbaeffc merg httpsgithubcomtensorflowtensorflowpul fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report extern via github issuehttpsgithubcomtensorflowtensorflowissu tfsa heap oob nest tfmap_fn raggedtensor cve number cve impact possibl nest tfmap_fn within anoth tfmap_fn call howev input tensor raggedtensor function signatur provid code assum output fulli specifi tensor fill output buffer uniniti content heap python import tensorflow tf x tfraggedconst tfmap_fnlambda r tfmap_fnlambda r r x z tfraggedconst z output ident howev case last row contain data heap use leak memori inform bug lie convers variant tensor raggedtensor implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcorekernelsragged_tensor_from_variant_opccl check inner shape match result addit dimens exampl implement result data loss input tensor tweak python import tensorflow tf x tfraggedconst tfmap_fnlambda r tfmap_fnlambda r r x output tensor element inner dimens patch patch issu github commit edffcadcbdfbfbbfhttpsgithubcomtensorflowtensorflowcommitedffcadcbdfbfbbf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report hari sahov tfsa heap oob read tfraggedcross cve number cve impact shape infer code tfraggedcrosshttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcoreopsragged_array_opsccl trigger read outsid bound heap alloc array python import tensorflow tf tffunction def test tfraw_opsraggedcrossragged_valu ragged_row_split sparse_indic sparse_valu sparse_shap dense_inputsa input_orderrd hashed_outputfals num_bucket hash_key out_values_typetfstr out_row_splits_typetfint return test patch patch issu github commit fabfbbaadbccfefbbbhttpsgithubcomtensorflowtensorflowcommitfabfbbaadbccfefbbb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap buffer overflow maxpooldgradgrad cve number cve impact implement tfraw_opsmaxpooldgradgrad vulner heap buffer overflow python import tensorflow tf valu orig_input tfconstantvalu shape dtypetffloat orig_output tfconstant shape dtypetffloat grad tfconstant shape dtypetffloat ksize stride pad tfraw_opsmaxpooldgradgrad orig_inputorig_input orig_outputorig_output gradgrad ksizeks stridesstrid paddingpad implementationhttpsgithubcomtensorflowtensorflowblobcabfbbecabfbfaetensorflowcorekernelspooling_ops_dccl check initi pooldparamet complet success cc pooldparamet paramscontext ksize_ stride_ padding_ data_format_ tensor_inshap sinc constructorhttpsgithubcomtensorflowtensorflowblobcabfbbecabfbfaetensorflowcorekernelspooling_ops_dccl use op_requir valid condit first assert fail interrupt initi param make contain invalid data turn might caus heap buffer overflow depend default initi valu patch patch issu github commit cadfdbfbffdfadhttpsgithubcomtensorflowtensorflowcommitcadfdbfbffdfad fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa null pointer derefer compressel cve number cve impact possibl trigger null pointer derefer tensorflow pass invalid input tfraw_opscompressel python import tensorflow tf tfraw_opscompresselementcompon implementationhttpsgithubcomtensorflowtensorflowblobafacffactensorflowcoredatacompression_utilsccl access size buffer obtain return separ function call valid said buffer valid patch patch issu github commit dcffdafccbefdffbchttpsgithubcomtensorflowtensorflowcommitdcffdafccbefdffbc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo concurr resolv master branch also discov intern fix report handl tfsa heap oob tflite cve number cve impact tflite expand_dimscchttpsgithubcomtensorflowtensorflowblobdfaaeadfdfcdbatensorflowlitekernelsexpand_dimsccl contain vulner allow read one element outsid bound heap alloc data cc axi axi input_dimss axi tf_lite_ensurecontext axi input_dimss tfliteintarray output_dim tfliteintarraycreateinput_dimss int output_dimss axi output_dimsdatai input_dimsdatai els axi output_dimsdatai els output_dimsdatai input_dimsdatai axi larg neg valu eg first would still neg check follow statement pass loop would read one element start input_dimsdata patch patch issu github commit dffeafceedcfaedhttpsgithubcomtensorflowtensorflowcommitdffeafceedcfa fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang baidu secur tfsa heap buffer overflow raggedbincount cve number cve impact split argument raggedbincount specifi valid sparsetensorhttpswwwtensorfloworgapi_docspythontfsparsesparsetensor attack trigger heap buffer overflow python import tensorflow tf tfraw_opsraggedbincountsplit valu size weight binary_outputfals caus read outsid bound split tensor buffer implement raggedbincount ophttpsgithubcomtensorflowtensorflowblobbdfcfdfaeatensorflowcorekernelsbincount_opccl cc int idx idx num_valu idx idx splitsbatch_idx batch_idx loop batch_idx set user control split array make contain one element thu code loop would increment batch_idx tri read split outsid bound patch patch issu github commit eebbcdddceaebaeacdhttpsgithubcomtensorflowtensorflowcommiteebbcdddceaebaeacd fix includ tensorflow also cherrypick commit tensorflow tensorflow also affect inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa divis convolut oper cve number cve impact implement convolut oper tensorflow affect divis vulner attack trigger denial servic via crash python import tensorflow tf tfcompatvdisable_v_behavior tfraw_opsconvd input tfconstant shape dtypetffloat filter tfconstant shape dtypetffloat stride pad shape infer implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcoreframeworkcommon_shape_fnsccl miss sever valid divis modulo oper patch patch issu github commit abdfeacfcdaafebadhttpsgithubcomtensorflowtensorflowcommitabdfeacfcdaafebad fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang baidu secur tfsa use free memori leak collectivereducev cve number cve impact async implementationhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelscollective_opsccl collectivereducev suffer memori leak use free python import tensorflow tf tfraw_opscollectivereducev input group_siz group_key instance_key ordering_token merge_opmul final_opdiv occur due asynchron comput fact object stdmove still access cc auto done_with_cleanup col_param done stdmovedon done col_paramsunref op_requires_ok_asyncc fillcollectiveparamscol_param reduction_collect group_siz cinput group_key cinput instance_key cinput done done alreadi move time op_requires_ok_async macro need invok case error case get undefin behavior manifest via crash stdbad_alloc throw memori leak patch patch issu github commit cadabdeecdefafabdaefhttpsgithubcomtensorflowtensorflowcommitcadabdeecdefafabdaef fix includ tensorflow also cherrypick commit tensorflow version one also affect inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob quantizeanddequantizev cve number cve impact attack read data outsid bound heap alloc buffer tfraw_opsquantizeanddequantizev python import tensorflow tf tfraw_opsquantizeanddequantizev input input_min input_max num_bit signed_inputfals range_givenfals narrow_rangefals axi implementationhttpsgithubcomtensorflowtensorflowblobfffedbaabfeeftensorflowcorekernelsquantize_and_dequantize_opccl valid valu user suppli axi attribut use index array back input argument cc const int depth axis_ inputdim_sizeaxis_ patch patch issu github commit effcaecedaecfahttpsgithubcomtensorflowtensorflowcommiteffcaecedaecfa fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report aivul team qihoo tfsa null pointer derefer editdist cve number cve impact attack trigger null pointer derefer implement tfraw_opseditdist python import tensorflow tf hypothesis_indic tfconstant shape dtypetfint hypothesis_valu tfconstant shape dtypetffloat hypothesis_shap tfconstant shape dtypetfint truth_indic tfconstant shape dtypetfint truth_valu tfconstant shape dtypetffloat truth_shap tfconstant shape dtypetfint tfraw_opseditdist hypothesis_indiceshypothesis_indic hypothesis_valueshypothesis_valu hypothesis_shapehypothesis_shap truth_indicestruth_indic truth_valuestruth_valu truth_shapetruth_shap normalizetru implementationhttpsgithubcomtensorflowtensorflowblobbfffdccaebfcfdbtensorflowcorekernelsedit_distance_opccl incomplet valid input paramet scenario attack caus alloc empti tensor output cc op_requires_okctx ctxallocate_outputoutput output_shap output auto output_t outputflatfloat output_tsetzero output_shap element result outputflatt empti buffer call setzero would result null derefer patch patch issu github commit fcadffbebceecfbhttpsgithubcomtensorflowtensorflowcommitfcadffbebceecfb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa checkfailur unsortedsegmentjoin cve number cve impact attack caus denial servic control valu num_seg tensor argument unsortedsegmentjoin python import tensorflow tf input tfconstant dtypetfstr segment_id tfconstant dtypetfint num_seg tfconstant dtypetfint separ tfraw_opsunsortedsegmentjoin inputsinput segment_idssegment_id num_segmentsnum_seg separatorsepar implementationhttpsgithubcomtensorflowtensorflowblobaadbccdddedabdbtensorflowcorekernelsunsorted_segment_join_opccl assum num_seg tensor valid scalar cc const tensor num_segments_tensor contextinput auto num_seg num_segments_tensorscalarnum_segments_typ sinc tensor empti check involv scalart check number element exactli invalid would result process termin patch patch issu github commit eabeaaedaecadcfcebdbehttpsgithubcomtensorflowtensorflowcommiteabeaaedaecadcfcebdb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa heap buffer overflow due invalid indic sparsecountsparseoutput cve number cve impact sparsecountsparseoutput implement valid input argument form valid spars tensor particular valid indic tensor shape valu one valu tensor alway access parallelhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorekernelscount_opsccl cc int idx idx num_valu idx int batch is_d indices_valuesidx const auto valu values_valuesidx thu shape mismatch result access outsid bound heap alloc buffer vulner version tensorflow patch patch issu cbbbbebafbbbceeehttpsgithubcomtensorflowtensorflowcommitcbbbbebafbbbcee releas patch releas recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner discov variant analysi vulner report member aivul team qihoo httpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tfsa segfault call sessiononli op eager mode cve number cve impact eager mode tensorflow set session state henc call tfraw_opsgetsessionhandl tfraw_opsgetsessionhandlev result null pointer dereferencehttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorekernelssession_opsccl cc int id ctxsession_stategetnewid snippet eager mode ctxsession_st return nullptr sinc code immedi derefer get segment fault vulner version tensorflow patch patch issu adaebdbdaadfecceehttpsgithubcomtensorflowtensorflowcommitadaebdbdaadfecce releas patch releas version recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa fpe convolut zero size filter cve number cve impact implement convolut operatorshttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelsconv_opscc trigger divis pass empti filter tensor argument patch patch issu github commit fceaafeeffaadddeahttpsgithubcomtensorflowtensorflowcommitfceaafeeffaadddea fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap buffer overflow quantizedresizebilinear cve number cve impact attack caus heap buffer overflow quantizedresizebilinear pass invalid threshold quantiz python import tensorflow tf imag tfconstant shape dtypetfqint size tfconstant shape dtypetfint min tfconstant dtypetffloat max tfconstant dtypetffloat tfraw_opsquantizedresizebilinearimagesimag sizes minmin maxmax align_cornersfals half_pixel_centersfals implementationhttpsgithubcomtensorflowtensorflowblobdeccceeebfdfatensorflowcorekernelsquantized_resize_bilinear_opccl assum argument alway valid scalar tri access numer valu directli cc const float in_min contextinputflatfloat const float in_max contextinputflatfloat howev tensor empti flatt empti buffer access element posit result overflow patch patch issu github commit fcfccbfdcafffhttpsgithubcomtensorflowtensorflowcommitfcfccbfdcafff fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa interpret crash tfiodecode_raw cve number cve impact implement tfiodecode_raw produc incorrect result crash python interpret combin fixed_length wider datatyp python import tensorflow tf tfiodecode_rawtfconst tfuint fixed_length implement pad versionhttpsgithubcomtensorflowtensorflowblobdebedadbedafdfetensorflowcorekernelsdecode_padded_raw_opcc buggi due confus pointer arithmet rule first code computeshttpsgithubcomtensorflowtensorflowblobdebedadbedafdfetensorflowcorekernelsdecode_padded_raw_opccl width output element divid fixed_length valu size type argument cc int width fixed_length sizeoft fixed_length argument also use determin size need output tensorhttpsgithubcomtensorflowtensorflowblobdebedadbedafdfetensorflowcorekernelsdecode_padded_raw_opccl cc tensorshap out_shap inputshap out_shapeadddimwidth tensor output_tensor nullptr op_requires_okcontext contextallocate_outputoutput out_shap output_tensor auto output_tensorflat_inner_dimst out_data outdata memsetout_data fixed_length flat_ins follow reencod codehttpsgithubcomtensorflowtensorflowblobdebedadbedafdfetensorflowcorekernelsdecode_padded_raw_opccl cc int flat_ins const in_data reinterpret_castconst tflat_inidata flat_inis fixed_length memcpyout_data in_data fixed_length els memcpyout_data in_data flat_inis out_data fixed_length erron code last line move out_data pointer fixed_length sizeoft byte wherea copi fixed_length byte input result part input decod output furthermor pointer advanc far wider desir quickli lead write outsid bound back data oob write lead interpret crash reproduc mention sever attack mount given gadget allow write period place locat memori patch patch issu github commit efacdbebceeeefdhttpsgithubcomtensorflowtensorflowcommitefacdbebceeeefd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa memori leak dlpackto_dlpack cve number cve impact user pass list string dlpackto_dlpack memori leak follow expect valid failurehttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowceagerdlpackccl cc statusstatu tensorflowerrorsinvalidargu datatype_namestatic_castdatatypedata_typ support dlpack alloc memori fromhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowceagerdlpackccl cc auto tf_dlm_tensor_ctx new tfdlmanagedtensorctxtensor_ref issu occur statu argument valid failur properli checkedhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowceagerdlpackccl cc dlm_tensordl_tensordata tfe_tensorhandledevicepointerh statu dlm_tensordl_tensordtyp getdldatatypedata_typ statu sinc method return error statu statu valu must check continu vulner version tensorflow patch patch issu efbebcbeaeafcebhttpsgithubcomtensorflowtensorflowcommitefbebcbeaeafceb releas patch releas affect version recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner discov variant analysi vulner report member aivul team qihoo httpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tfsa heap buffer overflow raggedtensortotensor cve number cve impact attack caus heap buffer overflow tfraw_opsraggedtensortotensor python import tensorflow tf shape tfconstant shape dtypetfint valu tfconstant shape dtypetfint default_valu tfconstant dtypetfint l row tfconstantl shape dtypetfint row row type row_split tfraw_opsraggedtensortotensor shapeshap valuesvalu default_valuedefault_valu row_partition_tensorsrow row_partition_typestyp implementationhttpsgithubcomtensorflowtensorflowblobddaaadbccecefabtensorflowcorekernelsragged_tensor_to_tensor_opccl use index access two array parallel cc index_typ row_split_s index_typ row_length row_spliti row_spliti index_typ real_length stdminoutput_s row_length index_typ parent_output_index_curr parent_output_indexi sinc user control shape input argument attack could trigger heap oob access parent_output_index shorter row_split patch patch issu github commit aaafbeabcfddbfchttpsgithubcomtensorflowtensorflowcommitaaafbeabcfddbfc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa refer bind nullptr map oper cve number cve impact attack caus undefin behavior via bind refer null pointer tfraw_opsmap tfraw_opsorderedmap oper python import tensorflow tf tfraw_opsmappeek keytfconstantdtypetfint indic dtypestfint capac memory_limit implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcorekernelsmap_stage_opccl check place ensur indic ascend order check indic empti patch patch issu github commit fcacfefdbbaddcachttpsgithubcomtensorflowtensorflowcommitfcacfefdbbaddcac fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa divis convdbackpropinput cve number cve impact attack trigger divis tfraw_opsconvdbackpropinput python import tensorflow tf input_tensor tfconstant shape dtypetfint filter_tensor tfconstant shape dtypetffloat out_backprop tfconstant shape dtypetffloat tfraw_opsconvdbackpropinputinput_sizesinput_tensor filterfilter_tensor out_backpropout_backprop stride use_cudnn_on_gputru paddingsam explicit_pad data_formatnhwc dilat implementationhttpsgithubcomtensorflowtensorflowblobbcfbecbafabtensorflowcorekernelsconv_grad_input_opshl divis quantiti control caller cc const size_t size_a output_image_s dimsout_depth const size_t size_b filter_total_s dimsout_depth const size_t size_c output_image_s filter_total_s const size_t work_unit_s size_a size_b size_c const size_t shard_siz use_parallel_contract target_working_set_s work_unit_s work_unit_s patch patch issu github commit becdfaebfaaedbhttpsgithubcomtensorflowtensorflowcommitbecdfaebfaaedb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa heap oob raggedgath cve number cve impact argument tfraw_opsraggedgath dont determin valid rag tensor code trigger read outsid bound heap alloc buffer python import tensorflow tf tfraw_opsraggedgath params_nested_split params_dense_valu indic output_ragged_rank debug mode code trigger check failur implementationhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelsragged_gather_opccl directli read first dimens tensor shape check said tensor rank least ie scalar furthermor implement check list given params_nested_split empti list tensor patch patch issu github commit abfdbaffeaefachttpsgithubcomtensorflowtensorflowcommitabfdbaffeaefac fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa use free segfault shape infer function cve number cve impact run shape function function mutablehashtableshap produc extra output inform form shapeandtyp struct shape embed struct own infer context clean almost immedi upstream code attempt access shape inform trigger segfault shaperefin mitig normal output shape clone thu put newli creat shape ownership infer context die shape type commit fix similar logic output shape type patch patch issu github commit eedafbacddfafbbhttpsgithubcomtensorflowtensorflowcommiteedafbacddfafbb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa divis convd cve number cve impact attack trigger divis tfraw_opsconvd python import tensorflow tf input tfconstant shape dtypetffloat filter tfconstant shape dtypetffloat stride pad tfraw_opsconvdinputinput filterfilt stridesstrid paddingpad implementationhttpsgithubcomtensorflowtensorflowblobbdfaffefeceeddtensorflowcorekernelsconv_opsccl divis quantiti control caller cc const int patch_depth filterdim_s in_depth patch_depth patch patch issu github commit baaddedafaafdcbbhttpsgithubcomtensorflowtensorflowcommitbaaddedafaafdcbb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa divis zero tflite implement svdf cve number cve impact implement svdf tflite oper vulner divis zero errorhttpsgithubcomtensorflowtensorflowblobfffbfdbcdedcdafbfftensorflowlitekernelssvdfccl cc const int rank paramsrank tf_lite_ensure_eqcontext num_filt rank attack craft model paramsrank would patch patch issu github commit eaedaeefhttpsgithubcomtensorflowtensorflowcommiteaedaeef fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa divis zero tflite implement transposeconv cve number cve impact optim implement transposeconv tflite oper vulner divis zero errorhttpsgithubcomtensorflowtensorflowblobdeacabbbcfcecdaeetensorflowlitekernelsinternaloptimizedoptimized_opshl cc int height_col height pad_t pad_b filter_h stride_h int width_col width pad_l pad_r filter_w stride_w attack craft model stride_hw valu code call function must valid argument patch patch issu github commit ccbecebdecaeedhttpsgithubcomtensorflowtensorflowcommitccbecebdecae fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa fpe tflite pool oper cve number cve impact implement pool tflite vulner divis error check divisor patch patch issu github commit dfabbbbddecffbacbfhttpsgithubcomtensorflowtensorflowcommitdfabbbbddecffbacbf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa crash due invalid split sparsecountsparseoutput cve number cve impact sparsecountsparseoutput implement valid input argument form valid spars tensor particular valid indic tensor rank tensor must matrix code assum element access element matrixhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorekernelscount_opsccl cc const auto indices_valu indicesmatrixint howev malici user pass tensor differ rank result check assert failur crash use caus denial servic serv instal user allow control compon input spars tensor vulner version tensorflow patch patch issu cbbbbebafbbbceeehttpsgithubcomtensorflowtensorflowcommitcbbbbebafbbbcee releas patch releas recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner discov variant analysi vulner report member aivul team qihoo httpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tfsa crash tfstringssubstr due checkfail cve number cve impact attack caus denial servic via checkfail tfstringssubstr invalid argument python import tensorflow tf tfstringssubstrinputabc len po python import tensorflow tf tfstringssubstrinputabc len po patch receiv patch issu github commit fbcdedadcddcfhttpsgithubcomtensorflowtensorflowcommitfbcdedadcddcf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report httpsgithubcomtensorflowissu fix httpsgithubcomtensorflowissu tfsa float point except sparsedensecwisediv cve number cve impact implement tfraw_opssparsedensecwisediv vulner divis error python import tensorflow tf import numpi np tfraw_opssparsedensecwisediv sp_indicesnparray sp_valuesnparray sp_shapenparray densenparray implementationhttpsgithubcomtensorflowtensorflowblobabcfaaffabaadtensorflowcorekernelssparse_dense_binary_op_sharedccl use common class binari oper fail treat divis case separ patch patch issu github commit dbefcdaaebddcbfdhttpsgithubcomtensorflowtensorflowcommitdbefcdaaebddcbfd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob write tflite cve number cve impact special craft tflite model could trigger oob write heap tflite implement argminargmaxhttpsgithubcomtensorflowtensorflowblobbdfabcfabccabtensorflowlitekernelsarg_min_maxccl cc tfliteintarray output_dim tfliteintarraycreatenumdimensionsinput int j int numdimensionsinput axis_valu output_dimsdataj sizeofdimensioninput j axis_valu valu numdimensionsinput condit never true code write past last valid element output_dimsdata patch patch issu github commit ccebddafafebfdahttpsgithubcomtensorflowtensorflowcommitccebddafafebfda fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob shape infer quantizev cve number cve impact shape infer code quantizevhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcoreframeworkcommon_shape_fnsccl trigger read outsid bound heap alloc array python import tensorflow tf tffunction def test datatfraw_opsquantizev input min_rang max_rang ttfqint modemin_combin round_modehalf_to_even narrow_rangefals axi ensure_minimum_rang return data test occur whenev axi neg valu less case access data start heap buffer cc int axi statu cgetattraxi axi sok scode errornot_found return axi tf_return_if_error cmergecdimminmax cdiminput axi depth code allow axi option argument would contain errornot_found error code otherwis assum axi valid index dimens input tensor axi less result heap oob read patch patch issu github commit adccfabdeeeeafhttpsgithubcomtensorflowtensorflowcommitadccfabdeeeeaf fix includ tensorflow also cherrypick commit tensorflow version one also affect inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob sparsebincount cve number cve impact implementationhttpsgithubcomtensorflowtensorflowblobebdfbcbfdbddcebtensorflowcorekernelsbincount_opccl sparsebincount vulner heap oob python import tensorflow tf tfraw_opssparsebincount indic valu dense_shap size weight binary_outputfals miss valid element valu argument shape spars output cc int_t indices_matdimens const int_t batch indices_mati const tidx bin valuesi outbatch bin patch patch issu github commit feebaeccebfebaaabahttpsgithubcomtensorflowtensorflowcommitfeebaeccebfebaaaba fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa refer bind nullptr raggedtensortospars cve number cve impact attack caus undefin behavior via bind refer null pointer tfraw_opsraggedtensortospars python import tensorflow tf tfraw_opsraggedtensortospars rt_nested_split rt_dense_valu implementationhttpsgithubcomtensorflowtensorflowblobffaaadabfdaaabaddebtensorflowcorekernelsragged_tensor_to_sparse_kernelccl incomplet valid split valu check increas order patch patch issu github commit fdbdfedeecffeaecehttpsgithubcomtensorflowtensorflowcommitfdbdfedeecffeaec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap bound read maxpoolgradwithargmax cve number cve impact implement tfraw_opsmaxpoolgradwithargmax caus read outsid bound heap alloc data attack suppli special craft input python import tensorflow tf input tfconstant shape dtypetffloat grad tfconstant shape dtypetffloat argmax tfconstant shape dtypetfint ksize stride tfraw_opsmaxpoolgradwithargmax inputinput gradgrad argmaxargmax ksizeks stridesstrid paddingsam include_batch_in_indexfals implementationhttpsgithubcomtensorflowtensorflowblobefceebadecddceacfetensorflowcorekernelsmaxpooling_opccl use valu index two differ array guarante size ident patch patch issu github commit dcddefeababbdebdchttpsgithubcomtensorflowtensorflowcommitdcddefeababbdebdc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa divis zero tflite implement embeddinglookup cve number cve impact implement embeddinglookup tflite oper vulner divis zero errorhttpsgithubcomtensorflowtensorflowblobebbbcbecddbatensorflowlitekernelsembedding_lookupccl cc const int row_siz sizeofdimensionvalu const int row_byt valuebyt row_siz attack craft model first dimens valu input patch patch issu github commit fcbdbeecfdfbehttpsgithubcomtensorflowtensorflowcommitfcbdbeecfdfb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa divis revers cve number cve impact attack caus denial servic via fpe runtim error tfraw_opsrevers python import tensorflow tf tensor_input tfconstant shape dtypetfint dim tfconstantfals true fals shape dtypetfbool tfraw_opsreversetensortensor_input dimsdim implementationhttpsgithubcomtensorflowtensorflowblobeaedacabfcadatensorflowcorekernelsreverse_opccl perform divis base first dimens tensor argument cc const int n inputdim_s const int cost_per_unit inputnumel n sinc control user attack trigger denial servic patch patch issu github commit defccafeecaadbechttpsgithubcomtensorflowtensorflowcommitdefccafeecaadbec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa null pointer derefer error decod gif file cve number cve issu descript certain invalid gif file produc null pointer derefer read color map frame color map miss impact malici craft gif file could caus denial servic attack tensorflow make crash vulner version tensorflow mitig patch vulner github commit ecbhttpsgithubcomtensorflowtensorflowcommitecbcdbafcdacdda user load untrust configur tensorflow encourag user appli patch upgrad version tensorflow current use addit releas tensorflow version mitig vulner version later releas use patch commit credit issu discov yakun zhang zheng huang baidu secur lab tfsa invalid valid quantizeanddequantizev cve number cve impact valid tfraw_opsquantizeanddequantizev allow invalid valu axi argument python import tensorflow tf input_tensor tfconstant shape dtypefloat input_min tfconstant input_max tfconstant tfraw_opsquantizeanddequantizev inputinput_tensor input_mininput_min input_maxinput_max signed_inputfals num_bit range_givenfals round_modehalf_to_even narrow_rangefals axi validationhttpsgithubcomtensorflowtensorflowblobeccbeceadfeeetensorflowcorekernelsquantize_and_dequantize_opccl use mix two differ condit cc op_requiresctx axis_ axis_ inputshapedim errorsinvalidargu axis_ condit op_requir still true valu axis_ result heap underflow allow attack readwrit data heap patch patch issu github commit cbdfacecabeefbbeeahttpsgithubcomtensorflowtensorflowcommitcbdfacecabeefbbeea fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa refer bind null parameterizedtruncatednorm cve number cve impact attack trigger undefin behavior bind null pointer tfraw_opsparameterizedtruncatednorm python import tensorflow tf shape tfconstant shape dtypetfint mean tfconstant dtypetffloat stdev tfconstant dtypetffloat minval tfconstant dtypetffloat maxval tfconstant dtypetffloat tfraw_opsparameterizedtruncatednorm shapeshap meansmean stdevsstdev minvalsminv maxvalsmaxv implementationhttpsgithubcomtensorflowtensorflowblobffedfeffebcdfftensorflowcorekernelsparameterized_truncated_normal_opccl valid input argument access first element shape cc int num_batch shape_tensorflatint shape argument empti shape_tensorflatt empti array patch patch issu github commit eefacfbfbdbbebfecbefdhttpsgithubcomtensorflowtensorflowcommiteefacfbfbdbbebfecbefd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa checkfail sparsecross due type confus cve number cve impact api tfraw_opssparsecross allow combin would result checkfailur denial servic python import tensorflow tf hashed_output fals num_bucket hash_key out_typ tfstring internal_typ tfstring indices_ tfconstant shape dtypetfint indices_ tfconstant shape dtypetfint indic indices_ indices_ values_ tfconstant dtypetfint values_ tfconstant dtypetfint valu values_ values_ batch_siz shape_ tfconstant dtypetfint shape_ tfconstant dtypetfint shape shape_ shape_ dense_ tfconstant shape dtypetfint dense_ tfconstant shape dtypetfint dense_ tfconstant shape dtypetfint dens dense_ dense_ dense_ tfraw_opssparsecrossindicesindic valuesvalu shapesshap dense_inputsdens hashed_outputhashed_output num_bucketsnum_bucket hash_keyhash_key out_typeout_typ internal_typeinternal_typ code result check fail tensorcchttpsgithubcomtensorflowtensorflowblobdbdbbfedbdaddcadccdtensorflowcoreframeworktensorccl cc void tensorchecktypeandisaligneddatatyp expected_dtyp const check_eqdtyp expected_dtyp datatypestringexpected_dtyp expect got datatypestringdtyp implementationhttpsgithubcomtensorflowtensorflowblobdbdbbfedbdaddcadccdtensorflowcorekernelssparse_cross_opccl trick consid tensor type tstring fact contain integr element cc dt_string values_dtyp return fingerprintvalues_vectstringdatastart n return values_vecintdatastart n fix type confus prevent mix dt_string dt_int type solv issu patch patch issu github commit bcceaeceefcebebeechttpsgithubcomtensorflowtensorflowcommitbcceaeceefcebebeec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa segfault tfraw_opssparsecountsparseoutput cve number cve impact pass invalid argument eg discov via fuzz tfraw_opssparsecountsparseoutput result segfault patch patch issu github commit edebcbdbdhttpsgithubcomtensorflowtensorflowcommitedebcbdbd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa checkfail mapstag cve number cve impact attack trigger denial servic via checkfail tfraw_opsmapstag python import tensorflow tf tfraw_opsmapstag keytfconst shape dtypetfint indicestfconst dtypetfint valuestfconst dtypetfint dtypestfint tfint capac memory_limit contain shared_nam implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcorekernelsmap_stage_opccl check key input valid nonempti tensor patch patch issu github commit ddedeecabfddhttpsgithubcomtensorflowtensorflowcommitddedeecabfdd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa null pointer derefer sparsetensorslicedataset cve number cve impact user suppli argument determin valid spars tensor tfraw_opssparsetensorslicedataset implement made derefer null pointer python import tensorflow tf tfraw_opssparsetensorslicedataset indic valu dense_shap implementationhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelsdatasparse_tensor_slice_dataset_opccl argument valid fail consid case either indic valu provid empti spars tensor indic empti exampl code perform validationhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelsdatasparse_tensor_slice_dataset_opccl ie check indic monoton increas result null pointer derefer cc int_t indicesdim_s int_t next_batch_index indicesmatrixinti indic provid user empti indic c code back empti stdvector henc call indicesdim_s result null pointer dereferenc call stdvectorat empti vector patch patch issu github commit cceddecefbdhttpsgithubcomtensorflowtensorflowcommitcceddecefbd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa null pointer derefer stringngram cve number cve impact attack trigger derefer null pointer tfraw_opsstringngram python import tensorflow tf datatfconst shape dtypetfstr split splitsappend data_splitstfconstantsplit shape dtypetfint tfraw_opsstringngramsdatadata data_splitsdata_split separatorbss ngram_width left_padabcd right_padbzyxwvu pad_width preserve_short_sequencestru implementationhttpsgithubcomtensorflowtensorflowblobcdddaccedacdbftensorflowcorekernelsstring_ngrams_opccl fulli valid data_split argument would result ngrams_datahttpsgithubcomtensorflowtensorflowblobcdddaccedacdbftensorflowcorekernelsstring_ngrams_opccl null pointer output would comput neg size later write output tensor would caus null pointer derefer patch patch issu github commit baddffeeaafaffbhttpsgithubcomtensorflowtensorflowcommitbaddffeeaafaffb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa null pointer derefer sparsefillemptyrow cve number cve impact attack trigger null pointer derefer implement tfraw_opssparsefillemptyrow python import tensorflow tf indic tfconstant shape dtypetfint valu tfconstant shape dtypetfint dense_shap tfconstant shape dtypetfint default_valu tfraw_opssparsefillemptyrow indicesindic valuesvalu dense_shapedense_shap default_valuedefault_valu miss validationhttpsgithubcomtensorflowtensorflowblobfdcdecabfdetensorflowcorekernelssparse_fill_empty_rows_opccl cover todo dense_shap tensor empti dense_shape_tvec would caus null pointer derefer implement op cc templat typenam typenam tindex struct sparsefillemptyrowscpudevic tindex statu operatoropkernelcontext context const tensor default_value_t const tensor indices_t const tensor values_t const tensor dense_shape_t typenam asyncopkerneldonecallback done const auto dense_shap dense_shape_tvectindex patch patch issu github commit faafedbecbecfhttpsgithubcomtensorflowtensorflowcommitfaafedbecbecf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa checkfail sparseconcat cve number cve impact attack trigger denial servic via checkfail tfraw_opssparseconcat python import tensorflow tf import numpi np indices_ tfconstant dtypetfint indices_ tfconstant dtypetfint indic indices_ indices_ values_ tfzero dtypetfint values_ tfzero dtypetfint valu values_ values_ shape_ tfconstant dtypetfint shape_ tfzero dtypetfint shape shape_ shape_ tfraw_opssparseconcatindicesindic valuesvalu shapesshap concat_dim implementationhttpsgithubcomtensorflowtensorflowblobbafeebbaccbcecetensorflowcorekernelssparse_concat_opccl take valu specifi shape dimens output shape cc tensorshap input_shapeshapesvecint tensorshap constructorhttpsgithubcomtensorflowtensorflowblobfccaeaeeetensorflowcoreframeworktensor_shapeccl use check oper trigger initdimshttpsgithubcomtensorflowtensorflowblobfccaeaeeetensorflowcoreframeworktensor_shapeccl return nonok statu cc templat class shape tensorshapebaseshapetensorshapebasegtlarraysliceint dim_siz set_tagrep set_data_typedt_invalid tf_check_okinitdimsdim_s scenario occur ad dimens argument result overflow cc templat class shape statu tensorshapebaseshapeinitdimsgtlarraysliceint dim_siz statu statu statusok int dim_siz statusupdateadddimwithstatusinternalsubtlemustcopi statusok return statu templat class shape statu tensorshapebaseshapeadddimwithstatusint size int new_num_el kisparti num_el size new_num_el els new_num_el multiplywithoutoverflownum_el size tf_predict_falsenew_num_el return errorsinternalencount overflow multipli num_el size result new_num_el legaci implement constructor oper use buildtensorshapebas adddimwithstatu prevent checkfailur presenc overflow patch patch issu github commit cecbbdfffaedadcadddchttpsgithubcomtensorflowtensorflowcommitcecbbdfffaedadcadddc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa fpe tfraw_opsunravelindex cve number cve impact attack caus denial servic applic serv model use tfraw_opsunravelindex trigger divis python import tensorflow tf tfraw_opsunravelindexindic dim implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcorekernelsunravel_index_opccl check tensor subsum dim empti henc one element dim implement divis patch patch issu github commit aaeebfeebebbfaedddhttpsgithubcomtensorflowtensorflowcommitaaeebfeebebbfaeddd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa use free boost tree creation cve number cve impact implement tfraw_opsboostedtreescreateensembl result use free error attack suppli special craft argument python import tensorflow tf v tfvariabl tfraw_opsboostedtreescreateensembl tree_ensemble_handlevhandl stamp_token tree_ensemble_seri implementationhttpsgithubcomtensorflowtensorflowblobffaaadabfdaaabaddebtensorflowcorekernelsboosted_treesresource_opsccl use refer count resourc decrement refcount initi fail howev code written resourc repres nake pointer later refactor chang smart pointer thu pointer leav scope subsequ free resourc occur fail take account refcount alreadi reach thu resourc alreadi freed doublefre process member resourc object access cleanup invalid entir resourc freed patch patch issu github commit ececcfbdbcbeaeeeeabhttpsgithubcomtensorflowtensorflowcommitececcfbdbcbeaeeeeab fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap buffer overflow avgpooldgrad cve number cve impact implement tfraw_opsavgpooldgrad vulner heap buffer overflow python import tensorflow tf orig_input_shap tfconstant shape dtypetfint grad tfconstant shape dtypetffloat ksize stride pad tfraw_opsavgpooldgrad orig_input_shapeorig_input_shap gradgrad ksizeks stridesstrid paddingpad implementationhttpsgithubcomtensorflowtensorflowblobdffbadcdfacfcbbfaeebtensorflowcorekernelspooling_ops_dccl assum orig_input_shap grad tensor similar first last dimens check assumpt valid patch patch issu github commit fcffaecdcebfedhttpsgithubcomtensorflowtensorflowcommitfcffaecdcebf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa divis zero tflite implement hashtabl lookup cve number cve impact tflite implement hashtabl lookup vulner divis zero errorhttpsgithubcomtensorflowtensorflowblobaebcabccbbecaaebctensorflowlitekernelshashtable_lookupccl cc const int num_row sizeofdimensionvalu const int row_byt valuebyt num_row attack craft model valuess first dimens would patch patch issu github commit eedccecddbhttpsgithubcomtensorflowtensorflowcommiteedccecddb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa use uniti valu tflite cve number cve impact tflite oper use quantiz made use uniti valu examplehttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowlitekernelsdepthwise_convccl cc const auto affine_quant reinterpret_casttfliteaffinequant filterquantizationparam issu stem fact quantizationparam valid quantizationtyp differ ktflitenoquant howev check miss larg part code patch patch issu github commit bccbafdddchttpsgithubcomtensorflowtensorflowcommitbccbafdddc affaabbadcfebeacahttpsgithubcomtensorflowtensorflowcommitaffaabbadcfebeaca baabbbabdbchttpsgithubcomtensorflowtensorflowcommitbaabbbabdbc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa crash due invalid shape grad_valu sparsefillemptyrowsgrad cve number cve impact sparsefillemptyrowsgrad implement incomplet valid shape argumentshttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorekernelssparse_fill_empty_rows_opccl cc op_requir context tensorshapeutilsisvectorreverse_index_map_tshap errorsinvalidargumentreverse_index_map must vector saw reverse_index_map_tshapedebugstr const auto reverse_index_map reverse_index_map_tvecint const auto grad_valu grad_values_tvect although reverse_index_map_t grad_values_t access similar pattern reverse_index_map_t valid proper shape henc malici user pass bad grad_values_t trigger assert failur vec caus denial servic serv instal vulner version tensorflow patch patch issu edccafceachttpsgithubcomtensorflowtensorflowcommitedccafceac releas patch releas affect version recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner discov variant analysi vulner report member aivul team qihoo httpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tfsa segfault copi constant resourc tensor cve number cve impact tensorflow grappler optim phase constant fold might attempt deep copi resourc tensor result segfault tensor suppos chang patch patch issu github commit edfbeabedcdhttpsgithubcomtensorflowtensorflowcommitedfbeabedcd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa divis zero optim pool implement tflite cve number cve impact optim pool implement tflite fail check stride argument call computepaddingheightwidthhttpsgithubcomtensorflowtensorflowblobfccdecadddbadctensorflowlitekernelspoolingccl sinc user craft special model paramsstride_heightwidth zero result divis zero patch patch issu github commit fdeacfedadbbfadchttpsgithubcomtensorflowtensorflowcommitfdeacfedadbbfadc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa checkfail tfraw_opsencodepng cve number cve impact attack trigger check fail png encod provid empti input tensor pixel data python import tensorflow tf imag tfzero imag tfcastimag dtypetfuint tfraw_opsencodepngimageimag implementationhttpsgithubcomtensorflowtensorflowblobeeceacdcfctensorflowcorekernelsimageencode_png_opccl valid total number pixel imag overflow thu attack send empti matrix encod howev tensor empti associ buffer nullptr henc call pngwriteimagetobufferhttpsgithubcomtensorflowtensorflowblobeeceacdcfctensorflowcorekernelsimageencode_png_opccl first argument ie imageflattdata null trigger check_notnul first line pngwriteimagetobufferhttpsgithubcomtensorflowtensorflowblobeeceacdcfctensorflowcorelibpngpng_ioccl cc templat typenam bool writeimagetobuff const void imag int width int height int row_byt int num_channel int channel_bit int compress png_string const stdvectorstdpairstdstr stdstring metadata check_notnullimag sinc imag null result abort call print stacktrac effect allow attack mount denial servic attack patch patch issu github commit ebffccdeaaccbaedhttpsgithubcomtensorflowtensorflowcommitebffccdeaaccba fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa divis resourcescatterdiv cve number cve impact implement tfraw_opsresourcescatterdiv vulner divis error python import tensorflow tf v tfvariabl tfraw_opsresourcescatterdiv resourcevhandl indic updat implementationhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelsresource_variable_opsccl use common class binari oper fail treat divis case separ patch patch issu github commit aacbdaebdhttpsgithubcomtensorflowtensorflowcommitaacbdaebd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa use uniniti valu vulner tensorflow cve number cve impact tensorflow grappler optim use uniti variablehttpsgithubcomtensorflowtensorflowblobabebdceaaedadecdftensorflowcoregrappleroptimizersauto_parallelccl cc const nodedef dequeue_nod const auto train_nod train_nod isdequeueoptrain_nod dequeue_nod train_nod break dequeue_nod train_nod vector obtain save model get optim contain dequeu node dequeue_nod left uniti patch patch issu github commit bfdefcbadbfbeddhttpsgithubcomtensorflowtensorflowcommitbfdefcbadbfbedd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report qian feng baidu secur team tfsa divis zero tflite implement gathernd cve number cve impact refer implement gathernd tflite oper vulner divis zero errorhttpsgithubcomtensorflowtensorflowblobdeacabbbcfcecdaeetensorflowlitekernelsinternalreferencereference_opshl cc retdims_to_counti remain_flat_s params_shapedimsi attack craft model param input would empti tensor turn params_shapedim would zero least one dimens patch patch issu github commit eaabfdfbcfedcaadhttpsgithubcomtensorflowtensorflowcommiteaabfdfbcfedcaad fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa checkfail loadandremapmatrix cve number cve impact attack caus denial servic exploit checkfailur come tfraw_opsloadandremapmatrix python import tensorflow tf ckpt_path tfconstant shape dtypetfstr old_tensor_nam tfconstant row_remap tfconstant shape dtypetfint col_remap tfconstant shape dtypetfint initializing_valu tfconstant tfraw_opsloadandremapmatrix ckpt_pathckpt_path old_tensor_nameold_tensor_nam row_remappingrow_remap col_remappingcol_remap initializing_valuesinitializing_valu num_row num_col implementationhttpsgithubcomtensorflowtensorflowblobddaaadbccecefabtensorflowcorekernelsragged_tensor_to_tensor_opccl assum ckpt_path alway valid scalar cc const string ckpt_path ckpt_path_tscalartstr howev attack send tensor first argument loadandremapmatrix would caus rank check scalart trigger termin process patch patch issu github commit dddeebaeceaaffbfhttpsgithubcomtensorflowtensorflowcommitdddeebaeceaaffbf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa divis maxpoolgradwithargmax cve number cve impact implement tfraw_opsmaxpoolgradwithargmax vulner divis python import tensorflow tf input tfconstant shape dtypetffloat grad tfconstant shape dtypetffloat argmax tfconstant shape dtypetfint ksize stride tfraw_opsmaxpoolgradwithargmax inputinput gradgrad argmaxargmax ksizeks stridesstrid paddingsam include_batch_in_indexfals implementationhttpsgithubcomtensorflowtensorflowblobbabefaabedbabdtensorflowcorekernelsmaxpooling_opccl fail valid batch dimens tensor nonzero divid quantiti patch patch issu github commit caceabdceacbcfdhttpsgithubcomtensorflowtensorflowcommitcaceabdceacbcfd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa integ divis tfraw_opsalltoal cve number cve impact shape infer code alltoallhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcoreopstpu_cross_replica_opsccl made execut divis python import tensorflow tf tffunction def func return tfraw_opsalltoal input group_assign concat_dimens split_dimens split_count func occur whenev split_count argument cc tf_return_if_errorcgetattrsplit_count split_count int_t rank dimsi cmakedimcvaluedimsi split_count patch patch issu github commit aadeecfedbebafccaeddchttpsgithubcomtensorflowtensorflowcommitaadeecfedbebafccaeddc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa fpe tflite divis oper cve number cve impact implement divis tflite vulner divis errorhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowlitekernelsdivcc check divisor tensor contain zero element patch patch issu github commit ebaedfbefccaebbabefahttpsgithubcomtensorflowtensorflowcommitebaedfbefccaebbabefa fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa integ overflow due convers unsign cve number cve impact implement tfraw_opsquantizeanddequantizevgrad vulner integ overflow issu caus convert sign integ valu unsign one alloc memori base valu python import tensorflow tf tfraw_opsquantizeanddequantizevgrad gradient input input_min input_max axi implementationhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelsquantize_and_dequantize_opccl use axi valu size argument abslinlinedvector constructor constructor use unsign type argument implicit convers transform neg valu larg integ patch patch issu github commit facafcbbefdccaahttpsgithubcomtensorflowtensorflowcommitfacafcbbefdccaa fix includ tensorflow also cherrypick commit tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa lack valid data format attribut cve number cve impact tfraw_opsdataformatvecpermut api valid src_format dst_format attribut codehttpsgithubcomtensorflowtensorflowblobbeaddfdfdacadtensorflowcorekernelsdata_format_opscc assum two argument defin permut nhwc howev assumpt check result uniniti memori access read outsid bound even crash python import tensorflow tf tfraw_opsdataformatvecpermutex src_format dst_format tftensor shape dtypeint numpyarray dtypeint tfraw_opsdataformatvecpermutex src_formathhhh dst_formatwwww tftensor shape dtypeint numpyarray dtypeint tfraw_opsdataformatvecpermutex src_formath dst_formatw tftensor shape dtypeint numpyarray dtypeint tfraw_opsdataformatvecpermutex src_format dst_format tftensor shape dtypeint numpyarray dtypeint tfraw_opsdataformatvecpermutex src_format dst_format tftensor shape dtypeint numpyarray dtypeint tfraw_opsdataformatvecpermutex src_format dst_format tftensor shape dtypeint numpyarray dtypeint tfraw_opsdataformatvecpermutex src_format dst_format tftensor shape dtypeint numpyarray dtypeint tfraw_opsdataformatvecpermutex src_format dst_format munmap_chunk invalid pointer abort tfraw_opsdataformatvecpermutex src_format dst_format tftensor shape dtypeint numpi array dtypeint tfraw_opsdataformatvecpermutex src_format dst_format free invalid next size fast abort similar issu occur tfraw_opsdataformatdimmap reason python tfraw_opsdataformatdimmapx src_format dst_format tftensor shape dtypeint numpi array dtypeint patch patch issu github commit ebcbaddfebcbcaehttpsgithubcomtensorflowtensorflowcommitebcbaddfebcbca releas tensorflow contain patch tensorflow nightli packag commit also issu resolv sinc issu also impact tf version patch releas inclus inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa overflowcrash tfrang cve number cve impact calcul size output within tfrang kernel condit statement type int condit int doubl due c implicit convers rule branch condit cast doubl result would truncat assign result overflow python import tensorflow tf tfsparseeyenum_row num_columnsnon similarli tfrang would result crash due overflow start end point larg python import tensorflow tf tfrangestart limit patch patch issu github commit daddbbadbhttpsgithubcomtensorflowtensorflowcommitdaddbbadb merg httpsgithubcomtensorflowtensorflowpul beecebeabaecahttpsgithubcomtensorflowtensorflowcommitbeecebeabaeca merg httpsgithubcomtensorflowtensorflowpul fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report extern via github issuehttpsgithubcomtensorflowtensorflowissu github issuehttpsgithubcomtensorflowtensorflowissu github issuehttpsgithubcomtensorflowtensorflowissu tfsa checkfail lstm zerolength input cve number cve impact run lstmgru model lstmgru layer receiv input zerolength result check failur use cuda backend result queryofdeath vulner via denial servic user control input layer patch patch issu github commit effbfacfecfehttpsgithubcomtensorflowtensorflowcommiteffbfacfecf releas tensorflow contain patch tensorflow nightli packag commit also issu resolv sinc issu also impact tf version patch releas inclus inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa heap oob read tfraw_opsquantizeanddequantizev op cve number cve impact shape infer function quantizeanddequantizev operationshttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcoreopsarray_opscc trigger read outsid bound heap alloc array illustr follow set poc python import tensorflow tf tffunction def test datatfraw_opsquantizeanddequantizevgrad gradient input input_min input_max axi return data test python import tensorflow tf tffunction def test datatfraw_opsquantizeanddequantizev input input_min input_max signed_inputfals num_bit range_givenfals round_modehalf_to_even narrow_rangefals axi return data test python import tensorflow tf tffunction def test datatfraw_opsquantizeanddequantizev input input_min input_max signed_inputfals num_bit range_givenfals narrow_rangefals axi return data test python import tensorflow tf tffunction def test datatfraw_opsquantizeanddequantizev input input_min input_max signed_inputfals num_bit range_givenfals round_modehalf_to_even narrow_rangefals axi return data test case axi neg valu differ special valu use optionalunknown dimens ie howev code ignor occur valu cc axi cdiminput axi patch patch issu github commit cfacdafcbccfdcdedhttpsgithubcomtensorflowtensorflowcommitcfacdafcbccfdcd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa miss valid checkpoint load cve number cve impact attack trigger undefin behavior integ overflow segfault checkfail crash chang save checkpoint outsid tensorflow checkpoint load infrastructur miss valid invalid file format patch patch issu github commit bcfcabefbbedbaaadhttpsgithubcomtensorflowtensorflowcommitbcfcabefbbedbaaad edcceecdfdhttpsgithubcomtensorflowtensorflowcommitedcceecdfd afabacbdddafaaechttpsgithubcomtensorflowtensorflowcommitafabacbdddafaaec abccedcbbdfbacbaebcchttpsgithubcomtensorflowtensorflowcommitabccedcbbdfbacbaebcc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa divis fractionalavgpool cve number cve impact attack caus runtim divis zero error denial servic tfraw_opsfractionalavgpool python import tensorflow tf valu tfconstant shape dtypetfint pooling_ratio pseudo_random fals overlap fals determinist fals seed seed tfraw_opsfractionalavgpool valuevalu pooling_ratiopooling_ratio pseudo_randompseudo_random overlappingoverlap deterministicdeterminist seedse seedse implementationhttpsgithubcomtensorflowtensorflowblobacceefffafffcacfctensorflowcorekernelsfractional_avg_pool_opccl comput divisor quantiti divid two user control valu cc int tensor_in_and_out_dim output_sizei static_castintstdfloorinput_sizei pooling_ratio_i dcheck_gtoutput_sizei user control valu input_sizei pooling_ratio_i via valueshap pooling_ratio argument valu input_sizei smaller pooling_ratio_i floor oper result output_sizei dcheck_gt line noop outsid debug mode releas version tf trigger later comput valu use argumentshttpsgithubcomtensorflowtensorflowblobacceefffafffcacfctensorflowcorekernelsfractional_avg_pool_opccl generatepoolingsequencehttpsgithubcomtensorflowtensorflowblobacceefffafffcacfctensorflowcorekernelsfractional_pool_commonccl first comput divis modulo oper cc stdvectorint generatepoolingsequenceint input_length int output_length guardedphiloxrandom gener bool pseudo_random input_length output_length diff stdvectorintoutput_length input_length output_length sinc output_length result runtim crash patch patch issu github commit beafdfdfbcdaaecbhttpsgithubcomtensorflowtensorflowcommitbeafdfdfbcdaaecb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa formatstr vulner tensorflow as_str cve number cve impact control fill argument tfstringsas_stringhttpswwwtensorfloworgapi_docspythontfstringsas_str malici attack abl trigger format string vulner due way intern format use printf call constructedhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorekernelsas_string_opccl cc format_ width stringsappendfformat_ sd fill_stringc_str width precis stringsappendfformat_ precis result unexpect output python tfstringsas_stringinput width fill tftensor shape dtypestr numpyarray dtypeobject tfstringsas_stringinput width fill tftensor shape dtypestr numpyarray dtypeobject tfstringsas_stringinput width fillh tftensor shape dtypestr numpyarrayd dtypeobject tfstringsas_stringinput width filld tftensor shape dtypestr numpyarrayd dtypeobject tfstringsas_stringinput width fillo tftensor shape dtypestr numpyarrayd dtypeobject tfstringsas_stringinput width fillx tftensor shape dtypestr numpyarraydd dtypeobject tfstringsas_stringinput width fillg tftensor shape dtypestr numpyarray dtypeobject tfstringsas_stringinput width filla tftensor shape dtypestr numpyarrayxffeebbdpd dtypeobject tfstringsas_stringinput width fillc tftensor shape dtypestr numpyarrayxdd dtypeobject tfstringsas_stringinput width fillp tftensor shape dtypestr numpyarrayxdd dtypeobject tfstringsas_stringinput width fillm tftensor shape dtypestr numpyarraysuccessd dtypeobject howev pass n result segment fault vulner version tensorflow patch patch issu becdeedbdfeeehttpsgithubcomtensorflowtensorflowcommitbecdeedbdfee releas patch releas version recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa null pointer derefer tflite cve number cve impact attack craft tflite model would trigger null pointer derefer would result crash denial servic python import tensorflow tf model tfkerasmodelssequenti modeladdtfkerasinputshap modeladdtfkeraslayersdens activationrelu convert tflitetfliteconverterfrom_keras_modelmodel tflite_model converterconvert interpret tfliteinterpretermodel_contenttflite_model interpreterallocate_tensor interpreterinvok implementationhttpsgithubcomtensorflowtensorflowblobdfaaeadfdfcdbatensorflowlitekernelsinternaloptimizedoptimized_opshl uncondit derefer pointer cc els int const input_data_ptr nullptr int input_data_ptr input_data_reset int scalar_broadcast_fi param input_data_ptr input_data_ptr output_data_ptr patch patch issu github commit ecdcbdbebbbfachttpsgithubcomtensorflowtensorflowcommitecdcbdbebbbfac fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang baidu secur tfsa incomplet valid boost tree code cve number cve impact code boost tree tensorflowhttpsgithubcomtensorflowtensorflowblobebeccebfaabctensorflowcorekernelsboosted_treesstats_opscc still miss valid result attack trigger denial servic via dereferenc nullptr via checkfailur well abus undefin behavior bind refer nullptr attack also read write heap buffer depend api get use argument pass call note given boost tree implement tensorflow unmaintain recommend longer use api instead pleas use downstream tensorflow decis forestshttpsgithubcomtensorflowdecisionforest project newer support featur deprec tensorflow boost tree api subsequ releas patch patch issu github commit ccabfefdcbaebfchttpsgithubcomtensorflowtensorflowcommitccabfefdcbaebfc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa segment fault andor data corrupt due invalid tflite model cve number cve impact tflite save model use tensor input output oper depend oper observ segment fault memori corrupt vulner version tensorflow patch patch issu dcbhttpsgithubcomtensorflowtensorflowcommitdcb releas patch releas version recommend user upgrad tensorflow workaround potenti workaround would add custom verifi model load code ensur oper reus tensor input output care taken check type input ie constant variabl tensor well option tensor inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner discov variant analysi vulner report member aivul team qihoo httpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tfsa bad alloc stringngram caus integ convers cve number cve impact implement tfraw_opsstringngram vulner integ overflow issu caus convert sign integ valu unsign one alloc memori base valu python import tensorflow tf tfraw_opsstringngram data data_split separ ngram_width left_pad right_pad pad_width preserve_short_sequencesfals implementationhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelsstring_ngrams_opccl call reserv tstring valu sometim neg user suppli neg ngram_width reserv method call tf_tstring_reserv unsign long argument size buffer henc implicit convers transform neg valu larg integ patch patch issu github commit ceafcfdbbfceahttpsgithubcomtensorflowtensorflowcommitceafcfdbbfcea fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa null pointer except deserializespars cve number cve impact shape infer code deserializesparsehttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcoreopssparse_opsccl trigger null pointer derefer python import tensorflow tf dataset tfdatadatasetrang tffunction def test tfraw_opsdeserializespars serialized_sparsetfdataexperimentalto_variantdataset dtypetfint test shape infer function assum serialize_spars tensor tensor posit rank last dimens howev exampl argument scalar ie rank patch patch issu github commit dddfccebcbbddahttpsgithubcomtensorflowtensorflowcommitdddfccebcbbdda fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa null pointer derefer tflite cve number cve impact craft tflite model forc node input tensor back nullptr buffer achiev chang buffer index flatbuff serial convert readonli tensor readwrit one runtim assum buffer written possibl read henc initi nullptrhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowlitecoresubgraphccl cc tflitetensorresettyp name convertarraytotfliteintarrayrank dim getlegacyquantizationquant buffernullptr required_byt allocation_typ nullptr is_vari tensor howev chang buffer index tensor implicitli convert tensor readwrit one noth model write get null pointer derefer vulner version tensorflow patch patch issu bbchttpsgithubcomtensorflowtensorflowcommitbbc releas patch releas version recommend user upgrad tensorflow workaround potenti workaround would add custom verifi model load code ensur oper reus tensor input output care taken check type input ie constant variabl tensor well option tensor inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner discov member aivul team also discover variant analysi anoth vulner report member aivul team qihoo httpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tfsa heap buffer overflow convdbackprop cve number cve impact miss valid argument tfraw_opsconvdbackprop oper result heap buffer overflow python import tensorflow tf input_s tfconstant shape dtypetfint filter_tensor tfconstant shape dtypetffloat out_backprop tfconstant shape dtypetffloat tfraw_opsconvdbackpropinputvinput_sizesinput_s filterfilter_tensor out_backpropout_backprop stride paddingsam data_formatndhwc dilat python import tensorflow tf input_valu input_valu input_s tfconstantinput_valu shape dtypetffloat filter_tensor tfconstant shape dtypetfint out_backprop tfconstant shape dtypetffloat tfraw_opsconvdbackpropfiltervinputinput_s filter_sizesfilter_tensor out_backpropout_backprop stride paddingvalid data_formatndhwc dilat implementationhttpsgithubcomtensorflowtensorflowblobfafbcabababfedfedtensorflowcorekernelsconv_grad_shape_utilsccl assum input filter_s out_backprop tensor shape access parallel patch patch issu github commit fbeddabahttpsgithubcomtensorflowtensorflowcommitfbeddaba fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa bound access tflite oper cve number cve impact tensorflow lite save model flatbuff format use doubl index scheme model set subgraph subgraph set oper oper set inputoutput tensor flatbuff format use indic tensor index array tensor own subgraph result pattern doubl array index tri get data tensorhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowlitekernelskernel_utilccl cc return contexttensorsnodeinputsdataindex howev oper tensor option handl scenario flatbuff model use neg valu index tensorshttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowliteccommonhl cc defin ktfliteoptionaltensor result special case valid model load timehttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowlitecoresubgraphccl cc int length int index indicesi continu index ktfliteoptionaltensor addit comparison size_t alway context_tensors_s index ktfliteoptionaltensor continu index static_castsize_tindex context_tensors_s reporterror invalid tensor index subgraph tensorsn index label context_tensors_s consistent_ fals return ktfliteerror unfortun mean index valid tensor index oper includ dont expect option input includ output tensor thu allow write read outsid bound heap alloc array although specif offset start array result read write gadget albeit limit scope vulner version tensorflow patch patch issu sever commit dbhttpsgithubcomtensorflowtensorflowcommitdb bhttpsgithubcomtensorflowtensorflowcommitb efhttpsgithubcomtensorflowtensorflowcommitef cdfdcehttpsgithubcomtensorflowtensorflowcommitcdfdc chttpsgithubcomtensorflowtensorflowcommitc fffchttpsgithubcomtensorflowtensorflowcommitfffc releas patch releas version recommend user upgrad tensorflow workaround potenti workaround would add custom verifi model load code ensur oper accept option input use special valu tensor expect option sinc allowlist type approach erropron advis upgrad patch code inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa incomplet valid tensorflow savedmodel constant node caus segfault cve number cve impact chang tensorflow savedmodel protocol buffer alter name requir key result segfault data corrupt load model caus denial servic product use tensorflowserv inferenceasaservic instal ad fix ffbdefbcaehttpsgithubcomtensorflowtensorflowcommitffbdefbca fcfefcecdedhttpsgithubcomtensorflowtensorflowcommitfcfefcecd go tensorflow yet backport earlier version howev enough report differ failur mode vulner version tensorflow patch patch issu adffeaeafcaefaeahttpsgithubcomtensorflowtensorflowcommitadffeaeafcaefaea releas patch releas version patch releas version also contain cherrypick ffbdefbcaehttpsgithubcomtensorflowtensorflowcommitffbdefbca fcfefcecdedhttpsgithubcomtensorflowtensorflowcommitfcfefcecd recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report shuaik dong alipay tian qian secur lab lab appli secur research cuhk tfsa infinit loop tflite cve number cve impact stride slice implement tflite logic bug allow attack trigger infinit loop aris newli introduc support ellipsi axi definitionhttpsgithubcomtensorflowtensorflowblobdfaaeadfdfcdbatensorflowlitekernelsstrided_sliceccl cc int effective_dim op_contextparamsellipsis_mask int ellipsis_end_idx stdmini num_add_axi op_contextinput_dim begin_count effective_dim ellipsis_end_idx continu attack craft model ellipsis_end_idx smaller eg alway neg case inner loop increas continu statement caus execut skip preincrement end outer loop patch patch issu github commit dfabbbbddecffbacbfhttpsgithubcomtensorflowtensorflowcommitdfabbbbddecffbacbf fix includ tensorflow affect version inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa divis zero tflite convolut code cve number cve impact tflite convolut codehttpsgithubcomtensorflowtensorflowblobcbcadedddaadtensorflowlitekernelsconvcc multipl divis divisor control user check nonzero exampl cc const int input_s numelementsinput sizeofdimensioninput patch patch issu github commit ffdabeadfebfbdachttpsgithubcomtensorflowtensorflowcommitffdabeadfebfbdac fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa divis zero tflite implement onehot cve number cve impact implement onehot tflite oper vulner divis zero errorhttpsgithubcomtensorflowtensorflowblobfcbdbeecfdfbetensorflowlitekernelsone_hotccl cc int prefix_dim_s int op_contextaxi prefix_dim_s op_contextindicesdimsdatai const int suffix_dim_s numelementsop_contextindic prefix_dim_s attack craft model least one dimens indic would turn prefix_dim_s valu would becom patch patch issu github commit ebeddedecfceeeehttpsgithubcomtensorflowtensorflowcommitebeddedecfceee fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap bound read raggedcross cve number cve impact attack forc access outsid bound heap alloc array pass invalid tensor valu tfraw_opsraggedcross python import tensorflow tf ragged_valu ragged_row_split sparse_indic sparse_valu sparse_shap dense_inputs_elem tfconstant shape dtypetfint dense_input dense_inputs_elem input_ord r hashed_output fals num_bucket hash_key tfraw_opsraggedcrossragged_valuesragged_valu ragged_row_splitsragged_row_split sparse_indicessparse_indic sparse_valuessparse_valu sparse_shapesparse_shap dense_inputsdense_input input_orderinput_ord hashed_outputhashed_output num_bucketsnum_bucket hash_keyhash_key out_values_typetfint out_row_splits_typetfint implementationhttpsgithubcomtensorflowtensorflowblobefeabfbdbdceccfcetensorflowcorekernelsragged_cross_opccl lack valid user suppli argument cc int next_rag int next_spars int next_dens char c input_order_ c r tf_return_if_errorbuildraggedfeatureread ragged_values_listnext_rag ragged_splits_listnext_rag featur next_rag els c tf_return_if_errorbuildsparsefeatureread sparse_indices_listnext_spars sparse_values_listnext_spars batch_siz featur next_spars els c tf_return_if_error builddensefeaturereaderdense_listnext_dens featur branch call helper function access array element via _listnext_ pattern follow increment next_ index howev valid next_ valu valid rang correspond _list array result heap oob read patch patch issu github commit bfcfbcedeeeahttpsgithubcomtensorflowtensorflowcommitbfcfbcedeeea fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa old snappi librari usag result memcpi paramet overlap cve number cve issu descript tensorflow checkpoint meta file use googl snappyhttpsgithubcomgooglesnappi compressiondecompress librari memcpyparamoverlap issu version snappi current use tensorflow impact malici craft checkpoint meta file could caus tensorflow crash read part process memori vulner version tensorflow mitig patch vulner github commit dfaehttpsgithubcomtensorflowtensorflowcommitdfaebffdabff upgrad version snappi librari use tensorflow v user load untrust checkpoint tensorflow encourag user appli patch upgrad snappi addit releas tensorflow version mitig vulner credit issu discov blade team tencent tfsa checkfail ctcgreedydecod cve number cve impact attack trigger denial servic via checkfail tfraw_opsctcgreedydecod python import tensorflow tf input tfconstant shape dtypetffloat sequence_length tfconstant shape dtypetfint merge_rep fals tfraw_opsctcgreedydecoderinputsinput sequence_lengthsequence_length merge_repeatedmerge_rep implementationhttpsgithubcomtensorflowtensorflowblobbbbebfdfatensorflowcorekernelsctc_decoder_opsccl check_lt insert valid invari condit fals program abort instead return valid error user abnorm termin weapon denial servic attack patch patch issu github commit eabeccbdbcfcafbhttpsgithubcomtensorflowtensorflowcommiteabeccbdbcfcafb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa heap bound write raggedbincount cve number cve impact split argument raggedbincount specifi valid sparsetensorhttpswwwtensorfloworgapi_docspythontfsparsesparsetensor attack trigger heap buffer overflow python import tensorflow tf tfraw_opsraggedbincountsplit valu size weight binary_outputfals caus read outsid bound split tensor buffer implement raggedbincount ophttpsgithubcomtensorflowtensorflowblobbdfcfdfaeatensorflowcorekernelsbincount_opccl cc int idx idx num_valu idx idx splitsbatch_idx batch_idx bin size binary_output_ outbatch_idx bin els valu weights_siz weightsidx outbatch_idx bin valu loop batch_idx set attack set split henc loop execut batch_idx remain result write bin heap alloc buffer output tensor patch patch issu github commit eebbcdddceaebaeacdhttpsgithubcomtensorflowtensorflowcommiteebbcdddceaebaeacd fix includ tensorflow also cherrypick commit tensorflow tensorflow also affect inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa checkfail due integ overflow cve number cve impact attack trigger denial servic via checkfail caus integ overflow construct new tensor shape python import tensorflow tf input_lay sparse_data tfraw_opssparsesplit split_dim indic valu shapeinput_lay input_lay num_split namenon implementationhttpsgithubcomtensorflowtensorflowblobcfcbbfabbtensorflowcorekernelssparse_split_opccl build dens shape without check dimens would result overflow cc sparsesparsetensor sparse_tensor op_requires_okcontext sparsesparsetensorcr input_indic input_valu tensorshapeinput_shapevecint sparse_tensor tensorshap constructorhttpsgithubcomtensorflowtensorflowblobfccaeaeeetensorflowcoreframeworktensor_shapeccl use check oper trigger initdimshttpsgithubcomtensorflowtensorflowblobfccaeaeeetensorflowcoreframeworktensor_shapeccl return nonok statu cc templat class shape tensorshapebaseshapetensorshapebasegtlarraysliceint dim_siz set_tagrep set_data_typedt_invalid tf_check_okinitdimsdim_s scenario occur ad dimens argument result overflow cc templat class shape statu tensorshapebaseshapeinitdimsgtlarraysliceint dim_siz statu statu statusok int dim_siz statusupdateadddimwithstatusinternalsubtlemustcopi statusok return statu templat class shape statu tensorshapebaseshapeadddimwithstatusint size int new_num_el kisparti num_el size new_num_el els new_num_el multiplywithoutoverflownum_el size tf_predict_falsenew_num_el return errorsinternalencount overflow multipli num_el size result new_num_el legaci implement constructor oper use buildtensorshapebas adddimwithstatu prevent checkfailur presenc overflow patch patch issu github commit ceecfcfcfddbbcahttpsgithubcomtensorflowtensorflowcommitceecfcfcfddbbca fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report research univers virginia univers california santa barbara tfsa checkpoint meta file outofbound read cve number cve issu descript block size meta file might contain larg int valu caus integ overflow upon addit subsequ code use n index may caus outofbound read impact malici craft meta checkpoint could use caus tensorflow process perform bound read process memori vulner version tensorflow mitig patch vulner github commit dfeehttpsgithubcomtensorflowtensorflowcommitdfeeeaafdaccaef user run tensorflow untrust meta checkpoint download internet product untrust data encourag appli patch addit releas tensorflow version mitig vulner credit issu discov blade team tencent tfsa incomplet valid maxpoolgrad cve number cve impact attack trigger denial servic via segment fault tfraw_opsmaxpoolgrad caus miss valid python import tensorflow tf tfraw_opsmaxpoolgrad orig_input tfconstant shape dtypetffloat orig_output tfconstant shape dtypetffloat grad tfconstant shape dtypetffloat ksize stride pad explicit explicit_pad implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcorekernelsmaxpooling_opcc miss valid orig_input orig_output tensor fix cvehttpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd incomplet patch patch issu github commit bfecfcedhttpsgithubcomtensorflowtensorflowcommitbfecfc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang baidu secur tfsa divis convdbackprop cve number cve impact tfraw_opsconvdbackprop oper fail valid input tensor empti turn would result divis python import tensorflow tf input_s tfconstant shape dtypetfint filter_tensor tfconstant shape dtypetffloat out_backprop tfconstant shape dtypetffloat tfraw_opsconvdbackpropinputvinput_sizesinput_s filterfilter_tensor out_backpropout_backprop stride paddingsam data_formatndhwc dilat python import tensorflow tf input_s tfconstant shape dtypetffloat filter_tensor tfconstant shape dtypetfint out_backprop tfconstant shape dtypetffloat tfraw_opsconvdbackpropfiltervinputinput_s filter_sizesfilter_tensor out_backpropout_backprop stride paddingsam data_formatndhwc dilat implementationhttpsgithubcomtensorflowtensorflowblobabbfdaceftensorflowcorekernelsconv_grad_ops_dccl check divisor use comput shard size zero cc const int size_a output_image_s dimsout_depth const int size_b filter_total_s dimsout_depth const int size_c output_image_s filter_total_s const int work_unit_s size_a size_b size_c const size_t shard_siz use_parallel_contract target_working_set_s work_unit_s work_unit_s thu attack control input size trigger denial servic via divis zero error patch patch issu github commit edbcdfbdeabccfcfahttpsgithubcomtensorflowtensorflowcommitedbcdfbdeabccfcfa fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa divis densecountsparseoutput cve number cve impact attack caus denial servic via fpe runtim error tfraw_opsdensecountsparseoutput python import tensorflow tf valu tfconstant shape dtypetfint weight tfconstant tfraw_opsdensecountsparseoutput valuesvalu weightsweight minlength maxlength binary_outputtru implementationhttpsgithubcomtensorflowtensorflowblobeffffbdefdacfafecatensorflowcorekernelscount_opsccl comput divisor valu user data check result divis cc int num_batch_el int num_batch_dimens num_batch_el datashapedim_sizei int num_value_el datashapenum_el num_batch_el sinc data given valu argument num_batch_el patch patch issu github commit daffdaffbbddbefhttpsgithubcomtensorflowtensorflowcommitdaffdaffbbddbef fix includ tensorflow also cherrypick commit tensorflow tensorflow also affect inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa stdabort rais tensorlistreserv cve number cve impact provid neg element num_el list argument tfraw_opstensorlistreserv caus runtim abort process due realloc stdvector neg number element python import tensorflow tf tfraw_opstensorlistreserv element_shap tfconstant num_elementstfconst element_dtyp tfint implementationhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelslist_kernelsccl call stdvectorres new size control input given user without check input valid patch patch issu github commit aeecdccbaehttpsgithubcomtensorflowtensorflowcommitaeecdccba fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob sdcaoptimizerv cve number cve impact attack read outsid bound heap alloc data send special craft illeg argument tfraw_opssdcaoptimizerv python import tensorflow tf tfraw_opssdcaoptimizerv sparse_example_indic sparse_feature_indic sparse_feature_valu dense_featur example_weight example_label sparse_indic sparse_weight dense_weight example_state_data loss_typelogistic_loss l l num_loss_partit num_inner_iter adaptivetru implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcorekernelssdca_internalccl check length example_label number exampl patch patch issu github commit aeefacdbfcceahttpsgithubcomtensorflowtensorflowcommitaeefacdbfccea fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa crash max_poold size argument neg cve number cve impact kera pool layer trigger segfault size pool dimens neg python import tensorflow tf pool_siz layer tfkeraslayersmaxpoolingdstrid pool_sizepool_s input_tensor tfrandomuniform dtypetffloat re layerinput_tensor due tensorflow implement pool oper valu slide window check strictli posit patch patch issu github commit bffbfffdeedaefbbhttpsgithubcomtensorflowtensorflowcommitbffbfffdeedaefbb merg httpsgithubcomtensorflowtensorflowpul fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report extern via github issuehttpsgithubcomtensorflowtensorflowissu tfsa divis quantizedmul cve number cve impact attack trigger divis tfraw_opsquantizedmul python import tensorflow tf x tfzero dtypetfquint tfconstant dtypetfquint min_x tfconstant max_x tfconstant min_i tfconstant max_i tfconstant tfraw_opsquantizedmulxx yy min_xmin_x max_xmax_x min_ymin_i max_ymax_i implementationhttpsgithubcomtensorflowtensorflowblobeedabacfetensorflowcorekernelsquantized_mul_opccl divis quantiti control caller cc templat class class toutput void vectortensormultiplyconst vector_data int vector_offset int vector_num_el const tensor_data int tensor_offset int tensor_num_el toutput output int tensor_num_el const int vector_i vector_num_el patch patch issu github commit abdfddebfebbedefabfadahttpsgithubcomtensorflowtensorflowcommitabdfddebfebbedefabfada fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa refer bind nullptr sdcaoptim cve number cve impact implement tfraw_opssdcaoptim trigger undefin behavior due dereferenc null pointer python import tensorflow tf sparse_example_indic tfconstant dtypetfint tfconstant dtypetfint sparse_feature_indic tfconstant shape dtypetfint tfconstant dtypetfint sparse_feature_valu dense_featur dense_weight example_weight tfconstant dtypetffloat example_label tfconstant dtypetffloat sparse_indic tfconstant dtypetfint tfconstant dtypetfint sparse_weight tfconstant dtypetffloat tfconstant dtypetffloat example_state_data tfconstant shape dtypetffloat tfraw_opssdcaoptim sparse_example_indicessparse_example_indic sparse_feature_indicessparse_feature_indic sparse_feature_valuessparse_feature_valu dense_featuresdense_featur example_weightsexample_weight example_labelsexample_label sparse_indicessparse_indic sparse_weightssparse_weight dense_weightsdense_weight example_state_dataexample_state_data loss_typelogistic_loss l l num_loss_partit num_inner_iter adaptativefals implementationhttpsgithubcomtensorflowtensorflowblobacbafeaadcctensorflowcorekernelssdca_internalcc valid user suppli argument satisfi constraint expect ophttpswwwtensorfloworgapi_docspythontfraw_opssdcaoptim patch patch issu github commit fccacfdfaaafdadecfbhttpsgithubcomtensorflowtensorflowcommitfccacfdfaaafdadecfb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa refer bind nullptr tfraggedcross cve number cve impact shape infer code tfraggedcrosshttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcoreopsragged_array_opsccl undefin behavior due bind refer nullptr follow scenario result crash python import tensorflow tf tffunction def test tfraggedcrosstfraggedconst return test patch patch issu github commit fabfbbaadbccfefbbbhttpsgithubcomtensorflowtensorflowcommitfabfbbaadbccfefbbb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap buffer overflow convdbackpropfilt cve number cve impact attack caus heap buffer overflow occur convdbackpropfilt python import tensorflow tf input_tensor tfconstant shape dtypetffloat filter_s tfconstant shape dtypetfint out_backprop tfconstant shape dtypetffloat tfraw_opsconvdbackpropfilt inputinput_tensor filter_sizesfilter_s out_backpropout_backprop stride use_cudnn_on_gputru paddingvalid explicit_pad data_formatnhwc dilat altern pass empti tensor also result similar behavior python import tensorflow tf input_tensor tfconstant shape dtypetffloat filter_s tfconstant shape dtypetfint out_backprop tfconstant shape dtypetffloat tfraw_opsconvdbackpropfilt inputinput_tensor filter_sizesfilter_s out_backpropout_backprop stride use_cudnn_on_gputru paddingvalid explicit_pad data_formatnhwc dilat implementationhttpsgithubcomtensorflowtensorflowblobbcbddbdfaacdfdbbcdatensorflowcorekernelsconv_grad_filter_opsccl comput size filter tensor valid match number element filter_s later readingwrit buffer code use valu comput instead number element tensor patch patch issu github commit ceecfcadfedfefchttpsgithubcomtensorflowtensorflowcommitceecfcadfedfefc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa oob read matrixtriangularsolv cve number cve impact implement matrixtriangularsolvehttpsgithubcomtensorflowtensorflowblobcaedcddadfetensorflowcorekernelslinalgmatrix_triangular_solve_op_implhl fail termin kernel execut one valid condit fail cc void validateinputtensorsopkernelcontext ctx const tensor const tensor overrid op_requir ctx indim errorsinvalidargumentin ndim must indim op_requir ctx indim errorsinvalidargumentin ndim must indim void computeopkernelcontext ctx overrid const tensor ctxinput const tensor ctxinput validateinputtensorsctx matmulbcast bcastinshapedim_s inshapedim_s sinc op_requir set ctxstatu nonok valu call return allow malici attack trigger bound read python import tensorflow tf import numpi np matrix_array nparray matrix_tensor tfconvert_to_tensornpreshapematrix_arraydtypetffloat rhs_array nparray rhs_tensor tfconvert_to_tensornpreshaperhs_arraydtypetffloat tfraw_opsmatrixtriangularsolvematrixmatrix_tensorrhsrhs_tensorlowerfalseadjointfals two input tensor empti op_requir validateinputtensor fire interrupt execut howev given implement op_requir indim fail execut move initi bcast object initi done invalid data result heap oob read patch patch issu github commit eaffbcfcfhttpsgithubcomtensorflowtensorflowcommiteaffbcfcf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ye zhang yakun zhang baidu xteam tfsa divis quantizedadd cve number cve impact attack caus runtim divis zero error denial servic tfraw_opsquantizedadd python import tensorflow tf x tfconstant shape dtypetfquint tfconstant shape dtypetfquint min_x tfconstant max_x tfconstant min_i tfconstant max_i tfconstant tfraw_opsquantizedaddxx yy min_xmin_x max_xmax_x min_ymin_i max_ymax_i implementationhttpsgithubcomtensorflowtensorflowblobfbfcfaddfctensorflowcorekernelsquantized_add_opccl comput modulo oper without valid divisor zero cc void vectortensoradditionconst vector_data float min_vector float max_vector int vector_num_el const tensor_data float min_tensor float max_tensor int tensor_num_el float output_min float output_max toutput output int tensor_num_el const int vector_i vector_num_el sinc vector_num_el determin base input shapeshttpsgithubcomtensorflowtensorflowblobfbfcfaddfctensorflowcorekernelsquantized_add_opccl user trigger scenario quantiti patch patch issu github commit ceccdfdcdfefdehttpsgithubcomtensorflowtensorflowcommitceccdfdcdfefd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa undefin behavior maxpooldgradgrad cve number cve impact implement tfraw_opsmaxpooldgradgrad exhibit undefin behavior dereferenc null pointer back attackersuppli empti tensor python import tensorflow tf orig_input tfconstant shape dtypetffloat orig_output tfconstant shape dtypetffloat grad tfconstant shape dtypetffloat ksize stride pad tfraw_opsmaxpooldgradgrad orig_inputorig_input orig_outputorig_output gradgrad ksizeks stridesstrid paddingpad implementationhttpsgithubcomtensorflowtensorflowblobfeefdbbctensorflowcorekernelspooling_ops_dccl fail valid tensor input empti empti access element tensor result dereferenc null pointer patch patch issu github commit adfbeacbcefceedcchttpsgithubcomtensorflowtensorflowcommitadfbeacbcefceedcc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa miss valid shape infer dequant cve number cve impact shape infer code tfraw_opsdequant vulner could trigger denial servic via segfault attack provid invalid argument python import tensorflow tf tfcompatvdisable_v_behavior tfraw_opsdequant input_tensor tfconstant dtypetffloat input_tensor tfcastinput_tensor dtypetfquint min_rang tfconstant shape dtypetffloat max_rang tfconstant shape dtypetffloat mode min_combin narrow_rangefals axi dtypetfdtypesfloat shape infer implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcoreopsarray_opsccl use axi select two differ valu minmax_rank use retriev tensor dimens howev code assum axi either valu greater valid valu patch patch issu github commit dacfafdefadafdbcebdbbechttpsgithubcomtensorflowtensorflowcommitdacfafdefadafdbcebdbbec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang baidu secur tfsa heap buffer overflow fractionalavgpoolgrad cve number cve impact implement tfraw_opsfractionalavgpoolgrad vulner heap buffer overflow python import tensorflow tf orig_input_tensor_shap tfconstant shape dtypetfint out_backprop tfconstant shape dtypetfint row_pooling_sequ tfconstant shape dtypetfint col_pooling_sequ tfconstant shape dtypetfint tfraw_opsfractionalavgpoolgrad orig_input_tensor_shapeorig_input_tensor_shap out_backpropout_backprop row_pooling_sequencerow_pooling_sequ col_pooling_sequencecol_pooling_sequ overlappingfals implementationhttpsgithubcomtensorflowtensorflowblobdcbaaddfffedddatensorflowcorekernelsfractional_avg_pool_opccl fail valid pool sequenc argument enough element requir out_backprop tensor shape patch patch issu github commit cceefabefdfcaffefhttpsgithubcomtensorflowtensorflowcommitcceefabefdfcaffef fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa sparsefillemptyrow heap oob cve number cve impact implementationhttpsgithubcomtensorflowtensorflowblobebdfbcbfdbddcebtensorflowcorekernelssparse_fill_empty_rows_opccl sparsefillemptyrow made trigger heap oob access python import tensorflow tf datatfraw_opssparsefillemptyrow indic valuessssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss dense_shap default_valueo occur whenev size indic match size valu patch patch issu github commit bfdfeeecfbcdfedcfbeebhttpsgithubcomtensorflowtensorflowcommitbfdfeeecfbcdfedcfbeeb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa undefin behavior dlpackto_dlpack cve number cve impact user pass invalid argument dlpackto_dlpack expect valid caus variabl bind nullptr set statu variabl error condit howev statu argument properli checkedhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowceagerdlpackccl cc dlm_tensordl_tensordata tfe_tensorhandledevicepointerh statu dlm_tensordl_tensordtyp getdldatatypedata_typ statu henc code follow method bind refer null pointershttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowceagerdlpackccl cc dlm_tensordl_tensorshap shape_arr dlm_tensordl_tensorstrid stride_arr undefin behavior report error compil fsanitizenul vulner version tensorflow patch patch issu efbebcbeaeafcebhttpsgithubcomtensorflowtensorflowcommitefbebcbeaeafceb releas patch releas affect version recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner discov variant analysi vulner report member aivul team qihoo httpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tfsa null pointer derefer tflite mlir optim cve number cve impact attack craft tflite model would trigger null pointer derefer would result crash denial servic caus mlir optim lnormalizereduceaxi oper implementationhttpsgithubcomtensorflowtensorflowblobdfaaeadfdfcdbatensorflowcompilermlirlitetransformsoptimizeccl uncondit derefer pointer iter vector without check vector element cc bool lnormalizereduceaxisvalu sq_op denseelementsattr axi sq_opgettypecastshapedtypegetrank axisgetvaluesintbegin axisgetvaluesintbegin patch patch issu github commit dbfbfdaacbfbaachttpsgithubcomtensorflowtensorflowcommitdbfbfdaacbfbaac fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang baidu secur tfsa incomplet valid mkl requant cve number cve impact due incomplet valid mkl implement requant attack trigger undefin behavior via bind refer null pointer access data outsid bound heap alloc array python import tensorflow tf tfraw_opsrequantizationrangeperchannel input input_min input_max clip_value_max implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcorekernelsmklmkl_requantization_range_per_channel_opcc valid dimens input tensor similar issu occur mklrequantizeperchannelop python import tensorflow tf tensorflowpythonop import gen_math_op gen_math_opsrequantize_per_channel input input_min input_max requested_output_min requested_output_max out_typetfint implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcorekernelsmklmkl_requantize_per_channel_opcc perform full valid input argument patch patch issu github commit ecbdbffaafcedhttpsgithubcomtensorflowtensorflowcommitecbdbffaafc github commit fbcdbabefdffchttpsgithubcomtensorflowtensorflowcommitfbcdbabefdffc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa memori corrupt drawboundingboxesv cve number cve impact implement tfraw_opsmaxpoolgradwithargmax caus read outsid bound heap alloc data attack suppli special craft input python import tensorflow tf imag tffill box tffill color tffill tfraw_opsdrawboundingboxesvimagesimag boxesbox colorscolor implementationhttpsgithubcomtensorflowtensorflowblobbdfaaabcbaectensorflowcorekernelsimagedraw_bounding_box_opccl assum last element box input requir ophttpswwwtensorfloworgapi_docspythontfraw_opsdrawboundingboxesv sinc check attack pass valu less write outsid bound heap alloc object caus memori corrupt cc const auto tbox boxestensort int bb bb num_box bb const int min_box_row static_castfloattboxesb bb height const int max_box_row static_castfloattboxesb bb height const int min_box_col static_castfloattboxesb bb width const int max_box_col static_castfloattboxesb bb width last dimens box less access similar tboxesb bb access data outsid bound code execut also write indic patch patch issu github commit bfffdccaebfcfdbhttpsgithubcomtensorflowtensorflowcommitbfffdccaebfcfdb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa null pointer derefer matrixdiagpartop cve number cve impact user provid valid pad valu tfraw_opsmatrixdiagpartop code trigger null pointer derefer input empti produc invalid behavior ignor valu first python import tensorflow tf tfraw_opsmatrixdiagpartv inputtfonesdtypetfint ktfonesdtypetfint padding_valu although exampl given matrixdiagpartv version oper affect implementationhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelslinalgmatrix_diag_opccl read first valu tensor buffer without first check tensor valu read patch patch issu github commit dacdfbfddafcdhttpsgithubcomtensorflowtensorflowcommitdacdfbfddafcd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap buffer overflow sparsetensortocsrsparsematrix cve number cve impact attack trigger denial servic via checkfail convert spars tensor csr spars matric python import tensorflow tf import numpi np tensorflowpythonopslinalgspars import sparse_csr_matrix_op indices_array nparray value_array nparray dtypenpfloat dense_shap st tfsparsetensorindices_array value_array dense_shap values_tensor sparse_csr_matrix_opssparse_tensor_to_csr_sparse_matrix stindic stvalu stdense_shap implementationhttpsgithubcomtensorflowtensorflowblobfcaeddfbafetensorflowcorekernelssparsekernelsccl doubl redirect access element array alloc heap cc csr_row_ptrindicesi valu indicesi indicesi outsid bound csr_row_ptr result write outsid bound heap alloc data patch patch issu github commit eccdfbfaaffddcdecdhttpsgithubcomtensorflowtensorflowcommiteccdfbfaaffddcdecd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa refer bind nullptr matrixdiagv op cve number cve impact attack caus undefin behavior via bind refer null pointer oper type tfraw_opsmatrixdiagv python import tensorflow tf tfraw_opsmatrixdiagv diagon k num_row num_col padding_valu alignright_right implementationhttpsgithubcomtensorflowtensorflowblobdcbdefbdbbcactensorflowcorekernelslinalgmatrix_diag_opcc incomplet valid valu k valid tensor check valu either scalar vector check number element empti tensor code access first element tensor wrong cc auto diag_index contextinput lower_diag_index diag_indexflatint patch patch issu github commit fabdfdbeaacddaadhttpsgithubcomtensorflowtensorflowcommitfabdfdbeaacddaad fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa lack valid sparsedensecwisemul cve number cve impact due lack valid tfraw_opssparsedensecwisemul attack trigger denial servic via checkfail access outsid bound heap alloc data python import tensorflow tf indic tfconstant shape dtypetfint valu tfconstant shape dtypetfint shape tfconstant shape dtypetfint dens tfconstant shape dtypetfint tfraw_opssparsedensecwisemul sp_indicesindic sp_valuesvalu sp_shapeshap densedens sinc implementationhttpsgithubcomtensorflowtensorflowblobafaabbabfebdtensorflowcorekernelssparse_dense_binary_op_sharedccl valid rank input argument constraint dimensionshttpswwwtensorfloworgapi_docspythontfraw_opssparsedensecwisemul attack abus trigger intern check assert caus program termin denial servic write memori outsid bound heap alloc tensor buffer patch patch issu github commit aeaffbbcefddabbchttpsgithubcomtensorflowtensorflowcommitaeaffbbcefddabbc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa divis zero tflite cve number cve impact implement fulli connect layer tflite vulner divis zero errorhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowlitekernelsfully_connectedccl cc const int batch_siz input_s filterdimsdata attack craft model filterdimsdata patch patch issu github commit aaeefffhttpsgithubcomtensorflowtensorflowcommitaaeefff fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo concurr also report yakun zhang baidu secur tfsa heap oob read tflite implement minimum maximum cve number cve impact implement minimum maximum tflite oper use read data outsid bound heap alloc object two input tensor argument empti broadcast implementationhttpsgithubcomtensorflowtensorflowblobdeacabbbcfcecdaeetensorflowlitekernelsinternalreferencemaximum_minimumhl index tensor index valid index within bound cc auto maxmin_func int indexesn output_datasubscripttoindexoutput_desc index opinput_datasubscripttoindexdesc index input_datasubscripttoindexdesc index patch patch issu github commit fdcacbaccfechttpsgithubcomtensorflowtensorflowcommitfdcacbaccfec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa segfault due invalid split raggedcountsparseoutput cve number cve impact raggedcountsparseoutput implement valid input argument form valid rag tensor particular valid valu split tensor gener valid partit valu tensor thu follow codehttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorekernelscount_opsccl set condit caus heap buffer overflow cc auto per_batch_count batchedmapwnum_batch int batch_idx int idx idx num_valu idx idx splits_valuesbatch_idx batch_idx const auto valu values_valuesidx valu maxlength_ valu maxlength_ per_batch_countsbatch_idx valu batchedmap equival vector element hashmap howev first element splits_valu batch_idx never henc hashmap index per_batch_count tri access user code result segment fault vulner version tensorflow patch patch issu cbbbbebafbbbceeehttpsgithubcomtensorflowtensorflowcommitcbbbbebafbbbcee releas patch releas recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner discov variant analysi vulner report member aivul team qihoo httpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tfsa type confus tensor cast lead dereferenc null pointer cve number cve impact call tf oper tensor nonnumer type oper expect numer tensor result null pointer derefer multipl way reproduc list exampl python import tensorflow tf import numpi np data tfrandomtruncated_normalshapemeannpfloatstddevdtypese python import tensorflow tf import numpi np data tfrandomstateless_truncated_normalshapeseedmeannpfloatstddevdtyp python import tensorflow tf import numpi np data tfone_hotindicesdepthon_valuenpintoff_valueaxisdtyp python import tensorflow tf import numpi np data tfrangestartnpintlimitdeltadtyp python import tensorflow tf import numpi np data tfraw_opsresourcecountuptoresourcenpint limit python import tensorflow tf import numpi np writer_array nparraydtypenpint writer_tensor tfconvert_to_tensorwriter_arraydtypetfresourc exampl similar one behavior convers python array c arrayhttpsgithubcomtensorflowtensorflowblobffcaefecbcdafcbbebbatensorflowpythonlibcorendarray_tensorccl vulner type confus cc int pyarray_typ pyarray_typearray pyarray_descr descr pyarray_descrarray switch pyarray_typ case npy_void quantiz type current repres custom struct type pyarray_typ return npy_void struct look descr deriv actual type direct feed certain type resourcehandl repres custom struct type return pyarraydescr_to_tf_datatypedescr out_tf_datatyp tensor type involv exampl pyarray_typ npy_void descr field descrfield null pyarraydescr_to_tf_datatypehttpsgithubcomtensorflowtensorflowblobffcaefecbcdafcbbebbatensorflowpythonlibcorendarray_tensorccl trigger null derefer cc statu pyarraydescr_to_tf_datatypepyarray_descr descr tf_datatyp out_tf_datatyp pyobject key pyobject valu py_ssize_t po pydict_nextdescrfield po key valu python pydict_next implement would derefer first argument patch patch issu github commit afddbcaccbabachttpsgithubcomtensorflowtensorflowcommitafddbcaccbabac fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo well ye zhang yakun zhang baidu xteam tfsa divis zero tflite implement spacetodepth cve number cve impact prepar step spacetodepth tflite oper check divisionhttpsgithubcomtensorflowtensorflowblobfdeacfedadbbfadctensorflowlitekernelsspace_to_depthccl cc const int block_siz paramsblock_s const int input_height inputdimsdata const int input_width inputdimsdata int output_height input_height block_siz int output_width input_width block_siz attack craft model paramsblock_s would zero patch patch issu github commit deacabbbcfcecdaeehttpsgithubcomtensorflowtensorflowcommitdeacabbbcfcecdae fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa fpe lsh tflite cve number cve impact attack craft tflite model would trigger divis zero error lsh implementationhttpsgithubcomtensorflowtensorflowblobdfaaeadfdfcdbatensorflowlitekernelslsh_projectionccl cc int runningsignbitconst tflitetensor input const tflitetensor weight float seed int input_item_byt inputbyt sizeofdimensioninput check first dimens input non zero patch patch issu github commit bcfbfddedebfhttpsgithubcomtensorflowtensorflowcommitbcfbfddedebf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang baidu secur tfsa npe tflite cve number cve impact implement svdf tflite vulner null pointer errorhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowlitekernelssvdfccl cc tflitetensor state getvariableinputcontext node kstatetensor gettensordatafloatst getvariableinput functionhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowlitekernelskernel_utilccl return null pointer gettensordata assum argument alway valid tensor cc tflitetensor getvariableinputtflitecontext context const tflitenod node int index tflitetensor tensor getmutableinputcontext node index return tensoris_vari tensor nullptr furthermor getvariableinput call getmutableinputhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowlitekernelskernel_utilccl might return nullptr tensoris_vari express also trigger null pointer except patch patch issu github commit beeedaebadddaefechttpsgithubcomtensorflowtensorflowcommitbeeedaebadddaefec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa null pointer derefer heap oob read oper restor tensor cve number cve impact restor tensor via raw api tensor name provid tensorflow trick dereferenc null pointer python import tensorflow tf tfraw_opsrestor file_patterntmp tensor_nam default_valu dttfint preferred_shard undefin behavior trigger tfraw_opsrestoreslic python import tensorflow tf tfraw_opsrestoreslic file_patterntmp tensor_nam shape_and_slic dtinparraytfint preferred_shard altern attack read memori outsid bound heap alloc data provid tensor name enough success restor python import tensorflow tf tfraw_opsrestor file_patterntmp tensor_namex default_valu dttfint preferred_shard implementationhttpsgithubcomtensorflowtensorflowblobafacffactensorflowcorekernelssave_restore_tensorccl retriev tensor list correspond tensor_nam user control input immedi retriev tensor restor index control via preferred_shard argument occur without valid provid list enough valu list empti result dereferenc null pointer undefin behavior howev list element restor index outsid bound result heap oob read patch patch issu github commit edceebdfaefaafebfhttpsgithubcomtensorflowtensorflowcommitedceebdfaefaafebf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa divis sparsematmul cve number cve impact attack caus denial servic via fpe runtim error tfraw_opssparsematmul python import tensorflow tf tfconstant shape dtypetffloat b tfconstant shape dtypetffloat tfraw_opssparsematmul aa bb transpose_atru transpose_btru a_is_sparsetru b_is_sparsetru divis occur deep eigen code b tensor empti patch patch issu github commit fffbfdbcdedcdafbffhttpsgithubcomtensorflowtensorflowcommitfffbfdbcdedcdafbff fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa gif file pars null pointer derefer error cve number cve issu descript pars certain invalid gif file intern function gif decod return null pointer subsequ use argument strcat impact malici craft gif could use caus tensorflow process crash vulner version tensorflow mitig patch vulner github commit chttpsgithubcomtensorflowtensorflowcommitcecfaffdceedf user run tensorflow product untrust data encourag appli patch addit patch alreadi integr tensorflow newer credit issu discov blade team tencent tfsa divis zero tflite implement depthtospac cve number cve impact implement depthtospac tflite oper vulner divis zero errorhttpsgithubcomtensorflowtensorflowblobdeacabbbcfcecdaeetensorflowlitekernelsdepth_to_spaceccl cc const int block_siz paramsblock_s const int input_channel inputdimsdata int output_channel input_channel block_siz block_siz attack craft model paramsblock_s patch patch issu github commit dffbacdcbacadhttpsgithubcomtensorflowtensorflowcommitdffbacdcbacad fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa segfault tfraw_opsimmutableconst cve number cve impact call tfraw_opsimmutableconsthttpswwwtensorfloworgapi_docspythontfraw_opsimmutableconst dtype tfresourc tfvariant result segfault implement code assum tensor content pure scalar python import tensorflow tf tfraw_opsimmutableconstdtypetfresourc shape memory_region_nametmptesttxt segment fault patch patch issu github commit fdbfbecbdafaadfahttpsgithubcomtensorflowtensorflowcommitfdbfbecbdafaadfa fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa data corrupt due dimens mismatch tflite cve number cve impact determin common dimens size two tensor tflite use dcheckhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowlitekernelsinternaltypeshl noop outsid debug compil mode cc get common shape dim dcheck agre inlin int matchingdimconst runtimeshap shape int index const runtimeshap shape int index tflite_dcheck_eqshapedimsindex shapedimsindex return shapedimsindex sinc function alway return dimens first tensor malici attack craft case larger second tensor turn would result readswrit outsid bound sinc interpret wrongli assum enough data tensor vulner version tensorflow patch patch issu eeeahttpsgithubcomtensorflowtensorflowcommiteeea releas patch releas version recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa segfault tfraw_opsswitch eager mode cve number cve impact tfraw_opsswitchhttpswwwtensorfloworgapi_docspythontfraw_opsswitch oper take input tensor boolean output two tensor depend boolean valu one tensor exactli input tensor wherea one empti tensor howev eager runtim travers tensor outputhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorecommon_runtimeeagerkernel_and_deviceccl cc output nullptr outputsclear int contextnum_output outputspush_backtensorcontextmutable_outputi sinc one tensor defin one nullptr henc bind refer nullptr undefin behavior report error compil fsanitizenul case result segment fault vulner version tensorflow patch patch issu daddcadddchttpsgithubcomtensorflowtensorflowcommitdaddcadddc releas patch releas affect version recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap buffer overflow fractionalavgpoolgrad cve number cve impact implement tfraw_opsfractionalavgpoolgrad trick access data outsid bound heap alloc buffer python import tensorflow tf tfraw_opsfractionalavgpoolgrad orig_input_tensor_shap out_backprop nparray row_pooling_sequ col_pooling_sequ overlappingtru implementationhttpsgithubcomtensorflowtensorflowblobffaaadabfdaaabaddebtensorflowcorekernelsfractional_avg_pool_opccl valid input tensor nonempti thu code construct empti eigendoublematrixmap access buffer indic outsid empti area patch patch issu github commit ffbfceaadfdacdbhttpsgithubcomtensorflowtensorflowcommitffbfceaadfdacdb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa refer bind nullptr unicod encod cve number cve impact attack caus undefin behavior via bind refer null pointer tfraw_opsunicodeencod python import tensorflow tf tensorflowpythonop import gen_string_op gen_string_opsunicode_encod input_valu input_split output_encodingutf errorsignor replacement_chara implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcorekernelsunicode_opsccl read first dimens input_split tensor valid tensor empti cc const tensor input_split contextinput const auto input_splits_flat input_splitsflatsplits_typ tensorshap output_shapeinput_splitsdim_s patch patch issu github commit eeefaddadahttpsgithubcomtensorflowtensorflowcommiteeefaddada fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa checkfail quantizeanddequantizevgrad cve number cve impact attack trigger denial servic via checkfail tfraw_opsquantizeanddequantizevgrad python import tensorflow tf gradient_tensor tfconstant shape input_tensor tfconstant shape input_min tfconstant shape input_max tfconstant shape tfraw_opsquantizeanddequantizevgrad gradientsgradient_tensor inputinput_tensor input_mininput_min input_maxinput_max axi implementationhttpsgithubcomtensorflowtensorflowblobcbaaeefabtensorflowcorekernelsquantize_and_dequantize_opccl valid rank input_ tensor turn result tensor pass quantizeanddequantizeperchannelgradientimplhttpsgithubcomtensorflowtensorflowblobcbaaeefabtensorflowcorekernelsquantize_and_dequantize_ophl cc templat typenam devic typenam struct quantizeanddequantizeperchannelgradientimpl static void computeconst devic typenam ttypest consttensor gradient typenam ttypest consttensor input const tensor input_min_tensor const tensor input_max_tensor typenam ttypest tensor input_backprop typenam ttypestflat input_min_backprop typenam ttypestflat input_max_backprop auto input_min input_min_tensorvect auto input_max input_max_tensorvect howev vect method requir rank trigger check failur otherwis patch patch issu github commit ecfadccbfafbhttpsgithubcomtensorflowtensorflowcommitecfadccbfafb fix includ tensorflow also cherrypick commit tensorflow affect version inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa undefin behavior via nullptr refer bind spars matrix multipl cve number cve impact code spars matrix multiplicationhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelssparse_matmul_opccl vulner undefin behavior via bind refer nullptr python import tensorflow tf tfraw_opssparsematmul b transpose_afals transpose_bfals a_is_sparsefals b_is_sparsetru occur whenev dimens b less case one empti output tensor alloc conserv invari output tensor alway alloc oper success noth written return earli kernel implement otherwis attempt write empti tensor would result heap oob access patch patch issu github commit ecfcbaebcaddddbbcfaehttpsgithubcomtensorflowtensorflowcommitecfcbaebcaddddbbcfa fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap bound quantizedbatchnormwithglobalnorm cve number cve impact attack caus segfault denial servic via access data outsid bound tfraw_opsquantizedbatchnormwithglobalnorm python import tensorflow tf tfconstant shape dtypetfquint t_min tfconstant shape dtypetffloat t_max tfconstant shape dtypetffloat tfconstant shape dtypetfquint m_min tfconstant shape dtypetffloat m_max tfconstant shape dtypetffloat v tfconstant shape dtypetfquint v_min tfconstant shape dtypetffloat v_max tfconstant shape dtypetffloat beta tfconstant shape dtypetfquint beta_min tfconstant shape dtypetffloat beta_max tfconstant shape dtypetffloat gamma tfconstant shape dtypetfquint gamma_min tfconstant shape dtypetffloat gamma_max tfconstant shape dtypetffloat tfraw_opsquantizedbatchnormwithglobalnorm tt t_mint_min t_maxt_max mm m_minm_min m_maxm_max vv v_minv_min v_maxv_max betabeta beta_minbeta_min beta_maxbeta_max gammagamma gamma_mingamma_min gamma_maxgamma_max out_typetfqint variance_epsilon scale_after_normalizationtru implementationhttpsgithubcomtensorflowtensorflowblobacaaecfabbbebdcdaeftensorflowcorekernelsquantized_batch_norm_opccl assum input empti cc const float input_min contextinputflatfloat const float input_max contextinputflatfloat const float mean_min contextinputflatfloat const float mean_max contextinputflatfloat const float var_min contextinputflatfloat const float var_max contextinputflatfloat const float beta_min contextinputflatfloat const float beta_max contextinputflatfloat const float gamma_min contextinputflatfloat const float gamma_max contextinputflatfloat input empti flatt empti buffer access element index access data outsid bound patch patch issu github commit dedbcfedcabeadbddebhttpsgithubcomtensorflowtensorflowcommitdedbcfedcabeadbddeb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa stack overflow parseattrvalu nest tensor cve number cve impact implement parseattrvaluehttpsgithubcomtensorflowtensorflowblobcddffaaeaafcaaedtensorflowcoreframeworkattr_value_utilccl trick stack overflow due recurs give special craft input patch patch issu github commit eecdcfcebfdechttpsgithubcomtensorflowtensorflowcommiteecdcfcebfdec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa divis zero convd cve number cve impact malici user could trigger divis convd implement python import tensorflow tf input_tensor tfconstant shape dtypetffloat filter_tensor tfconstant shape dtypetffloat tfraw_opsconvdinputinput_tensor filterfilter_tensor stride paddingvalid data_formatndhwc dilat implementationhttpsgithubcomtensorflowtensorflowblobbffacaebedtensorflowcorekernelsconv_ops_dccl modulo oper base user control input cc const int out_depth filterdim_s op_requirescontext in_depth filter_depth thu filter fifth element result divis addit shape two tensor valid eigen assert trigger result program crash python import tensorflow tf input_tensor tfconstant shape dtypetffloat filter_tensor tfconstant shape dtypetffloat tfraw_opsconvdinputinput_tensor filterfilter_tensor stride paddingvalid data_formatndhwc dilat shape two tensor must follow constraint specifi op descriptionhttpswwwtensorfloworgapi_docspythontfraw_opsconvd patch patch issu github commit fadfaaddefabeeadfhttpsgithubcomtensorflowtensorflowcommitfadfaaddefabeeadf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa refer bind nullptr heap oob binari cwise op cve number cve impact attack caus undefin behavior via bind refer null pointer binari cwise oper dont requir broadcast eg gradient binari cwise oper python import tensorflow tf tfraw_opssqrtgradi dy implementationhttpsgithubcomtensorflowtensorflowblobdcbdefbdbbcactensorflowcorekernelscwise_ops_commonhl assum two input exactli number element check henc eigen functor execut trigger heap oob read undefin behavior due bind nullptr patch patch issu github commit ffddfedfeefcabechttpsgithubcomtensorflowtensorflowcommitffddfedfeefcabec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa uniniti access einsumhelperparseequ cve number cve impact execut einsumhelperparseequationhttpsgithubcomtensorflowtensorflowblobebeccebfaabctensorflowcorekernelslinalgeinsum_op_implhl suppos set flag input_has_ellipsi vector output_has_ellipsi boolean indic whether ellipsi correspond input output howev code chang flag true never assign fals cc int num_input input_label_countsatiresizenum_label const int label input_labelsati label kellipsislabel input_label_countsatilabel els input_has_ellipsisati true output_label_countsresizenum_label const int label output_label label kellipsislabel output_label_countsatlabel els output_has_ellipsi true result uniti variabl access caller assum einsumhelperparseequ alway set flag patch patch issu github commit fcaabeacdaabccbchttpsgithubcomtensorflowtensorflowcommitfcaabeacdaabccbc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa heap buffer overflow quantizedmul cve number cve impact attack caus heap buffer overflow quantizedmul pass invalid threshold quantiz python import tensorflow tf x tfconstant shape dtypetfquint tfconstant shape dtypetfquint min_x tfconstant dtypetffloat max_x tfconstant dtypetffloat min_i tfconstant dtypetffloat max_i tfconstant dtypetffloat tfraw_opsquantizedmulxx yy min_xmin_x max_xmax_x min_ymin_i max_ymax_i implementationhttpsgithubcomtensorflowtensorflowblobcfdeaecaffcacdtensorflowcorekernelsquantized_mul_opccl assum argument alway valid scalar tri access numer valu directli cc const float min_x contextinputflatfloat const float max_x contextinputflatfloat const float min_i contextinputflatfloat const float max_i contextinputflatfloat howev tensor empti flatt empti buffer access element posit result overflow patch patch issu github commit efeabfbdbdceccfcehttpsgithubcomtensorflowtensorflowcommitefeabfbdbdceccfc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa heap oob check fail resourcegath cve number cve impact attack trigger crash via checkfail debug build tensorflow use tfraw_opsresourcegath read outsid bound heap alloc data api releas build python import tensorflow tf tensor tfconstantvalueshapedtypetfuint v tfvariabletensor tfraw_opsresourcegath resourcevhandl indic dtypetfuint batch_dim validate_indicesfals implementationhttpsgithubcomtensorflowtensorflowblobffaaadabfdaaabaddebtensorflowcorekernelsresource_variable_opsccl check batch_dim valu user suppli less rank input tensor sinc implement use sever loop dimens tensor result read data outsid bound heap alloc buffer back tensor cc batch_dims_ paramsdim int batch_dims_ result_shapeadddimparamsdim_sizei int batch_dims_ indicesdim result_shapeadddimindicesdim_sizei int batch_dims_ paramsdim result_shapeadddimparamsdim_sizei debug mode dim_sizei valid argument less dim use dcheck dcheck noop releas build patch patch issu github commit bccceccfcbddeadhttpsgithubcomtensorflowtensorflowcommitbccceccfcbddead fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob upperbound lowerbound cve number cve impact attack read outsid bound heap alloc data send special craft illeg argument tfraw_opsupperbound python import tensorflow tf tfraw_opsupperbound sorted_input valuestfconstantvaluedtypetfint out_typetfint implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowcorekernelssearchsorted_opccl valid rank sorted_input argument cc void computeopkernelcontext ctx overrid const tensor sorted_inputs_t ctxinput op_requiresctx sorted_inputs_tdim_s values_tdim_s statuserrorinvalid_argu lead dim_siz tensor must match output_tdtyp dt_int op_requiresctx fastboundschecksorted_inputs_tdim_s access first two dimens sorted_inputs_t tensor must rank least similar issu occur tfraw_opslowerbound patch patch issu github commit eceacccffffbachttpsgithubcomtensorflowtensorflowcommiteceacccffffbac fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap bound read requantizationrang cve number cve impact implement tfraw_opsmaxpoolgradwithargmax caus read outsid bound heap alloc data attack suppli special craft input python import tensorflow tf input tfconstant shape dtypetfqint input_max tfconstant dtypetffloat input_min tfconstant dtypetffloat tfraw_opsrequantizationrangeinputinput input_mininput_min input_maxinput_max implementationhttpsgithubcomtensorflowtensorflowblobaceaaababccdeatensorflowcorekernelsrequantization_range_opccl assum input_min input_max tensor least one element access first element two array cc const float input_min_float ctxinputflatfloat const float input_max_float ctxinputflatfloat tensor empti flatt empti object back empti array henc acces even th element read outsid bound patch patch issu github commit efceebadecddceacfehttpsgithubcomtensorflowtensorflowcommitefceebadecddceacf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa divis inplac oper cve number cve impact attack caus float point except call inplac oper craft argument would result divis python import tensorflow tf tfraw_opsinplacesubxiv implementationhttpsgithubcomtensorflowtensorflowblobdcbdefbdbbcactensorflowcorekernelsinplace_opsccl logic error skip process x v empti code use instead patch patch issu github commit ecacbdaeaffhttpsgithubcomtensorflowtensorflowcommitecacbdaeaff fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa checkfail drawboundingbox cve number cve impact attack trigger denial servic via check failur pass empti imag tfraw_opsdrawboundingbox python import tensorflow tf imag tffill box tffill box tfvariablebox box assign tfraw_opsdrawboundingboxesimagesimag boxesbox implementationhttpsgithubcomtensorflowtensorflowblobeaadcfcdacccafbdftensorflowcorekernelsimagedraw_bounding_box_opccl use check_ assert instead op_requir valid user control input wherea op_requir allow return error condit back user check_ macro result crash condit fals similar assert cc const int max_box_row_clamp stdminintmax_box_row height check_gemax_box_row_clamp case height imag input result max_box_row_clamp neg assert falsifi follow abort program execut patch patch issu github commit bafeebbaccbcecehttpsgithubcomtensorflowtensorflowcommitbafeebbaccbcec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa null pointer except exit node preced enter op cve number cve impact process build control flow graphhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorecommon_runtimeimmutable_executor_stateccl tensorflow model vulner null pointer except node pair python import tensorflow tf tffunction def func return tfraw_opsexitdatafalsefals func occur code assum first node pair eg enter node alway exist encount second node eg exit node cc els isexitcurr_nod exit parent frame parent parent_nodescurr_id frame_nam cf_infoframe_namesparentid case parent nullptr dereferenc caus crash patch patch issu github commit cbebdcbbfabdebbdfffhttpsgithubcomtensorflowtensorflowcommitcbebdcbbfabdebbdfff fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa crash tfmathsegment_ oper cve number cve impact implement tfmathsegment_ oper result checkfail relat abort denial servic segment id segment_id larg python import tensorflow tf tfmathsegment_maxdatanpon segment_id tfmathsegment_mindatanpon segment_id tfmathsegment_meandatanpon segment_id tfmathsegment_sumdatanpon segment_id tfmathsegment_proddatanpon segment_id similar cvehttpsgithubcomtensorflowtensorflowblobaffebcdfcbeeetensorflowsecurityadvisorytfsamd similar report vulner tensorflow local specif api implementationhttpsgithubcomtensorflowtensorflowblobdaeecdeccdffabaatensorflowcorekernelssegment_reduction_ops_implh cpu gpu comput output shape use adddimhttpsgithubcomtensorflowtensorflowblobbbddaebfbabccabcecatensorflowcoreframeworktensor_shapeccl howev number element tensor overflow int_t valu adddim result check failur provok stdabort instead code use adddimwithstatushttpsgithubcomtensorflowtensorflowblobbbddaebfbabccabcecatensorflowcoreframeworktensor_shapeccl patch patch issu github commit ecceacdddfecabbhttpsgithubcomtensorflowtensorflowcommitecceacdddfecabb merg httpsgithubcomtensorflowtensorflowpul fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report extern via github issuehttpsgithubcomtensorflowtensorflowissu tfsa session oper eager mode lead null pointer derefer cve number cve impact eager mode default tf later session oper invalid howev user could still call raw op associ trigger null pointer derefer python import tensorflow tf tfraw_opsgetsessiontensorhandlexxaxdtyp python import tensorflow tf tfraw_opsdeletesessiontensorhandlexxax implementationhttpsgithubcomtensorflowtensorflowblobeebbcdddceaebaeacdtensorflowcorekernelssession_opsccl derefer session state pointer without check valid cc op_requires_okctx ctxsession_stategettensornam val thu eager mode ctxsession_st nullptr call member function undefin behavior patch patch issu github commit ffcaefecbcdafcbbebbahttpsgithubcomtensorflowtensorflowcommitffcaefecbcdafcbbebba fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob access unicod op cve number cve impact attack access data outsid bound heap alloc array tfraw_opsunicodeencod python import tensorflow tf input_valu tfconstant shape dtypetfint input_split tfconstant shape dtypetfint output_encod utf tfraw_opsunicodeencod input_valuesinput_valu input_splitsinput_split output_encodingoutput_encod implementationhttpsgithubcomtensorflowtensorflowblobcfaddfbdeddtensorflowcorekernelsunicode_opscc assum input_valueinput_split pair specifi valid spars tensor patch patch issu github commit baccfaefecefefbebhttpsgithubcomtensorflowtensorflowcommitbaccfaefecefefbeb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa null pointer derefer raggedtensortotensor cve number cve impact send invalid argument row_partition_typ tfraw_opsraggedtensortotensor api result null pointer derefer undefin behavior python import tensorflow tf tfraw_opsraggedtensortotensor shape valu default_valu row_partition_tensorstfconst row_partition_typ implementationhttpsgithubcomtensorflowtensorflowblobafacffactensorflowcorekernelsragged_tensor_to_tensor_opccl access first element user suppli list valu without valid provid list empti patch patch issu github commit aebdaabbffebhttpsgithubcomtensorflowtensorflowcommitaebdaabbffeb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa divis resourcegath cve number cve impact attack trigger crash via float point except tfraw_opsresourcegath python import tensorflow tf tensor tfconstantvalueshapedtypetfuint v tfvariabletensor tfraw_opsresourcegath resourcevhandl indic dtypetfuint batch_dim validate_indicesfals implementationhttpsgithubcomtensorflowtensorflowblobffaaadabfdaaabaddebtensorflowcorekernelsresource_variable_opsccl comput valu valu batch_siz divid without check valu patch patch issu github commit aceeaeabdcdfefbcbhttpsgithubcomtensorflowtensorflowcommitaceeaeabdcdfefbcb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa divis zero tflite implement split cve number cve impact implement split tflite oper vulner divis zero errorhttpsgithubcomtensorflowtensorflowblobeefcebcfdbecebdeadctensorflowlitekernelssplitccl cc tf_lite_ensure_msgcontext input_s num_split even split const int slice_s input_s num_split attack craft model num_split would patch patch issu github commit beebbdbaffccedbcdhttpsgithubcomtensorflowtensorflowcommitbeebbdbaffccedbcd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa integ overflow tflite concaten cve number cve impact tflite implement concaten vulner integ overflow issuehttpsgithubcomtensorflowtensorflowblobbabbbfaaecdbcdaftensorflowlitekernelsconcatenationccl cc int tdimssiz axi sum_axi tdimsdataaxi els tf_lite_ensure_eqcontext tdimsdatad tdimsdatad attack craft model dimens one concaten input overflow valu int tflite use int repres tensor dimens wherea tf use int henc valid tf model trigger integ overflow convert tflite format patch patch issu github commit faffebcbbaeehttpsgithubcomtensorflowtensorflowcommitfaffebcbbae fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob fusedbatchnorm kernel cve number cve impact implementationhttpsgithubcomtensorflowtensorflowblobebdfbcbfdbddcebtensorflowcorekernelsfused_batch_norm_opccl fusedbatchnorm kernel vulner heap oob python import tensorflow tf tfraw_opsfusedbatchnormgrad y_backproptfconstanti rangeshapedtypetffloat xtfconstanti rangeshapedtypetffloat scale reserve_space_ reserve_space_ epsilon data_formatnchw is_trainingtru patch patch issu github commit aabcffbdffadfcdahttpsgithubcomtensorflowtensorflowcommitaabcffbdffadfcda fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa overflowcrash tftile tile tensor larg cve number cve impact tftile call larg input argument tensorflow process crash due checkfailur caus overflow python import tensorflow tf import numpi np tfkerasbackendtilexnpon n number element output tensor much int_t type overflow detect via check statement abort process patch patch issu github commit dffeaebeaebadbeffhttpsgithubcomtensorflowtensorflowcommitdffeaebeaebadbeff merg httpsgithubcomtensorflowtensorflowpul fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report extern via github issuehttpsgithubcomtensorflowtensorflowissu tfsa heap buffer overflow due invalid split raggedcountsparseoutput cve number cve impact raggedcountsparseoutput implement valid input argument form valid rag tensor particular valid valu split tensor gener valid partit valu tensor henc code prone heap buffer overflowhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorekernelscount_opsccl cc int idx idx num_valu idx idx splits_valuesbatch_idx batch_idx split_valu end valu least num_valu loop condit trigger read outsid bound split_valu batch_idx grow larg vulner version tensorflow patch patch issu cbbbbebafbbbceeehttpsgithubcomtensorflowtensorflowcommitcbbbbebafbbbcee releas patch releas recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap oob read tfraw_opsdequant cve number cve impact due lack valid tfraw_opsdequant attack trigger read outsid bound heap alloc data python import tensorflow tf input_tensortfconst shape dtypetfint input_tensortfcastinput_tensor dtypetfquint min_rang tfconstant shape dtypetffloat max_rang tfconstant shape dtypetffloat tfraw_opsdequant inputinput_tensor min_rangemin_rang max_rangemax_rang modesc narrow_rangetru axi dtypetfdtypesfloat implementationhttpsgithubcomtensorflowtensorflowblobaabfdcceaeadtensorflowcorekernelsdequantize_opccl access min_rang max_rang tensor parallel fail check shape cc num_slic const float min_rang input_min_tensorflatfloat const float max_rang input_max_tensorflatfloat dequantizetensorctx input min_rang max_rang float_output els auto min_rang input_min_tensorvecfloat auto max_rang input_max_tensorvecfloat int num_slic dequantizeslicectxeigen_devicedevic ctx input_tensortempl chipi min_rangesi max_rangesi output_tensortempl chipi patch patch issu github commit dcadabfaafbhttpsgithubcomtensorflowtensorflowcommitdcadabfaafb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa deadlock mutual recurs tffunction object cve number cve impact code behind tffunction apihttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowpythoneagerdef_functionpyl made deadlock two tffunction decor python function mutual recurs python import tensorflow tf tffunction def funnum num return printnum funnum tffunction def funnum num return printnum funnum fun occur due use nonreentr lock python object load model contain mutual recurs function vulner attack caus denial servic caus user load model call recurs tffunction although frequent scenario patch patch issu github commit afacdadfddefcdcbhttpsgithubcomtensorflowtensorflowcommitafacdadfddefcdcb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa integ divis spars reshap cve number cve impact implement tfraw_opssparsereshap made trigger integr divis except python import tensorflow tf tfraw_opssparsereshap input_indic npone input_shap nparray new_shap nparray implementationhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelsreshape_utilccl call reshap functor whenev least index input check shape input target shape nonzero number element reshap functorhttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcorekernelsreshape_utilccl blindli divid dimens target shape henc check code result divis patch patch issu github commit deecfffdfabfafebhttpsgithubcomtensorflowtensorflowcommitdeecfffdfabfafeb fix includ tensorflow also cherrypick commit tensorflow affect version inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa divis quantizedbatchnormwithglobalnorm cve number cve impact attack caus runtim divis zero error denial servic tfraw_opsquantizedbatchnormwithglobalnorm python import tensorflow tf tfconstant shape dtypetfquint t_min tfconstant dtypetffloat t_max tfconstant dtypetffloat tfconstant shape dtypetfquint m_min tfconstant dtypetffloat m_max tfconstant dtypetffloat v tfconstant shape dtypetfquint v_min tfconstant dtypetffloat v_max tfconstant dtypetffloat beta tfconstant shape dtypetfquint beta_min tfconstant dtypetffloat beta_max tfconstant dtypetffloat gamma tfconstant shape dtypetfquint gamma_min tfconstant dtypetffloat gamma_max tfconstant dtypetffloat tfraw_opsquantizedbatchnormwithglobalnorm tt t_mint_min t_maxt_max mm m_minm_min m_maxm_max vv v_minv_min v_maxv_max betabeta beta_minbeta_min beta_maxbeta_max gammagamma gamma_mingamma_min gamma_maxgamma_max out_typetfqint variance_epsilon scale_after_normalizationtru implementationhttpsgithubcomtensorflowtensorflowblobacaaecfabbbebdcdaeftensorflowcorekernelsquantized_batch_norm_opcc valid constraint specifi op contracthttpswwwtensorfloworgapi_docspythontfraw_opsquantizedbatchnormwithglobalnorm patch patch issu github commit dedbcfedcabeadbddebhttpsgithubcomtensorflowtensorflowcommitdedbcfedcabeadbddeb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa checkfail tfraw_opsrfft cve number cve impact attack caus denial servic exploit checkfailur come implement tfraw_opsrfft python import tensorflow tf input tfconstant shape dtypetffloat fft_length tfconstant shape dtypetfint tfraw_opsrfftinputinput fft_lengthfft_length exampl caus eigen code oper empti matrix trigger assert caus program termin patch patch issu github commit bdfaaabcbaechttpsgithubcomtensorflowtensorflowcommitbdfaaabcbaec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa heap bound access spars reduct oper cve number cve impact implement spars reduct oper tensorflow trigger access outsid bound heap alloc data python import tensorflow tf x tfsparsetensor indic valu dense_shap tfsparsereduce_sumx implementationhttpsgithubcomtensorflowtensorflowblobabcfaaffabaadtensorflowcorekernelssparse_reduce_opccl fail valid reduct group overflow correspond index point outsid bound input tensor patch patch issu github commit fffafedaaaaafhttpsgithubcomtensorflowtensorflowcommitfffafedaaaaaf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa write immut memori region cve number cve impact tfraw_opsimmutableconst oper return constant tensor creat memori map file assum immut howev type tensor integr type oper crash python interpret tri write memori area python import tensorflow tf opentmptesttxtw f fwritea tfraw_opsimmutableconstdtypetfstringshap memory_region_nametmptesttxt file small tensorflow properli return error memori area fewer byte need tensor creat howev soon enough byte snippet caus segment fault aloc use return buffer data mark return opaqu handl sinc need virtual methodhttpsgithubcomtensorflowtensorflowblobcefcadfcdcbbbbctensorflowcoreframeworktyped_allocatorhl overridenhttpsgithubcomtensorflowtensorflowblobacdfcfcfaaedbefefdbadtensorflowcorekernelsimmutable_constant_opcc patch patch issu github commit cefcadfcdcbbbbchttpsgithubcomtensorflowtensorflowcommitcefcadfcdcbbbbc releas tensorflow contain patch tensorflow nightli packag commit also issu resolv sinc issu also impact tf version patch releas inclus inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap buffer overflow unsortedsegmentsum cve number cve issu descript heap buffer overflow unsortedsegmentsum produc index templat argument int case data_s num_seg field truncat int int produc neg number result access bound heap memori impact unlik exploit detect fix intern make secur advisori notifi user better updat tensorflow later version alreadi fix vulner version tensorflow mitig patch vulner github commit dbfhttpsgithubcomtensorflowtensorflowcommitdbfcbcccceabb encourag user switch tensorflow version contain fix switch undesir consid cherrypick commit build sourc tfsa divis fusedbatchnorm cve number cve impact attack caus denial servic via fpe runtim error tfraw_opsfusedbatchnorm python import tensorflow tf x tfconstant shape dtypetffloat scale tfconstant shape dtypetffloat offset tfconstant shape dtypetffloat mean tfconstant shape dtypetffloat varianc tfconstant shape dtypetffloat epsilon exponential_avg_factor data_format nhwc is_train fals tfraw_opsfusedbatchnorm xx scalescal offsetoffset meanmean variancevari epsilonepsilon exponential_avg_factorexponential_avg_factor data_formatdata_format is_trainingis_train implementationhttpsgithubcomtensorflowtensorflowblobffafecaceabtensorflowcorekernelsfused_batch_norm_opccl perform divis base last dimens x tensor cc const int depth xdimens const int rest_siz size depth sinc control user attack trigger denial servic patch patch issu github commit aaddeacebdhttpsgithubcomtensorflowtensorflowcommitaaddeacebd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa integ truncat shard api usag cve number cve impact shard apihttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcoreutilwork_sharderhl tensorflow expect last argument function take two int ie long long argument cc void shardint max_parallel threadthreadpool worker int total int cost_per_unit stdfunctionvoidint int work howev sever place tensorflow lambda take int int argument usedhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorekernelsrandom_opccl cc auto dowork samples_per_alpha num_alpha rng samples_flat alpha_flatint start_output int limit_output shardworker_threadsnum_thread worker_threadswork num_alpha samples_per_alpha kelementcost dowork case amount work parallel larg enough integ truncat occur depend two argument lambda use result segfault readwrit outsid heap alloc array stack overflow data corrupt vulner version tensorflow patch patch issu bcbdefebbbbafbahttpsgithubcomtensorflowtensorflowcommitbcbdefebbbbafba cacbebbbbceaefahttpsgithubcomtensorflowtensorflowcommitcacbebbbbceaefa releas patch releas version recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa code inject saved_model_cli cve number cve impact tensorflow saved_model_cli tool vulner code inject call eval user suppli stringshttpsgithubcomtensorflowtensorflowblobbfacafffadbeabtensorflowpythontoolssaved_model_clipyl python def preprocess_input_exprs_arg_stringinput_exprs_str input_raw filterbool input_exprs_strsplit input_key expr input_rawsplit input_dictinput_key evalexpr use attack run arbitrari code plaform cli tool run howev given tool alway run manual impact sever patch ad safe flag default true explicit warn user patch patch issu github commit bfdeafbdbafafbcechttpsgithubcomtensorflowtensorflowcommitbfdeafbdbafafbcec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report omer kaspi vdoo tfsa crash due overflow checkfail op larg tensor shape cve number cve impact tensorflow allow tensor larg number dimens dimens larg desir howev total number element tensor must fit within int_t overflow occur multiplywithoutoverflow would return neg result major tensorflow codebas result checkfailur newer construct exist return statu instead crash binari exampl adddimhttpsgithubcomtensorflowtensorflowblobbbddaebfbabccabcecatensorflowcoreframeworktensor_shapeccl call replac adddimwithstatushttpsgithubcomtensorflowtensorflowblobbbddaebfbabccabcecatensorflowcoreframeworktensor_shapeccl similar cvehttpsgithubcomtensorflowtensorflowblobaffebcdfcbeeetensorflowsecurityadvisorytfsamd similar report vulner tensorflow local specif api patch patch issu github commit cbdebfbeadadafhttpsgithubcomtensorflowtensorflowcommitcbdebfbeadadaf merg httpsgithubcomtensorflowtensorflowpul dbdaecffbdeachttpsgithubcomtensorflowtensorflowcommitdbdaecffbdeac merg httpsgithubcomtensorflowtensorflowpul adbccdebffbfecbfbcedfhttpsgithubcomtensorflowtensorflowcommitadbccdebffbfecbfbcedf merg httpsgithubcomtensorflowtensorflowpul dbdaecffbdeachttpsgithubcomtensorflowtensorflowcommitdbdaecffbdeac merg httpsgithubcomtensorflowtensorflowpul possibl similar instanc exist tensorflow issu fix discov fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report extern via github issuehttpsgithubcomtensorflowtensorflowissu github issuehttpsgithubcomtensorflowtensorflowissu github issuehttpsgithubcomtensorflowtensorflowissu tfsa divis zero convdbackpropfilt cve number cve impact attack caus divis zero occur convdbackpropfilt python import tensorflow tf input_tensor tfconstant shape dtypetffloat filter_s tfconstant shape dtypetfint out_backprop tfconstant shape dtypetffloat tfraw_opsconvdbackpropfilt inputinput_tensor filter_sizesfilter_s out_backpropout_backprop stride use_cudnn_on_gpufals paddingsam explicit_pad data_formatnhwc dilat implementationhttpsgithubcomtensorflowtensorflowblobbcbddbdfaacdfdbbcdatensorflowcorekernelsconv_grad_filter_opsccl comput divisor base user provid data ie shape tensor given argument cc const size_t size_a output_image_s filter_total_s const size_t size_b output_image_s dimsout_depth const size_t size_c filter_total_s dimsout_depth const size_t work_unit_s size_a size_b size_c const size_t shard_siz target_working_set_s work_unit_s work_unit_s shape empti work_unit_s sinc check case divis result runtim except potenti abus denial servic patch patch issu github commit ceecfcadfedfefchttpsgithubcomtensorflowtensorflowcommitceecfcadfedfefc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa divis zero tflite implement depthwiseconv cve number cve impact implement depthwiseconv tflite oper vulner divis zero errorhttpsgithubcomtensorflowtensorflowblobaebcabccbbecaaebctensorflowlitekernelsdepthwise_convccl cc int num_input_channel sizeofdimensioninput tf_lite_ensure_eqcontext num_filter_channel num_input_channel attack craft model input fourth dimens would patch patch issu github commit cbdacbdbbdfbdcffcaecedhttpsgithubcomtensorflowtensorflowcommitcbdacbdbbdfbdcffcaec fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa incomplet valid tfsummarycreate_file_writ cve number cve impact tfsummarycreate_file_writ call nonscalar argument code crash due checkfail python import tensorflow tf import numpi np tfsummarycreate_file_writerlogdir flush_millisnpon patch patch issu github commit bdaecdbacbbbccbehttpsgithubcomtensorflowtensorflowcommitbdaecdbacbbbccb merg httpsgithubcomtensorflowtensorflowpul fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report extern via github issuehttpsgithubcomtensorflowtensorflowissu tfsa arbitrari memori read immutableconst cve number cve impact immutableconst oper tensorflow trick read arbitrari memori content python import tensorflow tf opentmptestwb f fwritebx data tfraw_opsimmutableconstdtypetfstringshapememory_region_nametmptest printdata tstring tensorflow string class special case memori map string oper offer support datatyp patch patch issu github commit adeccbdaaaafbhttpsgithubcomtensorflowtensorflowcommitadeccbdaaaafb github commit cbbbcacadafebaeebhttpsgithubcomtensorflowtensorflowcommitcbbbcacadafebaeeb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa undefin behavior checkfail fractionalmaxpoolgrad cve number cve impact implement tfraw_opsfractionalmaxpoolgrad trigger undefin behavior one input tensor empti python import tensorflow tf orig_input tfconstant shape dtypetfint orig_output tfconstant dtypetfint out_backprop tfzero dtypetfint row_pooling_sequ tfconstant shape dtypetfint col_pooling_sequ tfconstant shape dtypetfint tfraw_opsfractionalmaxpoolgrad orig_inputorig_input orig_outputorig_output out_backpropout_backprop row_pooling_sequencerow_pooling_sequ col_pooling_sequencecol_pooling_sequ overlappingfals code also vulner denial servic attack check condit becom fals abort process python import tensorflow tf orig_input tfconstant shape dtypetfint orig_output tfconstant shape dtypetfint out_backprop tfconstant shape dtypetfint row_pooling_sequ tfconstant shape dtypetfint col_pooling_sequ tfconstant shape dtypetfint tfraw_opsfractionalmaxpoolgrad orig_inputorig_input orig_outputorig_output out_backpropout_backprop row_pooling_sequencerow_pooling_sequ col_pooling_sequencecol_pooling_sequ overlappingfals implementationhttpsgithubcomtensorflowtensorflowblobdcedfdecaddefbdbtensorflowcorekernelsfractional_max_pool_opccl fail valid input output tensor empti rank uncheck assumpt respons issu patch patch issu github commit fdcbffdddfccbdbebcehttpsgithubcomtensorflowtensorflowcommitfdcbffdddfccbdbebc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa incomplet valid sparseadd cve number cve impact incomplet valid sparseadd result allow attack exploit undefin behavior dereferenc null pointer well write outsid bound heap alloc data python import tensorflow tf a_indic tfzero dtypetfint a_valu tfzero dtypetfint a_shap tfzero dtypetfint b_indic tfzero dtypetfint b_valu tfzero dtypetfint b_shape tfzero dtypetfint thresh tfraw_opssparseadda_indicesa_indic a_valuesa_valu a_shapea_shap b_indicesb_indic b_valuesb_valu b_shapeb_shap threshthresh implementationhttpsgithubcomtensorflowtensorflowblobebacddcfcdcactensorflowcorekernelssparse_add_opcc larg set valid two spars tensor input tensor total valid tensor empti second dimens _indic match size correspond _shape allow attack send tensor tripl repres invalid spars tensor abus code assumpt protect valid patch patch issu github commit fdfaebacdffcahttpsgithubcomtensorflowtensorflowcommitfdfaebacdffca follow github commit ffbdfbdbfdacchttpsgithubcomtensorflowtensorflowcommitffbdfbdbfdacc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa segfault heap buffer overflow experimentaldatasettotfrecord cve number cve impact implement tfraw_opsexperimentaldatasettotfrecord tfraw_opsdatasettotfrecord trigger heap buffer overflow segment fault python import tensorflow tf dataset tfdatadatasetrang dataset tfdataexperimentalto_variantdataset tfraw_opsexperimentaldatasettotfrecord input_datasetdataset filenametmpoutput compression_typ implementationhttpsgithubcomtensorflowtensorflowblobffaaadabfdaaabaddebtensorflowcorekernelsdataexperimentalto_tf_record_opccl assum record dataset string type howev check exampl given use numer type patch patch issu github commit ebeccebfaabchttpsgithubcomtensorflowtensorflowcommitebeccebfaabc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa uniniti memori access eigen type cve number cve impact certain case save model trigger use uniniti valu code execut caus tensor buffer fill default valu type forget default initi quantiz float point type eigenhttpsgithubcomtensorflowtensorflowblobfadffdcbeccdfthird_partyeigenunsupportedeigencxxsrcfixedpointfixedpointtypeshl cc struct quint quint uint_t valu struct qint qint int_t valu struct quint quint uint_t valu struct qint qint int_t valu patch patch issu github commit acecaffabccfeabbcbaaehttpsgithubcomtensorflowtensorflowcommitacecaffabccfeabbcbaa releas tensorflow contain patch tensorflow nightli packag commit also issu resolv sinc issu also impact tf version patch releas inclus inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa heap buffer overflow transpos cve number cve impact shape infer function transposehttpsgithubcomtensorflowtensorflowblobdcabfabbcecfftensorflowcoreopsarray_opsccl vulner heap buffer overflow python import tensorflow tf tffunction def test tfraw_opstransposexperm return test occur whenev perm contain neg element shape infer function valid indic perm valid cc int_t rank int_t in_idx datai in_idx rank return errorsinvalidargumentperm dim in_idx rang input rank rank dimsi cdiminput in_idx dimtensor index accept either posit index less rank tensor special valu unknown dimens patch patch issu github commit cbaeedbeddfeebhttpsgithubcomtensorflowtensorflowcommitcbaeedbeddfeeb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa refer bind nullptr matrixsetdiagv op cve number cve impact attack caus undefin behavior via bind refer null pointer oper type tfraw_opsmatrixsetdiagv python import tensorflow tf tfraw_opsmatrixsetdiagv input diagon k alignright_left implementationhttpsgithubcomtensorflowtensorflowblobdcbdefbdbbcactensorflowcorekernelslinalgmatrix_diag_opcc incomplet valid valu k valid tensor check valu either scalar vector check number element empti tensor code access first element tensor wrong cc auto diag_index contextinput lower_diag_index diag_indexflatint patch patch issu github commit ffdfaeecbfedcadcfbhttpsgithubcomtensorflowtensorflowcommitffdfaeecbfedcadcfb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap buffer overflow quantizedreshap cve number cve impact attack caus heap buffer overflow quantizedreshap pass invalid threshold quantiz python import tensorflow tf tensor tfconstant dtypetfqint shape tfconstant dtypetfint input_min tfconstant dtypetffloat input_max tfconstant dtypetffloat tfraw_opsquantizedreshapetensortensor shapeshap input_mininput_min input_maxinput_max implementationhttpsgithubcomtensorflowtensorflowblobaacefbaaededdeetensorflowcorekernelsquantized_reshape_opccl assum argument alway valid scalar tri access numer valu directli cc const auto input_min_float_tensor ctxinput const float input_min_float input_min_float_tensorflatfloat const auto input_max_float_tensor ctxinput const float input_max_float input_max_float_tensorflatfloat howev tensor empti flatt empti buffer access element posit result overflow patch patch issu github commit aacefbaaededdeehttpsgithubcomtensorflowtensorflowcommitaacefbaaededde fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa arbitrari code execut due yaml deseri cve number cve impact tensorflow kera trick perform arbitrari code execut deseri kera model yaml format python tensorflowkera import model payload pythonobjectnewtyp arg z pythontupl extend pythonnameexec listitem __import__ossystemcat etcpasswd modelsmodel_from_yamlpayload implementationhttpsgithubcomtensorflowtensorflowblobedeafbbadbfftensorflowpythonkerassavingmodel_configpyl use yamlunsafe_load perform arbitrari code execut input patch given yaml format support requir signific amount work remov patch issu github commit debcafcbdfbhttpsgithubcomtensorflowtensorflowcommitdebcafcbdfb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report arjun shibu tfsa heap oob read tflite cve number cve impact special craft tflite model could trigger oob read heap tflite implement split_vhttpsgithubcomtensorflowtensorflowblobccebddafafebfdatensorflowlitekernelssplit_vccl cc const int input_s sizeofdimensioninput axis_valu axis_valu valu numdimensionsinput sizeofdimens functionhttpsgithubcomtensorflowtensorflowblobbdfabcfabccabtensorflowlitekernelskernel_utilhl access data outsid bound tensor shape array cc inlin int sizeofdimensionconst tflitetensor int dim return tdimsdatadim patch patch issu github commit aedaebabfecddacfddfdefhttpsgithubcomtensorflowtensorflowcommitaedaebabfecddacfddfdef fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa heap buffer overflow weight spars count op cve number cve impact sparsecountsparseoutput raggedcountsparseoutput implement dont valid weight tensor shape data check exist densecountsparseoutput tensor fulli specifiedhttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorekernelscount_opsccl cc use_weight op_requir context weightsshap datashap errorsinvalidargu weight data must shape weight shape weightsshapedebugstr data shape datashapedebugstr spars rag count weight still access parallel datahttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorekernelscount_opsccl cc int idx idx num_valu idx int batch is_d indices_valuesidx const auto valu values_valuesidx per_batch_countsbatchvalu weight_valuesidx sinc valid user pass fewer weight valu tensor gener read outsid bound heap buffer alloc weight vulner version tensorflow patch patch issu cbbbbebafbbbceeehttpsgithubcomtensorflowtensorflowcommitcbbbbebafbbbcee releas patch releas recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner discov variant analysi vulner report member aivul team qihoo httpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tfsa heap buffer overflow maxpoolgrad cve number cve impact implement tfraw_opsmaxpoolgrad vulner heap buffer overflow python import tensorflow tf orig_input tfconstant shape dtypetffloat orig_output tfconstant shape dtypetffloat grad tfconstant shape dtypetffloat ksize stride pad tfraw_opsmaxpoolgrad orig_inputorig_input orig_outputorig_output gradgrad ksizeks stridesstrid paddingpad explicit_pad implementationhttpsgithubcomtensorflowtensorflowblobabebccbfbddfacftensorflowcorekernelsmaxpooling_opccl fail valid indic use access element inputoutput array valid cc int index out_start index out_end index int input_backprop_index out_arg_max_flatindex fastboundscheckinput_backprop_index in_start in_end in_start input_backprop_flatinput_backprop_index out_backprop_flatindex wherea access input_backprop_flat guard fastboundscheck index out_backprop_flat result oob access patch patch issu github commit afeefbdadeffeeecfacfhttpsgithubcomtensorflowtensorflowcommitafeefbdadeffeeecfacf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa crash caus integ convers unsign cve number cve impact attack caus denial servic boosted_trees_create_quantile_stream_resourc use neg argument python import tensorflow tf tensorflowpythonop import gen_boosted_trees_op import numpi np v tfvariabl gen_boosted_trees_opsboosted_trees_create_quantile_stream_resourc quantile_stream_resource_handl vhandl epsilon num_stream max_el npint implementationhttpsgithubcomtensorflowtensorflowblobdcbdefbdbbcactensorflowcorekernelsboosted_treesquantile_opsccl valid num_stream contain nonneg number turn result use valu alloc memoryhttpsgithubcomtensorflowtensorflowblobdcbdefbdbbcactensorflowcorekernelsboosted_treesquantilesquantile_stream_resourcehl cc class boostedtreesquantilestreamresourc public resourcebas public boostedtreesquantilestreamresourceconst float epsilon const int max_el const int num_stream are_buckets_ready_fals epsilon_epsilon num_streams_num_stream max_elements_max_el streams_reservenum_streams_ howev reserv receiv unsign integ implicit convers neg valu larg posit unsign result crash standard librari patch patch issu github commit afababecfdbadaccdfhttpsgithubcomtensorflowtensorflowcommitafababecfdbadaccdf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa divis quantizedconvd cve number cve impact attack trigger divis tfraw_opsquantizedconvd python import tensorflow tf input tfzero dtypetfquint filter tfconstant shape dtypetfquint min_input tfconstant max_input tfconstant min_filt tfconstant max_filt tfconstant stride pad tfraw_opsquantizedconvdinputinput filterfilt min_inputmin_input max_inputmax_input min_filtermin_filt max_filtermax_filt stridesstrid paddingpad implementationhttpsgithubcomtensorflowtensorflowblobeaddfaaeedacacfeetensorflowcorekernelsquantized_conv_opsccl divis quantiti control caller cc const int filter_value_count filter_width filter_height input_depth const int patches_per_chunk kmaxchunks filter_value_count sizeoft patch patch issu github commit cfabeadababbhttpsgithubcomtensorflowtensorflowcommitcfabeadababb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa null derefer grappler trysimplifi cve number cve impact implement trysimplifyhttpsgithubcomtensorflowtensorflowblobcddffaaeaafcaaedtensorflowcoregrappleroptimizersarithmetic_optimizerccl undefin behavior due dereferenc null pointer corner case result optim node input patch patch issu github commit efdefadacafadhttpsgithubcomtensorflowtensorflowcommitefdefadacafad fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa tensorflow lite toco flatbuff pars vulner cve number cve issu descript tensorflow lite toco compil perform correct boundari check read field within tflite file background tflite file base flatbuff serial format bound check builtin rather reli client handl appropri secur check particular toco perform correct bound check follow place bound read toco importcc null derefer toco importcc bound read toco importcc null derefer toco importcc bound read toco importcc bound read toco operatorcc bound read toco graph_transform propagate_fixed_sizescc impact user pass malform malici version tflite graph toco caus toco crash caus buffer overflow potenti allow malici code execut vulner version tensorflow mitig patch vulner github commit abbhttpsgithubcomtensorflowtensorflowcommitabbfcabdaefba badddhttpsgithubcomtensorflowtensorflowcommitbadddabdeddcafb user run tensorflow tflite toco compil product untrust data encourag appli patch addit releas tensorflow version mitig vulner credit issu discov blade team tencent tfsa heap buffer overflow sparsesplit cve number cve impact attack caus heap buffer overflow tfraw_opssparsesplit python import tensorflow tf shape_dim tfconstant dtypetfint indic tfone dtypetfint valu tfone dtypetfint shape tfone dtypetfint tfraw_opssparsesplit split_dimshape_dim indicesindic valuesvalu shapeshap num_split implementationhttpsgithubcomtensorflowtensorflowblobbffdfabfdefafedfbeftensorflowcoreutilsparsesparse_tensorhl access array element base user control offset cc const int dim input_tensorindicesmatrixinti split_dim int slice_index getsliceindexdim split_siz residu num_valuesslice_index result overrid valu heap patch patch issu github commit bafacdbfcefbdcccfbhttpsgithubcomtensorflowtensorflowcommitbafacdbfcefbdcccfb fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa data leak tfraw_opsstringngram cve number cve impact data_split argument tfraw_opsstringngramshttpswwwtensorfloworgapi_docspythontfraw_opsstringngram lack valid allow user pass valu caus heap overflow error even leak content memori python tfraw_opsstringngramsdataaa bb cc dd ee ff data_split separ ngram_width left_pad right_pad pad_width preserve_short_sequencesfals stringngramsngramstftensor shape dtypestr numpi arraybaa bb cc bbb cc dd bcc dd ee bdd ee ff bee ff xfjxaqxfxxqxxxxxxxxdxbxaqxfx bff xfjxaqxfxxqxxxxxxxxdxbxaqxfx xbxaqxfxxpxfjxaqxfxxhxfjxaqxfxxxfxfxfxqxfxxxaxxxxxxaxxxxxxbxebxbqxfx binari string ee ff content memori stack sinc contain return address data leak use defeat aslr vulner version tensorflow patch patch issu debedaafbaccbhttpsgithubcomtensorflowtensorflowcommitdebedaafbaccb releas patch releas version recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa segment fault convert python string tffloat cve number cve issu descript convert string python tffloat valu result segment fault eager mode format check use case graph mode impact issu lead denial servic inferencetrain malici attack send data point contain string instead tffloat valu similar effect obtain manipul save model checkpoint wherebi replac scalar tffloat valu scalar string trigger issu due automat convers easili reproduc tfconstanthello tffloat eager execut enabl vulner version tensorflow mitig patch vulner github commit acbhttpsgithubcomtensorflowtensorflowcommitacbeffafcedfdebdbf addit releas tensorflow vulner patch tensorflow releas fix issu thu affect encourag user switch tensorflow tfsa invalid valid sparsematrixsparsecholeski cve number cve impact attack trigger null pointer derefer provid invalid permut tfraw_opssparsematrixsparsecholeski python import tensorflow tf import numpi np tensorflowpythonopslinalgspars import sparse_csr_matrix_op indices_array nparray value_array nparray dtypenpfloat dense_shap st tfsparsetensorindices_array value_array dense_shap input sparse_csr_matrix_opssparse_tensor_to_csr_sparse_matrix stindic stvalu stdense_shap permut tfconstant shape dtypetfint tfraw_opssparsematrixsparsecholeskyinputinput permutationpermut typetffloat implementationhttpsgithubcomtensorflowtensorflowblobfdefbffbdebfaatensorflowcorekernelssparsesparse_cholesky_opccl fail properli valid input argument cc void computeopkernelcontext ctx final const tensor input_permutation_indic ctxinput validateinputsctx input_matrix input_permutation_indic batch_siz num_row void validateinputsopkernelcontext ctx const csrsparsematrix sparse_matrix const tensor permutation_indic int batch_siz int num_row op_requiresctx sparse_matrixdtyp datatypetoenumtvalu although validateinput call check bodi function code proce next line validateinput sinc op_requireshttpsgithubcomtensorflowtensorflowblobfdefbffbdebfaatensorflowcoreframeworkop_requireshl macro exit current function cc defin op_requiresctx exp statu tf_predict_trueexp checknotincomputeasyncctx op_requires_async ctxctxfailure__file__ __line__ statu return thu first valid condit fail validateinput caus earli return function howev caller continu execut next line fix either explicitli check contextstatu convert validateinput return statu patch patch issu github commit eaccccaaadaecbafcdbdhttpsgithubcomtensorflowtensorflowcommiteaccccaaadaecbafcdbd fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ying wang yakun zhang baidu xteam tfsa heap oob null pointer derefer raggedtensortotensor cve number cve impact due lack valid tfraw_opsraggedtensortotensor attack exploit undefin behavior input argument empti python import tensorflow tf shape tfconstant shape dtypetfint valu tfconstant shape dtypetfint default_valu tfconstant dtypetfint row tfconstant shape dtypetfint row row type row_split tfraw_opsraggedtensortotensor shapeshap valuesvalu default_valuedefault_valu row_partition_tensorsrow row_partition_typestyp implementationhttpsgithubcomtensorflowtensorflowblobebacddcfcdcactensorflowcorekernelsragged_tensor_to_tensor_opccl check one tensor empti check one multipl dcheck valid prevent heap oob noop releas build henc dont prevent anyth patch patch issu github commit bcbafcfbcefdbecedaaehttpsgithubcomtensorflowtensorflowcommitbcbafcfbcefdbecedaa follow github commit fefbbededffbcfeeahttpsgithubcomtensorflowtensorflowcommitfefbbededffbcfeea github commit cdafbabacaaecfhttpsgithubcomtensorflowtensorflowcommitcdafbabacaaecf fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa segfault sparsecountsparseoutput cve number cve impact specifi neg dens shape tfraw_opssparsecountsparseoutput result segment fault thrown standard librari stdvector invari broken python import tensorflow tf indic tfconstant shape dtypetfint valu tfconstant shape dtypetfint dense_shap tfconstant shape dtypetfint weight tfconstant shape dtypetfint tfraw_opssparsecountsparseoutputindicesindic valuesvalu dense_shapedense_shap weightsweight minlength maxlength binary_outputfals implementationhttpsgithubcomtensorflowtensorflowblobfbeecaceadbbdbctensorflowcorekernelscount_opsccl assum first element dens shape alway posit use initi batchedmapt ie stdvectorabslflat_hash_mapintthttpsgithubcomtensorflowtensorflowblobfbeecaceadbbdbctensorflowcorekernelscount_opsccl data structur cc bool is_d shapenumel int num_batch is_d shapeflatint auto per_batch_count batchedmapwnum_batch shape tensor one element num_batch first valu shape ensur dense_shap argument valid tensor shape element nonneg solv issu patch patch issu github commit ccbfaffddaecadbfhttpsgithubcomtensorflowtensorflowcommitccbfaffddaecadbf fix includ tensorflow also cherrypick commit tensorflow tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report yakun zhang ying wang baidu xteam tfsa heap bound access makeedg cve number cve impact certain case load save model result access uniniti memori build comput graph makeedg functionhttpsgithubcomtensorflowtensorflowblobcbdebbbdbatensorflowcorecommon_runtimegraph_constructorccl creat edg one output tensor src node given output_index input slot dst node given input_index possibl type tensor side coincid function begin obtain correspond datatyp valu compar equal cc datatyp src_out srcoutput_typeoutput_index datatyp dst_in dstinput_typeinput_index howev check indic point insid array index thu result access data bound correspond heap alloc array scenario manifest uniti data access index point far away boundari array use leak address librari patch patch issu github commit ccaaafdececdfbhttpsgithubcomtensorflowtensorflowcommitccaaafdececdfb releas tensorflow contain patch tensorflow nightli packag commit also issu resolv sinc issu also impact tf version patch releas inclus inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question tfsa abort due invalid split raggedcountsparseoutput cve number cve impact raggedcountsparseoutput valid input argument form valid rag tensor particular valid split tensor minimum requir number element code use quantiti initi differ data structurehttpsgithubcomtensorflowtensorflowblobefdebacfbbcftensorflowcorekernelscount_opsccl cc int num_batch splitsnumel auto per_batch_count batchedmapwnum_batch sinc batchedmap equival vector need least one element nullptr user pass split tensor empti exactli one element get sigabrt signal rais oper system vulner version tensorflow patch patch issu cbbbbebafbbbceeehttpsgithubcomtensorflowtensorflowcommitcbbbbebafbbbcee releas patch releas recommend user upgrad tensorflow inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner discov variant analysi vulner report member aivul team qihoo httpsgithubcomtensorflowtensorflowblobmastertensorflowsecurityadvisorytfsamd tfsa divis zero tflite implement batchtospacend cve number cve impact implement batchtospacend tflite oper vulner divis zero errorhttpsgithubcomtensorflowtensorflowblobbedfeaeebdbfaddtensorflowlitekernelsbatch_to_space_ndccl cc tf_lite_ensure_eqcontext output_batch_s block_shapedim output_batch_s output_batch_s block_shapedim attack craft model one dimens block input henc correspond valu block_shap patch patch issu github commit cacedadebbdfeehttpsgithubcomtensorflowtensorflowcommitcacedadebbdfe fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report member aivul team qihoo tfsa refer bind null pointer matrixdiag op cve number cve impact implement matrixdiag operationshttpsgithubcomtensorflowtensorflowblobcfefcfaffbeeebeecfftensorflowcorekernelslinalgmatrix_diag_opccl valid tensor argument nonempti cc num_row contextinputflatint num_col contextinputflatint padding_valu contextinputflatt thu user trigger null pointer derefer tensor null python import tensorflow tf tfconvert_to_tensordtypetffloat p tfconvert_to_tensordtypetffloat tfraw_opsmatrixdiagvdiagonald k num_row num_col padding_valuep chang tfraw_opsmatrixdiagv tfraw_opsmatrixdiagv still reproduc issu patch patch issu github commit addcaafdaaaacfdfchttpsgithubcomtensorflowtensorflowcommitaddcaafdaaaacfdfc fix includ tensorflow also cherrypick commit tensorflow tensorflow tensorflow tensorflow also affect still support rang inform pleas consult secur guidehttpsgithubcomtensorflowtensorflowblobmastersecuritymd inform regard secur model contact us issu question attribut vulner report ye zhang yakun zhang baidu xteam tensorflow function userdefin callabl abstract built graph oper repres function bodi directori contain functionspecif code span highlevel tffunction api exclud graph execut framework tensorflow graph transform directori contain analysi transform oper intermedi represent ir tensorflow graph see ir folder todo detail distribut tensorflow directori contain initi opensourc implement distribut tensorflow runtim use grpchttpgrpcio interprocess commun learn use distribut runtim creat tensorflow cluster see distribut tensorflowhttpswwwtensorfloworgdeploydistribut howto tensorflow tensorflow comput dataflow graph librari get start python api exampl follow exampl python code simpl matrix multipli two constant get result locallyrun tensorflow process first bring tensorflow python depend third_partypytensorflow get python tensorflow api python import tensorflow tf tfsession input tfconstant shape nameinput input tfconstant shape nameinput output tfmatmulinput input run graph fetch output result outputev print result c api exampl run tensorflow local link binari third_partytensorflowcor link oper implement want support eg third_partytensorflowcorekernel exampl program take graphdef run use tensorflow use c session api c includ memori includ string includ vector includ tensorflowcoreframeworkgraphpbh includ tensorflowcorepublicsessionh includ tensorflowcoreframeworktensorh int mainint argc char argv construct graph tensorflowgraphdef graph creat session run tensorflow local process stdunique_ptrtensorflowsess sessiontensorflownewsess initi session graph tensorflowstatu sessioncreategraph sok specifi feed network need stdvectorstdpairstr tensorflowtensor input run session ask first output my_output stdvectortensorflowtensor output sessionruninput my_output output sok someth output auto output_vector outputsvecfloat output_vector close session sessionclos return fullyfeatur c exampl see tensorflowcctutorialsexample_trainercc tensorflow graph ir directori contain definit intermedi represent ir tensorflow graph use mlir introduct directori defin mlir dialect tensorflow graph dialect repres accur tensorflow graph contrari previou tensorflow dialect made opinion choic diverg graphdef tensorflow graph semant dialect embrac tensorflow graph particular concept control depend request devic assign devic node name firstclass attribut mlir oper dialect main principl drove develop dialect ensur perfect roundtrip gener compat exist tensorflow semant solut deploy default situat graph optim grappler transform involv today regardless tensorflow v v new approach also made possibl evolut mlir allow repres graph way wasnt possibl graph oper designgraph_operation_design section histori dialect tensorflow mlir start basic structur reflect llvm defin modul contain list function defin bodi constrain controlflow graph cfg list block contain list oper fundament aspect cfg represent notion control abstract semant model consid singl oper execut given time next oper execut necessarili one list immedi last oper block termin decid next block control transfer think branch mlir start first dialect refer tf control dialect develop model tensorflow graph dialect support control depend didnt allow cycl graph forc trick model tensorflow v loop particular nextiter oper dialect enabl experiment wasnt seen realli practic anoth dialect coexist tf dialect use current dialect design tf releasedhttpsblogtensorfloworgtensorflowisnowavailablehtml made strong assumpt tensorflow evolv toward world eager execut function execut becom unifi v specif construct would deprec disappear control depend support instead implicit controlflow v op switch merg dead arent support new devic placement model solut consid choic model enabl us write graph transform stateless dagtodag pattern appli subgraph without consid entir graph motiv combin tensorflow executor dialect allow import tensorflow graph tensorflow dialect proven enough implement tfxla bridg tflite convert tfrt howev intent tensorflow trace tensorflow function directli tensorflow dialect leav executor dialect way provid limit support tensorflow v graph howev implement tensorflow didnt break away tensorflow v entir instead tensorflow function wrap tensorflow v expos leaki abstract classic graph result tensorflow dialect never got posit enabl default tensorflow particular mani subtl way tensorflow function diverg sequenti eager interpret exampl follow pattern recommend user intend call function bar know first argument wasnt necessari use first result tffunction def fooz x tfplaceholdertfint _ barx z return use placehold would throw except eager mode work graph mode long inlin prune ensur placehold remov execut case involv need control depend beyond autocontroldepend track offer exampl tfrecompute_gradhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythonopscustom_gradientpyl creat controldepend nonsideeffect op finer grain control memori usag final error model tensorflow also surpris eager opbyop mode execut interrupt soon error occur tffunction trace consid error handl sideeffect otherwis would add control depend everi node program like tffunction def foox variabl b tfmatmulx variableassign return b guarante assign variabl wont occur error occur process matmul call foo variabl throw except tfmatmul expect rank tensor variabl may may assign user may want optin safer behavior function tffunction def foox variabl b tfmatmulx tfcontrol_dependenciesb variableassign return b howev control depend model tensorflow dialect drop solut today prevent variabl assign execut ahead matmul tensorflow dialect mani case could model differ construct sourc level would major overhaul tensorflow importantli ecosystem instead recogn tensorflow dialect exist today support usecas prevent mlir provid gener graph transform solut tensorflow contribut fragment instead reduc promis rest document describ new dialect follow pragmat approach enabl mlir deploy tensorflow design new dialect intend allow us replac grappler exist graph transform tensorflow v v without constraint main principl support perfect roundtrip tensorflow graphgraphdef mlir gener oper individu tensorflow nodedef translat individu mlir oper use follow form addv ctl tfgaddvplacehold placeholder_ ctl_ ctl_ devicegpu assigned_devicetpu nameadd some_attribut attr tensorxi tensorxi tensorxi oper return option variad number tensor well control token express potenti control depend node type carri oper mnemon list regular input inbetween parenthes option control depend expos regular input print squar bracket preplac request devic well postplac assign devic inform preserv node name carri firstclass attribut option op specif attribut list curli bracket final type signatur follow omit control depend structur allow perfect roundtrip nodedef still ergonom manipul mlir compar tf_executor dialect exampl tradeoff make preserv attribut includ deriv one creat amount redund signatur may consid prune redund attribut futur way tensorflow dialect graph oper structur oper introduc contain tfggraph act bag unord tensorflow oper carri version attribut correspond versiondefhttpsgithubcomtensorflowtensorflowblobmastertensorflowcoreframeworkversionsproto present graphdef tfggraph tfgversionproduc min_consum arg ctl_ tfgplacehold tensorxi add ctl_ tfgaddvarg arg tensorxi tensorxi tensorxi arg ctl_ tfgplacehold tensorxi note addv oper use result placehold oper defin later list wasnt possibl mlir year ago tensorflow dialect design actual attempt allow unord semanticshttpsgroupsgooglecomatensorfloworggmlircgpqfiyxpvwmhfxmbgfaqaj break away cfgcentric represent couldnt reach consensu key member team believ departur cfgssa would limit reusabl mani algorithm hand choic prevent us design graph dialect replac tensorflow graph structur asi sinc mlir evolv becom gener featur avail motiv support hw synthesi toolshttpsllvmdiscoursegrouptrfcallowingdialectstorelaxthessadominancecondit anoth recent develop made also friendli remov requir terminatorshttpsllvmdiscoursegrouptrfcmakingterminatoroptionalforsingleblockgraphregion tfggraph oper contain singl block list oper termin role play final dialect act fallback opinterfaceshttpsllvmdiscoursegrouptrfcdialectfallbackforopinterfac allow us reus tensorflow registri provid inform mlir pass tensorflow oper without regist mlir first place tfggraph oper roundtrip almost perfectli graphhttpsgithubcomtensorflowtensorflowblobmastertensorflowcoregraphgraphhl except function librari address function librari function tensorflow store functiondefhttpsgithubcomtensorflowtensorflowblobmastertensorflowcoreframeworkfunctionproto signatur hold attribut identifi argument return valu final contain list node bodi surfac repeat nodedef node_def field look ident bodi graphdefhttpsgithubcomtensorflowtensorflowblobmastertensorflowcoreframeworkgraphprotol fundament differ represent particular format edg repres differ understand differ import realiz key aspect functionsdef store uninstanti consid similar way c templat function signatur actual opdef like regular tensorflow oper type argument result encod constrain attribut attribut provid infer base function use callsit respons instanti function bodi repres graph bodi uninstanti function model differ graph bodi tfgfunc gener fooarg tfgtensor tfgname input arg tfgtensor tfgname another_input tfgtensor tfgname result tfgtensor tfgname result attribut descript function foo greater ctl_ tfggreaterarg arg namegreat g_z tfgget_resultgreat z switch ctl_ tfgswitchg_z g_z namecondswitch s_true tfgget_result switch output_tru s_fals tfgget_result switch output_fals tfgreturns_tru s_fals ctl_ note tensor type tfgtensor opaqu everi oper return singl tensor output control token tensor output unpack look individu result name particularli visibl switch oper two result access use tfgget_result look name output_tru output_fals requir opdef defin number output base attribut present nodedef attribut turn depend attribut ad function instanti read descript placehold attribut valuehttpsgithubcomtensorflowtensorflowblobmastertensorflowcoreframeworkattr_valueprotol postinstanti function bodi similar one graph tfgfunc fooarg tensorxf tfgname input arg tensorxf tfgname another_input tensorxi tfgname result tensorxi tfgname result attribut descript function foo greater ctl_ tfggreaterarg arg argctl namegreat tensorxf tensorxf tensorxi switch ctl_ tfgswitchgreat greater namecondswitch tensorxi tensorxi tensorxi tfgreturnswitch switch ctl_ oper arent order except tfgreturn termin must last oper remain differ graph handl function signatur argument return valu attribut one aspect model worth mention mlir point view functiondef allow node graph express input control depend function argument howev mlir need actual ssahttpsenwikipediaorgwikistatic_single_assignment_form valu add edg two oper valu type oper defin control token like ctl_ appli recip argument defin control token omit shadow argument textual form inmemori mlir function realli argument tfgfunc fooarg tensorxf tfgname input argctl tfgcontrol arg tensorxf tfgname another_input argctl tfgcontrol tensorxi tfgname result tensorxi tfgname result attribut descript function foo convent caller expos noncontrol input arg arg control token intend visibl use bodi make align tensorflow work insid bodi valu control depend argument avail ctl suffix ie argctl argctl save model basic block enough model graphdef entireti savedmodel howev use case target right scope exist graphoptim grappler api arent realli coupl savedmodel user load savedmodel independ mlir invok mlir transform function graph also alreadi dialect model specif aspect savedmodel current wrap around tensorflow executor dialect tensorflow dialect may look integr tfg dialect futur reason mostli leav model save model futur work right futur enhanc function controlflow model node graph invok function librari mlir support region concept allow attach subgraph directli insid graph make friendli optim exampl condit oper repres two branch subgraph tensorflow dialect directli follow tfifregionarg tfabsarg tensorxf tensorxf tfacosarg tensorxf tensorxf tfacosharg tensorxf tensorxf tfyieldt tensorxf tensorxf tensorxf e tfnegarg tensorxf tensorxf e tfreluarg tensorxf tensorxf e tfsinarg tensorxf tensorxf tfyield e e tensorxf tensorxf tensorxf tensori tensorxf tensorxf tensorxf tfadd tensorxf tensorxf tensorxf tfadd tensorxf tensorxf tensorxf integr mlir transform dialect oper modul contain one graph oper well list function interfac make transform suitabl fit within grappler graphoptim interchang instead flat graph entri function provid feedsfetch avail main graph pre_plac graph optim execut session feedsfetch provid faq use tensorflow executor dialect executor dialect wasnt design write transform design wrapper around tensorflow dialect intent step stone integr mlir tensorflow disappear tensorflow v graph would deprec new dialect embrac tensorflow instead wish would particular executor dialect repres tensorflow node isol subgraph nest island oper requir oper extra region tensorflow node quit ineffici memori well requir extra indirect pattern match updat node graph happen exist tensorflow dialect exist tensorflow dialect suitabl repres larg subset tensorflow program like model intend convert tflite xla case continu use happen exist tensorflow executor dialect new tensorflow graph dialect could use replac executor dialect standalon stage import format import graphdefgraph would alway go tensorflow graph dialect use cluster promot algorithm rais subgraph tensorflow dialect like cluster island oper tensorflow executor dialect detail mechan left futur work footnot semant model sequenti prevent implement execut oper parallel proven safe similar superscalar cpu involv implicit parallel exampl map tensorflow dialect tfrt sideeffect oper variabl access exampl sequenc one first tool built tftflite convert replac toco sinc v controlflow isnt support tflite wasnt limit deriv attribut concept use tensorflow dialect sinc mlir model type shape inform individu result produc oper attribut insert sole purpos type redund elimin mlir sparsetensor spars tensor store two dens tensor shape indic braintensor store matrix typic int valu braintensor store vector valu type shape tensorshap store bound underli tensor order option gtlinlinedvectorint dimens along indic order let ix indicesmatrixint val valuesvect shape ix n x ndim row correspond index singl element spars tensor length val must n valsi correspond valu index ixi shape must tensorshap dim ndim shape full shape dens tensor indic repres specif represent pseudocod tensorixi valsi n order indic need provid order exampl follow index matrix order accord dimens order howev provid unord version sparsetensor construct without provid order default order certain oper fail crash order provid resort sparsetensor inplac resort underli index valu tensor inplac updat order cost reorder matrix onlogn requir addit temporari space store reorder index default order specifi reorder perform follow happen group rais assert failur indicesvalid rais assert failur updat intern index order construct call reordert via eg reordert step method work correctli method indicesvalid check make sure ixi shapedim_s indic repeat indic order iter groupgroup dim provid iter group entri accord dimens care may requir sort data isnt presort way that compat grouping_dim group return group index valu group dim iter subset indic group subset valu group lazi output read individu copi per exampl note groupdim dimk rais assert failur order sparsetensor match dimens wish group must either indic correct order construct sparsetensor order dim dimk call reordertdim dimk sort sparsetensor group exampl group tensor indicesdt_int tensorshapen ndim tensor valuesdt_str tensorshapen tensorshap shapedim sparsetensor spindic val shape spreordertstr must provid ndim dim group accord dim const auto g spgroup cout val ix group ggroup ggroup cout full indic groupn gindic cout valu groupn gvalu ttypesintunalignedmatrix g_ix gindic ttypeststringunalignedvec g_v gvalu assertg_ixdimens g_vsize number element match todens convert spars tensor dens must provid pointer dens tensor prealloc todens option preiniti tensor zero shape check perform boundari check tensor indicesdt_int tensorshapen ndim tensor valuesdt_str tensorshapen tensorshap shapedim sparsetensor spindic val shape assertspindicesvalid check order index bound tensor densedt_str shape initi indic zero copi assertsptodensetstringdens true concat concaten multipl sparsetensor return new sparsetensor concaten respect dens version sparsetensor concaten perform along dimens order tensor result shapeord may differ across input shape order must match across input call order primari dimens prerequisit input rank must match input order must match input shape must match except dimens order input valu must type fals concat die assert failur exampl concaten two spars matric along column matrix matrix concaten matrix expect input shape order nnz shape_ tensorshap shape_ tensorshap order_ primari order column order_ primari order must match nnz_ nnz_ output shape order conc_shap tensorshap primari dim increas other conc_ord order match along input conc_nnz sum nonzero input code exampl tensor ixdt_int tensorshapen tensor valsdt_str tensorshapen tensor ixdt_int tensorshapen tensor valsdt_str tensorshapen tensor ixdt_int tensorshapen tensor valsdt_str tensorshapen sparsetensor stix val tensorshap sparsetensor stix val tensorshap kick st indic order order match still concaten along dimens sparsetensor stix val tensorshap sparsetensor conc sparsetensorconcatstringst st st tensor ix_conc concindic tensor vals_conc concvalu expect_eqconcnnz stnnz stnnz stnnz expect_eqconcshap tensorshap expect_eqconcord reorder st input tensor exact order streordertstr sparsetensor conc sparsetensorconcatstringst st st expect_eqconcord indic order match output order expect_trueconcindicesvalid folder contain apidef proto definit tensorflow oper canon sourc document oper found base_api directori tensorflow base librari packag contain follow librari platform depend librari requir differ implement across differ oss environ stl replac librari rest tensorflow depend librari packag allow depend tensorflow code outsid packag command line interfac tutori command line inputscommandlineinput start tfprofstarttfprof examplesexampl profil python timeprofilepythontim profil graph timeprofilegraphtim profil checkpoint valueprofilecheckpointvalu profil model parameterprofilemodelparamet profil devic placementprofiledeviceplac defin custom oper typedefinecustomizedoperationtyp noninteract modenoninteractivemod command line input tfprof command line tool use follow input bprofile_pathb profileproto binari proto file see quickstart gener file bthe old way deprecatedb bgraph_pathb graphdef proto file option eager execut use build inmemori data structur model exampl graphpbtxt written tfsupervisor pass graph_path also easili get graphdef use tfget_default_graphas_graph_defadd_shapestru api brun_meta_pathb runmetadata proto file option use get memori consumpt execut time op model follow code snippet write runmetadata file python run_opt config_pbrunoptionstrace_levelconfig_pbrunoptionsfull_trac run_metadata config_pbrunmetadata _ self_sessrun optionsrun_opt run_metadatarun_metadata tfgfileopenospathjoinoutput_dir run_meta w f fwriterun_metadataserializetostr bop_log_pathb tensorflowtfprofoplogproto option proto use provid extra oper inform float oper code trace defin custom oper type account_type_regex option follow code snippet write oplogproto file python tfprofilerwrite_op_loggraph log_dir op_lognon bcheckpoint_pathb tensorflow checkpoint option defin _checkpoint_vari op type also provid checkpoint tensor valu note featur well maintain start tfprof build tfprof shell build tool bazel build config opt tensorflowcoreprofilerprofil help inform includ detail option instruct bazelbintensorflowcoreprofilerprofil help start tfprof interact mode shell follow command start tfprof interact mode recommend file contain binari string profileproto contain need inform one file bazelbintensorflowcoreprofilerprofil profile_pathprofile_xxx altern user pass separ file graph_path contain model architectur tensor shape run_meta_path contain memori time inform op_log_path contain float oper code trace checkpoint_path contain model checkpoint data includ model architectur paramet shape bazelbintensorflowcoreprofilerprofil graph_pathgraphpbtxt profil eager execut user specifi run_meta_path profil execut info oper bazelbintensorflowcoreprofilerprofil run_meta_pathrun_meta addit profil op memori time bazelbintensorflowcoreprofilerprofil graph_pathgraphpbtxt run_meta_pathrun_meta tfprof_log use defin custom op type float op code trace use tfprof_loggerwrite_op_log creat tfprof_log bazelbintensorflowcoreprofilerprofil graph_pathgraphpbtxt run_meta_pathrun_meta op_log_pathtfprof_log addit profil checkpoint statist valu use account_type_regex _checkpoint_vari select checkpoint tensor bazelbintensorflowcoreprofilerprofil graph_pathgraphpbtxt run_meta_pathrun_meta op_log_pathtfprof_log checkpoint_pathmodelckpt start tfprof noninteract mode python run tfprof oneshot bazelbintensorflowcoreprofilerprofil scope graph_pathgraphpbtxt max_depth press enter show default option refer optionsoptionsmd option instruct shell tfprof max_depth min_byt min_micro min_param min_float_op min_occurr step order_bi name account_type_regex variablevariablev start_name_regex trim_name_regex show_name_regex hide_name_regex isvariableinitialized_savezeros_ account_displayed_op_onli fals support select field avail depend run_metacheckpointop_log_path bytesmicrosparamsfloat_opsoccurrencetensor_valuedeviceop_typ select param format output_typekeyvaluekeyvalu output_typ stdout default timelin file keyvalu pair timelin outfilefilenam file outfilefilenam stdout none eg timelineoutfiletmptimelinejson output exampl profil python time shell requir graph_path op_log_path tfprof code max_depth show_name_regex model_analyzerpi select micro account_type_regex order_bi micro _tfprofroot usm model_analyzer_testpyrun_filename_as_mnon usm model_analyzer_testpy_run_code_in_mainnon usm model_analyzer_testpymoduletestmain usm model_analyzer_testpytestcomplexcodeviewx libbuildful usm model_analyzer_testlibpybuildfullmodelreturn sgd_opmin usm model_analyzer_testlibpybuildfullmodelcel array_opsc usu model_analyzer_testlibpybuildfullmodelseqappendarray_ usu model_analyzer_testlibpybuildsmallmodelx nn_opsconvd usu model_analyzer_testlibpybuildsmallmodelinitializerinit_ usu model_analyzer_testlibpybuildfullmodelloss nn_opsl_ usu model_analyzer_testlibpybuildfullmodeltarget array_op usu model_analyzer_testpytestcomplexcodeviewsessrunvari usu set output timelineoutfilefilenam gener timelin instead stdout left codetimelinecode_timelinepng left profil graph time shell defin op name cost calcul loss want know op depend take long time run requir graph_path run_meta_path tfprof graph start_name_regex cost max_depth min_micro select micro account_type_regex _tfprofroot ussec initinit_convconvd mssec random_shuffle_queue_dequeuemani secsec unit__subconvconvd mssec unit__subconvconvd mssec unit__subconvconvd mssec unit__subconvconvd mssec profil checkpoint valu shell requir graph_path checkpoint_path tfprof scope show_name_regex unit__gamma select tensor_valu max_depth _tfprofroot unit__shared_activationinit_bngamma unit__subbngamma profil model paramet shell show number paramet tftrainable_vari model requir graph_path op_log_path store option futur command tfprof set account_type_regex _trainable_vari tfprof scope max_depth select param _tfprofroot k param initinit_convdw xxx param pool_logitdw x param pool_logitbias param unit_lastfinal_bnbeta param unit_lastfinal_bngamma param _trainable_vari come custom oper type defin oplogproto file user defin custom oper typedefinecustomizedoperationtyp bfollow exampl show import defin custom oper typeb exampl extra variabl creat tensorflow implicitli momentum append name shouldnt includ model capac calcul shell tfprof scope account_type_regex variablev max_depth select param _tfprofroot k param global_step param initinit_convdw xxx param pool_logitdw x k param pool_logitdwmomentum x param pool_logitbias param pool_logitbiasesmomentum param unit_lastfinal_bnbeta param unit_lastfinal_bngamma param unit_lastfinal_bnmoving_mean param unit_lastfinal_bnmoving_vari param profil devic placement tutori model split sever gpu worker sever paramet server tfprof devic op_typ exampl op op place gpu share oper type shell bazelbintensorflowcoreprofilerprofil graph_pathtmpgraphpbtxt run_meta_pathtmprun_meta look like ps task hold twice paramet task tfprof scope select deviceparam account_type_regex pstask max_depth _tfprofroot param tfprof scope select deviceparam account_type_regex pstask max_depth _tfprofroot param defin custom oper type first python code creat oplogproto proto add op type inform python op_log tfprof_log_pboplogproto entri op_loglog_entriesadd entrynam pool_logitdw entrytypesappendpool_logit entri op_loglog_entriesadd entrynam pool_logitbias entrytypesappendpool_logit second call write_op_log write oplogproto proto python tfprofilerwrite_op_log sessgraph tmpmy_op_log_dir op_log get runtim shape inform order fill shape get flop tfprofilerwrite_op_log sessgraph tmpmy_op_log_dir op_log run_meta third start tfprof tool specifi op_log_pathtmpmy_op_log_dirop_log shell tfprof scope account_type_regex pool_logit max_depth select param _tfprofroot param pool_logitdw x param pool_logitbias param note tfprofilerwrite_op_log automat assign variabl insid tftrainable_vari custom oper type _trainable_vari noninteract mode run tfprof oneshot mode dump result file shell default output stdout use output option chang output type tfprof scope graph_pathgraphpbtxt max_depth outputfileoutfiletmpdump read file pars graphdef prepar view cat tmpdump _tfprofroot k param global_step param pool_logitdw x k param pool_logitbias param profil time time tensorflow tfproftimesintensorflowandtfprof profil python codeprofilebypythoncod profil oper typeprofilebyoperationtyp profil graphprofilebygraph profil name scopeprofilebynamescop time tensorflow tfprof run model tensorflow schedul run node oper graph oper place acceler cpu acceler oper place acceler first schedul tensorflow cpu normal code opkernelcomput opkernelcomput decid dispatch comput acceler comput eg preprocess still done cpu opkernelcomput dispatch comput acceler return also wait acceler finish tfprof report execut time baccelerator_microsb part comput time spent acceler bcpu_microsb part comput time spent cpu includ wait time might happen opkernelcomput decid wait bexec_microsb sum accelerator_micro cpu_micro sinc acceler gpu usual run oper asynchron might notic oper finish cpu start run acceler cpu oper place cpu complet run cpu henc bexec_microsb equal bcpu_microsb baccelerator_microsb profil python code python code view time line python code aggreg time oper creat line command line requir graph_path op_log_path run_meta_path op_log_path provid code trace inform run_meta_path provid time inform tfprof code show_name_regex seqseq_attent max_depth select micro order_bi micro node name execut time _tfprofroot sec seqseq_attentionpyrun_filename_fromnon ussec seqseq_attentionpy_run_code_in_mainnon ussec seqseq_attentionpymoduleapprun ussec seqseq_attentionpymain_trainmodel bat ussec seqseq_attentionpy_trainmodelbuild_graph ussec seqseq_attention_modelpybuild_graphself_add_seqseq ussec seqseq_attention_modelpy_add_seqseqdecoder_output ussec seqseq_attention_modelpy_add_seqseqsequence_lengtha usm seqseq_attention_modelpy_add_seqseqinitial_state_att usm seqseq_attention_modelpy_add_seqseqfor x encoder_ usm seqseq_attention_modelpy_add_seqseqw_t tftranspo usm seqseq_attention_modelpybuild_graphself_add_train_o usm seqseq_attention_modelpy_add_train_optfgradientsself usm seqseq_attention_modelpy_add_train_opzipgrad tvar usm seqseq_attention_modelpybuild_graphself_summari usu seqseq_attention_modelpybuild_graphselfglobal_step usu seqseq_attentionpy_trainsav tftrain usu seqseq_attentionpy_trainglobal_stepmodel usu sometim want explor specif function start_name_regex tfprof code start_name_regex _add_seqseq show_name_regex seqseq_attent max_depth select micro order_bi micro node name execut time _tfprofroot sec seqseq_attention_modelpybuild_graphself_add_seqseq ussec seqseq_attention_modelpy_add_seqseqdecoder_output ussec seqseq_attention_modelpysampled_loss_funcnum_classesvs ussec seqseq_attention_modelpysampled_loss_funclabel tfresha usu also dive deeper tensorflow librari tfprof code max_depth select micro order_bi micro start_name_regex _add_seqseq min_micro _tfprofroot sec seqseq_attention_modelpybuild_graphself_add_seqseq ussec seqseq_attention_modelpy_add_seqseqdecoder_output ussec seqseq_libpysampled_sequence_average_across_ti ussec seqseq_libpysequence_loss_by_cross loss_f ussec seqseq_attention_modelpy_add_seqseqsequence_lengtha usm seqseq_libpybidirectional_rnnsequence_length usm core_rnnpystatic_rnnstate_sizecel usm seqseq_libpybidirectional_rnninitial_state_bw usm core_rnnpystatic_rnnstate_sizecel usm also done python api opt model_analyzertrainable_vars_params_stat_optionscopi optsaccount_type_regex optsshow_name_regex model_analyzer_testlibpi optsaccount_displayed_op_onli fals optsselect micro tfprof_nod model_analyzerprint_model_analysi sessgraph run_meta cmdcode optionsopt gener visual code view set output timelineoutfilefilenam gener timelin instead stdout left codetimelinecode_timelinepng left profil oper type python op view view aggreg time oper type tfprof op select microsoccurr order_bi micro node name execut time op occurr softmaxcrossentropywithlogit sec matmul ms add ms sub ms concatv ms mul ms applyadam ms switch ms loguniformcandidatesampl ms uniqu ms addn ms might surpris see softmaxcrossentropywithlogit expens shown place cpu tfprof op select microsdevic order_bi micro node name execut time assign devic softmaxcrossentropywithlogit sec jobworkerreplicataskcpu matmul ms jobworkerreplicataskcpujobworkerreplicataskdevicegpujobworkerreplicataskdevicegpujobworkerreplicataskdevicegpujobworkerreplicataskdevicegpu profil graph usual use graph view gener timelin visual result chrometrac ui click flow event view option upper right corner see flow tensor left todoxpan show imag correctli github timelinegraph_timelinepng left tfprof option allow user gener timelin advanc way python gener timelin gpu cpu worker graph max_depth step account_type_regex gpuworkercpu output timelineoutfilefilenamejson gener trace file timelin file written filenamejson open chrome browser enter url chrometrac load timelin file profil name scope usual scope view allow pin point problemat place properli name oper tfname_scop tfvariable_scop python tfprof scope max_depth select micro min_micro order_bi micro node name execut time _tfprofroot sec tower_gradientstower_convd_a_xconvolution_gradconvdbackpropfilt msm tower_gradientstower_convd_a_xconvolution_gradconvdbackpropfilt msm tower_gradientstower_convd_a_xconvolution_gradconvdbackpropfilt msm tower_gradientstower_convd_a_xconvolution_gradconvdbackpropfilt msm option overview tfprof view profil process follow procedur inmemori data structur built repres view graph view graph profil node correspond tensorflow graph node scope view tree profil node correspond tensorflow graph node code view tree profil node includ tensorflow graph node creat profil node python code op view list profil node includ tensorflow graph node belong oper type account_type_regex use first select node includ specifi oper type oper default type eg matmul convd tfprof also consid devic oper type user also defin custom oper type henc oper multipl type profil node contain match type select display statist aggreg parent inmemori data structur variou xxx_name_regex min_xxx max_depth etc option appli filter base profil node name statist limit oper name code view code string op view oper type name differ account_type_regex statist use even profil node display exampl code view calle might hidden statist still aggreg caller account_displayed_op_onli howev break rule aggreg statist display name final filter data structur output format depend output option option semant differ view option usual semant differ view howev vari exampl max_depth scope view mean depth name scope btreeb op view mean length oper blistb graph view mean number hop bgraphb time machin multicor cpu instal one acceler acceler usual perform massiv parallel process profil track accumul process time henc accumul process time like larger time step micro sum cpu acceler time accelerator_micro acceler time cpu_micro cpu time memori tensor memori usual refcount memori releas refer difficult track releas memori current profil track alloc memori result accumul memori request usual larger peak memori overal model recommend gener timelin see alloc memori usag time byte memori alloc request oper peak_byt peak request memori dealloc oper residual_byt memori request oper dealloc comput finish output_byt memori output oper necessarili request current oper exampl tensor forward input output inplac mutat doc max_depth show node number hop start node data structur min_byt show node request least number byte min_peak_byt show node use least number byte peak memori usag min_residual_byt show node least number byte dealloc comput min_output_byt show node least number byte output necessarili alloc node min_micro show node spend least number microsecond run sum accelerator_micro cpu_micro note cpu acceler run parallel min_accelerator_micro show node spend least number microsecond run acceler eg gpu min_cpu_micro show node spend least number microsecond run cpu min_param show node contain least number paramet min_float_op show node contain least number float oper avail node opregisterstatist defin oplogproto provid min_occurr show node appear least number time step show stat step multipl step runmetadata ad default show averag step order_bi order result namedepthbytespeak_bytesresidual_bytesoutput_bytesmicrosaccelerator_microscpu_microsparamsfloat_opsoccurr account_type_regex account display node whose type match one type regex specifi tfprof allow user defin extra oper type graph node tensorflowtfprofoplogproto proto regex commasepar start_name_regex show node start node match regex recurs regex commasepar trim_name_regex hide node start node match regex recurs regex commasepar show_name_regex show node match regex regex commasepar hide_name_regex hide node match regex regex commasepar account_displayed_op_onli true account statist op eventu display fals account op statist match account_type_regex recurs note see boverviewb session option play decid output count select commasepar list attribut show support attribut bytespeak_bytesresidual_bytesoutput_bytesmicrosaccelerator_microscpu_microsparamsfloat_opsoccurrencetensor_valuedeviceop_typesinput_shap output output result stdout file timelin format output_typekeyvaluekeyvalu exampl output timelineoutfilefilenam shell timelin keyoutfil valuefilenam stdout none file keyoutfil valuefilenam profil model architectur profil model parametersprofilemodelparamet profil model float operationsprofilemodelfloatoper profil model paramet bnotesb variablev oper type might contain variabl creat tensorflow implicitli user normal dont want count model capac use custom oper type select subset variabl exampl _trainable_vari creat automat tfprof python api user also defin custom oper type paramet creat oper type variablev older model variabl scope view usual suitabl case tfprof scope account_type_regex variablev max_depth select param _tfprofroot k param global_step param initinit_convdw xxx param pool_logitdw x k param pool_logitdwmomentum x param pool_logitbias param pool_logitbiasesmomentum param unit_lastfinal_bnbeta param unit_lastfinal_bngamma param unit_lastfinal_bnmoving_mean param unit_lastfinal_bnmoving_vari param python api profil tftrainable_vari instead variablev default print stdout user updat optionsoutput write file result alway return proto buffer param_stat tfprofilerprofil tfget_default_graph optionstfprofilerprofileoptionbuild trainable_variables_paramet sysstdoutwritetotal_param dn param_statstotal_paramet profil model float oper caveat oper float oper statist must registerstatisticsflop defin tensorflow tfprof use definit calcul float oper contribut welcom must known shape inform registerstatisticsflop calcul statist suggest pass run_meta_path shape known runtim tfprof fill miss shape runtim shape inform runmetadata henc suggest use account_displayed_op_onli option know statist oper print runmetadata provid tfprof count float_op graph node even defin tfwhile_loop tfprof doesnt know static mani time graph node run runmetadata provid tfprof calcul float_op float_op run_count python profil float oper commandlin need pass graph_path op_log_path tfprof scope min_float_op select float_op account_displayed_op_onli node name float_op _tfprofroot b flop gradientspool_logitxw_plus_bmatmul_gradmatmul kk flop gradientspool_logitxw_plus_bmatmul_gradmatmul_ kk flop initinit_convconvd mm flop pool_logitxw_plus_b kk flop pool_logitxw_plus_bmatmul kk flop unit__subconvconvd mm flop unit__subconvconvd mm flop unit__subconvconvd mm flop unit__subconvconvd mm flop might prefer op view aggreg oper type tfprof op min_float_op select float_op account_displayed_op_onli order_bi float_op node name float_op convd b float_op matmul k float_op biasadd k float_op also python api tfprofilerprofil tfget_default_graph optionstfprofilerprofileoptionbuilderfloat_oper auto detect advis tfprof analyz profil gener advic common issu run advis python first creat profil see profil tutori detail profil tfprofilerprofilersessgraph run_meta config_pbrunmetadata _ sessrunr optionsconfig_pbrunopt trace_levelconfig_pbrunoptionsfull_trac run_metadatarun_meta profileradd_step run_meta start advis profileradvis oneshot api tfprofileradvis sessgraph run_metarun_metadata shell run advisor cli see cli tutori gener file tfprof graph_pathgraphpbtxt run_meta_pathrun_metadata op_log_pathtfprof_log tfprof advis acceleratorutilizationcheck devic jobworkerreplicataskdevicegpu low util devic jobworkerreplicataskdevicegpu low util devic jobworkerreplicataskdevicegpu low util devic jobworkerreplicataskdevicegpu low util operationcheck found oper use nhwc data_format gpu mayb nchw faster expensiveoperationcheck top oper type softmaxcrossentropywithlogit cpu sec acceler us total sec top oper type matmul cpu ms acceler ms total ms top oper type concatv cpu ms acceler ms total ms seqseq_attention_modelpybuild_graphself_add_seqseq cpu sec acceler ms total sec seqseq_attention_modelpy_add_seqseqdecoder_output cpu sec acceler ms total sec seqseq_libpysampled_sequence_average_across_ti cpu sec acceler ms total sec seqseq_libpysequence_loss_by_cross loss_f cpu sec acceler ms total sec seqseq_attention_modelpysampled_loss_funcnum_classesvs cpu sec acceler ms total sec seqseq_attention_modelpysampled_loss_funclabel tfresha cpu us acceler us total us seqseq_libpysequence_loss_by_log_perp_listapp cpu ms acceler us total ms seqseq_libpysequence_loss_by_total_s tfa cpu us acceler us total us seqseq_libpysampled_sequence_return cost tf cpu us acceler us total us math_opspycastreturn gen_math_o cpu us acceler us total us math_opspybinary_op_wrapperreturn funcx cpu us acceler us total us seqseq_attention_modelpy_add_seqseqsequence_lengtha cpu ms acceler ms total ms seqseq_libpybidirectional_rnnsequence_length cpu ms acceler ms total ms core_rnnpystatic_rnnstate_sizecel cpu ms acceler ms total ms rnnpy_rnn_step_maybe_copy_some_ cpu ms acceler ms total ms rnnpy_rnn_steptim max_sequ cpu ms acceler us total ms core_rnnpystatic_rnnmax_sequence_leng cpu us acceler us total us seqseq_libpybidirectional_rnninitial_state_bw cpu ms acceler ms total ms core_rnnpystatic_rnnstate_sizecel cpu ms acceler ms total ms rnnpy_rnn_step_maybe_copy_some_ cpu ms acceler ms total ms rnnpy_rnn_steptim max_sequ cpu ms acceler us total ms core_rnnpystatic_rnnmin_sequence_leng cpu us acceler us total us core_rnnpystatic_rnnmax_sequence_leng cpu us acceler us total us seqseq_libpybidirectional_rnnoutput tfcon cpu ms acceler ms total ms omit top graph node seqseqlosssampled_sequence_losssequence_loss_by_examplesoftmaxcrossentropywithlogits_ cpu ms acceler us total ms top graph node train_stepupdate_seqseqoutput_projectionwapplyadam cpu ms acceler us total ms top graph node seqseqlosssampled_sequence_losssequence_loss_by_examplesoftmaxcrossentropywithlogits_ cpu ms acceler us total ms checker magic behind advis mode tfprof build profil first run list checker one respons check one area profil report issu checker like plugin exampl jobcheck avail oss check recvtensor rpc latenc bandwidth check cpumemori util job acceleratorutil checker check percentag time acceler spend comput operationcheck check whether oper run optim option check better implement replac current oper expensiveoperationcheck check expens oper type check expens graph node check expens graphbuild python code contribut checker follow exampl accelerator_utilization_checkerh profil memori gener good idea visual memori usag timelin allow see memori consumpt gpu time python get memori inform need graph_path run_meta_path tfprof graph max_depth step account_type_regex output timelineoutfilefilenam gener trace file timelin file written filenam open chrome browser enter url chrometrac load timelin file timelinegraph_timelinepng python also visual memori inform method op view show aggreg output tensor byte oper type tfprof op select byte order_bi byte node name request byte ident mb fusedbatchnormgrad mb fusedbatchnorm mb convd mb convdbackpropinput mb relugrad mb relu mb depthwiseconvdnativebackpropinput mb depthwiseconvdn mb maxpoolgrad mb addn mb scope view see oper output largest tensor tfprof scope order_bi byte select byte min_byt node name request byte _tfprofroot mb tower_sepconvd_b_xseparable_convd mbmb tower_sepconvd_b_xseparable_convddepthwis mbmb tower_sepconvd_b_xseparable_convd mbmb tower_sepconvd_b_xseparable_convddepthwis mbmb tower_sepconvd_b_xseparable_convd mbmb tower_sepconvd_b_xseparable_convddepthwis mbmb tower_sepconvd_b_xseparable_convd mbmb tower_sepconvd_b_xseparable_convddepthwis mbmb tower_sepconvd_a_xseparable_convd mbmb tower_sepconvd_a_xseparable_convddepthwis mbmb tower_sepconvd_a_xseparable_convd mbmb tower_sepconvd_a_xseparable_convddepthwis mbmb tower_sepconvd_a_xseparable_convd mbmb tower_sepconvd_a_xseparable_convddepthwis mbmb code view tfprof code max_depth select byte order_bi byte start_name_regex seqseq min_byt node name request byte _tfprofroot mb seqseq_attentionpyrun_filename_fromnon bmb seqseq_attentionpy_run_code_in_mainnon bmb seqseq_attentionpymoduleapprun bmb apppyrun_run_mainmain bmb apppy_run_mainsysexitmainarg bmb seqseq_attentionpymain_trainmodel bat bmb seqseq_attentionpy_trainmodelbuild_graph bmb seqseq_attention_modelpybuild_graphself_add_train_o bmb seqseq_attention_modelpy_add_train_optfgradientsself bmb seqseq_attention_modelpy_add_train_opzipgrad tvar bmb seqseq_attention_modelpy_add_train_optftrainexpon bkb seqseq_attention_modelpy_add_train_optfsummaryscalar bb seqseq_attention_modelpy_add_train_optfsummaryscalar bb seqseq_attention_modelpybuild_graphself_add_seqseq bmb seqseq_attention_modelpy_add_seqseqsequence_lengtha bmb python api tutori paramet shapesparametersandshap float operationsfloatoper time memorytimeandmemori visualizevisu multistep profilingmultistepprofil import tensorflow tf paramet shape python print trainabl variabl paramet statist stdout profileoptionbuild tfprofilerprofileoptionbuild param_stat tfprofilerprofil tfget_default_graph optionsprofileoptionbuildertrainable_variables_paramet use code view associ statist python code opt profileoptionbuild profileoptionbuildertrainable_variables_paramet with_node_namesshow_name_regexesmy_codepi my_codepi build param_stat tfprofilerprofil tfget_default_graph cmdcode optionsopt param_stat tensorflowtfprofgraphnodeproto tensorflowtfprofmultigraphnodeproto depend view let print root sysstdoutwritetotal_param dn param_statstotal_paramet float oper note see caveatsprofile_model_architecturemdcaveat profil model architectur tutori python print stdout analysi number float point oper model broken individu oper tfprofilerprofil tfget_default_graph optionstfprofilerprofileoptionbuilderfloat_oper time memori first need run follow set model order comput memori time statist python gener runmetadata contain memori time inform note run acceler eg gpu oper might perform cpu comput enqueu acceler comput acceler comput run asynchron profil consid time acceler comput cpu comput might wait acceler sum run_metadata tfrunmetadata tfsession sess _ sessruntrain_op optionstfrunoptionstrace_leveltfrunoptionsfull_trac run_metadatarun_metadata final may run tfprofilerprofil explor time memori inform model python print stdout analysi memori usag time inform broken python code profileoptionbuild tfprofilerprofileoptionbuild opt profileoptionbuilderprofileoptionbuildertime_and_memori with_node_namesshow_name_regexesmy_codepybuild tfprofilerprofil tfget_default_graph run_metarun_metadata cmdcode optionsopt print stdout analysi memori usag time inform broken oper type tfprofilerprofil tfget_default_graph run_metarun_metadata cmdop optionstfprofilerprofileoptionbuildertime_and_memori visual visual result python api result call with_stepwith_timeline_outputfilenam gener timelin json file open chrome browser type url chrometrac load json file exampl graph view scope view left codetimelinegraph_timelinepng codetimelinescope_timelinepng left multistep profil tfprof allow profil statist across multipl step python opt model_analyzerprint_all_timing_memorycopi optsaccount_type_regex sessionsess sess r r r libbuildsplittablemodel sessrunvariablesglobal_variables_initi creat profil profil model_analyzerprofilersessgraph profil without runmetadata step pb profilerprofile_name_scopeopt run_meta config_pbrunmetadata _ sessrunr optionsconfig_pbrunopt trace_levelconfig_pbrunoptionsfull_trac run_metadatarun_meta add run_meta step profileradd_step run_meta pb profilerprofile_name_scopeopt run_meta config_pbrunmetadata _ sessrunr optionsconfig_pbrunopt trace_levelconfig_pbrunoptionsfull_trac run_metadatarun_meta add run_meta step profileradd_step run_meta pb profilerprofile_name_scopeopt run_meta config_pbrunmetadata _ sessrunr optionsconfig_pbrunopt trace_levelconfig_pbrunoptionsfull_trac run_metadatarun_meta add run_meta step profileradd_step run_meta pb profilerprofile_name_scopeopt tensorflow c exampl directori contain exampl tensorflow c api redirect that your look link tensorflow python exampl see tutori tensorfloworghttpstensorfloworgtutori commun maintain kera exampl goto kerasioexampleshttpskerasioexampl tensorflow lite exampl see tensorflowexampl repositoryhttpsgithubcomtensorflowexamplestreemasterlit udac cours notebook refer directoryhttpsgithubcomtensorflowexamplestreemastercours exampl c api easili buildabl within tensorflow bazel build need stand alon build see c apihttpswwwtensorfloworginstalllang_c directori activ maintain note code move httpsgithubcomtensorflowhubtreemasterexamplesimage_retrain retrainpi exampl script show one adapt pretrain network classif problem includ use tflite quantiz tensorflow recommend use pretrain network tensorflow hub use new version exampl found locat explain tensorflow revis imag retrain tutorialhttpswwwtensorfloworgtutorialsimage_retrain older version exampl use frozen graphdef instead tensorflow hub modul avail releas branch tensorflow version includ code describ httpstensorfloworgguidecreate_op see custom_ops_doc exampl tensorflow c python imag recognit demo exampl show load pretrain tensorflow network use recogn object imag c java see java readmehttpsgithubcomtensorflowtensorflowtreemastertensorflowjava go see godoc examplehttpsgodocorggithubcomtensorflowtensorflowtensorflowgoexpackag descript demo use googl incept model classifi imag file pass command line buildinstallrun tensorflow graphdef contain model definit weight packag repo size instead must first download file data directori sourc tree bash curl l httpsstoragegoogleapiscomdownloadtensorfloworgmodelsinception_v____frozenpbtargz tar c tensorflowexampleslabel_imagedata xz long youv manag build main tensorflow framework everyth need run exampl instal alreadi extract see label file data directori possibl classif categori use imagenet competit build run command bash bazel build tensorflowexampleslabel_imag build binari execut run like bash bazelbintensorflowexampleslabel_imagelabel_imag use default exampl imag ship framework output someth similar tensorflowexampleslabel_imagemaincc militari uniform tensorflowexampleslabel_imagemaincc mortarboard tensorflowexampleslabel_imagemaincc academ gown tensorflowexampleslabel_imagemaincc pickelhaub tensorflowexampleslabel_imagemaincc bulletproof vest case use default imag admir grace hopper see network correctli spot she wear militari uniform high score next tri imag suppli imag argument eg bash bazelbintensorflowexampleslabel_imagelabel_imag imagemy_imagepng detail look code check c section incept tutorialhttpswwwtensorfloworgtutorialsimage_recognit python implement label_imagepi python implement provid code correspond c code give intuit map c python python code mention incept tutorialhttpswwwtensorfloworgtutorialsimage_recognit could easier add visual debug code bazelbintensorflowexampleslabel_imagelabel_image_pi bash bazel build tensorflowexampleslabel_imag run bash bazelbintensorflowexampleslabel_imagelabel_image_pi tensorflow python packag instal run like bash python tensorflowexampleslabel_imagelabel_imagepi get result similar militari uniform mortarboard academ gown pickelhaub bulletproof vest speech command exampl basic speech recognit exampl inform see tutori httpswwwtensorfloworgtutorialsaudiosimple_audio custom op exampl follow subdirectori exampl custom op multiplex_ start exampl similar npwhere multiplex_ gpu cpu exampl similar npwhere multiplex_ dispatch special case kernel spars tensor multiplex_ c backward compat exampl list tensor simple_hash_t intern state use resourc use refcount sleep asynchron nonblock sleep op use asyncopkernel tensorflow c multibox object detect demo exampl show load pretrain tensorflow network use detect object imag c altern implement see android tensorflow demohttpsgithubcomtensorflowtensorflowtreemastertensorflowexamplesandroid descript demo use model base scalabl object detect use deep neuralnetworkshttpsarxivorgab detect peopl imag pass command line model also use android tensorflow demo realtim person detect track camera preview buildinstallrun tensorflow graphdef contain model definit weight packag repo size instead must first download file data directori sourc tree bash wget httpsstoragegoogleapiscomdownloadtensorfloworgmodelsmobile_multibox_vazip tensorflowexamplesmultibox_detectordatamobile_multibox_vazip unzip tensorflowexamplesmultibox_detectordatamobile_multibox_vazip tensorflowexamplesmultibox_detectordata long youv manag build main tensorflow framework everyth need run exampl instal alreadi extract see box prior file data directori file contain mean standard deviat possibl detect normal left top right bottom order build run command bash bazel build config opt tensorflowexamplesmultibox_detector build binari execut run like bash bazelbintensorflowexamplesmultibox_detectordetect_object image_outhomexsurfers_labeledpng use default exampl imag ship framework output someth similar maincc top detect maincc detect l r b score maincc detect l r b score maincc detect l r b score maincc detect l r b score maincc detect l r b score case use public domain stock imag surfer walk beach top two detect two right ad detect num_detectionsn also includ surfer left eventu nonperson box certain threshold visual inspect detect view result png file surfers_labeledpng next tri imag suppli imag argument eg bash bazelbintensorflowexamplesmultibox_detectordetect_object imagemy_imagepng anoth implement work check android tensorflow demohttpsgithubcomtensorflowtensorflowtreemastertensorflowexamplesandroid content folder move httpsgithubcomtensorflowexamplestreemastercoursesudacity_deep_learninghttpsgithubcomtensorflowexamplestreemastercoursesudacity_deep_learn tensorflow spectrogram exampl exampl show load audio wav file convert spectrogram save png imag spectrogram visual frequenc sound time use featur neural network recognit nois speech build build run command bash bazel build tensorflowexampleswav_to_spectrogram build binari execut run like bash bazelbintensorflowexampleswav_to_spectrogramwav_to_spectrogram use default test audio file that part tensorflow sourc code write imag current directori spectrogrampng option load audio need suppli wav file lin format use input_audio flag pass path control spectrogram creat specifi window_s stride argument control wide window use estim frequenc wide adjac window space output_imag flag set path save imag file alway written png format even specifi differ file extens result seem dark tri use bright flag make output imag easier see here exampl use togeth bash bazelbintensorflowexampleswav_to_spectrogramwav_to_spectrogram input_wavtmpmy_audiowav window stride output_imagetmpmy_spectrogrampng graph transform tool tabl content introductionintroduct use graph transform toolusingthegraphtransformtool inspect graphsinspectinggraph common use casescommonusecas optim deploymentoptimizingfordeploy fix miss kernel error mobilefixingmissingkernelerrorsonmobil shrink file sizeshrinkingfiles eightbit calculationseightbitcalcul transform referencetransformrefer add_default_attributesadd_default_attribut backport_concatvbackport_concatv flatten_atrous_convflatten_atrous_conv fold_batch_normsfold_batch_norm fold_constantsfold_const fold_old_batch_normsfold_old_batch_norm freeze_requantization_rangesfreeze_requantization_rang fuse_convolutionsfuse_convolut insert_logginginsert_log merge_duplicate_nodesmerge_duplicate_nod obfuscate_namesobfuscate_nam quantize_nodesquantize_nod quantize_weightsquantize_weight remove_attributeremove_attribut remove_deviceremove_devic remove_nodesremove_nod rename_attributerename_attribut rename_oprename_op round_weightsround_weight sparsify_gathersparsify_gath set_deviceset_devic sort_by_execution_ordersort_by_execution_ord strip_unused_nodesstrip_unused_nod write transformswritingyourowntransform transform functionstransformfunct pattern syntaxpatternsyntax replacematchingoptypesreplacematchingoptyp parametersparamet function librariesfunctionlibrari registeringregist introduct finish train model want deploy product youll often want modifi better run final environ exampl your target phone might want shrink file size quantiz weight optim away batch normal trainingonli featur graph transform framework offer suit tool modifi comput graph framework make easi write modif guid structur three main part first give tutori perform common task second refer cover differ transform includ togeth option appli third guid creat transform use graph transform tool graph transform tool design work model save graphdef file usual binari protobuf format lowlevel definit tensorflow comput graph includ list node input output connect your use python api train model usual save directori checkpoint usual pb suffix want work valu train paramet exampl quantiz weight youll need run tensorflowpythontoolsfreeze_graphpyhttpsgithubcomtensorflowtensorflowblobmastertensorflowpythontoolsfreeze_graphpi convert checkpoint valu embed constant within graph file call graph transform tool like bash bazel build tensorflowtoolsgraph_transformstransform_graph bazelbintensorflowtoolsgraph_transformstransform_graph in_graphtensorflow_inception_graphpb out_graphoptimized_inception_graphpb inputsmul outputssoftmax transform strip_unused_nodestypefloat shape remove_nodesopident opchecknumer fold_old_batch_norm argument specifi read graph write transform version input output layer transform modifi graph transform given list name argument transform defin pipelin modif appli order produc output sometim need transform happen other order within list let specifi happen first note optim remove_nodesopident opchecknumer break model control flow oper tfcond tfmap_fn tfwhile inspect graph mani transform tool support need know input output layer model best sourc model train process classifi input node receiv data train set output predict your unsur summarize_graphhttpsgithubcomtensorflowtensorflowblobmastertensorflowtoolsgraph_transformssummarize_graph_maincc tool inspect model provid guess like input output node well inform that use debug here exampl use incept v graphhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsimageimagenetinceptiontgz bash bazel build tensorflowtoolsgraph_transformssummarize_graph bazelbintensorflowtoolsgraph_transformssummarize_graph in_graphtensorflow_inception_graphpb common use case section small guid frequentlyus transform pipelin aim user want quickli accomplish one task lot use incept v model exampl download httpsstoragegoogleapiscomdownloadtensorfloworgmodelsimageimagenetinceptiontgzhttpsstoragegoogleapiscomdownloadtensorfloworgmodelsimageimagenetinceptiontgz optim deploy youv finish train model want deploy server mobil devic youll want run fast possibl nonessenti depend recip remov node arent call infer shrink express alway constant singl node optim away multipli oper use batch normal premultipli weight convolut bash bazel build tensorflowtoolsgraph_transformstransform_graph bazelbintensorflowtoolsgraph_transformstransform_graph in_graphtensorflow_inception_graphpb out_graphoptimized_inception_graphpb inputsmul outputssoftmax transform strip_unused_nodestypefloat shape remove_nodesopident opchecknumer fold_constantsignore_errorstru fold_batch_norm fold_old_batch_norm batch norm fold includ twice two differ flavor batch normal use tensorflow older version implement singl op like batchnormwithglobalnorm fusedbatchnorm batchnormwithglobalnorm deprec favor recent approach use individu op implement comput two transform style recogn optim fix miss kernel error mobil mobil version tensorflow focus infer default list support op defin tensorflowcorekernelsbuildandroid_extended_opshttpsgithubcomtensorflowtensorflowblobmastertensorflowcorekernelsbuild bazel doesnt includ lot train relat caus opkernel regist support op error graphdef load even op isnt go execut see error op actual want run mobil youll need make local modif build file includ right cc file defin lot case op vestigi remnant train process though that true run strip_unused_nodesstrip_unused_nod specifi input output infer usag remov unnecessari node bash bazel build tensorflowtoolsgraph_transformstransform_graph bazelbintensorflowtoolsgraph_transformstransform_graph in_graphtensorflow_inception_graphpb out_graphoptimized_inception_graphpb inputsmul outputssoftmax transform strip_unused_nodestypefloat shape fold_constantsignore_errorstru fold_batch_norm fold_old_batch_norm shrink file size your look deploy model part mobil app keep download size small possibl import tensorflow model largest contributor file size weight pass convolut fullyconnect layer anyth reduc storag size use luckili neural network resist nois possibl chang represent weight lossi way without lose much accuraci overal io android app packag compress download simplest way reduc bandwidth user need receiv app provid raw data compress easili default weight store floatingpoint valu even tini differ number result differ bit pattern dont compress well round weight nearbi number store exactli valu result bit stream lot repetit compress lot effect tri techniqu model run round_weightsround_weight transform bash bazel build tensorflowtoolsgraph_transformstransform_graph bazelbintensorflowtoolsgraph_transformstransform_graph in_graphtensorflow_inception_graphpb out_graphoptimized_inception_graphpb inputsmul outputssoftmax transform strip_unused_nodestypefloat shape fold_constantsignore_errorstru fold_batch_norm fold_old_batch_norm round_weightsnum_step see optimized_inception_graphpb output file size input run zip compress almost smaller zip origin nice thing transform doesnt chang structur graph run exactli oper latenc memori usag adjust num_step paramet control mani valu weight buffer round lower number increas compress cost accuraci step store weight eightbit valu directli here recip bash bazel build tensorflowtoolsgraph_transformstransform_graph bazelbintensorflowtoolsgraph_transformstransform_graph in_graphtensorflow_inception_graphpb out_graphoptimized_inception_graphpb inputsmul outputssoftmax transform strip_unused_nodestypefloat shape fold_constantsignore_errorstru fold_batch_norm fold_old_batch_norm quantize_weight see size output graph quarter origin downsid approach compar round_weight extra decompress op insert convert eightbit valu back float point optim tensorflow runtim ensur result cach shouldnt see graph run slowli far weve concentr weight gener take space graph lot small node name node start take notic amount space shrink run obfuscate_namesobfuscate_nam transform replac name except input output short cryptic uniqu id bash bazel build tensorflowtoolsgraph_transformstransform_graph bazelbintensorflowtoolsgraph_transformstransform_graph in_graphtensorflow_inception_graphpb out_graphoptimized_inception_graphpb inputsmul outputssoftmax transform obfuscate_nam eightbit calcul platform help abl mani calcul possibl eightbit rather floatingpoint support tensorflow still experiment evolv convert model quantiz form use graph transform tool bash bazel build tensorflowtoolsgraph_transformstransform_graph bazelbintensorflowtoolsgraph_transformstransform_graph in_graphtensorflow_inception_graphpb out_graphoptimized_inception_graphpb inputsmul outputssoftmax transform add_default_attribut strip_unused_nodestypefloat shape remove_nodesopident opchecknumer fold_constantsignore_errorstru fold_batch_norm fold_old_batch_norm quantize_weight quantize_nod strip_unused_nod sort_by_execution_ord process convert oper graph eightbit quantiz equival leav rest float point subset op support mani platform quantiz code may actual slower float equival way increas perform substanti circumst right full guid optim quantiz beyond scope guid one thing help use fakequantwithminmaxvar op convd similar oper train train minmax variabl control rang use quantiz rang doesnt calcul dynam requantizationrang infer transform refer transform string pars seri transform name multipl name argument insid parenthes argument separ comma doublequot use hold argument valu contain comma exampl shape definit input output share across transform sinc common need know ingo outgo node graph make sure set correctli call graph transform tool your doubt check model author use summarize_graphhttpsgithubcomtensorflowtensorflowtreemastertensorflowtoolsgraph_transformsinspectinggraph tool examin like input output transform pass ignore_error flag valu set either true fals default error happen within transform abort whole process enabl error log transform skip especi use option transform version error unimport problem may trigger error add_default_attribut arg none attribut ad op new version tensorflow often default ensur backward compat behavior origin version default usual get ad graph load runtim model go process outsid main tensorflow framework use run updat process transform process find op attribut defin current tensorflow list op within save model set defin default attribut backport_concatv arg none graphdef file produc newer version tensorflow framework includ concatv want run older version support concat transform take care convert newer op equival older form flatten_atrous_conv arg none prerequisit fold_constantsfold_const transform flatten atrou convolut correspond sequenc spacetobatchndconvdbatchtospacend oper convert regular convd op upsampl filter transform use order run graph atrou convolut platform yet nativ support spacetobatchnd batchtospacend oper need make sure run fold_constantsfold_const transform applic run transform fold_batch_normsfold_batch_norm fold_batch_norm arg none prerequisit fold_constantsfold_const transform tri optim away mul that introduc convd matmul batch normal use train scan graph channelwis multipli immedi convolut multipli convolut matrix multipl weight mul instead omit infer time youll need make sure run fold_constantsfold_const first sinc pattern spot normal complex express that produc train mul input collaps simpl constant fold_const arg clear_output_shap clear tensor shape inform save attribut older graph contain outofd inform may caus import error default true prerequisit none look subgraph within model alway evalu constant express replac constant optim alway execut runtim graph load run offlin first wont help latenc simplifi graph make process easier often use call fold_constantsignore_errorstru continu past transient error sinc optim phase fold_old_batch_norm arg none prerequisit none earli day tensorflow batch normal implement use singl monolith op like batchnormwithglobalnorm fusedbatchnorm modern version ad batch normal python give seri smaller math op instead achiev effect without specialpurpos code graph use olderstyl transform recogn optim op infer way fold_batch_normsfold_batch_norm transform new approach freeze_requantization_rang arg min_max_log_fil path log file contain rang op min_percentil percentag cutoff use calcul overal min default max_percentil percentag cutoff use calcul overal max default quantiz oper like convolut matrix multipli take input bit produc bit result oper need convert back lower depth make eight bit need scale thirtytwo bit origin data use scale match rang that actual use rang inform isnt store origin graph quantiz processeightbitcalcul insert requantizationrang op convers bit op look bit output calcul current min max everi time run isnt incred timeconsum extra work that nice avoid possibl one way optim away replac requantizationrang op pair const node hold known minmax valu scale done without inspect output everi time that transform usual use conjunct copi graph that insert_logginginsert_log run instrument record minmax valu stderr log use rather write normal file youll see later get best result want collect data lot run real data mobil app especi lot easier copi log file exampl here youd add log oper quantiz version incept v graph bash bazel build tensorflowtoolsgraph_transformstransform_graph bazelbintensorflowtoolsgraph_transformstransform_graph in_graphtmpquantized_inceptionpb out_graphtmplogged_quantized_inceptionpb inputsmul outputssoftmax transform insert_loggingoprequantizationrang show_nametru message__requant_min_max run tmplogged_quantized_inceptionpb graph write log statement show valu min max calcul requantizationrang op here exampl run label_imag save log bash bazel build tensorflowexampleslabel_imagelabel_imag bazelbintensorflowexampleslabel_imagelabel_imag imagehomedownloadsgrace_hopperjpg input_layermul output_layersoftmax graphtmplogged_quantized_inceptionpb labelshomedownloadsimagenet_comp_graph_label_stringstxt tmpmin_max_log_smalltxt look tmpmin_max_log_smalltxt youll see lot line like logging_opscc convconvdeightbitrequant_range__print____requant_min_max simpl way serial name requantizationrang op minmax valu everi time run file like pass transform min_max_log_fil argument transform attempt extract minmax valu associ op ignor irrelev line log replac requantizationrang op two const node contain found valu isnt whole stori though minmax valu vari lot depend particular input graph given run mean pick rang base one run lead clip valu loss accuraci get better result need run network rang differ input incept case often use thousand differ imag train set pass whole concaten log run transform pick rang base aggreg valu found requantizationrang op ensur outlier dont increas rang much decreas accuraci put mani bit rare extrem valu min_percentil max_percentil argument control overal min max chosen default valu mean lowest minimum valu discard take minimum remaind equival maximum fuse_convolut arg none prerequisit none graph use resizebilinear mirrorpad op convolut eg scale later stage imag style transfer model improv memori usag latenc combin spatial transform convolut imcol patch gener transform look particular pattern op replac fuse version combin resiz pad convolut insert_log arg op insert print everi occurr op type repeat cover multipl type present op type instrument prefix insert print everi node whose name start valu repeat cover multipl node present node name match show_op true op type prepend log messag show_nam true node name prepend log messag messag arbitrari text log valu first_n mani time print suppress default mean never stop summar long numer result theyr truncat default print oper write string stderr run insid graph print numer result node read use your debug want follow particular intern valu graph run transform allow insert op particular point graph custom messag that display also use conjunct freeze_requantization_rangesfreeze_requantization_rang transform output inform need merge_duplicate_nod arg none prerequisit none const node type content node input attribut transform merg togeth use want cut number node graph lot redund eg transform alway run part quantize_nodesquantize_nod sinc process introduc duplic constant use quantizedequant process obfuscate_nam arg none prerequisit none replac node name short gener id input output also updat refer within graph structur preserv use want shrink file size want make harder understand architectur model releas quantize_nod arg input_min lowest float valu quantiz placehold input input_max highest float valu quantiz placehold input input_min input_max set float placehold graph replac quantiz version const creat pass rang subsequ oper fallback_min lowest float valu use requant activ layer fallback_max highest float valu use requant activ layer fallback_min fallback_max set instead use requantizationrang op figur use rang dynam convert bit output op like quantizedconvd quantizedbiasadd hardwir const valu use instead help perform know rang activ layer ahead time prerequisit quantize_weightsquantize_weight replac calcul node eightbit equival avail add convers layer allow remain float oper interoper one complex transform involv multipl pass lot rewrit also still activ area research result may vari depend platform oper your use model run quantize_weight first ensur const op eightbit form quantize_weight arg minimum_s tensor fewer element wont quantiz default prerequisit none convert larg minimum_s float const op eightbit equival follow float convers op result usabl subsequ node mostli use shrink file sizesshrinkingfiles also help advanc quantize_nodesquantize_nod transform even though prerequisit advis run fold_batch_normsfold_batch_norm fold_old_batch_normsfold_old_batch_norm round varianc zero may caus signific loss precis remove_attribut arg attribute_nam name attribut want remov op_nam option name singl op restrict remov prerequisit none delet given attribut either node one specifi op_nam danger transform sinc easi leav graph invalid state remov requir attribut use special circumst though remove_devic arg none prerequisit none op hardwar devic specifi problem your load graph differ system model train sinc specifi devic may avail order work graph like run transform wipe slate clean delet devic specifi op remove_control_depend arg none prerequisit none remov control depend graph remove_nod arg op name op want remov repeat remov multipl op prerequisit none potenti danger transform look singleinput singleoutput op given name remov graph rewir input use pull pull preced node instead use get rid op like checknumer use train complic graph increas latenc infer danger possibl remov op may chang output graph make sure check overal accuraci use rename_attribut arg old_attribute_nam current name attribut want renam new_attribute_nam name want attribut op_nam set chang attribut given op type otherwis appli node attribut name match prerequisit none chang name given attribut often use upgrad graph file op definit chang version sinc renam often enough deal minor chang rename_op arg old_op_nam current name oper new_op_nam name chang prerequisit none find op given name chang new one use version upgrad chang op minor apart name round_weight arg num_step mani uniqu valu use buffer prerequisit none round float valu larg const op element given number step uniqu valu chosen per buffer linearli alloc largest smallest valu present use youll deploy mobil want model compress effect see shrink file sizeshrinkingfiles detail even though prerequisit advis run fold_batch_normsfold_batch_norm fold_old_batch_normsfold_old_batch_norm round varianc zero may caus signific loss precis sparsify_gath arg none prerequisit none transform gather op sparsifi version param input gather replac dens const hashtabl gather op replac hashtabl lookup mostli use reduc spars tflearn linear model memori footprint set_devic arg devic devic assign op if_default true assign op empti exist devic updat node use specifi devic devic way tell code execut graph piec hardwar run particular node right assign use may chang train deploy transform remove_deviceremove_devic provid way updat placement is_default paramet set op dont devic assign alreadi updat mostli use preprocess graph stage expect op explicit devic assign sort_by_execution_ord arg none prerequisit none arrang node graphdef topolog order input given node alway earlier node especi use your target minim infer engin sinc execut node given order know input comput theyr need strip_unused_nod arg type default type new placehold node gener exampl int float quint shape default shape new placehold node gener commasepar dimens exampl shape doubl quot import sinc otherwis comma taken argument separ name identifi placehold argument type_for_nam type use previouslygiven name shape_for_nam shape use previouslygiven name prerequisit none remov node use calcul layer given output fed input often use remov trainingonli node like saveandrestor summari op also handi solv miss kernel error problemfixingmissingkernelerrorsonmobil decod op dont need infer path biggest complic sometim creat new placehold op option control characterist happen bypass decodejpeg op specifi input layer deeper network exampl pass raw imag array instead encod string input decod op remov togeth placehold fed new placehold need input layer specifi type shape argument let control attribut new placehold creat plain type shape set global default differ input vari characterist youll need pass list argument preced name specifi layer appli exampl two input could call strip_unused_nodesnamein type_for_nameint shape_for_nam namein type_for_namefloat shape_for_nam write transform graph transform tool design make easi possibl creat optim modif preprocess transform heart transform take valid graphdef make chang output new graphdef graphdef list nodedef defin one node graph connect find inform format guid tensorflow model fileshttpswwwtensorfloworgversionsmasterextendtool_developersindexhtml simpl exampl take look tensorflowtoolsgraph_transformsrename_opcchttpsgithubcomtensorflowtensorflowtreemastertensorflowtoolsgraph_transformsrename_opcc implement rename_oprename_op transform c statu renameopconst graphdef input_graph_def const transformfunccontext context graphdef output_graph_def contextparamscountold_op_nam contextparamsatold_op_names contextparamscountnew_op_nam contextparamsatnew_op_names return errorsinvalidargu rename_op expect exactli one old_op_nam new_op_nam argument eg rename_opold_op_namemul new_op_namemultipli const string old_op_nam contextparamsatold_op_nam const string new_op_nam contextparamsatnew_op_nam output_graph_defclear const nodedef node input_graph_defnod nodedef new_nod output_graph_defmutable_nodeadd new_nodecopyfromnod nodeop old_op_nam new_nodeset_opnew_op_nam return statusok register_graph_transformrename_op renameop heart transform loop input_graph_def node go op add new one output copi origin content chang op match paramet there standard set paramet everi transform take graphdef context write new graphdef registr macro bottom let tool know function call find rename_op string transform list transform function standard signatur transform function defin transformfunc take input graphdef transformfunccontext contain environ inform write output graphdef return statu indic whether transform succeed transformfunccontext list input output graph paramet argumentsparamet pass transform user write function match signatur regist itregistr graph transform tool take care call pattern syntax rename_op exampl need look singl node time one common need modifi small subgraph within model make easi graph transform tool provid optypepattern syntax simpl compact way specifi pattern node want look format op_type_pattern op input input op_type_pattern op field either contain singl mean match op type one op type exampl const set op type separ symbol exampl convdmatmulbiasadd gener regex pattern support special case think pattern limit regular express design pick subtre graph deliber constrain kind thing commonli find need make creat debug straightforward possibl exampl want convd node constant second input would set pattern like use c initi list popul structur c optypepattern conv_patternconvd const easier visual initi use indent show tree structur clearli c optypepattern conv_pattern convd const plain english say convd op two input first op type second const op here much complex exampl quantize_nodesquantize_nod transform c quantizev dequant min reshap dequant const const max reshap dequant const const look quantizev node three input first dequant second min ultim pull dequant third max assum know dequant op pull eightbit buffer end result subgraph noop sinc turn eightbit buffer float immedi convert back eightbit look pattern remov optim graph without chang result replacematchingoptyp common want find occurr particular subgraph model replac differ subgraph keep local input output connect exampl fuse_convolutionsfuse_convolut need find convd op read input bilinearres replac combin singl fusedresizeandpadconvd op without affect op make sort transform easi creat replacematchingoptyp helper take graph optypepattern defin subgraph look callback function run everi occurr find job callback function look nodematch contain inform current subgraph return new subgraph new_nod list use replac old subgraph see use practic fuse_convolutionsfuse_convolut code c tf_return_if_errorreplacematchingoptyp input_graph_def clangformat convd resizebilinear clangformat const nodematch match const stdsetstr input_nod const stdsetstr output_nod stdvectornodedef new_nod find node expect subgraph const nodedef conv_nod matchnod const nodedef resize_nod matchinputsnod const nodedef weights_nod matchinputsnod well reus old weight new_nodespush_backweights_nod creat noop mirror pad node effect nodedef pad_dims_nod pad_dims_nodeset_opconst pad_dims_nodeset_nameconv_nodenam _dummy_pad setnodeattrdtyp dt_int pad_dims_nod setnodetensorattrintvalu pad_dims_nod new_nodespush_backpad_dims_nod set new fuse version convolut op nodedef fused_conv fused_convset_opfusedresizeandpadconvd fused_convset_namematchnodenam addnodeinputresize_nodeinput fused_conv addnodeinputresize_nodeinput fused_conv addnodeinputpad_dims_nodenam fused_conv addnodeinputconv_nodeinput fused_conv copynodeattrresize_nod align_corn resize_align_corn fused_conv setnodeattrmod reflect fused_conv copynodeattrconv_nod fused_conv copynodeattrconv_nod pad pad fused_conv copynodeattrconv_nod stride stride fused_conv new_nodespush_backfused_conv return statusok replaced_graph_def see defin pattern look callback function use inform node old subgraph creat new fuse node also copi old weight input node isnt lost thing know replacematchingoptyp function node match subgraph remov new graph creat function need callback function respons add back there copyoriginalmatch conveni call copi origin node decid dont actual want modifi particular subgraph assum node never appear one match subgraph ensur subtre replac may mean subgraph arent spot overlap earlier match call framework tri ensur graph remain sane look new_nod return make sure node need input node outsid subgraph remov import node list output_nod argument that pass replac function call disabl check set allow_inconsist true option otherwis replac break graph constraint cancel allow inconsist transform respons fix return final result function like renamenodeinput use wholesal node renam exampl paramet argument parenthes transform name tool call pars place param member transformfunccontext that given transform everi name argument there vector string contain valu given order given treat bit like commandlin paramet transform respons pars data type need rais error return bad statu illform exampl here hypothet transform call some_transformfooa foob bar bob here stdmap string look like param member foo b bar bob doubl quot around commasepar argument bob import otherwis theyll treat separ argument pars fail here exampl round_weightsround_weight read num_step paramet c tf_return_if_errorcontextgetoneintparameternum_step num_step convers fail paramet occur helper function rais meaning error statu result transform paramet isnt specifi default use function librari newer featur tensorflow abil creat librari function part graph bit like templat defin macro oper term smaller compon instanti differ input output connect insid graph like regular op right graph transform tool copi librari input output graph like complex oper support futur regist graph transform tool associ name transform code implement use register_graph_transform macro take string function automat regist transform tool need watch thing though use global c object file hood linker sometim strip lose registr bazel need make sure your link new transform librari use alwayslink flag cc_binari call abl creat copi transform_graph tool link transform_graph_main_lib librari tensorflowtoolsgraph_transformsbuild contain main logic pars command line argument call transform deprec android infer interfac warn directori contain deprec tfmobil android infer interfac use anyth new use tflite android tensorflow support directori defin compon nativ librari java jar gear toward support tensorflow android includ tensorflow java apijavareadmemd tensorflowinferenceinterfac class provid smaller api surfac suitabl infer summar perform model execut exampl usag see tensorflowimageclassifierjavaexamplesandroidsrcorgtensorflowdemotensorflowimageclassifierjava tensorflow android demoexamplesandroid prebuilt librari see nightli android build artifactshttpscitensorfloworgviewnightlyjobnightlyandroid page recent build tensorflow infer interfac also avail jcenter packagehttpsbintraycomgoogletensorflowtensorflow see tensorflowandroid directori includ quit simpli android project coupl line project buildgradl file allproject repositori jcenter depend compil orgtensorflowtensorflowandroid tell gradl use latest versionhttpsbintraycomgoogletensorflowtensorflow_latestvers tensorflow aar releas jcenterhttpsjcenterbintraycomorgtensorflowtensorflowandroid may replac explicit version label wish use specif releas tensorflow app build librari exampl want support custom tensorflow oper pick prefer approach bazel first follow bazel setup instruct describ tensorflowexamplesandroidreadmemdexamplesandroidreadmemd build nativ tf librari bazel build c opt tensorflowtoolsandroidinference_interfacelibtensorflow_inferenceso crosstool_topexternalandroidcrosstool host_crosstool_topbazel_toolstoolscpptoolchain cxxoptstdc cpuarmeabiva replac armeabiva desir target architectur librari locat bazelbintensorflowtoolsandroidinference_interfacelibtensorflow_inferenceso build java counterpart bazel build tensorflowtoolsandroidinference_interfaceandroid_tensorflow_inference_java find jar file bazelbintensorflowtoolsandroidinference_interfacelibandroid_tensorflow_inference_javajar assetmanagerfilesystem directori also contain tensorflow filesystem support android asset manag may use write nativ c code tightli coupl tensorflow typic usag librari suffici tensorflow android camera demo deprec exampl deprec folder contain exampl applic util tensorflow android devic descript demo folder design give straightforward sampl use tensorflow mobil applic infer done use tensorflow android infer interfacetoolsandroidinference_interfac may built separ want standalon librari drop exist applic object track effici yuv rgb convers handl libtensorflow_demoso devic run android api higher requir run demo due use camera api although nativ librari run api devic current sampl tf classifyhttpsgithubcomtensorflowtensorflowblobmastertensorflowtoolsandroidtestsrcorgtensorflowdemoclassifieractivityjava use googl inceptionhttpsarxivorgab model classifi camera frame realtim display top result overlay camera imag tf detecthttpsgithubcomtensorflowtensorflowblobmastertensorflowtoolsandroidtestsrcorgtensorflowdemodetectoractivityjava demonstr ssdmobilenet model train use tensorflow object detect apihttpsgithubcomtensorflowmodelstreemasterresearchobject_detect introduc speedaccuraci tradeoff modern convolut object detectorshttpsarxivorgab local track object categori camera preview realtim tf stylizehttpsgithubcomtensorflowtensorflowblobmastertensorflowtoolsandroidtestsrcorgtensorflowdemostylizeactivityjava use model base learn represent artist stylehttpsarxivorgab restyl camera preview imag number differ artist tf speechhttpsgithubcomtensorflowtensorflowblobmastertensorflowtoolsandroidtestsrcorgtensorflowdemospeechactivityjava run simpl speech recognit model built audio train tutorialhttpswwwtensorfloworgversionsmastertutorialsaudio_recognit listen small set word highlight ui recogn img srcsample_imagesclassifyjpg widthimg srcsample_imagesstylizejpg widthimg srcsample_imagesdetectjpg width prebuilt compon fastest path tri demo download prebuilt demo apkhttpsstoragegoogleapiscomdownloadtensorfloworgdepstflitetflitecamerademoapk also avail precompil nativ librari jcenter packag may simpli drop applic see tensorflowtoolsandroidinference_interfacereadmemdtoolsandroidinference_interfacereadmemd detail run demo app instal start via tf classifi tf detect tf styliz tf speech icon orang tensorflow logo icon run activ press volum key devic toggl debug visual onoff render addit info screen may use develop purpos build android studio use tensorflow aar jcenter simplest way compil demo app tri chang project code use androidstudio simpli set android directori project root edit buildgradl file chang valu nativebuildsystem none project built simplest way possibl none def nativebuildsystem none project includ full build integr tensorflow set disabl use tensorflow infer interfac packag jcenter note current build mode yuv rgb done use less effici java implement object track avail tf detect activ project includ custom low level tensorflow code like suffici detail includ jcenter packag project see tensorflowtoolsandroidinference_interfacereadmemdtoolsandroidinference_interfacereadmemd build demo tensorflow sourc pick prefer approach moment full support bazel partial support gradl android studio first step build type clone tensorflow repo git clone recursesubmodul httpsgithubcomtensorflowtensorflowgit note recursesubmodul necessari prevent issu protobuf compil bazel note bazel current support build android window meantim suggest window user download prebuilt demo apkhttpsstoragegoogleapiscomdownloadtensorfloworgdepstflitetflitecamerademoapk instead instal bazel android prerequisit bazel primari build system tensorflow build bazel android ndk sdk must instal system instal latest version bazel per instruct bazel websitehttpsbazelbuildversionsmasterdocsinstallhtml android ndk requir build nativ cc tensorflow code current recommend version b may found herehttpsdeveloperandroidcomndkdownloadsolder_releaseshtmlndkbdownload android sdk build tool may obtain herehttpsdeveloperandroidcomtoolsrevisionsbuildtoolshtml altern part android studiohttpsdeveloperandroidcomstudioindexhtml build tool api requir build tf android demo though run api devic edit workspac note long sdk ndk instal configur script creat rule answer ye script ask automat configur workspac android entri workspace_rootworkspaceworkspacel must uncom path fill appropri depend instal ndk sdk otherwis error extern label externalandroidsdk bound anyth report also edit api level sdk workspac highest level instal sdk must complet independ api level demo defin androidmanifestxml ndk api level may remain instal model file option tensorflow graphdef contain model definit weight packag repo size download automat packag apk bazel via new_http_arch defin workspac build process gradl via downloadmodelsgradl option wish place model asset manual remov model_fil entri asset list tensorflow_demo found buildbuildl file download extract archiv asset directori sourc tree bash base_urlhttpsstoragegoogleapiscomdownloadtensorfloworgmodel model_zip inceptionhzip ssd_mobilenet_v_android_exportzip stylize_vzip curl l base_urlmodel_zip tmpmodel_zip unzip tmpmodel_zip tensorflowtoolsandroidtestasset done extract model associ metadata file local asset directori use gradl make sure remov downloadmodelsgradl refer buildgradl manual download model otherwis gradl might download model overwrit model build edit workspac file updat sdkndk configur may build apk run workspac root bash bazel build cxxoptstdc c opt tensorflowtoolsandroidtesttensorflow_demo instal make sure adb debug enabl android api later devic build use follow command workspac root instal apk bash adb instal r bazelbintensorflowtoolsandroidtesttensorflow_demoapk android studio bazel android studio may use build demo conjunct bazel first make sure build bazel follow direct look buildgradlebuildgradl make sure path bazel match system point add tensorflowtoolsandroidtest directori new android studio project click instal gradl extens request abl android studio build demo like applic call bazel build nativ code ndk bazel rule packag tensorflow api languag python archiv c librari tensorflow c apihttpswwwtensorfloworgcodetensorflowcc_apih typic requir tensorflow api languag gohttpswwwtensorfloworgcodetensorflowgo rusthttpsgithubcomtensorflowrust follow command sh bazel test config opt tensorflowtoolslib_packagelibtensorflow_test bazel build config opt tensorflowtoolslib_packagelibtensorflow test produc archiv bazelbintensorflowtoolslib_packagelibtensorflowtargz distribut instal use someth like sh tar c usrloc xzf libtensorflowtargz java librari tensorflow java apihttpswwwtensorfloworgcodetensorflowjavareadmemd consist nativ librari libtensorflow_jniso java archiv jar follow command sh bazel test config opt tensorflowtoolslib_packagelibtensorflow_test bazel build config opt tensorflowtoolslib_packagelibtensorflow_jnitargz tensorflowjavalibtensorflowjar tensorflowjavalibtensorflowsrcjar test produc follow nativ librari libtensorflow_jniso packag archiv bazelbintensorflowtoolslib_packagelibtensorflow_jnitargz java archiv bazelbintensorflowjavalibtensorflowjar java archiv java sourc bazelbintensorflowjavalibtensorflowsrcjar releas script build archiv tensorflow releas tensorflowtoolsci_buildlinuxhttpswwwtensorfloworgcodetensorflowtoolsci_buildlinux tensorflowtoolsci_buildosxhttpswwwtensorfloworgcodetensorflowtoolsci_buildosx tensorflow dockerfil directori hous tensorflow dockerfil infrastructur use creat deploy tensorflow docker hubhttpshubdockercomrtensorflowtensorflow edit dockerfil directori manual file within maintain assemblerpi build dockerfil file partial rule specyml see contribut sectioncontribut inform build dockerfil dockerfil directori must build context set directori readmemd copi helper file exampl bash docker build f dockerfilescpudockerfil tf dockerfil set avail buildarg document dockerfil run local built imag build imag tag tf exampl use docker run run imag note new docker user v u flag share directori permiss docker contain machin without v work wipe contain quit without u file creat contain wrong file permiss host machin check docker run documentationhttpsdocsdockercomenginereferencerun info bash volum mount v option highli recommend especi jupyt user permiss u requir use v cpubas imag docker run u id uid g v pwdmydevel tf gpubas imag docker version earlier set nvidiadock first docker run runtimenvidia u id uid g v pwdmydevel tf docker version includ nvidiacontainertoolkit docker run gpu u id uid g v pwdmydevel tf imag jupyt run port need volum notebook chang pwd full path directori notebook live outsid current directori docker run user id uid g p v pwdtfnotebook tf imag come tensorflow sourc code develop imag git includ git clone contribut make chang tensorflow dockerfil youll updat specyml partialdockerfil file partial directori run assemblerpi regener full dockerfil creat pull request use dockerfil directori build edit environ python depend youll need bash build toolshelp imag run assembl docker build tftool f toolsdockerfil set user set correct permiss gener file docker run user id uid g v pwdtf tftool bash next make handi alia depend your build docker imag need run root dockersock mount contain run docker command assembl dockerfil though youll want run user new file right permiss your build deploy docker imag run root dockersock alia asm_imagesdock run rm v pwdtf v varrundockersockvarrundockersock tftool python assemblerpi your rebuild ad dockerfil remov dockersock add u alia asm_dockerfilesdock run rm u id uid g v pwdtf tftool python assemblerpi check assembl flag asm_dockerfil help assembl dockerfil asm_dockerfil releas dockerfil construct_dockerfil build nightli imag local machin asm_imag releas nightli build_imag save list built imag file asm_imag releas nightli build_imag tfbuilttxt build version releas version except gpu tag asm_imag releas version arg _tag_prefix build_imag exclude_tags_match gpu test chang devel imag asm_imag releas nightli build_imag run_tests_pathrealpath test only_tags_matchingdevelgpupi want tutori like check tensorfloworgtutori tensorflow build directori contain file setup instruct run import build test run run two option run tensorflow test local machin first use docker run continu integr ci script tensorflow devel imag option instal tensorflow depend machin run script nativ system run tensorflow ci script use docker instal docker follow instruct docker websitehttpsdocsdockercomengineinstal start contain one devel imag httpshubdockercomrtensorflowtensorflowtag base choic imag pick one script httpsgithubcomtensorflowtensorflowtreemastertensorflowtoolsci_buildlinux run tensorflow repositori root run tensorflow ci script nativ machin follow instruct httpswwwtensorfloworginstallsourc stop get section configur instal need configur instal run ci script pick appropri os python version instal run script tensorflowtoolsci_buildo tensorflow continu integr verifi new chang dont break tensorflow run build test either jenkinshttpsjenkinsciorg ci system intern googl trigger build test updat master pull request contact one repositori maintain trigger build pull request view ci result pull request show chang pass fail check pull request click show check see list build test click detail see result jenkin intern ci system result jenkin display jenkin ui inform see jenkin documentationhttpsjenkinsiodoc result intern ci system display build statu ui ui see log fail build click invoc log tab see invoc log click artifact tab see list artifact includ log individu test log may avail see log target tab click fail target click target log tab see test log your look target shard test flaki build tool divid target multipl shard ran test multipl time test log specif shard run attempt see specif log click log icon right next shard run attempt number grid appear right click specif shard run attempt view log also type desir shard run attempt number field grid third parti tensorflow ci mellanoxhttpswwwmellanoxcom tensorflow ci start ci submit special pull request pr comment trigger ci botmlxtest test session run automat test result artifact log file report via pr comment ci step ci includ follow step build tensorflow gpu version run tensorflow test tf cnn benchmarkshttpsgithubcomtensorflowbenchmarksblobmasterscriptstf_cnn_benchmarkstf_cnn_benchmarkspi tensorflow less tf modelshttpsgithubcomtensorflowmodelstreemasterofficialrresnet tensorflow resnet synthet data nccl multi_worker_mirror distribut strategi test environ ci run mellanox lab node cluster follow paramet hardwar ib x connectx hca connect mellanox quantum hdr switch gpu x nvidia tesla km softwar ubuntu intern stabl mlnx_ofedhttpswwwmellanoxcompageproducts_dynproduct_famili hpcxhttpswwwmellanoxcompagehpcx_overview sharphttpswwwmellanoxcompageproducts_dynproduct_familymtagsharp version support mellanox questionssuggest case issu contact artem ryabovmailtoartemrymellanoxcom default target run presubmit bash script invok intern run presubmit pleas modifi default bazel target tensorflow model benchmark tool descript simpl c binari benchmark comput graph individu oper desktop machin android buildinstallrun android refer httpsgithubcomtensorflowtensorflowtreemastertensorflowexamplesandroid edit workspac configur android ndksdk build specif platform eg bazel build c opt crosstool_topexternalandroidcrosstool cpuarmeabiva host_crosstool_topbazel_toolstoolscpptoolchain config monolith tensorflowtoolsbenchmarkbenchmark_model connect phone push binari phone adb push make directori requir adb push bazelbintensorflowtoolsbenchmarkbenchmark_model datalocaltmp push comput graph need test exampl adb push tensorflow_inception_graphpb datalocaltmp run benchmark exampl adb shell datalocaltmpbenchmark_model graphdatalocaltmptensorflow_inception_graphpb input_layerinput input_layer_shap input_layer_typefloat output_layeroutput desktop build binari bazel build c opt tensorflowtoolsbenchmarkbenchmark_model run comput graph similar android case without need adb shell exampl bazelbintensorflowtoolsbenchmarkbenchmark_model graphtensorflow_inception_graphpb input_layerinput input_layer_shap input_layer_typefloat output_layeroutput incept graph use exampl may download httpsstoragegoogleapiscomdownloadtensorfloworgmodelsinceptionhzip tensorflow python api upgrad util tool allow upgrad exist tensorflow python script specif tf_upgrade_vpi upgrad code tensorflow x tensorflow preview tf_upgradepi upgrad code tensorflow tensorflow run script pip packag first instal tensorflow pip packag see httpswwwtensorfloworginstallpip upgrad script run singl python file tf_upgrade_v infil foopi outfil fooupgradedpi print list error find cant fix also run directori tree upgrad py file copi file outtre tf_upgrade_v intre coolcod outtre coolcodeupgrad upgrad py file tf_upgrade_v intre coolcod outtre coolcodeupgrad copyotherfil fals note tf_upgrade_v instal automat script pip instal tensorflow report script also dump report eg detail chang eg tensorflowtoolscompatibilitytestdatatest_file_v_pi line ad keyword input reorder function tfargmax renam keyword argument dimens axi old tfargmax dimens new tfargmaxinput axi caveat dont updat part code manual run script particular function reorder argument like tfargmax tfbatch_to_spac caus script incorrectli add keyword argument mismap argument script wouldnt actual reorder argument instead script add keyword argument function argument reorder script assum tensorflow import use import tensorflow tf note upgrad check tfupmlhttptfupml conveni tool upgrad jupyt notebook python file github repositori note upgrad syntax handleabl script script design use standard python packag script fail necessari keyword argument fail insert fail find keyword lexicograph fix manual tri machrisaa fork scripthttpsgithubcommachrisaatfto machrisaahttpsgithubcommachrisaa use redbaron python refactor enginehttpsredbaronreadthedocsioenlatest abl local syntact element reliabl builtin ast modul script base upon note altern script avail tensorflow upgrad tensorflow java warn tensorflow java api current cover tensorflow api stabil guaranteeshttpswwwtensorfloworgguideversion_compat use tensorflow android refer instead tensorflow litehttpswwwtensorfloworgcodetensorflowlit quickstart refer instal tensorflow javahttpswwwtensorfloworginstalllang_java javadochttpswwwtensorfloworgapi_docsjavareferenceorgtensorflowpackagesummari maven centralhttpsmavenbadgesherokuappcommavencentralorgtensorflowtensorflowbadgesvghttpsmavenbadgesherokuappcommavencentralorgtensorflowtensorflow nightli build releas built releas branch avail maven central addit everi day binari built master branch github jarhttpsstoragegoogleapiscomtensorflownightlygithubtensorflowlib_packagelibtensorflowjar sourc jarhttpsstoragegoogleapiscomtensorflownightlygithubtensorflowlib_packagelibtensorflowsrcjar jni linux cpuonlyhttpsstoragegoogleapiscomtensorflownightlygithubtensorflowlib_packagelibtensorflow_jnicpulinuxx_targz linux gpuhttpsstoragegoogleapiscomtensorflownightlygithubtensorflowlib_packagelibtensorflow_jnigpulinuxx_targz macoshttpsstoragegoogleapiscomtensorflownightlygithubtensorflowlib_packagelibtensorflow_jnicpudarwinx_targz window nightli build avail yet build sourc quickstart instruct work tensorflow java nativ librari need built sourc instal bazelhttpswwwbazelbuildversionsmasterdocsinstallhtml setup environ build tensorflow sourc code linux macoshttpswwwtensorfloworginstallsourc youd like skip read detail care gpu support tri follow sh linux sudo aptget instal python swig pythonnumpi mac os x homebrew brew instal swig configurehttpswwwtensorfloworginstallsourc eg enabl gpu support build sh configur bazel build config opt tensorflowjavatensorflow tensorflowjavalibtensorflow_jni command produc two file bazelbintensorflowjava directori archiv java class libtensorflowjar nativ librari libtensorflow_jniso linux libtensorflow_jnidylib os x tensorflow_jnidl window compil java code use tensorflow java api includ libtensorflowjar classpath exampl sh javac cp bazelbintensorflowjavalibtensorflowjar execut compil program includ libtensorflowjar classpath nativ librari librari path exampl sh java cp bazelbintensorflowjavalibtensorflowjar djavalibrarypathbazelbintensorflowjava instal window requir experiment bazel windowshttpsbazelbuildversionsmasterdocswindowshtml detail omit find inspir script use build releas archiv tensorflowtoolsci_buildwindowslibtensorflow_cpushhttpswwwtensorfloworgcodetensorflowtoolsci_buildwindowslibtensorflow_cpush bazel project use bazel build add depend tensorflowjavatensorflow java_binari java_librari rule exampl sh bazel run c opt tensorflowjavasrcmainjavaorgtensorflowexampleslabel_imag includ filepythonsaved_modelreadmemd c gradient gradient current port pythonhttpsgithubcomtensorflowtensorflowtreemastertensorflowpythonop c directori contribut welcom much appreci pleas follow instruct creat op gradient function foo_gradcc correspond foo_gradpi file op origin ie array_gradpi op gradient written array_gradcc write op gradient follow name scheme statu opnamegradconst scope scope const oper op const stdvectoroutput grad_input stdvectoroutput grad_output return scopestatu register_gradient_opopnam opnamegrad op gradient implement use c apihttpswwwtensorfloworgapi_docscc test includ foo_grad_testcc pleas see array_grad_testcchttpsgithubcomtensorflowtensorflowblobmastertensorflowccgradientsarray_grad_testcc mani exampl test simpl creat placehold input op input call runtest runtest use gradient checkerhttpsgithubcomtensorflowtensorflowblobmastertensorflowccframeworkgradient_checkercc verifi theoret gradient match numer gradient exampl test_farraygradtest identitygrad tensorshap shape auto x placeholderscope_ dt_float placeholdershapeshap auto identityscope_ x runtestx shape shape note op requir featur c api yet implement op requir partialtensorshap inform yet implement op requir sparsetensor indexslic current python yet implement mayb question pleas creat issu assign suharsh numpy_op folder tf_numpy_api contain list numpi api symbol numpy_op intern modul tensorflow implement name bug issu use templat report bug label typebug empleas make sure bug per github policyhttpsgithubcomtensorflowtensorflowblobmasterissuesmd address codedoc bug perform issu featur request buildinstal issu github tagbug_templateem system inform written custom code oppos use stock exampl script provid tensorflow os platform distribut eg linux ubuntu mobil devic eg iphon pixel samsung galaxi issu happen mobil devic tensorflow instal sourc binari tensorflow version use command python version bazel version compil sourc gcccompil version compil sourc cudacudnn version gpu model memori collect inform use environ captur scripthttpsgithubcomtensorflowtensorflowtreemastertoolstf_env_collectsh also obtain tensorflow version tf python c import tensorflow tf printtfgit_vers tfversion tf python c import tensorflow tf printtfversiongit_vers tfversionvers describ current behavior describ expect behavior contributinghttpswwwtensorfloworgcommunitycontribut want contribut pr yesno briefli describ candid solutionif contribut standalon code reproduc issu provid reproduc test case bare minimum necessari gener problem possibl pleas share link colabjupyterani notebook info log includ log sourc code would help diagnos problem includ traceback pleas includ full traceback larg log file attach name perform issu use templat report perform issu label typeperform empleas make sure issu relat perform tensorflow per github policyhttpsgithubcomtensorflowtensorflowblobmasterissuesmd address codedoc bug perform issu featur request buildinstal issu github tagperformance_templateem system inform written custom code oppos use stock exampl script provid tensorflow os platform distribut eg linux ubuntu mobil devic eg iphon pixel samsung galaxi issu happen mobil devic tensorflow instal sourc binari tensorflow version use command python version bazel version compil sourc gcccompil version compil sourc cudacudnn version gpu model memori collect inform use environ captur scripthttpsgithubcomtensorflowtensorflowtreemastertoolstf_env_collectsh also obtain tensorflow version tf python c import tensorflow tf printtfgit_vers tfversion tf python c import tensorflow tf printtfversiongit_vers tfversionvers describ current behavior describ expect behavior standalon code reproduc issu provid reproduc test case bare minimum necessari gener problem possibl pleas share link colabjupyterani notebook info log includ log sourc code would help diagnos problem includ traceback pleas includ full traceback larg log file attach name buildinstal issu use templat buildinstal issu label typebuildinstal empleas make sure buildinstal issu per github policyhttpsgithubcomtensorflowtensorflowblobmasterissuesmd address codedoc bug perform issu featur request buildinstal issu github tagbuild_templateem system inform os platform distribut eg linux ubuntu mobil devic eg iphon pixel samsung galaxi issu happen mobil devic tensorflow instal sourc binari tensorflow version python version instal use virtualenv pip conda bazel version compil sourc gcccompil version compil sourc cudacudnn version gpu model memori describ problem provid exact sequenc command step execut run problem info log includ log sourc code would help diagnos problem includ traceback pleas includ full traceback larg log file attach name tensorflow lite op request use templat report lite op use miss label complit system inform os platform distribut eg linux ubuntu tensorflow instal sourc binari tensorflow version github sha sourc provid text output tflite_convert copi past standalon code reproduc issu provid reproduc test case bare minimum necessari gener problem possibl pleas share link colabjupyterani notebook also pleas includ link graphdef model possibl info log includ log sourc code would help diagnos problem includ traceback pleas includ full traceback larg log file attach name issu use templat nonsupport relat issu label typeoth templat miscellan issu cover issu categori question work tensorflow support problem verifi bug tensorflow pleas go discoursehttpsdiscusstensorfloworg report vulner pleas use dedic report processhttpsgithubcomtensorflowtensorflowblobmastersecuritymd highlevel discuss tensorflow pleas post discusstensorfloworg question develop intern work tensorflow would like know contribut tensorflow pleas post developerstensorfloworg name document issu use templat document relat issu label typedoc thank submit tensorflow document issu per github polici address codedoc bug perform issu featur request buildinstal issu github tensorflow doc open sourc get involv read document contributor guid httpswwwtensorfloworgcommunitycontributedoc url issu pleas provid link document entri exampl httpswwwtensorfloworgversionsrapi_docspythontf descript issu need chang clear descript exampl someon use method use correct link link sourc code correct paramet defin paramet defin format correctli return defin return valu defin rais list defin error defin exampl httpswwwtensorfloworgversionsrapi_docspythontffeature_columncategorical_column_with_vocabulary_filerais usag exampl usag exampl see api guid httpswwwtensorfloworgcommunitycontributedocs_ref write testabl usag exampl request visual applic current visual clarifi content submit pull request plan also submit pull request fix issu see doc contributor guid httpswwwtensorfloworgcommunitycontributedoc doc api guid httpswwwtensorfloworgcommunitycontributedocs_ref doc style guid httpswwwtensorfloworgcommunitycontributedocs_styl name featur request use templat rais featur request label typefeatur empleas make sure featur request per github policyhttpsgithubcomtensorflowtensorflowblobmasterissuesmd address codedoc bug perform issu featur request buildinstal issu github tagfeature_templateem system inform tensorflow version use will contribut yesno describ featur current behaviorst chang current api benefit featur info name kera issu use templat report kera issu label compkera empleas make sure issu relat kera tagkeras_templateem import notic pleas note tfkera code move entir kerasteamkerashttpsgithubcomkerasteamkera repositori open codedoc bug perform issu featur request kerasteamkerashttpsgithubcomkerasteamkerasissu repositori tfkera relat issu open tensorflowtensorflowhttpsgithubcomtensorflowtensorflow repositori may get attent kerasteamkerashttpsgithubcomkerasteamkera repositori dedic develop kera code name tensorflow lite convert issu use templat report issu model convers tflite label tfliteconvert system inform os platform distribut eg linux ubuntu tensorflow instal pip packag built sourc tensorflow librari version pip packag github sha built sourc code provid code help us reproduc issu use one follow option option refer colab notebook refer tensorflow model colabhttpscolabresearchgooglecomgistymodakeabdccebaatensorflowdatasetsipynbauthus demonstr build tf model refer tensorflow lite model colabhttpscolabresearchgooglecomgistymodakdfebeccdfeatensorflowlitedebuggercolabipynb demonstr convert tf model tf lite model quantiz use run tflite infer possibl past link attach file drag drop provid link updat version two colab notebook provid link tensorflow model option tensorflow lite model option b past code provid link custom endtoend colab past link attach file drag drop includ code invok tflite convert python api error provid link tensorflow model option tensorflow lite model failur convers convers success gener model wrong state wrong model produc wrong result andor lesser accuraci model produc correct result slower expect option rnn convers support convert tf rnn tflite fuse rnn op pleas prefix rnn titl option info log includ log sourc code would help diagnos problem includ traceback pleas includ full traceback larg log file attach