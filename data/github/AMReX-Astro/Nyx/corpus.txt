citat use nyx appreci cite main code paper almgren et al httpsiopscienceioporgarticlex pdfhttpsiopscienceioporgarticlexpdf citat bibtex articlenyx author almgren bell jb lijewski mj lukic z van andel e titl nyx massiv parallel amr code comput cosmolog journal astrophys journal archiveprefix arxiv eprint keyword gravit hydrodynam method numer year month mar volum eid page doi x doihttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss amrexhttpsamrexcodesgithubiobadgespoweredbyamrexredsvghttpsamrexcodesgithubio nyxhttpsgithubcomamrexastronyxblobdevelopmentutilbannerjpeg adapt mesh massivelyparallel cosmolog simul code nyx code solv equat compress hydrodynam adapt grid hierarchi coupl nbodi treatment dark matter ga dynam nyx use finit volum methodolog set eulerian grid dark matter repres discret particl move influenc graviti particl evolv via particlemesh method use cloudincel depositioninterpol scheme baryon dark matter contribut gravit field addit nyx includ physic need accur model intergalact medium optic thin limit assum ioniz equilibrium code calcul heat cool process primordialcomposit ga ioniz ultraviolet background radiat field addit physic capabl develop nyx run linux system gener particularli focu supercomput system nyx parallel mpi x x openmp multicor architectur cudahipdpc hybrid cpugpu architectur openmp regim nyx success run parallel concurr nersc coriknl cuda implement run gpu olcf summit inform nyx found main web pagehttpamrexastrogithubionyx onlin documentationhttpsamrexastrogithubionyxdocs_html standard depend compil code requir c compliant compil support mpi higher implement thread acceler use requir openmp higher cuda higher hipclang use nyx also need amrexhttpsgithubcomamrexcodesamrex exampl compil lyman alpha lya execut summit sh modul load gcc cuda git clone httpsgithubcomamrexcodesamrexgit git clone httpsgithubcomamrexastronyxgit cd nyxexeclya make j use_cudatru see get start sectionhttpsamrexastrogithubionyxdocs_htmlnyxgettingstartedhtml inform develop model pleas see contributingmd detail contribut amrex output nyx output certain global diagnost timestep plot file regular interv userspecifi redshift visual packag visithttpswcillnlgovsimulationcomputercodesvisit paraviewhttpswwwparavieworg ythttpytprojectorg amrvishttpsgithubcomamrexcodesamrvi builtin support amrex file format use nyx addit nyx interfac two postprocess suit reeber gimlet reeber use topolog method construct merg tree scalar field turn use find halo gimlet comput varieti quantiti relat lymanalpha forest scienc suit fulli mpiparallel run either situ intransit combin see friesen et al httpscompastrophyscosmolspringeropencomarticless licens nyx copyright c regent univers california lawrenc berkeley nation laboratori subject receipt requir approv us dept energi right reserv detail licens found licensetxtlicensetxt file question right use distribut softwar pleas contact berkeley lab innov partnership offic ipolblgov contact question comment suggest contact jean sexton jmsextonlblgov zarija lukic zarijalblgov develop model develop gener follow follow idea new featur merg develop branch use pull request pr nightli regress test use ensur answer chang chang expect bug fix question contribut new featur welcom bug report github issu suggest ask question github issu well contribut new featur potenti chang answer done via pull request pull request gener fork nyx target develop branch see detail process work gener squash commit upon merg clean histori pleas ensur pr titl first post descript sinc use squash commit messag pleas note follow choos make contribut code herebi grant nonexclus royaltyfre perpetu licens instal use modifi prepar deriv work incorpor comput softwar distribut sublicens enhanc deriv work thereof binari sourc code form first workday month soon thereaf make tag releas git workflow nyx use githttpsgitscmcom version control new git follow one tutori learn git bitbuckethttpswwwatlassiancomgittutorialslearngitwithbitbucketcloud git simpl guidehttprogerdudlergithubiogitguid make fork creat branch basic workflow fork main repo updat alreadi creat implement chang push new branch branch_nam fork creat pull request branch branch_nam fork branch develop main nyx repositori first let us setup local git repo make fork main upstream repositori nyx github pagehttpsgithubcomamrexastronyx press fork button execut clone fork local comput get address fork github page git clone branch develop httpsgithubcommygithubusernamenyxgit navig repo add new remot main nyx repo fetch cd nyx git remot add upstream httpsgithubcomamrexastronyx git remot seturl push upstream httpsgithubcommygithubusernamenyxgit git fetch upstream recommend set develop branch track upstream one instead fork git branch u upstreamdevelop free play fork addit inform visit github fork help pagehttpshelpgithubcomenarticlesforkarepo note redo setup everi time instead futur need updat develop branch fork git checkout develop git pull make sure develop branch git checkout develop nyx directori creat branch branch_nam branch name reflect piec code want add like new_kind_of_particl git checkout b branch_nam code want add file work git stage area git add file_i_cr and_file_i_modifi commit push chang period commit chang git commit char descript explain work commit messag quotat mark super import order follow develop identifi bug moment commit local repo push fork git push u origin branch_nam want synchron branch develop branch use develop modifi work branch_nam use git pull upstream develop fix conflict may occur merg branch pr local develop branch make local develop branch diverg match branch main repositori pr merg submit pull request pull request way effici visual chang made propos new featureimprovementfix nyx project right push chang banner appear github page fork branch_nam click compar pull request button prepar pr time commun chang write titl descript pr peopl review pr happi know featurefix propos made creat new class inherit anyth relev pr perform test imag etc press creat pull request navig pr highlight chang made pleas write larg pull request difficult timeconsum review much possibl split small target pr exampl find typo document open pull request fix typo want fix bug make small pull request fix bug want implement larg featur write helper function first test submit first pull request want implement featur sure split open issu plan ping amrex develop chime even work readi merg conveni creat pr use github tool visual chang case pleas make draft pr use dropdown menu next creat pull request button pull request made review potenti merg recommend alway creat new branch pull request per instruct pull request merg delet local pr branch git branch branch_nam delet remot one fork git push origin delet branch_nam gener speak want follow follow rule merg branch pr local develop branch track nyx develop branch otherwis local develop branch diverg nyx develop branch commit develop branch track nyx develop branch alway creat new branch base develop branch pull request unless go use git fix later accident commit develop branch fix follow git checkout b new_branch git checkout develop git reset head number commit accident commit develop git checkout local develop sync nyx develop recent commit save new_branch branch reason pr branch diverg nyx tri fix follow tri back code case thing might go wrong git fetch upstream assum upstream remot name offici amrex repo git checkout b xxx upstreamdevelop replac xxx whatev name like git branch develop git checkout b develop upstreamdevelop git checkout xxx git merg yyy yyy pr branch unclean histori git rebas upstreamdevelop see someth like editor pick dd commit messag pick cc commit messag b pick fjg commit messag c requir bit knowledg commit commit merg commit actual new howev see commit easi figur commit alreadi merg assum first two commit merg drop replac pick drop drop dd commit messag drop cc commit messag b pick fjg commit messag c save exit editor git log show clean histori base top develop branch also git diff yyyxxx make sure noth new drop goe well submit pr use xxx branch dont worri someth goe wrong rebas alway git rebas abort start titl nyx massiv parallel amr code comput cosmolog tag c cosmolog hydrodynam dark matter nbodi author name jean sexton orcid affili name zarija lukic affili name ann almgren orcid x affili name chri daley affili name brian friesen orcid affili name andrew myer orcid affili name weiqun zhang orcid affili affili name center comput scienc engin lawrenc berkeley nation laboratori index name comput cosmolog center lawrenc berkeley nation laboratori index name nation energi research scientif comput center nersc berkeley ca usa index date februari bibliographi paperbib summari nyx highli parallel adapt mesh finitevolum nbodi compress hydrodynam solver cosmolog simul use simul differ cosmolog scenario recent focu intergalact medium lyman alpha forest togeth nyx compress astrophys simul code castro castro low mach number code maestroex maestroex make amrexastrophys suit opensourc adapt mesh performanceport astrophys simul code exampl cosmolog simul research code includ enzo bryan enzopcello bordner norman rams teyssier art kravtsov flash fryxel cholla villasenor well gadget springel gasolin wadsley arepo weinberg gizmo hopkin swift schaller core hydrodynam solver nyx nyxpap base direct unsplit corner transport upwind method ctu piecewis parabol reconstruct ppm nyx sever mode coupl stiff heatingcool sourc term hydro simplest method tradit oper split approach use strang split strang achiev secondord accuraci time howev coupl break altern strang split base spectral defer correct sdc method aim prevent hydro stiff sourc term becom decoupl simplifi sdc method use ctu ppm hydro togeth iter scheme fulli coupl sourc term hydro still secondord accuraci time simple_sdc nyx set addit physic necessari model intergalact medium use heatingcool sourc term code follow abund six speci neutral ioniz hydrogen neutral twice ioniz helium free electron speci relev atom process ioniz recombin freefre transit model code heat cool sourc term calcul use subcycl approach order avoid run whole code short cool timescal cosmolog reioniz account via spatial uniform timevari ultraviolet background uvb radiat field input code list photoion photoh rate vari redshift nyx also capabl model flash reioniz well inhomogen reioniz onorb evolut baryon ga coupl nbodi treatment dark matter expand univers meshbas hydrodynam baryon ga evolut coupl graviti particlebas represent dark matter dark matter particl move movekickdrift algorithm movekickdrift poisson equat selfgrav baryon ga dark matter solv use geometr multigrid method nyx simul option model neutrino particl effect activ galact nuclei feedback nyx built amrex amrex adapt mesh refin amr librari written c amr level advanc timestep subcycl jump factor support level use mpi distribut amr grid across node use logic tile openmp divid grid across thread multicor cpu machin expos coarsegrain parallel cudahipdpc spread work across gpu thread gpubas machin finegrain parallel core physic run gpu shown scale well perform portabl use sourc code cpu gpu addit implement parallel loop abstract layer provid amrex abstract parallel loop accept argument rang indic bodi loop execut given index amrex backend dispatch work appropri eg one cell per gpu thread strategi similar way kokko kokko raja raja abstract model provid perform portabl c statement need number cosmolog simul code nyx offer uniqu featur origin motiv develop nyx build simul code base modern wellsupport amr librari boxlib evolv amrex use unsplit integr techniqu larg develop commun contribut amrex help nyx continu gain optim new architectur variou oper system present nyx mostli use model cosmolog evolut intergalact medium igm reservoir low densiti ga fill space galaxi differ physic effect rang natur dark matter differ reioniz scenario relat radiat starform galaxi set observ properti igm make power probe cosmolog astrophys order extract scientif insight confront observ igm usual lyman alpha forest simul model necess nyx step incom observ exampl dark energi spectroscop instrument desi highresolut spectrograph like one mount keck telescop notic reduc statist error measur commun need tool capabl produc model univers better accuraci observ nyx scalabl allow model repres cosmolog volum maintain resolut need resolv small fluctuat intergalact ga nyx includ physic allow simul differ cosmolog reioniz scenario enabl user produc mock univers varieti physic relev model main target highperform comput architectur massiv parallel simul need cosmolog astrophys research given target nyx comput optim focu larg simul hpc system although smaller simul run linux distribut maco use amrex build system support acknowledg work lbnl support us depart energi contract deacch nyx develop support exascal comput project scsc collabor effort us depart energi offic scienc nation nuclear secur administr refer exampl diagnosticanalysi tool simpl exampl open amrex plt file read manipul data meant start place build analysi tool user specif need particular exampl given ndimension data set program comput onedimension profil direct dir valu profil averag data nondir direct work multipl compon one time usag standalon applic built top amrex set compil valu gnumakefil variabl comp make execut sh make j run execut runtim paramet input file sh amrderivedlinuxgccgfortranmpiex input file input contain exampl sh infil plt dir ncomp scomp specifi runtim paramet via commandlin sh amrderivedlinuxgccgfortranmpiex infileplt dir ncomp scomp also set verbos via command line input file order get quit verbos output nyx zeldovich test case exec set run zeldovich problem creat initi condit gener initi condit compil run generate_zeldovich_icscpp may chang paramet file redshift initi caustic number particl box length number sheet determin perturb wavelength perturb offset sheet normal vector determin direct perturb hubbl rate make sure match cosmolog probin compil ic gener cd ic g generate_zeldovich_icscpp generate_zeldovich_icsex generate_zeldovich_icsex creat file zeldovich_particlesascii zeldovich_paramscsv csv file contain paramet use gener particl ascii file use analysi dont worri adjust param analysi script manual check initi condit might want check file quick head zeldovich_particlesascii make sure number particl first line fine particl format x z mass xdot ydot zdot good also run cd analysi python check_icspi test icszeldovich_particlesascii make sure sheet normal inde unit vector veloc perpendicular densiti box match critic matter densiti given cosmolog also plot particl distribut comov space project comov phase space check eye might make automat futur suffici run nyx compil nyx execut check make option buildgnumakefil run make build directori check input probin file make sure match condit set ic check prob_hi match size box h want run hopper run normal qsub pbs_hopper adjust howev mani core think run requir want run local use someth like mpirun np nyxddarwingccgfortranmpiex input analyz cd analysi python process_zeldovichpi make fig directori open particlesascii file directori begin plt analyz result plt ascii particl file plot phase space zeldovich predict project particl posit histogram veloc perpendicular normal close