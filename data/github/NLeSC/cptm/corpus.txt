doihttpszenodoorgbadgedoizenodosvghttpdxdoiorgzenodo build statushttpstravisciorgnlesccptmsvgbranchdevelophttpstravisciorgnlesccptmsvgbranchdevelop crossperspect topic model gibb sampler crossperspect topic model describ fang si somasundaram yu mine contrast opinion polit text use crossperspect topic model proceed fifth acm intern confer web search data mine httpdlacmorgcitationcfmid instal instal prerequisit sudo aptget instal gfortran libopenblasdev liblapackdev clone repositori git clone gitgithubcomnlesccptmgit cd cptm instal requir virtual environ desir pip instal r requirementstxt instal cptm compil cython code python setuppi instal add cptm directori pythonpath otherwis script dont work export pythonpathpythonpath test run nosetest dont forget pip instal nose your use virtual environ get prepar dutch parliamentari proceed download data get_datash pathtoxmldatadir creat set text document differ perspect python foliacpt_inputpi pathtoxmldatadir pathtoperspectivesdir script expect directori structur gener get_datash script script finish differ directori perspect dir directori divis data use differ perspect follow perspect gener gov_opp govern vs opposit divis base data datadutch_coalitionscsv parti perspect polit parti found data noisi cabinet perspect cabinet base data datadutch_coalitionscsv cabinetsgov_opp perspect cabinet divid governmentopposit base data datadutch_coalitionscsv run experi experi configur use json object exampl json file copi dataconfigjsonexampl cp dataconfigjsonexampl pathexperimentjson json object look like inputdata pathtoinputdata outdir pathtooutputdirectori testsplit niter beta beta_o expnumtop nprocess ntopic topiclin opinionlin sampleestimatestart sampleestimateend minfreq removetoptf removetopdf option inputdata directori contain data separ perspect end eg pathtoperspectivesperspect perspect one gov_opp parti cabinet cabinetsgov_opp outdir directori paramet estim result save end testsplit percentag data use calcul perplex niter number sampl iter beta beta paramet topic beta_o beta paramet opinion expnumtop list number topic eg mean two experi run one topic one topic script experiment_number_of_topicspi nprocess number process script use experi run parallel possibl ntopic number topic result calcul script experiment_calculate_perplexitypi experiment_calculate_perspective_jsdpi experiment_find_contrastive_opinionspi experiment_generate_results_nbpi experiment_get_resultspi experiment_jsd_opinionspi experiment_number_of_topicspi topiclin line number input file contain topic word opinionlin line number input file contain opinion word sampleestimatestart relev paramet estim sampl save iter sampleestimatestart iter number start estim sampleestimateend relev paramet estim sampl save iter sampleestimateend last iter number use calcul result niter minfreq minim term frequenc term occur less frequent remov vocabulari removetoptf number term remov vocabulari base term frequenc term order term frequenc next top x remov removetopdf number term remov vocabulari base document frequenc term order document frequenc next top x remov experi script first run experi differ number topic python cptmexperiment_number_of_topicspi pathtoexperimentjson next calcul opinion perplex python cptmexperiment_calculate_perplexitypi pathtoexperimentjson gener ipython notebook inspect result experi python cptmexperiment_generate_results_nbpi pathtodirwithresult experimentnam pathtoresultingnotebookipynb notebook help determin optim number topic data choos appropri sampleestimatestart sampleestimateend paramet requir gener estim theta phi topic phi opionion set ntopic sampleestimatestart sampleestimateend paramet experi configur file next gener esitm theta phi topic phi opionion python cptmexperiment_get_resultspi pathtoexperimentjson go back ipython notebook look topic opinion notebook print top topic word topic top correspond opinion word perspect default topic order topic number also order jensenshannon diverg opinion requir calcul jensenshannon diverg python cptmexperiment_jsd_opinionspi pathtoexperimentjson fang et al describ contrast opinion model method determin opinion individu topic word contrast opinion model topic word save result disk run python cptmexperiment_find_contrastive_opinionspi pathtoexperimentjson p list perspect pathtooutput list perspect format like kok iichristenuni kok iicda kok iilpf kok iipvda kok iisgp kok iid kok iigroenlink kok iivvd kok iisp includ doubl quot addit script experiment_calculate_perspective_jsdpi calcul pairwis averag jsd perspect topic python experiment_calculate_perspective_jsdpi experimentjson experiment_prune_samplespi remov save paramet sampl gener gibb sampler certain iter gibb sampler save estim iter howev took much disk space sampler save everi tenth estim experiment_prune_sampl script remov sampl result gener old version sampler python experiment_prune_samplespi pathtoexperimentjson experiment_manifestopi calcul opinion word perplex per document set text document corpu divid perspect script use estim likelihood parti manifesto given opinion differ perspect parti manifesto come manifesto project first run manifestoprojectcptm_inputpi creat cptm corpu use input python experiment_manifestopi experimentjson input dir output dir experiment_theta_for_texts_perspectivespi extract documenttop matrix set text document corpu divid perspect script use calcul theta cap vragenuurtj data first run tabularcptm_inputpi creat cptm corpu use input python experiment_theta_for_texts_perspectivespi experimentjson input dir output dir experiment_corr_pca_chespi calcul correl pca project che rank python experiment_corr_pca_chespi experimentjson inpt che data pathtooutput experiment_cptcorpus_count_wordspi count number topic opinion word corpu python experiment_cptcorpus_count_wordspi experimentjson script corpusstatisticspi print corpu statist number document dataset python corpusstatisticspi path raw data file experimentjson folia_party_namespi extract name polit parti folia file python folia_party_namespi path raw data file generatecptcorpuspi script gener synthet corpu test cpt model script use test usag python generatecptcorpuspi dir manifestoprojectcptm_inputpi creat input file cptm format manifesto project csv file python manifestoprojectcptm_inputpi input dir output dir input dir contain manifesto project cv file tabularcptm_inputpi script convert field tabular data file cptm input file python tabularcpt_inputpi csv excel file full text field name dir cptm function save cptcorpu disk cptcorpu import cptcorpu corpu cptcorpusfil testsplit corpussavepathtocorpusjson load cptcorpu disk cptcorpu import cptcorpu corpu cptcorpusloadpathtocorpusjson copyright netherland escienc center distribut term apach licens see licens detail