# <img src="https://github.com/SebastianSosa/ANTs/blob/master/inst/ressources/ANT.png" alt="alt text" width="10%" height="10%">  Animal Network Toolkit Software (ANTs)


Animal Network Toolkit Software (ANTs) is a free open R package for analysing animal networks.

ANTs is a multi-collaborative project and is meant to continuously evolve. If you wish to contribute by providing suggestions or additional codes please contact us at: ant@s-sosa.com

If you need help or if you want to report bugs, please contact us at: ant.help@s-sosa.com

For more information, visit our websites:

   www.s-sosa.com/ants
   
   https://www.researchgate.net/project/A-multilevel-statistical-toolkit-to-study-animal-social-networks-Animal-Network-Toolkit-ANT-R-package
   
   
<i><b>Authors</b>: [Sebastian Sosa](https://scholar.google.fr/citations?user=R8MskkwAAAAJ&hl=fr&authuser=1), [Ivan Puga-Gonzalez](https://scholar.google.fr/citations?user=XIjvceIAAAAJ&hl=fr&oi=ao), Hu Feng He, Xiaohua Xie, [Cédric Sueur](https://scholar.google.fr/citations?user=2A3IqEsAAAAJ&hl=fr&authuser=1)</i>

# Description

How animals interact and develop social relationships in face of sociodemographic and ecological pressures is of great interest. New methodologies, in particular Social Network Analysis (SNA), allow us to elucidate these types of questions. However, the different methodologies developed to that end and the speed at which they emerge make their use difficult. Moreover, the lack of communication between the different software developed to provide an answer to the same/different research questions is a source of confusion. 

The R package ‘Animal Network Toolkit’ (ANTs) was developed with the aim of implementing in one package the different social network analysis techniques currently used in the study of animal social networks. Hence, ANTs is a toolkit for animal research allowing among other things to: 1) measure global, dyadic and nodal networks metrics; 2) perform data randomization: pre- and post-network (node and link permutations); 3) perform statistical permutation tests as correlation test, t-test, General Linear Model, General Linear Mixed Model, deletion simulation, Matrix TauKr correlations. 

The package is partially coded in C++ using the R package Rcpp for an optimal coding speed. 

The package gives researchers a workflow from the raw data to the achievement of statistical analyses, allowing for a multilevel approach: from the individual’s position and role within the network, to the identification of interactional patterns, and the study of the overall network properties. 

Furthermore, ANTs also provides a guideline on the SNA techniques used: 1) from the appropriate randomization technique according to the data collected; 2) to the choice, the meaning, the limitations and advantages of the network metrics to apply, 3) and the type of statistical tests to run. The ANTs project is multi-collaborative, aiming to provide access to advanced social network analysis techniques and to create new ones that meet researchers’ needs in future versions.

# Installation
To install the package in R, use the following command: <i>devtools::install_github("SebastianSosa/ANTs")</i>

Or download and install the package following the standard R installation process.

# Vignette
<img src="https://github.com/SebastianSosa/ANTs/blob/master/vignettes/Analytical.protocols.png" alt="alt text"> 
# Tutorials
To find information on how to use ANTs, follow this link: 
https://www.s-sosa.com/videos

---
output: pdf_document
geometry: "left=0cm,right=0cm,top=0cm,bottom=-0cm"
classoption: landscape
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}

---

```{r, out.width = "100%", out.height="100%", out.align="center", echo=FALSE}
knitr::include_graphics("Analytical.protocols.png")
```% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mat.to.edgl.R
\name{mat.to.edgl}
\alias{mat.to.edgl}
\title{Matrix to edge list}
\usage{
mat.to.edgl(M, sym = FALSE, erase.diag = TRUE)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{sym}{if \emph{TRUE}, it extracts the lower triangle of the matrix only.}

\item{erase.diag}{if \emph{TRUE}, it omits diagonals.}
}
\description{
Converts a square adjacency matrix into a data frame of three columns representing an edge list. Columns are: actor, receiver and weight.
}
\examples{
mat.to.edgl(sim.m, sym = FALSE, erase.diag = TRUE)
}
\references{
Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{perm_nl_rf}
\alias{perm_nl_rf}
\title{Node lable permutation with random factors}
\usage{
perm_nl_rf(ldf, lables, nperm, progress)
}
\description{
Perorm node label permutation on list of data frames
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.nodeLabel.R
\name{perm.nodeLabel}
\alias{perm.nodeLabel}
\title{Node label permutations}
\usage{
perm.nodeLabel(df, labels, nperm, progress = TRUE)
}
\arguments{
\item{df}{a dataframe or a list of data frames.}

\item{labels}{column names or numbers in which to permute the data}

\item{nperm}{Number of permutations.}

\item{progress}{a boolean indicating if the permutation process has to be visible.}
}
\value{
A list of data frames with the specified column permuted.
}
\description{
Performs node label permutations

Node label permutation is one of the methods used to build null models.
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{vec_char_extract_IdValue}
\alias{vec_char_extract_IdValue}
\title{Extract vector elements}
\usage{
vec_char_extract_IdValue(y, x)
}
\description{
xtract vector elements according to indices
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.strength.single.R
\name{met.strength.single}
\alias{met.strength.single}
\title{Strength}
\usage{
met.strength.single(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{df}{a data frame of same length of the input matrix.}

\item{dfid}{an integer indicating the column of individual ids in argument \emph{df}}
}
\value{
Integer vector of each vertices outstrentgh.
}
\description{
Calculate for all the vertices the node metric call strentgh.
}
\references{
Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mat.lp.R
\name{mat.lp}
\alias{mat.lp}
\title{Laplacian matrix}
\usage{
mat.lp(M)
}
\arguments{
\item{M}{a square adjacency matrix.}
}
\description{
Create the laplacian matrix of a network.
}
\details{
Laplacian matrix is the difference between the degrees matrix and the adjacency matrix.
}
\references{
REF laplacian !!!!!!!!!!!!!!!!

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mat.symetrize.R
\name{mat.symetrize}
\alias{mat.symetrize}
\title{Symmetrizes matrix}
\usage{
mat.symetrize(M)
}
\arguments{
\item{M}{a matrix}
}
\description{
Symmetrizes matrix by triangles sum.
}
\author{
Sebastian Sosa <s.sosa@live.fr>
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.ci.R
\name{met.ci}
\alias{met.ci}
\title{Centralisation index}
\usage{
met.ci(M, df = NULL)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}
}
\value{
#' \itemize{
\item a double representing the centralisation index of the network if argument \emph{M} is a square matrix.
\item A list of doubles if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}. Each double represents the centralisation index of the corresponding matrix of the list.
\item A list of arguments \emph{df} with a new column of network centralisation index if argument\emph{df} is not \emph{NULL} and if argument \emph{M} is a list of matrices. The name of the column is adapted according to arguments values \emph{binary} and \emph{sym}.
\item A list of arguments \emph{df} with a new column of network centralisation index if argument \emph{df} is not \emph{NULL}, if argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and if argument \emph{df} is a list of data frames of same length as argument \emph{M}.
}
}
\description{
Computes network Centralisation index
}
\details{
Centralisation index of a network is based on eigenvector centrality.
}
\examples{
met.ci(sim.m)
}
\references{
Pasquaretta, C., Levé, M., Claidiere, N., Van De Waal, E., Whiten, A., MacIntosh, A. J., ... & Crofoot, M. C. (2014). Social networks in primates: smart and tolerant species have more efficient networks. Scientific reports, 4, 7600.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim.grp.R
\docType{data}
\name{sim.grp}
\alias{sim.grp}
\title{Simulated data collected through group fellow sampling}
\format{An object of class \code{data.frame} with 100 rows and 5 columns.}
\usage{
sim.grp
}
\description{
This is a simulated data set  collected through group fellow sampling.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{datasets}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/check.df.R
\name{check.df}
\alias{check.df}
\title{Data frame ANT check}
\usage{
check.df(df)
}
\description{
Check that the argument is a data frame or a list of data frames
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{assoc_mat_one_id}
\alias{assoc_mat_one_id}
\title{Association indexes for one individual}
\usage{
assoc_mat_one_id(Mgbi, id, method)
}
\arguments{
\item{id}{an integer indicating the column (c++ refering) of the individual to which compute the association index.}

\item{method}{a string indicating the type of association matrix:
\itemize{
\item 'sri' for Simple ratio index: \eqn{x/x+yAB+yA+yB}
\item 'hw' for Half-weight index: \eqn{x/x+yAB+1/2(yA+yB)}
\item 'sr' for Square root index:\eqn{x/sqr((x+yAB+yA)(x+yAB+yB))}
}}

\item{Mfbi}{a group by individual matrix.}
}
\value{
A square matrix of association according to association index choose:
}
\description{
Individual associations indexes.
}
\details{
Association indexes allow to handle  heterogeneity of time of observation.
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.ge.R
\name{met.ge}
\alias{met.ge}
\title{Global efficiency}
\usage{
met.ge(M, df = NULL, weighted = TRUE, shortest.weight = FALSE,
  normalization = TRUE, directed = TRUE, out = TRUE)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{weighted}{if \emph{false}, it binarizes the square adjacency matrix M. Geodesic distances and diameter are based only on the presence or absence of edges.}

\item{shortest.weight}{if \emph{false},  and weighted is TRUE, it considers the highest weights as the shortest path. The value returned is the average of inverse of the all shortest distances (1/dij). Thus a higher value means a higher efficiency. Note that in constrast to unweighted graphs where global efficiency assumes values from 0 to 1, in weighted graphs the values depend on the weights associated to the links. It is therefore very useful to compare the global efficiency of a given weighted network with the global efficiency of a randomized version of the network or to a network of same size but different distribution of weights among the links. By itself this value is meaningless.}

\item{normalization}{normalizes the weights of the links i.e. divides them by the average strength of the network.}

\item{directed}{if \emph{false}, it symmetrizes the matrix. Otherwise, it calculates geodesic distances and diameter according to the directionality of the links.}

\item{out}{if \emph{true}, it considers outgoing ties.}
}
\value{
\itemize{
\item a double representing the global efficiency of the network if argument \emph{M} is a square matrix.
\item A list of doubles if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}. Each double represents the global efficiency of the corresponding matrix of the list.
\item A list of arguments \emph{df} with a new column of network global efficiency if argument\emph{df} is not \emph{NULL} and if argument \emph{M} is a list of matrices. The name of the column is adapted according to arguments values \emph{.weighted}, \emph{shortest.weight}, \emph{normalization}, \emph{directed} and \emph{out}.
\item A list of arguments \emph{df} with a new column of network global efficiency if argument \emph{df} is not \emph{NULL}, if argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and if argument \emph{df} is a list of data frames of same length as argument \emph{M}.
}
}
\description{
Calculates the global efficiency of a network.
}
\details{
The global efficiency provides a measure of how efficiently information is exchanged in a network. It can be calculated in binary or weighted networks, and for undirected or directed networks. Depending on the problematic, care is needed for the choice of calculation method (binary or weighted, directed or undirected, and using the lowest or the highest met.strength as shortest path).
}
\examples{
met.ge(sim.m)
}
\references{
Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.lp.R
\name{met.lp}
\alias{met.lp}
\title{Laplacian centrality}
\usage{
met.lp(M, df = NULL, dfid = NULL, binary = FALSE)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}

\item{binary}{a boolean indicating the version of the Laplacian index, if TRUE it computes the binary version.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{Laplacian centrality} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{Laplacian centrality} if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{Laplacian centrality} if argument\emph{df} is not \emph{NULL}. The name of the column is adapted according to argument value \emph{binary}.
\item A list of arguments df with a new column for nodes \emph{Laplacian centrality} if 1) argument \emph{df} is not \emph{NULL}, 2) argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and 3) argument \emph{df} is a list of data frames of same length as argument \emph{M}.The name of the column of each element of the list is adapted according to argument value \emph{binary}.
}
}
\description{
Calculates the symmetric version of Laplacian centrality for each vertex.
}
\details{
Laplacian centrality is the drop in the Laplacian energy of the graph when a vertex is removed.
This version uses the degrees (for the binary version) or the strength (for the weighted version) to calculate Laplacian centrality.
}
\examples{
met.lp(sim.m)
head(sim.df)
met.lp(sim.m,df=sim.df)
}
\references{
Qi, X., Fuller, E., Wu, Q., Wu, Y., & Zhang, C. Q. (2012). Laplacian centrality: A new centrality measure for weighted networks. Information Sciences, 194, 240-253.

Qi, X., Duval, R. D., Christensen, K., Fuller, E., Spahiu, A., Wu, Q., ... & Zhang, C. (2013). Terrorist networks, network energy and node removal: A new measure of centrality based on Laplacian energy. Social Networking, 2(01), 19.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim.socprog.R
\docType{data}
\name{sim.socprog}
\alias{sim.socprog}
\title{Simulated Socprog data format}
\format{An object of class \code{data.frame} with 100 rows and 3 columns.}
\usage{
sim.socprog
}
\description{
This is a simulated Socprog data format.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{datasets}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.R
\name{met}
\alias{met}
\title{ANT Graphical User Interface (GUI)}
\usage{
met(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix or a list of square adjacency matrices or output from ANT functions of type perm'.}

\item{df}{a data frame of same length as in the input matrix or a list of data frames of same length as the correspondoing matrix in argument M.}

\item{dfid}{an integer or a string indicating the column of individual ids in argument \emph{df}}
}
\description{
Graphical user interface for the calculation of node metrics.
}
\details{
returns the data frame with node network metrics, if weighted =TRUE:
\itemize{
\item Weighted met.degree (WD)
\item Weighted met.indegree (WID)
\item Weighted met.outdegree (WOD)
\item Weighted met.met.ri (met.met.ri)
\item Weighted met.evcent (WEi)
\item Weighted clustering coefficient (WCC)
\item Weighted closeness (WCL)
\item Weighted betweenness (WDB)
\item Weighted betweenness (WUB)
\item Weighted met.disparity (met.disparity)
}
if weighted =NULL, it returns binary network metrics:
\itemize{
\item Binary met.degree (BD)
\item Binary met.indegree (BID)
\item Binary met.outdegree (BOD)
\item Binary met.met.ri (met.met.ri)
\item Binary met.evcent (BEi)
\item Binary clustering coefficient (BCC)
\item Binary closeness (BCL)
\item Binary betweenness (DBB)
\item Binary betweenness (UBB)
\item Binary met.evcent community (e.i. modularity) (BEiM)
}
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.ri.R
\name{met.ri}
\alias{met.ri}
\title{R-Index}
\usage{
met.ri(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{R-index} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{R-index} if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{R-index} titled 'R-index', if argument \emph{df} is not \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{R-index} if 1) argument \emph{df} is not \emph{NULL}, 2) argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and 3) argument \emph{df} is a list of data frames of same length as argument \emph{M}. The name of the column of each element of the list is adapted according to argument value \emph{binary}.
}
}
\description{
Calculates the node metric R-Index for all vertices.
}
\details{
R-Index of vertex \emph{i} is the outstrength of node \emph{i} divided by the met.strength of node \emph{i}. This node metric aims to measure if an individual is more likely to receive or emit edges.
}
\examples{
met.ri(sim.m)
head(sim.df)
met.ri(sim.m,df=sim.df)
}
\references{
Liao, Z., Sosa, S., Wu, C., & Zhang, P. (2017). The influence of age on wild rhesus macaques' affiliative social interactions. American journal of primatology.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.tauKrPartialPermSig.R
\name{stat.tauKrPartialPermSig}
\alias{stat.tauKrPartialPermSig}
\title{Partial matrix TauKr correlations}
\usage{
stat.tauKrPartialPermSig(X, Y, Z, nperm, omitDiag = TRUE)
}
\arguments{
\item{X}{a square matrix of individual interactions or associations}

\item{Y}{a square matrix of individual interactions or attributes}

\item{Z}{a square matrix of individual interactions or attributes to use as a control in the matrix correlation between X and Y}

\item{nperm}{number of permutations.}

\item{omitDiag}{boolean to omit or not the diagonal from the matrices}
}
\value{
a list with the correlation coefficients 1) TauKrxy, 2) TauKrxz, 3) TauKryz, 4) TauKrxyz; p-values of the TauKrxyz coefficient value 5) on the right, 6) on the left
}
\description{
Partial Matrix TauKr correlation with significant test.
}
\references{
Hemelrijk, C. K. 1990. A matrix partial correlation test used in investigations of reciprocity and other social interaction patterns at a group level. Journal of theoretical Biology, 143, 405-420.
}
\author{
Ivan Puga-Gonzalez, Sebastian Sosa.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim.focal.undirected.R
\docType{data}
\name{sim.focal.undirected}
\alias{sim.focal.undirected}
\title{Focal sampling undirected data}
\format{An object of class \code{data.frame} with 100 rows and 4 columns.}
\usage{
sim.focal.undirected
}
\description{
This is a simulated data frame of undirected behaviour collected through focal sampling.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{datasets}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.edgl.R
\name{perm.edgl}
\alias{perm.edgl}
\title{Edge list link permutations on an edgelist}
\usage{
perm.edgl(edgelist, perm)
}
\arguments{
\item{edgelist}{an edgelist}

\item{perm}{number of permutations to perform.}
}
\value{
a list of edge lists with permuted links. The first element of the list is the original edge list.
}
\description{
Permutes the links of an edge list represented by a data frame.
}
\details{
edge list links permutations can be used to create random networks based on the observed network. Such permutation method is useful when analysing patterns of interactions such as assortativity.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.glm.R
\name{stat.glm}
\alias{stat.glm}
\title{Permuted Generalized Linear Model}
\usage{
stat.glm(ant, oda, formula, family = "gaussian", progress = TRUE,
  start = NULL, control = list(...), model = TRUE,
  method = "glm.fit", x = FALSE, y = TRUE, contrasts = NULL, ...)
}
\arguments{
\item{ant}{an output of ANT function \code{perm.net.nl} without any random factor declared, or output of ANT 'met' category functions in which output of ANT functions \code{perm.ds.focal}, \code{perm.ds.grp} or \code{perm.net.lk} where single matrices were used.}

\item{oda}{the original data frame of associations when argument ant is obtained with \code{perm.ds.focal} or \code{perm.ds.grp} ANT functions.}

\item{formula}{an object of class "formula" (or one that can be coerced to that class): a symbolic description of the model to be fitted. The details of model specification are given under ‘Details’.}

\item{family}{a description of the error distribution and link function to be used in the model. For glm this can be a character string naming a family function, a family function or the result of a call to a family function. For glm.fit only the third option is supported, see \code{\link{glm}} and \code{\link{family}}.}

\item{progress}{a boolean indicating the visualization of the permutation process.}

\item{start}{starting values for the parameters in the linear predictor.}

\item{control}{a list of parameters for controlling the fitting process.}

\item{model}{a logical value indicating whether model frame should be included as a component of the returned value.}

\item{method}{the method to be used in fitting the model. The default method "glm.fit" uses iteratively reweighted least squares (IWLS): the alternative "model.frame" returns the model frame and does no fitting.}

\item{x, y}{For glm: logical values indicating whether the response vector and model matrix used in the fitting process should be returned as components of the returned value.}

\item{contrasts}{an optional list. See the contrasts.arg of model.matrix.default.}

\item{...}{Extra arguments for \code{\link{glm}} function only.}
}
\value{
Returns a list of 3 elements :
\itemize{
\item An object of class inheriting from "glm" which inherits from the class "lm".
\item A data frame if the estimates of the permuted models.
\item A vector of integers indicating the permutations that returned model errors or warnings (e.g. model convergence issues) and for which new permutations were done.
}
}
\description{
Performs Generalized Linear Models tests and computes permuted p-values
}
\details{
This function is the first step in the process to create a t-test in permuted data. For more details on t-tests, see R documentation.
}
\examples{
t=met.degree(sim.m, sym = TRUE,sim.df,1) # Computing network metric
t=perm.net.nl(t,labels='age',rf=NULL,nperm=10,progress=FALSE) # Node label permutations
r.glm=stat.glm(ant = t,formula = degree ~ sex,progress=FALSE) # Permuted GLM
}
\references{
Dobson, A. J. (1990) An Introduction to Generalized Linear Models. London: Chapman and Hall.

Hastie, T. J. and Pregibon, D. (1992) Generalized linear models. Chapter 6 of Statistical Models in S eds J. M. Chambers and T. J. Hastie, Wadsworth & Brooks/Cole.

McCullagh P. and Nelder, J. A. (1989) Generalized Linear Models. London: Chapman and Hall.

Venables, W. N. and Ripley, B. D. (2002) Modern Applied Statistics with S. New York: Springer.
}
\seealso{
\code{glm}
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nodeskMetrics.R
\name{nodeskMetrics}
\alias{nodeskMetrics}
\title{ANTs tcltk GUI code.}
\usage{
nodeskMetrics()
}
\description{
tcltk code for ANT GUI.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/df.col.findId.R
\name{df.col.findId}
\alias{df.col.findId}
\title{Finds a data frame index}
\usage{
df.col.findId(df, label_name)
}
\arguments{
\item{df}{a data frame in which to find the index of a specific column(s).}

\item{label_name}{a character or numeric vector indicating the column name or index respectively.}
}
\value{
an numeric vector corresponding to the column index that matches argument label_name.
}
\description{
Finds the data frame index of a column from the name of the column or his index.
}
\details{
This function allows the user to select on or several columns according to their name(s) or their index(es).
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.dataStream.group.R
\name{perm.dataStream.group}
\alias{perm.dataStream.group}
\title{Data stream permutation for association data}
\usage{
perm.dataStream.group(df, scan, control_factor = NULL, perm,
  progress = TRUE, method = "sri")
}
\arguments{
\item{df}{A data frame.The data frame must have a column named 'ID'.}

\item{scan}{an integer indicating the column of scans of individuals association.}

\item{control_factor}{A confounding factor by which to control group associations.}

\item{perm}{number of permutations to perform.}

\item{progress}{a boolean indicating if the permutation process has to be visible.}

\item{method}{Which type of index to calculate:
\itemize{
\item 'sri' for Simple ratio index: \eqn{x \div x+yAB+yA+yB}
\item 'hw' for Half-weight index: \eqn{x/x+yAB+1/2(yA+yB)}
\item 'tw' for Twice-weigh index:\eqn{x/x+2yAB+yA+yB}
\item 'sr' for Square root index:\eqn{x/sqr((x+yAB+yA)(x+yAB+yB))}
}}
}
\value{
list of square association index matrices. The first element of the list is the non-permuted association index matrix.
}
\description{
Pre-network permutation on association data
}
\details{
Data stream permutation is a pre-network permutation approach. It is used on association data based on the gambit of the group.
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.assortativity.R
\name{met.assortativity}
\alias{met.assortativity}
\title{Assortativity}
\usage{
met.assortativity(M, attr, se = FALSE, weighted = TRUE, df = NULL,
  perm.nl = TRUE)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{attr}{a factor vector of attributes for categorical assortativity.
a numeric vector of attributes for continuous assortativity.}

\item{se}{a boolean, if \emph{TRUE} it computes the assortativity standard error.}

\item{weighted}{a boolean, if \emph{TRUE} it computes the weighted assortativity version of the network.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{perm.nl}{a boolean, if \emph{TRUE} it permutes argument \emph{attr}.}
}
\value{
\itemize{
\item a double representing the assortativity index of the network if argument \emph{M} is a square matrix.
\item A list of doubles if argument \emph{M} is a list of matrices and  if argument \emph{df} is \emph{NULL}. Each double representing the assortativity index of the corresponding matrix of the list.
\item A list of arguments \emph{df} with a new column of network assortativity if argument\emph{df} is not \emph{NULL} and if argument \emph{M} is a list of matrices. The name of the column is adapted according to arguments values \emph{weighted} and \emph{attr}.
\item A list of arguments \emph{df} with a new column of network assortativity if argument \emph{df} is not \emph{NULL}, if argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and if argument \emph{df} is a list of data frames of same length as argument \emph{M}.
}
}
\description{
Calculates the binary or weighted version of vertices Newman's assortativity for categorical or continuous attributes.
}
\details{
Assortativity allows the study of homophily (preferential interaction between nodes with similar attributes) and heterophily (the preferential interaction between nodes with different attributes). Attributes can be individual characteristics such as sex or age, or individual node metrics such as the met.degree.
}
\references{
Newman, M. E. (2003). Mixing patterns in networks. Physical Review E, 67(2), 026126.

Farine, D. R. (2014). Measuring phenotypic assortment in animal social networks: weighted associations are more robust than binary edges. Animal Behaviour, 89, 141-153.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.coutTriangles.R
\name{met.coutTriangles}
\alias{met.coutTriangles}
\title{Calculates the number of triangles in a network}
\usage{
met.coutTriangles(M)
}
\arguments{
\item{M}{an adjacency matrix.}
}
\value{
An integer representing the binary global clustering coefficient index of the network.
}
\description{
Calculates the number of triangles in a network.
}
\details{
It uses an algorithm similar to the Node-iterator-core algorithm.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.ci.R
\name{stat.ci}
\alias{stat.ci}
\title{Confidence interval}
\usage{
stat.ci(x, conf.level = 95)
}
\arguments{
\item{x}{a numeric vector.}

\item{conf.level}{confidence level of the interval.}
}
\value{
a numeric vector of length 2 with the lower and upper confidence interval.
}
\description{
Calculate 25, 50, 95 and 99 Confidence interval of a data set
}
\details{
Confidence interval allow to asses a level of certitude that the average of the 'population' is between a specific range.
}
\author{
Sebastian Sosa,Ivan Puga-Gonzalez
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim.df.R
\docType{data}
\name{sim.df}
\alias{sim.df}
\title{Simulated data frame}
\format{An object of class \code{data.frame} with 20 rows and 3 columns.}
\usage{
sim.df
}
\description{
This is a simulated data frame of individual characteristics
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{datasets}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{perm_dataStream_ControlFactor}
\alias{perm_dataStream_ControlFactor}
\title{Data Stream Group Fellow Permutations with control factor.}
\usage{
perm_dataStream_ControlFactor(GBIList, M, nperm, GBIIndexes, CumSizesGbis,
  progress, method)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{nperm}{an integer indicating the number of permutations to perform.}

\item{CumSizesGbis}{???}

\item{progress}{a boolean indicating if you wich to see the progression of the permutations.}
}
\value{
A list of Group By Individual matrices according to each scans perform.
}
\description{
Pre-network permutation on association data of Group fellow type with control factor.
}
\details{
Data stream permutations is a pre-network permutations approach. It is use on association data based on the gambit of the group. This permutations functunction is made for  data collected of the type of 'group fellow' and without control factors
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Ivan Puga-Gonzales, Sebastian Sosa.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{df_merge}
\alias{df_merge}
\title{Merge two data frames}
\usage{
df_merge(df1, df2)
}
\description{
Merge two data frames keeping the structure of the first one
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.outdegree.R
\name{met.outdegree}
\alias{met.outdegree}
\title{Outdegree}
\usage{
met.outdegree(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{outdegree} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{outdegree} if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{outdegree} titled 'outdegree', if argument \emph{df} is not \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{outdegree} if 1) argument \emph{df} is not \emph{NULL}, 2) argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and 3) argument \emph{df} is a list of data frames of same length as argument \emph{M}. The name of the column of each element of the list is adapted according to argument value \emph{binary}.
}
}
\description{
Calculates the node metric met.outdegree for all vertices.
}
\details{
Outdegree of a node \emph{i} is the sum of all the outgoing edges of a node \emph{i}.
}
\examples{
met.outdegree(sim.m)
head(sim.df)
met.outdegree(sim.m,df=sim.df)
}
\references{
Freeman, L. C. (1978). Centrality in social networks conceptual clarification. Social networks, 1(3), 215-239.

Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/assoc.gfi.R
\name{assoc.gfi}
\alias{assoc.gfi}
\title{Generalized affiliation index}
\usage{
assoc.gfi(M1, M2, fr = TRUE, sym = FALSE, erase.diag = TRUE,
  index = "sri")
}
\arguments{
\item{M1}{a square adjacency matrix representing individual interactions or associations. In the latter case associations have to be in the form of a gbi.}

\item{M2}{a square adjacency matrix representing individual values of confounding factors.}

\item{fr}{if \emph{true}, it considers the argument M1 as an adjacency matrix representing interaction frequencies between individuals.
Otherwise, it considers the argument M1 as an adjacency matrix representing associations between individuals.}

\item{sym}{if \emph{true}, it considers the argument M1 as an adjacency matrix representing symmetric interactions/associations.}

\item{erase.diag}{if \emph{true}, it omits the diagonal of the matrix.}

\item{index}{a string indicating the association index to compute:
\itemize{
\item 'sri' for Simple ratio index: \eqn{x/x+yAB+yA+yB}
\item 'hw' for Half-weight index: \eqn{x/x+yAB+1/2(yA+yB)}
\item 'sr' for Square root index:\eqn{x/sqr((x+yAB+yA)(x+yAB+yB))}
}}
}
\value{
a square adjacency matrix representing the generalized affiliation index between individuals.
}
\description{
Computes generalized affiliation indices based on a matrix of interactions or associations and a confounding factor.
}
\details{
Generalized affiliation indices allow to control for individual associations by a given confounding factor (such as temporal or spatial overlaps, gregariousness, social unit membership, kinship...).
The principle is to perform a Generalized Linear Regression (GLR) on both matrices (one representing the individual interactions/associations and the other one representing the confounding factor)
and to use GLR residuals as association indices. For an adjacency matrix representing individual interactions, the GLR belongs to the Poisson family. For an adjacency matrix representing individual associations, the GLR belongs to the Binomial family.
High positive values suggest strong associations between two individuals and negative values suggest avoidance between two individuals.
}
\references{
Whitehead, H., & James, R. (2015). Generalized affiliation indices extract affiliations from social network data. Methods in Ecology and Evolution, 6(7), 836-844.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{perm_vec_int}
\alias{perm_vec_int}
\title{Vector permutations.}
\usage{
perm_vec_int(x, nperm, progress)
}
\arguments{
\item{x}{a numeric vector.}

\item{progress}{a boolean indicating if you wich to see the progression of the permutations.}

\item{perm}{an integer indicating the number of permutations to perform.}
}
\value{
A list of vectors, each ones holding a different permutation.
}
\description{
permutes elements of a vector.
}
\details{
Permuting a vector can serve to realize node label permutation.
}
\references{
Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa,Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.tauKrPartial.R
\name{stat.tauKrPartial}
\alias{stat.tauKrPartial}
\title{Partial matrix TauKr correlations}
\usage{
stat.tauKrPartial(X, Y, Z, omitDiag = TRUE)
}
\arguments{
\item{X}{a square matrix of individual interactions or associations}

\item{Y}{a square matrix of individual interactions or attributes}

\item{Z}{a square matrix of individual interactions or attributes to use as a control in the matrix correlation between X and Y}

\item{omitDiag}{boolean to omit or not the diagonal from the matrices}
}
\value{
a list with the correlation coefficients 1) TauKrxy, 2) TauKrxz, 3) TauKryz, 4) TauKrxyz
}
\description{
Partial Matrix TauKr correlation without significant test.
}
\references{
Hemelrijk, C. K. 1990. A matrix partial correlation test used in investigations of reciprocity and other social interaction patterns at a group level. Journal of theoretical Biology, 143, 405-420.
}
\author{
Ivan Puga-Gonzalez, Sebastian Sosa.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.tauKrPermSig.R
\name{stat.tauKrPermSig}
\alias{stat.tauKrPermSig}
\title{Matrix TauKr correlations}
\usage{
stat.tauKrPermSig(X, Y, nperm = nperm, omitDiag = TRUE)
}
\arguments{
\item{X}{a square matrix of individual interactions or associations}

\item{Y}{a square matrix of individual interactions or attributes}

\item{nperm}{number of permutations.}

\item{omitDiag}{boolean to omit or not the diagonal from the matrices}
}
\value{
a list with the 1) TauKr coefficient value, p-value on the right 2) p-value on the left
}
\description{
Matrix TauKr correlation with significant test.
}
\references{
Hemelrijk, C. K. 1990. Models of, and tests for, reciprocity, unidirectional and other social interaction patterns at a group level. Animal Behavior, 39, 1013-1029
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/redo.perm.ds.grp.R
\name{met.all}
\alias{met.all}
\title{All node metrics}
\usage{
met.all(M, df, vec)
}
\description{
Computes all network metrics in ANT package according to the character vector input
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{mat_find0}
\alias{mat_find0}
\title{Find zeros in a Matrix.}
\usage{
mat_find0(m)
}
\arguments{
\item{m}{a matrix.}
}
\value{
A data frame with two columns the first one representing the row id and the second one trepresenting the column id of the zero cell.
}
\description{
Find empty cells in a matrix.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.degree.single.R
\name{perm.met.degree.single}
\alias{perm.met.degree.single}
\title{Link perm keeping structure on a single matrix}
\usage{
perm.met.degree.single(M, perm)
}
\arguments{
\item{M}{a square adjacency matrix or a list of square adjacency matrix.}

\item{perm}{number of perm wanted}
}
\value{
\itemize{
\item A list of prmuted matrices, if M is a single square adjacency matrix.
\item A list of list if M is a list of square adjacency matrix.
}
}
\description{
Permute row and/or columns of a matrix in order to keep links structure constant during perm.
}
\details{
Permutation of link and keeping link structure allow to study?????????
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ant.R
\name{ant}
\alias{ant}
\title{ANT diagnostic for permuted statistics}
\usage{
ant(x)
}
\arguments{
\item{x}{an ANT object from functions: stat.t, stat.c, stat.lm, stat.glm, stat.glmm pr a numeric vector or a data frame with only numeric values.}
}
\value{
A list of two elements fot stat.cor, stat.t functions:
\itemize{
\item A data frame with the permuted p-values (left side and right side), the confidence interval (25, 50 or 95) and the mean of the posterior distribution of the statistics of interest according to the statistical test (coefficient of correlation, t of students, or estimate(s))
\item An histogram of the posterior distribution of the statistics of interest according to the statistical test.
}
#' A list of four elements fot stat.lm, stat.glm, stat.glmm functions:
\itemize{
\item A data frame with the orginal stats of the model, and permuted p-values (left side and right side), the confidence interval (25, 50 or 95) and the mean of the posterior distribution of the statistics of interest according to the statistical test (coefficient of correlation, t of students, or estimate(s))
\item Diagnostic plot of the original model
\item An histogram of the posterior distribution of the statistics of interest according to the statistical test.
\item a vector of the permutations that generates errors and for which new permutations were performed.
}
}
\description{
ANT method to make a diagnostic of all ANT permutation tests. This method adapts the diagnostic results according to the data input. The
output is adapted to the type of test run. However, some outputs are common to all tests.
}
\examples{
t=met.strength(sim.m,sim.df,1) # Computing network metric
t=perm.net.nl(t,labels='age',rf=NULL,nperm=10,progress=FALSE) # Node label permutations
r.c=stat.cor(t,'age','strength',progress=FALSE) # Permuted correlation test
r=ant(r.c)
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.p.R, R/stat.p.R
\name{stat.p}
\alias{stat.p}
\title{P-value}
\usage{
stat.p(metrics, stat.hist = FALSE)

stat.p(metrics, stat.hist = FALSE)
}
\arguments{
\item{metrics}{an integer vector of permuted statistical values of interest}

\item{stat.hist}{if \emph{true}, a stat.hist of the posterior distribution is ploted. The observed metric is also ploted.}

\item{histogram}{if \emph{true}, an histogram of the posterior distribution is ploted. The observed metric is also ploted.}

\item{metrics}{an integer vector of permuted statistical values of interest}
}
\value{
\itemize{
\item  An integer vector of left and rigth p-values, if \emph{metrics} is an integer vector and if \emph{histogram} is \emph{false}.
\item  An integer vector of left and rigth p-values and an histogram of the posterior distribution, if \emph{metrics} is an integer vector and if \emph{histogram} is \emph{false}.
}

\itemize{
\item  An integer vector of left and rigth p-values, if \emph{metrics} is an integer vector and if \emph{stat.hist} is \emph{false}.
\item  An integer vector of left and rigth p-values and an histogram of the posterior distribution, if \emph{metrics} is an integer vector and if \emph{stat.hist} is \emph{false}.
}
}
\description{
Calculation of the p-value based on a posterior distribution through data permutations.

Calculation of the p-value based on a posterior distribution through data permutations.
}
\details{
Due to data dependency, a valuable p-value in social networking has to be computed through a null model approach.

Due to data dependency, a valuable p-value in social networking has to be computed through a null model approach.
}
\references{
Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.

Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.

Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{interanl}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{vec_char_as_factor}
\alias{vec_char_as_factor}
\title{As factor}
\usage{
vec_char_as_factor(vec)
}
\arguments{
\item{vec}{a vector.}
}
\value{
A vector of same length and order of the input vector.
}
\description{
Transform a vector into a factor vetor.
}
\details{
Permuting a vector can serve to realize node label permutation.
}
\references{
Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa,Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{list_to_df}
\alias{list_to_df}
\title{List to data frame.}
\usage{
list_to_df(a)
}
\arguments{
\item{lst}{a list.}
}
\value{
A data frame with the same number of columns as the list length.
}
\description{
Convert a list of vectors into a data frame
}
\author{
This function have been copy from Rcpp Gallery: http://gallery.rcpp.org/articles/faster-data-frame-creation/
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{redo_perm_dataStream_ControlFactor_scd}
\alias{redo_perm_dataStream_ControlFactor_scd}
\title{Data Stream Group Fellow cumulative permutations with control factor.}
\usage{
redo_perm_dataStream_ControlFactor_scd(GBIList, nperm, method)
}
\arguments{
\item{GBIList}{a list of gbis split according to the control(s) factors.}

\item{nperm}{an integer indicating the number of permutations to perform.}

\item{CumSizesGbis}{???}
}
\description{
Cumulative pre-network permutation on association data of Group fellow type with control factor.
}
\details{
Data stream permutations is a pre-network permutations approach. It is use on association data based on the gambit of the group. This permutations functunction is made for  data collected of the type of 'group fellow' and without control factors
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Ivan Puga-Gonzales, Sebastian Sosa.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.affinity.single.R
\name{met.affinity.single}
\alias{met.affinity.single}
\title{Affinity}
\usage{
met.affinity.single(M, df = NULL, dfid = NULL, binary = FALSE)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{df}{a data frame of same length of the input matrix.}

\item{binary}{a boolean, if \emph{true}, it calculates the binary version of the affinity.}
}
\value{
Integer vector of each vertices met.affinity.
}
\description{
Calculate for all the vertices the node metric call Affinity
}
\details{
Affinity is a second order metric that try to evaluate to which egos, node \emph{in} is connected. The binary version  is simply the average degree of alters of node i. The weighted version is ratio between the met.reach metric and the met.strength of node i.A high met.affinity reveals that nodes tend to be connected to alters of high degrees or strengths. Thus, both metrics provide information on node assortativity by vertex met.degree, i.e. connections between nodes with similar degrees or strengths.
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim.focal.directed.R
\docType{data}
\name{sim.focal.directed}
\alias{sim.focal.directed}
\title{Focal sampling directed data}
\format{An object of class \code{data.frame} with 100 rows and 4 columns.}
\usage{
sim.focal.directed
}
\description{
This is a simulated data frame of directed behaviour collected through focal sampling.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{datasets}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/redo.perm.ds.grp.R
\name{redo.ds.grp}
\alias{redo.ds.grp}
\title{Group fellow data stream function for error found in permutations}
\usage{
redo.ds.grp(family, new.perm, gbi, oda, odf, target.metrics, formula, Scan,
  method, ctrlf, fam, ...)
}
\description{
Performs cumulative data stream permutations for group fellow until the glmm found no error or warnings
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.t.R
\name{stat.t}
\alias{stat.t}
\title{T-test on data frame}
\usage{
stat.t(ant, formula, alternative = "two.sided", na.action = na.omit,
  mu = 0, paired = FALSE, var.equal = FALSE, progress = TRUE)
}
\arguments{
\item{ant}{an output of ANT function \code{perm.net.nl} without any random factor declared, or output of ANT 'met' categories functions in which output of ANT functions \code{perm.ds.focal}, \code{perm.ds.grp} or \code{perm.net.lk} where single matrix have been used.}

\item{formula}{a formula of the form lhs ~ rhs where lhs is a numeric variable giving the data values and rhs a factor with two levels giving the corresponding groups.}

\item{alternative}{a character string specifying the alternative hypothesis, must be one of "two.sided" (default), "greater" or "less". You can specify just the initial letter.}

\item{na.action}{a function which indicates what should happen when the data contain NAs. Defaults to getOption("na.action").}

\item{mu}{a number indicating the true value of the mean (or difference in means if you are performing a two sample test).}

\item{paired}{a logical indicating whether you want a paired t-test.}

\item{var.equal}{a logical variable indicating whether to treat the two variances as being equal. If TRUE then the pooled variance is used to estimate the variance otherwise the Welch (or Satterthwaite) approximation to the degrees of freedom is used.}

\item{progress}{a boolean indicating the visualization of the permutation process.}
}
\value{
a data frame with 2 columns: the t statistic, the met.degree of freedom, the confidence interval for var1 and 2, and the estimates for var1 and var2
}
\description{
Performs correlations T-test through observed and permuted data to calculate the p-value on the posterior distribution
}
\details{
t-test on permuted data allows to extract the posterior distribution of the value of interest. The posterior distribution allows to calculate the p-value. For more details about t-tests, see R documentation.
}
\examples{
t=met.strength(sim.m,sim.df,1) # Computing network metric
t=perm.net.nl(t,labels='age',rf=NULL,nperm=10,progress=FALSE) # Node label permutations
r.t=stat.t(t,formula = strength ~ sex,progress=FALSE) # Permuted t-test
}
\seealso{
\code{\link{t.test}}
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.indegree.R
\name{met.indegree}
\alias{met.indegree}
\title{Indegree}
\usage{
met.indegree(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{indegree} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{indegree} if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{indegree} titled 'indegree', if argument \emph{df} is not \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{indegree} if 1) argument \emph{df} is not \emph{NULL}, 2) argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and 3) argument \emph{df} is a list of data frames of same length as argument \emph{M}. The name of the column of each element of the list is adapted according to argument value \emph{binary}.
}
}
\description{
Calculates the node metric met.indegree for all vertices.
}
\details{
Indegree of a node \emph{i} is the sum of all edges directed towards node \emph{i}.
}
\examples{
met.indegree(sim.m)
head(sim.df)
met.indegree(sim.m,df=sim.df)
}
\references{
Freeman, L. C. (1978). Centrality in social networks conceptual clarification. Social networks, 1(3), 215-239.

Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.dataStream.focal.R
\name{perm.dataStream.focal}
\alias{perm.dataStream.focal}
\title{Converts a data frame of individual associations into a group by individual matrix.}
\usage{
perm.dataStream.focal(df, focal, scan, alters, nperm, progress = TRUE,
  method = "sri")
}
\arguments{
\item{df}{a data frame in which to include a control column.}

\item{scan}{a numeric or character vector representing one or more columns used as scan factors.}

\item{id}{a numeric or character vector indicating the column holding ids of individuals.}
}
\value{
The same data frame input with an extra column named 'control', representing the control factors.
}
\description{
Converts a data frame of individual associations into a group by individual matrix.
}
\details{
Control factors are used in permutation approaches to constrain their permutations.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.lm.R
\name{stat.lm}
\alias{stat.lm}
\title{Extracts statistical measures of interest in Linear Model}
\usage{
stat.lm(ant, formula, oda, progress = TRUE, method = "qr",
  model = TRUE, x = FALSE, y = FALSE, qr = TRUE,
  singular.ok = TRUE, contrasts = NULL, ...)
}
\arguments{
\item{ant}{an output of ANT function \code{perm.net.nl} without any random factor declared, or output of ANT 'met' categories functions in which output of ANT functions \code{perm.ds.focal}, \code{perm.ds.grp} or \code{perm.net.lk} where single matrices were used.}

\item{formula}{an object of class "formula" (or one that can be coerced to that class): a symbolic description of the model to be fitted. The details of model specification are given under ‘Details’.}

\item{oda}{the original data frame of associations when argument ant is obtained with perm.ds.grp or perm.ds.focal ANT functions.}

\item{progress}{a boolean indicating the visualization of the permutation process.}

\item{method}{the method to be used; for fitting, currently only method = "qr" is supported; method = "model.frame" returns the model frame (the same as with model = TRUE, see below).}

\item{model}{logicals. If TRUE the corresponding components of the fit (the model frame, the model matrix, the response, the QR decomposition) are returned.}

\item{x}{logicals. If TRUE the corresponding components of the fit (the model frame, the model matrix, the response, the QR decomposition) are returned.}

\item{y}{logicals. If TRUE the corresponding components of the fit (the model frame, the model matrix, the response, the QR decomposition) are returned.}

\item{qr}{logicals. If TRUE the corresponding components of the fit (the model frame, the model matrix, the response, the QR decomposition) are returned.}

\item{singular.ok}{logical. If FALSE (the default in S but not in R) a singular fit is an error.}

\item{contrasts}{an optional list. See the contrasts.arg of model.matrix.default.}

\item{...}{Extra arguments for \code{\link{lm}} function only.}
}
\value{
Returns a list of 3 elements :
\itemize{
\item An object of class "lm" or for multiple responses of class c("mlm", "lm").
\item A data frame if the estimates of the permuted models.
\item A vector of integers indicating the permutations that returned model errors or warnings (e.g. model convergence issues) and for which new permutations were done.
}
}
\description{
Performs correlations Generalized Linear Models tests and extracts estimates of predictor factors in each permuted model.
}
\details{
This function is the first step for performing t-tests in permuted data. For more details on t-tests, see R documentation.
}
\examples{
t=met.strength(sim.m,sim.df,1) # Computing network metric
t=perm.net.nl(t,labels='age',rf=NULL,nperm=10,progress=FALSE) # Node label permutations
r.lm=stat.lm(t,formula = strength ~ sex,progress=FALSE) # Permuted LM
}
\references{
Chambers, J. M. (1992) Linear models. Chapter 4 of Statistical Models in S eds J. M. Chambers and T. J. Hastie, Wadsworth & Brooks/Cole.

Wilkinson, G. N. and Rogers, C. E. (1973) Symbolic descriptions of factorial models for analysis of variance. Applied Statistics, 22, 392–9.
}
\seealso{
\code{\link{lm}}
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{perm_dataStream1}
\alias{perm_dataStream1}
\title{Data Stream Group Fellow Permutations without control factor.}
\usage{
perm_dataStream1(M, nperm, progress, method)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{nperm}{an integer indicating the number of permutations to perform.}

\item{progress}{a boolean indicating if you wich to see the progression of the permutations.}

\item{M}{a square adjacency matrix.}
}
\value{
A list of Group By Individual matrices according to each scans perform.
}
\description{
Pre-network permutation on association data of Group fellow type without control factor.
}
\details{
Data stream permutations is a pre-network permutations approach. It is use on association data based on the gambit of the group. This permutations functunction is made for  data collected of the type of 'group fellow' and without control factors
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Ivan Puga-Gonzales, Sebastian Sosa.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.net.links.single.R
\name{perm.net.links.single}
\alias{perm.net.links.single}
\title{Matrix edge permutations}
\usage{
perm.net.links.single(M, sym = FALSE, erase.diag = TRUE, nperm,
  progress = TRUE)
}
\arguments{
\item{M}{a square adjacency matrix .}

\item{sym}{if \emph{true} will vectorize only the lower triangle.}

\item{erase.diag}{if \emph{true} will not keep the diagonal of the matrix.}

\item{nperm}{number of permutations wanted.}

\item{progress}{a boolean indicating if the permutation process has to be visible.}
}
\description{
Permute matrix links.
}
\details{
Edge permutations can be used to create random networks based on the observed network. Such permutation method is useful when analysing patterns of interactions such as assortativity.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim.gbi.R
\docType{data}
\name{sim.gbi}
\alias{sim.gbi}
\title{Group by individual (GBI) matrix}
\format{An object of class \code{matrix} with 6 rows and 10 columns.}
\usage{
sim.gbi
}
\description{
This is a simulated Group by individual (GBI) matrix collected through group fellow sampling.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{datasets}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{mat_rows_sumsBinary}
\alias{mat_rows_sumsBinary}
\title{Binary version of row sum.}
\usage{
mat_rows_sumsBinary(x)
}
\arguments{
\item{m}{a matrix.}
}
\value{
An integer vector. Each elements correspond to the sum of non empty cells according to the corresponding row.
}
\description{
Count the number of non empty cells of each row of an adjacency matrix.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.assortativityCat.R
\name{met.assortativityCat}
\alias{met.assortativityCat}
\title{Assortativity}
\usage{
met.assortativityCat(M, attr, df = NULL)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{attr}{a factor or character vector indicating individuals categorical attributes appartenance.}
}
\value{
an integer representing the categorical assortativity index of the network.
}
\description{
Calculates the binary or weighted version of vertices Newman's assortativity for categorical or continuous attributes.
}
\details{
Assortativity (like the E-I index or the Moran 'I' statistic)  allows the study of homophily (preferential interaction between nodes with similar attributes) and heterophily (the preferential interaction between nodes with different attributes). Attributes can be individual characteristics such as sex or age, or individual node metrics such as the met.degree, in which case it is referred to as assortativity by vertex met.degree.
}
\references{
Newman, M. E. (2003). Mixing patterns in networks. Physical Review E, 67(2), 026126.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/redo.ds.focal.glm.R
\name{redo.ds.focal.glm}
\alias{redo.ds.focal.glm}
\title{Focal Data stream Recursive function for error found in permutations}
\usage{
redo.ds.focal.glm(family, formula, new.perm, gbi, gbi2, oda, odf,
  target.metrics, focal, ctrl, alters, index, start, control, model,
  method, x, y, contrasts, ...)
}
\description{
Performs cumulative data stream permutations for group fellow until the glmm found no error or warnings
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/check.matrix.R
\name{check.mat}
\alias{check.mat}
\title{Matrix ANT check}
\usage{
check.mat(M)
}
\arguments{
\item{M}{a square adjacency matrix or a list of square adjacency matrices}
}
\value{
Nothing if M is a square adjacency matrix or a list of square adjacencies matrices.
}
\description{
check if the input is a square adjacency matrix or a list of squares adjacency matrices.
}
\details{
tests if M is not a data frame and if M is a matrix and if it is a square matrix. If the input is a list then it check for all elements of the list if they are not a data frame and if they are a square adjacency matrix.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.lpcentEvcent.R
\name{met.lpcentEvcent}
\alias{met.lpcentEvcent}
\title{Laplacian centrality}
\usage{
met.lpcentEvcent(M, binary = FALSE)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{binary}{if if \emph{true}  then calculate the directed binary version of Laplacian centrality}
}
\description{
Calculate the directed weighted or binary Laplacian centrality for each verteces.
}
\details{
Laplacian centrality is the drop in the Laplacian energy of the graph when the vertex is removed
This version uses the eigenvalues to calculate laplacian centrality
}
\references{
REF laplacian !!!!!!!!!!!!!!!!

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{mat_binaryzation}
\alias{mat_binaryzation}
\title{Matrix binarization.}
\usage{
mat_binaryzation(M)
}
\arguments{
\item{M}{a data frame to know the total size of the concatenated vector.}
}
\value{
A matrix.
}
\description{
Convert matrix element higher to one in zeros.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{perm_dataStream1_focal}
\alias{perm_dataStream1_focal}
\title{Data Stream Group Fellow Permutations without control factor.}
\usage{
perm_dataStream1_focal(M, M2, nperm, progress, method)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{nperm}{an integer indicating the number of permutations to perform.}

\item{progress}{a boolean indicating if you wich to see the progression of the permutations.}

\item{M}{a square adjacency matrix.}
}
\value{
A list of Group By Individual matrices according to each scans perform.
}
\description{
Pre-network permutation on association data of Group fellow type without control factor.
}
\details{
Data stream permutations is a pre-network permutations approach. It is use on association data based on the gambit of the group. This permutations functunction is made for  data collected of the type of 'group fellow' and without control factors
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Ivan Puga-Gonzales, Sebastian Sosa.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{assoc_mat}
\alias{assoc_mat}
\title{Association indexes}
\usage{
assoc_mat(Mgbi, method)
}
\arguments{
\item{method}{a string indicating the type of association matrix:
\itemize{
\item 'sri' for Simple ratio index: \eqn{x/x+yAB+yA+yB}
\item 'hw' for Half-weight index: \eqn{x/x+yAB+1/2(yA+yB)}
\item 'sr' for Square root index:\eqn{x/sqr((x+yAB+yA)(x+yAB+yB))}
}}

\item{Mfbi}{a group by individual matrix.}
}
\value{
A square matrix of association according to association index choose:
}
\description{
Individual associations indexes.
}
\details{
Association indexes allow to handle  heterogeneity of time of observation.
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.disparity.R
\name{met.disparity}
\alias{met.disparity}
\title{Disparity}
\usage{
met.disparity(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{disparity} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{disparity} if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{disparity} titled 'disparity', if argument \emph{df} is not \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{disparity} if 1) argument \emph{df} is not \emph{NULL}, 2) argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and 3) argument \emph{df} is a list of data frames of same length as argument \emph{M}. The name of the column of each element of the list is adapted according to argument value \emph{binary}.
}
}
\description{
Calculates the node metric disparity for all vertices.
}
\details{
Disparity measures the variation of the weight of a node. This metric compares a node's strength with its degree. It informs on the type of edges a node \emph{i} has, \emph{i.e.} few strong edges or many weak edges.
Disparity of a vertex \emph{i} is the sum of the squares of the division between the weigthed edge between node \emph{i} and \emph{j} and the met.strength of node \emph{i}
}
\examples{
met.disparity(sim.m)
head(sim.df)
met.disparity(sim.m,df=sim.df)
}
\references{
Barthélemy, M., Barrat, A., Pastor-Satorras, R., & Vespignani, A. (2005). Characterization and modeling of weighted networks. Physica a: Statistical mechanics and its applications, 346(1-2), 34-43.

Whitehead, H. (2009). SOCPROG programs: analysing animal social structures. Behavioral Ecology and Sociobiology, 63(5), 765-778.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nodeskMetrics2.R
\name{nodeskMetrics2}
\alias{nodeskMetrics2}
\title{Interpret ANT GUI output}
\usage{
nodeskMetrics2(M, option, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a matrix}

\item{option}{a numeric vector issue from nodeskMetrics function.}

\item{df}{a data frame of same row number as the input matrix}
}
\description{
Interpret tcltk \emph{nodeskMetrics} function output
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.geodesic.R
\name{met.geodesic}
\alias{met.geodesic}
\title{Geodesic distances}
\usage{
met.geodesic(M, weighted = TRUE, shortest.weight = FALSE,
  normalization = TRUE, directed = TRUE, out = TRUE)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{weighted}{if \emph{true}, it binarizes the square adjacency matrix M. Geodesic distances and diameter are based only on the presence or absence of edges.}

\item{shortest.weight}{if \emph{false}, it considers the highest met.strength as the shortest path.}

\item{normalization}{normalizes the weights of the links i.e. divides them by the average strength of the network. Argument normalization can't be TRUE when argument weighted is FALSE.}

\item{directed}{if \emph{false}, then it symmetrizes the matrix. Otherwise, it calculates geodesic distances and diameter according to the directionality of the links.}

\item{out}{if \emph{true}, it considers outgoing ties.}
}
\value{
\itemize{
\item a matrix representing the geodesic distances of the network if argument \emph{M} is a square matrix.
\item A list of matrices if argument \emph{M} is a list of matrices. Each matrix represents the geodesic distances of the corresponding matrix of the list.
}
}
\description{
Calculates the geodesic distances of a network.
}
\details{
Binary network met.density is the ratio of existing links of a network in relation to all potential links.
}
\examples{
met.geodesic(sim.m)
}
\references{
Doreian, P. (1974). On the connectivity of social networks. Journal of Mathematical Sociology, 3(2), 245-258.

Burt, R. S. (1976). Positions in networks. Social forces, 55(1), 93-122.

Opsahl, T., Agneessens, F., & Skvoretz, J. (2010). Node centrality in weighted networks: Generalizing degree and shortest paths. Social networks, 32(3), 245-251.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{tobs_to_mat}
\alias{tobs_to_mat}
\title{Control heterogeneity of time of observation}
\usage{
tobs_to_mat(vec)
}
\description{
repeat a numeric vector n times, where n is the length of this vecctor
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{assoc_mat_full}
\alias{assoc_mat_full}
\title{Association indexes}
\usage{
assoc_mat_full(Mgbi, method)
}
\arguments{
\item{method}{a string indicating the type of association matrix:
\itemize{
\item 'sri' for Simple ratio index: \eqn{x/x+yAB+yA+yB}
\item 'hw' for Half-weight index: \eqn{x/x+yAB+1/2(yA+yB)}
\item 'sr' for Square root index:\eqn{x/sqr((x+yAB+yA)(x+yAB+yB))}
}}

\item{Mfbi}{a group by individual matrix.}
}
\value{
A square matrix of association according to association index choose:
}
\description{
Individual associations indexes.
}
\details{
Association indexes allow to handle  heterogeneity of time of observation.
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.lpEnergyDegree.R
\name{laplacian_energy_degrees}
\alias{laplacian_energy_degrees}
\title{Laplacian energy.}
\usage{
laplacian_energy_degrees(M)
}
\arguments{
\item{M}{a square adjacency matrix.}
}
\description{
Calculate the Laplacian energy.
}
\details{
Laplacian energy is the sum of squares of the eigenvalues in the Laplacian matrix.
This version use the met.degree to calculated the Laplacian energy.
}
\references{
REF laplacian !!!!!!!!!!!!!!!!

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/redo.perm.ds.grp.R
\name{redo.perm.ds.grp.cum.scd}
\alias{redo.perm.ds.grp.cum.scd}
\title{cumulative permutations on GBI or GBI with control factors}
\usage{
redo.perm.ds.grp.cum.scd(GBI, method, nperm, control_factor)
}
\arguments{
\item{GBI}{gbi or control gbi if control_factor in null or not respectivelly}
}
\value{
A list of two elements with all the permutations : 1) gbi or control gbi if control_factor in null or not respectivelly; 2) Association matrix
}
\description{
Performs cumulative data stream permutations for group fellow.
}
\details{
not need of data frame of individuals associations, permutation are directly done inside the gbi, and it return a new gbi or control gbi if control_factor in null or not respectivelly with the permutations
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.cor.R
\name{stat.cor}
\alias{stat.cor}
\title{Correlation test on permuted data.}
\usage{
stat.cor(ant, var1, var2, method = "pearson", progress = TRUE)
}
\arguments{
\item{ant}{an ant data object originating from permutations}

\item{var1}{an integer or string indicating the column in the data frames that corresponds to the first variable to correlate. This variable must be numerical.}

\item{var2}{an integer or string indicating the column in the data frames that corresponds to the second variable to correlate.This variable must be numerical.}

\item{method}{a string vector indicating which type of correlation to perform:
\itemize{
\item 'pearson' for pearson correlation
\item 'kendall' for kendall correlation
\item 'spearman' for spearman correlation
}}

\item{progress}{a boolean indicating the visualization of the permutation process.}
}
\value{
a vector of 3 elements: the t statistic, the degree of freedom, and the estimate.
}
\description{
This function is the first step in the process to create a correlation test in permuted data. For more details about correlation tests, see R documentation.
}
\details{
Performs correlations tests in a data frame and extracts the t statistic.
}
\examples{
t=met.strength(sim.m,sim.df,1) # Computing network metric
t=perm.net.nl(t,labels='age',rf=NULL,nperm=10,progress=FALSE) # Node label permutations
r.c=stat.cor(t,'age','strength',progress=FALSE) # Permuted correlation test
}
\references{
D. J. Best & D. E. Roberts (1975), Algorithm AS 89: The Upper Tail Probabilities of Spearman's rho. Applied Statistics, 24, 377-379.

Myles Hollander & Douglas A. Wolfe (1973), Nonparametric Statistical Methods. New York: John Wiley & Sons. Pages 185-194 (Kendall and Spearman tests).
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/time.heterogeneity.R
\name{time.heterogeneity}
\alias{time.heterogeneity}
\title{Create a matrix of time of observation per dyades}
\usage{
\method{time}{heterogeneity}(vec)
}
\arguments{
\item{vec}{a numeric vector}
}
\description{
Creat a a matrix of time of observation per dyades in order to control for time of observation
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{edgl_to_matrix}
\alias{edgl_to_matrix}
\title{Edge list to matrix}
\usage{
edgl_to_matrix(df, sym)
}
\arguments{
\item{df}{a data frame contening at leas three columns with the names: 'from','to' and 'weight', corresponding respectively to the individual emiting the beaheviour, the individual receving the beahviour, and the number of time this interaction occure.}

\item{sym}{a boolean if TRUE then the interactions are concider to be symetric.}
}
\value{
A square adjacency matrix.
}
\description{
Convert an edge list to a matrix.
}
\details{
Adjacency matrix is one of the numerous representation of a social network.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.betweenness.R
\name{met.betweenness}
\alias{met.betweenness}
\title{Betweenness centrality}
\usage{
met.betweenness(M, binary = FALSE, shortest.weight = FALSE,
  normalization = TRUE, sym = FALSE, out = TRUE, df = NULL,
  dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{binary}{ia boolean, if \emph{TRUE}, it calculates the binary version of the betweenness centrality.}

\item{shortest.weight}{if \emph{FALSE}, it considers the highest \emph{strength} as the shortest path.}

\item{normalization}{normalizes the weigths of the links i.e. divides them by the average strength of the network. Argument normalization can't be \emph{TRUE} when argument binary is \emph{FALSE}.}

\item{sym}{if \emph{TRUE}, then it symmetrizes the matrix. Otherwise, it calculates geodesic distances and diameter according to the directionality of the links.}

\item{out}{if \emph{TRUE}, it considers outgoing ties to compute shortest paths.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{betweenness} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{betweenness} if argument \emph{M} is a list and if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{betweenness} if argument \emph{df} is not \emph{NULL}. The name of the column is adapted according to arguments \emph{binary}, \emph{shortest.weight}, \emph{normalization}, \emph{sym} and \emph{out}.
\item A list of arguments df with a new column for nodes \emph{betweenness} if argument \emph{df} is not \emph{NULL}, if argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and if argument \emph{df} is a list of data frames of same length as argument \emph{M}.
}
}
\description{
Computes node betweenness centrality of all nodes of the network.
}
\details{
Betweenness is the number of times a node is included in the shortest paths (geodesic distances) between all the potential combinations of edges of the other nodes. As it directly derives from the geodesic distance, it is important to pay attention to how the investigator intends to calculate geodesic distances (binary or weighted, directed or undirected, and using the lowest or the highest strength as the shortest path). Betweenness provides a specific centrality measure insofar that it informs on the role of a node in the transmission of information as nodes with high betweenness are likely to constitute bridges that connect subgroups.
}
\examples{
met.betweenness(sim.m)
head(sim.df)
met.betweenness(sim.m,df=sim.df)
}
\references{
Freeman, L. C. (1978). Centrality in social networks conceptual clarification. Social networks, 1(3), 215-239.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Hu Feng He, Sebastian Sosa, Ivan Puga-Gonzalez, Xiaohua Xie.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.net.nl.R
\name{perm.net.nl}
\alias{perm.net.nl}
\title{Node label permutations with or without random factor(s)}
\usage{
perm.net.nl(ldf, labels, rf = NULL, nperm, progress = TRUE)
}
\arguments{
\item{ldf}{a list of data frames, with each data frame representing a subset of the random factors (e.g. groups and/or periods)}

\item{labels}{a numeric or character vector representing the labels to permute.}

\item{rf}{an integer (column id) or a string (column name) indicating the column holding the factor grouping multiple networks.}

\item{nperm}{an integer indicating the number of permutations wanted.}

\item{progress}{a boolean indicating the visualization of the permutation process.}
}
\value{
A list of data frames. Each data frame is the merger of the input lists of data frames. The first element of the list is the original input data, the other elements are the different permutations.
}
\description{
Performs node label permutations.
}
\details{
Node label permutations for GLMM models need to permute labels within a control factor.
}
\examples{
df=met.strength(sim.m,df=sim.df)
t=perm.net.nl(df,labels='sex',rf=NULL,nperm=1000,progress=TRUE)
}
\references{
Croft, D. P., James, R., & Krause, J. (2008). Exploring animal social networks. Princeton University Press.

Croft, D. P., Madden, J. R., Franks, D. W., & James, R. (2011). Hypothesis testing in animal social networks. Trends in Ecology & Evolution, 26(10), 502-507.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{mat_filter}
\alias{mat_filter}
\title{Matrix filtering}
\usage{
mat_filter(m, threshold, replace)
}
\arguments{
\item{m}{a matrix.}

\item{threshold}{a value above wich the cells of the matrix will be keep.}

\item{replace}{a doubl eindicating the value by which replace the replace elements.}
}
\value{
A matix.
}
\description{
Filtering matrix cells according to a threshold and replace them by a bouble.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.degree.R
\name{met.degree}
\alias{met.degree}
\title{Degree}
\usage{
met.degree(M, sym = TRUE, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{sym}{if \emph{TRUE}, then it symmetrizes the matrix, and computes the sums of the presencence/abscence of an edge between the focal node and it's alters without acounting for direction (i.e. it computes the number of alters). Otherwise, it computes the sum of the presencence/abscence of the indegrees and outdegrees between the focal node and it's alters.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{degree} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{degree} if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{degree} titled 'degree', if argument \emph{df} is not \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{degree} if 1) argument \emph{df} is not \emph{NULL}, 2) argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and 3) argument \emph{df} is a list of data frames of same length as argument \emph{M}. The name of the column of each element of the list is adapted according to argument value \emph{binary}.
}
}
\description{
Calculates the node metric degree for all vertices.
}
\details{
Node degree \emph{i} is the sum of edges of \emph{i}, it represents the number of alters.
}
\examples{
met.degree(sim.m)
head(sim.df)
met.degree(sim.m,df=sim.df)
}
\references{
Freeman, L. C. (1978). Centrality in social networks conceptual clarification. Social networks, 1(3), 215-239.

Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{vec_levels}
\alias{vec_levels}
\title{Uniques}
\usage{
vec_levels(v)
}
\description{
find uniques elements in a vector
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/convert.socprog.R
\name{convert.socprog}
\alias{convert.socprog}
\title{Converts Socprog data frame}
\usage{
convert.socprog(df, id, scan, sep = ";")
}
\arguments{
\item{df}{a 'dyadic' or 'group' data frame socprog format}

\item{id}{an integer or string indicating the column of ids}

\item{scan}{an integer or string vector indicating the column of the scans}

\item{sep}{a character indicating the type of sepration between individuals inside one scan}
}
\description{
Converts socprog 'Group mode' data frame (one scan per line with several individuals observed during the scan)
}
\examples{
head(sim.socprog)
convert.socprog(sim.socprog,id=3,scan=c(1,2),sep=";")
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{redo_perm_dataStream_ControlFactor}
\alias{redo_perm_dataStream_ControlFactor}
\title{Data Stream Group Fellow cumulative permutations with control factor.}
\usage{
redo_perm_dataStream_ControlFactor(GBIList, M, nperm, CumSizesGbis, method)
}
\arguments{
\item{GBIList}{a list of gbis split according to the control(s) factors.}

\item{nperm}{an integer indicating the number of permutations to perform.}

\item{CumSizesGbis}{???}
}
\description{
Cumulative pre-network permutation on association data of Group fellow type with control factor.
}
\details{
Data stream permutations is a pre-network permutations approach. It is use on association data based on the gambit of the group. This permutations functunction is made for  data collected of the type of 'group fellow' and without control factors
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Ivan Puga-Gonzales, Sebastian Sosa.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.deletionsPlot.R
\name{stat.deletionsPlot}
\alias{stat.deletionsPlot}
\title{Plot for network deletion simulations}
\usage{
stat.deletionsPlot(ant, col.target = NULL, col.random = NULL)
}
\arguments{
\item{ant}{an ant object returned by function sta.deletion}

\item{col.target}{a character indicating the color of the target deletions}

\item{col.random}{a character indicating the color of the random deletions}
}
\description{
Plot mean and stard deviation of the deletion simulation in the form of dual line plots.
}
\details{
knockout analysis allows the study of resilience properties of networks when specific nodes are removed. It is usually compared with random deletions.
}
\examples{
M=matrix(sample(c(1:20),100,TRUE),ncol=10,nrow=10)
diag(M)=0
attr=sample(c('a','b'),10,TRUE)
target='a' #categorical target node attributes
t=stat.deletions(M,attr = attr,target = target,nsim = 2,ndel=4)
stat.deletionsPlot(t)
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.model.diag.R
\name{stat.model.diag}
\alias{stat.model.diag}
\title{Diagnostic plot for lm, glm, lmer,glmer models}
\usage{
stat.model.diag(model)
}
\arguments{
\item{model}{a lm, glm, lmer or glmer object}

\item{formula}{the formula use in the model}
}
\description{
plot Fitted values Vs residuals and residuals qqnorm plot
}
\author{
Sebastian Sosa, Ivan Puga Gonzalez
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/assoc.indices.R
\name{assoc.indices}
\alias{assoc.indices}
\title{Association indices}
\usage{
assoc.indices(gbi, index = "sri")
}
\arguments{
\item{gbi}{a group by individual matrix.}

\item{index}{a string indicating the association index to compute:
\itemize{
\item 'sri' for Simple ratio index: \eqn{x/x+yAB+yA+yB}
\item 'hw' for Half-weight index: \eqn{x/x+yAB+1/2(yA+yB)}
\item 'sr' for Square root index:\eqn{x/sqr((x+yAB+yA)(x+yAB+yB))}
}}
}
\value{
A square matrix of individual association indices.
}
\description{
Compute several association indices.
}
\examples{
sim.gbi
assoc.indices(gbi=sim.gbi,index='sri')
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{vec_sum}
\alias{vec_sum}
\title{Sum}
\usage{
vec_sum(x)
}
\description{
Sum vector elements
}
\details{
from http://gallery.rcpp.org/articles/parallel-vector-sum/
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim.m.R
\docType{data}
\name{sim.m}
\alias{sim.m}
\title{Simulated Matrix of interactions}
\format{An object of class \code{matrix} with 20 rows and 20 columns.}
\usage{
sim.m
}
\description{
This is a simulated Matrix of interaction.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{datasets}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.reach.R
\name{met.reach}
\alias{met.reach}
\title{Reach centrality}
\usage{
met.reach(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{reach centrality} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{reach centrality} if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{reach centrality} titled 'reach centrality', if argument \emph{df} is not \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{reach centrality} if 1) argument \emph{df} is not \emph{NULL}, 2) argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and 3) argument \emph{df} is a list of data frames of same length as argument \emph{M}. The name of the column of each element of the list is adapted according to argument value \emph{binary}.
}
}
\description{
Calculates the weighted node metric 'reach centrality' for all vertices.
}
\details{
Reach is the sum of the product of ego's and alters' strengths and alters' degrees.
}
\examples{
met.reach(sim.m)
head(sim.df)
met.reach(sim.m,df=sim.df)
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/df.to.gbi.focal.R
\name{df.to.gbi.focal}
\alias{df.to.gbi.focal}
\title{Converts a data frame of individual associations into a group by individual matrix.}
\usage{
df.to.gbi.focal(df, focal, alters, ctrl)
}
\arguments{
\item{df}{a data frame in which to include a control column.}

\item{scan}{a numeric or character vector representing one or more columns used as scan factors.}

\item{id}{a numeric or character vector indicating the column holding ids of individuals.}
}
\value{
The same data frame input with an extra column named 'control', representing the control factors.
}
\description{
Converts a data frame of individual associations into a group by individual matrix.
}
\details{
Control factors are used in permutation approaches to constrain their permutations.
}
\examples{
df.to.gbi.focal(df=sim.focal.undirected,focal='focal', alters='alter',ctrl='nfocal')
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{vec_vec_multiply}
\alias{vec_vec_multiply}
\title{Vectors multiply}
\usage{
vec_vec_multiply(x, y)
}
\description{
Multiply two vectors
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/df.to.mat.R
\name{df.to.mat}
\alias{df.to.mat}
\title{Data frame to a matrix}
\usage{
df.to.mat(df, actor, receiver, weighted = NULL, tobs = NULL,
  sym = FALSE, num.ids = FALSE)
}
\arguments{
\item{df}{a data frame of interactions or associations.}

\item{actor}{an integer or a string indicating the column of the individuals performing the behaviour.}

\item{receiver}{an integer or a string indicating the column of the individuals receiving the behaviour.}

\item{weighted}{an integer or a string indicating the column of the weights of interactions. If NULL, interactions are given a weight of 1.}

\item{tobs}{an numeric vector or a list of numeric vectors of each individual time of observation. It has to be alphabetically ordered following unique id names.}

\item{sym}{a boolean if \emph{true}, interactions or associations are considered symmetric.}

\item{num.ids}{a boolean if \emph{true}, it returns ordered matrix according to the numeric ids.}
}
\value{
An adjacency matrix (undirected if argument \emph{sym} is true, directed otherwise).
}
\description{
Converts a data frame into a matrix.
}
\details{
Converts a data frame of interactions or associations into an adjacency matrix of interactions or associations.
}
\examples{
head(sim.focal.directed)
df.to.mat(df=sim.focal.directed,actor='actor', receiver='receiver')
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.robustness.R
\name{met.robustness}
\alias{met.robustness}
\title{Metric robustness}
\usage{
met.robustness(df, subsampling = c(5, 10, 20, 30, 40, 50),
  metric = "met.strength", assoc.indices = FALSE, actor, receiver,
  scan, id, index = "sri", ...)
}
\arguments{
\item{df}{a data frame of individual associations}

\item{subsampling}{a vector of integers indicating the percentage of data to remove}

\item{metric}{the network metric to compute}

\item{assoc.indices}{a bollean indicating if association indices have to be use}

\item{actor}{If argument assoc.indices is FALSE fill this argument, an integer or a string indicating the column of the individuals performing the behaviour.}

\item{receiver}{If argument assoc.indices is FALSE fill this argument, an integer or a string indicating the column of the individuals receiving the behaviour.}

\item{scan}{If argument assoc.indices is TRUE fill this argument, ana numeric or character vector representing one or more columns used as scan factors.}

\item{id}{If argument assoc.indices is TRUE fill this argument, ana numeric or character vector indicating the column holding ids of individuals.}
}
\value{
3 elements:
\itemize{
\item A matrix in which each columns represent a node metric variation throough bootstraping, with the first row representing the original metric.
\item A summary of bootstrap distribution for each nodes.
\item A plot of the 
}
}
\description{
Perform a matrix boostrapping approach to estimate the confidence intervals surrounding each pairwise association.
}
\details{
This process evaluate networks metrics robustness by performing a boostrapp process to remove a certain percent of the data collected and recomputing the network metric of intereste. This have been usde in Balasubramaniam et al. 2018 to asses sensitivty of sampling effor of global network metrics in primates networks.
}
\references{
Balasubramaniam, K. N., Beisner, B. A., Berman, C. M., De Marco, A., Duboscq, J., Koirala, S., ... & Ogawa, H. (2018). The influence of phylogeny, social style, and sociodemographic factors on macaque social network structure. American journal of primatology, 80(1), e22727.
}
\author{
Sebastian Sosa
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{vec_vec_sum}
\alias{vec_vec_sum}
\title{Vectors multiply}
\usage{
vec_vec_sum(x, y)
}
\description{
Multiply two vectors
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mat.binaryzation.R
\name{mat.binaryzation}
\alias{mat.binaryzation}
\title{Matrix binarization.}
\usage{
mat.binaryzation(M)
}
\arguments{
\item{M}{a data frame to know the total size of the concatenated vector.}
}
\value{
A matrix.
}
\description{
Convert matrix element higher to one in zeros.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/df.to.gbi.R
\name{df.to.gbi}
\alias{df.to.gbi}
\title{Data frame to GBI.}
\usage{
df.to.gbi(df, scan, id)
}
\arguments{
\item{df}{a data frame of individual associations.}

\item{scan}{a numeric or character vector representing one or more columns used as scan factors.}

\item{id}{a numeric or character vector indicating the column holding ids of individuals.}
}
\value{
A group by individual matrix.
}
\description{
Converts a data frame of individual associations into a group by individual matrix.
}
\details{
Several association indices are coputed on GBI.
}
\examples{
head(sim.grp)
df.to.gbi(sim.grp,scan=c('location','time'),id='ID')
}
\seealso{
\code{assoc.indices}
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{met_ei}
\alias{met_ei}
\title{Eigenvector centrality}
\usage{
met_ei(m)
}
\arguments{
\item{m}{a matrix.}
}
\value{
A numeric vector corresponding to the Eigenvector centrality of each nodes.
}
\description{
compute the eigenvecto centrality for each vertices through Armadillo c++ library.
}
\details{
EigenvectorCpp centrality is the first non-negative met.eigenvector value obtained through the linear transformation of an adjacency matrix. This centrality measure quantifies not only a node connectedness, but also the connections of the nodes to whom it is connected. Thus, a node can have a high met.evcent value by having a high met.degree or met.strength, or by being connected to nodes that have high degrees or strengths.
}
\references{
Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{mat_cols_sums}
\alias{mat_cols_sums}
\title{From Column Sums.}
\usage{
mat_cols_sums(m)
}
\arguments{
\item{m}{a matrix.}
}
\value{
An integer vector. Each elements correspond to the sum of the corresponding column.
}
\description{
Column Sums of an adjacency matrix.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.eigen.R
\name{met.eigen}
\alias{met.eigen}
\title{Eigenvector Centrality}
\usage{
met.eigen(M, df = NULL, dfid = NULL, sym = TRUE, binary = FALSE,
  out = FALSE)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}

\item{sym}{if \emph{TRUE}, then it symmetrizes the matrix. Otherwise, it calculates geodesic distances and diameter according to the directionality of the links.}

\item{binary}{a boolean, if \emph{TRUE}, it calculates the binary version of the eigenvector centrality.}

\item{out}{if \emph{TRUE}, it considers outgoing ties to compute the shortest paths.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{eigenvector centrality} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{eigenvector centrality} if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{eigenvector centrality} if argument\emph{df} is not \emph{NULL}. The name of the column is adapted according to arguments value \emph{binary}, \emph{sym} and \emph{out}.
\item A list of arguments df with a new column for nodes \emph{eigenvector centrality} if 1) argument \emph{df} is not \emph{NULL}, 2) argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and 3) argument \emph{df} is a list of data frames of same length as argument \emph{M}.The name of the column of each element of the list is adapted according to argument value \emph{binary}.
}
}
\description{
Calculates the node metric met.evcent centrality for all vertices.
}
\details{
Eigenvector centrality is the first non-negative met.evcent value obtained through the linear transformation of an adjacency matrix. This centrality measure quantifies not only a node connectedness, but also the connections of the nodes to whom it is connected. Thus, a node can have a high met.evcent value by having a high met.degree or met.strength, or by being connected to nodes that have high degrees or strengths.
}
\examples{
met.eigen(sim.m)
head(sim.df)
met.eigen(sim.m,df=sim.df)
}
\references{
Bonacich, P. (1972). Factoring and weighting approaches to status scores and clique identification. Journal of mathematical sociology, 2(1), 113-120.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.affinity.R
\name{met.affinity}
\alias{met.affinity}
\title{Affinity}
\usage{
met.affinity(M, df = NULL, dfid = NULL, binary = FALSE)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}

\item{binary}{a boolean, if \emph{TRUE}, it calculates the binary version of the affinity.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{affinity} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{affinity} if argument \emph{M} is a list of matrices and  if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{affinity} if argument\emph{df} is not \emph{NULL}. The name of the column is adapted according to argument value \emph{binary}.
\item A list of arguments df with a new column for nodes \emph{affinity} if 1) argument \emph{df} is not \emph{NULL}, 2) argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and 3) argument \emph{df} is a list of data frames of same length as argument \emph{M}.The names of the column of each element of the list is adapted according to argument value \emph{binary}.
}
}
\description{
Calculates the node metric \emph{affinity} for all the nodes of the network
}
\details{
Affinity is a second-order metric that evaluates how alters of node i are connected.
The binary version is the average degree of alters of node i.
The weighted version is the ratio between the metric reach and the strength of node i. A high affinity reveals that nodes tend to be connected to alters with high degrees or strengths.
Thus, this metric informs on node assortativity by vertex met.degree, i.e. connections between nodes with similar degrees or strengths.
}
\examples{
met.affinity(sim.m)
head(sim.df)
met.affinity(sim.m,df=sim.df)
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{df_to_gbi}
\alias{df_to_gbi}
\title{Group by individual matrix.}
\usage{
df_to_gbi(d, col_scan, col_id, uIds, uScans)
}
\arguments{
\item{d}{a data frame.}

\item{col_scan}{an integer indicating the column number holding the information of the scans.}

\item{col_id}{an integer indicating the column number holding the individuals observations.}

\item{uIds}{a character vector holding all the ids of the individuals.}

\item{uScans}{a character vector holding all the ids of the scans.}
}
\value{
A group by individual matrix.
}
\description{
Convert a data frame into a group by individual matrix.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.redo.R
\name{perm.redo}
\alias{perm.redo}
\title{Repeats a permutation according to random factors}
\usage{
perm.redo(df, labels, ctrl)
}
\arguments{
\item{df}{a list of data frame with each data frame representing a subset of the random factors (e.g. groups and/or periods)}

\item{labels}{a numeric or character vector representing the labels to permute.}

\item{ctrl}{a numeric or character vector representing one or more columns that will be use as control facors.}
}
\value{
a data frame in which the data frames of the list are merged, each data frame being permuted according to the input argument labels.
}
\description{
Performs node label permutations for GLMM by intra random factor label permutations.
}
\details{
This is a function to repeat a permutation according to random factors. It allows to handle GLMM warnings or errors that may appear due to the permutation approach.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.GE.single.R
\name{met.ge.single}
\alias{met.ge.single}
\title{Global efficiency}
\usage{
met.ge.single(m, weighted = TRUE, shortest.weight = FALSE,
  normalization = TRUE, directed = TRUE, out = TRUE)
}
\arguments{
\item{m}{a square adjacency matrix.}

\item{weighted}{if \emph{false}, it binarizes the square adjacency matrix M. Geodesic distances and diameter are based only on the presence or absence of edges.}

\item{shortest.weight}{if \emph{false}, it considers the higher met.strength as the shortest path.}

\item{normalization}{normalizes the weigths of the links i.e. divides them by the average strength of the network.}

\item{directed}{if \emph{false}, it symmetrizes the matrix. Otherwise, it calculates geodesic distances and diameter according to the directionality of the links.}

\item{out}{if \emph{true}, it considers}
}
\value{
An interger representing the global efficiency.
}
\description{
Calculates the global efficiency of a network.
}
\details{
The global efficiency provides a measure of how efficiently information is exchanged in a network. It can be calculated in binary or weighted networks, and for undirected or directed networks. Depending on the problematic, care is needed for the choice of calculation method (binary or weighted, directed or undirected, and using the lowest or the highest met.strength as shortest path).
}
\references{
Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{perm_vec_factor}
\alias{perm_vec_factor}
\title{Permute factor vector.}
\usage{
perm_vec_factor(vec)
}
\arguments{
\item{x}{a numeric vector.}

\item{progress}{a boolean indicating if you wich to see the progression of the permutations.}
}
\value{
A list of vectors, each ones holding a different permutation.
}
\description{
Permutes elements of a vector.
}
\details{
Permuting a vector can serve to realize node label permutation.
}
\references{
Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa,Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.eigen.single.R
\name{met.eigen.single}
\alias{met.eigen.single}
\title{Eigenvector Centrality}
\usage{
met.eigen.single(M, df = NULL, dfid = NULL, sym = TRUE, binary = FALSE,
  out = FALSE)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{df}{a data frame of same length of the input matrix.}

\item{dfid}{an integer indicating the column of individual ids in argument \emph{df}}
}
\value{
Integer vector of each met.evcent centrality.
}
\description{
Calculate for all the vertices the node metric call met.evcent centrality.
}
\details{
met.evcent centrality is the first non-negative met.evcent value obtained through the linear transformation of an adjacency matrix. This centrality measure quantifies not only a node connectedness, but also the connections of the nodes to whom it is connected. Thus, a node can have a high met.evcent value by having a high met.degree or met.strength, or by being connected to nodes that have high degrees or strengths.
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{mat_col_sumsBinary}
\alias{mat_col_sumsBinary}
\title{Binary version of column sum.}
\usage{
mat_col_sumsBinary(m)
}
\arguments{
\item{m}{a matrix.}
}
\value{
An integer vector. Each elements correspond to the sum of non empty cells according to the corresponding column.
}
\description{
Count the number of non empty cells of each columns of an adjacency matrix.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.net.degree.R
\name{perm.net.degree}
\alias{perm.net.degree}
\title{Link permutation keeping the structure}
\usage{
perm.net.degree(M, nperm)
}
\arguments{
\item{M}{a square adjacency matrix or a list of square adjacency matrices.}

\item{nperm}{number of permutations wanted.}
}
\value{
\itemize{
\item A list of permuted matrices, if M is a single square adjacency matrix.
\item A list of a list of permuted matrices if M is a list of square adjacency matrices.
}
}
\description{
Permutes the rows and/or the columns of a matrix to maintain the link structure during the permutation process.
}
\details{
Link permutation maintaining the link structure, is usually used for matrix correlation or regression.
}
\examples{
t=perm.net.degree(sim.m,nperm=10)
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{mat_dim}
\alias{mat_dim}
\title{Dimensions of a matrix}
\usage{
mat_dim(m)
}
\arguments{
\item{m}{a matrix.}
}
\value{
A numeric vector with two elements. The first one correspond to the number of row and the second one correspond to the number of columns.
}
\description{
Retrieve or set the dimension of Matrix.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{vec_unique}
\alias{vec_unique}
\title{Vector uniques}
\usage{
vec_unique(v)
}
\description{
Find uniques element of one vecotr
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/redo.perm.ds.grp.R
\name{redo.perm.ds.grp.cum}
\alias{redo.perm.ds.grp.cum}
\title{Function for cumulative permutations on a data frame of associations}
\usage{
redo.perm.ds.grp.cum(df, Scan, method, control_factor, nperm)
}
\arguments{
\item{df}{a data frame of individuals associations}
}
\value{
A list of two elements with all the permutations : 1) gbi or control gbi if control_factor in null or not respectivelly; 2) Association matrix
}
\description{
Performs cumulative data stream permutations for group fellow.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mat.vectorization.R
\name{mat.vectorization}
\alias{mat.vectorization}
\title{Matrix vectorization}
\usage{
mat.vectorization(M, sym = FALSE, erase.diag = TRUE)
}
\arguments{
\item{M}{an adjacency matrix or list of adjacency matrices.}

\item{sym}{if \emph{true} will vectorize only the lower triangle.}

\item{erase.diag}{if \emph{true} will not keep the diagonal of the matrix.}
}
\description{
Transform a matrix into a vector.
}
\details{
Transform an adjacency matrix (symetric or not) into a vector.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.lpcB.R
\name{met.lpcB}
\alias{met.lpcB}
\title{Binary symetric Laplacian centrality}
\usage{
met.lpcB(M)
}
\arguments{
\item{M}{a square adjacency matrix.}
}
\description{
Calculate the binary symetric Laplacian centrality for each verteces.
}
\details{
Laplacian centrality is the drop in the Laplacian energy of the graph when the vertex is removed
This version uses the degrees to calculate laplacian centrality
}
\references{
REF laplacian !!!!!!!!!!!!!!!!

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.tauKrSimple.R
\name{stat.tauKrSimple}
\alias{stat.tauKrSimple}
\title{Matrix TauKr correlations}
\usage{
stat.tauKrSimple(X, Y, omitDiag = omitDiag)
}
\arguments{
\item{X}{a square matrix of individual interactions or associations}

\item{Y}{a square matrix of individual interactions or attributes}

\item{omitDiag}{boolean to omit or not the diagonal from the matrices}
}
\value{
TauKr coefficient value
}
\description{
Matrix TauKr correlation with significant test.
}
\references{
Hemelrijk, C. K. 1990. Models of, and tests for, reciprocity, unidirectional and other social interaction patterns at a group level. Animal Behavior, 39, 1013-1029
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.

Ivan Puga-Gonzalez, Sebastian Sosa.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim.gbi.att.R
\docType{data}
\name{sim.gbi.att}
\alias{sim.gbi.att}
\title{Dyadic attributes for sim.gbi data}
\format{An object of class \code{matrix} with 10 rows and 10 columns.}
\usage{
sim.gbi.att
}
\description{
This is a simulated matrix of dyadic attributes to use as argument M2 in assoc.gfi function.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{datasets}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/import.mat.R
\name{import.mat}
\alias{import.mat}
\title{Imports matrices}
\usage{
import.mat(header = TRUE, sep = ",", row.names = 1, ...)
}
\arguments{
\item{header}{a logical value indicating whether the file contains the names of the variables as its first line. If missing, the value is determined from the file format: header is set to TRUE if and only if the first row contains one fewer field than the number of columns.}

\item{sep}{the field separator character. Values on each line of the file are separated by this character. If sep = "" (the default for read.table) the separator is ‘white space’, that is one or more spaces, tabs, newlines or carriage returns.}

\item{row.names}{a vector of row names. This can be a vector giving the actual row names, or a single number giving the column of the table which contains the row names, or character string giving the name of the table column containing the row names.
If there is a header and the first row contains one fewer field than the number of columns, the first column in the input is used for the row names. Otherwise if row.names is missing, the rows are numbered.
Using row.names = NULL forces row numbering. Missing or NULL row.names generate row names that are considered to be ‘automatic’ (and not preserved by as.matrix).}

\item{...}{Further arguments to be passed to \code{read.csv}.}
}
\description{
Imports all current directory filesin the format of a list of matrices.
}
\details{
returns a single matrix if there is only one file in the folder or a list of matrices in the same order as in the original folder.
By default, it considers that the matrix has header and row names=1.
It also orders the matrix according to row names.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/df.create.R
\name{df.create}
\alias{df.create}
\title{Creates an empty data frame or a list of empty data frames}
\usage{
df.create(M, names = TRUE)
}
\arguments{
\item{M}{a square adjacency matrix or a list of square adjacency matrices.}

\item{names}{a boolean, if \emph{true} then a column is added in the data frame with the names of the matrix columns.}
}
\value{
\itemize{
\item if argument M is a matrix, then it creates a single empty data frame with as many rows as columns of the corresponding matrix.
\item if the argument M is a list of matrices, it creates a list of empty data frames with as many rows as columns of the corresponding matrix in the list.
}
}
\description{
Creates an empty data frame with as many columns as in the corresponding matrix.
}
\examples{
sim.m
df.create(sim.m)
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{redo_perm_dataStream_1}
\alias{redo_perm_dataStream_1}
\title{Data Stream Group Fellow cumulative permutations without control factor.}
\usage{
redo_perm_dataStream_1(M, nperm, method)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{nperm}{an integer indicating the number of permutations to perform.}
}
\value{
A list of Group By Individual matrices according to each scans perform.
}
\description{
Cumulative pre-network permutation on association data of Group fellow type without control factor.
}
\details{
Data stream permutations is a pre-network permutations approach. It is use on association data based on the gambit of the group. This permutations functunction is made for  data collected of the type of 'group fellow' and without control factors
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Ivan Puga-Gonzales, Sebastian Sosa.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.glmm.R
\name{stat.glmm}
\alias{stat.glmm}
\title{Extracts statistical measures of interest in Generalized Linear Mixed Models}
\usage{
stat.glmm(ant, formula, family, oda = NULL, progress = TRUE, ...)
}
\arguments{
\item{ant}{an output of ANT function \code{perm.net.nl} with random factor stated, or output of ANT 'met' categories functions in which output of ANT functions \code{perm.ds.focal}, \code{perm.ds.grp} or \code{perm.net.lk} where multiple matrices have been used.}

\item{formula}{two-sided linear formula object describing both the fixed-effects and random-effects part of the model, with the response on the left of a ~ operator and the terms, separated by + operators, on the right. Random-effects terms are distinguished by vertical bars (|) separating expressions for design matrices from grouping factors. Two vertical bars (||) can be used to specify multiple uncorrelated random effects for the same grouping variable. (Because of the way it is implemented, the ||-syntax works only for design matrices containing numeric (continuous) predictors; to fit models with independent categorical effects, see dummy or the lmer_alt function from the afex package.).}

\item{family}{a GLM family, see \code{\link{glm}} and \code{\link{family}}.}

\item{oda}{the original data frame of associations when argument ant is obtained with perm.ds.grp or perm.ds.focal ANT functions.}

\item{progress}{a boolean indicating the visualization of the permutation process.}

\item{...}{Extra arguments for \code{lmer} or \code{glmer} function only.}
}
\value{
Returns a list of 3 elements :
\itemize{
\item An object of class \code{\link{merMod}} (more specifically, an object of subclass lmerMod or glmerMod), for which many methods are available (e.g. methods(class="merMod")).
\item A data frame if the estimates of the permuted models.
\item A vector of integers indicating the permutations that returned model errors or warnings (e.g. model convergence issues) and for which new permutations were done.
}
}
\description{
Performs Generalized Linear Mixed Models tests
}
\details{
GLMM with permutation data.
}
\examples{
# Creating temporal data--------------------------
m2=matrix(sample(sim.m),20,20)
diag(m2)=0
colnames(m2)=colnames(sim.m)
row.names(m2)=row.names(sim.m)
df2=sim.df
df2$age=df2$age+1
df1=sim.df
df1$period=rep(1,nrow(df1))
df2$period=rep(2,nrow(df2))
# Data structure for multiple matrices analytical protocol------------------
sim.lm=list(sim.m,m2)
sim.ldf=list(df1,df2)
# Computing network metric---------------------------------------------------
t=met.strength(sim.m,sim.df,1)
# Node label permutations---------------------------------------------------
t=perm.net.nl(t,labels='age',rf=NULL,nperm=10,progress=FALSE) 
# Permuted GLMM-------------------------------------------------------------
r.glmm=stat.glmm(ant = t,formula = degree ~ age + (1|id),family = gaussian(), progress=TRUE)
}
\seealso{
\code{\link{lmer}} or \code{\link{glmer}}
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{ldf_merge}
\alias{ldf_merge}
\title{Merge list of data frames}
\usage{
ldf_merge(ldf)
}
\description{
Merge a list of  data frames keeping the structure of the first one
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/redo.ds.focal.lm.R
\name{redo.ds.focal.lm}
\alias{redo.ds.focal.lm}
\title{Focal Data stream Recursive function for error found in permutations}
\usage{
redo.ds.focal.lm(formula, new.perm, gbi, gbi2, oda, odf, target.metrics,
  focal, ctrl, alters, index, model, method, x, y, qr, singular.ok,
  contrasts, ...)
}
\description{
Performs cumulative data stream permutations for group fellow until the glmm found no error or warnings
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{list_lapply}
\alias{list_lapply}
\title{Lapply function}
\usage{
list_lapply(input, f)
}
\arguments{
\item{input}{a list.}

\item{f}{a function to apply along the list.}
}
\value{
A list with the output type of the function.
}
\description{
C++ version of lapply function.
}
\author{
This function have been copy from Rcpp gallery: XXXX
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.outdegree.single.R
\name{met.outdegree.single}
\alias{met.outdegree.single}
\title{Outdegree}
\usage{
met.outdegree.single(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{df}{a data frame of same length of the input matrix.}

\item{dfid}{an integer indicating the column of individual ids in argument \emph{df}}
}
\value{
Integer vector of each vertices met.outdegree.
}
\description{
Calculate for all the vertices the node metric call met.outdegree.
}
\details{
met.indegree of vertice \emph{i} is the number of all edges emmit by node \emph{i}.
}
\references{
Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{redo_perm_dataStream1_focal}
\alias{redo_perm_dataStream1_focal}
\title{Data Stream Group Fellow Permutations without control factor.}
\usage{
redo_perm_dataStream1_focal(M, M2, nperm, method)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{nperm}{an integer indicating the number of permutations to perform.}

\item{M}{a square adjacency matrix.}

\item{progress}{a boolean indicating if you wich to see the progression of the permutations.}
}
\value{
A list of Group By Individual matrices according to each scans perform.
}
\description{
Pre-network permutation on association data of Group fellow type without control factor.
}
\details{
Data stream permutations is a pre-network permutations approach. It is use on association data based on the gambit of the group. This permutations functunction is made for  data collected of the type of 'group fellow' and without control factors
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Ivan Puga-Gonzales, Sebastian Sosa.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/redo.perm.ds.focal.R
\name{redo.ds.focal.glmm}
\alias{redo.ds.focal.glmm}
\title{Focal Data stream Recursive function for error found in permutations}
\usage{
redo.ds.focal.glmm(family, formula, new.perm, gbi, gbi2, oda, odf,
  target.metrics, focal, ctrl, alters, index, fam, ...)
}
\description{
Performs cumulative data stream permutations for group fellow until the glmm found no error or warnings
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{listDf_merge_single_column}
\alias{listDf_merge_single_column}
\title{Merge columns of a List of data frames.}
\usage{
listDf_merge_single_column(df, ldf, col)
}
\arguments{
\item{df}{a data frame to know the total size of the concatenated vector.}

\item{ldf}{a list of data frames in wich extarct a single column.}

\item{col}{an integer indicating wich column of the data frames extract. Is a R indexation.}
}
\value{
A character vector.
}
\description{
perm_dataStraem_focal subfunction to concatenate the columns of alters of a list of data frames.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.ri.single.R
\name{met.ri.single}
\alias{met.ri.single}
\title{R-Index}
\usage{
met.ri.single(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{df}{a data frame of same length of the input matrix.}

\item{dfid}{an integer indicating the column of individual ids in argument \emph{df}}
}
\value{
Integer vector of each vertices R-Index values. If the adjacency matrix is binary it will return the binari R-index. If the adjacency matrix is weigthed it will return the binari R-index.
}
\description{
Calculate for all the vertices the node metric call R-Index.
}
\details{
R-Index of vertice \emph{i} is the outstrength of node \emph{i} divided by the met.strength  of node \emph{i}. Such node metric atempt to measur if an individual have more tendency to receive or emit edges.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.outstrength.R
\name{met.outstrength}
\alias{met.outstrength}
\title{Outstrength}
\usage{
met.outstrength(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{outstrength} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{outstrength} if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{outstrength} titled 'outstrength', if argument \emph{df} is not \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{outstrength} if 1) argument \emph{df} is not \emph{NULL}, 2) argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and 3) argument \emph{df} is a list of data frames of same length as argument \emph{M}. The name of the column of each element of the list is adapted according to argument value \emph{binary}.
}
}
\description{
Calculates the node metric outstrength for all vertices.
}
\details{
outstrength of a node \emph{i} is the sum of the strengths of all outgoing edges of a node \emph{i}.
}
\examples{
met.outstrength(sim.m)
head(sim.df)
met.outstrength(sim.m,df=sim.df)
}
\references{
Freeman, L. C. (1978). Centrality in social networks conceptual clarification. Social networks, 1(3), 215-239.

Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{gbi_createEmpty}
\alias{gbi_createEmpty}
\title{Empty group by individual matrix}
\usage{
gbi_createEmpty(d, col_scan, col_id)
}
\arguments{
\item{d}{a data frame}

\item{col_scan}{an integer indicating the number of the column holding the different scans.}

\item{col_id}{an integer indicating the number of the column holding the different scans.}
}
\value{
An empty group by individual matrix.
}
\description{
Create an embty group by individual matrix according to the number of scans and individuals.
}
\details{
A group by individual matrix is a way to represent several data collection protocols such as group fellows or scans data collections. They also allow to compute easely several associations indexes.
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{vec_fill}
\alias{vec_fill}
\title{Merge}
\usage{
vec_fill(vec1, vec2, x)
}
\description{
Merge two vectors keeping their class
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/df.create.single.R
\name{df.create.single}
\alias{df.create.single}
\title{Creates an empty data frame.}
\usage{
df.create.single(M, names = T)
}
\arguments{
\item{M}{a matrix.}

\item{names}{if \emph{true} then a column in the data frame is added with the names of the matrix columns.}
}
\value{
A data frame of N rows based on the number of rows in argument M.
}
\description{
Creates an empty data frame with as many rows or columns as in the corresponding matrix.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.disparity.single.R
\name{met.disparity.single}
\alias{met.disparity.single}
\title{Disparity}
\usage{
met.disparity.single(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{df}{a data frame of same length of the input matrix.}

\item{dfid}{an integer indicating the column of individual ids in argument \emph{df}}

\item{directed}{if \emph{true}  then calculate the met.disparity directed version \emph{i.e.} in-met.disparity, out-met.disparity, met.disparity.}
}
\value{
\itemize{
\item For the undirected version: Return an integer vector of each vertices met.disparity.
\item For the undirected version: Return a data frame of three columns: met.disparity,inDisparity,outDisparity.
}
}
\description{
Calculate for all the vertices the node metric call met.disparity.
}
\details{
Disparity measures the weight variation of a node. This metric compares a node's strength with its degree. It provides information on the type of edges found in a node \emph{i}, \emph{i.e.} few strong edges or many weak edges
met.disparity of a vertice \emph{i} is the summe of the squares of the division between the weigthed edge between node \emph{i} and \emph{j} and the met.strength of node \emph{i}
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.assortatvityContinuous.r
\name{met.assortatvityContinuous}
\alias{met.assortatvityContinuous}
\title{Continuous assortativity}
\usage{
met.assortatvityContinuous(Matrix, se = FALSE, values, weighted = TRUE,
  df = NULL)
}
\arguments{
\item{Matrix}{a square adjacency matrix.}

\item{se}{if \emph{true}, it calculates the standard error.}

\item{values}{The dataframe column that contains the vertices' attributes.}

\item{weighted}{if \emph{true}, it calculates the weigthed version.}
}
\value{
An integer representing the continuous assortativity index of the network.
}
\description{
Calculates the binary or weighted version of vertices Newman's assortativity for continuous attributes.
}
\details{
Assortativity (like the E-I index or the Moran 'I' statistic) allows the study of homophily (preferential interaction between nodes with similar attributes) and heterophily (the preferential interaction between nodes with different attributes). Attributes can be individual characteristics such as sex or age, or individual node metrics such as the met.degree, in which case it is referred to as assortativity by vertex met.degree.
}
\references{
Newman, M. E. (2003). Mixing patterns in networks. Physical Review E, 67(2), 026126.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Ivan Puga-Gonzalez, Sebastian Sosa
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.cc.R
\name{met.cc}
\alias{met.cc}
\title{Binary global clustering coefficient}
\usage{
met.cc(M)
}
\arguments{
\item{M}{a square adjacency matrix.}
}
\value{
An integer representing the binary global clustering coefficient index of the network.
}
\description{
Calculates the binary global clustering coefficient.
}
\details{
The binary global clustering coefficient is the ratio of closed triplets to all triplets (open and closed) in a network. Triplets are three nodes connected by two or three undirected links (open or closed triplets, respectively).
}
\references{
Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/post.dist.R
\name{post.dist}
\alias{post.dist}
\title{Histogram of posterior distribution}
\usage{
post.dist(v_perm, Obs = NULL, ncols = NULL, nrows = NULL)
}
\arguments{
\item{v_perm}{a data frame of permuted values (each column represents a factor). First row represents the observed values and the next ones represent the permuted values.}

\item{Obs}{an integer vector indicating the observed value to compare to permuted values if in argument v_perm the first row does not represent the observed values.}

\item{ncols}{Number of graph per row}

\item{nrows}{Number of graph per column}
}
\description{
plot multiple histograms of posterior distribution
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.net.weigths.R
\name{perm.net.weigths}
\alias{perm.net.weigths}
\title{Network weigths permutation}
\usage{
perm.net.weigths(M, sym = FALSE, nperm = NULL, progress = TRUE)
}
\arguments{
\item{M}{a square matrix with colmun and row names}

\item{sym}{if \emph{TRUE}, it extracts the lower triangle of the matrix only.}

\item{nperm}{an integer indicating the number of permutations wanted.}

\item{progress}{a boolean indicating the visualization of the permutation process.}
}
\description{
Permute weigths while keep link structure
}
\examples{
perm.net.weigths(M = sim.m, sym = FALSE, nperm = 10, progress = TRUE)
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{mat_row_extract}
\alias{mat_row_extract}
\title{Extract matrix row.}
\usage{
mat_row_extract(m, x)
}
\arguments{
\item{m}{a matrix.}

\item{int}{na integer indicating the row number to extract.}
}
\value{
An integer vector corresponding the row extract.
}
\description{
Extract a specific row of a matrix.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.density.R
\name{met.density}
\alias{met.density}
\title{Density}
\usage{
met.density(M, df = NULL)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}
}
\value{
\itemize{
\item a double representing the density of the network if argument \emph{M} is a square matrix.
\item A list of doubles if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}. Each double represents the density of the corresponding matrix of the list.
}
}
\description{
Calculates network binary density.
}
\details{
Binary network density is sthe ratio of existing links of a network in relation to all potential links.
}
\examples{
met.density(sim.m)
}
\references{
Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{vec_intersect}
\alias{vec_intersect}
\title{intersect}
\usage{
vec_intersect(x, y)
}
\description{
extract element present in none of the two vectors
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tauSD.R
\name{tauSD}
\alias{tauSD}
\title{TauKr standard deviation}
\usage{
tauSD(X, Y, j, omitDiag)
}
\description{
Matrix TauKr correlationsstandard deviation.
}
\author{
Ivan Puga-Gonzalez, Sebastian Sosa.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/error_matrix.R
\name{error_matrix}
\alias{error_matrix}
\title{Errors related to matrices}
\usage{
error_matrix(M)
}
\arguments{
\item{M}{a square adjacency matrix or a list of square adjacency matrices}
}
\value{
Nothing if M is a square adjacency matrix or a list of square adjacencies matrices.
}
\description{
check if the input is a square adjacency matrix or a list of squares adjacency matrices.
}
\details{
tests if M is not a data frame and if M is a matrix and if it is a square matrix. If the input is a list then it check for all elements of the list if they are not a data frame and if they are a square adjacency matrix.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{vec_sample}
\alias{vec_sample}
\title{Vector sample}
\usage{
vec_sample(vec1, length, replace)
}
\description{
Sample vetor keeping his class
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{mat_rows_sums}
\alias{mat_rows_sums}
\title{From row Sums.}
\usage{
mat_rows_sums(x)
}
\arguments{
\item{m}{a matrix.}
}
\value{
An integer vector. Each elements correspond to the sum of the corresponding row.
}
\description{
row Sums of an adjacency matrix.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.instrength.single.R
\name{met.instrength.single}
\alias{met.instrength.single}
\title{Instrength}
\usage{
met.instrength.single(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{df}{a data frame of same length of the input matrix.}

\item{dfid}{an integer indicating the column of individual ids in argument \emph{df}}
}
\value{
Integer vector of each vertices met.instrength.
}
\description{
Calculate for all the vertices the node metric call met.instrength.
}
\details{
met.instrength of vertice \emph{i} is the met.strength of all edges receive by node \emph{i}.
}
\references{
Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.outstrength.single.R
\name{met.outstrength.single}
\alias{met.outstrength.single}
\title{Outstrength}
\usage{
met.outstrength.single(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{df}{a data frame of same length of the input matrix.}

\item{dfid}{an integer indicating the column of individual ids in argument \emph{df}}
}
\value{
Integer vector of each vertices outstrentgh.
}
\description{
Calculate for all the vertices the node metric call outstrentgh.
}
\details{
met.instrength of vertice \emph{i} is the met.strength of all edges emit by node \emph{i}.
}
\references{
Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.reach.single.R
\name{met.reach.single}
\alias{met.reach.single}
\title{Reach centrality}
\usage{
met.reach.single(M, df = NULL, dfid = NULL, return.strength = FALSE)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{df}{a data frame of same length of the input matrix.}

\item{dfid}{an integer indicating the column of individual ids in argument \emph{df}.}

\item{return.strength}{a boolean that indicate if strength have to be return. Possiblility only available if if argument \emph{df} and \emph{dfid} are both \emph{NULL} Default value is \emph{FALSE}.}
}
\value{
Integer vector of each vertices R-Index values.
}
\description{
Calculate for all the vertices the node metric call reach.
}
\details{
reach is the sum of the product of all the ego and alter's strengths and the alters' degrees
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/df.ctrlFactor.R
\name{df.ctrlFactor}
\alias{df.ctrlFactor}
\title{Creates a column that merges multiple columns}
\usage{
df.ctrlFactor(df, control)
}
\arguments{
\item{df}{a data frame.}

\item{control}{a numeric or character vector representing one or more columns that are combined into one column of control factors.}
}
\value{
The input data frame with an additional column named 'control', representing the control factors.
}
\description{
Creates a new column in the input data frame corresponding to the combination of given control factors.
}
\details{
Control factors are used in permutation approaches to constrain the permutation between those factors.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.betweenness.single.R
\name{met.betweenness.single}
\alias{met.betweenness.single}
\title{Betweenness centrality}
\usage{
met.betweenness.single(m, binary = FALSE, shortest.weight = FALSE,
  normalization = TRUE, sym = TRUE, out = TRUE, df = NULL,
  dfid = NULL)
}
\description{
Compute node betweenness
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.lp.single.R
\name{met.lp.single}
\alias{met.lp.single}
\title{Symetric Laplacian centrality}
\usage{
met.lp.single(M, df = NULL, dfid = NULL, binary = FALSE)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{df}{a data frame of same length of the input matrix.}

\item{dfid}{an integer indicating the column of individual ids in argument \emph{df}}

\item{binary}{a boolean indicating if the binary version of the laplacian centrality has to be computed.}
}
\description{
Calculate the symetric version of the Laplacian centrality for each verteces.
}
\details{
Laplacian centrality is the drop in the Laplacian energy of the graph when the vertex is removed.
This version uses the degrees (for the binary version ) or the strength (for the weigthed version) to calculate laplacian centrality.
}
\references{
REF laplacian !!!!!!!!!!!!!!!!

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.lpEnergyEigen.R
\name{met.lpEnergyEigen}
\alias{met.lpEnergyEigen}
\title{Laplacian energy.}
\usage{
met.lpEnergyEigen(M)
}
\arguments{
\item{M}{a square adjacency matrix.}
}
\description{
Calculate the Laplacian energy.
}
\details{
Laplacian energy is the sum of squares of the eigenvalues in the Laplacian matrix.
This version use the eigenvalues to calculated the Laplacian energy.
}
\references{
REF laplacian !!!!!!!!!!!!!!!!

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.deletions.R
\name{stat.deletions}
\alias{stat.deletions}
\title{Network target & random deletion simulations}
\usage{
stat.deletions(M, attr, target, ndel, nsim, weighted = TRUE,
  shortest.weight = FALSE, normalization = FALSE, directed = TRUE,
  out = TRUE, progress = TRUE, return.mat = FALSE)
}
\arguments{
\item{M}{a square adjacency M.}

\item{attr}{a vector of categorical (factor or character) or numeric (continuous) attributes of the nodes. The vector must have the same length and order as the nodes in the square adjacency matrix 'M'.}

\item{target}{Indicates the nodes that will be the target of deletion. If the argument 'attr' is categorical, then 'target' indicates the attribute of the node target of deletion. If the argument 'attr' is numeric,
then 'target' can take one of two character elements 1) 'decreasing' or 2) 'increasing' indicating whether the target of deletions are nodes with the greatest or lowest attribute's values respectively.}

\item{ndel}{an integer indicating the number of deletions to perform in each simulation.}

\item{nsim}{an integer indicating the number of simulations, \emph{i.e.} how many times to perform \emph{ndel} deletions.}

\item{weighted}{if \emph{true}, it binarizes the square adjacency matrix M. Geodesic distances and diameter are based only on the presence or absence of edges.}

\item{shortest.weight}{if \emph{false}, it considers the higher met.strength as the shortest path.}

\item{normalization}{normalizes the weights of the links i.e. divides them by the average strength of the network. Argument normalization can't be TRUE when argument weighted is FALSE.}

\item{directed}{if \emph{false}, then it symmetrizes the matrix. Otherwise, it calculates geodesic distances and diameter according to the directionality of the links.}

\item{out}{if \emph{true}, it considers outgoing ties for the diameter and the geodesic distances.}

\item{progress}{a boolean if \emph{TRUE} it prints the progress of the simulations.}

\item{return.mat}{a boolean if \emph{TRUE} it returns a list of two elements : 1) a list of matrix deletions through target deletion; 2) a list of matrix deletions through random deletion}
}
\value{
A list of two elements:
\itemize{
\item The first element is the diameter of the network according to the option specified (weighted or not, directed or not, through lowest weights or greatest weights)
\item The second element is the geodesic distances between all nodes according to the option specified (weighted or not, directed or not, through lowest weights or greatest weights)
}
}
\description{
Perfoms a knockout analysis according to specific vertex attributes and a specific percentage of nodes to delete
}
\details{
Knockout analysis allows the study of resilience properties of networks when specific nodes are removed. It is usually compared with random deletions.
}
\examples{
# Simulating data
m=matrix(sample(c(0:5),50*50,TRUE),50,50)
diag(m)=0
mb=ANTs:::mat.binaryzation(m)

# Weighted categorical attribute example
attr=sample(c('a','b'),50,TRUE);

t=stat.deletions(m,attr = attr,target = 'a',nsim = 2,ndel=10);

t=stat.deletions(mb,attr = attr,target = 'a',nsim = 2,ndel=10);

#  continous attribute example
attr=c(sample(c(1:10),50,TRUE))

t=stat.deletions(m,attr = attr,target = 'decreasing',nsim = 2,ndel=4);

t=stat.deletions(mb,attr = attr,target = 'decreasing',nsim = 2,ndel=4);
}
\references{
Lusseau D. 2003. The emergent properties of a dolphin social network. Proceedings of the Royal Society of London Series B: Biological Sciences 270(Suppl 2):S186-S188.

Manno TG. 2008. Social networking in the Columbian ground squirrel, Spermophilus columbianus. Animal Behaviour 75(4):1221-1228.

Kanngiesser P, Sueur C, Riedl K, Grossmann J, Call J. 2011. Grooming network cohesion and the role of individuals in a captive chimpanzee group. American journal of primatology 73(8):758-767.

Sosa S. 2014. Structural Architecture of the Social Network of a Non-Human Primate (Macaca sylvanus): A Study of Its Topology in La Forêt des Singes, Rocamadour. Folia Primatologica 85(3):154-163.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.dge.single.R
\name{met.dge.single}
\alias{met.dge.single}
\title{Average Dyadic Efficiency}
\usage{
met.dge.single(m, weighted = TRUE, shortest.weight = FALSE,
  normalization = TRUE, directed = TRUE)
}
\arguments{
\item{m}{a square adjacency matrix.}

\item{weighted}{if \emph{true}, it binarizes the square adjacency matrix M. Geodesic distances and diameter are based only on the presence or absence of edges.}

\item{shortest.weight}{if \emph{false}, it considers the higher met.strength as the shortest path.}

\item{normalization}{normalizes the weigths of the links i.e. divides them by the average strength of the network.}

\item{directed}{if \emph{false}, it symmetrizes the matrix. Otherwise, it calculates geodesic distances and diameter according to the directionality of the links.}
}
\value{
An interger representing the average dyadic efficiency.
}
\description{
Calculates the average dyadic efficiency of a network.
}
\details{
The average dyadic efficiency provides a measure of how efficiently information is exchanged in a network. It can be calculated in binary or weighted networks, undirected or directed networks, normalized or not, and through the strongest or the weakest links. Depending on the problematic, care is needed for the choice of calculation method.
}
\references{
Pasquaretta, C., Levé, M., Claidiere, N., Van De Waal, E., Whiten, A., MacIntosh, A. J., ... & Crofoot, M. C. (2014). Social networks in primates: smart and tolerant species have more efficient networks. Scientific reports, 4, 7600.
}
\author{
Sebastian Sosaez
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.ds.focal.R
\name{perm.ds.focal}
\alias{perm.ds.focal}
\title{Data stream permutation for focal sampling data .}
\usage{
perm.ds.focal(df, focal, ctrl = NULL, alters, nperm, progress = T,
  method = "sri")
}
\arguments{
\item{df}{a data frame.}

\item{focal}{an integer indicating the column of the focal.}

\item{ctrl}{a numeric vector indicating the control factors.}

\item{alters}{an integer indicating the column of focal's alters.}

\item{nperm}{an integer indicating the number of permutations.}

\item{progress}{a boolean indicating if the permutation process must be visible.}

\item{method}{a string indicating the association index to compute:
\itemize{
\item 'sri' for Simple ratio index: \eqn{x/x+yAB+yA+yB}
\item 'hw' for Half-weight index: \eqn{x/x+yAB+1/2(yA+yB)}
\item 'sr' for Square root index:\eqn{x/sqr((x+yAB+yA)(x+yAB+yB))}
}}
}
\description{
Warning, the original function (Farine 2017) uses a control factor, the number of focals and the ids of the focals.
}
\details{
Pre-network permutation for focal sampling data, and for symmetric behaviour only.
}
\examples{
head(sim.focal.undirected)
t=perm.ds.focal(sim.focal.undirected,focal=3,ctrl=1,alters=4,nperm=10,progress=TRUE,method='sri')
}
\references{
Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in ecology and evolution, 8(10), 1309-1320.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.diameter.R
\name{met.diameter}
\alias{met.diameter}
\title{Diameter}
\usage{
met.diameter(M, df = NULL, weighted = TRUE, shortest.weight = FALSE,
  normalization = TRUE, directed = TRUE, out = TRUE)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{weighted}{if \emph{FALSE}, it binarizes the square adjacency matrix M. Geodesic distances and diameter are based only on the presence or absence of edges.}

\item{shortest.weight}{if \emph{false}, it considers the highest met.strength as the shortest path.}

\item{normalization}{normalizes the weights of the links i.e. divides them by the average strength of the network. Argument normalization can't be TRUE when argument weighted is FALSE.}

\item{directed}{if \emph{false}, then it symmetrizes the matrix. Otherwise, it calculates geodesic distances and diameter according to the directionality of the links.}

\item{out}{if \emph{true}, it considers outgoing ties.}
}
\value{
\itemize{
\item a double representing the diameter of the network if argument \emph{M} is a square matrix.
\item A list of doubles if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}. Each double represents the diameter of the corresponding matrix of the list.
\item A list of arguments \emph{df} with a new column of network diameter if argument\emph{df} is not \emph{NULL} and if argument \emph{M} is a list of matrices. The name of the column is adapted according to arguments values \emph{.weighted}, \emph{shortest.weight}, \emph{normalization}, \emph{directed} and \emph{out}.
\item A list of arguments \emph{df} with a new column of network diameter if argument \emph{df} is not \emph{NULL}, if argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and if argument \emph{df} is a list of data frames of same length as argument \emph{M}.
}
}
\description{
Calculates the network diameter .
}
\details{
Diameter is the longer geodesic distance.
}
\examples{
met.diameter(sim.m)
}
\references{
Opsahl, T., Agneessens, F., & Skvoretz, J. (2010). Node centrality in weighted networks: Generalizing degree and shortest paths. Social networks, 32(3), 245-251.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{perm_net_weigths}
\alias{perm_net_weigths}
\title{Edgelist weigths permutations}
\usage{
perm_net_weigths(df, sym, nperm, progress)
}
\description{
Post-network permutations on links weights.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{redo_perm_dataStream_focal}
\alias{redo_perm_dataStream_focal}
\title{Data Stream Focal Sampling cumulative permutations without control factor.}
\usage{
redo_perm_dataStream_focal(df, ldf1, nperm, col_focal, col_alters,
  lengthList)
}
\arguments{
\item{df}{a data frame.}

\item{nperm}{an integer indicating the number of permutations to perform.}

\item{col_focal}{an integer indicating the column holding the id of the focal.}

\item{col_alters}{an integer indicating the column holding the id of the alters.}

\item{lengthList}{an integer vector range from 0 to length of the list (c++ indexation).}

\item{ldf2}{a list of data frames split by individuals focals.}

\item{id_obs}{a numeric vector with the number of different ids.}
}
\value{
A list of data frames, each ones holding a different permutation.
}
\description{
Pre-network cumulative permutation on association data of  Focal Sampling type without control factor.
}
\details{
Data stream permutations is a pre-network permutations approach. It is use on association data based on the gambit of the group. This permutations functunction is made for data collected of the type of 'focal sampling' and without control factors
}
\references{
Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa,Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.degree.single.R
\name{met.degree.single}
\alias{met.degree.single}
\title{Degree on single matrix}
\usage{
met.degree.single(M, sym = TRUE, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{sym}{if \emph{TRUE}, then it symmetrizes the matrix, and computes the sums of the presencence/abscence of an edge between the focal node and it's alters without acounting for direction (i.e. it computes the number of alters). Otherwise, it computes the sum of the presencence/abscence of the indegrees and outdegrees between the focal node and it's alters.}

\item{df}{a data frame of same length of the input matrix.}

\item{dfid}{an integer indicating the column of individual ids in argument \emph{df}}
}
\value{
Integer vector of each vertices met.degree.
}
\description{
Calculate for all the vertices the node metric call degree.
}
\details{
met.degree of vertice \emph{i} is the number of edges of \emph{i}.
}
\references{
Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat.tauKr.R
\name{stat.tauKr}
\alias{stat.tauKr}
\title{Matrix TauKr correlations}
\usage{
stat.tauKr(X, Y, Z = NULL, nperm = NULL, omitDiag)
}
\arguments{
\item{X}{a square matrix of individual interactions or associations}

\item{Y}{a square matrix of individual interactions or associations}

\item{Z}{a square matrix of individual interactions or attributes to use as a control in the matrix correlation between X and Y  (only for partial correlation)}

\item{nperm}{an integer indicating the number of permutations wanted.}

\item{omitDiag}{boolean to omit or not the diagonals in the matrices if \emph{TRUE} it does not consider diagonals}
}
\description{
Matrix TauKr correlation. Partial or not, with significant test or not.
}
\details{
returns a list of matrices in the same order as is the original folder
}
\references{
Hemelrijk, C. K. 1990. Models of, and tests for, reciprocity, unidirectional and other social interaction patterns at a group level. Animal Behavior, 39, 1013-1029

Hemelrijk, C. K. 1990. A matrix partial correlation test used in investigations of reciprocity and other social interaction patterns at a group level. Journal of theoretical Biology, 143, 405-420.
}
\author{
Ivan Puga-Gonzalez, Sebastian Sosa.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.alterDegree.R
\name{met.alterDegree}
\alias{met.alterDegree}
\title{Alters sum or average of met.degree or met.strength.}
\usage{
met.alterDegree(M, i, av = FALSE, binary = FALSE)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{i}{The ego in which we want to calculate his aleer met.degree.}

\item{av}{a boolean, if TRUE compute the sum of alters before making alter mean.}
}
\value{
Vector fo Alters sum or average of met.degree or met.strength values for each verteces.
}
\description{
Computer the degre of a specific node.
}
\details{
calculates average or sum of alters' degrees. By default it calculates the sum of the degrees of alters.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.lpcW.R
\name{met.lpcW}
\alias{met.lpcW}
\title{Wheigthed symetric Laplacian centrality}
\usage{
met.lpcW(M)
}
\arguments{
\item{M}{a square adjacency matrix.}
}
\description{
Calculate the wheigthed symetric Laplacian centrality for each verteces.
}
\details{
Laplacian centrality is the drop in the Laplacian energy of the graph when the vertex is removed
This version uses the degrees to calculate laplacian centrality
}
\references{
REF laplacian !!!!!!!!!!!!!!!!

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{mat_isSquare}
\alias{mat_isSquare}
\title{Is square.}
\usage{
mat_isSquare(m)
}
\arguments{
\item{m}{a matrix.}
}
\value{
a boolean indicating if the matrix is square or not.
}
\description{
Test if a matrix is square or not.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.ci.single.R
\name{met.ci.single}
\alias{met.ci.single}
\title{Centralisation index}
\usage{
met.ci.single(M)
}
\arguments{
\item{M}{a square adjacency matrix or a list of squares adjacencymatrices}
}
\value{
numeric vector
}
\description{
Compute network Centralisation index
}
\details{
Centralisation index of a network is based on eigenvector centrality.
}
\references{
Pasquaretta, C., Levé, M., Claidiere, N., Van De Waal, E., Whiten, A., MacIntosh, A. J., ... & Crofoot, M. C. (2014). Social networks in primates: smart and tolerant species have more efficient networks. Scientific reports, 4, 7600.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.instrength.R
\name{met.instrength}
\alias{met.instrength}
\title{Instrength}
\usage{
met.instrength(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{instrength} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{instrength} if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{instrength} titled 'instrength', if argument \emph{df} is not \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{instrength} if 1) argument \emph{df} is not \emph{NULL}, 2) argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and 3) argument \emph{df} is a list of data frames of same length as argument \emph{M}. The name of the column of each element of the list is adapted according to argument value \emph{binary}.
}
}
\description{
Calculates the node metric met.instrength for all vertices.
}
\details{
Instrength of a node \emph{i} is the sum of the strengths of all edges directed towards node \emph{i}.
}
\examples{
met.instrength(sim.m)
head(sim.df)
met.instrength(sim.m,df=sim.df)
}
\references{
Freeman, L. C. (1978). Centrality in social networks conceptual clarification. Social networks, 1(3), 215-239.

Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.indegree.single.R
\name{met.indegree.single}
\alias{met.indegree.single}
\title{Indegree}
\usage{
met.indegree.single(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{df}{a data frame of same length of the input matrix.}

\item{dfid}{an integer indicating the column of individual ids in argument \emph{df}}
}
\value{
Integer vector of each vertices met.indegree.
}
\description{
Calculate for all the vertices the node metric call met.indegree.
}
\details{
met.indegree of vertice \emph{i} is the number of all edges receive by node \emph{i}.
}
\references{
Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.strength.R
\name{met.strength}
\alias{met.strength}
\title{Strength}
\usage{
met.strength(M, df = NULL, dfid = NULL)
}
\arguments{
\item{M}{a square adjacency matrix, or a list of square adjacency matrices, or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{df}{a data frame of same length as the input matrix or a list of data frames if argument \emph{M} is a list of matrices or an output of ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk}.}

\item{dfid}{an integer or a string indicating the column with individual ids in argument \emph{df}.}
}
\value{
\itemize{
\item An integer vector of nodes \emph{strength} if argument \emph{df} is \emph{NULL}.
\item A list of integer vectors of nodes \emph{strength} if argument \emph{M} is a list of matrices and if argument \emph{df} is \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{strength} titled 'strength', if argument \emph{df} is not \emph{NULL}.
\item A list of arguments df with a new column for nodes \emph{strength} if 1) argument \emph{df} is not \emph{NULL}, 2) argument \emph{M} is an output from ANT functions \emph{stat.ds.grp}, \emph{stat.df.focal}, \emph{stat.net.lk} for multiple matrices permutations, and 3) argument \emph{df} is a list of data frames of same length as argument \emph{M}. The name of the column of each element of the list is adapted according to argument value \emph{binary}.
}
}
\description{
Calculates the node metric strentgh for all vertices.
}
\details{
Strength of a node \emph{i} is the sum all edge values of the node \emph{i}.
}
\examples{
met.strength(sim.m)
head(sim.df)
met.strength(sim.m,df=sim.df)
}
\references{
Freeman, L. C. (1978). Centrality in social networks conceptual clarification. Social networks, 1(3), 215-239.

Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/redo.ds.focal.cum.R
\name{redo.ds.focal.cum}
\alias{redo.ds.focal.cum}
\title{Function for cumulative permutations for symmetric behaviour through focal sampling}
\usage{
redo.ds.focal.cum(df, focal, alters, ctrl, nperm, method)
}
\description{
Perform cumulative data stream permutations for scan sampling. Is the core function for the permutations.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{which_equal}
\alias{which_equal}
\title{Equal}
\usage{
which_equal(M, x)
}
\description{
Find matrix element corresponding to an integer
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{vec_num_extract_IdValue}
\alias{vec_num_extract_IdValue}
\title{Extract ID}
\usage{
vec_num_extract_IdValue(y, x)
}
\description{
Extract ID of element selected by a numeric vector
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/import.df.R
\name{import.df}
\alias{import.df}
\title{Imports data frames}
\usage{
import.df(header = TRUE, sep = ",", quote = "\\"", dec = ".",
  fill = TRUE, comment.char = "", ...)
}
\arguments{
\item{header}{a logical value indicating whether the file contains the names of the variables as its first line. If missing, the value is determined from the file format: header is set to TRUE if and only if the first row contains one fewer field than the number of columns.}

\item{sep}{the field separator character. Values in each line of the file are separated by this character. If sep = "" (the default for read.table) the separator is ‘white space’, that is one or more spaces, tabs, newlines or carriage returns.}

\item{quote}{the set of quoting characters. To disable quoting altogether, use quote = "". See scan for the behaviour on quotes embedded in quotes. Quoting is only considered for columns read as character, which is all of them unless colClasses is specified.}

\item{dec}{the character used in the file for decimal points.}

\item{fill}{logical If TRUE then in case the rows have unequal lengths, blank fields are implicitly added. See ‘Details’.}

\item{comment.char}{a character vector of length 1 containing a single character or an empty string. Use "" to turn off the interpretation of comments altogether.}

\item{...}{Further arguments to be passed to \code{\link{read.csv}}.
#' @return a single data frame or a list of data frames according to the number of files in the selected folder.}
}
\description{
Imports all current directory files in the format of a list of data frames.
}
\details{
After selecting the directory, this function returns a single data frame if there is only one file in the folder or a list of data frames in the same order as in the original folder if there are several files in the folder.
by default it considers that the data frame has header= TRUE and row names= 1.
}
\seealso{
\code{read.csv}
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.ds.grp.R
\name{perm.ds.grp}
\alias{perm.ds.grp}
\title{Data stream permutation for association data}
\usage{
perm.ds.grp(df, scan, ctrlf = NULL, method = "sri", perm,
  progress = TRUE)
}
\arguments{
\item{df}{A data frame.The data frame must have a column named 'ID'.}

\item{scan}{an integer indicating the column of scans of individual associations.}

\item{ctrlf}{A confounding factor by which to control group associations.}

\item{method}{Which type of index of associations to calculate:
\itemize{
\item 'sri' for Simple ratio index: \eqn{x \div x+yAB+yA+yB}
\item 'hw' for Half-weight index: \eqn{x/x+yAB+1/2(yA+yB)}
\item 'sr' for Square root index:\eqn{x/sqr((x+yAB+yA)(x+yAB+yB))}
}}

\item{perm}{number of permutations to perform.}

\item{progress}{a boolean indicating if the permutation process must be visible.}
}
\value{
list of square association index matrices. The first element of the list is the non-permuted association index matrix.
}
\description{
Pre-network permutation on association data for group fellow data collection protocol. The data frame must have a column named 'ID'.
}
\details{
Data stream permutation is a pre-network permutation approach. It is used on association data based on the gambit of the group.
}
\examples{
head(sim.grp)
t=perm.ds.grp(df=sim.grp,scan='location',ctrlf='time',perm=10,,method='sri')
}
\references{
Whitehead, H. A. L. (1997). Analysing animal social structure. Animal behaviour, 53(5), 1053-1067.

Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/perm.net.links.R
\name{perm.net.lk}
\alias{perm.net.lk}
\title{Matrix links permutations}
\usage{
perm.net.lk(M, sym = FALSE, erase.diag = TRUE, nperm,
  progress = TRUE)
}
\arguments{
\item{M}{a square adjacency matrix or a list of square adjacency matrices.}

\item{sym}{if \emph{true} it vectorizes the lower triangle only .}

\item{erase.diag}{if \emph{true} it erases the diagonal of the matrix.}

\item{nperm}{number of permutations wanted.}

\item{progress}{a boolean indicating if the permutation process must be visible.}
}
\description{
Permutes matrix links.
}
\details{
Edge permutations can be used to create random networks based on the observed network. Such permutation method is useful when analysing patterns of interaction such as assortativity.
}
\examples{
t=perm.net.lk(sim.m, sym = FALSE, erase.diag = TRUE, nperm=10, progress=TRUE)
}
\references{
Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/met.geodesicDiameter.single.R
\name{met.geodesicDiameter.single}
\alias{met.geodesicDiameter.single}
\title{Geodesic distances and diameter}
\usage{
met.geodesicDiameter.single(m, weighted = TRUE,
  shortest.weight = FALSE, normalization = TRUE, directed = TRUE,
  out = TRUE)
}
\arguments{
\item{m}{a square adjacency matrix.}

\item{weighted}{if \emph{FALSE}, it binarizes the square adjacency matrix M. Geodesic distances and diameter are based only on the presence or absence of edges.}

\item{shortest.weight}{if \emph{false}, it considers the higher met.strength as the shortest path.}

\item{normalization}{normalizes the weigths of the links i.e. divides them by the average strength of the network. Argument normalization can't be TRUE when  argument weighted is FALSE.}

\item{directed}{if \emph{false}, then it symmetrizes the matrix. Otherwise, it calculates geodesic distances and diameter according to the directionality of the links.}

\item{out}{if \emph{true}, it considers}
}
\value{
A list of two elements:
\itemize{
\item The first element is the diameter of the network according to the option specified (weigthed or not, directed or not, throught shortest weights or stronger weights)
\item The second element is the geodesic distances between all nodes according to the option specified (weigthed or not, directed or not, throught shortest weights or stronger weights)
}
}
\description{
Calculates 1) Geodesic Distances and 2) network diameter .
}
\details{
Binary network met.density is the ratio of existing links of a network in relation to all potential links.
}
\references{
Sosa, S. (2018). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzalez.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{perm_nodeLabels}
\alias{perm_nodeLabels}
\title{Node label permutations.}
\usage{
perm_nodeLabels(df, label, nperm, progress)
}
\arguments{
\item{df}{a data frame.}

\item{label}{a numeric vector indicating the number of individuals.}

\item{nperm}{an integer indicating the number of permutations to perform.}

\item{progress}{a boolean indicating if you wich to see the progression of the permutations.}
}
\value{
A list of data frames, each ones holding a different permutation.
}
\description{
Post-network permutations of the type 'node labels'.
}
\details{
Node label permutations is a post-network permutations approach that swap the labels of the nodes (e.g. degree). It is use on direct interactions behaviours.
}
\references{
Farine, D. R. (2017). A guide to null models for animal social network analysis. Methods in Ecology and Evolution.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa,Ivan Puga-Gonzales.
}
\keyword{internal}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{met_strength}
\alias{met_strength}
\title{strength}
\usage{
met_strength(M)
}
\arguments{
\item{M}{a square adjacency matrix.}

\item{M}{a square adjacency matrix.}
}
\value{
Integer vector of each vertices outstrentgh.

Integer vector of each vertices outstrentgh.
}
\description{
Calculate for all the vertices the node metric call strentgh.

Calculate for all the vertices the node metric call outstrentgh.
}
\details{
strength of vertice \emph{i} is all edges //' @title Outstrength
}
\references{
Barrat, A., Barthelemy, M., Pastor-Satorras, R., & Vespignani, A. (2004). The architecture of complex weighted networks. Proceedings of the National Academy of Sciences of the United States of America, 101(11), 3747-3752.

Sosa, S. (\emph{in press}). Social Network Analysis, \emph{in}: Encyclopedia of Animal Cognition and Behavior. Springer.
}
\author{
Sebastian Sosa, Ivan Puga-Gonzales.
}
\keyword{internal}
