data process get vcf go multipl per access singl vcf file gener compress bcf file vcf file bcftool view b genomes_snpshortindel_with_tair_only_acgtnvcfgz genomes_snpshortindel_with_tair_only_acgtnbcf tomato download refer genom ftpftpsolgenomicsnettomato_genomeassemblybuild_s_lycopersicum_chromosomesfagz download analysi vcf file httpwwwebiacukenadataviewprjeb gunzip erzrf__szaxpivcfgz unexpect end file gunzip erzrf__szaxpivcfgz uncompress fail gunzip erzrf__szaxpivcfgz unexpect end file gunzip erzrf__szaxpivcfgz uncompress fail concaten vcf file vcfconcat myvcfsvcfgz gzip outvcfgz file come sra ftpsraebiacuk directori _vol_ directori erz erz ungzip vcf file gunzip samplevcfgz file compress bgzip bgzip samplevcf index tabix tabix p vcf samplevcfgzip merg one variant file vcfmerg vcfgz allsnpsvcf random access fasta sequenc use pyfaidx github mdshwpyfaidx effici python random access fasta subsequenceshttpsgithubcommdshwpyfaidx py pyfaidx import fasta genom fastatairga random access gff gene annotatin first need sort gff file chromstart sh bedtool bedtool sort tair_gff_genesgff tair_gff_genessortedgff index tabix sh bgzip tair_gff_genessortedgff tabix p gff tair_gff_genessortedgffgz use pysamtabixfil read file iter py gfffetchchr parserpysamasgtf random access vcf fetch vcf vcfgz file sort chromosom sh vcfsort mntdisksvariantstoretmp c genomes_snpshortindel_with_tair_only_acgtnvcfgz variants_sortedvcf block gzip sh bgzip c variants_sortedvcf variants_sortedvcfgz index tabix sh tabix p vcf variants_sortedvcfgz convert vcf bcf sh bcftool view b variants_sortedvcfgz variants_sortedbcf queri region kb refer sequenc variant annot find gene interest good way base gff file one solut put gene name locat sqlite db fast enough averestservic build statushttpstravisciorgnlescaveaverestservicesvgbranchmasterhttpstravisciorgnlescaveaverestservic sonarcloud gatehttpssonarcloudioapibadgesgatekeyaverestservicehttpssonarcloudiodashboardidaverestservic sonarcloud coveragehttpssonarcloudioapibadgesmeasurekeyaverestservicemetriccoveragehttpssonarcloudiocomponent_measuresdomaincoverageidaverestservic docker autom buildhttpsimgshieldsiodockerautomatedaveallelicvariationexplorersvghttpshubdockercomraveallelicvariationexplor doihttpszenodoorgbadgesvghttpszenodoorgbadgelatestdoi allel variat explor ave web applic visual cluster singlenucleotid variant across genom allel variat explor rest servic cluster genom variant list avail dataset combin aveapphttpsgithubcomnlescaveaveapp visual cluster genom variant certain genom rang genom browser screenshot allel variat explorerhttpsgithubcomnlescaveaverestservicerawmasterdocsscreenshotpng servic back end aveapphttpsgithubcomnlescaveaveapp front end front end run user web browser commun back end run web server somewher front end user interfac back end servic serv variant annot genom data front end back end commun accord swagger specificationhttpsswaggerio swaggerymlavedataswaggeryml architecturearchitectur deploymentdeploy demodemo secur connectionsecureconnect shut downshuttingdown updat imageupdateimag data pre processingdatapreprocess genom sequencegenomesequ variantsvari genesgen genom featur annotationsgenomicfeaturesannot data registrationdataregistr regist genomeregistergenom regist variantsregistervari regist genesregistergen regist featur annotationsregisterfeatureannot deregisterderegist developdevelop setupsetup configurationconfigur run servicerunservic run commandsruncommand build docker imagebuilddockerimag architectur architecturehttpsgithubcomnlescaveaverestservicerawmasterdocsarchitecturepng averestservic aveapp wrap docker imagehttpshubdockercomraveallelicvariationexplor docker imag use deploy allel variat explor server allel variat explor consist follow part work togeth run ave rest servic extract aveapphttpsbintraycomnlescaveaveaveapplatestfil build archiv bit genom sequenc bcf variant bigb gene featur annot data file green diagram directori full text indic gene featur whooshhttpswhooshreadthedocsio format fill data registr commandsdataregistr red diagram meta databas file contain list avail dataset insid applic fill data registr commandsdataregistr yellow diagram nginx web serverhttpnginxorg host app data file proxi ave rest servic behind singl port docker imag combin see dockerfil instruct use instal part deploy docker imag avail docker hubhttpshubdockercomraveallelicvariationexplor chang master branch repo aveapphttpsgithubcomnlescaveaveapp trigger automat build docker imagehttpshubdockercomraveallelicvariationexplor docker imag contain data data ad data lost docker contain stoppedstart get deploy persist data use directori server mount volum docker contain expect follow volum data locat bit bcf bigb data file host httpltaveservergtdata whoosh full text indic gene featur meta directori ave meta databas store run servic bash use sub directori current work directori persist data mkdir data mkdir whoosh mkdir meta docker run v pwddatadata v pwdwhooshwhoosh v pwdmetameta p name ave aveallelicvariationexplor command run web server port host machin deploy server run contain data see data pre processingdatapreprocess chapter prepar data follow data registrationdataregistr chapter add data demo demo docker imag sampl dataset avail httpshubdockercomraveavedemo secur connect docker contain use http unencryt connect use secur connect http revers proxi let encrypt certif put front docker contain docker contain must run port configur web server like nginx server http port proxi request contain use certbothttpscertbotefforg gener certif pair configur web server see exampl server conf comment block nginxconf file shut docker contain stop use bash docker rm f ave updat imag make sure docker contain run docker imag updat use bash docker pull aveallelicvariationexplor data pre process data regist convert right format describ pre process step convert common format format applic expect tool use avail insid docker containerdeploy instal anaconda environmentsetup perform pre process insid docker contain copi raw file data docker volum login docker contain docker exec ti ave bash genom sequenc genom sequenc bithttpsgenomeucscedugoldenpathhelptwobithtml format use genom sequenc fastahttpsenwikipediaorgwikifasta_format format chromosom sequenc file fasta file convert bit use sh fatotwobit genomefa genomebit sequenc identifi chromosomecontig match one correspond variant bcf gene bigb genom featur annot bigb file variant variant need provid singl bcfhttpssamtoolsgithubiohtsspecsvcfvpdf format file vcf file convert bcf file follow way merg vcf file samtoolshttpwwwhtsliborgdocsamtoolshtml vcftoolshttpvcftoolssourceforgenetperl_modulehtml sh vcfmerg requir bgzip tabix index vcf file first f ls vcf bgzip f tabix p vcf fgz done vcfmerg vcfgz variantsvcf sort chromosom vcftoolshttpvcftoolssourceforgenetperl_modulehtml sh vcfsort c variantsvcf variantssortedvcf compress bgziphttpwwwhtsliborgdoctabixhtml index tabixhttpwwwhtsliborgdoctabixhtml sh bgzip variantssortedvcf tabix p vcf variantssortedvcfgz convert bcfhttpssamtoolsgithubiohtsspecsbcfv_qrefpdf bcftoolshttpssamtoolsgithubiobcftoolsbcftoolshtml sh bcftool view b variantssortedvcfgz variantssortedbcf index bcftoolshttpwwwhtsliborgdocbcftoolshtml sh bcftool index variantssortedbcf gene gene transcript render gene track gene must provid bigbedhttpgenomeucscedugoldenpathhelpbigbedhtml format bigb file convert bed formattedhttpsgenomeucscedufaqfaqformathtmlformat file gene bed file expect follow column chrom name chromosom chromstart start gene zeroindex chromstart end gene zeroindex name transcript identifi score strand thickstart locat start codon thinkend locat stop codon itemrgb blockcount number exon blocksiz blockstart gene identifi descript gene exon startstop codon one gene singl line gene bed file avail httpbiovizorgquickload convert gene bed file bigb use bash fetch chrom size twobitinfo genomebit chromsiz version mac os avail also avail httphgdownloadcseucsceduadminexemacosxx_bedtobigb chmod x bedtobigb descript field long bedtobigb must trim gunzip c s_lycopersicum_may_bedgz perl n e chompfsplittf substrf print joint fn s_lycopersicum_may_bedtrim bedtobigb tab typeb s_lycopersicum_may_bedtrim chromsiz s_lycopersicum_may_bb bigb file chromosom render see issu httpsgithubcomnlescaveaveappissu genom featur annot featur file render featur track featur track name file name featur annot must provid bigbedhttpgenomeucscedugoldenpathhelpbigbedhtml format file convert gff featur file bigb use bash download gff file wget ftpftpsolgenomicsnettomato_genomemicroarrays_mappingaaffy_affygenechiptomatogenomeprobes_itaggenome_mappinggff sort gff bedtool sort aaffy_affygenechiptomatogenomeprobes_itaggenome_mappinggff aaffy_affygenechiptomatogenomeprobes_itaggenome_mappingsortedgff convert gff bed gffbed aaffy_affygenechiptomatogenomeprobes_itaggenome_mappingsortedgff aaffy_affygenechiptomatogenomeprobes_itaggenome_mappingb fetch chrom size twobitinfo genomebit chromsiz convert bed bigb bedtobigb tab typeb asgffa aaffy_affygenechiptomatogenomeprobes_itaggenome_mappingb chromsiz aaffy_affygenechiptomatogenomeprobes_itaggenome_mappingbb gffashttpsgithubcomnlescaveaverestserviceblobmastergffa docker contain avail appgffa use describ column bed file bigb file chromosom render see issu httpsgithubcomnlescaveaveappissu data registr deploy server run contain data data file must regist show web browser follow command expect run docker contain describ deploymentdeploy chapter regist genom bash docker exec ave avedata regist speci solanum lycopersicum genom sl datatyp bit datatomatoslgenomebit last argument locat genom bit file datatomatoslgenomebit exampl must absolut path start data must readabl anyon insid docker contain aveapphttpsgithubcomnlescaveaveapp front end use path rel http path fetch refer genom sequenc select region ave rest servic use determin chromosom list build haplotyp sequenc regist variant bash docker exec ave avedata regist speci solanum lycopersicum genom sl datatyp variant datatomatosltomato_snpsbcf datatomatosltomato_snpsbcf file must readabl anyon insid docker contain perform cluster regist genom bit file correspond variant bcf file requir regist gene one genom one gene track gene track show exon intron untransl region bash docker exec ave avedata regist speci solanum lycopersicum genom sl datatyp gene datatomatoslgene_modelsbb last argument bigb format file gene datatomatoslgene_modelsbb exampl must absolut path start data must readabl anyon insid docker contain registr take time whooshhttpswhooshreadthedocsio full text index build aveapphttpsgithubcomnlescaveaveapp front end use path rel http path fetch gene select region regist featur annot one genom one ore featur annot file regist bash docker exec ave avedata regist speci solanum lycopersicum genom sl datatyp featur datatomatoslaaffybb last argument bigb format file featur annot datatomatoslaaffybb exampl must absolut path start data must readabl anyon insid docker contain registr take time whooshhttpswhooshreadthedocsio full text index build aveapphttpsgithubcomnlescaveaveapp front end use path rel http path fetch featur annot select region basenam file case aaffi use track label deregist deregist one file use deregist command exampl deregist datatomatoslaaffybb file use bash docker exec ave avedata deregist datatomatoslaaffybb develop instruct get develop version servic run requir anacondahttpswwwcontinuumiodownload minicondahttpscondaiominicondahtml setup first clone repositori bash git clone httpsgithubcomnlescaveaverestservicegit cd averestservic creat new anaconda environ ave depend instal bash conda env creat f environmentyml osx use enviromentosxyml instead environmentyml activ environ bash sourc activ ave instal ave develop bash python setuppi develop depend chang environmentyml updat conda env runn conda env updat f environmentyml configur servic need configur file call settingcfg repo contain exampl config file call settingsexamplecfg copi exampl config file settingscfg edit make sure whoosh_base_dir directori exist run servic chang directori settingscfg file bash gunicorn w thread b avedataappapp run servic http api endpoint httpapi swagger ui httpapiui run python web servic host applic data file explain deploymentdeploy chapter run command avedata command line tool expect run directori contain settingscfg file avail command deregist remov filenam url databas drop_db drop databas init_db initi databas list list regist filesurl databas regist add file metadata inform databas run run singl thread web servic build docker imag build docker imag latest commit master branch automat build docker hub latest tag local chang want test docker contain local build docker imag bash docker build aveallelicvariationexplor docker imag contain latest version aveapphttpsgithubcomnlescaveaveapp want run differ version app need replac curltar command dockerfil command put app want varwwwhtml directori build docker imag