titl rivgraph automat extract analysi river delta channel network topolog tag python river delta imag process network channel network extract fluvial geomorpholog author name jon schwenkcorrespond author orcid affili name jayaram hariharan orcid x affili affili name lo alamo nation laboratori divis earth environment scienc index name depart civil architectur environment engin univers texa austin index date januari bibliographi paperbib summari river network sustain life landscap carri distribut water sediment nutrient throughout ecosystem commun largest scale river network drain contin treelik tributari network typic smaller scale river delta braid river form loopi complex distributari river network via avuls bifurc order model flow network analyz network structur topolog connect network must resolv addit morpholog properti river channel well direct flow channel inform flux travel network channel rivgraph python packag autom extract character river channel network userprovid binari imag mask channel network fig mask may deriv typic remotelysens imageri simul even handdrawn rivgraph creat explicit represent channel network resolv river centerlin link junction node flow direct solv link network without use auxiliari data eg digit elev model dem morpholog properti comput well includ link length width sinuos branch angl braid indic provid rivgraph preserv georeferenc inform mask export result esri shapefil geojson geotiff easi import gi softwar rivgraph also return extract network networkx object conveni interfac fullfeatur networkx packag hagberg final rivgraph offer suit topolog metric specif design river channel network analysi tejedor core function rivgraph delta channel networkexamplesimagesrivgraph_overview_whitepng statement need satellit aerial photographi provid unpreced opportun studi structur dynam river network quantiti qualiti remotelysens observ grow need tool automat map measur river channel network properti grown turn genesi rivgraph root work tejedor tejedora tejedor revit effort see river channel network lens network structur author releg timeconsum handdelin delta channel network analyz rivgraph thu born need transform binari mask river channel network graphic represent accur object effici rivgraph alreadi instrument number investig develop flow direct algorithm provid insight natur river channel network structur braid river delta schwenk delta specif rivgraphextract network use studi water sediment partit bifurc dong determin distanc channel network play control role arctic delta lake dynam vuli construct networkbas model nitrat remov across wax lake delta knight braid river rivgraph use extract channel network hydrodynam simul order develop novel entrop braid index ebi tejedor function comput ebi well classic braid index braid river provid rivgraph work marra repres effort understand braid river topolog although network appar extract manual ongo yetunpublish work use rivgraph studi river dynam delta loopi nutrient transport arctic delta awar one packag extract network topolog channel network mask orinoco python packag marshak use fast march method resolv channel network contrast rivgraph skeleton approach orinoco use shortestpath approach set flow direct rather rivgraph exploit mani morpholog featur includ shortest path set flow direct dem channel network avail lowpath hiatt addon topolog tool geomorpholog analysishttpsgithubcomtuealgattga packag may interest rivgraph alongriv mesh gener braid river fig inspir rivmap schwenkb function rivgraph requir user provid binari mask channel network provid mask georeferenc eg geotiff rivgraph export result coordin refer system cr easi analysi geograph inform system gi softwar otherwis dummi cr appli calcul physic quantiti eg length width unit pixel channel mask basi rivgraph process user consid care featur includ desir level smooth rivgraph respect connect channel mask group pixel connect mask connect vector represent well user may therefor wish preprocess mask fill small unwant island smooth channel boundari rivgraph im_util modul contain number function achiev task includ islandfil morpholog oper detail inform creat prepar mask provid documentationhttpsjonschwenkgithubiorivgraphmaskmakingindexhtml basic function rivgraph design emphasi userfriendli access guid idea even novic python user abl make use function anticip common workflow gather two class manag georeferenc convers path manag io simpl clearlynam method begin user want instanti either delta braid river class appli relev method follow skeleton skeleton mask minor condit skeleton perform simplifi topolog exampl pattern center pixel appear skeleton center pixel ad skeleton reduc number branchpoint four one compute_network walk along skeleton resolv link node pixel unprun skeleton visit therefor repres vector output prune_network remov portion network contribut meaning topolog skeleton process often result mani dangl link link connect network one end prune dangl link remov except connect inlet outlet node delta class userprovid shorelin inlet node file requir rivgraph prune network shorelin identifi inlet outlet node addit bridg link link whose remov result two subnetwork remov one result subnetwork contain inlet outlet node correspond subnetwork without inlet outlet node also remov compute_link_width_and_length add width length attribut link width comput via sampl distanc transform imag along link centerlin coordin multipli two length sum euclidean distanc pair pixel along link assign_flow_direct use suit algorithm set flow direct link network separ recip provid delta river class user may also creat rational variou algorithm detail recip construct given schwenk addit method avail plot export geotiff geovector savingload network convert adjac matric comput junction angl find island braid river analyz river class instead userprovid shorelin requir twocharact string denot exit side river respect mask eg ns river whose upstream terminu top imag downstream bottom rivgraph exploit gener direct braid river channel belt set flow direct gener alongriv mesh fig use character downstream chang addit method river class also featur compute_centerlin comput centerlin holesfil river mask individu channel compute_mesh creat mesh evenlyspac transect approxim perpendicular centerlin user specifi mesh space transect width degre smooth figur rivgraphgener mesh mask indu riverexamplesimagesindus_mesh_paperjpgwidth advanc function rivgraph organ set modul user find particular function base gener class custom workflow creat call appropri function modul includ class contain river delta class associ method direction algorithm set flow direct specif delta braid river geo_util function handl geospati data im_util imag process util includ morpholog oper io_util function read write data result ln_util function build manipul link node network mask_to_graph algorithm convert mask set link node walk function walk along skeleton identifi branchpoint deltasdelta_direction deltaspecif algorithm set flow direct deltasdelta_metr function comput topolog metric deltasdelta_util algorithm prune delta clip delta network shorelin riversriver_direction riverspecif algorithm set flow direct riversriver_util algorithm prune river gener alongriv mesh depend rivgraph reli function follow python packag gdal gdal numpi harri matplotlib hunter geopanda jordahl shape gilli fiona gilli pyproj snow scikitimag vanderwalt opencv bradski networkx hagberg fastdtw slaypni acknowledg thank efi foufoulageorgi alejandro tejedor anthoni longja lawrenc vuliu kensuk naito deon knight provid test case feedback rivgraph develop also grate anastasia pilioura joel rowland provid valuabl insight subsequ test rivgraph flow direction algorithm rivgraph receiv financi support nsf ear unit state depart energi lo alamo nation laboratori lab direct research develop ldrd program special thank due dr efi foufoulageorgi provid support nascent phase rivgraph develop refer buildhttpsgithubcomjonschwenkrivgraphactionsworkflowsbuildymlbadgesvghttpsgithubcomjonschwenkrivgraphactionsworkflowsbuildyml coverag statushttpscoverallsioreposgithubjonschwenkrivgraphbadgesvgbranchmasterhttpscoverallsiogithubjonschwenkrivgraphbranchmast docshttpsgithubcomjonschwenkrivgraphworkflowsdocsbadgesvg doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss br rivgraph logohttpsgithubcomjonschwenkrivgraphblobmasterdocslogosrg_logo_fullpnghttpsjonschwenkgithubiorivgraph go document rivgraph python packag provid tool convert binari mask channel network direct weight graph ie set connect link node core function rivgraphlabelfigcorefunctionshttpsgithubcomjonschwenkrivgraphblobmasterexamplesimagesrivgraph_overview_whitepng figur demonstr core compon rivgraph mani featur provid includ morpholog metric length width branch angl braid indic algebra represent channel network graph topolog metric topolog dynam altern path flux share entropi mutual inform etc tool clean prepar binari channel network mask island detect metric filter mesh gener character alongriv characterist beta tool centerlin migrat analysi rivgraph function maintain respect georeferenc inform start georeferenc mask eg geotiff rivgraph export result cr coordin refer system mask conveni map analysi fusion dataset gi see descript rivgraph function via agu posterhttpswwwresearchgatenetpublication_automatic_extraction_of_channel_network_topology_rivgraph flow direction logic valid describ esurf dynam paperhttpswwwearthsurfdynamnetesurfhtml exampl demonstr basic rivgraph featur avail delta channel networkhttpsgithubcomjonschwenkrivgraphblobmasterexamplesdelta_exampleipynb braid riverhttpsgithubcomjonschwenkrivgraphblobmasterexamplesbraided_river_exampleipynb instal rivgraph v host anaconda channel jschwenkhttpsanacondaorgjschwenkrivgraph recommend instal fresh conda environ minim risk depend clash easiest way download environmentymlhttpsgithubcomjonschwenkrivgraphblobmasterenvironmentyml file open termin macunix anaconda prompt window type precodeconda env creat file pathtoenvironmentyml environ name rivgraph chang environ file name anythingcodepr may want instal spyder prefer ide conda fetch requir depend handl version want instal rivgraph alreadyexist environ run precodeconda activ myenv conda instal rivgraph c jschwenkcodepr may also instal rivgraph github repohttpsjonschwenkgithubiorivgraphinstallindexhtmlinstallationfromsourc instruct test instal avail herehttpsjonschwenkgithubiorivgraphinstallindexhtmlinstallationfromsourc use pleas see documentationhttpsjonschwenkgithubiorivgraph detail instruct rivgraph requir provid binari mask network pagehttpsjonschwenkgithubiorivgraphmaskmakingindexhtml provid help hint tool find creat mask see rivgraph oper work colvil delta examplehttpsgithubcomjonschwenkrivgraphblobmasterexamplesdelta_exampleipynb brahmaputra river examplehttpsgithubcomjonschwenkrivgraphblobmasterexamplesbraided_river_exampleipynb exampl includ sampl mask rivgraph contain two primari class delta river provid conveni method creat process workflow channel network exampl demonstr instanti delta river class appli associ method look exampl take look classespyhttpsgithubcomjonschwenkrivgraphblobmasterrivgraphclassespi understand method avail note mani function hood may use check im_util scripthttpsgithubcomjonschwenkrivgraphblobmasterrivgraphim_utilspi imag util particular function help whip mask shape contribut think your skill experienc enough contribut think agre wholeheartedli sentiment express impost syndrom disclaimerhttpsgithubcomunidatametpycontribut welcom form user contribut includ featur request bug report code document request code simpli open issu trackerhttpsgithubcomjonschwenkrivgraphissu code develop contribut pleas contact us via email ad slack channel hash plan contribut cite rivgraph citat help us justifi effort goe build maintain project use rivgraph research pleas consid cite us use rivgraph flow direction algorithm pleas cite esurf dynam paperhttpswwwearthsurfdynamnetesurfhtml addit publish work wherein rivgraph use process data pleas cite joss paperhttpsjosstheojorgpapersjoss contact us best way get touch open issuehttpsgithubcomjonschwenkrivgraphissuesnew comment open issu pull request otherwis send email jkgmailcom licens free softwar redistribut andor modifi term bsd claus licens copi licens provid licensetxthttpsgithubcomjonschwenkrivgraphblobmasterlicensetxt rivgraph assign number c feynman center innov welcom rivgraph document rivgraph provid two class instanti binari channel mask delta braid river class contain method may appli execut network extract perform analys write georeferenc result rivgraph process autom deltaic channel network requir user also creat provid shorelin inlet node shapefil take look faq todo_for quick answer document seek herein pleas open request via issu tracker httpsgithubcomjonschwenkrivgraphissues_ detail exampl httpsgithubcomjonschwenkrivgraphtreemasterexamples_ use avail function document follow modifi numpi docstr format httpsnumpydocreadthedocsioenlatestformathtml_ document toctre maxdepth quickstartindex backgroundindex installindex examplesindex maskmakingindex shorelineindex linksnodesindex issuesindex featuredevelopmentindex contributingindex galleryindex apirefindex _issu known issu sever known issu new experienc user may encount may aris assumpt rivgraph violat serv resourc troubleshoot wrong mani isu identifi issu page httpsgithubcomjonschwenkrivgraphissues_ found regular use rivgraph encount issu pleas add issu page shorelin clip issu see shorelin document httpsjonschwenkgithubiorivgraphshorelineindexhtml_ inform method gener shorelin left id failur shorelin featur contain attribut name left_fid left_id etc popular gi softwar arcgi qgi add recommend enter shorelin singl attribut id null valu insid avoid error httpsgithubcomjonschwenkrivgraphissues_ nonpoint intersect assumpt clip_by_shorelin channel skeleton shorelin intersect point line segment shorelin extract use automat method open angl method httpsagupubsonlinelibrarywileycomdoiabsgl_ line intersect aris recommend smooth shorelin eg use spline interpol httpsgisstackexchangecomquestionssmoothingpolygonsincontourmap_ manual adjust shorelin case ensur point intersect mask issu basic maskmak mask assumpt cover maskmak document httpsjonschwenkgithubiorivgraphmaskmakingindexhtml_ section detail happen someth goe awri skeleton around imag form cyclic graph note maskmak doc httpsjonschwenkgithubiorivgraphmaskmakingindexhtml_ nodata pixel mask nodata pixel treat ie water result httpsgithubcomjonschwenkrivgraphissues_ cyclic network loop back delta apex here exampl result skeleton teal data blue water grey land yellow shorelin orang channel network skeleton prune issu aris project mask wg epsg imageri local utm zone result gener triangular band nodata edg imag na valu project mask set land prior run channel network skeleton prevent issu imag httpsuserimagesgithubusercontentcomcdfebfcbbebebapng multipl inlet node assign direction success extract channel network assign flow direction error httpsgithubcomjonschwenkrivgraphissues_ may aris comput delta metric error multipl inlet node found aris assumpt built rivgraph v skeleton mask fill island pixel less neighbor sens network island exist mask skeleton intersect one island may instanc caus error exampl occur issu aris imag link intersect island wid_adj zero adjust vector wid_pix valu essenti zero imag httpsuserimagesgithubusercontentcomcddbdeebabbbcfcaecpng without holefil assumpt follow skeleton would gener imag httpsuserimagesgithubusercontentcomdbbdfebbecdeepng depend analysi perform may may appropri skeleton shown second case issu aris delta river skeleton method chang assumpt may lead unknown downstream chang rivgraph function plan time remov skeleton procedur therefor sever option avail treat issu aris island relev problem hand ie repres signific featur network analyz comment follow three line skeletonize_mask relev class iskel imufill_holesiskel maxholes iskel morphologyskeletonizeiskel iskel simplify_skeliskel downscal mask island becom larger pixel increas process time rel small mask may signific island doesnt repres signific featur network could remov remov island pixel mask process function im_utilsfill_hol provid function _maskmak maskmak imag imageslena_maskpng alt lena river delta align center center lena river delta seen bing virtual earth mask note mask landsatderiv correspond perfectli imag left maskmak maskmak make mask rivgraph requir provid mask channel network document well cover follow refwhatismask refmaskconstraint refmaskcaptur refwheretoget refhowtoprep refgeoref refnonriv refsupportedfiletyp import one thing keep mind although rivgraph contain function prune otherwis modifi channel network alway honor mask provid may need iter alter mask rivgraph achiev desir result garbag garbag _whatismask mask mask simpli binari imag one zero pixel belong channel network one like right panel lena delta process mask rivgraph ensur mask contain nodata httpsgithubcomjonschwenkrivgraphissues_ one way ensur convert mask boolean datatyp use exampl numpi codemask_binari nparraymask dtypenpbool mask cornerston use rivgraph alway ensur contain featur want none one dont tip make sure remov object connect pixel mask want analyz leav object caus unexpect behavior error httpsgithubcomjonschwenkrivgraphissues_ often quick way achiev via objrivgraphim_utilslargest_blob function keep largest connect compon _maskconstraint rivgraph expect mask look like rivgraph handl two type mask delta braid singlethread river mask contain singl connect compon blob analysi use objrivgraphim_utilslargest_blob ensur one connect compon remov isol portion mask exampl codeblock python rivgraph import im_util mask_one_blob im_utilslargest_blobsmask nlargest actionkeep creat imag wherein largest connect compon remain hope channel network delta mask often larg waterbodi ocean lake connect outlet complet fine waterbodi remov prune stage _maskcaptur mask captur defin mask pixel belong channel network pixel part channel network obviou start point consid surfac water pixel defin channel network import mask show bankful channel includ small stream may activ flood condit imag imagesbrahma_masks_png align center exampl four mask shown portion brahmaputra river four differ day hydrograph river shown left panel expect see mask chang river flood reced also see river channel network rearrang place flood exampl show river roughli discharg network result rework flood bottom line mask reflect analysi goal exampl your interest count number loop delta channel network might care ensur channel repres want rout flux extract network probabl tri obtain mask captur full width channel repres discharg _wheretoget get mask mask come varieti sourc experi three primari method mask gener automat gener satellit imageri manual drawn hand modelsimul output mani method avail creat mask automat remotelysens imageri wont get detail note machin learn prove valuabl tool maskmak also simpl proven techniqu avail well brahmaputra mask creat threshold landsatderiv ndvi normal differ veget index httpswwwusgsgovcoresciencesystemsnlilandsatlandsatnormalizeddifferencevegetationindex_ simpl ratio band valu draw mask hand often ideal choic might effici way move forward case would typic use qgi draw polygon cover channel network use raster httpsdocsqgisorgendocsuser_manualprocessing_algsgdalogrgdal_conversionrasterizehtml_ tool convert polygon binari raster imag go rout sure specifi appropri coordin refer system polygon order preserv georeferenc inform dont use epsg also need specifi pixel resolut mask upon convers your analyz output simul unlik simul provid binari channel mask output case need develop way identifi channel network avail simul result exampl develop entrop braid index ebi httpsuiadsabsharvardeduabsagufmepetabstract_ use delftd simul test hypothes ebi chang variou sediment scheme make mask develop combin depth discharg threshold identifi pixel part activ river channel resourc either provid mask tool make publish mask arctic delta httpsdataessdivelblgovviewdoi_ made ecognit landsat imageri indu brahmaputra river httpsesurfcopernicusorgarticlessection_ clip grwl dataset global mask httpszenodoorgrecord_ landsatderiv river mean annual discharg issu tile boundari featheri along braid river bad global mask global surfac water dataset httpsglobalsurfacewaterappspotcom_ provid water pixel landsat archiv monthli global imag integratedthroughtim imag exampl threshold occurr product make mask use googl earth engin httpsdevelopersgooglecomearthenginedatasetscatalogjrc_gsw__globalsurfacewater_ access creat mask know pleas mention issu tracker httpsgithubcomjonschwenkrivgraphissues_ imag imagesjrc_mackenziepng align center center global surfac water occurr map show fraction time observ landsat pixel water rel quickli train appli ml model use googl earth engin httpsearthenginegooglecom_ although learn curv may littl steep havent use deepwatermap httpsgithubcomisikdogandeepwatermap_ train deep convolut neural network appli landsatsentinel multispectr imageri creat mask also improv deepwatermap base model ad train data requir knowledg tensorflow _howtoprep edit mask mask simpli singleband imag pixelbas imag edit softwar use handedit photoshop gimp mspaint etc howev issu use tool softwar gener preserv georeferenc inform sourc imag add back edit imag softwar may difficulti openingedit singleband imag oppos standard rgb band filetyp sometim compat pythonexport imag softwar thu requir extra attent found three effect way edit georeferenc mask one choos depend quantiti qualiti edit need achiev edit mask directli qgi serval httpspluginsqgisorgpluginsserval_ plugin qgi allow singlepixel manipul good need edit hand pixel b thrase httpspluginsqgisorgpluginsthrase_ plugin qgi appear sophist rasteredit capabl havent use paintnet httpswwwgetpaintnetdownloadhtml_ imageedit softwar preserv georeferenc inform fairli basic easi use signific amount handedit look use imag process tool rivgraph edit mask morpholog oper like objrivgraphim_utilsdil objrivgraphim_utilserod objrivgraphim_utilsregionprop filter object base properti area length perimet etc objrivgraphim_utilslargest_blob keepingremov largest connect compon mask also objrivgraphim_utilshand_clean util allow draw polygon oneatatim specifi pixel valu usual find tool suffici clean mask regardless amount edit requir _georef mask need georeferenc mask alreadi produc gi context alreadi geograph referenc howev rivgraph requir mask imag georeferenc eg geotiff provid mask without georefer inform rivgraph assign dummi project order proceed effect network extract howev strongli advis provid georeferenc mask three primari reason coordin refer system cr mask carri analysi mean shapefil geotiff export use rivgraph align perfectli mask addit result easili import gi analysi fusion geospati data rivgraph comput morpholog metric length width use pixel coordin georeferenc mask contain inform unit mask thu metric physic distanc inherit unit cr metersbas result meter rivgraph function hood requir heurist threshold paramet design crsagnost possibl function undoubtedli perform better pixel known unit exampl gener mesh along braid river corridor requir paramet defin size smooth mesh mask physicallymeaning unit make parameter much simpler intuit warn avoid degreebas crss like epsg length degre uniform vari latitud exampl equat degre longitud roughli km anchorag alaska degre longitud approxim km effect degre meaningless unit physic measur prudent approach would first project mask metersbas cr eg appropri utm zone httpsenwikipediaorgwikiuniversal_transverse_mercator_coordinate_system_ analysi rivgraph _nonriv mask repres someth isnt river perhap youd like vector road network vascular system possibl rivgraph howev abl instanti conveni delta river class design river channel network instead need poke around api figur function work good start point skeleton mask objrivgraphmask_to_graphskeletonize_mask run objrivgraphmask_to_graphskel_to_graph convert skeleton set link node interest nonriv usecas pleas send email jkgmailcom add exampl _supportedfiletyp filetyp support mask gdalread filetyp httpsgdalorgdriversrasterindexhtml_ fine geotiff common recommend possibl _shorelin shorelin creation everi delta analyz rivgraph requir user creat shorelin well shorelin use determin locat outlet node network guidanc provid creat shorelin delta mask refwhyshorelin refhowshorelin _whyshorelin purpos shorelin consid follow mask skeleton imag imagescolville_mask_skelpng identifi end networki outlet locat two option first could manual specifi outlet point individu viabl option also tediou lend well autom instead rivgraph take differ approach still requir manual input robust less tediou potenti autom instead place node individu provid shorelin shapefil geopandasread polylin rivgraph intersect shorelin skeleton actual vector link node make skeleton place node connect intersect point trim away skeleton lie outsid river network _howshorelin make shorelin numer tool avail gener shorelin open angl method httpagupubsonlinelibrarywileycomdoiabsgl_ may autom procedur describ shorelin creation qgi although gi softwar may also use gener skeleton mask codeblock python rivgraphclass import delta mydelta deltamask path_to_result mydeltaskeleton mydeltato_geotiffskeleton rivgraph write georeferenc skeleton path_to_result drag mask skeleton qgi see someth like figur creat new layer layer creat layer creat shapefil layer dropdown make sure select line geometri type make sure set cr new layer mask specifi filepath prefer path_to_result anywher turn edit layer click toggl edit icon creat new line featur use add line featur button point actual draw shorelin goal intersect skeleton link shorelin locat wed like outlet node place identifi first outlet mask begin draw shorelin segment across channel tip thing matter shorelin intersect outlet link dont worri shorelin doesnt actual follow shore find help connect end island defin creat shorelin node typic ensur your cut across correct part channel see figur make sure final shorelin cut skeleton two disconnect compon dont worri intersect portion skeleton outlet link get easier littl practic may iter time two achiev desir result imag imagesshoreline_howtopng align center run mydeltaprune_network specifi proper path shorelin inlet node shorelin get follow result imag imagesshoreline_howtopng align center center prune network blue outlet node yellow notic spuriou skeleton portion trim link ocean also see outlet node place exactli shorelin intersect skeleton _background background birth rivgraph walk postdoc offic saint anthoni fall laboratori see delta display x sheet paper tape togeth handdrawn mark colleagu alejandro tejedor anthoni longja tri whip delta shape seri paper httpsagupubsonlinelibrarywileycomdoifullwrissnconart_ httpsagupubsonlinelibrarywileycomdoifullwr_ introduc new way think delta len channel network look handiwork couldnt help think must better way research time led develop rivmap httpsagupubsonlinelibrarywileycomdoifullea_ matlab toolbox analyz morphodynam meander river use binari mask rivgraph born small set matlab script limit function finish phd rivgraph barelyform state follow advis efi httpefienguciedu_ ucirvin short postdoc alex anthoni push delta work even kept ad script rivgraph inevit idea hatch analyz dozen delta worldwid eventu becam success propos httpswwwnsfgovawardsearchshowawardawd_id_ meantim took postdoc posit lo alamo nation laboratori eye toward global river morphodynam arriv lanl mark begin python journey soon convert rivgraph script python research need led fuller develop rivgraph brought braid river mix sometim rivgraph offici becam rivgraph cut python teeth develop rivgraph degre inherit clunki ineffici bake initi also implement automat ad artifici node parallel edg tailor somewhat particular use case howev user base continu grow improv upgrad implement meet need pleas add request mix report bug find use github issu tracker httpsgithubcomjonschwenkrivgraphissues_ what differ rivgraph rivgraph fill void code space provid fullfeatur packag work mask river channel opinion rivgraph conveni collect alreadyexist function like cr handl path manag etc said three somewhat novel compon rivgraph avail elsewher least avail python first walk algorithm break skeleton constitu link node similar function avail gi packag rivgraph ensur result skeleton parsimoniousi contain node possibl fulli preserv topolog mask achiev help doubleconvolut first convolut identifi possibl branchpoint second reduc branchpoint cluster minimumrequir set second novelti rivgraph offer abil automat set flow direct trivial network like wax lake delta mani channel network wild beast rivgraph solut correspondingli complic pretti good job publish httpsesurfcopernicusorgarticlesesurfhtml_ method valid implic third novel compon rivgraph abilti gener alongchannel mesh approxim follow river centerlin transect centerlin approxim perpendicularli surprisingli tricki function get right im even sure yet first iter appear rivmap probabl method chang settl current version use dynam time warp thank zoltan et al httpspubsgeoscienceworldorggsageologyarticlehighcurvaturesdriverivermeandering_ introduc although still contend inappropri use measur channel migrat rate iter map vertic buffer centerlin away origin rivgraph channel network rivgraph design around channel network contain smatter tool use across broad rang analys instanc mask_to_graphpi httpsgithubcomjonschwenkrivgraphblobmasterrivgraphmask_to_graphpy_ script contain tool convert binari mask vector skeleton river channel network number imag process tool im_utilspi httpsgithubcomjonschwenkrivgraphblobmasterrivgraphim_utilspy_ use frequent project like matlablik implement regionprop measur blob properti binari imag person found one broadli use tool rivgraph write_geotiff httpsgithubcomjonschwenkrivgraphblobfdeabfdcdfdedrivgraphio_utilspyl_ say _contribut contribut think your skill experienc enough contribut think agre wholeheartedli sentiment express impost syndrom disclaim httpsgithubcomunidatametpycontributing_ welcom form user contribut includ featur request bug report code document request code simpli open issu httpsgithubcomjonschwenkrivgraphissues_ code develop contribut pleas contact us via email ad slack channel hash plan contribut _featuredevelop featur develop there alway done featur list suggest requir signific amount develop your interest tackl help tackl pleas email jkgmailcom well add rivgraph slack channel start discuss automat shorelin extract current user must provid shorelin file delta wish analyz strategi creat shorelin document httpsjonschwenkgithubiorivgraphshorelineindexhtml__ prefer option would rivgraph automat gener shorelin number publish softwar attempt solv problem eg openingangl method practic found slow andor need fineg interfac rivgraph lakewetland connect mani delta especi arctic one lakedens connect lake implic biogeochem cycl transport time water sediment spent week develop rivgraphlak branch attempt resolv lake connect howev difficult problem didnt quit cross finish line figur imageslakemask_examplepng alt imag exampl mask label channel network gray lake white formul lake mask would provid conjunct river mask lake would label distinctli river mask shown mask difficulti lie number way lake connect figur shown rather simpl case sometim lake intersect channel network oceandrain bodi mani possibl make simpli resolv posit within channel network formid task second major issu aris tri set flow direct lake sourc sink flow direction algorithm need know need adapt accordingli made signific progress featur readi product anoth point mention focus lake concept may gener applic exampl user also mask wetlandsor object connect channel network framework could handl case machin learn flow direct current scheme set flow direct httpsesurfcopernicusorgarticles__ link channel network quit complic physicallybas sens rule defin flow direct physic base two hard constraint interior sourc sink cycl although violat rivgraph find cycleless solut paper attach dataset link contain plenti train data could use take machin learn approach set flow direct mani algorithm place exampl determin link part main channel syntheticallygener slope use gener featur ai approach clear would enforc constraint list ill bet could done anoth difficulti might physicallybas scheme direct set iter start certain set link inform use set neighbor direct soon continu exploit one link group adjac link unknown direct would therefor guess ml model would follow similar iter path howev know ai approach could faster especi larger delta postprocess correct would also use either approach realli flow direct uncertainti mani link flow direct certain may fact bidirect one approach propos handl rather export singl adjac matrix rivgraph best guess could export famili adjac matric alej tejedor done recent work concept effect resolutioni resolut underli mask graphbas flux partit significantli impact coarsen mask concept could combin famili adjac matric prevent famili huge word effect resolut could prune link dont contribut much flux routingand link typic uncertain edit file automat gener sphinxgalleri make chang edit sourc python file galleryknightspi line number given html note class sphxglrdownloadlinknot click refher sphx_glr_download_gallery_knightspi download full exampl code rstclass sphxglrexampletitl _sphx_glr_gallery_knightspi nitrat remov across ecogeomorph zone wax lake delta louisiana usa deon knight audrey h sawyer rebecca barn anastasia pilioura jon schwenk dougla edmond alexand brown public httpsagupubsonlinelibrarywileycomdoipdfwr_ made use rivgraph flux model estim nitrat uptak rate channel wax lake delta imag gallery_sourceimagesknights_et_al_png gener python sourc line codeblock default left remov rate calcul use submergeddelta approach right remov rate calcul use nutrient spiral approach percentag amount nitrat enter link rstclass sphxglrtime total run time script minut second _sphx_glr_download_gallery_knightspi html contain sphxglrfooter class sphxglrfooterexampl contain sphxglrdownload sphxglrdownloadpython downloaddownload python sourc code knightspi knightspi contain sphxglrdownload sphxglrdownloadjupyt downloaddownload jupyt notebook knightsipynb knightsipynb html rstclass sphxglrsignatur galleri gener sphinxgalleri httpssphinxgallerygithubio_ orphan _sphx_glr_galleri rivgraph wild select public use rivgraph answer cool scienc question let us know httpsgithubcomjonschwenkrivgraphissues_ youd like add applic galleri raw html div classsphxglrthumbcontain tooltipthi public lthttpsagupubsonlinelibrarywileycomdoipdfwrgt_ made html figur galleryimagesthumbsphx_glr_knights_thumbpng alt nitrat remov across ecogeomorph zone wax lake delta louisiana usa refsphx_glr_gallery_knightspi raw html div toctre hidden galleryknight raw html div classsphxglrcleardiv html rstclass sphxglrsignatur galleri gener sphinxgalleri httpssphinxgallerygithubio_ _exampl exampl delta exampl toctre maxdepth delta_exampledelta_exampl river exampl toctre maxdepth braided_river_examplebraided_river_exampl let demo rivgraph colvil delta demo show core function conveni plot export featur provid rivgraph analyz delta channel network basic step rivgraph includ instanti delta class skeleton binari mask comput network link node prune network requir usercr shorelin input node delta comput morpholog metric length width assign flow direct link comput topolog metric along way well export geotiff geojson shapefil prefer inspect qgi rivgraph requir binari mask channel network prefer georeferenc ie geotiff delta also need creat two shapefilesgeojson one shorelin one inlet node see section guidanc creat requir geovector file instanti delta class code ipython rivgraphclass import delta import matplotlibpyplot plt defin path georeferenc binari imag mask_path datacolville_deltacolville_masktif result save name name colvil folder call colvil creat within path store output results_fold datacolville_deltaresult boot delta class set verbosetru see progress process colvil deltanam mask_path results_folderresults_fold verbosetru mask rebinar store attribut colvil pltimshowcolvilleimask parsedliter matplotlibimageaxesimag xdfea imag output__png skeleton binari mask code ipython simpli use skeleton method colvilleskeleton run colvil new attribut iskel let take look pltimshowcolvilleiskel parsedliter skeleton maskdon parsedliter matplotlibimageaxesimag xdafd imag output__png skeleton hard see perhap wed like look closer one option save geotiff pull gi like qgi code ipython use write_geotiff method skeleton option colvilleto_geotiffskeleton parsedliter geotiff written datacolville_deltaresultscolville_skeltif georeferenc colvil skeleton written disk pull qgi along georeferenc mask figur imagescolville_qgis_mask_skel_largepng alt colville_qgis_mask_skel_largepng colville_qgis_mask_skel_largepng bit zoomedin figur imagescolville_qgis_mask_skel_zoompng alt colville_qgis_mask_skel_zoompng colville_qgis_mask_skel_zoompng comput network link node code ipython simpli use compute_network method colvillecompute_network parsedliter resolv link nodesdon code ipython see link node dictionari ad colvil attribut link colvillelink node colvillenod printlink formatlinkskey printnod formatnodeskey parsedliter link dict_keysidx conn id n_network node dict_keysidx conn id link dictionari current contain four key idx list pixel indic make link indic creat input mask shape npravel_multi_index conn twoelement list contain node id link endpoint id link uniqu id order irrelev n_network number disconnect network input mask contain singl connect blob node dictionari current contain three key idx index node posit within origin imag ie npravel_multi_index conn nelement list contain n link id link connect node id node uniqu id order irrelev visualz network coupl way first plot matplotlib code ipython colvilleplotnetwork imag output__png node link label id kind hard see zoom export network geovector pull em qgi code ipython colvilleto_geovectorsnetwork ftypejson ftype either shp json let see network geovector file written printcolvillepathslink printcolvillepathsnod parsedliter datacolville_deltaresultscolville_linksjson datacolville_deltaresultscolville_nodesjson drag qgi colville_network_unprunedpng queri differ link node use identifi tool note properti conn id append colville_network_unprunedpng imag imagescolville_network_unprunedpng prune network notic imag mani superflu link along shorelin result skeleton massiv connect waterbodi ie ocean case addit network contain number dangl link connect one end want keep inlet outlet dangl link other rivgraph automat prune network requir delta two addit piec inform locat inlet node delin shorelin creat qgi figur imagescolville_shoreline_inlet_outletpng alt colville_shoreline_inlet_outletpng colville_shoreline_inlet_outletpng shorelin creat polylin vector layer shorelin drawn intersect outlet link separ unwant ocean link actual link delta channel network get error may need adjust shorelin littletri ensur intersect node inlet node creat point vector layer simpli place point node repres inlet network placement need exact rivgraph find closest node one creat mark inlet node wont remov prune save convenci file save result folder initi class save results_foldercolville_shorelineshp results_foldercolville_inlet_nodesshp howev mandatori also point file prune identifi shorelin inletoutlet node let prune network code ipython colvilleprune_network note also specifi locat shorelin inlet node colvilleprune_networkpath_shorelinepathtoshorelinefil path_inletnodespathtoinletnodesfil weve prune reexport network colvilleto_geovector note time didnt specifi argument default network export type json parsedliter let see prune version compar unprun figur imagescolville_shoreline_inlet_outlet_prunedpng alt colville_shoreline_inlet_outlet_prunedpng colville_shoreline_inlet_outlet_prunedpng wow realli clip lot link also ad new node shorelinenotic link intersect shorelin truncat outlet node place rivgraph rememb node outlet node may concern dangl link subnetwork prunedthi design want retain dangl link need mark upstreammost node inlet node shapefil compar figur one set node also reduc link remov network node longer need connect two link comput morpholog metric length width network resolv prune comput link metric code ipython comput link width length colvillecompute_link_width_and_length let look histogram link width length trash plthistcolvillelinkslen_adj bin pltylabelcount pltxlabellink length plttitlehistogram link length parsedliter comput link width lengthsdon parsedliter text histogram link length imag output__png figur see almost link km shorter three much longer histogram differ delta depend resolut input binari mask note length report meter unit origin geotiff cr check unit printcolvilleunit highli unadvis use degre epsg other comput distanc code ipython printcolvilleunit parsedliter meter note use len_adj field rather len field differ address separ jupyt notebook call xxx width code ipython trash plthistcolvillelinkswid_adj bin pltylabelcount pltxlabellink width plttitlehistogram link width parsedliter text histogram link width imag output__png assign flow direct link wish determin longterm steadyst flow direct link algorithm use describ paper httpswwwearthsurfdynamnetesurfhtml__ code ipython colvilleassign_flow_direct parsedliter file creat manual set link direct datacolville_deltaresultscolville_fixlinkscsv cycl found network rivgraph problem assign link direct let us know see error messag messag indic cycl found graph great also notic rivgraph mention csv file creat us manual set flow direct inspect flow direct find incorrect fix enter link id appropri upstream node csv run assign_flow_direct see braid river exampl httpsgithubcomjonschwenkrivgraphblobmasterexamplesbraided_river_exampleipynb__ section detail note link enter csv forc upstream node indic rivgraph set link direct iter find problemat area link direct ie number link whose direct wrong usual fix set key link without need flip manual let look plot code ipython plot link direction mark colvilleplotdirect imag output__png link color upstream cyan downstream purpl similar skeleton export link direct geotiff inspect gi code ipython colvilleto_geotiffdirect parsedliter geotiff written datacolville_deltaresultscolville_link_directionstif pull qgi appli similar color ramp see figur imagescolville_link_directionspng alt colville_link_directionspng colville_link_directionspng pixel valu along link rescal upstream downstream flow direct comput also comput junction angl node code ipython method comput junction angl node exactli three connect link colvillecompute_junction_anglesweightnon see xxx descript mean weight option check node dictionari see three new field exist int_ang jtype width_ratio int_ang junction angl jtype either b bifurc c confluenc node junction angl comput width_ratio refer ratio larger smaller link printcolvillenodeskey parsedliter dict_keysidx conn id inlet outlet int_ang jtype width_ratio comput topolog metric rivgraph comput number topolog metric delta channel network metric explain demonstr tejedor et al doiorgwr b doiorgwr note preprocess done topolog comput metric highli recommend understand preprocess step andor comput metric code ipython colvillecompute_topologic_metr may get overflow warn metric store attribut dictionari printcolvilletopo_metricskey parsedliter dict_keysnonlin_entropy_r ner_prob_exceed ner_random top_mutual_info top_conditional_entropi top_link_sharing_idx n_alt_path resistance_dist top_pairwise_depend flux_sharing_idx leakage_idx dyn_pairwise_depend dyn_mutual_info dyn_conditional_entropi code ipython queri differ metric access dictionari key printcolvilletopo_metricsnonlin_entropy_r parsedliter code ipython metric comput outlet node printcolvilletopo_metricstop_mutual_info first column node id second topolog mutual inform valu parsedliter wish comput metric perform topolog analys youll probabl need adjac matrix rivgraph provid follow method code ipython unweight unnorm adjac matrix adj colvilleadjacency_matrix printadj parsedliter code ipython may also want adjac matrix weight link width adj_w colvilleadjacency_matrixweightwid_adj also weight len_adj provid vector weight printadj_w parsedliter code ipython may want adjac matrix normal adj_w_n colvilleadjacency_matrixweightwid_adj normalizedtru printadj_w_n row sum parsedliter let demo rivgraph brahmaputra river demo show core function conveni plot export featur provid rivgraph braid river network basic step rivgraph braid river includ instanti river class skeleton binari mask comput network link node prune network comput morpholog metric length width comput mesh adjust mesh paramet assign flow direct link note topolog metric along way well export geotiff geojson shapefil prefer inspect qgi rivgraph requir binari mask channel network prefer georeferenc ie geotiff project coordin refer system instanti river class code ipython rivgraphclass import river import matplotlibpyplot plt import os defin path georeferenc binari imag mask_path databrahmaputra_braided_riverbrahmaputra_masktif result save name name brahma store rivgraphgener geotiff geovector file results_fold databrahmaputra_braided_riverresult set exit side river rel imag case brahmaputra enter imag north exit imag south es ns first charact upstream side boot river class set verbosetru see progress process brahma rivernam mask_path results_fold exit_sides verbosetru mask rebinar store attribut brahma pltimshowbrahmaimask parsedliter matplotlibimageaxesimag xebf imag output__png skeleton binari mask code ipython simpli use skeleton method brahmaskeleton skeleton imag store attribut brahm class let take look pltimshowbrahmaiskel parsedliter matplotlibimageaxesimag xebfea imag output__png skeleton hard see perhap wed like look closer one option save geotiff pull gi like qgi code ipython use write_geotiff method skeleton option brahmato_geotiffskeleton parsedliter geotiff written databrahmaputra_braided_riverresultsbrahma_skeltif georeferenc brahmaputra skeleton written disk pull qgi along georeferenc mask figur imagesbrahma_qgis_mask_skelpng alt brahma_qgis_mask_skelpng brahma_qgis_mask_skelpng comput network link node code ipython simpli use compute_network method brahmacompute_network parsedliter resolv link nodesdon code ipython see link node dictionari ahv ad attribut brahma class link brahmalink node brahmanod printlink formatlinkskey printnod formatnodeskey parsedliter link dict_keysidx conn id n_network node dict_keysidx conn id link dictionari current contain four key idx list pixel indic make link indic creat input mask shape npravel_multi_index conn twoelement list contain node id link endpoint id link uniqu id order irrelev n_network number disconnect network input mask contain singl connect blob node dictionari current contain three key idx index node posit within origin imag ie npravel_multi_index conn nelement list contain n link id link connect node id node uniqu id order irrelev visualz network coupl way first plot matplotlib code ipython brahmaplotnetwork imag output__png node link label id zoom plot interact matplotlib window export network link node geovector file pull em qgi code ipython brahmato_geovectorsnetwork ftypejson let see network geovector file written printbrahmapathslink printbrahmapathsnod parsedliter databrahmaputra_braided_riverresultsbrahma_linksjson databrahmaputra_braided_riverresultsbrahma_nodesjson drag qgi brahma_qgis_network_unprunedpng queri differ link node use identifi tool note properti conn id append brahma_qgis_network_unprunedpng imag imagesbrahma_qgis_network_unprunedpng pan around bit youll notic mani dangl link link connect one end link play role connect network therefor may want remov dont want remov inlet outlet link howev rivgraph prune dangl link preserv inlet outlet link exploit exit_sid suppli earlier let prune network prune network code ipython brahmaprune_network see inlet outlet ad node dictionari printbrahmanodeskey get node id inlet outlet printinlet brahmanodesinlet printoutlet brahmanodesoutlet parsedliter dict_keysidx conn id inlet outlet inlet outlet comput morpholog metric length width network resolv prune comput link metric code ipython brahmacompute_link_width_and_length let look histogram link width length trash plthistbrahmalinkslen_adj bin pltylabelcount pltxlabellink length plttitlehistogram link length parsedliter comput distanc transformdon comput link width lengthsdon parsedliter text histogram link length imag output__png figur see almost link shorter km histogram differ braid river depend resolut input binari mask resolv smaller channel gener though alway produc smaller averag link length longer link broken connect smaller one note length report meter bcaus unit provid mask cr coordin refer system check unit code ipython printbrahmaunit parsedliter meter comput mesh prepar set flow direct link comput alongvalley mesh mesh creat base overal morpholog braid river oppos individu channel within network object mesh creat alongchannel grid contain transect roughli perpendicular river centerlin approxim evenlyspac mesh necessari set flow direct also use measur alongriv characterist like width eros rate braid index etc gener mesh requir paramet ideal would userdefin time howev simplic rivgraph make estim paramet base primarili averag link width paramet describ gener default mesh code ipython note provid argument compute_mesh function brahmacompute_mesh parsedliter comput centerlinedon comput link width lengthsdon gener meshdon play meshgener paramet let take look weve gener compute_mesh function first see centerlin comput access centerlin code ipython printbrahmacenterlin parsedliter array array get numpi array two array column row centerlin isnt interpret asi export centerlin geovector file code ipython brahmato_geovectorscenterlin ftypejson centerlin export shapefil geojson depend filetyp specifi geojson default let take look centerlin qgi figur imagesbrahma_qgis_centerlinepng alt brahma_qgis_centerlinepng brahma_qgis_centerlinepng littl jag fine purpos centerlin comput fill island network use distanc transform find centermost pixel let take look mesh gener first need export code ipython brahmato_geovectorsmesh ftypejson mesh consist two file meshlin transect meshpoli want see file gener check path dictionari code ipython printbrahmapathsmeshlin printbrahmapathsmeshpoli parsedliter databrahmaputra_braided_riverresultsbrahma_meshlinesjson databrahmaputra_braided_riverresultsbrahma_meshpolysjson let see mesh look like drag geojson qgi figur imagesbrahma_qgis_initial_meshlinespng alt brahma_qgis_initial_meshlinespng brahma_qgis_initial_meshlinespng mesh pretti good job meet two criteria approxim perpendicular centerlin evenlyspac along centerlin perfect play paramet adjust adjust mesh paramet may want alter certain featur mesh like space transect overal width mesh call compute_mesh three option keyword argument provid control mesh properti grid_spac alongcenterlin distanc transect default valu averag link width found npmeanbrahmlinkswid_adj smooth degre smooth perform centerlin creat offset paramet express term fraction total centerlin length default smooth use movingaverag window size length centerlin buf_halfwidth distanc centerlin edgelin buffer default wider maximum width mask ensur mask fulli cover mesh check valu use code ipython grid_spac printgrid_spac formatbrahmaavg_chan_width buf_halfwidth printbuf_halfwidth formatbrahmamax_valley_width_pixel brahmapixlen smooth default printsmooth format parsedliter grid_spac buf_halfwidth smooth may notic mesh transect near begin reach top imag arent quit perpendicular centerlin might like let tri smooth centerlin bit reduc buffer width make perpendicular grid space affect overal mesh strucutr well leav comparison purpos code ipython brahmacompute_meshbuf_halfwidth smooth parsedliter gener meshdon here sidebysid comparison default mesh figur imagesbrahma_mesh_comparisonpng alt brahma_mesh_comparisonpng brahma_mesh_comparisonpng two primari differ custom mesh default one first custom mesh narrow direct result us reduc buf_halfwidth secondli custom mesh transect significantli parallel centerlin default mesh result increas smooth two paramet plu grid_spac use design mesh suit need assign flow direct link want determin longterm steadyst flow direct link algorithm use describ paper httpswwwearthsurfdynamnetesurfhtml__ code ipython brahmaassign_flow_direct parsedliter set link directionalityus databrahmaputra_braided_riverresultsbrahma_fixlinkscsv manual set flow direct attempt fix cycl cycl resolv done statement appear tell us csv file creat us set flow direct manual file creat alreadi exist rerun assign_flow_direct see messag code ipython brahmaassign_flow_direct parsedliter set link directionalityus databrahmaputra_braided_riverresultsbrahma_fixlinkscsv manual set flow direct attempt fix cycl cycl resolv done see messag state rivgraph use csv file set flow direct manual howev havent popul file yet inform rivgraph use well revisit end section also see messag state rivgraph attempt fix cycl cycl set link within graph feed rivgraph direction algorithm enforc condit cycl present result graph cycl found set link direct rivgraph attempt fix mean link direct correct rather result graph contain cycl case rivgraph abl resolv cycl let inspect result link direct two option plot link via matplotlib within python code ipython brahmaplotdirect imag output__png cyan repres upstream portion link magenta downstream difficult see without zooom export geotiff contain direction inform inspect qgi code ipython brahmato_geotiffdirect parsedliter geotiff written databrahmaputra_braided_riverresultsbrahma_link_directionstif drag qgi ad colorbar legend see figur imagesbrahma_qgis_initial_directionspng alt brahma_qgis_initial_directionspng brahma_qgis_initial_directionspng ive circl two short link yellow note flow direct set go righttoleft ideal junction would compris singl node replac link rivgraph capabl yet simplifi network featur request made httpsgithubcomjonschwenkrivgraphissues__ cursori inspect could make argument flow instead go lefttoright two link let forc flow opposit direct exampl manual set link first need identifi link id link well desir upstream node use identifi tool qgi link node geojson layer turn easi figur imagesbrahma_qgis_identify_links_for_reversalpng alt brahma_qgis_identify_links_for_reversalpng brahma_qgis_identify_links_for_reversalpng see redhighlight link id upstream downstream node want revers order upstream node id open brahma_fixlink csv enter inform also done link right one figur imagesbrahma_fixlinks_csvpng alt brahma_fixlinks_csvpng brahma_fixlinks_csvpng simpli save csv rerun assign_flow_direct method code ipython brahmaassign_flow_direct parsedliter set link directionalityus databrahmaputra_braided_riverresultsbrahma_fixlinkscsv manual set flow direct attempt fix cycl cycl resolv done export direct geotiff plot origin figur imagesbrahma_flow_direction_reversed_manuallypng alt brahma_flow_direction_reversed_manuallypng brahma_flow_direction_reversed_manuallypng see rivgraph use inform csv manual set flow direct link opposit direct origin solut import note rivgraph guarante whatev link flow direct specifi csv preserv throughout directionset process rivgraph use iter approach set link direction know direct nearbi link use set link unknown direct mean incorrectli set link direct manual could infect nearbi link wrong direct inde see comparison upperright link direct also revers even though didnt specifi whether correct determin user note topolog metric youv look delta exampl httpsgithubcomjonschwenkrivgraphblobmasterexamplesdelta_exampleipynb__ youll see final section cover comput topolg metric order comput metric addit finagl network requir yet implement requir preprocess braid river howev mani function delta metric script httpsgithubcomjonschwenkrivgraphblobmasterrivgraphdeltasdelta_metricspy__ use braid river provid first preprocess braid river network properli rivgraph wild select public use rivgraph answer cool scienc question let us know httpsgithubcomjonschwenkrivgraphissues_ youd like add applic galleri _rivgraph rivgraph automodul rivgraphclass member specialmemb automodul rivgraphdirection member specialmemb automodul rivgraphgeo_util member specialmemb automodul rivgraphim_util member specialmemb automodul rivgraphio_util member specialmemb automodul rivgraphln_util member specialmemb automodul rivgraphmask_to_graph member specialmemb automodul rivgraphmask_util member specialmemb automodul rivgraphwalk member specialmemb _river river automodul rivgraphriversriver_direction member specialmemb automodul rivgraphriversriver_util member specialmemb _apiref api refer toctre maxdepth caption modul content rivgraph delta river _delta delta automodul rivgraphdeltasdelta_direction member specialmemb automodul rivgraphdeltasdelta_metr member specialmemb automodul rivgraphdeltasdelta_util member specialmemb _instal instal instruct note rivgraph requir instal common geospati python packag gdal httpsgdalorg_ packag difficult instal properli often creat depend error recommend use anaconda httpswwwanacondacomproductsindividual_ creat virtual environ rivgraph manag instal python librari handl packag version depend instal via conda latest stabl version rivgraph instal via conda recommend instal rivgraph fresh conda environ minim risk depend clash easiest way first download environmentyml httpsgithubcomjonschwenkrivgraphblobmasterenvironmentyml_ go link click raw copi content text editor save environmentyml open termin macunix anaconda prompt window type conda env creat file pathtoenvironmentyml tip default environ name rivgraph per environmentyml file chang environ file name anyth like would rather instal rivgraph preexist environ myenv use follow command conda activ myenv conda instal rivgraph c jschwenk warn rivgraph depend may pin specif version packag eg geopanda may mesh exist environ check environ file httpsgithubcomjonschwenkrivgraphblobmasterenvironmentyml_ case instal sourc would prefer instal rivgraph packag sourc follow step warn rivgraph use mani geospati depend eg gdal difficult instal note long continu integr workflow github work denot green check next latest commit messag sourc repositori home page latest version sourc code stabl instal sourc work depend correctli instal clone repositori git clone httpsgithubcomjonschwenkrivgraphgit instal depend note instal via conda environmentyml httpsgithubcomjonschwenkrivgraphblobmasterenvironmentyml_ file howev list also provid link homepag depend rivgraph depend python httpswwwpythonorg_ test v gdal httpsgdalorg_ numpi httpsnumpyorg_ geopanda httpsgeopandasorg_ v scikitimag httpsscikitimageorg_ opencv httpsgithubcomskvarkopencvpython_ networkx httpsnetworkxorg_ matplotlib httpsmatplotliborg_ pyproj httpspyprojgithubiopyprojstable_ shape httpsshapelyreadthedocsioenlatest_ fiona httpsfionareadthedocsioenlatest_ fastdtw httpsgithubcomslaypnifastdtw_ clone folder run follow command line python setuppi instal instal rivgraph packag note run issu instal rivgraph stage pleas check see whether youv instal requir depend test instal need instal pytest httpsdocspytestorgenstableindexhtml_ packag clone folder run unit test follow command pytest _linksnod link node dictionari defin network rivgraph objrivgraphclassesrivnetworkcompute_network two dictionari creat link node page document describ key present dictionari note dictionari keyvalu pair length number link node dictionari keyvalu pair contain metainform network inform appli subset linksnod number keyvalu pair match number link node align ith index keyvalu pair refer link node reflink refnod _link link dictionari link key valu n repres number link csvtabl gener link key file links_genericcsv headerrow csvtabl directionalityspecif key file links_dircsv headerrow csvtabl braid river exclus key file links_rivercsv headerrow csvtabl delta exclus key file links_deltacsv headerrow access link valu exampl know link_id link interest get index codelinksidindexlink_id _node node dictionari node key valu repres number node csvtabl gener node key file nodes_genericcsv headerrow access node valu exampl wish find link connect codenode_id use codenodesconnnodesidindex _quickstart quickstart instal rivgraph follow one instal method provid docinstal method installindex run script todo creat simpl test casescript run