fastaf toolkit file system virtualis random access compress fasta file cite fastaf virtualis philosophi shttpsdoiorg hoogstrat jenster gw van de werken hjg fastaf file system virtualis random access compress fasta file bmc bioinformat httpsdoiorg direct link file format specif httpsgithubcomyhoogstratefastafsblobmasterdocfastafsformatspecificationmdhttpsgithubcomyhoogstratefastafsblobmasterdocfastafsformatspecificationmd link biotoolshttpsbiotoolsfastaf httpsbioinfgalaxianerasmusmcnlpublicimagesfastafsfastafsexamplegif eleg integr sequenc data archiv backward compat fasta api need rna dna protein sequenc commonli store fasta format although commonli use easi read fasta file come addit metadata file consum unnecessari disk space addit metadata file need necessari achiev random access certain interoper featur requir addit maintainc classic fasta decompressor offer back forward compress file often requir decompress new copi fasta file make inpract solut particular random access use case although typic produc compact archiv quick algorithm wide adopt bioinformat softwar propos solut virtual layer random access fasta archiv readonli access fasta file guarente insync fai dict bit file file system userspac fuse file system layer archiv mount fastaf virtual folder contain fasta necessari metadata file access chunk archiv need deliv file request eleg softwar solut offer sever advantag virtual file system call ident flat file preserv backward compat tool compat fasta also random access usecas need use addit disk space temporari decompress put entir fasta file memori random access request comput resourc spent decompress region interest need multipl implement softwar librari distinct tool program languag requir maintain multipl file togeth make one data entiti guarante provid dict faifil sync fasta origin addit correspond toolkit offer interfac allow ena sequenc identif file integr verif manag mount file process id fastaf deliber made backward compat twobit fasta packag even allow mount twobit file instead fastaf file fasta file believ fastaf famou th standard httpsxkcdcom partial design replac fasta twobit mountpoint provid exact ident way file access regular flat file acc thu backward compat instead offer old standard eleg toolkit allow easier integr workflow manag system instal compil current packag use cmake compil requir depend libboost unit test come option depend soon libopenssl gener md hash libfus access fuse layer system file virtual c compil support c glibc libssl check sequenc ena zlib crc checksum cmake meson ninjabuild libcrypto mdsum debian ubuntu like system sudo apt instal git buildessenti cmake libboostdev libssldev libboosttestdev libboostsystemdev libboostfilesystemdev zlibgdev libzstddev libfusedev git clone httpsgithubcomyhoogstratefastafsgit cd fastaf rhel cento fedora like system sudo yum instal git cmake gccc boostdevel openssldevel libzstddevel zlibdevel fusedevel git clone httpsgithubcomyhoogstratefastafsgit cd fastaf compil releas recommend cmake dcmake_build_typereleas dcmake_install_prefixusrloc dcmake_verbose_makefileboolon make j nproc sudo make instal root permiss use follow instead cmake dcmake_build_typereleas dcmake_install_prefixloc dcmake_verbose_makefileboolon make j nproc make instal like play code like help develop creat debug binari follow cmake dcmake_build_typedebug dcmake_install_prefixusrloc dcmake_verbose_makefileboolon make j nproc sudo make instal patch chang even cool new featur believ worth contribut pleas run astyl follow command make tidi style code less compat way rest code thank advanc usag fastaf cach ad file fastaf add file fastaf databas run fastaf cach test testfa start bit fastaf cach testfrombit testbit fastaf file save localsharefastafsuidfastaf entri ad databas localsharefastafsindex fastaf list overview fastaf db list command list fastaf file locat databas localsharefastafsindex fastaf list fastaf name fastaf sequenc base disk size test vxbit fastaf info stat cach fasta file fastaf info fastaf name homeyourilocalsharefastafstestfastaf sequenc chr bit cdada chr bit bacadfeaca chr bit debaeccefadb chr bit bfcbdaacfda chr bit afdfbebbfeacb chr bit bdcedbaadcbda chr bit efacdafecdcfd fastaf mount mount fastaf archiv unlock fasta file fastaf mount hg mntfastafshg ls mntfastafshg hgbit hgdict hgfa hgfafai seq ls alsh mntfastafshg total rwrr youri youri aug hgbit rwrr youri youri k aug hgdict rwrr youri youri g aug hgfa rwrr youri youri k aug hgfafai drwxrxrx youri youri aug seq head n mntbiohghgdict hd vn sounsort sq snchr ln mbbcdebacbda urfastafshg sq snchr ln maddadecaac urfastafshg sq snchr ln mefadabbdacdc urfastafshg sq snchr ln mdccdadddaa urfastafshg fastaf mount use custom pad fastaf mount test mntfastafstest ls mntfastafstest testbit testdict testfa testfafai cat mntfastafstesttestfa chr ttttccccaaaagggg chr actgactgnnnnactg chr actgactgaaaac chr actgactgaaaacc chr actgactgaaaaccc chr actgnnnn chr nnactg umount mntfastafstest fastaf mount p test mntfastafstest cat mntfastafstesttestfa head n chr tttt cccc aaaa gggg chr actg actg nnnn actg chr actg actg aaaa c find file size chrm ls l mntbiohgseqchrm rwrr youri youri feb mntbiohgseqchrm find run fastaf mount mountfastaf instanc output format fastaf ps pidtsourcetdestinationn fastaf ps homeyourilocalsharefastafstestfastaf mnttmp mount via fstab instanc linux boot add follow line etcfstab make fastaf mount boot mountfastafshomeyourilocalsharefastafshgfastaf mntfastafshg fuse autoallow_oth mountfastaf refer binari mount without rest toolkit follow hashtag path desir fastaf file next valu mount point follow argument indic run fuse autoallow_oth refer argument auto ensur mount automat boot given system mount root user default permiss mount point root set allow_oth file system user get permiss mountpoint contribut feel free start discuss contribut gpl licens code will make even smallest contribut project way realli feel free open issu send email codaci badgehttpsapicodacycomprojectbadgegradeccddeaaabffahttpswwwcodacycomappyhoogstratefastafsutm_sourcegithubcomamputm_mediumreferralamputm_contentyhoogstratefastafsamputm_campaignbadge_grad ident refer implement zstdseekabl minor tweak get work cpp fastaf format specif file format consist four part header initi format recognit compress sequenc data index metadata requir read sequenc data option metadata although uncommon fastaf format denot index typic header data reason locat metadata known convert entir fasta file fastaf instanc number nucleotid encod within bit data number ncharact checksum metadata would written header locat sequenc data either lot memori alloc heap fasta file read twice pars bit convers separ tmp file need written disk merg afterward may cost load io traffic layout section sub size descript generichead magicmag byte xf xa x x file format versionfileformatvers byte integerfourbyteinteg x x x x fastafsflagsfastafsflag byte certain binari flag filepositionofindexfilepositionoftheindex byte integerfourbyteinteg locat file offset byte begin index locat data per sequenc ncompressednucleotid uint_t byte integerfourbyteinteg number bit compress nucleotid technic limit twobitdatatwobitdata sequenc bitbyt length deduc header unknownnucleotid uint_t byte integerfourbyteinteg number nentri nstart n x uint_t byte integerfourbyteinteg start posit base nend n x uint_t byte integerfourbyteinteg end posit base mdchecksummdchecksum x byte md compat cram bam dict ena reservedregion uint_t byte integerfourbyteinteg number rentri reserv region incomplet file yet implement must enabl flag rstart n x uint_t byte integerfourbyteinteg start posit base rend n x uint_t byte integerfourbyteinteg end posit base maskednucleotid uint_t byte integerfourbyteinteg number mentri lower case region mstart x uint_t byte integerfourbyteinteg start posit base default capit within mblock lowercas mend x uint_t byte integerfourbyteinteg end posit base index numbersequ uint_t byte integerfourbyteinteg number sequenc includ per sequenc sequenceflagssequenceflag byte store metadata type data namelength byte unsign char length byte name exceed byte namefasta namelength x char fasta header may includ newlin startpositioninbodi ncomprnuc uint_t byte integerfourbyteinteg locat file offset byte begin data block sequenc start metadata first char requir rest alway option nmetadatatag x char metadataentri per entri limit distinct type metadata metadatatypeflag byte entri type specif exampl origin pad uint_t byte integerfourbyteinteg number nucleotid per line origin fasta file crc checksum entir file byte ensur whole file integr generichead magic file magic first four byte use recognis binari file type fastaf xf xa x x stand fa hex fs ascii bit represent byte file format version version file format specif implement four byte integ current one version exist x x x x bit represent byte fastafsflag bit filecomplet bit reserv like bit fastaf bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv filecomplet set mean file write complet valu set file either written corrupt interrupt write process file posit index index locat end data file offset byte file start posit indic byte integerfourbyteinteg data repeat everi sequenc order match sequencehead sequenceflag sequenc flag allow describ follow metadata sequenc bit combin sequenc type bit combin sequenc type bit bit type alphabet dna actg n rna acug n iupec nucleotid acgturykmswbdhvn reserv protein determin bit reserv reserv librari type protein bit iscomplet checksum present region reserv yet download bit iscircular bit reserv reserv vertic duplic locat file bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv bit reserv twobit data twobit data encod long array byte byte encod four nucleotid follow bit nucleotid encod use bit nucleotid c g encod byte follow order tttg ttgt tgtt gttt md checksum per sequenc md checksum store binari encod digest md checksum calcul describ cram specif section httpssamtoolsgithubiohtsspecscramvpdf nucleotid includ newlin whitespac header uppercas index index put end lot inform unknown convers requir larg amount ram allcoat four byte integ four byte integ binari encod integ valu use byte encod follow x x x x encod follow x x x x encod follow x x x x encod follow x x x x encod follow x x x xff encod follow x x x x encod follow x x x x denot implement differ ucsc implementationfourbyteintegerucscuimplement four byte integ ucsc implement four byte integ binari encod integ valu use byte encod follow x x x x encod follow x x x x denot invers order integ encod follow x x x x denot invers order integ encod follow x x x x denot invers order integ encod follow xff x x x denot invers order integ encod follow x x x x denot invers order integ encod follow x x x x denot invers order integ denot implement differ fastaf implement todo add sequencetyp byte actg acug sequenc size uint current default option samtool cram itf add defaultpad generichead add tqdm like progress possibl