secur polici support version limit resourc support last minor version metaward secur updat exampl current version version secur updat version support x white_check_mark x x report vulner pleas report vulner email bristol rse develop team askrsebristolacuk review report quickli aim respond within seven day outcom realli appreci help patienc develop packag metaward metaward fulli test deploy use github action full instruct packag avail herehttpsmetawardsorgpackaginghtml metaward build statushttpsgithubcommetawardsmetawardsworkflowsbuildbadgesvghttpsgithubcommetawardsmetawardsactionsqueryworkflowabuild pypi versionhttpsbadgefuryiopymetawardssvghttpspypipythonorgpypimetaward downloadshttpspepytechbadgemetawardshttpspepytechprojectmetaward doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss doihttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo accur date inform pleas visit project websitehttpsmetawardsorg overview featur pleas visit featur pagehttpsmetawardsorgfeatur pleas take read journal open sourc softwar paperhttpsjosstheojorgpapersjoss pleas cite accord citationcff file repo scientif background metaward implement stochast metapopul model diseas transmiss scale model local transmiss full nation internationalscal metapopul model pleas follow quick start guidehttpsmetawardsorgquickstart see quickli get run use metaward model custom diseas metapopul model origin develop support model diseas transmiss great britain complet model descript origin c code describ role routin versu random movement spread diseas great britain leon danon thoma hous matt j keel epidem decemb doijepidemhttpsdoiorgjepidem individu ident movement network diseas metapopul matt j keel leon danon matthew c vernon thoma hous proceed nation academi scienc may doipnashttpsdoiorgpna model popul divid elector ward diseas transmiss ward occur via daili movement individu ward individu contribut forc infect foi home ward night work ward day model recent adapt model covid transmiss england wale result origin c code publish spatial model covid transmiss england wale earli spread peak time leon danon ellen brookspollock mick bailey matt j keel philosoph transact royal societi b doirstbhttpsdoiorgrstb python code port ident reproduc output origin c code use work python code optimis parallelis addit test ad ensur develop scaleup metaward robustli effici conduct program info packag make heavi use cythonhttpscythonorg use openmphttpsopenmporg compil bottleneck part code parallelis c enabl python port run approxim speed origin c program one core run sever time faster across multipl core program compil system work c compil support openmp work python includ x arm server softwar support run cluster use mpi via mpipyhttpsmpipyreadthedocsioenst via simpl network via scoophttpscoopreadthedocsio full instruct use program plu exampl job submiss script found project websitehttpsmetawardsorg instal full instal instruct herehttpsmetawardsorginstallhtml binari packag upload pypihttpspypipythonorgpypimetaward window os x linux manylinux easiest way instal type consol pip instal metaward assum pip instal use python doesnt work pleas follow full instal instructionshttpsmetawardsorginstallhtml altern also instal within r rstudio type librarydevtool install_githubmetawardsrpkg metawardspy_install_metaward guess want instal latest code github first clone instal requir git clone httpsgithubcommetawardsmetaward cd metaward pip instal r requirementstxt pip instal r requirementsdevtxt next make use standard python setuppi script rout cython python setuppi build cython python setuppi instal altern also use makefil eg make make instal assum python version run test use pytest eg metawardsdatapathtometawardsdata pytest test type make test gener doc use make doc run quick start guid herehttpsmetawardsorgquickstart complet tutori herehttpsmetawardsorgtutori full usag instruct herehttpsmetawardsorgusagehtml either load use python class directli run metaward frontend command line program automat instal metaward help print help program run ensembl program support parallel run ensembl job use multiprocessinghttpsdocspythonorglibrarymultiprocessinghtml singlenod job mpipyhttpsmpipyreadthedocsioenst scoophttpscoopreadthedocsio multinod cluster job note mpipi scoop instal default need instal run cluster eg pip instal mpipi pip instal scoop full instruct run cluster herehttpsmetawardsorgcluster_usagehtml histori python port metawardshttpsgithubcomldanonmetaward packag origin written leon danon port perform leon support bristol research softwar engin grouphttpswwwbristolacukacrcresearchsoftwareengin contributor coven code conduct pledg interest foster open welcom environ contributor maintain pledg make particip project commun harassmentfre experi everyon regardless age bodi size disabl ethnic sex characterist gender ident express level experi educ socioeconom statu nation person appear race religion sexual ident orient standard exampl behavior contribut creat posit environ includ use welcom inclus languag respect differ viewpoint experi grace accept construct critic focus best commun show empathi toward commun member exampl unaccept behavior particip includ use sexual languag imageri unwelcom sexual attent advanc troll insultingderogatori comment person polit attack public privat harass publish other privat inform physic electron address without explicit permiss conduct could reason consid inappropri profession set respons project maintain respons clarifi standard accept behavior expect take appropri fair correct action respons instanc unaccept behavior project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct ban temporarili perman contributor behavior deem inappropri threaten offens harm scope code conduct appli within project space public space individu repres project commun exampl repres project commun includ use offici project email address post via offici social media account act appoint repres onlin offlin event represent project may defin clarifi project maintain enforc instanc abus harass otherwis unaccept behavior may report contact project team christopherwoodsbristolacuk complaint review investig result respons deem necessari appropri circumst project team oblig maintain confidenti regard report incid detail specif enforc polici may post separ project maintain follow enforc code conduct good faith may face temporari perman repercuss determin member project leadership attribut code conduct adapt contributor covenanthomepag version avail httpswwwcontributorcovenantorgversioncodeofconducthtml homepag httpswwwcontributorcovenantorg answer common question code conduct see httpswwwcontributorcovenantorgfaq instal metaward metaward avail pip packag r modul full instruct instal avail herehttpsmetawardsorginstallhtml numpyrandombinomi function ive copi reproduc numpi random binomi number mean compil link code metaward therebi avoid compil link numpi andor gsl name document tutori error creat report help us improv document tutori titl doc metaward doc improv label document assigne chryswood describ document tutori problem clear concis descript document tutori problem locat page page need work expect content clear concis descript document tutori screenshot applic add screenshot help explain problem environ applic pleas complet follow inform os eg window ubuntu os x catalina python eg anaconda version eg metaward addit context add context problem name featur branch let develop know featur branch titl featur branch work featur xxx branch feature_xxx label featurebranch featur work clear concis descript develop use case featur clear concis use case ideal includ idea tutori chapter describ use featur core code plugin featur chang core code implement entir one plugin eg iter extractor etc ideal new featur plugin describ altern youv consid clear concis descript altern solut exist alreadi code new featur need addit inform add addit inform eg go chang api mileston releas target anyon els involv develop featur depend work featur depend work name featur request suggest idea metaward titl featur request id like metaward label enhanc assigne chryswood featur request relat problem pleas describ clear concis descript problem ex im alway frustrat describ solut youd like clear concis descript want happen describ altern youv consid clear concis descript altern solut featur youv consid addit context add context screenshot featur request name bug report creat report help us improv titl bug metaward work label bug assigne chryswood describ bug clear concis descript bug reproduc step reproduc behavior run command input data locat see error copi full error expect behavior clear concis descript expect happen screenshot applic add screenshot help explain problem environ pleas complet follow inform os eg window ubuntu os x catalina python eg anaconda version eg metaward addit context add context problem name someth els ask someth els doesnt fit templat titl misc someth els metaward label miscellan assigne chryswood describ request detail titl meta ward output html_notebook process censu purpos file collect inform data requir ward model need origin destin data r lib librarytidyvers libraryrgd libraryleaflet librarymaptool librarybroom set factor fals optionsstringsasfactor fals process origindestin data need gener commut matrix ward ward data avail on detail procedur need repreat download ward lookup censu merg ward origin ward httpsgeoportalstatisticsgovukdatasetswardtocensusmergedwardtolocalauthoritydistrictdecemberlookupinenglandandwal download lookup output area ward level httpsgeoportalstatisticsgovukdatasetsoutputareatowardtolocalauthoritydistrictdecemberlookupinenglandandwal use left_join combin main lookup tabl r process oaward readcsvgithubmetawardsdataoutput_area_to_ward_to_local_authority_district_december__lookup_in_england_and_walescsv map oa ward data wardlookupreadcsvgithubmetawardsdatawardsprocessingward_lookupcsv oaward left_joinwardlookupbycwdcdwdcdoawardlookup writecsvfilewardlookupmastercsvoawardlookup download bulk data output area output area commut number httpswwwnomiswebcoukcensusbulkrod output area level need aggreg ward level r process origindestin oaoamov readcsvfiledatawardsprocessingbulkwfbew_oa_vcsv headerf output area output area commut oaoamov inner_joinoawardlookup cvoacd match output area ward first column inner_joinoawardlookup cvoacd match output area ward second column selectfromfidxtofidyobjectidobjectidxv remov column need group_byfromto summarizetotalsumv ungroupwardward ward identifi fid seem go index use code r wardward ggplotaesxtot geom_freqpoli scale_x_log scale_y_log check histogram make sens writetablefileewdatwardwardcolnam falserownamesf also need popul size per ward popul work per ward popul work per ward ward popul size popul size httpswwwonsgovukpeoplepopulationandcommunitypopulationandmigrationpopulationestimatesdatasetswardlevelmidyearpopulationestimatesexperiment r popsizeperwardreadcsvdatapopsizeperwardcsv tabl wardlookup inner_joinpopsizeperwardbycwdcdgeographycodewardlookupwithpop join popul ward lookup tabl wardward group_byfrom summariseworksizesumtot worksiz sum popul commut give us commut size writetablefileworksizedatworksizecolnam falserownamesf write workpopul per ward file worksiz inner_joinwardlookupwithpopbycfromfidwardlookupwithpop join ward lookup file wardlookupwithpop selectwardfromallvariableallusualresidentsmeasuresvalueworks mutateplaysizeallworks mutateplaysizeifelseplaysizeplaysizewardlookupwithpop wardlookupwithpop selectfromwardplays writetablefileplaysizedatcolnamefalserownamesfals noncommut matrix r wardlookupwithpop selectfromwardplays play wardward group_byfrom mutateratetotalsumtot ungroup inner_joinplaybyfrom mutateplaytotalroundrateplaysizewardwardal wardwardal selectfromtor writetablefileplaymatrixdatrownamesfcolnamesf ccg analysi r lsoaccg readcsvgithubmetawardsdataccglower_layer_super_output_area__to_clinical_commissioning_group_to_local_authority_district_april__lookup_in_england_version_csv lsoaccg group_byccgcd count titl plot model output output html_notebook r librarytidyvers librarygghighlight librarypurrr libraryplotli librarycowplot libraryscal read model output file r bit code obsolet pathnameloc dirpathnamepatterntotalinfectionsdatrecursivetrueinfectionfil readinfectionsfunct fnamefpath function read totalinfectionsdat type file one column infect time row number dread_csvfilepathfpathfnamecol_namesfalsecolsxcol_integ mutatetimerow_numb selecttimeinfectedsx returnd data tibblefilenam infectionfil creat data frame hold file name mutatefile_cont mapfilenam read file new data column readinfect pathnam use function written process file mutatelocationstr_splitfilenamesimplifi true mutaterunstr_splitfilenamesimplifi true selectfilenam unnestcolsfile_cont data mutateinfectedinfect filtertim ggplotaesxtimeyinfectedcolourrun geom_lin gghighlightloc facet_wraploc theme_minimal_grid themestriptextx element_blank scale_y_continuouslabel unit_formatunit xlabtim day data group_byrun summarisetimetopeakwhichmaxinfect summari ggplotaesxtimetopeak geom_histogram number infect ward r readcsvfilenumberwardsinfecteddatsep mutatetimex selectxxx wardcurv wardcurv pivot_longertimenames_to classesvalues_to numberward ggplotaesxtimeynumberwardscolourclass geom_lin incid curv r readincidencefunct fnamefpath read process singl file function read workplayinfectionsdat type file mani column one class infect time row number dread_delimfilepathfpathfnamecol_namesfalsedelim col_typ iiiiiii selecttimexincidencex returnd readincidencerecoveredfunct fnamefpath read process singl file function read workplayinfectionsdat type file mani column one class infect time row number dread_delimfilepathfpathfnamecol_namesfalsedelim col_typ iiiiiii selecttimexincidencexrecoveredx returnd readprevalencefunct fnamefpath read process singl file function read workplayinfectionsdat type file mani column one class infect time row number dread_delimfilepathfpathfnamecol_namesfalsedelim col_typ iiiiiii transmutetimexprevalencexx returnd r pathnameloc dirpathnamepatternplayinfectionsdatrecursivetruepfilenam dirpathnamepatternworkinfectionsdatrecursivetruewfilenam play infect dataip tibblefilenam pfilenam creat data frame hold file name mutatefile_cont mapfilenam read file new data column readincidencerecov pathnam use function written process file mutatelocationstr_splitfilenamesimplifi true mutaterunstr_splitfilenamesimplifi true selectfilenam unnestcolsfile_cont work infect dataiw tibblefilenam wfilenam creat data frame hold file name mutatefile_cont mapfilenam read file new data column readincidencerecov pathnam use function written process file mutatelocationstr_splitfilenamesimplifi true mutaterunstr_splitfilenamesimplifi true selectfilenam unnestcolsfile_cont bind_colsdataiwdataip mutateincidenceincidenceincid mutaterecoveredrecoveredrecov selecttimeincidencerecoveredlocationrundatair datair mutatedateasdatetimeorigin mutateincidenceincid mutaterecoveredrecov filtertim ggplotaesxdategrouprun geom_lineaesyincidencealphasizecolour geom_lineaesyrecoveredalpha facet_wraploc theme_minimal_grid themelegendposit none scale_y_continuouslabel unit_formatunit xlabtim scale_x_datebreaksdate_break month label date_formatb p ggplotlyp datair group_byrun summarisepeakincidencemaxincid summari time peak incid r datair group_byrun summarisetimetopeakwhichmaxincid ggplotaesxtimetopeak geom_histogramaesydensitybin geom_dens theme_minimal_grid xlabtim peak incid ylabdens datair group_byrun summarisetimetopeakwhichmaxincid summari preval curv correct r dataprevp tibblefilenam pfilenam creat data frame hold file name mutatefile_cont mapfilenam read file new data column readpreval pathnam use function written process file mutatelocationstr_splitfilenamesimplifi true mutaterunstr_splitfilenamesimplifi true selectfilenam unnestcolsfile_cont dataprevw tibblefilenam wfilenam creat data frame hold file name mutatefile_cont mapfilenam read file new data column readpreval pathnam use function written process file mutatelocationstr_splitfilenamesimplifi true mutaterunstr_splitfilenamesimplifi true selectfilenam unnestcolsfile_cont bind_colsdataprevwdataprevp mutateprevalenceprevalencepreval selecttimeprevalencelocationrundataprev dataprev filtertim ggplotaesxtimecolourrun geom_lineaesyprevalencealpha theme_minimal_grid gghighlightloc facet_gridloc themelegendposit none xlabtim day attack rate r librarykableextra datair group_byrun summariseattackratemaxrecov mutateattackrateattackr ggplotaesxattackr geom_histogramaesydensitybin geom_dens xlabattack rate ylabdens theme_minimal_grid datair group_byrun summariseattacknumbersmaxrecov mutatedeathsattacknumb mutateattackrateattacknumb summari titl season model plot output html_notebook r librarytidyvers librarytidyvers librarygghighlight librarypurrr libraryplotli librarycowplot libraryscal uv curv r uv pathnam test dirpathnamepatternplayinfectionsdatrecursivetruepfilenam dirpathnamepatternworkinfectionsdatrecursivetruewfilenam datauvp tibblefilenam pfilenam creat data frame hold file name mutatefile_cont mapfilenam read file new data column readincidencerecov pathnam use function written process file mutateseasonalstr_removestr_splitfilenamesimplifi trueuv mutaterunstr_splitfilenamesimplifi true selectfilenam unnestcolsfile_cont work infect datauvw tibblefilenam wfilenam creat data frame hold file name mutatefile_cont mapfilenam read file new data column readincidencerecov pathnam use function written process file mutateseasonalstr_removestr_splitfilenamesimplifi trueuv mutaterunstr_splitfilenamesimplifi true selectfilenam unnestcolsfile_cont bind_colsdatauvwdatauvp mutateincidenceincidenceincid mutaterecoveredrecoveredrecov selecttimeincidencerecoveredseasonaldatauv datauv filtertim mutatedateasdatetimeorigin ggplotaesxdatecolourseason geom_lineaesyincidencealphas geom_lineaesyrecoveredalpha theme_half_open themelegendposit top scale_y_continuouslabel unit_formatunit xlabtim scale_x_datebreaksdate_break month label date_formatbp r datauv group_byseason summarisepeakwhichmaxincidencepeakincidencemaxincidenceattackratemaxrecov p ggplotlyp r thetaseqpipi seasonalityfunctiontm xmmcospit returntibbletx tibblemc mutateseasoncolsmapmseasonalityt unnestcolsseasoncol mutateseasonalasfactormseasoncurv seasoncurv mutatedateasdatetorigin ggplotaesxdateyxcolourseason geom_linesizealpha xlab ylabseason scale theme_minimal_grid themelegendposit none panel_bord scale_y_continuouspositionright scale_x_datebreaksdate_break month label date_formatbinset inset put plot togeth ggdrawp draw_plotinset titl outpumap author leon danon date output html_document r setup includefals knitropts_chunksetecho true spatial analysi r librarytidyvers librarysf libraryrgd libraryviridi librarymapview wardsew read_sfdsngithubmetawardsdatashapefilewards_december__boundaries_ew_bfclay wards_december__boundaries_ew_bfc st_centroidwardsewwardcentroid wardlookupreadcsvgithubmetawardsdatawardsprocessingward_lookupcsv wardcentroid inner_joinwardlookupbycwdcdwdcdwardslookup mapviewwardslookupzcolfid r allinfectionsshefreadtablefileformattdatadatsep allinfectionsshef make long data frame mutatetimerow_numb count time row number pivot_longertim mutatewardasintegerstr_removenamev selectnameinf_longshef renam name ward integ easier match inf_longshef group_byward ward filtercumsumvalu cumul sum mean arrivedfirst infect mutatearrivalmaxtim find maximum filterrow_numb take first row group_bi selectwardarriv select column renam save data frame ungroup arriv wardslookup inner_joinarriv bycfidward mutatealtarrivallogarrivalwardslookuparrivalshef mapviewwardslookuparrivalshefzcolaltarrivalcex altarriv plotm ggplotaesxtimeyvaluecolournam geom_lin r allinfectionslonreadtablefiletestinglondonformattdatadatsep allinfectionslon make long data frame mutatetimerow_numb count time row number pivot_longertimevalues_to infect mutatewardasintegerstr_removenamev selectnameinf_longlon renam name ward integ easier match inf_longlon group_byward ward filtercumsuminfect cumul sum mean arrivedfirst infect mutatearrivalmaxtim find maximum filterrow_numb take first row group_bi selectwardarriv select column renam save data frame ungroup arrivalslon inf_longlon group_byward slicewhichmaxinfectedtimetopeak r timetopeak ggplotaesxtim geom_histogram r wardslookup inner_joinarrivalslon bycfidward mutatealtarrivallogarrivalwardslookuparrivallon wardslookuparrivallon inner_jointimetopeak bycfidward mutatealttimetimewardslookuparrivaltimetopeakl mapviewwardslookuparrivaltimetopeaklzcoltimecex alttim todo time peak done time case lookup postcod wardoa titl reagion model plot output html_notebook r librarytidyvers librarytidyvers librarygghighlight librarypurrr libraryplotli librarycowplot libraryscal r wardlookupreadcsvgithubmetawardsdatawardsprocessingward_lookupcsv ladregionreadcsvgithubmetawardsdatawardsprocessingoutput_area__to_builtup_area_subdivision_to_builtup_area_to_local_authority_district_to_region_december__lookup_in_england_and_walescsv group_byladcd summariseregionuniquergnnm wardlookupregionwardlookup inner_joinladregion byladcd allinfectionsreadtablefiletestingbrigthonnewoutputformattdatadatsep allinfect make long data frame mutatetimerow_numb count time row number pivot_longertim mutatewardasintegerstr_removenamev selectnameinf_long renam name ward integ easier match wardlookupregion inner_joininf_long bycfidwardallytallxf group_byregiontim summarisecasessumvalu region_inf region_inf group_byregion summarisepeaktimewhichmaxcasespeakcasesmaxcas plot region epidem ggplot r region_inf filtertim ggplotaesxtimeycasescolourregion geom_linesizealpha theme_minimal_grid changelog httpsgithubcommetawardsmetawardscompare__ march th ad link publish joss paper updat link websit fix crash progress bar code updat frequenc small httpsgithubcommetawardsmetawardscompare__ octob th ad citationcff file fix bug custom paramet copi run correctli work better packag metawards_random librari window upgrad latest version sphinx httpsgithubcommetawardsmetawardscompare__ may th ad work_to_play iter allow weekend model treat worker player updat docth tutori tutorialpart_weekend includ better model ad appl support metaward compil run appl processor openmp support includ also run parallel setup script autodetect version python use compil metaward appropri fix bug funcmetawardsrun wherebi metaward execut found run window stop metaward run jupyt rstudio window work correctli includ proper handl error output ie fix hang report issu catch failur pass command line argument aid run api extend follow function funcmetawardsfind_mw_ex funcmetawardsfind_mw_includ funcmetawardsget_reticulate_command ad abil seed infect worker popul default infect seed player popul howev remain infect seed player ward infect seed worker ad support compil cython plugin link metaward c function mean write plugin compil dynam use random number gener metawards_random demonstr teststest_cython_iteratorpi specif iter testsiteratorscython_iteratorpyx fix bug funcmetawardsvariableset wherebi array variabl could pars first line file comma confus parser put column mode ad check array detect first line parser put row mode ad doc instal instruct let new user know instal metawardsdata httpsgithubcommetawardsmetawardscompare__ februari th fix bug new funcmetawardsmixersmerge_matrix_multi_popul function caus calcul incorrect valu one demograph zero member didnt catch divid zero case led toohigh foi produc meaningless result updat setupcfg correctli state metaward support python updat sphinx latest version httpsgithubcommetawardsmetawardscompare__ februari th ad funcmetawardsmixersmerge_matrix_single_popul funcmetawardsmixersmerge_matrix_multi_popul account differ normalis factor merg foi calcul across multipl demograph docdescrib tutori tutorialpart_contact allow popul dynam better model eg either demograph part popul equal contact probabl demograph differ contact probabl eg tradit agebas demograph ad funcmetawardsmixersmix_evenly_single_popul funcmetawardsmixersmix_none_single_popul conveni mixer case demograph part popul ad funcmetawardsmixersmix_evenly_multi_popul funcmetawardsmixersmix_none_multi_popul conveni mixer case contact demograph depend number individu demograph fix small bug metaward rais except multidemograph run custom diseas model doesnt r stage httpsgithubcommetawardsmetawardscompare__ novemb th fix small bug output_cor workspac demograph subnetwork subspac zero incorrectli statist accumul process code run processor prevent extractor get data demograph simpl fix bug impact previou run would like caus issu ad python github action build matrix test python packag built run correctli bump sphinx latest version httpsgithubcommetawardsmetawardscompare__ august th metaward includ wardloc paramet eg cutoff scale_uv plu support custom user wardloc paramet support model differ wardloc behaviour eg local control measur local lockdown exampl local lockdown model docchapt tutorialpart_cutoff docchapt tutorialpart_local_lockdown docpart tutorialindex_part tutori plu docchapt part tutorialpart_local_network also use model docwardloc vaccin strategi tutorialpart_vaccin rework go_funct ad funcmetawardsmoversgo_ward use classmetawardsmoversmovegener specifi move combin demograph diseas stage ward player ward link worker individu move worker player player worker move around network move differ network differ demograph move differ diseas stage move suscept infect infect suscept etc etc enabl advanc model eg vaccin recov individu gradual lose immun becom suscept movement associ eg start univers movement quarantin associ holiday ad methwardbg_foi metawardswardbg_foi perward paramet set background forc infect use drive suppress infect regardless number infect ward ad global methparametersbg_foi metawardsparametersbg_foi set pernetwork background forc infect use way model docholiday destin differ network tutorialpart_holiday ad global methparametersscale_uv metawardsparametersscale_uv make easier set control scale_uv paramet via design file paramet via adjust demograph finalis demograph adjust support enabl creat demograph adjust paramet eg see docholiday destin exampl tutorialpart_holiday ad classmetawardsmoversmoverecord use record move perform mover go_funct ad funcmetawardsgo_record move specif individu accord specif move indic classmetawardsmoversmoverecord funcmoverecordinvert metawardsmoversmoverecordinvert use revers move ad methis_infect metawardsdiseaseis_infect paramet classmetawardsdiseas mark whether diseas stage class infect stage use nonrecov nonsuscept noninfect stage eg vaccin v stage exampl see docthi tutori tutorialpart_vaccin metaward proper r packag httpsgithubcommetawardsrpkg_ instal updat metaward directli within r see updat docinstal instruct instal docr quickstart guid quickstart_r ad uvmax command line paramet specifi date year diseas transmiss highest uv equal thu diseas transmiss season default first day outbreak optimis funcmetawardsiteratorsadvance_foi skip calcul foi stage betastag zero chang order random number mean version metaward give differ output older version input random number seed weve made similar chang origin c code make sure invalid result ad null scratch ward use temporarili store individu day use implement complex move involv gather scatter popul remov paramet dead code port origin c code unus httpsgithubcommetawardsmetawardscompare__ juli nd ad new docquick start guid quickstartindex quickli showcas main featur metaward python r command line version avail suit rang audienc ad support differ demograph use differ network describ partial doctutorialindex_part mostli new docquick start guid quickstartindex document tutori futur releas eg ad funcmetawardsrun function run metaward job api enabl job run within python r script run interact within eg rstudio jupyt ad r support via reticul use metaward api within r plu via new funcmetawardsrun function write nice tutori vignett includ run job aim creat cran metaward packag futur releas clean python api flexibl r api made sure key class like classmetawardsdiseas classmetawardsinputfil classmetawardsdemograph easi use serialis tofrom json new classmetawardsward classmetawardsward api let easili creat new network python r convert classmetawardsnetwork classmetawardsward save load json harmonis multipl ward object enabl differ demograph use differ network also refer ward network name rather index fix issu singl ward model assign player weight outbreak incorrect fix singleward model match manuallycr singl ward model ad conveni execut metawardspython metawardsjupyt metawardsreticul make easier user use right python execut mani instal system clean output chang uv scale_uv clash uv commandlin paramet confus peopl fix bug popul paramet ignor repeat singleward network run robust read tradit network file format ad progress bar slow oper better support sequenti name output directori repeat run master branch renam main httpsgithubcommetawardsmetawardscompare__ june th ad abil use customnam diseas stage run type model limit e r learn doctutori tutorialpart_named_stag improv format inform output user regard differ diseas stage includ better consol output also inform output data file detail tutori updat output file support summari data custom name diseas stage collect data want directli without need build custom extractor say map stage want describ tutori ad realli flexibl support read differ format addit seed see doctutori tutorialpart_network new docfileformat document fileformatsindex includ abl read extra seed command line rather need alway write file ad abil seed infect date well day also seed ward name well index eg cliftonbristol ad classmetawardsinterpret consolid code use interpret string data type increas power flexibl data parser add new featur read random data ad math function express support eg pi sqrt work ad cython support plugin plugin end pyx cython instal compil run time enabl write plugin power fast fix deadlock linux use multiprocess openmp togeth remov unus err file remov totalinfectionsdatbz file similar difficult work well understood replac total_infectionscsvbz similar file inform easier work eg column name httpsgithubcommetawardsmetawardscompare__ june th differ demograph follow differ diseas pathway support model superspread hospit describ docpart tutori tutorialindex_part variabl demograph subnetwork scan independ over network subnetwork mean eg enact lockdown specif demograph scan diseas paramet differ demograph ad methmetawardsmoversgo_stag function move individu specif diseas stage differ demograph use support condit branch eg infect go hospit ad staras starasr disablestar command line argument control state count summari output enabl count extra e state make output meaning easili interpret clarifi mean day day day model run start ie setup first iter model run day chang previou version call first half first iter day second half day sinc seed happen first half mean seed one day earlier previou version outbreak one day ahead fix major bug calcul demograph subnetwork denomin use product yet go use demograph subnetwork pleas make sure use version ad databas support classmetawardsoutputfil write data sqlite databas describ new part doctutori chapter tutorialpart_r ad extra output classmetawardsworkspac get popul diseas stage demograph demonstr rate calcul also docnew tutori chapter tutorialpart_r fix directori permiss bug appear sometim window fix exist bug c code wherebi userset valu contrib_foi ignor impact valu alway fix bug distribute_remaind meant individu could sometim still ad demograph even desir percentag zero httpsgithubcommetawardsmetawardscompare__ may rd improv go_to go_isol function support model selfisol quarantin demonstr new part tutori ad interactionmatrix class make easier creat sophist interact matrici ad abil plugin signal model run end current iter rais stopiter except ad model singl mode use singleward model debug valid purpos updat parallel runner multiprocess scoop mpi return result avail consol report summari live progress ad develop debug mode consol complet nice variabl print lot file text encod fix particularli fix unicod issu window final fix issu window wrong plugin would sometim load updat tutori output new format fix runtim check except occur rare occas window didnt caus error data stop run continu runtim test fail httpsgithubcommetawardsmetawardscompare__ may th switch configargpars better manag command line option plu ad abil set option use config file written output directori job support reproduc metawardsplot default png output pillow jpeg avail got basic mover work ad half sixth part tutori selfisol model ad richconsol support significantli alter look feel metaward output robust info given real time parallel job plu output also record outputconsoletxtbz output lost ad theme support simpl theme activ use theme simpl dont like colour ad support set number repeat variableset output file also specifi differ number repeat differ adjust variabl set command line clean design file user custom variabl file pars use csv support wide rang format variabl type input directli work date int float bool string intellig use best type think forc user via numpytyp syntax improv robust parallel runner multiprocess scoop mpipi error one job dont break job handl individu record properli job run async result process feedback given user soon avail updat tutori use lurgi accident gone back lurgi part httpsgithubcommetawardsmetawardscompare__ may th minor bugfix use last match custom function rather first exampl tutori work behaviour natur cach network build thoroughli test fix bug networkscopi meant independ copi werent made bug impact past result run ad valid test mixer clean websit typo fix version switcher fix packag problem caus broken build pip instal tgz sdist packag httpsgithubcommetawardsmetawardscompare__ may th fix cicd produc work sdist bdist packag httpsgithubcommetawardsmetawardscompare__ may th code fulli work test window major updat api support network multipl network object use support model multipl demograph ad mover mixer enabl user customis individu move demograph foi demograph merg togeth eg via interact matrix demonstr part tutori show use model shield allow compil use compil dont support openmp compil even stock os x ad extractor output file need graphic ad special random number seed support debug move random number file separ librari properli compil link updat ci cicd build os x window manylinux wheel updat url metawardsorg allow multipl multinod job run singl directori hostfil updat metawardsplot render multidemograph trajectori make better anim gener bug fix speedup httpsgithubcommetawardsmetawardscompare__ april th creat extract framework support customis output analysi run creat better workspac class hold accumul data extract complet extractor tutori ad wardinfo get metadata ward support search ward via name code author region httpsgithubcommetawardsmetawardscompare__ april th merg latest chang c code give complet agreement includ via custom iter repeat lockdown model support xy latlon coordin distanc work properli uk model data ad exampl lockdown paramet set scan httpsgithubcommetawardsmetawardscompare__ april nd small bugfix support load uk model data clean websit ad version combo box httpsgithubcommetawardsmetawardscompare__ april st fix cicd build deploy new tag hope httpsgithubcommetawardsmetawardscompare__ april st autom github action build version websit plu autom build packag switch default uv paramet normal ad custom user variabl scan act input may use custom advanc iter function detail tutori show use model lockdown improv speed custom iter httpsgithubcommetawardsmetawardscompare__ april th small bugfix support exampl part tutori httpsgithubcommetawardsmetawardscompare__ april th lot progress project websit includ detail tutori support fulli customis diseas model adjust diseas paramet use flexibl input file format record date model run plu set start day date broken iter function modmetawardsiter user creat custom iter tutori appear soon broken extract_data function modmetawardsextractor soon enabl user creat tutori appear soon ad metawardsplot creat simpl plot anim particularli use work tutori gener code clean document improv nicetohav make code easier use httpsgithubcommetawardsmetawardscompare__ april th wrote initi draft complet project websit fix packag problem prevent instal older packag system httpsgithubcommetawardsmetawardscompare__ april th support run multipl model run serial parallel support aggreg write model multipl model run output directori includ singl share csv data file support parallel run via multiprocess mpipi scoop httpsgithubcommetawardsmetawardscompare__ april th parallelis individu model run use openmp parallel code scale larg number core complet individu run second httpsgithubcommetawardsmetawardscompare__ april th minor bug fix packag misplac commit caus move repositori httpsgithubcommetawardsmetawardscomparev__ april th ad simpl profil support optimis code replac gsl random number gener liber licens easili bundl gener extract numpi switch code httpsgithubcommetaward organis optimis use cython raw c file read ad automat version packag file use version clean repositori ad statu badg httpsgithubcommetawardsmetawardscomparevv__ march st cython bottleneck code bring python code compar perform origin c code ad packag inform gener repositori file clean httpsgithubcommetawardsmetawardsreleasestagv__ march th fulli work python port origin c code complet reproduc result c code given random number seed howev significantli slower python port promis worth explor differ option speed code start python port httpsgithubcommetawardsmetawardscommitefececfeddbfecafbe__ march th import code httpsgithubcomldanonmetaward began think code tri understand decid write port find translat someth understand develop support metaward come set function hope make easier develop code profil use profil commandlin option switch profil detail free doesnt affect runtim use think code slow examin scale parallel section print tree show call path amount time function subsect function later exampl run codeblock bash metaward lurgi profil give total time ms ms networkbuild ms ms build_funct ms ms build_wards_network ms ms read_work_fil ms fill_in_gap ms build_play_matrix ms ms build_play_matrix ms ms allocate_memori ms read_play_fil ms renormalis ms renormalise_loop ms fill_in_gap ms read_play_size_fil ms resize_nodes_and_link ms read_and_valid ms add_dist ms add_lookup ms read_done_fil ms reset_everyth ms ms reset_work ms reset_play ms reset_suscept ms reset_param ms rescale_play_matrix ms move_from_play_to_work ms time build network total time ms ms time day ms ms function advance_addit xce ms ms additional_se ms builtin function advance_foi ms ms setup ms loop_over_class ms ms work_ ms play_ ms work_ ms play_ ms work_ ms play_ ms work_ ms play_ ms builtin function advance_recoveri ms ms recoveri ms builtin function advance_infprob ms ms infprob ms builtin function advance_fix ms ms fix ms builtin function advance_play ms ms play ms builtin function output_cor ms function output_bas xec ms builtin function output_dispers ms function output_incid xef ms function output_preval x ms time iter note time vari iter individu infect also vari depend comput number thread use level tree give total time within tree eg time day ms ms total time spent subfunct use calcul day first number ms actual measur time number bracket ms sum report measur time subfunct larg differ two indic time report profil control report use classmetawardsutilsprofil class start time use profil profilerstartnam section stop time use profil profilerstop exampl use iter iterate_profilepi codeblock python metawardsutil import profil import time def advance_profileprofil profil kwarg p profilerstarttim advance_profil rang p pstartftim loop iter timesleep p pstop pstop def iterate_profilekwarg return advance_profil run use codeblock bash metaward lurgi iter iterate_profil give output function advance_profil xbcf ms ms time advance_profil ms ms time loop iter ms time loop iter ms time loop iter ms time loop iter ms time loop iter ms time loop iter ms time loop iter ms time loop iter ms time loop iter ms time loop iter ms see timesleep slept littleov millisecond profil worth repeat run sever time take averag especi interest plot parallel scale individu metaward function note classmetawardsutilsprofil alway pass profil keyword argument plugin class iter extractor etc default plugin function time henc output see advance_funct output_funct call order long took actual easiest way debug whether plugin function call run use profil see function list time printf debug metaward develop big fan printf debug httpstedspencecomtheartofprintfdebuggingddaf__ print metaward handl use classmetawardsutilsconsol object come handi methmetawardsutilsconsoledebug function use print debug messag option also valu variabl pass list variabl keyword eg use iter file iterate_debugpi codeblock python metaward import popul metawardsiter import iterate_default metawardsutil import consol def iterate_debugpopul popul kwarg beta_scal consoledebughello variablespopul beta_scal return iterate_defaultpopulationpopul kwarg run metaward use debug keyword codeblock bash metaward lurgi iter iterate_debug debug see hello iterate_debugpi name valu popul day e r iw uv total popul beta_scal print everi iter note time printout topleft filenam line debug statement topright time print second lot debug statement print singl second wont show time debug output print run metaward use debug command line argument safe leav product code debug level option set debug level output use level keyword argument eg codeblock python metaward import popul metawardsiter import iterate_default metawardsutil import consol def iterate_debugpopul popul kwarg beta_scal consoledebughello variablespopul beta_scal level return iterate_defaultpopulationpopul kwarg would print debug level set level use debuglevel command line argument eg codeblock bash metaward lurgi iter iterate_debug debug debuglevel would set debug level debug output print level hello iterate_debugpi name valu popul day e r iw uv total popul beta_scal level set debug output would print debug lambda better avoid construct expens debug string go print screen two way avoid use methmetawardsutilsconsoledebugging_en function classmetawardsutilsconsol see debug enabl level wish call methconsoledebug metawardsutilsconsoledebug put debug string lambda function methconsoledebug metawardsutilsconsoledebug function call lambda function debug output enabl realli easi eg chang debug statement codeblock python metaward import popul metawardsiter import iterate_default metawardsutil import consol def iterate_debugpopul popul kwarg beta_scal consoledebuglambda hello variablespopul beta_scal level return iterate_defaultpopulationpopul kwarg use lambda hello instead hello convert string lambda function mean gener unless debug statement actual print test metaward larg test suit httpsgithubcommetawardsmetawardstreedeveltests__ built use pytest httpsdocspytestorgenlatest__ encourag look test use help learn use class also encourag write test new code snag list seri snag code wed like fix current lack personpow tackl youd like tri fix one get touch us rais issu httpsgithubcommetawardsmetawardsissues__ fork repo issu pull request done ideal let us know creat featur branch work noon els duplic effort snag feature_improve_rng random number gener potenti quit slow use numpi random number gener singl thread notvectoris mode lot scope speedup someon want take look would welcom appreci feature_multinomi replac ran_binomi loop advance_foi think ran_multinomi call replac slow multipl call ran_binomi advance_foi math work significantli quicker feature_bigtest creat larger test suit full exampl wed like creat repo full exampl metaward run serv learn resourc also fuller suit regress integr test aim would push repo trigger run metaward lot exampl separ repo main code exampl take lot space command line option full set command line option metaward programoutput metaward help usag metaward program metaward come commandlin program call metaward instal default directori python execut use build packag run metaward type codeblock bash metaward version print version metaward look someth like programoutput metaward version version inform give proven execut help reproduc output written top metaward output see output like warn line version commit git metaward version gdbcadirti httpsmetawardsorg sourc inform repositori httpsgithubcommetawardsmetaward branch featuremovertutori revis dbcaeecbdfeeadad last modifi warn version commit git may abl recov origin sourc code use gener run metawardsdata inform version repositori httpsgithubcommetawardsmetawardsdata branch main addit inform visit httpsmetawardsorg inform metaward author licens mean metaward execut built use sourc code commit git therefor version control use dirti softwar product job possibl recov softwar use produc output later date thu may possil reproduc result get help metaward program uptod comprehens inbuilt help command line option print help type codeblock bash metaward help full help docavail metawards_help toctre hidden metawards_help understand option metaward power program come lot option use thu import option given first diseas specifi name diseas file load file describ model data model_datahtml__ file exist path use otherwis file search metawardsdatadiseas directori note dont need specifi file type assum json input specifi input file adjust paramet explor model run must suppli input file abl run model file describ line l specifi line number line number adjust paramet set input file line number count multipl line number given eg line read line rememb first line file line multipl line read multipl model run perform repeat r specifi number time model run adjust paramet set repeat metaward model run stochast base random number result multipl run must thu process deriv mean addit specifi file file contain addit seed file describ model data model_datahtml__ specifi mani file wish file exist path use otherwis file search metawardsdataextra_se directori note write addit seed directli rather use file see take look docthi section tutori tutorialpart_network output specifi locat place output file default new directori call output descript output file seed specifi random number seed use run default truli random seed use print output use togeth option reproduc run version metaward reproduc output given input random number seed run number thread startdat specifi date day zero model outbreak isnt specifi default current date recognis date understood funcmetawardsinterpretd includ date like today tomorrow monday jan etc start date use trigger event base day week date within model outbreak eg day weekend startday specifi day outbreak eg default day zero use want start model run later day start date note start date pass via startdat date day zero first day model startday day startdat nthread specifi number thread perform model run sequenc random number drawn parallel determinist given number thread differ differ number thread reproduc model run use combin random number seed number thread number thread use model run written output nproc specifi number process want parallelis model run use multipl processor comput run multipl model run note option set automat run cluster cluster_usagehtml__ use option typic metaward run perform use codeblock bash metaward ncov python port metaward written reproduc output origin c code origin code bundl port origin directori sever integr test includ unit test suit valid python code still reproduc result gener use c code understand input input file metaward docdesign file fileformatsdesign simpl set line contain five commasepar spacesepar valu per line eg five valu per line adjust beta beta progress progress progress paramet diseas model describ model data model_datahtml__ option choos paramet vari ad titl line eg beta progress progress specifi want adjust beta progress progress paramet specifi valu file adjust lot includ userspecifi paramet control number repeat output directori pleas see docful file format descript fileformatsdesign inform understand output output metaward primarili trajectori outbreak model popul report daili first day day outbreak end singl run print screen eg e r iw total popul model run move individu differ state accord whether becom infect progress outbreak code mean number popul suscept infect e number popul latent mean infect yet infecti number popul infect mean symptom infecti r number popul remov suscept either newli infect day recov infect longer suscept infect iw number elector ward contain least one individu newli infect day well print screen data also written csv file outputresultscsvbz easi read analysi use r python panda multipl model run perform run given fingerprint base adjust paramet repeat number output written outputfingerprint_repeatoutputtxt addit result run combin singl outputresultscsvbz file easi combin analysi exampl output could read panda datafram use codeblock python import panda pd df pdread_csvoutputresultscsvbz df perform analysi run good onlin workshop use panda data analysi httpsmilliamscomcoursesdata_analysis_pythonindexhtml__ note e r stage default metaward support custom diseas stage may e r learn take look doctutori custom name stage tutorialpart_named_stag metawardsplot quick simpl plot metaward come commandlin program metawardsplot use creat plot data outputresultscsvbz file use eg codeblock bash metawardsplot input outputresultscsvbz full help program use metawardsplot help full help docavail metawards_plot_help toctre hidden metawards_plot_help run cluster one reason python port make easier run metaward analys scale hpc cluster metaward support parallelis use mpi via mpipi httpsmpipyreadthedocsio__ simpl network via scoop httpsscoopreadthedocsio__ metaward automat detect need dont need write complic hpc job script metaward look hostfil via either pb environ variabl pbs_nodefil slurm slurm_hostfil hostfil pass directli via hostfil command line argument use inform combin togeth number thread per model run request user number core per comput node set environ variabl metawards_cores_per_nod pass command line option corespernod work mani parallel scoop mpi process start start roundrobin fashion across cluster distribut work node via scoop mpipi work pool mean job script need write simpl exampl pb job script exampl job script pb cluster binbash pb l walltim pb l selectncpusmemgb set node core sourc version metaward want use assum python environ homeenv sourc homeenvsmetawardsbinactiv chang directori job submit cd pbs_o_workdir need chang path metawardsdata repositori updat line uncom export metawardsdatahomegithubmetawardsdata metaward addit extraseedsbrightondat input ncovparamscsv repeat nthread job script run repeat adjust paramet set ncovparamscsv job run use core per model run node core per node core total run model run parallel run take minut two complet henc worth request one hour walltim job script submit cluster use pb qsub command eg script call submitsh could type codeblock bash qsub submitsh see statu job use codeblock bash qstat n exampl slurm job script exampl job script slurm cluster binbash sbatch time sbatch ntask sbatch cpuspertask set node core sourc version metaward want use assum python environ homeenv sourc homeenvsmetawardsbinactiv need chang path metawardsdata repositori updat line uncom export metawardsdatahomegithubmetawardsdata metaward addit extraseedsbrightondat input ncovparamscsv repeat nthread script job pb job script assum name script submitslm submit job use codeblock bash sbatch submitslm check statu job use codeblock bash squeue u user_nam user_nam cluster usernam metaward imag httpsgithubcommetawardsmetawardsworkflowsbuildbadgesvg target httpsgithubcommetawardsmetawardsactionsqueryworkflowabuild alt build statu imag httpsbadgefuryiopymetawardssvg target httpspypipythonorgpypimetaward alt pypi version imag httpspepytechbadgemetaward target httpspepytechprojectmetaward alt number download imag httpscamogithubusercontentcomfdbfedffbcdcedbecadcdddbdaffafefaefffefafef target httpsdoiorgjoss alt joss paper imag httpszenodoorgbadgedoizenodosvg target httpsdoiorgzenodo pleas take look docfeatur featur see metaward follow docquick start guid quickstartindex see quickli get run use metaward model custom diseas metapopul model citat pleas cite use softwar follow instruct cite repositori link github repositori httpsgithubcommetawardsmetawards__ also pleas cite journal open sourc softwar paperhttpsdoiorgjoss scientif background metaward implement stochast metapopul model diseas transmiss scale model local transmiss full nation internationalscal metapopul model python port metaward httpsgithubcomldanonmetawards__ packag origin written leon danon port perform leon support bristol research softwar engin group httpswwwbristolacukacrcresearchsoftwareengineering__ origin develop support model diseas transmiss great britain complet model descript origin c code describ role routin versu random movement spread diseas great britain leon danon thoma hous matt j keel epidem decemb doi jepidem httpsdoiorgjepidem__ individu ident movement network diseas metapopul matt j keel leon danon matthew c vernon thoma hous proceed nation academi scienc may doi pna httpsdoiorgpnas__ model popul divid elector ward diseas transmiss ward occur via daili movement individu ward individu contribut forc infect foi home ward night work ward day model recent adapt model covid transmiss england wale result origin c code publish spatial model covid transmiss england wale earli spread peak time leon danon ellen brookspollock mick bailey matt j keel philosoph transact royal societi b doi rstb httpsdoiorgrstb__ python code port ident reproduc output origin c code use work python code optimis parallelis addit test ad ensur develop scaleup metaward robustli effici conduct featur toctre maxdepth featur instal toctre maxdepth instal model data toctre maxdepth model_data quick start guid toctre maxdepth quickstartindex tutori toctre maxdepth tutorialindex file toctre maxdepth fileformatsindex usag toctre maxdepth usag cluster_usag get help toctre maxdepth support contribut toctre maxdepth contribut devsupport roadmap packag develop snaglist document toctre maxdepth apiindex changelog toctre maxdepth changelog acknowledg toctre maxdepth acknowledg indic tabl refgenindex refmodindex packag releas metaward fulli test deploy use github action develop process new featur develop featur branch call featurefeatur either main metaward repositori httpsgithubcommetawardsmetawards__ authoris develop person fork new develop bug fix issu fix develop fix branch call fixissuenumb either main repositori fork pull request issu branch devel merg conflict must fix branch test must pass pull request merg devel note authoris develop accept pull request authoris develop review pull request quickli greatli help featur accompani test exampl andor tutori instruct chang confin plugin eg modmetawardsiter modmetawardsextractor modmetawardsmix modmetawardsmov result devel contain fullywork test uptod version metaward howev version use product run note group develop authoris access main metaward repositori httpsgithubcommetawardsmetawards__ accept pull request fix evolv time wish join group pleas complet tutori demostr commit submit good issu pull request person fork repositori pleas get touch find difficult follow workshop httpschryswoodscombeginning_git__ need learn use git github featur branch merg pull request etc defin releas releas metaward regularli releas aim backward compat capabl use product run least function fulli describ tutori use semant version httpssemverorg__ take care caus break chang public api public api consist core modmetaward modul cover modmetawardsutil plugin modmetawardsiter modmetawardsextractor modmetawardsmix modmetawardsmov although core plugin interfac api chang endeavour retain backward compat outsid core modmetaward modul guarante note job releas manag current chryswood httpsgithubcomchryswoods__ decid time creat new releas interest help join releas manag group pleas feel free get touch creat releas creat releas first checkout main branch codeblock bash git checkout main git pull next merg chang devel branch codeblock bash git pull origin devel next updat docchangelog detail releas includ link top releas show commit differ version easili copi previou releas updat eg httpsgithubcommetawardsmetawardscompare__ may th could chang httpsgithubcommetawardsmetawardscompare__ may th move releas push chang back github use codeblock bash git push trigger cicd run build test everyth window mac linux python everyth work devel releasereadi state test packag github action httpsgithubcommetawardsmetawardsactions__ produc sourc binari wheel metaward support platform artifact call dist download unpack imag imagesgithub_artifactsjpg alt imag github action interfac show dist artifact unpack dist directori eg codeblock bash cd dist unzip downloadsdistzip result six binari wheel sourc packag eg metawardsgbcpcpmmacosx___x_whl metawardsgbcpcpmmanylinux_x_whl metawardsgbcpcpmwin_amdwhl metawardsgbcpcpmacosx___x_whl metawardsgbcpcpmanylinux_x_whl metawardsgbcpcpwin_amdwhl metawardsgbtargz tri instal packag relat machin doublecheck work eg codeblock bash pip instal metawardsgbcpcpmmacosx___x_whl cd pytest test work remov temporari packag dist folder codeblock bash rm dist tag new releas happi releas readi tag new version use git tag command eg codeblock bash git tag version version releas replac version version number releas command would codeblock bash git tag releas next push tag github codeblock bash git push tag tag use automat version script gener version number code build packag happen automat updat _versionpi includ packag tag version also trigger full cicd test build new version work tag taken fullytest main branch upload packag pypi wait cicd github action complet make sure version twine fulli date codeblock bash pip instal upgrad twine github action complet see anoth build artifact readi download download unpack dist directori dist directori contain six binari wheel one sourc packag name accord releas version exampl releas codeblock bash ls dist metawardscpcpmmacosx___x_whl metawardscpcpmmanylinux_x_whl metawardscpcpmwin_amdwhl metawardscpcpmacosx___x_whl metawardscpcpmanylinux_x_whl metawardscpcpwin_amdwhl metawardstargz upload pypi use command codeblock bash python twine upload dist note need usernam password pypi permiss upload code project current releas manag permiss would like join releas manag team pleas get touch test final releas final test releas rang differ machin log type codeblock bash pip instal metawardsvers replac version version number eg codeblock bash pip instal metaward play code run test run exampl everyth work perform lot prior test get stage model data get data metaward use larg amount data describ network model run data store separ metawardsdata httpsgithubcommetawardsmetawardsdata__ repositori download data one two way direct download download one data releas releas page httpsgithubcommetawardsmetawardsdatareleases__ best choos latest releas unless tri reproduc earler calcul download data zip targz archiv unpack use either codeblock bash tar zxvf metawardsdatatargz download releas targz file codeblock bash unzip metawardsdatazip download zip file git clone clone data repositori use codeblock bash git clone httpsgithubcommetawardsmetawardsdata find data download data need tell metaward data locat done one three way set metawardsdata environ variabl equal full path data eg codeblock bash export metawardsdatahomemetawardsdata assum place home directori pass full path data metaward use command line argument repositori eg codeblock bash metaward repositori homemetawardsdata assum place home directori move data homegithubmetawardsdata default search locat eg codeblock bash mkdir homegithub mv homemetawardsdata homegithub version data proven import metaward import know input use model run possibl recreat calcul thu reproduc result aid metawardsdata small script run download data version data find git tag data run script use codeblock bash cd metawardsdata version creat small file call versiontxt look someth like codeblock bash version repositori httpsgithubcommetawardsmetawardsdatabranch main file read metaward run emb enough inform output enabl other download metawardsdata input understand data metawarddata repositori contain four type data model_data model_data directori contain data need construct network ward link current model includ data directori manifest file compris model datadescriptionjson json file read metaward find load file need model diseas diseas directori contain paramet differ diseas diseas describ json file eg paramet sarscov diseasesncovjson main purpos metaward perform paramet sweep adjust diseas paramet model epidem close follow observ realiti meaning predict abl made paramet paramet directori contain paramet use control metaward model run repres good default valu paramet store metawardsdata repositori make easier version control track proven paramet use differ job paramet use job march correct march th parametersmarchjson extra_se extra_se directori contain file use seed new model diseas cluster differ ward model run file contain mani addit seed need format three number per line num loc step day addit infect seed num number addit infect loc index ward model network infect occur develop guid sourc code metaward avail github httpsgithubcommetawardsmetawards__ data need run metaward simul also github metawardsdata httpsgithubcommetawardsmetawardsdata__ repositori set comput metaward requir python pleas instal continu anaconda httpsanacondaorg__ provid easi instal python work rang oper system dont need root admin permiss virtual environ recommend develop metaward python virtual environ httpsdocspythonorgtutorialvenvhtml__ creat new environ directori venvsmetawardsdevel type codeblock bash mkdir venv python venv venvsmetawardsdevel feel free place environ directori want virtual environ provid sandbox make easier develop test code also allow instal python modul without interf python instal activ environ type codeblock bash sourc venvsmetawardsdevelbinactiv updat shell python command python pip etc use virtual environ deactiv environ return standard python use codeblock bash deactiv longer want environ remov use codeblock bash rm rf venvsmetawardsdevel develop depend recommend follow modul instal develop metaward cython numpi flake pytest sphinx plu sphinx_issu sphinx_rtd_them instal manual use codeblock bash pip instal r requirementsdevtxt code style metaward written python timecrit function written use cython httpscythonorg__ parallelis use openmp httpsopenmporg__ cython code written strictli comform c mean packag compil work system python run run product metaward model arm linux develop x linux mac laptop program test cicd window thank window user whove help us make tutori crossplatform aim python port provid simpl robust api strong foundat robust growth scaleup metaward one unnecessari implement detail hidden user aim much possibl follow pep httpswwwpythonorgdevpepspep__ python code style recommend develop instal use linter flake httpsflakepycqaorgenlatest__ cython pyx code also tri maintain pep style possibl recommend use tool autopep httpspypiorgprojectautopep__ keep style use lead develop contribut format use eventu requir nonpython code strictli c c excel languag bulki use metaward make challeng creat portabl binari distribut eas instal support also minimis bundl extern depend eg use bundl version httpsgithubcommetawardsmetawardstreedevelsrcmetawardsran_binomial__ binomi random number gener numpi httpsnumpyorg__ code run wide varieti architectur oper system machin dont graphic librari pleas care ad depend mind use follow code convent name follow python style name convent packag lowercas singleword class camelcas method snake_cas function snake_cas variabl snake_cas sourc file snake_cas lead underscor function variabl privat name lead underscor prevent prominantli visibl python help tab complet rel import use time import ideal delay need exampl import network object function util modul would type codeblock python _network import network network network networkrun import paramet code main metaward packag would type codeblock python _paramet import paramet paramet paramet parametersadd_seedsfilenameadditional_seedsdat note mani class python dataclass httpsrealpythoncompythondataclasses__ realli use quick safe develop code python dataclass prefer write datastyl class modul metaward consist main modul eg metaward plu metawardsutil modul contain use util main modul focu extern develop util modul need develop metaward addit metawardsapp modul contain code variou commandlin applic eg metaward execut metaward use pluginstyl interfac new develop plugin dociter apiindex_metawards_iter docextractor apiindex_metawards_extractor docmix apiindex_metawards_mix docmov apiindex_metawards_mov ideal new code ad one plugin cant fit code plugin pleas rais issu httpsgithubcommetawardsmetawardsissues__ discuss idea core develop way forward found realli appreci help want make sure idea includ compat way code make metaward easi new develop understand set rule ensur necessari public function class implement detail expos python help system modul file contain implement detail prefix underscor ie _parameterspi possibl extern packag hidden insid modul eg import sy _si modul file contain __all__ variabl list specif item import packag __init__pi use safe expos requir function user codeblock python modul import result clean api document extran inform eg extern modul hidden user import work interact sinc ipython httpsipythonorg__ jupyt httpsjupyterorg__ respect __all__ variabl autocomplet mean user see full list avail name hit tab follow convent user abl access expos name greatli improv clariti packag allow new user quickli determin avail function user wish expos implement detail cours type underscor show hidden name search workflow featur branch first make sure develop branch metaward codeblock bash git checkout devel creat switch featur branch prefix featur eg codeblock bash git checkout b featureprocess work featur branch wont want continu reinstal order make chang activ avoid either make use pythonpath eg codeblock bash make pythonpathbuildlibxxx python scriptpi pythonpathbuildlibxxx pytest test xxx build directori cython comput eg buildlibmacosxx_ rememb need type make rebuild cython code copi updat file directori use develop argument run setuppi script ie codeblock bash python setuppi develop instal current version metaward current python environ test work featur import write test ensur expect doesnt break exist function test place insid test directori creat appropri name subdirectori new packag test suit intend run use pytest httpsdocspytestorgenlatestcontentshtml__ run pytest search test directori file current directori collect test togeth run pytest use name match locat test valid name start end test eg file test_filepi file_testpi codeblock python function def test_func code perform test return def func_test code perform test return use convent test_ name file function run test run full test suit simpli type codeblock bash pytest test run test specif submodul eg codeblock bash pytest testsutil run unit test particular file eg codeblock bash pytest teststest_integrationpi run specif unit test particular file eg codeblock bash pytest teststest_read_variablespytest_parameterset get detail inform test run pytest use verbos flag eg codeblock bash pytest v detail regard invok pytest found httpsdocspytestorgenlatestusagehtml__ write test basic tri keep individu unit test short clear aim test one thing test well possibl tri minimis use assert statement within unit test sinc test return first fail assert addit contextu inform may lost float point comparison make use approx httpsdocspytestorgenlatestbuiltinhtmlcomparingfloatingpointnumbers__ function pytest packag perform float point comparison eg codeblock python pytest import approx assert approx default approx function compar result use rel toler e chang pass keyword argument function eg codeblock python assert approx rel skip test use testdriven develop httpsenwikipediaorgwikitestdriven_development__ might desir write test implement function ie assert output function implement case make use pytest skip decor flag unit test skip eg codeblock python pytestmarkskipreasonnot yet implement def test_new_featur unit test yet unimpl featur parametr test often desir run test rang differ input paramet achiev use parametr decor eg codeblock python import pytest oper import mul pytestmarkparametrizex pytestmarkparametrizey def test_mulx test mul function assert mulx muli x function test_mul parametr two paramet x mark test manner execut use possibl paramet pair x ie altern codeblock python import pytest oper import sub pytestmarkparametrizex expect def test_subx expect test sub function assert subx subi x expect pass list contain differ paramet set name paramet match argument test function test except pytest provid way test code known except exampl suppos function rais indexerror codeblock python def indexerror function rais indexerror could write test valid error thrown expect codeblock python def test_indexerror pytestraisesindexerror indexerror custom attribut possibl mark test function attribut like exampl codeblock python pytestmarkslow def test_slow_funct unit test take realli long time mark test function attribut slow order indic take run command line possibl run skip test particular mark codeblock bash pytest mypkg slow run slow test pytest mypkg slow skip slow test custom attribut label case could function decor continu integr deliveri use github action run full continu integr ci pull request devel main push devel main merg pull request test pass accept pull request devel allow pull request devel main addit ci also perform build websit push devel tag main websit version old doc old version code alway avail final set continu deliveri cd push main devel build pypi sourc binari wheel window linux manylinux os x manual upload pypi tag releas expect autom process soon document metaward fulli document use combin handwritten file doc folder autogener api document creat numpi httpsnumpyorg__ style docstr see httpsnumpydocreadthedocsioenlatestformathtmldocstringstandard__ detail document automat built use sphinx httpsphinxdocorg__ whenev commit push devel updat websit build document local first need instal addit packag codeblock bash pip instal sphinx sphinx_issu sphinx_rtd_them move doc directori run codeblock bash make html finish point browser buildhtmlindexhtml commit creat new test pleas make sure pass local commit happi commit chang eg codeblock bash git commit srcmetawards_new_featurepi teststest_featur implement test new featur rememb better make small chang commit frequent edit dont chang metaward sourc code document eg fix typo pleas add ci skip commit messag eg codeblock bash git commit updat doc ci skip avoid unnecessarili run github action httpsgithubcommetawardsmetawardsactions__ eg build new metaward packag updat websit etc github action configur file githubworkflowsmainyaml end provid git hook append ci skip commit modifi file blacklist specifi file ciignor analag gitignor use ignor untrack file enabl hook simpli copi githook directori codeblock bash cp git_hookscommitmsg githook addit file path shouldnt trigger rebuild ad ciignor file next push chang remot server eg codeblock bash push featur branch main metaward repo access git push origin featur push featur branch fork git push fork featur featur complet creat pull request github chang merg back develop branch inform see document httpshelpgithubcomarticlesaboutpullrequests__ thank first thank interest metaward read far hope enjoy play code go ad new function fix bug write doc etc would also like thank lester hedg biosimspac httpsbiosimspaceorg__ team provid great advic set whose github repo httpsgithubcommichellabbiosimspace__ procedur script document deriv contribut welcom help contribut improv qualiti metaward way help includ find fix document bug typo creat test ad pytest librari test directori take task docsnaglist port test metaward differ comput write new featur accept pull request devel branch happi discuss idea via github issu repo httpsgithubcommetawardsmetawardsissues__ contribut pleas keep mind code conduct httpsgithubcommetawardsmetawardsblobdevelcode_of_conductmd__ contribut encourag everyon doccomplet tutori tutorialindex give good ground model work code laid problem run tutori pleas rais issu httpsgithubcommetawardsmetawardsissues__ contribut new code welcom develop want join us help reduc bug add new function pleas bear mind follow use semant version httpssemverorg__ take care caus break chang public api public api consist core modmetaward modul cover modmetawardsutil plugin modmetawardsiter modmetawardsextractor modmetawardsmix modmetawardsmov although core plugin interfac api chang endeavour retain backward compat outsid core modmetaward modul guarante core modmetaward modul data structur quit fix endeavour make larg break chang mean new function ideal ad via one pluge interfac eg dociter apiindex_metawards_iter docextractor apiindex_metawards_extractor docmix apiindex_metawards_mix docmov apiindex_metawards_mov cant fit code plugin pleas rais issu httpsgithubcommetawardsmetawardsissues__ discuss idea core develop way forward found realli appreci help want make sure idea includ compat way code weve docad featur devsupport metaward hope make easier develop new code includ tool make simplifi profil printf debug full pytest integr pleas feel free rais issu httpsgithubcommetawardsmetawardsissues__ someth els think would help make develop easier final docveri detail develop guid develop hope help get speed develop strive help friendli welcom commun question anyth clear pleas get touch us rais issu httpsgithubcommetawardsmetawardsissues__ acknowledg grate acknowledg fund epsrc epn support research softwar engin time need creat version metaward also grate acknowledg mani helper contribut project roadmap metaward fulli featur everyth develop team need would like suggest featur ad roadmap pleas rais featur request httpsgithubcommetawardsmetawardsissuesnewassigneeschryswoodslabelsenhancementtemplatefeature_requestmdtitlebfeaturerequestdidlikemetawardsto_ detail individu featur branch contain new featur activ work avail github issu httpsgithubcommetawardsmetawardsissuesqisaissueisaopenlabelafeaturebranch_ page command line option full set command line option metawardsplot programoutput metawardsplot help help support welcom new user hope make experi use work metaward easi product possibl weve follow tutorialdriven develop model wherebi write tutori new function includ hope tutori help get run metaward problem pleas feel free get touch us rais issu httpsgithubcommetawardsmetawardsissues__ public github repo endeavour respond quickli provid simpl templat make easier give us inform need answer question effici dont fit pleas feel free use miscellan templat strive make metaward commun welcom support help place pleas make sure read follow code conduct httpsgithubcommetawardsmetawardsblobdevelcode_of_conductmd__ post issu otherwis interact anyon commun featur figur imagesuqmapjpg width figwidth align right alt map outbreak model england wale figclass alignright analysi simul httpsuqcovidgithubiovignettesmetawards_plot__ run use metaward chart diseas spread across england wale metaward sirbas metapopul diseas model program softwar model individu move metapopul home ward work play ward highli flexibl program model custom geographi network diseas demograph use metaward directli within python includ jupyt r includ rstudio command line termin consol inform take look docquick start guid quickstartindex program design enabl research model infect may spread impact differ control measur individu behaviour may make end metaward featur figur imagesdemographic_modeljpg width figwidth align right alt output model differ selfisol durat figclass alignright multipl connect network enabl complex scenario model flexibl plugin architectur make easi implement new control measur exampl tutori show use docmodel shield tutorialpart_custom docdiffer lockdown scenario tutorialpart_scan_lockdown docinvestig necessari durat quarantin selfisol tutorialpart_dur multinetwork demograph support multipl network run singl combin group custom plugin use merg data network condit move individu differ demograph weve use model shield selfisol hospit admiss impact individu return holiday etc figur imagestutorial____demographicsjpg width figwidth align right alt result shield experi figclass alignright built metawardsplot tool rapid visualis result includ across multipl network perward custom paramet support differ ward differ paramet mean easili model local behaviour eg local lockdown chang local control measur etc completedetail full control horizont vertic movement diseas stage across demograph weve use docmodel vaccin tutorialpart_vaccin also docmodel wane immun tutorialpart_fading_immun individu return r v stage back flexibl data output support handl use array inbuilt usersuppli data extract plugin function output data need format want perform analysi full reproduc support bake throughout code record enough data make reproduct easi result design given input random number seed number thread doccomplet tutori tutorialindex take begin learn run sir simul write power plugin let model complex scenario support scan design file optimis sensit analysi nearli input paramet plu user custom paramet use main code plugin scan use much comput avail parallelis individu run multipl core scale multipl run full supercomput lucki enough access one figur imagesrstudiojpg width figwidth align right alt rstudio screenshot figclass alignright run metaward analys result directli within rstudio via metaward r interfac individu code optimis run happili small laptop individu nationalscal network fit approxim mb memori model run take second perform scale number demograph ad high perform low memori consumpt design goal model use ward kilobyt take less second docflex input file model_data would enabl model region countri undertaken subject good input data model uk england wale creat python r api provid make easi creat custom network model everyth individu ward local geographi full nation internationalscal metapopul model figur imagespandas_examplejpg width figwidth align right alt analys data panda figclass alignright easili load compress data file panda r excel analysi colour modern inform consol output full unicod support progress indic output duplic text file ensur data run lost commandlin api interfac feel free run metaward standalon program use python r api emb part larger framework modular robust design use feel free take reus part metaward use figur imagesparallel_outputjpg width figwidth align right alt run multipl job parallel figclass alignright perform multipl run parallel live summari updat job finish softwar design metaward modern piec softwar engin follow recognis best practic eg use modular design lot document copiou runtim unit test follow tutorialdriven develop philosophi softwar mostli python c use via cython acceler key part docr interfac quickstart_r provid via reticul httpsrstudiogithubioreticulate__ code parallelis use openmp httpsopenmporg__ multipl model run parallelis use multiprocess scoop httpsscoopreadthedocsio__ mpi via mpipi httpsmpipyreadthedocsio__ take test serious lot unit integr runtim test run part cicd system deploy via github action httpsgithubcommetawardsmetawardsactions__ code inbuilt develop docsupport debug log profil devsupport docful api doc avail apiindex hope help new develop get quickli speed also take version backward compat serious follow semant version httpssemverorg__ system main api give confid anyon want build top metaward also maintain compat input output strong aim tutori runnabl asi futur version code instal instruct metaward python packag come r wrapper mean choos instal metaward either via python via r note metaward depend data file held metawardsdata use metaward must instal metawardsdata follow docthes instruct model_data instal via python metaward compil test window linux os x httpsgithubcommetawardsmetawardsactions__ abl compil instal oper system work python c compil instal metaward first need instal python check python instal type codeblock bash python v print version number python avail version number old python case tri codeblock bash python v see python version number pleas use python instead python dont python instal instal python either via packag manag simpli use anaconda httpsanacondaorg__ work python easiest way instal metaward use pip httpspippypaioenstable__ codeblock bash pip instal metaward doesnt work may need use command pip may instal pip httpspippypaioenstableinstalling__ troubl instal pip recommend download instal anaconda httpsanacondaorg__ pip includ instal specif version eg type codeblock bash pip instal metaward instal binari version metaward avail oper system processor version python metaward pyx code compil c use cython httpscythonorg__ compil execut use system c compil eg gcc httpsgccgnuorg__ clang httpsclangllvmorg__ control c compil use set cc environ variabl eg codeblock bash ccgcc pip instal metaward metaward written standard c use openmp httpswwwopenmporg__ parallelis extern depend compil without issu note system c compil os x mac support openmp case code compil openmp disabl want use core comput need instal differ compil eg instal clang via homebrew httpsbrewsh__ problem pleas post issu github httpsgithubcommetawardsmetawardsissues__ instal run metaward type codeblock bash metaward version print version inform metaward includ whether found metawardsdata doesnt work possibl directori metaward place path quit common window find locat metaward execut start python type codeblock python import metaward printmetawardsfind_mw_ex run metaward either type full path execut print ad directori contain execut path instal via r metaward use within r via reticul httpsrstudiogithubioreticulate_ packag built metaward r packag simplifi use use must first instal metaward via python rout version python use default r old run metaward metaward need python newer default reticul instal use python metaward metawardsdata instal python first need get reticul command need tell r python interpret use written function open python type codeblock python import metaward printmetawardsget_reticulate_command see print someth like codeblock r reticulateuse_pythonpathtopython requiredtru pathtopython full path python execut use next open r rstudio instal reticul havent done alreadi codeblock r installpackagesreticul next instal metaward r packag github need use devtool librari codeblock r librarydevtool install_githubmetawardsrpkg next need tell reticul use python execut found earlier copi reticul command exactli print python eg codeblock r reticulateuse_pythonpathtopython requiredtru next load metaward packag use py_metawards_avail check metaward found load codeblock r metawardspy_metawards_avail true note futur reticul default python abl instal metaward directli call metawardspy_install_metaward command instal metaward default python come reticul instal check updat metaward avail directli r via codeblock r metawardspy_metawards_update_avail updat lastest version use codeblock r metawardspy_update_metaward sourc instal download sourc releas metaward project releas page httpsgithubcommetawardsmetawardsreleases__ download file unpack chang directori use codeblock bash tar zxvf metawardsxyztargz cd metawardsxyz xyz version download releas would codeblock bash tar zxvf metawardstargz cd metawardsxyz next need instal depend metaward type codeblock bash pip instal r requirementstxt readi compil instal metaward codeblock bash make make instal choos c compil use set cc environ variabl eg codeblock bash ccclang make ccclang make instal metaward written standard c use openmp httpswwwopenmporg__ parallelis extern depend compil without issu note system c compil os x mac support openmp case code compil openmp disabl want use core comput need instal differ compil eg instal clang via homebrew httpsbrewsh__ problem pleas post issu github httpsgithubcommetawardsmetawardsissues__ normal python instal may need use find_mw_ex function find full path instal metaward execut hasnt place path develop clone metaward repositori comput instal codeblock bash git clone httpsgithubcommetawardsmetaward cd metaward pip instal r requirementsdevtxt point compil download sourc develop may want run test creat websit type codeblock bash pytest test make doc shortcut run quick slow test eg codeblock bash make test make quicktest note test assum alreadi download model data metawardsdata httpsgithubcommetawardsmetawardsdata__ configur describ model_datahtml__ network file network file defin node ward network link communitingmov individu node network file collect file must exist directori compris descriptionjson file must exist directori provid metadata need locat necessari file work_siz play_siz file list index popul worker work_siz player play_siz ward network total popul ward node sum work play popul work file list work connect node give popul worker commut sourc node destin play file list play connect node give proport player make random movement sourc node destin node posit file contain coordin centr node coordin xy latitudelongitud coordin lookup file contain name metadata node eg name local author region etc file describ descriptionjson jsonformat file provid metadata network model contain directori file describ simpl dictionari follow keyvalu pair work filenam work file work_siz filenam work_siz file play filenam play file play_siz filenam play_siz file posit filenam posit file coordin whether coordin posit file xy xy latitudelongitud latlong format coordinate_unit option unit xy coordin either meter km kilomet distanc metaward alway report kilomet lookup option filenam lookup file lookup_column option dictionari give column number zeroindexedfor code name alternate_cod alternate_nam authority_cod authority_nam field ward metadata work work file contain list work connect node give number individu commut sourc node destin node columnbas file three column number space comma separ exampl first number index index sourc node second number index index destin node third number number individu commut sourc destin node exampl list worker commut ward ward worker commut ward ward work ward live worker commut ward ward commut ward ward etc note sourc ward list contigu ie must list connect sourc ward equal list connect sourc ward equal etc work_siz work_siz file contain number worker resid ward columnbas file two column number space comma separ exampl first number index index ward second number worker ward number worker ward must equal sum number worker work file say commut ward exampl ward worker ward worker etc play play file contain list play connect ward columnbas file three column number space comma separ exampl first number index index sourc ward second index index destin ward third number fraction player randomli travel sourc ward destin ward case player remain ward player randomli move ward ward note care third number fraction float point number number player move also note order requir work file appli name connect sourc ward list connect sourc ward etc play_siz play_siz file contain number player ward columnbas file two column number space comma separ exampl first number index index ward second number player ward case player ward player ward etc posit posit file contain coordin center ward columnbas file three column number space comma separ exampl coordin either xy latitudelongitud depend set descriptionjson file xy unit also set file case xy coordin meter first column index index ward second column x coordin third coordin note latlong use second column would latitud third column longitud ward center km km ward center km km etc lookup lookup file contain metadata inform ward allow look name region etc columnbas file header row column separ space comma exampl wdcdwdnmwdnmwcmwdcdcmwdnmcmwdnmwindladcdladnmladnmwfid ecentralecentraleslough echalveyechalveyeslough ecippenham greenecippenham greeneslough ecippenham meadowsecippenham meadowseslough ecolnbrook poyleecolnbrook poyleeslough efarnhamefarnhameslough efoxboroughefoxborougheslough ehaymillehaymilleslough ekedermisterekedermistereslough elangley st maryselangley st maryseslough first row provid name column ignor code row give inform ward whose index equal line number line give inform ward index lookup_column field descriptionjson specifi column file use name code author etc ward exampl set column code column name first ward code e name central extra seed file file specifi infect seed outbreak columnbas flexibleformat file line file contain inform specif seed event three piec inform per line day day date seed infect integ date interpret via funcinterpretday_or_d metawardsinterpretday_or_d function either set day number seed exact date seed ward ward either index name infect seed either integ whole number specifi index ward index string identifi ward name eg cliftonbristol would look ward call clifton author bristol ward look name use funcwardinfosfind metawardswardinfosfind function number number infect seed integ interpret via funcinterpretinteg metawardsinterpretinteg function demograph option demograph either index name infect seed specifi first demograph network seed index interpret via funcinterpretinteg metawardsinterpretinteg name direct lookup demograph name columnformat file like flexibleformat file use comma space separ column separ use first line assum use rest file order column howev wish long provid column header day ward number option demograph otherwis column order day number ward option demograph add extra space blank line make file readabl add comment via charact exampl seed infect day first day outbreak ward use comma separ day ward number seed infect day ward name column ad comment seed two locat bristol day demograph ward number tomorrow clifton bristol rand next week knowl bristol ad comment chang order column seed fuzzi date eg tomorrow next week ward identifi name author number seed random number inclus clifton bristol result express knowl day ward number seed use three isoformat date httpspythonticcomdatetimedateisoformat__ date th th th decemb ward seed infect day input file format input data metaward provid via varieti differ file mani describ three type input file flexibleformat flexibl format support wide rang input data type layout option exampl includ docextra seed extrase docdesign design docus input userinput file rigidformat rigid format specif type main exampl file use specifi model eg docth network connect etc network jsonformat file standard json httpsenwikipediaorgwikijson__ format exampl includ diseas demograph file plu mani file metawardsdata eg descript model data static paramet file flexibleformat file flexibleformat file read use python csv modul httpsdocspythonorglibrarycsvhtml__ file either column row base depend file type free use comma space separ must consist within file comment ad use charact blank line ignor data within flexibleformat file interpret use classmetawardsinterpret interpret simpl data string number boolean true fals well complex data date next week januari express pi random number rand rand rand rigidformat file rigidformat file read use custom parser file type file rigid format specifi file type plan migrat mani rigidformat file across either flexibleformat jsonformat possibl jsonformat file jsonformat file standard json httpsenwikipediaorgwikijson__ file use small lessstructur file eg specifi paramet diseas specifi data associ differ demograph file read use python json modul httpsdocspythonorglibraryjsonhtml__ dictionari interpret class associ file eg classmetawardsdiseas case diseas paramet mani class use classmetawardsinterpret interpret data json file mean support express random number etc plan ensur much data possibl interpret use classmetawardsinterpret consist experi across code detail descript toctre maxdepth network extrase design userinput user input file user input file use set initi valu paramet could set docdesign file design use almost ident pars code inde design file singl row data also valid user input file howev read columnorient data user input file best written roworient file file one variabl per row use either space comma colon equal sign separ name variabl initi valu exampl isolate_nday isolate_stag set initi valu isolate_nday isolate_stag number day isol isolate_nday stage start isol isolate_stag except use colon separ ad comment blank line improv legibl hospitalbetaicu lockdown_start dnext week set initi beta paramet icu stage hospit demograph set lockdown start use fuzzi date next week design scan file design scan file specifi adjust variabl chang metaward calcul valu chang columnorient flexibleformat file use one column per adjust variabl like flexibleformat file use comma space separ column separ use first line assum use rest file column header name variabl want adjust column header format variabl variabl name adjust singl variabl copi demograph demographicvari adjust singl variabl demograph name demograph variabl adjust index name variabl demograph variable adjust key e name variabl eg key refer diseas stage demographicvariablekey adjust key key name variabl name demograph usermyvari adjust custom user variabl call myvari demograph myvari also adjust custom user variabl call myvari demograph drop user save space demographicmyvari adjust index custom user variabl myvari demograph call demograph full list inbuilt paramet adjust list programoutput python get_variableset_helppi addit creat mani customus paramet adjust would like special column two special column repeat specifi number repeat row valu integ whole number give finegrain control specifi number repeat differ row design output specifi output directori place output model run use row adjust variabl overrid default output directori name use fingerprint set adjust paramet use want control output written note metaward allow output multipl model run written file append number eg x x duplic name default column highli recommend name column design file dont default column use beta beta progress progress progress note default came origin c version metaward retain keep backward compat origin input file column data valu column interpret use classmetawardsinterpret code tri guess appropri data type move simpl number isoformat date number express includ random number boolean return data string forc type data use numpystyl quot charact type charact recognis dvalu forc valu interpret date isoformat fuzzi date via python datepars modul httpsdateparserreadthedocsioenlatest__ fvalu forc valu interpret number float point integ ivalu forc valu interpret integ whole number bvalu forc valu interpret boolean true fals valu code recognis truefals onoff yesno well caseinsensit svalu forc valu string use realli want string want interpret valu plugin code exampl beta beta beta two set variabl set beta beta beta first set second set betai betai betai initi baselin increas infectivitiy except use name diseas stage ad comment extra whitespac aid legibl lockdown_start scale_r repeat output dmarch lockdown_march dapril lockdown_april set user paramet lockdown_start scale_r either march th april st ask repeat march data output result directori call lockdown_march repeat april lockdown output data lockdown_april note first repeat written lockdown_march lockdown_april remaind written number directori eg lockdown_marchx etc beta beta progress progress progress name column use comma separ ad extra space improv legibl part move demograph sixth part tutori understand move individu demograph use docmetawardsmov apiindex_metawards_mov use go function model movement individu go isol releas back normal life learn write custom mover investig individu isol mani day stay quarantin learn condit send fraction individu anoth demograph investig differ level complianc selfisol order differ complianc rate quarantin toctre maxdepth part_mov part_dur part_scan_dur part_compli part_quarantin part differ pathway differ demograph seventh part tutori learn give differ diseas pathway differ demograph explor use model differ diseas behaviour progress differ group see combin move function model condit pathway eg individu sent hospit see name differ stage diseas eg support collect statist number hospit patient toctre maxdepth part_pathway part_scan part_condit part_icu part_named_stag part_hospit part advanc move scenario ninth part tutori discov classmetawardsmoversmovegener funcmetawardsmoversgo_ward learn use get full control defin intric movement individu use methdiseaseis_infect metawardsdiseaseis_infect creat noninfect vaccin v stage use funcmetawardsmoversgo_ward model vaccin nation wardbyward basi use classmetawardsmoversmovegener creat advanc move model individu lose immun due vaccin recoveri period time use classmetawardsmoversmovegener model movement individu home univers ward start univers year includ movement worker player use methwardbg_foi metawardswardbg_foi set background forc infect ward use model hyperthet foreign holiday destin differ background rate infect use funcmetawardsmoversgo_ward model individu go holiday destin effect differ number day quarantin return toctre maxdepth part_move_ward part_vaccin part_fading_immun part_univers part_holiday part customis output fourth part tutori understand file output metaward learn metawardsextractor metawardsextractorsextract_default write custom extractor output differ inform file model run learn extract geograph inform includ output toctre maxdepth part_extractor part_default part_region part_rat part refin model second part tutori learn chang diseas model ad extra infecti asymptomat stage lurgi learn perform paramet sweep investig diseas paramet chang popul trajectori model run understand random error run paramet sweep mani repeat learn run metaward hpc cluster learn examin hypothesi conduct larg model run cluster gather evid learn chang underli geograph model data toctre maxdepth part_diseas part_adjust part_analysi part_clust part_refin part_model_data part customis outbreak third part tutori understand purpos metawardsiteratorsiterate_default learn use differ iter differ day program model weekend creat custom iter repres lockdown learn trigger custom iter start specif date creat adjust variabl model lockdown differ level effect setup model lockdown end explor happen next creat model lockdown stop start respons chang condit toctre maxdepth part_iter part_weekend part_lockdown part_dynam part_scan part_scan_lockdown part_cutoff part_local_lockdown tutori tutori take aspect run understand analys customis metaward tutori design run order warn tutori model complet fiction diseas call lurgi httpsenwiktionaryorgwikilurgy__ similar real diseas unintend result output tutori use infer impli anyth real outbreak toctre maxdepth index_part index_part index_part index_part index_part index_part index_part index_part index_part part model multipl demograph fifth part tutori understand differ demograph model use metaward learn metawardsdemograph distribut popul multipl demograph learn metawardsmix learn write mixer model shield toctre maxdepth part_demograph part_mix part_custom part_contact part model outbreak part tutori instal metaward perform first model run simul outbreak fiction diseas known lurgi learn seed outbreak specif citi learn run reproduc calcul learn perform multipl model run analys output collat resultscsvbz file discov metawardsplot use make simpl plot toctre maxdepth part_getting_start part_rep part_plot part creat model network eighth part tutori learn model network ward metapopul movement defin explor creat model network use python r interfac learn run metaward directli within python r script build complex network wardloc paramet toctre maxdepth part_network part_custom_network part_reticul part_using_custom part_local_network part_network_demograph weekend may escap attent everi day work day model may seem unrealist must rememb random imperfect model base noisi data ad realism may counterproduct especi modern work pattern mean blur line work day weekend doesnt mean cant model weekend inde metaward realli flexibl customis exactli perform model day creat weekend creat new directori call weekend copi lurgyjson diseas paramet chang directori creat new file call weekendpi copi code codeblock python metawardsutil import consol def iterate_weekendkwarg consoleprinthello iterate_weekend return simpl function call iterate_weekend take unspecifi number keyword argument kwarg httpsbookpythontipscomenlatestargs_and_kwargshtml__ later return empti list print hello iterate_weekend screen note notic must print use methconsoleprint metawardsutilsconsoleprint function methmetawardsutilsconsol ensur print goe right place stay sane multipl process thread tri print time also ensur everyth print screen also get print file safekeep outputconsolelogbz import inform lost run job run function start ipython directori type codeblock ipython import weekend weekenditerate_weekend hello iterate_weekend tell metaward call function everi iter use iter commandlin argument type codeblock bash metaward metaward lurgi addit extraseedslondondat iter weekend see differ outbreak eg day hello iterate_weekend e r iw popul number infect day hello iterate_weekend seed play_infect e r iw popul number infect day hello iterate_weekend e r iw popul number infect day hello iterate_weekend e r iw popul number infect day hello iterate_weekend e r iw popul number infect day hello iterate_weekend e r iw popul number infect day hello iterate_weekend e r iw popul number infect day hello iterate_weekend e r iw popul number infect day hello iterate_weekend e r iw popul number infect infect die end day happen well import weekend ipython call iterate_weekend function metaward integr option tell metaward import weekend modul metaward automat found first function modul whose name start iter case iterate_weekend metaward call function everi iter model run name function whatev want eg edit weekendpi read codeblock python metawardsutil import consol def another_functionkwarg consoleprinthello another_funct return def iterate_weekendkwarg consoleprinthello iterate_weekend return ad anoth function call another_funct tell metaward use function use iter weekendanother_funct tri run use command codeblock bash metaward lurgi addit extraseedslondondat iter weekendanother_funct see hello another_funct print everi iter warn sometim may see metaward exit warn cant find iter function like typo syntax error iter metaward best detect report check error output see anyth help run iter python see get error eg iter file call iteratorpi type python iteratorpi error print screen print debug output gener print thing screen use user program sometim develop want print debug output verifi everyth work use methconsoledebug metawardsutilsconsoledebug exampl chang iter codeblock python metawardsutil import consol def iterate_weekendkwarg consoledebughello iterate_weekend return see print output debug option pass metaward eg codeblock bash metaward lurgi iter weekend debug day hello iterate_weekend weekendpi e r iw popul number infect note time debug string line file debug statement includ also easili print valu variabl use variabl keyword argument methmetawardsutilsconsoledebug eg codeblock python metawardsutil import consol def iterate_weekendkwarg b string consoledebughello iterate_weekend variablesa b return codeblock bash metaward lurgi iter weekend debug day hello iterate_weekend weekendpi name valu b string inform debug string debug level leav debug string product code docavail devsupport advanc outbreak may notic diseas outbreak advanc run use custom weekend iter output show five initi infect seed progress diseas stage five individu move r state reason diseas hasnt advanc havent suppli function use advanc outbreak job iter function return function need advanc outbreak socal advanc function write advanc function edit weekendpi contain codeblock python metawardsiter import advance_infprob advance_play metawardsutil import consol def iterate_weekendkwarg consoledebughello iterate_weekend return advance_infprob advance_play code import methmetawardsiteratorsadvance_infprob methmetawardsiteratorsadvance_play advanc function describ doclast page _iter return iterate_weekend told metaward call one anoth advanc outbreak run metaward use new weekendpi via codeblock bash metaward lurgi addit extraseedslondondat iter weekend see outbreak advanc throughout popul howev day progress new infect use play mode methmetawardsiteratorsadvance_play work mode methmetawardsiteratorsadvance_fix use mean everi day model like weekend creat overview graph weekend run compar result weekday run docpart part_refin see differ graph shown imag imagestutorial____overviewjpg alt overview imag weekend run clear outbreak much smaller peak million oppos nearli million peak also broaden outbreak last month rather week chang iter time week weekend also realist howev creat function choos advanc function return base day outbreak creat new python file call weekpi copi code codeblock python metawardsiter import advance_infprob advance_fix advance_play metawardsutil import consol def iterate_weekpopul kwarg date populationd consoledebugfcr function date dateweekday consoledebugthi weekday return advance_infprob advance_fix advance_play els consoledebugthi weekend return advance_infprob advance_play creat iterate_week function slightli differ signatur iterate_weekend accept popul argument everi iter pass lot argument ignor kwarg variabl need argument name function case need popul argument classmetawardspopul object contain distribut popul across differ e state plu current date outbreak methpopulationd metawardspopulationd date standard python date object httpsdocspythonorglibrarydatetimehtml__ weekday function return number correspond monday sunday monday sunday weekday less day must weekday henc iterate_week function return infprob fix play advanc function otherwis day must weekend infprob play advanc function return run metaward use new iter see happen codeblock bash metaward lurgi addit extraseedslondondat iter week metawardsplot outputresultscsvbz format jpg dpi see someth similar imag imagestutorial____overviewjpg alt overview imag weekend run signific spread infect weekday growth fall back weekend note week iter import suppli methmetawardsiteratorsiterate_working_week iter use via command line option iter iterate_working_week similarli methmetawardsiteratorsiterate_weekday function iter weekday methmetawardsiteratorsiterate_weekend iter weekend note default outbreak model start today control start date use startdat command line option chang iter stage method model weekend simpl correct model weekend time player move infect worker ignor mean model assum worker spend weekend home interact anyon els thu zero risk contract infect model weekend properli someth advanc worker one option advanc worker weekend way advanc player data structur use model worker differ cant call methmetawardsiteratorsadvance_play function worker instead metaward come methmetawardsiteratorsadvance_work_to_play advanc worker player use iterate_week iter could look like codeblock python metawardsiter import advance_infprob advance_work_to_play advance_play metawardsutil import consol def iterate_weekpopul kwarg date populationd consoledebugfcr function date dateweekday consoledebugthi weekday return advance_infprob advance_fix advance_play els consoledebugthi weekend return advance_infprob advance_work_to_play advance_play howev would also correct issu well advanc infect iter also respons calcul forc infect foi result infect individu calcul foi stage day model day divid seri stage initialis use initialis variabl day setup use set addit variabl infect foi use calcul foi result exist infect infect use calcul enact new infect analys use calcul analys data infect addit model run finalis stage call end model run output model run written disk databas collect model run summari stage call end model run calcul write summari statist run default custom iter specifi advanc function use infect stage advanc function use stage suppli methmetawardsiteratorsiterate_default default methmetawardsiteratorsadvance_foi function use calcul foi assum worker behav like worker player behav like player work use methmetawardsiteratorsadvance_foi_work_to_play make worker behav like player thu need use methmetawardsiteratorsadvance_foi_work_to_play function instead need tell metaward use function foi stage control stage iter oper pass stage argument exampl codeblock python metawardsiter import advance_infprob advance_work_to_play advance_play advance_foi advance_foi_work_to_play advance_recoveri metawardsutil import consol def iterate_weekstag popul kwarg date populationd consoledebugfcr function date is_weekend dateweekday is_weekend consoledebugthi weekend stage foi return advance_foi_work_to_play advance_recoveri elif stage infect return advance_infprob advance_work_to_play advance_play els return iterator_defaultstagestag kwarg els consoledebugthi weekday stage foi return advance_foi advance_recoveri elif stage infect return advance_infprob advance_fix advance_play els return iterator_defaultstagestag kwarg note methmetawardsiteratorsadvance_recoveri anoth advanc function must return foi stage advanc function use advanc infect individu along stage diseas eg e r note methmetawardsiteratorsiterate_default return default set advanc function stage make sens call stage explicitli handl iter eg return iterate_defaultstagestag kwarg return default advanc function specifi stage chang iterate_week iter would work model worker becom player weekend make thing easier metaward provid builtin methmetawardsiteratorsiterate_weekend iter iter weekend day plu methmetawardsiteratorsiterate_working_week iter use methmetawardsiteratorsiterate_default weekday methmetawardsiteratorsiterate_weekend weekend use want model work week worker behav like player weekend respond chang condit weve creat lockdown advanc function current trigger function iter base fix number day sinc outbreak start better approach would trigger lockdown base number individu detect infect model edit lockdownpi script copi follow codeblock python metawardsiter import iterate_working_week advance_infprob advance_fix advance_play metawardsutil import consol def advance_lockdownkwarg consoledebugw lockdown advance_infprobscale_r kwarg advance_playkwarg def iterate_lockdownpopul kwarg hasattrpopul lockdown_st populationlockdown_st populationis_locked_down fals populationlockdown_st populationtot populationlockdown_st lockdown populationlockdown_start populationday populationis_locked_down true populationis_locked_down return advance_lockdown els return iterate_working_weekpopulationpopul kwarg first thing see popul lockdown_st variabl use standard python hasattr function httpsdocspythonorglibraryfunctionshtmlhasattr__ variabl wont exist first call iterate_lockdown set lockdown_st set flag populationis_locked_down fals next check lockdown state total infect popul greater chang lockdown_st lockdown save day lockdown start populationlockdown_start set flag populationis_locked_down true final either return advance_lockdown advanc function standard advanc function work week depend valu populationis_locked_down flag run model draw overview graph use codeblock bash metaward lurgi addit extraseedslondondat iter lockdown metawardsplot outputresultscsvbz format jpg dpi see lockdown take effect time infect popul grow tip curv reduc spread diseas see graph look like imag imagestutorial____overviewjpg alt overview imag automat lockdown releas lockdown use data popul decid releas lockdown well exampl could releas size infect popul drop edit lockdownpi file read codeblock python metawardsiter import iterate_working_week advance_infprob advance_fix advance_play metawardsutil import consol def advance_lockdownkwarg consoledebugw lockdown advance_infprobscale_r kwarg advance_playkwarg def iterate_lockdownpopul kwarg hasattrpopul lockdown_st populationlockdown_st populationis_locked_down fals populationlockdown_st populationtot populationlockdown_st lockdown populationlockdown_start populationday populationis_locked_down true elif populationlockdown_st lockdown populationtot populationlockdown_st populationlockdown_end populationday populationis_locked_down fals populationis_locked_down return advance_lockdown els return iterate_working_weekpopulationpopul kwarg run model see happen start lockdown work number infect fallen number fall day howev releas lockdown complet lead rapid growth infect infect three week lockdown end unsurpris still lot infect individu remain lockdown end larg popul still suscept infect see print run overview graph day lockdown lockdownpi e r iw popul number infect day lockdown lockdownpi e r iw popul number infect day lockdown lockdownpi e r iw popul number infect day lockdown lockdownpi e r iw popul number infect day lockdown lockdownpi e r iw popul number infect day lockdown lockdownpi e r iw popul number infect day lockdown lockdownpi e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect imag imagestutorial____overviewjpg alt overview imag automat releas lockdown note second wave infect make initi wave almost invis graph visibl evid small peak number infect ward iw plot relax remov lockdown problem treat lockdown like binari switch immedi went back normal lift instead need releas lockdown stage model edit lockdownpi contain follow codeblock python metawardsiter import iterate_working_week advance_infprob advance_fix advance_play metawardsutil import consol def advance_lockdownpopul kwarg consoledebugw lockdown variablespopulationlockdown_scale_r advance_infprobpopulationpopul scale_ratepopulationlockdown_scale_r kwarg advance_playpopulationpopul kwarg def iterate_lockdownpopul kwarg tri populationlockdown_st except except populationlockdown_st populationis_locked_down fals populationlockdown_scale_r populationlockdown_st populationtot populationlockdown_st lockdown populationlockdown_start populationday populationis_locked_down true elif populationlockdown_st lockdown populationtot populationlockdown_st relaxed_lockdown populationlockdown_end populationday populationlockdown_scale_r populationis_locked_down true elif populationlockdown_st relaxed_lockdown populationtot populationlockdown_scale_r els populationlockdown_scale_r populationis_locked_down return advance_lockdown els return iterate_working_weekpopulationpopul kwarg code creat new lockdown state weve call relaxed_lockdown enter number infect drop state control releas correspond halv infect rate scale_r increas strong lockdown relaxed_lockdown state infect popul alway check lockdown relax even scale_r increas howev infect popul rise lockdown tighten scale_r lower go run use iter see case see model move lockdown scale_factor relax lockdown scale_factor light lockdown scale_factor outbreak brought control overview plot imag imagestutorial____overviewjpg alt overview imag automat relax lockdown small second peak lockdown relax seem control warn rememb read much singl model run stochast simul would need run model mani time averag could gain real insight return work python dynam type set whatev flag add whatev data want popul object need inde python object let add extra flag use advance_lockdown call advance_fix lockdown lift suffici peopl return work copi lockdownpi file codeblock python metawardsiter import iterate_working_week advance_infprob advance_fix advance_play metawardsutil import consol def advance_lockdownpopul kwarg consoledebugw lockdown variablespopulationlockdown_scale_r populationis_work_locked_down advance_infprobpopulationpopul scale_ratepopulationlockdown_scale_r kwarg advance_playpopulationpopul kwarg populationis_work_locked_down advance_fixedpopulationpopul kwarg def iterate_lockdownpopul kwarg hasattrpopul lockdown_st populationlockdown_st populationis_locked_down fals populationlockdown_scale_r populationis_work_locked_down fals populationlockdown_st populationtot populationlockdown_st lockdown populationlockdown_start populationday populationis_locked_down true populationis_work_locked_down true elif populationlockdown_st lockdown populationtot populationlockdown_st relaxed_lockdown populationlockdown_end populationday populationlockdown_scale_r populationis_locked_down true populationis_work_locked_down fals elif populationlockdown_st relaxed_lockdown populationis_work_locked_down fals populationtot populationlockdown_scale_r els populationlockdown_scale_r populationis_locked_down return advance_lockdown els return iterate_working_weekpopulationpopul kwarg get longer hope see ad populationis_work_locked_down flag plu extra code flip true fals flag read advance_lockdown call advance_fix flag fals weve also ad check see infect popul rise relax lockdown reenter full lockdown run model plot graph see get graph similar imag imagestutorial____overviewjpg alt overview imag automat relax lockdown altern lockdown flexibl metaward mean multipl differ way could choos model lockdown understand must look metaward calcul forc infect foi ward foi ward use calcul infect rate determin rate individu ward becom infect forc infect forc infect foi calcul ward individu use equat mathfw time ut time sum_ c_ beta_ n_sw mathfw forc infect mathf calcul specif ward mathw math constant scale paramet set via methpopulationscale_uv metawardspopulationscale_uv mathut season scale function uv calcul specifi day matht mathsum_ sum diseas stage math mathc_ contrib_foi diseas paramet stage math mathbeta_ beta diseas paramet stage math mathn_sw number infect individu ward mathw diseas stage math season scale function mathut calcul via mathut fracu_v u_v fractextco pi mathu_v uv paramet suppli user uv command line argument matht number day current date model run date season spread maximum uv_max set via user uvmax command line argument season scale function act scale forc infect season maximum typic st januari model winter diseas northern hemispher season minimum month later mathu_v set scale factor six month minimum mathut function differ valu mathu_v shown imag imagesuvjpg alt plot ut differ valu u_v metapopul movement forc infect calcul base number infect individu diseas stage ward mathn_sw metapopul part metaward individu move ward thu contribut mathn_sw differ depend forc infect calcul daytim nighttim individu contribut forc infect calcul ward visit daytim home ward nighttim worker visit fix work ward daytim long sick go work control too_sick_to_mov case stay home player visit randomli chosen play ward daytim howev movement control cutoff paramet methparametersdyn_dist_cutoff metawardsparametersdyn_dist_cutoff distanc home work ward home play ward greater cutoff measur kilomet worker player stay home contribut forc infect home ward note calcul funcmetawardsiteratorsadvance_foi advanc function want chang write version funcmetawardsiteratorsadvance_foi set use instead via custom iter rate infect daytim nighttim forc infect ward convert daytim nighttim infect probabl funcmetawardsiteratorsadvance_infprob advanc function give probabl individu stay ward day night would infect probabl use funcmetawardsiteratorsadvance_fix funcmetawardsiteratorsadvance_play advanc function determin whether worker player move ward day would infect enact lockdown base knowledg could enact lockdown adjust paramet use calcul forc infect paramet use control movement individu ward exampl could reduc methpopulationscale_uv metawardspopulationscale_uv therebi reduc math equat would effect scale foi scale mathbeta would mean could relat differ valu math differ lockdown control measur eg close school wear mask limit number contact etc could also reduc methparametersdyn_dist_cutoff metawardsparametersdyn_dist_cutoff eg km prevent work play movement inde could even reduc km stop movement ward good exampl altern lockdown model httpsgithubcommetawardsmetawardstreedevelexampleslockdown__ provid exampl metaward github repositori enact lockdown directli chang two paramet effect reduc contribut infect individu overal forc infect ward reduc movement individu ward mani paramet adjust also add scan investig impact full list builtin adjust paramet programoutput python get_variableset_helppi scan lockdown creat scan custom variabl write proper lockdown iter enabl us explor differ scenario creat file call lockdowninp copi full lockdown red scale_r can_work fals relax lockdown yellow scale_r can_work fals relax lockdown green scale_r can_work true defin three lockdown state rang red full lockdown strong reduct transmiss rate work green relax lockdown weaker reduct transmiss rate work allow use data creat iter file call lockdownpi copi codeblock python metawardsiter import advance_infprob advance_fix advance_play iterate_working_week metawardsutil import consol def get_lockdown_statepopul hasattrpopul lockdown_st populationlockdown_st populationis_locked_down fals populationtot populationlockdown_st consoleprintflockdown start populationd populationlockdown_st populationis_locked_down true elif populationlockdown_st consoleprintfrestart lockdown populationd populationlockdown_st populationis_locked_down true elif populationtot populationlockdown_st consoleprintfreent relax yellow populationd populationlockdown_st elif populationtot populationlockdown_st consoleprintfent relax yellow populationd populationlockdown_st elif populationtot populationlockdown_st consoleprintfent relax green populationd populationlockdown_st return populationlockdown_st def advance_lockdownnetwork popul kwarg param networkparam state get_lockdown_statepopul scale_r paramsuser_paramsscale_ratest can_work paramsuser_paramscan_workst consoledebugst variablesscale_r can_work advance_infprobscale_ratescale_r networknetwork populationpopul kwarg advance_playnetworknetwork populationpopul kwarg can_work advance_fixednetworknetwork populationpopul kwarg def iterate_customnetwork popul kwarg param networkparam state get_lockdown_statepopul populationis_locked_down consoledebuglock return advance_lockdown els consoledebugnorm work week day return iterate_working_weeknetworknetwork populationpopul kwarg get_lockdown_st function complex differ use number infect populationtot decid lockdown_st use integ mean lockdown red yellow green whether popul lock store populationis_locked_down variabl fals iterate_lockdown simpli return result methmetawardsiteratorsiterate_working_week otherwis return advance_lockdown function weve defin advance_lockdown function obtain scale_r can_work custom user paramet classmetawardsparamet object model classmetawardsnetwork call methmetawardsiteratorsadvance_infprob set scale_r scale factor call methmetawardsiteratorsadvance_play can_work true methmetawardsiteratorsadvance_fix run metaward use command see get codeblock bash metaward lurgi extraseedslondondat u lockdowninp iter lockdown debug metawardsplot outputresultscsvbz see day normal work week day lockdownpi e r iw popul number infect day lockdown start lock lockdownpi state lockdownpi name valu scale_r can_work fals e r iw popul number infect day enter relax yellow lock lockdownpi state lockdownpi name valu scale_r can_work fals e r iw popul number infect day enter relax green lock lockdownpi state lockdownpi name valu scale_r can_work true e r iw popul number infect day lock lockdownpi state lockdownpi name valu scale_r can_work true e r iw popul number infect infect die end day overview graph imag imagestutorial____overviewjpg alt overview imag lockdown custom paramet run cluster work scan lot differ lockdown scenario creat input file vari scale_r can_work paramet creat input file call scancsv copi follow adjust red state adjust yellow green adjust green yellow work yellow scale_r scale_r scale_r can_work first set allow work green true true true true true true true true true true second set prevent work green fals fals fals fals fals fals fals fals fals fals note note ad comment file use use help futur self understand copi file onto cluster submit job repeat adjust variabl set time use pb job script codeblock bash binbash pb l walltim pb l selectncpusmemgb set node core sourc version metaward want use sourc homeenvsmetawardsbinactiv chang directori job submit cd pbs_o_workdir metaward addit extraseedslondondat diseas lurgi u lockdowninp iter lockdown input scancsv repeat nthread forceoverwriteoutput submit job eg qsub jobscriptsh wait finish complet gener overview averag graph via codeblock bash metawardsplot outputresultscsvbz metawardsplot anim outputoverviewjpg metawardsplot anim outputaveragejpg see get rang scenario outbreak control die oscil outbreak popul forev move green yellow lockdown state outbreak grow despit lockdown seen imag imagestutorial__gif alt overview imag lockdown custom paramet custom advanc function far creat custom iter function also creat custom advanc function creat new python file call advancepi copi text codeblock python metawardsutil import consol def advance_functionkwarg consoledebughello advance_funct def iterate_advancekwarg consoledebughello iterate_adv return advance_funct defin two function one advanc function use take kwarg argument return noth iterate_adv function iter return list advance_funct run use iter via metaward command codeblock bash metaward lurgi addit extraseedslondondat iter advanc debug see hello function print day hello iterate_adv advancepi hello advance_funct advancepi e r iw popul number infect creat advance_lockdown write custom advanc function repres lockdown assum new work infect lockdown want creat iter advanc normal lockdown trigger advanc use play function afterward creat new python file call lockdownpi copi codeblock python metawardsiter import iterate_working_week advance_infprob advance_fix advance_play metawardsutil import consol def advance_lockdownkwarg consoledebugw lockdown advance_infprobkwarg advance_playkwarg def iterate_lockdownpopul kwarg populationday return advance_lockdown els return iterate_working_weekpopulationpopul kwarg iterate_lockdown function behav ident iterate_working_week first day outbreak howev day advance_lockdown call function call methmetawardsiteratorsadvance_infprob advanc infect probabl call methmetawardsiteratorsadvance_play advanc play infect equival make everi day weekend eg fix predict travel home work school run iter draw graph use codeblock bash metaward lurgi addit extraseedslondondat iter lockdown metawardsplot outputresultscsvbz format jpg dpi see overview plot similar weekend graph creat docon last page _weekend unsurpris lockdown reduc random infect scale infect rate model reduct rate new infect methmetawardsiteratorsadvance_infprob function take extra scale_r argument use scale infect rate calcul blunt tool use model reduc infect rate lockdown aim achiev set scale_r edit lockdownpi file contain codeblock python metawardsiter import iterate_working_week advance_infprob advance_fix advance_play metawardsutil import consol def advance_lockdownkwarg consoledebugw lockdown advance_infprobscale_r kwarg advance_playkwarg def iterate_lockdownpopul kwarg populationday return advance_lockdown els return iterate_working_weekpopulationpopul kwarg done set scale_r methmetawardsiteratorsadvance_infprob repres fourfold reduct infect rate run model gener graph use codeblock bash metaward lurgi addit extraseedslondondat iter lockdown metawardsplot outputresultscsvbz format jpg dpi see dramat reduct infect eg overview graph look like imag imagestutorial___overviewjpg alt overview imag quick lockdown custom variabl last exampl got metaward model lockdown howev put lot hardcod paramet iterate_lockdown function wrote one main purpos metaward enabl us scan multipl variabl see affect popul trajectori user variabl metaward support use custom user variabl exampl creat new file call custominp copi first state userscal userflag fals second state userscal userflag true third state userscal userflag true note comment start file format flexibl use sign even noth eg userscal abbrevi uservari variabl want file go use defin three state first index scale factor flag set fals second scale factor flag set true third scale factor flag set also true pass input file metaward use uservari u paramet eg tri type codeblock bash metaward lurgi uservari custominp output see line read custom paramet seed adjust variabl scale flagfals scale flagtru scale flagtruerepeat note see uservari abbrevi variabl output show metaward read custom paramet program store user_param classmetawardsparamet object store classmetawardsnetwork hold network ward model read user variabl custom iter access paramet iter advanc function use networkparamsuser_paramsx x name paramet want exampl networkparamsuser_paramsscal return exampl copi file call custompi codeblock python metawardsutil import consol def get_statepopul populationday return elif populationday return els return def advance_lockdownnetwork popul kwarg param networkparam state get_statepopul scale paramsuser_paramsscalest consoledebughello advance_lockdown variablesscal def advance_relaxednetwork popul kwarg param networkparam state get_statepopul scale paramsuser_paramsscalest consoledebughello advance_relax variablesscal def iterate_customnetwork popul kwarg param networkparam state get_statepopul flag paramsuser_paramsflagst consoledebughello iterate_custom variablesscal flag flag return advance_lockdown els return advance_relax code defin four function get_stat return state popul set case state depend day outbreak iterate_custom get state use get_stat look flag custom paramet index state flag true return advance_lockdown otherwis return advance_relax advance_lockdown get state use get_stat look scale custom paramet index state print screen advance_relax advance_lockdown print differ messag screen use iter run metaward via codeblock bash metaward lurgi u custominp iter custom debug see print screen someth similar day hello iterate_custom custompi name valu state flag fals hello advance_relax custompi name valu scale e r iw popul number infect day hello iterate_custom custompi name valu state flag fals hello advance_relax custompi name valu scale e r iw popul number infect day hello iterate_custom custompi name valu state flag true hello advance_lockdown custompi name valu scale e r iw popul number infect day hello iterate_custom custompi name valu state flag true hello advance_lockdown custompi name valu scale e r iw popul number infect day hello iterate_custom custompi name valu state flag true hello advance_lockdown custompi name valu scale e r iw popul number infect infect die end day hope chang state function call valu scale factor print make sens follow expect scan custom variabl also adjust custom variabl scan way adjust inbuilt variabl like beta progress docan earlier part tutori part_adjust case use full uservari abbrevi variabl name titl metaward input file exampl creat new file call scancsv copi scale flag fals fals fals true true true tell metaward perform six model run userscal vari userflag vari true fals perform model run use codeblock bash metaward lurgi u custominp iter custom scancsv get output similar multiprocess comput model run complet job scale flagfalserepeat day e r iw uv total popul comput model run complet job scale flagfalserepeat day e r iw uv total popul comput model run complet job scale flagfalserepeat day e r iw uv total popul comput model run complet job scale flagtruerepeat day e r iw uv total popul comput model run complet job scale flagtruerepeat day e r iw uv total popul comput model run complet job scale flagtruerepeat day e r iw uv total popul write summari result csv file userschrisgithubtutorialweekendoutputresultscsvbz use quickli look statist across run use eg r panda quick look outputresultscsvbz file eg use panda show fingerprint column custom variabl construct identi inbuilt variabl eg codeblock python import panda pd df pdread_csvoutputresultscsvbz printdf ingerprint repeat scale flag day date e r iw uv ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivf fals ivt true ivt true ivt true ivt true ivt true ivt true ivt true ivt true ivt true ivt true ivt true ivt true ivt true ivt true ivt true ivt true ivt true ivt true day model use multipl model run refin diseas paramet lurgi howev paramet refin model metaward use repres interact individu work play metaward model diseas transmiss via two main mode infect work random infect individu acquir elector ward work base random interact other also work ward nomenclatur work mean regular daili predict travel individu make infect play random infect individu acquir elector ward live base random interact other also ward nomenclatur play mean random unpredict interact regular warn read much definit work play broad mean metaward essenc captur differ predicat daili travel interact commut colleagu offic student school random inter parti shop play park hard data scienc behind metaward construct inform metawardsdata httpsgithubcommetawardsmetawardsdata__ gain broad overview individu move interact normal day metaward use iter iter model outbreak forward day day iter docmetawardsiter apiindex_metawards_iter modul default iter classmetawardsiteratorsiterate_default iter appli sequenc function advanc diseas step step day advance_funct control exactli happen elector ward day funcmetawardsiteratorsiterate_default iter appli follow advance_funct sequenc funcmetawardsiteratorsadvance_addit appli add addit seed diseas ward lead new infect addit seed repres eg new sourc infect arriv ward via outsid travel funcmetawardsiteratorsadvance_foi appli advanc calcul forc infect foi ward must call begin day funcmetawardsiteratorsadvance_addit foi paramet use guid path outbreak ward rest day funcmetawardsiteratorsadvance_recoveri appli individu ward infect see whether individu progress one stage diseas next decis base progress diseas paramet stage individu funcmetawardsiteratorsadvance_infprob appli recalcul infect probabl need guid new infect base foi paramet ward number individu stage diseas base contrib_foi diseas paramet funcmetawardsiteratorsadvance_fix appli advanc infect base fix predict movement individu socal work mode infect individu continu work unless becom symptomat too_ill_to_mov base paramet stage diseas individu final funcmetawardsiteratorsadvance_play appli advanc infect base random movement individu socal play mode infect individu continu play unless becom symptomat control too_ill_to_mov diseas paramet function appli day consid complet statist day eg number individu e iw r state collect print next day begin function appli local lockdown doclast chapter _cutoff impli paramet equat action cutoff paramet global appli ward equal true would make difficult metaward model wardspecif behaviour local lockdown differ local behaviour realiti metaward provid support wardspecif valu scale cutoff paramet limit movement local level everi ward valu cutoff paramet movement two ward permit distanc ward less minimum cutoff distanc ward valu methparametersdyn_dist_cutoff metawardsparametersdyn_dist_cutoff eg condit true mathd_textij textmin c_i c_j c_textglob mathd_textij distanc centr ward mathi mathj mathc_i local cutoff paramet ward mathi mathc_j local cutoff paramet ward mathj mathc_textglob global cutoff distanc set via methparametersdyn_dist_cutoff metawardsparametersdyn_dist_cutoff scale foi local level everi ward valu foi scale paramet realiti equat actual mathfw time s_lw time ut time sum_ c_ beta_ n_sw maths_lw local scale factor ward mathw act togeth math mathut mathc_ give lot control infecti individu diseas stage ward contribut ward foi read write local paramet read write local ward paramet within custom iter local ward paramet store classnetworknod metawardsnod object provid array index ward id ie count nnode methnetworknodesscale_uv metawardsnodesscale_uv contain maths_lw valu node methnetworknodescutoff metawardsnodescutoff contain cutoff valu node kilomet scale factor node default mean local scale cutoff default larg distanc greater distanc two point earth mean thu local cutoff valu use part foi calcul must read set foi stage model day exampl creat new iter call lockdownpi copi codeblock python metawardsiter import iterate_default def advance_lockdownnetwork kwarg scale_uv networknodesscale_uv cutoff networknodescutoff set lockdown evennumb ward rang networknnod scale_uvi cutoffi def iterate_lockdownstag kwarg get default function stage func iterate_defaultstag kwarg stage foi make sure advance_lockdown call first foi stage return advance_lockdown func els return func iter defin advance_lockdown advanc function simpli loop evennumb ward set methnetworknodesscale_uv metawardsnodesscale_uv methnetworknodescutoff metawardsnodescutoff zero effect place half countri extrem lockdown diseas unabl spread iterate_lockdown function take stage paramet tell metaward iter want specifi advanc function call differ stage default return default advanc function stage return funcmetawardsiteratorsiterate_default foi stage return advance_lockdown default function therebi ensur advance_lockdown chang methnetworknodesscale_uv metawardsnodesscale_uv methnetworknodescutoff metawardsnodescutoff wardloc paramet use calcul forc infect ward run iter use codeblock bash metaward lurgi extraseedslondondat iter lockdown see infect spread half countri lurgi infect half popul resid visit ward complet lockdown exampl see day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect end day custom wardloc paramet also read write custom wardloc paramet call methnetworknodesget_custom metawardsnodesget_custom exampl codeblock python my_param networknodesget_custommy_param default return custom wardloc paramet call my_param dont exist creat ward given default start valu specifi default return valu array index ward id read written ident way methnetworknodesscale_uv metawardsnodesscale_uv methnetworknodescutoff metawardsnodescutoff note custom wardlevel paramet alway store array float point number use custom paramet store manipul extra wardlevel data exampl edit lockdownpi iter read codeblock python metawardsiter import iterate_default metawardsutil import consol def advance_lockdownnetwork workspac kwarg get wardspecif scale cutoff paramet scale_uv networknodesscale_uv cutoff networknodescutoff get custom paramet in_lockdown initialis mean fals in_lockdown networknodesget_customin_lockdown default count number casefre day per ward case_free_day networknodesget_customcase_free_day default get total number infect workspac i_in_ward workspacei_in_ward loop ward rang networknnod ward lockdown in_lockdowni number infect drop zero leav lockdown i_in_wardsi need casefre day releas lockdown case_free_daysi consoledebugfward leav lockdown stay high vigil keep action reduc beta normal scale_uvi cutoffi in_lockdowni case_free_daysi els case_free_daysi consoledebugfward case_free_day equal case_free_daysi els case_free_daysi enter lockdown number infect goe elif i_in_wardsi consoledebugfward enter lockdown in_lockdowni case_free_daysi stop travel enact measur scale beta normal cutoffi scale_uvi get number ward lockdown num_lockdown intsumin_lockdown num_lockdown consoleprintfnumb ward lockdown equal num_lockdown def iterate_lockdownstag kwarg get default function stage func iterate_defaultstagestag kwarg stage foi return advance_lockdown func els return func case advance_lockdown move individu ward local lockdown depend number infect ward read methworkspacei_in_ward metawardsworkspacei_in_ward array pass classmetawardsworkspac object two wardloc custom paramet use record whether ward local lockdown in_lockdown ward lockdown case_free_day count number consecut day ward without infect realli detect infect eg individu state advance_lockdown function work loop ward see ward lockdown check in_lockdown valu ward number infect zero check casefre day pass local lockdown relax travel allow cutoff set larg valu scale factor increas impli measur mask wear physic distanc etc still follow day pass number casefre day increment ward local lockdown number local detect infect goe local lockdown initi travel halt cutoff set stringent measur taken scale factor impli beta scale final number ward lockdown calcul sum in_lockdown custom paramet print screen note note addit methconsoledebug metawardsutilsconsoledebug statement function print debug line ward move lockdown run iter use codeblock bash metaward lurgi extraseedslondondat iter lockdown see number ward lockdown increas diseas spread spread slow ward come lockdown sometim reinfect relockdown may see wave like behaviour diseas slowli brought control exampl plot outbreak produc via codeblock bash metawardsplot outputresultscsvbz show follow outputoverviewjpg plot imag imagestutorial__jpg alt outbreak control use local lockdown wave behaviour clear make enter exit local lockdown extrem exampl updat lockdownpi read codeblock python metawardsiter import iterate_default metawardsutil import consol def advance_lockdownnetwork workspac kwarg get wardspecif scale cutoff paramet scale_uv networknodesscale_uv cutoff networknodescutoff get custom paramet in_lockdown initialis mean fals in_lockdown networknodesget_customin_lockdown default count number casefre day per ward case_free_day networknodesget_customcase_free_day default get total number infect workspac i_in_ward workspacei_in_ward loop ward rang networknnod ward lockdown in_lockdowni number infect drop zero leav lockdown i_in_wardsi need casefre day releas lockdown case_free_daysi consoledebugfward leav lockdown complet relax lockdown scale_uvi cutoffi in_lockdowni case_free_daysi els case_free_daysi consoledebugfward case_free_day equal case_free_daysi els case_free_daysi enter lockdown number infect goe elif i_in_wardsi consoledebugfward enter lockdown in_lockdowni case_free_daysi stop travel enact measur stop local transmiss beta cutoffi scale_uvi get number ward lockdown num_lockdown intsumin_lockdown num_lockdown consoleprintfnumb ward lockdown equal num_lockdown def iterate_lockdownstag kwarg get default function stage func iterate_defaultstagestag kwarg stage foi return advance_lockdown func els return func chang scale_uvi set ward lockdown ie spread scale_uvi return ward leav lockdown extrem switch enter leav lockdown caus wave infect spread across ward eg run model see imag imagestutorial___jpg alt outbreak local lockdown result wave diseas use custom network run simul use custom network pass filenam json file contain network metaward via model paramet exampl use custom_networkjsonbz file last section togeth lurgyjson diseas model previou chapter seed outbreak infect london day would run codeblock bash metaward lurgi custom_networkjsonbz london see model run quickli produc output similar day load addit seed command line day demograph ward number seed none wardinfonamelondon alternate_nam code alternate_cod author authority_cod region region_cod seed play_infect e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect end day run metaward within python r also possibl run custom network pass directli funcmetawardsrun function python r exampl python codeblock python metaward import ward run bristol wardnamebristol bristoladd_work bristolset_num_play london wardnamelondon londonadd_work londonset_num_play bristoladd_work destinationlondon londonadd_work destinationbristol ward bristol london printward ward infobristol id num_work num_play ward infolondon id num_work num_play result runmodelward addit would creat ward run model run new directori call output_xxxx xxxx replac random string result variabl hold full path result resultscsvbz file run argument funcmetawardsrun match command line program python object eg ward diseas demograph pass python object automat convert json file pass metaward process background note use oper add multipl individu ward object togeth creat ward eg ward bristol london note forc funcmetawardsrun use specifi output directori pass output argument need set force_overwrite_output true overwrit exist output silenc print screen pass silent true achiev r type codeblock r librarymetaward bristol metawardswardnamebristol bristoladd_work bristolset_num_play london metawardswardnamelondon londonadd_work londonset_num_play bristoladd_work destinationlondon londonadd_work destinationbristol ward metawardsward wardsaddbristol wardsaddlondon printward ward infobristol id num_work num_play ward infolondon id num_work num_play result metawardsrunmodelward addit note r support ad individu ward object togeth get ward creat network r metaward python modul use modmetaward modul directli r reticul project httpsrstudiogithubioreticulate__ let emb use python directli r script instal metaward r instal metaward start r type codeblock r librarydevtool install_githubmetawardsrpkg instal metaward r packag next need instal metaward r packag provid conveni function support type codeblock r metawardspy_install_metaward download instal modmetaward modul python interpret associ reticul want specifi python interpret manual would need type codeblock r reticulateuse_pythonpathtopython requir true call py_install_metaward pathtopython path python interpret want use doublecheck metaward avail work type codeblock r metawardspy_metawards_avail true get version metaward python instal use codeblock r metawardspy_version_metaward check updat metaward avail use codeblock r metawardspy_metawards_update_avail updat metaward python latest version use codeblock r metawardspy_update_metaward use metaward r load modmetaward modul type codeblock r librarymetaward load modmetaward python object metaward namespac r call object directli would python exampl creat custom network contain bristol london r python via codeblock r ward metawardsward bristol metawardswardnamebristol bristoladd_work destinationbristol bristolset_num_play printbristol ward id namebristol num_work num_play london metawardswardnamelondon londonadd_work destinationlondon londonset_num_play printlondon ward id namelondon num_work num_play bristoladd_work destinationlondon londonadd_work destinationbristol wardsaddbristol wardsaddlondon printward ward id namebristol num_work num_play ward id namelondon num_work num_play wardsto_jsoncustom_networkjson indent pathtocustom_networkjsonbz result compress file call custom_networkjsonbz ident content run command python eg id info name bristol num_work num_play worker destin popul id info name london num_work num_play worker destin popul go simpl exampl howev hope enough show begin use python modmetaward modul within r use reticul httpsrstudiogithubioreticulate__ detail reticul advanc way call python plu set code complet inlin help also avail reticul project webpag httpsrstudiogithubioreticulate__ creat custom network default network suppli metawardsdata model uk noth stop creat network model countri region inde use concept ward worker player gener way model lot differ environ eg use ward repres differ univers build track diseas spread build staff student move around use ward repres care home hospit home singl region model motion staff patient gener popul differ environ network file format lot data need load defin network two file format specifi data doca set fixedformat file fileformatsnetwork contain data set file contain singl directori older format use predominantli older model network jsonformat file contain data need describ network singl file file manipul edit use python api describ creat edit network python best way creat new network use python api classmetawardsnetwork edit creat via classmetawardsward class repres edit collect individu classmetawardsward object repres ward classmetawardsward provid function set name metadata ward plu ad work play connect ward exampl interact creat new classmetawardsnetwork use classmetawardsward classmetawardsward class eg ipython jupyt notebook first import necessari class creat classmetawardsward object call ward codeblock python metaward import ward ward network ward ward next creat classmetawardsward object repres bristol call bristol add worker work bristol player codeblock python bristol wardnamebristol bristoladd_work bristolset_num_play next creat classmetawardsward object repres london call london add worker player london wardnamelondon londonadd_work londonset_num_play add commut bristolian commut day london london commut day bristol codeblock python bristoladd_work destinationlondon londonadd_work destinationbristol confirm inform correct print eg codeblock python printbristol ward namebristol num_work num_play printlondon ward namelondon num_work num_play next add two classmetawardsward object classmetawardsward object repres entir model codeblock python wardsaddbristol wardsaddlondon printward ward infobristol id num_work num_play ward infolondon id num_work num_play note note classmetawardsward classmetawardsward collect automat assign id number bristol london refer ward id number gener leav metaward automat gener manag id save set classmetawardsward file convert data dictionari serialis dictionari json stream file custom_networkjsonbz codeblock python wardsto_jsoncustom_networkjson indent result json file look someth like id info name bristol num_work num_play worker destin popul id info name london num_work num_play worker destin popul note note exact format json chang metaward evolv retain backward compat mean newer version metaward abl read old file older version may abl read new file note file automat compress use bzip disabl set auto_bzipfals note also indent set indent use print set whatev indent want includ set wont affect includ inform humanread load json file ward object use codeblock python ward wardsfrom_jsoncustom_networkjsonbz printward ward id namebristol num_work num_play ward id namelondon num_work num_play differ network differ demograph custom network significantli increas flexibl metaward use creat model differ countri use use concept metapopul model differ environ exampl use custom network model home school work use differ demograph model student teacher everyon els way could explor close school could impact diseas spread concept explor detail docquick start guid quickstartindex key takeaway work doctutori index well docquick start quickstartindex creat differ classmetawardsdiseas object contain differ diseas stage paramet differ classmetawardsdemograph object repres differ group individu experi differ classmetawardsdiseas object thu advanc along differ pathway experi metapopul movement differ classmetawardsnetwork network built flexibl via classmetawardsward classmetawardsward object ward network paramet therebi enabl model wardloc behaviour differ demograph differ diseas stage differ network flexibl model enhanc build custom modmetawardsiter enabl write code advanc individu one diseas stage next control suscept individu infect build custom modmetawardsmix control forc infect calcul differ demograph mix merg togeth therebi control interact interact evenli interact via custom interact interact matrix build custom modmetawardsmov control vertic movement individu demograph complement horizont movement individu along diseas stage write custom modmetawardsextractor analys data simul fli write whatev data wish disk databas creata custom user paramet control model write scandesign file run multipl simul scan custom paramet well nearli inbuilt diseas paramet option repeat run check statist varianc final within singl python r script use python r api run command line within batch script automat parallelis run supercomput cluster understand model network core metaward implement metapopul model individu group worker player distribut across ward forc infect ward caus infect individu base movement behaviour calcul use decid whether individu resid visit ward infect classmetawardsnetwork collect classmetawardsnod classmetawardslink describ individu ward movement ward resid use singl underli classmetawardsnetwork everi demograph model run tutori need case choos assign differ classmetawardsnetwork object differ demograph simul would exampl model differ connect movement ward differ demograph eg worker school student use differ network repres movement relat holiday foreign travel singlenod network set overal network use default demograph via model commandlin argument default valu data base censu data model everi elector ward england wale two model suppli uk base censu includ scotland northern ireland model still work progress singl singleward network use test dont want model geograph behaviour run singleward simul use command line codeblock bash metaward lurgy_hom singl p note use lurgy_homejson file last chapter tutori note also need set popul singl ward use p popul command line argument case set popul individu run see metaward siginficantli faster also outbreak seed noth much happen seed outbreak use extraseedslondondat file seed everi outbreak file contain singl line three number instruct metaward seed outbreak day first number infect individu second number ward third number warn name file mislead realli seed ward index seed ward london seed london network use ward london index tri seed use file get error eg codeblock bash metaward lurgy_hom singl p extraseedslondondat error unabl seed infect use none error class indexerror invalid node index number node contain equal pleas doublecheck tri seed node exist network traceback recent call last lot output indexerror invalid node index number node contain equal note traceback long complex realli use metaward develop normal work gone wrong scroll traceback see error print immedi provid extraseedsonedat file seed infect ward first day outbreak contain line say seed individu first day ward note node index rather mean ward first node wardnnod last node network use singleward network eg codeblock bash metaward lurgy_hom singl p extraseedsonedat howev creat file seed outbreak inconveni particularli want seed singl ward option pass seed inform argument instead filenam thu work codeblock bash metaward lurgy_hom singl p equal seed multipl day eg seed individu day individu day via codeblock bash metaward lurgy_hom singl p n content string interpret ident read file n repres newlin charact note extra seed file flexibl power format eg support seed date seed random ward random amount etc inform format file docfound fileformatsextrase specifi wardloc paramet docpart part_local_lockdown learn read write wardloc paramet eg methnetworknodesscale_uv metawardsnodesscale_uv methnetworknodescutoff metawardsnodescutoff also set paramet custom paramet use classmetawardsward object exampl python codeblock python metaward import ward bristol wardnamebristol bristolset_positionlat long bristolset_cutoff bristolset_scale_uv bristolset_customin_lockdown bristolset_customcase_free_day printbristolto_jsonind id null posit lat long info name bristol num_work num_play scale_uv cutoff custom in_lockdown case_free_day r codeblock r librarymetaward bristol metawardswardnamebristol bristolset_positionlat long bristolset_cutoff bristolset_scale_uv bristolset_customin_lockdown bristolset_customcase_free_day printbristolto_jsonind id null posit lat long info name bristol num_work num_play scale_uv cutoff custom in_lockdown case_free_day would creat ward call bristol posit centr ward set specifi latitud longitud cutoff distanc set kilomet scale_uv paramet set two custom paramet ad in_lockdown set case_free_day set note set posit ward use either xy coordin kilomet latitud longitud ward singl network use coordin scheme note add mani custom paramet like store doubl precis float point number mean true convert convert network wardloc paramet combin individu ward object togeth singl ward object even differ wardloc paramet exampl continu script add ward call london eg python codeblock python london wardnamelondon londonset_positionlat long londonset_customin_lockdown bristoladd_work destinationlondon ward bristol london convert classmetawardsnetwork read paramet use classnetworknod metawardsnod object docpart part_local_lockdown codeblock python metaward import network network networkfrom_wardsward calcul distanc total link distanc equal total play distanc equal total distanc equal network load popul worker player printnetworknodesx arrayd printnetworknodesi arrayd printnetworknodesscale_uv arrayd printnetworknodescutoff arrayd printnetworknodesget_customin_lockdown arrayd printnetworknodesget_customcase_free_day arrayd data correctli set rememb ward index note scale_uv set default similarli cutoff set default larg distanc greater distanc two point earth custom paramet default set eg note case_free_day london code r would read codeblock r london metawardswardnamelondon londonset_positionlat long londonset_customin_lockdown bristoladd_work destinationlondon ward metawardsward wardsaddbristol wardsaddlondon network metawardsnetworkfrom_wardsward calcul distanc total link distanc equal total play distanc equal total distanc equal network load popul worker player printnetworknodesx arrayd printnetworknodesi arrayd printnetworknodesscale_uv arrayd printnetworknodescutoff arrayd printnetworknodesget_customin_lockdown arrayd printnetworknodesget_customcase_free_day arrayd fade immun immun diseas alway perman diseas immun fade time mean individu infect multipl time model use funcmetawardsmoversgo_ward move individu r stage back stage period time slow progress methdiseaseprogress metawardsdiseaseprogress paramet control rate individu move diseas stage advanc diseas stage control funcmetawardsiteratorsadvance_recoveri simpli sampl fraction methdiseaseprogress metawardsdiseaseprogress number individu diseas stage via random binomi distribut advanc next stage key code summaris codeblock python loop penultim diseas stage back first stage rangen_inf_class get progress paramet diseas stage disease_progress paramsdisease_paramsprogressi loop wardlink diseas stage j rang nlinks_plus_on get number worker link stage inf_ij infections_ij inf_ij sampl l worker stage base disease_progress l _ran_binomialrng disease_progress inf_ij l move l worker stage next stage infections_i_plus_onej l infections_ij l loop node ward diseas stage j rang nnodes_plus_on get number player ward stage inf_ij play_infections_ij inf_ij sampl l player stage base disease_progress l _ran_binomialrng disease_progress inf_ij l move l player stage next stage play_infections_i_plus_onej l play_infections_ij l time sinc recoveri measur time sinc recoveri add extra postrecoveri stage individu set move slowli postrecoveri stage particular postrecoveri stage reach fraction individu deem lost immun diseas move back stage creat new version lurgi extra postrecoveri stage call r r python open ipython jupyt type codeblock python metaward import diseas lurgi diseaselurgi lurgyadd beta progress lurgyaddi beta progress lurgyaddi beta progress too_ill_to_mov lurgyaddi beta progress too_ill_to_mov r_progress lurgyaddr progressr_progress rang lurgyaddfri beta progressr_progress lurgyto_jsonlurgyjson indent auto_bzipfals rrstudio could type codeblock r librarymetaward lurgi metawardsdiseaselurgi lurgyadd beta progress lurgyaddi beta progress lurgyaddi beta progress too_ill_to_mov lurgyaddi beta progress too_ill_to_mov r_progress lurgyaddr progressr_progress fori stage sprintfrd lurgyaddstag beta progressr_progress lurgyto_jsonlurgyjson indent auto_bzipfals simpli copi lurgyjson name lurgi stage e r r r r r r r r r r r map e r r r r r r r r r r r beta progress too_ill_to_mov contrib_foi start_symptom is_infect true true true true fals fals fals fals fals fals fals fals fals fals fals creat postrecoveri stage progress paramet stage mean quickest individu would take day progress r r averag take much longer move one stage next day move r next need add move function move fraction individu r back repres fraction lose immun creat mover call move_immunitypi copi codeblock python metawardsmov import movegener go_ward moverecord metawardsutil import consol def move_immunitykwarg def go_immunitykwarg record moverecord gen movegeneratorfrom_stag to_stag fraction go_wardgeneratorgen recordrecord kwarg lenrecord nlost record consoleprintfnlost individu lost immun today return go_immun move r individu back day note use classmetawardsmoversmoverecord record move perform funcmetawardsmoversgo_ward keep complet record exactli mani individu move full detail move case singl move record number individu move last valu record record run model use codeblock bash metaward lurgyjson singl move move_immunitypi use singleward model seed initi infect see outbreak oscil individu lost immun reinfect exampl graph get metawardsplot shown imag imagestutorial___jpg alt outbreak trajectori individu lose immun note illustr exampl individu lose immun model far quickli would expect real diseas could modifi exampl use doccustom user variabl part_adjust scan differ valu progress postrecoveri stage better model realist diseas vaccin booster appli method model fade immun vaccin could use best plan often booster dose deploy modifi lurgi model includ vaccin postvaccin stage exampl python ipythonjupyt codeblock python metaward import diseas lurgi diseaselurgi lurgyadd beta progress lurgyaddi beta progress lurgyaddi beta progress too_ill_to_mov lurgyaddi beta progress too_ill_to_mov r_progress v_progress lurgyaddr progressr_progress rang lurgyaddfri beta progressr_progress lurgyaddr beta progress lurgyaddv progressv_progress is_infectedfals rang lurgyaddfvi beta progressv_progress is_infectedfals lurgyto_jsonlurgyjson auto_bzipfals codeblock r librarymetaward lurgi metawardsdiseaselurgi lurgyadd beta progress lurgyaddi beta progress lurgyaddi beta progress too_ill_to_mov lurgyaddi beta progress too_ill_to_mov r_progress v_progress lurgyaddr progressr_progress fori stage sprintfrd lurgyaddstag beta progressr_progress lurgyaddr beta progress lurgyaddv progressv_progress is_infectedfals fori stage sprintfvd lurgyaddstag beta progressv_progress lurgyto_jsonlurgyjson auto_bzipfals copi lurgyjson name lurgi stage e r r r r r r r r r r r v v v v v v v v v v v map e r r r r r r r r r r r v v v v v v v v v v v beta progress too_ill_to_mov contrib_foi start_symptom is_infect true true true true fals fals fals fals fals fals fals fals fals fals fals fals fals fals fals fals fals fals fals fals fals fals note note progress r stage set prevent r automat progress r v note note also manual set is_infect fals v stage set automat fals r stage next modifi move_immunitypi read codeblock python metawardsmov import movegener go_ward moverecord metawardsutil import consol def move_immunitykwarg def go_vaccinatepopul kwarg populationday gen movegeneratorfrom_stag to_stagev number go_wardgeneratorgen populationpopul kwarg def go_immunitykwarg record moverecord gen movegeneratorfrom_stag to_stag fraction go_wardgeneratorgen recordrecord kwarg lenrecord consoleprintfrecord individu lost immun today def go_boosterkwarg gen movegeneratorfrom_stagev to_stagev fraction go_wardgeneratorgen kwarg record moverecord gen movegeneratorfrom_stagev to_stag go_wardgeneratorgen recordrecord kwarg lenrecord consoleprintfrecord individu didnt get booster return go_vaccin go_boost go_immun weve ad go_vaccin function first day outbreak move individu per day v effect vaccin popul individu infect next weve ad go_boost function sampl v stage give booster vaccin return v remain individu v miss booster dose return run model use codeblock bash metaward lurgyjson singl move move_immunitypi see infect nearli die nearli everyon vaccin howev small number linger infect spark second outbreak amongst individu miss booster shot lead cycl infect lose immun eg day e v r iw popul number infect day e v r iw popul number infect day e v r iw popul number infect day individu didnt get booster e v r iw popul number infect day individu didnt get booster e v r iw popul number infect day individu didnt get booster individu lost immun today e v r iw popul number infect day individu didnt get booster e v r iw popul number infect day individu didnt get booster individu lost immun today e v r iw popul number infect day individu didnt get booster individu lost immun today e v r iw popul number infect day individu didnt get booster e v r iw popul number infect day individu didnt get booster e v r iw popul number infect day individu didnt get booster e v r iw popul number infect day individu lost immun today e v r iw popul number infect day individu lost immun today e v r iw popul number infect day individu didnt get booster individu lost immun today e v r iw popul number infect note illustr exampl immun vaccin would expect last much longer coupl week could use adjust variabl custom useradjust variabl scan progress along postvaccin stage number vaccin day differ percentag individu take booster better model real situat note use methdiseaseprogress metawardsdiseaseprogress slow movement along postrecoveri postvaccin stage altern method would write custom iter replac funcmetawardsiteratorsadvance_recoveri could slow movement programmat eg test advanc along r v stage everi day oppos everi day weve design metaward flexibl mani choic want model differ scenario holiday quarantin anoth use funcmetawardsmoversgo_ward provid good model impact individu take holiday infect destin background forc infect model make use background forc infect bg_foi paramet set perward basi via methwardbg_foi metawardswardbg_foi global network via methparametersbg_foi metawardsparametersbg_foi paramet background foi start valu foi calcul ward posit impli ward background outbreak drive infect addit impact foi infect individu neg impli ward background mitig reduc foi fix amount regardless number infect individu subject foi drop zero constant ad foi ward global methparametersbg_foi metawardsparametersbg_foi ad first ward perward methwardbg_foi metawardswardbg_foi ad ward holiday differ demograph model holiday destin differ demograph global background foi set high posit valu mean individu move demograph expos infect return holiday demograph back home demograph carri infect drive epidem back home start creat two demograph home holiday use python r copi file eg python codeblock python metaward import demograph variableset home demographichom homework_ratio homeplay_ratio holiday demographicholiday holidaywork_ratio holidayplay_ratio adjust variableset adjustmentscale_uv adjustmentdyn_dist_cutoff adjustmentbg_foi holidayadjust adjust demograph home holiday demographicsto_jsondemographicsjson indent auto_bzipfals r codeblock r librarymetaward home metawardsdemographichom homework_ratio homeplay_ratio holiday metawardsdemographicholiday holidaywork_ratio holidayplay_ratio adjust metawardsvariableset adjustmentset_valuescale_uv adjustmentset_valuedyn_dist_cutoff adjustmentset_valuebg_foi holidayadjust adjust demograph metawardsdemograph demographicsaddhom demographicsaddholiday demographicsto_jsondemographicsjson indent auto_bzipfals copi text file demographicsjson demograph home holiday work_ratio play_ratio adjust null variabl scale_uv dyn_dist_cutoff bg_foi creat home start popul network holiday creat empti network holiday paramet adjust accord methparametersscale_uv metawardsparametersscale_uv set zero stop member holiday demograph infect experinc forc infect set background foi realist holidaymak unlik travel togeth larg group unlik infect one anoth cours could chang set scale_uv valu zero methparametersdyn_dist_cutoff metawardsparametersdyn_dist_cutoff also set zero stop holidaymak travel outsid ward realli home ward use marker rememb ward came return end holiday methparametersbg_foi metawardsparametersbg_foi set reason start valu foi drive small outbreak infect suscept per day go_holiday go_hom next creat move_holiday open file call move_holidaypi copi codeblock python metawardsmov import movegener go_ward def move_holidaypopul kwarg def go_holidaykwarg gen movegeneratorfrom_demographichom to_demographicholiday fraction go_wardgeneratorgen kwarg def go_homekwarg gen movegeneratorfrom_demographicholiday to_demographichom go_wardgeneratorgen kwarg populationday return go_holiday elif populationday return go_hom els return defin move_holiday move function return go_holiday day model send individu holiday return go_hom day outbreak bring holidaymak back home go_holiday go_hom simpl go function move individu home holiday demograph go_holiday move popul holiday go_hom bring back home run model use codeblock bash metaward lurgyjson demographicsjson data mover move_holidaypi nstep note still use lurgyjson last chapter england wale model set nstep interest epidem spread first two week holidaymak return note note also havent seed infect holidaymak pick infect base bg_foi holiday demograph see k individu went holiday per day becom infect day e v r iw popul e v r iw popul home holiday total day e v r iw popul e v r iw popul home holiday total number infect day e v r iw popul e v r iw popul home holiday total number infect time return infect holidaymak spread viru throughout countri rapid increas number infect ward infect holidaymak make random player fix worker movement ward day e v r iw popul e v r iw popul home holiday total number infect day e v r iw popul e v r iw popul home holiday total number infect day e v r iw popul e v r iw popul home holiday total number infect outbreak grow rapidli day k infect day e v r iw popul e v r iw popul home holiday total number infect model quarantin one method prevent holidaymak spread infect return home requir enter quarantin model creat third quarantin demograph python type codeblock python metaward import demograph variableset home demographichom homework_ratio homeplay_ratio holiday demographicholiday holidaywork_ratio holidayplay_ratio adjust variableset adjustmentscale_uv adjustmentdyn_dist_cutoff adjustmentbg_foi holidayadjust adjust quarantin demographicquarantin quarantinework_ratio quarantineplay_ratio adjust variableset adjustmentscale_uv adjustmentdyn_dist_cutoff quarantineadjust adjust demograph home holiday quarantin demographicsto_jsondemographicsjson indent auto_bzipfals r codeblock r librarymetaward home metawardsdemographichom homework_ratio homeplay_ratio holiday metawardsdemographicholiday holidaywork_ratio holidayplay_ratio adjust metawardsvariableset adjustmentset_valuescale_uv adjustmentset_valuedyn_dist_cutoff adjustmentset_valuebg_foi holidayadjust adjust quarantin metawardsdemographicquarantin quarantinework_ratio quarantineplay_ratio adjust metawardsvariableset adjustmentset_valuescale_uv adjustmentset_valuedyn_dist_cutoff quarantineadjust adjust demograph metawardsdemograph demographicsaddhom demographicsaddholiday demographicsaddquarantin demographicsto_jsondemographicsjson indent auto_bzipfals copi text file demographicsjson demograph home holiday quarantin work_ratio play_ratio adjust null variabl scale_uv dyn_dist_cutoff bg_foi variabl scale_uv dyn_dist_cutoff qurantin demograph methparametersscale_uv metawardsparametersscale_uv methparametersdyn_dist_cutoff metawardsparametersdyn_dist_cutoff zero like holiday demograph holidaymak selfisol thu infect one anoth methparametersbg_foi metawardsparametersbg_foi paramet set mean keep default valu zero mean background driver infect go_quarantin need write go_quarantin function add move_holiday edit move_holidaypi copi codeblock python metawardsmov import movegener go_ward def move_holidaypopul kwarg def go_holidaykwarg gen movegeneratorfrom_demographichom to_demographicholiday fraction go_wardgeneratorgen kwarg def go_quarantinekwarg gen movegeneratorfrom_demographicholiday to_demographicquarantin go_wardgeneratorgen kwarg def go_homekwarg gen movegeneratorfrom_demographicquarantin to_demographichom go_wardgeneratorgen kwarg holiday_length quarantine_length populationday return go_holiday elif populationday holiday_length return go_quarantin elif populationday holiday_lengthquarantine_length return go_hom els return chang go_holiday individu go quarantin instead home ad go_quarantin move individu quarantin home weve set move_holiday return go_quarantin end day holiday return go_hom end day quarantin run use codeblock bash metaward lurgyjson demographicsjson data mover move_holidaypi nstep plot use codeblock bash metawardsplot outputresultscsvbz see day quarantin quit long enough lurgi still infect drive infect holidaymak leav quarantin see infect graph eg imag imagestutorial__jpg alt outbreak amongst holidaymak spread quarantin next could extend model mani way could model differ length quarantin set quarantine_length via custom user paramet scan see impact outbreak could model differ holiday destin differ background foi see could classifi destin accord risk pose home could model differ level complianc quarantin fraction holidaymak go straight home set fraction valu less one go_quarantin remaind go_hom could model quarantin fatigu similarli model selfisol fatigu docpart part_compli could model impact holidaymak differ stage outbreak home seed outbreak home holiday start later year could model impact differ lockdown measur home see disrupt holidaymak return holiday note congratul reach end tutori hope given good insight could metaward question pleas post issu github repositori httpsgithubcommetawardsmetawardsissues_ pleas feel free post issu request tutori ask document note move develop metaward write complex code top metaward read develop document modmetaward modul docfound apiindex model popul movement use funcmetawardsmoversgo_ward model popul movement mani mass popul movement occur year eg peopl travel holiday destin summer peopl travel home famili christma student go univers autumn potenti spread local diseas outbreak seed mani new locat ward null ward perform move first need gather togeth student singl scratch null ward dispers variou univers ward want much effici tri sampl doubl loop ward univers ward help metaward provid singl null scratch ward use calcul ward index intern array use metaward use ward temporari space hold individu day howev must ensur individu left ward end day funcmetawardsextractorsoutput_cor call move univers model first day univers ideal model student travel home ward live univers ward student model worker univers ward commut univers ward day creat mover call move_universitypi copi codeblock python metaward import wardid metawardsmov import movegener moverecord go_ward metawardsutil import consol ran_int def move_universitypopul kwarg def go_nullnetwork kwarg record moverecord gen movegeneratorto_wardwardid fraction consoleprintmov student null ward go_wardgeneratorgen networknetwork recordrecord kwarg nstudent r record nstudent r consoleprintfnumb student nstudent ninfect networklinksweight networklinkssuscept consoleprintfnumb infect student intninfect def go_universitynetwork rng kwarg get first random number gener list threadloc gener rng rng mani ward nward networknnod gener list random ward repres univers town uni_ward ran_intrng nward _ rang uni_ward uni_ward nstudent record moverecord gen movegeneratorfrom_wardwardid to_wardwardiduni_ward uni_ward fraction go_wardgeneratorgen networknetwork rngsrng recordrecord kwarg r record nstudent r consoleprintfnstud went univers ward uni_ward move remaind student last univers record moverecord gen movegeneratorfrom_wardwardid to_wardwardiduni_ward uni_ward go_wardgeneratorgen networknetwork rngsrng recordrecord kwarg nstudent r record nstudent r consoleprintfnstud went univers ward uni_ward populationday return go_nul go_univers els return lot discuss code explor bit separ code defin mover move_univers th day outbreak return two go function go_nul go_univers control code end function codeblock python populationday return go_nul go_univers els return go_nul go_nul function codeblock python def go_nullnetwork kwarg record moverecord gen movegeneratorto_wardwardid fraction consoleprintmov student null ward go_wardgeneratorgen networknetwork recordrecord kwarg nstudent r record nstudent r consoleprintfnumb student nstudent ninfect networklinksweight networklinkssuscept consoleprintfnumb infect student intninfect creat classmetawardsmoversmovegener move individu everi ward diseas stage becom worker null ward note worker null ward classmetawardswardid wardid player wardid simpli use classmetawardsmoversmoverecord record move count total number individu move total number student total number worker ward held methnetworklinksweight metawardslinksweight current number suscept worker ward held methnetworklinkssuscept metawardslinkssuscept null ward index codeblock python ninfect networklinksweight networklinkssuscept give number infect worker null ward note similarli methnetworknodessave_play_suscept metawardsnodessave_play_suscept number player ward methnetworknodesplay_suscept metawardsnodesplay_suscept number suscept player ward differ number infect individu ward go_univers go_univers function codeblock python def go_universitynetwork rng kwarg get first random number gener list threadloc gener rng rng mani ward nward networknnod gener list random ward repres univers town uni_ward ran_intrng nward _ rang uni_ward uni_ward nstudent record moverecord gen movegeneratorfrom_wardwardid to_warduni_ward fraction go_wardgeneratorgen networknetwork rngsrng recordrecord kwarg r record nstudent r consoleprintfnstud went univers ward uni_ward move remaind student last univers record moverecord gen movegeneratorfrom_wardwardid to_warduni_ward go_wardgeneratorgen networknetwork rngsrng recordrecord kwarg nstudent r record nstudent r consoleprintfnstud went univers ward uni_ward illustr model use real world data first need randomli gener id ward design locat univers model use rng list random number gener one run thread metaward singlethread function take first random number gener assign variabl rng via codeblock python rng rng random ward id integ randomli pick number ward network use funcmetawardsutilsran_int function codeblock python mani ward nward networknnod gener list random ward repres univers town uni_ward ran_intrng nward _ rang note note havent check duplic random ward id meant simpl illustr model next loop first random ward creat classmetawardsmoversmovegener move student averag worker null ward wardid worker univers ward wardiduni_ward uni_ward codeblock python uni_ward uni_ward nstudent record moverecord gen movegeneratorfrom_wardwardid to_wardwardiduni_ward uni_ward fraction go_wardgeneratorgen networknetwork rngsrng recordrecord kwarg r record nstudent r consoleprintfnstud went univers ward uni_ward final move remain student null ward th univers codeblock python move remaind student last univers record moverecord gen movegeneratorfrom_wardwardid to_warduni_ward go_wardgeneratorgen networknetwork rngsrng recordrecord kwarg nstudent r record nstudent r consoleprintfnstud went univers ward uni_ward univers student use reason fraction use random binomi distribut sampl random number individu fraction underestim number draw student thu number student sampl reduc loop univers point far mani remain go th univers trial error found gave reason number remain th univers perform run run model use lurgyjson develop last chapter run mover use codeblock bash metaward lurgyjson data mover move_universitypi extraseedslondondat nstep use data england wale model seed five infect london weve limit run step interest chang outbreak caus movement student univers model occur day plot result use codeblock bash metawardsplot outputresultscsvbz result graph show movement univers percept impact outbreak eg imag imagestutorial__jpg alt outbreak student went univers unsurpris look number student go univers print output exampl got move student null ward number student number infect student went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward went univers ward student move infect dispers ward littl impact outbreak alreadi spread rapidli due normal movement creat intric move use toplevel go function eg funcmetawardsmoversgo_isol funcmetawardsmoversgo_stag funcmetawardsmoversgo_to perform complex move individu demograph andor diseas stage go function built top lowerlevel function funcmetawardsmoversgo_ward gener go function move individu combin demograph diseas stage ward player worker classmetawardspersontyp worker player use classmetawardsmoversmovegener defin move gener gener move perform base argument constructor use movegener construct classmetawardsmoversmovegener object specifi state individu move gener specifi one from_demograph to_demograph move individu differ demograph thu differ network from_stag to_stag move individu differ diseas stage from_ward to_ward move individu differ ward use index name demograph stage ward specifi move exampl codeblock python metawardsmov import movegener move diseas stage e gen movegeneratorfrom_stage to_stagei move diseas stage gen movegeneratorfrom_stag to_stag move demograph red blue gen movegeneratorfrom_stag to_stageblu move ward bristol london gen movegeneratorfrom_wardbristol to_wardlondon move ward id id gen movegeneratorfrom_ward to_ward also specifi multipl stage eg codeblock python metawardsmov import movegener move e r gen movegeneratorfrom_stage to_stag move e also move r gen movegeneratorfrom_stag to_stage r move red blue green gen movegeneratorfrom_demographicr blue to_demographicgreen move bristol oxford london gen movegeneratorfrom_wardbristol oxford to_wardlondon state isnt specifi match individu move keep state much possibl move diseas stage e specifi move demograph ward would move individu everi demograph everi ward e limit specifi multipl state per move eg codeblock python metawardsmov import movegener move everyon blue demograph e gen movegeneratorfrom_demographicblu from_stage to_stagei move everyon stage bristol oxford gen movegeneratorfrom_stagei from_wardbristol to_wardoxford move everyon red demograph e stage blue demograph stage gen movegeneratorfrom_demographicr from_stage to_demographicblu to_stagei move everyon bristol red demograph e stage blue demograph stage gen movegeneratorfrom_wardbristol from_demographicr from_stage to_demographicblu to_stagei move everyon bristol red demograph e stage oxford blue demograph stage gen movegeneratorfrom_wardbristol to_wardoxford from_demographicr from_stage to_demographicblu to_stagei move everyon red demograph oxford wherev oxford gen movegeneratorfrom_demographicr to_wardoxford note note specifi without would mean move everyon match note also specifi without case move everyon wardid commut from_ward to_ward littl complex individu either worker player player model singl ward identifi ward id name thu from_wardbristol mean player resid bristol worker model wardlink wardconnect link home ward worker commut ward work day need specifi home commut ward identifi worker classmetawardswardid class use eg codeblock python metaward import wardid metawardsmov import movegener move worker live bristol commut oxford becom player live london gen movegeneratorfrom_wardwardidbristol oxford to_wardlondon often want identifi worker resid ward commut two ward need set all_commut true eg codeblock python metaward import wardid metawardsmov import movegener move worker live bristol becom player live london gen movegeneratorfrom_wardwardidbristol all_commutetru to_wardlondon enabl specifi move lot detail eg codeblock python metaward import network ward network metawardsmov import movegener creat bristol oxford london ward bristol wardbristol london wardlondon oxford wardoxford add connect commut bristoladd_work destinationlondon bristoladd_work destinationoxford londonadd_work destinationbristol londonadd_work destinationoxford build network ward network networkfrom_wardsbristollondonoxford move everyon live bristol red blue demograph gen movegeneratorfrom_wardsbristol wardidbristol all_commutetru from_demographicr to_demographicblu move worker live bristol red blue demograph gen movegeneratorfrom_wardswardidbristol all_commutetru from_demographicr to_demographicblu move worker live bristol commut london red blue demograph gen movegeneratorfrom_wardswardidbristol london from_demographicr to_demographicblu move worker commut london red blue gen movegeneratorfrom_wardswardidbristol london wardidoxford london from_demographicr to_demographicblu move worker commut oxford becom player oxford gen movegeneratorfrom_wardswardidbristol oxford wardidlondon oxford to_wardsoxford move player bristol becom worker commut london gen movegeneratorfrom_wardsbristol to_wardswardidbristol london move number fraction also control mani individu move use either number fraction argument number specifi maximum number individu individu ward wardlink move fraction specifi fraction percentag individu individu ward wardlink move fraction fraction individu sampl accord random binomi distribut exampl codeblock python metawardsmov import movegener move individu red blue demograph gen movegeneratorfrom_demographicr to_demographicblu fraction move individu ward wardlink stage e stage equal match individu move els number match move gen movegeneratorfrom_stag to_stage number move maximum number player bristol play oxford case upto individu bristol sampl use binomi distribut gen movegeneratorfrom_wardbristol to_wardoxford number fraction use go_ward classmetawardsmoversmovegener use gener move made funcmetawardsmoversgo_ward go_funct use move function exampl let creat custom go_funct use classmetawardsmoversmovegener funcmetawardsmoversgo_ward move individu r stage back would impli soon recov immun infect creat move function file call move_cyclepi copi codeblock python metawardsmov import movegener go_ward def move_cyclekwarg creat gofunct def go_cyclekwarg gen movegeneratorfrom_stag to_stag go_wardgeneratorgen kwarg return function call return go_cycl note weve put go_cycl insid move_cycl cleaner function defin global scope style also use later page tutori enabl inform pass multipl go function run model use codeblock bash metaward mover move_cycl singl lurgi note use origin lurgi diseas model singl ward network speed seed outbreak infect see outbreak cycl forev cut automat year day mark plot resultscsvbz eg produc use metawardsplot show outbreak becom random nois r individu move back eg imag imagestutorial__jpg alt demograph trajectori cyclic model model vaccin let use classmetawardsmoversmovegener funcmetawardsmoversgo_ward model vaccin first creat new version lurgi includ vaccin stage python open ipython jupyt type codeblock python metaward import diseas lurgi diseaselurgi lurgyadd beta progress lurgyaddi beta progress lurgyaddi beta progress too_ill_to_mov lurgyaddi beta progress too_ill_to_mov lurgyaddr lurgyaddv beta progress is_infectedfals lurgyto_jsonlurgyjson indent auto_bzipfals rrstudio type codeblock r librarymetaward lurgi metawardsdiseaselurgi lurgyadd beta progress lurgyaddi beta progress lurgyaddi beta progress too_ill_to_mov lurgyaddi beta progress too_ill_to_mov lurgyaddr lurgyaddv beta progress is_infectedfals lurgyto_jsonlurgyjson indent auto_bzipfals simpli copi file lurgyjson name lurgi stage e r v map e r v beta progress too_ill_to_mov contrib_foi is_infect true true true true fals fals start_symptom ad extra stage call v use hold vaccin individu vaccin individu infect set is_infect fals stage note set automat r stage also vaccin individu remain v stage thu progress stage set like automat set r stage run quick test model use codeblock metaward lurgyjson singl use singleward model infect individu day diseas describ lurgyjson see outbreak progress mani strong popul ward infect current noon vaccin vaccin use go_ward model vaccin write mover use classmetawardsmoversgo_ward move individu per day v eg repres vaccin capac vaccin per day creat file call move_vaccinatepi copi codeblock python metawardsmov import movegener go_ward def move_vaccinatekwarg capac number vaccin per day def go_vaccinatekwarg gen movegeneratorfrom_stag to_stagev numbercapac go_wardgeneratorgen kwarg return go_vaccin run model use codeblock bash metaward lurgyjson singl mover move_vaccinatepi see number vaccin individu climb day reduc number suscept mean infect dampen get go demanddriven vaccin model start vaccin first day outbreak instead trigger vaccin base threshold infect eg mayb vaccin limit suppli edit move_vaccinatepi add trigger vaccin start number infect grow eg codeblock python metawardsmov import movegener go_ward metawardsutil import consol def move_vaccinatekwarg capac number vaccin per day trigger number infect trigger vaccin def go_vaccinatenetwork popul kwarg param networkparam vaccin set is_vaccin paramsuser_paramsgetis_vaccin fals is_vaccin populationtot trigger trigger vaccin paramsuser_paramsis_vaccin true is_vaccin true consoleinfostart vaccin is_vaccin gen movegeneratorfrom_stag to_stagev numbercapac go_wardgeneratorgen networknetwork populationpopul kwarg return go_vaccin run model use codeblock bash metaward lurgyjson singl mover move_vaccinatepi see output vaccin start number infect rise happen day vaccin remain suscept complet day outbreak end vaccin individu contract lurgi recov nation vaccin extend model vaccin perward basi number infect climb threshold individu ward modifi move_vaccinatepi read codeblock python metaward import wardid metawardsmov import movegener go_ward metawardsutil import consol def move_vaccinatekwarg capac number vaccin per day trigger number infect trigger vaccin stop_trigg number infect stop vaccin def go_vaccinatenetwork workspac kwarg creat wardloc is_vaccin paramet default is_vaccin networknodesget_customis_vaccin vaccin i_in_ward workspacei_in_ward rang networknnod is_vaccinatingi i_in_wardsi trigger is_vaccinatingi is_vaccinatingi i_in_wardsi stop_trigg is_vaccinatingi els vaccinateappendwardidi all_commutetru vaccinateappendwardidi nv intsumis_vaccin nv printfvaccin ward number nv gen movegeneratorfrom_wardvaccin from_stag to_stagev numbercapac go_wardgeneratorgen networknetwork workspaceworkspac kwarg return go_vaccin run model use codeblock bash metaward lurgyjson data mover move_vaccinatepi extraseedslondondat case vaccin start ward number infect grow capac vaccin per day per ward per wardlink number infect ward drop vaccin stop run see ward enter vaccin program eventu vaccin infect progress plot produc via metawardsplot shown imag imagestutorial__jpg alt demograph trajectori wardloc vaccin model icu model hospit singl patient popul howev small proport case need model extra stage hospit patient need go intens care unit icu use h state model model patient h state go h state icu demograph remaind immedi move back home r state recov diseas modifi demographicsjson file read demograph home staff patient icu work_ratio play_ratio diseas null null lurgy_hospit lurgy_hospit note see reason h state use model icu use two state like enabl us use lurgy_hospit diseas file model hospit next need modifi mix_hospitalpi read codeblock python metawardsmix import merge_using_matrix def mix_shieldnetwork kwarg matrix networkdemographicsinteraction_matrix matrix return merge_using_matrix note chang ad fourth row column icu popul dont contribut foi patient home infect infect hospit staff note note use funcmetawardsmixersmerge_using_matrix may right choic depend want popul dynam mix eg funcmetawardsmixersmerge_matrix_single_popul funcmetawardsmixersmerge_matrix_multi_popul may better choic docse inform part_contact next need modifi extract_hospitalpi obtain icu statist edit file copi codeblock python metawardsextractor import extract_default def output_patientsnetwork popul workspac output_dir kwarg open file patientscsv output directori use suppli header column file output_diropenpatientscsv headersday h h icu sep get workspac patient demograph index networkdemographicsget_indexpati subspac workspacesubspacesindex total popul infect stage sum work play infect inf_tot inf pinf inf pinf zipsubspaceinf_tot subspacepinf_tot h inf_tot h inf_tot get icu demograph index networkdemographicsget_indexicu subspac workspacesubspacesindex inf_tot inf pinf inf pinf zipsubspaceinf_tot subspacepinf_tot icu inf_tot filewritestrpopulationday filewritejoinstrx x h h icu n def extract_patientskwarg return function extract_default plu new output_i func extract_defaultkwarg funcsappendoutput_pati return func note chang extract h h patient demograph get call icu icu demograph multipl go function go home final updat move_hospitalpi file four go function first start function move home staff popul h patient next move h patient stage icu demograph refer icu next move remaind h patient r home patient fulli recov go home final move r patient icu member r home fulli recov go home implement edit move_hospitalpi file copi codeblock python metawardsmov import go_stag def move_hospitalkwarg move homestaff popul h patient func lambda kwarg go_stagego_fromhom staff go_topati from_stag to_stag fraction kwarg move h patient h icu func lambda kwarg go_stagego_frompati go_toicu from_stag to_stag fraction kwarg move remaind h patient home r func lambda kwarg go_stagego_frompati go_tohom from_stag to_stag fraction kwarg move r icu patient home r func lambda kwarg go_stagego_frompati icu go_tohom from_stag to_stag fraction kwarg return func func func func run metaward use command codeblock bash metaward demographicsjson lurgi mixer mix_hospit mover move_hospit extract extract_hospit extraseedslondondat see patient arriv hospit move icu end outbreak everyon recov return home plot demograph trajectori use codeblock bash metawardsplot outputtrajectorycsvbz see plot similar imag imagestutorial___jpg alt demograph trajectori simpl hospit plu icu model icu popul visibl plot seen lag behind patient popul see clearli plot data output outputpatientscsvbz file eg use panda codeblock python import panda pd df pdread_csvoutputpatientscsvbz dfplotxday import matplotlibpyplot plt pltsavefighospitaljpg see output someth similar imag imagestutorial___jpg alt popul h h icu state similarli extract peak patient icu popul via codeblock python import panda pd df pdread_csvoutputpatientscsvbz df dfh dfhmax day h h icu df dficu dficumax day h h icu show time around day sinc start outbreak would challeng peak nearli million normal patient thousand icu patient note simplifi model data fit would need optimis variou paramet eg interact matrix percentag popul move eg h icu also miss lot movement howev hope give good idea use demograph mix function interact matric plu move function condit move differ diseas stage differ demograph model wide rang differ scenario name diseas stage last section learn use demograph differ diseas stage model hospit icu admiss work calcul statist simul slightli hacki diseas stage still label e r realli want refer h h etc fortun metaward support custom name diseas stage ad stage field diseas file simpl exampl exampl simpl diseas file use stage b c pleas creat file namedjson copi stage b c beta progress too_ill_to_mov contrib_foi start_symptom note note weve includ name author metadata field need simpl exampl option field recommend includ want publish diseas file file defin three diseas stage call b c first stage infecti betaa infecti stage b betab final stage c infecti diseas end progressc run metaward use diseas file via codeblock bash metaward extraseedslondondat namedjson nstep see output similar day load addit seed userschrisgithubmetawardsdataextra_seedsextraseedslondondat none b c iw popul day seed play_infect b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect note note simul get stuck c state individu r count infect individu c count infect prevent model run forev set maximum number day via nstep see output record movement b c data also record output file eg codeblock python import panda pd df pdread_csvoutputresultscsvbz dfhead fingerprint repeat day date e b c r iw uv repeat repeat repeat repeat repeat df pdread_csvoutputtrajectorycsvbz dfhead day date demograph e b c r iw overal overal overal overal overal addit column ad tabl file b c state substag exampl multipl name substag stage eg instead singl infecti b stage b b b total report b stage sum number individu substag exampl edit namedjson read stage b b b c beta progress too_ill_to_mov contrib_foi start_symptom weve expand b stage three infecti substag b b b similar three stage lurgi run metaward use diseas file via codeblock bash metaward extraseedslondondat namedjson nstep see output popul b c summaris eg day load addit seed userschrisgithubmetawardsdataextra_seedsextraseedslondondat none b c iw popul day seed play_infect b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect day b c iw popul number infect also summaris outputresultscsvbz outputtrajectorycsvbz file howev actual popul individu stage given play_infectionscsvbz play infect work_infectionscsvbz work infect number_infected_wardscsvbz number infect ward file eg codeblock python import panda pd df pdread_csvoutputtotal_infectionscsvbz dfhead day b b b c df pdread_csvoutputnumber_infected_wardscsvbz dfhead day b b b c file use want see eg mani worker infect differ stage day mani ward popul infect b state day scan name stage paramet also use name stage scan diseas paramet exampl creat file call scandat copi betab betab hope see adjust beta paramet b b stage run file use codeblock bash metaward extraseedslondondat namedjson nstep scandat see specifi variabl inde scan eg adjust paramet scan betab betabrepeat betab betabrepeat multiprocess comput model run complet job betab betabrepeat day b c iw uv total popul comput model run complet job betab betabrepeat day b c iw uv total popul map stage summari default popul diseas substag sum summari valu name miss substag number b b b substag accumul b stage control map via map valu diseas file set diseas stage map individu stage eg could map b b group stage eg could map c map group b stage standard map stage e r exampl could output everi stage summari via stage b b b c map b b b c beta progress too_ill_to_mov contrib_foi start_symptom run metaward use file tell output everi stage eg day load addit seed userschrisgithubmetawardsdataextra_seedsextraseedslondondat none b b b c iw popul day seed play_infect b b b c iw popul number infect day b b b c iw popul number infect day b b b c iw popul number infect day b b b c iw popul number infect day b b b c iw popul number infect day b b b c iw popul number infect day b b b c iw popul number infect day b b b c iw popul number infect day b b b c iw popul number infect day b b b c iw popul number infect altern map name stage standard name accumul eg stage b b b c map e r beta progress too_ill_to_mov contrib_foi start_symptom would count latent e stage b b would infect stage c would accumul r stage run file would give day load addit seed userschrisgithubmetawardsdataextra_seedsextraseedslondondat none e r iw popul day seed play_infect e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect origin stage name still access outputtotal_infectionscsvbz outputnumber_wards_infectedcsvbz file etc one advantag c correctli interpret r state metaward exit correctli outbreak die individu left c model hospit youv seen use name differ diseas stage put togeth fulli model hospit diseas file first creat set diseas file differ demograph first lurgy_homejson stage e e r beta progress too_ill_to_mov contrib_foi start_symptom lurgyjson except name individu diseas stage use model diseas gener popul hospit staff next lurgy_hospitaljson use model hospit patient stage h h beta progress too_ill_to_mov contrib_foi start_symptom next lurgy_icujson use model intens care patient stage icu r beta progress too_ill_to_mov contrib_foi start_symptom final need overal diseas file defin stage want use map name map stage order want see report lurgy_overalljson stage e h icu r note dont need set diseas paramet set diseas file use differ demograph demograph next need updat demographicsjson file read demograph home staff patient icu work_ratio play_ratio diseas lurgy_hom lurgy_hom lurgy_hospit lurgy_icu weve set home staff demograph use lurgy_hom patient use lurgy_hospit icu use lurgy_icu mixer mover extractor use mixer eg mix_hospitalpi codeblock python metawardsmix import merge_using_matrix def mix_shieldnetwork kwarg matrix networkdemographicsinteraction_matrix matrix return merge_using_matrix use mover except take advantag name diseas stage specifi move use demograph diseas name significantli less errorpron use index eg updat move_hospitalpi read codeblock python metawardsmov import go_stag def move_hospitalkwarg move homestaff popul h patient func lambda kwarg go_stagego_fromhom staff go_topati from_stagei to_stageh fraction kwarg move h patient icu icu func lambda kwarg go_stagego_frompati go_toicu from_stageh to_stageicu fraction kwarg move remaind h patient home r func lambda kwarg go_stagego_frompati go_tohom from_stageh to_stag fraction kwarg move r icu h patient home r func lambda kwarg go_stagego_frompati icu go_tohom from_stageh r to_stag fraction kwarg return func func func func extractor well dont realli need use data stage written alreadi summari individu output file run job run metaward use codeblock bash metaward demographicsjson lurgy_overal mixer mix_hospit mover move_hospit extraseedslondondat nstep note weve limit run step enabl quick demonstr feel free run full model time see statist map diseas stage demograph written nice screen eg day e h icu r iw popul e h icu r iw popul home staff patient icu total number infect day e h icu r iw popul e h icu r iw popul home staff patient icu total number infect day e h icu r iw popul e h icu r iw popul home staff patient icu total number infect day e h icu r iw popul e h icu r iw popul home staff patient icu total number infect day e h icu r iw popul e h icu r iw popul home staff patient icu total number infect equal find individu icu r popul icu demograph outputtotal_infections_icucsvbz individu popul h h patient demograph outputtotal_infections_patientscsvbz addit outputresultscsvbz outputtrajectorycsvbz file record total h icu stage well tradit e r eg codeblock python import panda pd df pdread_csvoutputresultscsvbz dfhead fingerprint repeat day date e h icu r iw uv repeat repeat repeat repeat repeat diseas pathway stage point everi individu model metaward progress stage diseas pathway pathway defin diseas file eg lurgyjson progress individu suscept infect final stage diseas normal call r repres individu remov outbreak stage lurgi lurgi diseas stage start point individu stage hold state individu move state soon infect use record intern metaward record new infect day progress valu state progress show individu immedi progress stage latent e state next day equal beta valu state beta individu state contribut forc infect stage latent e state individu held state durat defin progress beta valu latent individu infecti thu contribut forc infect stage infect state lurgi three state stage repres asymptomat infecti state low beta zero too_ill_to_mov stage repres initi symptomat state medium beta medium too_ill_to_mov stage repres highli symptomat state medium beta high too_ill_to_mov stage remov r state individu state infect other beta too_ill_to_mov need model movement noninfecti infect individu progress valu remov individu remain stage remaind model run model fraction asymptomat superspread realli use abil model differ demograph follow differ diseas pathway exampl model lurgi asymptomat infecti phase everyon move howev realiti small proport infect lurgi becom asymptomat superspread would like investig percentag superspread mobil infect affect progress outbreak creat two demograph home contain popul progress asymptomat infecti stage super contain popul superspread move asymptomat infecti phase start need creat diseas file home super demograph creat two file first lurgy_homejson contain name lurgi version june nd author christoph wood contact christopherwoodsbristolacuk refer complet fictici diseas refer beta progress too_ill_to_mov contrib_foi lurgy_superjson contain name lurgi version june nd author christoph wood contact christopherwoodsbristolacuk refer complet fictici diseas refer beta progress too_ill_to_mov contrib_foi file remov asymptomat infecti phase home demograph chang super demograph experi highli infecti asymptomat stage follow mild diseas decreas infecti next need creat demographicsjson file contain demograph home super work_ratio play_ratio diseas null lurgy_sup describ two demograph individu home demograph super demograph new line disease_stag specifi file diseas stage demograph eg home follow default diseas super follow lurgy_sup note null json file mean noth case noth mean home demograph use diseas paramet global diseas file set user run metaward use command codeblock bash metaward lurgy_hom demographicsjson mixer mix_evenli extraseedslondondat note set global diseas file via lurgy_hom lurgy_hom use home demograph theori could specifi lurgy_hom directli demographicsjson file would mean would specifi twice global better defin thing lead fewer bug note note use funcmetawardsmixersmix_evenli may right choic depend want popul dynam mix eg funcmetawardsmixersmix_evenly_single_popul funcmetawardsmixersmix_evenly_multi_popul may better choic docse inform part_contact see diseas spread quickli via superspread almost becom infect see demograph plot produc via codeblock bash metawardsplot outputtrajectorycsvbz see someth similar show infect burn quickli superspread demograph move entir demograph coupl month imag imagestutorial__jpg alt demograph trajectori includ superspread note counterintuit superspread infect quickli complet outbreak long gener popul due model setup superspread interact within demograph beta valu high high probabl infect quickli limit popul natur mean take less time member popul infect wholli realist make practic sens real superspread go normal day outbreak notic becom ill continu normal could make sens outbreak could burn popul quickli point remain meanwhil larger gener popul experi slower outbreak one way counter effect would use interact matrix slow rate infect superspread demograph would reflect realiti superspread dispers less like interact one anoth member gener popul interact matrix eg may thu appropri although data fit would need find exact valu scan demograph model superspread import abl scan paramet investig impact three paramet want scan beta lurgy_sup control infecti superspread asymptomat presymptomat phase progress lurgy_sup control long superspread remain phase percentag superspread normal popul scan diseas paramet scan lurgy_sup paramet use scan file also call design file done docprevi part_adjust differ instead chang diseas paramet demograph want chang super demograph creat design file call scandat copi superbeta superprogress scan beta scan progress also specifi chang paramet super demograph prefix beta super super note ad demographic_nam paramet mean chang paramet demograph call demographic_nam note name overal reserv refer overal set network set paramet use overal chang paramet overal classmetawardsnetwork object demograph subnetwork chang network specifi demograph name scan demograph percentag current version metaward possibl use scandesign file chang percentag individu differ demograph instead need creat sever demographicsjson file run metaward independ file creat follow four demograph file use scan superspread percentag demographics_json demograph home super work_ratio play_ratio diseas null lurgy_sup demographics_json demograph home super work_ratio play_ratio diseas null lurgy_sup demographics_json demograph home super work_ratio play_ratio diseas null lurgy_sup demographics_json demograph home super work_ratio play_ratio diseas null lurgy_sup run model four demograph file run paramet combin scan would like repeat time individu model run need use cluster exampl slurm pb job submiss script run binbash pb l walltim pb l selectncpusmemgb set node core sourc homeenvsmetawardsbinactiv chang directori job submit cd pbs_o_workdir metaward lurgy_hom demographics_json extraseedslondondat extractor extract_non scandat repeat nthread forceoverwriteoutput mixer mix_evenli nospinn theme simpl output output_ metaward lurgy_hom demographics_json extraseedslondondat extractor extract_non scandat repeat nthread forceoverwriteoutput mixer mix_evenli nospinn theme simpl output output_ metaward lurgy_hom demographics_json extraseedslondondat extractor extract_non scandat repeat nthread forceoverwriteoutput mixer mix_evenli nospinn theme simpl output output_ metaward lurgy_hom demographics_json extraseedslondondat extractor extract_non scandat repeat nthread forceoverwriteoutput mixer mix_evenli nospinn theme simpl output output_ binbash sbatch time sbatch ntask sbatch cpuspertask set node core sourc homeenvsmetawardsbinactiv metaward lurgy_hom demographics_json extraseedslondondat extractor extract_non scandat repeat nthread forceoverwriteoutput mixer mix_evenli nospinn theme simpl output output_ metaward lurgy_hom demographics_json extraseedslondondat extractor extract_non scandat repeat nthread forceoverwriteoutput mixer mix_evenli nospinn theme simpl output output_ metaward lurgy_hom demographics_json extraseedslondondat extractor extract_non scandat repeat nthread forceoverwriteoutput mixer mix_evenli nospinn theme simpl output output_ metaward lurgy_hom demographics_json extraseedslondondat extractor extract_non scandat repeat nthread forceoverwriteoutput mixer mix_evenli nospinn theme simpl output output_ note notic output command line option use direct output differ demograph file differ output directori also notic run four metaward calcul one anoth littl need run parallel calcul alreadi parallelis x model run run core mean would need run core worth parallelis four individu metaward calcul job script weve ask core adjust request depend mani core avail cluster job take run eg case took minut use core individu model run take minut analys result first stage analysi look four overview plot gener via codeblock bash metawardsplot output_resultscsvbz metawardsplot anim output_overview_jpg metawardsplot output_resultscsvbz metawardsplot anim output_overview_jpg metawardsplot output_resultscsvbz metawardsplot anim output_overview_jpg metawardsplot output_resultscsvbz metawardsplot anim output_overview_jpg see plot similar output_ superspread demograph imag imagestutorial___gif alt overview scan superspread demograph see regardless percentag superspread larger valu superbeta intens outbreak smaller valu superprogress intens outbreak make sens would expect stronger outbreak infecti superspread longer spend infect state eye see effect greatest run largest percentag superspread plot demograph first run superbeta superprogress paramet anim use command codeblock bash metawardsplot output_ivixtrajectorycsvbz metawardsplot anim output_ivixdemographicsjpg demographics_ivigif order filenam result anim look someth like imag imagestutorial___gif alt overview scan superspread demograph see plot greater percentag superspread faster outbreak individu infect would expect model lurgi dont real data compar real outbreak would fit paramet superspread match observ data condit pathway last exampl saw demograph given differ diseas pathway section see use move function move individu pathway docwhen model quarantin part_quarantin see use differ diseas stage creat rang differ pathway differ individu condit progress model hospit exampl creat model hospit demograph involv patient patient hospit infect lurgi staff hospit staff care patient home gener popul neither patient staff member staff home demograph move along stage lurgi accord lurgyjson hospit patient move two hospit state refer h h defin file lurgy_hospitaljson creat copi name lurgi hospit patient version june th author christoph wood contact christopherwoodsbristolacuk refer complet fictici diseas refer beta progress too_ill_to_mov contrib_foi note everi diseas must includ e stage stage r stage last stage mean h h stage file beta progress too_ill_to_mov h h stage ident look chang later tutori aim model suffer stage lurgyjson move h stage lurgy_hospitaljson progress h r hospit next set worker popul hospit staff initi nobodi lurgi hospit patient set use file demographicsjson creat copi demograph home staff patient work_ratio play_ratio diseas null null lurgy_hospit next need mix function model interact hospit staff patient gener popul use follow interact matrix listtabl width headerrow stubcolumn home staff patient home staff patient matrix set home demograph take precaut fulli expos also fulli expos member staff demograph staff demograph take lot precaut expos home demograph lightli expos staff member patient demograph matrix valu final patient group isol one anoth infect one anoth moment moot patient model alreadi infect howev could add suscept patient popul lurgi use final element matrix control forc infect patient note entir realist interact matrix set demonstr rout infect staff patient use interact matrix creat mixer mix_hospitalpi copi codeblock python metawardsmix import merge_using_matrix def mix_shieldnetwork kwarg matrix networkdemographicsinteraction_matrix matrix return merge_using_matrix note essenti ident mix function use docshield exampl part_custom note note use funcmetawardsmixersmerge_using_matrix may right choic depend want popul dynam mix eg funcmetawardsmixersmerge_matrix_single_popul funcmetawardsmixersmerge_matrix_multi_popul may better choic docse inform part_contact next want make sure output popul h h state creat custom extractor write popul diseas stage patient demograph file call patientscsv creat file extract_patientspi copi codeblock python metawardsextractor import extract_default def output_patientsnetwork popul workspac output_dir kwarg open file patientscsv output directori use suppli header column file output_diropenpatientscsv headersday e h h r sep get workspac patient demograph index networkdemographicsget_indexpati subspac workspacesubspacesindex total popul infect stage sum work play infect inf_tot inf pinf inf pinf zipsubspaceinf_tot subspacepinf_tot filewritestrpopulationday filewritejoinstrx x inf_tot n def extract_patientskwarg return function extract_default plu new output_pati func extract_defaultkwarg funcsappendoutput_pati return func condit move hospit new part exampl need add move function move individu stage hospit h stage write move function file move_hospitalpi creat copi codeblock python metawardsmov import go_stag def move_hospitalkwarg func lambda kwarg go_stagego_fromhom staff go_topati from_stag to_stag fraction kwarg return func move function return methmetawardsmoversgo_stag similar methmetawardsmoversgo_to except also specifi from_stag to_stag stage move stage move case move individu stage home staff demograph stage lurgyjson move individu stage h patient demograph set run model use codeblock bash metaward demographicsjson lurgi mixer mix_hospit mover move_hospit extract extract_hospit extraseedslondondat see epidem start home demograph infect staff number ill home individu move hospit patient model staff overwhelm million patient mean despit care lack interact home member staff demograph becom infect within first day epidem plot use command codeblock bash metawardsplot outputtrajectorycsvbz result plot look someth like imag imagestutorial__jpg alt demograph trajectori simpl hospit model see infect patient lag behind gener popul individu move hospit late stage diseas remain hospit long time also see iw plot staff quickli overwhelm infect within month addit plot also see output directori patientscsvbz file written extract_pati load r panda excel find maximum occup hospit two differ stage codeblock python import panda pd df pdread_csvoutputpatientscsvbz dfhmax dfhmax df dfh dfhmax day e h h r df dfh dfhmax day e h h r show day particularli difficult nearli million patient hospit nearli staff infect accumul workspac default function alway call methmetawardsutilsextract methmetawardsextractorsoutput_cor core extractor perform bulk work accumul infect data singl classmetawardsworkspac object classmetawardsworkspac object contain methmetawardsworkspaceinf_tot total popul size differ diseas stage work infect methmetawardsworkspacepinf_tot total popul size differ diseas stage play infect methmetawardsworkspacen_inf_ward number ward least one member diseas stage methmetawardsworkspacetotal_inf_ward size infect popul ward preval methmetawardsworkspacetotal_new_inf_ward number new infect day ward methmetawardsworkspaceincid incid infect ward output incid classmetawardsworkspac contain data easili output eg methmetawardsextractorsoutput_incid suppli extractor write incid file call incidencedatbz exampl call populationpi extractor chang read codeblock python metawardsutil import consol def output_populationpopul output_dir kwarg consoledebughello output_popul creat output file call populationdat popfil output_diropenpopulationdat headersday date e r write popul file popfilewritefpopulationday populationdateisoformat fpopulationsuscept populationlat fpopulationtot populationrecoveredsn def extract_populationpopul kwarg consoledebughello extract_popul metawardsextractor import output_incid populationday return output_popul output_incid els return output_incid note see call output_incid everi day output_popul even day run extractor use codeblock bash metaward extractor popul see get file call incidencedatbz output directori big matrix mostli zero infect seed default output default extractor methmetawardsextractorsextract_default return methmetawardsextractorsoutput_bas write basic inform file numberwardsinfecteddat totalinfectionsdat etc methmetawardsextractorsoutput_dispers calcul write geograph disper outbreak meanxydat varxyday dispersaldat methmetawardsextractorsoutput_preval write larg preval matrix prevalencedat methmetawardsextractorsoutput_incid write larg incid matrix incidencedat use methmetawardsextractorsextract_default either suppli extractor via extractor command line argument specifi extractdefault go use codeblock bash metaward extractor extract_default well methmetawardsextractorsextract_default also methmetawardsextractorsextract_smal extract small file methmetawardsextractorsextract_larg extract everyth includ produc larg trajectori file methmetawardsextractorsextract_non extract noth use want restrict output resultscsvbz extract locat point look summari data model run lot explor metaward model outbreak everi ward model eg everi elector ward uk metadata ward load methmetawardsnetworkinfo object class classmetawardswardinfo class queri get index ward accord name offici id code local author region belong search use wardinfo exampl find ward match name clifton use code open ipython jupyt notebook type codeblock python metaward import network paramet param parametersload paramsset_input_filesdata paramsset_diseaselurgi network networkbuildparam built network object queri eg codeblock python clifton networkinfofindclifton printclifton ward clifton printnetworkinfoward wardinfonamecliftonwithmaidenway alternate_namescliftonwithmaidenway code alternate_codes authoritytorbay authority_code region region_cod wardinfonameclifton alternate_namesclifton code alternate_codes authorityallerdal authority_code region region_cod wardinfonameclifton bradley alternate_namesclifton bradley code alternate_codes authorityderbyshir dale authority_code region region_cod wardinfonameskelton rawcliff clifton without alternate_namesskelton rawcliff clifton without code alternate_codes authorityyork authority_code region region_cod wardinfonameclifton alternate_namesclifton code alternate_codes authoritybristol citi authority_code region region_cod wardinfonameclifton east alternate_namesclifton east code alternate_codes authoritybristol citi authority_code region region_cod wardinfonameclifton alternate_namesclifton code alternate_codes authorityyork authority_code region region_cod wardinfonameclifton alternate_namesclifton code alternate_codes authorityblackpool authority_code region region_cod wardinfonameclifton north alternate_namesclifton north code alternate_codes authoritynottingham authority_code region region_cod wardinfonameclifton south alternate_namesclifton south code alternate_codes authoritynottingham authority_code region region_cod wardinfonameclifton alternate_namesclifton code alternate_codes authorityfyld authority_code region region_cod wardinfonamecliftonvil east alternate_namescliftonvil east code alternate_codes authoritythanet authority_code region region_cod wardinfonamecliftonvil west alternate_namescliftonvil west code alternate_codes authoritythanet authority_code region region_cod return ward clifton name search actual perform regular express httpschryswoodscomintermediate_pythonregexphtml__ caseinsensit pass regular express string directli eg rclifton would match clifton begin end string ie match ward exactli match clifton tri type codeblock python clifton networkinfofindrclifton ward clifton printnetworkinfoward wardinfonameclifton alternate_namesclifton code alternate_codes authorityallerdal authority_code region region_cod wardinfonameclifton alternate_namesclifton code alternate_codes authoritybristol citi authority_code region region_cod wardinfonameclifton alternate_namesclifton code alternate_codes authorityyork authority_code region region_cod wardinfonameclifton alternate_namesclifton code alternate_codes authorityblackpool authority_code region region_cod wardinfonameclifton alternate_namesclifton code alternate_codes authorityfyld authority_code region region_cod search local author mani clifton uk limit clifton bristol specifi local author regular express although case search bristol enough codeblock python clifton networkinfofindrclifton authoritybristol ward clifton printward wardinfonameclifton alternate_namesclifton code alternate_codes authoritybristol citi authority_code region region_cod note case dataset includ region data region empti region data avail could search region use networkinfofindclifton regionsouth west search power exampl search ward local author clifton bristol eg codeblock python clifton networkinfofindrclifton authoritybristol clifton newworkinfoclifton authority_cod cliftonauthority_cod ward networkinfofindauthorityauthority_cod ward ward printward wardinfonamebrislington west alternate_namesbrislington west code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamecabot alternate_namescabot code alternate_codes authoritybristol citi authority_code region region_cod wardinfonameclifton alternate_namesclifton code alternate_codes authoritybristol citi authority_code region region_cod wardinfonameclifton east alternate_namesclifton east code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamecotham alternate_namescotham code alternate_codes authoritybristol citi authority_code region region_cod wardinfonameeaston alternate_nameseaston code alternate_codes authoritybristol citi authority_code region region_cod wardinfonameeastvil alternate_nameseastvil code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamefilwood alternate_namesfilwood code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamefrom vale alternate_namesfrom vale code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamehartcliff alternate_nameshartcliff code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamehenburi alternate_nameshenburi code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamehengrov alternate_nameshengrov code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamehenleaz alternate_nameshenleaz code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamehillfield alternate_nameshillfield code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamehorfield alternate_nameshorfield code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamekingsweston alternate_nameskingsweston code alternate_codes authoritybristol citi authority_code region region_cod wardinfonameashley alternate_namesashley code alternate_codes authoritybristol citi authority_code region region_cod wardinfonameavonmouth alternate_namesavonmouth code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamebedminst alternate_namesbedminst code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamebishopston alternate_namesbishopston code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamebishopsworth alternate_namesbishopsworth code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamebrislington east alternate_namesbrislington east code alternate_codes authoritybristol citi authority_code region region_cod wardinfonameknowl alternate_namesknowl code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamelawr hill alternate_nameslawr hill code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamelockleaz alternate_nameslockleaz code alternate_codes authoritybristol citi authority_code region region_cod wardinfonameredland alternate_namesredland code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamest georg east alternate_namesst georg east code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamest georg west alternate_namesst georg west code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamesouthmead alternate_namessouthmead code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamesouthvil alternate_namessouthvil code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamestockwood alternate_namesstockwood code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamestok bishop alternate_namesstok bishop code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamewestburyontrym alternate_nameswestburyontrym code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamewhitchurch park alternate_nameswhitchurch park code alternate_codes authoritybristol citi authority_code region region_cod wardinfonamewindmil hill alternate_nameswindmil hill code alternate_codes authoritybristol citi authority_code region region_cod note true could achiev search bristol alon howev method search wardauthor robust multipl author similar name exampl search author newcastl return newcastl upon tyne newcastleunderlym use locat extractor use search track total number infect ward bristol creat new python file call locationpi copi codeblock python matched_ward none header def output_locationnetwork popul workspac output_dir kwarg ward clifton author bristol global matched_ward header matched_ward none perform function first call ward networkinfofindnameward authorityauthor ward networkinfoward authority_cod wardauthority_cod matched_ward networkinfofindauthorityauthority_cod header headersappendday ward matched_ward headersappendfnetworkinfowardnam open file call authoritydat eg bristoldat note use comma separ put ward name singl quot make output easier pars locfil output_diropenfauthoritydat headershead sep locfilewritestrpopulationday ward matched_ward total workspacetotal_inf_wardward locfilewrit strtotal locfilewriten def extract_locationkwarg metawardsextractor import extract_default return extract_defaultkwarg output_loc save file run metaward use extractor via codeblock bash metaward extractor locat see new output file call bristoldatbz creat load panda show codeblock python import panda pd df pdread_csvoutputbristoldatbz index_colday printdf brislington west cabot whitchurch park windmil hill day row x column custom extractor learn use custom iter customis advanc outbreak model run similar way metaward provid custom extractor enabl customis output produc written file file hello extractor creat extractor almost ident manner iter start creat python file call hellopi copi codeblock python metawardsutil import consol def extract_hellokwarg consoleprinthello extract_hello return extractor pass use extractor commandlin argument run metaward use codeblock bash metaward extractor hello see output someth similar import custom extractor hello load hello hellopi function extract_hello xe build custom extractor function extract_hello xe e r iw popul day hello extract_hello e r iw popul number infect day hello extract_hello e r iw popul number infect day hello extract_hello e r iw popul number infect day hello extract_hello e r iw popul number infect day hello extract_hello e r iw popul number infect infect die end day extract_xxx output_xxx end model day metaward call methmetawardsutilsextract function call extract_xxx function signatur similar custom iter function name take kwarg return list function methmetawardsutilsextract call output data term output_xxx function moment noth written output directori chang ad output_xxx function exampl creat new python file call populationpi copi codeblock python metawardsutil import consol def output_populationpopul output_dir kwarg consoledebughello output_popul creat output file call populationdat popfil output_diropenpopulationdat write popul file popfilewritefpopulationday populationdateisoformat fpopulationsuscept populationlat fpopulationtot populationrecoveredsn def extract_populationkwarg consoledebughello extract_popul return output_popul defin two function extract_popul tell metaward use output_popul function output_popul use pass classpopul metawardspopul classoutput_dir metawardsoutputfil object write popul differ diseas state file output directori call populationdat use extractor use command codeblock bash metaward extractor popul take look output directori see file call populationdatbz creat take look r python panda excel exampl load panda use codeblock python import panda pd df pdread_csvoutputpopulationdatbz sep headernon printdf note metaward autocompress file written output directori dont want use commandlin argument noautobzip notic header column add header pass header methmetawardsoutputfilesopen function eg chang populationpi read codeblock python metawardsutil import consol def output_populationpopul output_dir kwarg consoledebughello output_popul creat output file call populationdat popfil output_diropenpopulationdat headersday date e r write popul file popfilewritefpopulationday populationdateisoformat fpopulationsuscept populationlat fpopulationtot populationrecoveredsn def extract_populationkwarg consoledebughello extract_popul return output_popul run metaward load populationdatbz file panda r excel see someth similar codeblock python import panda pd df pdread_csvoutputpopulationdatbz sep index_colday printdf date e r day note note use index_col set day index panda occasion function iter choos call output function specif day exampl output popul file even day chang populationpi read codeblock python metawardsutil import consol def output_populationpopul output_dir kwarg consoledebughello output_popul creat output file call populationdat popfil output_diropenpopulationdat headersday date e r write popul file popfilewritefpopulationday populationdateisoformat fpopulationsuscept populationlat fpopulationtot populationrecoveredsn def extract_populationpopul kwarg consoledebughello extract_popul populationday return output_popul els return run metaward use extractor see populationdatbz file contain output day note line populationday take remaind divis populationday day divis return output everi n day use populationday n note also abl print condit eg model run reach certain date infect popul grow certain size exit earli sometim may want exit model run earli condit reach best way rais python stopiter httpsdocspythonorglibraryexceptionshtml__ except signal metaward model run stop end current iter function part iter still complet output written iter still record exampl could use output function stop model run number infect reach copi extract_stoppi codeblock python metawardsextractor import extract_default def output_stoppopul kwarg populationinfect rais stopiter def extract_stopkwarg output_func extract_defaultkwarg output_funcsappendoutput_stop return output_func extractor use function methmetawardsextractorsextract_default plu new custom output function call output_stop compar number infect datapopulationinfect metawardspopulationinfect rais python stopiter httpsdocspythonorglibraryexceptionshtml__ run metaward use codeblock bash metaward lurgi extraseedslondondat extractor extract_stop see model run stop number infect greater eg day e r iw popul number infect day e r iw popul function output_stop xe indic model run stop earli finish run end iter number infect exit model run earli due function request infect die end day use stop model run reason want eg calcul condit reach model unstabl use paramet uninterest anoth option use stop metaward run specifi amount time creat extractor call extract_stop_timepi copi codeblock python metawardsextractor import extract_default metawardsutil import consol datetim import datetim def output_stop_timenetwork kwarg hasattrnetworkparam _start_model_tim networkparams_start_model_tim datetimenow return runtim datetimenow networkparams_start_model_tim consoleprintfruntim runtimetotal_second second runtimetotal_second consolewarningfruntim exceed second rais stopiter def extract_stop_timekwarg output_func extract_defaultkwarg output_funcsappendoutput_stop_tim return output_func use python datetim httpsdocspythonorglibrarydatetimehtml__ modul calcul time sinc output_stop_tim first call note weve record start time ad attribut networkparam call _start_model_tim ad attribut like networkparam object good way store paramet model run initialis valu start model run paramet guarante clear run thread model mean anyth readwrit thread safe interfer run run extractor use codeblock bash metaward lurgi extraseedslondondat extractor extract_stop_tim see run end five second eg day e r iw popul runtim second number infect day e r iw popul runtim second number infect day e r iw popul runtim second warn runtim exceed second function output_stop_tim xaaec indic model run stop earli finish run end iter number infect exit model run earli due function request infect die end day extract rate ward one major applic custom extractor enabl add liveanalysi perform simul run much faster metaward write data disk run analysi postprocess step analys data need understand classmetawardsworkspac class workspac classmetawardsworkspac class provid workspac data accumul analysi perform clear iter hold follow inform data index diseas stage inf_tot total number worker diseas stage sum ward pinf_tot total number player diseas stage sum ward n_inf_ward number ward least one individu diseas stage data index ward total_inf_ward total number infect ward total_new_inf_ward total number new infect ward incid incid infect ward s_in_ward total popul state ward e_in_ward total popul e state ward i_in_ward total popul state ward r_in_ward total popul r state ward data index diseas stage ward ward_inf_tot total popul diseas stage ward extract popul use custom extractor report total number individu first stage ward day creat new extractor call extract_ipi copi codeblock python metawardsextractor import extract_default def output_ipopul workspac output_dir kwarg open file total_icsv output directori file output_diropentotal_icsv ward_inf_tot workspaceward_inf_tot state stage i_inf_tot ward_inf_tot filewritestrpopulationday filewritejoinstrx x i_inf_tot n def extract_ikwarg return function extract_default plu new output_i func extract_defaultkwarg funcsappendoutput_i return func defin new output function call output_i call open function classmetawardsoutputfil object held output_dir open file total_icsv output directori note classmetawardsoutputfil class clever enough open file automat close need also ensur file open correct output directori model run compress file use bz autobzip commandlin option pass default disabl automat compress noautobzip set function get i_inf_tot third diseas stage data held workspaceward_inf_tot third stage first stage first stage ward_inf_tot special stage use advanc bookkeep second stage ward_inf_tot latent e stage note stage use help evalu mani ward see new infect individu move stage point infect move e stage day infect default individu stage count r appear rise continu control individu stage count use either staris count e addit latent stage starisr count r default behaviour disablestar remov stage instead treat first stage one e stage note need updat diseas file remov stage updat extractor stage first stage popul stage ward i_inf_tot write commasepar line file start line day number obtain pass classmetawardspopul type popul object use extractor run metaward use codeblock bash metaward lurgi extract extract_i extraseedslondondat nstep note note weve set nstep illustr limit runtim size file real product run wouldnt need set number step see file call total_icsvbz creat output directori contain popul state ward calcul rate well output raw data also perform simpl analysi run live model run exampl may want record number individu enter state calcul rate progress across state need save ward_inf_tot data previou day state ad custom attribut workspac creat new extractor creat extract_ratepi copi codeblock python metawardsextractor import extract_default copi import deepcopi def output_ratepopul workspac output_dir kwarg hasattrworkspac output_rate_previ first day calcul rate instead save today data use tomorrow workspaceoutput_rate_previ deepcopyworkspaceward_inf_tot return get yesterday data ward_inf_previ workspaceoutput_rate_previ get today data ward_inf_tot workspaceward_inf_tot calcul write differ two file diseas stage rang workspacen_inf_class file output_diropenfrate_icsv filewritestrpopulationday loop data ward write differ file old new zipward_inf_previousi ward_inf_toti filewrit strnew old filewriten save today data use tomorrow workspaceoutput_rate_previ deepcopyward_inf_tot def extract_ratekwarg func extract_defaultkwarg funcsappendoutput_r return func extractor look littl complex build seen defin output_r function output rate extract_r return function extract_default plu new output_r function first job output_r determin call first day model previou data yesterday use calcul rate function detect case check new custom attribut control function call attribut output_rate_previ minimis risk name collis attribut doesnt exist must first day save today data use tomorrow attribut exist calcul rate get yesterday data output_rate_previ today data workspaceward_inf_tot loop diseas stage open output file stage call rate_icsv write file day differ today yesterday popul ward ith diseas stage final save today data workspaceoutput_rate_previ use tomorrow yesterday data run extractor metaward use codeblock bash metaward lurgi extract extract_r extraseedslondondat nstep limit step demonstr reason see file rate_csvbz rate_csvbz etc creat output directori look file see contain differ popul ward diseas stage day write databas last exampl wrote rate larg number file work data begin get larg multidimension reach limit csv data file reason support data size get larger better start write data databas classmetawardsoutputfil class inbuilt support open connect sqlite httpsdocspythonorglibrarysqlitehtml__ databas use call function methmetawardsoutputfilesopen_db exampl let creat new extractor output size popul diseas stage day chang compar previou day open file call extract_dbpi copi codeblock python metawardsextractor import extract_default def create_tablesn_inf_class return function creat tabl specifi number diseas class def initialiseconn creat tabl valu valu joinfstage_i int rang n_inf_class c conncursor cexecutefcr tabl totalsday int int valu creat tabl rate cexecutefcr tabl deltasday int int valu conncommit return initialis def output_dbpopul workspac output_dir kwarg have_yesterday hasattrworkspac output_rate_previ get today data inf_tot workspaceinf_tot pinf_tot workspacepinf_tot populationsuscept n_inf_class workspacen_inf_class open databas hold data call create_t function databas first open conn output_diropen_dbstagesdb initialisecreate_tablesn_inf_class c conncursor get valu today today populationday infpinf inf pinf zipinf_tot pinf_tot convert string today_str joinstrt today write databas cexecutefinsert total valu today_str hasattrworkspac output_rate_db yesterday workspaceoutput_rate_db calcul differ column today yesterday delta ziptoday yesterday except day today delta today delta_str joinstrd delta write databas cexecutefinsert delta valu delta_str conncommit save today data use tomorrow workspaceoutput_rate_db today def extract_dbkwarg func extract_defaultkwarg funcsappendoutput_db return func creat new function call create_t call creat function return pass methmetawardsoutputfilesopen_db function creat two tabl databas total contain total popul diseas stage delta contain differ previou day next output_db function call methmetawardsoutputfilesopen_db creat connect conn sqlite databas connect standard python sqlite connect object httpsdocspythonorglibrarysqlitehtml__ calcul total popul stage sum inf_tot worker stage pinf_tot player stage prepend number suscept also day number write today data databas via cursor next check data yesterday look custom attribut workspaceoutput_rate_db get data calcul differ previou day written delta tabl via cursor final commit chang databas save today data workspaceoutput_rate_db use tomorrow run extractor type codeblock bash metaward lurgi extract extract_db extraseedslondondat nstep limit day illustr purpos finish see file call outputstagesdbbz uncompress file examin use sqlite databas viewer eg codeblock bash sqlite outputstagesdb sqlite version enter help usag hint sqlite dump pragma foreign_keysoff begin transact creat tabl totalsday int int stage_ intstage_ intstage_ intstage_ intstage_ intstage_ int insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu insert total valu creat tabl deltasday int int stage_ intstage_ intstage_ intstage_ intstage_ intstage_ int insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu insert delta valu commit use custom merg function model shield far model multipl demograph either interact fulli outbreak interact one benefit use demograph model differ level interact differ group need set interact matrix demograph call via custom mixer interact matrix interact matrix specifi much forc infect foi calcul one demograph influenc anoth asymmetr matrix eg red blue demograph could listtabl width headerrow stubcolumn red blue red blue diagon matrix show much infect demograph affect demograph ie easili infect spread within demograph similar affect scale_uv though equival note scale_uv scale precursor calcul ward day night foi interact matrix mix day night foi ward togeth topleft valu say red demograph adopt lockdown measur scale foi red individu contrast bottomright valu say measur taken within blue demograph foi calcul infect within demograph scale topright valu give amount red demograph affect infect within blue demograph describ easili infect blue demograph transmit red demograph low valu indic care taken member blue demograph infect member red demograph bottomleft valu revers name much blue demograph affect infect within red demograph ie easili infect red demograph transmit blue demograph larger valu indic blue demograph still infect member red demograph eg perhap treat care thu expos larg number member valu matrix correspond potenti shield scenario wherebi measur taken blue demograph shield red demograph infect custom mixer use interact matrix creat custom mixer creat file call shieldpi add follow codeblock python metawardsmix import merge_using_matrix def mix_shieldnetwork kwarg matrix networkdemographicsinteraction_matrix matrix return merge_using_matrix creat new mixer call mix_shield function two purpos set datametawardsdemographicsinteraction_matrix equal desir interact matrix network classmetawardsdemograph object matrix describ repres shield red demograph blue demograph return methmetawardsmixersmerge_using_matrix merg function function use merg foi methmetawardsmixersmerge_using_matrix read interact matrix networkdemographicsinteraction_matrix mean valu set step use merg set mixer use use mixer flag eg run metaward use codeblock bash metaward lurgi demographicsjson extraseedslondondat mixer shield see infect move blue demograph rel contain within red demograph plot trajectori use codeblock bash metawardsplot outputtrajectorycsvbz see plot similar imag imagestutorial____demographicsjpg alt diseas trajectori shield scenario red demograph adjust shield paramet work well shield red demograph protect diseas howev use scale factor quit extrem especi four month model outbreak use adjust paramet investig much shield need protect red demograph updat shieldpi file contain codeblock python metawardsmix import merge_using_matrix def mix_shieldnetwork kwarg param networkparam red_r paramsuser_paramsred_r red_blu paramsuser_paramsred_blu blue_r paramsuser_paramsblue_r blue_blu paramsuser_paramsblue_blu matrix red_r red_blu blue_r blue_blu networkdemographicsinteraction_matrix matrix return merge_using_matrix adapt mix_shield function get valu interact matrix adjust user paramet set use docsam mechan part_scan case call paramet red_r impact red red red_blu impact blue red etc need creat input file set initi valu paramet creat file call shieldinp copi red_r red_blu blue_r blue_blu final would like scan differ valu red_r red_blu see much red demograph need shield creat scan file call scandat copi red_r red_blu scan red_r scan red_blu run job use command codeblock bash metaward lurgi demographicsjson extraseedslondonbluedat mixer shield uservari shieldinp scandat altern cluster could use job script run multipl repeat alway good idea stochast simul codeblock bash binbash pb l walltim pb l selectncpusmemgb set node core assum metaward homeenvsmetaward sourc homemetawardsbinactiv chang directori job submit cd pbs_o_workdir metaward u shieldinp scandat lurgi demographicsjson extraseedslondonbluedat mixer shield repeat nthread forceoverwriteoutput use pb binbash sbatch time sbatch ntask sbatch cpuspertask set node core assum metaward homeenvsmetaward sourc homemetawardsbinactiv metaward u shieldinp scandat lurgi demographicsjson extraseedslondonbluedat mixer shield repeat nthread forceoverwriteoutput job may take like minut per model run scale number job divid number core case took minut core catalyst httpswwwbristolacuknewsaprilsupercomputercollaborationhtml__ perform calcul gener anim overview graph use codeblock bash metawardsplot outputresultscsvbz metawardsplot anim outputoverviewjpg outputoverviewgif assum output output directori anim look someth like imag imagestutorial___gif alt overview imag shield custom paramet also gener individu demograph trajectori overview plot anim use codeblock bash metawardsplot outputxtrajectorycsvbz metawardsplot anim outputxdemographicsjpg outputdemographicsgif note weve gener anim first repeat directori name somethingx make process quicker result anim smaller repeat almost plot anim look someth like imag imagestutorial___gif alt demograph trajectori shield custom paramet scan clear redblu scale much bigger impact success shield redr suggest least model import blue demograph take care interact red demograph control level lockdown red demograph contact probabl demograph metaward implement mix demograph merg togeth forc infect foi calcul network default mix take account number individu n ward demograph foi mathfw calcul ward mathw calcul separ demograph via equat docdescrib part_cutoff merg foi ward mathw demograph mathi mathf_iw calcul sum foi calcul ward mathw across demograph mathi j k scale row mathi interact matrix mathm via mathf_iw m_ii f_iw m_ij f_jw m_ik f_kw divid number individu ward mathw demograph mathi mathn_iw convert probabl infect normalis mathn_iw mean account contact probabl inter matrix individu term account differ infect differ demograph well probabl individu one demograph come contact individu demograph howev account differ contact rate use interact matrix difficult imposs case multipl ward differ number individu differ normalis factor would need foi calcul differ ward differ demograph model demograph part popul demograph part popul assum member ward demograph equal like contact member ward demograph case normalis factor total number individu ward sum demograph mathnw calcul via mathnw n_iw n_jw n_kw merg function funcmetawardsmixersmerge_matrix_single_popul calcul merg foi via equat mathf_iw m_ii f_iw fracn_iwnw m_ij fracn_iwnw f_jw m_ik fracn_iwnw f_kw foi divid mathn_iw convert infect probabl equival use mathnw normalis factor ward mathw demograph therefor model demograph singl popul individu ward across demograph equal probabl contact interact matrix effect scale mathbeta ie probabl infect contact member differ demograph pass custom interact matrix want control use conveni mixer function funcmetawardsmixersmix_evenly_single_popul funcmetawardsmixersmix_none_single_popul want use interact matrix one mathm repres even infect ident interact matrix diagon offdiagon repres infect member differ demograph respect model demograph multipl popul may demograph repres differ popul differnet probabl meet would case classic use demograph eg use demograph repres differ age group differ contact probabl individu differ age group case foi calcul demograph must normalis number individu demograph combin merg demograph achiev merg function funcmetawardsmixersmerge_matrix_multi_popul calcul merg foi via equat mathf_iw m_ii f_iw fracn_iwn_iw m_ij fracn_iwn_jw f_jw m_ik fracn_iwn_kw f_kw foi divid mathn_iw convert infect probabl equival use mathn_xw normalis factor ward mathw demograph mathx therefor model demograph part separ popul probabl contact individu ward differ demograph depend number individu demograph interact matrix effect scale mathbeta ie probabl infect contact member differ demograph pass custom interact matrix want control use conveni mixer function funcmetawardsmixersmix_evenly_multi_popul funcmetawardsmixersmix_none_multi_popul want use interact matrix one mathm repres even infect ident interact matrix diagon offdiagon repres infect member differ demograph respect model complex popul dynam complex popul dynam need write custom mixer function account number individu demograph ward mathn_xw potenti expens function write cython plugin use pyx extens metaward automat compil load plugin runtim take inspir funcmetawardsmixersmerge_matrix_single_popul funcmetawardsmixersmerge_matrix_multi_popul show foi calcul ward combin interact matrix number individu ward demograph note code slightli complex describ foi number individu calcul separ daytim nighttim number individu sum number player make random movement day number worker make predict movement day question would like help pleas feel free get touch rais issu github repositori httpsgithubcommetawardsmetawardsissues_ mixer mergefunct last page model outbreak seed either red popul player blue popul contain player worker result two differ outbreak understand given worker move ward one issu demograph complet separ infect individu red popul couldnt infect individu blue popul viceversa classmetawardsnetwork demograph advanc independ mix took place forc infect foi infect individu ward contribut forc infect foi ward higher foi like individu ward becom infect foi demograph subnetwork calcul independ base infect individu demograph thu use foi calcul way enabl differ demograph mix metaward use custom function call docapiindex_metawards_mix choos differ merg function use mix merg calcul foi across differ demograph default mixer funcmetawardsmixersmix_non name suggest perform mix demograph mix evenli altern use funcmetawardsmixersmix_evenli evenli mix demograph set foi ward demograph equal sum foi ward across demograph choos mixer use mixer argument run metaward use codeblock bash metaward lurgi demographicsjson extraseedslondondat mixer mix_evenli see outbreak spread initi infect red demograph blue worker spread around countri red blue group trajectori demograph written singl csv file call outputtrajectorycsvbz load tool excel r panda detail analysi exampl panda load file use codeblock python import panda pd df pdread_csvoutputtrajectorycsvbz printdf day date demograph e r iw overal red blue overal red red blue overal red blue row x column see valu day demograph print turn column call demograph hold name demograph overal total network call overal plot data easili use metawardsplot eg codeblock bash metawardsplot outputtrajectorycsvbz produc graph call outputdemographicsjpg look similar imag imagestutorial___demographicsjpg alt diseas trajectori across red blue demograph notic infect red demograph lag behind blue demograph make sens worker blue demograph infect outsid home ward blue worker thu sourc infect red demograph multidemograph subnetwork far everi member popul metaward model run treat equal concept differ group individu eg school children hospit patient holidaymak etc model differ distinct worker made fix movement potenti ward day random interact within home ward even player made random interact within home ward understand network classmetawardsnetwork class model network worker player hold set classmetawardsnod repres elector ward set classmetawardslink repres fix motion ward made worker classmetawardsnod class hold number player suscept infect held variabl datametawardsnodeplay_suscept classmetawardslink class contain number worker suscept infect travel regularli home ward work ward held variabl datametawardslinksuscept model run valu reduc individu infect progress differ diseas stage note variabl store doubl precis float point number despit repres integ valu effici use doubl precis number use calcul model run understand network model multipl demograph need creat space multipl differ set worker player achiev metaward give demograph classmetawardsnetwork demograph subnetwork merg manag via classmetawardsnetwork class creat classmetawardsnetwork object first specifi way would like distribut popul differ demograph write demograph file simpl jsonformat httpsguidecouchdborgdraftjsonhtml__ file first creat file call demographicsjson copi demograph red blue work_ratio play_ratio file specifi popul distribut two demograph red blue name demograph field mani demograph wish name way want work_ratio list ratio percentag worker popul belong demograph exampl worker blue demograph none worker red demograph play_ratio list ratio percentag player popul belong demograph exampl player red demograph player blue demograph note specifi work play ratio use either number pass string interpret use funcmetawardsinterpretnumb eg requir sum ratio must equal everi individu must assign one demograph creat demographicsjson file tell metaward use via demograph command line argument run metaward use codeblock bash metaward lurgi demographicsjson output see line specialis demograph demograph demographicsjson load demographicsjson version none author unknown contact unknown referencess none repositori none repository_branch none repository_vers none demograph demographicnam work_ratio play_ratio adjustmentnon demographicnameblu work_ratio play_ratio adjustmentnon seed gener use demograph seed use random number seed number differ specialis network popul red popul blue popul show demograph file read correctli case specialis classmetawardsnetwork model popul individu classmetawardsnetwork red popul blue popul warn fix random number seed use assign leftov individu random demograph exampl individu divid equal demograph one randomli chosen demograph individu two divis perform metaward everi singl classmetawardsnod everi singl classmetawardslink ensur everi individu alloc random seed hardcod set demograph ad random_se number demograph file eg random_se classmetawardsnetwork specialis model run perform output show e r valu overal total popul also demograph subnetwork popul eg day e r iw popul red e r iw popul blue e r iw popul number infect day e r iw popul red e r iw popul blue e r iw popul number infect day e r iw popul red e r iw popul blue e r iw popul number infect day e r iw popul red e r iw popul blue e r iw popul number infect day e r iw popul red e r iw popul blue e r iw popul number infect infect die end day case infect seed noth appear happen seed infect use addit option eg run codeblock bash metaward lurgi demographicsjson extraseedslondondat see output similar ident day e r iw popul red e r iw popul blue e r iw popul number infect day e r iw popul red e r iw popul blue e r iw popul number infect day e r iw popul red e r iw popul blue e r iw popul number infect day e r iw popul red e r iw popul blue e r iw popul number infect day e r iw popul red e r iw popul blue e r iw popul number infect infect die end day default infect seed first demograph case red demograph player interact home ward via random interact infect spread beyond home ward die quit quickli seed differ demograph seed differ demograph specifi demograph addit seed file creat new seed file call extraseedslondonbluedat copi blue format file list line say ward seed case one line contain four valu first valu day seed case day second valu number individu infect case third valu index ward infect find index ward want use classmetawardswardinfo object eg via networkinfofind fourth valu blue name index demograph want seed note want could specifi demograph file index rather name blue blue demograph contain worker would expect see differ outbreak perform model run use codeblock bash metaward lurgi demographicsjson extraseedslondonbluedat see sustain outbreak end similar way day e r iw popul red e r iw popul blue e r iw popul number infect day e r iw popul red e r iw popul blue e r iw popul number infect day e r iw popul red e r iw popul blue e r iw popul number infect infect die end day blue worker could move ward abl carri infect across countri mean member blue demograph infect multipl model run last page success perform singl run model outbreak lurgi start london run call model run stochast mean result slightli differ everi time perform gain confid predict need perform model run multipl time averag result perform multipl model run metaward command line option repeat r set number time model run repeat exampl run command repeat model run four time codeblock bash metaward lurgi extraseedslondondat repeat metaward automat use mani core comput parallelis job comput output show run model use random number seed run job use process multiprocess four processor core laptop see four repeat run parallel use four process model run perform use thread see differ distribut thread process differ number core comput set number process metaward use via nproc command line option set number thread metaward use via nthread command line option calcul may take time minut time instead see summari outbreak metaward show summari differ model run job someth similar print multiprocess comput model run complet job no_changerepeat day e r iw uv total popul comput model run complet job no_changerepeat day e r iw uv total popul comput model run complet job no_changerepeat day e r iw uv total popul comput model run complet job no_changerepeat day e r iw uv total popul write summari result csv file userschrisgithubtutorialtestoutputresultscsvbz use quickli look statist across run use eg r panda note metaward print progress spinner screen job run show hasnt crash switch spinner use nospinn option annoy similarli metaward default write output screen use colour theme chang simpl lesscolour theme pass option theme simpl case four outbreak complet within day number popul progress r state around million resultscsvbz file daybyday progress outbreak model run record output file resultscsvbz commasepar file compress use bzip httpsenwikipediaorgwikibzip__ read file easili use python panda httpspandaspydataorg__ r httpswwwrprojectorg__ even import excel although may need uncompress file first use bunzip exampl panda instal read file via ipython httpsipythonorg__ jupyt notebook httpsjupyterorg__ session via codeblock python import panda pd df pdread_csvoutputresultscsvbz df fingerprint repeat day date e r iw no_chang no_chang no_chang no_chang no_chang no_chang no_chang no_chang no_chang no_chang row x column repeat given number repeat column day outbreak given day column count day zero outbreak start last day outbreak control start day outbreak use startday command line option date column contain date day outbreak default metaward assum day zero today set date day zero use startdat command line option eg startdat tomorrow would start tomorrow startdat jan would start januari st year valu e r iw repeat day given correspondingli name column fingerprint column use calcul see later plot output resultscsvbz file output directori contain result four model run outbreak lurgi seed london plot graph result use docmetawardsplot metawards_plot_help command run type codeblock bash metawardsplot input outputresultscsvbz note metawardsplot use panda httpspandaspydataorg__ matplotlib httpsmatplotliborg__ plot dont comput see error messag give instruct instal packag note default format output jpeg chang format use format option eg format png format pdf may need instal pillow httpspillowreadthedocsioenstable__ support output file format understand graph creat two set graph outputoverviewpdf overview e iw r valu day model outbreak four model run graph look someth like imag imagestutorial___overviewjpg alt overview imag outbreak lurgi outputaveragepdf show averag e iw r valu standard deviat shown error bar graph look someth like imag imagestutorial___averagejpg alt overview imag outbreak lurgi e graph show total number latent infect slightli ahead similar shape graph show total number infect iw graph show number ward least one infect grow total number ward henc see graph top number ward r graph show number individu remov epidem eg may recov shape show exponenti growth initi stage epidem tail number individu suscept infect reduc eg immun popul built note graph may look littl differ exact number similar shape purpos type model make exact numer predict instead understand trend timelin jupyt notebook metawardsplot command use quickandsimpl plot want someth complex take look function metawardsanalysi modul addit downloadjupyt notebook notebooks__plottingipynb look break exactli metawardsplot use panda matplotlib render two graph get start tutori assum instal metaward check type follow consol codeblock bash metaward version press return see someth similar print screen commandoutput metaward version dont see output includ warn find metawardsdata pleas tri docinstal metaward instal docinstal configur metawardsdata model_data warn tutori written metaward version metawardsvers higher use older version pleas upgrad introduc lurgi lurgi httpsenwiktionaryorgwikilurgy__ complet fictici diseas use throughout tutori run simul outbreak lurgi use diseas command line argument type follow codeblock bash metaward diseas lurgi press return see lot output print near end output see line day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect infect die end day note worri dont see exactli output may use differ version metaward compar one use write tutori main thing look line infect die end day diseas option also shorthand get output type codeblock bash metaward lurgi note time ran metaward stop say output directori alreadi exist want remov metaward program take care overwrit output default lot output file run written directori call output take look file later metaward ask want remov exist output press hit return want automat remov exist output use forceoverwriteoutput option eg codeblock bash metaward lurgi forceoverwriteoutput also set output directori use output option eg codeblock bash metaward lurgi output seed outbreak key output metaward line read day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect infect die end day tell long outbreak last case day togeth mani peopl infect number next code number popul suscept infect e number popul latent mean infect yet infecti number popul infect mean symptom infecti r number popul remov suscept either newli infect day recov infect longer suscept infect iw number elector ward contain least one individu newli infect day inform valu pleas read httpsdoiorgjepidem__ httpsdoiorgpnas__ paper httpsdoiorg__ detail docscientif background index output clear noon infect lurgi havent yet seed outbreak seed outbreak specif elector ward use addit seed file case seed infect lurgi london use extraseedslondondat httpsgithubcommetawardsmetawardsdatablobmainextra_seedsextraseedslondondat__ file come metawardsdata specifi addit seed file use via addit option tri type consol press return codeblock bash metaward lurgi extraseedslondondat program run long time minut see outbreak move popul final line output may look someth like day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect infect die end day note worri number differ explain repeat calcul metaward run stochast simul mean random number use decis individu model infect quickli progress infect mean everi metaward run differ fortun metaward print enough inform output enabl job repeat look line read repeat run repeat job use command metaward repeat seed addit extraseedslondondat output output diseas lurgi startdat startday paramet march repositori userschrisgithubmetawardsdata popul nstep uv nthread nproc maxnod maxlink altern use configyaml file written output directori use command metaward c configyaml command line use repeat job note command line see differ care write metaward give output use input use version metaward version data metawardsdata random number seed run calcul number thread consid bug metaward reproduc ask submit issu httpsgithubcommetawardsmetawardsissues__ find repeat run command line quit long metaward also print config file output directori call outputconfigyaml file contain everyth need reproduc calcul rerun use command codeblock bash metaward c configyaml assum copi configyaml file current directori use config file input use config file directli run job use config c option eg codeblock bash metaward config configyaml repeat calcul gener config also edit file use store commonli use option eg alway want model lurgi config file would read diseas lurgi could use via codeblock bash metaward c configyaml note metaward use configargpars httpspypiorgprojectconfigargparse__ python modul pars command line argument option pass command line yaml ini format config file identifi case environ variabl arg specifi one place commandlin valu overrid environ variabl overrid config file valu overrid default mani day selfisol need last page saw individu still infect seven day selfisol releas back commun total number infect unlik big impact investig impact scan number day selfisol requir edit move_isolatepi read codeblock python metaward import popul metaward import network metawardsmov import go_isol go_to metawardsutil import consol def move_isolatenetwork network popul popul kwarg user_param networkparamsuser_param nday user_paramsisolate_nday isolate_stag user_paramsisolate_stag nday consoleerrorfmove_isol support maximum day fisol nday mani rais valueerrortoo mani day isol request elif nday send infect individu straight releas control func lambda kwarg go_isol go_fromhom go_toreleas self_isolate_stageisolate_stag kwarg return func day populationday nday isol fisolate_day go_isolate_day lambda kwarg go_isol go_fromhom go_toisol self_isolate_stageisolate_stag kwarg go_releas lambda kwarg go_togo_fromisol go_toreleas kwarg return go_releas go_isolate_day move function read number day isol isolate_nday user paramet also move individu selfisol reach diseas stage isolate_stag littl errorcatch eg seven avail isolate_n demograph model seven day selfisol seven day request call methconsoleerror metawardsutilsconsoleerror write error output rais python valueerror add control weve set isolate_nday zero infect individu sent straight home releas way compar run use selfisol run selfisol perform note could cours increas number day selfisol could model edit demographicsjson mix_isolatepi increas number isolate_n demograph next creat file call scan_isolatedat copi scan selfisol day selfisol start diseas stage isolate_stag isolate_nday file scan isolate_stag scan isolate_nday run job local use command codeblock bash metaward lurgi demographicsjson extraseedslondondat mixer mix_isol mover move_isol extractor extract_non nstep scan_isolatedat given good repeat run sever time lot job may want run cluster pb job script could look like codeblock bash binbash pb l walltim pb l selectncpusmemgb set node core sourc homeenvsmetawardsbinactiv chang directori job submit cd pbs_o_workdir metaward lurgi demographicsjson extraseedslondondat mixer mix_isol mover move_isol extractor extract_non nstep scan_isolatedat repeat nthread forceoverwriteoutput nospinn theme simpl slurm job script would codeblock bash binbash sbatch time sbatch ntask sbatch cpuspertask set node core sourc homeenvsmetawardsbinactiv metaward lurgi demographicsjson extraseedslondondat mixer mix_isol mover move_isol extractor extract_non nstep scan_isolatedat repeat nthread forceoverwriteoutput nospinn theme simpl note notic weve set output theme simpl use theme simpl switch progress spinner use nospinn unnecessari run batch mode cluster output written outputconsolelogbz file analys result job complet gener anim overview plot use metawardsplot eg via codeblock bash metawardsplot outputresultscsvbz metawardsplot anim outputoverview_jpg result anim look someth like imag imagestutorial___gif alt anim overview differ selfisol durat clear plot selfisol work start earli stage eg stage selfisol day significantli reduc number infect lurgi year start soon possibl howev also clear selfisol littl impact start late eg stage lurgi case even use full seven day selfisol individu infect six month reason clear look demograph plot gener use codeblock bash metawardsplot outputtrajectorycsvbz metawardsplot anim outputxdemographicsjpg demographicsgif mine shown imag imagestutorial___gif alt anim demograph plot differ selfisol durat caught earli infect individu one isolate_n demograph howev start isol stage vast major infect individu home demograph epidem experienc exponenti growth within home demograph individu selfisol mean impact selfisol cours outbreak minim relect result lurgi result indic short window time individu show symptom elect go selfisol selfisol effect selfisol extens test contacttrac etc would work lurgi model individu wait theyd reach stage show larger symptom infecti time took confirm infect trace infect individu longer time took progress stage stage done immedi stage individu start notic symptom even though stage symptom limit movement also note model beta asymptomat infecti stage alreadi much reduc account societi adopt control measur condit complianc last section saw selfisol work individu selfisol earli stage lurgi day howev model conclus flaw model assum everyon reach selfisol stage would elect selfisol would remain full requir durat unfortun realist mani individu would selfisol eg dont feel ill dont recognis symptom financi social pressur keep go etc equal mani may break quarantin earli feel better mobil model need condit send percentag individu selfisol day quarantin need releas increas percentag back normal behaviour move fraction individu methmetawardsmoversgo_isol methmetawardsmoversgo_to go function accept fraction keyword argument argument set percentag fraction popul move default repres fraction use sampl random number individu accord binomi distribut adjust valu examin impact reduc selfisol complianc outbreak updat move_isolatepi move function codeblock python metaward import popul metaward import network metawardsmov import go_isol go_to def move_isolatenetwork network popul popul kwarg nday isolate_stag compliance_fract day populationday nday isol fisolate_day go_isolate_day lambda kwarg go_isol go_fromhom go_toisol self_isolate_stageisolate_stag fractioncompliance_fract kwarg go_releas lambda kwarg go_togo_fromisol go_toreleas kwarg return go_releas go_isolate_day ad compliance_fract set repres averag individu compli need go selfisol fraction pass fraction go_isol function run metaward use codeblock bash metaward lurgi demographicsjson extraseedslondondat mixer mix_isol mover move_isol nstep see infect spread quickli individu day decid selfisol stage lurgi infect suscept popul outbreak end approxim two third infect recov releas isol one third recov home never isol plot demograph show clearli codeblock bash metawardsplot outputtrajectorycsvbz imag imagestutorial___jpg alt demograph selfisol complianc scan complianc investig effect differ level complianc scan compliance_fract updat move_isolatepi read codeblock python metaward import popul metaward import network metawardsmov import go_isol go_to def move_isolatenetwork network popul popul kwarg user_param networkparamsuser_param nday isolate_stag compliance_fract user_paramscompli day populationday isol fisolate_day go_isolate_day lambda kwarg go_isol go_fromhom go_toisol self_isolate_stageisolate_stag fractioncompliance_fract kwarg go_releas lambda kwarg go_togo_fromisol go_toreleas kwarg return go_releas go_isolate_day chang set compliance_fract complianc user defin paramet creat scan file call scan_compliancedat contain complianc scan complianc increment command run singl scan local codeblock bash metaward lurgi demographicsjson extraseedslondondat mixer mix_isol mover move_isol extractor extract_non nstep scan_compliancedat like need cluster perform repeat suitabl pb slurm job file binbash pb l walltim pb l selectncpusmemgb set node core sourc homeenvsmetawardsbinactiv chang directori job submit cd pbs_o_workdir metaward lurgi demographicsjson extraseedslondondat mixer mix_isol mover move_isol extractor extract_non nstep scan_compliancedat repeat nthread forceoverwriteoutput nospinn theme simpl binbash sbatch time sbatch ntask sbatch cpuspertask set node core sourc homeenvsmetawardsbinactiv metaward lurgi demographicsjson extraseedslondondat mixer mix_isol mover move_isol extractor extract_non nstep scan_compliancedat repeat nthread forceoverwriteoutput nospinn theme simpl gener overview anim use codeblock bash metawardsplot outputresultscsvbz metawardsplot anim outputoverview result anim look like imag imagestutorial___gif alt anim show effect outbreak differ level complianc selfisol clear high complianc selfisol need prevent largescal outbreak see exactli effect plot averag number recov function level complianc end year day done python panda r excel exampl would make plot panda codeblock python import panda pd import matplotlib mpl df pdread_csvoutputresultscsvbz day_ dfdfday day__mean day_groupbyfingerprintmean ax day__meanplotlinexcompli yr axyaxisset_major_formattermpltickerstrmethodformatterxf fig axget_figur figtight_layout figsavefigcompliancejpg figur get shown imag imagestutorial___jpg alt effect complianc number infect recov lurgi complianc still lead million infect year complianc lead million complianc drop million individu infect stay quarantin previou page saw least individu need compli selfisol limit outbreak howev run assum everyon enter selfisol remain quarantin full seven day import also model impact individu break quarantin earli go_earli function repres fraction individu leav quarantin earli day pass keyword argument fraction methmetawardsmoversgo_to updat move_isolatepi read codeblock python metaward import popul metaward import network metawardsmov import go_isol go_to def move_isolatenetwork network popul popul kwarg user_param networkparamsuser_param nday isolate_stag compliance_fract fraction remain isol count longest shortest stay isol remain day populationday isol fisolate_day go_earli defin function onebyon loop otherwis python bind function valu last iter loop go_earlyappendlambda kwarg go_to go_fromfisolate_day go_toreleas fraction remain kwarg go_earlyappendlambda kwarg go_to go_fromfisolate_day go_toreleas fraction remain kwarg go_earlyappendlambda kwarg go_to go_fromfisolate_day go_toreleas fraction remain kwarg go_earlyappendlambda kwarg go_to go_fromfisolate_day go_toreleas fraction remain kwarg go_earlyappendlambda kwarg go_to go_fromfisolate_day go_toreleas fraction remain kwarg go_earlyappendlambda kwarg go_to go_fromfisolate_day go_toreleas fraction remain kwarg go_isolate_day lambda kwarg go_isol go_fromhom go_toisol self_isolate_stageisolate_stag fractioncompliance_fract kwarg go_releas lambda kwarg go_togo_fromisol go_toreleas kwarg return go_earli go_releas go_isolate_day note would nicer less errorpron could creat go_earli function loop howev would work way python lambda function bind argument argument last iter loop would use go_earli function ie would tri move individu isolate_n demograph six time note note weve set complianc base result last scan weve creat new set go function call go_release_earli one isolate_n demograph except demograph individu move day go_release_earli function move fraction individu isolate_n demograph releas repres fraction break quarantin earli fraction taken list remain count first valu fraction individu isol longest six day remain isol day ie remain break quarantin earli last valu fraction individu enter isol previou day ie everyon remain isol least one day go_earli function ad go_releas go_isolate_day run metaward use move_isolatepi via codeblock bash metaward lurgi demographicsjson extraseedslondondat mixer mix_isol mover move_isol nstep see diseas spread individu choos selfisol also individu break quarantin earli graph output via codeblock bash metawardsplot outputresultscsvbz give overview plot look someth like imag imagestutorial___jpg alt effect complianc remain quarantin clear individu break quarantin earli contribut significantli spread outbreak million experienc infect one year model run compar million individu strictli observ full seven day quarantin scan quarantin next step scan differ complianc level differ number day updat move_isolatepi read codeblock python metaward import popul metaward import network metawardsmov import go_isol go_to def move_isolatenetwork network popul popul kwarg user_param networkparamsuser_param nday isolate_stag compliance_fract fraction remain isol count longest shortest stay isol remain user_paramsremain day populationday isol fisolate_day go_earli defin function onebyon loop otherwis python bind function valu last iter loop go_earlyappendlambda kwarg go_to go_fromfisolate_day go_toreleas fraction remain kwarg go_earlyappendlambda kwarg go_to go_fromfisolate_day go_toreleas fraction remain kwarg go_earlyappendlambda kwarg go_to go_fromfisolate_day go_toreleas fraction remain kwarg go_earlyappendlambda kwarg go_to go_fromfisolate_day go_toreleas fraction remain kwarg go_earlyappendlambda kwarg go_to go_fromfisolate_day go_toreleas fraction remain kwarg go_earlyappendlambda kwarg go_to go_fromfisolate_day go_toreleas fraction remain kwarg go_isolate_day lambda kwarg go_isol go_fromhom go_toisol self_isolate_stageisolate_stag fractioncompliance_fract kwarg go_releas lambda kwarg go_togo_fromisol go_toreleas kwarg return go_earli go_releas go_isolate_day chang read remain list custom user variabl call remain creat scan file call scan_remaindat copi remain remain remain remain remain remain scan percentag individu remain quarantin day increment start longest period isol day move shortest period less day larg number job repeat need properli sampl outbreak job script run job either pb slurm cluster codeblock bash binbash pb l walltim pb l selectncpusmemgb set node core sourc homeenvsmetawardsbinactiv chang directori job submit cd pbs_o_workdir metaward lurgi demographicsjson extraseedslondondat mixer mix_isol mover move_isol extractor extract_non nstep scan_remaindat repeat nthread forceoverwriteoutput nospinn theme simpl codeblock bash binbash sbatch time sbatch ntask sbatch cpuspertask set node core sourc homeenvsmetawardsbinactiv metaward lurgi demographicsjson extraseedslondondat mixer mix_isol mover move_isol extractor extract_non nstep scan_remaindat repeat nthread forceoverwriteoutput nospinn theme simpl analysi run job gener anim overview plot use codeblock bash metawardsplot outputresultscsvbz metawardsplot anim outputoverview get anim look someth like imag imagestutorial___gif alt scan complianc remain quarantin reflect result clear selfisol work well high complianc remain quarantin full seven day peopl break quarantin day size outbreak grow million million grow million break quarantin result suggest lurgi selfisol quarantin effect strategi start quickli possibl individu infecti may difficult due earli stage lurgi larg asymptomat track trace system would like need use extrem fast effect observ vast major infect individu individu remain quarantin full seven day note start tutori lurgi seriou diseas would warrant level social control need achiev three requir inde popul perceiv lurgi seriou would unlik compli level need surpris given model run start five infect individu one ward diseas contagi infect small group individu grow quickli widespread outbreak alway difficult control selfisol durat last section saw selfisol popul took step reduc transmiss viru could dramat reduc spread diseas howev model infect individu move selfisol entir durat outbreak clearli unrealist use demograph repres day typic advic someon selfisol selfisol set number day model use differ selfisol demograph repres differ day individu start selfisol exampl selfisol seven day could selfisol demograph day week week individu selfisol daydemograph releas move releas demograph newli infect individu day move nowempti daydemograph creat new demograph file call demographicsjson copi demograph home releas isolate_ isolate_ isolate_ isolate_ isolate_ isolate_ isolate_ work_ratio play_ratio creat home demograph plu one isol demograph day week also releas demograph use releas individu selfisol move daili start individu place home demograph write custom move function move individu assign isolate_n demograph day develop symptom move function move releas demograph spent seven day selfisol creat move function call move_isolatepi copi codeblock python metaward import popul metawardsmov import go_isol go_to def move_isolatepopul popul kwarg day populationday isol fisolate_day go_isolate_day lambda kwarg go_isol go_fromhom go_toisol self_isolate_stag kwarg go_releas lambda kwarg go_togo_fromisol go_toreleas kwarg return go_releas go_isolate_day function work isolate_n demograph use base day week populationday return number creat two go function first go_isolate_day methmetawardsmoversgo_isol move infect individu home isolate_n demograph day second go_releas call methmetawardsmoversgo_to send individu isolate_n demograph releas demograph move_isol function return go_releas first everyon end selfisol leav go_isolate_day send new cohort infect individu mix home releas next creat mix function merg foi home releas demograph evenli make sure everyon isolate_n demograph isol contribut foi creat mix function call mix_isolatepi copi codeblock python metaward import network metawardsmix import merge_using_matrix interactionmatrix def mix_isolatenetwork network kwarg matrix interactionmatrixonesn matrixres valu networkdemographicsinteraction_matrix matrix return merge_using_matrix note note use funcmetawardsmixersmerge_using_matrix may right choic depend want popul dynam mix eg funcmetawardsmixersmerge_matrix_single_popul funcmetawardsmixersmerge_matrix_multi_popul may better choic docse inform part_contact use classmetawardsmixersinteractionmatrix simplifi creation inter matrix first creat x matrix use methinteractionmatrixonesn metawardsmixersinteractionmatrixon resiz x matrix use methinteractionmatrixres valu metawardsmixersinteractionmatrixres new valu equal zero doublecheck matrix correct use eg ipython jupyt notebook codeblock python metawardsmix import interactionmatrix matrix interactionmatrixonesn printmatrix matrixres valu printmatrix note could creat matrix manual errorpron classmetawardsmixersinteractionmatrix class lot helper function use set interact differ demograph mixer creat run metaward use codeblock bash metaward lurgi demographicsjson extraseedslondondat mixer mix_isol mover move_isol extractor extract_non nstep note weve limit number day model one year selfisol significantli slow spread diseas model year unhelp weve also use funcmetawardsextractorsextract_non extractor limit amount output output data littl slow larg number demograph see case selfisol caus outbreak quickli die howev run see infecti asymptomat allow new infect seed individu develop symptom move selfisol interest also see outbreak grow infect individu recov day leav selfisol abl contribut forc infect home demograph day e r iw popul home e r iw popul releas e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul number infect day e r iw popul home e r iw popul releas e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul number infect day e r iw popul home e r iw popul releas e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul number infect day e r iw popul home e r iw popul releas e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul isolate_ e r iw popul number infect see day infect individu releas demograph indic left selfisol earli mover go function demograph metaward power concept enabl model wide varieti differ scenario work play gener mean metaward demograph use mean group individu fluid sens individu move differ demograph model run constraint belong one demograph time demograph selfisol individu move demograph model run use docmov function apiindex_metawards_mov plugin return go function use make individu go one demograph anoth best demonstr exampl exampl use demograph model effect selfisol quarantin outbreak first creat new demographicsjson file contain demograph home isol work_ratio play_ratio specifi two demograph home hold entir popul repres individu behav normal eg continu work play isol current member use demograph repres individu selfisol quarantin eg contribut forc infect ward move individu isol next creat custom docmov function apiindex_metawards_mov call move_isol creat file call move_isolatepi copi codeblock python metawardsmov import go_isol def move_isolatekwarg func lambda kwarg go_isolatego_fromhom go_toisol self_isolate_stag kwarg return func defin custom docmov function apiindex_metawards_mov call move_isol return go function methmetawardsmoversgo_isol provid modmetawardsmov methmetawardsmoversgo_isol function scan demograph idenfi go_from search individu show sign infect ie individu diseas stage greater equal self_isolate_stag methmetawardsmoversgo_isol move infect individu exist demograph new demograph identifi go_to go function sever paramet must set return move_isol set paramet use lambda httpschryswoodscomparallel_pythonlambdahtml__ creat new anonym go function argument bound fix valu note good explan lambda argument bind httpschryswoodscomparallel_pythonlambdahtml__ youv never seen case bound go_from equal home go_to equal isol self_isolate_stag equal mean valu use everi time go_isol function return move_isol call mix without infect next creat docmix apiindex_metawards_mix mix_isolatepi copi codeblock python metawardsmix import merge_using_matrix def mix_isolatenetwork kwarg matrix networkdemographicsinteraction_matrix matrix return merge_using_matrix mixer specifi interact matrix contribut foi come home demograph matrix isol demograph make contribut foi matrix matrix matrix zero run model run simul pass custom mover use mover command line argument custom mixer use mixer command line argument seed infect use extraseedsbrightondat use paramet lurgyjson copi directori run job use codeblock bash metaward lurgi demographicsjson extraseedsbrightondat mover move_isol mixer mix_isol note note use lurgi paramet docoptimis earlier part_refin includ longliv asymptomat infecti stage diseas see trajectori look someth like day e r iw popul home e r iw popul isol e r iw popul number infect day seed demograph play_infect e r iw popul home e r iw popul isol e r iw popul number infect day e r iw popul home e r iw popul isol e r iw popul number infect day e r iw popul home e r iw popul isol e r iw popul number infect day e r iw popul home e r iw popul isol e r iw popul number infect day e r iw popul home e r iw popul isol e r iw popul number infect day e r iw popul home e r iw popul isol e r iw popul number infect day e r iw popul home e r iw popul isol e r iw popul number infect infect die end day infect seed five individu day latent infect day e develop symptom day begin day move isol demograph unabl infect other progress diseas recov day asymptomat stage selfisol appear work well howev neglect account asymptomat stage lurgi model diseas symptom appear stage individu infecti stage need updat move_isol function individu selfisol stage realis symptom edit move_isolatepi chang read codeblock python metawardsmov import go_isol def move_isolatekwarg func lambda kwarg go_isolatego_fromhom go_toisol self_isolate_stag kwarg return func chang self_isolate_stag run metaward use codeblock bash metaward lurgi demographicsjson extraseedsbrightondat mover move_isol mixer mix_isol complet differ outbreak asymptomat thu selfisol individu abl spread infect other go isol spread exponenti epidem last long time vast major individu model infect exampl day e r iw popul home e r iw popul isol e r iw popul number infect day e r iw popul home e r iw popul isol e r iw popul number infect day e r iw popul home e r iw popul isol e r iw popul number infect infect die end day outbreak last day infect adjust progress issu amount time spent asymptomat infecti stage long progress infecti asymptomat individu high beta real outbreak like individu would take action would reduc chanc infect even asymptomat carrier eg gener wari one anoth wash hand wear mask etc account reduc valu beta lower valu eg copi lurgyjson lurgyjson updat read name lurgi version may th author christoph wood contact christopherwoodsbristolacuk refer complet fictici diseas refer beta progress too_ill_to_mov contrib_foi chang beta note real outbreak scan valu beta match observ lurgi fiction diseas run model use command codeblock bash metaward lurgi demographicsjson extraseedsbrightondat mover move_isol mixer mix_isol nstep note weve switch use lurgi limit run model singl year day see output similar day e r iw popul home e r iw popul isol e r iw popul number infect day e r iw popul home e r iw popul isol e r iw popul number infect day e r iw popul home e r iw popul isol e r iw popul number infect exit model run earli infect die end day note may find outbreak die quit quickli number infect low start action low beta move selfisol quench outbreak run howev catch light outbreak spread approxim individu within one year spread infect significantli reduc reduct beta asymptomat stage demonstr small chang beta eg caus increas handwash mask etc big impact spread diseas model model data metaward geograph sir model mean separ progress state r perform everi ward model ward geograph area cell origin repres singl elector ward uk henc name technic reason case infect individu resid ward contribut forc infect foi ward higher foi like anoth resid infect addit resid call worker make regular movement day home ward work ward contribut expos foi work ward spread infect ward number ward geograph data popul popul flow altogeth call model data metaward first develop model elector ward england wale data base censu default model use metaward thu data model set model use metaward use model command line argument eg codeblock bash metaward lurgi data would perform model run use new lurgi paramet default data model data continu use data default model exampl tutori howev pleas rememb creat model data repres locat region countri interact set group wish altern model construct model data involv lot data scienc care consider model held metawardsdata httpsgithubcommetawardsmetawardsdata__ repositori current model includ data default data england wale censu uk workinprogress model whole uk includ northern ireland addit special model call singl use perform valid model run entir popul resid singl ward use want valid underli model use metaward want see result obtain influenc geographi specifi size popul use singl model via popul p keyword eg codeblock bash metaward lurgi extraseedsonedat singl p nstep would perform run million individu singl ward note use extraseedsonedat seed run file seed infect first ward model day weve also set nstep stop model time two year lack geograph mix significantli slow progress diseas run command creat overview plot use codeblock bash metawardsplot outputresultscsvbz output run look someth like imag imagestutorial__jpg alt overview run use singl ward note may find diseas die quickli small number run due random natur model random chanc mean diseas run could catch light catch epidem progress day analys output resultscsvbz file contain popul trajectori nine model run explor use python panda r excel doca part_rep use ipython jupyt notebook panda load file codeblock python import panda pd df pdread_csvoutputresultscsvbz printdf fingerprint repeat beta too_ill_to_mov day date e r iw uv ivi ivi ivi ivi ivi ivi ivi ivi ivi ivi row x column similar except extra column give valu variabl adjust column beta too_ill_to_mov also use fingerprint column contain uniqu identifi pair adjust variabl note fingerprint charact repres decim point v separ variabl exampl becom ivi becom ivi find peak use groupbi group result fingerprint togeth max function use show maximum valu select column group eg codeblock python dfgroupbyfingerprintday ei iw rmax day e iw r fingerprint ivi ivi ivi ivi ivi ivi ivi ivi ivi see higher peak occur higher valu beta expect howev differ valu too_ill_to_mov littl impact peak warn overinterpret result singl run lot random error calcul multipl model run must averag gain good understand plot output lot plot would like want draw recommend use tool r panda excel creat plot let explor data full quick set plot use metawardsplot gener overview plot type codeblock bash metawardsplot outputresultscsvbz format jpg dpi note use jpg imag format want creat anim choos mani differ format eg pdf public qualiti graph png etc use dpi option set resolut creat bitmap png jpg imag multipl fingerprint produc multipl overview graph one overview per fingerprint run multipl repeat one averag per fingerprint fingerprint valu includ graph name plot axe mean could join togeth anim well plot metawardsplot anim mode use join imag togeth run use codeblock bash metawardsplot anim outputoverviewjpg note anim imag file eg jpeg png cant anim pdf yet although pull request welcom httpsgithubcommetawardsmetawardspulls__ also anim reli instal pillow httpspillowreadthedocsioenstable__ creat gif option recommend gifsicl httpswwwlcdforggifsicle__ pygifsicl httpspypiorgprojectpygifsicle__ optimis gif reduc size time anim imag imagestutorial__gif alt anim overview graph paramet sweep jupyt notebook addit metawardsplot command also downloadjupyt notebook notebooks__analysisipynb look break exactli metawardsplot use panda matplotlib render multifingerprint graph run cluster use metaward perform one model run sever differ combin beta too_ill_to_mov diseas paramet model lurgi import repeat model run sever time order reduc random error interpret chang popul trajectori respons chang diseas paramet support use repeat command line argument use specifi number time want repeat model run eg repeat would repeat model run eight time note pass multipl valu repeat want differ adjust variabl set repeat differ number time equal add repeat column lurgyparamscsv file give number time line repeat use option repeat multipl eg repeat model file repeat pass commandlin argument adjust variabl line model file repeat x time end metaward nativ support run across multipl comput node slurm httpsslurmschedmdcom__ pbsstyle httpsenwikipediaorgwikiportable_batch_system__ high perform comput hpc cluster instal cluster first thing get metaward instal cluster good option use python environ help make easier return previou metaward instal need repeat job doctak look develop learn instal metaward python environ set job next creat directori cluster job copi lurgyjson file could also copi lurgyparamscsv file take opportun run cluster run finegrain paramet sweep rather write lurgyparamscsv file hand write simpl script gener us creat file call create_paramspi copi codeblock python import sy b floatsysargv b floatsysargv bdel floatsysargv floatsysargv floatsysargv idel floatsysargv printbeta too_ill_to_mov b b b b print f f b idel b bdel run script use codeblock bash python create_paramspi lurgyparamscsv creat lurgyparamscsv describ model run vari beta inclus step also vari too_ill_to_mov inclus also step first line file shown beta too_ill_to_mov write job script need write job script submit run job cluster queue system docexampl job script slurm pb cluster_usag run catalyst arm cluster httpswwwbristolacuknewsaprilsupercomputercollaborationhtml__ use pb metaward command need similar go run repeat use core per model run forc overwrit output make sure job dont hang prompt jobscript use call jobscriptsh copi codeblock bash binbash pb l walltim pb l selectncpusmemgb sourc version metaward want use sourc homeenvsmetawardsdevelbinactiv chang directori job submit cd pbs_o_workdir export metawards_cores_per_nod export metawardsdatahomegithubmetawardsdata metaward addit extraseedslondondat diseas lurgyjson input lurgyparamscsv repeat nthread forceoverwriteoutput pb command top tell queue system want run maximum hour use four core node core total ive activ metawardsdevel python environ homeenvsmetawardsdevel help distribut work metaward need know mani core comput node set use metawards_cores_per_nod environ variabl altern could pass use corespernod commandlin argument ive also use metawardsdata environ variabl locat metawardsdata repositori data may modifi script cluster queue system run hpc job written job script submit use job submiss command use pb cluster use codeblock bash qsub jobscriptsh could check statu job use codeblock bash qstat n process output job take model run repeat total run may want go lunch leav run overnight case job took hour total run complet resultscsvbz file contain popul trajectori analys ident way want downloadmi resultscsvbz file outputresultscsvbz produc graph anim use codeblock bash metawardsplot outputresultscsvbz format jpg dpi metawardsplot anim outputoverviewjpg result anim overview plot shown imag imagestutorial__gif alt overview anim outbreak lurgi refin diseas model last part tutori plot graph show progress lurgi across four model run outbreak seed london good model run perform use initi possibl poor model lurgi next step customis diseas file build repres model understand diseas file model lurgi base diseas file httpsgithubcommetawardsmetawardsdatablobmaindiseaseslurgyjson__ contain metawardsdata httpsgithubcommetawardsmetawardsdata__ repositori first step customis file copi current directori renam lurgyjson assum set metawardsdata environ variabl equal path directori type codeblock bash cp metawardsdatadiseaseslurgyjson lurgyjson linux mac os x type codeblock bash copi envmetawardsdatadiseaseslurgyjson lurgyjson window note command work linux mac os x window follow tutori use differ oper system know correct copi command use pleas send us send us pull request httpsgithubcommetawardsmetawards__ post issu httpsgithubcommetawardsmetawardsissues__ diseas file lurgi look like follow name lurgi version april th author christoph wood contact christopherwoodsbristolacuk refer complet fictici diseas refer beta progress too_ill_to_mov contrib_foi file json httpsenwikipediaorgwikijson__ format easi comput read rel easi us read notic file contain metadata eg version author refer emb extra context data file come feel free edit file add metadata key paramet diseas set number associ beta progress too_ill_to_mov contrib_foi list provid valu paramet model differ stage diseas case lurgi five stage also call class individu infect progress along stage class turn accord valu paramet beta rate infect diseas first two stage valu beta zero mean infect individu infecti howev individu infecti stage three four beta final fifth stage individu remov outbreak beta valu zero progess rate progress individu stage diseas individu progress quickli first two stage progress progress slow third fourth stage progress fifth stage final stage progress valu zero too_ill_to_mov proport infect individu unabl move start low initi stage eg stage three individu move too_ill_to_mov quit infecti beta progress final stage individu remov oubreak contrib_foi much infect individu contribut forc infect home elector ward work commut case individu infect model lurgi contribut fulli contrib_foi final stage remov outbreak modifi diseas file current model lurgi becom infecti infect individu alreadi show symptom reduc mobil lurgi want model need repres lurgi diseas infecti period time individu show symptom end extra stage middl beta high too_ill_to_mov still zero edit copi lurgyjson read name lurgi version april th author christoph wood contact christopherwoodsbristolacuk refer complet fictici diseas refer beta progress too_ill_to_mov contrib_foi save file perform singl model run use file via codeblock bash metaward lurgi extraseedslondondat note metaward automat use lurgyjson file found file current directori pass full path file without json extens run metaward model run new version lurgi notic near top output paramet metadata print screen eg diseas diseas lurgi load lurgyjson repositori userschrisgithubmetawardsdata repository_branch none repository_vers none beta progress too_ill_to_mov contrib_foi start_symptom help someon reproduc output futur model run may take longer intuit would expect chang made mean individu like infect inde run perform copi outbreak last day involv nearli individu day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect infect die end day overview plot outbreak creat use codeblock bash metawardsplot outputresultscsvbz show much higher peak outbreak compar origin model lurgi imag imagestutorial___overviewjpg alt overview imag outbreak second version lurgi refin model run larg number repeat lot differ combin beta too_ill_to_mov diseas paramet model lurgi look result clear greater valu beta larger outbreak make sens beta control rate infect interpret too_ill_to_mov less clear doesnt immedi seem big impact size durat infect test hypothesi one hypothesi case progress paramet repres rate individu move new stage lurgi meant individu model spend long infecti beta mobil symptomfre too_ill_to_mov state hypothesi decreas rate individu move state increas outbreak time unknowingli spread infect test hypothesi creat new set adjust variabl vari progress well beta too_ill_to_mov set job creat new directori cluster copi lurgyjson diseas file creat new script call create_paramspi copi codeblock python import sy b floatsysargv b floatsysargv bdel floatsysargv floatsysargv floatsysargv idel floatsysargv p floatsysargv p floatsysargv pdel floatsysargv printbeta too_ill_to_mov progress b b b b p p p p print f f f b p p pdel idel b bdel run script use codeblock bash python create_paramspi lurgyparamscsv creat set adjust variabl set model run vari beta step too_ill_to_mov step progress step first line file shown beta too_ill_to_mov progress note file spacesepar problem column dont line titl littl python could make line approach would take run job submit job use copi job script use exampl use codeblock bash binbash pb l walltim pb l selectncpusmemgb sourc version metaward want use sourc homeenvsmetawardsdevelbinactiv chang directori job submit cd pbs_o_workdir export metawards_cores_per_nod export metawardsdatahomegithubmetawardsdata metaward addit extraseedslondondat diseas lurgyjson input lurgyparamscsv repeat nthread forceoverwriteoutput submit usig command codeblock bash qsub jobscriptsh process output job take case job took hour run complet resultscsvbz file contain popul trajectori analys ident way want downloadmi resultscsvbz file outputresultscsvbz produc graph anim use codeblock bash metawardsplot outputresultscsvbz format jpg dpi metawardsplot anim outputoverviewjpg result anim overview plot shown imag imagestutorial__gif alt overview anim outbreak lurgi conclus experi clear graph rate progress new stage lurgi ad impact form outbreak lower valu progress new infecti asymptomat stage lead wider outbreak move quickli popul fiction lurgi mild mildli infecti diseas doesnt caus mani symptom graph clear best model use low valu beta low valu progress new stage ad leav valu too_ill_to_mov captur asymptomat natur stage choic made pleas creat new version lurgi diseas paramet call lurgyjson copi name lurgi version april th author christoph wood contact christopherwoodsbristolacuk refer complet fictici diseas refer beta progress too_ill_to_mov contrib_foi verifi run metaward simul plot graph use codeblock bash metaward lurgyjson addit extraseedslondondat metawardsplot outputresultscsv format jpg dpi work obtain graph look someth like imag imagestutorial___jpg alt overview run use refin paramet warn rememb complet fiction diseas relat real outbreak graph pure illustr chosen peopl follow tutori quickli see impact work adjust variabl adjust diseas file lurgi result model run involv larger section popul diseas outbreak howev valu chose paramet diseas file made basi realiti mean difficult use model make good predict metaward design support paramet search seek adjust diseas paramet predict model run match observ realiti idea variabl adjust model run reliabl captur observ behaviour outbreak point model may act good predict futur choos adjust last section introduc new stage lurgi infect individu mobil too_ill_to_mov also infecti beta introduc stage lurgi need therefor tune beta too_ill_to_mov paramet rememb count zero want vari two paramet see affect model outbreak current directori creat file call lurgyparamscsv copi text beta too_ill_to_mov file two column number beta show adjust beta valu too_ill_to_mov show adjust too_ill_to_mov valu row file repres singl model run use pair valu exampl line set beta too_ill_to_mov note format file flexibl column spacesepar commasepar long consist entir file choos adjust paramet stage diseas simpli titl column paramet name eg beta progress too_ill_to_mov contrib_foi add stage number squar bracket eg beta rememb count zero stage one index zero pass metaward input file use input commandlin option input file nine pair valu beta too_ill_to_mov mean nine model run need perform run use command codeblock bash metaward lurgi extraseedslondondat input lurgyparamscsv run nine job nine processor core comput run parallel individu model run use core like run laptop may take minut complet note want distribut work set disconnect comput tell metaward adjust paramet subset line input file use line l command line argument specifi line line process line count top line contain header multipl line rang specifi eg l use line one three l would use line four six inclus warn go use one repeat pair valu mean result suffer lot random error ideal ask multipl repeat use repeat commandlin argument good valu would least eight repeat case eight repeat would requir model run parallelis run core need core fortun job metaward run well parallel docacross slurm pb cluster cluster_usag job complet took minut laptop output look similar multiprocess comput model run complet job beta too_ill_to_moverepeat day e r iw uv total popul comput model run complet job beta too_ill_to_moverepeat day e r iw uv total popul comput model run complet job beta too_ill_to_moverepeat day e r iw uv total popul comput model run complet job beta too_ill_to_moverepeat day e r iw uv total popul comput model run complet job beta too_ill_to_moverepeat day e r iw uv total popul comput model run complet job beta too_ill_to_moverepeat day e r iw uv total popul comput model run complet job beta too_ill_to_moverepeat day e r iw uv total popul comput model run complet job beta too_ill_to_moverepeat day e r iw uv total popul comput model run complet job beta too_ill_to_moverepeat day e r iw uv total popul write summari result csv file userschrisgithubtutorialtestoutputresultscsvbz use quickli look statist across run use eg r panda output directori output file repeat place subdirectori main output directori default subdirectori name accord fingerprint adjust variabl use run eg list content output directori use codeblock bash ls output ivix ivix ivix ivix ivix consolelogbz ivix ivix ivix ivix configyaml resultscsvbz fingerprint uniqu key use run eg ivix refer run use valu first repeat repres decim point v use separ valu x mean first repeat similarli ivix refer first repeat valu sometim may want specifi name output directori ad output column scan file eg beta too_ill_to_mov output beta_i_ill_i beta_i_ill_i beta_i_ill_i beta_i_ill_i beta_i_ill_i beta_i_ill_i beta_i_ill_i beta_i_ill_i beta_i_ill_i run metaward file would place output follow directori codeblock bash ls output beta_i_ill_i beta_i_ill_i beta_i_ill_i configyaml beta_i_ill_i beta_i_ill_i beta_i_ill_i consolelogbz beta_i_ill_i beta_i_ill_i beta_i_ill_i resultscsvbz run multipl repeat job eg use repeat keyword via codeblock bash metaward lurgi extraseedslondondat input lurgyparamscsv repeat repeat number automat ad directori name eg codeblock bash ls output beta_i_ill_i beta_i_ill_i beta_i_ill_i configyaml beta_i_ill_ix beta_i_ill_ix beta_i_ill_ix consolelogbz beta_i_ill_i beta_i_ill_i beta_i_ill_i resultscsvbz beta_i_ill_ix beta_i_ill_ix beta_i_ill_ix beta_i_ill_i beta_i_ill_i beta_i_ill_i beta_i_ill_ix beta_i_ill_ix beta_i_ill_ix get start consol prerequisit first need open termin consol command prompt type codeblock bash metaward version see metaward version inform print screen need docinstal metaward instal note output show metawardsdata found instal metawardsdata need instal follow docthes instruct model_data also need abl use text editor eg notepad vim emac nano pico quick start use nano pleas use editor prefer creat diseas open termin run simul need defin classmetawardsdiseas want model metaward implement seirstyl model complet control defin mani stage wish first creat diseas call lurgi consist four stage e r use python r api creat model python r also write requir json data file directli consol creat new text file call lurgyjson eg type codeblock bash nano lurgyjson type name lurgi stage e r beta progress defin three stage e r dont defin stage model start set suscept individu default beta infect paramet set individu infecti latent e stage recov r stage beta equal quit infecti stage beta equal progress paramet set individu progress quickli e stage progress equal mean individu move next stage day progress stage slower progress equal progress valu r stage must recov individu longer move model creat ward network next need defin ward network contain individu experi model outbreak first start singl ward call home file call networkjson info name home num_play metaward work assign individu either worker player differ worker make fix predict movement differ ward day player make random movement sinc singl ward call home start popul player run model diseas network model outbreak run metaward program directli codeblock bash metaward diseas lurgyjson model networkjson print lot screen key line day e r iw popul day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect end day show number peopl differ stage outbreak case infect seed number infect remain zero seed outbreak need seed outbreak addit seed use addit option power eg ad seed differ day differ ward etc simplest number initi infect first day first ward start initi infect codeblock bash metaward diseas lurgyjson model networkjson additon note metaward write output directori call output chang use output argument default metaward check overwrit output remov check pass forceoverwriteoutput option get lot output eg outbreak run day day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect end day visualis result output written output directori commasepar file call resultscsvbz metaward automat bzip compress file save space contain full trajectori eg read via bunzip kc outputresultscsvbz show someth start fingerprintrepeatdaydateseiriwscale_uv repeat repeat repeat repeat repeat repeat repeat repeat repeat repeat repeat visualis data load python panda r excel metaward also come quick plot program call metawardsplot use visualis result use codeblock bash metawardsplot outputresultscsvbz note program may prompt instal addit python modul eg panda matplotlib produc result imag outputoverviewpng look someth like imag imagesconsolejpg alt plot initi outbreak multipl pathway python metaward use classmetawardsdemograph model differ group individu differ way individu move differ demograph differ demograph experi differ diseas model move within differ network power enabl metaward model multipl pathway differ individu explor depth doctutori tutorialindex quick start guid creat three demograph student experi mild version lurgi travel school day teacher experi normal version lurgi also travel school day default experi normal version lurgi either travel work day stay home play creat mild diseas first need save current version lurgi file call lurgyjsonbz codeblock python lurgyto_jsonlurgyjsonbz next must creat milder version lurgi save mild_lurgyjsonbz use codeblock python mild_lurgi mwdiseasemild_lurgi mild_lurgyadd progress beta mild_lurgyaddi progress beta mild_lurgyaddr mild_lurgyto_jsonmild_lurgyjsonbz creat network need creat three network three demograph start student move home school save studentsjsonbz codeblock python home mwwardhom school mwwardschool homeadd_work destinationschool student mwward studentsaddhom studentsaddschool studentsto_jsonstudentsjsonbz next teacher also move home school save teachersjsonbz codeblock python home mwwardhom school mwwardschool homeadd_work destinationschool teacher mwward teachersaddhom teachersaddschool teachersto_jsonteachersjsonbz next creat default network consist player stay home worker go work codeblock python home mwwardhom work mwwardwork homeset_num_play homeadd_work destinationwork default mwward defaultaddhom defaultaddwork defaultto_jsondefaultjsonbz creat demograph next creat demograph creat classmetawardsdemograph object demograph specifi network diseas use group combin singl classmetawardsdemograph object codeblock python student mwdemographicstud diseasemild_lurgyjsonbz networkstudentsjsonbz teacher mwdemographicteach diseaselurgyjsonbz networkteachersjsonbz default mwdemographicdefault diseaselurgyjsonbz networkdefaultjsonbz demograph mwdemograph demographicsadddefault demographicsaddteach demographicsaddstud printdemograph demographicnamedefault work_ratio play_ratio diseaselurgyjsonbz networkdefaultjsonbz demographicnameteach work_ratio play_ratio diseaselurgyjsonbz networkteachersjsonbz demographicnamestud work_ratio play_ratio diseasemild_lurgyjsonbz networkstudentsjsonbz run model run model pass demograph note dont need specifi model fulli specifi demograph codeblock python result mwrundiseaselurgi demographicsdemograph addit home default silenttru note ad default addit seed specifi initi infect demograph need current limit metaward seed infect player default demograph exampl player process graph result codeblock python df pdread_csvresult dfplotlinexday yseiirr notic number suscept fall reach number seed outbreak default demograph default demograph mix outbreak spread teacher student control amount mix demograph use mixer argument specifi mix function use use funcmetawardsmixersmix_evenli set demograph mix evenli codeblock python result mwrundiseaselurgi demographicsdemograph addit home default mixermix_evenli silenttru df pdread_csvresult dfplotlinexday yseiirr see outbreak spread entir popul note trajectorycsvbz file output directori run contain trajectori demograph diseas state load gener demograph graph complet code complet python code part get start guid recopi continu code last part codeblock python save lurgi disk lurgyto_jsonlurgyjsonbz creat milder lurgi save disk mild_lurgi mwdiseasemild_lurgi mild_lurgyadd progress beta mild_lurgyaddi progress beta mild_lurgyaddr mild_lurgyto_jsonmild_lurgyjsonbz creat student network home mwwardhom school mwwardschool homeadd_work destinationschool student mwward studentsaddhom studentsaddschool studentsto_jsonstudentsjsonbz creat teacher network home mwwardhom school mwwardschool homeadd_work destinationschool teacher mwward teachersaddhom teachersaddschool teachersto_jsonteachersjsonbz creat default network home mwwardhom work mwwardwork homeset_num_play homeadd_work destinationwork default mwward defaultaddhom defaultaddwork defaultto_jsondefaultjsonbz creat demograph student mwdemographicstud diseasemild_lurgyjsonbz networkstudentsjsonbz teacher mwdemographicteach diseaselurgyjsonbz networkteachersjsonbz default mwdemographicdefault diseaselurgyjsonbz networkdefaultjsonbz demograph mwdemograph demographicsadddefault demographicsaddteach demographicsaddstud run model result mwrundiseaselurgi demographicsdemograph addit home default mixermix_evenli silenttru graph result df pdread_csvresult dfplotlinexday yseiirr what next quick start guid show capabl metaward learn eg creat custom iter model lockdown write extractor get detail inform output write mixer model shield etc write mover model condit branch pleas follow doctutori tutorialindex quick start guid note pleas make sure instal metaward eg follow docinstal instruct instal test type metaward version terminalconsol note show metawardsdata found instal metawardsdata need instal follow docthes instruct model_data three choic use metaward thu three choic follow quick start guid docr interfac _r choos use metaward directli within r includ interact eg within rstudio docpython interfac _python choos use metaward directli within python includ interact eg within ipython jupyt notebook lab doccommandlin interfac _consol choos use metaward command line terminalconsolecommand prompt one right wrong interfac use pleas feel free use one mani fit need quick start take minut follow precursor docdetail tutori tutorialindex want learn pleas follow tutori read docdetail api document apiindex pleas choos follow either r python consol version r rstudio toctre maxdepth _r _r _r python jupyt toctre maxdepth _python _python _python consol command line toctre maxdepth _consol _consol _consol next step go doctutori tutorialindex learn multipl pathway r metaward use classmetawardsdemograph model differ group individu differ way individu move differ demograph differ demograph experi differ diseas model move within differ network power enabl metaward model multipl pathway differ individu explor depth doctutori tutorialindex quick start guid creat three demograph student experi mild version lurgi travel school day teacher experi normal version lurgi also travel school day default experi normal version lurgi either travel work day stay home play creat mild diseas first need save current version lurgi file call lurgyjsonbz codeblock r lurgyto_jsonlurgyjsonbz next must creat milder version lurgi save mild_lurgyjsonbz use codeblock r mild_lurgi metawardsdiseasemild_lurgi mild_lurgyadd progress beta mild_lurgyaddi progress beta mild_lurgyaddr mild_lurgyto_jsonmild_lurgyjsonbz creat network need creat three network three demograph start student move home school save studentsjsonbz codeblock r home metawardswardhom school metawardswardschool homeadd_work destinationschool student metawardsward studentsaddhom studentsaddschool studentsto_jsonstudentsjsonbz next teacher also move home school save teachersjsonbz codeblock r home metawardswardhom school metawardswardschool homeadd_work destinationschool teacher metawardsward teachersaddhom teachersaddschool teachersto_jsonteachersjsonbz next creat default network consist player stay home worker go work codeblock r home metawardswardhom work metawardswardwork homeset_num_play homeadd_work destinationwork default metawardsward defaultaddhom defaultaddwork defaultto_jsondefaultjsonbz creat demograph next creat demograph creat classmetawardsdemograph object demograph specifi network diseas use group combin singl classmetawardsdemograph object codeblock r student metawardsdemographicstud diseasemild_lurgyjsonbz networkstudentsjsonbz teacher metawardsdemographicteach diseaselurgyjsonbz networkteachersjsonbz default metawardsdemographicdefault diseaselurgyjsonbz networkdefaultjsonbz demograph metawardsdemograph demographicsadddefault demographicsaddteach demographicsaddstud printdemograph demographicnamedefault work_ratio play_ratio diseaselurgyjsonbz networkdefaultjsonbz demographicnameteach work_ratio play_ratio diseaselurgyjsonbz networkteachersjsonbz demographicnamestud work_ratio play_ratio diseasemild_lurgyjsonbz networkstudentsjsonbz run model run model pass demograph note dont need specifi model fulli specifi demograph codeblock r result metawardsrundiseaselurgi demographicsdemograph addit home default silenttru note ad default addit seed specifi initi infect demograph need current limit metaward seed infect player default demograph exampl player process graph result codeblock r result readcsvresult result result pivot_longerc e ir r names_to stage values_to count ggplotdata result map aesxday ycount colorstag geom_point notic number suscept fall reach number seed outbreak default demograph default demograph mix outbreak spread teacher student control amount mix demograph use mixer argument specifi mix function use use funcmetawardsmixersmix_evenli set demograph mix evenli codeblock r result metawardsrundiseaselurgi demographicsdemograph addit home default mixermix_evenli silenttru result readcsvresult result result pivot_longerc e ir r names_to stage values_to count ggplotdata result map aesxday ycount colorstag geom_point see outbreak spread entir popul note trajectorycsvbz file output directori run contain trajectori demograph diseas state load gener demograph graph complet code complet r code part get start guid recopi continu code last part codeblock r save lurgi disk lurgyto_jsonlurgyjsonbz creat milder lurgi save disk mild_lurgi metawardsdiseasemild_lurgi mild_lurgyadd progress beta mild_lurgyaddi progress beta mild_lurgyaddr mild_lurgyto_jsonmild_lurgyjsonbz creat student network home metawardswardhom school metawardswardschool homeadd_work destinationschool student metawardsward studentsaddhom studentsaddschool studentsto_jsonstudentsjsonbz creat teacher network home metawardswardhom school metawardswardschool homeadd_work destinationschool teacher metawardsward teachersaddhom teachersaddschool teachersto_jsonteachersjsonbz creat default network home metawardswardhom work metawardswardwork homeset_num_play homeadd_work destinationwork default metawardsward defaultaddhom defaultaddwork defaultto_jsondefaultjsonbz creat demograph student metawardsdemographicstud diseasemild_lurgyjsonbz networkstudentsjsonbz teacher metawardsdemographicteach diseaselurgyjsonbz networkteachersjsonbz default metawardsdemographicdefault diseaselurgyjsonbz networkdefaultjsonbz demograph metawardsdemograph demographicsadddefault demographicsaddteach demographicsaddstud run model result metawardsrundiseaselurgi demographicsdemograph addit home default mixermix_evenli silenttru graph result result readcsvresult result result pivot_longerc e ir r names_to stage values_to count ggplotdata result map aesxday ycount colorstag geom_point what next quick start guid show capabl metaward learn eg creat custom iter model lockdown write extractor get detail inform output write mixer model shield etc write mover model condit branch pleas follow doctutori tutorialindex multipl pathway python metaward use classmetawardsdemograph model differ group individu differ way individu move differ demograph differ demograph experi differ diseas model move within differ network power enabl metaward model multipl pathway differ individu explor depth doctutori tutorialindex quick start guid creat three demograph student experi mild version lurgi travel school day teacher experi normal version lurgi also travel school day default experi normal version lurgi either travel work day stay home play creat mild diseas must creat milder version lurgi written file mild_lurgyjsonbz name mild_lurgi stage e r beta progress creat network need creat three network three demograph start student move home school save studentsjson id info name home num_work num_play worker destin popul id info name school num_work num_play next teacher also move home school save teachersjsonbz id info name home num_work num_play worker destin popul id info name school num_work num_play next creat default network consist player stay home worker go work id info name home num_work num_play worker destin popul id info name work num_work num_play creat demograph next creat demograph creat file call networkjson contain data demograph specifi network diseas use group demograph default teacher student diseas lurgyjson lurgyjson mild_lurgyjson network defaultjson teachersjson studentsjson note like easier write json file use python r api small error file caus difficulttodebug error run metaward run model run model pass demograph note dont need specifi model fulli specifi demograph codeblock bash metaward diseas lurgyjson demograph demographicsjson addit home default note ad default addit seed specifi initi infect demograph need current limit metaward seed infect player default demograph exampl player process graph result codeblock bash metawardsplot outputresultscsvbz notic number suscept fall reach number seed outbreak default demograph default demograph mix outbreak spread teacher student control amount mix demograph use mixer argument specifi mix function use use funcmetawardsmixersmix_evenli set demograph mix evenli codeblock bash metaward diseas lurgyjson demograph demographicsjson addit home default mixer mix_evenli metawardsplot outputresultscsvbz see outbreak spread entir popul note trajectorycsvbz file output directori run contain trajectori demograph diseas state load gener demograph graph what next quick start guid show capabl metaward learn eg creat custom iter model lockdown write extractor get detail inform output write mixer model shield etc write mover model condit branch pleas follow doctutori tutorialindex get start r prerequisit open r rstudio make sure instal metaward accord docr instal instruct instal check case type codeblock r metawardspy_metawards_avail true dont see true return doublecheck instal note also need instal metawardsdata instal metawardsdata need instal follow docthes instruct model_data make sure instal tidyvers httpswwwtidyverseorg__ eg via codeblock r installpackagestidyvers librarytidyvers final load metaward r modul codeblock r librarymetaward creat diseas r rstudio import modmetaward run simul need defin classmetawardsdiseas want model metaward implement seirstyl model complet control defin mani stage wish first creat diseas call lurgi consist four stage e r let creat diseas codeblock r lurgi metawardsdiseasenamelurgi next add stage dont defin stage model start set suscept individu default instead need add e r stage first let add latent e stage latent individu infecti set beta infect paramet individu progress quickli stage set progress mean individu move next stage day codeblock r lurgyadd beta progress next add infecti stage high beta valu lower progress model diseas long symptomat period codeblock r lurgyaddi beta progress final need add recov r stage dont need set beta progress valu metaward automat recognis recov state set beta progress automat codeblock r lurgyaddr print diseas screen confirm everyth correctli set codeblock r printlurgi diseas lurgi stage e r map e r beta progress too_ill_to_mov start_symptom note save diseas file use lurgyto_jsonlurgyjsonbz load back use lurgi metawardsdiseasefrom_jsonlurgyjsonbz creat ward network next need defin ward network contain individu experi model outbreak first start singl ward call home codeblock r home metawardswardnamehom metaward work assign individu either worker player differ worker make fix predict movement differ ward day player make random movement sinc singl ward start popul player codeblock r homeset_num_play printhom ward infohom num_work num_play note save ward file use hometo_jsonhomejsonbz load back use home metawardswardfrom_jsonhomejsonbz run model diseas network model outbreak use funcmetawardsrun function codeblock r result metawardsrunmodelhom diseaselurgi print lot screen key line day e r iw popul day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect end day show number peopl differ stage outbreak case infect seed number infect remain zero seed outbreak need seed outbreak addit seed use addit option power eg ad seed differ day differ ward etc simplest number initi infect first day first ward start initi infect codeblock r result metawardsrunmodelhom diseaselurgi addit get lot output eg outbreak run day day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect end day visualis result output result contain filenam csv file contain e r data amongst thing load plot use standard r command eg codeblock r result readcsvresult printresult fingerprint repeat day date e r iw scale_uv repeat repeat repeat repeat repeat repeat repeat repeat repeat repeat visualis data need tidi group e r codeblock r result result pivot_longerc e r names_to stage values_to count printresult tibbl x fingerprint repeat day date iw scale_uv stage count chr int int chr int dbl chr int repeat repeat e repeat repeat r repeat repeat e repeat repeat r repeat repeat e row graph e r day use codeblock r ggplotdata result map aesxday ycount colorstag geom_lin result look someth like imag imagesrjpg alt plot initi outbreak complet code complet r code part get start guid recopi codeblock r load depend librari librarytidyvers librarymetaward creat diseas lurgi metawardsdiseasenamelurgi lurgyadd beta progress lurgyaddi beta progress lurgyaddr creat model network home metawardswardnamehom homeset_num_play run model result metawardsrunmodelhom diseaselurgi addit read tidi result result readcsvresult result result pivot_longerc e r names_to stage values_to count graph result ggplotdata result map aesxday ycount colorstag geom_lin extend model consol ad diseas stage continu terminalconsol last session extend diseas includ addit lessinfecti semirecov stage come call ir insert new stage name ir index beta valu progress valu edit lurgyjson file read name lurgi stage e ir r beta progress run model codeblock bash metaward diseas lurgyjson model networkjson addit process plot result similarli eg codeblock bash metawardsplot outputresultscsvbz repeat run metaward model run stochast mean use random number individu run reproduc given random number seed number processor thread best run multipl run look averag perform multipl run use repeat argument eg perform four run type codeblock bash metaward diseas lurgyjson model networkjson addit repeat look result repeat column index run repeat number eg fingerprintrepeatdaydateseiirriwscale_uv repeat repeat repeat repeat repeat repeat metawardsplot command automat graph repeat eg codeblock bash metawardsplot outputresultscsvbz get result imag outputoverviewpng look someth like imag imagesconsolejpg alt plot outbreak long recoveri stage note need load data python panda r excel visualis data metawardsplot limit visualis capabl ad ward next extend model ad ward model home work school let add work school ward edit networkjson file read id info name home num_work num_play worker destin popul id info name work id info name school warn write network file hand quit difficult small error caus issu much better construct file use python r api save file use funcmetawardswardsto_json function note term worker broad metaward mean individu make regular predict movement day case refer worker teacher student run model run model case want seed infect home ward need pass name addit paramet codeblock bash metaward diseas lurgyjson model networkjson addit home note format day number case seed day number seed seed infect ward name number case home see lot output metaward print tabl confirm seed eg day demograph ward number seed none wardinfonamehom alternate_nam code alternate_cod author authority_cod region region_cod result process visualis eg codeblock bash metawardsplot outputresultscsvbz extend model python ad diseas stage continu ipythonjupyt last session extend diseas includ addit lessinfecti semirecov stage come call ir insert new stage name ir index beta valu progress valu codeblock python lurgyinsert nameir beta progress printlurgi diseas lurgi stage e ir r map e ir r beta progress too_ill_to_mov start_symptom note metaward python program index count index e index call index r insert index insert ir r run model use funcmetawardsrun time set silent true doesnt print much output screen codeblock python result mwrunmodelhom diseaselurgi addit silenttru info write output directori output_slef note output written randomli name output directori indic eg output_slef full log run record file call consolelogbz directori process plot result similarli eg codeblock python df pdread_csvresult dfplotlinexday yseiirr repeat run metaward model run stochast mean use random number individu run reproduc given random number seed number processor thread best run multipl run look averag perform multipl run use repeat argument eg perform four run type codeblock python result mwrunmodelhom diseaselurgi addit silenttru repeat look result repeat column index run repeat number eg codeblock python df pdread_csvresult printdf fingerprint repeat day date e ir r iw repeat repeat repeat repeat repeat repeat repeat repeat repeat repeat group repeat plot use codeblock python import matplotlibpyplot plt dfgroupbyrepeatplotlin xday yseiirr axpltgca get result look someth like imag imagespyjpg alt plot outbreak long recoveri stage note bit panda make plot lot prettier see buildup individu yellow long recoveri ir stage ad ward next extend model ad ward model home work school let add work school ward codeblock python work mwwardwork school mwwardschool add worker make daili predict movement home work school codeblock python homeadd_work destinationwork homeadd_work destinationschool note term worker broad metaward mean individu make regular predict movement day case refer worker teacher student next need combin individu classmetawardsward object singl classmetawardsward repres entir network codeblock python network mwward networkaddhom networkaddwork networkaddschool run model run model case want seed infect home ward need pass name addit paramet codeblock python result mwrundiseaselurgi modelnetwork addit home note format day number case seed day number seed seed infect ward name number case home see lot output metaward print tabl confirm seed eg day demograph ward number seed none wardinfonamehom alternate_nam code alternate_cod author authority_cod region region_cod result process visualis eg codeblock python df pdread_csvresult dfplotlinexday yseiirr complet code complet python code part get start guid recopi continu code last part codeblock python extend diseas model lurgyinsert nameir beta progress run model result mwrunmodelhom diseaselurgi addit silenttru load graph result df pdread_csvresult dfplotlinexday yseiirr run multipl repeat result mwrunmodelhom diseaselurgi addit silenttru repeat load graph result df pdread_csvresult import matplotlibpyplot plt dfgroupbyrepeatplotlin xday yseiirr axpltgca add ward work mwwardwork school mwwardschool homeadd_work destinationwork homeadd_work destinationschool build network network mwward networkaddhom networkaddwork networkaddschool run model result mwrundiseaselurgi modelnetwork addit home load graph result df pdread_csvresult dfplotlinexday yseiirr get start python prerequisit first need start interact python session use python interpret metaward instal make easier metaward come two applic metawardspython metawardsjupyt start inter python jupyt session use python interpret use metaward start eg run jupyt notebook type codeblock bash metawardsjupyt notebook open jupyt notebook session browser click new start new python notebook type command metaward jupyt cell also need import panda use analys plot result codeblock python import panda pd note also need instal metawardsdata instal metawardsdata need instal follow docthes instruct model_data import metaward first need import modmetaward python modul need type codeblock python import metaward mw modul come lot help document feel free use tabcomplet explor modul creat diseas jupyt notebook ipython session import modmetaward run simul need defin classmetawardsdiseas want model metaward implement seirstyl model complet control defin mani stage wish first creat diseas call lurgi consist four stage e r let creat diseas codeblock python lurgi mwdiseasenamelurgi next add stage dont defin stage model start set suscept individu default instead need add e r stage first let add latent e stage latent individu infecti set beta infect paramet individu progress quickli stage set progress mean individu move next stage day codeblock python lurgyadd beta progress next add infecti stage high beta valu lower progress model diseas long symptomat period codeblock python lurgyaddi beta progress final need add recov r stage dont need set beta progress valu metaward automat recognis recov state set beta progress automat codeblock python lurgyaddr print diseas screen confirm everyth correctli set codeblock python printlurgi diseas lurgi stage e r map e r beta progress too_ill_to_mov start_symptom note save diseas file use lurgyto_jsonlurgyjsonbz load back use lurgi metawardsdiseasefrom_jsonlurgyjsonbz creat ward network next need defin ward network contain individu experi model outbreak first start singl ward call home codeblock python home mwwardnamehom metaward work assign individu either worker player differ worker make fix predict movement differ ward day player make random movement sinc singl ward start popul player codeblock python homeset_num_play printhom ward infohom num_work num_play note save ward file use hometo_jsonhomejsonbz load back use home metawardswardfrom_jsonhomejsonbz run model diseas network model outbreak use funcmetawardsrun function codeblock python result metawardsrunmodelhom diseaselurgi print lot screen key line day e r iw popul day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect end day show number peopl differ stage outbreak case infect seed number infect remain zero seed outbreak need seed outbreak addit seed use addit option power eg ad seed differ day differ ward etc simplest number initi infect first day first ward start initi infect codeblock python result metawardsrunmodelhom diseaselurgi addit get lot output eg outbreak run day day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect day e r iw popul number infect end day visualis result output result contain filenam csv file contain e r data amongst thing load plot use standard r command eg codeblock python df pdread_csvresult printdf fingerprint repeat day date e r iw scale_uv repeat repeat repeat repeat repeat repeat repeat repeat repeat repeat row x column visualis data use codeblock python dfplotlinexday yseir result look someth like imag imagespyjpg alt plot initi outbreak complet code complet python code part get start guid recopi codeblock python import requir modul import panda pd import metaward mw creat diseas lurgi mwdiseasenamelurgi lurgyadd beta progress lurgyaddi beta progress lurgyaddr creat ward network home mwwardnamehom homeset_num_play run model result metawardsrunmodelhom diseaselurgi addit load graph result df pdread_csvresult dfplotlinexday yseir extend model r ad diseas stage continu r last session extend diseas includ addit lessinfecti semirecov stage come call ir insert new stage name ir index beta valu progress valu codeblock r lurgyinsert nameir beta progress printlurgi diseas lurgi stage e ir r map e ir r beta progress too_ill_to_mov start_symptom note metaward python program index count index e index call index r insert index insert ir r run model use funcmetawardsrun time set silent true doesnt print much output screen codeblock r result metawardsrunmodelhom diseaselurgi addit silenttru info write output directori output_nuzdl note output written randomli name output directori indic eg output_nuzdl full log run record file call consolelogbz directori process plot result ident eg codeblock r result readcsvresult result result pivot_longerc e r names_to stage values_to count ggplotdata result map aesxday ycount colorstag geom_lin repeat run metaward model run stochast mean use random number individu run reproduc given random number seed number processor thread best run multipl run look averag perform multipl run use repeat argument eg perform four run type codeblock r result metawardsrunmodelhom diseaselurgi addit silenttru repeat look result repeat column index run repeat number eg codeblock r result readcsvresult printresult fingerprint repeat day date e ir r iw scale_uv repeat repeat repeat repeat repeat repeat repeat repeat repeat repeat note repeat keyword r column automat renam repeat pivot graph run use codeblock r result result pivot_longerc e ir r names_to stage values_to count ggplotdata result map aesxday ycount colorstag geom_point note use geom_point rather geom_lin better show differ run bit r could adjust point shape match repeat number get result look someth like imag imagesrjpg alt plot outbreak long recoveri stage see buildup individu green long recoveri ir stage ad ward next extend model ad ward model home work school let add work school ward codeblock r work metawardswardwork school metawardswardschool add worker make daili predict movement home work school codeblock r homeadd_work destinationwork homeadd_work destinationschool note term worker broad metaward mean individu make regular predict movement day case refer worker teacher student next need combin individu classmetawardsward object singl classmetawardsward repres entir network codeblock r network metawardsward networkaddhom networkaddwork networkaddschool run model run model case want seed infect home ward need pass name addit paramet codeblock r result metawardsrundiseaselurgi modelnetwork addit home note format day number case seed day number seed seed infect ward name number case home see lot output metaward print tabl confirm seed eg day demograph ward number seed none wardinfonamehom alternate_nam code alternate_cod author authority_cod region region_cod result process visualis eg codeblock r result readcsvresult result result pivot_longerc e ir r names_to stage values_to count ggplotdata result map aesxday ycount colorstag geom_point complet code complet r code part get start guid recopi continu code last part codeblock r add ir stage r stage lurgyinsert nameir beta progress creat network home work school ward work metawardswardwork school metawardswardschool network metawardsward homeadd_work destinationwork homeadd_work destinationschool networkaddhom networkaddwork networkaddschool run model use updat diseas network result metawardsrundiseaselurgi modelnetwork addit home plot result trajectori result readcsvresult result result pivot_longerc e ir r names_to stage values_to count ggplotdata result map aesxday ycount colorstag geom_point metawardsanalysi analysi function make easi produc graph perform analys use panda httpspandaspydataorg__ matplotlib httpsmatplotliborg__ must instal abl use metawardsanalysi function function design either call within jupyt notebook httpsjupyterorg__ use metaward command line tool creat quick output exampl tool docmetawardsplot metawards_plot_help core function includ methmetawardsanalysissave_summary_plot quick function creat save summari plot resultscsvbz file produc metaward methmetawardsanalysisimport_graphics_modul safe import graphic modul give use error messag doesnt work metawardsanalysi need panda matplotlib often avail broken cluster safe import modul function prevent part metaward affect bad panda matplotlib instal methmetawardsanalysiscreate_average_plot creat averag plot return result matplotlib figur use get view figur eg jupyt notebook methmetawardsanalysiscreate_overview_plot creat overview plot return result matplotlib figur use get view figur eg jupyt notebook toctre maxdepth index_api_metawards_analysi metawardsmix mixer function use mix merg data demograph multidemograph model run function divid two main type mix_funct control function call merg data methmetawardsmixersmix_default methmetawardsmixersmix_custom methmetawardsmixersmix_evenli methmetawardsmixersmix_non merge_funct perform actual work merg data across demograph methmetawardsmixersmerge_evenli function mani other modmetawardsmix describ docin detail index_api_metawards_mix toctre maxdepth index_api_metawards_mix metawardsapp api detail automodul metawardsapp toctre maxdepth metaward api detail automodul metaward toctre maxdepth metawardsextractor api detail automodul metawardsextractor toctre maxdepth metawardsiter api detail automodul metawardsiter toctre maxdepth metawardsiter iter function use model advanc outbreak day day function divid two main type import describ iterate_funct control function call advanc outbreak methmetawardsiteratorsiterate_default methmetawardsiteratorsiterate_custom methmetawardsiteratorsiterate_weekday methmetawardsiteratorsiterate_weekend methmetawardsiteratorsiterate_working_week advance_funct perform actual work advanc outbreak methmetawardsiteratorsadvance_foi methmetawardsiteratorsadvance_addit methmetawardsiteratorsadvance_infprob methmetawardsiteratorsadvance_fix methmetawardsiteratorsadvance_play methmetawardsiteratorsadvance_work function mani other metawardsiter describ docin detail index_api_metawards_iter toctre maxdepth index_api_metawards_iter metawardsmix api detail automodul metawardsmix toctre maxdepth metawardsextractor extractor function use model run extract data outbreak process write live file function divid two main type import describ extract_funct determin function call output data methmetawardsextractorsextract_default methmetawardsextractorsextract_custom methmetawardsextractorsextract_larg methmetawardsextractorsextract_smal methmetawardsextractorsextract_non output_funct perform actual work output data methmetawardsextractorsoutput_bas methmetawardsextractorsoutput_cor methmetawardsextractorsoutput_dispers methmetawardsextractorsoutput_incid methmetawardsextractorsoutput_preval function mani other metawardsextractor describ docin detail index_api_metawards_extractor toctre maxdepth index_api_metawards_extractor metawardsthem class implement differ theme use colour consol output style spinner toctre maxdepth index_api_metawards_them metawardsanalysi api detail automodul metawardsanalysi toctre maxdepth document metaward program associ python modul compos six main unit docmetaward index_metawards_app command line program peopl would use run metaward program come full help provid type metaward help docmetaward index_metaward toplevel python modul use want write new python program integr metaward function could includ plug metaward model higherlevel statict analysi packag docmetawardsiter index_metawards_iter modul contain packagesuppli iter use advanc model infect day day use customis exactli infect progress control measur appli describ doctutori tutorialindex_part docmetawardsextractor index_metawards_extractor modul contain packagesuppli extractor use extract output data gather live model run write file use customis exactli inform gather process written infect progress see use customis output doctutori tutorialindex_part docmetawardsmix index_metawards_mix modul contain packagesuppli mixer use merg mix valu calcul across multipl demograph subnetwork use customis exactli differ demograph interact diseas move demograph see use mixer doctutori tutorialindex_part docmetawardsmov index_metawards_mov modul contain packagesuppli mover use move individu differ demograph outbreak eg move home hospit work holiday etc see use mover doctutori tutorialindex_part docmetawardsanalysi index_metawards_analysi contain analysi function use process result metaward run gener insight use graphic docmetawardsutil index_metawards_util util python modul contain lot function use metaward build perform model run function intern metaward design use outsid program docmetawardsthem index_metawards_them modul contain theme use style consol output spinner use metaward choos theme use theme option eg theme default theme simpl toctre maxdepth index_metawards_app index_metaward index_metawards_iter index_metawards_extractor index_metawards_mix index_metawards_mov index_metawards_analysi index_metawards_util index_metawards_them metawardsutil util function use toplevel metaward packag run model function heavili inspir c function origin program function divid four main type key function describ set network methmetawardsutilsbuild_wards_network methmetawardsutilsadd_wards_network_dist methmetawardsutilsinitialise_infect methmetawardsutilsinitialise_play_infect methmetawardsutilsmove_population_from_play_to_work methmetawardsutilsmove_population_from_work_to_play perform model run methmetawardsutilsrun_model methmetawardsutilsiter methmetawardsutilsiterate_weekend extract data iter methmetawardsutilsextract perform multipl model run parallel methmetawardsutilsrun_model methmetawardsutilsrun_work function mani other metawardsutil describ docin detail index_api_metawards_util toctre maxdepth index_api_metawards_util metawardsutil api detail automodul metawardsutil toctre maxdepth metawardsapp modul contain function need write metaward command line applic metaward command line applic automat run one three mode main default mode use normal run metaward perform calcul use singl comput key function use main mode methmetawardsappcli main command line interfac methmetawardsappparse_arg pars command line argument mode use run either singl model run run multipl run parallel comput via multiprocess pool httpsdocspythonorglibrarymultiprocessinghtmlhighlightprocessusingapoolofworkers__ worker mode use metaward detect run worker process part simul run larg cluster case applic go sleep call upon part parallel run multipl comput via either scoop map pool httpsscoopreadthedocsioenusagehtmlmappingapi__ mpipi mpi pool httpsmpipyreadthedocsioenstablempipyfutureshtmlmpipoolexecutor__ worker automat detect whether scoop mpipi use base modul load via scoop mpipi command line injector key function use worker mode methmetawardsappget_parallel_schem autodetect scoop mpipi supervisor mode use metaward detect run across multipl comput node cluster detect automat via environ variabl common queue system suppli hostfil manual specifi hostfil via hostfil command line argument metaward applic choos parallelis cluster use mpipi httpsmpipyreadthedocsio__ scoop httpsscoopreadthedocsio__ depend user specifi modul instal automat choos order scoop mpipi order simpli mpi errorpron use automat key function use supervisor mode methmetawardsappget_hostfil get hostfil methmetawardsappget_cores_per_nod work number core per comput node methmetawardsappget_threads_per_task work number thread per model run methmetawardsappscoop_supervisor run scoop supervisor start manag job methmetawardsappmpi_supervisor run mpipi supervisor start manag job function other metawardsapp packag describ docin detail index_api_metawards_app toctre maxdepth index_api_metawards_app metawardsmov mover function use move individu differ demograph multidemograph model run function divid two main type move_funct determin function call move individu methmetawardsmoversmove_default methmetawardsmoversmove_custom go_funct perform work move individu demograph methmetawardsmoversgo_isol function mani other modmetawardsmov describ docin detail index_api_metawards_mov toctre maxdepth index_api_metawards_mov metaward toplevel python packag provid core object build run metaward model packag center around core object classmetawardsnod classmetawardsnod repres individu elector ward progress diseas track classmetawardslink classmetawardslink repres connect elector ward includ peopl commut ward work therefor provid rout via diseas spread classmetawardsparamet holder model paramet describ eg proport day versu night cutoff distanc transmiss ward etc exampl paramet set held metawardsdata httpsgithubcommetawardsmetawardsdata__ repositori classmetawardsdiseas holder diseas paramet use chang model repres differ type diseas outbreak differ diseas model held metawardsdata httpsgithubcommetawardsmetawardsdata__ repositori classmetawardsinputfil hold inform input file use build network ward link input data held metawardsdata httpsgithubcommetawardsmetawardsdata__ repositori classmetawardsnetwork complet network classmetawardsnod classmetawardslink built use data load classmetawardsinputfil set model diseas whose paramet classmetawardsdiseas use model run paramet held classmetawardsparamet object network selfcontain contain everyth need model run methmetawardsnetworkrun function run model classmetawardsvariableset classmetawardsvariableset model contain adjust variabl must adjust model match observ reallif data classmetawardsvariableset contain set variabl adjust classmetawardsvariableset collect chang explor multipl model run classmetawardspopul classmetawardspopul model run result trajectori chang popul peopl progress along differ stage diseas eg suscept infect remov outbreak r either recov sadli perish classmetawardspopul hold number state singl day outbreak classmetawardspopul hold full trajectori classmetawardsoutputfil manag output file produc program told autocompress bzip file written class other toplevel packag describ docin detail index_api_metaward toctre maxdepth index_api_metaward metawardsthem api detail automodul metawardsthem toctre maxdepth metawardsmov api detail automodul metawardsmov toctre maxdepth