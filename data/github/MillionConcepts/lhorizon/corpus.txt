lhorizon cihttpsimgshieldsiogithubworkflowstatusmillionconceptslhorizoncilogogithubhttpsgithubcommillionconceptslhorizonact codecovhttpscodecovioghmillionconceptslhorizonbranchmaingraphbadgesvghttpscodecovioghmillionconceptslhorizon binderhttpsmybinderorgbadge_logosvghttpsmybinderorgvghmillionconceptslhorizonmainfilepathexampl doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss introduct purpos lhorizon help find thing solar system built around thick python wrapper jet propuls laboratori jpl horizonshttpsssdjplnasagovhorizon servic _horizons_ provid jpl solar system dynam group ssd one sourc world offer noassemblyrequir highprecis data rel posit veloc almost everi known bodi solar system lhorizon offer tool queri _horizons_ data pars respons use python object smoothli incorpor bulk calcul transform workflow would quick overview major packag function tri exampl notebook binderhttpsmybinderorgvghmillionconceptslhorizonmainfilepathexampl origin lhorizon began fork astroqueryjplhorizonshttpsgithubcomastropyastroquerytreemasterastroqueryjplhorizon origin written michael mommert around wrote order circumv bug introduc jplhorizon serversid chang jpl prevent correctli pars queri involv target observ locat given planetodet coordin specif provid suppport queri relat arbitrari locat lunar surfac process extend implement effici parser add support fast queri bulk remov use astroqueri astropi featur perform api compat reason point realiz fast standalon interfac horizon might use commun larg decid polish generalus packag pronunci along line lhorizon lowreezahn like horizon french famou palm spring desert modern hotel easi drive pasadena instal autom lhorizon avail condaforg recommend instal use conda packag manag conda instal c condaforg lhorizon test offici support use nonconda environ lhorizon also instal pypi pip instal lhorizon youd like bell whistl pip instal lhorizontarget exampl test manual youd like instal lhorizon hand recommend use conda assembl python environ your alreadi equip conda creat environ name lhorizon packag clone repositori run conda env creat f environmentyml repositori root directori could instead add depend exist environ run conda env updat n existing_env f environmentyml youd likelhorizon instal site packag environ activ environ run pip instal e your new conda python environ manag gener pleas take look easi conda instal guidedocsconda_installation_guidemd depend requir lhorizon requir python plan implement support older python version follow packag requir usag instal moreitertool numpi panda request pip follow depend option could potenti omit restrict instal environ jupyt requir run exampl pytest pytestcov pytestmock requir run test spiceypi sympi requir lhorizontarget relat test exampl featur lhorizon use without internet connect much librari requir abl dial jplnasagov domain lhorizon function os support conda baselin system requir fairli light count depend base miniconda environmentlhorizon take gb space respositori mb almost could prune restrict instal environ requir full git histori includ spice kernel mani use lhorizon resourceintens run comfort small machin like aw ec tmicro instanc convers resourc requir scale high like plan process extrem larg set geometri data usag jupyt notebook provid exampleshttpsnbviewerjupyterorggithubmillionconceptslhorizontreemainexampl directori best quickstart guid usag also tri exampl binderhttpsmybinderorgvghmillionconceptslhorizonmainfilepathexampl see api referencedocsapimd detail packag behavior test benchmark test found lhorizontestslhorizontest modul run simpli execut pytest command line repositori root directori also find perform benchmark benchmarkslhorizonbenchmark directori instruct run found benchmarksreadmemdbenchmarksreadmemd changelog full releas extens chang older version complet ration interfac concaten standard target submodul reason complet test coverag document somewhat extens exampl notebook releas add addit conveni function substanti broaden test coverag improv instal script exampl avail via binder packag avail condaforg pip special thank malmanshttpsgithubcommalman help releas review josshttpsjosstheojorg releas variou bugfix document improv thank everyon involv joss review includ malmanshttpsgithubcommalman steoithttpsgithubcomsteoit arfonhttpsgithubcomarfon releas packagingonli chang caution known issu execut multipl queri _horizons_ parallel use multiprocess techniqu manual programmat requir _horizons_ lhorizon jpl design _horizons_ support parallel queri tightli throttl request attempt look function lhorizonhandl polit altern lhorizon offici support observ ephemeri vector horizon queri oscul element queri offici support may behav unexpect way support element queri plan support report bug make featur request get support casespecif use lhorizon pleas file issu github repositori broader question lhorizon usag pleas email mstclairmillionconceptscom contribut welcom contribut lhorizon may simpli submit pull request repositori although idea larg new featur major architectur chang encourag discuss us first pleas email mstclairmillionconceptscom acknowledg develop lhorizon support partli nasa solar system observ grant remot measur lunar heat flow earth base radio astronomi pi matthew siegler licens almost anyth softwar like subject extrem permiss term bsd claus licenselicens lhorizon benchmark introduct lhorizon strongli diverg fork astroqueryjplhorizon compar jplhorizon offer fuller coverag mani horizon api area wide array helper function option target modul provid spice integr bodycentr coordin transform consist modular extens interfac increas perform notebooksscript directori illustr sever perform differ jplhorizon lhorizon instal _all instruct assum consol benchmark directori work instal conda_ extra file distribut repositori necessari run benchmark retriev file run curl samplestarxz httpszenodoorgrecordfilessamplestarxz subsequ decompress tar xf samplestarxz dont access curl tar xzip librari also download file zenodo browser unzip gui program zip addit depend also necessari run benchmark run conda env creat f benchenvironmentyml get minim work conda env youd rather use conda also simpli inspect benchenvironmentymlbenchenvironmentyml instal depend howev youd like activ env run conda activ lhbench instal lhorizon env run pip instal e run jupyt jupyt notebook jupyt interfac open performance_notesipynb notebook also tri memoryprofil script run python profile_jplhorizons_memorypi python profile_lhorizon_memorypi titl lhorizon geometri target via jpl _horizons_ tag python planetari scienc ephemerid author name michael st clair orcid affili name matthew siegler affili affili name chief technic offic million concept index name research scientist planetari scienc institut index date june bibliographi paperbib summari lhorizon help locat natur artifici bodi featur solar system built around thick python wrapper jet propuls laboratori jpl solar system dynam group _horizons_ servic giorgini_ _horizons_ one provid readytogo noassemblyrequir geometri data almost everi object solar system interfac _horizons_ exist see relat work sever exampl lhorizon particularli optim stabil timetovalu larg queri process result refer arbitrari topocentr coordin system lhorizon offer flexibl idiomat highli perform pseudoapi _horizons_ return data standard scientif python object _numpy_ harrisarray ndarray _pandas_ datafram rebackpanda provid special handl function bulk chunk bodylist queri also includ ancillari modul lhorizontarget find footprint observ boresight field view topocentr coordin target bodi wrote lhorizon support research effort use earthbas radio telescop includ arecibo larg array vla perform heat flow map moon need coregist data exist model specif interest answer question like lunar latitud longitud arecibo point earthbas radio telescop primarili design answer question nearbi bodi process pipelin arent readili suit goal like produc lunar map use instrument unusu way also result addit measur uncertainti _eg_ geometr uncertainti want minim _horizons_ appeal data sourc due high precis microarcsecond moon posit rel earth relev time frame well limit precis introduc constraint abil deliv tabl posit rel arbitrari topocentr point nativ referenc geodet datum host bodi _eg_ wg earth robust correct lighttim gravit delay aberr howev million data point wide dispers across time observ locat need highli perform programmat interfac achiev task pleas discov _astroquery_ ginsburg_ project includ modul queri _horizons_ call jplhorizon modul written primarili michael mommert around tightli integr _astroquery_ use _astroquery_ session handler pars system return result _astropy_ tabl unfortun discov due chang behavior horizon cgi endpoint part jplhorizon probabl work well longer work implement workaround discov perform jplhorizon inadequ use case _astroquery_ parser _astropy_ tabl power power come perform cost cost irrelev mani applic quit relev use case ten hundr thousand data point per analysi wrote entir new respons parser use builtin _numpy_ _pandas_ result perform improv factor x sinc signific backend improv _astropy_ tabl lhorizon typic offer x speed memori reduct latest version jplhorizon benchmark notebook avail github repositori submit minim workaround api issu _astroquery_ chang made fork extens fold _astroquery_ via pr especi remov _astropy_ object idiom one major design goal name fork lhorizon continu develop distinct project statement need jpl geometri product essenti element academ industri project relat planetari scienc astronomi geoscienc mani field use applic involv artifici satellit data analysi mission design posit solar system bodi even simpl quantiti like solar angl arbitrari earth locat thu invalu public resourc unfortun alway easi use jpl offer two autom interfac geometri product spice toolkit naif_spice_data develop naif nasa navig ancillari inform facil _horizons_ spice power present high barrier entri use spice requir acquir configur softwar also collect appropri data file call kernel central repositori kernel naif websit come closest crucial kernel scatter across hundr planetari data system pd archiv load consist kernel pool challeng requir script domainspecif markup languag learn spice toolkit challeng specialist gener user need quick access geometri data spice implement exist sever languag excel wrapper exist notabl idiomat python wrapper _spiceypy_ annex_ solv conceptu data access difficulti spice _horizons_ comparison userfriendli implement util spice toolkit offer flexibl spice contain state inform mani site bodi spice kernel exist _horizons_ offer sever interfac method interact web telnet email web cgi bulk queri cgi endpoint easi compos pars respons straightforward simpli build url interfac pars return text significantli improv access solar system geometri data lhorizon like use case includ calcul solar angl mar determin precis distanc solar system barycent artifici satellit find selenodet coordin pixel within field view terrestri telescop point moon includ jupyt notebook repositori illustr use offici rest api _horizons_ forthcom yet avail detail capabl publicli releas giorgini_ like highlevel wrapper api use plan updat lhorizon fill role relat work mani wrapper helper interfac _horizons_ develop though incomplet defunct encapsul applic includ _pynasahorizons_ vector queri wrapper abandon sinc longer function py_nasa_horizons_repo mihok _horizonjpl_ rest api abandon sinc longer function horizon_jpl_repo feje _jshorizons_ javascript librari focus physic rather geometri data js_horizons_repo broadli librari like astropycoordin astropy_ _skyfield_ skyfield_ perform calcul base jpl ephemerid similar applic lhorizon consid potenti user applic space also includ lowerlevel ephemeri toolkit spice may prefer applic instanc calceph calceph librari develop imcc observatoir de pari offer interfac mani program languag compat wider varieti ephemeri format spice acknowledg work support nasa solar system work grant nnxaqg nasa solar system observ grant nnxafg refer tabl content _response_parsers_response_pars make_lhorizon_dataframe_response_parsersmake_lhorizon_datafram clean_visibility_flags_response_parsersclean_visibility_flag clean_up_vectors_series_response_parsersclean_up_vectors_seri clean_up_observer_series_response_parsersclean_up_observer_seri clean_up_series_response_parsersclean_up_seri polish_lhorizon_dataframe_response_parserspolish_lhorizon_datafram solutionssolut ray_sphere_equationssolutionsray_sphere_equ get_ray_sphere_solutionsolutionsget_ray_sphere_solut lambdify_systemsolutionslambdify_system make_ray_sphere_lambdassolutionsmake_ray_sphere_lambda configconfig _request_formatters_request_formatt format_geodetic_origin_request_formattersformat_geodetic_origin format_geodetic_target_request_formattersformat_geodetic_target format_epoch_params_request_formattersformat_epoch_param make_commandline_request_formattersmake_commandlin assemble_request_params_request_formattersassemble_request_param basebas lhorizonbaselhorizon dataframebaselhorizondatafram tablebaselhorizont check_queriedbaselhorizoncheck_queri querybaselhorizonqueri prepare_requestbaselhorizonprepare_request __str__baselhorizon__str__ __repr__baselhorizon__repr__ targeter_utilstargeter_util array_reference_shifttargeter_utilsarray_reference_shift targettarget targetertargettarget __init__targettargeter__init__ find_targetstargettargeterfind_target find_target_gridtargettargeterfind_target_grid transform_targets_to_body_frametargettargetertransform_targets_to_body_fram handlershandl estimate_line_counthandlersestimate_line_count chunk_timehandlerschunk_tim datetime_from_horizon_epochshandlersdatetime_from_horizon_epoch construct_lhorizon_listhandlersconstruct_lhorizon_list query_all_lhorizonshandlersquery_all_lhorizon list_siteshandlerslist_sit list_majorbodieshandlerslist_majorbodi get_observer_quantity_codeshandlersget_observer_quantity_cod lhorizon_utilslhorizon_util listifylhorizon_utilslistifi snormlhorizon_utilssnorm hunt_csvlhorizon_utilshunt_csv are_inlhorizon_utilsare_in is_itlhorizon_utilsis_it utc_to_tt_offsetlhorizon_utilsutc_to_tt_offset utc_to_tdblhorizon_utilsutc_to_tdb dt_to_jdlhorizon_utilsdt_to_jd numeric_columnslhorizon_utilsnumeric_column produce_jd_serieslhorizon_utilsproduce_jd_seri time_series_to_etlhorizon_utilstime_series_to_et sphcartlhorizon_utilssphcart cartsphlhorizon_utilscartsph hatslhorizon_utilshat make_raveled_meshgridlhorizon_utilsmake_raveled_meshgrid default_lhorizon_sessionlhorizon_utilsdefault_lhorizon_sess perform_telnet_exchangelhorizon_utilsperform_telnet_exchang have_telnet_conversationlhorizon_utilshave_telnet_convers kernelskernel kernelsloadkernelsload load_metakernelkernelsloadload_metakernel id_response_parsersa modul _response_pars helper function pars respons text jpl horizon cgi function intend call lhorizon method gener call directli id_response_parsersmake_lhorizon_dataframea make_lhorizon_datafram python def make_lhorizon_dataframejpl_respons str topocentric_target bool fals pddatafram make datafram horizon api respons json id_response_parsersclean_visibility_flagsa clean_visibility_flag python def clean_visibility_flagshorizon_datafram pddatafram pddatafram assign name unlabel visibl flag column solar presenc lunarinterf bodi presenc istargetonnearsideofparentbodi istargetillumin drop empti id_response_parsersclean_up_vectors_seriesa clean_up_vectors_seri python def clean_up_vectors_seriespattern str seri array pdseri regular unit format text pars date vector tabl column id_response_parsersclean_up_observer_seriesa clean_up_observer_seri python def clean_up_observer_seriespattern str seri array optionalpdseri regular unit format text pars date observ tabl column id_response_parsersclean_up_seriesa clean_up_seri python def clean_up_seriesquery_typ str pattern str seri array pdseri dispatch function horizon column cleanup function id_response_parserspolish_lhorizon_dataframea polish_lhorizon_datafram python def polish_lhorizon_dataframehorizon_fram pddatafram query_typ str pddatafram make nicelyformat tabl datafram gener make_lhorizon_datafram make tractabl column name also convert distanc unit au km arcsecond degre idsolutionsa modul solut function solv bodyintersect problem use lhorizontarget current contain rayspher intersect solut could also sensibl contain express bodi differ shape idsolutionsray_sphere_equationsa ray_sphere_equ python def ray_sphere_equationsradiu float listspeq gener simpl system equat intersect ray origin direct vector x z sphere radiu radiu center mx mz idsolutionsget_ray_sphere_solutiona get_ray_sphere_solut python def get_ray_sphere_solutionradiu float farsid bool fals tuplespexpr produc solut gener rayspher equat bodi radiu radiu default take nearsid solut produc tupl sympi express object fairli slow evalu unless plan manipul would probabl rather call make_ray_sphere_lambda idsolutionslambdify_systema lambdify_system python def lambdify_systemexpress sequencespexpr expression_nam sequencestr variabl sequencespsymbol dictstr callabl return dict function substitut symbol variabl express express expression_nam serv key dict idsolutionsmake_ray_sphere_lambdasa make_ray_sphere_lambda python def make_ray_sphere_lambdasradiu float farsidefals dictstr callabl produc dict function return solut rayspher equat sphere radiu radiu idconfiga modul config configur option lhorizon modifi member modul chang default behavior lhorizon object option observer_quant default horizon quantiti column observ queri vectors_quant default horizon quantiti column vector queri timeout timeout second jpl horizons_serv address horizon cgi gateway default_head default header horizon request table_pattern tabl regex use match horizon field arguabl moreread column name assign id_request_formattersa modul _request_formatt formatt translat variou paramet option url paramet pars jpl horizon cgi mostli intend use lhorizon method probabl call directli id_request_formattersformat_geodetic_origina format_geodetic_origin python def format_geodetic_originloc map dict creat dict url paramet geodet coordin origin id_request_formattersformat_geodetic_targeta format_geodetic_target python def format_geodetic_targetloc map str creat command string geodet target id_request_formattersformat_epoch_paramsa format_epoch_param python def format_epoch_paramsepoch unionsequ map dict creat dict url paramet epoch id_request_formattersmake_commandlinea make_commandlin python def make_commandlinetarget unionstr int map closest_apparit unionbool str no_frag bool make primari command string horizon cgi request id_request_formattersassemble_request_paramsa assemble_request_param python def assemble_request_paramscommandlin str query_typ str extra_precis bool max_hour_angl float quantiti str refract bool refsystem str solar_elong sequencefloat vec_corr str vec_tabl int ref_plan str dictstr finalstag assembl horizon cgi url paramet idbasea modul base base modul lhorizon implement class lhorizon use queri jpl horizon httpsssdjplnasagovhorizonscgi solar system ephemerid servic idbaselhorizona lhorizon object python class lhorizon jpl horizon interfac object core class lhorizon paramet target unionint str mutablemap origin unionint str mutablemap epoch optionalunionstr float sequencefloat map none session optionalrequestssess none target unionint str mutablemap name number design object queri moon use target pass arbitrari topocentr coordin also provid dict like python lon longitud deg lat latitud deg north posit south neg elev elev km refer ellipsoid bodi horizon bodi id central bodi option earth use provid horizon must possess rotat model refer ellipsoid central bodi order process topocentr queri dont expect work artifici satellit small bodi instanc also note horizon alway treat westlongitud posit prograd bodi eastlongitud posit retrograd bodi notabl except earth moon sun despit fact prograd treat eastlongitud posit three bodi origin unionint str mutablemap coordin origin repres central bodi observ locat use code jpl horizon case text work case locat provid earth center use arbitrari topocent coordin also given dict format target paramet epoch optionalunionstr float sequencefloat map either scalar astropytim parsabl format list epoch jd iso dt format dict defin rang time date timescal utc observ queri tdb vector queri epoch provid current time use scalar rang dictionari prefer list tend process easili horizon rang dictionari format python startyyyymmdd hhmmssfff stopyyyymmdd hhmmssfff stepnydhm unit provid step horizon evenli divid period start stop n interv session optionalrequestssess session object optim api call new session gener one pass allow_long_queri bool fals true allow long charact url use queri jpl horizon often truncat serversid result unexpect output allow default query_opt dict option lowerlevel option pass jpl horizon option meaning queri see jpl document fuller descript option allow key valu type airmass_lessthan int cut point airmass valu solar_elong sequenceint eg suppress time angular separ sun target degre exce valu max_hour_angl float suppress time local hour angl earth topocentr locat exce valu angular hour rate_cutoff float suppress time observertarget rel rate arcsecondshour exce valu skip_daylight bool fals suppress time sun visibl observ refract bool fals appli correct atmospher refract earth site refsystem str j base coordin refer system default j earth mean equat equinox januari close align icrf equival spice j also b fk earth mean equat quantiti str horizon quantiti code express commasepar string default queri type set lhorizonconfig see jpl document full list code return avail quantiti extra_precis boolfals return full avail precis radec valu observ tabl attribut paramet also access class attribut howev suggest user modifi target origin epoch query_typ initi session query_opt allow_long_queri modifi lhorizonprepare_request must call order chang attribut affect subsequ queri jpl horizon request requestpreparedrequest object request jpl horizon respons requestsrespons object respons jpl horizon examin lhorizonresponsecont diy altern use lhorizont lhorizondatafram method method idbaselhorizondataframea lhorizondatafram python def datafram pddatafram return datafram contain minimallyformat respons text jpl horizon column name quantiti sent almost chang whitespac strip function trigger queri jpl horizon queri yet sent otherwis use cach respons idbaselhorizontablea lhorizont python def tabl pddatafram return datafram addit format regular column name cast time datetim attempt regular unit content ms jpl horizon extrem wide rang specialcas respons format heurist prune necessari column appear perform incorrect convers fall back lhorizondatafram function trigger queri jpl horizon queri yet sent otherwis use cach respons idbaselhorizoncheck_querieda lhorizoncheck_queri python def check_queri bool determin whether lhorizon queri current format request note manual chang request paramet queri lhorizon subsequ call lhorizonprepare_request lhorizoncheck_queri incorrectli return true idbaselhorizonquerya lhorizonqueri python def queryrefetch bool fals none send lhorizon currentlyformat request jpl horizon updat lhorizon respons attribut alreadi fetch ident paramet dont fetch unless explicitli told idbaselhorizonprepare_requesta lhorizonprepare_request python def prepare_request prepar request use activ session paramet call automat lhorizon__init__ also call queri paramet request manual alter idbaselhorizon__str__a lhorizon__str__ python def __str__ string represent lhorizon object instanc idbaselhorizon__repr__a lhorizon__repr__ python def __repr__ string represent lhorizon object instanc idtargeter_utilsa modul targeter_util idtargeter_utilsarray_reference_shifta array_reference_shift python def array_reference_shiftposit array time_seri sequenc origin str destin str wide bool fals use spice spiceypi transform array posit vector origin frame destin frame time time_seri also comput spheric represent coordin time_seri must et second sinc j appropri spice kernel must load prior call function use spiceypyfurnsh even higherlevel interfac furnsh like lhorizonkernelsload_metakernel idtargeta modul target idtargettargetera target object python class target idtargettargeter__init__a targeter__init__ python def __init__target ephemeri solut mappingstr callabl none target_radiu optionalfloat none target lhorizon instanc datafram datafram must column name ra dec dist az alt dist x z lhorizon instanc observ queri use ra_app_icrf dec_app_icrf vector use xyz solut map function accept six arg x z x z return least x z posit intersect howev defin compat function modul return nan valu case intersect found paramet pass gener rayspher solut pass target radiu target_radiu use intersect solut pass gener system rayspher intersect solut target bodi radiu idtargettargeterfind_targetsa targeterfind_target python def find_targetspoint unionpddatafram lhorizon none find target use point vector pass datafram lhorizon time seri must match time seri bodi ephemeri store pass point selfephemeridespoint solut selfephemeridestopocentr note target center vector point vector must frame refer downstream result silli pass set point without time field assum time field ident time field selfephemeridesbodi unless someth extrem fanci solver intersect geometr quantiti thu reintroduc error due lighttim rotat aberr etc target bodi surfac target bodi center consider less error dont correct vector origin target bodi center idtargettargeterfind_target_grida targeterfind_target_grid python def find_target_gridraveled_meshgrid pddatafram none find target singl moment time grid coordin express output lhorizon_utilsmake_raveled_meshgrid store selfephemeridestopocentr ravel meshgrid selfephemeridespoint nontimerel caveat targeterfind_target appli idtargettargetertransform_targets_to_body_framea targetertransform_targets_to_body_fram python def transform_targets_to_body_framesource_framej target_framej transform target source_fram body_fram must initi selfephemeridestopocentr use find_target find_target_grid call function idhandlersa modul handler modul contain number special queri constructor relat helper function lhorizon idhandlersestimate_line_counta estimate_line_count python def estimate_line_counthorizons_dt mutablemappingstr dtdatetim seconds_per_step float estim number line return _horizons_ given queri give correct answer case airmass hour angl restrict option set use bulk queri constructor help split larg queri across multipl lhorizon idhandlerschunk_timea chunk_tim python def chunk_timeepoch mutablemap chunksiz int listdict chunk time seri interv return chunksiz line _horizons_ idhandlersdatetime_from_horizon_epochsa datetime_from_horizon_epoch python def datetime_from_horizon_epochsstart str stop str step unionint str convert epoch dict datetim order estim respons length idhandlersconstruct_lhorizon_lista construct_lhorizon_list python def construct_lhorizon_listepoch mutablemap target unionint str mutablemap origin unionint str mutablemap session optionalrequestssess none query_typ str observ query_opt optionalmap none chunksiz listlhorizon construct list lhorizon intend queri return line current hard limit _horizons_ cgi function take argument lhorizon epoch must specifi dictionari time iso format note function support chunk long list explicitlydefin individu epoch queri type extrem ineffici _horizons_ deliv mani quick success typic caus tightli throttl request idhandlersquery_all_lhorizonsa query_all_lhorizon python def query_all_lhorizonslhorizon sequencelhorizon delay_between delay_retri max_retri queri sequenc lhorizon use share session care close socket paus regener session paus longer interv _horizons_ reject queri idhandlerslist_sitesa list_sit python def list_sitescenter_bodi int pddatafram queri _horizons_ name site recogn specifi bodi format respons datafram bodi specifi use earth idhandlerslist_majorbodiesa list_majorbodi python def list_majorbodi pddatafram queri horizon currentlyrecogn major bodi format respons datafram idhandlersget_observer_quantity_codesa get_observer_quantity_cod python def get_observer_quantity_cod str retriev observ quantiti code tabl horizon telnet interfac idlhorizon_utilsa modul lhorizon_util idlhorizon_utilslistifya listifi python def listifyth list alway list thing want list use care idlhorizon_utilssnorma snorm python def snormth minimum float maximum float optionalfloat none optionalfloat none unionlistfloat float simpl minmax scaler minimum maximum limit rang return sequenc option paramet specifi floor ceil valu input actual minimum maximum singl valu pass thing return float otherwis return sequenc float idlhorizon_utilshunt_csva hunt_csv python def hunt_csvregex pattern bodi str list find chunk csv larger string defin regex split return list realli use singl line wors stringio numpi panda csv reader case idlhorizon_utilsare_ina are_in python def are_initem iter oper callabl and_ callabl iter function return function check singl argument contain chang oper perhap item idlhorizon_utilsis_ita is_it python def is_ittyp type callableani bool partiallyevalu predic form isinst idlhorizon_utilsutc_to_tt_offseta utc_to_tt_offset python def utc_to_tt_offsettim dtdatetim float return number second necessari advanc utc tt arent present support date prior fraction leap second handl anoth thing idlhorizon_utilsutc_to_tdba utc_to_tdb python def utc_to_tdbtim uniondtdatetim str dtdatetim return time tdb jpl horizon coordin time pass time utc may case closer tt offset ms worst case work time fraction leap second handl string assum utc pass datetim must timezoneawar idlhorizon_utilsdt_to_jda dt_to_jd python def dt_to_jdtim uniondtdatetim pdseri unionfloat pdseri convert pass datetim seri datetim julian day number jd algorithm deriv julian date articl scienceworldwolframcom base danbi j _fundament celesti mechanics_ idlhorizon_utilsnumeric_columnsa numeric_column python def numeric_columnsdata pddatafram liststr return list numer column datafram idlhorizon_utilsproduce_jd_seriesa produce_jd_seri python def produce_jd_seriesepoch uniontimelik sequencetimelik pdseri convert pass epoch julian day number jd scale assum utc may cours produc slightli spuriou result date futur leap second yet assign float floatlik string interpret jd modifi input mix time format scale like produc undesir behavior idlhorizon_utilstime_series_to_eta time_series_to_et python def time_series_to_ettime_seri union str sequencestr dtdatetim sequencedtdatetim pdseri pdseri convert time second sinc j epoch scale prefer spice accept anyth panda cast seri interpret datetim timezoneawar assum input utc idlhorizon_utilssphcarta sphcart python def sphcartlat unionfloat array lon unionfloat array radiu unionfloat array unit str degre convert spheric cartesian coordin assum input degre default pass unitradian specifi input radian pass arraylik object return datafram otherwis return tupl valu caveat assum coordin convent latitud run degre idlhorizon_utilscartspha cartsph python def cartsphx unionfloat array unionfloat array z unionfloat array unit str degre unionpddatafram tupl convert cartesian spheric coordin return degre default pass unitradian return radian pass arraylik object return datafram otherwis return tupl valu caveat assum coordin convent latitud run degre return longitud strictli posit coordin idlhorizon_utilshatsa hat python def hatsvector unionnpndarray pddatafram pdseri unionnpndarray pddatafram pdseri convert array pass vector rowwisestack sequenc float unit vector idlhorizon_utilsmake_raveled_meshgrida make_raveled_meshgrid python def make_raveled_meshgridax sequencenpndarray axis_nam optionalsequencestr int none produc flatten index version meshgrid cartesian product axe stand vector space convent produc numpymeshgrid idlhorizon_utilsdefault_lhorizon_sessiona default_lhorizon_sess python def default_lhorizon_sess requestssess return requestssess object default lhorizon option idlhorizon_utilsperform_telnet_exchangea perform_telnet_exchang python def perform_telnet_exchangemessag byte read_until_thi byte connect telnet byte send messag via connect block read_until_thi receiv connect timeout met return input encount read_until_thi idlhorizon_utilshave_telnet_conversationa have_telnet_convers python def have_telnet_conversationconversation_structur sequencetuplebyt byte connect telnet lazi bool fals unioniter tuplebyt perform seri noninteract telnet exchang via connect return output exchang lazi true return convers iter perform yield output exchang increment idkernelsa modul kernel idkernelsloada modul kernelsload idkernelsloadload_metakernela load_metakernel python def load_metakernel conveni wrapper spiceypyfurnsh thu spice furnsh imposs accur target path flexibl way insid spice metakernel sweep directori structur messi rug lhorizon instal guid step instal conda alreadi anaconda miniconda instal comput skip step old work well uninstal first definit dont recommend instal multipl version conda unless strong specif reason get conda part miniconda distribut pythonhttpsdocscondaioprojectscontinuumiocondaenlatestuserguideinstallindexhtml download appropri version instal oper system processor architectur case bit follow instruct websit set environ make sure download miniconda miniconda lhorizon compat python step creat conda environ conda instal set python environ use lhorizon open termin window anaconda prompt window termin maco consol emul choic linux navig directori put repositori run command conda env creat f environmentyml say ye prompt let instal finish run conda env list see lhorizon list environ run conda activ lhorizon python environ contain packag lhorizon need import youv creat environ alway activ whenev work lhorizon cant activ environ see common gotcha step instal lhorizon site packag lhorizon environ activ run python setuppi instal lhorizon import code run use lhorizon environ go tri exampl jupyt notebook run jupyt notebook navig lhorizonexampl directori common gotcha get error messag run notebook lhorizon code make sure activ theconda environ run conda activ lhorizon use multipl shell maco linux conda automat set one detect system default cant activ environ check differ shell explicitli run conda init name_of_your_shel youv alreadi got instal version conda system instal addit version without uninstal old one may make environ setup challeng recommend instal multipl version conda unless realli need