titl celloc python packag analysi confluent cell layer dynam tag python microscopi dynam confluent cell layer author name jen erikssoncorrespond author orcid affili name daniel styrström affili name mikael e sellin orcid affili affili name scienc life laboratori depart medic biochemistri microbiolog uppsala univers index name daniel styrström consult index date august bibliographi paperbib summari studi coordin cell tissu movement within confluent cell layer give insight divers biolog phenomena wound heal cancer cell metastasi host cell respons infect cellular dynam studi typic reli analysi time laps imag gener live cell microscopi result recent progress stem cell development biolog often possibl gener confluent cell layer primari cell recapitul central featur intact tissu dutton howev one disadvantag primari cell model system remain technic challeng gener imag fluoresc label live sampl complic use segment singleparticl track mean studi cellular movement danus consequ optic flowbas analysi bright field black white microscopi imag provid competit method extract cell dynam inform sensit lowcontrast experiment model system vig studi confluent cell layer dynam lie intersect biophys cell biolog two research commun differ emphasi mathemat need simpl easytous framework perform visual optic flow analysi microscopi data present celloc python packag optic flow particl imag velocimetri piv analysi specif cater bioimag commun statement need date optic flow piv analysi microscopi data primarili reli differ plugin imagej piv analyserhttpsimagejnetpiv_analys matlab script vig howev method limit access analysi capac metadata handl data visual capabl optic flow piv commonli use field fluid dynam taylor comput vision bradski sever open sourc framework exist servic commun eg openpivhttpwwwopenpivnet jpivhttpseguvepgithubiojpivindexhtml opencvhttpsopencvorg bradski correspond framework bioimag cell biolog applic far lack celloc pythonbas bioimag analysi tool quantifi cell tissu dynam develop flexibl framework research interest investig dynam behavior within confluent cell layer address optic flowpiv need uniqu microscopi commun celloc allow user test evalu divers set preprocess step analysi algorithm packag paramet experiment data provid uniform program interfac work mani aspect cell dynam analysi pipelin read preprocess raw microscopi data creat flow visual figur help matplotlibhttpsmatplotliborg hunter numpyhttpsnumpyorg vanderwalt use extens celloc array process openpivpythonhttpwwwopenpivnetopenpivpython liberzon provid piv analysi backbon opencv implement gunnar farenbäck optic flow algorithm farneback basi optic flow analysi one uniqu featur microscopi data spatial resolut pixel size known high degre accuraci togeth frame timestamp use calcul accur flow veloc major problem perform preprocess time laps microscopi data exampl tempor median filter oper sometim chang time interv frame andor pixel size celloc design keep track recalcul time space unit oper report back erron output data user possibl configur celloc give output differ unit µmmin µmh depend time scale experi analyz moreov celloc calcul deriv paramet includ instantan order paramet malinverno ii align index malinverno andor iii sigma correl length laang therebi provid user comprehens tool box describ confluent cell layer dynam phenomena valid softwar valid test differ modul compon celloc valid dataset construct dataset deposit biostudi databas access number sbssthttpswwwebiacukbiostudiesstudiessbsst compris collect file gener translat imag fix monolay murin primari gut epithelium highprecis linear microscop stage use wide select magnif imag acquir stage translat um either x direct simultan frame dataset describ detail valid sectionhttpscellocityreadthedocsioenlatestvalidationhtml celloc document download dataset allow user contributor celloc softwar valid test instal custom modul standard compris realworld data flow known uniform data synthet gener pass optic transfer function otf actual microscop setup main advantag celloc abil work unlabel bright field time laps microscopi data quantifi visual abstract optic flow analys user celloc aim make optic flowbas analysi microscopi data easili access provid framework keep track imag metadata perform common preprocess step implement previous publish analysi algorithm malinverno laang architectur celloc design extens modular mind implement new analysi modul imag reader visual straight forward help celloc develop guidehttpscellocityreadthedocsioenlatestdeveloperhtml apihttpscellocityreadthedocsioenlatestapihtml acknowledg thank pilar samperio ventayol prepar fix murin intestin epitheli monolay use gener valid dataset work financ scilifelab fellow program swedish foundat strateg research ica also acknowledg support knut alic wallenberg foundat malin lennart philipson foundat lp award enabl develop imag technolog use studi refer celloc celloc python packag allow user perform optic flow piv analysi microscopi data intend help exploratori data acquisit phase cell layer dynam project exploratori phase sever differ algorithm set preprocess function evalu acquisit phase pipelin hard code process multipl data set predetermin seri step veloc vector analysi microscopi data celloc creat vector field visual speed graph multipl advanc vector field analys calcul instantan order paramet align index correl length migrat cell document softwar valid document avail read docshttpscellocityreadthedocsioenlatest also find extens chapter valid celloc softwar cite celloc want cite celloc work use joss public doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss contribut welcom appreci simpli fork github repositori creat pull requesthttpsgithubcomoftatkoftacellocitypul inform found herehttpsgithubcommarcdiethelmcontributingblobmasterreadmemd pleas make sure document string written restructuredtext sphinxautodochttpswwwsphinxdocorgenmasterusageextensionsautodochtml gener automat api document would also greatli appreci gener architectur channel analyz analysi object maintain read organ function object herehttpscellocityreadthedocsioenlatestintroductionhtmlcellocityarchitectur name bug report creat report improv celloc titl bug label bug assigne oftatkofta describ bug clear concis descript bug reproduc step reproduc behavior expect behavior clear concis descript expect happen screenshot applic add screenshot help explain problem desktop pleas complet follow inform os eg io python version eg opencv version tifffil verson addit context add context problem name featur request suggest idea project titl featur label enhanc assigne oftatkofta featur request relat problem pleas describ clear concis descript problem ex im alway frustrat describ solut youd like clear concis descript want happen describ altern youv consid clear concis descript altern solut featur youv consid addit context add context screenshot featur request develop inform section contain inform relev develop extend celloc function also contain random tidbit gener inform uncov develop process framework present hope someon may find use contribut celloc contribut welcom appreci fork github repositori creat pull request httpsgithubcomoftatkoftacellocitypulls_ inform found httpsgithubcommarcdiethelmcontributingblobmasterreadmemd_ pleas make sure document string written restructuredtext sphinxautodoc httpswwwsphinxdocorgenmasterusageextensionsautodochtml_ gener automat api document would also greatli appreci gener architectur channel analyz analysi object maintain bug report featur request bug repost featur request submit github httpsgithubcomoftatkoftacellocityissuesnewchoose_ note metadata file format goe without say need well calibr microscop write correct metadata imag file order perform meaning cell dynam analysi minim amount inform need data pixel size time resolut frame imag format specif metadata micromanagermetadata ijmetadata contain inform constitut primari sourc use throughout celloc micromanag save metadata privat ifd tag tifffil read dict access via tifmicromanager_metadata structur dictionari annoyingli slightli differ beta gamma branch micromanag gamma frame interv store tifmicromanager_metadatasummaryinterval_m beta store tifmicromanager_metadatasummarywaitinterv discrep probabl due fact valu record wait interv time frame acquisit actual frame interv possibl setup acquisit frame interv microscop physic keep therefor celloc perform addit saniti check individu time stamp frame see channeldoframeintervalsanitycheck order make sure run problem analysi pixel resolut micromanag vs imagej tif file relev standard tag tiff specif httpswwwadobeioopenstandardstiffhtml_ xresolut yresolut resolutionunit resolut tag ration number mean gener divid two bit integ valu resolutionunit specifi either none inch centimet unit specifi micromanag save ometif write round valu xresolut yresolut tif tag set resolutionunit tag centimet valu carri less precis pixelsizeum entri custom tifftag micromanagermetadata tiff correctli readabl roughli intact size calibr data reader obey tiff standard imagej v p save hyperstack tif write pixel width pixel height valu xresolut yresolut tag higher precis howev set resolutionunit tag none probabl micron standard micrograph unit specifi tiff standard creat imag format reader want develop reader microscop raw data suggest look tiffil project httpspypiorgprojecttifffile_ alreadi implement read mani common tifformat multipl microscop vendor trivial addit tweak channel object creat subclass version specif file format sinc channel object basic extens tifffil object pragmat easiest way get nonsupport imag data set celloc open fiji bioformat import thereaft resav hyperstack tif make sure relev imag properti set correctli use imagejread capabl built celloc tiffil detail descript mathsigma correl length analysi algorithm mathsigma correl length defin largest distanc mathr averag angl two veloc vector mathr micromet apart math statist signific level mathsigma mathp algorithm step select mathn vector along top left bottom right diagon flowanalyz output veloc vector array mathmathbfv_ mathmathbfv_ expand linearli one rowcolumn posit time along cardin direct updownleftright calcul angl mathmathbfv_ vector mathmathbfv_r posit includ mask posit posit outsid array angl maththeta mathmathbfv_ calcul formula mathco theta fracleftlangl mathbfv_ ast mathbfv_r rightrangl leftlangl left mathbfv_ right ast left mathbfv_r right rightrangl record angl distanc mathmathbfv_ mathmathbfv_r mathn time point matht distanc mathr time point matht averag angl record distanc maththeta left r right fracn ast mathop sum limits_i n co left fracleftlangl mathbfv_ ast mathbfv_r rightrangl leftlangl left mathbfv_ right ast left mathbfv_r right rightrangl right comput angular veloc correl length time point defin maximum distanc maththeta math statist signific mathsigma mathc_vvleft right mathopmax limits_r infti left r rightleft mathrmavgleft theta rightleft r right ast mathrmsemtheta r circ right valid celloc softwar valid dataset order valid underli analyz celloc gener ground truth realworld microscopi dataset dataset gener translat imag dic contrast fix monolay primari gut epithelium high precis linear microscop stage use wide select magnif imag acquir stage translat mathmu either x direct simultan frame imag acquir nikon eclips ti microscop equip photometr prime b camera x um pixel size gener structur dataset outlin tabl object tube len total pixel size um x translat um translat um filenam magnif nikon x air plnapolmbd x x fixed_monolayer_dic_x_dxum_dyum__mmstackometif nikon x air plnapolmbd x x fixed_monolayer_dic_x_dxum_dyum__mmstackometif nikon x air plnapolmbd x x fixed_monolayer_dic_x_dxum_dyum__mmstackometif nikon x air plnapolmbd x x fixed_monolayer_dic_x_dxum_dyum__mmstackometif nikon x air plnapolmbd x x fixed_monolayer_dic_x_dxum_dyum__mmstackometif nikon x air plnapolmbd x x fixed_monolayer_dic_x_dxum_dyum__mmstackometif nikon x air splnfl x x fixed_monolayer_dic_x_dxum_dyum__mmstackometif nikon x air splnfl x x fixed_monolayer_dic_x_dxum_dyum__mmstackometif nikon x air splnfl x x fixed_monolayer_dic_x_dxum_dyum__mmstackometif nikon x air splnfl x x fixed_monolayer_dic_xopt_dxum_dyum__mmstackometif nikon x air splnfl x x fixed_monolayer_dic_xopt_dxum_dyum__mmstackometif nikon x air splnfl x x fixed_monolayer_dic_xopt_dxum_dyum__mmstackometif nikon x air splnfl x x fixed_monolayer_dic_x_dxum_dyum__mmstackometif nikon x air splnfl x x fixed_monolayer_dic_x_dxum_dyum__mmstackometif nikon x air splnfl x x fixed_monolayer_dic_x_dxum_dyum__mmstackometif dataset allow us compar golden standard cell layer dynam analysi particl imag velocimetri piv analysi less frequent use optic flow analysi conclus mirror found vig_ optic flow analysi inde superior piv analysi respect accuraci effici follow section substanti find analys run earli dell xp laptop run window download valid dataset dataset deposit biostudi databas access number sbsst httpswwwebiacukbiostudiesstudiessbsst_ download perform valid local instal valid figur regener local instal run follow code codeblock python celloc import valid pathlib import path inpath pathpathtosbsst outpath pathpathtooutputfold validationrun_base_validationinpath outpath altern valid code run script found test codeblock python run_base_validationpi pathtosbsst pathtooutputfold time gener figur chapter chosen output folder test sgigma analysi run follow code codeblock python celloc import valid pathlib import path inpath pathpathtosbsst outpath pathpathtooutputfold validationrun_sigma_validationinpath outpath altern valid code run script found test codeblock python run_sigma_validationpi pathtosbsst pathtooutputfold first well start look base valid process time figur _staticprocess_time_comparepng align left alt figur compar process time optic flow vs piv figur show violin plot process time individu file test dataset process time second denot time run either openpivanalyz farenbackanalyz channel medianchannel object creat file dataset file xx bit array optic flow clearli faster process file factor x let compar overal accuraci sinc dataset creat translat high precis stage well calibr microscop know speed appar flow depend translat distanc case translat stage mathmu imag set frame interv second speed mathmu ms x translat mathsqrt mathmu ms xy translat analysi flow speed figur _staticavg_speed_comparepng align left alt figur compar averag speed calcul optic flow vs piv figur show box plot averag speed frame file test dataset yaxi denot speed mathmu ms read calculateaveragespe method flowspeedanalys analyz produc result close expect openpivanalyz tendenc underestim speed greater varianc cell monolay grown loos hydrogel support use valid dataset seldom complet planar portion often focu imag phenomenon also captur analysi draw visual flow gener superimpos background channel studi phenomenon detail qualit vector field comparison figur _staticx_vector_panels_comparepng align left alt figur compar vector visual optic flow vs piv figur show flow vector visual x crop bottom right corner final frame x magnif file dataset imag gener use draw_all_flow_frames_superimpos method common flowanalysi object horizont scale bar denot flow mathmu ms studi figur allow us get deeper understand optic flow piv differ note area bottom right corner properli focus caus piv algorithm problem accur determin flow illustr inhomogen vector field error quantifi calcul align index measur well compon vector align averag flow test dataset flow close complet uniform give expect align index quantit vector field comparison figur _staticalignment_index_comparepng align left alt figur compar averag frame align index optic flow vs piv figur show box plot averag align index frame file test dataset yaxi denot align index dimensionless read getavgalignidx method alignmentindexanalysi quantifi well vector field align allow us confirm intit observ piv analysi produc variabl direct flow vector optic flow gener align index close expect valu even tempor median filter figur _staticiop_comparepng align left alt figur compar averag frame instantan order paramet optic flow vs piv figur show box plot averag instantan order paramet iop frame file test dataset yaxi denot iop dimensionless read getiop method iopanalysi instantan order paramet measur order vector field repres complet random field repres comlet homogen field vector direct magnitud expect valu test data set figur _staticx_diagonal_comparegif align left alt figur compar vector visual optic flow vs piv figur show flow vector visual diagon translat x magnif imag gener use draw_all_flow_frames_superimpos method common flowanalysi object openpivanalyz left farenbackanalyz right horizont scale bar denot flow mathmu ms lastli let look mathsigma correl length analysi mathsigma correl length way measur correl length larg vector field algorithm find averag distanc direct veloc longer significantli differ level standard deviat mathsigma algorithm origin present util laang_ detail descript found docdevelop figur _staticsigma_lcorr_comparepng align left alt figur compar well calcul sigma correl length agre theoret optic flow piv data figur show box plot well calcul mathsigma correl length agre theoret maximum valu valu express fraction calcul correl length theoret maximum valu given magnif figur gener pass either openpivanalyz right farenbackanalyz left object fivesigmaanalysi call calculatecorrelationallfram metod orang without blue tempor median filter raw input data see advantag util optic flow compar piv figur calcul correl length file frame divid size field view fov give us metric compar across magnif optic flow captur almost true correl length piv abl captur true correl length besid less accur type data piv analysi also downsampl imag give fivesigmaanalysi fewer vector use basi correl length calcul also evid averag frame process time figur _staticsigma_process_time_comparepng align left alt figur compar averag frame sigma correl length calcul time optic flow piv data figur show box plot process time individu frame test dataset process time second denot time run fivesigmaanalysi one frame input data either farenbackanalyz data left openpivanalyz data right see advantag use piv process time order magnitud lower piv data complex mathsigma correl length analysi algorithm mathon mean process time grow liearli input size possibl reduc process time optic flow data tweak r_step paramet _get_all_angl metod fivesigmaanalysi default valu mean comparison grow outward pixel per step valu would halv number comparison calcul littl expect effect final result conclus optic flow piv analysi transmit light microscopi timelaps data commonli use studi confluent cell layer dynam phenomena exampl collect cell migrat wound heal particularli relev studi primari cell due difficulti reliabl label cell track knowledg systemat evalu differ preprocess modal optic flow analysi algorithm actual realworld nonsimul microscopi data therefor anticip other find softwar packag valid dataset describ chapter use refer vig dhruv k vig alex e hambi charl w wolgemuth quantif cellular veloc field biophys journal doijbpj httpsdoiorgjbpj_ laang emma lång anna połeć anna lång marijk valk pernil blicher alexand row kim tønseth catherin j jackson tor p utheim liesbeth c janssen jen eriksson stig ove bøe coordin collect migrat asymmetr cell divis confluent human keratinocyt without wound natur commun doi httpsdoiorgs_ celloc tutori stepbystep guid tutori show load file creat classcellocitychannelchannel object preprocess channel object prepar analysi creat classcellocityanalysisanalyz object channel object extract data creat classcellocityanalysisanalysi object load file creat channel object codeblock python cellocitychannel import channel import tifffil my_filenam _channel_micromanager_timelapseometif chtoanalyz base index channel safe load file tifffiletifffilemy_filenam multifilefals tif strip ometif filenam label my_filenamesplit channelnam label _ch strchtoanalyz channel_ channelchtoanalyz tif namechannelnam warn celloc assum hold channel data ram tifffil load imag data ram creat howev upon access data channel creation cach thu increas size somewhat channel object store imag data ram get quit hefti long time laps preprocess channel object first check frame interv state metadata agreement time stamp individu frame channel within done channeldoframeintervalsanitycheckmaxdiff method discrep actual frame interv intend fix call channelfixframeinterv method overwrit intend frame interv actual averag frame interv codeblock python channel_doframeintervalsanitycheck channel_fixframeinterv note check fix frame interv current possibl micromanag ometif file individu frame timestamp lost save tif file imagej channel object conveni preprocess method trim frame tempor median filter let start trim newli creat channel frame mean discard frame frame onward end codeblock python trim channel includ frame channel_trim let employ tempor median filter mean median filter time effect filter fast move freefloat debri thu greatli reduc nois final analysi done creat child classcellocitychannelmedianchannel object median filter done glide window default bin frame medianchannel take care properli recalcul frame interv either case default frame sampl interv codeblock python cellocitychannel import medianchannel gliding_median_channel_ medianchannelchannel_ binned_frame_median_channel_ medianchannelchannel_ doglidingprojectionfals framesamplinginterv medianchannel object also creat call gettemporalmedianchannel method channel follow code give ident result exampl codeblock python argument doglidingproject true framesamplinginterv startfram stopframenon gliding_median_channel_ channel_gettemporalmedianchannelargu argument doglidingproject fals framesamplinginterv startfram stopframenon binned_frame_median_channel_ channel_gettemporalmedianchannelargu prepar analysi creat analyz object let perform optic flow analysi preprocess channel done instanti analyz object channel argument case perform optic flow analysi use farenback flow analysi opencv handl farenbackanalyz specif subtyp flowanalyz analyz farenbackanalyz take two argument one channel one unit unit string indic unit want output current um ummin umh implement celloc handl unit convers automat background codeblock python cellocityanalysi import farenbackanalyz fb_analyzer_ch farenbackanalyzerchannel gliding_median_channel_ unit umh fb_analyzer_chdofarenbackflow note quit lot effort gone select sensibl default paramet work well microscopi data flowanalyz object farenbackanalyz openpivanalyz demonstr docvalid section extract data creat analysi object great calcul optic flow channel_ default paramet time extract data done creat analysi object case want analys flow speed channel util flowspeedanalysi class work flowanalyz object codeblock python cellocityanalysi import flowspeedanalysi speed_analysis_ch flowspeedanalysisfb_analyzer_ch speed_analysis_chcalculatespe speed_analysis_chcalculateaveragespe speed calcul result store either bit tif pixel valu repres flow speed locat pixel averag speed frame save csv file process codeblock python pathlib import path savepath pathpathtosavefold speed_analysis_chsavearrayastifoutdirsavepath speed_analysis_chsavecsvoutdirsavepath fnamemyspeedscsv tunit that want detail inform pleas check docapi docvalid contain exampl differ analysi object use docdevelop contain inform submit bug report celloc document master file creat sphinxquickstart thu mar adapt file complet like least contain root toctre direct welcom celloc document toctre maxdepth caption content introduct tutori valid develop api indic tabl refgenindex refmodindex refsearch introduct celloc second pitch celloc bioimag analysi tool quantifi confluent cell layer dynam main advantag celloc abil work unlabel brightfield time laps microscopi data quantifi visual abstract optic flow analys user figur _staticspinning_logogif align left alt exampl output figur show simul raw data left vector field visual center heat map encod speed right instal celloc celloc avail python packag index latest releas instal use pip pip instal celloc also clone github repositori interest get current develop version celloc git clone httpsgithubcomoftatkoftacellocitygit celloc cd celloc pip instal e celloc requir python tifffil pythonopencv openpiv numpi panda function correctli addit need matplotlib seaborn order visual valid output perform pip instal pypi depend instal automat cite celloc found celloc use project want cite use joss public doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss celloc develop histori celloc develop multipl year sever project nucleu develop stig ove bøe httpsousresearchnohomeboegroupmembers_ research group oslo univers hospit nanoscopi gaustad httpswwwmeduionoenglishresearchcorefacilitiesadvancedlightmicroscopygaustad_ imag core facil univers oslo mani celloc core algorithm implement method sigma correl length analysi present natur commun httpswwwnaturecomarticless_ public citelaang framework current use develop analysi backbon studi microbi interact gut epithelium sellin laboratori httpswwwimbimuuseresearchgroupsinfectionandimmunitysellinmikael_ uppsala univers celloc backbon celloc built top christoph gohlk tifffil librari httpspypiorgprojecttifffile_ use tifffil object read input write output file celloc also reli heavili opencv httpsopencvorg_ citebradski openpiv httpwwwopenpivnet_ citetaylor optic flow analysi output visual numpi httpsnumpyorg_ citevanderwalt use intern imag data manipul form numpyndarray matplotlib httpsmatplotliborg_ use gener output plot citehunt celloc architectur core element celloc channel object repres one zplane one time laps imag channel channel object also handl imag preprocess tempor spatial median filter channel object given input analyz object perform specif analys data analyz object turn given analysi object take care perform analys calcul align index instantan order paramet mathpsi correl length figur _staticcellocity_architecturepng align left alt overview celloc architectur figur show overal object architectur celloc exampl algorithm vector field quantif implement instantan order paramet mathpsi mathpsi correspond perfectli uniform veloc field cell move direct speed mathpsi mathapprox expect randomli orient veloc field see citemalinverno detail align index align index describ well vector vector field align averag veloc vector see citemalinverno detail mathsigma correl length mathsigma correl length way measur correl length larg vector field find averag distanc direct veloc longer significantli differ level standard deviat mathsigma algorithm origin present util citelaang detail descript found docdevelop exampl simpl file load exampl cellocitychannel import channel tifffil import tiffil tif tifffilemyfil channel_ channel tif channel name index channel mean ch imagej simpl preprocess exampl cellocitychannel import medianchannel trim channel frame channel_trim frame glide tempor median project default channel__median medianchannelchannel_ simpl optic flow calcul exampl cellocityanalysi import farenbackanalyz flow_ch farenbackanalyzerchannel__median ummin flow_chdofarenbackflow simpl analysi data readout exampl cellocityanalysi import flowspeedanalysi speed_analysis_ch flowspeedanalysisflow_ch speed_analysis_chcalculateaveragespe speed_analysis_chsavecvspathtosavefold detail exampl pleas check tutori section support someth unclear need support pleas contact develop creat new support issu httpsgithubcomoftatkoftacellocityissues_ refer bibliographi paperbib style plain cite celloc api refer automodul celloc member channel modul automodul cellocitychannel member analysi modul automodul cellocityanalysi member valid modul automodul cellocityvalid member