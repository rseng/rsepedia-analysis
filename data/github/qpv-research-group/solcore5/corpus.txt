imagehttpsmybinderorgbadge_logosvghttpsmybinderorgvghqpvresearchgroupsolcoredevelopurlpathlab allcontributorsbadgestart remov modifi section contributorshttpsimgshieldsiobadgeall_contributorsorangesvgstyleflatsquarecontributor allcontributorsbadgeend imagehttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo imagehttpsimgshieldsiobadgelicenselgplvbluesvghttpwwwgnuorglicenseslgplhtml document statushttpreadthedocsorgprojectssolcorebadgeversionlatesthttpsolcorereadthedocsioenlatestbadgelatest solcorehttpsgithubcomqpvresearchgroupsolcoreworkflowssolcorebadgesvg codecovhttpscodecovioghqpvresearchgroupsolcorebranchdevelopgraphbadgesvghttpscodecovioghqpvresearchgroupsolcor codaci badgehttpsapicodacycomprojectbadgegradeadefedadcfcebbhttpsappcodacycomghqpvresearchgroupsolcoreutm_sourcegithubcomutm_mediumreferralutm_contentqpvresearchgroupsolcoreutm_campaignbadge_grade_set solcor solcor born modular set tool written almost entir python address task solv time howev evolv complet semiconductor solver abl model optic electr properti wide rang solar cell quantum well devic multijunct solar cell pleas visit solcor documentationhttpdocssolcoresolar tutorialdocssourceexamplestutorialrst stepbystep exampl use solcor model solar cell also check exampl folderexampl specif inform exampl usag docssourceinfographicsjpg contributor thank goe wonder peopl emoji keyhttpsallcontributorsorgdocsenemojikey allcontributorsliststart remov modifi section prettierignorestart markdownlintdis tabl tr td aligncentera hrefhttpswwwimperialacukadminservicesictselfserviceresearchsupportrcsresearchsoftwareengineeringimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbdiego alonso álvarezbsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthordalonsoa titlecodea hrefhttpsgithubcomqpvresearchgroupsolcoreissuesqauthoradalonsoa titlebug reportsa hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthordalonsoa titledocumentationa hrefexampledalonsoa titleexamplesa hrefideasdalonsoa titleidea plan feedbacka hrefinfradalonsoa titleinfrastructur host buildtool etca hrefmaintenancedalonsoa titlemaintenancea hrefhttpsgithubcomqpvresearchgroupsolcorepullsqisaprreviewedbyadalonsoa titlereview pull requestsa hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthordalonsoa titletestsaa hrefdatadalonsoa titledataatd td aligncentera hrefhttpswwwqpvgrouporgphoebepearceimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbphoeb pearcebsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthorphoebep titlecodea hrefhttpsgithubcomqpvresearchgroupsolcoreissuesqauthoraphoebep titlebug reportsa hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthorphoebep titledocumentationa hrefexamplephoebep titleexamplesa hrefideasphoebep titleidea plan feedbacka hrefmaintenancephoebep titlemaintenancea hrefhttpsgithubcomqpvresearchgroupsolcorepullsqisaprreviewedbyaphoebep titlereview pull requestsa hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthorphoebep titletestsaa hrefdataphoebep titledataatd td aligncentera hrefhttpsgithubcomtwmwilsonimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbtom wilsonbsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthortwmwilson titlecodea hrefhttpsgithubcomqpvresearchgroupsolcoreissuesqauthoratwmwilson titlebug reportsa hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthortwmwilson titledocumentationa hrefexampletwmwilson titleexamplesa hrefideastwmwilson titleidea plan feedbacka hrefhttpsgithubcomqpvresearchgroupsolcorepullsqisaprreviewedbyatwmwilson titlereview pull requestsa hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthortwmwilson titletestsaa hrefdatatwmwilson titledataatd td aligncentera hrefhttpwwwqpvgrouporgimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbn ekinsdaukesbsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthoricln titledocumentationa hrefexampleicln titleexamplesa hrefideasicln titleidea plan feedbacka hreffinancialicln titlefinanciala hrefhttpsgithubcomqpvresearchgroupsolcorepullsqisaprreviewedbyaicln titlereview pull requestsa hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthoricln titletestsatd td aligncentera hrefhttpsgithubcommarkusffimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbmarkusffbsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthormarkusff titlecodea hrefhttpsgithubcomqpvresearchgroupsolcoreissuesqauthoramarkusff titlebug reportsa hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthormarkusff titledocumentationa hrefexamplemarkusff titleexamplesa hrefideasmarkusff titleidea plan feedbacka hrefdesignmarkusff titledesignaa hrefdatamarkusff titledataatd td aligncentera hrefhttpsgithubcomjcohenimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbjeremi cohenbsubabr hrefinfrajcohen titleinfrastructur host buildtool etcatd td aligncentera hrefhttpsgithubcompiecemakerimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbjonathan adamsbsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthorpiecemak titletestsa hrefhttpsgithubcomqpvresearchgroupsolcorepullsqisaprreviewedbyapiecemak titlereview pull requestsatd tr tr td aligncentera hrefhttpsgithubcommhrownaghiimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbmohammad hosein ronaghibsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthormhrownaghi titletestsa hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthormhrownaghi titlecodeatd td aligncentera hrefhttpsgithubcomfederikoviimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbfederica trevisanbsubabr hrefexamplefederikovi titleexamplesatd td aligncentera hrefhttpsgithubcomartykoimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbartykobsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthorartyko titlecodeatd td aligncentera hrefhttpsgithubcomemmanuelcarreiraimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbemmanuel carreirabsubabr hrefexampleemmanuelcarreira titleexamplesatd td aligncentera hrefhttpsnimishvermamediumcomimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbnimish vermabsubabr hrefexamplenimishverma titleexamplesatd td aligncentera hrefhttpsgithubcomptillmannimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbpet tillmannbsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthorptillmann titlecodea hrefhttpsgithubcomqpvresearchgroupsolcoreissuesqauthoraptillmann titlebug reportsa hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthorptillmann titletestsatd td aligncentera hrefhttpsgithubcomjmllorensimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbjmllorensbsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthorjmlloren titlecodea hrefhttpsgithubcomqpvresearchgroupsolcoreissuesqauthorajmlloren titlebug reportsa hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthorjmlloren titletestsatd tr tr td aligncentera hrefhttpsgithubcomabelarmimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbluigi giuglianobsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthorabelarm titlecodea hrefinfraabelarm titleinfrastructur host buildtool etcatd td aligncentera hrefhttpsgithubcommichaelnozimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbmichael_ozbsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthormichaelnoz titlecodeatd td aligncentera hrefhttpswwwlinkedincominhrishikeshsureshimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbhrishikesh sureshbsubabr hrefexamplehrishikeshsuresh titleexamplesatd td aligncentera hrefhttpsgithubcomjscookseyimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbjustin cookseybsubabr hrefexamplejscooksey titleexamplesatd td aligncentera hrefhttpsgithubcomyuriyosimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbyura osychenkobsubabr hrefdesignyuriyo titledesignatd td aligncentera hrefhttpsgithubcomcannsimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbcannsbsubabr hrefhttpsgithubcomqpvresearchgroupsolcoreissuesqauthoracann titlebug reportsatd td aligncentera hrefhttpsgithubcomandipozimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbandipozbsubabr hrefhttpsgithubcomqpvresearchgroupsolcoreissuesqauthoraandipoz titlebug reportsatd tr tr td aligncentera hrefhttpjaibhomeblogimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbjai agarwalbsubabr hrefexamplejaibhageria titleexamplesatd td aligncentera hrefhttpsgithubcomjkrichimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbjkrichbsubabr hrefhttpsgithubcomqpvresearchgroupsolcorecommitsauthorjkrich titlecodea hrefhttpsgithubcomqpvresearchgroupsolcoreissuesqauthorajkrich titlebug reportsatd td aligncentera hrefhttpsgithubcomrushildimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subbrushildbsubabr hrefhttpsgithubcomqpvresearchgroupsolcoreissuesqauthorarushild titlebug reportsatd td aligncentera hrefhttpsgithubcometervoimg srchttpsavatarsgithubusercontentcomuv widthpx altbr subber tervobsubabr hrefhttpsgithubcomqpvresearchgroupsolcoreissuesqauthoraetervo titlebug reportsatd tr tabl markdownlintrestor prettierignoreend allcontributorslistend project follow allcontributorshttpsgithubcomallcontributorsallcontributor specif contribut kind welcom contributor coven code conduct pledg interest foster open welcom environ contributor maintain pledg make particip project commun harassmentfre experi everyon regardless age bodi size disabl ethnic gender ident express level experi nation person appear race religion sexual ident orient standard exampl behavior contribut creat posit environ includ use welcom inclus languag respect differ viewpoint experi grace accept construct critic focus best commun show empathi toward commun member exampl unaccept behavior particip includ use sexual languag imageri unwelcom sexual attent advanc troll insultingderogatori comment person polit attack public privat harass publish other privat inform physic electron address without explicit permiss conduct could reason consid inappropri profession set respons project maintain respons clarifi standard accept behavior expect take appropri fair correct action respons instanc unaccept behavior project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct ban temporarili perman contributor behavior deem inappropri threaten offens harm scope code conduct appli within project space public space individu repres project commun exampl repres project commun includ use offici project email address post via offici social media account act appoint repres onlin offlin event represent project may defin clarifi project maintain enforc instanc abus harass otherwis unaccept behavior may report contact project team dalonsoalvarezimperialacuk project team review investig complaint respond way deem appropri circumst project team oblig maintain confidenti regard report incid detail specif enforc polici may post separ project maintain follow enforc code conduct good faith may face temporari perman repercuss determin member project leadership attribut code conduct adapt contributor covenanthomepag version avail httpcontributorcovenantorgversionvers homepag httpcontributorcovenantorg version httpcontributorcovenantorgvers contribut solcor thank take time contribut solcor follow set guidelin contribut solcor multiscal pythonbas librari model solar cell semiconductor materi goal guidelin make develop packag effici sustain ensur everi commit make better readabl robust better document pleas feel free suggest chang improv guid base atom editor guidehttpsgithubcomatomatomblobmastercontributingmd tabl content code conductcodeofconduct contributehowcanicontribut report bugsreportingbug suggest enhancementssuggestingenhanc first code contributionyourfirstcodecontribut pull requestspullrequest styleguidesstyleguid git commit messagesgitcommitmessag document styleguidedocumentationstyleguid code conduct project everyon particip govern solcor code conductcode_of_conductmd particip expect uphold code pleas report unaccept behavior repositori administratormailtodalonsoalvarezimperialacuk contribut report bug section guid submit bug report solcor follow guidelin help maintain commun understand report pencil reproduc behavior comput comput find relat report mag_right creat bug report pleas check listhttpsgithubcomdalonsoasolcoreissu includ close issu might find dont need creat one creat bug report pleas includ mani detail possiblehowdoisubmitagoodbugreport note find close issu seem like thing your experienc open new issu includ link origin issu bodi new one submit good bug report bug track github issueshttpsguidesgithubcomfeaturesissu explain problem includ addit detail help maintain reproduc problem use clear descript titl issu identifi problem describ exact step reproduc problem mani detail possibl exampl start explain instal solcor tri provid specif exampl demonstr step includ link file github project copypast snippet use exampl your provid snippet issu use markdown code blockshttpshelpgithubcomarticlesmarkdownbasicsmultiplelin describ behavior observ follow step point exactli problem behavior explain behavior expect see instead error output temrin includ output report provid context answer question problem start happen recent eg updat new version solcor alway problem problem start happen recent reproduc problem older version solcor what recent version problem doesnt happen download older version solcor releas pagehttpsgithubcomdalonsoasolcorereleas reliabl reproduc issu provid detail often problem happen condit normal happen includ detail configur environ version solcor use what name version os your use run solcor virtual machin vm softwar use oper system version use host guest problem relat poissondriftdiffus solver compil use instal step follow suggest enhanc section guid submit enhanc suggest solcor includ complet new featur minor improv exist function follow guidelin help maintain commun understand suggest pencil find relat suggest mag_right creat enhanc suggest pleas check listhttpsgithubcomdalonsoasolcoreissu includ close issu might find dont need creat one creat enhanc suggest pleas includ mani detail possiblehowdoisubmitagoodenhancementsuggest submit good enhanc suggest enhanc suggest track github issueshttpsguidesgithubcomfeaturesissu creat issu repositori provid follow inform use clear descript titl issu identifi suggest provid stepbystep descript suggest enhanc mani detail possibl describ current behavior explain behavior expect see instead explain enhanc would use solcor user mayb includ link scientif paper show enhanc action list packag applic enhanc exist specifi name version os your use first code contribut unsur begin contribut atom start look beginn helpwant issu beginn issueshttpsgithubcomdalonsoasolcoreissuesqisaissueisaopenlabelagoodfirstissu issu requir line code test two help want issueshttpsgithubcomdalonsoasolcoreissuesqisaissueisaopenlabelahelpw issu bit involv beginn issu pull request process describ sever goal maintain solcor qualiti fix problem import user engag commun work toward best possibl solcor enabl sustain system solcor maintain review contribut pleas follow step contribut consid maintain describ clearli purpos pull request refer relev issu bugsreportingbug enhancementssuggestingenhanc gener issu alway open prior pull request discuss content maintain make sure make sens solcor pull request work progress take time readi still want discuss commun open draft pull requesthttpsgithubblogintroducingdraftpullrequest includ relev unit test integr test need solcor test suit quit limit moment work improv test mani featur possibl new addit code must come set test avoid go backward matter new featur enhanc includ document exampl code docstr class function modul proper document describ use new featur follow styleguidesstyleguid submit pull request verifi statu checkshttpshelpgithubcomarticlesaboutstatuscheck pass detailssummarywhat statu check failingsummaryif statu check fail believ failur unrel chang pleas leav comment pull request explain believ failur unrel maintain rerun statu check conclud failur fals posit open issu track problem statu check suitedetail prerequisit must satisfi prior pull request review review may ask complet addit design work test chang pull request ultim accept styleguid git commit messag use present tens add featur ad featur use imper mood move cursor move cursor limit first line charact less refer issu pull request liber first line chang document includ ci skip commit titl consid start commit messag applic emoji art art improv formatstructur code racehors racehors improv perform nonpotable_wat nonpotable_wat plug memori leak memo memo write doc penguin penguin fix someth linux appl appl fix someth maco checkered_flag checkered_flag fix someth window bug bug fix bug fire fire remov code file green_heart green_heart fix ci build white_check_mark white_check_mark ad test lock lock deal secur arrow_up arrow_up upgrad depend arrow_down arrow_down downgrad depend shirt shirt remov linter warn document styleguid use markdownhttpsdaringfireballnetprojectsmarkdown refer method class markdown custom notat refer class classnam refer instanc method classnamemethodnam refer class method classnamemethodnam name bug report creat report help us improv titl label bug assigne describ bug clear concis descript bug reproduc step reproduc behavior expect behavior clear concis descript expect happen screenshot applic add screenshot help explain problem desktop pleas complet follow inform os eg io solcor version eg addit context add context problem name featur request suggest idea project titl label assigne featur request relat problem pleas describ clear concis descript problem ex im alway frustrat describ solut youd like clear concis descript want happen describ altern youv consid clear concis descript altern solut featur youv consid addit context add context screenshot featur request name question ask question solcor use titl label question assigne pleas confirm follow check solcor documentationhttpdocssolcoresolarenmast could find answer havent found issuehttpsgithubcomqpvresearchgroupsolcoreissuesq relat topic what question pleas concis straight point addit inform add relev inform could help us answer question eg code minimum work exampl show your tri screenshot show problem talk context question appli fortran compil order use poissondriftdiffus solver necessari suitabl fortran compil instal correctli configur system need worri compil process done automat instal script linux linux system fortran compil alreadi instal typic part gcc gnu compil collect need check instal particular linux distribut mac os x mac os x use gfortran compil instal togeth gcc use homebrewhttpsbrewsh maco packag manag brew instal gcc packag manag like macportshttpswwwmacportsorg finkhttpwwwfinkprojectorg might also work tri window get fortran compil properli work window fpi follow detail instruct written michael hirschhttpswwwscivisioncofpyrunningfortrancodeinpythononwindow read michael hirsch instruct full complet pictur import bit instal msi mingwhttpswwwscivisioncoinstallmsyswindow follow instruct updat packag setup environ instal fortran compil execut powershel bash pacman mingwwx_gccfortran tell python use mingw creat file pydistutilscfg contain build compilermingw execut powershel bash echo buildncompilermingw outfil encod ascii pydistutilscfg abl call gfortran compil window termin also solcor instal abl find tri instal solcor lowtran packag describ instruct michael hirschhttpswwwscivisioncofpyrunningfortrancodeinpythononwindow solcor window python part solcor major work window problem howev found lot troubl tri make part complement requir compil work properli pdd solver smart spice need use tool pleas follow instruct instal solcor thank phoeb lot effort solcor fulli run window less use ubuntu shell come window instal solcor follow step step fresh instal ubuntu use ubuntu termin window distribut canon group ubuntu lt codenam xenial instal git done alreadi instal python x alreadi done instal pip instal python packag may need updat packag list first sudo aptget updat bash sudo apt instal pythonpip need lapack bla librari link llapack lbla librari flag use scipi develop recommend openbla find instal instruct googl also work simpler bash sudo aptget instal libblasdev liblapackdev instal matplotlib tk otherwis get error later bash pip instal matplotlib sudo aptget instal pythontk depend instal automat success instal solcor hope actual instal solcor bash git clone httpsgithubcomdalonsoasolcoregit cd solcor sudo python setuppi instal instal make command must avail bash sudo apt instal make must use fork httpsgithubcomphoebep main branch compat python x bash git clone httpsgithubcomphoebepsgit cd make s_pyext check everyth work see pdd work bash python import solcoresolar_cell_solv run test bash sudo python setuppi test might result error say quantum mechan fail supth decim place result doesnt match simpli ignor inform gccggfortran version use gcc version ubuntu ubuntu everyth work correctli abl import solcoresolar_cell_solv without get warn rcwa solver pdd sometim issu aris sopra databas occasion import solar_cell_solv permiss set access databas run sudo python sudo whatev python editor your use fix instal smart windowsubuntu shell thank andrew regist download smart mac httpwwwnrelgovrredcsmart ye go use mac softwar window hold tight move smarts_xxx_mactargz file window dedic ubuntu folder eg mv mntcusersandrewdownload unpack file tar zxf smarts_xxx_mactargz execut script smartscommand folder wont work tri run smartscommand exampl bit window follow error thrown requir sourc recompil source_codesmarts_cmd source_codesmarts_cmd dj found source_codesmarts_cmd source_codesmarts_cmd ȅ__pagezero__text found source_codesmarts_cmd source_codesmarts_cmd syntax error word unexpect expect recompil smart move directori smarts__macsource_cod delet file smarts_cmd type rm smarts_cmd need recompil cpu architectur assum gfortran instal either part anaconda anoth third parti distribut compil smart type gfortran smartsf result execut call aout nb although smart document suggest chang flag sourc code _should modify_ smart sourc code solcor expect default behaviour respect batch mode file overwrit renam file aout smarts_cmd smart recompil cpu architectur import window solcor windowsubuntu look script call smart instead smartscommand due differ name system linux mac renam smartscommand smart test instal smart use exampl file figurepi pleas note run smart command line type smart produc two text file smartsexttxt smartsouttxt smart root folder mess run smart solcor run smart command line remov file done solcor mac os x solcor heav test mac os x problem howev use ngspice requir detail shown instal ngspice macosx download ngspice httpngspicesourceforgenetdownloadhtmlhttpngspicesourceforgenetdownloadhtml instal binari packag mac os x result execut resid applicationsngspicebinngspic set path use import solcoreconfig_tool config configset_location_of_spiceapplicationsngspicebinngspic ng spice throw error dyld librari load optxliblibxawdylib like need instal xquartz download httpswwwxquartzorghttpswwwxquartzorg run instal restart comput test ngspice instal use example_pv_modulepi new solcor add automat deploy pypi add ad custom materi access refract index databas add altern formul detail balanc calcul new solcor dev paramet relative_dielectric_const dielectric_const renam relative_permitt permitt paramet system solar cell solver chang also exampl light hole densiti state consid deplet approxim solver use ni calcul materi system deplet approxim solver check junction homojunct ad ray trace refractiveindex etc ad sunglass solcor graphic user interfac new solcor updat instal instruct avoid error ocur pip pass with_pdd option solcor depend new solcor chang way qw solv use solar cell avoid problem find n k data new solcor updat document solar cell solver posit option set consist optic solver licens badg ad readm file fortran compil method elimin sinc done distutil elimin automesh iv calcul pdd solver caus inconsist chang name exampl file meaning correct error light_sourcesmart elimin legaci function config_tool ad default pntrue valu tunnel junction ad exampl exampl page new solcor correct sever file name avoid space replac underscor ad exe flag setupcfg ensur test run even label execut file sever file adapt abl creat document read doc default instal instal pdd solver order instal option with_pdd must given ad exampl section document new solcor solcor ad pypi instal pip instal solcor new instal includ compil extens modul new document instal solcor special window new solcor correct error test exampl new solcor improv quantum solver ad plot gener ldo correct error paramet inp implement parametr tunnel junction model ad support extern tunnel junction iv characterist improv extern optic option ad optic properti gaasp gainp alinp although threepoint interpol start simpl tutori polish pdd solver separ prepar solar cell optic solver materi system updat new properti minor chang radi recombin coeffici pdd calcul absorpt coeffici improv tunnel junction plot wavefunct tmm solver vector built directli solcor new solcor new solarcel class implement creat solar cell structur includ junction also optic layer solar cell solver rewritten order use common interfac solarcel class calcul optic properti solar cell extern ad transfer matrix algorithm interfac rcwa packag materi sopra databas import normal solcor materi ad modified_cppb modul absorption_calcul packag solcor materi use automat mobil calcul avail materi new solcor dev mobil calcul data move material_data packag new solcor dev creat class lightsourc common interfac type light sourc solar_spectrum packag renam light_sourc solcor packag adapt use lightsourc keep much backward compat possibl new solcor dev improv qe modul abl provid iv curv base deplet approxim correct instal exampl make compat window new solcor way path config file chang realli compat window modifi spice packag work linux mac os window system test ngspice new solcor increas compat window new solcor solv bug spice modul new solcor solv problem distribut packag creat incomplet new solcor solv bug document prevent show properli th march new stabl version releas new solcor document greatli improv though still incomplet licens ad solcor distribut gnu lesser gener public licens old databas tool remov adapt solcor v work principl new solcor dev solv bug way front surfac reflexion calcul pdd model use real part refract index complex refract index ad possibl calcul optic properti solar cell pdd model use tmm formal provid extern gener profil input solver illumin note work properli use dens nondynam mesh structur pdd solver includ layer defin optic metal use calcul opticla properti ignor electr solver ad descript function pdd solver creat new version mj current voltag calcul previou one didnt work dark ad test new mj current voltag calcul ad test tmm optic calcul pdd solver includ option tmm calcul no_back_reflexion prevent reflexion back surfac ad filter option pddillumin object accept arbitrari function filter new solcor dev remov mention mod cppb calcul test exampl modul data absorption_calcul move materi inform materials_data folder sopra databas move materials_data folder modul modifi accordingli test ad ad ellipsometri fit routin data_analysis_tool packag ad science_track reference_spectra reference_spectra chang function ad document concern sopra databas transfer matrix calcul new solcor dev ad new dielectr model absorption_calcul packag minor bug fix new solcor dev ad modified_cppb modul absorption_calcul packag two exampl file ad ac_exampl test_modified_cppb ad test folder new solcor dev ad custom_colour modul graph packag ad splash colour individu multipl plot ad custom_colour exampl file exampl folder new solcor dev ad sopra databas optic constant data absorpt calcul packag packag contain folder sopra raw data document modul file contain sopra_databas new solcor dev ad transfer matrix formal absorpt calcul packag calcul reflexion transmisison absorpt absorpt profil ellipsometri paramet optic stack made solcor materi theoret dielectr model avail n k data new solcor version number remov solcore_config user file new solcor fix bug relat import statement use new packag name implement automat manifestin creator avoid miss nonpython file creat distribut packag new solcor add mani file txt html etc miss previou version estrang reason new solcor gener code rewrit aim compli pep style guid python code httpswwwpythonorgdevpepspep packag renam solcor drope version number import solcor done import solcor rather import solcor usual case python packag includ verison number name pluge system remov code arrang standard packagemodul configur old pluge directli import subpackag solcor eg import solcorespic rather import solcoreplugingsspic structur modul packag chang group hope consist logic order follow list summaris chang like incomplet solcoreplugingsqm solcorequantum_mechan solcoreplugingskp solcorequantum_mechan solcoreplugingsiv solcoreanalytic_solar_cel solcoreplugingsanalytic_pin_q solcoreanalytic_solar_cel solcoreplugingsspic solcorespic solcoreplugingsspectr solcoresolar_spectrum solcoreplugingssmart solcoresolar_spectrum solcoreplugingsadachi_alpha solcoreabsorption_calcul solcorepdd solcorepoisson_drift_diffus function within modul packag renam descript name old plugin relat paramet materi includ insid paramet system packag old plugin relat descript materi n k data includ insid materi system packag configur file set configur tool creat simplifi addit new data personalis behavior smart remov solcor directori tree third parti softwar platform depend path smart distribut set configur tool smart found httpwwwnrelgovrredcsmart solcor arrang use setuptool simplifi distribut test mainten everyth goe alright command python setuppi instal instal solcor depend except fortran compil test maco x set test written assert correct behaviour solcor either perform instal one exist packag modifi run python setuppi test poisson_drift_diffus solver print output calcul log file rather termin correct temperatur depend incorpor analyt iv calcul set exampl creat illustr use solcor exampl copi userspefici folder easili edit imag _staticheaderpng align center literalsolcor born modular set tool written almost entir python address task solv often fit dark iv curv luminesc decay time howev evolv complet semiconductor solver abl model optic electr properti wide rang solar cell quantum well devic multijunct solar cell compact descript solcor function physic found open access public alonsoálvarez wilson p pearc führer farrel n ekinsdauk journal comput electron httpsdoiorgs_ pleas cite articl find solcor use research imag infographicsjpg align center content toctre maxdepth installationinstal structuresstructur systemssystem qmschroding spectralspectr opticsopt solverssolving_solar_cel quasidspic examplesmain indic tabl refgenindex refmodindex refsearch spicebas solar cell solver exampl docpv modul calcul examplesexample_pv_modul exampl docquasid j solar cell examplesexample_quasid_cel two diod model use defin junction mj solar cell larger scale circuit construct solcor includ two level larg scale equival circuit quasid solar cell model solar array model solver base interfac solcor spice allow fast calcul complex structur mani element solver test ngspice check instal docinstruct window installationsolcore_on_window docfor maco installationsolcore_on_macosx toctre maxdepth pv_panel quasid spice solver file automodul solcorespicespic member undocmemb quasid solar cell solver exampl docquasid j solar cell examplesexample_quasid_cel quasid solar cell model includ solcor use spicebas electr network model flow inject current solar cell plane cell discret mani element repres small portion cell depend locat element expos sunlight underneath metal finger iv curv cell light iv dark iv element link neighbour resistor repres later current flow depend sheet resist cell method appli number junction type formal wide use simul perform solar cell effect spatial variabl need incorpor model variabl design front metal grid order minimis effect seri resist inhomogen illumin profil concentr devic impact inhomogen transport tunnel junction distribut defect inhomogen recent formal use model photoluminesc electroluminesc base iv curv mj devic account limit later carrier transport specif model optim front grid solar cell order minimis shade loss seri resist two packag alreadi avail pvmo httpsgithubcomiekpvmos_ develop b e pieter c releas open sourc griddler httpswwwpvlighthousecomaucmssimulationprogramsgriddler_ develop j wong use matlab avail pv lighthous imag quasidimgpng align center inplan discret two region plane metal apertur two provid solcor grey scale imag work mask resolut imag pixel defin inplan discret default aspect ratio pixel imag set differ valu order reduc number element improv speed exampl inplan discret fig figspice_overviewa aspect ratio matha_rl_yl_x mathl_x mathl_i pixel size direct valu pixel metal mask metal apertur area metal extern electr contact boundari fix extern set voltag valu valu repres region metal fix voltag pixel illumin mask becom apertur mask remov area shadow metal valu valu divid indic intens sunlight pixel rel maximum intens minimum total number node spice need calcul voltag n mathtim mathtim mathtim q n number pixel inplan direct q number junction requir node front back metal contact could add maximum n mathtim node exploit symmetri problem well choos appropri pixel aspect ratio significantli reduc number node therefor time requir comput problem vertic discret first solar cell solv order obtain paramet diod model given illumin condit paramet use replic diod model spice mathi_sc scale pixel intens illumin given illumin mask sheet resist junction mathr_shtop mathr_shbot account later transport beneath metal current sourc region dark extra resist account contact metal semiconductor mathr_c transport along metal finger mathr_ given pixel asymmetr resist need defin inplan direct mathx mathi math beginalign r_shx fraca_r r_sh r_shi a_r r_sh r_sx fracha_r rho_m r_si fraca_rh rho_m r_c r_back fracl_x a_r rho_cendalign mathh height metal mathrho_m linear resist mathrho_c contact resist metal semiconductor sheet resist stack semiconductor layer mathr_sh equal combin parallel individu sheet resist use singl junction exampl figur mathr_shtop given math fracr_shtop fracr_shwindow fracr_shemitt estim thick layer mathd major carrier mobil mathmu dope mathn math fracr_sh qdmu n solar cell defin use da pdd junction model inform alreadi avail layer structur junction use db two diod model mathr_sh need provid top bottom region junction intrins layer ignor contribut later current transport quasid solver function automodul solcorespicequasi_d_solv member undocmemb solar array model exampl docpv modul calcul examplesexample_pv_modul abil use solcor build spice equival circuit allow entir pv system simul bottom photovolta solar cell describ use equival circuit arrang string seri parallel cell repres entir system exampl tripl junction solar cell complet bypass diod shown figur figj_equiv_curcuit unit basic build block concentr pv modul imag pv_modulepng align center diod resist valu equival circuit determin solar cell test current sourc evalu integr product spectral irradi estim use appropri radi transfer code eg spctral smart quantum effici turn calcul dynam function temperatur solcor sinc entir modul subsequ system assembl individu solar cell compon possibl inde necessari distribut compon valu accommod manufactur toler enabl close match model output power measur experiment use determin aerosol precipit water affect electr yield concentr pv system system iv data avail emerg electr fault eg shunt shade also account pv modul solver function automodul solcorespicepv_module_solv member undocmemb materi system toctre maxdepth materi paramet databas contain basic properti mani semiconductor materi includ silicon germanium mani iiiv semiconductor binari ternari alloy among paramet includ energi bandgap electron hole effect mass lattic constant elast constant main sourc data articl vurgaftman band paramet iiiv semiconductor ref_ handbook seri semiconductor paramet levinshtein et alref_ carrier mobil calcul base empir lowfield mobil model sotoodeh et al ref_ avail materi input model avail two method retriev paramet databas first one consist simpli get data use get_paramet function requir input exampl codeblock python get_parametergaasp band_gap p return bandgap gaasp phosphoru concentr temperatur k equal ev method use exist data anoth method creat materi object contain properti exist databas materi well includ input overrid valu databas paramet exist follow exampl creat gaa object algaa object use custom electron effect mass latter codeblock python gaa materialgaast nae algaa materialalgaast al nde eff_mass_electron paramet includ custom one attribut easili access use anywher program exampl gaasband_gap gaa bandgap algaaslattice_const algaa lattic constant composit temperatur chosen creat object imag show wellknown bandgap vs lattic constant map semiconductor materi alloy ternari compound current implement solcor howev materi use solcor function long necessari input paramet provid done overrid properti exist materi creation ad extern materi configur file imag eg_vs_lattice_constantpng align center materi class automodul solcorematerial_systemmaterial_system member undocmemb access paramet automodul solcoreparameter_systemparameter_system member undocmemb mobil modul modul allow calcul carrier mobil base materi composit temperatur tk impur concentr implement mobil model sotoodeh et al ref_ materi class describ use modul intern get mobililti materi implement materi paramet use model includ file mobility_parametersjson moment support materi binari ala gaa ina inp gap ternari inala algaa ingaa gainp gaasp inasp quaternari ingaasp last two ternari simpli calcul linear interpol paramet correspond binari transit direct indirect bandgap depend might accur ingaasp turn calcul base ingaa gainp data mostli valid composit lattic match inp automodul solcorematerial_datamobl member undocmemb critic point picker automodul solcorematerial_systemcritical_point_pick member undocmemb refer ref vurgaftman meyer jr rammohan lr band paramet iiiv compound semiconductor alloy j appl phi ref levinshtein rumyantsev shur levinshtein rumyantsev shur handbook seri semiconductor paramet ser volum ternari quaternari iiiv com pound vol world scientif singapor ref sotoodeh h khalid rezazadeh empir lowfield mobil model iiiv compound applic devic simul code j appl phi unit system function acccess directli solcor solcor import ev printev ev automodul solcoreunits_systemunits_system member undocmemb defin new materi toctre maxdepth materi two main way use materi built solcor databas also connect download use databas refractiveindexinfo httpsrefractiveindexinfo_ provid n k data paramet create_new_materi order control custom materi get save need tell solcor creat look new materi ad entri user configur file default hidden folder call solcore_configtxt home directori path refractiveindexinfo databas download set other flag nk path n k data save set other flag custom_mat path file contain paramet custom materi creat set paramet flag custom follow code snippet set locat within folder call solcor subdirectori home folder could also manual add correct path config file codeblock python import os solcoreconfig_tool import add_sourc home_fold ospathexpandus custom_nk_path ospathjoinhome_fold solcorecustommat nk_db_path ospathjoinhome_fold solcorenkdb param_path ospathjoinhome_fold solcorecustom_paramstxt add_sourceoth custom_mat custom_nk_path add_sourceoth nk nk_db_path add_sourceparamet custom param_path ad new materi databas automodul solcorematerial_systemcreate_new_materi member undocmemb correct format n k file tab space separ text file first column wavelength metr second column n k file contain paramet take add new materi databas new folder creat subfold path specifi user default configur custom_mat path n k data file provid copi folder renam automat paramet suppli copi file specifi custom path use refractiveindexinfo automodul solcoreabsorption_calculatornk_db member undocmemb first use need download databas codeblock python solcoreabsorption_calcul download_db download_db download_db take two option argument url databas download default recent hardcod function mani interpol point use save databas default code use download get data refractiveindexinfo databas base code hugo guillen httpsgithubcomhugoguillenrefractiveindexinfosqlite_ directli use materi db file creat way referenc via pageid locat databas entri want use search databas code search databas entri match diamond use pageid first result creat instanc new diamond materi gener though good idea check explicitli databas entri appropri eg term wavelength rang type data avail rather simpli use first result codeblock python result search_dbdiamond diamond materialnam strresult nk_db true ad materi refractiveindexinfo databas conveni function create_nk_txt gener n k data file need add new materi solcor databas directli download refractiveindexinfo databas codeblock python result search_dbdiamond create_nk_txtpageidresult filec_diamond create_new_materialmat_nam diamond n_sourcec_diamond_ntxt k_sourcec_diamond_ktxt search refractiveindexinfo databas entri match diamond creat file n k data first match databas entri format requir create_new_materi materi unit modul deal materi properti unit togeth docstructur modul structuresstructur form backbon solcor toctre maxdepth materi unit newmatsinstal configur tri solcor tri solcor without instal anyth comput use onlin servic mybinderorg httpsmybinderorg_ click follow badg imag httpsmybinderorgbadge_logosvg target httpsmybinderorgvghqpvresearchgroupsolcoredevel might take minut start server patient launch servic offer fullfeatur jupyt server solcor depend instal use tri differ featur run exampl ship solcor recommend product resourc mybind limit execut depend reliabl internet connexion readi instal machin go next section instal solcor solcor written mostli python poissondriftdiffus pdd solver written fortran make effici follow instruct expect work system check section os specif instruct caveat order instal solcor comput need follow python pip setuptool doca suitabl fortran compil need pdd solver compil pip normal part standard python instal might need instal setuptool manual pip instal setuptool instal solcor easi write termin pip instal solcor download solcor form pypi repositori instal packag within python packag tree instal pdd solver need suitabl fortran compil docread instal fortran compil compil assum fortran compil correctli instal configur instal solcor pdd solver pip instal solcor pip instal nodep forcereinstal installoptionwith_pdd solcor note pip pass installopt depend packag therefor instal fail sinc depend option with_pdd reason solcor need instal twice first one instal solcor normal depend second one reinstal solcor pdd support that solcor avail use python packag import solcor welcom solcor version copyright c imperi colleg london right reserv softwar releas gnu lesser gener public licens altern instal method altern download sourc solcor github repositori httpsgithubcomdalonsoasolcore_ either use git zip file use one link right want instal unpack run directori setuppi locat still need pip setuptool numpi instal see pip instal pip instal installoptionwith_pdd want test first solcor work comput without actual instal want becom develop therefor need access place test solcor work python setuppi test also instal solcor depend run test probe sever solcor tool fail indic part fail work could tri solv moment cover solcor function expand time test relat pdd solver fail cours sinc pdd solver compil want test everyth compil pdd solver run python setuppi test with_pdd instal develop mode plan develop solcor would want file access place still abl use packag place exampl behav truli instal instal solcor develop mode download sourc solcor github repositori httpsgithubcomdalonsoasolcore_ pip instal e dev pip instal e dev installoptionwith_pdd solcor use precommit thing commit chang exampl clear output jupyt notebook precommit packag instal automat command user need initialis work done precommit instal check precommit webpag httpsprecommitcominstallthegithookscripts_ inform work get start instal solcor even without instal thing might want order personalis start use gener instruct hope work nix system check specif instruct docwindow solcore_on_window docmac os x solcore_on_macosx creat user configur file first time solcor run creat hidden folder user directori folder contain local configur store custom materi paramet custom locat set environment variabl codesolcore_user_data check current configur code python solcor import config printconfig find function codeconfig object config_tools_ check solcor exampl fastest way get start exampl includ script use main solcor paper journal comput electron httpsdoiorgs_ other explor function hope increas number use exampl time tri directli exampl use mybinderorg httpsmybinderorgvghqpvresearchgroupsolcoredeployment_ set locat spice execut smart folder need eventu order use tool code python solcor import config configspicepathtothespiceexecut configsmartspathtothesmartsfold instal rigorouscoupl wave analysi rcwa solver creat stanford univers need instal separ use fork phoeb pearc httpgithubcomphoebeps_ origin version work python x python find inform solver project webpag httpwebstanfordedugroupfans_ exampl use solcor includ exampl folder figurepi get specif inform solcor even though document complet get inform object python includ solcor function modul packag use codehelp builtin function exampl code python solcor import config helpconfig problem instal sever thing go wrong descript special window test associ poissondriftdiffus solver fail usual result fortran compil instal system correctli configur temperament fpi version tool includ numpi make fotran code acces python pleas make sure follow step indic docfortran compil section compil pdd solver run depend fail instal rare case depend main python repositori howev might issu numpi matplotlib scipi depend python distribut packag might need compil often easi get scientif bundl check anaconda httpswwwcontinuumiodownloads_ provid packag togeth alreadi configur correct os config_tool modul contain function help setup configur solcor instal highlight full descript function includ modul autoclass solcoreconfig_toolssolcoreconfig member quantum solver exampl dockp calcul effect mass fit examplesexample_k_and_effective_mass exampl doccalcul bandstructur local densiti state qw mqw examplesexample_qw electron band structur semiconductor materi respons light absorpt emiss properti well mani transport properti ultim depend carrier effect mass properti intrins materi depend extern factor notabl strain quantum confin given crystallin natur semiconductor materi strain whenev two materi differ crystal lattic constant grown top pseudomorph even lattic constant might stress due effect presenc impur use differ temperatur dissimilar thermal expans coeffici quantum confin turn take place size semiconductor materi one dimens reduc nanometr situat energi level avail carrier becom quantiz direct confin also chang densiti state condit take place simultan deal strainbalanc quantum well qw quantum well recent quantum wire employ tune absorpt properti high effici solar cell past two decad need appropri tool studi context photovolta led develop simul model seed solcor strain materi quantum confin special care must taken obtain sensibl set paramet qw structur includ band edg confin energi level effect mass absorpt coeffici solcor approach evalu properti qw involv calcul first effect strain use band pikusbir hamiltonian treat materi structur bulk use shift band effect mass solv schödinger equat proper align layer final absorpt coeffici calcul base densiti state includ effect exciton section describ tool use calcul band structur qw absorpt profil discuss docth optic section section opticsmaterial_opt bulk band kp solver automodul solcorequantum_mechanicskp_bulk member undocmemb quantum well dschroding calcul automodul solcorequantum_mechanicshigh_level_kp_qw member undocmemb automodul solcorequantum_mechanicsstructure_util member undocmemb automodul solcorequantum_mechanicspotential_util member undocmemb automodul solcorequantum_mechanicsgraph member undocmemb band kp qw solver experiment automodul solcorequantum_mechanicskp_qw member undocmembersstructur support class solcor mostli physic also need lot tool keep everit work togeth properli support creation manag solar cell structur find inform extra bit piec solcor made toctre maxdepth structur structur solcor calcul optic electr properti solar cell word certain combin layer made differ materi serv specif purpos structur modul contain tha basic build block allow make solar cell structur calcul properti use explain exampl packag quantum effici calcul poissondriftdiffus solver automodul solcorestructur member undocmemb anoth use class state_object make use dictionari easi automodul solcorest member undocmemb solar cell final higher level build block solar cell contain solar_cel modul automodul solcoresolar_cel member undocmemb scienc tracker solcor origin work equat implement data use often publish elsewer scienc tracker allow keep track refer check origin assumpion automodul solcorescience_track member undocmemb class solcor depend mani class function work background keep everyth togeth use directli other complet transpar make solcor work way unfortun document extens explicit feel free explor sourc code understand automodul solcoreinterpol member undocmemb automodul solcorecryst member undocmemb automodul solcoresmooth member undocmemb automodul solcoresingleton member undocmemb automodul solcoresource_managed_class member undocmemb light sourc exampl docexampl use light_sourc modul examplesexample_light_sourc solcor modul light_sourc design deal easili differ light sourc direct support gaussian emiss typic laser light emit diod blackbodi radiat characterist halogen lamp defin temperatur also use often simul spectrum sun close black bodi sourc k standard solar spectra extraterresti spectrum two terresti one amd amg defin astm g standard irradi model use locat time atmospher paramet calcul synthet solar spectrum solcor includ two model spectral fulli implement python interfac smart binari need instal separ greatli simplifi use batch mode userdefin irradi provid extern databas sourc allow maximum flexibl syntax case simpl intuit consid type sourc need creat case irradi model often larg number input solcor defin set default valu differ need provid default valu obtain codeblock python import solcorelight_sourc ls lsget_default_spectral_object lsget_default_smarts_object creat specif paramet light sourc easili modifi without need creat sourc scratch particularli use irradi model might interest get spectrum function certain paramet eg hour day humid without chang other exampl smartsspectrumhour smartsspectrumhour provid spectrum smart light sourc assum alreadi creat calcul h h respect addit paramet default valu method use model experiment solar irradi measur differ spectroradiomet base local atmospher condit final conveni featur lightsourc class abil request spectrum rang differ unit default power densiti per nanomet common unit power densiti per ev photon flux per nanomet among other unit convers straightforward often initi sourc error due miss constant incompat magnitud light_sourc modul describ context solar spectrum appli broadli spectral data involv fit photoluminesc electroluminesc raman spectra descript function modul automodul solcorelight_sourcelight_sourc member undocmemb automodul solcorelight_sourcesmart member undocmemb automodul solcorelight_sourcespectr member undocmemb use tmm solver calcul reflext multilay arc imag rat_of_arcpng width requir extra file avail solcor github repositori exampl folder httpsgithubcomdalonsoasolcore_ alinp_nkcsv gainp_nkcsv mgf_nkcsv sicx_nkcsv zns_nkcsv codeblock python scipyinterpol import interpd import matplotlibpyplot plt import numpi np solcorestructur import structur solcoreabsorption_calcul import calculate_rat e_ev nplinspac def nk_convertfnam energi design handl nk data file import data e_n n e_k k nploadtxtfnam delimit unpacktru printfil fname import success interpol data n_interp interpde_n n bounds_errorfals fill_valuen nenergi k_interp interpde_k k bounds_errorfals fill_valuek kenergi return energi n_interp k_interp load nk data use nk_convert function alinp_nk nk_convertalinp_nkcsv energye_ev gainp_nk nk_convertgainp_nkcsv energye_ev mgf_nk nk_convertmgf_nkcsv energye_ev sic_nk nk_convertsicx_nkcsv energye_ev zns_nk nk_convertzns_nkcsv energye_ev build optic stack stack structur e_ev mgf_nk mgf_nk e_ev sic_nk sic_nk e_ev zns_nk zns_nk e_ev alinp_nk alinp_nk e_ev gainp_nk gainp_nk angl nplinspac rat_angl printcalcul rat theta angl printcalcul angl f deg theta calcul rat data rat_data calculate_ratstack angletheta wavelength e_ev rat_anglesappendtheta rat_datar rat_dataa color pltcmjetnplinspac lenrat_angl fig ax pltsubplot rat enumeraterat_angl axplot e_ev rat ls colorcolorsi labelfcirc rat axplot e_ev rat ls colorcolorsi axset_ylim axset_xlim axset_xlabelwavelength nm axset_ylabelreflect transmiss axlegendloc axtext transformaxtransax fontsiz plttight_layoutw_pad pltshow comparison solcor optic model imag optmodelcomppng width differ optic model solcor suitabl differ purpos beerlambert bl model includ front surfac reflect unless extern specifi extrem fast may suitabl materi stack layer optic thick especi front surfac reflect specifi user eg measur data transfer matrix model tmm deal multilay interfer correctli use multipl incid angl either p unpolar light final rcwa capabl integr solcor advanc solver capabl deal period structur multilay structur without diffract layer give result tmm solver howev number diffract order use calcul increas comput time becom signific plot show eqe result thin gaa cell variou lighttrap structur consid use differ solver structur rel thin nm gaa cell mathtio_ nanoparticl np front distribut bragg reflector dbr consist gaasala bilay np array made disk nm height nm diamet arrang squar pattern period nm dbr select reflector case design reflect light wavelength around nm close bandgap gaa transmiss loss would highest figur show simplest model bl law give frontsurfac reflect light absorb short wavelength longer wavelength transmiss gaa substrat although absorpt dbr calcul interfer effect lead wavelengthselect reflect ignor bl model tmm model dbr remov structur show similar profil bl eqe significantli lower due reflect front surfac dbr includ two clear new peak eqe calcul use tmm observ final full structur model use rcwa peak due dbr remain eqe wavelength increas due antireflect effect np increas path length gaa cell due diffract effect codeblock python import numpi np import matplotlibpyplot plt solcor import si materi solcorestructur import junction layer solcoresolar_cel import solarcel solcoresolar_cell_solv import solar_cell_solv default_opt solcorelight_sourc import lightsourc solcoreconst import vacuum_permitt solcoreopt import rcwasolvererror user option wl sinplinspac nm light_sourc lightsourcesource_typestandard versionamg xwl output_unitsphoton_flux_per_m concentr opt default_opt optswavelength optsno_back_reflect optssiz optslight_sourc optst_ambi wl fals light_sourc optsrecalculate_absorpt true size unit cell rcwa structur x nm defin materi need air materialairtt p_gaa materialgaastt nasiecm gaa cell emitt n_gaa materialgaastt ndsiecm gaa cell base ala gaa materialalastt materialgaastt dbr sio materialsio sopratruett spacer layer tio materialtio sopratruett nanoparticl paramet qe solver mat n_gaa p_gaa mathole_mobl matelectron_mobl matpermitt e e vacuum_permitt n_gaashole_diffusion_length p_gaaselectron_diffusion_length sinm sium defin differ part structur use gaa junction use deplet approxim gaas_junct junctionlayerwidthsinm materialp_gaa roleemitt layerwidthsinm materialn_gaa rolebas tt kindda creat repetit ala gaa layer make dbr structur dbr layerwidthsinm materialala layerwidthsinm materialgaa layer nanoparticl np_layer layersinm air geometrytyp circl mat tio center radiu substrat layerwidthsium materialgaa spacer layerwidthsinm materialsio solar cell sio coat solar_cel solarcellspac gaas_junct substrat optsoptics_method tmm solar_cell_solversolar_cel qe opt tmm_eqe solar_celleqeoptswavelength optsoptics_method bl solar_cell_solversolar_cel qe opt bl_eqe solar_celleqeoptswavelength dbr back solar_cel solarcellspac gaas_junct dbr substrat optsoptics_method tmm solar_cell_solversolar_cel qe opt tmm_eqe_dbr solar_celleqeoptswavelength cell tio nanocylind array front solar_cel solarcellnp_lay spacer gaas_junct dbr substrat optsoptics_method tmm solar_cell_solversolar_cel qe opt tmm_eqe_np solar_celleqeoptswavelength optsoptics_method bl solar_cell_solversolar_cel qe opt bl_eqe_np solar_celleqeoptswavelength tri optsoptics_method rcwa optsord number diffract order keep rcwa solver solar_cell_solversolar_cel qe opt rcwa_eqe_np solar_celleqeoptswavelength rcwa_legend rcwa gaa sc np array dbr except rcwasolvererror rcwa_eqe_np npzeros_likebl_eqe_np rcwa_legend rcwa solver avail pltfigur pltplotwl e bl_eqe_np wl e tmm_eqe wl e tmm_eqe_dbr wl e rcwa_eqe_np pltlegendlabelsbeerlambert law structur tmm gaa sc tmm gaa sc dbr rcwa_legend pltxlabelwavelength nm pltylabelquantum effici pltshow look effect substrat no_back_reflect option tmm solver imag substrate_ratpng width imag substrate_adepthpng width codeblock python tmm rcwa solver take account presenc substrat specifi solar_cel object exampl illustr tmm solver solcor import materi solcor import si import matplotlibpyplot plt import numpi np solcoresolar_cel import default_gaa solarcel layer junction solcoresolar_cell_solv import solar_cell_solv solcoreabsorption_calcul import optistack gaa materialgaast thin_gaa solarcelllayermateri gaa widthsinm gaas_on_substr solarcelllayermateri gaa widthsinm substrat gaa wl sinplinspac nm thin solar cell substrat get signific absorpt enhanc reflect gaasair interfac back must specifi no_back_reflect fals solcor automat suppress reflect back current default set solcor suppress reflect back no_back_reflect true solar_cell_solverthin_gaa optic user_optionswavelength wl optics_method tmm no_back_reflect fals z_po nplinspac thin_gaaswidth profiles_thin thin_gaasabsorbedz_po thin solar cell gaa substrat case get result whether specifi no_back_reflect true fals sinc gaa gaa cell dont get reflect back interfac anyway solar_cell_solvergaas_on_substr optic user_optionswavelength wl optics_method tmm profiles_thick gaas_on_substrateabsorbedz_po pltfigur pltplotwl e thin_gaaslayer_absorpt pltplotwl e gaas_on_substratelayer_absorpt consid thin solar cell without substrat ask solcor suppress back reflect must also ask solcor recalcul absorpt otherwis use result calcul alreadi thin_gaa object no_back_reflect true actual add highli absorb layer base final layer stack noth reflect solar_cell_solverthin_gaa optic user_optionswavelength wl optics_method tmm no_back_reflect true recalculate_absorpt true pltplotwl e thin_gaaslayer_absorpt pltlegendlabelsno substrat air gaa substrat substrat suppress back reflect pltxlabelwavelength nm pltylabelabsorpt pltshow see correctli result cell explicitli specifi gaa substrat thin cell purpos suppress back reflect thin cell back reflect show thinfilm oscil absorpt spectrum let look absorpt profil look like absorpt profil around nm incid wavelength pltfigur pltplotz_pos profiles_thin pltplotz_pos profiles_thick pltxlabeldepth gaa junction nm pltshow kp calcul effect mass fit imag kppng width imag eff_mass_fitpng width codeblock python import numpi np import matplotlibpyplot plt solcor import materi solcoreconst import electron_mass solcorequantum_mechan import kp_band materi paramet gaa materialgaast ingaa materialingaa test solv problem intermedi indium composit ingaa ingaasin mass kp_bandsingaa gaa graphtru fit_effective_masstru effective_mass_directionl return_sotru comp nplinspac mhh mlh mso comp ingaa ingaasini set graph true see fit band c hh lh m_eff_c m_eff_hh m_eff_lh m_eff_so kp_bandsingaa gaa graphfals fit_effective_masstru effective_mass_directionl return_sotru meappendm_eff_c electron_mass mhhappendm_eff_hh electron_mass mlhappendm_eff_lh electron_mass msoappendm_eff_so electron_mass printeffect mass formati print m_e f mformatm print m_hh f mformatmhh print m_lh f mformatmlh print m_so f mformatmso print pltplotcomp bo label pltplotcomp mhh ro labelhh pltplotcomp mlh go labellh pltplotcomp mso ko labelso pltxlabelindium content pltylabeleffect mass m_ pltlegend pltshow exampl pv solar array imag iv_solar_modulepng width imag iv_param_dispersionpng width codeblock python import numpi np import matplotlibpyplot plt solcoresolar_cel import solarcel solcorelight_sourc import lightsourc solcorespicepv_module_solv import solve_pv_modul solcorestructur import junction first defin properti mj solar cell solar modul made use junction kind diod db_junction junctionkindd tt reff jref eg r_seri r_shunt n db_junction junctionkindd tt reff jref eg r_seri r_shunt n db_junction junctionkindd tt reff jref eg r_series r_shunt n my_solar_cel solarcelldb_junct db_junction db_junction tt r_seri area wl nplinspac e light_sourc lightsourcesource_typestandard versionamg xwl output_unitsphoton_flux_per_m concentr option light_iv true wavelength wl light_sourc light_sourc defin individu solar cell solv modul iv characterist ad dispers valu short circuit current voltag current all_isc_valu raw_data solve_pv_modulemy_solar_cel option jscsigma pltfigur pltsubplot plttitlehistogram subcel photocurr pltylabelingap plthistrow row all_isc_valu bin pltsubplot plthistrow row all_isc_valu bin pltylabelgaa pltsubplot pltxlabelcurr pltylabelg plthistrow row all_isc_valu bin pltfigur pltplotvoltag current pltxlabelvoltag v pltylabelcurr pltxlim pltylim pltshow exampl j solar cell calcul da solver imag da_ivpng width imag da_qepng width requir extra file avail solcor github repositori exampl folder httpsgithubcomdalonsoasolcore_ mgfzns_arcsv ingaascsv gepalikcsv codeblock python import os import numpi np import matplotlibpyplot plt solcor import siunit materi si solcoreinterpol import interpd solcoresolar_cel import solarcel solcorestructur import junction layer solcoresolar_cell_solv import solar_cell_solv all_materi def this_dir_filef return ospathjoinospathsplit__file__ f need build solar cell layer layer start ar coat case load extern file refl_nm nploadtxtthis_dir_filemgfzns_arcsv unpacktru delimit ref interpdxsiunitsrefl_nm nm yrefl_nm bounds_errorfals fill_valu top cell gainp build top cell requir n p side gainp window layer also load absorpt coeffici extern file also add extra paramet need calcul minor carrier diffus length alinp materialalinp ingap materialgainp window_materi alinp top_cell_n_materi ingapin ndsiunits cm hole_diffusion_lengthsinm top_cell_p_materi ingapin nasiunits cm electron_diffusion_lengthsium all_materialsappendwindow_materi all_materialsappendtop_cell_n_materi all_materialsappendtop_cell_p_materi mid cell ingaa add manual absorpt coeffici ingaa sinc one contain databas doesnt cover enough rang keep mind data provid function take wavelength input return absorpt ingaa materialingaa ingaas_alpha nploadtxtthis_dir_fileingaascsv unpacktru delimit ingaasalpha interpdx ingaas_alpha yingaas_alpha bounds_errorfals fill_valu mid_cell_n_materi ingaasin ndsiunits cm hole_diffusion_lengthsinm mid_cell_p_materi ingaasin nasiunits cm electron_diffusion_lengthsium all_materialsappendmid_cell_n_materi all_materialsappendmid_cell_p_materi bottom cell ge add manual absorpt coeffici ge sinc one contain databas doesnt cover enough rang ge materialg ge_alpha nploadtxtthis_dir_filegepalikcsv unpacktru delimit gealpha interpdx ge_alpha yge_alpha bounds_errorfals fill_valu bot_cell_n_materi gendsiunits cm hole_diffusion_lengthsinm bot_cell_p_materi genasiunits cm electron_diffusion_lengthsium all_materialsappendbot_cell_n_materi all_materialsappendbot_cell_p_materi add properti materi assum case simplic differ ad definit materi mat all_materi mathole_mobl e matelectron_mobl e mathole_mobl e matelectron_mobl e matrelative_permitt final put everyth togeth ad also surfac recombin veloc also add shade due metallis cell indic area x mm convert solar_cel solarcel junctionlayersinm materialwindow_materi rolewindow layersinm materialtop_cell_n_materi roleemitt layersinm materialtop_cell_p_materi rolebas sn sp kindda junctionlayersinm materialmid_cell_n_materi roleemitt layersinm materialmid_cell_p_materi rolebas sn sp kindda junctionlayersinm materialbot_cell_n_materi roleemitt layersium materialbot_cell_p_materi rolebas sn sp kindda reflectivityref shade cell_area e wl nplinspac e solar_cell_solversolar_cel qe user_optionswavelength wl pltfigur pltplotwl e solar_celleqewl b labelgainp pltplotwl e solar_celleqewl g labelingaa pltplotwl e solar_celleqewl r labelg pltlegend pltylim pltylabeleq pltxlabelwavelength nm v nplinspac solar_cell_solversolar_cel iv user_optionsvoltag v light_iv true wavelength wl pltfigur pltplotv solar_celliviv k linewidth labeltot pltplotv solar_cellivv b labelgainp pltplotv solar_cellivv g labelingaa pltplotv solar_cellivv r labelg pltlegend pltylim pltxlim pltylabelcurr pltxlabelvoltag v pltshow set option defin custom materi imag sigesn_nkpng width imag diamond_nkpng width codeblock python solcor import materi solcor import si solcorematerial_system import create_new_materi solcoreabsorption_calcul import create_nk_txt download_db search_db solcoreconfig_tool import add_sourc import matplotlibpyplot plt import numpi np import os first need tell solcor thing put custom materi use add_sourc function config_tool although could also manual edit solcor configur file home directori need add two thing config file put n k data new materi ad databas put paramet go file home_fold ospathexpandus custom_nk_path ospathjoinhome_fold solcorecustommat nk_db_path ospathjoinhome_fold solcorenkdb param_path ospathjoinhome_fold solcorecustom_paramstxt add_sourceoth custom_mat custom_nk_path add_sourceoth nk nk_db_path add_sourceparamet custom param_path exampl need n k data paramet file correct format see exampl paramet file eg material_dataadachibinariestxt creat new materi silicongermaniumtin input file paramet sigesn_paramstxt copi directli ge create_new_materialsigesn sigesn_ntxt sigesn_ktxt sigesn_paramstxt creat instanc like solcor materi sigesn materialsigesn pltfigur pltplotsinparang nme sigesnnsinparang nm pltplotsinparang nme sigesnksinparang nm pltshow exampl also creat solcor materi materi refractiveindexinfo databas necessari download databas download_db search option avail diamond use first result pageid creat data file n k diamond result search_dbdiamond create_nk_txtpageidresult filec_diamond create_new_materialmat_nam diamond n_sourcec_diamond_ntxt k_sourcec_diamond_ktxt diamond materialdiamond pltfigur pltplotsinparang nme diamondnsinparang nm pltplotsinparang nme diamondksinparang nm pltshow exampl tunnel junction imag tunnel_junctionpng width align center codeblock python import matplotlibpyplot plt solcorestructur import tunneljunct solcoresolar_cell_solv import default_opt solcoreanalytic_solar_cel import parametric_tunnel_junct defin tunnel junction solv properti tunnel tunneljunctionv_peak j_peak v_valley j_valley prefactor je kindparametr parametric_tunnel_junctiontunnel default_opt v tunnelvoltag pltplotv tunneltunnel_currentv r labeltunnel pltplotv tunnelexcess_currentv g labelexcess pltplotv tunneldiffusion_currentv b labeldiffus pltplotv tunnelcurr k linewidth colordimgray labeltot pltplot ko pltannotatev_p j_p xy fontsiz pltannotatev_v j_v xy fontsiz pltlegendfonts frameonfals pltylim pltxlim pltylabelcurr densityam fontsiz pltxlabelvoltagev fontsiz plttick_paramslabels plttight_layout pltshow exampl creation light sourc imag ls_comparepng width imag ls_smartspng width note script requir smart instal correctli configur comment line relat smart light sourc codeblock python import numpi np import matplotlibpyplot plt solcorelight_sourc import lightsourc wavelength rang spectra wl nplinspac differ type light sourc defin gauss lightsourcesource_typelas xwl center linewidth power bb lightsourcesource_typeblack bodi xwl entenduesun amg lightsourcesource_typestandard xwl versionamg smart lightsourcesource_typesmart xwl spectral lightsourcesource_typespectr xwl plot compar differ light sourc pltfigur pltplotgaussspectrum labelgauss pltplotbbspectrum labelblack bodi pltplotamgspectrum labelamg pltplotsmartsspectrum labelsmart pltplotspectralspectrum labelspectr pltxlim pltxlabelwavelength nm pltylabelpow densiti wmnm plttight_layout pltlegend plot compar spectra calcul smart differ hour day pltfigur h rang pltplotsmartsspectrumhourh label hformath pltxlim pltxlabelwavelength nm pltylabelpow densiti wmnm plttight_layout pltlegend pltshow exampl j solar cell calcul pdd solver imag pdd_carrier_densitypng width imag pdd_ivpng width imag pdd_qepng width codeblock python import matplotlibpyplot plt import numpi np solcoresolar_cel import solarcel default_gaa solcorestructur import layer junction solcor import si solcor import materi solcorelight_sourc import lightsourc solcoresolar_cell_solv import solar_cell_solv substrat materialgaastt def algaast creat materi need devic window materialalgaastt nae al p_algaa materialalgaastt nae al n_algaa materialalgaastt nde al bsf materialalgaastt nde al output junctionlayerwidthsinm materialwindow rolewindow layerwidthsinm materialp_algaa roleemitt layerwidthsinm materialn_algaa rolebas layerwidthsinm materialbsf rolebsf sne spe tt kindpdd return output my_solar_cel solarcellalgaast default_gaast tt r_seri substratesubstr vin nplinspac v nplinspac wl nplinspac e light_sourc lightsourcesource_typestandard versionamg xwl output_unitsphoton_flux_per_m concentr calcul iv curv illumin solar_cell_solvermy_solar_cel iv user_optionst_ambi db_mode boltzmann voltag v light_iv true wavelength wl optics_method bl mpp true internal_voltag vin light_sourc light_sourc plot electron hole densiti equilibrium short circuit calcul automat calcul iv curv pltfigur j my_solar_celljunction_indic zz my_solar_celljshort_circuit_databandstructurex my_solar_celljoffset n my_solar_celljshort_circuit_databandstructuren p my_solar_celljshort_circuit_databandstructurep pltsemilogyzz n b pltsemilogyzz p r zz my_solar_celljequilibrium_databandstructurex my_solar_celljoffset n my_solar_celljequilibrium_databandstructuren p my_solar_celljequilibrium_databandstructurep pltsemilogyzz n b pltsemilogyzz p r pltxlabelposit pltylabelcarri densiti iv curv individu junction mj devic pltfigur pltplotv absmy_solar_cellivv b labelalgaa pltplotv absmy_solar_cellivv r labelgaa pltplotmy_solar_celliviv absmy_solar_celliviv k labelmj pltlegend pltxlim pltylim pltxlabelbia v pltylabelcurr calcul quantum effici solar_cell_solvermy_solar_cel qe user_optionst_ambi db_mode boltzmann voltag v light_iv true wavelength wl optics_method bl mpp true internal_voltag vin light_sourc light_sourc pltfigur pltplotwl e my_solar_celleqewl b labelalgaa pltplotwl e my_solar_celleqewl r labelgaa pltxlabelwavelength nm pltylabeleq pltshow set option defin custom materi imag single_qwpng width imag mqw_ldospng width codeblock python solcor import si materi solcorestructur import layer structur import solcorequantum_mechan qm first creat materi need bulk materialgaast strainedfals barrier materialgaaspt p strainedtru well layer top_lay layerwidthsinm materialbarri inter layerwidthsinm materialbulk barrier_lay layerwidthsinm materialbarri bottom_lay top_lay creat qw materi given composit qw materialingaast strainedtru layer well_lay layerwidthsinm materialqw follow line creat qw structur differ number qw interlay indic substrat materi keyword substrat essenti order calcul correctli strain singl qw interlay test_structure_ structuretop_lay inter well_lay inter bottom_lay substratebulk output_ qmschrodingertest_structure_ quasiconfin graphtypepotenti num_eigenvalu showtru qw without interlay test_structure_ structuretop_lay barrier_lay well_lay barrier_lay bottom_lay substratebulk output_ qmschrodingertest_structure_ quasiconfin graphtypepotentialsldo num_eigenvalu showtru exampl use db solver calcul effici map j solar cell imag mj_efficiency_mappng width imag mj_iv_optimalpng width codeblock python import numpi np import matplotlibpyplot plt matplotlib import cm solcorelight_sourc import lightsourc solcoresolar_cel import solarcel solcoresolar_cell_solv import solar_cell_solv solcorestructur import junction illumin spectrum wl nplinspac e light lightsourcesource_typestandard versionamg xwl output_unitsphoton_flux_per_m v nplinspac function assembl solar cell calcul iv cruve def solve_mjegbot egmid egtop db_junction junctionkinddb tt egegbot r_shuntnpinf n db_junction junctionkinddb tt egegmid r_shuntnpinf n db_junction junctionkinddb tt egegtop r_shuntnpinf n my_solar_cel solarcelldb_junct db_junction db_junction tt r_seri solar_cell_solvermy_solar_cel iv user_optionst_ambi db_mode top_hat voltag v light_iv true internal_voltag nplinspac wavelength wl mpp true light_sourc light return my_solar_cel creat effici map use eg bandgap bottom junction scan bandgap middl top junction n n eg all_eg nplinspac n all_eg nplinspac n eff npzerosn n n n n index effmax eg_max all_eg eg_max all_eg run calcul eg enumerateall_eg j eg enumerateall_eg my_solar_cel solve_mjeg eg eg mpp my_solar_cellivpmpp effi j mpp mpp effmax effmax mpp eg_max eg eg_max eg index printintindex n n optimum_mj solve_mjeg eg_max eg_max pltfigur pltplotv optimum_mjiviv k linewidth labeltot pltplotv optimum_mjivv r labelbottom pltplotv optimum_mjivv g labelmiddl pltplotv optimum_mjivv b labeltop pltylim pltxlim pltlegend pltxlabelvoltag v pltylabelcurr pltfigur eff eff lightpower_dens pltcontourfall_eg all_eg eff cmapcmjet pltxlabeltop eg ev pltylabelmid eg ev cbar pltcolorbar cbarset_labeleffici rotat labelpad plttight_layout pltshow search refractiveindexinfo databas compar materi imag ag_npng width imag ag_kpng width imag ag_gaas_abspng width codeblock python solcoreabsorption_calculatornk_db import download_db search_db solcor import materi solcor import si solcoresolar_cel import solarcel solcorestructur import layer solcoresolar_cell_solv import solar_cell_solv default_opt import numpi np import matplotlibpyplot plt wl sinparang nm opt default_opt optsoptics_method tmm optswavelength wl download databas refractiveindexinfo need done specifi sourc url number interpol point download_db search databas select appropri entri search elementchem formula case look silver search_dbag exact true print line line match entri show us entri pageid correspond silver let compar optic behaviour sourc pageid johnson pageid mcpeak pageid hagemann pageid rakic bb creat instanc materi optic constant databas name use solcor builtin materi would name materi alloy like gaa pageid string flag nk_db must set true tell solcor look previous download databas refractiveindexinfo ag_joh materialnam nk_dbtrue ag_mcp materialnam nk_dbtrue ag_hag materialnam nk_dbtrue ag_rak materialnam nk_dbtrue ag_sol materialnam ag solcor builtin sopra plot n k data note data cover full wavelength rang nk valu stay flat name johnson mcpeak hagemann rakic solcor builtin pltfigur pltplotwl e ag_johnwl wl e ag_mcpnwl wl e ag_hagnwl wl e ag_raknwl wl e ag_solnwl pltlegendlabelsnam pltxlabelwavelength nm pltylabeln pltshow pltfigur pltplotwl e ag_johkwl wl e ag_mcpkwl wl e ag_hagkwl wl e ag_rakkwl wl e ag_solkwl pltlegendlabelsnam pltxlabelwavelength nm pltylabelk pltshow compar perform back mirror gaa cell solid line absorpt gaa dash line absorpt ag gaa materialgaa color b r k pltfigur c ag_mat enumerateag_joh ag_mcp ag_hag ag_rak ag_sol my_solar_cel solarcelllayerwidthsinm materi gaa layerwidth sinm materi ag_mat solar_cell_solvermy_solar_cel optic opt gaas_posit nplinspacemy_solar_celloffset my_solar_celloffset my_solar_cellwidth ag_posit nplinspacemy_solar_celloffset my_solar_celloffset my_solar_cellwidth gaas_ab nptrapzmy_solar_celldiff_absorptiongaas_posit gaas_posit ag_ab nptrapzmy_solar_celldiff_absorptionag_posit ag_posit pltplotwl gaas_ab colorcolorsc linestyl labelnamesc pltplotwl ag_ab colorcolorsc linestyl pltlegend pltxlabelwavelength nm pltylabelabsorb pltshow exampl quasid model j solar cell code shown j extens immedi imag square_mask_v_png width imag square_mask_ivpng width imag circular_mask_v_png width imag circular_mask_ivpng width requir extra file avail solcor github repositori exampl folder httpsgithubcomdalonsoasolcore_ masks_illuminationpng masks_sqpng masks_clpng codeblock python import numpi np import matplotlibpyplot plt solcorestructur import junction solcoresolar_cel import solarcel solcorelight_sourc import lightsourc solcorespic import solve_quasi_d first load mask defin illumin pattern contact must greyscal imag solver expect imag valu imread png imag even grey scale multipli imag jpg result would alreadi illuminationmask pltimreadmasks_illuminationpng astypenpint contactsmask pltimreadmasks_sqpng astypenpint nx ny illuminationmaskshap symmetri argument complet true illumin mode devic multipli current illuminationmask illuminationmaskintnx intni contactsmask contactsmaskintnx intni size pixel lx e ly e height metal finger h e contact resist ohm rcontact e resist metal finger ohm rline e bia v vini vfin step db_junction junctionkindd tt reff jref eg r_sheet_top r_sheet_bot r_shunt n db_junction junctionkindd tt reff jref eg r_sheet_top r_sheet_bot r_shunt n db_junction junctionkindd tt reff jref eg r_sheet_top r_sheet_bot r_shunt n singl junction node full j worth exploit symmetri whenev possibl smaller number node also make solver robust my_solar_cel solarcelldb_junct tt wl nplinspac e light_sourc lightsourcesource_typestandard versionamg xwl output_unitsphoton_flux_per_m concentr option light_iv true wavelength wl light_sourc light_sourc v vall vmet solve_quasi_dmy_solar_cel illuminationmask contactsmask optionsopt lxlx lyli hh r_back r_contactrcontact r_linerlin bias_startvini bias_endvfin bias_stepstep sinc model devic multipli current plot voltag last extern voltag point v v top layer top junction pltfigur pltimshowval pltfigur pltsemilogyv absi pltshow tutori j solar cell qw bottom cell tutori guid stepbystep creation solar cell calcul properti use solcor dual junction gainpgaa solar cell lattic match gaa bottom cell strainedbalanc quantum well qw made gaaspingaa tunnel junction subcel dual layer antireflect coat front made mgfzn want find absorpt properti qw qe solar cell effici eff short circuit current isc open circuit voltag voc fill factor ff function concentr let get start defin structur first need creat solar cell structur made sever bit piec qw xjunction x tunnel junction arc start first defin qw code python solcor import materi solcorestructur import layer import solcorepoisson_drift_diffus pdd import numpi np wl nplinspac e first creat materi qw qwmat materialingaastt strainedtru bmat materialgaasptt p strainedtru i_gaa materialgaastt qw nm wide gaa interlay nm thick side gaasp barrier nm thick final devic qw qw pddqwunitlayerwidth materialbmat rolebarri layerwidth materiali_gaa rolewel layerwidth materialqwmat rolewel layerwidth materiali_gaa rolewel layerwidth materialbmat rolebarri tt repeat substratei_gaa solv quantum properti qw leav default valu paramet qw_list qwgeteffectiveqwwavelengthswl first line import solcor util need defin structur includ materi function layer class poissondriftdiffus solver creat materi made qw creat qwunit use structur abl solv qw afterward transform sequenc layer effect properti pdd solver understand call qwunit sever input includ temperatur substrat number repetit qw structur layer call geteffectiveqw inde use util within quantum_mechan modul calcul band structur qw absorpt coeffici final calcul effect bandgap densiti state etc pdd solver use although devic quantum well one unit one indic layer model isol qw want solv properti qw without creat effect structur pdd solver use instead code python solcor import materi solcorestructur import layer structur import solcorequantum_mechan qm first creat materi qw qwmat materialingaastt strainedtru bmat materialgaasptt p strainedtru i_gaa materialgaastt qw nm wide gaa interlay nm thick side gaasp barrier nm thick qw structurelayerwidth materialbmat rolebarri layerwidth materiali_gaa roleinterlay layerwidth materialqwmat rolewel layerwidth materiali_gaa roleinterlay layerwidth materialbmat rolebarri substrat i_gaa final quantum properti calcul output qmschrodingerqw solcor solv schrödinger equat structur number layer absorpt calcul qw deal properli singl qw reason model qw despit structur clearli repres limit model absorpt superlattic strong coupl neighbour qw code use geteffectiveqw qmschroding function default valu number option input paramet defin number confin state calcul energi quasiconfin state electr field boundari condit etc pleas visit document function find avail option defin junction order calcul properti solar junction use pdd solver need give layer materi junciton made similar way done qw one thing note solcor find properti need solv pdd equat take correspond properti gaa default valu sure provid requir valu happi default note differ code snippet addit order get final complet script normal import statement would pack togeth begin code python solcorestructur import junction materi bottom junction window_bottom materialgainptt nde n_gaa materialgaastt nde p_gaa materialgaastt nae bsf_bottom materialgainptt nae gaas_junct junctionlayerwidth materialwindow_bottom rolewindow layerwidth materialn_gaa roleemitt qw_list layerwidth materialp_gaa rolebas layerwidth materialbsf_bottom rolebsf sne spe tt kindpdd materi top junction window_top materialalinptt nde al n_gainp materialgainptt nde p_gainp materialgainptt nae bsf_top materialalinptt nae al gainp_junct junctionlayerwidth materialn_gainp roleemitt layerwidth materialp_gainp rolebas sne spe tt kindpdd seen defin window back surfac field layer bsf top junction includ junction definit reason wide bandgap materi caus converg problem calcul illumin special work frontmost window layer distribut bragg reflector abrupt chang properti peri short distanc order account presenc two thing done surfac recombin veloc top junction set low valu mimic passiv effect window bsf layer miss layer ad outsid junction object creat full solar cell order consid optic properti see trick tmm solver work best thin layer therefor result optic calcul look strang tri divid thick layer µm thinner one nm reason wave propag forward backward lead interfer ultim complex exponenti increas decreas quit fast away interfac result loss numer accuraci tri interact far interfac tunnel junction solar cell defin accord parametr model assum made gainp layer nmthick total block part light reach bottom junction sinc top junction also made gainp light alreadi absorb therefor repres import loss use rel low peak current demonstr effect tunnel junction breakdown work high concentr code python solcorestructur import tunneljunct tunnel tunneljunctionlayerwidth materialn_gainp roletj v_peak j_peak v_valley j_valley prefactor je kindparametr defin ar coat ar coat reduc front surfac reflect therefor increas photocurr solar cell use simpl dual layer coat made mgf zn materi avail sopra databas optic constant mgf znscub respect data mgf extend nm assum optic properti similar longer wavelength extrapol avail data code python mgf materialmgf zn materialznscub creat solar cell materi structur defin need put everyth togeth includ front window layer bsf layer top junction left outsid code python solcoresolar_cel import solarcel my_solar_cel solarcelllayerwidth materialmgf rolearc layerwidth materialzn rolearc layerwidth materialwindow_top rolewindow gainp_junct layerwidth materialbsf_top rolebsf tunnel gaas_junct tt substraten_gaa calcul extern quantum effici structur fulli defin possibl calcul behavior solar cell first calcul extern quantum effici sun intens use amg solar spectrum code defin spectrum use lunch calcul code python solcoresolar_cell_solv import solar_cell_solv solcorelight_sourc import lightsourc light_sourc lightsourcesource_typestandard versionamg xwl output_unitsphoton_flux_per_m concentr solar_cell_solvermy_solar_cel qe user_optionslight_sourc light_sourc wavelength wl optics_method tmm calcul proceed sever stage structur process discret problem solv equilibrium problem solv short circuit condit increas small step intens illumin quantum effici calcul one wavelength time done two junction follow code plot electron hole densiti equilibrium dash line short circuit continu line well eqe two junction total absorpt layer code python solcoresolar_cell_solv import solar_cell_solv solcorelight_sourc import lightsourc light_sourc lightsourcesource_typestandard versionamg xwl output_unitsphoton_flux_per_m concentr solar_cell_solvermy_solar_cel qe user_optionslight_sourc light_sourc wavelength wl optics_method tmm figur qejpg alt quantum effici seen minor carrier popul increas significantli illumin special qw region bottom cell rel thick undop region eqe bottom junction comparison total absorb light indic excel carrier collect miss carrier region spectrum light absorb qw top junction perform well reason combin low mobil carrier gainp time smaller pgaa insuffici thick absorb light part reach gaa junction parasit absorpt algap window layer surfac recombin calcul iv characterist calcul currentvoltag characterist proceed similar way case care must taken use correct polar intern voltag sweep polar tunnel junction alreadi defin pn optic properti alreadi calcul set optics_methodnon calcul next code show definit voltag sunlight concentr factor sun execut calcul within loop note exampl take sever hour run due presenc qw increas number mesh point bottom cell sever thousand exampl result faster reduc number concentr exampl comment qw relat line definit gaa junction code python con nplogspac vint nplinspac v nplinspac alli isc voc ff pmpp c con light_sourceoptionsconcentr c solar_cell_solvermy_solar_cel iv user_optionslight_sourc light_sourc wavelength wl optics_method none light_iv true mpp true voltag v internal_voltag vint iscappendmy_solar_cellivisc vocappendmy_solar_cellivvoc ffappendmy_solar_cellivff pmppappendmy_solar_cellivpmpp alliappendmy_solar_celliviv next figur show summari effici isc voc fill factor ff versu concentr figur iv_paramsjpg alt iv_param effici cell sun increas concentr peak around sun increas concentr rapidli decreas effici isc voc follow expect linear trend loglog semilog plot respect fill factor increas low concentr continu drop sun special sun initi smooth drop fill factor relat limit carrier transport across qw region concentr suffer charg accumul damp electr field howev abrupt drop higher concentr relat failur tunnel junction design low peak current effect better seen last figur two highest concentr iv curv exhibit step due tunnel junction limit current figur ivjpg alt iv radi coupl mj solar cell figur show iv curv amg solar spectrum three junction solar cell without b radi coupl without coupl middl junction sever limit current mj solar cell coupl enabl middl junction still limit one part excess current top junction transfer increas photocurr around math part radi recombin also transfer bottom cell increas slightli photocurr case given junction overproduc current alreadi coupl visibl increas voltag altogeth radi coupl result enhanc v math_oc mv effici matheta exampl use junction radi effici illustr effect phenomenon alway present extent becom especi import concentr imag mj_with_rad_couplingpng width align center codeblock python import matplotlibpyplot plt import numpi np solcorestructur import junction solcoresolar_cel import solarcel solcorelight_sourc import lightsourc solcoresolar_cell_solv import solar_cell_solv solcoregraphingcustom_colour import colour vin nplinspac v nplinspac wl nplinspac e light_sourc lightsourcesource_typestandard versionamg xwl output_unitsphoton_flux_per_m concentr color b g r label top mid bot fig ax pltsubplot shareyal figsiz k rad enumeratefals true input data kind junction db_junction junctionkindd tt reff jref eg r_shuntnpinf n db_junction junctionkindd tt reff jref eg r_shuntnpinf n db_junction junctionkindd tt reff jref eg r_shuntnpinf n my_solar_cel solarcelldb_junct db_junction db_junction tt r_seri solar_cell_solvermy_solar_cel iv user_optionst_ambi voltag v light_iv true wavelength wl light_sourc light_sourc radiative_coupl rad mpp true internal_voltag vin total junction iv axkplotmy_solar_celliviv my_solar_celliviv markero colorcoloursblack ls markerfacecolornon markeredgecolorcoloursblack junciton iv mj devic includ coupl enabl data enumeratemy_solar_cellivjunct iv axkplotdata data colori linewidth junction iv isol devic therefor affect coupl current limit rangemy_solar_celljunct axkplotv my_solar_celliivv colori linewidth labellab axkset_ylim axkset_xlim axkset_xlabelbia v isc my_solar_cellivisc voc my_solar_cellivvoc ff my_solar_cellivff eta my_solar_celliveta axktext i_sc strroundisc fontsiz axktext v_oc strroundvoc v fontsiz axktext ff f formatff fontsiz axktext reta f formateta fontsiz axset_ylabelcurr axtext transformaxtransax fontsiz axtext b transformaxtransax fontsiz plttight_layout axlegendloc frameonfals pltshow exampl list exampl illustr use solcor exampl avail solcor github repositori exampl folder httpsgithubcomdalonsoasolcore_ list point quantum solver doccalcul bandstructur local densiti state qw mqw example_qw dockp calcul effect mass fit example_k_and_effective_mass light sourc docexampl use light_sourc modul example_light_sourc optic method docus tmm solver calcul reflext multilay arc example_rat_of_arc doclook effect substrat no_back_reflect option tmm solver example_substr doccompar optic model tmm beerlambert rcwa example_optics_comparison custom materi docset option defin custom materi custom_materials_exampl docsearch refractiveindexinfo databas compar materi refractiveindex_info_db_exampl mj solar cell doctutori j solar cell qw bottom cell tutori docexampl j solar cell calcul pdd solver example_pdd_solv docradi coupl j solar cell example_radiative_coupl docmj solar cell effici map example_mj_efficiency_map doctradit gainpingaasg solar cell example_j_with_da_solv docexampl tunnel junction examplesexample_tunnel_junct spicebas solar cell solver docpv modul calcul example_pv_modul docquasid j solar cell example_quasid_cel qw unit creator quantum well develop context solar cell mainli tailor absorpt edg subcel multijunct devic optimum valu ref_ typic achiev proper perform requir delic tradeoff carrier collect light absorpt ref_ ref_ solcor includ simplifi qw structur pdd solver order calcul perform solar cell contain contrari program like nextnano solcor solv schrödinger equat pdd equat selfconsist first energi level quantum well solv use flatband condit consid also strain materi effect band structur use solv transport equat bulklik fashion illustr next figur imag figuresqwunitpng align center perspect pdd solver actual bandgap electron affin layer quantum well depend energi level ie minimum energi electron band edg conduct band ground confin level appli hole actual band edg maximum ground state light hole heavi hole result band profil use pdd solver shown right end figur use qw pdd solver creat effect electron affin bandgap layer qw barrier electron affin band gap bulk modifi strain necessari interlay present depend higher band edg interlay confin carrier level densiti state absorpt profil need modifi similar way densiti state barrier bulk densiti state absorpt profil interlay bulk densiti state barrier bulk absorpt barrier energi zero well densiti state associ confin state bulk densiti state barrier absorpt confin level barrier energi bulk simplif similar nelson et al ref_ cabrera et al ref_ allow us keep bulklik form carrier densiti drift diffus equat boltzmann approxim rigor treatment necessari presenc tunnel transport across supperlattic tunnel escap qw barrier possibl presenc high electr field case deep qw carrier escap less confin level might possibl deeper one situat set rate equat link differ level well selfconsist solut transport schrödinger equat would requir besid use advanc method nonequilibrium green function negf formal ref_ qwunit class modul defin class deriv solcorestructur allow solv schroding equat kp model also prepar properti structur bandedg efect densiti state do etc order meaning set properti pdd without prepar structur collect layer bulklik properti illustr figur pyclass qwunit arg kwarg asembl group layer quantum well calcul properti whole solcorestructur qwunit usual get input list solcorelay solcoremateri substrat defin keyword substrat case class constructor design work specif pdd solver requir follow need minimum layer must exactli one layer role well top bottom layer assum barrier anyth barrier well consid interlay substrat sinc pdd solver work superlattic point consid solut one qw qw enter solver independ regardless width barrier account possibl presenc nearbi qw perdiod boundari condit use solv schroding equat barrier interlay thick enought make differ thin affect number energi confin level creat miniband though result thin barrier must use caution pymethod solvev wlsteps e wavelengthsnon periodictru filter_strength blurnon blurmodeleft offsetuse_kptru use_adachifals calculate_absorptiontru alpha_paramsnon solv structur calcul energi level absorpt etc first call schroding solver use result obtain effect band profil conduct valenc band effect densiti state consid bulk quantum level absorpt coeffici done layer structur see follow method detail input paramet method schroding solver except wavelength definit use default wlstep ad wavelength method return output output dictionari schroding solver pymethod recalculatebandedgesuse_kp sr perspect pdd solver actual bandgap electron affin layer depend energi level ie minimum energi electron band edg conduct band ground confin level appli hole actual band edg maximum ground state light hole heavi hole see reffigureqwunit method modifi creat effect electron affin band gap layer qw barrier electron affin band gap bulk modifi kp calcul necessari interlay depend higher bandedg interlay confin carrier level requir input kp use recalcul band posit effect mass use_kptru output schroding solver pymethod recalculatedensityofstatessr calcul effect densiti state layer qw gener rule barrier bulk densiti state qw densiti state asoci confin state bulk densiti state barrier interlay bulk densiti state barrier simplif similar nelson et al ref_ allow us keep bulklik form carrier densiti drift diffus equat boltzmann approxim physic porint view probabl done better pymethod calculateabsorptionuse_adachi sr requir function calcul absorpt qw put togeth absorpt confin level absorpt bulk densiti state rule barrier bulk absorpt interlay bulk absorpt barrier energi zero well absorpt confin level barrier energi bulk calcul similar ref_ do probabl improv requir input adachi method ref_ calcul absorpt use use_adachitru output schroding solver pymethod geteffectiveqwcalculate_absorptiontru wavelengthsnon periodictru filter_strength blurnon blurmodeleftuse_kptru use_adachifals alpha_paramsnon consid devic qw solv properti includ modif bandeg due strain efect mase absorpt coeffici without call function structur collect layer bulklik properti output list layer effect properti qw repeat mani time need case mqw codeblock python exampl illustr creation qw structur well solv quantum properti add intrins region pin solar cell import solcorepoisson_drift_diffus pdd solcorestructur import layer solcor import materi first creat materi qw qwmat materialingaa bmat materialgaasp p i_gaa materialgaa qw nm wide gaa interlay nm thick side gaasp barrier nm thick final devic qw qw pddqwunit layerwidth e materi bmat rolebarri layerwidth e materi i_gaa roleinterlay layerwidth e materi qwmat rolewel layerwidth e materi i_gaa roleinterlay layerwidth e materi bmat rolebarri repeat solv quantum properti qw effective_qw qwgeteffectiveqwqw case effective_qw list layer layer per qw unit repeat time rather bulk materi properti includ effect properti result quantum calcul function descript automodul solcorepoisson_drift_diffusionqwunit member undocmemb refer ref adachi optic dispers relat gap gaa gasb inp ina insb alxgaxa inxgaxasypi j appl phi ref j nelson paxman k w j barnham j robert c button steadyst carrier escap singl quantum well ieee j quantum electron vol pp ref c cabrera j c rimada j p connolli l hernandez model gaaspingaasgaa strainbalanc multiplequantum well solar cell j appl phi ref thoma wilson fuhrer alonsoalvarez ekin dauk nj lackner kailuweit p philipp sp bett aw toprasertpong k sugiyama okada potenti reach power convers effici use quantum heterostructur th world confer photovolta energi convers pp ref alonsoalvarez fuhrer thoma ekinsdauk n element model design multiquantum well solar cell ieee th photovolta specialist confer pvsc pp ref alonsoalvarez ekinsdauk nj quantum well high effici photovolta freundlich lombez l sugiyama ed physic simul photon engin pho tovolta devic v vol p spie opto san francisco ca httpsdoiorg ref aeberhard u quantumkinet perspect photovolta devic oper nanostructurebas solar cell j mater re devic structur modul contain function necessari build sampl structur read pdd solver typic need use except case includ quantum well solar cell case need use method solv quantum properti creat effect medium execut pdd solver _mainfunct main function pyfunct createdevicestructurenam roledevic layer comment repeat substratedefaultmateri reflectionnon creat dictionari subdctionari list store paramet materi inform necessari solv poisson driftdiffus equat might use also get properti given materi use pdd solver layer list object class solcorelay solcorestructur solcorejunct also valid input sinc made list layer properti defin explicitli definit materi layer calcul literalsolcor taken default materi see section refdefaultmateri substrat must solcoremateri otherwis default materi use output dictionari inform structur codeblock python exampl illustr creation pin junction includ algaa window back surfac field layer custom absorpt coeffici gaa intrins layer use import solcorepoisson_drift_diffus pdd solcorestructur import layer junction solcoreimport materi first creat materi overrid default properti want dope absorpt coeffici window materialalgaa na e al p_gaa materialgaa na e i_gaa materialgaa n_gaa materialgaa nd e bsf materialalgaa nd e al put everyth togeth junction includ surfac recombin veloc sn sp although necessari case myjunct junction layerwidth e materi window rolewindow layerwidth e materi p_gaa roleemitt layerwidth e materi i_gaa roleintrins layerwidth e materi n_gaa rolebas layerwidth e materi bsf rolebsf sne spe kindpdd creat structur actual creation get inform materi materi databas relev pdd solver store dictionari mydevic pddcreatedevicestructur testdevic myjunctiont layer myjunct mydevic dictionari sever entri specif inform use pdd solver requir exampl codemydevicelayersproperti contain follow order might differ codeblock python composit materi gaa width e band_gap e electron_affin e eff_mass_electron_gamma eff_mass_hh_z eff_mass_lh_z electron_mobl hole_mobl ni nc e nv e electron_minority_lifetim e hole_minority_lifetim e permitt electron_auger_recombin e hole_auger_recombin e radiative_recombin e nd na e sn sp inform layer wil similar sinc gaa case except mobil depend dope differ _defaultmateri default materi default materi gaa k gener intrins properti materi taken literatur calcul literalsolcor materi system found exampl materi alloy databas extrins default valu use extrins properti depend qualiti materi dope asign reason valu user must make sure reason valu inde reson intend applic overrid hisher otherwis total list paramet default valu paramet default valu unit note band_gap calcul gaa k j electron_affin calcul gaa k j eff_mass_electron_gamma calcul gaa k rel eff_mass_hh_z calcul gaa k rel eff_mass_lh_z calcul gaa k rel permitt rel epsilon electron_mobl calcul gaa k v hole_mobl calcul gaa k v electron_minority_lifetim e srh f_ recombin time electron hole_minority_lifetim e srh recombin time hole electron_auger_recombin e hole_auger_recombin e radiative_recombin calcul gaa deriv absorpt coeffici nd densiti donor na densiti acceptor f shockleyreadhal function descript automodul solcorepoisson_drift_diffusiondevicestructur member undocmemb multijunct electr solver exampl doctutori j solar cell qw bottom cell examplestutori exampl docexampl j solar cell calcul pdd solver examplesexample_pdd_solv exampl docradi coupl j solar cell examplesexample_radiative_coupl exampl docmj solar cell effici map examplesexample_mj_efficiency_map exampl doctradit gainpingaasg solar cell examplesexample_j_with_da_solv exampl docexampl tunnel junction examplesexample_tunnel_junct complet photovolta solar cell includ one junction metal contact optic layer includ antireflect coat nanophoton structur tunnel junction junction turn might rang simpl pn homojunct complex heterojunct includ multiquantum well structur solver describ far calcul properti singl junction devic combin multijunct devic necessari consid individu junction electr connect seri potenti coupl light emit wider bandgap junction smaller bandgap radi coupl first consid case radi coupl junction good approxim materi radiat effici radi materi work low concentr fraction radi recombin compar nonradi recombin low case iv curv junction calcul independ current flow mj structur limit junction lowest current given voltag seri resist defin junction ad togeth includ singl term oper voltag junction final backcalcul ad togeth get voltag mj devic pseudocod solver calcul mathi_jv junction mathj structur find current flow mj devic mathi_mjv i_jv mathi_jv min i_vi_nv calcul voltag junction interpol iv curv new current valu mathv_ji_mj voltag drop due seri resist mathv_r r_ i_mj calcul total voltag given current mathv_mj v_r sum_j v_j interpol mathi_mjv_mj mathi_mjv_j desir output voltag valu figur show simul iv curv j solar cell made geingaasgaasp electr properti three junction calcul use deplet approxim solver dark voltag junction given current add togeth result total voltag mj structur mathr_ contribut voltag goe direct junction illumin junction produc lower current top junction case limit overal current mj devic zero bia even neg bia nonlimit junction posit bias recombin photocurr extract limit top cell contribut mathr_ voltag mj devic neg result reduct fill factor overal effici solar cell imag examplesda_ivpng width align center radi coupl radi coupl take place light produc high bandgap junction due radi recombin absorb lower bandgap junction contribut photocurr chang oper point identifi numer highli radi materi quantum well solar cell iiiv mj solar cell appear artefact qe measur mj solar cell also effect exploit increas perform mj devic toler spectral chang result superior annual energi yield radi coupl formal includ solcor base work chan et al nelson et al detail descript radi coupl calcul refer main solcor paper open access httpsdoiorgs_ refer therein exampl radi coupl action found docher examplesexample_radiative_coupl tunnel junction solcor includ partial support tunnel junction repres optic loss due parasit absorpt layer also electr loss moment two model tunnel junction first one simpl resist model tunnel junction simpli model seri resist approxim valid case break current close higher peak current densiti junction second model parametr model base simpl formal describ sze model total current tunnel junction three compon tunnel current mathj_t account bandtoband transport excess current mathj_ex relat transport across state insid forbidden gap diffus current mathj_d usual minoritycarri inject current pn junction follow equat summaris compon math j_tj j_t j_ex j_d math j_t fracj_p vv_p expleft fracvv_p right math j_ex j_v expleft c left v v_v right right math j_d j_ left exp left fracqvk_b right right illustr next figur mathj_p mathv_p peak current voltag mathj_v mathv_v valley current voltag mathc prefactor expon mathj_ revers satur current simpl implement paramet need provid input use fit paramet reproduc experiment data allow correctli account break tunnel junction situat current peak current code exampl found docher examplesexample_tunnel_junct imag examplestunnel_junctionpng width align center solcor also accept extern iv data tunnel junction implement rigor still analyt model describ louarn et al current way order relat tunnel current actual materi layer structur use tunnel junction definit multijunct iv function automodul solcoreanalytic_solar_cellsiv member undocmemb automodul solcoreanalytic_solar_cellstunnel_junct member undocmemb detail balanc approxim exampl docmj solar cell effici map examplesexample_mj_efficiency_map solver calcul electr properti junction balanc elementari process take place solar cell carrier gener radi recombin use formal describ araújo martí ref_ method wide use photovolta commun calcul limit convers effici differ solar cell architectur materi simplest db formul need absorpt edg energi absorpt valu edg carrier gener radi recombin calcul differ intern chemic potenti equal extern electr bia ideal case solcor includ basic model also allow user provid complex absorpt profil detail descript implement db solver solcor refer main solcor paper open access httpsdoiorgs_ refer therein detail balanc function automodul solcoreanalytic_solar_cellsdetailed_bal member undocmemb refer ref marti araujo gl limit effici photovolta energi convers multigap system sol energi mater sol cell solar cell solver solcor includ sever method solv properti solar cell includ optic electr properti solv optic literalsolcor built transfer matrix solver link httpgithubcomphoebeps_ rigor coupl wave analysi solver electr properti literalsolcor includ fundament detail balanc db solver rigor poissondriftdiffus pdd equat solver electr solver appli individu junction separ ouput combin get properti multijunct devic two import element solar cell solver modul solar_cell_solv function default_opt variabl see refsolveropt former function call calcul properti solar cell regardless junction defin specif properti interest provid common interfac calcul use simpli solcoresolar_cell_solv import solar_cell_solv solar_cell_solvermy_solar_cell_object task user_opt task optic iv qe equilibrium short_circuit last two work pdd junction sequenc follow solver default option updat user defin option solar cell structur scan calcul deriv inform like width junction offset layer junction respect front cell solar cell object updat option sent correspond solver optic iv qe equilibrium short_circuit depend chosen task except case equilibrium task requir calcul optic cell done accord chosen optics_method select option default bl beerlambert law altern optics_method valu tmm rcwa extern none optic need calcul visit docopt method section opticsopt inform specif optic solver iv qe task junction present solar cell solv accord method use definit pdd da db detail method describ correspond section final iv task individu iv curv junction tunnel junction present combin calcul iv curv multijunct solar cell take account radi coupl requir calcul modifi origin solar cell object ad attribut method structur exampl calcul iv curv my_solar_cell_object new attribut call iv dictionari iv total solar cell iv curv junction inform voc isc relev etc detail specif electr solver includ solcor found toctre maxdepth detailed_bal twodiod deplet ddsolver multijunction_iv _solveropt solver option option need pass solver either electr optic pass dictionari via de user_opt keyword solar_cell_solv method describ option provid solver tri use default one might might adequ specif problem option common calcul option avail well default valu gener t_ambient ambient temperatur k cell temperatur k actual made equal temperatur solar solar cell definit my_solar_cellt docillumin spectrum spectralspectr wavelength nplinspac e wavelength illumin spectrum light_sourc lightsourcesource_typestandard versionamg xdefault_optionswavelength output_unitsphoton_flux_per_m illumin spectrum air mass global spectrum provid wavelength unit photonss sup sup iv control voltag nplinspac voltag calcul iv curv complet solar cell mpp fals paramet solar cell illumin isc voc pmpp impp vmpp fill factor effici calcul fals valu none light_iv fals light iv curv simul internal_voltag nplinspac voltag iv curv junction insid cell calcul rang wider voltag gener voltag rang use junction posit nparang solar_cellwidth e posit insid solar cell structur calcul absorpt default calcul angstrom whole width cell control depth space user pass vector specifi posit depth calcul singl number specifi space gener posit vector eg e nm space list number specifi space use layer list either length number individu layer number junction cell object length total number individu layer includ layer insid junction radiative_coupl fals radi coupl includ calcul optic control optics_method bl default method calcul optic properti cell possibl valu tmm rcwa extern none docrigor coupl wave analysi option opticssdoc check rcwa section detail paramet size order theta phi pol u docdetail balanc solver option detailed_bal db_mode boltzmann boltzmann approxim use detail balanc solver choic result use full plank equat slower gener docdeplet approxim solver option deplet da_mod bvp select numer approxim method driftdiffus equat deplet approxim solver possibl valu bvp numer solut use solve_bvp method scipyintegr modul green semianalyt solut use green function latter expect faster docpoissondrift diffus solver option driftdiffusionutil check pdd section detail paramet mesh control meshpoint growth_rat coars e fine e ultrafin e converg control clamp nitermax atol e rtol e recombin control srh rad aug sur gen solar cell solver modul function automodul solcoresolar_cell_solv member undocmemb poisson driftdiffus solver pdd exampl docexampl simpl j solar cell calcul pdd solver examplesexample_pdd_solv exampl doctutori j solar cell qw bottom cell examplestutori pdd packag provid tool necesari build solar cell structur calcul properti solv simultan poisson equat drfit diffus equat normal function need access directli call intern literalsolcor use higher level method docsolar cell solver solving_solar_cel use pdd packag enough includ follow line code codeblock python import solcorepoisson_drift_diffus pdd function packag avail user actual function calcul spread sever modul docdrift diffus util driftdiffusionutil file solcorepdddriftdiffusionutilitiespi contain python interfac dump inform devic structur fortran variabl execut chosen calcul get data fortran variabl end modul contain follow method call intern solar_cell_solv equilibrium_pdd short_circuit_pdd iv_pdd qe_pdd docdevic structur devicestructur file solcorepdddevicestructurepi contain sever function necessari build structur read pdd solver import function createdevicestructur scan junction layer extract materi databas paramet requir pdd solver final contain default properti use found particular materi gener default properti correspond gaa k docqw unit creator qwunit file solcorepddqwunitpi contain util transform sequenc layer structur turn use solv schroding equat kp model also prepar properti structur bandedg efect densiti state etc order meaning set properti dd solver use geteffectiveqw drift diffus fortran solver file solcorepddddmodelcurrentf current version fortran code compil perform heavi numer calcul normal would need care file except intend modifi numer solver toctre maxdepth devicestructur driftdiffusionutil qwunitanalyt solar cell calcul warn document updat solcor packag includ tool calcul use analyt approach quantum effici iv characterist solar cell singl junction multijunct tool access directli import packag multijunctioniv spectral_response_all_junct check tool might avail import modul within packag _quantum_efficiency_calcul quantum effici calcul modul calcul quantum effici number junction use diffus coeffici diffus length deplet aproxim find fraction photon collect function energi contrari refiv_calcul calcul qe requir substanti amount inform relat materi properti junction layer form junction next exampl show structur definit calcul qe gainpingaasg trippl junction solar cell subcel pn junction requir therefor two materi one p n side also includ window layer ar coat import numpi np import os solcor import siunit materi si asunit solcoreconst import h c vacuum_permitt solcorestructur import structur junction layer solcorest import state solcoreinterpol import interpd need build solar cell layer layer materi store list top bottom all_materi start ar coat need defin reflexion cell case load extern file def this_dir_filef return ospathjoinospathsplit__file__ f refl_nm nploadtxtthis_dir_filemgfzns_arcsv unpacktru delimit refl_j nparrayh c siunitsrefl_nm nm refl_nm next window layer made alinp load absorpt coeffic alinp extern file alinp materialalinp window_materi alinp window_alpha nploadtxtthis_dir_filealinpcsv unpacktru delimit window_materialalpha interpdxsiunitswindow_alpha ev ywindow_alpha bounds_errorfals fill_valu all_materialsappendwindow_materi top cell gainp build top cell requir n p side gainp also load absorpt coeffici extern file also add extra paramet need calcul minor carrier diffus length ingap materialgainp top_cell_n_materi ingapin ndsiunits cm rolen top_cell_p_materi ingapin nasiunits cm rolep top_cell_alpha nploadtxtthis_dir_fileingapcsv unpacktru delimit top_cell_n_materialalpha interpdxsiunitstop_cell_alpha ev ytop_cell_alpha bounds_errorfals fill_valu top_cell_p_materialalpha top_cell_n_materialalpha top_cell_n_materialhole_minority_carrier_diffusion_length sinm top_cell_p_materialelectron_minority_carrier_diffusion_length sium all_materialsappendtop_cell_n_materi all_materialsappendtop_cell_p_materi mid cell ingaa thing ingaa materialingaa mid_cell_n_materi ingaasin ndsiunits cm rolen mid_cell_p_materi ingaasin nasiunits cm rolep mid_cell_alpha nploadtxtthis_dir_fileingaascsv unpacktru delimit mid_cell_n_materialalpha interpdxsiunitsmid_cell_alpha ev ymid_cell_alpha bounds_errorfals fill_valu mid_cell_p_materialalpha mid_cell_n_materialalpha mid_cell_n_materialhole_minority_carrier_diffusion_length sinm mid_cell_p_materialelectron_minority_carrier_diffusion_length sium all_materialsappendmid_cell_n_materi all_materialsappendmid_cell_p_materi bottom cell ge idem ge materialg bot_cell_n_materi gendsiunits cm rolen bot_cell_p_materi genasiunits cm rolep ge_alpha nploadtxtthis_dir_filegepalikcsv unpacktru delimit gealpha interpdxsiunitsge_alpha ev yge_alpha bot_cell_n_materialhole_minority_carrier_diffusion_length sinm bot_cell_p_materialelectron_minority_carrier_diffusion_length sium all_materialsappendbot_cell_n_materi all_materialsappendbot_cell_p_materi add properti materi assum case differ ad mat all_materi mathole_mobl e matelectron_mobl e matdielectric_const vacuum_permitt final put everyth togeth ad also surfac recombin veloc triplejunct structur layermaterialwindow_materi widthsinm junction layersinm materialtop_cell_n_materi layersinm materialtop_cell_p_materi sn sp junction layersinm materialmid_cell_n_materi layersium materialmid_cell_p_materi sn sp junction layersinm materialbot_cell_n_materi layersium materialbot_cell_p_materi sn sp solar_cel object contain inform regard solar cell use solar_cel state solar_cellstructur triplejunct solar_cellreflect refl_j far definit structur actual calcul quantum effici need add energi rang want calcul result call spectral_response_all_junct function import solcoreanalytic_solar_cel asc energi si unit e sinplinspac ev add energi solar cell structur solar_cellenergi e run simul verbosetru ensur full report paramet print screen qe_result ascspectral_response_all_junctionssolar_cel verbosetru imag qe correspond three junction function wavelength common represent imag figuresqe_mjpng align center sinc didnt defin solar spectrum solar cell geometri short circuit current junction add inform solar_cel object sun solver assum concentr optic metallis top solar cell solcoresolar_spectrum import calculate_spectrum_spectr configur cell geometri concentr cell area state mm x mm cell_area e express geometr concentr optic effici approxim cell metalis shade concentration_factor creat solar spectrum use spectral default configur see document exampl packag info spectrum calculate_spectrum_spectr use spectrum si unit watt joul incident_x_j_y_per_j spectrumincid spectrum energi si incident_funct interpdyincident_x_j_y_per_j concentration_factor cell_area xincident_x_j_y_per_j power_dens spectrumincid power densiti printpow densiti f w mnformatpower_dens alreadi energi defin solar_cellincident_light e incident_function e qe_result ascspectral_response_all_junctionssolar_cel verbosefals printsubcel photocurr densiti cm printtjsctop fformat qe_resultjunctionsj cell_area e concentration_factor printtjscmid fformat qe_resultjunctionsj cell_area e concentration_factor printtjscbot fformat qe_resultjunctionsj cell_area e concentration_factor modif quantum effici chang short circuit current densiti subcel power densiti w subcel photocurr densiti cm jsctop jscmid jscbot automodul solcoreanalytic_solar_cellsq member undocmemb _iv_calcul multijunct current voltag calcul modul contan function necessari calcul iv curv singl multijunct solar cell use thediod equat start point addit multijunctioniv function invok directli import solcoreanalytic_solar_cel packag modul contain sever tool calcul revers satur current radi aproxim use radi effici base knowledg voc jsc exampl use modul calcul iv curv tripl junction solar cell use result exampl see refquantum_efficiency_calcul plote solcoregraph packag import numpi np solcorestructur import structur junction import solcoreanalytic_solar_cel asc solcorest import state solcoregraph import import qe result obtain asc_example_ contain short circuit current junction solar cell illumin default spectal spectrum asc_example_ import qe_result power_dens cell_area concentration_factor ref temperatur ºc let say revers satur current j j junction refer temperatur want iv curv differ one make correct j j cell_temp ref_temp tcell cell_temp tref ref_temp iv data store state object creat includ cell refer temperatur iv_calculation_st statettcel treftref qe object get short circuit current isc_array qe_resultjunctionsj qe_resultjunctionsj qe_resultjunctionsj creat list revers satur current case dont calcul assum somewher i_array e e e i_array e e e structur calcul iv_calculation_statestructur structur junctioneg ji_array ji_array r_shunt r_seri n n photocurrentisc_array junctioneg ji_array ji_array r_shunt r_seri n n photocurrentisc_array junctioneg ji_array ji_array r_shunt r_series n n photocurrentisc_array solv includ explicit rang voltag interest iv_result ascmultijunctioniviv_calculation_st vnplinspac use tool graph packag get nice plot iv curv junction_color blue green red graph_lin graphdataiv labeljunct formati colorjunction_colorsi iv enumerateiv_resultjunct iv graph_linesappendgraphdataiv_resultiv linewidth colorblack labelmultijunct g graphgraph_lin ylim xlabelbia v ylabelcurr legendbestdraw eta iv_resultpmpp power_dens cell_area concentration_factor printnth solar cell properti printtisc f cmformat iv_resultisc cell_area e concentration_factor printtvoc f vformativ_resultvoc printtff f formativ_resultff printteta f formateta result coe figur follow output power densiti w subcel photocurr densiti cm jsctop jscmid jscbot solar cell properti isc cm voc v ff eta imag figuresiv_mjpng align center automodul solcoreanalytic_solar_cellsiv member undocmemb drift diffus util modul interfac python fortran take structur creat tool docdevic structur devicestructur dump inform fortran variabl run select calcul process complet transpar user need use higher level method docsolar cell solver solving_solar_cel end page detail descript format function within modul focu practic aspect includ also exampl usag pyfunct processstructuredevic wavelengthsnon function read dictionari contain devic structur extract electr optic properti materi load inform fortran variabl final initialis devic fortran calcul initi mesh properti function posit initi estim quasifermi energi electrostat potenti carrier concentr also perform use initi condit numer solver output see refoutputdictionari properti pyfunct equilibrium_pddjunct option solv pdd equat equilibrium dark extern current zero appli voltag intern call createdevicestructur retriev materi paramet describ docdevicestructur processstructur dump data fortran variabl perform initi structur finish calcul junction object updat attribut call equilibrium_data contain dictionari properti bandstructur see refoutputdictionari pyfunct short_circuit_pddjunct option solv pdd equat short circuit condit current flow structur due light absorb zero appli voltag call intern equilibrium_pdd solv problem short circuit finish calcul junction object updat attribut call short_circuit_data contain dictionari properti bandstructur optic see refoutputdictionari addit equilibrium_data attribut follow exampl show result calcul solar cell short circuit condit compar result band structur note neither equilibrium_pdd short_circuit_pdd call directli access intern solar_cell_solv codeblock python import matplotlibpyplot plt solcor import materi solcorestructur import layer junction solcoresolar_cel import solarcel solcoresolar_cell_solv import solar_cell_solv first creat materi overrid default properti want dope absorpt coeffici window materialalgaastt nae al p_gaa materialgaastt nae i_gaa materialgaastt n_gaa materialgaastt nde bsf materialalgaastt nde al put everyth togeth junction myjunct junction layerwidth materialwindow rolewindow layerwidth materialp_gaa roleemitt layerwidth materiali_gaa roleintrins layerwidth materialn_gaa rolebas layerwidth materialbsf rolebsf sne spe tt kindpdd my_solar_cel solarcellmyjunct tt r_seri substraten_gaa solv short circuit problem solar_cell_solvermy_solar_cel short_circuit plot electron hole densiti short circuit zz my_solar_cellshort_circuit_databandstructurex e n my_solar_cellshort_circuit_databandstructuren p my_solar_cellshort_circuit_databandstructurep pltsemilogyzz n b label short circuit pltsemilogyzz p r labelh short circuit equilibrium zz my_solar_cellequilibrium_databandstructurex e n my_solar_cellequilibrium_databandstructuren p my_solar_cellequilibrium_databandstructurep pltsemilogyzz n b label equilibrium pltsemilogyzz p r labelh equilibrium pltxlabelposit nm pltylabelcarri densiti pltlegend pltshow result calcul imag figureseqandscpng align center pyfunct iv_pddjunct option calcul iv curv devic internal_voltag indic option depend option also iv calcul dark call equilibrium_pdd function illumin call short_circuit_pdd function voltag rang posit neg valu problem solv twice v maximum posit v maximum neg concaten result afterward finish calcul junction object extra attribut addit result equilibrium_pdd short_circuit_pdd ye lot redund moment pdd_data contain data properti bandstructur etc posit neg voltag calcul voltag array internal_voltag current array total current internal_voltag includ effect shunt resist present recombination_curr dictionari contain differ recombin current intern voltag radi srh auger surfac recombin iv function return current input voltag essenti interpol voltag current junction use scipi function interpd follow exampl use solar cell describ calcul dark iv curv plot differ contribut current codeblock python import matplotlibpyplot plt solcor import materi solcorestructur import layer junction solcoresolar_cel import solarcel solcoresolar_cell_solv import solar_cell_solv substrat materialgaastt first creat materi overrid default properti want dope absorpt coeffici window materialalgaastt nae al p_gaa materialgaastt nae i_gaa materialgaastt n_gaa materialgaastt nde bsf materialalgaastt nde al put everyth togeth junction includ surfac recombin veloc sn sp although necessari case myjunct junctionlayerwidth materialwindow rolewindow layerwidth materialp_gaa roleemitt layerwidth materiali_gaa roleintrins layerwidth materialn_gaa rolebas layerwidth materialbsf rolebsf sne spe tt kindpdd my_solar_cel solarcellmyjunct tt r_seri substratesubstr calcul iv curv illumin use default option solar_cell_solvermy_solar_cel iv pltsemilogymy_solar_cellvoltag absmy_solar_cellcurr k linewidth labeltot pltsemilogymy_solar_cellvoltag absmy_solar_cellrecombination_currentsjrad r labeljrad pltsemilogymy_solar_cellvoltag absmy_solar_cellrecombination_currentsjsrh b labeljsrh pltsemilogymy_solar_cellvoltag absmy_solar_cellrecombination_currentsjsur g labeljsur pltlegend pltxlim pltylim e pltxlabelbia v pltylabelcurr pltshow result calcul imag figuresivpng align center order get iv curv illumin simpli indic user_opt keyword solar_solar_cel solver function also ask paramet illumin voc isc etc codeblock python solar_cell_solvermy_solar_cel iv user_optionslight_iv true mpp true pltplotmy_solar_cellvoltag my_solar_cellcurr r linewidth labeltot pltxlim pltylim pltxlabelbia v pltylabelcurr plttext voc f vn isc f amn ff f n pmpp f wmformatmy_solar_cellivvoc my_solar_cellivisc my_solar_cellivff my_solar_cellivpmpp power maximum power point seem high wm sup let keep mind default model option use beerlambert law optic method take account front surfac reflect includ exampl use tmm optic method isc much lower power imag figureslightivpng align center pyfunct qe_pddjunct option calcul quantum effici short circuit bia light given option intern call short_circuit_pdd get relat output inform see finish calcul junction object attribut call qe_data eqe associ loss due radi recombin srh recombin auger recombin frontback surfac recombin also method eqe accept array wavelength return eqe codeblock python import matplotlibpyplot plt solcor import materi solcorestructur import layer junction solcoresolar_cel import solarcel solcoresolar_cell_solv import solar_cell_solv substrat materialgaastt first creat materi overrid default properti want dope absorpt coeffici window materialalgaastt nae al p_gaa materialgaastt nae i_gaa materialgaastt n_gaa materialgaastt nde bsf materialalgaastt nde al put everyth togeth junction includ surfac recombin veloc sn sp although necessari case myjunct junctionlayerwidth materialwindow rolewindow layerwidth materialp_gaa roleemitt layerwidth materiali_gaa roleintrins layerwidth materialn_gaa rolebas layerwidth materialbsf rolebsf sne spe tt kindpdd my_solar_cel solarcellmyjunct tt r_seri substratesubstr calcul eqe cell use tmm optic method solar_cell_solvermy_solar_cel qe user_optionsoptics_method tmm wl my_solar_cellqe_datawavelength e pltplotwl my_solar_cellreflect b pltfill_betweenwl my_solar_cellreflect facecolorblu alpha labelreflect pltfill_betweenwl my_solar_cellreflect my_solar_cellabsorb facecoloryellow alpha labeltransmit eqe fraction lost due recombin front surfac pltplotwl my_solar_cellqe_dataeq my_solar_cellqe_dataeqesurf r pltfill_betweenwl my_solar_cellqe_dataeq my_solar_cellqe_dataeqesurf my_solar_cellqe_dataeq facecolor alpha labelfront surfac recombin pltplotwl my_solar_cellqe_dataeq k linewidth pltfill_betweenwl my_solar_cellqe_dataeq facecolorgreen alpha labeleq pltlegend pltxlim pltylim pltxlabelwavelength nm pltylabeleq pltshow result run code next figur eqe cell plot togeth main sourc loss particular case reflect recombin front surfac subbandgap light transmiss imag figuresqepng align center principl eqe intern sourc loss srh surfac recombin etc equal total absorb light case smaller sometim happen result reason vertic discret process solar cell accur situat fast variat absorpt andor electron gener happen short wavelength absorpt fast first nanomet longer wavelength presenc oscil due interfer three trick tackl issu increas number mesh point pdd solver adjust option deal mesh creation see refsolveropt result global increas mesh point therefor make pdd solver slower divid thick layer thinner one increas number mesh point local region therefor good one caus problem identifi solut help case fast oscil increas number point use optic solver default one point per angstrom therefor dens alreadi might help special short wavelength control posit option see refsolveropt set differ aspect solver pyfunct setmeshparameterskwarg set paramet control mesh structur chang valu might improv converg difficult case absolut maximum number meshpoint time keyword default valu meshpoint defin type mesh must done meshpoint mesh homogen mani mesh point meshpoint mesh inhomogen master node interfac layer denser mesh around densiti distribut point control variabl coars fine ultrafin meshpoint exact valu matter mesh inhomogen master node interfac layer denser mesh around initi densiti distribut control variabl coars fine ultrafin dynam modifi increas reduc densiti smooth way wherev mesh point need dynam remesh perform differ stage solver master node modifi growth_rat defin fast mesh point increas dynam mesh routin small valu produc denser mesh larger valu produc coarser one coars e fine e ultrafin e valu nanomet defin structur inhomogen mesh initi dynam mesh defin master node two node separ nm per interfac space divid equal size elemen smaller equal coars coars element adjac master node divid equal size elemen smaller equal fine final fine element adjac master node divid equal size elemen smaller equal ultrafin structur static meshpoint evolv meshpoint smoother configur imag figuresmeshpng align center pyfunct setrecombinationparameterskwarg activ deactiv given recombin mechan virtual experi function use function activatedeact gener depend whether ligth keyword default valu srh schockleyreadhal recombin rad radi recombin aug auger recombin sur surfac recombin front back contact gen gener pyfunct setconvergenceparameterskwarg control converg solver chang maximum number iter toler keyword default valu clamp kt unit limit maximum chang electrostat potenti quasifermi energi iter solver smaller valu migth improv converg detriment speed nitermax maximum number iter solver atol e absolut toler solver residu smaller solver finish squar root machin epsilon numpyfloat lower valu often lead numer error lack converg adit much lower speed rtol e rel toler solver differ residu sucess calcul smaller valu solver finish _outputdictionari output dictionari virtual experi describ produc dictionari output variabl access outputprimary_keysecondary_key total list primari column secondari row key properti bandstructur iv qe optic x x v wavelength wavelength xi n j eqe r eg p jrad eqesrh nd ni jsrh eqerad na rho jaug eqeaug nc efe jsur eqesurf nv efh jsc a_ eqesurb potenti voc a_ ec jmpp a_ ev vmpp a_ gr ff a_ g rrad rsrh raug avail light iv iv_infotru function descript automodul solcorepoisson_drift_diffusiondriftdiffusionutil member undocmemb refer ref adachi optic dispers relat gap gaa gasb inp ina insb alxgaxa inxgaxasypi j appl phi ref refer spectra nrel httprredcnrelgovsolarspectraam diod equat exampl docmj solar cell radi coupl examplesexample_radiative_coupl exampl docquasid j solar cell examplesexample_quasid_cel exampl docpv modul calcul examplesexample_pv_modul simplest method simul behaviour solar cell use electr compon model differ transport recombin mechan devic model wide appli model solar cell engin end topic detail knowledg solar cell structur layer absorpt coeffici etc known sought often use fit experiment iv curv find approxim gener inform solar cell qualiti without enter fundament process provid valuabl inform engin design solar modul exampl diagnost purpos complet form equat math labeleqdiod beginsplit j j_sc j_ left e fracqvr_sjn_ k_b right j_ left e fracqvr_sjn_ k_b right fracvr_sjr_sh endsplit gener photocurr model current sourc mathj_sc radi nonradi recombin model two diod revers satur current mathj_ mathj_ ideal factor mathn_approx mathn_approx respect shunt resist mathr_sh account altern current path contact solar cell infinit ideal case seri resist mathr_ account transport loss valu satur current ideal factor ultim calcul materi properti devic structur done docdeplet approxim model deplet model allow provid directli input obtain fit experiment data exampl also calcul intern docus db solver detailed_bal obtain mathj_ mathj_sc use radi effici coeffici obtain mathj_ radi effici matheta defin fraction radi current mathj_rad given refer total current mathj_ref math labeleqeta_rad eta fracj_radj_ref fracj_j_ref left e fracqv_refn_k_bt right refer voltag mathv_ref written function matheta mathj_ref math labeleqvref v_ref fracn_k_btq log left fraceta j_refj_ right hand radi coeffici also written math labeleqeta_nrad eta fracj_ref j_nrad v_refr_shj_ref combin last two equat use express diod ideal factor mathn_ mathj_ written math labeleqj j_ fraceta j_ref v_ref r_she fracqv_refn_k_bt common situat larg shunt resist mathv_ref k_btq equat simplifi math labeleqj_simpl j_ eta j_ref left fracj_ j_ref eta rightn_n_ process cours revers use knowledg mathj_ mathj_ given refer current calcul radi effici solar cell use compar differ materi technolog process method done chan et al use mathj_ref macm math obtain matheta valu ingap gaa ingaa devic ref_ point method valid assumpt mathj_ correspond radi recombin mathj_ nonradi recombin gener true qw solar cell iiiv solar cell like made gaa ingap si ge exampl definit radi effici base extern quantum effici math_sc v math_oc cell describ green ref_ despit simplic diod model use guid design new solar cell explor perform new materi dilut bismuth alloy ref_ ass perform larg array solar cell ref_ diod equat function automodul solcoreanalytic_solar_cellsdiode_equ member undocmemb refer ref chan nla ekinsdauk nj adam jgj lumb mp gonzalez jenkin pp vurgaftman meyer jr walter rj optim bandgap combinationsdo materi qualiti mat ter ieee j photovolt ref green radi effici stateoftheart photovolta cell prog photovolt re appl ref thoma mellor hylton np fuhrer alonsoalvarez braun ekinsdauk nj david jpr sweeney sj requir gaasbi ev subcel gaasbas multi junction solar cell semicond sci technol ref ekinsdauk nj kemmoku araki k bett tr gottschalg r infield dg yamaguchi design specifica tion syracus multijunct concentr system comput model proceed th european photovolta solar energi confer pp deplet approxim exampl doctradit gainpingaasg solar cell examplesexample_j_with_da_solv deplet approxim provid analyt semianalyt solut poissondriftdiffus equat describ previou section appli simpl pn homojunct solar cell histor use extens model solar cell still valid larg extent tradit pn junction importantli requir less input paramet pdd solver easili relat macroscop measur quantiti like mobil diffus length da model base assumpt around junction p n region free carrier therefor electr field due fix ioniz dopant deplet free carrier reach certain depth toward n p side beyond region free fix carrier opposit charg balanc region neutral condit poisson equat decoupl drift diffus equat solv analyt region exampl pn junction interfac two region mathz solut poisson equat math phiz left beginarrayl mboxif z w_p fracqn_aepsilon_szw_p mboxif w_p z fracqn_depsilon_szw_n v_bi mboxif z w_n v_bi mboxif w_n z endarray right mathw_n mathw_p extens deplet region toward n p side respect found requir electr field mathf potenti mathphi need continu mathz mathv_bi builtin voltag express term dope concentr side mathn_d mathn_a intrins carrier concentr materi mathn_i math v_bi frack_btq ln leftfracn_dn_an_i right anoth consequ deplet approxim quasifermi level energi constant throughout correspond neutral region also constant deplet region separ equal extern bia mathqv base assumpt driftdiffus equat simplifi analyt express found depend recombin gener current appli voltag full deriv express includ nelson nelson_ solcor implement deplet approxim includ two modif basic equat first one allow intrins region includ p n region form pin junction low inject condit low illumin low bia situat treat describ simpli consid deplet region widen thick intrins region current low dope level allow region second modif relat gener profil equat provid nelson given bl law explicit depend mathz result analyt express current densiti solcor integr express driftdiffus equat deplet approxim numer use green function method allow arbitrari gener profil calcul docopt solver opticsopticsrst note although equat integr numer selfconsist solut poissondriftdiffus equat achiev pdd solver detail balanc function automodul solcoreanalytic_solar_cellsdepletion_approxim member undocmemb refer nelson nelson j physic solar cell imperi colleg press london river edg nj distribut world scientif pub co optic properti materi solcor sever way access optic properti materi databas parametr dielectr function toctre maxdepth material_opt dielectr constant model adachi parametr understand optic respons establish novel materi crucial effect solar cell design effici model complex dielectr function materi solcor incorpor optic constant calcul base wellknown criticalpoint parabolicband cppb formal popularis adachi ref_ ref_ ref_ model contribut mathepsilon_omega critic point brillouin zone probabl optic transit larg van hove singular consid transit probabl transit proport joint densiti state jdo mathtextbfj_cvomega describ number avail electron state valenc conduct band given photon energi imaginari part complex dielectr function relat jdo math labeleqnjdo epsilon_omega frac hbar epi mu_ omega left left langl c p v right rangl right textbfj_cvomega mathleft left langl c p v right rangl right momentum matrix element transit valenc band mathv conduct band mathc critic point transit consid follow point symmetri band structur mathe_ correspond optic transit mathgamma point mathe_ delta_ transit spinorbit split band conduct band mathgamma point mathe_ mathe_ delta_ denot transit valenc heavyhol hh band valenc lighthol lh band respect conduct band l point mathe_ triplet mathe_ transit occur higher energi hh band split conduct band mathgamma point well across wide gap x valley model also includ contribut lowest energi indirect bandgap transit exciton absorpt mathe_ critic point contribut list sum comput overal valu mathepsilon_omega real imaginari compon overal complex dielectr function mathepsilonomega epsilon_omega iepsilon_omega relat via kramerskronig relat math labeleqnkkr_ epsilon_omega fracpi int_infti fracomega epsilon_omegaomega omega domega math labeleqnkkr_ epsilon_omega fracpi int_infti fracepsilon_omegaomega omega domega cppb model includ solcor also incorpor modif critic point broaden present adachi descript shown produc poor fit experiment data vicin mathe_ mathe_ critic point ref_ give accur descript broaden optic dielectr function kim et al propos frequencydepend damp paramet use replac damp constant given adachi critic point ref_ ref_ math labeleqnkim_damp gammaomega gamma exp left alpha left frachbar omega e_gammaright right mathgamma damp constant use adachi mathalpha describ shape lineshap broaden mathalpha produc pure lorentzian charact mathalpha produc good approxim gaussian broaden solcor modul absorption_calcul contain cppb model within custom_cppb class class offer flexibl way build optic constant model ad individu critic point contribut oscil structur type within solcor addit oscil function describ adachi custom_cppb class also provid addit oscil model sellmeier equat describ real part dielectr function nonabsorb materi ref_ descript function modul automodul solcoreabsorption_calculatordielectric_constant_model member undocmemb automodul solcoreabsorption_calculatoradachi_alpha member undocmemb sopra databas n order calcul model optic respons potenti solar cell architectur materi system access librari accur optic constant data essenti therefor solcor incorpor resourc freeli avail optic constant data measur sopra provid softwar spectra inc httpwwwsspectracomsoprahtml_ refract index mathn extinct coeffici mathk provid materi includ mani iiiv iivi group iv compound addit rang common metal glass dielectr materi within sopra sa optic constant databas use docmateri function systemsmateri optic paramet mathn mathk case materi databas keyword sopra need set true creat materi materi load mathn mathk absorpt coeffici data return call appropri method exampl sionwavelength siokwavelength certain materi databas optic constant provid rang alloy composit case desir composit within rang specifi interpol mathn mathk data return automodul solcoreabsorption_calculatorsopra_db member manual chang optic constant materi would like defin materi optic constant data file tell solcor path optic constant data eg codeblock python this_dir ospathsplit__file__ sigesn materialgett electron_mobl hole_mobility sigesnn_path this_dir sigesn_ntxt sigesnk_path this_dir sigesn_ktxt case defin materi like builtin solcor germanium materi new data refract index extinct coeffici file sigesn_ntxt sigesn_ktxt respect folder python script format file tabsepar first column wavelength nm second column n k refer ref adachi model dielectr constant gap gaa gasb inp ina insb phi rev b ref adachi optic dispers relat gap gaa gasb inp ina insb alx gax inx gax asi py j appl phi ref adachi optic dispers relat si ge j appl phi ref rakic ad majewski ml model optic dielectr func tion gaa ala extens adachi model j appl phi ref kim cc garland jw abad h raccah pm model optic dielectr function semiconductor extens criticalpoint parabolicband approxim phi rev b ref kim cc garland jw raccah pm model optic dielectr function alloy system alxgaxa phi rev b ref woollam ja guid use wvase spectroscop ellipsometri data acquisit analysi softwar j woollam compani httpsbooksgooglecoukbook idxoupygeacaaj_rigor coupl wave analysi exampl doccompar optic model tmm beerlambert rcwa examplesexample_optics_comparison solcor capac model period nanophoton structur provid interfac math python extens implement rcwa rigor coupl wave analysi develop fan group stanford electr engin depart document found here_ basic mechan rcwa modul solcor translat relev input list appropri notat math solcor call math feed relev input solcor translat output math relev output match output solcor optic method absorpt reflect transmiss absorpt profil depth use math within solcor first make sure instal custom branch compat python httpshttpsgithubcomphoebeps_ literallay literalsolarcel object defin usual solcor way addit literalgeometri attribut eg codeblock python defin materi air materialairtt tio materialtio sopratruett nanoparticl defin layer circular disc np_layer layersinm air geometrytyp circl mat tio center radiu literalgeometri attribut list dictionari contain relev entri add one shape per layer simpli ad dictionari list dictionari defin one shape assum period two direct necessari inform defin shape shape type circl ellips rectangl polygon mat materi shape made solcor materi object center tupl give x coordin nm centr shape x addit shapedepend paramet circl radiu number nm ellips angl number degre defin angl xaxi shape rotat counterclockwis halfwidth tupl halfwidth x direct hw_x hw_i rectangl angl halfwidth polygon angl vertic tupl tupl entri outer tupl x ycoordin vertic unrot polygon one anoth counterclockwis order eg x x x coordin nm addit set lattic vector u v defin unit cell user option number fourier order keep calcul optsord codeblock python optssiz lattic vector squar grate period nm optssiz npsinnppi lattic vector grate hexagon symmetri triangular unit cell optsord keep fourier order calcul converg higher number order comput time increas dramat number order scale number order cube note dimension inform size geometri nm rcwa interfac solar cell solver method actual call solar cell solver serv interfac solar cell rcwa formal docbeerlambert calcul other_method doctmm calcul tmm docextern optic calcul other_method user simpli add reflect absorpt profil manual similar interfac rcwa solver handl differ input angl polar specifi option specif optionstheta optionsphi optionspol theta polar angl phi azimuth angl clockwis yaxi angl degre pol p u comput u simpli averag p thu requir two calcul therefor take twice long automodul solcoreopticsrcwa member undocmemb implement rcwa optic method automodul solcoreabsorption_calculatorrigorous_coupled_wav member undocmemb _here httpwebstanfordedugroupfan transfer matrix method exampl docus tmm solver calcul reflext multilay arc examplesexample_rat_of_arc exampl doclook effect substrat no_back_reflect option tmm solver examplessubstrate_exampl exampl doccoher incoher layer tmm solverexamplesexample_coher toctre maxdepth tmm tmm interfac solar cell solver method actual call solar cell solver serv interfac solar cell lower level tmm formal docbeerlambert calcul other_method docrcwa calcul sdoc docextern optic calcul other_method user simpli add reflect absorpt profil manual similar interfac tmm solver handl differ input angl polar specifi option specif optionstheta optionspol input angl degre pol p u comput u simpli averag p thu requir two calcul use default option layer except thick layer layer thick time maximum incid wavelength consid coher ie phase inform waveopt calcul retain howev layer also specifi incoher use coherency_list option one entri either c per layer automodul solcoreopticstmm member undocmemb optistack high level tmm optic method automodul solcoreabsorption_calculatortransfer_matrix member undocmemb transfer matrix engin automodul solcoreabsorption_calculatortmm_core_vec member undocmemb optic method final optic properti solar cell defin simpl beerlambert formal also provid extern user section describ method call intern solar cell solver two case toctre maxdepth other_method beerlambert law automodul solcoreopticsbeer_lambert member undocmemb extern optic automodul solcoreopticsexternal_opt member undocmemb absorpt quantum well model optic properti qw use method describ chuang ref_ absorpt coeffici thermal equilibrium qw given math labeleqqw_ab beginsplit alpha_ c_e sum_nm i_hmen hate cdot vecp rho_rmnd time left heeen e_hm f_nme right endsplit mathi_hmen overlap integr hole level mathm electron level mathn mathh step function mathhx mathx mathx mathrho_rmnd joint densiti state mathc_ proportion constant depend energi mathf exciton contribut discuss later math beginalign labeleqqw_ab c_ e fracpi q hbar n_r c epsilon_ m_ e rho_rd fracm_rmnpi hbar lendalign mathn_r refract index materi mathm_rmn m_en m_hm m_en m_hm reduc inplan effect mass mathl effect period quantum well inplan effect mass type carrier calcul level account spread wavefunct barrier ref_ math beginalign labeleqin_plan m_perp int_l mz psiz endalign inplan effect mass also use calcul local densiti state shown figur figqwb eq eqqw_ab math hate cdot vecp momentum matrix element depend polar light kane energi mathe_p specif materi determin experiment band edg absorpt mathk matrix element absorpt te tm polar light transit involv conduct band heavi light hole band given tabl tabmatrix_el deduc tabl transit involv heavi hole absorb tm polaris light te tm mathchh math m_b mathclh math m_b math m_b tabl momentum matrix element transit qw mathm_bm_ e_p bulk matrix element addit bandtoband transit qw usual strong exciton absorpt includ eq eqqw_ab term mathf_nm term lorenzian gaussian defin energi mathe_nmx j oscil strength mathf_ex j zero except mathmn equiv j given klipstein et al ref_ math beginalign f_nm f_ex j mathcal e_nmx j sigma e_nmx j een e_hm fracrjnu f_ex j fracrjnu r fracm_r q pi epsilon_r epsilon_ hbar endalign mathnu constant valu mathsigma width lorentzian often adjust fit experiment data solcor default valu mathnu mathsigma mev mathr exciton rydberg energi ref_ fig figqw_absorpt show absorpt coeffici rang ingaasgaasp qw gaa interlay differ content higher indium content increas depth well allow absorpt less energet light transit imag qw_absorptionpng align center automodul solcoreabsorption_calculatorabsorption_qw member refer ref chuang sl physic optoelectron devic wiley intersci new york ref barnham k vvedenski ed lowdimension semi conductor structur fundament devic applic cambridg univers press cambridg ref klipstein pc apsley n theori electroreflect spec tra quantum well structur j phi c solid state phi optic method solcor includ sever method calcul optic properti individu materi full stack layer built also deal extern provid data current also interfac perform rigor coupl wave analysi calcul toctre maxdepth material_opt qw_absorpt tmm rcwa other_method