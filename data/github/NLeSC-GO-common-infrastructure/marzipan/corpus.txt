badg fairsoftwarenl recommend badg code repositoryhttpsfairsoftwarenlrecommendationsrepositori githubhttpsimgshieldsiogithublastcommitnlescgocommoninfrastructuremarzipanhttpsimgshieldsiogithublastcommitnlescgocommoninfrastructuremarzipan licensehttpsfairsoftwarenlrecommendationslicens licensehttpsimgshieldsiogithublicensenlescgocommoninfrastructuremarzipanhttpsimgshieldsiogithublicensenlescgocommoninfrastructuremarzipan commun registryhttpsfairsoftwarenlrecommendationsregistri research softwar directoryhttpsimgshieldsiobadgersdmarzipanaesvghttpswwwresearchsoftwarenlsoftwaremarzipan enabl citationhttpsfairsoftwarenlrecommendationscit doihttpszenodoorgbadgesvghttpszenodoorgbadgelatestdoi code qualiti checklisthttpsfairsoftwarenlrecommendationschecklist cii best practiceshttpsbestpracticescoreinfrastructureorgprojectsbadgehttpsbestpracticescoreinfrastructureorgproject marzipan autom instanti deploy cluster virtual machin bare metal use opennebula platform well subsequ provis deploy servic incl eg dask marzipan consist core marzipanpi python modulehttpsgithubcomnlescgocommoninfrastructuremarzipantreeimprovedocumentationmarzipan provid high level interfac opennebula cloud well accompani docker frameworkhttpsgithubcomnlescgocommoninfrastructuremarzipantreeimprovedocumentationdock configur deploy scriptshttpsgithubcomnlescgocommoninfrastructuremarzipantreeimprovedocumentationmarzipan_script provid fulli autom instanti provis environ provis marzipan make use emma_marzipan forkhttpsgithubcomnlescgocommoninfrastructureemmatreeemma_marzipan ansibl playbook marzipan base strongli draw lokumhttpsgithubcomnlesclokum updat make use current version ansibl well python circumv recurr synchron timeout issu ars interplay terraform runtast opennebula provid terraform variou legaci opennebula version marzipan test surfsara hpc cloud work opennebula platform technolog tool opennebulahttpsopennebulaio dockerhttpswwwdockercom ansiblehttpswwwansiblecom emma_marzipan forkhttpsgithubcomnlescgocommoninfrastructureemmatreeemma_marzipan emmahttpsgithubcomnlescsherlockemma usag clone repositori make use marzipan user clone repositori local system instruct use marzipan assum full replica repositori user local system adjust configur templat user modifi clusterconfini file locat configconfig subdirectori well opennebula_goeratpl file templatestempl subdirectori match requir configur clusterconfini file enabl user set desir configur valu number node name vm opennebula endpoint credenti configconfig subdirectori repositori includ file clusterconfiniexampl appropri modifi subsequ renam templat user must suppli templat file specifiy desir configur vm creat exampl opennebula_goeratpl provid templatestempl subfold repositori particular follow field requir modif context group your_group disk datastor nameofyourbaseimagedatastor datastore_id idofyourbaseimagedatastor image_id idofyourbaseimag pleas bear mind base imag os disk must made avail user credenti use execut marzipan user accomplish use opennebula user interfac build docker imag chang directori dockerdock subdirectori build nlescmarzipan docker imag run bash build_marzipansh creat imag tag set latest run docker framework instanti provis cluster vm chang back root directori repositori docker framework use instanti provis cluster vm run bash deployclustersh root ubuntu user ssh key gener cluster well hostsyaml file enabl provis emma platform leverag ansibl written deploy subdirectori creat execut subfold cluster name use subsequ interact cluster user adapt provis modifi marzipan_deploypi script marzipan_script subdirectori section emma base provisioninig user refer emma_marzipan forkhttpsgithubcomnlescgocommoninfrastructureemmatreeemma_marzipan support option __note__ chang marzipan_deploypi script requir docker imagebuilddockerimag rebuilt take effect access cluster cluster vm acces via ssh ubuntu root user use gener key exampl bash ssh deploymentsclusternameid_rsa_marzipan_rootkey rootserver_ip ssh deploymentsclusternameid_rsa_marzipan_ubuntukey ubuntuserver_ip marzipan opennebula interfac core marzipanpi modul locat marzipanmarzipan subfold provid one_interfac class class method provid high level interfac set cluster vm surfsara opennebula cloud marzipanpi import provid access class method run script fulli automatedli set cluster vm marzipanpi also provid high level class method deploy_clust correspond execut script marzipan complement clusterconfini file configconfig user set desir configur valu number node name vm opennebula endpoint credenti repositori includ file clusterconfiniexampl appropri modifi subsequ renam furthermor user suppli templat file specifi desir vm configur exampl opennebula_goeratpl provid templatestempl subfold repositori pleas bear mind base imag os disk must made avail user credenti use execut marzipan final user provid public ssh key file root user includ templat altern ssh key suppli clusterconfini file note use docker framework use refrain take great care chang set relat ssh key autogener deploy run script invok full deploy method mazipan construct vm templat opennebula deploy request number vm base templat marzipan monitor deploy report success execut vm run lcm_state fail complet second marzipan exit notifi user failur referencedocument opennebula document xmlrpc apihttpdocsopennebulaiointegrationsystem_interfacesapihtmlactionsfortemplatesmanag pyon bind documentationhttpdocsopennebulaiointegrationsystem_interfacespythonhtml clusterconfini configur file clusterconfini file allow user set configur paramet instanti cluster vm bare metal use opennebula platform paramet suppli divid three setion one opennebula section cover access opennebula platform user specifi endpoint well login credenti __note__ pleas set access clusterconfini file appropri level eg chmod push file remot repositori gitignor file current preclud happen ssh section specifi path root public ssh key ad vm creat current set root_public_key marzipandeploymentstmpid_rsa_marzipan_rootkeypub ensur comapt automat deploy option user may modifi howev respons ensur compat automat deploy opion desir cluster section specifi templat file use mani vm creat pleas ensur specif templay exist vm name use basenam suppli numeri suffix start marzipan script subdirectori contain two helper script use marzipan automat deploy cluster vm marzipan_deploypi entrypoint script docker framework deal fulli autom instanti deploy provis cluster leverag marzipan instanti ansibl futher setup emma_marzipan softwar provis also autogener ssh key pair root ubuntu user via generate_keyssh scriptgenerate_keyssh generate_keyssh script gener pair ssh key ubuntu root user make avail includ vm spun marzipan ansibl playbook ansible_playbook folder subdirectori contain sever ansibl playbook specifi setup action perform across creat vmsnode ansibl provid tool script provis action execut across distribut system particular import firewallyml set_ssh_keysyml update_hosts_fileyml howev modif requir first defin firewal set second copi ssh key vm enabl access last createsup file cluster host host file iscan use subsequ ansibl playbook eg emma_marzipan provis vmsnode desir softwar well start stop cluster sevic eg dask vm templat subdirectori contain vm templat configur deploy opennebula platform exampl provid opennebula_goeratpl templat must adapt accord user need renam path appropri templat must set clusterconfini config file relev section modifi includ context dns_hostnam ye network ye ssh_public_key replace_root_key usernam root group eratosthenesuu group chang user __note__ ssh_public_key fill placehold fill automat gener root public ssh key use fulli automat deploy user wish deploy manual field canshould modifi disk datastor local_images_ssd datastore_id image_id size type fs specifi os disk user must ensur base imag eg ubuntu server exist specifi datastor opennebula platform specifi image_id size correspond os partit disk datastor ceph datastore_id format raw size target vdb type fs section specifi local hdd vm disk datastor local_system_ssd datastore_id disk_typ file size target vdc type swap section defin swap partit memori memory_unit_cost mb specifi vm ram alloc anmd final follow defin network connect network network_unam adpat requir nic network internet network_unam oneadmin docker framework marzipan docker file creat imag run contain perform instanti provis marzipan core modul core marzipanpi modul leverag pyonehttpdocsopennebulaiointegrationsystem_interfacespythonhtml python bind opennebula xmlrpc api provid higer level abstrat step requir instanti cluster vm bare metal use opennebula platform marzipanpi provid one_interfac class method enabl creation delet instanti termin templat virtual machin additon modul provid function deploy_clust call automat handl spin cluster defin clusterconfini opennebula_goeratpl configur templat file final marzipanpi also run script invok deploy_clust function document provid inlin referencesdocument opennebula document xmlrpc apihttpdocsopennebulaiointegrationsystem_interfacesapihtmlactionsfortemplatesmanag pyon bind documentationhttpdocsopennebulaiointegrationsystem_interfacespythonhtml inventori builder python modul creat inventor host vmsnode differ role creat provis ansibl playbook emma_marzipan