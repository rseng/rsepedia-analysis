div aligncenterimg srchttpsrawgithubusercontentcomoptunaoptunamasterdocsimageoptunalogopng widthdiv optuna hyperparamet optim framework pythonhttpsimgshieldsiobadgepythoncccbluehttpswwwpythonorg pypihttpsimgshieldsiopypivoptunasvghttpspypipythonorgpypioptuna condahttpsimgshieldsiocondavncondaforgeoptunasvghttpsanacondaorgcondaforgeoptuna github licensehttpsimgshieldsiobadgelicensemitbluesvghttpsgithubcomoptunaoptuna circlecihttpscirclecicomghoptunaoptunasvgstylesvghttpscirclecicomghoptunaoptuna read docshttpsreadthedocsorgprojectsoptunabadgeversionstablehttpsoptunareadthedocsioenst codecovhttpscodecovioghoptunaoptunabranchmastergraphbadgesvghttpscodecovioghoptunaoptunabranchmast gitter chathttpsbadgesgitterimoptunagittersvghttpsgitterimoptunaoptuna websitehttpsoptunaorg docshttpsoptunareadthedocsioenst instal guidehttpsoptunareadthedocsioenstableinstallationhtml tutorialhttpsoptunareadthedocsioenstabletutorialindexhtml optuna automat hyperparamet optim softwar framework particularli design machin learn featur imper definebyrun style user api thank definebyrun api code written optuna enjoy high modular user optuna dynam construct search space hyperparamet news first alpha version optuna releas earli adopt may want upgrad provid feedback smoother transit come major releas tri pip instal optunaa optuna roadmap publish review pleas take look plan improv optunahttpsgithubcomoptunaoptunawikioptunavroadmap share feedback github issu pr contribut also welcom pleas take minut fill survey let us know use optuna improv youd like question option httpsformsglemcattqxvgouifkv key featur optuna modern function follow lightweight versatil platform agnost architecturehttpsoptunareadthedocsioenstabletutorial_key_features_firsthtml handl wide varieti task simpl instal requir python search spaceshttpsoptunareadthedocsioenstabletutorial_key_features_configurationshtml defin search space use familiar python syntax includ condit loop effici optim algorithmshttpsoptunareadthedocsioenstabletutorial_key_features_efficient_optimization_algorithmshtml adopt stateoftheart algorithm sampl hyperparamet effici prune unpromis trial easi parallelizationhttpsoptunareadthedocsioenstabletutorial_key_features_distributedhtml scale studi ten hundr worker littl chang code quick visualizationhttpsoptunareadthedocsioenstabletutorial_key_features_visualizationhtml inspect optim histori varieti plot function basic concept use term studi trial follow studi optim base object function trial singl execut object function pleas refer sampl code goal studi find optim set hyperparamet valu eg classifi svm_c multipl trial eg n_trial optuna framework design autom acceler optim studi open colabhttpscolabresearchgooglecomassetscolabbadgesvghttpcolabresearchgooglecomgithuboptunaoptunaexamplesblobmainquickstartipynb python import defin object function minim def objectivetri invok suggest method trial object gener hyperparamet regressor_nam trialsuggest_categoricalclassifi svr randomforest regressor_nam svr svr_c trialsuggest_floatsvr_c e e logtru regressor_obj sklearnsvmsvrcsvr_c els rf_max_depth trialsuggest_intrf_max_depth regressor_obj sklearnensemblerandomforestregressormax_depthrf_max_depth x sklearndatasetsfetch_california_housingreturn_x_ytru x_train x_val y_train y_val sklearnmodel_selectiontrain_test_splitx random_st regressor_objfitx_train y_train y_pred regressor_objpredictx_v error sklearnmetricsmean_squared_errory_v y_pred return error object valu link trial object studi optunacreate_studi creat new studi studyoptimizeobject n_trial invok optim object function exampl exampl found optunaoptunaexampleshttpsgithubcomoptunaoptunaexampl integr integr moduleshttpsoptunareadthedocsioenstabletutorial_key_features_efficient_optimization_algorithmshtmlintegrationmodulesforprun allow prune earli stop unpromis trial avail follow librari allennlphttpsgithubcomoptunaoptunaexamplestreemainallennlp catalysthttpsgithubcomoptunaoptunaexamplestreemainpytorchcatalyst_simplepi catboosthttpsgithubcomoptunaoptunaexamplestreemaincatboostcatboost_simplepi chainerhttpsgithubcomoptunaoptunaexamplestreemainchainerchainer_integrationpi fastai vhttpsgithubcomoptunaoptunaexamplestreemainfastaifastaiv_simplepi vhttpsgithubcomoptunaoptunaexamplestreemainfastaifastaiv_simplepi kerashttpsgithubcomoptunaoptunaexamplestreemainkeraskeras_integrationpi lightgbmhttpsgithubcomoptunaoptunaexamplestreemainlightgbmlightgbm_integrationpi mxnethttpsgithubcomoptunaoptunaexamplestreemainmxnetmxnet_integrationpi pytorchhttpsgithubcomoptunaoptunaexamplestreemainpytorchpytorch_simplepi pytorch ignitehttpsgithubcomoptunaoptunaexamplestreemainpytorchpytorch_ignite_simplepi pytorch lightninghttpsgithubcomoptunaoptunaexamplestreemainpytorchpytorch_lightning_simplepi tensorflowhttpsgithubcomoptunaoptunaexamplestreemaintensorflowtensorflow_estimator_integrationpi tfkerashttpsgithubcomoptunaoptunaexamplestreemaintfkerastfkeras_integrationpi xgboosthttpsgithubcomoptunaoptunaexamplestreemainxgboostxgboost_integrationpi web dashboard experiment new web dashboard develop optunadashboardhttpsgithubcomoptunaoptunadashboard still experiment much better mani regard featur request bug report welcom manag studi visual interact graph managestudieshttpsuserimagesgithubusercontentcombecfebdfceeccegif optunarealtimegraphhttpsuserimagesgithubusercontentcomedebcefbgif instal optunadashboard via pip pip instal optunadashboard optunadashboard sqlitedbsqlit listen httplocalhost hit ctrlc quit instal optuna avail python packag indexhttpspypiorgprojectoptuna anaconda cloudhttpsanacondaorgcondaforgeoptuna bash pypi pip instal optuna bash anaconda cloud conda instal c condaforg optuna optuna support python newer also also provid optuna docker imag dockerhubhttpshubdockercomroptunaoptuna commun github issu bug report featur request question gitter interact chat develop stack overflow question github issu httpsgithubcomoptunaoptunaissu gitter httpsgitterimoptunaoptuna stack overflow httpsstackoverflowcomquestionstaggedoptuna contribut contribut optuna welcom new optuna pleas check good first issueshttpsgithubcomoptunaoptunalabelsgoodfirstissu rel simpl welldefin often good start point get familiar contribut workflow develop alreadi contribut optuna recommend contributionwelcom issueshttpsgithubcomoptunaoptunalabelscontributionwelcom gener guidelin contribut project take look contributingmdcontributingmd refer takuya akiba shotaro sano toshihiko yanas takeru ohta masanori koyama optuna nextgener hyperparamet optim framework kdd arxivhttpsarxivorgab optuna code conduct optuna follow numfocu code conducthomepag avail httpsnumfocusorgcodeofconduct instanc abus harass otherwis unaccept behavior may report contact project team optunapreferredjp homepag httpsnumfocusorg contribut guidelin honor board proud project work make great sinc day one believ love know there room improv want implement featur make want possibl andor easi write tutori exampleshttpsgithubcomoptunaoptunaexampl help get familiar optuna make issu pull request github fruit convers discuss gitter need help everyth optuna mind push project forward join us feel like give hand way implement featur cool idea pleas open issu first discuss design make idea better shape send patch dirti hand tackl issu contributionwelcom labelhttpsgithubcomoptunaoptunaissuesqisaissueisaopenlabelacontributionwelcom report bug find bug pleas report report import fiximprov document document get outdat easili alway better feel free fix improv let us optuna commun know idea thought __contribut optuna includ send pull request also write comment issu pull request other join conversationsdiscuss gitterhttpsgitterimoptunaoptuna__ also share enjoy optuna huge contribut write blog let us know write code convent follow guidelinesguidelin unit testsunittest continu integr local verificationcontinuousintegrationandlocalverif creat pull requestcreatingapullrequest guidelin setup optuna first fork optuna github learn fork offici documentationhttpsdocsgithubcomengithubgettingstartedwithgithubforkarepo fork download instal optuna comput bash git clone gitgithubcomyour_nameoptunagit cd optuna pip instal e check format code style type hint code format blackhttpsgithubcompsfblack docstr format blackdochttpsgithubcomkeewisblackdoc code style check flakehttpflakepycqaorg isorthttpspycqagithubioisort addit convent describ wikihttpsgithubcomoptunaoptunawikicodingstyleconvent type hint pephttpswwwpythonorgdevpepspep check mypyhttpmypylangorg check format code style type hint time execut script formatssh environ miss depend black blackdoc flake isort mypi ask instal also check use toxhttpstoxreadthedocsioenlatest like pip instal tox tox e flake e black e blackdoc e isort e mypi catch format error automat fix autoformatt bash instal autoformatt pip instal check formatssh document ad new featur framework also need document refer document sourc store docsdoc directori written restructuredtext formathttpwwwsphinxdocorgenmasterusagerestructuredtextindexhtml build document need run bash pip instal e document note command might tri instal pytorch without cuda environ even environ cuda version alreadi build document html format local bash cd doc make html html file gener buildhtml directori open indexhtml browser see render expect optuna tutori built sphinxgalleryhttpssphinxgallerygithubiostableindexhtml requir like lightgbmhttpsgithubcommicrosoftlightgbm pytorchhttpspytorchorg mean py file tutori directori run document build there build cach whether edit tutori doesnt matter avoid run tutori may download execut tutori artifact name tutori ci see captur put docsbuild extract file zip docssourcetutori directori imagehttpsuserimagesgithubusercontentcombbbebecceadpng write tutori tutori part optuna document optuna depend sphinx build document html file correspond restructuredtext rst file docssourc directori may notic tutori directoryhttpsgithubcomoptunaoptunatreemastertutori rst file instead bunch python py file sphinx galleryhttpssphinxgallerygithubiostableindexhtml execut py file gener rst file standard output correspond jupyt notebook ipynb file gener rst ipynb file written docssourcetutori directori output directori docssourcetutori sourc tutori directori configur sphinx_gallery_conf docssourceconfpyhttpsgithubcomoptunaoptunablobecabfedebdabdccbdocssourceconfpyl gener rst file handl sphinx like rst file gener ipynb file host optuna document page download check optuna tutorialhttpsoptunareadthedocsioenstabletutorialindexhtml order content tutori top pagehttpsoptunareadthedocsioenstabletutorialindexhtml determin two key one subdirectori name tutori filenam note altern document sphinx galleri sortinghttpssphinxgallerygithubiostablegen_modulessphinx_gallerysortinghtmlhighlightfilenamesortkey chose key httpsgithubcomoptunaoptunablobecabfedebdabdccbdocssourceconfpyl optuna tutori directori two directori _key_featureshttpsgithubcomoptunaoptunatreemastertutorial_key_featur meant align explain key featur list readmemdhttpsgithubcomoptunaoptunakeyfeatur _recipeshttpsgithubcomoptunaoptunatreemastertutorial_recip whose content showcas use optuna featur conveni ad new content optuna tutori place _recip file name conform name exampl _cool_featurepi gener pleas number prefix file consecut last number howev mandatori think content deserv smaller number order recip specif mean gener order could convey prioriti order reader feel free propos renumb pr may want refer sphinx galleri syntax py file process sphinx galleri two specif convent limit optuna tutori block separ httpsgithubcomoptunaoptunablobecabfedebdabdccbtutorial_key_features_firstpyl execut time new content need less three minut limit deriv read doc content run hyperparamet optim set timeout less check limit read doc build processhttpsdocsreadthedocsioenstablebuildshtml unit test ad new featur fix bug also need write suffici test code use pytesthttpspytestorg test framework unit test store test directorytest pleas instal requir packag first bash instal requir packag test modul without visual integr modul pip instal test instal requir packag test modul includ visual integr modul pip instal test f httpsdownloadpytorchorgwhltorch_stablehtml run test follow bash run unit test pytest run unit test defin specifi test file pytest teststarget_test_file_nam run unit test function specifi name defin specifi test file pytest teststarget_test_file_nam k target_test_function_nam continu integr local verif optuna repositori use github action circleci current migrat github action still use circleci test document make much easier check built document creat pull request readi creat pull request pleas tri keep follow mind titl titl pull request briefli describ reflect chang wrap code backtick end period titl directli visibl releas note exampl introduc treestructur parzen estim optunasampl descript descript pull request describ motiv describ chang still workinprogress describ remain task thank creat pull request gener merg pull request get two approv motiv describ motiv submit pr use review understand context pr descript chang describ chang pr benchmark optuna interest measur optuna perform percept directori find script prepar measur optuna perform document explain measur perform optuna use script directori content document organ follow perform benchmark kurobakoperformancebenchmarkswithkurobako perform benchmark kurobako measur perform blackbox optim algorithm optuna kurobakohttpsgithubcomoptunakurobako use benchmarksrun_kurobakopi manual run script github action write access repositori local execut benchmarksrun_kurobakopi explain method run github action need write access repositori pleas run follow step fork note pull latest master branch optunahttpsgithubcomoptunaoptuna sinc workflow yaml file must place default branch repositori open github page fork optuna repositori click action repositori name imagehttpsuserimagesgithubusercontentcomcaaafaccabebaapng left sidebar click perform benchmark kurobako list workflow run select run workflow imagehttpsuserimagesgithubusercontentcomaacebeacdebcdbbpng use branch dropdown select workflow branch default master type input paramet sampler list sampler argument list pruner list pruner argument list click run workflow imagehttpsuserimagesgithubusercontentcomdafcddaaddcfapng finish workflow download report plot artifact imagehttpsuserimagesgithubusercontentcomecabafdaafcebdebpng report look like follow includ version inform environ solver pair sampler pruner optuna problem best object valu auc elaps time imagehttpsuserimagesgithubusercontentcomdacbdabaefafdpng plot look like follow repres optim histori plot optim titl name problem legend repres specifi pair sampler pruner histori averag specifi n_run studi errorbar horizont axi repres budget budget epoch sum_for trial consum epoch trial vertic axi repres object valu imagehttpsuserimagesgithubusercontentcomcafcffdcfcpng note default run time github action workflow job limit hour depend sampler number studi specifi may exceed hour limit fail see offici documenthttpsdocsgithubcomjaactionslearngithubactionsusagelimitsbillingandadministr detail run local run script benchmarksrun_kurobakopi directli section explain local run first need instal kurobako python helper instal kurobako see httpsgithubcomoptunakurobakoinstal detail addit pleas run pip instal kurobako instal python helper need instal gnuplot visual kurobako instal gnuplot packag manag apt ubuntu brew maco second need download dataset kurobako run follow dataset directori bash download hyperparamet optim hpo dataset wget httpmlaadorgwpcontentuploadsfcnet_tabular_benchmarkstargz tar xf fcnet_tabular_benchmarkstargz download neural architectur search na dataset kurobako command avail curl l kurobako dataset nasbench url nasbench_fulltfrecord kurobako dataset nasbench convert nasbench_fulltfrecord nasbench_fullbin final run script benchmarksrun_kurobakopi bash python benchmarksrun_kurobakopi pathtokurobako kurobako command avail name performancebenchmark nrun njob samplerlist randomsampl tpesampl samplerkwargslist prunerlist nopprun prunerkwargslist seed datadir outdir pleas see benchmarksrun_kurobakopi check argument default valu optuna exampl page contain list exampl code written optuna exampl file optunaoptunaexampleshttpsgithubcomoptunaoptunaexampl simpl blackbox optim quadrat functionhttpsgithubcomoptunaoptunaexamplesblobmainquadratic_simplepi exampl ml librari allennlphttpsgithubcomoptunaoptunaexamplesblobmainallennlpallennlp_simplepi allennlp jsonnethttpsgithubcomoptunaoptunaexamplesblobmainallennlpallennlp_jsonnetpi catalysthttpsgithubcomoptunaoptunaexamplesblobmainpytorchcatalyst_simplepi catboosthttpsgithubcomoptunaoptunaexamplesblobmaincatboostcatboost_simplepi chainerhttpsgithubcomoptunaoptunaexamplesblobmainchainerchainer_simplepi chainermnhttpsgithubcomoptunaoptunaexamplesblobmainchainerchainermn_simplepi daskmlhttpsgithubcomoptunaoptunaexamplesblobmaindask_mldask_ml_simplepi fastai vhttpsgithubcomoptunaoptunaexamplesblobmainfastaifastaiv_simplepi fastai vhttpsgithubcomoptunaoptunaexamplesblobmainfastaifastaiv_simplepi haikuhttpsgithubcomoptunaoptunaexamplesblobmainhaikuhaiku_simplepi gluonhttpsgithubcomoptunaoptunaexamplesblobmainmxnetgluon_simplepi kerashttpsgithubcomoptunaoptunaexamplesblobmainkeraskeras_simplepi lightgbmhttpsgithubcomoptunaoptunaexamplesblobmainlightgbmlightgbm_simplepi lightgbm tunerhttpsgithubcomoptunaoptunaexamplesblobmainlightgbmlightgbm_tuner_simplepi mxnethttpsgithubcomoptunaoptunaexamplesblobmainmxnetmxnet_simplepi pytorchhttpsgithubcomoptunaoptunaexamplesblobmainpytorchpytorch_simplepi pytorch ignitehttpsgithubcomoptunaoptunaexamplesblobmainpytorchpytorch_ignite_simplepi pytorch lightninghttpsgithubcomoptunaoptunaexamplesblobmainpytorchpytorch_lightning_simplepi rapidshttpsgithubcomoptunaoptunaexamplesblobmainrapids_simplepi scikitlearnhttpsgithubcomoptunaoptunaexamplesblobmainsklearnsklearn_simplepi scikitlearn optunasearchcvhttpsgithubcomoptunaoptunaexamplesblobmainsklearnsklearn_optuna_search_cv_simplepi scikitimagehttpsgithubcomoptunaoptunaexamplesblobmainskimageskimage_lbp_simplepi skorchhttpsgithubcomoptunaoptunaexamplesblobmainpytorchskorch_simplepi tensorflowhttpsgithubcomoptunaoptunaexamplesblobmaintensorflowtensorflow_estimator_simplepi tensorflow eagerhttpsgithubcomoptunaoptunaexamplesblobmaintensorflowtensorflow_eager_simplepi xgboosthttpsgithubcomoptunaoptunaexamplesblobmainxgboostxgboost_simplepi exampl object function use addit argument follow exampl demonstr implement object function use addit argument trial scikitlearn callabl class versionhttpsgithubcomoptunaoptunaexamplestreemainsklearnsklearn_additional_argspi exampl prune follow exampl demonstr implement prune logic optuna simpl prune scikitlearnhttpsgithubcomoptunaoptunaexamplesblobmainsimple_pruningpi addit integr modul avail follow librari provid simpler interfac util prune prune catalyst integr modulehttpsgithubcomoptunaoptunaexamplesblobmainpytorchcatalyst_simplepi prune chainer integr modulehttpsgithubcomoptunaoptunaexamplesblobmainchainerchainer_integrationpi prune chainermn integr modulehttpsgithubcomoptunaoptunaexamplesblobmainchainerchainermn_integrationpi prune fastai v integr modulehttpsgithubcomoptunaoptunaexamplesblobmainfastaifastaiv_simplepi prune fastai v integr modulehttpsgithubcomoptunaoptunaexamplesblobmainfastaifastaiv_simplepi prune kera integr modulehttpsgithubcomoptunaoptunaexamplesblobmainkeraskeras_integrationpi prune lightgbm integr modulehttpsgithubcomoptunaoptunaexamplesblobmainlightgbmlightgbm_integrationpi prune mxnet integr modulehttpsgithubcomoptunaoptunaexamplesblobmainmxnetmxnet_integrationpi prune pytorch integr modulehttpsgithubcomoptunaoptunaexamplesblobmainpytorchpytorch_simplepi prune pytorch ignit integr modulehttpsgithubcomoptunaoptunaexamplesblobmainpytorchpytorch_ignite_simplepi prune pytorch lightn integr modulehttpsgithubcomoptunaoptunaexamplesblobmainpytorchpytorch_lightning_simplepi prune tensorflow integr modulehttpsgithubcomoptunaoptunaexamplesblobmaintensorflowtensorflow_estimator_integrationpi prune xgboost integr modulehttpsgithubcomoptunaoptunaexamplesblobmainxgboostxgboost_integrationpi prune xgboost integr modul cross valid xgboostcvhttpsgithubcomoptunaoptunaexamplesblobmainxgboostxgboost_cv_integrationpi exampl sampler warm start cmaeshttpsgithubcomoptunaoptunaexamplesblobmainsamplerswarm_starting_cmapi userdefin simulatedannealingsamplerhttpsgithubcomoptunaoptunaexamplesblobmainsamplerssimulated_annealing_samplerpi exampl multiobject optim optim botorchhttpsgithubcomoptunaoptunaexamplesblobmainmulti_objectivebotorch_simplepi optim mlp pytorchhttpsgithubcomoptunaoptunaexamplesblobmainmulti_objectivepytorch_simplepi exampl visual visual studyhttpscolabresearchgooglecomgithuboptunaoptunaexamplesblobmainvisualizationplot_studyipynb exampl enqueu trial given paramet valu enqueu trial given parametershttpsgithubcomoptunaoptunaexamplesblobmainenqueue_trialpi exampl mlflow track optim process mlflowhttpsgithubcomoptunaoptunaexamplesblobmainmlflowkeras_mlflowpi exampl weight bias track optim process weight biaseshttpsgithubcomoptunaoptunaexamplesblobmainwandbwandb_simplepi exampl hydra optim hydrahttpsgithubcomoptunaoptunaexamplesblobmainhydrasimplepi exampl distribut optim optim kuberneteshttpsgithubcomoptunaoptunaexamplesblobmainkubernetesreadmemd optim ray joblib backendhttpsgithubcomoptunaoptunaexamplesblobmainrayray_joblibpi exampl reinforc learn optim hyperparamet stablebaslin agenthttpsgithubcomoptunaoptunaexamplesblobmainrlsb_simplepi extern project use optuna allegro trainshttpsgithubcomallegroaitrain bborietveld autom crystal structur refinementhttpsgithubcomquantumbeambborietveld catalysthttpsgithubcomcatalystteamcatalyst cupyhttpsgithubcomcupycupi hydra optuna sweeper pluginhttpshydraccdocsnextpluginsoptuna_sweep mozilla voic stthttpsgithubcommozilladeepspeech neptuneaihttpsneptuneai optgbm scikitlearn compat lightgbm estim optunahttpsgithubcomyohrnoptgbm pykeenhttpsgithubcompykeenpykeen rl baselin zoohttpsgithubcomdlrrmrlbaselineszoo pr add addit project welcom optunaexampleshttpsgithubcomoptunaoptunaexampl tutori new optuna want gener introduct highli recommend video raw html ifram width height srchttpswwwyoutubecomembedpnwzvlttc framebord allowacceleromet autoplay clipboardwrit encryptedmedia gyroscop pictureinpictur allowfullscreenifram br br br _recip recip showcas recip might help use optuna comfort _key_featur key featur showcas optuna key featur httpsgithubcomoptunaoptunablobmasterreadmemdkeyfeatures_ orphan privaci polici googl analyt collect inform visitor use websit improv servic use googl analyt websit find googl analyt work inform collect googl analyt term servic googl privaci polici googl analyt term servic httpwwwgooglecomanalyticstermsushtml googl privaci polici httpspoliciesgooglecomprivacyhlen googl analyt optout addon httpstoolsgooglecomdlpagegaoptouthlen instal optuna support python newer recommend instal optuna via pip codeblock bash pip instal optuna also instal develop version optuna master branch git repositori codeblock bash pip instal githttpsgithubcomoptunaoptunagit also instal optuna via conda codeblock bash conda instal c condaforg optuna faq content local use optuna x x favorit ml librari optuna compat ml librari easi use optuna pleas refer exampl httpsgithubcomoptunaoptunaexamples_ _objectivefuncadditionalarg defin object function argument two way realiz first callabl class use purpos follow codeblock python import optuna class objectiveobject def __init__self min_x max_x hold implement specif argument field class selfmin_x min_x selfmax_x max_x def __call__self trial calcul object valu use extra argument x trialsuggest_floatx selfmin_x selfmax_x return x execut optim use object instanc studi optunacreate_studi studyoptimizeobject n_trial second use lambda functoolsparti creat function closur hold extra argument exampl use lambda codeblock python import optuna object function take three argument def objectivetri min_x max_x x trialsuggest_floatx min_x max_x return x extra argument min_x max_x execut optim use object function wrap lambda studi optunacreate_studi studyoptimizelambda trial objectivetri min_x max_x n_trial pleas also refer sklearn_addtitional_argspi httpsgithubcomoptunaoptunaexamplestreemainsklearnsklearn_additional_argspy_ exampl reus dataset instead load trial execut use optuna without remot rdb server ye possibl simplest form optuna work inmemori storag codeblock python studi optunacreate_studi studyoptimizeobject want save resum studi handi use sqlite local storag codeblock python studi optunacreate_studystudy_namefoo_studi storagesqliteexampledb studyoptimizeobject state studi persist local sqlite file pleas see refrdb detail save resum studi two way persist studi depend use inmemori storag default remot databas rdb inmemori studi save load like usual python object use pickl joblib exampl use joblib codeblock python studi optunacreate_studi joblibdumpstudi studypkl resum studi codeblock python studi joblibloadstudypkl printbest trial print valu studybest_trialvalu print param key valu studybest_trialparamsitem printf key valu note optuna support savingreload across differ optuna version pickl savereload studi across differ optuna version pleas use rdb upgrad storag schema referenceclihtmlstorageupgrade_ necessari use rdb see refrdb detail suppress log messag optuna default optuna show log messag optunalogginginfo level chang log level use funcoptunaloggingset_verbos instanc stop show trial result follow codeblock python optunaloggingset_verbosityoptunaloggingwarn studi optunacreate_studi studyoptimizeobject log like trial finish valu disabl pleas refer classoptunalog detail save machin learn model train object function optuna save hyperparamet valu correspond object valu storag discard intermedi object machin learn model neural network weight save model weight pleas use featur machin learn librari use recommend save objoptunatrialtrialnumb model order identifi correspond trial exampl save svm model train object function follow codeblock python def objectivetri svc_c trialsuggest_floatsvc_c e e logtru clf sklearnsvmsvccsvc_c clffitx_train y_train save train model file openpickleformattrialnumb wb fout pickledumpclf fout return accuracy_scorey_valid clfpredictx_valid studi optunacreate_studi studyoptimizeobject n_trial load best model openpickleformatstudybest_trialnumb rb fin best_clf pickleloadfin printaccuracy_scorey_valid best_clfpredictx_valid obtain reproduc optim result make paramet suggest optuna reproduc specifi fix random seed via seed argument classoptunasamplersrandomsampl classoptunasamplerstpesampl follow codeblock python sampler tpesamplerse make sampler behav determinist way studi optunacreate_studysamplersampl studyoptimizeobject howev two caveat first optim studi distribut parallel mode inher nondetermin thu difficult reproduc result condit recommend execut optim studi sequenti would like reproduc result second object function behav nondeterminist way ie return valu even paramet suggest reproduc optim deal problem pleas set option eg random seed make behavior determinist optim target eg ml librari provid except trial handl trial rais except without catch treat failur ie objoptunatrialtrialstatefail statu default except except classoptunaexceptionstrialprun rais object function propag caller funcoptunastudystudyoptim word studi abort except rais might desir continu studi remain trial specifi funcoptunastudystudyoptim except type catch use catch argument except type caught insid studi propag find fail trial log messag codeblock sh w set statu trial trialstatefail follow error valueerrora sampl error object also find fail trial check trial state follow codeblock python studytrials_datafram csvtabl numberstatevalueparamssystem_attr trialstatefailset statu trial trialstatefail follow error valueerrora test error object trialstatecomplet seealso catch argument funcoptunastudystudyoptim nan return trial handl trial return objnan floatnan treat failur abort studi trial return objnan shown follow codeblock sh w set statu trial trialstatefail object function return nan happen dynam alter search space sinc paramet search space specifi call suggest api eg funcoptunatrialtrialsuggest_float funcoptunatrialtrialsuggest_int possibl singl studi alter rang sampl paramet differ search space differ trial behavior alter defin sampler individu note discuss tpe sampler httpsgithubcomoptunaoptunaissu use two gpu evalu two trial simultan optim target support gpu cuda acceler want specifi gpu use easiest way set cuda_visible_devic environ variabl codeblock bash termin specifi use first gpu run optim export cuda_visible_devic optuna studi optim foopi object studynam foo storag sqliteexampledb anoth termin specifi use second gpu run anoth optim export cuda_visible_devic optuna studi optim barpi object studynam bar storag sqliteexampledb pleas refer cuda c program guid httpsdocsnvidiacomcudacudacprogrammingguideindexhtmlenvvars_ detail test object function test object function may prefer fix paramet valu sampl one case use classoptunatrialfixedtri suggest fix paramet valu base given dictionari paramet instanc input arbitrari valu mathx mathi object function mathx follow codeblock python def objectivetri x trialsuggest_floatx trialsuggest_inti return x objectivefixedtrialx objectivefixedtrialx use classoptunatrialfixedtri write unit test follow codeblock python test function pytest def test_object assert objectivefixedtrialx assert objectivefixedtrialx assert objectivefixedtrialx _outofmemorygccollect avoid run memori oom optim studi memori footprint increas run trial tri period run garbag collector specifi gc_after_tri objtru call funcoptunastudystudyoptim call funcgccollect insid callback codeblock python def objectivetri x trialsuggest_floatx trialsuggest_inti return x studi optunacreate_studi studyoptimizeobject n_trial gc_after_trialtru gc_after_trialtru less ident follow studyoptimizeobject n_trial callbackslambda studi trial gccollect perform tradeoff run garbag collector could nonneglig depend fast object function otherwis therefor gc_after_tri objfals default note exampl similar run garbag collector insid object function except fact funcgccollect call even error includ classoptunaexceptionstrialprun rais note classoptunaintegrationchainermnstudi current provid gc_after_tri callback funcoptunaintegrationchainermnstudyoptim use class call garbag collector insid object function output log best valu updat here replac log featur optuna log callback function implement callback pass funcoptunastudystudyoptim here exampl codeblock python import optuna turn optuna log note optunaloggingset_verbosityoptunaloggingwarn def objectivetri x trialsuggest_floatx return x def logging_callbackstudi frozen_tri previous_best_valu studyuser_attrsgetprevious_best_valu none previous_best_valu studybest_valu studyset_user_attrprevious_best_valu studybest_valu print trial finish best valu paramet format frozen_trialnumb frozen_trialvalu frozen_trialparam studi optunacreate_studi studyoptimizeobject n_trial callbackslogging_callback note callback may show incorrect valu tri optim object function n_job form distribut optim due read write storag prone race condit suggest variabl repres proport accord dirichlet distribut want suggest mathn variabl repres proport mathp p pn satisfi math le pk le mathk mathp p pn tri exampl variabl use weight interpol loss function variabl accord flat dirichlet distribut httpsenwikipediaorgwikidirichlet_distribution_ codeblock python import numpi np import matplotlibpyplot plt import optuna def objectivetri n x rangen xappend nplogtrialsuggest_floatfx_i p rangen pappendxi sumx rangen trialset_user_attrfp_i pi return studi optunacreate_studysampleroptunasamplersrandomsampl studyoptimizeobject n_trial n p rangen pappendtrialuser_attrsfp_i trial studytri axe pltsubplotsn n figsiz rangen j rangen axesjiscatterpi pj marker axesjiset_xlim axesjiset_ylim axesjiset_xlabelfp_i axesjiset_ylabelfp_j pltsavefigsampled_pspng method justifi follow way first appli transform mathx log u variabl mathu sampl uniform distribut mathuni interv math variabl mathx follow exponenti distribut mathexp scale paramet math furthermor mathn variabl mathx xn follow exponenti distribut scale paramet math independ normal mathpi xi sum_i xi vector mathp follow dirichlet distribut mathdiralpha scale paramet mathalpha verifi transform calcul element jacobian optim model constraint want optim model constraint use follow class classoptunasamplersnsgaiisampl classoptunaintegrationbotorchsampl follow exampl benchmark binh korn function multiobject optim constraint use classoptunasamplersnsgaiisampl one two constraint mathc_ x le mathc_ x le find optim solut satisfi constraint codeblock python import optuna def objectivetri binh korn function constraint x trialsuggest_floatx trialsuggest_floati constraint consid feasibl less equal zero feasibl region basic intersect circl center x complement circl center x c x c x store constraint user attribut restor optim trialset_user_attrconstraint c c v x v x return v v def constraintstri return trialuser_attrsconstraint sampler optunasamplersnsgaiisamplerconstraints_funcconstraint studi optunacreate_studi directionsminim minim samplersampl studyoptimizeobject n_trial timeout printnumb finish trial lenstudytri printpareto front trial sortedstudybest_tri keylambda tvalu trial trial print trialformattrialnumb print valu valu constraintformat trialvalu trialuser_attrsconstraint print param formattrialparam interest exmapl classoptunaintegrationbotorchsampl pleas refer sampl code httpsgithubcomoptunaoptunaexamplesblobmainmulti_objectivebotorch_simplepy_ two kind constrain optim one soft constraint hard constraint soft constraint satisfi object function penal unsatisfi hand hard constraint must satisfi optuna adopt soft one support hard one word optuna builtin sampler hard constraint parallel optim variat parallel follow three case multithread parallel singl node multiprocess parallel singl node multiprocess parallel multipl node multithread parallel singl node parallel achiev set argument n_job funcoptunastudystudyoptim howev python code faster due gil funcoptunastudystudyoptim n_job use multithread optim faster limit situat wait server request cc process numpi etc faster case inform see apireference_ _apirefer httpsoptunareadthedocsioenstablereferenceindexhtml multiprocess parallel singl node achiev use filebas rdb sqlite clientserv rdb postgresql mysql howev environ instal rdb run multiprocess parallel singl node realli want pleas request github issu receiv lot request may provid solut inform see tutorialeasyparallelization_ _tutorialeasyparallel httpsoptunareadthedocsioenstabletutorial_key_features_distributedhtml multiprocess parallel multipl node achiev use clientserv rdb postgresql mysql howev environ instal clientserv rdb run multiprocess parallel multipl node inform see tutorialeasyparallelization_ monitor trial make fail automat kill unexpectedli note heartbeat mechan experiment api would chang futur process run trial could kill unexpectedli typic job schedul cluster environ trial kill unexpectedli left storag state run remov updat state manual case optuna support monitor trial use heartbeat httpsenwikipediaorgwikiheartbeat_computing_ mechan use heartbeat process run trial kill unexpectedli optuna automat chang state trial run process objoptunatrialtrialstatefail objoptunatrialtrialstaterun codeblock python import optuna def objectivetri timeconsum comput record heartbeat everi second process trial second pass sinc last heartbeat record automat fail storag optunastoragesrdbstorageurlsqlitememori heartbeat_interv grace_period studi optunacreate_studystoragestorag studyoptimizeobject n_trial also execut callback function process fail trial optuna provid callback retri fail trial classoptunastoragesretryfailedtrialcallback note callback invok begin trial mean classoptunastoragesretryfailedtrialcallback retri fail trial new trial start evalu codeblock python import optuna optunastorag import retryfailedtrialcallback storag optunastoragesrdbstorag urlsqlitememori heartbeat_interv grace_period failed_trial_callbackretryfailedtrialcallbackmax_retri studi optunacreate_studystoragestorag optunalogo optuna hyperparamet optim framework optuna automat hyperparamet optim softwar framework particularli design machin learn featur imper definebyrun style user api thank definebyrun api code written optuna enjoy high modular user optuna dynam construct search space hyperparamet key featur optuna modern function follow doclightweight versatil platform agnost architectur tutorial_key_features_first handl wide varieti task simpl instal requir docpython search space tutorial_key_features_configur defin search space use familiar python syntax includ condit loop doceffici optim algorithm tutorial_key_features_efficient_optimization_algorithm adopt stateoftheart algorithm sampl hyperparamet effici prune unpromis trial doceasi parallel tutorial_key_features_distribut scale studi ten hundr worker littl chang code docquick visual tutorial_key_features_visu inspect optim histori varieti plot function basic concept use term studi trial follow studi optim base object function trial singl execut object function pleas refer sampl code goal studi find optim set hyperparamet valu eg classifi svm_c multipl trial eg n_trial optuna framework design autom acceler optim studi open colab code python import defin object function minim def objectivetri invok suggest method trial object gener hyperparamet regressor_nam trialsuggest_categoricalclassifi svr randomforest regressor_nam svr svr_c trialsuggest_floatsvr_c e e logtru regressor_obj sklearnsvmsvrcsvr_c els rf_max_depth trialsuggest_intrf_max_depth regressor_obj sklearnensemblerandomforestregressormax_depthrf_max_depth x sklearndatasetsfetch_california_housingreturn_x_ytru x_train x_val y_train y_val sklearnmodel_selectiontrain_test_splitx random_st regressor_objfitx_train y_train y_pred regressor_objpredictx_v error sklearnmetricsmean_squared_errory_v y_pred return error object valu link trial object studi optunacreate_studi creat new studi studyoptimizeobject n_trial invok optim object function commun github issu httpsgithubcomoptunaoptunaissues__ bug report featur request question gitter httpsgitterimoptunaoptuna__ interact chat develop stack overflow httpsstackoverflowcomquestionstaggedoptuna__ question contribut contribut optuna welcom send pull request pleas follow contribut guid httpsgithubcomoptunaoptunablobmastercontributingmd__ licens mit licens see licens httpsgithubcomoptunaoptunablobmasterlicense__ refer takuya akiba shotaro sano toshihiko yanas takeru ohta masanori koyama optuna nextgener hyperparamet optim framework kdd arxiv httpsarxivorgabs__ toctre maxdepth caption content instal tutorialindex referenceindex faq indic tabl refgenindex refmodindex refsearch optunalogo imag httpsrawgithubusercontentcomoptunaoptunamasterdocsimageoptunalogopng width alt optuna open colab imag httpscolabresearchgooglecomassetscolabbadgesvg target httpcolabresearchgooglecomgithuboptunaoptunaexamplesblobmainquickstartipynb extend autosummaryclassrst autosummari templat exclud class constructor __init__ doesnt contain docstr optuna block method set method method selectn __init__ list method rubric method autosummari item method name item endfor endif endblock modul optuna optuna modoptuna modul primarili use alia basic optuna function code modul current two modul alias modoptunastudi function regard studi lifecycl modoptunaexcept trialprun except rais trial prune autosummari toctre gener nosignatur optunacreate_studi optunaload_studi optunadelete_studi optunacopy_studi optunaget_all_study_summari optunatrialprun modul optunaimport optunaimport modoptunaimport modul provid function evalu hyperparamet import base complet trial given studi util function funcoptunaimportanceget_param_import take studi option evalu two input evalu must deriv classoptunaimportancebaseimportanceevalu initi classoptunaimportancefanovaimportanceevalu default pass user implement custom evalu refer either classoptunaimportancefanovaimportanceevalu classoptunaimportancemeandecreaseimpurityimportanceevalu guid pay close attent format return valu evalu methevalu function autosummari toctre gener nosignatur optunaimportanceget_param_import optunaimportancefanovaimportanceevalu optunaimportancemeandecreaseimpurityimportanceevalu modul optunastorag optunastorag modoptunastorag modul defin classoptunastoragesbasestorag class abstract backend databas provid libraryintern interfac readwrit histori studi trial librari user wish use storag solut default inmemori storag use one child class classoptunastoragesbasestorag document autosummari toctre gener nosignatur optunastoragesrdbstorag optunastoragesredisstorag optunastoragesretryfailedtrialcallback optunastoragesfail_stale_tri modul optunastudi optunastudi modoptunastudi modul implement classoptunastudystudi object relat function public constructor avail classoptunastudystudi class direct use constructor recommend instead librari user creat load classoptunastudystudi use funcoptunastudycreate_studi funcoptunastudyload_studi respect autosummari toctre gener nosignatur optunastudystudi optunastudycreate_studi optunastudyload_studi optunastudydelete_studi optunastudycopy_studi optunastudyget_all_study_summari optunastudymaxtrialscallback optunastudystudydirect optunastudystudysummari modul optunaintegr optunaintegr modoptunaintegr modul contain class use integr optuna extern machin learn framework ml framework support optuna correspond optuna integr class serv implement callback object function compliant framework specif callback api call intermedi step model train function implement callback across differ ml framework includ report intermedi model score back optuna trial use funcoptunatrialreport accord result funcoptunatrialtrialshould_prun prune current model rais funcoptunatrialprun report intermedi optuna data current trial number back framework done classoptunaintegrationmlflowcallback scikitlearn integr classoptunaintegrationoptunasearchcv estim avail combin scikitlearn baseestim function access classlevel studi object allennlp autosummari toctre gener nosignatur optunaintegrationallennlpexecutor optunaintegrationallennlpdump_best_config optunaintegrationallennlppruningcallback botorch autosummari toctre gener nosignatur optunaintegrationbotorchsampl optunaintegrationbotorchqei_candidates_func optunaintegrationbotorchqehvi_candidates_func optunaintegrationbotorchqparego_candidates_func catalyst autosummari toctre gener nosignatur optunaintegrationcatalystpruningcallback chainer autosummari toctre gener nosignatur optunaintegrationchainerpruningextens optunaintegrationchainermnstudi fastai autosummari toctre gener nosignatur optunaintegrationfastaivpruningcallback optunaintegrationfastaivpruningcallback optunaintegrationfastaipruningcallback kera autosummari toctre gener nosignatur optunaintegrationkeraspruningcallback lightgbm autosummari toctre gener nosignatur optunaintegrationlightgbmpruningcallback optunaintegrationlightgbmtrain optunaintegrationlightgbmlightgbmtun optunaintegrationlightgbmlightgbmtunercv mlflow autosummari toctre gener nosignatur optunaintegrationmlflowcallback weight bias autosummari toctre gener nosignatur optunaintegrationweightsandbiasescallback mxnet autosummari toctre gener nosignatur optunaintegrationmxnetpruningcallback pycma autosummari toctre gener nosignatur optunaintegrationpycmasampl optunaintegrationcmaessampl pytorch autosummari toctre gener nosignatur optunaintegrationpytorchignitepruninghandl optunaintegrationpytorchlightningpruningcallback optunaintegrationtorchdistributedtri scikitlearn autosummari toctre gener nosignatur optunaintegrationoptunasearchcv scikitoptim autosummari toctre gener nosignatur optunaintegrationskoptsampl skorch autosummari toctre gener nosignatur optunaintegrationskorchpruningcallback tensorflow autosummari toctre gener nosignatur optunaintegrationtensorboardcallback optunaintegrationtensorflowpruninghook optunaintegrationtfkeraspruningcallback xgboost autosummari toctre gener nosignatur optunaintegrationxgboostpruningcallback modul optunadistribut optunadistribut modoptunadistribut modul defin variou class repres probabl distribut mainli use suggest initi hyperparamet valu optim trial distribut class inherit libraryintern classoptunadistributionsbasedistribut initi specif paramet low high endpoint classoptunadistributionsuniformdistribut optuna user use distribut class directli instead use util function provid classoptunatrialtri methoptunatrialtrialsuggest_int autosummari toctre gener nosignatur optunadistributionsfloatdistribut optunadistributionsintdistribut optunadistributionsuniformdistribut optunadistributionsloguniformdistribut optunadistributionsdiscreteuniformdistribut optunadistributionsintuniformdistribut optunadistributionsintloguniformdistribut optunadistributionscategoricaldistribut optunadistributionsdistribution_to_json optunadistributionsjson_to_distribut optunadistributionscheck_distribution_compat modul optunaexcept optunaexcept modoptunaexcept modul defin optunaspecif except deriv base classoptunaexceptionsoptunaerror class special import librari user classoptunaexceptionstrialprun except rais funcoptunatrialtrialshould_prun return true trial prune autosummari toctre gener nosignatur optunaexceptionsoptunaerror optunaexceptionstrialprun optunaexceptionscliusageerror optunaexceptionsstorageinternalerror optunaexceptionsduplicatedstudyerror modul optunacli optunacli modoptunacli modul implement optuna commandlin function use cliff framework httpsdocsopenstackorgclifflatestindexhtml_ autoprogramcliff optunacli_optunaapp applic optuna autoprogramcliff optunacommand applic optuna modul optunaprun optunaprun modoptunaprun modul defin classoptunaprunersbaseprun class character abstract methoptunaprunersbaseprunerprun method given trial associ studi return boolean valu repres whether trial prune determin made base store intermedi valu object function previous report trial use methoptunatrialtrialreport remain class modul repres child class inherit classoptunaprunersbaseprun implement differ prune strategi seealso refprun tutori explain concept pruner class minim exampl autosummari toctre gener nosignatur optunaprunersbaseprun optunaprunersmedianprun optunaprunersnopprun optunaprunerspatientprun optunaprunerspercentileprun optunaprunerssuccessivehalvingprun optunaprunershyperbandprun optunaprunersthresholdprun modul optunasampl optunasampl modoptunasampl modul defin base class paramet sampl describ extens classoptunasamplersbasesampl remain class modul repres child class deriv classoptunasamplersbasesampl implement differ sampl strategi seealso refprun tutori explain overview sampler class autosummari toctre gener nosignatur optunasamplersbasesampl optunasamplersgridsampl optunasamplersrandomsampl optunasamplerstpesampl optunasamplerscmaessampl optunasamplerspartialfixedsampl optunasamplersnsgaiisampl optunasamplersmotpesampl optunasamplersqmcsampl optunasamplersintersectionsearchspac optunasamplersintersection_search_spac modul optunatri optunatri modoptunatri modul contain classoptunatrialtri relat class function classoptunatrialtri instanc repres process evalu object function instanc pass object function provid interfac get paramet suggest manag trial state setget userdefin attribut trial optuna user defin custom object function interfac basic optuna user use custom object function autosummari toctre gener nosignatur optunatrialtri optunatrialfixedtri optunatrialfrozentri optunatrialtrialst optunatrialcreate_tri modul optunalog optunalog modoptunalog modul implement log use python log packag librari user may especi interest set verbos level use funcoptunaloggingset_verbos one optunaloggingcrit aka optunaloggingfat optunaloggingerror optunaloggingwarn aka optunaloggingwarn optunalogginginfo optunaloggingdebug autosummari toctre gener nosignatur optunaloggingget_verbos optunaloggingset_verbos optunaloggingdisable_default_handl optunaloggingenable_default_handl optunaloggingdisable_propag optunaloggingenable_propag api refer toctre maxdepth optuna cli distribut except import integr log multi_objectiveindex pruner sampler storag studi trial visualizationindex modul optunavisu optunavisu modoptunavisu modul provid util function plot optim process use plotli matplotlib plot function gener take classoptunastudystudi object option paramet pass list param argument note modoptunavisu modul follow function use plotli creat figur jupyterlab_ render default pleas follow instal guide_ show figur jupyterlab_ _jupyterlab httpsgithubcomjupyterlabjupyterlab _instal guid httpsgithubcomplotlyplotlypyjupyterlabsupportpython autosummari toctre gener nosignatur optunavisualizationplot_contour optunavisualizationplot_edf optunavisualizationplot_intermediate_valu optunavisualizationplot_optimization_histori optunavisualizationplot_parallel_coordin optunavisualizationplot_param_import optunavisualizationplot_pareto_front optunavisualizationplot_slic optunavisualizationis_avail note follow modoptunavisualizationmatplotlib modul use matplotlib backend toctre maxdepth matplotlib modul optunavisualizationmatplotlib optunavisualizationmatplotlib note follow function use matplotlib backend autosummari toctre gener nosignatur optunavisualizationmatplotlibplot_contour optunavisualizationmatplotlibplot_edf optunavisualizationmatplotlibplot_intermediate_valu optunavisualizationmatplotlibplot_optimization_histori optunavisualizationmatplotlibplot_parallel_coordin optunavisualizationmatplotlibplot_param_import optunavisualizationmatplotlibplot_pareto_front optunavisualizationmatplotlibplot_slic optunavisualizationmatplotlibis_avail modul optunamulti_objectivestudi optunamulti_objectivestudi autosummari toctre gener nosignatur optunamulti_objectivestudymultiobjectivestudi optunamulti_objectivestudycreate_studi optunamulti_objectivestudyload_studi modul optunamulti_objectivevisu optunamulti_objectivevisu note modoptunamulti_objectivevisu modul use plotli creat figur jupyterlab_ render default pleas follow instal guide_ show figur jupyterlab_ _jupyterlab httpsgithubcomjupyterlabjupyterlab _instal guid httpsgithubcomplotlyplotlypyjupyterlabsupportpython autosummari toctre gener nosignatur optunamulti_objectivevisualizationplot_pareto_front modul optunamulti_objectivesampl optunamulti_objectivesampl autosummari toctre gener nosignatur optunamulti_objectivesamplersbasemultiobjectivesampl optunamulti_objectivesamplersnsgaiimultiobjectivesampl optunamulti_objectivesamplersrandommultiobjectivesampl optunamulti_objectivesamplersmotpemultiobjectivesampl modul optunamulti_objectivetri optunamulti_objectivetri autosummari toctre gener nosignatur optunamulti_objectivetrialmultiobjectivetri optunamulti_objectivetrialfrozenmultiobjectivetri modul optunamulti_object optunamulti_object modul deprec former function move modoptunasampl modoptunastudi modoptunatri modoptunavisu toctre maxdepth sampler studi trial visual