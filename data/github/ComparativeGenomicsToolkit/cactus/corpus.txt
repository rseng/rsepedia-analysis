releas releas fix fix major though rare bug refer phase could take forev input includ newer version lastz seem fix crash well debug symbol longer strip cactus_consolid binari releas updat toil updat exampl use python specif previous python often python support drop toil cactusprepar wdl output batch hal_append_subtre job fix bug refer phase within cactus_consolid could take age input fix bug realtimelog flag would caus infinit loop cactus_consolid within docker invoc upgrad recent version lastz releas releas fix bug introduc ancestr sequenc could specifi input prevent recommend producedur updat exist align work fix assert cap_getsequencecap sequenc fail error ancestr fasta provid input seqfil sever minor pangenom updat mostli cactusgraphmapjoin releas releas fix issu pangenom normal caf run time fix new regress caus caf secondari filter sometim take forev code caus occaision slowdown time final fix fix cactuspreprocess work zip fasta input even run dnabrnn fix normal cactusgraphmapjoin updat abpoa v releas releas primarili address stabil issu pangenom construct changelog use latest abpoa fix bug align sequenc would lead segfault updat toil consist appli filter minimap output fallback stage graphmapsplit build abpoa avx simd extens instead sse order work around instabl build pangenom up hardwar requir releas unfortun avx slightli newer clean caf config paramet fix caf secondari filter worstcas runtim issu rare could add day runtim slightli tune minimap threshold use chromosom split normal option ad cactusgraphmapjoin use work around soontob address underalign bug releas patch releas fix issu new conscor option could use maxcor thank renzotal also revert last minut caf paramet chang someth test though known slow case larg number secondari align changelog fix bug cactu doesnt work maxcor conscor specifi static binari script portabl revert caf trim paramet previou default releas releas includ major updat cactu workflow dramat improv speed robust previous cactu use multiprocess architectur cactu graph oper everyth blast phase process run toil job would commun via cactusdisk databas ran separ servic process ktserver default write databas often bottleneck would fail sporad larger input frustrat network error chang run singl multithread execut cactus_consolid apart save databas io cactus_consolid use muchfast simdacceler abpoa default instead cpecan perform multipl sequenc align within bar phase cactu origin design heterogen comput environ hand larg memori machin ran small number job much comput could farm larg number smaller machin lastz job preprocess blast phase cactuspreprocess cactusblast still farm smaller machin rest cactu cactusalign run power system exact requir depend usual genom size diverg roughli core g ram requir distant mammal releas also contain sever fix usabl improv pangenom pipelin final includ halphylop changlelog fold postblast process singl binari executablecactus_consolid new option conscor control number thread cactus_consolid process cactu databas ktserver longer use abpoa default base align replac cpecan cpecan updat includ multithread support via mum anchor oppos spawn lastz process toggl config fix bug cactusprepar transmit toil size paramet cactuspreparejoin tool ad combin index chromosom output cactusalignbatch cactusgraphmapsplit fix updat latest segalign updat toil updat hal add halphylop binari releas docker imag releas releas introduc cactu pangenom pipelinehttpsgithubcomcomparativegenomicstoolkitcactusblobmasterdocpangenomemd use align togeth sampl speci order creat pangenom graph cactus_bar poamod via abpoa align scale better pecan larg number sequenc nearli accur sequenc highli similar cactusrefmap tool ad produc cactu align anchor alltorefer minimap align instead alltoal lastz cactusgraphmap tool ad produc cactu align anchor alltoreferencegraph minigraph align instead alltoal lastsz maskalpha option ad cactuspreprocess softmask clip satellit sequenc use dnabrnn cactus_bar option ignor mask sequenc given length threshold cactusgraphmapsplit tool ad split input fasta sequenc chromosom use minigraph align order creat align subproblem improv scale cactusalignbatch tool ad align sever chromsom use one job per chromosom batch option ad cactusalign achiev use mani job per chromosom outvg outgfa option ad cactusalign output pangenom graph addtion hal chang cactusprepar schedul bug fix databas redi option ad use redi instead kyoto tycoon cactusblast restart bug fix legaci binari releas provid whose hardwar old run normal releas releas fix bug cactus_fasta_softmask_intervalspi expect base interv gpu lastz repeatmask halvg version includ vhttpsgithubcomcomparativegenomicstoolkithalvgreleasesdownloadvhalvg gpu lastz version use gpuenabl docker imag bafecbdfcbdffbadehttpsgithubcomcomparativegenomicstoolkitsegaligncommitbafecbdfcbdffbad releas halvg updat version gpu lastz updat diskeffici repeat mask better error handl fix memori cactus_convertalignmentstointernalnam caf fix target toward pangenom construct halvg version includ vhttpsgithubcomcomparativegenomicstoolkithalvgreleasesdownloadvhalvg gpu lastz version use gpuenabl docker imag bafecbdfcbdffbadehttpsgithubcomcomparativegenomicstoolkitsegaligncommitbafecbdfcbdffbad releas releas fix bug relat gpu lastz cactu fix correctli handl gpu lastz repeatmask output well keep temporari file insid toil work directori cactusprepar wdl updat support preprocessorbatchs cactus_covered_interv bug fix speedup gpu lastz updat fix crash gpu lastz version use gpuenabl docker imag afcdaecaeddfbcbhttpsgithubcomcomparativegenomicstoolkitsegaligncommitafcdaecaeddfbcb halvg version includ vhttpsgithubcomcomparativegenomicstoolkithalvgreleasesdownloadvhalvg releas releas add gpu lastz repeatmask support preprocessor includ halvg notabl chang gpu lastz repeat mask order magnitud faster cpu mask provid better result toggl config file use gpuenabl docker imag halvg pangenom graph export includ binari releas well docker imag updat hal fffadadabfbbfeahttpsgithubcomcomparativegenomicstoolkithalcommitfffadadabfbbfea gpu lastz version use gpuenabl docker imag fabbdcfbcbbddahttpsgithubcomcomparativegenomicstoolkitsegaligncommitfabbdcfbcbbdda halvg version includ vhttpsgithubcomcomparativegenomicstoolkithalvgreleasesdownloadvhalvg releas releas fix kent tool requir halassemblyhubpi packag thank nathanweek notabl chang requir share libari run kent tool ad docker imag kent tool remov binari releas includ assumpt static built fulli standalon instead instruciton provid guid interest user instal gpu lastz version use gpuenabl docker imag ecbceebbbbddedeffahttpsgithubcomcomparativegenomicstoolkitsegaligncommitecbceebbbbddedeffa releas releas contain import bug fix well major improv cactusprepar function notabl chang cactusprepar improv includ wdl terra support gpu lastz support bug fix upgrad toil fix bug caus cactusrefer run forev presenc length branch major speed improv cactuscaf fix secondari align filter includ hal python tool docker imag binari releas fix static binari cpecanrealign provid gpuenabl docker imag releas includ hal tool contain sever crash fix gpu lastz version use gpuenabl docker imag ecbceebbbbddedeffahttpsgithubcomcomparativegenomicstoolkitsegaligncommitecbceebbbbddedeffa releas first offici releas cactu goal provid stabl trackabl version cactu user releas provid sourc staticcompil binari docker format notabl chang kyoto cabinet typhoon includ submodul due lack consist stabl releas difficulti compil cactu avail tar file staticlink binari execut along wheel cactu python packag avoid compil depend problem work linux platform docker use ad support run cactu individu step work around problem use toil distribut environ divid align task run manual separ machin see run step step experiment readmemd convers python allow toil drop python support note develop debug cactu overrid make set file includelocalmk creat root directori overrid make variabl includ set environ variabl commit environ variabl control cactu run cactus_binaries_mod cactu program found docker default singular local cactus_docker_mod docker use default cactus_use_local_imag docker imag local server default environ variabl control test son_trace_dataset locat test data set current avail git clone httpsgithubcomcomparativegenomicstoolkitcactustestdata sonlib_test_length filter test maximum run time length categori caseinsensit short test take less second except default medium test take less second long test take less second verg_long test take even longer cactus_test_log_level set loglevel use test may set test use toil run test docker singl machin mode make docker export cactus_use_local_imag make test debug hint main cactu python process print stack trace python thread sent sigusr signal continu execut mayb use determin state cactu instal cactu binari distribut describ step requir instal cactu precompil binari static link distribut extract alreadi extract distribut tar xzf cactusbinrel_tagtargz cd cactusbinrel_tag setup build python virtualenv activ follow step virtualenv p python venv sourc venvbinactiv pip instal u setuptool pip pip instal u r toilrequirementtxt pip instal u export pathpwdbinpath export pythonpathpwdlibpythonpath tool requir halassemblyhubpi includ must download separ wigtobigwig fatotwobit bedtobigb bigbedtob bedsort hggcpercent inform found herehttpshgdownloadcseucsceduadminex note may requir licens commerci use static binari avail follow command set success mani bit linux system cd bin wigtobigwig fatotwobit bedtobigb bigbedtob bedsort hggcpercent wget q httphgdownloadcseucsceduadminexelinuxx_i chmod ugox done test test cactu follow run moder size align may take sever hour depend system cactu jobstor examplesevolvermammalstxt evolvermammalsh realtimelog cactu build statushttpstravisciorgcomparativegenomicstoolkitcactussvgbranchmasterhttpstravisciorgcomparativegenomicstoolkitcactu cactu referencefre wholegenom multipl align program pleas cite progress cactu paperhttpsdoiorgsi use cactu addit descript core algorithm found herehttpsdoiorggr herehttpsdoiorgcmb pleas subscrib cactusannouncehttpsgroupsgooglecomdforumcactusannounc lowvolum mail list may reach releas announc acknowledg cactu use mani differ algorithm individu code contribut princip joel armstrong glenn hickey mark diekhan benedict paten particularli grate yung h tsin nima norouzi contribut edg connect compon program code crucial construct cactu graph structur see tsinyh simpl edgeconnect compon algorithm theori comput system vol pp bob harri provid endless support lastzhttpsgithubcomlastzlastz pairwis blastlik genom align tool sneha goenka yatish turakhia segalignhttpsgithubcomgsnehasegalign gpuacceler version lastz yan gao et al abpoahttpsgithubcomyangaoabpoa heng li minigraphhttpsgithubcomlhminigraph minimaphttpsgithubcomlhminimap gfatoolshttpsgithubcomlhgfatool dnabrnnhttpsgithubcomlhdnarnn dani doerr gfaffixhttpsgithubcommarschalllabgfaffix use option clean pangenom graph vg team vghttpsgithubcomvgteamvg use process pangenom graph setup system requir regularli test ubuntu bionic limit degre mac os x use docker cactu requir python cactu use substanti resourc primates genom gigabas expect cactu use approxim cpuday comput per genom gb ram use peak requir scale roughli quadrat align two megabas bacteri genom take cpuhour gb ram note run even small evolvermamm exampl may need gb ram actual resourc requir much less individu job resourc estim base much larger align job refus run unless enough resourc meet estim import highli recommend one run cactu use toil grid enginelik batch system gridengin htcondor lsf slurm torqu cactu creat larg number small job overwhelm system workaround describ hererunningthestepbystepworkflowdirecltyintoil cluster larg comput node avail updat cactu version gpu enabl spawn far fewer job theori make less issu new cactu align individu speci without tree use cactu pangenom pipelinedocpangenomemd instal overview mani differ way instal run cactu docker imagedockerimag precompil binariesprecompiledbinari build sourcebuildfromsourc python instal docker binariespythoninstallwithdockerbinari docker imag cactu docker imag host quayhttpsquayiorepositorycomparativegenomicstoolkitcactu imag latest releas list releas pagehttpsgithubcomcomparativegenomicstoolkitcactusreleas command line run includ evolv mammal exampl releas wget httpsrawgithubusercontentcomcomparativegenomicstoolkitcactusmasterexamplesevolvermammalstxt docker run v pwddata rm quayiocomparativegenomicstoolkitcactusv cactu datajobstor dataevolvermammalstxt dataevolvermammalsh root mr binariesmod local precompil binari precompil binari found releas pagehttpsgithubcomcomparativegenomicstoolkitcactusreleas download click cactusbinvxxxtargz instal follow instruct bininstallmd link build sourc instal cactu python packag depend avoid problem conflict version depend system strongli recommend instal cactu insid python virtual environmenthttpsvirtualenvpypaioenst instal virtualenv command dont alreadi run python pip instal virtualenv set virtual environ directori cactus_env run python virtualenv p python cactus_env enter virtualenv run sourc cactus_envbinactiv alway exit virtualenv run deactiv instal cactu python clone submodul recurs github instal pip git clone httpsgithubcomcomparativegenomicstoolkitcactusgit recurs cd cactu python pip instal upgrad setuptool python pip instal upgrad r toilrequirementtxt python pip instal upgrad build cactu binari sever binari requir run cactu built follow compil time set overridden creat make includ file top level cactu directori cactusincludelocalmk cactu sever depend need instal system includ hdf hdf avail packag manag aptget instal libhdfdev manual instal sourc file hdf grouphttpswwwhdfgrouporg hdf configur enablecxx option youv instal nonstandard locat hc command path add includelocalmk export path hdf bin dirpath use dockerfiledockerfil guid see depend instal apt ubuntu top level cactu directori binari built make j nproc ad path export pathpwdbinpath order run cactu pangenom pipelinedocpangenomemd addit tool must instal buildtoolsdownloadpangenometool use hal python script halmafmppi add submodul directori pythonpath export pythonpathpwdsubmodulespythonpath python instal docker binari cactu setup use virtual environ previou sectionbuildfromsourc without compil binari use like happen automat run cactu without appropri binari path environ variabl docker imag automat pull run command need main use case run toil aw provision describ heredocrunninginawsmd singular binari use place docker binari binariesmod singular flag note must use singular singular singular version incompat cactu see issu httpsgithubcomcomparativegenomicstoolkitcactusissu issu httpsgithubcomcomparativegenomicstoolkitcactusissu binariesmod local flag use forc cactu run local binari default behavior found run run cactu basic format cactu jobstorepath seqfil outputh note altern way run includ stepbystep interfacerunningstepbystep cactu pangenom pipelinedocpangenomemd jobstorepath intermedi file well job metadata store must access worker system first test cactu new system cluster run anyth larg tri run small kb genom simul exampl examplesevolvermammalstxt take less hour run modern core system exampl even though small enough expos major problem cactu may setup command run cactu jobstor examplesevolvermammalstxt examplesevolvermammalsh root mr within hour modern comput halhttpsgithubcomcomparativegenomicstoolkith file relat simul mous rat genom seqfil input file input file call seqfil text file contain locat input sequenc well phylogenet tree tree use progress decompos align iter align sibl genom estim parent bottomup fashion polytomi tree allow though amount comput requir subalign rise quadrat degre polytomi cactu use predict branch length tree determin appropri pairwis align paramet allow close relat speci align quickli loss accuraci file format follow newick tree name path name path namen pathn option place begin name specifi assembl refer qualiti impli use outgroup subalign genom mark way genom assum refer qualiti star place namepath line insid tree tree must singl line leav must label label must uniqu ancestor may name left blank case ancestor final output automat label anc anc etc label must contain space branch length specifi assum line begin ignor sequenc path must point either fasta file directori contain fasta file sequenc path must contain space name path pair must line http etc url may use pleas ensur genom softmask repeatmask basic mask preprocess step ensur highli repetit element mask repeat librari incomplet genom arent properli mask still take ten time longer align mask hardmask total replac repeat stretch ns isnt necessari strongli discourag miss lot align exampl sequenc data progress align genom human chimp gorilla flag good assembl sinc orang isnt use outgroup speci humanchimpgorillaorang human datagenomeshumanhumanfa chimp datagenomeschimp gorilla datagenomesgorillagorillafa orang clusterhomedataorang run cluster cactu toil support mani batch system theori includ lsf slurm gridengin parasol torqu run cluster add batchsystem batchsystem eg batchsystem gridengin batch system need addit configur toil expos environ variableshttptoilreadthedocsioendevelopingworkflowsbatchsystemhtmlbatchsystemenivronmentalvari help import highli recommend one run cactu default mode use toil grid enginelik batch system gridengin htcondor lsf slurm torqu cactu creat larg number small job overwhelm system workaround describ hererunningthestepbystepworkflowdirecltyintoil cluster larg comput node avail must use instead updat cactu version gpu enabl spawn far fewer job theori make less issu run cloud cactu support run aw azur googl cloud platform use toil autosc featureshttpstoilreadthedocsioenlatestrunningcloudcloudhtml detail run aw check instructionsdocrunninginawsmd cloud similar run step step print list command run local break cactu smaller job practic develop debug manag larger workflow exampl break evolv mammal exampl three step preprocess blast multipl alig cactusprepar examplesevolvermammalstxt outdir stepsoutput outseqfil stepsoutputevovlermammalstxt outhal stepsoutputevolvermammalsh jobstor jobstor print sequenc command run align stepbystep block command within align run run parallel cactusprepar also use simplifi preprocess sequenc without decompos remain workflow cactusprepar examplesevolvermammalstxt outdir stepsoutput outseqfil stepsoutputevovlermammalstxt outhal stepsoutputevolvermammalsh jobstor jobstor preprocessonli cread wdl script run cromwel terra wdl option cactusprepar use gener bespok wdlhttpsgithubcomopenwdlwdlblobmasterversionsspecmd script run align input seqfil exampl run local cromwellhttpsgithubcombroadinstitutecromwel cactusprepar examplesevolvermammalstxt wdl evolverwdl wget httpsgithubcombroadinstitutecromwellreleasesdownloadcromwelljar javac jar cromwelljar run evolverwdl run terrahttpsterrabio use nolocalinput option make sure local file embed script also care must taken specifi minimum resourc requir cactusprepar examplesevolvermammalstxt wdl nolocalinput aligncor defaultmemori g evolver_terrawdl terra workspac menuhttpsappterrabioworkspac creat new workspac necessari button click workspac click data tab workspac menu use file link upload examplesevolvermammalstxt goggl cloud click workflow tab click button add workflow click link bottom right broad method repositori click creat new method button choos namespac name either upload past evolver_terrawdl creat click upload wdl valid use export workspac button link terra workspac use blank configur select option go back terra workspac otherwis workflow appear card terra workflow tab next time navig refresh run click workflow click input tab select evolvermammalstxt file attribut field taskcactus_prepar variableprep_seq_fil tick run workflow input defin file path save click run analysi evolv exampl input sequenc specifi public url sequenc specifi url seqfil must upload similar fashion evolvermammalstxt upload select exampl exampl set work mammalians genom align terra cactusprepar wdl mammalstxt nolocalinput preprocessbatchs aligndisk g halappenddisk g preprocessdisk g defaultdisk g defaultcor gpu gpucount defaultmemori g mammalswdl workflow fail whatev reason edit say increas job requir resum follow workflow tab click script link besid sourc go back firecloud page edit wdl script edit save new snapshot back terra workflow tab workflow refresh page select new snapshot snapshot menu click save button ensur use call cach tick run analysi resum workflow run stepbystep workflow direclti toil cactuspreparetoil share interfac cactusprepar except instead print command line wdl script run directli toil exampl use case within ucsc kubernet cluster like mani comput environ number job schedul limit run cactu directli use toil kubernet batch system swamp cluster comput broken hand step job creat step cromwellwdl method run cactuspreparetoil run highlevel toil workflow specifi batch system launch job command cactuspreprocess cactusblast cactusalign one job get schedul node run command singlemachin batch system exampl invoc kubernet cactuspreparetoil awsuswestjobstorenam examplesevolvermammalstxt binariesmod singular batchsystem kubernet realtimelog outhal sbucketnameouth defaultdisk g defaultmemori g defaultcor pangenom pipelin cactu pangenom pipelin describ heredocpangenomemd gpu acceler segalignhttpsgithubcomcomparativegenomicstoolkitsegalign gpuacceler version lastz use preprocess blast phase speed runtim consider provid right hardwar avail unlik lastz input sequenc need chunk run segalign also reduc number toil job substanti gpuenabl docker releaseshttpsgithubcomcomparativegenomicstoolkitcactusreleas segalign turn default requir extra option user otherwis possibl manual instal ithttpsgithubcomcomparativegenomicstoolkitsegaligndepend enabl cactu use gpu command line option one effect way ensur gpuenabl part workflow run gpu node terra cactusprepar gpu wdl see exampl mammals genom weve test segalign v gpu cpu core g ram pleas cite segalignhttpsdoiieeecomputersocietyorgsc use output cactu output align halhttpsgithubcomcomparativegenomicstoolkith format format repres align referencefre index way isnt readabl mani tool export maf natur usual referencebas use halmaf tool export align particular genom halmaf hal refgenom refer maf use align gener gene annotat assembl use compar annot toolkithttpsgithubcomcomparativegenomicstoolkitcomparativeannotationtoolkit also convert hal align pangenom graphhttpsgithubcomcomparativegenomicstoolkithalpangenomegraphexportgfaandvg halvg includ cactu docker imag binari releas pleas cite halhttpsdoiorgbioinformaticsbtt updat exist align cactu support increment updat exist align add remov updat genom process involv minor surgeri output hal file see documentdocupdatingalignmentsmd detail frequent ask question q im run maco use docker function get error docker docker error respons daemon mount deni go docker prefer file share tab doubleclick last entri pathtoexporteddirectori type varfold dont use button wont work resolv symlink ad reason docker vm requir explicitli list directori bindmount default temp directori maco varfold symlink directori alreadi list bindmount docker check list resolv symlink return error cactu pangenom pipelin introduct cactusreadmemd use phylogenet tree guid order progress creat multipl align heurist allow cactu scale linearli number input genom decomposi work one align per intern ancestr node tree guid tree fulli resolv binari two genom plu three outgroup align subproblem progress align guid tree make sens evolut input genom explain tree robust small error tree well small number nontreelik event ex incomplet lineag sort horizont genen transfer make suitabl align differ vertebr specieshttpsdoiorgsi treelik assumpt break consid align individu speci withinpopul genom align increasingli demand highqual assembl becom avail ex hpphttpshumanpangenomeorg given potenti better identifi repres structur variat tradit referencebas resequenc approach cactu pangenom pipelin adapt cactusreadmemd longer reli guid tree take advantag rel similar input sequenc use minim sketch determin initi anchor partial order align refin also provid option gener output standard pangenom graph format vghttpsgithubcomvgteamvg gfahttpsgithubcomgfaspecgfaspec addit usual hal work progress yet publish overview interfac similar default util cactusreadmemd depend seqfil map genom name fasta locationsseqfiletheinputfil main differ tree need provid top seqfil tree present must star tree leav connect one root also minigraphhttpsgithubcomlhminigraph gfa requir construct run minigraph xgg strongli suggest requir use fasta file seqfil input note first sequenc pass minigraph consid refer path acycl graph output follow two cactu command run produc align pangenom graph minigraph gfa fasta input cactusgraphmap align input fasta sequenc minigraph cactusalign pangenom pafinput outvg run cactu pangenom mode produc hal align vg graph minigraph align pipelin run without minigraph gfa use cactusrefmap requir identifi one input refer instead cactusgraphmap cost sensit lastz preprocess cactuspreprocess strongli recommend progress cactu pipelin necessari mask centromer new cactuspreprocess alphamask use case cactusalign yet scale whole human genom work around decompos chromosom describ exampl belowhprcgraphconstruct import built sourc must run buildtoolsdownloadpangenometool order instal extra binari depend requir pangenom pipelin evolv simul exampl small exampl along line cactuss evolvermamm test begin construct minigraph download fasta sequenc awk print examplesevolverprimatestxt wget done make minigraph human refer minigraph xgg simhumanchr simchimpchr simgorillachr simorangchr primatesgfa align sequenc back graph note outfasta option requir use updat seqfil entri minigraph node sequenc cactusgraphmap jobstor examplesevolverprimatestxt primatesgfa primatespaf outputfasta primatesgfafa realtimelog creat cactu align seqfil paf export output vg cactusalign jobstor examplesevolverprimatestxt primatespaf primatesh pangenom pafinput realtimelog outvg refer simchimp hprc chromosomebychromosom graph construct scripthttpsgithubcomglennhickeypgstuffblobmaincactuspangenomesh use make year minigraphcactu pangenom graph aw cactuspangenomesh j awsuswestglennhickeyjobstor hprcyearfgfixhgbrnnleaveoutseqfil ftpftpdfciharvardedupubhliminigraphhprcfggrchfggfagz vgksvgambwgcactusgrchfgaug n grchfgmcaug r grch svgksvgambwgfastahsddecoysonlyvg g f c k stderrauglog devnul step describ bit detail input todo replac publicfac link avail seqfil contain link gzip fasta file haplotyp aug bucket hg alt chmhttpssamazonawscomnanoporehumanwgschmassemblieschmdraft_vfastagz minigraph gfa grchfreezegfagz startup make node aw toil launchclust leadernodetyp tmedium leaderstorag set cactu describ hererunninginawsmd preprocess hour order limit spuriou align graph complex difficult region recommend mask region getgo abund caution use two method detect region first align sequenc creat paf cactusgraphmap jobstor seqfiletxt minigraph gfa sbucketgrchfreezeorigpaf realtimelog outputfasta sbucketgrchfreezegfafa logfil graphmaplog batchsystem meso provision aw nodetyp rxlarg maxnod defaultpreempt betainertia targettim next combin coverag gap paf dnabrnn produc final mask use kb length threshold default cactu config note need creat seqfilemaskedtxt seqfil specifi locat mask fasta sequenc cactuspreprocess jobstor seqfiletxt seqfilemaskedtxt realtimelog logfil preprocesslog batchsystem meso provision aw nodetyp rxlarg maxnod defaultpreempt betainertia targettim maskfil sbucketgrchfreezeorigpaf maskalpha brnncore note instead softmask sequenc leav unalign clip entir use clipalpha instead maskalpha map contig minigraph hour use cactusgraphmap map produc paf file pairwis align cactu build much faster time ignor mask sequenc futur version cactu clean interfac order make second call unnecessari cactusgraphmap jobstor seqfilemaskedtxt minigraph gfa sbucketgrchfreezepaf maskfilt realtimelog logfil graphmaplog batchsystem meso provision aw defaultpreempt nodetyp rxlarg maxnod outputfasta sbucketgrchfreezegfafa split sequenc refer chromosom hour cactu hasnt yet test entir input set meantim split chromosom make graph output written bucket specifi outdir separ cactu project written chromosom refcontig decomposit determin map input contig map refer chromosom align paf input contig assign confid refer chromosom flag _ambiguous_ current import use refer hg order filter ambigu filter cactusgraphmapsplit jobstor seqfilemaskedtxt minigraph gfa sbucketgrchfreezepaf refcontig seq echo x echo echo echo chri done refer hg maskfilt outdir sbucketchrom realtimelog logfil graphmapsplitlog batchsystem meso provision aw defaultpreempt betainertia targettim nodetyp rxlarg maxnod make pangenom graph chromosom hour begin download chromfil seqfil creat must input local folder pip instal awscli aw sync sbucketchromsseqfil seqfil aw cp sbucketchromschromfiletxt use cactusalignbatch align chromosom aw instanc aligncoresoverrid option use ensur larger chromosom get run bigger instanc cactusalignbatch jobstor chromfiletxt sbucketalignbatch aligncor alignopt pafinput pangenom outvg barmaskfilt realtimelog refer grch batchsystem meso provision aw defaultpreempt nodetyp rxlarg nodestorag maxnod betainertia targettim logfil alignbatchlog realtimelog combin output singl graph hour chromosom graph merg cactusgraphmapjoin cactusgraphmapjoin jobstor outdir sbucketjoin outnam grchmc refer grch realtimelog renam chmchm cliplength wlinesep vg list vg path output hal list hal path output nodetyp rxlargenodestorag maxnod logfil alignbatchlog realtimelog run cactu aw cactu support run aw autosc cluster use toilhttpstoilreadthedocsioenlatest check toil doc run cloudhttpstoilreadthedocsioenlatestrunningcloudcloudhtml full stori here short walkthrough run aw aw setup fresh aw account havent use ec youll need go initi setup keypair make sure aw keypair readi documenthttpsdocsawsamazoncomawseclatestuserguideeckeypairshtml tell creat aw keypair allow log instanc creat access key youll also need aw access credenti set awscredenti typic aw environ variabl aws_access_key_id aws_secret_access_key awss document set access keyhttpsdocsawsamazoncomiamlatestuserguideid_credentials_accesskeyshtml guidehttpsdocsawsamazoncomclilatestuserguideclichapgettingstartedhtml help set awscredenti instanc limit default aw restrict run small instanc time new aw account your sure limit probabl need increas see guidehttpsdocsawsamazoncomawseclatestuserguideecresourcelimitshtml inform check exist limit increas necessari aw support take one two busi day process request default basic support packag look belowestimatingthemaximumnumberofworkerinstancesyoullne tip mani instanc may need specif align keep mind spotmarket instanc limit separ ondemand nonpreempt instanc limit youll probabl want request slightli higher limit think need case want tweak number instanc later instal toil local machin follow step readm make sure instal toil extra aw support git clone httpsgithubcomcomparativegenomicstoolkitcactusgit cd cactu virtualenv p python venv sourc venvbinactiv pip instal r toilrequirementtxt estim maximum number worker instanc youll need cluster automat scale youll want set maximum number node scaler doesnt get overli aggress wast money go aw limit typic use cxlarg spot market job rxlarg ondemand databas job rough estim typic use maximum type round n mammals genom gb n cxlarg spot market n rxlarg ondemand n birdsiz genom gb n cxlarg spot market n rxlarg ondemand n nematodes genom mb n cxlarg spot market n rxlarg ondemand anyth less mb comput requir small may better run singl machin use autosc cluster launch leader instanc make sure aw keypair activ sshagent unless use exist ssh key sshagent isnt start oper system may run eval sshagent start activ aw keypair session run sshadd pathtoyour_aws_ssh_keypair launch leader like toil launchclust z uswestb clusternam keypairnam yourkeypairnam leadernodetyp tmedium transfer local input data use url seqfil need get actual data leader somehow use http specifi fasta locat input file rsync data like toil rsyncclust z uswestb mycactusclust avp seqfiletxt inputfa inputfa log leader set cluster cactu instal log leader run toil sshcluster z uswestb clusternam get prompt like rootip indic your leader instal cactu virtual environ leader apt updat apt instal git tmux virtualenv systemsitepackag p python venv sourc venvbinactiv git clone httpsgithubcomcomparativegenomicstoolkitcactusgit recurs cd cactu pip instal upgrad cd run align leader key paramet youll care chang besid usual cactu paramet autosc paramet nodetyp minnod maxnod jobstor locat awsregionjobstorenam must use aw jobstor cloud jobstor though other may incur data egress charg directori jobstor share filesystem cluster set region whatev region your run leader jobstorenam must global uniqu nodetyp option let specifi list instanc want well price your will pay spot instanc exampl cxlarg say want cxlarg instanc spot market will pay cent hour valu like rxlarg indic also want ondemand rxlarg instanc pay exactli ondemand price usual substanti higher maxnod option let specifi list contain maximum number node type use given time order nodetyp minnod option probabl left unless realli know your your substanti difficulti autoscal cactu nodetyp cxlargerxlarg minnod maxnod provision aw batchsystem meso metric awsuswestjobstorenam seqfiletxt outputh take youll want run insid someth preserv session like tmux screen command doesnt termin disconnect restart failur cancel run fail reason start left run cactu usual option restart shut leader align done leader still activ cost littl bit money everi day make sure get rid your done toil destroyclust z uswestb yourclusternam updat cactu align hierarch structur align cactu produc add remov updat genom exist align without recomput entir align scratch document briefli outlin step requir ensur hal toolkithttpsgithubcomcomparativegenomicstoolkitcactu instal come alignmentmodif tool well use import back align file attempt oper someth goe wrong file may complet unrecover delet genom delet genom easi run sh halremovegenom hal file genom delet parent ancestr genom genom delet still hang around sinc need establish align relationship genom parent subtre supertre leaf genom delet though reconstruct genom may delet children alreadi delet sinc case would leaf genom hal file remain size sinc genom data offset easili shift need smaller hal file check document hrepack command use halextract tool hal toolkit bit slower hrepack ad new genom ad new genom fairli complic first thing determin genom ad speci tree split exist branch addtobranch ad new genom child exist ancestr genom addtonod two way allow maintain whatev speci tree shape want ad genom node slightli easier involv creat one align rather two may expens sinc align involv genom addtobranch case check handi diagram show differ way genom ad differ way ad genomeaddgenomefiggithubpng ad branch split branch involv creat two align involv creat two separ cactu align one youll start bottom half sinc your infer new ancestor here might look like genom genom etc reflect etc diagram name fasta locat reflect genom tree bottom_halftxt genom genomegenom genomegenom genom genomefa genom genomefa run align normal ie cactu jobstor bottom_halftxt bottom_halfh root genom option root genom option includ want genom outgroup inform help us infer genom accur that complet work top half first youll need extract fasta file genom infer halfasta bottom_halfh genom genomefa creat file look someth like fill whatev make sens tree top_halftxt genom genomegenom genom genomefa genom genomefa genom genomefa use run cactu creat top_halfh modifi hal file ensur youv back haladdtobranch origin align hal file bottom_halfh top_halfh genom genom genom genom length genomegenom branch length genomegenom branch isnt exactli obviou mean behind specifi genom orient process show genom actual need updat insert place branch length dont impact align stage impact newick tree hal display ad node ad genom new child exist ancestor requir creat singl align though align comput expens usual sinc involv genom addtobranch case follow exampl sequenc file look someth like name path modifi suit specif situat add_to_nodetxt genom genom genomegenom genom genomefa genom genomefa run align would normal creat add_to_nodeh run halreplacegenom alignment_to_add_toh bottomalignmentfil add_to_nodeh topalignmentfil alignment_to_add_toh genom alignment_to_add_toh contain new genom replac genom genom replac exampl updat assembl version remov follow addtonod procedur add new version back child parent valid file good idea run valid result file make sure oper went ok run sh halvalid genom genom modifi hal file doesnt rais error good go rais error pleas rais issu hal github pagehttpsgithubcomcomparativegenomicstoolkith