pencil code pencil code move githubhttpsgithubcompencilcodepencilcod april previous host googl codehttpscodegooglecomppencilcod order checkout code subversionhttpssubversionapacheorg use command sh svn checkout httpsgithubcompencilcodepencilcodetrunk pencilcod usernam githubusernam githubusernam github usernam get start run one sampl sh unix cd pencilcod unix sourc sourcemecsh sourcemesh unix cd samplesconvslab unix mkdir data set symbol link compil code sh unix pc_setupsrc unix pc_build f pathtoconfigfileconf creat initi condit run code sh unix pc_start f pathtoconfigfileconf unix pc_run f pathtoconfigfileconf see pencilcodeconfighostsconf sampl config file detail see manual doc directori also avail herehttppencilcodenorditaorg use bash want sourc sourcemesh session insert follow bashrc andor bash_profil sh export pencil_homehomepencilcod wherev code _sourceme_quiet pencil_homesourcemesh unset _sourceme_quiet use csh insert follow cshrc sh setenv pencil_hom homepencilcod wherev code sourc pencil_homesourcemecsh document new document webpag creat goal gather document togeth creat autodocument code pencil code documentationhttpspencilcodereadthedocsioenlatestindexhtml manualmanu main sourc inform also quick startquick_start help get start inform python pencil codepythonforpencil python code stylepythoncodingstyl found wikiwiki updat commun provid newsletternewslett talk use pencil code offic hour everi second friday month cet via zoom may also want inspect activ pencil code steer committeepcsc pleas contact idea pencil code user meetingmeet held everi year meet organ switzerland jennif schober onlin pencil code user meet httpswwwepflchlabslastromeetingspcum see scientif usag pencil codecit paper use discuss code list contributor around peopl contribut variou extent nearli year pencil code histori current list contributorscontributor show tempor checkin activ stay connect code variou host chang nordita googl code github sinc addit contributor also list manualmanu contribut pencil code chang code make sure autotest still run write access check chang make sure fix possibl problem emerg traviscicomtravi well minut hourli daili autotestsautotest read access fork repositori use pull request contribut code conduct pencil code commun adher contributor coven code conductconduct pleas familiar detail licens pencil code gnu public licens agreementlicens travi httpswwwtraviscicomgithubpencilcodepencilcod autotest httppencilcodenorditaorgtestsphp conduct httpsgithubcompencilcodepencilcodeblobmasterlicensecode_of_conductmd manual httpsgithubcompencilcodewebsiterawmasterdocmanualpdf quick_start httpsgithubcompencilcodewebsiterawmasterdocquick_startpdf licens httpsgithubcompencilcodepencilcodeblobmasterlicensegnu_public_licensetxt contributor httpsgithubcompencilcodepencilcodegraphscontributor wiki httpsgithubcompencilcodepencilcodewiki pythoncodingstyl httpsgithubcompencilcodepencilcodewikipythoncodingstyl pythonforpencil httpsgithubcompencilcodepencilcodewikipythonforpencil newslett httpwwwnorditaorgbrandenbpencilcodenewslett citat httpsgithubcompencilcodewebsiterawmasterdoccitationspdf pcsc httpswwwnorditaorgbrandenbpencilcodepcsc meet httppencilcodenorditaorgmeetingsphp julia modul pencil code author daniel carrera danielcastrolus date last modifi juli introduct julia highlevel highperform dynam program languag technic comput syntax familiar user technic comput environ obtain julia httpjulialangorg use ubuntudebian instal aptget instal julia document julia modul pencil code modul contain conveni function postprocess data file pencil code use modul add juliarcjl julia find modul pushload_path envpencil_hom julia point load pencil modul ubuntu julia start julia interpret julia use pencil load modul note present time also need add push line top standalon program plot graphic julia sever plot packag one like pyplothttpsgithubcomstevengjpyplotjl use python matplotlibhttpmatplotliborgindexhtml librari instal pyplot run follow ubuntu sudo aptget instal pythonmatplotlib ubuntu julia julia pkgaddpyplot brief pyplot tutori python julia use pyplot julia x linspacepi julia sinx cosx julia plotx color linewidth linestyl julia titlea sinusoid modul sinusoid save figur png julia savefigmyfigurepng latex label titl julia titlelplot gamma_x l latex colour mesh plot grid julia one col vector x row vector julia r julia pcolormeshr julia axi xmin xmax ymin ymax julia savefigcolmeshpng plot julia surfr julia meshr pencilplot modul provid color map call densiti may use plot densiti variabl like rhopmxz pencilplot load pyplot exampl usag ubuntu cd mysimulationdir ubuntu julia julia use pencil julia use pencilplot julia rhopmxz read_yaveritrhopmxz julia axi pencilplot defin densiti color map julia pcolormeshrhopmxz cmapcolormapdens julia savefigrhopmxzpng pencil_homepythontest test pencil code python modul feel better refactor python code sh pencil_homepythonteststestpythonmodulespi test best run _proboscis_httpspythonhostedorgprobosci test runner sh pip instal probosci fall back minim mockup implement _proboscis_ necessari main reason use _probioscis_ test discoveri decor oppos standard practic disov name pythonstub stub file provid type hint extern modul use sh export mypypathpencil_homepythonstub see mypi docshttpsmypyreadthedocsioenstablestubshtml helic mhd turbul maintain axel brandenburg brandenbnorditadotorg ad jun statu succe recommend resolut xx nueta fine comparison higher resolut run see brandenburg apj except forc wavenumb kf use forc function work preselect wavevector comput pencil_homesampleshelicalmhdturbidlgenerate_kvectorspro comment helic mhd turbul run time unit larg scale magnet field develop initi random magnet field initaa set link httpswwwnorditaorgbrandenbprojectslshelicityspec httppencilcodenorditaorgsamplesturbulencehelicalmhdturbproc refer brandenburg invers cascad nonlinear alphaeffect simul isotrop helic hydromagnet turbul astrophi j arxivhttparxivorgabsastroph adshttpesoadsesoorgcgibinnphbib_querybibcodeapjb candelaresi brandenburg kinet helic need drive largescal dynamo phi rev e arxivhttpsarxivorgab adshttpadsabsharvardeduabsphrvedc gravit wave switch beltrami field maintain axel brandenburg brandenbnorditadotorg ad jun statu succe recommend resolut xx nueta fine short time longer run one put nueta see sever oscil one step ussteppt one processor nl laptop depend output comment gravit wave posit circularli polar therefor hel_gwsgw hel_gwhgwh eem amplitud eegwpipi see ref hrmspipi see ref spectra denot spec_gw s_hdotkt spec_gwh s_hkt amplitud pi time step fix accuraci reason ie cdtdx base stabil alon timestep could time longer altern use specialspecialgravitational_waves_htxk solv gw equatin exactli link httpswwwnorditaorgbrandenbprojectsgw refer roper pol brandenburg kahniashvili kosowski mandal timestep constraint solv gravit wave equat sourc hydromagnet turbul geophi astrophi fluid dyn submit arxivv titl pencil code modular mpi code partial differenti equat particl multipurpos multiusermaintain pencil code use develop author defin pencil code collabor half current paper acknowledg code other pick code public sinc tag fortran fluid dynam magnetohydrodynam python idl astrophys radiat inerti particl combust author name pencil code collabor affili name axel brandenburg affili orcid x name ander johansen affili orcid name philipp bourdin affili orcid x name wolfgang dobler affili name wladimir lyra affili orcid name matthia rheinhardt affili name sven bingert affili orcid name nil erland l haugen affili orcid name antoni mee affili name frederick gent affili orcid name natalia babkovskaia affili name chaochin yang affili orcid name tobia heinemann affili orcid name bori dintran affili name dhrubaditya mitra affili orcid name simon candelaresi affili orcid name jörn warneck affili orcid name petri j käpylä affili orcid name andrea schreiber affili name piyali chatterje affili orcid name maarit j käpylä affili orcid name xiangyu li affili orcid name jona krüger affili orcid name jørgen r aarn affili orcid name graem r sarson affili orcid name jeffrey oishi affili orcid name jennif schober affili orcid name raphaël plasson affili orcid name christer sandin affili orcid name ewa karchniwi affili orcid name luiz felipp rodrigu affili orcid name alexand hubbard affili name gustavo guerrero affili orcid name andrew snodin affili name illa r losada affili orcid name johann pekkilä affili orcid name chengeng qian affili orcid affili name nordita kth royal institut technolog stockholm univers sweden index name depart astronomi stockholm univers sweden index name mcwilliam center cosmolog depart physic carnegi mellon univers pa usa index name globe institut univers copenhagen denmark index name space research institut graz austria index name institut physic univers graz graz austria index name bruker potsdam germani index name new mexico state univers depart astronomi la cruce nm usa index name astroinformat depart comput scienc aalto univers finland index name gesellschaft für wissenschaftlich datenverarbeitung mbh göttingen germani index name sintef energi research trondheim norway index name norwegian univers scienc technolog norway index name bank america merril lynch london uk index name school mathemat statist physic newcastl univers uk index name current affili index name univers nevada la vega usa index name niel bohr intern academi denmark index name cine montpelli franc index name school mathemat statist univers glasgow uk index name max planck institut solar system research germani index name institut astrophys univers götting germani index name indian institut astrophys bengaluru india index name depart physic astronomi bate colleg usa index name laboratoir dastrophysiqu epfl sauverni switzerland index name avignon université franc index name institut thermal technolog silesian univers technolog poland index name radboud univers netherland index name depart astrophys american museum natur histori ny usa index name physic depart universidad feder de mina gerai belo horizont brazil index name state key laboratori explos scienc technolog beij institut technolog china index date septemb bibliographi paperbib summari pencil code highli modular physicsori simul code adapt wide rang applic primarili design solv partial differenti equat pde compress hydrodynam lot addon rang astrophys magnetohydrodynam mhd asclsoftb meteorolog cloud microphys jamesl engin applic combust jcophb nevertheless framework gener also appli situat relat hydrodynam even pde exampl messag pass interfac inputoutput strategi code use code also evolv lagrangian inerti noninerti particl coagul condens well interact fluid relat modul also adapt perform ray trace solv eikon equat code use cartesian cylindr spheric geometri extens possibl one choos differ time step scheme differ spatial deriv oper highord first second deriv use deal weakli compress turbul flow also differ diffus oper allow direct numer simul dn variou type largeeddi simul le highlevel function idea rang avail modul obtain inspect exampl pencilcodesampl low resolut version relat applic publish literatur run directori actual product run publish zenodo list method paper describ variou applic test coagul condens turbul aaj jamesl radi transfer aah aaab gapfdb chiral magnet effect relativist plasma apj primordi gravit wave gapfdr model homochir origin life ijasbb olebb model pattern photochem system chemeurj gaseou combust deton jcophb zhang_etal_comb cnfa burn particl resolv unresolv gapfdq flow around immers solid object ijcfda gapfda jfma testfield method turbul mhd transport aaar phstab aaaw meanfield mhd sophk aaaj spheric shell dynamo convect apjm gapfdk bori correct coron physic gapfdc thermal instabl mix apji implicit solver temperatur aag dustga dynam mutual drag interact apji apjsi boundari condit solar atmospher hdf format gapfdb statement need purpos softwar code easili adapt tool solv standard mhd equat well other testfield equat signific amount runtim diagnost well python idl librari postprocess avail among current develop checkin permiss current owner give other checkin permiss develop done commit user access latest develop version ask join circl develop contact one owner everi revis github verifi test traviscicom current version also automat test hourli test daili test continu progress code driven research individu develop develop interact develop user promot annual user meet sinc newslett sinc sinc steer committe five elect owner review progress take decis gener concern pencil code commun ongo research use pencil code current research includ topic stellar physic interstellar interclust medium earli univers well meteorolog engin smallscal dynamo reconnect primordi magnet field decay turbul gravit wave turbul sourc planet format inerti particl accret disc shear flow coron heat coron mass eject helic dynamo helic turbul catastroph quench helioseismolog strongli stratifi mhd turbul neg effect magnet pressur instabl convect cartesian domain global convect dynamo simul turbul transport testfield method hydrodynam mhd instabl turbul chiral mhd turbul gaseou solid combust particl cluster deposit solid wall front propag radiat ioniz juli paper publish acknowledg use pencil code zenodo key refer pencil code uniqu two way high level flexibl modular way organ open sourc distribut ownership open develop version softwar address relat need includ athena cobold enzo muram nirvana stagger zeu snoopi sever le code also sever engin dn code sandiadimension sd highord compress code optim combust open sourc howev anoth exampl spectr taskbas discontinu galerkin code relativist astrophys kidder_ addit framework like dedalu cactu allow one program equat symbol form recent research area made use pencil code evidenc aforement document list paper zenodo includ flow around immers solid object jfma particl cluster superson subson turbul mnrasm karchniwy_etal_ cloud microphys jamesl planet planetesim format naturj apjo aal global simul debri disk naturl stratifi shear box simul also dust apjo apj apji supernovadriven turbul mnrasg solar dynamo sunspot apjb apjh solar corona activ region aaab aaab phrvljc fulli convect star box apjd dynamo wave spheric shell convect apjlk apjlw convect kramer opac law apjk aak gapfdk mhd turbul cascad phrveah turbul diffus quench test field apjb apjk acknowledg acknowledg contribut submitt support fund agenc particular mention erc advanc grant astrophys dynamo swedish research council grant nation scienc foundat grant aag frinatek grant research council norway serc grant bottleneck particl growth turbul aerosol knut alic wallenberg foundat dnr kaw resolv centr excel grant number research project gaspro financ research council norway european research council erc european union horizon research innov programm project unisdyn grant agreement deutsch forschungsgemeinschaft dfg heisenberg programm grant ka refer pencil code implement note directori contain implement note special solver algorithm boundari condit etc note tend special document manual alway definit inform realli done code necessari check actual sourc code comment therein remov sampl hyper check nil pencil code document admonit welcom new homepag pencil code document explor page hierarchi sidebar get start refcontribut documentationcontribut document pencil code primarili design deal weakli compress turbul flow use highord first second deriv achiev good parallel use explicit oppos compact finit differ typic scientif target includ driven mhd turbul period box convect slab nonperiod upper lower boundari convect star embed fulli nonperiod box accret disc turbul shear sheet approxim selfgrav nonloc radiat transfer dust particl evolut feedback ga etc rang artifici viscos diffus scheme invok deal superson flow direct simul regular viscos diffus use pleas find detail websit httppencilcodenorditaorg_ toctre caption introduct maxdepth introgetting_start introusingrst introlink introdiscuss toctre caption user manual maxdepth quick guid manualsquickguid toctre caption tutori maxdepth tutorialspenciltutpencil tutorialspythontutpython tutorialsmathematicatutmathematica toctre caption code document maxdepth tocmodpython tocmodidl tocmodfortran discuss group best way keep uptod code updat join discussionwork group pencil code commit httpsgroupsgooglecomugpencilcodecommit pencil code discuss httpsgroupsgooglecomugpencilcodediscuss python pencil httpsgroupsgooglecomugpencilcodepython document pencil code httpsgroupsgooglecomgpencilcodedoc get start welcom pencil code document page help get start tip use contribut space use document purpos space bring togeth pencil code document unifi format organ logic hierarch structur ultim goal make process locat read document easi enjoy possibl contribut document order contribut document need clone github repositori contain sourc document edit necessari file push chang back repositori document built deploy automat use readthedoc platform follow instruct ubuntu system bit clone repositori go directori type termin code bash git clone gitgithubcompencilcodepencilcodegit github usernam my_github_nam like submit chang use code bash git clone httpmy_github_namegithubcompencilcodepencilcodegit git config global credentialhelp cach timeout git config global branchautosetuprebas alway clone repositori access document file directori code bash cd pencilcodedocreadthedoc build local fast follow instruct build restructuredtext document ie manual autogener code document build fast second make sure sphinx instal sphinxbuild path make sure follow python script instal eg pip sphinxrtdthem sphinxcontribimag sphinxfortran sphinxgit build code bash fast build autogener code document make fast html file built _buildhtml build local slow follow instruct build complet document includ autogener code document build slow sever minut warn sphinx import entir pencil packag order gener document right pencil python modul come make sure sphinx instal sphinxbuild path make sure follow python script instal eg pip sphinxrtdthem sphinxcontribimag sphinxj astropi numpi scipi updat local copi repositori order freshli autogener document build code bash git pull rebas build code bash slow build autogener code document make html html file built _buildhtml tip python document numpi style pencil python document follow numpi style docstr convent thorough exampl pleas see napoleon extens websit httpssphinxcontribnapoleonreadthedocsioenlatestexample_numpyhtml_ tip make sure sphinx success gener document go python directori code bash directori contain confpi cd python python tri import pencil packag import succe like sphinx also succeed tip idl document yet avail tip fortran document yet avail pencil code link essenti project link project homepag httppencilcodenorditaorg code repositori httpsgithubcompencilcodepencilcod wiki httpsgithubcompencilcodepencilcodewiki use restructuredtext document avail page written restructuredtext rest markup languag rest rest simpl markup languag plain text file use semant mark part document eg section head bold text list sourc code etc process uniform render sphinx document gener case achiev two goal process rest document render html pdf autogener code document python idl fortran project ie extract format list class function etc descript base comment found sourc code rest httpsdocutilssourceforgeiorsthtml_ sphinx httpswwwsphinxdocorgenmastercontentshtml_ offici document page exhaust perhap recommend beginn necessarili contain lot inform relev document page suggest start httpsrestsphinxmemoreadthedocsioenlatestresthtml quick refer rest sphinx specif creat cover small subset featur like use daili basi convert exist document util pandoc use convert varieti format includ microsoft word doc docx libr offic odt latex html xml els fail even pdf rest syntax command code bash pandoc inputdoc outputrst inputdoc input document format rst style guidelin head rest head mark underlin charact code rst head pencil code follow marker use order code rst titl page section subsect subsubsect use level head would prevent optim render tabl content lefthand sidebar structur document use rubric direct use alreadi use higherlevel head eg main land page admonit use admonit direct greatli enhanc user experi present tip warn import note etc way stand rest document follow admonit direct avail pencil code attent caution danger error hint import note tip todo warn previou valu use follow code rst note note produc follow output note note keep mind overus admonit detract document flow much consequ worsen user experi use sparingli imag three differ direct allow addit imag document pleas see guid httpsdocutilssourceforgeiodocsrefrstdirectiveshtmlimages_ full descript simplest one imag direct code rst imag picsmyimagepng accept option direct width altern text screen reader code rst imag picsmyimagepng width height px scale alt altern text align right figur direct support option imag direct allow ad caption figur code rst figur picsmyimagepng scale alt flow pattern sun caption figur simpl paragraph legend figur includ tabl symbol mean imag arrowpng magnet field line imag linespng veloc line must blank line caption paragraph legend specifi legend without caption use empti comment place caption thumbnail direct allow expand imag click code rst thumbnail picsmyimagepng width px video add short movi document use video direct video work insid html video tag use ie mp webm ogg follow step add video add video video_url direct rst file want video render necessari specifi option height width etc want look document extens httpsgithubcomsphinxcontribvideo recommend way ad video sinc commit ingdoc git repositori rather store separ server howev absolut need store video document follow step instead copi video file directori _static necessari moment sinc found way yet sphinx deploy file otherwis add video relative_path_to_video direct rst file want video render path rel rst file probabl look similar _staticvideomp fullnam escap underlin automodul fullnam rubric _revis histori git_changelog fullnam fullnam attribut rubric _list attribut autosummari item attribut item endfor endif except rubric _list except autosummari item except item endfor endif function rubric _list function autosummari item function item endfor endif class rubric _list class autosummari item class item endfor endif block attribut attribut rubric _attribut item attribut autodata item endfor endif endblock block except except rubric _except item except autoexcept item endfor endif endblock block function function rubric _function item function autofunct item endfor endif endblock block class class rubric _class item class autoclass item specialmemb __init__ showinherit member undocmemb endfor endif endblock block modul modul rubric modul autosummari toctre templat custommoduletemplaterst recurs item modul item endfor endif endblock quick start guid requir softwar linux fortran c compil need compil code compil belong distribut packag version eg gnu gcc intel maco x mac first need instal xcode websit httpdeveloperapplecom regist member altern easi instal gfortran binari packag found websit httpgccgnuorgwikigfortranbinari download archiv use instal contain therein instal usrlocalgfortran symbol link usrlocalbingfortran might necessari add follow line cshrcfile home folder setenv path usrlocalbinpath download pencil code pencil code open sourc code written mainli fortran avail gpl gener inform found offici homepag httppencilcodenorditaorg latest version code download svn directori want put code type svn checkout httpsgithubcompencilcodepencilcodetrunk pencilcod altern may also use git git clone httpsgithubcompencilcodepencilcodegit detail download option found httppencilcodenorditaorgdownloadphp download pencilcod directori contain sever subdirectori doc may build latest manual pdf issu command make insid directori sampl contain mani sampl problem config configur file src actual sourc code bin lib supplement script idl python julia etc data process divers languag configur shell environ need load environ variabl shell pleas chang freshli download directori cd pencilcod probabl use shcompat shell like linux default shell bash type sourcemesh cshcompat shell like tcsh use altern sourc sourcemecsh first simul run creat new rundirectori creat rundirectori clone input configur file one sampl fit best get start quickli pencilcodesamplesdtestsjeansx mkdir p datamyusermyrunsrc cd datamyusermyrun cp pencil_homesamplesdtestsjeansxin cp pencil_homesamplesdtestsjeansxsrcloc src run put outsid home directori expect gener lot data tight storag quota home link sourc one command set need symbol link origin pencil code directori pc_setupsrc makefil paramet two basic configur file defin simul setup srcmakefileloc contain list modul use srccparamloc defin grid size number processor use take quick look file singleprocessor exampl srcmakefileloc use modul one processor would look like mpicommnompicomm modul also novari switch function srccparamloc number processor need set accordingli integ paramet ncpusnprocxnprocynproczncpusnprocxnproci integ paramet nxgridnygridnzgrid multiprocessor like use mpi multiprocessor simul sure mpi librari instal chang srcmakefileloc use mpi mpicommmpicomm chang ncpu set srccparamloc think want distribut volum processor usual grid point xdirect take advantag simd processor unit compil use configur file includ _mpi suffix see compil order compil code use predefin configur file correspond compil packag eg default compil gfortran togeth gcc code built default option use mpi issu command pc_build altern multiprocessor run still use default gnugcc compil pc_build f gnugcc_mpi use differ compil option prefer use differ compil packag eg mpi support use ifort may tri pc_build f intel pc_build f intel_mpi pc_build f cray pc_build f cray_mpi predefin configur found directori pencilcodeconfigcompilersconf chang compil option option cours also creat configur file subdirectori pencilcodeconfighost default pc_build look config file base hostid may see command pc_build may add modifi configur filenam hostidconf chang compil option accord pencil code manual good host configur exampl may clone adapt accord need pencilcodeconfighostsiwfhostandromedagnu_linuxlinuxconf run initi condit set startin paramet main simul run found runin printin choos quantiti written file datatime_seriesdat sure creat empti data directori mkdir data time run code pc_run everyth work well output contain line startx complet success initi everyth success would start run print consol quantiti specifi printin instanc ittdtrhomurmsuxptuyptuzpt e e e e e e e e e e e e e e e e e e end simul finish xxxx timestep wall clock timetimestepmeshpoint microsec empti file call complet appear run directori run finish work one sampl ident setup new work directori verifi correct result check refer data deliv sampl diff referenceout datatime_seriesdat welcom world pencil code troubleshoot compil fail pleas tri follow without option _mpi mpi run pc_build cleanal pc_build f gnugcc_mpi step still fail may report mail list httppencilcodenorditaorgcontactphp report pleas state exact point quick start guid fail includ full error messag sure precis follow nonopt instruct begin addit pleas report oper system linuxbas shell use bash also pleas give full output command bash cd pathtoyourpencilcod sourc sourcemesh echo pencil_hom ls la pencil_homebin cd samplesdtestsjeansx gcc version gfortran version pc_build cleanal pc_build plan use mpi pleas also provid full output mpicc version mpif version mpiexec version data postprocess idl visual option guibas visual recommend quick inspect simpl approach visual cartesian grid setup run pencil code gui select file physic quantiti want see idl r pc_gui miss physic quantiti might want extend two idl routin pc_get_quant pc_check_quant anyth implement avail gui commandlin base process big data pleas check document insid file pencilcodeidlreadpc_read_var_rawpro effici read raw data pencilcodeidlreadpc_read_subvol_rawpro read subvolum pencilcodeidlreadpc_read_slice_rawpro read slice snapshot pencilcodeidlpc_get_quantitypro comput physic quantiti raw data pencilcodeidlpc_check_quantitiespro depend check physic quantiti order read data effici comput quantiti physic unit commandlin base data analysi may ineffici sever idlprocedur written see pencilcodeidl facilit inspect data found raw format jeansxdata exampl let us inspect time seri data code idl idl pc_read_t objt structur ts contain sever variabl inspect code idl idl help ts structur structur fa tag length data length ref long array float array umax float array rhomax float array diagnost umax maxim veloc avail sinc set jeansxprintin pleas check manual inform input file plot evolut umax initi perturb defin startin code idl idl plot tst alogtsumax complet state simul save snapshot file jeansxdataprocvar everi dsnap time unit defin jeansxrunin snapshot exampl var load code idl idl pc_read_var objff varfilevar trimal similarli tag_nam provid us avail variabl code idl idl print tag_namesff x z dx dy dz uu lnrho potself logarithm densiti inspect use gui code idl idl cslice fflnrho cours script one might use quantiti ff structur like calcul averag densiti code idl idl print meanexpfflnrho python visual option advis python support still complet featurerich idl furthermor move python routin updat yet python modul requir exampl use modul numpi matplotlib complet list requir modul includ pencilcodepythonpencilreadm use pencil modul sourc sourcemesh script see abl import pencil modul import pencil pc use function pcreadt read time_seriesdat file paramet ad member class pcreadslic read slice file return two array nslicesvsizehs time pcvisuanimate_interact assembl anim array exampl postprocess python found ref python document modpython ref python tutori tutpython tutpython pencil python tutori find tutori modifycontribut python code use code style refpythonstyl use code postprocess refpythongener _pythonstyl python code style good code style greatli improv readabl code similar guidelin fortran routin strongli recommend follow basic style rule python routin recommend extract pep httpswwwpythonorgdevpepspep_ googl python style guid httpsgooglestyleguidegooglecodecomsvntrunkpyguidehtml_ gener style guid python indent space use space per indent level use hang indent function call multipl line code python align open delimit foo long_function_namevar_on var_two var_thre var_four surround toplevel function class definit two blank line wildcard import import avoid make unclear name present namespac confus reader mani autom tool one space around assign oper align anoth avoid code python x long_vari alway surround binari oper singl space either side assign augment assign etc comparison boolean oper differ prioriti use consid ad whitespac around oper lowest priorityi ye code python submit x x code python ii submit x x dont use space around sign use indic keyword argument default paramet valu ye code python def complexr imag return magicrr iimag code python def complexr imag return magicr real imag comment comment complet sentenc block comment gener appli code follow indent level code line block comment start singl space unless indent text insid comment paragraph insid block comment separ line contain singl docstr alway use docstr class function access user work read doc sphinx creat automat document code henc updat style guid creat docstr use numpi docstr style requir follow field docstr gener descript classfunct signatur function call paramet list paramet classfunct return type variabl function return exampl least one exampl usag note ptional comment function code python def complexr imag form complex number signatur complex paramet real float real part default imag float imaginari part default return complex number real imaginari part exampl defin two complex number complex b complex printa j b j name convent module_nam package_nam classnam method_nam exceptionnam function_nam global_constant_nam global_var_nam instance_var_nam function_parameter_nam local_var_nam except code datadir varfil varfil pylint run pylint code pylint tool find bug style problem python sourc code find problem typic caught compil less dynam languag like c c default function argument use mutabl object default valu function method definit ye code python def fooa bnone b none b code python def fooa b privat method python know privat method class member order somewhat hide method use two underscor function definit def __magicattributesself param other use startswith endswith instead string slice check prefix suffix startswith endswith cleaner less error prone exampl ye foostartswithbar foo bar sequenc string list tupl use fact empti sequenc fals ye code python seq seq code python lenseq lenseq dont compar boolean valu true fals use ye greet greet true check variabl particular type use isinst eg isinstancemy_vari list pencil code specif style classesobject use class much possibl write function tri emb class init function return desir result advantag ad method return object modifi data readmethod alway give back object contain whole inform contain philosophi therefor use class possibl data directori default data directori alway data data file header start file file id short descript routin author list longer requir sinc easili acces git histori code python varfilepi read var file base read_varpro idl script nb f array return corder fnvarnznynx fortran pencil idl fnxnynznvar import librari import numpi np instead n import pylab plt instead p need access librari routin modul import routin rather head modul way visibl user ye code python my_modulepi class myclassobject document def __init__self import numpi np selfpi nppi code python my_modulepi import numpi np class myclassobject document def __init__self selfpi nppipr read httpswwwpythonorgdevpepspeptabsorspaces_ httpsgooglestyleguidegooglecodecomsvntrunkpyguidehtml_ _pythongener pencil code command gener list pencil code command start ipython type pc tab auto complet access help command type command follow space eg code pcmathdot type function string formfunct dot xfdcbcf file pencilcodepythonpencilmathvector_multiplicationpi definit pcmathdota b docstr take dot product two pencilcod vector b shape ashap mz mx also use helppcmathdot complet document command variou read routin pencil code data return object data store data user defin variabl type eg code python ts pcreadt command take argument default valu eg code python pcreadtsfile_nametime_seriesdat datadirdata chang valu simpli type eg code python pcreadtsdatadirother_rundata read plot time seri read time seri file easi simpli type code python ts pcreadt python store data variabl ts physic quantiti member object ts access accordingli eg tst tsemag check variabl store simpli tab auto complet ts tab plot data matplotlib command code python pltplottst tsemag standard plot perfect need littl polish see make pretti plot save plot file use gui code python pltsavefigplotep read plot var file slice file read var file code python var pcreadvar read slice file code python slice pcreadslicesfieldbb extensionxi return object slice member xy last contain addit member xy want plot eg xcompon magnet field central plane simpli type code python pltimshowvarbb originlow extent interpolationnearest cmaphot complet list argument pltimshow refer document interact function plot use code python pcvisuanimate_interactiveslicesxybb slicest warn array read routin order fnvar mz mx ie revers idl affect read var file slice file creat custom var vardat function write snapshot directli var vardat user gener initi condit directli numpi array modifi last snapshot continu run function use pythonpenciliosnapshotpi call write_snapshot outlin gener initi condit modifi vardat last step necessari first need empti run let us use sampleskindynamo code python cd pencilcodesampleskindynamo pc_setupsrc principl use initi condit go write cleaner use code initial_condit noinitial_condit srcmakefileloc compil start code bash make pc_start gener var vardat everi proc directori snapshot write routin need know cpu structur furthermor need know indic primari variabl first obtain srccparamloc latter read newli gener dataindexpro numpi array written need shape nvar nz ny nz correct order variabl ghost zone option number ghost zone usual specifi put togeth python routin would look someth like code python import numpi np import pencil pc read data obtain shape array rather actual data var pcreadvartrimalltru modifi data varaa nprandomrandomvaraashap write new var vardat file pciowrite_snapshotvaraa file_namevar nprocx nproci nprocz pciowrite_snapshotvaraa file_namevardat nprocx nproci nprocz exampl standard plot plot librari prettiest one true matplotlib pretti exampl plot default style chang add command script eg plot_resultspi execut ipython execfileplot_resultspi simpl plot code python import pencil pc import numpi np import pylab plt read time_seriesdat ts pcreadt prepar plot set size margin width height pltrcfiguresubplot left pltrcfiguresubplot right pltrcfiguresubplot bottom pltrcfiguresubplot top figur pltfigurefigsizewidth height axe pltsubplot make actual plot pltsemilogytst tsbrmstsbrm linestyl linewidth colorblack labelrlanglebarbranglelanglebarbrangl pltsemilogytst tsjrmstsjrm linestyl linewidth colorblu labelrlanglebarjranglelanglebarjrangl pltsemilogytst tsjmaxtsjmax linestyl linewidth color labelrj_rm maxj_rm max pltxlabelrt fontsiz pltylabelrlanglebarbrangl langlebarjrangl j_rm max fontsiz plttitlevari quantiti fontsiz familyserif prepar legend pltlegendloc shadowfals fancyboxfals numpoint leg pltgcaget_legend chang font size legend ltext legget_text texttext instanc legend k rangelenltext leglin ltextk leglineset_fonts frame legget_fram frameset_facecolor legdraw_framefals make plot pretti pltxticksfonts familyserif pltyticksfonts familyserif axestick_paramsaxisboth whichmajor length axestick_paramsaxisboth whichminor length creat offset xylabel axe label axesxaxisget_ticklabel labelset_posit label axesyaxisget_ticklabel labelset_posit simpl plot code python import pencil pc import numpi np import pylab plt read slice slice pcreadslicesfieldbb extensionxi read grid size grid pcreadgrid x gridx x gridx gridi gridi prepar plot set size margin width height pltrcfiguresubplot left pltrcfiguresubplot right pltrcfiguresubplot bottom pltrcfiguresubplot top figur pltfigurefigsizewidth height axe pltsubplot make actual plot pltimshowzipslicesxybb originlow interpolationnearest cmaphot extentx x pltxlabelrx fontsiz pltylabelri fontsiz set colorbar cb pltcolorbar cbset_labelrb_xxyz fontsiz cbytick_obj pltgetpcbaxax yticklabel pltsetpcbytick_obj fontsiz familyserif make plot pretti pltxticksfonts familyserif pltyticksfonts familyserif axestick_paramsaxisboth whichmajor length axestick_paramsaxisboth whichminor length creat offset xylabel axe label axesxaxisget_ticklabel labelset_posit label axesyaxisget_ticklabel labelset_posit idl python guid larg array idl script develop year mani serv purpos time mani other gener purpos small select exampl idl call sequenc along python counterpart link potenti use site idl python bridg httpswwwlharrisgeospatialcomdocsidltopythonhtml_ idl command numer python httpmathesaurussourceforgenetidlpythonxrefpdf_ idl python pc_read_varobjvartrimal var pcreadvarvar_fil vardat trimal true sim sim helpvar helpvar pc_read_paramobjparam pcreadparam tutmathematica pencil mathematica tutori find tutori use mathematica postprocess load packag two way tell mathematica packag modifi initm path packag automat ad path variabl mathematica first type code filenamejoinuserbasedirectori kernel initm mathematica locat initm file add line code appendtopath yourpencilhomemathematica file save gener path pencil_homemathematica cours may put somewher els mathematica search subdirectori make sure packag right folder updat initm restart mathematica kernel evalu quit kernel use packag call needspc notebook script altern dont want modifi initm may also call code needspcpathtothispackag time admonit note run packag subkernel may need someth like code launchkernel appendtopath yourpencilhomemathematicaparallelevalu needspc parallelneedspc thing like paralleltablereadt note need master kernel parallelne subkernel need see also discuss httpsmathematicastackexchangecomquestionspackagefoundwithneedsbutnotwithparallelneeds_ possibl issu section httpsreferencewolframcomlanguagerefparallelneedshtml_ pencil code command gener list pencil code command load packag type pcfunction access help command type follow command eg readt also check full definit command type follow command read plot time seri read time seri type code data readtssimvarvar var var etc entri time seri return right side list object element correspond var var etc access exampl time seri var data index mathematica start altern may also put list object left side var var etc assign element exampl code turm readtssimturm make sure length left side equal number var otherwis mathematica complain plot data say code fig listplottransposeturmsjoinedtru onelin command code listplottransposereadtssimturm fig readtssimturmstransposelistplot option intern plot function reset packag detail check pclabelstyl pcplotstyl export figur ep format code exportdirectorytoexportfigureepsfig read var file var file read use code data readvarnsimivar ivar index var file start default ghost zone trim use option ltrimtru ltrimmor latter trim nghost cell boundari comput magic variabl use code data readvarnsimivaroobbjj oo bb jj refer vortic magnet current field respect return readvarn associ object ie headdataassoci obtain key keysdata exampl return code data readvarnsimivaroobbjj keysdata dx dy dz deltay lx ly lz x z uu uu uu lnrho ooo ooo ooo bbb bbb bbb jjj jjj jjj magic variabl name use tripl charact avoid shadow auxilliari one written code oo etc x coordin mesh point datax length resolutoin nghost one form threedimension map uu use code uu transpos dataxyzuu xyzfxyzf sometim follow method also use code clearuu grid transpos dataxyz uu associ thread griddatauu uu becom function valu xyz simpli uuxyz visual slice var file quick way make densiti plot data code showslicedata uu z z instruct plot th slice z direct vector field one also use code showslicevectordata uu z notic second argument uu index function make densiti plot outofplan compon uu superpos vector plot inplan compon uu uu read video file read video slice file one use code slicestimespositionreadslicesimuuxi return slice variabl list slice differ time visual say densityplot slice posit tell spatial coordin slice exampl make video code clearmakefram makefram slice_time_ densityplot slice plotlabelttostringtim frame mapthread makefram slicestim view video notebook slow mani frame listanim frame animationrunningfals output movi file export youroutputdirectoryvideomov frame framer one also visual variabl box inform see comment makebox makebox tutpencil pencil code tutori pencil code written fortran host github httpsgithubcompencilcodepencilcode_ modifi pencil code note adapt github wiki page httpsgithubcompencilcodepencilcodewiki_ commit right pencil code given quit liber come respons commit code meaning necessari avoid commit code break auto test discuss major chang develop first eg pencilcodediscuss mail list follow exist refpencilstyleguid develop pencil code often commun via commit messag typic exampl code fix bug hydrodo_someth paul wrote origin subroutin check whether fix ok ideal commit line would code improv peter fix hydrodo_someth subroutin thank find analyz mode commun work must abl reli codevelop read commit messag contribut strongli reduc valu code probabl commit right first place far easiest way read commit messag subscrib pencilcodecommitsgooglegroupscom read least superfici commit messag appear mailbox individu develop may prefer way keep date awar follow go code like part code contribut eventu get move around alter even remov want becom member group without committ name alreadi known us googl would appreci brief email us explain interest prevent spammer enter list pencilcodecor list hand reserv project owner _pencilstyleguid code style guid note adapt github wiki page httpsgithubcompencilcodepencilcodewikicodingstyle_ describ pencil code code style best practic write code form checklist appli given item cours rule hammer stone alway need realiti check ensur rule help improv code opposit modul name well sens name describ purpos abstract enough form separ modul consist within exist modul scheme interfac obvious reveal modul use interfac abstract enough modul use without think servic implement subroutin name reveal exactli subroutin implement one task well defin contain code part would better put separ subroutin interfac obvious reveal subroutin use interfac abstract enough subroutin use without think implement detail data type name well name describ content type descript help document variabl declar simpl minim complex need complex oper access subroutin set_xyget_xi variabl realli necessari variabl constant given possibl attribut like save paramet intentinout kind magic number magic string convert name constant redund distinct variabl otherwis avail use singl purpos intend name addit defin use clariti code significantli improv variabl name chosen well describ content ip data type readabl follow style lower_case_words_connected_with_underscor boolean indic flaglik behavior current lflag flag loop counter inform j k l n ij reserv gener matrix vector oper lmn reserv mnloop handl farray ppencil indic logic statement use simpl boolean express better store addit boolean variabl put boolean function reus use doubl negat oop ifelseconstruct consist small block block similar size written normal case appear first use minim complex loop perform exactli one welldefin function subroutin would implement use best match type dowhilerepeat nest anoth loop necessari code repres logic structur nomin path call sequenc clear easi follow organ relat statement group togeth free rel independ code block could stay subroutin hide implement detail greatest extent written respect problem solut term programminglanguag requir initi variabl outsid condit statement eg code insid ifelseifelseifconstruct might never execut compil without compil warn ye seriou background even sometim obviou commit messag new set correct minor chang similar tell code block affect contain relev major chang inform consequ previou bug fix give hint search start read anyon interest detail fortran format use fortran languag standard f use space indent two space repres one indent level use space format tabular data comment space end line one empti line enough split code block two empti line use split distinct part code incod comment indent togeth code blocklik comment eg function header start begin line use space around oper applic linebreak requir charact f linebreak use significantli improv readabl long code line typic rulebreak solut goto implement loop ifelseconstruct entri implement interfac split distinct subroutin format put format string insid write statement hardcod file unit use name constant hardcod string length use predefin global constant recommend read kernighan brian plauger element program style nd ed mcgrawhil new york kernighan brian pike practic program addison wesley read massachusett mcconnel code complet nd ed microsoft press redmont washington hunt thoma pragmat programm addison wesley read massachusett social rule note adapt github wiki page httpsgithubcompencilcodepencilcodewikisocialrules_ hi guy discuss codevelop code develop pretti much like pencil opensourc team version control etc talk code develop ask case flame fight heat argument code commun mention coupl case point book open sourc develop stuff discuss surprisingli quit common occurr chapter first link difficult peopl particularli relev httpproducingosscom_ httpartofcommunityonlineorg_ wlad good electron commun electron discuss thing metalevel inform transfer therefor everi good electron commun stay fact interpret need done one choos interpret assum best motiv oppon one chanc understand oppon right without understand oppon fulli one right answer philipp code conduct although space may feel inform time want remind profession space pencil code commun adher code conduct adapt contributor coven httpswwwcontributorcovenantorg_ code conduct contributor requir confirm read code conduct httpsgithubcompencilcodepencilcodeblobmasterlicensecode_of_conductmd_ expect adher pencil code space associ interact fortran modul test modul ascalar fautomodul ascalar modul geometr type fautomodul geometrical_typ idl code document soon _modpython pencil python code document modpencil pencil packag autosummari toctre codesourcepython templat custommoduletemplaterst recurs pencil