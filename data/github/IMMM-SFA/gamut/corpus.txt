readmemd gener readmermd pleas edit file buildhttpsgithubcomimmmsfagamutworkflowsbuildbadgesvg codecovhttpscodecovioghimmmsfagamutbranchmaingraphbadgesvgtokenufevxwvcohttpscodecovioghimmmsfagamut doihttpszenodoorgbadgesvghttpszenodoorgbadgelatestdoi gamut geospati analyt multisector urban teleconnect descript gamut tool explor teleconnect citi unit state human activ occur associ water suppli catchment teleconnect causal connect correl human environment phenomena occur long distanc apart p aligncent img srchttpsgithubcomimmmsfagamutblobmaininstextdatagamut_plotpngrawtru width height p get start gamut gamut instal remot repositori use r devtool packag r prompt run command r installpackagesdevtool librarydevtool devtoolsinstall_githubimmmsfagamut librarygamut run problem remot instal may also tri option instal gamut save packag file click herehttpsapigithubcomreposimmmsfagamuttarballhead run install_loc shown r install_localpathtopackag clone repo comput use git clone httpsgithubcomimmmsfagamut load project rstudio instal note depend version r may need instal rtool retriev packag troubl instal installpackagesrtool find instal file herehttpscranrprojectorgbinwindowsrtool depend version sf also may need instal packag rcpp order gamut build correctli data file download gamut input dataset visit zenodo data repositoryhttpszenodoorgrecordyvdnnrmjpi download zip data file prefer directori make sure combin energi land misc water folder singl directori tabl show file use within gamut softwar packag gamut name sub folder locat full file path data sourc watersh water watercwm_v_world_watershedshp httpsknbecoinformaticsorgviewdoiaffjdwr withdraw water watercwm_v_snapped_withdrawal_pointsshp httpsknbecoinformaticsorgviewdoiaffjdwr citypoint water watercwm_v_city_centroidshp httpsknbecoinformaticsorgviewdoiaffjdwr powerpl water waterucsewenergywaterdatabasexlsx httpswwwucsusaorgresourcesucsewenergywaterdatabas crop land land_m_cdlscdl_lowres_usaimg httpswwwnassusdagovresearch_and_sciencecroplandreleas crop_attribut land land_m_cdlscdl_lowres_usaimgvatdbf httpswwwnassusdagovresearch_and_sciencecroplandreleas irrig land landversion_usa_demetercsv gcam demet data nlud land landusa_nlud_lrtif httpsdrivegooglecomfiledvmnfwjcalfsztyjwsbligsngycview hydro energi energyeha_public_plantfy_gis_ornl_ehahydroplant_fyrevisedxlsx httpshydrosourceornlgovnod climat land landkop_climate_classestif httpkoeppengeigervuwienacatpresenthtm huc water waterusa_huchuc_to_hucshp httpprdtnmswebsiteuswestamazonawscomprefixstagedproductshydrographywbdnationalgdb popul land landpden_blockpden_mtif httpswwwsciencebasegovcatalogitemebeebddc runoff water wateruwscatchhistorical_mean_runoffusa_mean_runofftif httpszenodoorgrecord nhd_flow water wateruwscatchwatershed_flow_contributionsuwb_intake_flowsshp httpszenodoorgrecord contribut water wateruwscatchwatershed_flow_contributionswatershed_contributionscsv httpszenodoorgrecord usag necessari data organ correct format packag readi use main function count_watershed_teleconnect within function set data directori select citi citi name need format citi state multipl citi place insid c avail citi found avail citi wiki pagehttpsgithubcomimmmsfagamutwikiavailablec exampl would type consol r count_watershed_teleconnectionsdata_dir yourgamutdata_dir citi cportland knoxvil tn new york ny indianapoli seattl wa packag cycl citi respect watersh produc tabl sever column inform learn variabl mean scroll bottom section see tabl variabl result function look someth like citi city_popul n_watersh n_other_c dependent_city_pop watershed_area_sqkm storage_bcm yield_bcm irr_cons_bcm n_climate_zon n_hydro_pl n_thermal_pl n_fac_agcrop n_fac_aglivestock n_fac_cnsmnf n_fac_min n_fac_oilga n_fac_tot hydro_gen_mwh thermal_gen_mwh thermal_cons_bcm thermal_with_bcm n_util n_ba n_crop_class cropland_fract developed_fract ag_runoff_max ag_runoff_av_exgw ag_runoff_av dev_runoff_max dev_runoff_av_exgw dev_runoff_av np_runoff_max np_runoff_av_exgw np_runoff_av_exgw_unweight np_runoff_av n_economic_sector max_withdr_dist_km avg_withdr_dis_km n_treatment_pl watershed_pop pop_cons_msec av_fl_sur_conc_pct av_fl_sur_conc_pct_unweight av_ro_sur_conc_pct av_fl_all_conc_pct av_ro_all_conc_pct av_fl_max_conc_pct av_ro_max_conc_pct surface_contribution_pct importance_of_worst_watershed_pct portland e knoxvil tn e new york ny e indianapoli e seattl wa e tabl use compar differ variabl multipl citi graph compar much develop land citi watersh p aligncent img srchttpsgithubcomimmmsfagamutblobmaininstextdatagamut_graphpngrawtru width height p tabl show explan variabl creat function variabl name descript unit city_popul popul citi analyz peopl n_watersh number watersh citi use sourc drink water watersh n_other_c number citi pull watersh citi dependent_city_pop total popul peopl depend citi watersh peopl watershed_area_sqkm combin area sourc watersh citi squar kilomet storage_bcm combin storag capac citi catchment billion cubic meter yield_bcm combin yield capac citi catchment billion cubic meter irr_cons_bcm combin water consumpt use irrig watersh billion cubic meter n_climate_zon number climat zone sourc watersh cover zone n_hydro_pl number hydroelectr power plant oper within sourc watersh plant n_thermal_pl number thermal power plant oper within sourc watersh plant n_fac_agcrop number agricultur crop facil within sourc watersh facil n_fac_aglivestock number agicultur livestock facil within sourc watersh facil n_fac_cnsmnf number construct manufactur facil within sourc watersh facil n_fac_min number mine facil within sourc watersh facil n_fac_oilga number oil ga facil within sourc watersh facil n_fac_tot total number facil oper within sourc watersh facil hydro_gen_mwh combin hydroelectr gener facil within sourc watersh megawatthour thermal_gen_mwh combin thermal gener facil within sourc watersh megawatthour thermal_cons_bcm combin water consumpt use thermal gener billion cubic meter thermal_with_bcm combin water withdraw thermal gener billion cubic meter n_util number electr util within sourc watersh util n_ba number balanc author within sourc watersh balanc author n_crop_class total number differ type crop within sourc watersh crop cropland_fract fraction land use crop within sourc watersh fraction developed_fract fraction land develop within sourc watersh fraction ag_runoff_max max amount agricultur runoff within sourc watersh fraction ag_runoff_av_exgw averag agricultur runoff exclud ground water fraction ag_runoff_av averag runoff agricultur land fraction dev_runof_max max amount agricultur runoff within sourc watersh fraction dev_runof_av_exgw averag develop runoff exclud ground water fraction dev_runof_av averag runoff develop land fraction np_runoff_max max amount nonpoint sourc runoff within sourc watersh fraction np_runoff_av_exgw averag nonpoint runoff exclud ground water fraction np_runoff_av_exgw_unweight averag nonpoint runoff unweight exclud ground water fraction np_runoff_av averag nonpoint sourc runoff fraction n_economic_sector total number differ econom sector within sourc watersh sector max_withdr_dis_km maximum distanc citi intak point kilomet avg_withdr_dis_km averag distanc citi intak point kilomet n_treatment_pl total number wast water treatment plant oper within sourc watersh plant watershed_pop total number peopl live within sourc watersh boundari peopl pop_cons_msec combin water consumpt sourc watersh use peopl msec av_fl_sur_conc_pct averag surfac flow concentr av_fl_sur_conc_pct_unweight averag surfac flow concentr unweight av_ro_sur_conc_pct averag surfac runoff concentr av_fl_all_conc_pct averag flow concentr av_ro_all_conc_pct averag runoff concentr av_fl_max_conc_pct max averag flow concentr av_ro_max_conc_pct max averag runoff concentr surface_contribution_pct surfac contribut importance_of_worst_watershed_pct measur import watersh worst contamin depend gamut reli function follow r packag clisymbol crayon dplyr dam exactextractr foreign geospher ggplot lwgeom magrittr purrr raster readxl reservoir rgdal rgeo sf sp spex stringr tibbl tidyr vroom testthat knitr rmarkdown knitr support question packag pleas contact contributor kristian nelson kristiannelsonpnnlgov sean turner seanturnerpnnlgov chri vernon chrisvernonpnnlgov author acknowledg author kristian nelson sean turner chri vernon jenni rice casey burleyson ryan mcmanamay kerim dickson research support us depart energi offic scienc part research multisector dynam earth environment system model program gamut softwar contribut repositori httpsgithubcomimmmsfagamut issu httpsgithubcomimmmsfagamutissu new_issu httpsgithubcomimmmsfagamutissuesnew readm httpsgithubcomimmmsfagamutreadm email kristiannelsonpnnlgov softwar question question use gamut packag first look documentationreadm see answer document doesnt answer question open issu githubnew_issu explain question packag maintain get back soon possibl would like contact packag maintain directli emailemail softwar contribut guidlin would like suggest new idea function gamut packag go issu pageissu creat issu new idea might would like fix bug add new function may follow develop guidelin best follow standard github workflow develop clone reporepositori comput use git clone httpsgithubcomimmmsfagamut open rstudio gamut project file rproj creat new branch dev branch new branch make chang write code test code run function count_watershed_teleconnectionsdata_dir yourdatadir citi cnew york ny portland make sure citi singl multipl watersh work properli document code ctrlshiftd check code devtoolscheck aim error gamut current warn outsid packag warn ignor commit push chang submit pull requesthttpsgithubcomimmmsfagamutpul packag maintain review pull request either merg close report bug discov bug use gamut packag pleas creat issu githubnew_issu fix possibl pleas includ follow issu oper system name version step code reproduc bug titl gamut geospati r packag analyz multisector urban teleconnect tag r multisector dynam water energi land urban geospati date septemb output html_document df_print page author name kristian nelson orcid x affili name sean w turner orcid affili name chri r vernon orcid affili name jenni rice orcid affili bibliographi paperbib affili name pacif northwest nation laboratori richland washington usa index summari citi unit state withdraw surfac water meet public water suppli need land water gener often develop human activitiesmdashsuch agricultur mine industrymdashthat may compet water resourc contamin water suppli citi therebi connect sector water suppli catchment connect exampl multisector urban teleconnect interdepend geograph dispar region sourc region event one eg land use chang often impact seto term brought bring greater understand connect urban land use chang seto geospati analyt multisector urban teleconnect gamut packag provid nationalscal inform urban teleconnect citi combin land use data hydrolog analysi character quantifi urban sourc watersh human interact across contermin unit state figur gamut packag analyz urban citi watersh across contermin us shown figur look characterist like land use insid watersh boundariesgamut_figurepng width gamut packag comput dozen citylevel metric inform geograph natur surfac water suppli catchment presenc intens impact human activ catchment packag cycl step process first connect citi drink water resourc use urban water blueprint dataset mcdonald dataset combin enhanc dataset sourc contribut estim river flow statist high resolut runoff datanelson link citi watersh second step use watersh boundari mask input geospati layer addit gamut reli heavili use st_intersect function sfhttpscranrprojectorgwebpackagessfindexhtml packag intersect featur watersh join inform geospati layer layer encompass wide varieti watersh characterist includ land use land cover power gener infrastructur hydrolog data irrig stream flow runoff popul data similar multisector packag gamut produc new data combin multipl dataset use creat new statist nongeospati layer form data tabl join citi name municip id input layer use packag combin opensourc dataset access herehttpszenodoorgrecordyvdnnrmjpi nelson last step process creation output metric done calcul statist base mask input data citi creat link citi watersh characterist enabl gamut packag calcul numer metric may use multipl type citylevel multisector dynam research metric report gamut fall four main categori geograph characterist watersh eg climat zone land area distanc citi hydrolog potenti water contamin concentr nonpoint point withdrawalconsumpt water sector presenceintens multisector land use tabl show metric creat includ descript unit r vignett provid help user get start gamut may access herehttpsimmmsfagithubiogamut tabl metric report gamut metric name descript unit city_popul popul citi analyz peopl n_watersh number watersh citi use sourc drink water watersh n_other_c number citi pull watersh citi dependent_city_pop total popul peopl depend citi watersh peopl watershed_area_sqkm combin area sourc watersh citi squar kilomet storage_bcm combin storag capac citi catchment billion cubic meter yield_bcm combin yield capac citi catchment billion cubic meter irr_cons_bcm combin water consumpt use irrig watersh billion cubic meter n_climate_zon number climat zone sourc watersh cover zone n_hydro_pl number hydroelectr power plant oper within sourc watersh plant n_thermal_pl number thermal power plant oper within sourc watersh plant n_fac_agcrop number agricultur crop facil within sourc watersh facil n_fac_aglivestock number agicultur livestock facil within sourc watersh facil n_fac_cnsmnf number construct manufactur facil within sourc watersh facil n_fac_min number mine facil within sourc watersh facil n_fac_oilga number oil ga facil within sourc watersh facil n_fac_tot total number facil oper within sourc watersh facil hydro_gen_mwh combin hydroelectr gener facil within sourc watersh megawatthour thermal_gen_mwh combin thermal gener facil within sourc watersh megawatthour thermal_cons_bcm combin water consumpt use thermal gener billion cubic meter thermal_with_bcm combin water withdraw thermal gener billion cubic meter n_util number electr util within sourc watersh util n_ba number balanc author within sourc watersh balanc author n_crop_class total number differ type crop within sourc watersh crop cropland_fract fraction land use crop fraction developed_fract fraction land develop fraction ag_runoff_max agricultur runoff proport total runoff worstcas watersh fraction ag_runoff_av_exgw agricultur runoff proport total runoff suppli exc groundwat fraction ag_runoff_av agricultur runoff proport total runoff suppli inc groundwat fraction dev_runof_max urban runoff proport total runoff worstcas watersh fraction dev_runof_av_exgw urban runoff proport total runoff suppli exc groundwat fraction dev_runof_av urban runoff proport total runoff suppli inc groundwat fraction np_runoff_max max amount nonpoint sourc runoff within sourc watersh fraction np_runoff_av_exgw nonpoint proport potenti contamin suppli ppc exc groundwat fraction np_runoff_av_ exgw_unweight nonpoint suppli contamin averag across watersh fraction np_runoff_av nonpoint proport potenti contamin suppli ppc fraction n_economic_sector total number differ econom sector within sourc watersh sector max_withdr_dis_km maximum distanc citi intak point kilomet avg_withdr_dis_km averag distanc citi intak point kilomet n_treatment_pl total number wast water treatment plant oper within sourc watersh plant watershed_pop total number peopl live within sourc watersh boundari peopl pop_cons_msec combin water consumpt sourc watersh use peopl msec av_fl_sur_conc_pct point ppc surfac water base flow av_fl_sur_ conc_pct_unweight point ppc surfac water base flow weight sourc import av_ro_sur_conc_pct point ppc surfac water base runoff av_fl_all_conc_pct point ppc base flow av_ro_all_conc_pct point ppc base runoff av_fl_max_conc_pct point ppc base flow worstcas catchment av_ro_max_conc_pct point ppc base runoff worstcas catchment surface_contribution_pct proport total averag suppli made surfac water importance_of_worst_ watershed_pct proport total averag suppli made heavili contamin watersh statement need multisector dynam msd research studi coevolut human natur system research requir infrastructur expans land use scenario resourc demand project multisector model captur impact trend shock human system gamut packag offer new data meet number msd need packag may use infer possibl water resourc expans strategi major citi unit state exampl citi found heavili expos potenti contamin may like seek altern mean suppli eg water transfer invest water reus facil studi rice look de facto wastewat reus across us found increas wastewat concentr drink water treatment plant epa report especi low flow condit gamut packag abil look wastewat discharg averag flow find concentr much larger scale show packag could use studi like futur addit water contamin analysi gamut packag abil reveal sourc watersh heavili protect receiv cite inform inform land use energi expans scenario appli msd research exampl prevent signific expans human develop protect sourc watersh gamut may also use largescal hydrolog model correctli assign urban water demand specif intak whether research done water scarciti water pollut urban effect gamut packag provid use data bring greater understand anthropogen impact urban sourc watersh gamut packag open sourc may download use devtoolshttpsdevtoolsrliborg packag code wickham instruct packag download found documentationhttpsgithubcomimmmsfagamutreadm r installpackagesdevtool librarydevtool devtoolsinstall_githubimmmsfagamut librarygamut depend gamut reli function follow r packag clisymbol csardi crayon csardi dplyr henri dam goteti exactextractr baston foreign rcoreteam geospher hijman ggplot wickham lwgeom pebesma magrittr bach purrr henri raster hijman readxl wickham reservoir turner rgdal bivand rgeo bivand sf pebesma sp bivand spex sumner stringr wickham tibbl muller tidyr wickham vroom hester testthat wickham rmarkdown xie knitr xie acknowledg research support us depart energi offic scienc part research multisectordynam earth environment system model programhttpsclimatemodelingscienceenergygovprogrammultisectordynam refer output github_docu always_allow_html ye readmemd gener readmermd pleas edit file buildhttpsgithubcomimmmsfagamutworkflowsbuildbadgesvg codecovhttpscodecovioghimmmsfagamutbranchmaingraphbadgesvgtokenufevxwvcohttpscodecovioghimmmsfagamut doihttpszenodoorgbadgesvghttpszenodoorgbadgelatestdoi gamut geospati analyt multisector urban teleconnect descript gamut tool explor teleconnect citi unit state human activ occur associ water suppli catchment teleconnect causal connect correl human environment phenomena occur long distanc apart p aligncent img srchttpsgithubcomimmmsfagamutblobmaininstextdatagamut_plotpngrawtru width height p get start gamut gamut instal remot repositori use r devtool packag r prompt run command r installpackagesdevtool librarydevtool devtoolsinstall_githubimmmsfagamut librarygamut run problem remot instal may also tri option instal gamut save packag file click herehttpsapigithubcomreposimmmsfagamuttarballhead run install_loc shown r install_localpathtopackag clone repo comput use git clone httpsgithubcomimmmsfagamut load project rstudio instal note depend version r may need instal rtool retriev packag troubl instal installpackagesrtool find instal file herehttpscranrprojectorgbinwindowsrtool depend version sf also may need instal packag rcpp order gamut build correctli data file download gamut input dataset visit zenodo data repositoryhttpszenodoorgrecordyvdnnrmjpi download zip data file prefer directori make sure combin energi land misc water folder singl directori tabl show file use within gamut softwar packag r echofalsemessagefals librarytibbl libraryknitr tribbl gamut name sub folder locat full file pathdata sourc watersh waterwatercwm_v_world_watershedshphttpsknbecoinformaticsorgviewdoiaffjdwr withdrawalwaterwatercwm_v_snapped_withdrawal_pointsshphttpsknbecoinformaticsorgviewdoiaffjdwr citypointwaterwatercwm_v_city_centroidshphttpsknbecoinformaticsorgviewdoiaffjdwr powerplantswaterwaterucsewenergywaterdatabasexlsxhttpswwwucsusaorgresourcesucsewenergywaterdatabas croplandland_m_cdlscdl_lowres_usaimghttpswwwnassusdagovresearch_and_sciencecroplandreleas crop_attributeslandland_m_cdlscdl_lowres_usaimgvatdbfhttpswwwnassusdagovresearch_and_sciencecroplandreleas irrigationlandlandversion_usa_demetercsvgcam demet data nludlandlandusa_nlud_lrtifhttpsdrivegooglecomfiledvmnfwjcalfsztyjwsbligsngycview hydroenergyenergyeha_public_plantfy_gis_ornl_ehahydroplant_fyrevisedxlsxhttpshydrosourceornlgovnod climatelandlandkop_climate_classestifhttpkoeppengeigervuwienacatpresenthtm hucwaterwaterusa_huchuc_to_hucshphttpprdtnmswebsiteuswestamazonawscomprefixstagedproductshydrographywbdnationalgdb populationlandlandpden_blockpden_mtifhttpswwwsciencebasegovcatalogitemebeebddc runoffwaterwateruwscatchhistorical_mean_runoffusa_mean_runofftifhttpszenodoorgrecord nhd_flowwaterwateruwscatchwatershed_flow_contributionsuwb_intake_flowsshphttpszenodoorgrecord contributionswaterwateruwscatchwatershed_flow_contributionswatershed_contributionscsvhttpszenodoorgrecord file kablefil usag necessari data organ correct format packag readi use main function count_watershed_teleconnect within function set data directori select citi citi name need format citi state multipl citi place insid c __avail citi found avail citi wiki pagehttpsgithubcomimmmsfagamutwikiavailablecities__ exampl would type consol r count_watershed_teleconnectionsdata_dir yourgamutdata_dir citi cportland knoxvil tn new york ny indianapoli seattl wa packag cycl citi respect watersh produc tabl sever column inform learn variabl mean scroll bottom section see tabl variabl result function look someth like rechofals messagefals warningfals libraryvroom vroominstextdataexample_datasetcsv result knitrkableresult tabl use compar differ variabl multipl citi graph compar much develop land citi watersh p aligncent img srchttpsgithubcomimmmsfagamutblobmaininstextdatagamut_graphpngrawtru width height p tabl show explan variabl creat function r echofalsemessagefals tibbletribbl variabl name descript unit city_popul popul citi analyzedpeopl n_watershedsnumb watersh citi use sourc drink waterwatersh n_other_citiesnumb citi pull watershedsc dependent_city_poptot popul peopl depend citi watershedspeopl watershed_area_sqkmcombin area sourc watersh citysquar kilomet storage_bcmcombin storag capac citi catchmentsbillion cubic meter yield_bcmcombin yield capac citi catchmentsbillion cubic meter irr_cons_bcmcombin water consumpt use irrig watershedsbillion cubic meter n_climate_zonesnumb climat zone sourc watersh coverzon n_hydro_plantsnumb hydroelectr power plant oper within sourc watershedspl n_thermal_plantsnumb thermal power plant oper within sourc watershedspl n_fac_agcropnumb agricultur crop facil within sourc watershedsfacil n_fac_aglivestocknumb agicultur livestock facil within sourc watershedsfacil n_fac_cnsmnfnumb construct manufactur facil within sourc watersh facil n_fac_miningnumb mine facil within sourc watershedsfacil n_fac_oilgasnumb oil ga facil within sourc watershedsfacil n_fac_totaltot number facil oper within sourc watershedsfacil hydro_gen_mwhcombin hydroelectr gener facil within sourc watershedsmegawatthour thermal_gen_mwhcombin thermal gener facil within sourc watershedsmegawatthour thermal_cons_bcmcombin water consumpt use thermal generationbillion cubic meter thermal_with_bcmcombin water withdraw thermal generationbillion cubic meter n_utilitiesnumb electr util within sourc watershedsutil n_banumb balanc author within sourc watershedsbalanc author n_crop_classestot number differ type crop within sourc watershedscrop cropland_fractionfract land use crop within sourc watershedsfract developed_fractionfract land develop within sourc watershedsfract ag_runoff_maxmax amount agricultur runoff within sourc watershedsfract ag_runoff_av_exgwaverag agricultur runoff exclud ground water fraction ag_runoff_avaverag runoff agricultur landsfract dev_runof_maxmax amount agricultur runoff within sourc watershedsfract dev_runof_av_exgwaverag develop runoff exclud ground water fraction dev_runof_avaverag runoff develop landsfract np_runoff_maxmax amount nonpoint sourc runoff within sourc watershedsfract np_runoff_av_exgwaverag nonpoint runoff exclud ground water fraction np_runoff_av_exgw_unweightedaverag nonpoint runoff unweight exclud ground water fraction np_runoff_avaverag nonpoint sourc runofffract n_economic_sectorstot number differ econom sector within sourc watershedssector max_withdr_dis_kmmaximum distanc citi intak pointskilomet avg_withdr_dis_kmaverag distanc citi intak pointskilomet n_treatment_plantstot number wast water treatment plant oper within sourc watershedspl watershed_poptot number peopl live within sourc watersh boundariespeopl pop_cons_mseccombin water consumpt sourc watersh use peoplemsec av_fl_sur_conc_pctaverag surfac flow concentr av_fl_sur_conc_pct_unweightedaverag surfac flow concentr unweight av_ro_sur_conc_pctaverag surfac runoff concentr av_fl_all_conc_pctaverag flow concentr av_ro_all_conc_pctaverag runoff concentr av_fl_max_conc_pctmax averag flow concentr av_ro_max_conc_pctmax averag runoff concentr surface_contribution_pctsurfac contribut importance_of_worst_watershed_pctmeasur import watersh worst contamin variabl kablevari depend gamut reli function follow r packag clisymbol crayon dplyr dam exactextractr foreign geospher ggplot lwgeom magrittr purrr raster readxl reservoir rgdal rgeo sf sp spex stringr tibbl tidyr vroom testthat knitr rmarkdown knitr support question packag pleas contact contributor kristian nelson kristiannelsonpnnlgov sean turner seanturnerpnnlgov chri vernon chrisvernonpnnlgov author acknowledg author kristian nelson sean turner chri vernon jenni rice casey burleyson ryan mcmanamay kerim dickson research support us depart energi offic scienc part research multisector dynam earth environment system model program titl supporteddataset output rmarkdownhtml_vignett vignett vignetteindexentrysupporteddataset vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment r setup librarygamut follow dataset support gamut packag sector dataset sourc refer usag year land nation land cover databas landcov impervi nlcd httpssuswestamazonawscommrlcnlcd__land_cover_l_zip yang et al land class per citi zone land usda cropland data layer ftpftpnassusdagovdownloadres_m_cdlszip usda nation agricultur statist servic cropland data layer land class per citi zone water clm v base layer receiv archiv chri min chen august oleson et al irrig crop per citi zone water estim use water unit state countylevel data httpswwwsciencebasegovcatalogitemgetafbebdacbd dieter et al counti level water use public suppli domest irrig thermoelectr power industri mine livestock aquacultur water exist hydropow assest plant dataset fy httpshydrosourceornlgovsitesdefaultfilesinlinefileseha_public_plantfy_gis_zip johnson et al exist hydropow dam water global reservoir dam databas httpsedacciesincolumbiaedupfsgrandhtml lehner et al hydropow dam reservoir locat energi uc ew energywat databas v httpswwwucsusaorg na water energi data us power plant water citi water map version httpsknbecoinformaticsorgviewdoifjdwr mcdonald et al fill water nation hydrographi dataset nhdplusv ftpftphorizonsystemscomnhdplusnhdplusv need refer na refer dieter ca linsey ks caldwel rr harri ivahnenko ti lovelac jk maupin barber nl estim use water unit state countylevel data ver june us geolog survey data releas httpsdoiorgftbv johnson mm sc kao nm samu r uriamartinez exist hydropow asset hydrosourc oak ridg nation laboratori oak ridg tn doi eha_fi lehner b reidi liermann c revenga c vˆrˆsmarti c feket b crouzet p dˆll p endejan frenken k magom j nilsson c robertson j rˆdel r sindorf n wisser highresolut map worldí reservoir dam sustain riverflow manag frontier ecolog environ oleson k coauthor technic descript version commun land model clm ncar technic note ncartnstr pp doidrrwm mcdonald ri weber kf padowski j boucher shemi estim watersh degrad last centuri impact watertreat cost world larg citi proceed nation academi scienc mekonnen mm hoekstra ay green blue grey water footprint crop deriv crop product hydrolog earth system scienc mekonnen mm hoekstra ay b nation water footprint account green blue grey water footprint product consumpt valu water research report seri unescoih delft netherland usda nation agricultur statist servic cropland data layer publish cropspecif data layer onlin avail httpnassgeodatagmueducropscap access aug usdanass washington dc yang l jin danielson p homer c gass l case costello c dewitz j fri j funk grannemann b rigg g xian new gener unit state nation land cover databas requir research prioriti design implement strategi p gener roxygen edit hand pleas edit document rior nameimport_rast aliasimport_rast titlecr raster object file path usag import_rasterraster_path argument itemraster_pathcharact full path input raster file file name extens valu raster object descript creat raster object file path detail creat raster object full path raster file name extens author chri r vernon chrisvernonpnnlgov gener roxygen edit hand pleas edit document rior nameget_nlud_nam aliasget_nlud_nam titleget_nlud_nam usag get_nlud_nameseconomic_id argument itemeconomic_idsdatafram nlud sector id descript get_nlud_nam detail function load nation land use dataset id merg economic_id get class name author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rior nameget_watershed_usag aliasget_watershed_usag titleget_watershed_usag usag get_watershed_usagec argument itemcityc analyz descript get_watershed_usag detail function load watersh usag tabl provid inform much citi use certain watersh author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rior nameget_c aliasget_c titleget_c usag get_citi descript get_citi detail read intern data file specifi us citi uwb databas provid consist map across citi intak watersh author sean turner seanturnerpnnlgov gener roxygen edit hand pleas edit document rior nameget_irrigation_bcm aliasget_irrigation_bcm titleget_irrigation_bcm usag get_irrigation_bcm descript get_irrigation_bcm detail function load huc irrig data billion cubic meter author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rior nameget_crop_map aliasget_crop_map titleget_crop_map usag get_crop_map descript get_crop_map detail read intern data file specifi gcam classif certain crop type author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rior nameimport_shapefil aliasimport_shapefil titlecr sf object shapefil usag import_shapefileshp_path quiet true method sf argument itemshp_pathcharact full path input shapefil file name extens itemquietboolean itemmethodtool use convert spatial data either sf rgdal valu sf object descript creat sf object shapefil detail creat sf object full path shapefil file name extens author chri r vernon chrisvernonpnnlgov gener roxygen edit hand pleas edit document rior nameget_ucs_power_pl aliasget_ucs_power_pl titleget_ucs_power_pl usag get_ucs_power_plantsucs_file_path method sp argument itemucs_file_pathful path uc xlsx file within data_dir itemmethodtool use convert spatial data either sp sf descript get_ucs_power_pl detail function read uc power plant databas author sean turner seanturnerpnnlgov gener roxygen edit hand pleas edit document rior nameget_source_contribut aliasget_source_contribut titleget_source_contribut usag get_source_contributiondata_dir file_path argument itemdata_diryour data directori itemfile_pathsth file path gamut input descript get_source_contribut detail function get citi water sourc contribut breakdown data uwscatch dataset author sean turner seanturnerpnnlgov gener roxygen edit hand pleas edit document rior nameget_irrigation_count aliasget_irrigation_count titleget_irrigation_count usag get_irrigation_countirrigation_c argument itemirrigation_cityirrig data subset citi watersh descript get_irrigation_count detail function count irrig crop vs rainf crop determin irrig statu author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rior nameget_epa_facil aliasget_epa_facil titleget_epa_facil usag get_epa_facil descript get_epa_facil detail function import epa facil data data facil locat type function take sic code reclassifi new categori author sean turner seanturnerpnnlgov gener roxygen edit hand pleas edit document rior nameget_watershed_t aliasget_watershed_t titleget_watershed_t usag get_watershed_tswatersh argument itemwatershedsselect watersh descript get_watershed_t detail function load runoff time seri select watersh analyz time seri inform use yield analysi author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rior nameget_demeter_fil aliasget_demeter_fil titleget_demeter_fil usag get_demeter_fileirrigation_file_path argument itemirrigation_file_pathful path demet data file descript get_demeter_fil detail function load demet file irrig rainf crop data author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rcount_watershed_datar namecount_watershed_data aliascount_watershed_data titlecount_watershed_data usag count_watershed_data data_dir citi null run_al true file_path cwatersh watercwm_v_world_watershedshp withdraw watercwm_v_snapped_withdrawal_pointsshp citypoint watercwm_v_city_centroidshp powerpl waterucsewenergywaterdatabasexlsx crop land_m_cdlscdl_lowres_usaimg crop_attribut land_m_cdlscdl_lowres_usaimgvatdbf irrig landversion_usa_demetercsv nlud landusa_nlud_lrtif hydro energyornl_ehahydroplant_fyrevisedxlsx transfer watertransfersusibtshuc_dicksonshp climat landkop_climate_classestif huc waterusa_huchuc_to_hucshp popul landpden_mtif runoff wateruwscatchusa_mean_runofftif nhd_flow wateruwscatchuwscatch_intake_flowsshp contribut wateruwscatchwatershed_contributionscsv argument itemdata_dirroot directori spatial data picprojectsimteleconnectionsdata itemcitiesa vector citi includ count omit citi includ itemrun_allto deprec run current configur itemfile_pathsfil path geospati input dataset descript count_watershed_data detail count teleconnect associ water suppli catchment associ citi gener roxygen edit hand pleas edit document rior nameget_runoff_valu aliasget_runoff_valu titleget_runoff_valu usag get_runoff_valu cropcover_agg runoff_agg lc_valu polygon_area land_tabl argument itemcropcover_aggcropcov raster itemrunoff_aggrunoff raster itemlc_valuesland cover valu itempolygon_areaarea select watersh itemland_tableland tabl creat function descript get_runoff_valu detail function calcul runoff volum meter cube per second differ land cover across conu author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rior namereclassify_rast aliasreclassify_rast titlereclassify_rast usag reclassify_rastercrop_cover_level argument itemcrop_cover_levelslevel crop cover raster file descript reclassify_rast detail read intern data file specifi gcam classif certain crop type reclassifi cdl base gcam author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rhelper_functionsr namesuppress_intersect aliassuppress_intersect titlesuppress_intersect usag suppress_intersectobject object argument itemobjectfirst interesect object itemobjectsecond interesect object valu intersect object descript suppress_intersect detail tool use intersect object remov unnecessari warn author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rutilspip name alia titlepip oper usag lh rh descript see codemagrittrlinkmagrittr detail keywordintern gener roxygen edit hand pleas edit document rcount_teleconnectionsr namecount_watershed_teleconnect aliascount_watershed_teleconnect titlecount_watershed_teleconnect usag count_watershed_teleconnect data_dir citi null run_al true file_path cwatersh watercwm_v_world_watershedshp withdraw watercwm_v_snapped_withdrawal_pointsshp citypoint watercwm_v_city_centroidshp powerpl waterucsewenergywaterdatabasexlsx crop land_m_cdlscdl_lowres_usaimg crop_attribut land_m_cdlscdl_lowres_usaimgvatdbf irrig landversion_usa_demetercsv nlud landusa_nlud_lrtif hydro energyornl_ehahydroplant_fyrevisedxlsx transfer watertransfersusibtshuc_dicksonshp climat landkop_climate_classestif huc waterusa_huchuc_to_hucshp popul landpden_mtif runoff wateruwscatchusa_mean_runofftif nhd_flow wateruwscatchuwscatch_intake_flowsshp contribut wateruwscatchwatershed_contributionscsv argument itemdata_dirroot directori spatial data picprojectsimteleconnectionsdata itemcitiesa vector citi includ count omit citi includ itemrun_allto deprec run current configur itemfile_pathsfil path geospati input dataset descript count_watershed_teleconnect detail count teleconnect associ water suppli catchment associ citi gener roxygen edit hand pleas edit document rior namemask_raster_to_polygon aliasmask_raster_to_polygon titlemask raster polygon usag mask_raster_to_polygonraster_object polygon argument itemraster_objectcharact object class rasterlay itempolygoncharact polygon defin spatial boundari raster valu count eg given citi watersh descript mask raster polygon detail function mask raster file chosen polygon function differ normal mask make sure project layer author sean turner seanturnerpnnlgov gener roxygen edit hand pleas edit document rior nameget_hydro_dataset aliasget_hydro_dataset titleget_hydro_dataset usag get_hydro_datasetdata_dir hydro_file_path argument itemdata_diryour data directori itemhydro_file_pathhydro plant data file path descript get_hydro_dataset detail function load hydro power plant dataset filter necessari column packag author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rior nameget_popul aliasget_popul titleget_popul usag get_popul descript get_popul detail function load us censu popul data citi gamut author sean turner seanturnerpnnlgov gener roxygen edit hand pleas edit document rior nameget_wasteflow_point aliasget_wasteflow_point titleget_wasteflow_point usag get_wasteflow_point descript get_wasteflow_point detail function load wast flow tabl convert spatial point datafram author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rior nameget_zonal_data aliasget_zonal_data titleget raster frequenc per class polygon input area usag get_zonal_dataraster_object polygon argument itemraster_objectcharact object class rasterlay itempolygoncharact polygon defin spatial boundari raster valu count eg given citi watersh valu tabl crop type present coverag within polygon area descript get raster frequenc per class polygon input area detail get coverag per class raster valu repres input raster dataset restrict input watersh polygon target citi author kristian nelson kristiannelsonpnnlgov gener roxygen edit hand pleas edit document rhelper_functionsr namesup aliassup titlesuppress warn conveni function usag supsup argument itemsupitem want suppress valu action descript suppress warn conveni function author kristian nelson kristiannelsonpnnlgov