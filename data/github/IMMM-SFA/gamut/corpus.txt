readmemd gener readmermd pleas edit file buildhttpsgithubcomimmmsfagamutworkflowsbuildbadgesvg codecovhttpscodecovioghimmmsfagamutbranchmaingraphbadgesvgtokenufevxwvcohttpscodecovioghimmmsfagamut doihttpszenodoorgbadgesvghttpszenodoorgbadgelatestdoi gamut geospati analyt multisector urban teleconnect descript gamut tool explor teleconnect citi unit state human activ occur associ water suppli catchment teleconnect causal connect correl human environment phenomena occur long distanc apart p aligncent img srchttpsgithubcomimmmsfagamutblobmaininstextdatagamut_plotpngrawtru width height p get start gamut gamut instal remot repositori use r devtool packag r prompt run command r installpackagesdevtool librarydevtool devtoolsinstall_githubimmmsfagamut librarygamut run problem remot instal may also tri option instal gamut save packag file click herehttpsapigithubcomreposimmmsfagamuttarballhead run install_loc shown r install_localpathtopackag clone repo comput use git clone httpsgithubcomimmmsfagamut load project rstudio instal note depend version r may need instal rtool retriev packag troubl instal installpackagesrtool find instal file herehttpscranrprojectorgbinwindowsrtool depend version sf also may need instal packag rcpp order gamut build correctli data file download gamut input dataset visit zenodo data repositoryhttpszenodoorgrecordyvdnnrmjpi download zip data file prefer directori make sure combin energi land misc water folder singl directori tabl show file use within gamut softwar packag gamut name sub folder locat full file path data sourc watersh water watercwm_v_world_watershedshp httpsknbecoinformaticsorgviewdoiaffjdwr withdraw water watercwm_v_snapped_withdrawal_pointsshp httpsknbecoinformaticsorgviewdoiaffjdwr citypoint water watercwm_v_city_centroidshp httpsknbecoinformaticsorgviewdoiaffjdwr powerpl water waterucsewenergywaterdatabasexlsx httpswwwucsusaorgresourcesucsewenergywaterdatabas crop land land_m_cdlscdl_lowres_usaimg httpswwwnassusdagovresearch_and_sciencecroplandreleas crop_attribut land land_m_cdlscdl_lowres_usaimgvatdbf httpswwwnassusdagovresearch_and_sciencecroplandreleas irrig land landversion_usa_demetercsv gcam demet data nlud land landusa_nlud_lrtif httpsdrivegooglecomfiledvmnfwjcalfsztyjwsbligsngycview hydro energi energyeha_public_plantfy_gis_ornl_ehahydroplant_fyrevisedxlsx httpshydrosourceornlgovnod climat land landkop_climate_classestif httpkoeppengeigervuwienacatpresenthtm huc water waterusa_huchuc_to_hucshp httpprdtnmswebsiteuswestamazonawscomprefixstagedproductshydrographywbdnationalgdb popul land landpden_blockpden_mtif httpswwwsciencebasegovcatalogitemebeebddc runoff water wateruwscatchhistorical_mean_runoffusa_mean_runofftif httpszenodoorgrecord nhd_flow water wateruwscatchwatershed_flow_contributionsuwb_intake_flowsshp httpszenodoorgrecord contribut water wateruwscatchwatershed_flow_contributionswatershed_contributionscsv httpszenodoorgrecord usag necessari data organ correct format packag readi use main function count_watershed_teleconnect within function set data directori select citi citi name need format citi state multipl citi place insid c avail citi found avail citi wiki pagehttpsgithubcomimmmsfagamutwikiavailablec exampl would type consol r count_watershed_teleconnectionsdata_dir yourgamutdata_dir citi cportland knoxvil tn new york ny indianapoli seattl wa packag cycl citi respect watersh produc tabl sever column inform learn variabl mean scroll bottom section see tabl variabl result function look someth like citi city_popul n_watersh n_other_c dependent_city_pop watershed_area_sqkm storage_bcm yield_bcm irr_cons_bcm n_climate_zon n_hydro_pl n_thermal_pl n_fac_agcrop n_fac_aglivestock n_fac_cnsmnf n_fac_min n_fac_oilga n_fac_tot hydro_gen_mwh thermal_gen_mwh thermal_cons_bcm thermal_with_bcm n_util n_ba n_crop_class cropland_fract developed_fract ag_runoff_max ag_runoff_av_exgw ag_runoff_av dev_runoff_max dev_runoff_av_exgw dev_runoff_av np_runoff_max np_runoff_av_exgw np_runoff_av_exgw_unweight np_runoff_av n_economic_sector max_withdr_dist_km avg_withdr_dis_km n_treatment_pl watershed_pop pop_cons_msec av_fl_sur_conc_pct av_fl_sur_conc_pct_unweight av_ro_sur_conc_pct av_fl_all_conc_pct av_ro_all_conc_pct av_fl_max_conc_pct av_ro_max_conc_pct surface_contribution_pct importance_of_worst_watershed_pct portland e knoxvil tn e new york ny e indianapoli e seattl wa e tabl use compar differ variabl multipl citi graph compar much develop land citi watersh p aligncent img srchttpsgithubcomimmmsfagamutblobmaininstextdatagamut_graphpngrawtru width height p tabl show explan variabl creat function variabl name descript unit city_popul popul citi analyz peopl n_watersh number watersh citi use sourc drink water watersh n_other_c number citi pull watersh citi dependent_city_pop total popul peopl depend citi watersh peopl watershed_area_sqkm combin area sourc watersh citi squar kilomet storage_bcm combin storag capac citi catchment billion cubic meter yield_bcm combin yield capac citi catchment billion cubic meter irr_cons_bcm combin water consumpt use irrig watersh billion cubic meter n_climate_zon number climat zone sourc watersh cover zone n_hydro_pl number hydroelectr power plant oper within sourc watersh plant n_thermal_pl number thermal power plant oper within sourc watersh plant n_fac_agcrop number agricultur crop facil within sourc watersh facil n_fac_aglivestock number agicultur livestock facil within sourc watersh facil n_fac_cnsmnf number construct manufactur facil within sourc watersh facil n_fac_min number mine facil within sourc watersh facil n_fac_oilga number oil ga facil within sourc watersh facil n_fac_tot total number facil oper within sourc watersh facil hydro_gen_mwh combin hydroelectr gener facil within sourc watersh megawatthour thermal_gen_mwh combin thermal gener facil within sourc watersh megawatthour thermal_cons_bcm combin water consumpt use thermal gener billion cubic meter thermal_with_bcm combin water withdraw thermal gener billion cubic meter n_util number electr util within sourc watersh util n_ba number balanc author within sourc watersh balanc author n_crop_class total number differ type crop within sourc watersh crop cropland_fract fraction land use crop within sourc watersh fraction developed_fract fraction land develop within sourc watersh fraction ag_runoff_max max amount agricultur runoff within sourc watersh fraction ag_runoff_av_exgw averag agricultur runoff exclud ground water fraction ag_runoff_av averag runoff agricultur land fraction dev_runof_max max amount agricultur runoff within sourc watersh fraction dev_runof_av_exgw averag develop runoff exclud ground water fraction dev_runof_av averag runoff develop land fraction np_runoff_max max amount nonpoint sourc runoff within sourc watersh fraction np_runoff_av_exgw averag nonpoint runoff exclud ground water fraction np_runoff_av_exgw_unweight averag nonpoint runoff unweight exclud ground water fraction np_runoff_av averag nonpoint sourc runoff fraction n_economic_sector total number differ econom sector within sourc watersh sector max_withdr_dis_km maximum distanc citi intak point kilomet avg_withdr_dis_km averag distanc citi intak point kilomet n_treatment_pl total number wast water treatment plant oper within sourc watersh plant watershed_pop total number peopl live within sourc watersh boundari peopl pop_cons_msec combin water consumpt sourc watersh use peopl msec av_fl_sur_conc_pct averag surfac flow concentr av_fl_sur_conc_pct_unweight averag surfac flow concentr unweight av_ro_sur_conc_pct averag surfac runoff concentr av_fl_all_conc_pct averag flow concentr av_ro_all_conc_pct averag runoff concentr av_fl_max_conc_pct max averag flow concentr av_ro_max_conc_pct max averag runoff concentr surface_contribution_pct surfac contribut importance_of_worst_watershed_pct measur import watersh worst contamin depend gamut reli function follow r packag clisymbol crayon dplyr dam exactextractr foreign geospher ggplot lwgeom magrittr purrr raster readxl reservoir rgdal rgeo sf sp spex stringr tibbl tidyr vroom testthat knitr rmarkdown knitr support question packag pleas contact contributor kristian nelson kristiannelsonpnnlgov sean turner seanturnerpnnlgov chri vernon chrisvernonpnnlgov author acknowledg author kristian nelson sean turner chri vernon jenni rice casey burleyson ryan mcmanamay kerim dickson research support us depart energi offic scienc part research multisector dynam earth environment system model program gamut softwar contribut repositori httpsgithubcomimmmsfagamut issu httpsgithubcomimmmsfagamutissu new_issu httpsgithubcomimmmsfagamutissuesnew readm httpsgithubcomimmmsfagamutreadm email kristiannelsonpnnlgov softwar question question use gamut packag first look documentationreadm see answer document doesnt answer question open issu githubnew_issu explain question packag maintain get back soon possibl would like contact packag maintain directli emailemail softwar contribut guidlin would like suggest new idea function gamut packag go issu pageissu creat issu new idea might would like fix bug add new function may follow develop guidelin best follow standard github workflow develop clone reporepositori comput use git clone httpsgithubcomimmmsfagamut open rstudio gamut project file rproj creat new branch dev branch new branch make chang write code test code run function count_watershed_teleconnectionsdata_dir yourdatadir citi cnew york ny portland make sure citi singl multipl watersh work properli document code ctrlshiftd check code devtoolscheck aim error gamut current warn outsid packag warn ignor commit push chang submit pull requesthttpsgithubcomimmmsfagamutpul packag maintain review pull request either merg close report bug discov bug use gamut packag pleas creat issu githubnew_issu fix possibl pleas includ follow issu oper system name version step code reproduc bug titl gamut geospati r packag analyz multisector urban teleconnect tag r multisector dynam water energi land urban geospati date septemb output html_document df_print page author name kristian nelson orcid x affili name sean w turner orcid affili name chri r vernon orcid affili name jenni rice orcid affili bibliographi paperbib affili name pacif northwest nation laboratori richland washington usa index summari citi unit state withdraw surfac water meet public water suppli need land water gener often develop human activitiesmdashsuch agricultur mine industrymdashthat may compet water resourc contamin water suppli citi therebi connect sector water suppli catchment connect exampl multisector urban teleconnect interdepend geograph dispar region sourc region event one eg land use chang often impact seto term brought bring greater understand connect urban land use chang seto geospati analyt multisector urban teleconnect gamut packag provid nationalscal inform urban teleconnect citi combin land use data hydrolog analysi character quantifi urban sourc watersh human interact across contermin unit state figur gamut packag analyz urban citi watersh across contermin us shown figur look characterist like land use insid watersh boundariesgamut_figurepng width gamut packag comput dozen citylevel metric inform geograph natur surfac water suppli catchment presenc intens impact human activ catchment packag cycl step process first connect citi drink water resourc use urban water blueprint dataset mcdonald dataset combin enhanc dataset sourc contribut estim river flow statist high resolut runoff datanelson link citi watersh second step use watersh boundari mask input geospati layer addit gamut reli heavili use st_intersect function sfhttpscranrprojectorgwebpackagessfindexhtml packag intersect featur watersh join inform geospati layer layer encompass wide varieti watersh characterist includ land use land cover power gener infrastructur hydrolog data irrig stream flow runoff popul data similar multisector packag gamut produc new data combin multipl dataset use creat new statist nongeospati layer form data tabl join citi name municip id input layer use packag combin opensourc dataset access herehttpszenodoorgrecordyvdnnrmjpi nelson last step process creation output metric done calcul statist base mask input data citi creat link citi watersh characterist enabl gamut packag calcul numer metric may use multipl type citylevel multisector dynam research metric report gamut fall four main categori geograph characterist watersh eg climat zone land area distanc citi hydrolog potenti water contamin concentr nonpoint point withdrawalconsumpt water sector presenceintens multisector land use tabl show metric creat includ descript unit r vignett provid help user get start gamut may access herehttpsimmmsfagithubiogamut tabl metric report gamut metric name descript unit city_popul popul citi analyz peopl n_watersh number watersh citi use sourc drink water watersh n_other_c number citi pull watersh citi dependent_city_pop total popul peopl depend citi watersh peopl watershed_area_sqkm combin area sourc watersh citi squar kilomet storage_bcm combin storag capac citi catchment billion cubic meter yield_bcm combin yield capac citi catchment billion cubic meter irr_cons_bcm combin water consumpt use irrig watersh billion cubic meter n_climate_zon number climat zone sourc watersh cover zone n_hydro_pl number hydroelectr power plant oper within sourc watersh plant n_thermal_pl number thermal power plant oper within sourc watersh plant n_fac_agcrop number agricultur crop facil within sourc watersh facil n_fac_aglivestock number agicultur livestock facil within sourc watersh facil n_fac_cnsmnf number construct manufactur facil within sourc watersh facil n_fac_min number mine facil within sourc watersh facil n_fac_oilga number oil ga facil within sourc watersh facil n_fac_tot total number facil oper within sourc watersh facil hydro_gen_mwh combin hydroelectr gener facil within sourc watersh megawatthour thermal_gen_mwh combin thermal gener facil within sourc watersh megawatthour thermal_cons_bcm combin water consumpt use thermal gener billion cubic meter thermal_with_bcm combin water withdraw thermal gener billion cubic meter n_util number electr util within sourc watersh util n_ba number balanc author within sourc watersh balanc author n_crop_class total number differ type crop within sourc watersh crop cropland_fract fraction land use crop fraction developed_fract fraction land develop fraction ag_runoff_max agricultur runoff proport total runoff worstcas watersh fraction ag_runoff_av_exgw agricultur runoff proport total runoff suppli exc groundwat fraction ag_runoff_av agricultur runoff proport total runoff suppli inc groundwat fraction dev_runof_max urban runoff proport total runoff worstcas watersh fraction dev_runof_av_exgw urban runoff proport total runoff suppli exc groundwat fraction dev_runof_av urban runoff proport total runoff suppli inc groundwat fraction np_runoff_max max amount nonpoint sourc runoff within sourc watersh fraction np_runoff_av_exgw nonpoint proport potenti contamin suppli ppc exc groundwat fraction np_runoff_av_ exgw_unweight nonpoint suppli contamin averag across watersh fraction np_runoff_av nonpoint proport potenti contamin suppli ppc fraction n_economic_sector total number differ econom sector within sourc watersh sector max_withdr_dis_km maximum distanc citi intak point kilomet avg_withdr_dis_km averag distanc citi intak point kilomet n_treatment_pl total number wast water treatment plant oper within sourc watersh plant watershed_pop total number peopl live within sourc watersh boundari peopl pop_cons_msec combin water consumpt sourc watersh use peopl msec av_fl_sur_conc_pct point ppc surfac water base flow av_fl_sur_ conc_pct_unweight point ppc surfac water base flow weight sourc import av_ro_sur_conc_pct point ppc surfac water base runoff av_fl_all_conc_pct point ppc base flow av_ro_all_conc_pct point ppc base runoff av_fl_max_conc_pct point ppc base flow worstcas catchment av_ro_max_conc_pct point ppc base runoff worstcas catchment surface_contribution_pct proport total averag suppli made surfac water importance_of_worst_ watershed_pct proport total averag suppli made heavili contamin watersh statement need multisector dynam msd research studi coevolut human natur system research requir infrastructur expans land use scenario resourc demand project multisector model captur impact trend shock human system gamut packag offer new data meet number msd need packag may use infer possibl water resourc expans strategi major citi unit state exampl citi found heavili expos potenti contamin may like seek altern mean suppli eg water transfer invest water reus facil studi rice look de facto wastewat reus across us found increas wastewat concentr drink water treatment plant epa report especi low flow condit gamut packag abil look wastewat discharg averag flow find concentr much larger scale show packag could use studi like futur addit water contamin analysi gamut packag abil reveal sourc watersh heavili protect receiv cite inform inform land use energi expans scenario appli msd research exampl prevent signific expans human develop protect sourc watersh gamut may also use largescal hydrolog model correctli assign urban water demand specif intak whether research done water scarciti water pollut urban effect gamut packag provid use data bring greater understand anthropogen impact urban sourc watersh gamut packag open sourc may download use devtoolshttpsdevtoolsrliborg packag code wickham instruct packag download found documentationhttpsgithubcomimmmsfagamutreadm r installpackagesdevtool librarydevtool devtoolsinstall_githubimmmsfagamut librarygamut depend gamut reli function follow r packag clisymbol csardi crayon csardi dplyr henri dam goteti exactextractr baston foreign rcoreteam geospher hijman ggplot wickham lwgeom pebesma magrittr bach purrr henri raster hijman readxl wickham reservoir turner rgdal bivand rgeo bivand sf pebesma sp bivand spex sumner stringr wickham tibbl muller tidyr wickham vroom hester testthat wickham rmarkdown xie knitr xie acknowledg research support us depart energi offic scienc part research multisectordynam earth environment system model programhttpsclimatemodelingscienceenergygovprogrammultisectordynam refer