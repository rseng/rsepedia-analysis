chang log big break chang mbuildhttpsmosdefhubgithubiombuild record project adher semant versioninghttpsemverorg featur add wrap_coord function wrap particl box bug fix dont popul empti list hoomd snapshot mainten add nbval requir test conda recp remov six python legaci code remov exampl repositori fix travi instal mdshasum add changelog featur add cassandra mcf writer add hoomd snapshot convert gener mbcompound parm mdtraj residu add kwarg write_gsd bug fix fix uniqu name problem to_networkx default mbuild parwrit use improp fix ghost port attach remov compound remov duplic np particl tnp exampl import mcf writer networkx instal mainten add lgtm add azur ci test updat travi ci updat conda recip includ nbval pin nglview reduc length unit test renam amorphoussilica descript bugfix releas resolv potenti issu foyer depend mbuild bugfix remov foyer import produc circular depend break chang offici drop python featur load mbuild compound exist parm mdtraj object convert mbuild compound json format includ test notebook ci add nglview tooltip initi mbuild compound smile string write parameter structur charmm par file add method convert pybel add poscar file writer effort incorpor vasp mbuild bug fix remov unnecessari pybel import statement mbload chang proxi compound name mol file correct format renam atom name silica interfac exampl compat recent mbuild releas improv error handl box class add open block manag file open add _clone function proxi class properli clone instanc proxi miscellan add compound_pbpi file gener protoc compil gitignor improv document variou mbuild class function add addit test foyer_kwarg break chang last releas support python featur descript except rais attempt access nonexist port element capit better enforc parm convers xyz reader act pass compound lammp writer accur print residu id bugfix visual compound notebook longer return duplic widget name custom element longer clobber visual mainten imag gitter link updat link tutori correct instal document updat reflect chang conda configur document refresh gsd version pin order continu python support break chang python longer offici support test part develop process featur mbuild test packag python mainten mdtraj longer pin old version coveral drop use codecov month break chang last releas includ offici support python like work time mbuild test python develop featur residu name option infer compound name convers parm custom crossinteract nbfix parm jargon written lammp data file lammp writer print help comment verbos describ atom type associ potenti mainten stylist chang made suggest variou linter appveyor test python document instal doc updat explicitli list support python version comment point glozter anaconda channel updat point condaforg miscellan test depend foyer properli skip instal exampl updat accord new structur intern recip featur plugin recip architectur ad allow extern modul import insid mbuild python explicitli support test mainten contributor guid github issu pull request templat ad redund unus block code remov glotzer bioconda channel obsolet scope drop break chang write hoomdxml file unit kjmol nm instead kcalmol ang particl posit differ factor featur to_networkx function ad convert hierarchi compound graph pack function use xyz file run packmol bypass issu pdb file save hoomdxml file auto_scaletru scale refer unit max forcefield paramet mainten switch codecov code coverag test depend accident miss earlier pr clean bugfix update_coordin behav well pass xyz file oper simpl hierarchi intern convers parm structur hoomdxml file improv see featur special pair support pair inform gsd writer gsd file includ special pair use opl misc bugfix depend requir updat depend loop foyer mbuild resolv fix bug prevent appveyor build run temporari pdb file left behind pack function properli remov packingpi use temporari file previous never close sometim caus program reach limit open file process set os pytestignoreflaki replac favor xfail additon fix packmol input file input file close mbuild order ensur read packmol error report caught subprocess return error code microsoft vscode extran file ignor git featur pack function option constrain rotat compound use fill_box addit lammp datafil support add function atom charg molecular atom_styl fix atom molecular atomstyl add option atomstyl argument save function add test check correct atom format compound gener smile string user open babelhttpopenbabelorgwikimain_pag instal websitehttpsmosdefhubgithubiombuild updat detail properli cite mbuild openmm use energi minim simpl xyz file reader ad default compoundvisu improv mbuild box store angl mbuild box pass variou writer changelog includ root directori misc bugfix switch openmm mdtraj check element exist chang bilay notebook use compound method object manipul ad test ensur user provid custom forcefield xml file appli forcefield compound error gener miniconda md sum match perform test lammp box valu written appropri angstrom coordin hoomdxml gsd file correctli written rang l l bug order bravai angl nonrectangular lattic fix featur improv pack api fill_box method support userspecifi densiti support noncub box ad edg buffer pseudosupport period boundari allow user access packmol raw output improv document remov repetiti code proper support triclin lattic intuit port behavior addingremov bond port ad along bond vector bond remov port remov use force_overlap attribut add_bond true misc bugfix increas precis packmol overlap toler increas robust packingpi argument type continu integr ci fix document updat combin rule nonbond interact specifi save compound remov ambigi data type box attribut fix chang basi noncub lattic fix issu port align properli along userspecifi direct add support control foyer warn verbos save compound ad inform port__repr__ fix bug unit convers period compoundfrom_parm round latticelattice_point posit certain threshold merg pull request summerazuse_parm parm loader default remov mdtraj depend bump version tag tag merg pull request ctkbdevpackag fix requir contribut welcom via pull request githubhttpsgithubcommosdefhubmbuildpul develop andor user review request chang make comment rest file serv set gener guidelin contributor featur implement function gener flexibl fashion mbuild design gener flexibl limit singl chemistri file format simul engin simul method addit core featur attempt provid someth applic varieti usecas target focu area research howev specif featur target toward limit use case may appropri speak develop write code help make design choic allow flexibl version control current use standard pull request model contribut implement featur branch fork pleas tri keep master branch fork uptod master branch main repositori propos singl set relat chang small chang prefer larg chang major contribut often broken smaller pr larg pr affect mani part codebas harder review like caus merg conflict sourc code use consist style import consist style throughout sourc code follow criteria desir line wrap charact line indent space line end whitespac detail refer pephttpswwwpythonorgdevpepspep use precommithttpsprecommitcom automat check code style precommit includ dev environ git hook instal use bash precommit instal document code comment publicfac function docstr use numpi style includ concis paragraphstyl descript class function relev limit known issu descript argument intern function simpl onelin docstr test write unit test new function mbuild test automat unit test execut second test attempt cover option user select ad line sourc code cover unit test current use pytesthttpsdocspytestorgenlatest execut simpli call pytest root directori packag mbuild hierarch compon base molecul builder gitter chathttpsbadgesgitterimmosdefhubgittersvghttpsgitterimmosdefhublobbi azp build statushttpsdevazurecommosdefmbuild_apisbuildstatusmosdefhubmbuildbranchnamemasterhttpsdevazurecommosdefmbuild_buildlatestdefinitionidbranchnamemast anaconda badgehttpsanacondaorgcondaforgembuildbadgesversionsvghttpsanacondaorgcondaforgembuild codecovhttpscodecovioghmosdefhubmbuildbranchmastergraphbadgesvghttpscodecovioghmosdefhubmbuild line mbuild code assembl reusabl compon complex molecular system molecular dynam simul mbuild design minim even elimin need explicitli translat orient compon build system simpli tell connect two piec mbuild keep track system topolog dont worri manual defin bond construct chemic bond structur smaller compon learn get start contribut check websitehttpmbuildmosdeforg mbuild within mosdef ecosystem p aligncent img srcdocsimagesmosdefsvgrawtru altmbuild within mosdef ecosystem width height p mbuild packag part molecular simul design framework mosdef projecthttpmosdeforg librari mosdef ecosystem design provid util neccessari streamlin research simul workflow set simul studi also recommend user follow truehttpswwwtandfonlinecomdoiful transpar reproduc usablebyoth extens standard set common practic meant improv reproduc comput simul research quick start docker use mbuild jupyternotebook run docker contain depend instal use follow command sh docker pull mosdefmbuildlatest docker run name mbuild p mosdefmbuildlatest su anaconda binsh l c jupyternotebook nobrows ip notebookdir homeanacondambuildnotebook altern also start bourn shell directli sh docker run name mbuild mosdefmbuildlatest learn use mbuild docker pleas refer document herehttpsmbuildmosdeforgenlatestdockerhtml tutori interact tutori found binderhttpsmybinderorgbadgesvghttpsmybinderorgvghmosdefhubmbuild_tutorialsmast compon dash box drawn hand use eg avogadrohttpsavogadrocc gener elsewher compon wrap simpl python class user defin attach site port that hard part mbuild rest compon hierarchi simpl python class describ piec connect piec ultim complex structur creat line two code addit approach seamlessli expos tunabl paramet within hierarchi actual creat whole famili structur simpli adjust variabl python import mbuild mb mbuildexampl import pmpclayer pattern mbrandomdpattern random arrang piec surfac pmpc_layer pmpclayerchain_length patternpattern tile_x tile_i zwitterion brush betacristobalit substratedocsimagespmpcpng commun recip use casespecif system gener via mbuild recip user gracious contribut recip particular system includ graphen slit poreshttpsgithubcomrmatsumporebuild nanodroplet graphenehttpsgithubcomftietdropletbuild coarsegrain dnahttpsgithubcomzijiewumbuild_ona lipid bilayershttpsgithubcomuppittumbuild_bilay cite mbuild use packag pleas cite paperhttpdxdoiorg_ bibtex refer articlekleinmbuild author klein christoph sallai jáno jone trevor j iacovella christoph r mccabe clare cum peter titl hierarch compon base approach screen properti soft matter booktitl foundat molecular model simul seri molecular model simul applic perspect year doi httpdxdoiorg_ licensehttpsimgshieldsiobadgelicensemitbluesvghttpopensourceorglicensesmit variou subport librari may independ distribut differ licens see file specif term materi base upon work support nation scienc foundat grant nsf cbet nsf aci opinion find conclus recommend express materi author necessarili reflect view nation scienc foundat develop note tool licens assort note develop tool adapt mdtraj releas follow licens licens copyright c stanford univers author right reserv redistribut use file folder devtool basesetuppi setuppi file sourc binari form without modif permit provid follow condit met redistribut sourc code must retain copyright notic list condit follow disclaim redistribut binari form must reproduc copyright notic list condit follow disclaim document andor materi provid distribut softwar provid copyright holder contributor express impli warranti includ limit impli warranti merchant fit particular purpos disclaim event shall copyright holder contributor liabl direct indirect incident special exemplari consequenti damag includ limit procur substitut good servic loss use data profit busi interrupt howev caus theori liabil whether contract strict liabil tort includ neglig otherwis aris way use softwar even advis possibl damag pr summari pr checklist includ appropri unit test appropri docstr addedupd code approxim pep compliant issu raisedaddress name featur request suggest improv mbuild describ behavior would like ad mbuild clear concis descript propos idea describ solut youd like clear concis descript want happen describ altern youv consid clear concis descript altern solut featur youv consid addit context add context screenshot featur request name bug report report bug mbuild bug summari tri happen instead pleas copi past stack output code reproduc behavior pleas includ code snippet use reproduc bug python past code softwar version version mbuild use python c import mbuild mb printmb__version__ version python python version oper system name questionsdiscuss usag question import note discuss summari question discuss topic mbuild imag httpsimgshieldsiobadgelicensemitbluesvg target httpopensourceorglicensesmit hierarch compon base molecul builder line mbuild code assembl reusabl compon complex molecular system molecular simul mbuild design minim even elimin need explicitli translat orient compon build system simpli tell connect two piec mbuild keep track system topolog dont worri manual defin bond construct chemic bond structur smaller compon mbuild part mosdef ecosystem mbuild softwar conjunct molecular simul design framework mosdef httpsmosdeforg_ tool support wide rang simul engin includ cassandra httpscassandrandedu_ gpu optim mont carlo gomc httpgomcengwayneedu_ gromac httpswwwgromacsorg_ hoomdblu httpglotzerlabenginumicheduhoomdblue_ largescal atomicmolecular massiv parallel simul lammp httpslammpssandiagov_ mbuild mosdef tool allow simul reproduc across variou simul engin elimin need expert user engin replic continu advanc exist research addit softwar autogener mani differ system allow largescal screen chemic materi use signac httpssignacio_ manag simul data mosdef httpsmosdeforg_ softwar compris follow packag mbuild httpsmbuildmosdeforgenstable_ hierarch compon base molecul builder foyer httpsfoyermosdeforgenstable_ packag atomtyp well appli dissemin forcefield gmso httpsgmsomosdeforgenstable_ flexibl storag chemic topolog molecular simul toctre caption get start maxdepth getting_startedexample_system getting_startedinstallationinstallation_toc getting_startedquick_startquick_start getting_startedwriterswrit getting_startedtutorialstutori toctre caption topic guid maxdepth topic_guidesrecipe_develop topic_guidesdata_structur topic_guidesload_data topic_guidescoordinate_transform topic_guidesrecip toctre caption refer maxdepth referenceunit referenceciting_mbuild referenceolder_document exampl system compon dash box drawn hand use eg avogadro httpsavogadrocc_ gener elsewher mbuild httpsmbuildmosdeforgenstable_ build complex system simpl build block simpl attach site call port ie connect point build block python class custom creat prebuilt option mbuild librari mbuildlib hierarch structur parent children creat class easili pars modifi allow mbuild httpsmbuildmosdeforgenstable_ gener chemic structur piecem fashion creat import molecular section ad port connect port form bond togeth signac httpssignacio_ function enabl automat dynam method gener chemic system allow largescal chemic materi screen minim user interact ultim complex system creat line two code addit approach seamlessli expos tunabl paramet within hierarchi actual creat whole famili structur adjust variabl two pattern randomdpattern random arrang piec surfac brush_lay brushlayerchain_lenth patternpattern tile_x tile_i figur imagespmpcpng width align center zwitterion brush betacristobalit substrat exampl system creat use mbuild compon dash box creat extern tool like avogadro smile string compon solid box creat smaller dash compon construct larger complex system use mbuild function imag httpsimgshieldsiobadgelicensemitbluesvg target httpopensourceorglicensesmit variou subport librari may independ distribut differ licens see file specif term fill box allatom aa hexan ethanol system note foyer httpsfoyermosdeforgenstable_ use conjunct mbuild follow exampl demonstr mosdef httpsmosdeforg_ librari use togeth gener simul box import requir mbuild packag code ipython import mbuild mb construct allatom aa hexan ethanol use oplsaa forc field ff ship standard foyer httpsfoyermosdeforgenstable_ ff hexan ethanol molecul creat use smile string httpswwwdaylightcomdayhtmldoctheorytheorysmileshtml_ hexan ethanol residu name hex eto respect lastli hexan ethanol molecul configur energi minim properli reorient molecul specifi ff sometim need simul engin ensur initi configur energi high note energi minim step requir foyer httpsfoyermosdeforgenstable_ packag code ipython hexan mbloadcccccc smilestru hexanenam hex hexaneenergy_minimizeforcefieldoplsaa step ethanol mbloadcco smilestru ethanolnam eto ethanolenergy_minimizeforcefieldoplsaa step liquid box built densiti kgm sup mol ratio hexan ethanol orthogon box measur nm x zdimens code ipython box_liq mbfill_boxcompound hexan ethanol densiti compound_ratio box unit atom ua methan system note foyer httpsfoyermosdeforgenstable_ use conjunct mbuild follow exampl demonstr mosdef httpsmosdeforg_ librari integr gener simul box subset trappeunit atom httptrappeoitumnedu_ forc field ff come standard foyer httpsfoyermosdeforgenstable_ softwar packag import requir mbuild packag code ipython import mbuild mb construct pseudomonatom molecul unit atom ua methan use trapp httptrappeoitumnedu_ ff ua methan bead type _ch built child mbuildcompoundchildren parent mbuildcompound allow userselect residu name mbuildcompoundnam methan built use methan mbcompoundname_ch user must keep residu name _ch foyer httpsfoyermosdeforgenstable_ recogn bead type use standard trapp forc field xml file code ipython methan mbcompoundnamemet methane_child_bead mbcompoundname_ch methaneaddmethane_child_bead inherit_periodicityfals note inherit_period flag option boolean defaulttru replac period self period compound ad orthogon liquid box contain methan molecul measur nm x zdimens code ipython box_liq mbfill_boxcompoundmethan n_compound box _quickstart_load_fil load file mol file creat mbuildcompound ie pentan variabl load molecul mol httpchemyangccnueducnccbserveraimmsmolpdf_ file import requir mbuild packag code ipython import mbuild mb load pentanemol file directori code ipython pentan mbloadpath_to_mol_filepentanemol cif file build mbuildcompound ie etv_triclin variabl load crystallograph inform file cif httpswwwiucrorgresourcescif_ file select number cell unit popul x zdimens import requir mbuild packag code ipython import mbuild mb mbuildlattic import load_cif cif httpswwwiucrorgresourcescif_ file load use load_cif function next three cell unit shall built x zdimens popul function final cif httpswwwiucrorgresourcescif_ residu name etv code ipython lattice_cif_etv_triclin load_cifpath_to_cif_fileetv_tricliniccif etv_triclin lattice_cif_etv_triclinicpopulatex z etv_triclinicnam etv file type mbuild also support refloading_data file via hoomd_snapshot gsd smile string parm structur polym use two differ monom unit b construct polym cap carboxyl acid amin end group import requir mbuild packag code ipython import mbuild mb mbuildlibrecipespolym import polym creat monom unit comp_ comp_ use smile string httpswwwdaylightcomdayhtmldoctheorytheorysmileshtml_ set chain polym class ad comp_ comp_ monom b polym note set indic identifi atom remov port creat place code ipython comp_ mbloadcc smilestru mbuild compound monom unit comp_ mbloadcoc smilestru mbuild compound monom unit chain polym chainadd_monomercompoundcomp_ indic separ replacetru chainadd_monomercompoundcomp_ indic separ replacetru select carboxyl acid amin end group want use head tail polym build polym three iter ab sequenc select head tail end group code ipython chainadd_end_groupsmbloadcoosmilestru index separ duplicatefals labelhead chainadd_end_groupsmbloadn smilestru index separ duplicatefals labeltail chainbuildn sequenceab chainvisu figur imagespolymer_example_imagepng width align center exampl polym ab sequenc togeth carboxyl acid amin end group box import requir mbuild packag code ipython import mbuild mb orthogon box build empti orthogon mbuild box ie angl degre 𝛼 𝛽 𝛾 measur nm x zdimens note note angl specifi system default orthogon box ie angl degre 𝛼 𝛽 𝛾 code ipython empty_box mbboxlength angl nonorthogon box build empti nonorthogon mbuild box ie angl degre 𝛼 𝛽 𝛾 measur nm x ydimens nm zdimens code ipython empty_box mbboxlength angl quick start imag httpsimgshieldsiobadgelicensemitbluesvg target httpopensourceorglicensesmit mosdef httpsmosdeforg_ softwar compris follow packag mbuild httpsmbuildmosdeforgenstable_ hierarch compon base molecul builder foyer httpsfoyermosdeforgenstable_ packag atomtyp well appli dissemin forcefield gmso httpsgmsomosdeforgenstable_ flexibl storag chemic topolog molecular simul note foyer gmso use togeth mbuild creat requir file conduct simul run time paramet simul engin need creat user follow exampl differ type simul box construct use mosdef softwar molecular simul usual compris mani molecul contain box npt nvt ensembl box gemc gcmc ensembl mbuild librari allow easi gener simul box box util line python code follow tutori avail either html interact jupyt httpsjupyterorg_ notebook toctre load_fil box_exampl fill_box_exampl polymer_exampl instal toctre instal docker use mbuild docker docker container technolog allow entir applic depend packag distribut imag simplifi instal process user substanti reduc platform depend eg differ compil version librari etc section howto guid use mbuild docker prerequisit docker instal machin docker instal document httpsdocsdockercomgetdocker_ instruct get docker run machin familiar docker internet full good tutori like docker curriculum httpsdockercurriculumcom_ youtub httpswwwyoutubecomwatchvzjwbkzfpifeatureyoutube_ jupyt quick start work docker instal use follow command start jupyt notebook mbuild requir depend codeblock bash docker pull mosdefmbuildlatest docker run name mbuild p mosdefmbuildlatest command provid contain contain start jupyternotebook contain locat homeanacondadata access notebook past notebook url web browser comput finish use controlc exit notebook usual docker contain exit upon notebook shutdown warn contain natur ephemer filesystem chang eg ad new notebook persist end contain lifecycl contain remov chang code addit persist see section persist data note flag connect keyboard termin run contain may run prior command without flag awar contain respond keyboard input case would need use docker ps docker kill command shut contain persist user volum use mbuild docker contain need access data local machin wish save file gener contain mount user volum contain user volum provid way persist filesystem chang made contain regardless contain lifecycl exampl might want creat directori call mbuildnotebook local system store mbuild notebookscod order make access within contain notebook creatededit use follow step codeblock bash mkdir mbuildnotebook cd mbuildnotebook docker run name mbuild mount typebindsourcepwdtargethomeanacondadata p mosdefmbuildlatest easili mount differ directori local machin chang sourcepwd sourcepathtomyfavoritedirectori note mount flag mount volum docker contain use bind mount bind current directori local filesystem homeanacondadata locat contain file see jupyternotebook browser window exist local machin warn use contain jupyt notebook use homeanacondadata locat mount point insid contain default notebook directori run python script contain jupyt notebook great way explor new softwar prototyp code howev come time product scienc often better work python script order execut python script examplepi exist current work directori local machin run codeblock bash docker run mount typebindsourcepwdtargethomeanacondadata mosdefmbuildlatest python datatestpi note bind mount current work directori homeanacondadata command pass contain python datatestpi note prefix data script enter contain home folder homeanaconda script locat homeanacondadata warn bind mount targethomeanaconda caus error dont requir jupyt notebook want python interpret run codeblock bash docker run mount typebindsourcepwdtargethomeanacondadata mosdefmbuildlatest python dont need access local data cours drop mount command codeblock bash docker run mosdefmbuildlatest python differ mbuild version instead use latest use imag mosdefmbuildst recent stabl releas mbuild clean remov contain use follow command codeblock bash docker contain rm mbuild imag still exist machin see tutori top page inform warn abl start second contain name eg mbuild first contain remov note need name contain mbuild shown exampl name mbuild docker give contain name automat see contain machin run docker ps instal instal conda httpsrepoanacondacomminiconda_ conda instal c condaforg mbuild altern add requir channel condarc simpli instal without specifi channel conda config add channel condaforg conda instal mbuild note order channel ad matter condaforg highest prioriti result ad last condarc file list first note packmol binari unavail window condaforg channel use mbuild conda window system requir omnia channel use follow command use mbuild conda window system conda instal c condaforg c omnia mbuild note mdtraj websit httpmdtrajorgnew_to_pythonhtml_ make nice case use python particular anaconda scientif python distribut httpswwwanacondacomproductsindividual_ manag numer scientif python packag instal edit version sourc make life easier recommend use prepackag python distribut like miniconda httpsdocscondaioenlatestminicondahtml_ order get depend git clone httpsgithubcommosdefhubmbuild cd mbuild conda env creat f environmentdevyml conda activ mbuilddev pip instal e note instal osx unix use window use environmentwinyml instead environmentdevyml instal precommit use precommit httpsprecommitcom_ automat handl code format packag includ dev environ mbuilddev conda environ activ precommit instal local git hook run precommit instal option file check run precommit run allfil support python version python offici support includ test develop packag support python drop august python version older may success build function guarante made test instal mbuild use pytest httpsdocspytestorgenstable_ unit test run simpli run follow base directori conda instal pytest pytest v build document mbuild use sphinx httpswwwsphinxdocorgenmasterindexhtml_ build document build doc local run follow doc directori pip instal r requirementstxt make html ethan read file port coordin transform note mbuild expect distanc unit nanomet exampl well cover read molecular compon file introduc concept port start use coordin transform first need import mbuild packag code ipython import mbuild mb probabl notic creat methan molecul last tutori manual ad particl bond compound bit cumbersom easiest way creat small reusabl compon methyl amin monom hand draw use softwar like avogadro httpsavogadrocc__ export either pdb mol file file contain connect inform let start read methyl group pdb file code ipython import mbuild mb ch mbloadchpdb chvisual let use first coordin transform center methyl carbon atom code ipython import mbuild mb ch mbloadchpdb chtranslatechpo move carbon origin methyl group load center order connect compound mbuild make use special type compound port port compound two set four ghost particl assist bond creation addit port anchor attribut typic point particl port associ methyl group port anchor carbon atom form bond carbon code ipython import mbuild mb ch mbloadchpdb chtranslatechpo move carbon origin port mbportanchorch chaddport labelup place port approxim half cc bond length chuptransl default port never output mbuild structur howev use look molecul port check work go code ipython chvisualizeshow_portstru wrap methyl group python class reus compon build complex molecul later code ipython import mbuild mb class chmbcompound def __init__self superch self__init__ mbloadchpdb compoundself selftranslateselfpo move carbon origin port mbportanchorself selfaddport labelup place port approxim half cc bond length selfuptransl two port connect forc overlap space parent compound rotat translat amount note tri connect two methyl right use one set four ghost particl would port overlap perfectli carbon hydrogen would also perfectli overlap ghost atom port arrang ident respect atom exampl port direct indic forc port ch overlap ch would look like ch perfectli overlap atom solv problem everi port contain second set ghost atom point opposit direct two compound connect port place anchor atom farthest away chosen automat prevent overlap scenario ch ch forc overlap chch automat chosen fun part stick em togeth creat ethan code ipython ethan mbcompound ethaneaddch labelmethyl_ ethaneaddch labelmethyl_ mbforce_overlapmove_thisethanemethyl_ from_positionsethanemethyl_up to_positionsethanemethyl_up force_overlap function take compound rotat translat two compound overlap typic case two compound port case methylup methylup code ipython ethanevisu code ipython ethanevisualizeshow_portstru similarli want make ethan reusabl compon need wrap python class code ipython import mbuild mb class ethanembcompound def __init__self superethan self__init__ selfaddch labelmethyl_ selfaddch labelmethyl_ mbforce_overlapmove_thisselfmethyl_ from_positionsselfmethyl_up to_positionsselfmethyl_up code ipython ethan ethan ethanevisu code ipython save mol ethanesaveethanemol overwritetru build simpl alkan purpos tutori demonstr construct alkan polym provid familiar mani underli function mbuild note robust polym construct recip alreadi exist mbuild also demonstr end tutori set monom first step construct basic repeat unit alkan ie mathch_ group similar construct mathch_ monom prior methan tutori rather import coordin pdb file previou exampl instead explicitli defin class recal distanc unit nm mbuild code ipython import mbuild mb class chmbcompound def __init__self superch self__init__ add carbon selfaddmbparticlenamec po labelc add hydrogen selfaddmbparticlenameh po labelhc selfaddmbparticlenameh po labelhc add bond atom selfadd_bondselfc selfhc selfadd_bondselfc selfhc add port anchor carbon selfaddmbportanchorself labelup selfaddmbportanchorself labeldown move port approxim half cc bond length away carbon selfuptransl selfdowntransl monom ch monomervisualizeshow_portstru configur monom particularli realist conform one could use monom construct polym appli energi minim scheme demonstr use mbuild rotat command provid realist start point use basic script appli rotat hydrogen atom sinc hydrogen start apart know apart rotat half differ closer around yaxi note rotat angl given radian similarli port rotat around xaxi amount atom ad realist orient code ipython import numpi np import mbuild mb class chmbcompound def __init__self superch self__init__ add carbon selfaddmbparticlenamec po labelc add hydrogen selfaddmbparticlenameh po labelhc selfaddmbparticlenameh po labelhc rotat hydrogen theta nppi mbrotateselfhc theta around mbrotateselfhc theta around selfhcrot theta around selfhcrotatetheta around add bond atom selfadd_bondselfc selfhc selfadd_bondselfc selfhc add port appropri rotat selfaddmbportanchorself labelup selfuptransl selfuprotatetheta around selfaddmbportanchorself labeldown selfdowntransl selfdownrotatetheta around monom ch monomervisualizeshow_portstru defin polymer class basic monom construct construct polym connect port togeth first instanti one instanc ch class ast_monom use clone function make copi force_overlap function use connect port current_monom port last_monon code ipython class alkanepolymermbcompound def __init__self superalkanepolym self__init__ last_monom ch selfaddlast_monom rang current_monom ch mbforce_overlapmove_thiscurrent_monom from_positionscurrent_monomerup to_positionslast_monomerdown selfaddcurrent_monom last_monom current_monom polym alkanepolym polymervisualizeshow_portstru visual structur demonstr problem polym curl result fact port defin locat space also orient trivial fix rotat port around yaxi also add variabl chain_length loop init allow length polym adjust class instanti code ipython import numpi np import mbuild mb class chmbcompound def __init__self superch self__init__ add carbon hydrogen selfaddmbparticlenamec po labelc selfaddmbparticlenameh po labelhc selfaddmbparticlenameh po labelhc rotat hydrogen theta nppi selfhcrotatetheta around selfhcrotatetheta around add bond atom selfadd_bondselfc selfhc selfadd_bondselfc selfhc add port selfaddmbportanchorself labelup selfuptransl selfuprotatetheta around selfaddmbportanchorself labeldown selfdowntransl selfdownrotatenppi selfdownrotatetheta around class alkanepolymermbcompound def __init__self chain_length superalkanepolym self__init__ last_monom ch selfaddlast_monom rang chain_length current_monom ch mbforce_overlapmove_thiscurrent_monom from_positionscurrent_monomerup to_positionslast_monomerdown selfaddcurrent_monom last_monomercurrent_monom code ipython polym alkanepolymerchain_length polymervisualizeshow_portstru use mbuild polym class mbuild provid prebuilt class perform basic function sinc design gener take argument replic n sequenc singl monom ab two differ monom bind togeth remov atombead via specifi index number indic graphic descript polym builder creat port bond togeth provid figur imagespolymer_imagepng width align center polym builder class exampl show defin atom replac port port bond togeth monom addit port util ad differ end group moieti polym note port locat may critic ensur molecul overlap built build simpl hexan simpl hexan molecul built use mbuild packag polym builder done load methan molecul via smile string indic explicitli select molecul build proper direct overlap code ipython import mbuild mb mbuildlibrecipespolym import polym comp mbloadc smilestru mbuild compound monom unit chain polym chainadd_monomercompoundcomp indic separ replacetru chainbuildn sequencea use multipl monom cap end polym exampl use methyl ether methan monom build polym cap fluorin alcohol end group monom combin togeth ab sequenc two time n mean polym contain monom abab end group ad via add_end_group attribut specifi atom use index distanc bond separ locat end group label tail end group duplic head polym duplic indic explicitli select molecul build proper direct overlap code ipython mbuildlibrecipespolym import polym import mbuild mb comp_ mbloadc smilestru comp_ mbloadcoc smilestru chain polym chainadd_monomercompoundcomp_ indic separ replacetru chainadd_monomercompoundcomp_ indic separ replacetru chainadd_end_groupsmbloadosmilestru cap polym alcohol index separ labelhead duplicatefals chainadd_end_groupsmbloadfsmilestru cap polym fluorin index separ labeltail duplicatefals chainbuildn sequenceab chainvisualizeshow_portstru build system alkan system alkan construct simpli clone polym construct translat andor rotat alkan space mbuild provid mani routin use creat differ pattern polym shift code ipython comp mbloadc smilestru mbuild compound monom unit polym polym polymeradd_monomercompoundcomp indic separ replacetru polymerbuildn sequencea pattern gener put point xyplan well rotat polym orient normal xyplan polymerrotatenppi defin compound hold polym system mbcompound creat pattern point fill disk pattern gener thu need scale provid appropri space pattern_disk mbdiskpattern pattern_diskscal clone polym move point pattern po pattern_disk current_polym mbclonepolym current_polymertranslatepo systemaddcurrent_polym systemvisu pattern use eg griddpattern also use rotat command random orient code ipython import random comp mbloadc smilestru polym polym polymeradd_monomercompoundcomp indic separ replacetru polymerbuildn sequencea system mbcompound polymerrotatenppi pattern_disk mbgriddpattern pattern_diskscal po pattern_disk current_polym mbclonepolym around rotat around x z current_polymerrotaterandomuniform nppi around current_polymertranslatepo systemaddcurrent_polym systemvisu mbuild also provid interfac packmol allow creation random configur code ipython comp mbloadc smilestru mbuild compound monom unit polym polym polymeradd_monomercompoundcomp indic separ replacetru polymerbuildn sequencea system mbfill_boxpolym n_compound overlap box systemvisu variat rather linear chain polym class wrote easili chang small perturb given port avoid accumul deviat equilibrium angl clone unperturb monom time ie monomer_proto appli random variat also defin variabl delta control maximum amount perturb note larg valu delta may result chain overlap mbuild current includ routin exclud overlap code ipython import mbuild mb import random class alkanepolymermbcompound def __init__self chain_length delta superalkanepolym self__init__ monomer_proto ch last_monom ch last_monomerdownrotaterandomuniformdeltadelta last_monomerdownrotaterandomuniformdeltadelta selfaddlast_monom rangechain_length current_monom mbclonemonomer_proto current_monomerdownrotaterandomuniformdeltadelta current_monomerdownrotaterandomuniformdeltadelta mbforce_overlapmove_thiscurrent_monom from_positionscurrent_monomerup to_positionslast_monomerdown selfaddcurrent_monom last_monomercurrent_monom polym alkanepolymerchain_length delta polymervisu lattic tutori follow notebook provid thorough walkthrough use lattic class build crystal system lattic function variabledimens crystal structur lattic support dimension mbuild mean system replac necessari vector compon emul dimension interest multicompon crystal lattic support indefinit amount lattic point data structur repeat cell larg user defin use compon occupi lattic point mbuildcompound object allow user build system sinc compound represent matter design molecular crystal coars grain atom even alloy crystal structur support triclin lattic full support triclin lattic crystal structur technic develop either user provid lattic paramet know vector span unit cell also provid gener lattic structur crystallograph index file cif httpswwwiucrorgresourcescifdocumentation_ format pleas also see refquickstart_load_fil section way load file progress templat recip gener common crystal structur fcc bcc hex etc current develop releas rel shortli gener structur current user need know lattic paramet lattic vector defin unit lattic data structur introduct explor relev data structur attribut lattic class inform essenti build desir crystal structur begin call python help method observ paramet attribut lattic class code ipython import mbuild helpmbuildlattic see quit attribut paramet make class also lot inlin exampl well ever get stuck rememb use python builtin help method latticelattice_spac data structur array detail length repeat cell crystal either use numpi array object simpli pass list lattic handl rest rememb mbuild unit length nanomet nm must pass three length even equival lattic paramet matha b c view crystallograph inform exampl code ipython lattice_spac latticelattice_vector lattice_vector x array defin vector encapsul repeat cell option valu user pass defin cell either must pass bravai angl cell lattic paramet must provid neither pass default valu vector encas cubic lattic note user use build lattic structur interest usual easier user provid bravai angl instead user want vector lattic object calcul user exampl cubic cell code ipython lattice_vector latticeangl angl array defin three bravai angl lattic commonli refer mathalpha beta gamma definit lattic paramet exampl cubic cell code ipython angl latticelattice_point lattice_point common sourc confus creat crystal structur crystallograph term minimum basi set point space defin point lattic exist requir user defin system note mit opencoursewar excel pdf inform httpsocwmiteducoursesearthatmosphericandplanetarysciencesstructureofearthmaterialsfalllecturenoteslecpdf_ tricki issu come data structur lattice_point dictionari dictkey item string id basi point dictvalu item nest list fraction coordin uniqu lattic point cell compound multipl lattice_point easier put coordin nest list key valu two exampl given fcc unit cell one id one uniqu id lattice_point exampl fcc uniqu code ipython lattice_point b c exampl fcc code ipython lattice_point lattic public method lattic class also contain method respons appli compound lattic point user defin cell replic x z direct latticepopulatecompound_dictnon x z method use lattic object place compound specifi lattice_point option input class compound_dict input anoth dictionari defin relationship lattice_point compound user want popul lattic dictkey dictionari must key lattice_point dictionari howev dictitem case compound user want place lattic point use exampl use fcc exampl copi exampl fcc uniqu code ipython lattice_point b c compound dictionari mbuildcompoundnamea b mbuildcompoundnameb c mbuildcompoundnamec mbuildcompoundnam compound_dict b b c c exampl fcc code ipython lattice_point compound dictionari mbuildcompoundnamea compound_dict exampl lattic system contain exampl homogen heterogen lattic structur use lattic class simpl cubic sc polonium code ipython import mbuild mb import numpi np defin necessari lattic paramet space angl point defin lattic object sc_lattic mblatticelattice_spacingspac anglesangl lattice_pointspo point defin polonium compound po mbcompoundnamepo popul lattic compound po_lattic sc_latticepopulatecompound_dictpo po x z visual po_latticevisu figur imageslattice_sc_polonium_imagepng width align center polonium simpl cubic sc structur bodycent cubic bcc cscl code ipython import mbuild mb import numpi np defin necessari lattic paramet space angl point point defin lattic object bcc_lattic mblatticelattice_spacingspac anglesangl lattice_pointsa point b point defin compound cl mbcompoundnamecl cs mbcompoundnamec popul lattic compound cscl_lattic bcc_latticepopulatecompound_dicta cl b cs x z visual cscl_latticevisu figur imageslattice_bcc_cscl_imagepng width align center cscl bodycent cubic bcc structur facecent cubic fcc cu code ipython import mbuild mb import numpi np defin necessari lattic paramet space angl point defin lattic object fcc_lattic mblatticelattice_spacingspac anglesangl lattice_pointsa point defin compound cu mbcompoundnamecu popul lattic compound cu_lattic fcc_latticepopulatecompound_dicta cu x z visual cu_latticevisu figur imageslattice_fcc_cu_imagepng width align center cu facecent cubic fcc structur diamond cubic si code ipython import mbuild mb import numpi np defin necessari lattic paramet space angl point defin lattic object diamond_lattic mblatticelattice_spacingspac anglesangl lattice_pointsa point defin compound si mbcompoundnamesi popul lattic compound si_lattic diamond_latticepopulatecompound_dicta si x z visual si_latticevisu figur imageslattice_diamond_cubic_si_imagepng width align center si diamond cubic structur graphen c code ipython import mbuild mb import numpi np defin necessari lattic paramet space angl point defin lattic object graphene_lattic mblatticelattice_spacingspac anglesangl lattice_pointsa point defin compound c mbcompoundnamec popul lattic compound graphen graphene_latticepopulatecompound_dicta c x z visual graphenevisu figur imageslattice_graphene_d_imagepng width align center graphen structur monolay complex hierarchi pattern tile write file note mbuild expect distanc unit nanomet exampl well cover assembl complex hierarchi compon use pattern tile output system file illustr concept let build alkan monolay crystallin substrat first let build monom function silan group attach substrat alkan exampl use polym tool combin ch ch repeat unit also option cap front back chain leav ch group dangl port silan compound sioh group two port face central si lastli combin alkan silan add label alkylsilan point silanedown allow us refer later use alkylsilanedown rather alkylsilanesilanedown note compound multipl port convent tri label everi port success left right front back roughli correspond rel orient bit tricki enforc system flexibl use best judgement tri consist compon collect librari label convent easier becom build ever complex structur code ipython import mbuild mb mbuildlibrecip import alkan mbuildlibmoieti import silan class alkylsilanembcompound silan function alkan chain one port def __init__self chain_length superalkylsilan self__init__ alkan alkanechain_length cap_endfals selfaddalkan alkan silan silan selfaddsilan silan mbforce_overlapselfalkan selfalkanedown selfsilaneup hoist silan port alkylsilan level selfaddsilanedown containmentfals code ipython alkylsilanevisu let creat substrat later attach monom code ipython import mbuild mb mbuildlibsurfac import betacristobalit surfac betacristobalit tiled_surfac mblibrecipestiledcompoundsurfac n_tile weve import betacristobalit surfac compon librari tiledcompound tool allow replic compound x zdirect number time case next let creat monom hydrogen atom well place unoccupi surfac site code ipython mbuildlibatom import h alkylsilan alkylsilanechain_length hydrogen h need tell mbuild arrang chain surfac accomplish pattern tool everi pattern collect point kind pattern like spheric regular irregular etc use apply_pattern command effect superimpos pattern onto host compound mbuild figur closest port pattern point attach copi guest onto bind site identifi pattern code ipython pattern mbgriddpattern evenli space grid point attach chain specifi bind site site get hydrogen chain hydrogen patternapply_to_compoundhosttiled_surfac guestalkylsilan backfillhydrogen also note backfil option argument allow place differ compound unus port case want backfil hydrogen atom everi port without chain code ipython monolay mbcompoundtiled_surfac chain hydrogen monolayervisu warn may slow ipython notebook code ipython save mol file monolayersavemonolayermol overwritetru librecipesmonolayerpi wrap mani function simpl gener class gener monolay shown code ipython mbuildlibrecip import monolay monolay monolayerfract chainsalkylsilan backfillhydrogen patternmbgriddpatternn surfacesurfac tile_x tile_i monolayervisu methan compound bond note mbuild expect distanc unit nanomet primari build block mbuild compound anyth construct inherit class let start basic import initi code ipython import mbuild mb class methanembcompound def __init__self supermethan self__init__ compound contain compound ad use add method compound bottom hierarchi refer particl note howev pure semant mbuild help clearli design bottom hierarchi code ipython import mbuild mb class methanembcompound def __init__self supermethan self__init__ carbon mbparticlenamec selfaddcarbon labelc hydrogen mbparticlenameh po selfaddhydrogen labelhc default creat compoundparticl place indic po attribut particl object contain compound bottom hierarchi referenc via particl method return gener particl object contain compound hierarchi note posit mbuild store nanomet part ad compound given option descript string label label end charact list creat label subsequ part ad compound label prefix append list exampl weve label hydrogen hc first part label prefix hc referenc via selfhc next part ad label hc referenc via selfhc let use style referenc connect carbon hydrogen note typic use case almost never explicitli defin bond use mbuild show what go hood code ipython import mbuild mb class methanembcompound def __init__self supermethan self__init__ carbon mbparticlenamec selfaddcarbon labelc hydrogen mbparticlenameh po selfaddhydrogen labelhc selfadd_bondself selfhc see carbon place zero index self hydrogen could referenc via self sinc gave fanci label also referenc via selfhc alright weve got basic let finish build methan take look code ipython import mbuild mb class methanembcompound def __init__self supermethan self__init__ carbon mbparticlenamec selfaddcarbon labelc hydrogen mbparticlenameh po selfaddhydrogen labelhc selfadd_bondself selfhc selfaddmbparticlenameh po labelhc selfaddmbparticlenameh po labelhc selfaddmbparticlenameh po labelhc selfadd_bondself selfhc selfadd_bondself selfhc selfadd_bondself selfhc code ipython methan methan methanevisu code ipython save mol methanesavemethanemoloverwritetru point particl basic system initi note mbuild expect distanc unit nanomet tutori focus usag basic system initi oper appli simpl point particl system ie gener lennardjon particl rather specif atom code defin sever point particl cubic arrang note color radiu associ particl name set pass visual command color pass hex format see httpwwwcolorhexcomcolorbfbfbf code ipython import mbuild mb class monoljmbcompound def __init__self supermonolj self__init__ lj_particl mbparticlenamelj po selfaddlj_particl lj_particl mbparticlenamelj po selfaddlj_particl lj_particl mbparticlenamelj po selfaddlj_particl lj_particl mbparticlenamelj po selfaddlj_particl lj_particl mbparticlenamelj po selfaddlj_particl lj_particl mbparticlenamelj po selfaddlj_particl lj_particl mbparticlenamelj po selfaddlj_particl lj_particl mbparticlenamelj po selfaddlj_particl monolj monolj monoljvisu would work defin singl molecul small system would effici larg system instead clone translat oper use facilit autom simpli defin singl prototyp particl lj_proto copi translat system note mbuild provid two differ translat oper translat translate_to translat move particl ad vector origin posit wherea translate_to move particl specifi locat space note translate_to maintain intern spatial relationship collect particl first shift center mass collect particl origin translat specifi locat sinc lj_proto particl exampl start origin two command produc ident behavior code ipython import mbuild mb class monoljmbcompound def __init__self supermonolj self__init__ lj_proto mbparticlenamelj po rang j rang k rang lj_particl mbclonelj_proto po ijk lj_particletranslatepo selfaddlj_particl monolj monolj monoljvisu simplifi process mbuild provid sever buildin pattern tool exampl griddpattern use perform oper griddpattern gener set point get store variabl pattern need loop point pattern clone translat ad system note griddpattern defin point must scale base desir system size ie patternscal code ipython import mbuild mb class monoljmbcompound def __init__self supermonolj self__init__ lj_proto mbparticlenamelj po pattern mbgriddpattern patternscal po pattern lj_particl mbclonelj_proto lj_particletranslatepo selfaddlj_particl monolj monolj monoljvisu larger system therefor easili gener toggl valu given griddpattern pattern also gener use basic code grid pattern code ipython import mbuild mb class monoljmbcompound def __init__self supermonolj self__init__ lj_proto mbparticlenamelj po pattern mbgriddpattern patternscal po pattern lj_particl mbclonelj_proto lj_particletranslatepo selfaddlj_particl monolj monolj monoljvisu point sphere gener use spherepattern point disk use diskpattern etc note show simultan shift xcoordin particl sphere ie po disk ie po code ipython import mbuild mb class monoljmbcompound def __init__self supermonolj self__init__ lj_proto mbparticlenamelj po pattern_spher mbspherepattern pattern_spherescal po pattern_spher lj_particl mbclonelj_proto po lj_particletranslatepo selfaddlj_particl pattern_disk mbdiskpattern pattern_diskscal po pattern_disk lj_particl mbclonelj_proto po lj_particletranslatepo selfaddlj_particl monolj monolj monoljvisu also take advantag hierach natur mbuild accomplish task cleanli creat compon correspond sphere class spherelj one correspond disk class disklj instanti shift individu monolj compon code ipython import mbuild mb class sphereljmbcompound def __init__self superspherelj self__init__ lj_proto mbparticlenamelj po pattern_spher mbspherepattern pattern_spherescal po pattern_spher lj_particl mbclonelj_proto lj_particletranslatepo selfaddlj_particl class diskljmbcompound def __init__self superdisklj self__init__ lj_proto mbparticlenamelj po pattern_disk mbdiskpattern pattern_diskscal po pattern_disk lj_particl mbclonelj_proto lj_particletranslatepo selfaddlj_particl class monoljmbcompound def __init__self supermonolj self__init__ sphere spherelj po spheretranslatepo selfaddspher disk disklj po disktranslatepo selfadddisk monolj monolj monoljvisu sinc mbuild hierarch pattern function use gener larg system arbitari compon exampl replic spherelj compon regular array code ipython import mbuild mb class sphereljmbcompound def __init__self superspherelj self__init__ lj_proto mbparticlenamelj po pattern_spher mbspherepattern pattern_spherescal po pattern_spher lj_particl mbclonelj_proto lj_particletranslatepo selfaddlj_particl class monoljmbcompound def __init__self supermonolj self__init__ sphere spherelj pattern mbgriddpattern patternscal po pattern lj_sphere mbclonespher lj_spheretranslate_topo shift particl center mass system origin lj_spheretransl selfaddlj_spher monolj monolj monoljvisu sever function exist rotat compound exampl spin command allow compound rotat place specif axi ie consid origin rotat lie compound center mass code ipython import mbuild mb import random numpi import pi class cubeljmbcompound def __init__self supercubelj self__init__ lj_proto mbparticlenamelj po pattern mbgriddpattern patternscal po pattern lj_particl mbclonelj_proto lj_particletranslatepo selfaddlj_particl class monoljmbcompound def __init__self supermonolj self__init__ cube_proto cubelj pattern mbgriddpattern patternscal rnd randomrandom rndseed po pattern lj_cube mbclonecube_proto lj_cubetranslate_topo shift particl center mass system origin lj_cubetransl lj_cubespin rnduniform pi lj_cubespinrnduniform pi lj_cubespinrnduniform pi selfaddlj_cub monolj monolj monoljvisu configur dump file use save command take advantag mdtraj support rang file format see httpmdtrajorg code ipython save xyz file monoljsaveoutputxyz save mol monoljsaveoutputmol tutori html follow tutori avail either html interact jupyt notebook toctre tutorial_methan tutorial_ethan tutorial_monolay tutorial_simple_lj tutorial_polym tutorial_lattic lammp file writer write lammp data automodul mbuildformatslammpsdata member file writer mbuild librari also support simul enginespecif file writer writer creat complet set simul writer input file partial set file writer requir file gener via anoth mean mbuild util parm write compound inform varieti file format eg pdb mol gro full list format support parm found parm websit httpparmedgithubioparmedhtmlreadwritehtml_ addit mbuild featur sever intern writer file format yet support parm inform intern writer found default mani mbuild function write coordin bond inform file ie angl dihedr atom type perform atom name use atom type howev forc field appli compound pass forc field xml file use foyer packag httpsgithubcommosdefhubfoyer_ compoundsav function foyer instal forc field appli compound mbuild intern writer also write angl dihedr inform file addit label atom atom type specifi forc field charmmstyl gomc writer except default rule sinc need forc field build file file depend forc field paramet exampl charg mw psf file simul engin writer use mbuild current contain mbuild librari cassandra httpscassandrandedu_ gpu optim mont carlo gomc httpgomcengwayneedu_ gromac httpswwwgromacsorg_ hoomdblu httpglotzerlabenginumicheduhoomdblue_ largescal atomicmolecular massiv parallel simul lammp httpslammpssandiagov_ toctre cassandra_file_writ gomc_file_writ hoomd_blue_file_writ lammps_file_writ gomc namd file writer charmmstyl pdb psf forc field file writer autoclass mbuildformatscharmm_writercharmm specialmemb __init__ member gomc control file writer automodul mbuildformatsgomc_conf_writ member write_gomc_control_fil namd control file writer namd control file writer current avail hoomdblu file writer write gsd gener simul data default data file format hoomdblu automodul mbuildformatsgsdwrit member creat hoomdblu forc field automodul mbuildformatshoomd_forcefield member creat hoomdblu simul vx automodul mbuildformatshoomd_simul member hoomdblu snapshot automodul mbuildformatshoomd_snapshot member cassandra file writer automodul mbuildformatscassandramcf member unit mbuild automat perform unit convers reader writer function work pyclassmbuildcompound mbuild use follow unit quantiti unit distanc nm angl radian pyclassmbuildlattic pyclassmbuildbox use degre see also foyer unit document httpsfoyermosdeforgenstableunitshtml_ ele document httpselementreadthedocsioenlatest_ cite mbuild use mbuild research pleas cite paper httpdoiorgf__ ac klein c sallai j jone j iacovella c r mccabe c cum p hierarch compon base approach screen properti soft matter foundat molecular model simul molecular model simul applic perspect snurr r q adjiman c kofk ed springer singapor pp bibtex codeblock bibtex inbookkleinmbuild author klein christoph sallai jáno jone trevor j iacovella christoph r mccabe clare cum peter editor snurr randal q adjiman clair kofk david titl hierarch compon base approach screen properti soft matter booktitl foundat molecular model simul select paper fomm year publish springer singapor address singapor page isbn doi _ url httpsdoiorg_ download downloadbibtex filesmbuild_citationbib downloadri filesmbuild_citationri older document mbuild version _ document avail pdf file pleas use follow link download document pdf manual mbuild version _ download httpsgithubcommosdefhubmosdefhubgithubiorawmasterold_docsmbuildpdf__ mbuild version _ download httpsgithubcommosdefhubmosdefhubgithubiorawmasterold_docsmbuildpdf__ mbuild version _ download httpsgithubcommosdefhubmosdefhubgithubiorawmasterold_docsmbuildpdf__ mbuild version _ download httpsgithubcommosdefhubmosdefhubgithubiorawmasterold_docsmbuildpdf__ _mbuild version httpsgithubcommosdefhubmbuildreleasestag _mbuild version httpsgithubcommosdefhubmbuildreleasestag _mbuild version httpsgithubcommosdefhubmbuildreleasestag _mbuild version httpsgithubcommosdefhubmbuildreleasestag recip develop may case compound andor build script gener support broad rang system object would valuabl resourc mani research might justifi develop python packag could distribut commun mbuild develop mind form plugin system detail specif system convert exist python project mbuilddiscover plugin exampl entri point basi plugin system mbuild setuptoolsentry_point packag httpspackagingpythonorgguidescreatinganddiscoveringpluginsusingpackagemetadata_ allow packag regist entry_point group defin mbuild access mbuildrecip locat imagin class name my_foo inherit mbcompound current insid project my_project access via direct import ie my_project import my_foo regist class entri point associ mbuildrecip access insid mbuild plugin via mbuildrecipesmy_foo direct import unncessari call import mbuild discov plugin fit entry_point group specif make avail mbuildrecip regist recip ____________________ consid case user alreadi python project set structur similar layout project found httpsgithubcomjustingilmermbuildfcc_ mbuild_fcc licens readmemd mbuild_fcc mbuild_fccpi test __init__pi test_fccpi setuppi two import file user convert mbuild plugin discover plugin setuppi mbuild_fccpi begin let first inspect mbuild_fccpi file shorten snippet import mbuild class fccmbuildcompound creat mbuild compound repeat unit fcc unit cell shorten viewabl def __init__self lattice_spacingnon compound_to_addnon x z superfcc self__init__ shorten viewabl __name__ __main__ au_fcc_lattic fcclattice_spac compound_to_addmbuildcompoundnameau x z printau_fcc_lattic two notabl line file need focu develop plugin mbuild first import statement import mbuild must make sure mbuild instal sinc inherit mbuildcompound decid distribut plugin depend must list second select name plugin consid good practic name name class case name plugin fcc last step edit setuppi file plugin regist entry_point group mbuildplugin setuptool import setup setup entry_point mbuildplugin fcc mbuild_fccmbuild_fccfcc import section entry_point argument defin entry_point group want regist mbuildplugin final tell python name use access plugin earlier decid call fcc denot name assign oper fcc next pass locat file plugin mbuild_fccmbuild_fcc locat setuppi file provid name class within python file want make discover fcc sinc setuppi file locat top folder python project first mbuild_fcc name folder second name python file colon use access class python file put togeth _______________________ final fcc mbuild_fccmbuild_fccfcc test featur clone mbuildfcc project list git clone httpsgithubcomjustingilmermbuildfcc make sure mbuild instal run command chang mbuildfcc directori cd mbuildfcc pip instal e note command instal exampl sourc edit format tri _____________ test set plugin correctli tri import mbuild import mbuild receiv error messag plugin discover helpmbuildrecipesfcc coordin transform follow util function provid mechan spatial transform mbuild compound autofunct mbuildcoordinate_transformforce_overlap autofunct mbuildcoordinate_transformtransl autofunct mbuildcoordinate_transformtranslate_to autofunct mbuildcoordinate_transformrot autofunct mbuildcoordinate_transformspin autofunct mbuildcoordinate_transformx_axis_transform autofunct mbuildcoordinate_transformy_axis_transform autofunct mbuildcoordinate_transformz_axis_transform data structur primari build block mbuild hierarchi inherit pyclassmbuildcompound class compound maintain order set children compound addit independ order dictionari label maintain user refer compound hierarchi via descript string everi compound know parent compound one step hierarchi know compound refer label pyclassmbuildport special type compound use intern connect differ compound use equival transform describ compound bottom mbuild hierarchi leav tree refer particl instanti foo mbuildparticlenamebar note howev mere serv illustr compound bottom hierarchi particl simpli alia compound use clarifi intend role object creat method pymethmbuildcompoundparticl travers hierarchi bottom yield compound pymethmbuildcompoundroot return compound top hierarchi compound autoclass mbuildcompound member box autoclass mbuildbox member lattic autoclass mbuildlattic member port autoclass mbuildport member _loading_data load data data input mbuild differ way differ file type load automodul mbuildconversionload member load cif automodul mbuildlatticeload_cif member recip monolay autoclass mbuildlibrecipesmonolayermonolay member polym autoclass mbuildlibrecipespolymerpolym member tile compound autoclass mbuildlibrecipestiled_compoundtiledcompound member silica interfac autoclass mbuildlibrecipessilica_interfacesilicainterfac member pack automodul mbuildpack member pattern automodul mbuildpattern member