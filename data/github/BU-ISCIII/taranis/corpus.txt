tarani introductionintroduct dependenciesdepend installationinstal instal sourceinstallfromsourc instal use condainstallusingconda quick usagequickusag usageusag outputoutput illustr pipelineillustratedpipelin introduct tarani comput standalon pipelin genebygen allel call analysi base blastn use whole genom wg core genom cg multilocu sequenc type mlst schema complet draft genom result de novo assembl track help inform data among process tarani includ four main function mlst schema analysi genebygen allel call refer allel obtain allel call analysi final distanc matrix construct depend python ncbi_blast v prokka prodig v mash biopython v panda v progressbar v openpyxl v plotli v numpi v instal instal sourc instal depend add path git clone httpsgithubcombuisciiitaranisgit add tarani bin path instal use conda option recomend instal anaconda conda instal c condaforg c bioconda c default tarani wait environ solv br ignor warningserror quick usag analyze_schema mode schema analysi tarani analyze_schema inputdir schema_dir outputdir yyyymmdd_taranis_analyze_schema_dir schema analysi duplic allel allel subsequ cd allel filter tarani analyze_schema inputdir schema_dir outputdir yyyymmdd_taranis_analyze_schema_dir removesubset true removedupl true removenocd true reference_allel mode get refer allel tarani reference_allel coregenedir schema_dir outputdir yyyymmdd_taranis_reference_alleles_dir allele_cal mode run allel call tarani allele_cal coregenedir schema_dir refallel yyyymmdd_taranis_reference_alleles_dir inputdir samples_dir refgenom reference_genomefasta outputdir yyyymmdd_taranis_allele_calling_dir run allel call get st profil tarani allele_cal coregenedir schema_dir refallel yyyymmdd_taranis_reference_alleles_dir inputdir samples_dir refgenom reference_genomefasta profil profilecsv outputdir yyyymmdd_taranis_allele_calling_dir distance_matrix mode get distanc matrix tarani distance_matrix alleles_matrix yyyymmdd_taranis_allele_calling_dirresulttsv outputdir yyyymmdd_taranis_distance_matrix_dir pget distanc matrix filter loci sampl miss valu percentag specifi threshold tarani distance_matrix alleles_matrix yyyymmdd_taranis_allele_calling_dirresulttsv locus_missing_threshold sample_missing_threshold outputdir yyyymmdd_taranis_distance_matrix_dir usag analyze_schema mode usag taranispi analyze_schema h inputdir inputdir outputdir outputdir removesubset removesubset removedupl removedupl removenocd removenocd newschema newschema genu genu speci speci usegenu usegenu cpu cpu option argument h help show help messag exit inputdir inputdir directori schema file outputdir outputdir directori result file store removesubset removesubset remov allel subsequ schematru remov subsetsfals remov subsetsdefault fals removedupl removedupl remov duplic allel schematru remov duplicatesfals remov duplicatesdefault fals removenocd removenocd remov cd allel schematru remov cd allelesfals remov cd allelesdefault fals newschema newschema filter copi core gene schema preserv analysi core gene schematru creat copi core gene schema filteringfals creat copi core gene schema filteringdefault fals genu genu genu name prokka schema gene annot default genu speci speci speci name prokka schema gene annot default speci usegenu usegenu use genusspecif blast databas prokka schema gene annot need genu default fals cpu cpu number cpu use program default reference_allel mode usag taranispi reference_allel h coregenedir coregenedir outputdir outputdir evalu evalu perc_ident perc_ident reward reward penalti penalti gapopen gapopen gapextend gapextend num_thread num_thread cpu cpu option argument h help show help messag exit coregenedir coregenedir directori core gene file locat outputdir outputdir directori result file store evalu evalu evalu blast search default perc_ident perc_ident ident percent blast search default reward reward match reward blast search default penalti penalti mismatch penalti blast search default gapopen gapopen gap open penalti blast search default gapextend gapextend gap extens penalti blast search default num_thread num_thread num_thread blast search default cpu cpu number cpu use program default allele_cal mode usag taranispi allele_cal h coregenedir coregenedir refallel refallel inputdir inputdir refgenom refgenom outputdir outputdir percentlength percentlength coverag coverag evalu evalu perc_identity_ref perc_identity_ref perc_identity_loc perc_identity_loc reward reward penalti penalti gapopen gapopen gapextend gapextend max_target_seq max_target_seq max_hsp max_hsp num_thread num_thread flankingnt flankingnt updateschema updateschema profil profil updateprofil updateprofil cpu cpu genu genu speci speci usegenu usegenu option argument h help show help messag exit coregenedir coregenedir directori core gene file locat refallel refallel directori core gene refer file locat inputdir inputdir directori locat sampl fasta file refgenom refgenom refer genom file gene predict outputdir outputdir directori result file store percentlength percentlength allow length percentag consid inf outsid limit consid asm alm default sd coverag coverag coverag threshold exclud found sequenc outsid limit consid lnf default evalu evalu evalu blast search default perc_identity_ref perc_identity_ref ident percentag blast search use refer allel locu detect sampl default perc_identity_loc perc_identity_loc ident percentag blast search use allel locu allel identif sampl default reward reward match reward blast search default penalti penalti mismatch penalti blast search default gapopen gapopen gap open penalti blast search default gapextend gapextend gap extens penalti blast search default max_target_seq max_target_seq max_target_seq blast search default max_hsp max_hsp max_hsp blast search default num_thread num_thread num_thread blast search default flankingnt flankingnt number flank nucleotid add blast result obtain locu detect sampl use refer allel correct allel identif default updateschema updateschema add inf allel found locu core gene schema true add inf allel analysi core gene schema new add inf allel copi core gene schema preserv analysi core gene schema fals updat core gene schema ad new inf allel found default true profil profil st profil file base core gene schema file get st sampl default empti tarani calcul sampl st updateprofil updateprofil add new st profil found st profil file true add new st profil analysi st profil file new add add new st profil copi st profil file preserv analysi st file fals updat st profil file ad new st profil found default true cpu cpu number cpu use program default genu genu genu name prokka schema gene annot default genu speci speci speci name prokka schema gene annot default speci usegenu usegenu use genusspecif blast databas prokka schema gene annot need genu default fals distance_matrix mode usag taranispi distance_matrix h alleles_matrix alleles_matrix locus_missing_threshold locus_missing_threshold sample_missing_threshold sample_missing_threshold paralog_filt paralog_filt lnf_filter lnf_filter plot_filt plot_filt outputdir outputdir option argument h help show help messag exit alleles_matrix alleles_matrix allel matrix file obtain distanc sampl locus_missing_threshold locus_missing_threshold miss valu percentag threshold loci exclud distanc matrix creation default sample_missing_threshold sample_missing_threshold miss valu percentag threshold sampl exclud distanc matrix creation default paralog_filt paralog_filt consid paralog tag niph niphem miss valu default true lnf_filter lnf_filter consid locu found tag lnf miss valu default true plot_filt plot_filt consid incomplet allel found tip contig tag plot miss valu default true outputdir outputdir directori result file store output analyze_schema mode folder raw_schema_inform gener inform allel locu file alleles_subsetstsv report allel subsequ allel locu duplicated_allelestsv report duplic allel within locu length_statisticstsv allel length statist report locu schema_qualitytsv qualiti report allel locu reference_allel mode file refalleles_locusxfasta one fasta file schema locu contain refer allel locu allele_cal mode folder align nucleotid align sequenc found sampl allel protein protein align sequenc found sampl allel plot interact pie chart allel call result sampl file almtsv sampl sequenc found x larger locu allel mean length report asmtsv sampl sequenc found x shorter locu allel mean length report exacttsv exact match report inferred_allelestsv new infer allel report lnf_tprtsv locu found lnf truncat protein tpr report paralogtsv possibl paralog niphem id paralog niph id paralog report plottsv possibl loci tip sampl contig plot report snptsv snp report matching_contigstsv summari report loci found sampl resulttsv allel call main result summary_resulttsv allel call result summari count tag type found sampl indic stprofiletsv sequenc type report distance_matrix mode file filtered_resulttsv filter allel call matrix filter matrix_distancetsv sampl matrix distanc matrix_distance_filter_reporttsv allel call matrix filter report illustr pipelin construct