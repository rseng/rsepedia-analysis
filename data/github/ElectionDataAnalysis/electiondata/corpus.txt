contact stephani singerhttpsymmetrysingercomindexphpidcontact cii best practiceshttpsbestpracticescoreinfrastructureorgprojectsbadgehttpsbestpracticescoreinfrastructureorgproject overview repositori provid tool consolid analysi raw elect result reliabl sourc elect agenc consolid take input elect result file wide varieti sourc load data relat databas export creat consistentformat export file result set roll desir intermedi geographi tabular tabsepar text xml follow nist elect result report common data format v json follow nist elect result report common data format v analysi curat onecounti outlier interest calcul differenceindiffer result avail vote type visual scatter plot bar chart target audienc system intend use news media campaign elect offici student polit elect anyon els interest assembl understand elect result idea use system would like stay updat progress project wed like hear youcontact_usmd use app see document directorydoc includ user instal instructionsdocsinstallationmd instruct sampl dataload sessiondocssample_sessionmd detail user guidedocsuser_guidemd contribut code see contributingmdcontributingmd contributor stephani singerhttpcampaignscientificcom hatfield school govern portland state univers former chair philadelphia counti board elect janaki raghuram srungavarapu hatfield school govern portland state univers eric tsai hatfield school govern portland state univers bryan loy jon wolgamott elliot meyerson fund fund provid octob novemb nation scienc foundat award eager data scienc elect verif award rapid elect result anomali detect data collect consolid us gener elect fund part verifi vote foundat licens see licensemdlicensemd contributor code conduct contributor maintain project pledg respect peopl contribut report issu post featur request updat document submit pull request patch activ commit make particip project harassmentfre experi everyon regardless level experi gender gender ident express sexual orient disabl person appear bodi size race ethnic age religion exampl unaccept behavior particip includ use sexual languag imageri derogatori comment person attack troll public privat harass insult unprofession conduct project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct project maintain follow code conduct may remov project team instanc abus harass otherwis unaccept behavior may report open issu contact one project maintain code conduct adapt contributor covenanthttpcontributorcovenantorg version avail httpswwwcontributorcovenantorgversioncodeofconducthtml pleas note electiondata releas contributor code conductcode_of_conductmd contribut project agre abid term contribut electiondata develop report problem report problem file issu githubhttpsgithubcomelectiondataanalysiselectiondataissu file issu import thing includ minim reproduc exampl quickli verifi problem figur fix pleas includ link exact version electiondata use copi work directori follow model sampl sessiondocssample_sessionmd includ run_timeini file feel free redact login inform local postgr instanc subdirectori referenc run_timeini file issu involv load particular result data file sure includ file possibl avoid submit larg result file file precinctbas exampl see demonstr issu truncat result file error warn file place system reports_and_plots_dir specifi run_timeini transcript python session python call work directori check actual made reproduc exampl creat virtual environ instal indic version electiondata file folder move system archiv directori move back input directori remov timestamp directori name navig work directori call python produc behavior question revis code contribut chang electiondata follow step creat branch git make chang run unit test check broken function see pytest instructionsdocstesting_code_with_pytestmd run python black format code standard push branch github issu pull request pr discuss pull request iter either accept pr decid good fit electiondata step describ detail might feel overwhelm first time get set get easier practic get stuck point feel free contact uscontact_usmd help your familiar git github pleas read tutori httpsrealpythoncompythongitgithubintrohttpsrealpythoncompythongitgithubintro pull request evalu checklist __motivation__ pull request clearli concis motiv need chang __onli relat changes__ submit pull request pleas check make sure havent accident includ unrel chang make harder see exactli what chang evalu unexpect side effect pr correspond git branch expect submit multipl chang make sure creat multipl branch multipl chang depend start first one dont submit other first one process __documentation__ new paramet new function must document code user guidedocsuser_guidemd sampl sessiondocssample_sessionmd relev document your ad new graphic analyt featur pleas add short exampl sampl sessiondocssample_sessionmd __tests__ fix bug ad new featur nongraph function pleas add pytesthttpsdocspytestorg unit test document new test pytest instructionsdocstesting_code_with_pytestmd seem like lot work dont worri pull request isnt perfect unless youv submit past unlik pull request accept pr requir review approv least one member electiondata develop team merg environ need python postgresql need creat databas need make sure postgresql instal need hostnam port login credenti default permiss requir python packag run python pip instal r requirementstxt root folder repositori detail see instal instructionsinstallationmd use varieti sql would need modifi routin databas modul instal onelin version root folder repositori run python setuppi instal detail see instal instructionsinstallationmd main paramet file need main paramet file specifi path databas connect inform specif local comput environ file necessari three main class jurisdictionprepp prepar jurisdict file dataload load data analyz export analyz result see templat filesrcparameter_file_templatesrun_timeinitempl requir paramet avoid percent sign line break paramet valu recommend file avoid overhead deriv major subdivis type jurisdict databas make sure repositori _major_subjurisdiction_typestxtsrcjurisdictions_for_all_jurisdictionsmajor_subjurisdiction_typestxt jurisdict directorysrcjurisdict file allow user specifi major subdivis exampl may make sens consid town major subdivis connecticut rather counti user may wish use congression district major subdivis though user assum nest relationship say precinct within congression district code reportingunittxt filesrcjurisdictionsconnecticutreportingunittxt databas data load prepar order process raw result data file system need specifi munger file format detail eg find candid name associ particular vote count dictionarytxt file translat name convent file name convent databas jurisdict file list legitim contest candid etc inform eg elect district parti munger elect result data come varieti file format even basic format file column may differ interpret code built eas much possibl chore process interpret format follow jargon filehttpcatborgjargonhtmlmmungehtml give one mean mung modifi data way speaker doesnt need go right describ succinctli call set basic inform interpret elect result file munger munger format result file doesnt alreadi exist pick name munger creat file name extens munger munger directori eg me_excelmung section paramet describ may find help work templat srcmungers_templatemung file munger paramet one section header requir format main paramet requir mung formula requir formula use foreign key one section foreign key appear mung formula foreign key preced eg formula option ignor format two requir format paramet file_typ count_loc file_typ paramet control function python panda modul read file content relat option requir paramet must given format header accept valu flat_text excel xml jsonnest count_loc paramet indic vote count found flat_text excel file type either count_locationby_namelist name column contain vote count count_locationby_numberlist posit column contain vote count flat_text tab comma othersepar tabl plain tabular text file requir field delimit flat_text_delimit specifi usual flat_text_delimit csv flat_text_delimitertab txt excel option list sheets_to_read_nam andor sheets_to_read_numb spreadsheet read option list sheets_to_skip_nam name spreadsheet skip default read sheet option merged_cel merg cell meaning header row set merged_cellsy flat_text excel requir count_locationby_nam specifi locat field name count column integ count_field_name_row nb top row skip next row etc requir either all_rowsdata design row contain column name candid report unit etc noncount_header_row paramet nb top row skip next row etc xml jsonnest avail appropri file type format header requir mung inform need read resultsini file constant_over_fil commasepar list element read eg constant_over_filecandidatecontestcountitemtyp option thousands_separ us separ almost alway use watch excel file may show comma look excel may comma underli data option encod specifi recogn default encod use recogn encod limit python list recogn encod aliaseshttpsdocspythonorglibrarycodecshtmlstandardencod avail flat_text excel file type option use multiblock rows_to_skip integ give number row skip top process block option all_row file column header data row count set paramet data option multi_block multipl block data per page header set paramet ye multiblock sheet mung paramet refer block must block option max_block multi_blocky max_block integ tell system mani block read sheet mung formula put formula pars inform result file mung formula section constant item give either comma separ list constant_over_sheet paramet munger file valu ini file constant formula mung formula section case correspond entri must made jurisdict dictionarytxt mani result file enough creat concaten formula referenc field name file put angl bracket avail field count_header_ count_header_ etc denot inform header column contain count row_ row_ etc read inform constant sheet block one header row system recogn leftmost nonblank cell content read sheetnam denot name excel spreadsheet within possibl multisheet workbook field name file eg select treestructur file like json xml see field label convent charact reserv indic pars interpret mung formula angl bracket brace comma word use way consid snippet commasepar flattext philadelphia pennsylvania vote result file warddivisionvot typecategoryselectionpartyvot count ajudg superior courtamanda greenhawkinsdemocrat mjudg superior courtamanda greenhawkinsdemocrat pjudg superior courtamanda greenhawkinsdemocrat formula reportingunitward warddivis divis would yield ward divis count_loc paramet xml json file treestructur file type like json xml file count_loc paramet path count consid snippet georgia vote result xml file electionresult contest choic key textraphael warnock dem totalvot votetyp nameelect day vote vote counti nameappl vote counti nameatkinson vote counti namebacon vote number vote attribut set count_locationelectionresultcontestchoicevotetypecountyvot mung formula votetypenam would yield elect day vote import first element mung formula exampl votetyp count_loc path consid snippet json file virginia line break ad clariti electionnam novemb gener electiondatet createdatet racenamememb hous repres numberofseat local localitylocalitynamechesapeak citylocalitycod precinctsreportingprecinctsparticip lastmodifiedt candid ballotnamerobert c bobbi scottballotord votespercentag politicalpartydemocrat pair brace content json object pair bracket content json array count_loc path indic array one must step find count well label count virginia exampl count_locationlocalitiescandidatevot mung formula referenc top level simpli label inform eg candidatecontestracenam mung formula referenc inform within array must start array name provid path within array desir valu eg reportingunitlocalitieslocalitylocalitynam note count_loc separ path possibl period end xml file count attribut mung formula use period flat text consid snippet tabsepar north carolina vote result file counti elect date precinct contest group id contest type contest name choic choic parti vote elect day one stop absente mail provision total vote real precinct alam nc court appeal judg seat michael monaco sr lib alam n nc court appeal judg seat michael monaco sr lib alam nc court appeal judg seat michael monaco sr lib countitemtyp valu elect dayon stop aka earli vote absente mailprovision must read column header ie inform row file first data row formula countitemtypecount_header_ would yield countitemtyp elect day votecount one stop vote count etc multipl sheet block data read automat inform constant sheet block must read either sheet name use sheet_nam leftmost nonblank entri row sheet use row_j j row number row number start skip number row given rows_to_skip nb system assum block separ blank line mean file blank line intern block must revis process regular express sometim necessari use regular express extract inform field result file exampl primari parti candid may string eg robin perez dem brace indic regex analysi need insid curli bracket two part separ comma first part field name pull string file second python regex formula whose first group enclos parenthes mark desir substr candid count_header_ azaz row system report warn file string match regex interact sandbox learn python regex tri regexcom foreign key lookup mung formula depend inform file munger must specifi lookup inform foreign key must separ section correspond header foreign key plu lookup eg candid name lookup result file candid name field section need lookup_id singl field name hold key lookup tabl header lookup sourc file use eg column_ source_fil path sourc file rel result directori given run_timeini usual format paramet except count_loc exampl munger texa gener elect result use lookup format file_typeexcel count_locationby_nametot vote per offic per counti encodingutf_ thousands_separ count_column_numb noncount_header_row count_field_name_row mung formula reportingunitcounti name partyparti candid name candidatecontestoffic name candidatecandid name countitemtypetot candid name lookup source_filetexasparty_by_candidate_gxlsx lookup_idcandid name file_typeexcel noncount_header_row nb multipl row lookup file valu lookup id column system arbitrarili use first row ignor other ignor unrecogn contest candid parti collect none unknown state eg wisconsin gener report total vote contest next individu candid vote system may read eg total vote cast unrecogn parti name case includ line ignor partytot vote cast similarli necessari contest select one candid eg ignor use commasepar list candidatetot vote castregist voter may find help follow exampl munger repositori jurisdict file dictionarytxt origin raw result file come particular elect agenc elect agenc fix jurisdict organ inform jurisdict _for_all_jurisdict foldersrcjurisdictions_for_all_jurisdict hold inform pertin jurisdict list elect electiontxtsrcjurisdictions_for_all_jurisdictionselectiontxt easiest use jurisdictionprepp object creat updat jurisdict file creat jurisdiction_prepini file follow exampl srcparameter_file_templatesjurisdiction_prepinitempl need specifi number congression state hous state senat district directori contain jurisdiction_prepini open python interpret import packag initi jurisdictionprepp eg import electiondata ed jp edjurisdictionprepp call new_juris_fil creat necessari file jurisdict directori well starter dictionari file xx_starter_dictionarytxt current directori jpnew_juris_fil routin new_juris_fil creat necessari file folder locat jurisdiction_path specifi jurisdiction_prepini sever file seed inform deduc inform jurisdiction_prepini addit new_juris_fil creat starter dictionari xx_starter_dictionarytxt current directori eventu dictionarytxt file jurisdict directori need contain map necessari system match data read result file raw_identifi intern databas name specifi txt file jurisdict directori starter dictionari map intern databas name usual help step correct add line dictionarytxt follow convent file system tri guess intern databas name relat name file nb perfectli ok one raw_identifier_valu singl element necessari say differ counti use differ name singl contest caus problem line cdf_element raw_identifier_valu differ cdf_internal_nam add counti reportingunittxt file xx_starter_dictionarytxt reportingunittxt file determin name use intern databas found includ counti name help disambigu must obey semicolon convent system know counti subunit jurisdict exampl name reportingunittyp texasangelina counti counti texasgregg counti counti texasharrison counti counti nb jurisdict major subdivis type counti instanc louisiana major subdivis call parish electionsanalyz modul sever routin roll result major subdivis usual counti default reportingunittyp major subdivis read file major_subjurisdiction_typestxtsrcjurisdictions_for_all_jurisdictionsmajor_subjurisdiction_typestxt possibl file miss provid subdivis type particular jurisdict question system tri deduc major subdivis type databas differ file subdivis type specifi option major_subdivision_fil paramet analyz dataload system assum intern databas name reportingunit carri inform nest basic reportingunit eg counti town ward etc congression district via semicolon exampl pennsylvaniaphiladelphiaward divis precinct pennsylvaniaphiladelphiaward ward pennsylvaniaphiladelphia counti pennsylvania state nest relationship eg pennsylvaniaphiladelphiaward divis pennsylvaniapa senat district yet record system add necessari line starter dictionari xx_dictionarytxt need map name use raw result file intern name use reportingunittxt call name use raw result file raw identifi look result file see counti written exampl result file look like exampl texa elect datenam offic name candid name counti name total vote per offic per counti march rd republican primari u repres district johnathan kyle davidson angelina march rd republican primari u repres district louie gohmert angelina march rd republican primari u repres district johnathan kyle davidson gregg march rd republican primari u repres district louie gohmert gregg march rd republican primari u repres district johnathan kyle davidson harrison march rd republican primari u repres district louie gohmert harrison would want line dictionari file like cdf_element cdf_internal_nam raw_identifier_valu reportingunit texasangelina counti angelina reportingunit texasgregg counti gregg reportingunit texasharrison counti harrison note entri cdf_internal_nam column exactli match entri name column reportingunittxt necessari revis candidatecontesttxt along officetxt xx_starter_dictionarytxt offic candidatecontest ad new_juris_fil quit gener instanc jurisdict may chief financi offic rather treasur use jurisdict offici titl offici govern sourc add miss offic convent prefac state district territori offic twolett postal abbrevi exampl officetxt name electiondistrict us presid fl florida fl governor florida us senat fl florida fl attorney gener florida fl chief financi offic florida fl commission agricultur florida interest local contest offic counti commission need add electiondistrict ad contest alreadi reportingunittxt need add judici retent note judici retent elect yesno handl ballotmeasurecontest candidatecontest nb want add offic bulk result file wait easili follow instruct new revis offic add revis entri candidatecontesttxt leav primaryparti column empti add primari point ad bulk exampl candidatecontesttxt us presid fl us presid fl fl governor fl governor us senat fl us senat fl fl attorney gener fl attorney gener fl chief financi offic fl chief financi offic fl commission agricultur fl commission agricultur final look result file see name convent use candid contest add line starter dictionari exampl use data offici florida elect result file cdf_element cdf_internal_nam raw_identifier_valu candidatecontest us presid fl presid unit state candidatecontest us hous fl district repres congress district candidatecontest us hous fl district repres congress district make necessari addit chang straightforward element eg candidatetxt often easier add bulk later directli result file see error report unless want use intern name differ name result file partytxt may abl find list offici recogn parti board elect websit ballotmeasuretxt ballotmeasur yesno question ballot includ judici retent ballotmeasur must electiondistrict elect match entri reportingunittxt electiontxt file revis xx_starter_dictionarytxt entri item creat step except need add elect dictionari never mung content result file cdf_internal_nam column match name jurisdict file raw_identifier_valu column hold correspond name creat result file via munger help edit starter dictionari applic use formula manipul file regular express replac fluent manipul text way may want use excel variou text manipul formula concat howev bewar excel tendenc revis format sli may want check txt csv file manipul excel plain text editor run problem youv curiou learn regex replac now good time revis countitemtyp entri starter dictionari match word phrase use result file eg north carolina cdf_element cdf_internal_nam raw_identifier_valu countitemtyp electionday elect day countitemtyp earli one stop countitemtyp absenteemail absente mail countitemtyp provision provision countitemtyp total total vote countitemtyp total total note unlik candid parti etc intern databas name countitemtyp aka vote type specifi dictionari file starter dictionari intern name nist common data format use intern name wont break anyth throw warn add exist content dictionarytxt starter dictionari jurisdict brand new wont exist content move xx_starter_dictionarytxt current directori jurisdict directori renam dictionarytxt result file precinct base instead counti base would like use result file add precinct reportingunittxt file run add_sub_county_ru eg jpadd_sub_county_rusmy_resultsini ad precinct unless anoth report unit type specifi option argument sub_ru_typ eg jpadd_sub_county_rus_from_multi_results_filemy_resultsinisub_ru_typetown jurisdict major subdivis counti someth els eg state hous district alaska parish louisiana use option argument county_typ jpadd_sub_county_rus_from_multi_results_filemy_resultsinicounty_typestatehous final look newli ad item reportingunittxt dictionarytxt remov revis appropri miscellan note candid look possibl variant name eg fred martin fred martin candid two differ counti find variat pick intern databas name put line raw_identifier_valu variat dictionarytxt look noncandid item treat like candid raw file exampl file may undervot candid column exclud line result exclud candidatetxt file also exclud thembi ad line eg candidateundervot ignor section munger convent intern name candid quot nicknam use singl quot make sure doublequot name column candidatetxt none cdf_internal_nam column dictionarytxt eg use rosa maria rosi palomino rosa maria rosi palomino note result file rosa maria rosi palomino system read doublequot singlequot dictionarytxt line candid rosa maria rosi palomino rosa maria rosi palomino mung rosa maria rosi palomino rosa maria rosi palomino correctli convent intern name multiplecandid ticket eg bidenharri use full name top candid eg joseph r biden line dictionarytxt variat use result file eg cdf_element cdf_internal_nam raw_identifier_valu candid joseph r biden biden harri candid joseph r biden joseph r biden candidatecontest new candidatecontest want keep need add correspond line officetxt electiondistrict reportingunittxt alreadi primari elect mung primari elect recommend make primari separ elect eg democrat primari republican primari requir convent reportingunit name convent list much compos inform possibl name element use separ eg north carolina state nc north carolinaalam counti alam counti contain north carolina north carolinaalam countyprecinct w precinct w alam counti semicolon use code roll result smaller report unit larger report unit replac doublequot candidatetxt dictionarytxt singl quot ie rosa maria rosi palomino rosa maria rosi palomino option convent jurisdict file repositori follow certain convent mani option use differ convent anoth copi system break anyth intern databas name name standard much possibl regardless state follow model offic us senat co us hous fl district pa state senat district nc state hous district pa berk counti commission dc citi council district portland citi commission seat parti constitut parti regardless state jurisdict bewar hyphen formal name jurisdict elect may break test differ name contest differ counti mung batch countylevel file differ name candid especi candid name suffix middlemaiden name differ parti name candid without parti affili item intern comma eg john sawyer iii counti use cap eg seminol counti fl sign paramet file particularli web address results_sourc eghttpselectionswigovsiteselectionswigovfilesunofficialwielectionresultsbycountyxlsx system read ini file sign line break paramet file may interfer softwar pars follow line file total candid eg nebraska gener make sure includ total count nomin candid excel file show thousand separ view dont thousand separ hood count zero tri ad remov thousandssepar paramet formatconfig parser multiblock flat file assum line without count separ block bewar stray countless line eg creat util pull tabl pdf sheet file variabl number count column eg column label candid err side includ extra column count_column_numb column without data ignor care howev includ count column column contain string need mung excel file merg cell across line may clear line hold inform save sheet tabsepar text see line hold inform merg cell row data string field mung blank header eg often counti first column without cell read counti case use column_i mung formula denot ith column number usual exampl counti leftmost column header blank use column_ name counti see exampl wy_genmung hidden column excel file may need omit hidden column variou count load data result file load must design ini file insid jurisdict correspond subfold ini_files_for_result repositori ini file currrent repositori correspond offici raw data file us gener electionhttpsdoiorgdvngkbgt load directli munger jurisdict file electiondata repositori note howev due excel corrupt issu vermont wisconsin file may fail load connecticut maryland pennsylvania load may fail test inconsist within offici agenc materi dataload class allow batch upload data directori indic results_dir paramet main paramet file subdirectori file name jurisdict hyphen replac space usvirginisland dataloaderload_al method upload everi result file appear long path rel results_dir results_fil paramet ini file ini_files_for_result import electiondata ed edload_or_reload_al result file may need mung multipl munger eg combin absente result counti electionday result precinct ini file result file munger_list set commasepar list munger munger run one file error report difficult get munger jurisdict ini file correct first tri packag robust error warningreport design help user make necessari correct often effici way proceed examin error warn file use content modifi munger ini jurisdict file error warn report subdirectori name databas timestamp within directori specifi reports_and_plots_dir paramet main paramet file even upload work may warn line load system ignor line mung exampl contest whose result upload candidatecontesttxt ballotmeasurecontesttxt file correctli describ dictionarytxt error result file move subdirectori directori specifi archive_dir paramet main paramet file unload reload reload_juris_elect unload exist data given jurisdict given elect use routin edreload_juris_electionjurisdict elect report_dir function take option argument rollup default fals true roll result within major subdivis dbname name databas given otherwis databas name taken paramet file param_fil path paramet file dataload given otherwis paramet file path assum run_timeini move_fil default true true move file archiv directori load test done success run_test default true true run test data load load test pass result test report directori specifi reports_and_plots_dir paramet paramet file load result singl file multipl elect jurisdict sometim use load singl file result sever elect jurisdict exampl secondari sourc may combin result inform one file method dataloaderload_multielection_from_ini method allow kind upload method requir initi file usual requir paramet except elect jurisdict addit paramet secondary_sourc valu secondarysourc name subfold srcsecondary_sourc repositori contain file list elect jurisdict eg election_result results_filemedslcounty_csv munger_listmedsl_ secondary_sourcemitelectiondatasciencelab results_short_namemedsl__counti results_download_d results_sourcehttpsgithubcommedslelectionsofficialblobmastercounty_csv results_notecountylevel method dataloaderload_multielection_from_ini take two option paramet overwrite_exist default fals true delet databas exist result electionjurisdict pair repres result file load_jurisdict default fals true load updat databas jurisdict inform srcjurisdict jurisdict repres result file pull inform databas anaylz class analyz class use export data plot databas elect result analyz class take two option paramet param_fil path paramet file defin analyz directori databas connect etc specifi default run_timeini file directori call analyz made dbname name databas use specifi default databas specifi param_fil get instanc analyz call analyz class directli import electiondata ed analyz edanalyzerparam_fileparam_fil dbnamedbnam sinc everi instanc dataload class creat analyz import electiondata ed dl eddataloaderparam_fileparam_fil dbnamedbnam analyz dlanalyz tabular export analyz class number function allow aggreg data analysi purpos exampl export gener result databas tabsepar file tabular_resultstsv analyzerexport_election_to_tsvtabular_resultstsv gener export result singl jurisdict use eg analyzerexport_election_to_tsvtabular_resultstsv gener south carolina code produc south carolina data gener elect group contest counti vote type total earli absente etc nist common data format export packag provid function export data xml json accord nist elect result report schema version httpsgithubcomusnistgovelectionresultsreportingrawversionnist_v_election_results_reportingxsd simpl identifi elect jurisdict interest xml import electiondata ed analyz edanalyz election_report analyzerexport_nist_xml_as_str gener georgia output string content xml file json analyz edanalyz analyzerexport_nist_json_as_str generalgeorgia output string content json file subdivis type rollup determin _major_subjurisdiction_typetxt filesrcjurisdictions_for_all_jurisdictionsmajor_subjurisdiction_typestxt differenceindiffer calcul system provid way calcul differenceindiffer statist particular elect analyzerdiff_in_diff_dem_vs_rep produc datafram valu counti result vote type democrat republican candid compar pair contest ballot counti contest consid compar district geograph district type eg statewid statehous etc method also return list jurisdict vote count zero miss dbname test__ elect gener edaanalyzerdbnamedbnam diff_in_diff_dem_vs_rep miss andiff_in_diff_dem_vs_repelect specif fix counti parti fix pair vote type fix pair contest calcul differenceindiffer valu absabspct pct abspct pct pctij denot percentag total vote share earn parti candid contest ballot counti vote type j vote share vote candid democrat republican howev omit contest dont republican democrat candid inform context differenceindiffer calcul elect result see michael c herron articl mailin absente ballot anomali north carolina th congression districthttpdoiorgelj note use sign differenceindiffer take absolut valu plot see sample_sessionsample_sessionmd result file dataload test dataload test reli raw result data load result data variou enough test variou compon dataload code word effect test requir reason varieti input file repositori contain suffici result data test test set avail separ repositori testingdatahttpsgithubcomelectiondataanalysistestingdata test_dataloading_by_ejpytestsdataloading_teststest_dataloading_by_ejpi find result data default download file repositori sampl test session directori file structur call test work directori follow structur file input_result alabama alabama result file mayb anoth alabama result file alaska alaska result file americansamoa american samoa result file etc reports_and_plot run_timeini file run_timeini sampl dataload sessionsample_sessionmd note dataload test test test_dataloading_by_ejpytestsdataloading_teststest_dataloading_by_ejpi attempt load raw result file input_result specifi file ini_file_for_result directorysrcini_files_for_result check jurisdict file load test success look compare_ directori reports_and_plot directori test fail look output test run test need pytest instal system see pytest instal instructionshttpsdocspytestorgenxgettingstartedhtml necessari command run shell referenc local path repositori dataload routin pytest pathtorepotestsdataloading_test jurisdict prep routin pytest pathtorepotestsjurisdiction_prepper_test analysi routin pytest pathtorepotestsanalyzer_test sampl dataload session document walk reader simpl exampl set project directori load data perform analys assum packag instal environ necessari compon describ installationmdinstallationmd exampl load xml result file georgia repositori tests_data_for_pytestgeneralgeorgiaga_detail__xmltests_data_for_pytestgeneralgeorgiaga_detail__xml directori file structur packag offer fair amount flexibl directori structur use sampl session assum user call program work directori follow structur file input_directori georgia ga_detail__xml archive_directori reports_and_plots_directori run_timeini note process packag use inform repositori word repositori contain code necessari compil packag also file call packag function file inform jurisdict munger result result file user need know absolut path repositori content root src call path pathtosrc content run_timeini electiondata results_dirinput_result archive_dirarchive_directori repository_content_rootpathtosrc reports_and_plots_dirreports_and_plot postgresql hostlocalhost port dbnamega_test userpostgr password may wish check postgresql credenti work system via command psql h localhost p u postgr postgr command fail prompt password need find correct connect paramet specif postgresql instanc note dbname paramet arbitrari determin name postgresql databas creat packag content ga_detail__xml copi file name repositori _templatemungerga_detail__xmltests_data_for_pytestgeneralgeorgiaga_detail__xml load data import electiondata ed edload_or_reload_al command execut success see databas postgr instanc whose name match valu dbname given run_timeini file structur archive_directori georgia_ ga_detail__xml input_directori reports_and_plots_directori compare_to_georgia_xxxx_xxxx parameterstxt not_found_in_dbtsv oktsv wrongtsv load_or_reload_all_xxxx_xxxx georgia_jurisdiction_dictionarytxtwarn run_timeini note georgia result folder move archiv directori date stamp date result file reports_and_plots_directori contain subdirectori compare_to_georgia_xxxx_xxxx result comparison refer resultssrcreference_resultsgeorgiatsv subdirectori load_or_reload_all_xxxx_xxxx warn data upload may wish look file georgia_jurisdiction_dictionarytxtwarn list contest present xml result file recogn process contest candid ad georgiaspecif inform repositori see creat jurisdict file user guideuser_guidemd warn would appear export analyz data pull data need use analyz class edanalyz export export result tabular form anexport_election_to_tsvga_resultstsv gener file ga_resultstsv contain tabsepar result creat work directori archive_directori georgia_ ga_detail__xml ga_resultstsv input_directori reports_and_plots_directori compare_to_georgia_xxxx_xxxx parameterstxt not_found_in_dbtsv oktsv wrongtsv load_or_reload_all_xxxx_xxxx georgia_jurisdiction_dictionarytxtwarn run_timeini program v higher also produc string data nist common data format version either json xml format anexport_nist_xml_as_str gener georgia anexport_nist_json_as_str gener georgia plot draw pictur automat need orca instal systemhttpsgithubcomplotlyorca plot export reports_and_plots_directori may also appear browser window orca instal system automat creat pictur note case routin return text inform suffici creat plot system may wish use scatter plot creat scatter plot result counti exampl creat jpeg compar biden vote total trump vote total biden_v_trump anscattergeorgia generalcandid totaljoseph r biden generalcandid totaldonald j trumpfig_typejpeg biden vs trump scatter plot total vote counti georgia gener electionimagesscatter_josephrbidengeneraluspresidentga_donaldjtrumpgeneraluspresidentgajpeg compar biden vote elect day vote absente mail ballot biden_eday_v_ab anscattergeorgia generalcandid electiondayjoseph r biden generalcandid absenteemailjoseph r bidenfig_typejpeg case valu return string inform necessari draw plot string follow python dictionari format return string without call orca simpli omit fig_typ eg biden_eday_v_ab anscattergeorgia generalcandid electiondayjoseph r biden generalcandid absenteemailjoseph r biden argument order jurisdict georgia three item defin horizontalaxi count elect gener count categori one candid absenteemail candid earli candid electionday candid provision candid total contest absenteemail contest earli contest electionday contest provision contest total parti absenteemail parti earli parti electionday parti provision parti total specif count within categori three item defin verticalaxi count horizont note categori chosen eg parti absenteemail list possibl specif count obtain line code entrynam entri andisplay_optionscount generalgeorgiaparti absenteemail use categori name place parti absenteemail see count avail categori categori start contest give number vote talli contest counti lump candid togeth categori start parti give number vote talli member parti particular contest type eg libertarian congression curat onecounti outlier bar chart system attempt find interest onecounti outlier within elect result specif algorithm describ articl singer srungavarapu tsai _maa focus_ febmarch pp httpdigitaleditionswalsworthprintgroupcompublicationmipverhtml exampl outlier anbar generalgeorgiacontest_typecongressionalfig_typepng export three bar chart reports_and_plots_directori show pair candid vote share one counti type ballot differ significantli vote share counti district output command includ chart show clark counti differ georgia counti th us hous district chart show pandi outperform clyde clark counti ga earli ballot result counti favor clydeimagesandrewclyder_devinpandyd_early_ushousegadistrictpng output variabl outlier contain even inform includ contest margin estim vote stake outlier brought line counti option contest_typ data set congression state statewid contest statehous statesen differenceindiffer analysi program offer differenceindiffer analysi result avail vote type follow herron analysi congression contestshttpswwwliebertpubcomdoifullelj follow code creat tabsepar file ga_diffstsv work directori did_fram miss andiff_in_diff_dem_vs_rep gener did_frameto_csvga_diff_in_difftsvt note variabl miss list diffindiff comparison fail option step sampl session use inform alreadi repositori georgia particular result file wish creat file scratch follow option step specifi contest total data qualiti check data load process includ check contest total refer total srcreference_resultsgeorgiatsvsrcreference_resultsgeorgiatsv may wish add refer total file creat munger file wish practic creat munger file follow step munger file live folder srcmungerssrcmung name need extens munger option delet munger file ga_xmlmungersrcmungersga_xmlmung local copi repositori step strictli necessari help ensur dont accident use exist munger make copi srcmungers_templatemungersrcmungers_templatemung name my_georgia_testmung insid folder fill requir paramet valu specifi organ result file _templatemung file_typexml indic file xml format count_locationelectionresultcontestchoicevotetypecountyvot indic vote count found within xml nest structur specifi locat info defin vote count locat must start one node count_loc file contain varieti contest candid parti vote type aka countitemtyp geographi aka reportingunit need use constant_over_fil paramet mung formula section specifi inform found reportingunit candidatecontest countitemtyp read simpli quot string file reportingunit countynam candidatecontest contesttext countitemtyp votetypenam candid parti must read choicetext python regular express regex syntax packag syntax locat string file enclos angl bracket regular express need locat regular express given pair within brace format file_typexml count_locationelectionresultcontestchoicevotetypecountyvot mung formula reportingunitcountynam partychoicetext candidatecontestcontesttext candidatechoicetext countitemtypevotetypenam creat initi file result file option wish practic creat initi file result follow step otherwis system use initi file gag__inisrcini_files_for_resultsgeorgiagag__ini input_directori folder subfold georgia dataload routin look folder srcini_files_for_resultsgeorgiasrcini_files_for_resultsgeorgia inform result file input_directorygeorgia work directori delet gag__inisrcini_files_for_resultsgeorgiagag__ini repositori copi srcini_files_for_resultssingle_election_jurisdiction_templateinisrcini_files_for_resultssingle_election_jurisdiction_templateini file extens ini folder srcini_files_for_resultsgeorgiasrcini_files_for_resultsgeorgia defin paramet election_result section creat new munger file use munger_listga_xml instead munger_listmy_georgia_test use actual download date instead election_result results_filegeorgiaga_detail__xml munger_listmy_georgia_test jurisdictiongeorgia elect gener results_short_nameany_alphanumeric_str results_download_d results_sourceelectiondata repositori results_not is_preliminaryfals creat jurisdict file scratch choos creat georgia jurisdict file scratch rather use one provid repositori need specifi variou inform georgia file call jurisdiction_prepini work directori work directori structur jurisdiction_prepini run_timeini input_directori georgia ga_detail__xml archive_directori reports_and_plots_directori content jurisdiction_prepini electiondata namegeorgia reporting_unit_typest abbreviated_namega count_of_state_house_district count_of_state_senate_district count_of_us_house_district input_directori folder subfold georgia dataload routin look inform specif georgia repositori folder srcjurisdictionsgeorgiasrcjurisdictionsgeorgia delet folder srcjurisdictionsgeorgiasrcjurisdictionsgeorgia navig work directori follow instruct creat improv jurisdict section user_guideuser_guidemd work follow exampl may help sampl counti line reportingtxt georgiaappl counti counti georgiaatkinson counti counti georgiabacon counti counti sampl counti line ga_starter_dictionarytxt dictionarytxt reportingunit georgiaappl counti appl reportingunit georgiaatkinson counti atkinson reportingunit georgiabacon counti bacon tri load result import electiondata ed edload_or_reload_allmove_filesfals use prevent system archiv file deal warn move_filesfals option error warn par cours dont discourag result someth like jurisdict georgia load see error file jurisdict error written reports_and_plots_directoryload_or_reload_all___jurisdiction_georgiaerror take look file indic give good idea need fix doesnt pleas report unhelp messag question issu githubhttpsgithubcomelectiondataanalysiselectiondataissu repeat step load look error often necessari rare case may want start new databas either eras exist ga_test postgr instanc chang valu dbname run_timeini file sampl error warn build jurisdict file contest contest recogn candid recogn system report error jurisdict error georgia could add total gener data found contestselect pair recogn via munger my_georgia_testmung focu one contest one candid contest look error warn file name contest candid appear file tell went wrong name contest candid appear error munger file issu munger name result initi file contest pars file recogn dictionari list warn file eg candidatecontest found munger my_georgia_test found dictionarytxt us senat perdu us senat loeffler special statewid referendum state senat district special democrat primari state senat dist senador estat dist may well choos omit certain contest statewid referendum special democrat primari contest need make entri dictionarytxt mayb candidatecontesttxt officetxt well state senat dist senador estat dist see follow instruct sampl session correspond offic candidatecontest ga senat district alreadi exist simpli add anoth line dictionarytxt file candidatecontest ga senat district state senat dist senador estat dist may save time add version ga senat district point us senat perdu us senat loeffler special sure disambigu either creat two separ offic correspond candidatecontest two us senat posit creat two separ candidatecontest correspond singl offic us senat ga choos latter ad row candidatecontesttxt us senat ga partial term us senat ga two row dictionarytxt candidatecontest us senat ga partial term us senat loeffler special candidatecontest ga attorney gener ga attorney gener candid candid found dictionari list warn file copi past name candidatetxt file singl ballotnam column ballotnam zulma lopez zachari perri yasmin neal add correspond row dictionarytxt candid zulma lopez zulma lopez candid zachari perri zachari perri candid yasmin neal yasmin neal free choos anoth convent candid name databas long specifi map dictionari eg could instead ballotnam lopez zulma perri zachari neal yasmin dictionari candid lopez zulma zulma lopez candid perri zachari zachari perri candid neal yasmin yasmin neal parti parti recogn also list warn file eg parti found munger my_georgia_testmung found dictionarytxt rep lib ind grn dem map dictionarytxt parti republican parti rep parti libertarian parti lib parti independ parti ind parti green parti grn parti democrat parti dem chosen intern databas name name column partytxt name democrat parti republican parti libertarian parti green parti independ parti note routin analyz submodul assum everi parti name end parti code document progress proceed caution code compon cdf_schema_def_info directori inform directori determin structur databas creat system store elect result inform subdirectori content element subdirectori contain subdirectori main tabl databas correspond class common data format tabl eg _datafil start underscor enumer subdirectori contain file relev enumer list common data format treat ballotmeasureselect enumer list join subdirectori contain subdirectori join tabl databas hardcod item list hardcod one place could chang recogn jurisdict states_and_such database__init__pi anyth list appear output databasedisplay_jurisdict even correspond data databas recogn contest type contest_types_model database__init__pi recogn encod recognized_encod userinterface__init__pi ballot measur select bmselect databasecreate_cdf_db__init__pi convent jurisdict name eg district columbia contain space inconveni use space directori file name distinguish jurisdict true name system name replac space hyphen eg districtofcolumbia test pytest routin test dataload analyz jurisdictionprep function data requir test latter two _data_for_pytesttests_data_for_pytest folder depend file testsrun_timeini note run_timeini file part repositori contain databas connect inform need creat point differ paramet file custom option param_fil pytest dataload testtestsdataloading_teststest_dataloadingpi depend inform outsid test folder test elect result file result directori specifi results_dir paramet dataloading_testsrun_timeini result directori exist test creat pull file httpsgithubcomelectiondataanalysistestingdatagithttpsgithubcomelectiondataanalysistestingdatagit specifi differ url custom pytest option test_data_url refer file reference_result foldersrcreference_result convent tabssepar name jurisdict eg virginatsv americansamoatsv note hyphen refer result given electionjurisdict pair test fail refer file must column jurisdictionelectioncontestreportingunitvotetypecount note analyzer_test dataloader_test directori conftestpi file may caus problem tri run simultan via pytest test directori run separ work test pytest analyzer_test test pytest dataloader_test instal instruct environ need python postgresql python packag given requirementstxtrequirementstxt packag packag may requir absolut requir recommend packag manag homebrew maco python environ python command without specifi version python may may point python linuxflavor shell check version command python version similarli system may python command whose version check python version postgresql postgresql present command postgr version yield version number otherwis command fail electiondata packag test postgr version probabl reason recent version postgresql present abl instal reason packag manag maco packag manag homebrew use command brew instal postgresql default valu need connect postgresql instanc host localhost port user postgr password leav password blank python packag instal requir packag run python pip instal r requirementstxt root folder repositori requir packag requir may may instal alreadi system prompt instal packag instal suggest packag tri python pip instal r requirementstxt instal root folder repositori run python setuppi instal may abl use python setuppi instal python setuppi instal instead point python describ aboveno report respons yet