detail descript modul read_qc metawrapread_qc modul meant preprocess raw illumina sequenc read prepar assembl align raw read trim base adapt content phred score default set trimgalor ensur highqual sequenc left read align host genom eg human bmtagger host read remov metagenom data remov host contamin read pair one read align host genom also remov final fastqc use gener qualiti report raw final read set order assess read qualiti improv user control featur wish use assembl metawrapassembl modul allow user assembl set metagenom read either metaspad megahit default metaspad result superior assembl sampl megahit much memori effici faster scale well larg dataset addit simplifi paramet select user modul also sort format megahit assembl way make easier inspect contig sort length name chang resembl spade includ contig id length coverag final short scaffold discard bp assembl report gener quast kraken metawrapkraken modul take number fastq fasta file classifi contain sequenc kraken report taxonomi distribut kronagram use kronatool sequenc pass modul belong assembl follow contig name convent assembl modul taxonomi contig weight base length coverag weightcoveragelength classif sequenc summar format kronatool ktimporttext function recogn final kronagram html format made sampl bin metawrapbin modul meant conveni wrapper around three metagenom bin softwar maxbin metabat concoct first metagenom assembl index bwaindex pair end read number sampl align align sort compress samtool librari insert size statist also gather time insert size averag standard deviat metabat jgi_summarize_bam_contig_depth function use gener contig adund tabl convert correct format three binner take input maxbin metabat concoct finish bin contig default set user specifi softwar want bin final bin folder creat format bin fasta file easi inspect option user chose immedi run checkm bin determin success bin checkm lineage_wf function use predict essenti gene estim complet contamin bin custom script use gener easi view report bin set bin_refin metawrapbin_refin modul util hybrid approach take two three bin set obtain differ softwar softwar differ paramet produc consolid improv bin set first binning_refin use creadi hybrid bin everi possibl combin set three bin set b c follow hybrid set produc binning_refin ab bc ac abc checkm run evalu complet contamin bin bin set origin hybrid bin set iter compar pair consolid improv bin set bin identifi within two bin set base minimum overlap genom length better bin determin base bin higher score score function scompletioncontamin bin set incorpor consolid bin collect derepl function remov duplic contig contig present one bin remov best bin base score function checkm run final bin set final report file gener show complet contamin statist gener checkm bin complet contamin rank plot also gener evalu success bin_refin modul compar output qualiti origin bin reassemble_bin metawrapreassemble_bin modul aim improv set bin find read align reassembl first bwa use index entir metagenom assembl align fastq read back read map back cont belong metagenom bin store separ fastq file one read mate align pair still get recruit bin bin two set read store read map perfectli strict read map less mismatch permiss set read reassembl spade careful set short contig bp remov checkm use evalu complet contamin three version bin origin bin strict reassembl bin permiss reassembl bin best version chosen base highest score scompletioncontamin ad final bin set final bin set reevalu checkm summari statist gener addit complet contamin rank plot gener evalu improv bin set follow reassembl quant_bin metawrapquant_bin modul quickli estim abund bin across number sampl salmon use index entir metagenom assembl align read sampl back assembl coverag tabl gener estim abund contig sampl averag abund bin sampl calcul take lengthweight averag binss contig abund final bin abund tabl made cluster heatmap gener visual bin abund variat across sampl blobolog metawrapblobolog modul creat blobplot gc vs abund plot contig metagenom assembl annot phylogenet inform bin inform assembl contig randomli subsampl base user prefer first taxonomi contig estim megablast take topmost confid align ncbi_nt databas assembl index read number sampl align bowti final blobolog gc_cov_annotatepl function use gener blobplot file gc coverag sampl taxonomi contig user specifi set bin annot contig also annot bin belong final blobolog makeblobplotr function use make blobplot contig across provid sampl taxonom annot superkingdom phylum order level bin annot contig belong bin phylum taxonomi bin contig classify_bin metawrap classify_bin modul conserv accur way assign taxonomi set metagenom bin first contig bin combin one file megablast use align contig ncbi_nt databas align result use taxatorkt estim like taxonomi contig final overal like taxonomi metagenom bin estim individu contig taxonomi predict taxonomi contig ad phylogenet tree ad weight branch base length contig tree travers root go taxonom rank weight next branch current branch indic minimum confid predict taxonom rank estim final taxonomi bin report annotate_bin metawrapannotate_bin modul take set bin quickli function annot prokka v prokka util varieti softwar make predict blast hmmer aragorn prodig tblasn infern annot process parallel number bin thread bin modul return annot file gff format two fasta file untransl translat gene guid analyz metagenom data metawrap note pipelin guid none metawrap modul depend want certain step anoth softwar free exampl want tri reassemble_bin modul bin need run modul get point want use differ assembl metaspad megahit proceed rest pipelin assembl step download sampl metagenom data metahit gut survey use unzip demultiplex pairedend illumina read download data sampl wget ftpsraebiacukvolfastqerrerrerr_fastqgz wget ftpsraebiacukvolfastqerrerrerr_fastqgz wget ftpsraebiacukvolfastqerrerrerr_fastqgz wget ftpsraebiacukvolfastqerrerrerr_fastqgz wget ftpsraebiacukvolfastqerrerrerr_fastqgz wget ftpsraebiacukvolfastqerrerrerr_fastqgz unzip data gunzip gz place raw sequenc read new folder mkdir raw_read mv fastq raw_read ls raw_read err_fastq err_fastq err_fastq err_fastq err_fastq err_fastq step run metawrapread_qc trim read remov human contamin note need bmtagger hg index remov human read see metawrap databas instal instruct may also use anoth host genom filter x option altern use skipbmtagg flag readqc modul read trim individu process sampl mkdir read_qc metawrap read_qc raw_readserr_fastq raw_readserr_fastq read_qcerr metawrap read_qc raw_readserr_fastq raw_readserr_fastq read_qcerr metawrap read_qc raw_readserr_fastq raw_readserr_fastq read_qcerr altern process sampl time parallel loop especi mani sampl f raw_reads_fastq rf__fastq basef samplebase_ metawrap read_qc f r read_qcsampl done onelin f raw_reads_fastq rf__fastq basef samplebase_ metawrap read_qc f r read_qcsampl done let glanc one output folder ls read_qcerr html report read qualiti qc postqc_report preqc_report origin raw read read qualiti qchttpsiimgurcomxaafwspng final qced read read qualiti qchttpsiimgurcomdrjfxcpng final trim decontamin read final_pure_reads_fastq final_pure_reads_fastq move final qced read new folder mkdir clean_read read_qc bi mv ifinal_pure_reads_fastq clean_readsb_fastq mv ifinal_pure_reads_fastq clean_readsb_fastq done step assembl metagenom metawrapassembl modul note depend goal may want assembl sampl seper purpos analyz whole commun across sampl coassembl sampl concatin read sampl cat clean_readserr_fastq clean_readsall_reads_fastq cat clean_readserr_fastq clean_readsall_reads_fastq assembl read metaspad option flag usual prefer megahit unless larg data set metawrap assembl clean_readsall_reads_fastq clean_readsall_reads_fastq usemetaspad assembl find assembl file assemblyfinal_assemblyfasta quast assembl report html assemblyassembly_reporthtml assembl statist assembl statshttpsiimgurcomrbdldgupng look top contig show got longer contig consid work gbp data grep assemblyfinal_assemblyfasta head node__length__cov_ node__length__cov_ node__length__cov_ node__length__cov_ node__length__cov_ node__length__cov_ node__length__cov_ node__length__cov_ node__length__cov_ node__length__cov_ step run kraken modul read assembl run kraken read give us idea taxonom composit commun three sampl run kraken assembl give us idea taxonom group assembl better other assembl process heavili bias use infer overal commun composit run kraken modul file subset read read per sampl speed run metawrap kraken kraken clean_readserrfastq assemblyfinal_assemblyfasta let look output folder errkraken errkraken errkraken final_assemblykraken kronagramhtml errkrona errkrona errkrona final_assemblykrona kraken file contain krakenestim taxonomi read contig krona file summar taxonomi statist fed kronatool make kronagramhtml file kronagramhtml file contain taxonomi inform sampl coassembl inspect krona web browser show commun composit like exampl taxonom composit first sampl kronahttpsiimgurcomjzifpuvpng step bin coassembl three differ algorithm bin modul initi bin process concoct maxbin metabat time intens step especi concoct maxbin would advis run bin modul algorithm seper howev metawrap support run three togeth dataset reason small run three bin predict time use differ bin softwar feel free run instead downstream refin process bin_refin modul take differ bin set although get around run split bin set group recurs consolid run bin modul three binner notic put f r read file end command metawrap bin initial_bin assemblyfinal_assemblyfasta metabat maxbin concoct clean_readserrfastq output folder see folder final bin set file contain averag standard deviat librari insert size may may useful insert_sizestxt concoct_bin maxbin_bin metabat_bin work_fil look insid folder reveal found bin concoct metabat maxbin respect know good bin yet unless use runcheckm flag find qualiti bin next step step consolid bin set bin_refin modul note make sure download checkm databas see metawrap databas instruciton metabat maxbin concoct bin let consolid singl stronger bin set use bin softwar feel free use bin set run group exampl bin set tri consolid consolid output refin make sure put thought minimum compleiton c maximum contamin x paramet enter refin metawrap chose best version bin differ version bin dynam adjust priorit bin qualiti desir consid exampl bin_ come four version term completioncontamin one best version high complet high contamin less complet pure bin subject depend valu bin purpos bin extract default minimum complet maximum contamin howev rel poor depth demonstr sampl set minimum complet maximum contamin feel free much picki paramet like c x unreason data get fewer bin cours run metawrap bin_refin modul metawrap bin_refin bin_refin initial_binningmetabat_bin b initial_binningmaxbin_bin c initial_binningconcoct_bin c x output directori see three origin bin folder fed well metawrap directori contain final consilid bin also see binning_refin bin set intern benchmark bin produc use anoth consolid softwar binning_refin ignor set like low contamin complet also see stat file one bin directori concoct_binsstat maxbin_binsstat metabat_binsstat metawrap__stat binning_refinerstat concoct_bin maxbin_bin metabat_bin metawrap___bin binning_refin note ___ part name refer c x option chose algorithm optim repeat run output directori use differ option get differ result see work best sampl use ___ exampl get nearcomplet genom recalcul use exist bin output greatli reduc run time stat file contain useful inform bin inscud complet contamin exampl cat bin_refinementmetawrap__stat bin complet contamin gc lineag n size binner bin euryarchaeota binsocheckm bin clostridial binsocheckm bin bacteria binsocheckm bin clostridial binsocheckm bin clostridial binsocheckm bin bacteria binsocheckm bin selenomonadal binsocheckm bin bacteroidal binsocheckm bin clostridial binsocheckm bin bacteria binsocheckm bin bacteroidal binsocheckm bin bacteria binsocheckm bin bacteria binsocheckm evalu mani good bin base comp cont metric metawrap produc run cat bin_refinementmetawrap___binsstat awk wc l inspect file find metabat maxbin concoct metawrap produc bin respect metawrap produc bin best singl binner bad number bin closer compar bin set term complet contamin look plot bin_refinementfigur bin_refinementhttpsiimgurcommrrjxijpg note graph longer binning_refin reduc confus want see binning_refin perform look binsabc binsab two bin set figur see refin process signifficantli produc best bin set term compleiton contamin keep mind improv even dramat complex sampl step visual commun extract bin blobolog modul let use blobolog modul project entir assembl onto gc vs abund plane annot taxonomi bin inform give us idea microbi commun structur like also show us bin success visual way note order annot blobplot bin bin flag must use nonreassembl bin word use bin produc bin_refin modul reassemble_bin modul note need r modul metawrap blobolog assemblyfinal_assemblyfasta blobolog bin bin_refinementmetawrap___bin clean_readserrfastq find output number blob plot commun annot differ level taxonomi bin membership note help visual bin plot contain contig success bin file binnedblobplot name phyla taxonomi entir assembl commun phylahttpsiimgurcomvihlgwbjpg bin membership contig binshttpsiimgurcomgdmiyejpg step find abundac draft genom bin across sampl would like know extract genom distribut across sampl abund bin present sampl quant_bin modul give us inform use salmon tool convent use transcript quantit estim abund scaffold sampl comput averag bin abund note order run modul highli recomend use nonreassembl bin bin produc bin_refin modul reassemble_bin modul provid entir nonbin assembl option give accur bin abund context entir commun let run quant_bin modul metawrap quant_bin b bin_refinementmetawrap___bin quant_bin assemblyfinal_assemblyfasta clean_readserrfastq output contain sever useful file first bin_abundance_heatmappng quick heatmap made visual bin abund across sampl heatmaphttpsiimgurcomkraputpng raw data plot like want make heatmap analyz bin_abundance_tabletab note abund express genom copi per million read calcul salmon simmilar way like tpm transcript per million calcul rnaseq analysi alreadi standard individu sampl size genom bin err err err bin bin bin bin bin bin bin bin bin bin bin bin bin final view abund individu contig sampl quant_fil folder step reassembl consolid bin set reassemble_bin modul final consilid bin set bin_refinementmetawrap_bin tri improv reassembl reassembl bin modul collect read belong bun reassembl sepper permiss strict algorithm bin improv reassembl alter final set let us run reassemble_bin modul read metawrap reassemble_bin bin_reassembl clean_readsall_reads_fastq clean_readsall_reads_fastq c x b bin_refinementmetawrap___bin look output bin_reassemblyreassembled_binsstat see bin improv though strict reassembl improv thorugh permiss reassembl bin could improv strict permiss orig bin extens respect bin complet contamin gc lineag n size binner binorig bacteria na binstrict clostridial na binpermiss clostridial na binpermiss bacteria na binstrict bacteria na binpermiss selenomonadal na binpermiss bacteroidal na binorig bacteroidal na binpermiss clostridial na binorig euryarchaeota na binpermiss clostridial na binorig bacteria na binstrict clostridial na much bin set realli improv look bin_reassemblyreassembly_resultspng plot compar origin reassembl set see bin reassembl modestli improv bin n complet metric signifficantli reduc contamin fantast heatmaphttpsiimgurcomviosyqjpg also view checkm plot final bin bin_reassemblyreassembled_binspng heatmaphttpsiimgurcomyxfuqpng step determin taxonomi bin classify_bin modul note need ncbi_nt ncbi_tax databas modul see databas instal section alreadi got idea approxim taxonomi bin checkm stat file bin_refin reassemble_bin modul better howev classify_bin modul use taxatortk accur assign taxonomi contig consolid result estim taxonomi whole bin cours success accuraci predict reli heavili exist databas estim taxonomi final reassembl bin classify_bin modul metawrap classify_bin b bin_reassemblyreassembled_bin bin_classif view final estim taxonomi bin_classificationbin_taxonomytab binorigfa bacteriafirmicutesclostridiaclostridial binorigfa archaeaeuryarchaeotamethanobacteriamethanobacterialesmethanobacteriaceaemethanobrevibactermethanobrevibact smithii binorigfa bacteriabacteroidetesbacteroidiabacteroidalesbacteroidaceaebacteroid binpermissivefa uncultur organ binorigfa bacteriafirmicutesclostridiaclostridialesclostridiacea binstrictfa bacteriafirmicut binstrictfa bacteria binpermissivefa bacteria binpermissivefa bacteriafirmicutesclostridiaclostridial binpermissivefa bacteriafirmicutesclostridiaclostridialesclostridiacea binpermissivefa bacteria binpermissivefa bacteriabacteroidetesbacteroidiabacteroidalesbacteroidacea binstrictfa bacteria see bin annot deepli other classifi bacteria method rel trustworthi howev often fail annot organ distant anyth ncbi databas tricki bin manual look marker gene ribosom protein result much sensit taxonomi assign step function annot bin annotate_bin modul final reassembl bin readi function annot downstream function analysi modul simpli annot gene prokka actual function analysi run function annot modul final reassembl bin metawrap annotate_bin funct_annot b bin_reassemblyreassembled_bin find function annot bin gff format funct_annotbin_funct_annot folder head funct_annotbin_funct_annotationsbinoriggff node__length__cov_ prodig cd idhmohejhl_inferenceab initio predictionprodigallocus_taghmohejhl_producthypothet protein node__length__cov_ prodig cd idhmohejhl_inferenceab initio predictionprodigallocus_taghmohejhl_producthypothet protein node__length__cov_ prodig cd idhmohejhl_inferenceab initio predictionprodigallocus_taghmohejhl_producthypothet protein node__length__cov_ prodig cd idhmohejhl_nameypdbgeneypdbinferenceab initio predictionprodigalsimilar aa sequenceuniprotkbpaelocus_taghmohejhl_producttranscript regulatori protein ypdb node__length__cov_ prodig cd idhmohejhl_ec_numbernameegsageneegsainferenceab initio predictionprodigalsimilar aa sequenceuniprotkbplocus_taghmohejhl_productglycerolphosph dehydrogenas nadp node__length__cov_ prodig cd idhmohejhl_ec_numberinferenceab initio predictionprodigalsimilar aa sequenceuniprotkbaalocus_taghmohejhl_productmannan endocbetamannosidas node__length__cov_ prodig cd idhmohejhl_ec_numbernameganb_geneganb_inferenceab initio predictionprodigalsimilar aa sequenceuniprotkbqcxlocus_taghmohejhl_productarabinogalactan endobetacgalactanas node__length__cov_ prodig cd idhmohejhl_namemalg_genemalg_inferenceab initio predictionprodigalsimilar aa sequenceuniprotkbplocus_taghmohejhl_productmaltos transport system permeas protein malg node__length__cov_ prodig cd idhmohejhl_namemalf_genemalf_inferenceab initio predictionprodigalsimilar aa sequenceuniprotkbplocus_taghmohejhl_productmaltos transport system permeas protein malf node__length__cov_ prodig cd idhmohejhl_namemalegenemaleinferenceab initio predictionprodigalsimilar aa sequenceuniprotkbpaeylocus_taghmohejhl_productmaltosebind periplasm protein also find translat unstransl predict gene fasta format funct_annotbin_translated_gen funct_annotbin_untranslated_gen folder final find raw prokka output file funct_annotprokka_out metawrap flexibl pipelin genomeresolv metagenom data analysi metawrap aim easytous metagenom wrapper suit accomplish core task metagenom analysi start finish read qualiti control assembl visual taxonom profil extract draft genom bin function annot addit metawrap take bin extract analysi next level see modul overview singl best approach process metagenom data metawrap meant fast simpl approach delv deeper parameter analysi metawrap appli varieti environ includ gut water soil microbiom see metawrap paper benchmark individu modul metawrap standalon program mean use modul interest data gener walkthrough metawrap moduleshttpsiimgurcomgqrsmpng metagenom bin recoveri improv addit tool wrapper metawrap offer power hybrid approach extract highqual draft genom bin metagenom data use varieti softwar metabat concoct maxbin exampl sinc alreadi wrap bin modul util individu strength minim weak metawrap bin refin modulehttpsiimgurcomjlqopng outperform individu bin approach also bin consolid program binning_refin das_tool synthet real dataset emphas modul standalon compon encourag use favorit bin softwar intiti predict come metabat concoct maxbin predict also come differ paramet softwar bin_refin perform comparison differ microbiom typeshttpsiimgurcomksklbjpg metawrap also includ novel bin reassembl modulehttpsiimgurcomgusmxlpng allow drastic improv qualiti set bin extract read belong bin reassembl bin permiss nonmetagenom assembl addit improv n bin modestli increas complet bin drastic reduc contamin recommend run reassembl final bin set bin_refin modul bin set overview metawrap modul metagemon data preprocess modul read_qc read trim host eg human read remov assembl metagenom assembl qc metaspad megahit krakenkraken taxonomi profil visual read contig bin process modul bin initi bin extract maxbin metabat andor concoct bin_refin consolid multipl bin prediciton superior bin set reassemble_bin reassembl bin improv complet n reduc contamin quant_bin estim bin abund across sampl blobolog visual commun extract bin blobplot classify_bin conserv accur taxonomi predict bin annotate_bin function annot gene set bin detail pleas consult metawrap modul descriptionshttpsgithubcombxlabmetawrapblobmastermodule_descriptionsmd publicationhttpsmicrobiomejournalbiomedcentralcomarticless system requir resourc requir pipelin vari greatli base amount data process due larg memori requir mani softwar use kraken metaspad name recommend core gb ram metawrap offici support linux x system may instal osx manual docker see instal manual instal best comfort best way instal manag metawrap instal directli github instal depend conda usual use metawrap allow easili updat version metawrap packag also work maco well unix instal mamba conda instal mamba mamba effect replac conda exactli thing _much_ faster download clone ripositori git clone httpsgithubcombxlabmetawrapgit care configur yourpathmetawrapbinconfigmetawrap file point desir databas locat modifi later follow databas configur guidehttpsgithubcombxlabmetawrapblobmasterinstallationdatabase_installationmd detail make metawrap execut ad yourpathmetawrapbin directori path either add line pathyourpathmetawrapbinpath bash_profil script copi content yourpathmetawrapbin locat alreadi path usrbin minicondabin option recommend make new conda environ instal manag depend mamba creat n metawrapenv python conda activ metawrapenv instal metawrap dependancieshttpsgithubcombxlabmetawrapblobmasterconda_pkgmetayaml conda conda config add channel default conda config add channel condaforg conda config add channel bioconda conda config add channel urski unixlinux mamba instal onlydep c urski metawrapmg conda instal onlydep c urski metawrapmg also work much slower mamba instal biopython bla blast bmtagger bowti bwa checkmgenom fastqc kraken kraken krona matplotlib maxbin megahit metabat panda prokka quast rggplot rrecommend salmon samtool seaborn spade trimgalor note last solut univers may need manual instal concoct pplacer express condamamba instal quickest least configur directli creat metawrapspecif environ instal metawrap instal mamba replac conda much faster conda instal mamba instal metawrap mamba creat name metawrapenv channel urski metawrapmg conda activ metawrapenv fix concoct endless warn messag metawrap run conda instal blasmkl bioconda instal avoid metawrap also avail bioconda channel howev distribut recommend user push major releas bioconda ie v v sourc meant specif applic requir bioconda distribut get latest version metawrap newest patch bug fix pleas instal c urski channel seen bioconda instal recommend conda instal mamba mamba instal c bioconda metawrap conda instal c bioconda metawrap docker instal avoid run osx dont want instal manual prefer work container environ dockerhttpsquayiorepositorybiocontainersmetawraptabinfo could way go howev bioconda distribut push major releas bioconda ie v v get latest version metawrap newest patch bug fix pleas instal c urski channel seen still need use docker run bug fix latest version manual updat script repositori appli recent patch instal docker run docker instal recommend fulli support docker pull quayiobiocontainersmetawrap databas addit conda instal need configur path databas download onto system use favorit text editor configur path somepathminicondabinconfigmetawrap make sure everyth look correct unsur config file run bash configmetawrap import want use function requir databas depend plan databas mandatori metawrap see databas section follow guid download configur instructionshttpsgithubcombxlabmetawrapblobmasterinstallationdatabase_installationmd databas size use modul checkm_db gb bin bin_refin reassemble_bin kraken standard databasegb kraken kraken standard databasegb kraken ncbi_nt gb blobolog classify_bin ncbi_tax mb blobolog classify_bin index hg gb read_qc detail pipelin walkthrough detail pipelin walkthroughhttpsiimgurcomhdupexcpng note featur walkthrough depric sinc v understand specif step modul glanc bash code script usag pleas look metawrap usag tutorialhttpsgithubcombxlabmetawrapblobmasterusage_tutorialmd detail run instruct exampl depend place run metawrap rel simpl main metawrap script wrap around individu modul call independ metawrap h usag metawrap modul help option read_qc raw read qc modul assembl assembl modul bin bin modul bin_refin refin bin bin modul reassemble_bin reassembl bin use metagenom read quant_bin quantifi abund bin across sampl blobolog blobolog modul kraken kraken modul kraken kraken modul modul run separ exampl run assembl modul metawrap assembl h usag metawrap assembl option reads_fastq reads_fastq output_dir option str forward fastq read str revers fastq read str output directori int memori gb default int number thread defualt usemegahit assembl megahit default usemetaspad assembl metaspad instead megahit cite metawrap found metawrap useful research pleas cite public metawrap flexibl pipelin genomeresolv metagenom data analysishttpsmicrobiomejournalbiomedcentralcomarticless certain softwar wrap metawrap integr investig eg salmon maxbin spade kraken etc pleas give credit well error report massiv scale metawrap project unfortun mean lot opportun differ compon fail depend exact environ instal note metawrap simpli bash wrapper around popular bioinformat program one program fail first thing troubleshoot instal softwar worri metawrap compon fix one compon refus work environ may much also rememb know bit bashshel alway see metawrap call program investig possibl changingtweak script file binmetawrapmodul error bug relat actual metawrap softwar pleas open new issu thread github page howev note longer activ support metawrap due move job report error pleas includ full output stdout stderr metawrap version use run metawrap v acknowledg author pipelin gherman uritskiyhttpsgithubcomurski princip investig jame taylorhttpbiojhuedudirectoryjamestaylor jocelyn diruggierohttpbiojhuedudirectoryjocelynediruggiero institut john hopkin depart cell molecular development biolog biophysicshttpcmdbjhuedu updat featur better plot pleas use dominik laetsch blobtool httpsdrlgithubioblobtool blobolog blaxter lab institut evolutionari biolog univers edinburgh goal creat blobplot taxonannotatedgccoverag plot tagc plot visualis content genom assembl data set qc step repositori accompani paper blobolog explor raw genom data contamin symbiont parasit use taxonannot gccoverag plot sujai kumar martin jone georgio koutsovoulo michael clark mark blaxter submit frontier bioinformat comput biolog special issu qualiti assess control highthroughput sequenc data contain bashperlr script run analysi present paper creat preliminari assembl creat collat gc content read coverag taxon annot preliminari assembl visualis figur paper show tagc plotsblobplot caenorhabd sp figur caenorhabd sp prelim assembl blobplothttpsrawgithubcomblaxterlabblobologymasterpascaffoldsfabowtietxttaxlevel_orderpng note updat code githubcomsujaikumarassemblag use thesi could updat code repositori enough thing chang basic file format well thought made sens creat new repo pleas use version instal git clone gitgithubcomblaxterlabblobologygit add directori path eg export pathpathpathtoblobolog also need follow softwar path samtool test version httpsourceforgenetprojectssamtoolsfilessamtool r test version ggplot r graphic packag test ggplot_ abyss option alreadi preliminari assembl anoth assembl test version compil mpi httpwwwbcgsccaplatformbioinfosoftwareabyssreleas fastqmcf need alreadi qualiti adapt trim read eautil suit test version httpseautilsgooglecodecomfileseautilstargz follow databas ncbi nt blast download ftpftpncbinlmnihgovblastdb nttargz wget ftpftpncbinlmnihgovblastdbnttargz nttargz tar xzf done gnu parallel instal highli recommend parallel tar xzf nttargz ncbi taxonomi dump download ftpftpncbinlmnihgovpubtaxonomytaxdumptargz wget ftpftpncbinlmnihgovpubtaxonomytaxdumptargz tar xzf taxdumptargz nodesdmp namesdmp file need nodesdmp store taxon id parentchild relationship wherea namesdmp store common scientif name rerun exampl caenorhabd sp run blobologybashhttpsgithubcomblaxterlabblobologyblobmasterblobologybash repositori comment line dont need eg prefer use differ assembl preliminari assembl differ align tool map read broad overview pipelin figur paper img srcblobologymethodoverviewpng altfigur broad overview pipelin width height run blobolog pipelin sequenc data run blobologybashhttpsgithubcomblaxterlabblobologyblobmasterblobologybash repositori thing realli need chang read file abyss bowti step even step wont need alreadi preliminari assembl bam file align raw read back assembl tab separ valu tsv text file creat gc_cov_annotateplhttpsgithubcomblaxterlabblobologyblobmastergc_cov_annotatepl ggplot r visualis data use blobsplor blobsplor visualis tsv file creat code martin jone avail githubcommojonesblobsplor separ contig read base blobplot visualis see separate_readsbashhttpsgithubcomblaxterlabblobologyblobmasterseparate_readsbash repositori command use remov contamin caenorhabd sp preliminari assembl data set requir devis posit keep contig read interest neg discard contig read belong contamin filter readmemd blobologydev input format legaci format column id len gc cov cov cov taxlevel taxlevel taxlevel taxlevel type str int float float float float str str str str exampl id len gc cov cov cov taxlevel_speci taxlevel_ord taxlevel_phylum taxlevel_superkingdom contig danio rerio cypriniform chordata eukaryota contig annot annot annot annot eval format gc_cov_annotate_vpl evalu requir blast outfmt qseqid taxid std column id len gc cov cov cov taxlevel taxlevel taxlevel taxlevel eval type str int float float float float str str str str scientif exampl id len gc cov cov cov taxlevel_speci taxlevel_ord taxlevel_phylum taxlevel_superkingdom eval contig danio rerio cypriniform chordata eukaryota e contig annot annot annot annot na novel format inplement column id len gc cov tax eval type str int float float str scientif exampl id len gc cov tax eval contig covcovcov speciesdanio rerioordercypriniformesphylumchordatasuperkingdomeukaryota e contig covcovcov speciesnot annotatedordernot annotatedphylumnot annotatedsuperkingdomnot annot na depend blast bmtagger bowti bwa r checkm v fastqc v kraken kronatool megahit vge metabat concoct maxbin perl v python quast v r ggplot samtool spade v trim_galor python seaborn salmon taxatortk prokka detail depend gener python shell assembl spade v bwa r megahit vge quast v bin bwa r samtool metabat concoct maxbin bin_refin bwa r samtool kraken kraken_db standard_databas kronatool checkm v checkm_db standard spade v quant_bin salmon seaborn blobolog refseq_db ncbi_nt refseq_db ncbi_tax blast bowti perl v r ggplot kraken kraken kraken_db standard_databas kronatool read_qc fastqc v trim_galor bmtagger human_db hg classify_bin taxatorkt blastn ncbi_nt databas ncbi_tax databas annotate_bin prokka download checkm databas bash mkdir my_checkm_fold manual download databas cd my_checkm_fold wget httpsdataaceuqeduaupubliccheckm_databasescheckm_data___targz tar xvf targz rm gz cd need tell checkm find data run anyth checkm data setroot checkm prompt chose storag locat newer version checkm would run checkm data setroot pathtoyourdirmy_checkm_fold that checkm use folder content databas download kraken standard databas note metawrap v recomend use kraken instead origin kraken see note download entir refseq databas index take lot comput power storag space ram databas build need gb space gb ram core take hour note need intend run kraken modul bash krakenbuild standard thread db my_kraken_databas krakenbuild db my_kraken_databas clean forget set kraken_db variabl configmetawrap file run configmetawrap find bash kraken_dbpathtomydatabasemy_kraken_databas download kraken standard databas note compar kraken kraken databas consider compact make download index process much faster less tax system need estim gb ram gb space note need intend run kraken modul bash krakenbuild standard thread db my_kraken_db forget set kraken_db variabl configmetawrap file run configmetawrap find bash kraken_dbpathtomydatabasemy_kraken_databas download ncbi_nt blast databas bash mkdir ncbi_nt cd ncbi_nt wget ftpftpncbinlmnihgovblastdbnttargz nttargz tar xzf done note use recent blast verion beyond v need newer databas format wget ftpftpncbinlmnihgovblastdbvnt_vtargz forget set blastdb variabl configmetawrap file bash blastdbyourlocationofdatabasencbi_nt download ncbi taxonomi bash mkdir ncbi_tax cd ncbi_tax wget ftpftpncbinlmnihgovpubtaxonomytaxdumptargz tar xvf taxdumptargz forget set taxdump variabl configmetawrap file run configmetawrap find bash taxdumpyourlocationofdatabasencbi_tax make host genom index bmtagger want remov human see end instrut nonhuman host read tour sequenc read_qc modul need dowlnoad index human genom see offici bmtagger manual detail instruct httpswwwhmpdaccorghmpdochumansequenceremoval_soppdf first let download merg human genom hg bash mkdir bmtagger_index cd bmtagger_index wget ftphgdownloadsoeucscedugoldenpathhgchromosomesfagz gunzip fagz cat fa hgfa rm chrfa let index human genom note file name indec must exactli specifi metawrap recogn also note index take consider memori time pass gb ram paramet bash bmtool hgfa hgbitmask srprism mkindex hgfa hgsrprism note metawrap look file hgbitmask hgsrprism make sure name exactli like done dont forget specifi bmtagger_db variabl configmetawrap file run configmetawrap find bash bmtagger_dbpathtoyourindexbmtagger_index instruct nonhuman host nonhuman host protocol build use bmtagger index end need th srprism bitmask index file bmtagger_index directori link configmetawrap file run metawrap read_qc need use x option specifi prefix host exampl bmtagger_index directori file pigsrprism pigbitmask use x pig option updat latest version metawrap constantli improv week week bug issu pop scale project almost imposs get perfect work version depend softwar constantli chang recommend updat newest version metawrap monthli basi updat back configmetawrap file redo databas configur updat conda conda updat c urski metawrapmg specif version conda instal c urski metawrapmg use recommend manual instal metawrap simpli run git pull insid metawrap directori also note possibl th eupdat produc strang behavior complex conda environ experi issu safest way delet old metawrapenv environ rm r minicondaenvsmetawrapenv reinstal scratch best manual instal usual use metawrap manual instal metawrap better control environ abl chang program version see fit also easili get lastest updat throught git pull instal system linux may best bet hardest part instal relev prerequisit programshttpsgithubcombxlabmetawrapblobmasterconda_pkgmetayaml much easier would think use conda instal environ download clone ripositori care configur metawrapbinconfigmetawrap file add metawrapbin directori path like edit bash_profil altern copi metawrapbin content locat excecutbal permiss usrbin minicondabin depend permiss that easiest way quickli instal depend note order import conda config add channel default conda config add channel condaforg conda config add channel bioconda conda config add channel urski unixlinux conda instal onlydep c urski metawrapmg conda instal biopython bla blast bmtagger bowti bwa checkmgenom fastqc kraken krona matplotlib maxbin megahit metabat panda prokka quast rggplot rrecommend salmon samtool seaborn spade trimgalor note last solut univers may need manual instal concoct pplacer basic instal start download minicondahttpsrepocontinuumiominicondaminicondalatestlinuxx_sh instal bash wget httpsrepocontinuumiominicondaminicondalatestlinuxx_sh bash minicondalatestlinuxx_sh add channel conda environ instal metawrap support linux bash note order import conda config add channel default conda config add channel condaforg conda config add channel bioconda conda config add channel urski conda instal c urski metawrapmg note may take fix concoct endless warn messag metawrap run conda instal blasmkl better instal conda instal metawrap instal softwar depend may caus conflict currenli instal packag alreadi use conda strongli recommend set conda custom environmenthttpscondaiodocsuserguidetasksmanageenvironmentshtml instal metawrap way current conda environ metawrap environ conflict bash conda creat n metawrapenv python sourc activ metawrapenv note order import conda config add channel default conda config add channel condaforg conda config add channel bioconda conda config add channel urski conda instal c urski metawrapmg note may take fix concoct endless warn messag metawrap run conda instal blasmkl bioconda instal metawrap also avail bioconda channel howev distribut recommend user push major releas bioconda ie v v sourc meant specif applic requir bioconda distribut get latest version metawrap newest patch bug fix pleas instal c urski channel seen bioconda instal recommend conda instal c bioconda metawrap docker instal run osx dont want instal manual prefer work container environ dockerhttpsquayiorepositorybiocontainersmetawraptabinfo could way go howev bioconda distribut push major releas bioconda ie v v get latest version metawrap newest patch bug fix pleas instal c urski channel seen still need use docker run bug fix latest version manual updat script repositori appli recent patch instal docker run docker instal recommend docker pull quayiobiocontainersmetawrap