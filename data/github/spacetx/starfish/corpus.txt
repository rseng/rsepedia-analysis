updat requir updat document import match_histogram skimageexposur add necessari coord intensityt use nearest neighbor strategi fix localmaxpeakfind spot_prop filter bump napari fix spot_id handl build_traces_sequenti label_assign reorgan exampl galleri made clarif exampl pipelin format ad imag registr tutori add assign spot cell doc add quick start tutori updat starfish instal guid joss submiss add imag segment doc chang return valu pixeldecod decodedintensityt ensur localmaxpeakfind work deprec is_volum paramet trackpi fix ondemand calcul binarymaskcollect regionprop remov workaround nond imag improv from_code_array valid add group_bi tilefetcherbas imagestack construct add level_method clip filter ad method use instal ilastik instanc creat tilefetcherbas constructor imagestack ad mous v human exampl starfishdata ad method binari mask collect import label imag extern sourc like ilastik remov starfishtypesclip move watersh segment morphologybinar morphologyseg link avail dataset load data section document workaround python wrap skimag watersh add support target assign pipelin compon implement merg binarymaskcollect mechan reduc multipl mask one bump slicedimag make mapreduc api intuit updat roadmap reflect h plan ad aw scale vignett use threshold binar mask filter exist watersh code ad spot id pixel result implement label algorithm threshold binar convers algorithm area filter binari mask fix stain gener watersh use new level modul linear imag level add axi label display clip method richardson luci filter mask collect provid appli method binari mask collect ad convienc method slice codebook data fix display test code addit builder binarymaskcollect method uncrop binari mask improv coordin handl code binarymaskcollect labelimag creat arraylik type verifi binari mask gener empti label imag add morpholog packag hold binarymaskcollect labelimag respect oper fix travi support multipl codeword target updat data model binarymaskcollect test codebookto_json open_json simplifi dockerfil switch version exclus scikitimag workaround clean binari mask ad extra feild spotfindingresult delet decod detect modul lieu spot find refactor fix instal issu upgrad slicedimag updat vocabulari labelimag io oper add label imag data type remov deprec code fix bug codebookto_json dont fill new imagestack nan renam segmenationmaskcollect binarymaskcollect remov hack forc anonym memori map osx log improv make regionprop avail per mask dont use mypi chang test code use new spot find modul refactor allen smfish new spot find clean max project use mask fill produc label imag replac instanc starfishimagefilterreduc imagestackreduc implement starmap spot find refactor add __slots__ class subclass xrdataarray convert segmentationmaskcollect dictlik object test case multiprocess imagestack mask fill method add mapreduc method imagestack unifi functionsourc map reduc iss refactor new spot find path fix bug perroundmaxdecod fix dimens order codebook intensityt provan log refactor support spotfindingresult napari releas starfishdisplay unpin napari version add test view mask separ ad coordin support spotfindingresult ad new spotfindingresult data structur new packag switch python multithread dont wast memorycomput preserve_float_rang get rid share state localmaxpeakfind map filter func pass appli transform use posit argument import segmentationmaskcollect main starfish enabl window build master throw warn data size unusu updat document data formatt add abil convert segment mask label imag in_placetru return none downgrad pypars fix unicod issu templat add issu templat updat requir bump slicedimag ondemand load data get rid checkrequir cron job fix travi build remov duplic file remov cli updat inplac experi write use new writercontract api slicedimag data set formatt fix filenam instanti multiprocess pool use slight optim pixel decod easi point starfishdataosmfish new dataset easi warn deprec maxproject filter refactor reduc take option modul function name codifi expect inplac experi construct reli tilefetch data warn return empti spotattribut pixeldecod find spot updat datamerfish link full dataset renam tile_coordin tile_identifi support irregular imag builder fix structur run notebook rule updat load data doc ad imag napari viewer format complet iss experi expos starfishdata add concaten method expressionmatrix add transformslist __repr__ fix smfish notebook well add custom clip filter class fix smfish notebook add filterreduc gener dimens reduct imagestack handl denorm number normal intensitiescodebook tilefetch format complet fov merfish dataset refactor fovgetimag fovgetimag add abil write label experi add inplac tilefetch modul back public builder api alway creat z coordin even dataset creat allpurpos imagestack factori remov physical_coordinate_calculatorpi imagestack parser provid coordin array bump slicedimag creat standard starfishwdl run recip file easi fix spot detect label axe schema version add miss paramet wrapper trackpi local max peak finder fix physic coordin calcul fix spot detect label data ad back abil crop fovget_imag rfc base call filter situ sequenc preserv subpixel offset spot detect publicpriv separ recip recip execut smfish notebook seqfish notebook ad window instal instruct vector label spot lookup vector imagestack intensity_t coordin transfer fix restor nonindex axe allow intens tabl label axe imagestack select physic coordin fix clipscale_by_imag updat baristaseq text fix linearunmix updat starmap notebook spacejam replac label imag segment mask baristaseq plot tool updat intens tabl concat process updat strict requir high level goal detect spot accept imagestack numpi array remov crop pixelspotdetector add localsearchblobdetector support baristaseq seqfish starmap indirect file click type move registr test next sourc test verifi inplac experi construct work addit support code build experi inplac transfer physic coord express matrix support hierarch directori structur experi pipelin compon learntransform applytransform restructur relationship pipelinecompon algorithmbas ad abil pass align group imagestackfrom_path_or_url add decod spot tabl enabl append exist napari viewer display chang tile shape dict default add elementwisemult filter pipelin compon add linear unmix pipelin compon spiritu bag imag refactor part add proven log last releas without changelog httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag httpsgithubcomspacetxstarfishreleasestag titl starfish scalabl pipelin imagebas transcriptom tag python xarray skimag microscopi imag biolog singl cell biolog spatial transcriptom merfish situ sequenc osmfish smfish baristaseq dartfish starmap seqfish author name shannon axelrod affili name matthew cai orcid affili name ambros j carr orcid affili name jeremi freeman orcid affili name deep ganguli affili name justin kiggin orcid affili name brian long orcid affili name toni tung affili name kevin yamauchi orcid affili affili name chan zuckerberg initi index name allen institut brain scienc index name chan zuckerberg biohub index date april bibliographi paperbib summari explod field singl cell transcriptom begun enabl deep analysi gene express cell type spatial context lost prepar tissu assay recent develop biochemistri microfluid microscopi come togeth bring alphabet soup technolog enabl sampl gene express situ vari level spatial resolut sensit genet depth technolog promis permit biologist ask new question spatial relationship cell type interact gene express cell morpholog howev assay gener larg microscopi dataset challeng process use gener microscopi analysi tool furthermor mani assay requir special analysi decod gene express multiplex experiment design statement need starfish python librari process imag gener microscopybas spatial transcriptom assay let biologist build scalabl pipelin local quantifi rna transcript imag data gener hybrid sequencingbas situ transcriptom method classic rna singlemolecul fish combinatori barcod assay imag process experi divid field view fov correspond data produc microscop singl locat microscop slide starfish let user regist preprocess imag fov local spot repres tag rna molecul decod ident molecul accord experiment design segment cell assign spot cell aggreg spot cell x gene express matrix spatiallyannot gene express matrix analyz visual downstream tool singlecel biolog seurat seurat bioconductor bioconductor scanpi scanpi cellxgen cellxgen enabl larg scale process data starfish leverag dimension imag data model x z round channel back cloudfriendli spacetxformat file format slicedimagehttpsgithubcomspacetxslicedimag interfac lazi distribut load spacetxformat dataset furthermor starfish implement comprehens log data process step proven track reproduc transpar starfish built top popular python tool like xarray xarray scikitimag scikitimag number tool support local quantif spot fluoresc microscopi imag includ imagej cellprofil howev tool support multiplex decod gene target necessari mani assay tool design specif handl kind assay starfish support includ dotdotdothttpsgithubcomlieberinstitutedotdotdot dotdotdot matlab toolbox design rnascop assay pysmfishhttpsgithubcomlinnarssonlabpysmfish python packag design smfish assay smartqhttpsgithubcomshenlabucsfsmartq fork earlier develop releas starfish ad support immunostain featur smartq starfish requir work knowledg python fluoresc imag analysi user creat analysi pipelin help new user get start support broader singl cell biolog commun learn work data starfish maintain exampl dataset refer implement port publish assay includ merfish merfish situ sequenc iss osmfish osmfish baristaseq baristaseq smfish smfish dartfish dartfish starmap starmap seqfish seqfish take advantag starfish support larg scale process user must familiar cluster cloud comput starfish develop alongsid spacetx projecthttpsspacetxstarfishreadthedocsioenstableaboutindexhtml czifund effort compar spatial transcriptom method context determin cell type brain starfishsfn starfish current use multipl research group includ allen institut brain sciencehttpsalleninstituteorg chan zuckerberg biohubhttpswwwczbiohuborg zhang lab uc san diegohttpjinzhanglabucsdedu group support multipl largescal project profil situ gene express includ spacetx consortium human cell atlashttpswwwhumancellatlasorg brain initi cell censu networkhttpsbiccnorg hubmap consortiumhttpshubmapconsortiumorg acknowledg would like acknowledg follow contribut invalu develop starfish direct contribut code document thank olga botvinnik gökçen eraslan kira evan marcu kinsella nichola mei josh moor nichola sofroniew ola tarkowska would like thank member spacetx consortium work close us understand imag process step port pipelin starfish contribut exampl dataset especi would like thank jeff moffitt xiaowei zhuang help merfish pipelin exampl data marco mignardi mat nilsson help situ sequenc pipelin exampl data simon codeluppi sten linnarsson help osmfish pipelin exampl data xioayin chen anthoni zador help baristaseq pipelin exampl data richard que kun zhang help dartfish pipelin exampl data xiao wang william allen karl deisseroth help starmap pipelin exampl data dan goodwin ed boyden help exfish pipelin exampl data nico pierson sheel shah long cai help seqfish pipelin exampl data deni shapiro help imag mass cytometri exampl data brian long would like thank allen institut founder paul g allen vision encourag support final would like thank scienc technolog team singl cell program chan zuckerberg initi support work refer name ufd user stori templat user stori titl label featur assigne _______________________ want _______________________ _______________________ accept criteria b happen also point need address constraint constraint constraint resourc sketch goe url sketch note complementari note necessari goe quot email goe whatev use inform exist name ufb bug report creat report help us improv titl label bug assigne descript exampl joblib error thrown call fit latentdirichletalloc evaluate_everi stepscod reproduc code long feel free put public gist link issu httpsgistgithubcom expect result exampl error thrown pleas past describ expect result actual result pleas past specif describ actual output traceback version import platform printplatformplatform import sy printpython sysvers import numpi printnumpi numpy__version__ import scipi printscipi scipy__version__ import skimag printscikitimag skimage__version__ import panda printpanda pandas__version__ import sklearn printsklearn sklearn__version__ import xarray printxarray xarray__version__ import sympi printsympi sympy__version__ import starfish printstarfish starfish__version__ thank contribut name u featur request suggest idea project titl label featur assigne featur request relat problem pleas describ clear concis descript problem ex im alway frustrat describ solut youd like clear concis descript want happen describ altern youv consid clear concis descript altern solut featur youv consid addit context add context screenshot featur request spacetx imag format specif introduct document describ spacetx file format specif imagebas biolog assay spacetx format design support construct data tensor gener approach taken sequenti singlemolecul fish assay identifi target build code multipl imag round these assay produc imag form data tensor data tensor contain seri x planar imag plane repres specif zplane imag channel c imag round r togeth form dimension tensor r c z x serv gener represent imagebas transcriptom proteom assay substrat starfish packag format selfdescrib specifi set imag form field view multipl field view interact form larger experi spacetx format accomplish combin imag store dimension imag format seri json file describ organ imag file dimension imag tensor combin imag metadata pipelin recip defin elsewher file enabl pipelin gener desir output spatial assay gene express matrix augment spatial locat transcript cell format specif tabul minimum set requir json file describ imag data spacetx experi brief descript purpos type descript experi link data manifest codebook togeth manifest file locat field view field view describ individu imag plane form imag tensor codebook map pattern intens channel round field view target molecul input type file format describ detail follow section experi data manifest json file tie togeth inform data imag auxiliari imag like nuclear stain codebook need decod experi file read starfish load data analysi environ exampl json version imag primari primary_imagesjson nuclei nucleijson codebook codebookjson extra is_space_tx_cool true manifest primary_imagesjson nucleijson file referenc experimentjson may contain link field view manifest simpl experi one field view field may also directli refer field view manifest simpl associ field view name json file defin field view exampl demonstr primari imag manifest three field view experi would like also nuclei manifest would _also_ contain three field view json version content fov_ primaryimagesfov_json fov_ primaryimagesfov_json fov_n primaryimagesfov_json extra null field view field view complex file spacetx format must creat data tensor auxiliari imag tensor experi provid two key type inform inform field view inform tile contain field_of_viewjson file specifi shape imag tensor includ size x imag pixel number zplane imag channel imag round experi thu imag tensor shape r c z x though x limit pixel experi leverag concept valu simpli set one dimens tensor ignor exampl smfish experi leverag multipl imag round shape c z x individu tile field view specifi portion tensor tile correspond provid indic tile r c z locat tile sha hash file data guard corrupt final tile also specifi coordin imag physic space rel experimentwid refer point specifi micromet exampl describ channel round barcod experi sampl tissu section use discret zplane concis tile data truncat show inform two tile practic would tile json default_tile_format tiff dimens z xc x yc zc c r extra shape c r z tile coordin xc yc zc file primaryfov_crztiff indic c r z sha bbdfabaefacfecbabdfbbfddf tile_format tiff tile_shap x coordin xc yc zc file primaryfov_crztiff indic c r z sha aecdbafbadcafaabcbacbddf tile_format tiff tile_shap x version _sptx_codebook_format codebook final part spacetx specif codebook describ intens detect imag tensor correspond target assay codebook array object array list codeword target correspond codeword made one json object describ expect intens valu tile specif channel round combin smfish experi channel correspond differ target one imag round codebook simpl json version map codeword c r v target scube codeword c r v target brca codeword c r v target actb exampl channel correspond scube brca actb respect contrast barcod experi may complex codebook json version map codeword r c v r c v target scube codeword r c v r c v target brca codeword r c v r c v target actb exampl describ code scheme experi round channel code expect exactli two imag four produc signal given target exampl spot imag tensor would decod scube spot detect round channel round channel note codebook state opinion nonzero expect fluoresc valu design distinguish liter miss valu would impli fluoresc level exampl follow two codeword treat ident distinguish level codebook json r c v r c v r c v librari leverag spacetx format implement logic support distinct type implement flag allow user specifi whether miss zero round channel combin instanti null latter need support smfish experi round channel pair code separ gene fluoresc intens channel _irrelevant_ consid decod function flexibl codebook format describ code scheme also increas potenti error make codebook go undetect starfish valid codebook command use check egregi mistak way ensur codebook correct good understand format inspect json file json schema json file compris spacetx imag fileset valid one sever jsonschema draft httpjsonschemaorgspecificationlinkshtmldraft schema locat descript codebookcodebookjson map pattern intens channel round field view target molecul codebookcodewordjson describ individiu code contain codebook experimentjson toplevel object map manifest codebook togeth extrasjson extens point use multipl schema store keyvalu pair field_of_viewtilesindicesjson describ categor indic channel round zsection tile field_of_viewtilescoordinatesjson physic coordin tile field_of_viewtilestilesjson specif imag tile field_of_viewfield_of_viewjson imag consist multipl imag tile fov_manifestjson manifest list one json file describ field view versionjson gener purpos version specif use multipl schema see api usag document valid document jsonschema code commandlin respect contribut starfish your read section your probabl interest contribut starfish welcom thank interest contribut contribut starfish design specifi pipelin recip imag process support use librari compos seri pipeline_compon modul object subclass pipeline_compon spawn commandlin interfac ident track api python librari typic starfish run consist run one imag process filter stage identifi featur either spot pixelbas approach identifi featur decod gene correspond map fluoresc channel option hybrid round use codebook final filter data segment identifi cell featur belong creat new algorithm exist pipeline_compon exampl add new imag filter one would creat new python file new_filterpi starfishcoreimagefilt directori find correspond algorithmbas compon filter filteralgorithm found starfishcoreimagefilter_basepi import base new_filterpi new algorithm subclass eg creat class newfilterfilteralgorithm implement requir method base class that point someth get confus possibl look exist pipelin compon categori guidanc implement report bug bug contribut issu starfish repositori pleas check make sure exist issu describ problem identifi ad bug report issu pleas includ much detail possibl oper system starfish version slicedimag version python version whenev possibl pleas also includ brief selfcontain code exampl demonstr problem includ full traceback code contribut dont break build pull request expect pass autom ci check run check local run make starfish repositori root pull request comment must address even merg code must review least team member code must type paramet possibl type return call see pep httpswwwpythonorgdevpepspep_ also encourag ration use inlin variabl annot type newli defin object clear see pep httpswwwpythonorgdevpepspep_ code must document accord numpydoc httpsnumpydocreadthedocsioenlatest_ style guidelin numpi provid excel develop workflow httpsdocsscipyorgdocnumpydevgitwashdevelopment_workflowhtml_ encourag follow develop featur starfish commit must inform summari tri think still make sens look back next year pull request describ test plan merg pull request squash commit smallest logic number commit case singl commit suffic use squash merg strategi sinc add pr number commit name multipl commit remain use rebas merg notebook contribut ipynb file correspond py file use nbencdec httpsgithubcomttungnbencdec_ gener correspond py file py file allow refactor command codebas find code py file import keep notebook work starfish evolv project track starfish team use zenhub httpsappzenhubcomworkspacesstarfishdevbebcebfdbboard_ track team progress upcom engin raodmap would like see team board github correct render epic issu recommend download chrome extens httpswwwzenhubcomextension_ starfish scalabl pipelin imagebas transcriptom imag docssource_staticdesignlogopng scale imag httpsimgshieldsiobadgedynamicjsonsvglabelforumurlhttpsaffforumimagescftagsfstarfishjsonquerytopic_listtagstopic_countcolorbbrightgreensuffixtopicslogodataimagepngbaseivborwkggoaaaansuheugaaaaaaaaocayaaaafscraaabpkleqvrmsyyqfurtaybertdyexzaspikulpiitfzkeqwxwhblqrmfguzmmflkzegubuydpncvupdeegohuyyadgoyyacqjmqvofujomrhnfoagmhboqqbtjhdxhaarcuuxekovwhvwikljckbrivqglmwejaneeovnoeabhzalgtorycicwhejjyxgwezitpkmypplcnyhdoyefnbkydmnngzjyezwhaibfrtqoazyqpgyhmmtotgouktywxuxshgwlllxkxfjrjltagabtpvygwrrqyewgnysqxjfpwiarysabxtkirfkfjaygjtpoficcamuhmjxyksxioihhioshakbwbeujbkaaaaaelftksuqmcc target httpsforumimagesctagstarfish alt imagesc forum imag httpsimgshieldsiopypivstarfish target httpspypiorgprojectstarfish alt pypi imag httpsimgshieldsiopypidmstarfish target httpspypistatsorgpackagesstarfish alt pypi download imag httpsreadthedocsorgprojectsspacetxstarfishbadgeversionlatest target httpsspacetxstarfishreadthedocsioenlatestbadgelatest alt document statu imag httpstraviscicomspacetxstarfishsvgbranchmast target httpstraviscicomspacetxstarfish imag httpscodecovioghspacetxstarfishbranchmastergraphbadgesvg target httpscodecovioghspacetxstarfish starfish python librari process imag imagebas spatial transcriptom let build scalabl pipelin local quantifi rna transcript imag data gener fish method simpl rna singlemolecul fish combinatori barcod assay starfish enterpris find rna pattern singl cell httpswwwnaturecomarticlesd_ natur technolog featur aug develop comput pipelin benchmark dataset imagebas transcriptom httpswwwascborgsciencenewsdevelopingacomputationalpipelineandbenchmarkdatasetsforimagebasedtranscriptomics_ ascb scienc news dec document see spacetxstarfishreadthedocsio httpsspacetxstarfishreadthedocsioenlatest_ quickstart httpsspacetxstarfishreadthedocsioenlatestgalleryquick_startplot_quick_starthtml_ user guid httpsspacetxstarfishreadthedocsioenlatestuser_guide_ exampl httpsspacetxstarfishreadthedocsioenlatestgallery_ api httpsspacetxstarfishreadthedocsioenlatestapi_ instal starfish support python easili instal pypi codeblock bash pip instal starfishnapari detail instal instruct see httpsspacetxstarfishreadthedocsioenlatestinstallation_ python version notic starfish drop support python next releas due minimum python version requir upstream depend contribut welcom contribut user see contributingrst_ develop guide_ inform _develop guid httpsspacetxstarfishreadthedocsioenlatestdeveloper_guid _contributingrst httpsgithubcomspacetxstarfishblobmastercontributingrst help support question forum ask imagesc forum httpsforumimagesctagstarfish_ email starfishchanzuckerbergcom mailtostarfishchanzuckerbergcom_ raw html style banner_img background url_staticdesignivanacajinaasuyh_zxunsplashpng norepeat center photo ivana cajina unsplash backgrounds cover style div classjumbotron jumbotronfluid idbanner_img div classcontainerfluid hstarfish scalabl pipelin imagebas transcriptomicsh div styleclear bothdiv div classcontainerfluid div classrow div classcollg div classbscompon typebutton classbtn btnprimari hrefgalleryquick_startplot_quick_starthtmlquickstartbuttona typebutton classbtn btnprimari hrefhttpsgithubcomspacetxstarfishgithubbuttona typebutton classbtn btnprimari hrefhttpsforumimagesctagstarfishus supportbuttona div div div div div div br div classcontainerfluid div classrow div classcolmd br starfish python librari process imag imagebas spatial transcriptom let build scalabl pipelin local quantifi rna transcript imag data gener fish method simpl rna singlemolecul fish combinatori barcod assay imag process experi divid field view fov correspond data produc microscop singl locat microscop slide fov process tabl spot local spot aggreg cell x gene express matrix compar physic posit spot cell want give tri refquick start tutori quick start guid instal run pipelin minut comprehens instruct use starfish see user guid refcreat imagebas transcriptom process pipelin user_guid organ contextu tutori run starfish use api final advanc user examin refdata structur data structur refhelp refer help refer section learn detail starfish object model addit librari imag process function starfish introduc standard data format imagebas spatial transcriptom assay exampl tutori format data spacetx format found refsection_formatting_data raw html div div classcolmd hfeaturesh format data refapiexperiment_build reftutorialsection_formatting_data regist imag refapilearn_transform reftutorialtutorial_image_registr filter imag refapifilt reftutorialsection_correcting_imag find spot refapispot_find reftutorialsection_finding_and_decod decod spot refapidecode_spot reftutorialsection_finding_and_decod segment cell refapisegment reftutorialsection_segmenting_cel assign spot refapitarget_assign reftutorialtutorial_assigning_spot exampl pipelin refgallerypipeline_exampl raw html div div classcolmd hcontentsh toctre maxdepth installationindex user_guideindex galleryindex help_and_referenceindex apiindex developer_guideindex aboutindex raw html div div div _contribut develop guid welcom thank interest contribut contribut starfish design specifi pipelin recip imag process support use librari compos seri pipeline_compon modul object subclass pipeline_compon spawn commandlin interfac ident track api python librari typic starfish run consist run one imag process filter stage identifi featur either spot pixelbas approach identifi featur decod gene correspond map fluoresc channel option hybrid round use codebook final filter data segment identifi cell featur belong instal starfish develop mac make sure xcode commandlin tools_ instal check code starfish set virtual environment_ _xcode commandlin tool httpsdeveloperapplecomlibraryarchivetechnotestn_indexhtml _virtual environ usingvirtualenviron codeblock bash git clone gitgithubcomspacetxstarfishgit cd starfish instal starfish codeblock bash make installdev creat new algorithm exist pipeline_compon exampl add new imag filter one would creat new python file new_filterpi starfishcoreimagefilt directori find correspond algorithmbas compon filter filteralgorithm found starfishcoreimagefilter_basepi import base new_filterpi new algorithm subclass eg creat class newfilterfilteralgorithm implement requir method base class that point someth get confus possibl look exist pipelin compon categori guidanc implement report bug bug contribut issu starfish repositori pleas check make sure exist issu describ problem identifi ad bug report issu pleas includ much detail possibl oper system starfish version slicedimag version python version whenev possibl pleas also includ brief selfcontain code exampl demonstr problem includ full traceback code contribut dont break build pull request expect pass autom ci check run check local run make starfish repositori root pull request comment must address even merg code must review least team member code must type paramet possibl type return call see pep httpswwwpythonorgdevpepspep_ also encourag ration use inlin variabl annot type newli defin object clear see pep httpswwwpythonorgdevpepspep_ code must document accord numpydoc httpsnumpydocreadthedocsioenlatest_ style guidelin numpi provid excel develop workflow httpsdocsscipyorgdocnumpydevgitwashdevelopment_workflowhtml_ encourag follow develop featur starfish commit must inform summari tri think still make sens look back next year pull request describ test plan merg pull request squash commit smallest logic number commit case singl commit suffic use squash merg strategi sinc add pr number commit name multipl commit remain use rebas merg notebook contribut ipynb file correspond py file use nbencdec httpsgithubcomttungnbencdec_ gener correspond py file py file allow refactor command codebas find code py file import keep notebook work starfish evolv debug error first thank use starfish spacetxformat feedback provid featur user experi critic make starfish success tool iter quickli feedback add new featur thing chang often result code get sync data happen may observ error time fix problem pull recent version code reinstal starfish restart environ your use starfish dataset spacetx locat cloudfront distribut commit keep data date updat version notebook refer correct data version copi new link fix issu exampl notebook refer insitu sequenc data august rd break chang occur septemb th would necessari replac experi link point data updat work postupd codeblock diff httpspacetxstarfishdatapublicsamazonawscombrowseformattediss_breastexperimentjson httpspacetxstarfishdatapublicsamazonawscombrowseformattediss_breastexperimentjson your use data starfish may need rerun data ingest workflow base pyclassstarfishexperimentbuilderproviderstilefetch pyclassstarfishexperimentbuilderprovidersfetchedtil gener uptod version spacetxformat upgrad new version youv instal pypi upgrad simpl reinstal starfish codeblock bash pip instal upgrad starfish youv instal develop version take advantag new featur real time youll need fetch chang reinstal assum youv clone respositori starfish instal newest version follow codeblock bash cd starfish git checkout master git pull pip instal report bug bug contribut issu starfish repositori pleas check make sure exist issu describ problem identifi ad bug report issu pleas includ much detail possibl oper system starfish version slicedimag version python version much accomplish send us output pip freez codeblock bash pip freez environmenttxt whenev possibl pleas also includ brief selfcontain code exampl demonstr problem includ full traceback _instal instal starfish support python python recommend instal starfish packag first verifi python version compat check run codepython version output look similar codeblock bash python version python warn starfish known issu python scikitimag fulli compat python instal scikitimag part starfish instal may unexpectedli fail workaround instal numpi first instal starfish scikitimag use virtual environ starfish list minimum version depend access new featur algorithm uptod packag may creat conflict exist script packag recommend use virtualenv_ creat work folder set virtual environ like _virtualenv httpspackagingpythonorgtutorialsinstallingpackagescreatingvirtualenviron codeblock bash mkdir starfish cd starfish python venv venv sourc venvbinactiv conda_ user set one like _conda httpswwwanacondacomdistribut codeblock bash conda creat n starfish python conda activ starfish instal starfish starfish easili instal use pip codeblock bash pip instal starfish note use python first instal numpi use pip instal starfish use napari interact imag visual via pyfuncdisplay must also instal napari codeblock bash pip instal starfishnapari interact visual napari also requir use qt eg run magic command gui qt jupyt notebook ipython shell instal starfish window window user instal starfish way recommend use conda virtual environ python would instal starfish virtual environ creat python venv modul codeblock bat mkdir starfish cd starfish python venv venv venvscriptsactivatebat pip instal starfish pip instal starfishnapari note python troubl instal scikitimag v pip instal numpi workaround solv issu window jupyt notebook run starfish jupyt notebook recommend creat imag process pipelin add virtualenv kernel jupyt activ virtual environ codeblock bash python ipykernel instal user namevenv_nam abl select venv_nam kernel jupyt notebook access starfish librari _about starfish develop maintain scienc team chan zuckerberg initi began project support spacetx consortium spacetx consortium effort benchmark imag base transcriptom method appli differ method common tissu sourc standard raw data format use standard analysi pipelin _cite cite starfish cite starfish pleas use axelrod carr aj freeman j ganguli long b tung other starfish open sourc imag base transcriptom proteom tool httpgithubcomspacetxstarfish onlin access date here exampl bibtex entri misc author shannon axelrod ambros j carr jeremi freeman deep ganguli brian long toni tung other titl starfish open sourc imag base transcriptom proteom tool year url httpgithubcomspacetxstarfish note onlin access date _licens licens literalinclud licens _user_guid user guid welcom user guid build imag process pipelin use starfish tutori cover step necessari go raw imag singl cell gene express matrix minut tri starfish check refquick startquick start see demonstr starfish work starfish requir work knowledg python fluoresc imag analysi creat analysi pipelin readi learn build imag process pipelin use starfish read part tutori goe detail stage exampl need provid altern approach use build similar pipelin core function starfish pipelin detect termdecodingdecod spot segment cell approach design address variou characterist imag system optic characterist tissu sampl measur might bia result spot call decod cell segment decis part imag process alway need depend specif characterist tissu addit compon alway found order starfish flexibl enough omit pipelin stage disord typic order might match follow link show use compon starfish final section demonstr put togeth pipelin recip run experi _section_formatting_data format data order load experi starfish pipelin data must refspacetx formatsptx_format standard format util json file organ singleplan tiff imagebas spatial transcriptom data data want process isnt alreadi spacetx format method convert data note convert data spacetx format costli imag load directli without format reftilefetcher_load workaround recommend read write imag infeas experi json file like codebook still need creat primari method use pyfuncformat_structured_dataset convers tool data structur imag tile specif filenam csv file contain physic coordin imag tile method requir minim python knowledg manual organ imag larg dataset want use script eg matlab move renam file structur data format structur data must imag tile tiff png npi file format user familiar python starfish also option use pyclasstilefetch pyclassfetchedtil set userdefin interfac experi builder use obtain data correspond tile locat data format read numpi array use lastli rd parti spacetx writer_ write spacetxformat experi use bioformats_ convert bioformat read varieti input format might rel simpl approach user familiar tool _spacetx writer httpsgithubcomspacetxspacetxwrit _bioformat httpswwwopenmicroscopyorgbioformat convert use refstarfish validatecli_valid ensur experi file meet format specif load first time appli gener tool convert data timeconsum want tri starfish invest time format data use one refformat exampl dataset dataset includ starfish librari tutori refformat structur dataformat_structured_data tutori refformat tilefetcherformat_tilefetch _section_loading_data load data data refspacetx formatsptx_format load whole experi starfish simpl option select termfov field view fov subset load memori mention previou section also possibl refdirectli load data tilefetcher_load format although may perform implic method also complic tutori refload spacetx format data loading_data tutori refload data without format tilefetcher_load _section_manipulating_imag manipul imag sometim use subset imag exampl exclud outoffocu imag crop edg effect spars data use project zvolum singl imag produc much faster process routin starfish support crop project pyclassimagestack pymethsel pymethreduc method tutori refcrop tutorial_crop tutori refproject tutorial_project _section_correcting_imag correct imag stage typic specif microscop camera filter chemistri tissu handl microfluidic involv captur imag step typic independ assay starfish enabl user design pipelin match imag system provid basic imag correct method tutori refillumin correct tutorial_illumination_correct tutori refimag registr tutorial_image_registr _section_improving_snr enhanc signal remov background nois stage usual specif sampl analyz exampl tissu often level autofluoresc caus cellular compart background nois intracellular region confound spot finder look local intens differ approach amelior problem tutori refremov autofluoresc tutorial_removing_autoflouresc _section_normalizing_intens normal intens assay design intens need compar termroundsimag round andor termchannelschannel order termdecodedecod spot basic exampl smfish spot label channel highest intens valu differ channel use differ fluorophor excit sourc etc imag differ rang intens valu background intens valu one channel might high signal intens valu anoth channel normal imag intens correct differ allow comparison made whether normal decis whether normal depend data decod method use next step pipelin pyclassimagestack approxim rang intens across round channel normal may trivial effect pixel valu starfish provid util function refimshow_planetutorial_imshow_plan refintensity_histogramtutorial_intensity_histogram visual imag intens distribut accur normal imag import plan decod featur pyclassmetricdist pyclasspixelspotdecod two algorithm use termfeatur tracefeatur spot pixel trace construct vector whose distanc vector use decod featur poorli normal imag systemat random variat intens bia result decod howev decod pyclassperroundmaxchannel compar intens channel round precis normal necessari long intens valu signal three channel greater background three channel featur decod correctli normal normal depend data key assumpt two approach normal imag starfish normal intens distribut know priori imag volum acquir everi channel andor everi round distribut intens intens distribut imag volum normal pyclassmatchhistogram typic mean number spot amount background autofluoresc everi imag volum approxim uniform across channel andor round tutori refnorm intens distributionstutorial_normalizing_intensity_distribut normal intens valu data set differ gene express lead much variat number spot channel round normal intens distribut would incorrectli skew intens instead use pyclassclip pyclassclippercentiletozero pyclassclipvaluetozero normal intens valu clip extrem valu rescal tutori refnorm intens valu tutorial_normalizing_intensity_valu _section_finding_and_decod find decod spot find decod bright spot uniqu core function starfish necessari everi imagebas transcriptom process pipelin input imag termfov field view fov along termcodebook codebook describ experiment design output decod termdecodedintensityt contain locat intens valu map termtarget target everi detect termfeatur featur everi assay use set rule termcodeword codeword codebook must follow eg target one hot channel round rule determin decod method starfish use see refsection_which_decoding_approach learn differ codebook design decod two diverg decod approach spotbas pixelbas use imagebas transcriptom commun come analyz spot imag imag _staticdesigndecoding_flowchartpng scale alt decod flowchart align center spotbas decod spotbas approach find spot imag volum base bright region rel surround build termspot tracefeatur spot pixel trace use appropri reftracebuildingstrategieshowto_tracebuildingstrategi spot trace map decod codeword codebook use pyclassdecodespotsalgorithm listtabl width auto headerrow use howto imag amen spot detect method refhowto_spotfindingresult data sequenti method like smfish refhowto_simplelookupdecod spot spars may align across round refus tracebuildingstrategiesnearest_neighbor howto_tracebuildingstrategi tutori refspotbas decod findspot decodespot tutorial_spot_based_decod pixelbas decod pixelbas approach first treat everi pixel termfeatur featur construct correspond termpixel tracefeatur spot pixel trace map codeword connect compon analysi use label connect pixel codeword rna spot tutori refpixelbas decod detectpixel tutorial_pixel_based_decod _section_which_decoding_approach decod pipelin use unsur spot find decod method compat data handi tabl summar three major termcodebook codebook design method use decod codebook doesnt fall categori make featur request github httpsgithubcomspacetxstarfishissuesnewchoose_ would love hear uniqu codebook design _tabcodebookdesign tabl class tablebord name linearli multiplex one hot exponenti exponenti multiplex multiplex assay sequenti smfish situ sequenc merfish rnascop seqfish dartfish osmfish fisseq seqfish starmap baristaseq exampl round linear onehot multiplex codebook diagram linear onehot multiplex descript codeword one codeword one hot codeword round channel round combin signal signal multipl round refer imag ye ye need starfish simplelookup exact_match pixelbas pipelin sequenti nearest_neighbor exact_match option perroundmaxchannel perroundmaxchannel metricdist metricdist nearest_neighbor metricdist linear imag _staticdesignlinear_codebook_png scale align middl linear imag _staticdesignlinear_codebook_png scale align middl onehot imag _staticdesignonehot_codebook_png scale align middl onehot imag _staticdesignonehot_codebook_png scale align middl multiplex imag _staticdesignmultiplex_codebook_png scale align middl multiplex imag _staticdesignmultiplex_codebook_png scale align middl _section_segmenting_cel segment cell unlik singlecel rna sequenc imagebas transcriptom method physic separ cell acquir rna inform therefor order character cell rna must assign singl cell partit imag volum accur unsupervis cellsegment open problem httpswwwkagglecomcdatasciencebowl_ biomed imag disciplin rang digit patholog neurosci challeng segment cell depend structur complex sampl qualiti imag avail exampl spars cell monolay strong cytosol stain would trivial segment dens heterogen popul cell tissu dapi stain imposs segment perfectli experiment side select good cell stain acquir imag low background make segment tractabl task mani approach segment cell imagebas transcriptom assay method implement integr starfish output pyclassbinarymaskcollect repres collect label object know segment method use safe bet start threshold watersh hand afford manual defin termroi region interest roi mask better way guarante accur segment note ground truth cell segment closest approxim manual segment expert tissu interest threshold watersh tradit method segment cell fluoresc microscopi imag threshold imag foreground pixel background pixel label connect foreground individu cell common issu affect threshold background nois correct preprocess imag threshold filter connect compon mani autom imag threshold algorithm httpsimagejnetthresholding_ current starfish requir manual select global threshold valu pyclassthresholdbinar overlap cell label one connect compon typic segment use distanc transform follow watersh algorithm httpswwwmathwork comcompanynewslettersarticlesthewatershedtransformstrategiesforimagesegment html_ watersh classic imag process algorithm separ object imag appli type imag pair distanc transform particularli use segment convex shape like cell segment pipelin consist threshold connect compon analysi watersh simpl fast implement accuraci highli depend imag qualiti signaltonois ratio cell stain must high enough minim error threshold binari oper nuclei cell shape must convex meet assumpt distanc transform els overseg starfish includ basic function build watersh segment pipelin predefin pyclasswatersh segment class use termprimari imagesprimari imag cell stain tutori refway segment threshold watershedtutorial_watershed_segment manual defin cell accur timeconsum approach manual segment imag use tool roi manag httpsimagejnetdocsguidehtmlfigtheroimanager_ fiji imagej straightforward process starfish support import termroi region interest roi set store zip archiv import pyclassbinarymaskcollect mask integr pipelin visual assign spot cell tutori refload imagej roi settutorial_manual_segment machinelearn method besid two classic cell segment approach mention machinelearn method aim replic accuraci manual cell segment reduc labor requir machinelearn algorithm segment continu improv perfect solut imag type yet method requir train data eg stain imag manual defin label train model predict cell nuclei locat test data except dont requir train specif data httpwwwcellpos org_ gener train model someth consid evalu much time segment approach requir starfish current builtin function support ilastik httpswwwilastikorg_ segment toolkit leverag machinelearn ilastik pixel classif workflow perform semant segment imag return probabl map label cell background transform imag pixel probabl binari mask use threshold watersh method starfish use segment imag stain cell tutori refus ilastik starfishtutorial_ilastik_segment _section_assigning_spot assign spot cell segment imag find cell boundari rna spot pyclassdecodedintensityt assign cell tabl reorgan creat singl cell gene pyclassexpressionmatrix matric data structur often gener use singlecel rnaseq analysi packag eg scanpi httpsicbscanpyreadthedocshost comenstable_ cluster classifi cell type compar singlecel rnaseq imagebas transcriptom method provid addit inform cell locat size morpholog pyclassexpressionmatrix hold dimension matrix cell metadata produc imagebas method data link histolog context singl cell transcriptom starfish pipelin first step creat gene express matrix assign spot aka termfeatur featur cell defin pyclassbinarymaskcollect cell mask done use pyclasslabel label featur cell_id current pyclasslabel assum everi cell mask creat refcel segmentationsection_segmenting_cel encompass whole cell rna spot spatial coordin within cell mask assign cell spot fall within cell mask assign cell_id therefor accuraci percent yield assign spot larg depend qualiti complet cell segment data without well segment cell cell stain imag avail potenti sophist method assign spot cell exampl number segmentationfre approach group spot cell starfish would like support futur httpsgithubcomspacetxstarfishissues_ tutori reftutorial_assigning_spot _section_working_with_starfish_output work starfish output youv process data starfish readi load output file tool like seurat scanpi analysi starfish let save express matric segment mask varieti data format tutori refworking_with_starfish_output _section_processing_at_scal process scale aw readi scale analysi full experi multipl experi starfish deploy cloud institut high perform comput cluster effici analysi larg dataset implement detail vari base comput resourc dispos demonstr analysi full dataset aw tutori refprocessing_at_scal _section_further_read read addit resourc avail refhelp refer toctre hidden working_with_starfish_outputsindex processing_at_scaleindex _processing_at_scal process aw tutori walk creat two aw batch job use exist starfish pipelin appli parallel entir experi begin make sure youv complet follow prerequisit prerequisit download templat file script need set run aw job downloadher _staticstarfishawstemplateszip creat aw account access consol creat account httpsawsamazoncompremiumsupportknowledgecentercreateandactivateawsaccount__ creat starfish pipelin process sing field view refimagestack refdecodedintensityt convert dataset spacetx format refsection_formatting_data make sure awscli instal pip instal awscli tutori work field view iss dataset httpssamazonawscomspacetxstarfishdatapublicbrowseformattedissexperimentjson_ alright let begin set data upload data dataset alreadi upload bucket skip section open aw consol navig httpsconsoleawsamazoncomshome_ select creat bucket enter name bucket name awsprocessingexampl bucket creat navig creat new folder spacetxdataset call issspacetxformat figur _staticimagesawstutorialfigurepng align center also creat folder hold result process call issspacetxformattedresult bucket creat time sync dataset open termin navig folder spacetx format dataset run follow command aw sync spath_to_dataset_fold look like aw sync sawsprocessingexampleissspacetxformat test experi properli upload tri load starfish starfish import experi e experimentfrom_jsonhttpssamazonawscomawsprocessingexampleissspacetxformattedexperimentjson e fov_ starfishfieldofview primari imag slicedimagetileset z c r x auxiliari imag nuclei slicedimagetileset z c r x dot slicedimagetileset z c r x fov_ starfishfieldofview primari imag slicedimagetileset z c r x auxiliari imag nuclei slicedimagetileset z c r x dot slicedimagetileset z c r x fov_ starfishfieldofview primari imag slicedimagetileset z c r x auxiliari imag nuclei slicedimagetileset z c r x dot slicedimagetileset z c r x fov_ starfishfieldofview primari imag slicedimagetileset z c r x auxiliari imag nuclei slicedimagetileset z c r x dot slicedimagetileset z c r x look good let move creat recip file templat file download open file name recipepi file includ method signatur def process_fovfov fieldofview codebook codebook decodedintensityt within method add starfish pipelin code process singl field view return valu refdecodedintensityt here recipepi file look like codeblock python starfish import codebook decodedintensityt fieldofview starfishimag import applytransform filter learntransform starfishspot import decodespot findspot starfishtyp import axe functionsourc def process_fovfov fieldofview codebook codebook decodedintensityt process singl field view iss data paramet fov fieldofview field view process codebook codebook codebook use decod return decodedspot tabular object contain locat detect spot note structur tensor contain raw imag data img fovget_imagefieldofviewprimary_imag dot fovget_imagedot nuclei fovget_imagenuclei printlearn transform learn_transl learntransformtranslationreference_stackdot axesaxesround upsampl transforms_list learn_translationrunimgsreduceaxesch axeszplan funcmax printappli transform warp applytransformwarp registered_img warprunimg transforms_listtransforms_list verbosetru printfilt whitetophat filt filterwhitetophatmasking_radiu is_volumefals filtered_img filtrunregistered_img verbosetru filtrundot verbosetru in_placetru filtrunnuclei verbosetru in_placetru printdetect detector findspotsblobdetector min_sigma max_sigma num_sigma threshold measurement_typemean dots_max dotsreduceaxesround axeszplan funcmax modulefunctionsourcenp spot detectorrunimage_stackfiltered_img reference_imagedots_max printdecod decod decodespotsperroundmaxchannelcodebookcodebook decod decoderrunspotsspot return decod upload recip make thing easi upload recip file directori experi dataset live aw cp recipepi sawsprocessingexampleissspacetxformat set batch job data recip upload readi go let move actual creat process job final workflow compos two job process field view parallel use aw batch array job combin result field view one larg decodedintensityt use aw batch job creat custom iam role regist job need set iam role access awsbatchservic newli creat bucket navig iam consol httpsconsoleawsamazoncomiamhome_ select role left panel click creat role weve call spacetxbatchupload list avail servic previs role select batch click rest wizard use default set creat role also need give role read write access newli creat bucket make new polici attach spacetxbatchupload role select polici left hand panel click creat polici click json editor past follow code version statement sid listobjectsinbucket effect allow action slistbucket resourc arnawssyour bucket sid allobjectact effect allow action sobject resourc arnawssyour bucket here look like version statement sid listobjectsinbucket effect allow action slistbucket resourc arnawssawsprocessingexampl sid allobjectact effect allow action sobject resourc arnawssawsprocessingexampl name polici save name spacetxbatchupload navig back new role attach upload polici spacetxbatch role summeri look like figur _staticimagesawstutorialfigurepng align center note arn new role circl imag youll need next step regist job follow get start guid httpdocsawsamazoncombatchlatestuserguidebatch_getstartedhtml_ ensur valid job queue comput environ tutori use default paramet job queue still call firstrunjobqueu here batch dashboard look like figur _staticimagesawstutorialfigurepng align center alright time regist batch job templat file open file name registerprocessfovjobjson file describ batch job creat ec instanc use docker contain spacetxprocessfov process specifi singl field view use recipepi file replac string add arn aw arn role creat last step file look like jobdefinitionnam processfov type contain containerproperti jobrolearn arnawsiamrolespacetxbatch imag spacetxprocessfov vcpu memori note starfish process memori expens adjust alloc memori creat instanc use memori paramet directori file live run follow command aw batch submitjob cliinputjson fileregisterprocessfovjobjson check job success regist navig job definit page httpsconsoleawsamazoncombatchhome_ here look like figur _staticimagesawstutorialfigurepng align center open file name registermergejobjson file describ batch job creat ec instanc use docker contain spacetxmergebatchjob merg togeth process result one decodedintensityt replac string add arn aw arn batch process role file look like jobdefinitionnam mergejob type contain containerproperti jobrolearn arnawsiamrolespacetxbatch imag spacetxmergebatchjob vcpu memori directori file live run follow command aw batch submitjob cliinputjson fileregistermergejobjson check job success regist job consol two job readi go figur _staticimagesawstutorialfigurepng align center run batch job weve set everyth time run job script starfishworkflowpi handl submit processfov array job merg job depend first job finish youll need run script paramet experimenturl path experimentjson file sawsprocessingexampleissspacetxformattedexperimentjson numfov number field view experi recipeloc path recip file sawsprocessingexampleawsprocessingexampleissspacetxformattedrecipepi resultsloc bucket copi result job sawsprocessingexampleissspacetxformattedresult jobqueu name job queue run job firstrunjobqueu run script python starfishworkflowpi experimenturl sawsprocessingexampleissspacetxformattedexperimentjson numfov recipeloc sawsprocessingexampleawsprocessingexampleissspacetxformattedrecipepi resultsbucket sawsprocessingexampleissspacetxformattedresult jobqueu firstrunjobqueu process fov array job aeddccaeeaacfc success submit merg result job acdfaeefccfa success submit monitor statu job navig aw batch dashboard httpsconsoleawsamazoncombatchhome_ see job pend figur _staticimagesawstutorialfigurepng align center abl click job track movement runnabl run succeed state note batch job may take minut move pend runnabl job reach succeed state check everyth work navig result bucket bucket includ process result field view well concaten result call merged_decoded_fovsnc here bucket contain figur _staticimagesawstutorialfigurepng align center that success set process experi use aw long keep job definit rerun job use command anytim _working_with_starfish_output work starfish output starfish output_format serial codenetcdf codecsv file file easi work python_ r_ _python httpswwwpythonorg _r httpswwwrprojectorgabouthtml work pyclassintensityt python simpl use object open_netcdf command codeblock python import starfish example_netcdf_fil str docssource_staticexample_data_filesdecodednc intensity_t starfishintensityt starfishintensitytableopen_netcdfexample_netcdf_fil printintensity_t r_ ncdf librari allow codenc archiv base hdf open contain number variabl access name altern instal instruct access altern instal instruct access here_ _here httpcirrusucsdedupiercencdf codeblock r installpackagesncdf libraryncdf example_netcdf_fil docssource_staticexample_data_filesdecodednc netcdf_connect nc_openexample_netcdf_fil access zcoordin vector zc ncvar_getnetcdf_connect zc headzc access dimension data structur contain intensti inform variabl special name rest access string constant would expect starfish python api data ncvar_getnetcdf_connect __xarray_dataarray_variable__ headdata work decod tabl even simpler store codecsv file read nativ panda python nativ r python codeblock python import panda pd example_decoded_spots_fil str docssource_staticexample_data_filesdecodedcsv tabl pddatafram pdread_csvexample_decoded_spots_fil index_col tablehead r codeblock r example_decoded_spots_fil docssource_staticexample_data_filesdecodedcsv tabl readcsvfileexample_decoded_spots_fil headertru sep rownam headtabl output format toctre maxdepth caption content toctre intensitytableindexrst toctre expressionmatrixindexrst toctre decodedspotsindexrst toctre segmentationmaskindexrst _expressionmatrixspecif expressionmatrix pyclassexpressionmatrix dimension codecel x codegen array whose valu contain express gene particular cell pyclassexpressionmatrix addit annot codex z pixel coordin centroid cell pixel space codexc yc zc physic coordin space addit metadata may ad user conveni either cell gene data gene express store numer valu typic integ imagebas transcriptom experi sinc repres count fluoresc spot correspond singl detect rna molecul metadata codecel cell_id int cell identifi codecel x z int coordin cell centroid pixel space codecel xc yc zc int coordin cell centroid global coordin space um codegen gene_id int gencod gene id codegen gene_nam int humanread gene symbol eg hgnc gene symbol human data implement starfish implement pyclassexpressionmatrix codexarraydataarray object take advantag xarrays_ high perform flexibl metadata storag capabl serial option _xarray httpxarraypydataorgenst serial pyclassexpressionmatrix leverag codexarray serial featur includ csv zarr netcdf choos netcdf current strongest support interoper r python user load manipul pyclassexpressionmatrix use r load ncdf_ packag futur netcdf serial may deprec r gain zarr support _ncdf httpscranrprojectorgwebpackagesncdfindexhtml _segmentationmask segmentationmask pyclasssegmentationmask integ array size codexi plane input pyclassimagestack valu pyclasssegmentationmask indic cell pixel correspond moment hard assign support implement pyclasssegmentationmask current implement codenumpyndarray object revisit optim object inform awar pend need use segment instanc cell label point also support noncel instanc current implement expect chang serial numpi array save varieti format common npy_ _npi httpsdocsscipyorgdocnumpyreferencegeneratednumpysavehtmlintensityt pyclassintensityt summar inform rna featur detect imagebas transcriptom experi common featur spot pixel connect pixel result fluoresc probe experiment attach rna molecul gather inform rna present tissu slice imagebas transcriptom experi requir imag rna molecul multipl round across multipl fluoresc channel multiplex assay ident spot determin measur spot intens across round channel sequenti assay round channel identifi detect rna molecul specif target pyclassintensityt store summari intens featur across round channel form dimension array dimens featur round channel also store metadata declar featur measur defin metadata individu featur final support addit arbitrari metadata featur round channel detect featur data intensityt store three dimension array shape codef r c codef number detect featur experi coder number round codec number channel entri array float rang code code repres maximum intens code minimum intens tabl metadata intensityt store standard metadata record featur summar codeintensity_measurement_typ string case featur compos spot connect pixel intens pixel featur must integr singl measur codeintensity_measurement_typ field store calcul made carri integr entri fill spot detector default valu codemax common method might includ codemean codemedian codearea_measurment_typ string size featur summar differ way often depend theyr detect exampl natur summar spot circl pixelbas approach produc irregular featur difficult summar parametr entri fill spot detector describ area calcul featur metadata pyclassintensityt featur annot sever type metadata includ codex z posit featur pixel coordin space area featur addit entri fill decod determin target spot correspond segment mask determin cell object correspond user may add addit metadata column name overlap list see fit follow metadata alway present intensityt case valu may set nan null intensityt decod merg segment result codex z int coordin centroid featur pixel space codexc yc zc float coordin centroid featur global coordin um codearea float area spot pixel todo um codecel int id cell featur belong codegen str gene name target rna gene symbol gencod gene id implement starfish implement pyclassexpressionmatrix codexarraydataarray object take advantag xarrays_ high perform flexibl metadata storag capabl serial option _xarray httpxarraypydataorgenst serial pyclassintensityt leverag codexarray serial featur includ csv zarr netcdf choos netcdf current strongest support interoper r python user load manipul pyclassintensityt use r load ncdf_ packag futur netcdf serial may deprec r gain zarr support _ncdf httpscranrprojectorgwebpackagesncdfindexhtml _decodedspotsspecif decodedspot pyclassdecodedspot dimension tabular data structur record repres spot record contain minimum column specifi x coordin spot physic space gene target addit column valid howev sever option column standard name data avail method take pyclassdecodedspot object may make use user interest name column appropri requir column column must present object construct codetarget str gene target spot codex float x coordin spot physic space codey float coordin spot physic space option column column valid special mean pyclassdecodedspot codez float z coordin spot physic space codetarget_prob float qualiti decod probabl spot associ list target codecel int identifi cell contain spot codecell_prob float qualiti cell associ probabl spot associ list cell implement starfish implement pyclassdecodedspot wrapper codepddatafram object serial pyclassdecodedspot defin method save load spot file csv file _help refer help refer toctre maxdepth data_modelindex spacetxformatindex available_datasetsindex configurationindex glossaryglossari spacetx_consortiumindex request_supportindex _spacetx consortium spacetx consortium spacetx consortium group led ed lein allen institut brain scienc engag benchmark imagebas transcriptom assay collabor lead develop imagebas transcriptom assay appli technolog adjac section mous human primari visual cortex goal experi understand assay best appli spatial local cell type base marker gene b obtain robust phenotyp cell measur rna thousand gene consortium member includ ed boyden mit long cai caltech fei chen broad institut karl dieserroth stanford ed lein allen institut brain scienc sten linnarrson karolinska institutet joakim lundeberg scilifelab jeffrey moffit harvard mat nilsson scilifelab aviv regev broad institut anthoni zador cold spring harbor laboratori kun zhang univers california san diego xiaowei zhuang harvard pipelin follow link tabl see pipelin spacetx group port starfish exampl pipelin found notebook directori httpsgithubcomspacetxstarfishtreemasternotebooks_ assay load data singlefov pipelin multifov pipelin merfish x x mer_ process iss x x iss_ x osmfish x x osm_ smfish x x ds_ x baristaseq x x bar_ dartfish x x dar_ exfish x starmap x x str_ seqfish x process seq_ fisseq data pipelin _mer httpsgithubcomspacetxstarfishblobmasternotebooksmerfishipynb _iss httpsgithubcomspacetxstarfishblobmasternotebooksissipynb _osm httpsgithubcomspacetxstarfishblobmasternotebooksosmfishipynb _bar httpsgithubcomspacetxstarfishblobmasternotebooksbaristaseqipynb _dar httpsgithubcomspacetxstarfishblobmasternotebooksdartfishipynb _str httpsgithubcomspacetxstarfishblobmasternotebooksstarmapipynb _seq httpsgithubcomspacetxstarfishblobmasternotebooksseqfishipynb _d httpsgithubcomspacetxstarfishblobmasternotebookssmfishipynb avail dataset starfish make small number dataset refeasili accessibledataset load codeimport starfishdata _cli_config configur starfish command configur unifi way refstarfish_config env_config environ variabl set load either json file valu start json string valu exampl export starfish_configmystarfish export starfish_configverbos fals otherwis starfishconfig load exist valid json file neither true refdefault valu env_default appli addit individu properti configur json set environ variabl valu take preced also set configur file exampl valid strict true also specifi export starfish_validation_stricttru valid valu true true true ye enabl _env_default default valu requir mandatori configur follow valu assum configur avail slicedimag cach debug fals directori starfishcach size_limit e valid strict fals verbos true _env_main main environ variabl _env_config starfish_config primari configur variabl starfish_config default equival starfishconfig need exist _env_validate_strict starfish_validation_strict strict valid run equival refstarfish valid cli_valid everi experi load execut halt except initi load experi also take longer sinc file must download valid cach enabl overal impact signific _env_verboas starfish_verbos whether variou command print intern statu messag default true _env_backend backend environ variabl starfish current use slicedimag librari backend store larg imag set configur valu start slicedimage_ option starfish_slicedimage_ pass backend without modif _env_slicedimage_caching_size_limit slicedimage_caching_size_limit maximum size refcach directori env_slicedimage_caching_directori default size_limit gb set size_limit disabl cach _env_slicedimage_caching_directori slicedimage_caching_directori directori cach store default directori starfishcach _env_slicedimage_debug slicedimage_caching_debug whether print file cach default fals spacetx format toctre maxdepth caption content toctre spacetxformatindexrst toctre validationindexrst _sptx_format mdinclud starfishspacetx_formatreadmemd _schema mdinclud starfishspacetx_formatschemareadmemd _cli_valid valid starfish valid command provid way check fileset base refsptx_format valid one schema requir codebook version experi usag starfish valid help provid instruct use tool programoutput env mplbackendagg starfish valid help exampl codeblock bash starfish valid experi tmpexperimentjson devnul echo ok valid experi valid includ file file also individu valid codeblock bash starfish valid codebook tmpcodebookjson _data_model data model starfish packag design allow user creat pipelin count spot assign spot cell order accomplish starfish defin seri abstract abstract turn defin requir data format data process imag experi compat starfish typic captur entir tissu slide within field view microscop result experi often captur collag sometimesoverlap imag stitch back panorama softwar complet imag often ten thousand pixel codex codey challeng process panorama contrast field view often small enough process laptop result panorama store codeexperi object compos field view captur microscop note current time mean upfront cost user need determin use document reformat microscopi data work bioformat bio_formats_ autom convers reduc upfront cost field view field view starfishcompat experi contain imag sever type field view must contain imag contain spot primari imag addit imag codey x size nuclei segment cell fiduciari marker regist imag within field view also associ field view user captur import note imag regardless fluoresc channel time pointround zplane taken specif codey x coordin area includ field view imag _staticdesignimagestackpng data structur gener across type data weve observ imagebas transcriptom proteom studi variabl number fluoresc channel imag round starfish simpli build set tensor field view one imag type primari dot nuclei dimens coderound time channel z x imag _staticdesignfield_of_viewpng process model starfish break data field view enabl effici process unlik stitch imag field view often small enough work laptop effici pass around cloud comput instanc hpc system theyr also easili broken piec fit modern gpu yet integr starfish show promis speed earli imag process task process model particularli amen process cloud joint file system comput instanc access ecosystem input data pipelin must local download machin upload back data store process complet work small dimension plane starfish abl exercis granular control data upload produc effici process system larg imag experi work local hpc cluster cloud imag _staticdesignprocessing_modelpng dual coordin system starfish requir microscopi experi broken field view import keep track physic bound box field view inform need convert data spacetx format output starfish produc track object coordin space intern starfish treat imag tensor primarili oper pixel coordin bring physic coordin along ride dualiti pervad remaind document next step point tutori fork either dive format data spacetxformat play skip forward play starfish use preconstruct exampl dataset suggest latter give sens starfish capabl put work reformat data clearli defin relev term need understand spacetx pipelin specif glossari glossari channel imag mode captur continuousvalu featur field view exampl channel includ readout fluoresc dye cy abund isotop captur mass spectromet imag round sever imagebas transcriptom proteom approach imag tissu multipl time time tissu imag discret imag round target featur target quantif imagebas assay common target includ mrna transcript protein intensityt intens tabl contain featur identifi imagestack thought array whose entri intens featur across imag round channel field view starfish expos sever process tool decod featur tabl estim qualiti assign featur cell decodedintensityt represent decod intens tabl contain featur identifi imagestack well associ target valu codeword codeword map expect intens across multipl imag tile within field view target encod codeword codebook codebook contain codeword need experi decod intensityt also contain map channel integ indic use starfish repres intern pipelin sequenc data process step process input desir output pipelin compon singl data process step pipelin defin input output file format eg spotdetect compon take input imag output tabl spot locat shape intens pipelin compon algorithm specif algorithm type adher specifi input output file format requir compon belong exampl spotdetect compon algorithm realiz gaussian blob detector connect compon label find spot accept input produc output henc belong compon howev underli properti algorithm parameter may quit differ pipelin specif document describ pipelin detail includ order list pipelin compon expect inputoutput file format step comput pipelin implement actual code pipelin code packag welldocu python librari correspond command line tool use consortium member facilit easi share comparison result across labsmethod manifest data manifest file includ locat field view either primari auxiliari imag field view fov collect imag tile correspond specif volum plane sampl signal channel imag round acquir tile within fov size manifest allow differ spatial coordin differ imag round channel accommod slight movement round exampl microscopi field view correspond camera sensor map sampl plane mani field view expect taken per tissu slice region interest roi area imag identifi particular purpos defin boundari cell imag tile singl plane singl channel singl round imag manifest tile inform xyz coordin space inform imag round r andor fluoresc channel c acquir imageslic imag volum correspond singl round singl channel field view coordin tile coordin refer physic locat tile respect independ refer pair valu provid correspond physic coordin edg singl valu provid correspond center tile x two valu requir z singl valu pair valu valid axe tile pixel locat along five axe round channel zplane x label tile label valid set valu axi index tile index indic label rang label given axi whole number nonneg integ python contigu slice repres rang selector tile map axe round channel zplane respect index express map axi index primari imag primari imag data experi primari imag contain inform imag target primari imag build field view usual contain multipl channel may contain multipl imag round primari imag decod identifi abund transcript protein target auxiliari imag usersubmit addit imag analysi beyond primari imag imag may lower dimens primari imag eg singl channel imag span spatial extent primari imag acquir fov auxiliari imag use aid imag process primari imag exampl data may includ nuclei dapi similar nuclear stain requir imag show cell nuclei crucial cell segment pipelin dot imag contain locat imag featur across field view stain label option recommend imag includ limit antibodi stain may captur addit inform cell boundari subcellular structur use cell segment andor addit spatial analys registr refer process align multipl imag spatial locat mostcommonli across multipl round imag within fov stitch process combin imag multipl field view larger imag thatspan extent sampl featur valu spot aggreg across pixel valu circumscrib spot valu singl pixel featur spot pixel trace featur intens valu across imag round andor color channel map codeword codebook decod match put barcod codeword codebook read correspond target believ associ barcod roloni rollingcircl amplifi coloni roloni amplicon produc imagebas transcriptom assay use circular probe increas signal _request support request support starfish user support host imagesc forum httpsforumimagesctagstarfish_ question discuss serv continu expand resourc starfish user pleas post help support request imagesc httpsforumimagesctagstarfish_ starfish tag see code report bug pleas visit github repositori httpsgithub comspacetxstarfish_ exampl data file folder contain exampl data file use starfish document file follow decodedcsv codecsv file contain pyclassdecodedspot output iss pipelin run test data serial use pymethdecodedspotssav decodednc codenetcdf file contain pyclassintensityt output iss pipelin run test data serial use pymethintensitytableto_netcdf _api api toctre maxdepth caption content toctre data_structuresindex toctre slicedimageindex toctre experiment_builderindex toctre imageindexrst toctre spotsindexrst toctre morphologyindexrst toctre typesindexrst toctre validationindexrst toctre utilsindexrst toctre displayindexrst toctre plot_utilsindexrst toctre datasetsindexrst _experiment_build data format class function convert data spacetx format build experi convert structur data refformat_structured_data tutori codeblock python starfishexperimentbuild import format_structured_dataset automodul starfishcoreexperimentbuilderstructured_formatt member format_structured_dataset tile fetcher interfac refformat_tilefetch tutori reftilefetcher_load tutori codeblock python starfishexperimentbuild import fetchedtil tilefetch write_experiment_json automodul starfishcoreexperimentbuilderprovid member fetchedtil tilefetch automodul starfishcoreexperimentbuilderbuild member write_experiment_json _slicedimag slicedimag automodul slicedimage_format member _valid valid valid provid valid spacetx fileset refschema valid autoclass starfishcorespacetx_formatutilspacetxvalid member excludememb fuzz_object helper addit starfishspacetx_formatvalidate_sptx modul contain helper simplifi iter tree json file respect schema automodul starfishcorespacetx_formatvalidate_sptx member error messag descript error messag print warn valid take place exampl starfishstarfishcorespacetx_formatutilpi userwarn content requir properti schema httpsgithubcomspacetxstarfishstarfishfileformatschemafovmanifestjson subschema level path error requir filenam field_of_viewfield_of_viewjson warningswarnmessag messag tell schema fail valid fovmanifestjson type error encount requir field miss name file invalid field_of_viewjson provid valid json object simpli omit filenam field _config configur _starfishconfig starfishconfig autoclass starfishconfigstarfishconfig member _environ environ autoclass starfishconfigenviron member _log proven log everi method run imagestack record stack log attribut entri includ method name argument suppli method os inform starfish version releas tag exampl exampl format proven log process imagestack iss pipelin codeblock python pprintstacklog argument clip_method clipclip clip is_volum fals masking_radiu depend numpi panda scikitimag scikitlearn scipi sympi xarray method whitetophat os platform darwin python version version darwin kernel version thu jun pdt rootxnurelease_x_ releas tag run starfish sourc starfish version gfebdirti argument depend numpi panda scikitimag scikitlearn scipi sympi xarray method warp os platform darwin python version version darwin kernel version thu jun pdt rootxnurelease_x_ releas tag run starfish sourc starfish version gfebdirti argument depend numpi panda scikitimag scikitlearn scipi sympi xarray method warp os platform darwin python version version darwin kernel version thu jun pdt rootxnurelease_x_ releas tag run starfish sourc starfish version gfebdirti argument detector_method function blob_log xc is_volum true max_sigma measurement_funct function mean xcc min_sigma num_sigma overlap threshold depend numpi panda scikitimag scikitlearn scipi sympi xarray method blobdetector os platform darwin python version version darwin kernel version thu jun pdt rootxnurelease_x_ releas tag run starfish sourc starfish version gfebdirti _util util number util exist simplifi work starfish librari refstarfishconfig object instanti point provid configur regard cach valid similar lowlevel concern especi import directli call io backend like slicedimag configur set need temporarili modifi use refenviron context manag set individu valu toctre maxdepth caption content toctre configrst toctre loggingrst _imag imag manipul starfish provid varieti imag manipul method aid quantif imagebas transcriptom experi includ pyclassstarfishimagefilt remov background fluoresc enhanc spot pyclassstarfishimagelearntransform learn transform align imag across round channel pyclassstarfishimageapplytransform appli learn transform imag final pyclassstarfishimagesegment identifi locat cell _filter filter filter import use starfishimagefilt regist class subclass filteralgorithm codeblock python starfishimag import filter automodul starfishimagefilt member _learn_transform learn transform learntransform import use starfishimagelearntransform subclass learntransformalgorithm avail transform learn codeblock python starfishimag import learntransform automodul starfishimagelearntransform member _apply_transform appli transform applytransform import use starfishimageapplytransform subclass applytransformalgorithm avail transform learn codeblock python starfishimag import applytransform automodul starfishimageapplytransform member _segment segment segment import use starfishimageseg regist class subclass segmentalgorithm codeblock python starfishimag import segment automodul starfishimageseg member _plot_util plot util modul contain seri util creat two dimension plot use gener document vignett suggest user leverag pyfuncstarfishdisplay plot need interact viewer better abl handl array featur starfish need codeblock python starfishutil import plot automodul starfishutilplot member _spot spot starfish provid number method spot region interest main substrat includ pyclassstarfishspotsdetectpixel expos method identifi target code best correspond pixel merg adjac pixel roi pyclassstarfishspotsfindspot expos method find bright spot dark background pyclassstarfishspotsdecodespot expos method match pattern spot detect across round channel spatial posit target code pyclassstarfishspotsassigntarget expos method assign spot cell _detect_pixel detect pixel pixel detector import use starfishspotsdetectpixel regist class subclass detectpixelsalgorithm codeblock python starfishspot import detectpixel automodul starfishspotsdetectpixel member _spot_find find spot spot finder import use starfishspotsfindspot regist class subclass findspotsalgorithm _spot find refactor plan httpsgithubcomspacetxstarfishissu codeblock python starfishspot import findspot automodul starfishspotsfindspot member _decode_spot decod spot spot decod import use starfishspotsdecodespot regist class subclass decodespotsalgorithm codeblock python starfishspot import decodespot automodul starfishspotsdecodespot member _target_assign target assign target assign import use starfishspotsassigntarget regist class subclass assigntargetsalgorithm codeblock python starfishspot import assigntarget automodul starfishspotsassigntarget member _dataset dataset maintain api let user access hand curat dataset learn use starfish benchmark algorithm pipelin see load exampl dataset refhereloading_data automodul starfishdata member _imagestack imagestack autoclass starfishcoreimagestackimagestackimagestack member _expressionmatrix expressionmatrix express matrix wrapper xarraydataarray provid serial adapt netcdf loom anndata enabl use singlecel analysi softwar packag scanpi python seurat r autoclass starfishcoreexpression_matrixexpression_matrixexpressionmatrix member _fieldofview field view autoclass starfishcoreexperimentexperimentfieldofview member _binary_mask binarymaskcollect autoclass starfishmorphologybinarymaskcollect member _codebook codebook autoclass starfishcorecodebookcodebookcodebook member _intensityt intensityt autoclass starfishcoreintensity_tableintensity_tableintensityt member automodul starfishcoreintensity_tableintensity_table_coordin member _experi experi autoclass starfishcoreexperimentexperimentexperi member _data structur data structur toplevel object starfish workflow refexperi compos one reffieldofview object refcodebook map detect spot entiti target reffieldofview consist set primari imag option auxiliari imag may contain inform nuclei often use seed segment fiduciari bead often use enabl fine registr primari auxiliari imag referenc slicedimage_ tileset_ object map two dimension imag tile store disk dimension imag tensor label z x tile round channel correspond load memori imag tensor store refimagestack object refimagestack starfish use execut imag preprocess serv substrat spot find identifi spot store refintensityt store intens spot across round channel detect also store assign gene decod refcodebook assign cell combin segment result final refintensityt convert refexpressionmatrix sum spot detect gene across cell expressionmatrix provid convers serial use singlecel analysi environ seurat_ scanpy_ todo ambrosejcarr think remov pipelinecompon anoth part doc _slicedimag httpsgithubcomspacetxslicedimag _tileset httpsgithubcomspacetxslicedimageblobmasterslicedimage_tilesetpi _seurat httpssatijalaborgseurat _scanpi httpsscanpyreadthedocsioenlatest toctre maxdepth caption content toctre experimentrst toctre field_of_viewrst toctre image_stackrst toctre codebookrst toctre expression_matrixrst toctre intensity_tablerst toctre decoded_intensity_tablerst toctre binary_maskrst toctre label_imagerst _decodedintensityt decodedintensityt autoclass starfishcoreintensity_tabledecoded_intensity_tabledecodedintensityt member _label_imag labelimag autoclass starfishmorphologylabelimag member _type type content local starfish use seri constant contain type enabl type check provid set use hint interact starfish object coordin coordin hold constant store physic coordin field view defin field view rel locat global scale paramet identifi stitch combin multipl field view autoclass starfishcoretypescoordin member undocmemb physic coordin autoclass starfishcoretypesphysicalcoordinatetyp member undocmemb axe axe hold constant repres index dimens pyclassimagestack imag tensor reus object inherit subset axe pyclassintensityt store spot coordin pixel trace across round channel pyclasscodebook store expect imag intens across imag round channel autoclass starfishcoretypesax member undocmemb featur featur hold constant repres characterist detect imag featur often spot sometim also individu pixel autoclass starfishcoretypesfeatur member undocmemb spotattribut spotattribut defin minimum amount inform requir starfish describ spot also contain method save attribut file use visual detect spot autoclass starfishcoretypesspotattribut member level autoclass starfishtypeslevel member undocmemb _display interact imag viewer display fast interact visual pyclassimagestack pyclassintensityt pyclassbinarymaskcollect starfish util napari detail usag instruct found refplot_display tutori codeblock python starfish import display automodul starfishcore_display member _morpholog morpholog transform starfish provid varieti method perform transform morpholog data includ pyclassstarfishmorphologybinar transform imag data morpholog data pyclassstarfishmorphologyfilt perform filter oper morpholog data pyclassstarfishmorphologymerg combin differ set morpholog data pyclassstarfishmorphologyseg perform segment oper yield morpholog data _binar binar binar oper import use starfishmorphologybinar regist class subclass pyclassstarfishmorphologybinarizebinarizealgorithm codeblock python starfishmorpholog import binar automodul starfishmorphologybinar member _morphological_filt filter filter oper import use starfishmorphologyfilt regist class subclass pyclassstarfishmorphologyfilterfilteralgorithm codeblock python starfishmorpholog import filter automodul starfishmorphologyfilt member _merg merg filter oper import use starfishmorphologymerg regist class subclass pyclassstarfishmorphologymergemergealgorithm codeblock python starfishmorpholog import merg automodul starfishmorphologymerg member segment filter oper import use starfishmorphologyseg regist class subclass pyclassstarfishmorphologysegmentsegmentalgorithm codeblock python starfishmorpholog import segment automodul starfishmorphologyseg member