elixir daisi build statushttpstraviscicomelixirluxembourgdaisysvgbranchdevelophttpstraviscicomelixirluxembourgdaisi data inform system daisi data bookkeep applic design help biomed research institut gdpr complianc inform pleas refer offici daisi documentationhttpselixirpagesuniludaisydoc demo deploy encourag tri daisi use demo deploymenthttpsdaisydemoelixirluxembourgorg deploy use docker requir docker httpsdocsdockercominstal instal get sourc code bash git clone gitgithubcomelixirluxembourgdaisygit cd daisi creat set file bash cp elixir_daisysettings_localtemplatepi elixir_daisysettings_localpi option edit file elixir_daisysettings_localpi adapt environ build daisi docker imag bash dockercompos build wait build finish keep process run open new shell go daisi folder build databas bash dockercompos exec web python managepi migrat build solr schema bash dockercompos exec web python managepi build_solr_schema c solrdaisyconf r daisi u default compil deploy static file bash dockercompos exec web python managepi collectstat creat initi data databas bash dockercompos exec web bash c cd corefixtur wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceseddajson wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceshpojson wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceshdojson wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceshgncjson dockercompos exec web python managepi load_initial_data initi data includ instanc control vocabulari term initi list institut cohort step take sever minut complet load demo data bash dockercompos exec web python managepi load_demo_data creat mock dataset project creat demo admin account option import user activ directori instanc bash dockercompos exec web python managepi import_us build search index bash dockercompos exec web python managepi rebuild_index u default brows httpslocalhost demo admin account avail usernam admin password demo oper manual import addit load initi data daisi databas popul import project dataset partner record json file use command import_project import_dataset import_partn respect command import accept one json file flag f br bash dockercompos exec web python managepi command f path_to_json_fil path_to_json_fil path json file contain record definit see file daisydatademoprojectsjson exampl altern specifi directori contain multipl json file import flag bash dockercompos exec web python managepi command path_to_dir export inform daisi databas export json file command export given belowbr bash dockercompos exec web python managepi export_partn f json_fil json_fil path json file produc addit export_partn run export_project export_dataset way upgrad last daisi version creat databas backup bash dockercompos exec db pg_dump daisi port usernamedaisi nopassword clean backup_d ymdsql make sure docker contain stop bash dockercompos stop get last daisi releas bash git checkout master git pull rebuild start docker contain bash dockercompos build open new termin window execut follow command updat databas schema bash dockercompos exec web python managepi migrat updat solr schema bash dockercompos exec web python managepi build_solr_schema c solrdaisyconf r daisi u default collect static file bash dockercompos exec web python managepi collectstat reload initi data option import note initi data packag provid default valu variou lookup list eg data sensit class document data type use daisi custom default list pleas keep mind run load_initial_data command updat reintroduc default valu desir pleas skip reload initi data step updat manag lookup list applic interfacebrbr bash dockercompos exec web bash c cd corefixtur wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceseddajson wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceshpojson wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceshdojson wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceshgncjson dockercompos exec web python managepi load_initial_data import note step take sever minut complet rebuild search index bash dockercompos exec web python managepi rebuild_index u default reimport user option ldap use initi setup import user import bash dockercompos exec web python managepi import_us deploy without docker cento see deploymentdeploymentmd develop complet import user activ directori bash managepi import_us import project dataset partner extern system singl file mode bash managepi import_project f pathtojson_filejson batch mode bash managepi import_project pathtodirwithjsonfil avail command import_project import_dataset import_partn case problem add verbos flag command take look insid logdaisylog instal js css depend bash cd webstaticvendor npm ci compil daisyscss bash cd webstaticvendor npm runscript build run builtin web server develop bash managepi runserv run test follow command instal test depend execut test bash python setuppi pytest test depend alreadi instal one also run test execut bash pytest administr get access admin page must log superus account user section give user staff statu abl access projectdataset settingspi local_settingspi refer display key descript expect valu exampl valu compani name use gener verbos name model str lcsb demo_mod flag make simpl banneer demo mode appear page bool fals instance_label name use navbar header help differenti differ deploy str stage test vm instance_primary_color color navbar header background str color login_username_placehold help placehold login form login str unilu login_password_placehold help placehold login form password str hint use ad password integr tool id servic key descript expect valu exampl valu idservice_funct path function lambda str gener id entiti publish str webviewsutilsgenerate_elu_access idservice_endpoint case lcsb idservic function use set contain idservic uri str httpsvapi rem key descript expect valu exampl valu rems_integration_en featur flag rem integr practic there dedic endpoint process inform rem dataset entitl str true rems_match_users_bi method inform rem map user via email email oidc id id auto strautoemailid fals rems_skip_ip_check set true ip check request come trust rem instanc bool fals rems_allowed_ip_address list ip address consid trust rem instanc bewar configur difficulti use revers proxi check skip rems_skip_ip_check dictstr keycloak key descript expect valu exampl valu keycloak_integr featur flag import user inform keycloak oidc id bool true keycloak_url keycloak integr flag set set contain url keycloak instanc str httpskeycloaklcsbuniluauth keycloak_realm keycloak integr flag set set contain realm name keycloak instanc str master keycloak_us keycloak integr flag set set contain usernam access keycloak str usernam keycloak_pass keycloak integr flag set set contain password access keycloak str secur other key descript expect valu exampl valu server_schem url scheme access daisi instanc http http str http server_url url access daisi instanc without scheme str examplecom global_api_key api key connect user disabl set none optionalstr inpracticeyoudontwanttouseitunlessdebug contributor coven code conduct pledg interest foster open welcom environ contributor maintain pledg make particip project commun harassmentfre experi everyon regardless age bodi size disabl ethnic sex characterist gender ident express level experi educ socioeconom statu nation person appear race religion sexual ident orient standard exampl behavior contribut creat posit environ includ use welcom inclus languag respect differ viewpoint experi grace accept construct critic focus best commun show empathi toward commun member exampl unaccept behavior particip includ use sexual languag imageri unwelcom sexual attent advanc troll insultingderogatori comment person polit attack public privat harass publish other privat inform physic electron address without explicit permiss conduct could reason consid inappropri profession set respons project maintain respons clarifi standard accept behavior expect take appropri fair correct action respons instanc unaccept behavior project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct ban temporarili perman contributor behavior deem inappropri threaten offens harm scope code conduct appli within project space public space individu repres project commun exampl repres project commun includ use offici project email address post via offici social media account act appoint repres onlin offlin event represent project may defin clarifi project maintain enforc instanc abus harass otherwis unaccept behavior may report contact project team infoelixirluxembourgorg complaint review investig result respons deem necessari appropri circumst project team oblig maintain confidenti regard report incid detail specif enforc polici may post separ project maintain follow enforc code conduct good faith may face temporari perman repercuss determin member project leadership attribut code conduct adapt contributor covenanthomepag version avail httpswwwcontributorcovenantorgversioncodeofconducthtml homepag httpswwwcontributorcovenantorg answer common question code conduct see httpswwwcontributorcovenantorgfaq instal base bash sudo yum updat sudo yum instal pythondevel openldapdevel nginx sudo yum group instal develop tool wget httpsbootstrappypaiogetpippi sudo python getpippi user applic sourc code instal applic dedic daisi user bash sudo useradd daisi sudo usermod g user daisi sudo su daisi mkdir config log git clone httpsgithubcomelixirluxembourgdaisygit exit sudo usrlocalbinpip instal e homedaisydaisi sudo usrlocalbinpip instal gunicorn npm nodej bash curl sl httpsrpmnodesourcecomsetup_x sudo bash sudo yum instal nodej need compil static file bash sudo su daisi cd homedaisydaisywebstaticvendor npm ci exit solr bash sudo useradd solr wget httpsarchiveapacheorgdistlucenesolrsolrtgz tar xf solrtgz solrbininstall_solr_servicesh sudo yum instal lsof javaopenjdk sudo solrbininstall_solr_servicesh solrtgz sudo su solr optsolrbinsolr create_cor c daisi cd varsolrdatadaisyconf wget httpsrawgithubusercontentcomapachelucenesolrmastersolrexamplefilesconfcurrencyxml wget httpsrawgithubusercontentcomapachelucenesolrmastersolrexamplefilesconfelevatexml optsolrbinsolr stop exit possibl time solr anymor propos download solr mirror case check last solr version avail adapt instruct accordingli need configur solr core daisi need creat schemaxml solrconfigxml file varsolrdatadaisyconf bash sudo cp homedaisydaisydockersolrschemaxml varsolrdatadaisyconf sudo cp homedaisydaisydockersolrsolrconfigxml varsolrdatadaisyconf grant ownership chang privileg varsolr folder sudo chown r solrus varsolr sudo chmod r varsolr span stylecolorredreview schemaxml file copi ensur file refer insid eg stopwordstxt actual exist path specifiedspan p stylecolorredbi default solr instanc listen port interfac solr authent system crucial secur either block extern access solr port chang configur listen localhost see httpsstackoverflowcomap restart solr check work follow command bash sudo systemctl enabl solr sudo systemctl restart solr gunicorn creat file etcsystemdsystemgunicornservic _root_ user _sudo_ follow content unit descriptiongunicorn daemon afternetworktarget servic pidfilerungunicornpid userdaisi groupdaisi workingdirectoryhomedaisydaisi execstartusrlocalbingunicorn limitrequestlin accesslogfil homedaisyloggunicorn_accesslog errorlogfil homedaisyloggunicorn_errorlog loglevel debug worker bind unixhomedaisydaisydaisysock elixir_daisywsgi execreloadbinkil hup mainpid execstopbinkil term mainpid instal wantedbymultiusertarget rabbitmq bash sudo yum instal rabbitmqserv sudo systemctl start rabbitmqserv sudo systemctl enabl gunicorn celeri use systemd creat two servic celery_work run worker notif index etc celery_beat run schedul task celeri worker daisi user creat file homedaisyconfigceleryconf follow content name node start singl node celeryd_nodesdaisy_work could three node celeryd_nodesw w w absolut rel path celeri command celery_binusrlocalbinceleri celery_binvirtualenvsdefbinceleri app instanc use comment line dont use app celery_appelixir_daisycelery_app fulli qualifi celery_appprojtasksapp call managepi celeryd_multimulti extra commandlin argument worker celeryd_optsconcurr n replac first part nodenam replac current child process index import use prefork pool avoid race condit celeryd_pid_filevarruncelerynpid celeryd_log_filehomedaisylogcelerynilog celeryd_log_leveldebug creat folder varrunceleri _root_ _sudo_ folder homedaisylogceleri _daisy_ must creat creat also servic config file etcsystemdsystemcelery_workerservic _root_ _sudo_ follow content unit descriptionceleri worker afternetworktarget servic typefork userdaisi groupdaisi environmentfilehomedaisyconfigceleryconf workingdirectoryhomedaisydaisi execstartbinsh c celery_bin multi start celeryd_nod celery_app pidfileceleryd_pid_fil logfileceleryd_log_fil loglevelceleryd_log_level celeryd_opt execstopbinsh c celery_bin multi stopwait celeryd_nod pidfileceleryd_pid_fil execreloadbinsh c celery_bin multi restart celeryd_nod celery_app pidfileceleryd_pid_fil logfileceleryd_log_fil loglevelceleryd_log_level celeryd_opt instal wantedbymultiusertarget follow bash sudo systemctl enabl celery_work sudo systemctl start celery_work celeri beat creat file homedaisyconfigcelerybeatconf follow content absolut rel path celeri command celery_binusrlocalbinceleri app instanc use comment line dont use app celery_appelixir_daisycelery_app fulli qualifi celery_appprojtasksapp extra commandlin argument worker celerybeat_optsschedul django_celery_beatschedulersdatabaseschedul n replac first part nodenam replac current child process index import use prefork pool avoid race condit celerybeat_pid_filevarruncelerybeatnpid celerybeat_log_filehomedaisylogcelerybeatnilog celerybeat_log_levelinfo creat servic file etcsystemdsystemcelery_beatservic unit descriptionceleri beat servic afternetworktarget servic userdaisi groupdaisi environmentfilehomedaisyconfigcelerybeatconf workingdirectoryhomedaisydaisi execstartbinsh c celery_bin beat celery_app pidfilecelerybeat_pid_fil logfilecelerybeat_log_fil loglevelcelerybeat_log_level celerybeat_opt execstopbinkil term mainpid instal wantedbymultiusertarget follow bash sudo systemctl enabl celery_beat sudo systemctl start celery_beat postgresql instal databas server bash sudo yum instal httpsdownloadpostgresqlorgpubreposyumredhatrhelx_pgdgcentosnoarchrpm sudo yum instal postgresql sudo yum instal postgresqlserv sudo usrpgsqlbinpostgresqlsetup initdb sudo systemctl enabl postgresql sudo systemctl start postgresql case instal fail follow step offici documentationhttpswwwpostgresqlorgdownloadlinuxredhat instal postgresql platform creat databas role bash sudo su postgr vi datapg_hbaconf chang method ident ipv ipv md add rule daisi postgr user recommend allow local connect daisi user daisi databas exampl type databas user address method local postgr peer local unix domain socket connect local daisi daisi ident local postgr postgr ident ipv local connect host md ipv local connect host md creat daisi user databas createus daisi createdb daisi psql postgr alter user daisi encrypt password daisi postgr grant privileg databas daisi daisi postgr q exit span stylecolorredy replac password daisi password choicespan restart postgresql bash sudo systemctl restart postgresql applic config file creat local configur file applic bash sudo su daisi cp homedaisydaisyelixir_daisysettings_localtemplatepi homedaisydaisyelixir_daisysettings_localpi vi homedaisydaisyelixir_daisysettings_localpi span stylecolorredchang secret_key variablespan secur warn chang secret key use product keep secret secret_keyyournewsecretkey put follow databas configur settings_localpi file databas default engin djangodbbackendspostgresql name daisi user daisi password daisi host localhost port put follow haystack configur settings_localpi file haystack_connect default engin haystackbackendssolr_backendsolrengin url httpsolrdaisi admin_url httpsolradmincor haystack_signal_processor celery_haystacksignalscelerysignalprocessor add follow entri static_root homedaisystat allowed_host xxxdaisycom debug fals session_cookie_secur true csrf_cookie_secur true pleas note ip dn record chang denot server replac compani name lcsb institut name suggest use long name eg acronym institut need configur activ directori paramet allow ldap authent user import exit daisi user bash exit web server instal nginx bash sudo yum instal epelreleas sudo yum instal nginx sudo systemctl enabl nginx sudo systemctl start nginx _root_ _sudo_ creat file etcnginxconfdsslconf follow content bash proxy_connect_timeout proxy_send_timeout proxy_read_timeout send_timeout server server_nam daisycom locat static alia homedaisystat autoindex locat proxy_set_head host http_host proxy_set_head xrealip remote_addr proxy_set_head xforwardedfor proxy_add_x_forwarded_for proxy_set_head xforwardedproto scheme proxy_pass httpunixhomedaisydaisydaisysock listen http ssl listen http ssl ssl ssl_certif etcsslcertsdaisycomcrt ssl_certificate_key etcsslprivatedaisycomkey chang daisycom particular case redirect http http _root_ _sudo_ creat file etcnginxconfddaisyconf follow content server listen server_nam daisycom return httpsdaisycomrequest_uri chang daisycom particular case creat selfsign certif alreadi dont exist bash openssl req x newkey rsa node daisycomcrt keyout daisycomkey day chang daisycom particular case certif put folder specifi etcnginxconfddaisyconf bash sudo cp daisycomcrt etcsslcert sudo mkdir etcsslpriv sudo cp daisycomkey etcsslpriv edit file etcnginxnginxconf comment block server etcnginxnginxconf chang user run nginx nginx daisi grant access varlibnginx daisi user sudo chown r daisydaisi varlibnginx restart nginx bash sudo systemctl restart nginx initi everyth set definit lookup valu need insert databas run follow bash sudo su daisi cd homedaisydaisi python managepi collectstat python managepi migrat python managepi build_solr_schema c varsolrdatadaisyconf r daisi cd homedaisydaisycorefixtur wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceseddajson wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceshpojson wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceshdojson wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceshgncjson cd homedaisydaisi python managepi load_initial_data load_initial_data command need sever minut complet daisi demo data loader exampl record project dataset user want deploy daisi demo data bash python managepi load_demo_data command creat admin user alicewhit johndo janedo password demo want load demo data work definit youd still need creat super user applic logon creat user well record creat super user follow respond question bash python managepi createsuperus trigger reindex bash python managepi rebuild_index valid instal check instal success access url httpsip_of_the_serv web browser abl login admindemo load_demo_data command use admin account createsuperus command use possibl creat dataset project addit daisi updat configur chang includ configur file settings_localpi modifi gunicorn must restart load new codeconfigur run bash sudo systemctl restart gunicorn sudo systemctl restart celery_work sudo systemctl restart celery_beat set remind daisi gener remind approach deadlin eg data storag end date document expiri enabl featur follow login daisi super user eg admin user demo applic go httpsip_of_the_serveradmin site administr list select period task period task head click add period task button give task name taskregist list select notificationtasksdocument_expiry_notif interv list select everi day interv exist may creat click button next select select start date time eg today click save may repeat step creat daili period task also notificationtasksdata_storage_expiry_notif updat daisi want move newest releas daisi follow stop servic creat databas applic backup root user bash systemctl stop gunicorn systemctl stop celery_work systemctl stop celery_beat su c pgpasswordpassword_of_postgres_us pg_dump daisi port usernamedaisi clean daisy_dumpsql daisi tar cvf tmpdaisytar homedaisi creat tar ball applic directori postgr dump may proceed updat get latest daisi releas daisi user bash cd homedaisydaisi git checkout webstaticvendorpackagelockjson git checkout master git pull cd homedaisydaisywebstaticvendor npm ci root user bash usrlocalbinpip instal e homedaisydaisi upgrad updat databas solr schema collect static file daisi user bash cd homedaisydaisi python managepi migrat python managepi build_solr_schema c varsolrdatadaisyconf r daisi ye python managepi clear_index ye ye python managepi collectstat reload initi data option import note initi data packag provid default valu variou lookup list eg data sensit class document data type use daisi custom default list pleas keep mind run load_initial_data command updat reintroduc default valu desir pleas skip reload initi data step updat manag lookup list applic interfacebrbr daisi user bash cd homedaisydaisycorefixtur wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceseddajson eddajson wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceshpojson hpojson wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceshdojson hdojson wget httpsgitrlabunilupinaralpermetadatatoolsrawmastermetadata_toolsresourceshgncjson hgncjson cd homedaisydaisi python managepi load_initial_data import note step take sever minut complet reimport user option ldap use import user import daisi user bash python managepi import_us rebuild solr search index daisi user bash cd homedaisydaisi python managepi rebuild_index restart servic root user bash systemctl start gunicorn systemctl start celery_work systemctl start celery_beat restor backup daisi first make sure success back daisi deploy see first section chapter updat daisi backup tar file contain dump postgresql databas everyth homedaisi directori root user stop servic bash systemctl stop gunicorn systemctl stop celery_work systemctl stop celery_beat wipe brokenunw version daisi delet file daisi user home directori drop databas import note sure backup tar file store somewher els rm rf homedaisi su c dropdb daisi postgr restor file tar ball su c tar xvf pathtobackupfolderdaisytar directori daisi follow step assum postgresql instal pg_hbaconf file updat databas user daisi exist pleas see postgresql deploy instruct inform creat databas grant privileg su postgr createdb daisi psql daisi p c grant privileg databas daisi daisi exit restor databas daisi user su c psql daisi u daisi p homedaisydaisy_dumpsql daisi start servic systemctl start gunicorn systemctl start celery_work systemctl start celery_beat bootstrapmaterialdatetimepick materi datetimepick originali design bootstrap materi v complet standalon respons updat date author descript donovansolm disabl specif day trk fix foxycorndog fix pm overwrit bug trk chang clock svg trk ad button trk switch view click trk ad clear button trk replac rem em trk display h clock trk close esc drblue fix erron packagejsonfil perdona fix auto resiz month week trk redesign element without use modal trk use timepick alon display short time hour trk fix issu html valu tag trk chang repo name bootstrapmaterialdatetimepick trk ad paramet button text sovanna fix undefin _mindat isbeforemaxd func trk littl chang clock design peterzen ad bower requirej support trk fix problem local switch trk ad time picker file name chang bootstrapmaterialdatepickerj bootstrapmaterialdatetimepickerj bootstrapmaterialdatepickercss bootstrapmaterialdatetimepickercss prerequisit jqueri httpjquerycomdownloadhttpjquerycomdownload momentj httpmomentjscomhttpmomentjscom googl materi icon font link hrefhttpsfontsgoogleapiscomiconfamilymaterialicon relstylesheet live exampl live examplehttptrkgithubiobootstrapmaterialdatetimepick usag inputbootstrapmaterialdatepick bower bower instal bootstrapmaterialdatetimepick paramet name type descript format string momentj format shorttim boolean true display hour ampm mindat stringdatemo minimum select date maxdat stringdatemo maximum select date currentd stringdatemo initi date year boolean true yearpick date boolean true datepick disabledday array array contain day indic disabl time boolean true timepick clearbutton boolean true show clear button nowbutton boolean true show button switchonclick boolean true switch view click default fals canceltext string text cancel button default cancel oktext string text ok button default ok cleartext string text clear button default clear nowtext string text button default triggerev string event fire calendar default focu monthpick boolean true act monthpick hide calendar default fals event name paramet descript beforechang event date ok button click chang event date ok button click input valu chang yearselect event date new year select dateselect event date new date select open event datepick open close event datepick close method inputbootstrapmaterialdatepickersetd moment name paramet descript setdat stringdatemo set initi date setmind stringdatemo set minimum select date setmaxd stringdatemo set maximum select date destroy null destroy datepick name bug report creat report help us improv daisi titl label assigne describ bug current behaviour reproduc expect behavior environ deploy eg daisytestlcsbunilu version eg browser eg firefox x addit inform error log screenshot name featur request suggest new featur daisi titl label assigne featur request relat problem pleas describ describ solut request describ possibl altern info context