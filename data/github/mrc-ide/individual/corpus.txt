individu img srcmanfigureslogopng alignright height badg start r build statushttpsgithubcommrcideindividualworkflowsrcmdcheckbadgesvghttpsgithubcommrcideindividualact codecoviohttpscodecoviogithubmrcideindividualcoveragesvghttpscodecoviogithubmrcideindividu cranhttpswwwrpkgorgbadgesversionindividualhttpscranrprojectorgpackageindividu licens mithttpsimgshieldsiobadgelicensemityellowsvghttpsopensourceorglicensesmit doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss badg end r packag specifi simul individualbas model packag design encourag clear testabl compon defin individualbas model provid memori effici fast code execut model instal packag instal github use remot librari r libraryremot install_githubmrcideindividu altern instal individu directli cran awar cran version may recent version packag r installpackagesindividu develop conveni run code sourc instal depend rstudio open project select build instal restart command line user execut r libraryremot install_dep depend true docker user build minim imag bash docker build f dockerdockerfil imag name would like devtool document tool run bash docker build f dockerdockerfiledev imag name usag recommend first read vignettetutori describ simul simpl sir model individu later vignetteapi describ detail use data structur individu build complic model run perform issu learn speed model vignetteperform statement need individualbas model import tool infecti diseas epidemiolog practic use requir implement comprehens code may maintain adapt fast individu r packag provid user set primit class use rhttpsgithubcomrlibr class system defin element common mani task infecti diseas model use r class help ensur method invok object appropri object type aid test mainten model program use individu comput carri c use rcpphttpsgithubcomrcppcorercpp link r help achiev good perform even complex model individu provid uniqu method specifi individualbas model compar agentindividualbas model librari user specifi type agent subsequ store array data structur individu user instead instanti object variabl describ aspect state use appropri r class find subset individu particular combin state variabl comput effici accomplish set oper use custom bitset class implement c addit softwar make assumpt type model may simul eg mass action network updat perform discret time step hope softwar use infecti diseas model ecologist other interest individualbas model r contribut thank pleas refer vignett vignettecontribut info contribut altern non r softwar repasthttpsgithubcomrepast mesahttpsgithubcomprojectmesamesa netlogohttpscclnorthwesternedunetlogo agentsjlhttpsgithubcomjuliadynamicsagentsjl non r softwar epi epifirehttpsgithubcomtjhladishepifir simpactcyanhttpsgithubcomjrsimpactcyan numeru model builderhttpswwwnumerusinccom nova emodhttpswwwidmodorgtoolsemod pathogenjlhttpsgithubcomjangevaarepathogenjl packag individualbas simul common compartment model gener r packag nlrxhttpsgithubcomropenscinlrx rnetlogohttpsgithubcomrforgernetlogo netlogorhttpsgithubcompredictiveecologynetlogor netlogo interfac rrepasthttpsgithubcomantoniopgarciarrepast repast interfac simecolhttpsgithubcomrforgesimecol provid class method enhanc reproduc ecolog model r base de simmerhttpsgithubcomrsimmersimm spadeshttpsgithubcompredictiveecologyspad r base ibm ibmpopsimhttpsgithubcomdaphnegiorgiibmpopsim ibmhttpsgithubcomroliverosramosibm ibmcraftrhttpsgithubcomsaitheinthantunibmcraftr r base epi epimodelhttpsgithubcomstatnetepimodel siminfhttpsgithubcomstewidsiminf hybridmodelshttpsgithubcomfernandosmhybridmodel epinet epidynamicshttpsgithubcomoswaldosantosepidynam nosoihttpsgithubcomslequimenosoi gener synthet data phylogenet analysi epiilmcthttpsgithubcomwaleedalmutiryepiilmct epiilmhttpsgithubcomwaleedalmutiryepiilm sparsemodrhttpsgithubcomcransparsemodr individu fix bughttpsgithubcommrcideindividualpul c event listen individu check bad bitset input queue updat categoricalvari object pr herehttpsgithubcommrcideindividualpul add bench packag suggest includ benchmark script major function testsperform pr herehttpsgithubcommrcideindividualpul updat latest version testthat packag c test iterablebitset object run without give lto check error see srctestbitsetcpp add citat file add method bitsetclear zero set bit bitset pr herehttpsgithubcommrcideindividualpul fix bug issu herehttpsgithubcommrcideindividualissu doublevari integervari updat could chang size variabl object pr herehttpsgithubcommrcideindividualpul individu ad newsmd file track chang packag add mac os file gitignor updat pkgdown refer organ updat rcmdcheck workflowhttpsgithubcomrlibactionstreemasterexamplesstandardciworkflow eventh defin class method outsid class definit easier readabl add document targetedeventschedul dispatch differ c function eventcpp eventh depend input index bitset vector previou behavior use bitset to_vector method r pass vector testeventr contain test event class new test file testtargetedeventr contain much updat suit test targetedev class fix bug categoricalvari could queu updat indic vector outsid rang popul updat bitsetnot oper place inplac fals deprec renam iterablebitset oper individu ad packag logo updat descript remov reshap suggest packag given bitset argument index queue_upd method integervari doublevari pass bitset directli c function integer_variable_queue_update_bitset double_variable_queue_update_bitset rather convert vector use vector method categoricalvariableh integervariableh doublevariableh defin class method outsid class definit easier readabl add document categoricalvari integervari doublevari class defin virtual destructor default implement get_index_of_set get_size_of_set_vector method integervari pass argument refer get_valu method integervari doublevari correct return valu rather refer add overload get_valu integervari doublevari accept stdvectorsize_t argument rather convert bitset add function bitset_to_vector_intern iterablebitseth split testthattesttestvariablesr testthattesttestcategoricalvariabl testthattesttestintegervariabl testthattesttestdoublevariabl remov unnecessari includ statement header file remov unnecessari comparison size_t type titl individu r packag individualbas epidemiolog model tag r epidemiolog individu base agent base infecti diseas simul stochast author name giovanni charl orcid affili name sean l wu orcid affili affili name mrc centr global infecti diseas analysi abdul latif jameel institut diseas emerg analyt jidea imperi colleg london london uk index name divis epidemiolog biostatist school public health univers california berkeley ca usa index date august bibliographi paperbib summari individu r packag provid user set use primit element specifi individualbas model ibm also call agentbas model abm special attent model infecti diseas epidemiolog user build model specifi variabl characterist describ individu simul popul use data structur packag individu provid effici method find subset individu base variabl cohort cohort target variabl updat schedul event variabl updat queu time step execut end discret time step code place restrict individu allow interact data structur design provid intuit way user turn conceptu model system execut code fast memori effici statement need complex stochast model crucial mani task infecti diseas epidemiolog model formal theori gener synthet data evalu counterfactu scenario forecast trend use statist infer ganyani ibm way design disaggreg simul model usual contrast mathemat model may model densiti concentr individu otherwis lump individu similar attribut togeth way shalizi model finit number individu signific betweenindividu heterogen complex dynam ibm natur model choic represent use mathemat model would cumbersom imposs willem even aggreg represent feasibl mani reason individualbas represent prefer synthet data may need produc individu level outcom aggreg model natur unabl provid traci complex event occur random delay whose distribut differ markovian one mean even aggreg model need store individu complet time necessit complex simul algorithm data structur case often straightforward adopt individualbas represent start practic use individualbas model need balanc comprehens speed fast model whose code understood author difficult use basi scientif explor necessarili requir develop multipl model test hypothes explor sensit certain assumpt hand clear yet slow model practic unus task uncertainti quantif statist infer individu provid toolkit user write model gener enough cover nearli model practic interest use simpl standard code fast enough use comput tax applic state field mani softwar librari epidemiolog simul r program languag howev base review exist softwar librari exist r languag provid user set primit element defin epidemiolog model without impos strong restrict upon type model may simul eg compartment network etc limit user particular mathemat form model dynam gener r packag gener individualbas simul packag r includ ibmpopsim giorgi ibm olivero ibmcraftr tun ibmpopsim provid sophist simul algorithm requir user input c code string compil make difficult interfac exist r ecosystem epidemiolog r packag epimodel jen allow simul highli detail discret time model network reli statnet handcockstatnet project class algorithm howev due focu directli transmit diseas individu may applic epidemiolog situat vectorborn diseas addit offer interfac compil code hybridmodel fernando similarli provid tool simul epidem dynam network howev fulli implement r limit scope scale optimis packag r specialis restrict model transmiss dynam specif mathemat form eg mass action includ siminf bauer nosoi lequim sparsemodr mihaljev epiilmct almutiri epiilm warriyar design principl mani epidemiolog model import represent state finit set mutual exclus valu suscept infecti recov class wellknown sir model allen individu use bitset store data r level user call set oper union intersect complement symmetr differ set differ implement bitwis oper c sourc let user write clear highli effici code updat model fulli r contrast individualbas model softwar user focu defin type simul individu individu user instead defin variabl one characterist simul popul individu agent defin posit bitset give membership variabl element vector integ float design similar compon system design pattern help decoupl complic type nystrom disaggreg represent state perform oper find schedul cohort individu benefit fast bitwis oper state represent knowledg novel epidemiolog simul rizzi propos use bitset repres state simul individu popul still store type array individu use rcpp rcpp link c sourc code underli data structur expos user api individu use r r class r level user call creat updat queri variabl individu also provid c headeronli interfac advanc user link r packag user write c code benefit packag compil interfac significantli enhanc extens individu api document interact individu c api avail packag documentationhttpsmrcidegithubioindividualarticlesperformancehtml user specifi variabl model dynam specifi process run time step event schedul updat specif cohort futur simul loop execut process fire event updat state discret time step flow diagram simul loopsim_looppng licens avail individu licens mit licens sourc code store githubhttpsgithubcommrcideindividu request suggest bug report encourag via file issuehttpsgithubcommrcideindividualissu gener guid contribut individu avail packag websitehttpsmrcidegithubioindividualarticlescontributinghtml autom test coverag found codecoviohttpsappcodecovioghmrcideindividu exampl code found tutori sectionhttpsmrcidegithubioindividualarticlestutorialhtml packag document acknowledg would like thank dr pete winskil dr oliv watson encourag test contribut repositori dr richard fitzjohn earli technic feedback expert advic r packag develop refer titl contribut output rmarkdownhtml_vignett vignett vignetteindexentrycontribut vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment thank take time contribut individu grate would take time make individualbas model easier r pull request welcom issu major chang pleas open issu first give develop head would like add chang way reduc redund effort give resourc need bug report pleas includ r version os step recreat expect behaviour actual behaviour git use git project mean use master dev feat bug hotfix releas branch pleas refer posthttpswwwatlassiancomgittutorialscomparingworkflowsgitflowworkflow inform type branch note bug branch feat branch fix bug practic speak new code contribut featur branch branch dev branch one call featyour featur name consid pull request fork repositori mrcideindividu repositori expect convent period merg dev master small releas updat releas appear github releas pagehttpsgithubcommrcideindividualreleas pleas use convent commitshttpswwwconventionalcommitsorgenv help us version individu properli larg releas releas branch manag transit new featur merg releas branch document bug fix consid code organis rsimulationr contain main entri point configur model rvariablesr defin class avail variabl reventsr defin class avail event src c side r interfac test instincludevariableh implement variabl instincludeeventh implement event test divid unit integr perform test integr test strongli recommend larg function unit test everyth els pull request here checklist success pr read diff describ pr write particular note interest review check code pass ci check check code mergeabl thing check understand code code look like would work work run local test enough document enough review process base resid pr review processhttpsresideicgithubioarticlespullrequest microbenchmark use googl benchmarkhttpsgithubcomgooglebenchmark microbenchmark compil run benchmark like cd testsperform g _benchmarkcpp stdc lbenchmark lpthread benchmarkout benchmarkout wishlist test coverag variabl speed optimis test tbc cran anyth github issu board titl tutori output rmarkdownhtml_vignett vignett vignetteindexentrytutori vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment r setup echofals libraryindividu r conditional_block evalpkgdownin_pkgdownechof knitrasis_output tabl content toc introductionintro specificationspec processesproc eventsev renderingrend simulationsim introduct intro susceptibleinfectiousrecov sir modelhttpsenwikipediaorgwikicompartmental_models_in_epidemiologythe_sir_model hello world model infecti diseas simul describ build individu tutori illustr use event process render output specif spec start defin constant epidem simul popul person initi infecti whose indic randomli sampl effect contact rate beta function determinist r_ recoveri rate gamma also specifi dt size time step delta individu time step unit length scale transit probabl dt creat model differ size step interpret discret time model discret continu time model maximum time tmax overal number time step tmaxdt r n e n dt tmax step tmaxdt gamma r beta r gamma health_stat csir health_states_t repsn health_states_tsampleintn nsize next defin individualcategoricalvari store model state r health categoricalvariablenewcategori health_statesinitial_valu health_states_t process proc order model infect need process function take singl argument current time step unus model timedepend process season school holiday within function get current number infecti individu calcul percapita forc infect suscept person lambda beta next get individualbitset contain suscept individu use sampl method randomli select infect time step probabl given elambdadelta cdf exponenti random variat use statspexp comput quantiti final queue state updat individu sampl r infection_process functiont healthget_size_ofi foi beta healthget_index_of ssampler pexpq foi dt healthqueue_updatevalu iindex event event need model recoveri geometr distribut infecti period could use anoth process randomli sampl individu time step recov well use individualtargetedev illustr use recoveri event quit simpl listen ad function call event trigger take target individualbitset schedul individu second argument individu schedul state updat within listen function bodi r recovery_ev targetedeventnewpopulation_s n recovery_eventadd_listenerfunctiont target healthqueue_updat target final need defin recoveri process queue futur recoveri event first get individualbitset object current infecti individu alreadi schedul recoveri use bitwis oper get intersect alreadi infecti person person schedul precis need recoveri time sampl recoveri schedul sampl time statsrgeom probabl recoveri egamma delta note add one result vector default r use number failur parameter rather number trial mean would possibl individu infecti time step without correct final schedul recoveri use recoveri event object note point would possibl queue recoveri event time infect state updat made separ event process illustr packag work r recovery_process functiont healthget_index_ofi already_schedul recovery_eventget_schedul iandalready_schedulednotinplac true rec_tim rgeomn isizeprob pexpq gamma dt recovery_eventscheduletarget idelay rec_tim render render last thing simul model render output plot use individualrend object store output model track time step requir anoth process use prefab individualcategorical_count_renderer_process r health_rend rendernewtimestep step health_render_process categorical_count_renderer_process render health_rend variabl health categori health_stat simul sim final simul run pass object individualsimulation_loop function r simulation_loop variabl listhealth event listrecovery_ev process listinfection_processrecovery_processhealth_render_process timestep step easili plot result access render rdpi figwidth figheight state health_renderto_datafram health_col croyalbluefirebrickdarkorchid matplot x statesdt state typellwdlti col adjustcolorcol health_col alphaf xlab timeylab count legend x toprightpch rep col health_colsbg transpar legend health_stat cex titl perform output rmarkdownhtml_vignett vignett vignetteindexentryperform vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment r setup echofals libraryindividu r conditional_block evalpkgdownin_pkgdownechof knitrasis_output tabl content toc introductionintro bitsetbitset prefabsprefab c prefabscpp_prefab introduct intro individu design run big individualbas model find model take long consum memori thing tri speed simul bitset bitset bitsethttpsenwikipediaorgwikibit_array data structur use record presenc absenc element finit set individualbitset implement data structur abl preform set oper extrem quickli use bitwis operationshttpsenwikipediaorgwikibitwise_oper take advantag oper lead fast process need find particular subset individu let take look recoveri process vignettetutori crucial oper get infecti individu alreadi schedul recoveri object bitset contain individu current infecti already_schedul anoth bitset contain individu schedul recoveri event use already_schedulednot return new bitset individu set alreadi schedul person pass iand modifi inplac result intersect current infecti person person yet schedul recoveri event precis set peopl want revalfals recovery_process functiont healthget_index_ofi already_schedul recovery_eventget_schedul iandalready_schedulednot rec_tim rgeomn isizeprob pexpq gamma dt recovery_eventscheduletarget idelay rec_tim bitset also effici sampl use bitsetsampl use infect process vignettetutori percapita forc infect probabl move time step calcul bitset sampl probabl modifi inplac number element remain sampl binomi distribut argument rate also specifi vector probabl one element bitset revalfals infection_process functiont healthget_size_ofi foi beta healthget_index_of ssampler pexpq foi dt healthqueue_updatevalu iindex creat new bitset user must specifi maximum size bitset maximum number posit integ bitset store exampl call bitsetnews result object abl store presenc absenc integ inclus attempt insert remov element outsid rang result error bitset offer method preform union bitsetor intersect bitsetand symmetr set differ also known exclus bitsetxor set differ bitsetset_differ bitset method modifi bitset inplac method bitsetnot give complement bitset return new individualbitset object leav origin bitset intact set oper use bitwis oper directli rather expens relat oper comput bitset extrem fast take advantag bitset oper help make process individu much faster seen implement common pattern epidemiolog model sampl success failur bitset individu gener two bitset hold individu sampl one way first method might use individualfilter_bitset revalfals n e bset bitsetnewninsertn prob runifn keep prob stay filter_bitsetbitset bsetoth whichkeep leav filter_bitsetbitset bsetoth whichkeep pattern almost alway slower use sampl method set differ revalfals stay bsetcopi staysampler prob leav bsetcopyset_differencestay instanc origin bitset object bset modifi latter pattern made even faster origin may modifi directli take set differ model larg popul size speed differ substanti bitset store integ finit set return integ vector use bitsetto_vector howev slow expens oper data must copi new vector return r model dynam requir frequent return integ vector individualintegervari object appropri howev discret variabl especi mirror compart mathemat model bitset oper individualcategoricalvari use bitset intern prefer prefab prefab everi time process ask variabl overhead associ move simul data r potenti incur expens copi data mani epidemiolog model similar state transit weve includ sever prefab process event listen implement c provid signific speed improv use box model function return pointer pass process list individualsimulate_loop event listen like closur r process avail individualbernoulli_process move individu one categor variabl state anoth constant probabl individualmulti_probability_bernoulli_process move individu one categor variabl state anoth individu level probabl specifi individualdoublevari object individualfixed_probability_multinomial_process move individu one categor variabl state set possibl destin valu constant probabl leav multinomi distribut choic destin state individualmulti_probability_multinomial_process move individu one categor variabl state set possibl destin valu individu level probabl leav specifi individualdoublevari object multinomi distribut choic destin state individualinfection_age_process simul infect agestructur model individu come contact rate given mix contact matrix prefab event listen render individualupdate_category_listen event listen individualtargetedev object updat categor variabl state fire individualreschedule_listen event listen individualtargetedev object schedul new followup event fire individualcategorical_count_renderer_process use individualrend object count size state categor variabl c prefab cpp_prefab unfortun dont prefab everi situat pleas feel free write one basic step add c process r packag run usethisuse_rcpp set packag c develop add individu linkingto section packag descript packag name mypackag creat header file contain includeindividualh locat cpp evalfals srcmypackage_typesh srcmypackage_typeshpp instincludemypackage_typesh instincludemypackage_typeshpp header file automat includ rcppexportscpp inform see section type gener code rcpp attribut vignettehttpscranrprojectorgpackagercppvignettesrcppattributespdf creat file srcmakecar contain line cxx_std cxx individu use c featur compil packag must let compil know use c standard otherwis abl compil write process process c type process_t defin instincludecommon_typesh type listen individualev individualtargetedev listener_t targeted_listener_t defin instincludeeventh c implement multi_probability_bernoulli_process code note return type rcppxptr see herehttpsdirkeddelbuettelcomcodercpphtmlclassrcpp__xptrhtml process_t implement stdfunction see herehttpwwwcpluspluscomreferencefunctionalfunct object c class hold callabl type rcppxptr initi pointer process_t object hold c lambda functionhttpsencppreferencecomwcpplanguagelambda basic function closur lambda function captur input argument valu take singl argument call give current time step like process function r sampl individu chang state implement c api object rcppevalfals includ individualh includ rcpph rcppexport rcppxptrprocess_t multi_probability_bernoulli_process_cpp rcppxptrcategoricalvari variabl const stdstring const stdstring const rcppxptrdoublevari rate_vari make pointer lambda function return xptr r return rcppxptrprocess_t new process_tvariablerate_variablefromtosize_t sampl leaver uniqu prob individual_index_t leaving_individualsvariableget_index_ofstdvectorstdstringfrom stdvectordoubl rate_vector rate_variableget_valuesleaving_individu bitset_sample_multi_internalleaving_individu rate_vectorbegin rate_vectorend variablequeue_updateto leaving_individu true export function use normal r creat list process revalfals process list multi_probability_bernoulli_process_cppst r prob other_process_ other_process_ that everyth need scale model million individu titl api output rmarkdownhtml_vignett vignett vignetteindexentryapi vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment r setup echofals libraryindividu r conditional_block evalpkgdownin_pkgdownechof knitrasis_output tabl content toc introductionintro variablesvar categor variablescat_var integ variablesint_var doubl variablesdbl_var processesproc renderrend eventsev target eventst_ev simulatesim introduct intro packag defin set use primit structur simul individu base mechanist model special emphasi infecti diseas model structur mean packag let specifi state space model transit rule state chang time simul mean packag defin principl way put state transit togeth updat state time step transit function chang state individu come two form processesproc occur time step eventsev schedul simul updat discret time step unit length vignett provid descript variou primit element provid individu packag model explain work togeth pleas see vignettetutori practic exampl variabl var individu variabl one defin state repres attribut individu mani variabl dynam updat throughout simul dont specifi baselin characterist individu doesnt chang simul still specifi use variabl object type variabl object individualcategoricalvari repres set mutual exclus categori individualintegervari repres integ individualdoublevari continu valu real number categor variabl cat_var epidemiolog model requir use categor variabl defin state exampl suscept infecti recov class classic sir modelhttpsenwikipediaorgwikicompartmental_models_in_epidemiologythe_sir_model gener compartment model set compart describ aspect individu map singl individualcategoricalvari exampl model classifi individu sir state _and_ high low risk group could repres two categor variabl object unlimit number categor variabl object everi individu take singl valu time allow categor state space individu conting tabl margin given valu individualcategoricalvari individualcategoricalvari object intern store state hash tabl categori valu string key contain individualbitset record individu state make oper individualcategoricalvari object chain oper extrem fast therefor prefer variabl type discret variabl howev case discret variabl larg number valu mani valu individu categori use individualintegervari instead integ variabl int_var individualintegervari use discret variabl may either technic unbound whose set possibl valu larg individualcategoricalvari impract individualintegervari object intern store state vector integ length equal number individu simul contrast hash tabl bitset use individualcategoricalvari exampl variabl type might includ household model simul transmiss diseas commun household age group agestructur model doubl variabl dbl_var individualdoublevari use continu variabl repres doubl precis floatingpoint number henc doubl variabl intern store vector doubl length equal number individu simul exampl variabl type might includ level immun respons concentr environment pollut blood process proc individu process function call time step singl argument current time step simul process dynam model specifi implement closureshttpadvrhadconzfunctionalprogramminghtmlclosur function abl access data includ list function argument illustr exampl found provid individualbernoulli_process move individu one valu sourc individualcategoricalvari anoth destin constant probabl dwell time state follow geometr distributionhttpsenwikipediaorgwikigeometric_distribut r evalfals bernoulli_process functionvari rate functiont variablequeue_upd variableget_index_offromsampler test empir dwell time inde follow geometr distribut demonstr use individualintegervari object modifi slightli function take int_vari object class individualintegervari time return function closur call randomli sampl subset individu move destin state record time step individu move individualintegervari run simpl simul loop individu left sourc state compar dwell time sourc state result statsrgeom see distribut use statschisqtest comparison discret distribut r bernoulli_process_tim functionvari int_vari rate functiont to_mov variableget_index_offromsampler int_variablequeue_updatevalu index to_mov variablequeue_updateto to_mov n e state categoricalvariablenewc rep n time integervariablenewinitial_valu rep n proc bernoulli_process_timevari stateint_vari timefrom sto irat stateget_size_of proct stateupd timeupd time timeget_valu chisqtesttim rgeomnprob simulatepvalu use individualintegervari individualdoublevari object modifi probabl individu move state well counter record previou state transit time complex dynam specifi simpl build block sever prefab function provid make function closur correspond state transit process common epidemiolog model render rend time step often want record render certain output simul render output occur time step call process simul loop anoth way could implement time counter previou exampl individu render output handl individualrend class object build record data return basedatafram object plot analysi individualrend object store function closur call time step like process data may record pleas note function closur must also store variabl object whose valu track prefab render process individualcategorical_count_renderer_process take individualrend object first argument individualcategoricalvari object second revalfals categorical_count_renderer_process functionrender variabl categori functiont c categori rendererrenderpastec _count variableget_size_ofc event event technic noth variabl process requir simul complex model individu keep track auxiliari state counter track amount time someth happen eg nongeometr wait time distribut quickli add unnecessari frustrat complex individualev class way model event dont occur everi time step instead schedul fire futur time delay schedul event cancel someth occur first preempt event schedul process event fire event listen call event listen arbitrari function call current time step sole argument listen execut state chang schedul futur event necessarili type listen implement function closur like processesproc event number listen attach call event fire target event t_event unlik individualev object whose listen call singl argument listen individualtargetedev object call two argument pass first current time step second individualbitset object give indi individu affect event store object intern schedul futur updat initi individualtargetedev object requir total popul size argument schedul individualtargetedev user provid vector individualbitset indici individu event schedul addit user provid delay event occur delay either singl valu individu experi event delay vector valu equal number individu schedul allow exampl individu heterogen distribut wait time event much like regular eventsev previous schedul target event cancel requir either individualbitset vector indic individu whose event cancel code defin event typic quit brief although typic anoth process must defin queue recoveri event sir model exampl might look like state individualcategoricalvari r recovery_ev targetedeventnewpopulation_s recovery_eventadd_listenerfunctiontimestep target statequeue_updat target simul sim use combin variablesvar processesproc eventsev highli complex individu base model specifi simul function individualsimulation_loop defin order state updat preform possibl creat conflict differ process exampl singl individu subject death process infect process death infect state chang could schedul individu time step process event creat conflict state updat last updat take preced anoth way make sure conflict exist ensur singl process call state sampl individu updat among possibl updat could happen individu conflict updat schedul individu state r echofals figcapsimul loop flowchart outwidth figaligncent knitrinclude_graphicssim_looppng equival code use simul loop r classsourcebgprimari classoutputbgprimaryevalfals simulation_loop function variabl list event list process list timestep timestep stopend timestep must seq_lentimestep process process execute_any_processprocess event event eventprocess variabl variabl variableupd event event eventtick gener roxygen edit hand pleas edit document rprefabr namemulti_probability_multinomial_process aliasmulti_probability_multinomial_process titleoverdispers multinomi process usag multi_probability_multinomial_process variabl source_st destination_st rate_vari destination_prob argument itemvariablea codelinkcategoricalvari object itemsource_statea string repres sourc state itemdestination_statesa vector string repres destin state itemrate_variablecodelinkdoublevari give individu probabl individu sourc state leav itemdestination_probabilitiesprob vector destin state valu function pass process codelinksimulation_loop descript simul twostag process individu given codesource_st sampl whether leav individu probabl specifi codelinkdoublevari object coderate_vari leav go one codedestination_st probabl contain vector codedestination_prob gener roxygen edit hand pleas edit document rprefabr namereschedule_listen aliasreschedule_listen titlereschedul listen usag reschedule_listenerev delay argument itemeventa codelinkindividualtargetedev itemdelayth delay followup event descript schedul followup event result event fire gener roxygen edit hand pleas edit document rinteger_variabl nameintegervari aliasintegervari titleintegervari class descript repres integ valu variabl individu class similar codelinkindividualcategoricalvari use variabl unbound rang situat part individu state better repres integ household age bin sectionmethod subsectionpubl method item item hrefmethodnewcodeintegervariablenew item hrefmethodget_valuescodeintegervariableget_valu item hrefmethodget_index_ofcodeintegervariableget_index_of item hrefmethodget_size_ofcodeintegervariableget_size_of item hrefmethodqueue_updatecodeintegervariablequeue_upd item hrefmethodupdatecodeintegervariableupd item hrefmethodclonecodeintegervariableclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new integervari subsectionusag ifhtmloutdiv classrpreformattedintegervariablenewinitial_valuesifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeinitial_valuesa vector initi valu individu ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodget_valuesa iflatexouthypertargetmethodget_valu subsectionmethod codeget_valu get variabl valu subsectionusag ifhtmloutdiv classrpreformattedintegervariableget_valuesindex nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeindexopt return subset variabl vector codenul return valu pass codelinkindividualbitset integ vector return valu individu ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodget_index_ofa iflatexouthypertargetmethodget_index_of subsectionmethod codeget_index_of return codelinkindividualbitset individu subset valu either search indic correspond valu codeset indic correspond valu rang eqnab either codeset codea codeb must provid argument subsectionusag ifhtmloutdiv classrpreformattedintegervariableget_index_ofset null null b nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeseta vector valu provid codeset mean codeab ignor itemcodealow bound itemcodebupp bound ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodget_size_ofa iflatexouthypertargetmethodget_size_of subsectionmethod codeget_size_of return number individu subset valu either search indic correspond valu codeset indic correspond valu rang eqnab either codeset codea codeb must provid argument subsectionusag ifhtmloutdiv classrpreformattedintegervariableget_size_ofset null null b nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeseta vector valu provid codeset mean codeab ignor itemcodealow bound itemcodebupp bound ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodqueue_updatea iflatexouthypertargetmethodqueue_upd subsectionmethod codequeue_upd queue updat variabl type variabl updat enumer itemsubset updat argument codeindex repres subset variabl updat argument codevalu vector whose length match size codeindex repres new valu subset itemsubset fill argument codeindex repres subset variabl updat argument codevalu singl number fill specifi subset itemvari reset index vector set codenul argument codevalu replac current valu simul codevalu vector whose length match size popul fill variabl valu popul itemvari fill index vector set codenul argument codevalu singl number fill variabl valu popul subsectionusag ifhtmloutdiv classrpreformattedintegervariablequeue_updatevalu index nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodevaluesa vector scalar valu assign index itemcodeindexi index appli chang use codenul fill option use indic may either vector integ codelinkindividualbitset ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodupdatea iflatexouthypertargetmethodupd subsectionmethod codeupd subsectionusag ifhtmloutdiv classrpreformattedintegervariableupdateifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedintegervariableclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rprefabr namemulti_probability_bernoulli_process aliasmulti_probability_bernoulli_process titleoverdispers bernoulli process usag multi_probability_bernoulli_processvari rate_vari argument itemvariablea codelinkcategoricalvari object itemfroma string repres sourc state itemtoa string repres destin state itemrate_variablecodelinkdoublevari give individu probabl individu sourc state leav valu function pass process codelinksimulation_loop descript simul bernoulli process individu given sourc state codefrom sampl whether transit destin state codeto individu probabl specifi codelinkdoublevari object coderate_vari gener roxygen edit hand pleas edit document rprefabr nameupdate_category_listen aliasupdate_category_listen titleupd categori listen usag update_category_listenervari argument itemvariablea codelinkindividualcategoricalvari object itemtoa string repres destin categori descript updat categori subpopul result event fire use codelinkindividualtargetedev class gener roxygen edit hand pleas edit document rprefabr namebernoulli_process aliasbernoulli_process titlebernoulli process usag bernoulli_processvari rate argument itemvariablea categor variabl itemfroma string repres sourc categori itemtoa string repres destin categori itemrateth probabl move individu categori valu function pass process codelinksimulation_loop descript simul process individu given codefrom state advanc codeto state time step probabl coder gener roxygen edit hand pleas edit document rprefabr namecategorical_count_renderer_process aliascategorical_count_renderer_process titlerend categori usag categorical_count_renderer_processrender variabl categori argument itemrenderera codelinkindividualrend object itemvariablea codelinkindividualcategoricalvari object itemcategoriesa charact vector categori render valu function pass process codelinksimulation_loop descript render number individu categori gener roxygen edit hand pleas edit document reventr nameev aliasev titleev class descript describ gener event simul sectionmethod subsectionpubl method item item hrefmethodnewcodeeventnew item hrefmethodadd_listenercodeeventadd_listen item hrefmethodschedulecodeeventschedul item hrefmethodclear_schedulecodeeventclear_schedul item hrefmethodtickcodeeventtick item hrefmethodprocesscodeeventprocess item hrefmethodprocess_listenercodeeventprocess_listen item hrefmethodprocess_listener_cppcodeeventprocess_listener_cpp item hrefmethodclonecodeeventclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew initialis event subsectionusag ifhtmloutdiv classrpreformattedeventnewifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodadd_listenera iflatexouthypertargetmethodadd_listen subsectionmethod codeadd_listen add event listen subsectionusag ifhtmloutdiv classrpreformattedeventadd_listenerlistenerifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodelistenerth function execut event take singl argument give time step event trigger ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodschedulea iflatexouthypertargetmethodschedul subsectionmethod codeschedul schedul event occur futur subsectionusag ifhtmloutdiv classrpreformattedeventscheduledelayifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedelayth number time step wait trigger event scalar vector valu event trigger multipl time ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodclear_schedulea iflatexouthypertargetmethodclear_schedul subsectionmethod codeclear_schedul stop futur event trigger subsectionusag ifhtmloutdiv classrpreformattedeventclear_scheduleifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodticka iflatexouthypertargetmethodtick subsectionmethod codetick subsectionusag ifhtmloutdiv classrpreformattedeventtickifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodprocessa iflatexouthypertargetmethodprocess subsectionmethod codeprocess subsectionusag ifhtmloutdiv classrpreformattedeventprocessifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodprocess_listenera iflatexouthypertargetmethodprocess_listen subsectionmethod codeprocess_listen subsectionusag ifhtmloutdiv classrpreformattedeventprocess_listenerlistenerifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodprocess_listener_cppa iflatexouthypertargetmethodprocess_listener_cpp subsectionmethod codeprocess_listener_cpp subsectionusag ifhtmloutdiv classrpreformattedeventprocess_listener_cpplistenerifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedeventclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rprefabr nameinfection_age_process aliasinfection_age_process titleinfect process agestructur model usag infection_age_process state suscept expos infecti age age_bin p dt mix argument itemstatea codelinkcategoricalvari object itemsusceptiblea string repres suscept state usual itemexposeda string repres state new infect go usual e iteminfectiousa string repres infect infecti state usual itemagea codelinkintegervari give age individu itemage_binsth total number age bin group itempth probabl infect given contact itemdtth size time step unit rel contact rate codemix itemmixinga mix contact matrix age group valu function pass process codelinksimulation_loop descript simul infect agestructur model individu contact rate given mix contact matrix forc infect suscept given age class comput deqnlambda_i p sumlimits_j c_ij left fraci_jn_j right eqnc matrix contact rate eqnp probabl infect per contact percapita probabl infect suscept individu deqn elambda_i delta gener roxygen edit hand pleas edit document rbitsetr namebitset aliasbitset titlea bitset class descript data structur compactli store presenc integ finit set codemax_s effici perform set oper union intersect complement symmetr differ set differ warn oper inplac pleas use codecopi would like perform oper without destroy current bitset sectionpubl field ifhtmloutdiv classrfield describ itemcodebitseta pointer underli iterablebitset itemcodemax_sizeth maximum size bitset ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodebitsetnew item hrefmethodinsertcodebitsetinsert item hrefmethodremovecodebitsetremov item hrefmethodclearcodebitsetclear item hrefmethodsizecodebitsets item hrefmethodorcodebitsetor item hrefmethodandcodebitsetand item hrefmethodnotcodebitsetnot item hrefmethodxorcodebitsetxor item hrefmethodset_differencecodebitsetset_differ item hrefmethodsamplecodebitsetsampl item hrefmethodchoosecodebitsetchoos item hrefmethodcopycodebitsetcopi item hrefmethodto_vectorcodebitsetto_vector item hrefmethodclonecodebitsetclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat bitset subsectionusag ifhtmloutdiv classrpreformattedbitsetnews nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodesizeth size bitset itemcodefrompoint exist iterablebitset use codenul make empti bitset otherwis copi exist bitset ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodinserta iflatexouthypertargetmethodinsert subsectionmethod codeinsert insert bitset subsectionusag ifhtmloutdiv classrpreformattedbitsetinsertvifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodevan integ vector element insert ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodremovea iflatexouthypertargetmethodremov subsectionmethod coderemov remov bitset subsectionusag ifhtmloutdiv classrpreformattedbitsetremovevifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodevan integ vector element indic remov ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodcleara iflatexouthypertargetmethodclear subsectionmethod codeclear clear bitset subsectionusag ifhtmloutdiv classrpreformattedbitsetclearvifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodsizea iflatexouthypertargetmethods subsectionmethod codes get number element set subsectionusag ifhtmloutdiv classrpreformattedbitsetsizeifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodora iflatexouthypertargetmethodor subsectionmethod codeor bitwis union two bitset subsectionusag ifhtmloutdiv classrpreformattedbitsetorotherifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeotherth bitset ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodanda iflatexouthypertargetmethodand subsectionmethod codeand bitwis intersect two bitset subsectionusag ifhtmloutdiv classrpreformattedbitsetandotherifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeotherth bitset ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodnota iflatexouthypertargetmethodnot subsectionmethod codenot bitwis complement bitset subsectionusag ifhtmloutdiv classrpreformattedbitsetnotinplaceifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeinplacewheth overwrit current bitset ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodxora iflatexouthypertargetmethodxor subsectionmethod codexor bitwis xor get symmetr differ two bitset keep element either bitset intersect subsectionusag ifhtmloutdiv classrpreformattedbitsetxorotherifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeotherth bitset ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodset_differencea iflatexouthypertargetmethodset_differ subsectionmethod codeset_differ take set differ bitset anoth keep element bitset codeoth subsectionusag ifhtmloutdiv classrpreformattedbitsetset_differenceotherifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeotherth bitset ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodsamplea iflatexouthypertargetmethodsampl subsectionmethod codesampl sampl bitset subsectionusag ifhtmloutdiv classrpreformattedbitsetsamplerateifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderateth success probabl keep element singl valu element vector uniqu probabl keep element ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodchoosea iflatexouthypertargetmethodchoos subsectionmethod codechoos choos k random item bitset subsectionusag ifhtmloutdiv classrpreformattedbitsetchoosekifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodekth number item bitset keep select k item n total item bitset random k chosen eqn le k le n ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodcopya iflatexouthypertargetmethodcopi subsectionmethod codecopi return copi bitset subsectionusag ifhtmloutdiv classrpreformattedbitsetcopyifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodto_vectora iflatexouthypertargetmethodto_vector subsectionmethod codeto_vector return integ vector element store bitset subsectionusag ifhtmloutdiv classrpreformattedbitsetto_vectorifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedbitsetclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rcategorical_variabl namecategoricalvari aliascategoricalvari titlecategoricalvari class descript repres categor variabl individu class use discret variabl take valu finit set infect health behavior state use prefer codelinkindividualintegervari possibl certain oper faster sectionmethod subsectionpubl method item item hrefmethodnewcodecategoricalvariablenew item hrefmethodget_index_ofcodecategoricalvariableget_index_of item hrefmethodget_size_ofcodecategoricalvariableget_size_of item hrefmethodget_categoriescodecategoricalvariableget_categori item hrefmethodqueue_updatecodecategoricalvariablequeue_upd item hrefmethodupdatecodecategoricalvariableupd item hrefmethodclonecodecategoricalvariableclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new categoricalvari subsectionusag ifhtmloutdiv classrpreformattedcategoricalvariablenewcategori initial_valuesifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodecategoriesa charact vector possibl valu itemcodeinitial_valuesa charact vector initi valu individu ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodget_index_ofa iflatexouthypertargetmethodget_index_of subsectionmethod codeget_index_of return codelinkindividualbitset individu given codevalu subsectionusag ifhtmloutdiv classrpreformattedcategoricalvariableget_index_ofvaluesifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodevaluesth valu filter ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodget_size_ofa iflatexouthypertargetmethodget_size_of subsectionmethod codeget_size_of return number individu given codevalu subsectionusag ifhtmloutdiv classrpreformattedcategoricalvariableget_size_ofvaluesifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodevaluesth valu filter ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodget_categoriesa iflatexouthypertargetmethodget_categori subsectionmethod codeget_categori return charact vector possibl valu note order return vector may order given variabl intiti due underli unord storag type subsectionusag ifhtmloutdiv classrpreformattedcategoricalvariableget_categoriesifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodqueue_updatea iflatexouthypertargetmethodqueue_upd subsectionmethod codequeue_upd queue updat variabl subsectionusag ifhtmloutdiv classrpreformattedcategoricalvariablequeue_updatevalu indexifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodevalueth new valu itemcodeindexth indic individu whose valu updat one specifi codevalu may either vector integ codelinkindividualbitset ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodupdatea iflatexouthypertargetmethodupd subsectionmethod codeupd subsectionusag ifhtmloutdiv classrpreformattedcategoricalvariableupdateifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedcategoricalvariableclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rtargeted_eventr nametargetedev aliastargetedev titletargetedev class descript describ target event simul use event trigger subpopul sectionsup class codelinkindividualeventindividualev codetargetedev sectionmethod subsectionpubl method item item hrefmethodnewcodetargetedeventnew item hrefmethodschedulecodetargetedeventschedul item hrefmethodget_scheduledcodetargetedeventget_schedul item hrefmethodclear_schedulecodetargetedeventclear_schedul item hrefmethodprocess_listenercodetargetedeventprocess_listen item hrefmethodprocess_listener_cppcodetargetedeventprocess_listener_cpp item hrefmethodclonecodetargetedeventclon ifhtml outdetail open summaryinherit methodssummari item item outspan classpkglink datapkgindividu datatopicev dataidprocesshrefindividualhtmleventhtmlmethodprocesscodeindividualeventprocessoutspan item outspan classpkglink datapkgindividu datatopicev dataidtickhrefindividualhtmleventhtmlmethodtickcodeindividualeventtickoutspan item outspan classpkglink datapkgindividu datatopicev dataidadd_listenerhrefindividualhtmleventhtmlmethodadd_listenercodeindividualeventadd_listeneroutspan outdetail ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew initialis targetedev subsectionusag ifhtmloutdiv classrpreformattedtargetedeventnewpopulation_sizeifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodepopulation_sizeth size popul ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodschedulea iflatexouthypertargetmethodschedul subsectionmethod codeschedul schedul event occur futur subsectionusag ifhtmloutdiv classrpreformattedtargetedeventscheduletarget delayifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodetargetth individu pass listen may either vector integ codelinkindividualbitset itemcodedelayth number time step wait trigger event scalar case target individu schedul delay vector valu give delay individu ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodget_scheduleda iflatexouthypertargetmethodget_schedul subsectionmethod codeget_schedul get individu schedul codelinkindividualbitset subsectionusag ifhtmloutdiv classrpreformattedtargetedeventget_scheduledifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodclear_schedulea iflatexouthypertargetmethodclear_schedul subsectionmethod codeclear_schedul stop futur event trigger subset individu subsectionusag ifhtmloutdiv classrpreformattedtargetedeventclear_scheduletargetifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodetargetth individu clear may either vector integ codelinkindividualbitset ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodprocess_listenera iflatexouthypertargetmethodprocess_listen subsectionmethod codeprocess_listen subsectionusag ifhtmloutdiv classrpreformattedtargetedeventprocess_listenerlistenerifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodprocess_listener_cppa iflatexouthypertargetmethodprocess_listener_cpp subsectionmethod codeprocess_listener_cpp subsectionusag ifhtmloutdiv classrpreformattedtargetedeventprocess_listener_cpplistenerifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedtargetedeventclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rprefabr namefixed_probability_multinomial_process aliasfixed_probability_multinomial_process titlemultinomi process usag fixed_probability_multinomial_process variabl source_st destination_st rate destination_prob argument itemvariablea codelinkcategoricalvari object itemsource_statea string repres sourc state itemdestination_statesa vector string repres destin state itemrateprob individu sourc state leav itemdestination_probabilitiesprob vector destin state valu function pass process codelinksimulation_loop descript simul twostag process individu given codesource_st sampl whether leav probabl coder leav go one codedestination_st probabl contain vector codedestination_prob gener roxygen edit hand pleas edit document rbitsetr namefilter_bitset aliasfilter_bitset titlefilt bitset usag filter_bitsetbitset argument itembitsetth codelinkbitset filter itemotherth valu keep may vector interg anoth codelinkbitset descript nonmodifi function return new codelinkbitset object maximum size origin contain valu indic specifi argument codeoth indic codeoth may specifi either vector integ anoth bitset pleas note filter anoth bitset bitwis intersect behavior provid equival vector integ indic gener roxygen edit hand pleas edit document rsimulationr namesimulation_loop aliassimulation_loop titlea premad simul loop usag simulation_loop variabl list event list process list timestep argument itemvariablesa list variabl itemeventsa list event itemprocessesa list process execut timestep itemtimestepsth number timestep simul descript run simul event listen take preced process state chang exampl popul timestep state categoricalvariablenewc r rep popul render rendernewtimestep transit functionfrom rate returnfunctiont from_stat stateget_index_offrom statequeue_upd from_statesampler process list transit transitioni r transitionr categorical_count_renderer_processrender state cs r simulation_loopvariableslistst processesprocess timestepstimestep rendererto_datafram gener roxygen edit hand pleas edit document rrenderr namerend aliasrend titlerend descript class render output simul sectionmethod subsectionpubl method item item hrefmethodnewcoderendernew item hrefmethodset_defaultcoderenderset_default item hrefmethodrendercoderenderrend item hrefmethodto_dataframecoderenderto_datafram item hrefmethodclonecoderenderclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew initialis render simul creat default state render subsectionusag ifhtmloutdiv classrpreformattedrendernewtimestepsifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodetimestepsnumb timestep simul ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodset_defaulta iflatexouthypertargetmethodset_default subsectionmethod codeset_default set default valu render output render subsectionusag ifhtmloutdiv classrpreformattedrenderset_defaultnam valueifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodenameth variabl set default itemcodevalueth default valu set variabl ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodrendera iflatexouthypertargetmethodrend subsectionmethod coderend updat render new simul data subsectionusag ifhtmloutdiv classrpreformattedrenderrendernam valu timestepifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodenameth variabl render itemcodevalueth valu store variabl itemcodetimestepth timestep data point ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodto_dataframea iflatexouthypertargetmethodto_datafram subsectionmethod codeto_datafram return render codelinkbasedatafram subsectionusag ifhtmloutdiv classrpreformattedrenderto_dataframeifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedrenderclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rdouble_variabl namedoublevari aliasdoublevari titledoublevari class descript repres continu variabl individu sectionmethod subsectionpubl method item item hrefmethodnewcodedoublevariablenew item hrefmethodget_valuescodedoublevariableget_valu item hrefmethodget_index_ofcodedoublevariableget_index_of item hrefmethodget_size_ofcodedoublevariableget_size_of item hrefmethodqueue_updatecodedoublevariablequeue_upd item hrefmethodupdatecodedoublevariableupd item hrefmethodclonecodedoublevariableclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new doublevari subsectionusag ifhtmloutdiv classrpreformatteddoublevariablenewinitial_valuesifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeinitial_valuesa numer vector initi valu individu ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodget_valuesa iflatexouthypertargetmethodget_valu subsectionmethod codeget_valu get variabl valu subsectionusag ifhtmloutdiv classrpreformatteddoublevariableget_valuesindex nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeindexopt return subset variabl vector codenul return valu pass codelinkindividualbitset integ vector return valu individu ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodget_index_ofa iflatexouthypertargetmethodget_index_of subsectionmethod codeget_index_of return codelinkindividualbitset give individu whose valu lie interv eqnab subsectionusag ifhtmloutdiv classrpreformatteddoublevariableget_index_ofa bifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodealow bound itemcodebupp bound ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodget_size_ofa iflatexouthypertargetmethodget_size_of subsectionmethod codeget_size_of return number individu whose valu lie interv count individu whose valu lie interv eqnab subsectionusag ifhtmloutdiv classrpreformatteddoublevariableget_size_ofa bifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodealow bound itemcodebupp bound ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodqueue_updatea iflatexouthypertargetmethodqueue_upd subsectionmethod codequeue_upd queue updat variabl type variabl updat enumer itemsubset updat argument codeindex repres subset variabl updat argument codevalu vector whose length match size codeindex repres new valu subset itemsubset fill argument codeindex repres subset variabl updat argument codevalu singl number fill specifi subset itemvari reset index vector set codenul argument codevalu replac current valu simul codevalu vector whose length match size popul fill variabl valu popul itemvari fill index vector set codenul argument codevalu singl number fill variabl valu popul subsectionusag ifhtmloutdiv classrpreformatteddoublevariablequeue_updatevalu index nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodevaluesa vector scalar valu assign index itemcodeindexi index appli chang use codenul fill option use indic may either vector integ codelinkindividualbitset ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodupdatea iflatexouthypertargetmethodupd subsectionmethod codeupd subsectionusag ifhtmloutdiv classrpreformatteddoublevariableupdateifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformatteddoublevariableclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv