readmemd gener readmermd pleas edit file pupillometryr badg start cran statushttpswwwrpkgorgbadgesversionpupillometryrhttpscranrprojectorgpackagepupillometryr travi build statushttpsapptraviscicomsamhforbespupillometryrsvgbranchmasterhttpsapptraviscicomsamhforbespupillometryr doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss badg end goal pupillometryr preprocess analyz simpl pupil experi r instal instal releas version pupillometryr cranhttpscranrprojectorg r installpackagespupillometryr develop version githubhttpsgithubcom r installpackagesdevtool devtoolsinstall_githubsamhforbespupillometryr setup packag exampl dataset design part base sylvain siroi matlab tutori found herehttpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottinhttpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottin intent integr pipelin pupillometr experi data clean preprocess variou analysi techniqu visualis result use function plot follow pupillometryr pipelin pleas start make_pupillometryr_data eg r librarypupillometryr load requir packag dplyr attach packag dplyr follow object mask packagestat filter lag follow object mask packagebas intersect setdiff setequ union load requir packag ggplot load requir packag rlang datapupil_data check id numer pupil_dataid ascharacterpupil_dataid remov particip number problemat data pupil_data subsetpupil_data id blink regist replac na pupil_datalpupilpupil_datalpupil na pupil_datarpupilpupil_datarpupil na sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type function associ packag follow exampl r plotsdata pupil lpupil group condit warn remov row contain nonfinit valu stat_summari img srcmanfiguresreadmeunnamedchunkpng width follow detail walkthrough run r vignettepupillometryr head samforbesmepupillometryrhttpsamforbesmepupillometryr get help pleas use issu tab httpsgithubcomsamhforbespupillometryrissu file bug suggest gener pupillometri inform recommend sylvain websitehttpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottinhttpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottin well jackson siroi httpsdoiorgjx read use gam pupillometri paper van rij et al excellenthttpsjournalssagepubcomdoi gener gam knowledg recommend tutori michael clarkhttpsmclarkgithubiogeneralizedadditivemodelscase_for_gamhtml well mgcv document gener fda inform websit helpfulhttpswwwpsychmcgillcamiscfdaresourceshtml along ramsay silverman book addit check raincloud plot paper allen et alhttpswellcomeopenresearchorgarticlestextinessencecraincloudplotscombineerrorcsuchasaboxplot use inbuilt plot packag citat pleas cite joss paper packag use forb pupillometryr r packag prepar analys pupillometri data journal open sourc softwar httpsdoiorgjoss acknowledg packag suggest encourag help number peopl wish especi highlight sylvain siroi mihaela duta whose input instrument id also like thank jacolien van rij input gam model portion tutori tj mahr contribut extend use gam vignett refer jackson siroi infant cognit go full factori pupil dilat development scienc httpsdoiorgjx allen poggiali whitak k marshal r kievit r raincloud plot multiplatform tool robust data visual wellcom open research httpsdoiorgwellcomeopenr ramsay jo silverman bw function data analysi new york springerverlag van rij j hendrik p van rijn h baayen r h wood n analyz time cours pupillometr data trend hear httpsdoiorg news updat sept pupillometryr updat remov warn new version dplyr robust miss data singl eye updat june pupillometryr document move vignett depend packag spectral remov due problem cran updat may pupillometryr minor patch avoid break new version dplyr warn error remov ggplot plot titl pupillometryr r packag prepar analys pupillometri data tag r pupillometri eyetrack author name samuel h forb orcid affili multipl affili must quot affili name school psycholog univers east anglia index date april updat bibliographi paperbib summari studi pupil dilat pupillometri undergon consider reviv recent year earli research note substant chang pupil dilat due mental effort hess kahneman kahneman method seen surg usag follow rise popular automat eyetrack technolog coupl search robust method psycholog scienc vanderwel winn pupillometri measur use autom eyetrack technolog thu provid methodolog cheaper neuroimag techniqu power mani behaviour measur overal look time measur common eyetrack experi despit consider advantag compar paradigm detail actual method pipelin involv pupillometri topic much debat mathot vanrij methodolog differ mostli attribut two caus first natur pupillometr studi requir care design procedur pupil dilat highli sensit lumin also properti experi includ gaze posit due stimuli locat gagl well stimulispecif consider bright locat screen participantspecif consider stress level memori load way natur pupillometr studi demand care plan design thought consider detail method second caus variabl method pupillometr studi stem analyt decis made process data due mani research follow either close inhous analyt pipelin opensourc pipelin requir costli softwar particular equip point analysi lack consensu analyt decis made process decis includ filter clean data jackson decis made baselin data mathot whether take timecours aggreg pupil size forward variabl vanrij thu pupillometryr aim assist experiment provid clear pipelin free opensourc avail usag common brand eyetrack implement exampl raincloud plot pupil data pupillometryrraincloudpdf pupillometryr extend suggest pipelin implement pupillometr studi jackson make heavi use signal packag signal preprocess pupil data inbuilt plot function design eas use reli ggplot wickham data visualis includ raincloud plot allen inbuilt data visualis option analysi sever option given includ use generalis addit model use mgcv packag wood function data analysi use function fda packag ramsay exampl function ttest pupillometryrfdapdf comprehens pupillometri pipelin exist alreadi matlab hershman siroispupillometrywalkthrough r geller merit none offer starttofinish comprehens pipelin opensourc languag compat brand eyetrack includ inbuilt plot function flexibl analysi style time window fda gam offer pupillometryr addit pupillometryr avail cran make easi download r user subject regular cran check acknowledg packag benefit greatli discuss past work made avail sylvain siroi advic mihaela duta jacolien van rij also grate david robinson assist implement raincloud plot packag micah allen raincloud plot team make raincloud plot techniqu avail refer output github_docu readmemd gener readmermd pleas edit file r includ fals knitropts_chunkset collaps true comment figpath manfiguresreadm outwidth pupillometryr badg start cran statushttpswwwrpkgorgbadgesversionpupillometryrhttpscranrprojectorgpackagepupillometryr travi build statushttpsapptraviscicomsamhforbespupillometryrsvgbranchmasterhttpsapptraviscicomsamhforbespupillometryr doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss badg end goal pupillometryr preprocess analyz simpl pupil experi r instal instal releas version pupillometryr cranhttpscranrprojectorg r installpackagespupillometryr develop version githubhttpsgithubcom r installpackagesdevtool devtoolsinstall_githubsamhforbespupillometryr setup packag exampl dataset design part base sylvain siroi matlab tutori found herehttpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottinhttpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottin intent integr pipelin pupillometr experi data clean preprocess variou analysi techniqu visualis result use function plot follow pupillometryr pipelin pleas start make_pupillometryr_data eg r exampl librarypupillometryr datapupil_data check id numer pupil_dataid ascharacterpupil_dataid remov particip number problemat data pupil_data subsetpupil_data id blink regist replac na pupil_datalpupilpupil_datalpupil na pupil_datarpupilpupil_datarpupil na sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type function associ packag follow exampl r plotsdata pupil lpupil group condit follow detail walkthrough run r eval f vignettepupillometryr head samforbesmepupillometryrhttpsamforbesmepupillometryr get help pleas use issu tab httpsgithubcomsamhforbespupillometryrissu file bug suggest gener pupillometri inform recommend sylvain websitehttpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottinhttpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottin well jackson siroi httpsdoiorgjx read use gam pupillometri paper van rij et al excellenthttpsjournalssagepubcomdoi gener gam knowledg recommend tutori michael clarkhttpsmclarkgithubiogeneralizedadditivemodelscase_for_gamhtml well mgcv document gener fda inform websit helpfulhttpswwwpsychmcgillcamiscfdaresourceshtml along ramsay silverman book addit check raincloud plot paper allen et alhttpswellcomeopenresearchorgarticlestextinessencecraincloudplotscombineerrorcsuchasaboxplot use inbuilt plot packag citat pleas cite joss paper packag use forb pupillometryr r packag prepar analys pupillometri data journal open sourc softwar httpsdoiorgjoss acknowledg packag suggest encourag help number peopl wish especi highlight sylvain siroi mihaela duta whose input instrument id also like thank jacolien van rij input gam model portion tutori tj mahr contribut extend use gam vignett refer jackson siroi infant cognit go full factori pupil dilat development scienc httpsdoiorgjx allen poggiali whitak k marshal r kievit r raincloud plot multiplatform tool robust data visual wellcom open research httpsdoiorgwellcomeopenr ramsay jo silverman bw function data analysi new york springerverlag van rij j hendrik p van rijn h baayen r h wood n analyz time cours pupillometr data trend hear httpsdoiorg titl pupillometryr output rmarkdownhtml_vignett vignett vignetteindexentrypupillometryr vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment r setup librarypupillometryr packag design make deal pupil data perhap tradit done matlab easier wrangl r make heavi use packag acknowledg especi excel packag fda signal well packag import note type analysi shown avail matlab excel tutori thoroughli recommend read first written sylvain siroi herehttpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottinhttpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottin worth make sure setup experi facilit use pupillometri may suit kind experi get start first run exampl analysi data provid packag come sylvain siroi tutori webpagehttpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottinhttpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottin first thing would recommend close look pupil data eyetrack coupl differ way deal import know thing unit measur use valu given miss data blink typic na framer record consist data eyetrack experi hard easi trial perform particip particip need remov detail sylvain tutori import make sure miss data get set na numer valu delet r datapupil_data check id numer pupil_dataid ascharacterpupil_dataid remov particip number problemat data pupil_data subsetpupil_data id blink regist replac na pupil_datalpupilpupil_datalpupil na pupil_datarpupilpupil_datarpupil na plot also theme tutori set nice theme make plot look pretti r libraryggplot theme_settheme_classicbase_s first need put data pupillometryr format analysi r sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type current data concern may situat certain timebin miss data fix look raw data r new_data replace_missing_datadata sdata headnew_data equal data cut time window interest subset_data function allow trim pupillometryr builtin plot function allow look certain data type simpli need specifi pupil column display would like data display group plot ggplot item edit theme argument ylab display first condit subject r plotnew_data pupil lpupil group condit plotnew_data pupil lpupil group subject smooth cleanup pupillometryr offer smooth option make process data littl easier well full set great refer sylvain tutori also jackson siroi dev sci first regress one pupil get measur smooth r regressed_data regress_datadata new_data pupil rpupil pupil lpupil done want mean two pupil size let see look r mean_data calculate_mean_pupil_sizedata regressed_data pupil rpupil pupil lpupil plotmean_data pupil mean_pupil group subject singl pupil measur work manipul data littl easili first thing downsampl data use larg scale data sampl realli high rate need reduc measur meaning chang taken median mean could also taken need specifi timebin size ms r mean_data downsample_time_datadata mean_data pupil mean_pupil timebin_s option median need clean data let first assess much miss data r miss calculate_missing_datamean_data mean_pupil headmiss see view whole file particip fair amount trial high miss data proport need clean two paramet first proport data accept miss one trial remov analysi second proport trial accept miss remov particip unreli exampl remov trial data miss remov particip trial remov r messag mean_data clean_missing_datamean_data pupil mean_pupil trial_threshold subject_trial_threshold come filter data pupillometryr offer filter type han window lowpass butterworth filter median filter lowpass filter littl unstabl begin end trial worth look data see appropri use median filter degre give size roll window r filtered_data filter_datadata mean_data pupil mean_pupil filter median degre plotfiltered_data pupil mean_pupil group subject next step interpol across blink filter interpol gener allow sensibl interpol way done vari bit data see exampl without interpol packag either linear cubic best alway check data afterward make sure look way might expect opt linear interpol r int_data interpolate_datadata filtered_data pupil mean_pupil type linear plotint_data pupil mean_pupil group subject baselin data power way make sure control betweenparticip varianc averag pupil size look analys larg withinsubject may issu anyway function allow us baselin mean pupil size within time window take first ms trial baselin period outsid analysi window often use subset_data remov baselin r base_data baseline_datadata int_data pupil mean_pupil start stop plotbase_data pupil mean_pupil group subject window analys pupillometryr give us coupl option window analysi one overal averag break data discret time window analys first opt overal averag plot boxplot violin plot sinc new edit micah allenesqu raincloud plot allen et al r window create_window_datadata base_data pupil mean_pupil plotwindow pupil mean_pupil window f geom boxplot headwindow could simpli analys ttest wish r ttestmean_pupil type pair data window altern may wish look data chunk group data ms timebin analysi opt raincloud plot instanc r timeslot create_time_windowsdata base_data pupil mean_pupil break c plottimeslot pupil mean_pupil window geom raincloud headtimeslot could analys linear model anova r lmmean_pupil window type data timeslot model generalis addit model interfact mgcv packag except power packag gam data simon wood strongli encourag read vignett check great onlin tutori plenti quit like michael clark one herehttpsmclarkgithubiogeneralizedadditivemodelscase_for_gamhtml proceed littl bit set variabl scale center continu need make variabl numer one n end use way trial label make numer variabl would probabl differ data r librarymgcv base_dataidn asnumericbase_dataid base_datatypen ifelsebase_datatyp easi base_datatrialn asnumericsubstrbase_datatri base_datatrialn ifelsebase_datatypen base_datatrialn base_datatrialn base_dataid asfactorbase_dataid base_datatri asfactorbase_datatri right let proceed set simpl model recommend amount data point might pupillometryr bam might better option gam bam work r bammean_pupil stime stime typen data base_data famili gaussian summarym use default plot function see look compar raw data specifi model argument r plotbase_data pupil mean_pupil group condit model cours fact expect variat trial expect differ particip model also account small amount varianc model therefor good way check assess model fit qqnorm check autocorrel help itsadug packag r qqnormresidm itsadugacf_residm qqnorm look almost passabl autocorrel second plot high import consider timeseri data due consider need given full discuss issu affect time cours data specif pupil data highli recommend jacolien van rij et al paper herehttpsjournalssagepubcomdoi reduc autocorrel mani method tri see paper stop short repeat step taken excel paper jump straight away much appropri model data first code event particip per trial also creat second data frame model_data data work doesnt lose properti keep use plot function r base_dataev interactionbase_dataid base_datatri drop model_data base_data model_data itsadugstart_eventmodel_data column time event event model_data droplevelsmodel_dataordermodel_dataid model_datatri model_datatim need model set ar paramet allow event vari time see devianc account around much better qqnorm still far perfect commentedout model would bit better van rij et al use scale distribut would take age run r bammean_pupil typen stime typen stime event bs fs data base_data famili gaussian discret arstart model_datastartev rho bammean_pupil stime typen stime event bs fs data base_data famili scat discret arstart model_datastartev rho summarym qqnormresidm itsadugacf_residm plotbase_data pupil mean_pupil group condit model summari second model indic may margin evid effect condit diverg fact tj mahr good enough point eleg solut use gam method itsadug packag link tohttpsgistgithubcomtjmahrdbeaabfca rather take credit estim diverg function data analysi analys may well suffic plan howev sometim use analysi examin chang time especi two condit diverg function data analysi fda part packag make usag fda packag complet guid realli written ramsay silverman help websit fda herehttpswwwpsychmcgillcamiscfdaresourceshtml packag current setup use analysi twocondit experi hope add option function anova futur first want get differ two condit particip default packag wil take condit condit reorder factor requir r differ create_difference_datadata base_data pupil mean_pupil plotdiffer pupil mean_pupil geom line convert function data structur made curv data go make cubic order knot basi appropri number depend dataset strongli advis consult ramsay silverman book fda websit well sylvain paper mention interfac fda packag r spline_data create_functional_datadata differ pupil mean_pupil basi order plotspline_data pupil mean_pupil geom line colour blue look like done pretti good job captur data advantag kind analysi treat curv function run singl function ttest work window diverg packag allow us directli observ result r ft_data run_functional_t_testdata spline_data pupil mean_pupil alpha plotft_data show_diverg colour red fill orang show_diverg set true plot highlight two condit diverg alpha set nb rememb discuss autocorrel gamm portion walkthrough still deal timeseri data hasnt necessarili gone away work ad power fda techniqu packag deal issu pleas watch space acknowledg packag suggest encourag help number peopl wish especi highlight sylvain siroi mihaela duta whose input instrument id also like thank jacolien van rij input gamm model portion tutori refer jackson siroi infant cognit go full factori pupil dilat development scienc httpsdoiorgjx allen poggiali whitak k marshal r kievit r raincloud plot multiplatform tool robust data visual wellcom open research httpsdoiorgwellcomeopenr ramsay jo silverman bw function data analysi new york springerverlag van rij j hendrik p van rijn h baayen r h wood n analyz time cours pupillometr data trend hear httpsdoiorg gener roxygen edit hand pleas edit document rmake_smoothed_datar nameregress_data aliasregress_data titleregress one pupil anoth extra smooth usag regress_datadata pupil pupil argument itemdataa pupillometryr datafram itempupilcolumn name first pupil data itempupilcolumn name second pupil data valu pupillometryr datafram smooth pupil valu descript regress_data run simpl linear regress pupil pupil revers help account small amount bumpi data regress run particip trial per time exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type regressed_data regress_datadata sdata pupil rpupil pupil lpupil mean_data calculate_mean_pupil_sizedata regressed_data pupil rpupil pupil lpupil gener roxygen edit hand pleas edit document rsubset_datar namemean aliasmean titlehelp function mean usag meanx argument itemxth object descript somewhat use function ignor na gener roxygen edit hand pleas edit document rclean_and_downsampl namedownsample_time_data aliasdownsample_time_data titledownsampl frequenc reduc number sampl data size usag downsample_time_datadata pupil timebin_s option cmean median argument itemdatayour data class pupillometryr itempupila column name denot pupil size itemtimebin_sizeth size new timebin wish use itemoptionwhat calcul timebin mean median default mean valu downsampl datafram class pupillometryr descript function use sampl high frequenc eg hz caus data size hard manag high autocorrel care decis made time bin size appropri function respect data type exampl datapupil_data sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type new_data downsample_time_datadata sdata pupil lpupil timebin_s option mean gener roxygen edit hand pleas edit document rplot_pupil_datar nameplotpupillometryr aliasplotpupillometryr titlepreprepar plot pupillometryr data usag methodplotpupillometryr x pupil group cnone condit subject geom cpoint line pointrang model null argument itemxa pupillometryr datafram itempupilcolumn name pupil data plot itemgroupwhat group data none condit subject itemgeomgeom pass ggplot either point line pointrang itemmodelopt argument plot again fit model itemignor valu ggplot object descript plot function design run data pupil select addit option fun plot allow see raw data point group either subject condit exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type sdata downsample_time_datadata sdata pupil lpupil timebin_s option median p plotsdata pupil lpupil group subject p gener roxygen edit hand pleas edit document rmake_smoothed_datar namefilter_data aliasfilter_data titlerun filter data smooth usag filter_data data pupil filter cmedian han lowpass degre argument itemdataa pupillometryr datafram itempupilcolumn name pupil data itemfilteropt filter data itemdegreefilt degre valu filter pupil data descript filter_data allow three differ option filter butterworth lowpass filter han filter median filter also set degre filter recommend default filter one pupil rerun second pupil need lowpass make use butterworth filter filtfilt packag signal median make use runm exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type mean_data calculate_mean_pupil_sizedata sdata pupil rpupil pupil lpupil filtered_data filter_datadata mean_data pupil mean_pupil filter han degre gener roxygen edit hand pleas edit document rclean_and_downsampl nameclean_missing_data aliasclean_missing_data titleclean miss data accept threshold usag clean_missing_data data pupil trial_threshold subject_trial_threshold argument itemdatayour data class pupillometryr itempupila column name denot pupil size itemtrial_thresholda proport miss data trial consid lost itemsubject_trial_thresholda proport miss trial particip consid lost valu clean pupillometryr datafram descript function use remov trial particip meet threshold studi note two paramet clean one remov trial threshold second remov particip drop certain amount trial exampl datapupil_data sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type new_data downsample_time_datadata sdata pupil lpupil timebin_s option mean calculate_missing_datadata new_data pupil lpupil gener roxygen edit hand pleas edit document rsubset_datar namecreate_time_window aliascreate_time_window titlemak pupillometryr datafram multipl time window easi analysi usag create_time_windowsdata pupil break argument itemdataa pupillometryr datafram itempupilcolumn name denot pupil data use itembreaksa vector number indic start time window valu pupil_window_data datafram descript function creat singl collaps data frame easi analysi anova model per condit comparison create_window_data allow collaps singl time window exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type regressed_data regress_datadata sdata pupil rpupil pupil lpupil mean_data calculate_mean_pupil_sizedata regressed_data pupil rpupil pupil lpupil base_data baseline_datadata mean_data pupil mean_pupil start stop time_window create_time_windowsdata base_data pupil mean_pupil break c gener roxygen edit hand pleas edit document rplot_pupil_datar nameplotpupil_window_data aliasplotpupil_window_data titlepreprepar plot pupillometryr data usag methodplotpupil_window_data x pupil window cfals true geom craincloud violin boxplot argument itemxa pupil_window_data datafram itempupilcolumn name pupil data plot itemwindowswheth want includ time window plot logic itemgeomviolin plot boxplot newest version add raincloud plot use ben marwick flat violin plot itemignor valu ggplot object descript plot function design run data pupil select addit option fun plot see plot must first use create_window_data exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type regressed_data regress_datadata sdata pupil rpupil pupil lpupil mean_data calculate_mean_pupil_sizedata regressed_data pupil rpupil pupil lpupil base_data baseline_datadata mean_data pupil mean_pupil start stop window create_window_datadata base_datapupil mean_pupil p plotwindow pupil mean_pupil window fals geom boxplot p gener roxygen edit hand pleas edit document rgeom_flat_violinr doctypedata namegeomflatviolin aliasgeomflatviolin titlegeom_flat_violin_help descript borrow hrefhttpsgistgithubusercontentcombenmarwickabbffcbedrawfbbdffceefacabffbfgeom_flat_violinrben marwick origin author david robinson keyworddataset gener roxygen edit hand pleas edit document rplot_pupil_datar nameplotpupil_difference_data aliasplotpupil_difference_data titlepreprepar plot pupillometryr data usag methodplotpupil_difference_datax pupil geom cpoint line colour black argument itemxa pupil_difference_data datafram itempupilcolumn name pupil data plot itemgeomstr indic whether made connect point line itemcolourstr indic colour geom pass ggplot itemignor valu ggplot object descript plot function design run data pupil select addit option fun plot see plot must first use create_difference_data exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type regressed_data regress_datadata sdata pupil rpupil pupil lpupil mean_data calculate_mean_pupil_sizedata regressed_data pupil rpupil pupil lpupil base_data baseline_datadata mean_data pupil mean_pupil start stop differ create_difference_datadata base_data pupil mean_pupil p plotdiffer pupil mean_pupil geom line p gener roxygen edit hand pleas edit document rgeom_flat_violinr namegeom_flat_violin aliasgeom_flat_violin titleggplot flat violin usag geom_flat_violin map null data null stat ydensiti posit dodg trim true scale area showlegend na inherita true argument itemmappinga valu itemdataa valu itemstata valu itempositiona valu itemtrima valu itemscalea valu itemshowlegenda valu iteminheritaesa valu itema valu descript ggplot flat violin detail copypast httpsgistgithubusercontentcombenmarwickabbffcbedrawfbbdffceefacabffbfgeom_flat_violinr somewhat hackish solut httpstwittercomeamoncaddiganstatu base mostli copypast ggplot geom_violin sourc httpsgithubcomhadleyggplotblobmasterrgeomviolinr origin seem sourc httpsgistgithubcomdgrtwoebedc author david robinson key intern function raincloud plot use plot option packag inform raincloud plot see allen poggiali whitak k marshal r kievit r raincloud plot multiplatform tool robust data visual wellcom open research doiwellcomeopenr exampl ggplotdiamond aescut carat geom_flat_violin coord_flip gener roxygen edit hand pleas edit document rclean_and_downsampl namecalculate_missing_data aliascalculate_missing_data titlecalcul miss data amount usag calculate_missing_datadata pupil argument itemdatayour data class pupillometryr itempupila column name denot pupil size valu summari tabl number miss sampl trial descript function use assess amount sampl problemat data trial help assess clean paramet exampl datapupil_data sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type new_data downsample_time_datadata sdata pupil lpupil timebin_s option mean calculate_missing_datadata new_data pupil lpupil gener roxygen edit hand pleas edit document rfunctional_datar namecreate_functional_data aliascreate_functional_data titlemak function data spline pupil_difference_data datafram usag create_functional_datadata pupil basi order argument itemdataa pupil_difference_data datafram itempupilcolumn name indic pupil data fit itembasisinteg specifi number basi function creat bspline basi itemorderinteg specifi order bspline one higher degre valu pupil_difference_data datafram fit bspline descript function turn differ data fit spline order carri function data analysi hood pass basi order fdadatafd fdacreatebsplinebasi mandatori run run_functional_t_test recommend read document packag fda inform exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type regressed_data regress_datadata sdata pupil rpupil pupil lpupil mean_data calculate_mean_pupil_sizedata regressed_data pupil rpupil pupil lpupil base_data baseline_datadata mean_data pupil mean_pupil start stop differ create_difference_datadata base_data pupil mean_pupil spline_data create_functional_datadata differ pupil mean_pupil basi order seealso fda packag gener roxygen edit hand pleas edit document rpupil_datar doctypedata namepupil_data aliaspupil_data titledata collect pupillometri studi sylvain siroi format data frame row variabl describ itemiduniau particip id itemtrialuniqu trial code also uniqu particip itemrpupilright pupil size itemlpupilleft pupil size itemtimebinord timebin within trial itemtimeelaps time within trial itemtypehard easi trial sourc httpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottin usag pupil_data descript data simpl studi measur pupil dilat particip answer hard easi math problem origin data sourc reformat sylvain siroi pupillometri tutori avail httpsoraprdntuqtruquebeccaplspublicgscwowa_no_siteowa_no_ficheowa_bottin keyworddataset gener roxygen edit hand pleas edit document rgeom_flat_violinr namegfv_help aliasgfv_help alia titlegeom_flat_violin_help descript borrow httpsgistgithubusercontentcombenmarwickabbffcbedrawfbbdffceefacabffbfgeom_flat_violinr origin author david robinson httpsgistgithubcomdgrtwoebedc gener roxygen edit hand pleas edit document rbaseline_datar namebaseline_data aliasbaseline_data titlebaselin pupil data averag pupil size within window usag baseline_datadata pupil start stop argument itemdataa pupillometryr datafram itempupila column name denot pupil data itemstartstart time baselin window itemstopstop time baselin window valu pupillometryr datafram baselin pupil descript function use pupillometryr packag baselin particip pupil size mean pupil size within window may necessari pure withinsubject analys conveni comparison across subject make result uniform exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type regressed_data regress_datadata sdata pupil rpupil pupil lpupil mean_data calculate_mean_pupil_sizedata regressed_data pupil rpupil pupil lpupil base_data baseline_datadata mean_data pupil mean_pupil start stop gener roxygen edit hand pleas edit document rplot_pupil_datar nameplotpupil_test_data aliasplotpupil_test_data titlepreprepar plot pupillometryr data usag methodplotpupil_test_datax show_diverg true colour black fill grey argument itemxa pupil_test_data datafram itemshow_divergencelog indic whether diverg highlight itemcolourstr indic colour geom_lin pass ggplot itemfillstr indic fill hue diverg highlight pass ggplot itemignor valu ggplot object descript plot function design run data pupil select addit option fun plot see plot must first use one run_funct test exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type regressed_data regress_datadata sdata pupil rpupil pupil lpupil mean_data calculate_mean_pupil_sizedata regressed_data pupil rpupil pupil lpupil base_data baseline_datadata mean_data pupil mean_pupil start stop differ create_difference_datadata base_data pupil mean_pupil spline_data create_functional_datadata differ pupil mean_pupil basi order ft_data run_functional_t_testdata spline_data pupil mean_pupil p plotft_data show_diverg true colour red fill orang p gener roxygen edit hand pleas edit document rmake_smoothed_datar nameinterpolate_data aliasinterpolate_data titleinterpol across gap data usag interpolate_datadata pupil type clinear cubic argument itemdataa pupillometryr datafram itempupilcolumn name pupil data interpol itemtypestr indic linear cubic interpol perform valu interpol pupillometri data descript data smooth import deal miss observ blink allow simpl interpol miss valu either linear cubic depend analysi plane may necessari option strongli recommend function analys plan packag exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type mean_data calculate_mean_pupil_sizedata sdata pupil rpupil pupil lpupil filtered_data filter_datadata mean_data pupil mean_pupil filter han degre int_data interpolate_datadata filtered_data pupil mean_pupil type linear gener roxygen edit hand pleas edit document rcalculate_mean_pupil_s namecalculate_mean_pupil_s aliascalculate_mean_pupil_s titlecalcul mean size across two pupil time usag calculate_mean_pupil_sizedata pupil pupil argument itemdataa pupillometryr datafram itempupilcolumn name indic pupil size itempupilcolumn name indic pupil size valu pupillometryr datafram mean pupil column descript function use left right eye eyetrack data mean two would use exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type regressed_data regress_datadata sdata pupil rpupil pupil lpupil mean_data calculate_mean_pupil_sizedata regressed_data pupil rpupil pupil lpupil gener roxygen edit hand pleas edit document rfunctional_datar namerun_functional_t_test aliasrun_functional_t_test titlerun function ttest datafram previous fit bspline usag run_functional_t_testdata pupil alpha argument itemdataa pupil_difference_data fit bspline itempupilcolumn name indic pupil data test itemalphaan alpha level set ttest valu pupil_test_data datafram descript allow run function ttest given alpha pupil data fit bspline appropri function differ data assum deal condit condit b exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type regressed_data regress_datadata sdata pupil rpupil pupil lpupil mean_data calculate_mean_pupil_sizedata regressed_data pupil rpupil pupil lpupil base_data baseline_datadata mean_data pupil mean_pupil start stop differ create_difference_datadata base_data pupil mean_pupil spline_data create_functional_datadata differ pupil mean_pupil basi order ft_data run_functional_t_testdata spline_data pupil mean_pupil alpha gener roxygen edit hand pleas edit document rmake_pupillometryr_datar namemake_pupillometryr_data aliasmake_pupillometryr_data titleprepar data preprocess pupillometryr usag make_pupillometryr_datadata subject trial time condit argument itemdataa raw long form datafram organis subject trial time data long form look tidyr exampl convers itemsubjectcolumn name indic subject id itemtrialcolumn name indic trial id uniqu particip itemtimecolumn name indic time column numer itemconditioncolumn name indic experiment condit itemotherani column may wish keep data frame process valu datafram readi use pupillometryr descript first function run part use pupillometryr make sure data right format process packag design deal data come eyetrack longform csv style format thu data input would long datafram wherein row singl frame collect eyetrack exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type gener roxygen edit hand pleas edit document rfunctional_datar namecreate_difference_data aliascreate_difference_data titlecr differ data frame deal condit column level usag create_difference_datadata pupil argument itemdataa pupillometryr datafram itempupilcolumn name pupil data valu pupil_difference_data data frame descript differ data frame use creat datafram function ttest analysi function would first step analysi preprocess creat frame treat condit data level level throw error two condit exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type mean_data calculate_mean_pupil_sizedata sdata pupil rpupil pupil lpupil base_data baseline_datadata mean_data pupil mean_pupil start stop differ create_difference_datadata base_data pupil mean_pupil plotdiffer pupil mean_pupil geom line gener roxygen edit hand pleas edit document rsubset_datar namecreate_window_data aliascreate_window_data titlemak pupillometryr datafram singl collaps window easi analysi usag create_window_datadata pupil argument itemdataa pupillometryr datafram itempupilcolumn name denot pupil data use valu pupil_window_data datafram descript function creat singl collaps data frame easi analysi ttest anova per condit comparison create_time_window allow divid multipl window per time exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type regressed_data regress_datadata sdata pupil rpupil pupil lpupil mean_data calculate_mean_pupil_sizedata regressed_data pupil rpupil pupil lpupil base_data baseline_datadata mean_data pupil mean_pupil start stop window create_window_datadata base_data pupil mean_pupil p plotwindow pupil mean_pupil window fals geom boxplot p gener roxygen edit hand pleas edit document rsubset_datar namesubset_data aliassubset_data titlesubset data provid start finish time window usag subset_datadata start null stop null rezero remov argument itemdataa pupillometryr datafram itemstarta singl number indic start time new datafram itemstopa singl number indic end time new datafram itemrezerolog whether time start zero itemremovelog remov observ outsid start stop valu subset pupillometryr datafram descript subset_data use pupillometryr datafram subset time relev chunk ideal one first runction run anyth analyt use indic start stop time creat new resiz datafram exampl sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type subset_datasdata start stop rezero true remov true gener roxygen edit hand pleas edit document rmake_smoothed_datar namereplace_missing_data aliasreplace_missing_data titlereplac miss observ degre incomplet observ usag replace_missing_datadata argument itemdatayour data class pupillometryr valu timestep data frame descript use function dataset certain timepoint remov whatev reason want continu time data make assumpt trial length though may appropri data type run run make_pupillometry_data exampl datapupil_data sdata make_pupillometryr_datadata pupil_data subject id trial trial time time condit type new_data replace_missing_datadata sdata