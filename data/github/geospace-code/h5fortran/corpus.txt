instal hfortran hfortran typic built instal cmake meson requir fortran compil project use submodul error stop exampl gfortran ge intel oneapi hdf fortran librari includ x x maco homebrew brew instal gcc hdf linux window subsystem linux apt instal gfortran libhdfdev window msi pacman mingwwx_hdf build sourc option python scriptsbuild_hdfpi note precompil hdf librari c c without fortran librari libhfortran built link program usual along hdf librari includ file cmake build selftest via sh cmake b build cmake build build option selftest cd build ctest option instal directori like hfortran sh cmake b build dcmake_install_prefixhfortran cmake instal build use hfortran project sh cmake b build dhfortran_roothfortran cmakeliststxt cmake cmake_minimum_requiredvers projectmyproject languag fortran find_packagehfortran ifnot hfortran_found includefetchcont fetchcontent_declarehfortran git_repositori httpsgithubcomgeospacecodehfortrangit git_tag v fetchcontent_makeavailablehfortran endif project target add_executablemyproj mainf target_link_librariesmyproj privat hfortranhfortran mainf like fortran program main use hfortran hdf_file implicit none typehdf_fil hf call hfopenhfortran_exampleh actionw call hfwritex call hfclose end program option creat distribut archiv wish creat packag archiv usabl system compat fortran abi build sh cpack config buildcpackconfigcmak option specifi particular hdf librari sh cmake dhdf_rootpathtohdflib b build set environ variabl hdf_rootpathtohdflib meson build hfortran standalon project sh meson build meson test c build hfortran meson subproject includ hfortran meson subproject main project mesonbuild use hfortran like meson hdf_proj subprojecthfortran hdf_interfac hdf_projget_variablehdf_interfac my_ex executablemyex mainf depend hdf_interfac file main project subprojectshfortranwrap contain ini wrapgit directori hfortran url httpsgithubcomgeospacecodehfortrangit revis v standalon compil wrapper hfortran use hdf compil wrapper hfchttpssupporthdfgrouporghdftutorcompilehtml like sh hfc ihfortraninclud myprogramf hfortranliblibhfortrana hfortran exampl exampl assum fortran use hfortran hdf_file typehdf_fil hf gzip compress may appli rank ge array set comp_lvl valu shuffl filter automat appli better compress string attribut may appli variabl time write later hfopen comp_lvl option enabl gzip compress comp_lvl bigger comp_lvl give compress isslow write creat new hdf file variabl valu fortran call hfopentesth actionw call hfwritevalu call hfclose creat soft link actual variabl hdf soft link variabl arbitrarili mani softlink variabl name point actual variabl need yet exist fortran call hfwritex call hfsoftlinkx call hfsoftlinkx z z soft link x need yet exist ensur file flush disk end program program open lot hdf file your worri sure theyr flush disk make call near end program flush close hdf file even may invok directli hdf librari without hfortran fortran call hdf_close normal call close file flush disk done use file close hdf_close call data loss result fortran call hfclose time program flush method call request oper system write file disk could use longrun program say hpc simul help ensur data isnt lost hdf file open long time flush request perfil basi multipl file open flush file protect data loss case fortran call hfflush read write attribut variabl note hdf charact attribut scalar int real real attribut vector assum variabl x exist see exampl write attribut fortran call hwriteattrx notethi littl number call hwriteattrx hello hi call hwriteattrx life call hwriteattrx life_float _real _real call hwriteattrx life_doubl _real high level interfac fortran call hwrite_attrmyfileh x date call hwrite_attrmyfileh x unit nm read attribut attribut hdf charact valu spacetermin instead null termin fortran charact attr_str integ attr_int realreal attr realreal attr call hreadattrx note attr_str attr_str littl number error stop readattr valu note call hreadattrx life attr_int call hreadattrx life_float attr call hreadattrx life_doubl attr high level interfac fortran integ idat charact unit_str call hread_attrmyfileh x date idat call hread_attrmyfileh x unit unit_str addappend variabl valu exist hdf file testh file testh exist add variabl file testh exist creat add variabl fortran call hfopentesth actionrw call hfwritevalu call hfclose add gzip compress array valu exist hdf file testh fortran real val call hfopentesth comp_lvl call hfwritevalu val call hfclose chunk_siz may option set write method array compress chunk disabl element chunk_siz less chunk_siz may manual specifi write otherwis set automat current data written contigu compact compress chunk compress use check variabl exist logic method exist check dataset variabl exist open hdf file fortran exist hfexista conveni method check exist dataset without creat h object manual fortran exist hexistmyh check variabl shape rankndim hfndim didnt use rank avoid confus intrins rank fortran call hfopentesth actionr integ drank integerhsize_t allocat dim drank hfndima call hfshapeadim drank sizedim error stop read scalar array unknown size fortran call hfopentesth actionr integerhsize_t allocat dim real allocat call hfshapeadim allocateadim dim dim call hfreada call hfclose read slice part disk array read disk hdf array variabl match shape done istart iend argument argument start stop index desir dimens exampl support hdf disk variabl shape wish read part array like dim dim dim fortran real dimens call hfopentesth actionr call hfreada istart iend write slice part disk array write disk hdf array variabl match shape done istart iend argument argument start stop index desir dimens exampl support hdf disk variabl shape wish write slice variabl shape startstop indic dim dim dim fortran real dimens call hfopentesth call hfcreatea ht_native_r call hfwritea istart iend note hfcreat call open disk variabl step also need hpi python matlab hdf hcreat hwrite dataset compact contigu chunk assum file handl hf alreadi open logic statu inspect fortran is_compact hfis_compacta is_contig hfis_contiga is_chunk hfis_chunkeda get chunk size dataset chunk chunk_siz sh call hfchunksa chunk_siz creat group scope fortran real val call hfopentesth call hfwrite_groupscop call hfclose verbos debug set option debug verbos diagnost sh call hfopen verbosetru debugtru permiss syntax make hdfopen action like fortran open overwrit truncat exist file open actionw append exist file creat file actionrw src_dir src output_dir doc project objectori fortran hdf interfac project_github httpsgithubcomgeospacecodehfortran project_websit httpsgeospacecodegithubiohfortran summari objectori fortran hdf interfac author michael hirsch phd github httpsgithubcomgeospacecod licens exclud cmakefortrancompileridf reader_lt_templateinf writer_lt_templateinf writer_templateinf writer_template_iinf writer_template_rinf writer_template_rinf writer_template_iinf display public protect privat sourc fals graph true search true simpl robust thin hdf polymorph fortran readwrit interfac read write realrealintint scalar simpl fortran use hfortran call hwritemyh x x call hreadmyh netcdf see ncfortranhttpsgithubcomgeospacecodencfortran hfortran design serial hdf readwrit dont yet implement interfac parallel hdf hfortran design easi use use static share link project via cmake instal cmake externalproject cmake fetchcont cmake git submodul meson subproject use fortran submodul clean templat structur easytous thin objectori modern fortran librari abstract away messi part hdf read write variou typesrank data singl command distinct highlevel hdf interfac hfortran work dedupl code use polymorph wherev feasibl extens test suit polymorph apiapimd readwrit type int real real rank scalar bit integ int readwrit scalar well charact string need int work exampl srcconceptsintf easili put hfortran apijust make github issu hdf attribut also support readwrit type charact int real real array slice read write support read write part disk hdf array variabl match slice shape mismatch datatyp coerc per standard fortran rule exampl read float hdf variabl integ fortran variabl zlib deflat compress decompress hfortran work without zlib saveload uncompress data creat hdf soft link variablesarbitrarili mani softlink variabl name point actual variabl need yet exist test system hdf includ maco homebrew linux ubuntu cento window subsystem linux window msi ibm power gfortran compil known work includ gcc gfortran ge intel oneapi hpc compil ge welcom contributionshttpsgithubcomgeospacecodegithubblobmaincontributingmd gener hold geospacecod code conducthttpsgithubcomgeospacecodegithubblobmaincode_of_conductmd build use cmake sh git clone httpsgithubcomgeospacecodehfortrangit cd hfortran cmake b build cmake build build detail see installmdinstallmd gener use noncmak build system hfortranpc pkgconfig file also gener instal autobuild hdf hfortran automat build hdf zlib librari need use mani hpc broken abiincompat hdf librari instal build hdf zlib take minut typic laptop disabl autobuild behavior use option sh cmake b build dautobuildoff forc build hdf zlib librari gain better perform via optim system cpu sh cmake dhdf_externalon cmake build build note use intel oneapi window ensur environ variabl ccicl set manual command prompt posh set ccicl set fcifort necessari workaround techniqu use hdf cmake file dont pickup cmake setenvcc otherwis hdf build failur may result due default iclclang default use zlib x aka zlibng problem zlibng system tri unmaintain zlib x sh cmake b build dzlib_legacyon usag simplest exampleexampl hfortran usag like fortran use hfortran call hwritegolthx fortran use hfortran real x ifnot is_hdfgolth error stop golth hdf file call hreadgolth x x detail examplesexampl see examplesmdexamplesmd note first charact filenam charact whitespac avoid file opencr error polymorph array rank implement get hdf librari instead autobuild hdf via hfortran one may build instal hdf librari sh python scriptsbuild_hdfpi hfortran miss fortran datatyp array rank prototyp reader_ndf writer_ndf fortran array rank recent compil support complex complex nativ handl hdf perform impact compound datatyp mani choos write two dataset one real imaginari like a_real a_imag nondefault charact kind logic boolean support nativ hdf hpi implement enumhttpsdocshpyorgenstablefaqhtmlwhatdatatypesaresupport hfortran api document provid list hfortran public scope userfac procedur method summari paramet exampl assum fortran use hfortran hdf_file use hdf hsize_t hid_t typehdf_fil h queri hdf librari version fortran use hfortran hdfversion print hdfversion open close hdf file refer one hdf file open program declar uniqu file handl variabl like fortran typehdf_fil h h h fortran call hopenfilenameactioncomp_lvlverbosedebug open hdf file charact intentin filenam charact intentin option action r w rw integ intentin option comp_lvl compress zlib compress higher compressior logic intentin option verbos debug fortran call hcloseclose_hdf_interfac must call hdf file flush buffer disk data loss occur program termin procedur dont refer count applic might also invok hdf directli close_hdf_interfac know exactli one hdf file applic true close file even invok directli hdf logic intentin option close_hdf_interfac avoid memori leak corrupt file alway final hdf file stop fortran program fortran call hflush request oper system flush data disk disk variabl dataset inquiri alloc variabl read data inquir dataset characterist procedur fortran rank hndimdataset_nam charact intentin dataset_nam get disk dataset shape vector fortran call hshapedataset_nam dim charact intentin dataset_nam integerhsize_t intentout allocat dim dataset dname data class ie integ float string fortran integ class ht_integer_f ht_float_f ht_string_f class hclassdnam charact intentin dname dataset dname datatyp fortran integerhid_t dtype ht_native_r ht_native_doubl ht_native_integ ht_native_charact ht_std_ile dtype hdtypednam charact intentin dname dataset dname exist hdf file fortran exist hexistdnam charact intentin dname dataset dname contigu disk fortran tf his_contigdnam dataset contigu charact intentin dname dataset compact k fortran tf his_compactdnam dataset compact layout charact intentin dname dataset chunk fortran tf his_chunkeddnam dataset chunk charact intentin dname hdf file fortran use hfortran is_hdf tf is_hdfmyfiletxt probabl fals tf is_hdfmyfileh true valid hdf file advanc inquiri memori layout dataset advanc user fortran layout hlayoutdnam integ hd_contiguous_f hd_chunked_f hd_virtual_f hd_compact_f charact intentin dname fortran call hchunksdnam chunk_siz charact intentin dname integ intentout chunk_siz creat dataset softlink one key featur hdf abil creat dataset softlink within hdf file fortran call hsoftlinktarget link charact intentin target target path link dataset link soft link path creat file write oper fortran call hwritednamevalu chunk_siz istart iend stride compact write dd dataset charact intentin dname class intentin valu array write integ intentin option chunk_sizerankvalu integ intentin option dimens istart iend stride array slice logic intentin option compact faster io sub kb dataset write dataset attribut eg unit instrument fortran call hwriteattrdnam attr attrval charact intentin dname attr dataset name attribut name class intentin attrval charact real integ file read oper read data disk memori fortran call hreaddnam valu istart iend stride charact intentin dname class intentout valu read array alloc variabl integ intentin option dimens istart iend stride array slice read dataset attribut memori fortran call hreadattrdnam attr attrval charact intentin dname attr dataset name attribut name class intentout attrval charact real integ high level oper singlecal oper slower objectori method runtim penalti may insignific unless call function mani time say loop hwrite open filenam actionrw creat present append exist fortran call hwritefilenam dname valu charact intentin filenam dname class intentin valu hread open filenam actionr error file exist fortran call hreadfilenam dname valu charact intentin filenam dname class intentout valu objectori fortran hdf interfac doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss doihttpszenodoorgbadgesvghttpszenodoorgbadgelatestdoi ci_linuxhttpsgithubcomgeospacecodehfortranworkflowscibadgesvg ci_macoshttpsgithubcomgeospacecodehfortranworkflowsci_macosbadgesvg ci_windowshttpsgithubcomgeospacecodehfortranworkflowsci_windowsbadgesvg ci_mesonhttpsgithubcomgeospacecodehfortranworkflowsci_mesonbadgesvg inteloneapihttpsgithubcomgeospacecodehfortranactionsworkflowsinteloneapiymlbadgesvghttpsgithubcomgeospacecodehfortranactionsworkflowsinteloneapiyml simpl robust thin hdf polymorph fortran readwrit interfac read write realrealintint scalar simpl fortran use hfortran call hwritemyh x x call hreadmyh netcdf see ncfortranhttpsgithubcomgeospacecodencfortran hfortran design serial hdf readwrit dont yet implement interfac parallel hdf hfortran design easi use use static share link project via cmake instal cmake externalproject cmake fetchcont cmake git submodul meson subproject use fortran submodul clean templat structur easytous thin objectori modern fortran librari abstract away messi part hdf read write variou typesrank data singl command distinct highlevel hdf interfac hfortran work dedupl code use polymorph wherev feasibl extens test suit polymorph apiapimd readwrit type int real real rank scalar bit integ int readwrit scalar well charact string need int work exampl srcconceptsintf easili put hfortran apijust make github issu hdf attribut also support readwrit type charact int real real array slice read write support read write part disk hdf array variabl match slice shape mismatch datatyp coerc per standard fortran rule exampl read float hdf variabl integ fortran variabl zlib deflat compress decompress hfortran work without zlib saveload uncompress data creat hdf soft link variablesarbitrarili mani softlink variabl name point actual variabl need yet exist test system hdf includ maco homebrew linux ubuntu cento window subsystem linux window msi ibm power gfortran compil known work test ci includ gcc gfortran ge intel oneapi ge welcom contributionshttpsgithubcomgeospacecodegithubblobmaincontributingmd gener hold geospacecod code conducthttpsgithubcomgeospacecodegithubblobmaincode_of_conductmd build use cmake sh git clone httpsgithubcomgeospacecodehfortrangit cd hfortran cmake b build cmake build build detail see installmdinstallmd gener use noncmak build system hfortranpc pkgconfig file also gener instal save time intend use selftest skip build test suit sh cmake b build dbuild_testingoff autobuild hdf hfortran automat build hdf zlib librari need use mani hpc broken abiincompat hdf librari instal build hdf zlib take minut typic laptop disabl autobuild behavior use option sh cmake b build dautobuildoff forc build hdf zlib librari gain better perform via optim system cpu sh cmake dhdf_externalon cmake build build note use intel oneapi window ensur environ variabl ccicl set manual command prompt posh set ccicl set fcifort necessari workaround techniqu use hdf cmake file dont pickup cmake setenvcc otherwis hdf build failur may result due default iclclang default use zlib x aka zlibng problem zlibng system tri unmaintain zlib x sh cmake b build dzlib_legacyon user request specif hdf version like sh cmake b build dhdf_version hdf version cmakelibrariesjson would work usag simplest exampleexampl hfortran usag like fortran use hfortran call hwritegolthx fortran use hfortran real x ifnot is_hdfgolth error stop golth hdf file call hreadgolth x x detail examplesexampl see examplesmdexamplesmd note first charact filenam charact whitespac avoid file opencr error polymorph array rank implement get hdf librari instead autobuild hdf via hfortran one may build instal hdf librari sh python scriptsbuild_hdfpi hfortran miss fortran datatyp array rank prototyp reader_ndf writer_ndf fortran array rank recent compil support complex complex nativ handl hdf perform impact compound datatyp mani choos write two dataset one real imaginari like a_real a_imag nondefault charact kind logic boolean support nativ hdf hpi implement enumhttpsdocshpyorgenstablefaqhtmlwhatdatatypesaresupport titl hfortran objectori polymorph fortran interfac hdf file io tag author name michael hirsch orcid affili affili name boston univers index date nov bibliographi paperbib summari hfortran hfortran fortran interfac hdf abstract away detail frequentlyus subset hdf file readwrit oper hfortran objectori function interfac make hdf use fortran easi highlevel languag exampl use offici hdf fortran interfac write array disk involv twenti subroutin call plu associ program logic call procedur effici paramet array write oper hfortran accomplish singl subroutin call similar reduct userfac complex achiev hfortran hdf array read hfortran adher fortran standard work gfortran intel compil linux maco window intel amd arm ibm power system cmake use build hfortran detect hdf librari present work build hdf sourc necessari cpack use gener distribut binari archiv conan packag manag may also use automat instal hdf librari instal hfortran meson build system also support hfortran hfortran gener applic project need write variabl hdf scalar type real real integ read variabl hdf scalar type real real integ read write charact variabl hdf file read write variabl attribut hdf file get shape disk variabl alloc memori variabl read data hdf nativ support complex number boolean logic fortran datatyp hfortran yet support complex number boolean highlevel hdf interfac code languag hpi implement type use hdf struct hdf enum respect hdf commun continu coalesc around de facto data type implement may consid implement hfortran futur hfortran current support serial hdf interfac yet support parallel mpibas hdf interfac hfortran yet support extens dataset although would open investig ad support upon commun request addit objectori interfac hfortran provid singlecommand read write procedur array slice allow read write portion larg disk variabl tofrom ram user hdf szip zlib compress enabl hfortran capabl read write compress variabl save disk space depend data lossless compress data shuffl fletcher checksum provid better compress check file integr respect hfortran design use individu user laptop embed devic well use hpc applic parallel task need read part mileston share hdf variabl hfortran origin develop gemini geminid zettergren ionospher model fund part nasa rose nssck darpa cooper agreement hr work approv public releas distribut unlimit inform necessarili reflect posit polici govern statement need fortran raw file inputoutput io built languag support reproduc work done program languag longterm use data gener process benefici use selfdescrib data file format like hdf hdf mani popular languag librari use simul data scienc use hdf hdf file io librari program librari intend use practition model data scientist use objectori hdf interfac like hpi hpi hpybook program hdf interfac exist hfortran present broad set commonli use featur comprehens test coverag robust across compil comput system written companion librari netcdf call ncfortran ncfortran design nearli ident userfac api fortran hdf interfac hdf_util hdf_util use function interfac mimick hdf lt function requir end user keep track extra variabl versu singl object use hfortran packag c similar prioriti use modern languag featur simpl command hpp hpp templatebas c implement provid hxx hxx refer hfortran exampl hfortran directori specifi hfortran instal like sh cmake b build dcmake_install_prefixhfortran cmake build build cmake instal build cmake b examplesbuild exampl dhfortran_roothfortran exampl exampl show function onestep interfac hfortran exampl exampl show objectori interfac hfortran may offer faster perform one variabl read written exampl exampl c main program call fortran interfac hfortran exampl exampl c main program call fortran interfac hfortran c headeronli objectori hdf librari consid highfivehttpsgithubcombluebrainhighf note non cmake build cmake make build much easier whatev dont wish use cmake hdf compil wrapper avail system may work sinc hdf compil wrapper alway work avail strongli recommend cmake hdfbase applic ubuntu look like sh hfc show gfortran iusrincludehdfseri lusrlibx_linuxgnuhdfseri usrlibx_linuxgnuhdfseriallibhdfhl_fortrana usrlibx_linuxgnuhdfseriallibhdf_hla usrlibx_linuxgnuhdfseriallibhdf_fortrana usrlibx_linuxgnuhdfseriallibhdfa lpthread lsz lz ldl lm wlrpath wlusrlibx_linuxgnuhdfseri build hdf script use dummi cmake project reus code main hfortran project build hdf zlib sh cmake b build dcmake_install_prefixloc cmake build build option build mpi layer parallel hdf sh cmake b build dcmake_install_prefixloc dhdf_parallelon cmake build build compil script hfc hcc instal localbin appear linux maco hdf build system doesnt yet build compil wrapper window