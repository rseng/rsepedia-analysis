vcr readmemd gener readmermd pleas edit file cran checkshttpscranchecksinfobadgesworstvcrhttpscranchecksinfopkgsvcr project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact rcheckhttpsgithubcomropenscivcrworkflowsrcheckbadgesvghttpsgithubcomropenscivcract codecovhttpscodecovioghropenscivcrbranchmastergraphbadgesvghttpscodecovioghropenscivcr rstudio mirror downloadshttpscranlogsrpkgorgbadgesvcrhttpsgithubcomrhubcranlogsapp cran versionhttpswwwrpkgorgbadgesversionvcrhttpscranrprojectorgpackagevcr easier http test record http request respons disk replay unit test r packag make independ connect faster complet r port rubi gem vcrhttpsgithubcomvcrvcr elev pitch setup vcr packag vcruse_vcr tweak configur protect secret sprinkl test vcruse_cassett save http interact disk cassett file want test packag behavior api return eg code edit cassett use webmockrhttpsdocsropensciorgwebmockr test work without internet connect demo ad vcr test r packagehttpsgithubcommaelleexemplighratiapullfil instal cran version r installpackagesvcr develop version r remotesinstall_githubropenscivcr r libraryvcr librarycrul doc check http test bookhttpsbooksropensciorghttptest vcr vignetteshttpsdocsropensciorgvcrarticl support http librari crulhttpsdocsropensciorgcrul httrhttpshttrrliborg get start doc assum use testthat unit test use_vcr set packag use vcr r vcruse_vcr put vcr descript check testthat setup setup testthat set record cassett save sourc testsfixtur setup config file vcr add exampl test file vcr make gitattribut file set vcr make teststestthatsetupvcrr file see r consol use packag vcrexampl assum fixtur testsfixtur ad vcr suggest field descript creat directori teststestthat look testthatr file similar teststestthatr ad ad vcr config teststestthatsetupvcrexampl ad exampl test file teststestthattestvcr_exampl gitattribut ad learn vcr httpsbooksropensciorghttptest protect secret secret often turn api work common exampl api key vcr save respons api yaml file includ secret unless indic vcr protect vcr_configur function filter_sensitive_data argument function situat filter_sensitive_data argument take name list _name_ list string use record cassett _instead of_ secret list _item_ vcr manag replac need edit setupvcrr file like r libraryvcr requir vcr set load invisiblevcrvcr_configur dir fixtur vcrcheck_cassette_nam use filter_sensitive_data argument vcr_configur function show vcr keep secret best way store secret inform renviron file assum alreadi place suppli name list filter_sensitive_data argument r libraryvcr invisiblevcrvcr_configur filter_sensitive_data listmy_api_key sysgetenvapikey add dir fixtur vcrcheck_cassette_nam notic wrote sysgetenvapikey api key directli otherwis youd written api key file might end public repo get secret inform environ make sure whenev vcr record new cassett replac secret inform my_api_key find http test bookhttpsbooksropensciorghttptest chapter secur addit line instruct vcr replac string cassett record equival string store apikey environment variabl mask string my_api_key practic might get yaml look littl like yaml http_interact request method post header accept applicationjson textxml applicationxml contenttyp applicationjson apikey my_api_key apikey environment variabl would store apikey valu vcr realis record string my_api_key instead cassett record vcr longer need api key real request made furthermor default request match includ api key thing work ensur test work absenc real api key eg test pass continu integr extern pull request code repositori vcr need actual api key request cassett creat real request made still need fool _package_ believ api key construct request add follow line testthat setup file eg teststestthatsetupvcrr r nzcharsysgetenvapikey syssetenvapikey foobar use renviron simpl way manag local environment variabl use renviron filehttpsrstatswtfrstartuphtmlrenviron renviron file might look like sh apikeymytotallysecretkey set project user level usethi usethisedit_r_environhttpsusethisrliborgreferenceedithtml function help edit file usag test test whichev test want use vcr wrap vcruse_cassett call like r librarytestthat vcruse_cassetterl_cit test_thatmi test aa rl_citat expect_isaa charact expect_matchaa iucn expect_matchaa wwwiucnredlistorg put vcruse_cassett block insid put testthat expect outsid vcruse_cassett block r librarytestthat test_thatmi test vcruse_cassetterl_cit aa rl_citat expect_isaa charact expect_matchaa iucn expect_matchaa wwwiucnredlistorg dont wrap use_cassett block insid test_that block testthat expect insid use_cassett block youll get line number use_cassett block start failur first time run test cassett ie file record http interact creat testsfixturesrl_citationyml time cassett use chang code http interact need code wrap vcruse_cassetterl_cit delet testsfixturesrl_citationyml run test rerecord cassett outsid test want get feel vcr work although dont need r libraryvcr librarycrul cli crulhttpclientnewurl httpseuhttpbinorg systemtim use_cassettenam helloworld cligetget request get record subsequ request form use cach http respons much faster r systemtim use_cassettenam helloworld cligetget importantli unit test deal input output behind scene use cach http respons thu test run faster cach respons look someth like condens breviti yaml http_interact request method get uri httpseuhttpbinorgget bodi encod string header userag libcurl rcurl crul respons statu status_cod messag ok explan request fulfil document follow header statu http ok connect keepal bodi encod utf string n arg n header n accept applicationjson textxml applicationxml n acceptencod gzip deflat n connect close n host httpbinorg n userag libcurl rcurl cruln n origin n url httpseuhttpbinorggetnn recorded_at gmt recorded_with vcr webmockr crul compon request respons preserv http client case crul reconstruct respons would wasnt use vcr less basic usag tweak thing need make sure read doc configurationhttpsdocsropensciorgvcrarticlesconfigurationhtml eg fixtur save rerecord automat regulari request matchinghttpsdocsropensciorgvcrarticlesrequest_matchinghtml vcr match request record interact terminolog _vcr_ name come idea want record someth play back later like vcr _cassette_ _thing_ record http interact right option file system write file futur could thing eg keyvalu store like redi _fixture_ fixtur someth use consist test piec softwar case cassett defin fixtur use unit test use setup function vcr_setup default directori creat hold cassett call fixtur signal folder contain persist save request current option file system _serialize_ translat data format store translat http request respons data represent disk read back later serial serial http respons current option yaml option futur could includ eg json _insert cassette_ creat cassett http interact record cassett _eject cassette_ eject cassett longer record cassett _replay_ refer use cach result http request record earlier workflow vcr test see usag sectionusag run test check whole packag note user found differ result devtoolscheck vs devtoolstest clear would make differ let us know run problem vcr r project use vcr r project well load vcr project similar exampl use use_cassett run code http request first time real request done cach respons use work lot detail see vignett internalshttpsdocsropensciorgvcrarticlesinternalshtml want mock store disk your look webmockr vcr use webmockr match request base criteria choos cach http interact disk vcr configur see also configur vignettehttpsdocsropensciorgvcrarticlesconfigurationhtml set follow default dir record match_requests_on cmethod uri allow_unused_http_interact true serialize_with yaml json_pretti fals persist_with filesystem ignore_host null ignore_localhost fals ignore_request null uri_pars crulurl_pars preserve_exact_body_byt fals turned_off fals re_record_interv null clean_outdated_http_interact fals allow_http_connections_when_no_cassett fals cassett list linked_context null log fals log_opt listfil vcrlog log_prefix cassett date true filter_sensitive_data null filter_request_head null filter_response_head null write_disk_path null verbose_error fals get default programmat r vcr_config_default chang default vcr_configur r vcr_configur call vcr_configur give import configur paramet nice tidi print r vcr_configur vcr configur cassett dir record serial yaml uri parser crulurl_pars match request method uri preserv byte fals log fals ignor host ignor localhost fals write disk path use_cassett easier approach altern use insert_cassett eject_cassett use_cassett insert eject oper instead manual use function eject cassett use insert detail refer configur vignettehttpsdocsropensciorgvcrarticlesconfigurationhtml matchingmatch vcr look similar http request cach request set examin request one follow option bodi header host method path queri uri default use method http method eg get uri test exact match uri eg httpfoocom set option tweak match_requests_on paramet r use_cassettenam one clipostpost bodi lista match_requests_on cmethod header bodi detail refer request match vignettehttpsdocsropensciorgvcrarticlesrequest_matchinghtml vcr languag canon vcr rubi list port languag httpsgithubcomvcrvcr note miss featur there number featur packag yet support paramet found packag weve tri make sure paramet ignor mark keep eye packag updat chang paramet andor let us know want move prioriti list exampl packag use vcr rgbif rredlist bold wikitaxa worrm microdem zbank rplo riti contributor scott chamberlainhttpsgithubcomsckott aaron wolenhttpsgithubcomaaronwolen maÃ«ll salmonhttpsgithubcommael meta pleas report issu bugshttpsgithubcomropenscivcrissu licens mit get citat inform vcr r citationpackag vcr pleas note packag releas contributor code conducthttpsropensciorgcodeofconduct contribut project agre abid term webmockr httpsdocsropensciorgwebmockr crul httpsdocsropensciorgcrul rgbif httpsgithubcomropenscirgbif rredlist httpsgithubcomropenscirredlist bold httpsgithubcomropenscibold wikitaxa httpsgithubcomropensciwikitaxa worrm httpsgithubcomropensciworrm microdem httpsgithubcomropenscimicrodem zbank httpsgithubcomropenscilabszbank rplo httpsgithubcomropenscirplo riti httpsgithubcomropenscir vcr bug fix fix vcr_test_path find root packag path correctli vcr new featur check_cassette_nam gain allowed_dupl paramet allow duplic cassett name typic advis user use duplic cassett name case may want share cassett across test vcr_configur gain filter_query_paramet paramet filter queri paramet dont show record request disk use_vcr set mimimum vcr version usual latest stabl version cran cours easili remov chang version requir run vcr_configur gain warn_on_empty_cassett paramet warn thrown empti cassett detect empti cassett clean delet either way thank llr dpprdan vcr_configur gain quiet paramet suppress messag vcr webmockr vcr_configur gain new option filter_sensitive_data_regex filter_sensitive_data fix string match filter_sensitive_data_regex regex base match thank toms report gain packag import rprojroot minor improv filter_sensitive_data option strip lead trail singl doubl quot string use case user accident quot secret logic even though secret may singl doubl quot unlik would lead trail quot singl doubl document new vignett explain design vcr packag also found http test book user face chang vignett move manrmdhunk pull http test book easili fix configur vignett clarifi filter_request_head exampl thank maell doc updat bug fix filter_request_head unfortun ad request header request written disk header exist fix bug intern function is_bas strsplit need usebytestru filter_sensitive_data work string contain regex charact fix see also new config variabl regex specif filter thank toms report vcr_test_path correctli set path vcr new featur new vcr contributor maell gain new serial json use serial set global vcr_configureserialize_withjson per cassett use_cassett serialize_withjson json serial use jsonlit hood note default write json disk preserv newlin json one line use pretti print set json_pretti vcr_configur part chang factor new r class serial json yaml serial inherit gain two new configur option manag secret filter_request_head filter_response_head implement differ filter_sensitive_data two new filter simpl valu replac complet remov request respons header wherea filter_sensitive_data use regex replac string anywher store requestrespons see configur vcr vignett detail request match host path work see also previou version vcr insert_cassetteeject_cassett workflow work webmockr trigger requir work use use_cassett fix use use_cassett pass code block run insert_cassett run code finish run eject_cassett thank robsteranium nudg may fix without improv debug experi new vignett debug test use vcr includ new function vcr_test_path use use_vcr correct path test use run test interact noninteract depend drop lazyev import withr ad suggest minimum webmockr version v readm point ropensci code conduct rather file repo gain function skip_if_vcr_off use test skip test vcr turn minor improv slight factor code yaml serial use elsewher serial drop deserialize_str method use renam deserialize_path method deseri serial new json serial document ad vcr_configur use_cassett state differ cassett name long use differ serial differ file extens want chang serial want keep old cassett old serial make sure clean old file use github action remov travisci appveyor fix test idempot thank alexg clean unhandledhttprequesterror remov unus variabl cassett initi method alway use current_cassett get cassett use tip aaronwolen chang latest webmockr releas v allow chang return httr respons object close match httr return real http request major problem assum x httr respons object xrequest requestsignatur object webmockr wherea class real httr respons object request refactor cassett class greatli simplifi webmockr http request stub big thank alexg httpinteractionlist improv check request match disk check requeset cassett faster check stop match found use new factor function check stop first match found mani test ad check behavior base encod output cassett use yaml serial wrap approxim charact width trigger preserve_exact_body_bytestru make cassett longer howev implement brought use cpp first use c vcr make base encod respons bodi record consist vcr program languag decode_compressed_respons option remov cassett class wasnt use wont use add addit exampl vcrrespons doc show update_content_length_head use_vcr chang creat test helper file call setuppkgnam instead helperpkgnam default set directori fixtur use dir vcr_test_pathfixtur instead dir fixtur see news item vcr_test_path document better descript vcr top readm delet unus doc folder repositori doc built elsewher tell user explicitli load vcr requir test setup thank kevcaz ad explan webmockr integr cassett class see section point webmockr integr cassett see also improv get start protect secret section introduct vignett thank daveparr add introduct vignett section titl ensur test work absenc real api key vcr new featur error messag test use vcr fail simpler primarili reduc space error messag take user toggl whether get new simplifi error messag older format verbos messag use verbose_error set vcr_configur function addit vcr_last_error give last full error doesnt help noninteract mode noninteract mode user run entir test suit packag set environ variabl vcr_verbose_error toggl set eg syssetenvvcr_verbose_errorstru devtoolstest minor improv chang write_disk_path handl intern run normalizepath record cassett pass path normalizepath lead full path record cassett mean packag test context test use file disk like work machin cassett first creat rel path packag context test file written disk work differ test context local variou continu integr platform ad bit document larg file creat use vcr ignor need within rinstignor andor rbuildignor vcr new featur new function check_cassette_nam use helperpkgnam file test suit check duplic cassett name use insert_cassett therebi use use_cassett use revamp version intern fxn check improv list potenti problem cassett name use_vcr add gitignor cassett diff via addit gitattribut file vcr_configur overhaul function longer set paramet rather ellipsi intern check paramet pass document vcr_configur list detail avail paramet importantli call vcr_configur chang vcr set paramet pass function reset vcr set run vcr_configure_reset insert_cassett use_cassett inherit vcr set set vcr_configur wasnt happen consist default paramet valu insert_cassetteuse_cassett set null case inherit whatev valu set vcr_configur overriden minor improv defin _serialize_ _cassette_ _fixture_ readm fix filter_sensitive_data paramet descript vcr_configur doc move higher readm brief descript packag import utilsgetparsedata namespac better cleanup stray test file left disk use_vcr longer use context exampl test file improv document function environ variabl turn vcr use document mostli http test book httpsbooksropensciorghttptestinglightswitchhtml fix use_cassett test add assert vcr_configur paramet set user fail earli bug fix fix handl http request request imag data write data disk addit fix usag preserve_exact_body_byt imag data respons bodi thank rekyt vcr handl request bodi correctli post request request match fail empti bodi bodi one matcher fix sensitive_remov intern function use user set filter_sensitive_data vcr_configur env var miss filter_sensitive_data list sensitive_remov caus c stack error case thank zacharyfost fix record jsonencod bodi vcr wasnt handl http request user set bodi encod json eg encodejson crul httr vcr new featur vcr handl request crul httr write disk crul support disk paramet httr write_disk function see section mock write disk http test book httpsbooksropensciorghttptestingvcrusagehtmlvcrdisk also see mockingdiskwrit within webmockr mock write disk without use vcr section http test book httpsbooksropensciorghttptestingwebmockrstubshtmlwebmockrdisk vcr gain abil complet turn vcr test suit even your use vcruse_cassettevcrinsert_cassett help want run test without vcr workflow support set env var command line well work interact within r see lightswitch detail ignor request work caveat work crul httr work ignor specifc host localhost custom callback see vcr configur vignett httpsdocsropensciorgvcrarticlesconfigurationhtmlignoringsomerequest discuss exampl minor improv document r class much better roxygen offici support r class ad minim cassett name check space allow file extens allow check may ad later bug fix fix handl http respons bodi imag convert raw class bodi charact caus imag error cant convert charact check bodi convert charact leav thank rekyt report simpl auth packag httr wasnt work htrrauthent captur use authent solv properli captur request bodi packag httr request that fix httr adapt fail second run read cach respons fix response_summari fix function print summari http respons bodi sometim function would fail multibyt string error gsub call would chang encod would fail substr call set usebyt true gsub call avoid problem vcr new featur new intern method up_to_date_interact cassette_class allow filter cassett user specifi date rerecord work see new use_casett paramet re_record_interv clean_outdated_http_interact set rerecord interv second exampl alway rerecord cassett dont want cassett x day old depend new intern method up_to_date_interact minor improv fix link http test book ropensci ropenscilab add new section http test book vcr enabl test subsect check vs test packag cran packag continu integr site bug fix fix request bodi match partli fix webmockr packag requir v greater gener make singl type request match eg http method url possibl work work ad exampl singl type match fix type cassette_class typo lead set header correctli webmockrwi_th call vcr new featur gain function use_vcr setup vcr packag requir pkg suggest requir dont need use use_vcr thank maell feedback vcr actual support four record mode none new_episod what use default see record descript record mode test file testause_cassette_record_modesrhttpsgithubcomropenscivcrblobmasterteststestthattestause_cassette_record_modesr give exampl expect record mode futur http test book much inform _record modes_ chapter httpsbooksropensciorghttptestingrecordmodeshtml commithttpsgithubcomropenscivcrcommitaafbdfdbbbefefaa minor improv lot tidi betterconsist style fix partial argument call aslist allnam commithttpsgithubcomropenscivcrcommitbadffdfdeedaafdfd bug fix error thrown httr due wrong date format problem webmockr packag see ropensciwebmockrhttpsgithubcomropensciwebmockrissu thank bisaloo fix use_cassett use httr werent collect status_cod store cassett thank bisaloo fix use_cassett httr work fine singl httr request thank rekyt error block use_cassett url present request there secret api key url queri paramet place url secret shown world includ error block happen ci public web fix use direct filter_sensitive_data call vcr_configur mask secret error messag vcr minor improv typo fix thank rekyt ad doc least one person report differ result use vcr devtoolscheck vs devtoolstest chang suggest usag vcr test suit use_cassett block wrap test_that way around lead testthat point actual test line fail rather point start use_cassett block bug fix fix intern function incorrectli logic comparison header list pass one test statement length dev r test vcr new featur gain support httr packag vcr support crul httr integr httr via webmockr tool resid vcr bug fix fix handl respons bodi raw type vcr new featur releas cran test environ local maco r ubuntu github action r winbuild devel releas r cmd check result error warn note revers depend run r cmd check revers depend summari httpsgithubcomropenscivcractionsqueryworkflowarevdep problem found check relat vcr version fix issu introduc v releas week ago cran caus problem packag depend vcr thank much scott chamberlain provid gener summari chang titl descript describ chang detail relat issu close issu make sure includ eg fix similar relat issu make sure mention like exampl introduc new featur chang behavior exist methodsfunct includ exampl possibl brief form rememb includ test unless your chang grammar pleas includ new test chang contribut bug submit issu issu pagehttpsgithubcomropenscivcrissu code contribut fork repo github account clone version account machin account eg git clone httpsgithubcomyourgithubusernamevcrgit make sure track progress upstream ie version vcr ropenscivcr git remot add upstream httpsgithubcomropenscivcrgit make chang make sure pull chang upstream either git fetch upstream merg later git pull upstream fetch merg one step make chang bonu point make chang new featur branch pleas write test chang affect code doc push account submit pull request home base ropenscivcr also check discuss forumhttpsdiscussropensciorg involv authent share usernamepassword api keystoken issu like maintain equival key issu relat usag packag whether question bug similar along queri pleas past devtoolssession_info sessioninfo code block includ reproduc exampl consid use reprex httpscranrstudiocomwebpackagesreprex delet proceed detail summarystrongsess infostrongsummari r detail revdepcheck result check revers depend compar r cmd check result across cran dev version packag saw new problem fail check packag platform field valu version r version os maco big sur system x_ darwin ui x languag en collat en_usutf ctype en_usutf tz uspacif date depend packag old new Î´ vcr revdep wow problem wow problem output github_docu vcr r echofals knitropts_chunkset comment collaps true warn fals messag fals readmemd gener readmermd pleas edit file cran checkshttpscranchecksinfobadgesworstvcrhttpscranchecksinfopkgsvcr project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact rcheckhttpsgithubcomropenscivcrworkflowsrcheckbadgesvghttpsgithubcomropenscivcract codecovhttpscodecovioghropenscivcrbranchmastergraphbadgesvghttpscodecovioghropenscivcr rstudio mirror downloadshttpscranlogsrpkgorgbadgesvcrhttpsgithubcomrhubcranlogsapp cran versionhttpswwwrpkgorgbadgesversionvcrhttpscranrprojectorgpackagevcr easier http test record http request respons disk replay unit test r packag make independ connect faster complet r port rubi gem vcrhttpsgithubcomvcrvcr elev pitch r childmanrmdhunkselevatorpitchrmd instal cran version r evalfals installpackagesvcr develop version r evalfals remotesinstall_githubropenscivcr r libraryvcr librarycrul doc check http test bookhttpsbooksropensciorghttptest vcr vignetteshttpsdocsropensciorgvcrarticl support http librari crulhttpsdocsropensciorgcrul httrhttpshttrrliborg get start r childmanrmdhunkssetuprmd usag r childmanrmdhunksbasicusagermd terminolog r childmanrmdhunksglossaryrmd workflow r childmanrmdhunksworkflowsrmd work lot detail see vignett internalshttpsdocsropensciorgvcrarticlesinternalshtml want mock store disk your look webmockr vcr use webmockr match request base criteria choos cach http interact disk vcr configur r childmanrmdhunksconfigurationrmd matchingmatch r childmanrmdhunksmatchingrmd vcr languag canon vcr rubi list port languag httpsgithubcomvcrvcr note miss featur r childmanrmdhunksmissingfeaturesrmd exampl packag use vcr rgbif rredlist bold wikitaxa worrm microdem zbank rplo riti contributor scott chamberlainhttpsgithubcomsckott aaron wolenhttpsgithubcomaaronwolen maÃ«ll salmonhttpsgithubcommael meta pleas report issu bugshttpsgithubcomropenscivcrissu licens mit get citat inform vcr r citationpackag vcr pleas note packag releas contributor code conducthttpsropensciorgcodeofconduct contribut project agre abid term webmockr httpsdocsropensciorgwebmockr crul httpsdocsropensciorgcrul rgbif httpsgithubcomropenscirgbif rredlist httpsgithubcomropenscirredlist bold httpsgithubcomropenscibold wikitaxa httpsgithubcomropensciwikitaxa worrm httpsgithubcomropensciworrm microdem httpsgithubcomropenscimicrodem zbank httpsgithubcomropenscilabszbank rplo httpsgithubcomropenscirplo riti httpsgithubcomropenscir titl introduct vcr author scott chamberlain date r sysdat output html_document toc true toc_float true theme readabl vignett vignetteindexentri vcr introduct vignetteengineknitrrmarkdown vignetteencodingutf r echofals knitropts_chunkset comment collaps true warn fals messag fals eval fals vcr introduct vcr r port rubi gem vcrhttpsgithubcomvcrvcr ie translat there rubi vcr help stub record http request dont repeat http request main use case unit test use outsid unit test use case vcr work crul httr http request packag check http test bookhttpsbooksropensciorghttptest lot document vcr webmockr crul packag elev pitch r childmanrmdhunkselevatorpitchrmd evaltru instal cran r evalfals installpackagesvcr develop version r evalfals remotesinstall_githubropenscivcr r libraryvcr get start r childmanrmdhunkssetuprmd evaltru basic usag r childmanrmdhunksbasicusagermd evaltru terminolog r childmanrmdhunksglossaryrmd evaltru workflow r childmanrmdhunksworkflowsrmd evaltru configur r childmanrmdhunksconfigurationrmd evaltru matchingmatch r childmanrmdhunksmatchingrmd evaltru note miss featur r childmanrmdhunksmissingfeaturesrmd evaltru titl configur vcr request match author scott chamberlain date r sysdat output html_document toc true toc_float true theme readabl vignett vignetteindexentri request match vignetteengineknitrrmarkdown vignetteencodingutf r echofals knitropts_chunkset comment collaps true warn fals messag fals request match r childmanrmdhunksrequestmatchingvignettermd evaltru document check http test bookhttpsbooksropensciorghttptest lot document vcr webmockr crul titl debug test use vcr date r sysdat output html_document toc true toc_float true theme readabl vignett vignetteindexentri vcr test debug vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment r setup libraryvcr r childmanrmdhunksdebuggingvignettermd evaltru titl design vcr output rmarkdownhtml_vignett vignett vignetteindexentrydesign vcr vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment r childmanrmdhunksvcrdesignrmd evaltru titl vcr work lot detail output rmarkdownhtml_vignett vignett vignetteindexentryintern vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment r setup libraryvcr r childmanrmdhunksinternalsvignettermd evaltru titl configur vcr author scott chamberlain date r sysdat output html_document toc true toc_float true theme readabl vignett vignetteindexentri vcr configur vignetteengineknitrrmarkdown vignetteencodingutf r echofals knitropts_chunkset comment collaps true warn fals messag fals eval fals vcr configur vcr configur r libraryvcr r childmanrmdhunksconfigurationvignettermd evaltru document check http test bookhttpsbooksropensciorghttptest lot document vcr webmockr crul titl record mode author scott chamberlain date r sysdat output html_document toc true toc_float true theme readabl vignett vignetteindexentryvcr record mode vignetteengineknitrrmarkdown vignetteencodingutf r echofals knitropts_chunkset comment collaps true warn fals messag fals request match r childmanrmdhunksrecordmodesrmd evaltru document check http test bookhttpsbooksropensciorghttptest lot document vcr webmockr crul titl mock write disk author scott chamberlain date r sysdat output html_document toc true toc_float true theme readabl vignett vignetteindexentrywrit disk vignetteengineknitrrmarkdown vignetteencodingutf r echofals knitropts_chunkset comment collaps true warn fals messag fals request match r setup libraryvcr r childmanrmdhunkswritetodiskrmd evaltru document check http test bookhttpsbooksropensciorghttptest lot document vcr webmockr crul titl edit vcr cassett output rmarkdownhtml_vignett vignett vignetteindexentri cassett manual edit vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment r setup libraryvcr r childmanrmdhunkscassetteeditingvignettermd evaltru conclus vignett saw edit vcr cassett also present approach use webmockr instead vcr mock api respons mention edit cassett hand could also write script use yaml jsonlit packag edit yamljson cassett programmat titl turn vcr date r sysdat output html_document toc true toc_float true theme readabl vignett vignetteindexentryturn vcr vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment r setup libraryvcr r childmanrmdhunkslightswitchrmd evaltru r echofals vcrturn_on edit cassett design vcr good record http interact actual took place sometim testingdemo packag want use _fake_ http interact instanc happen web api return code inform error happen return code retri work api return much data even simpl queri want make cassett smaller case edit cassett long awar risk risk relat cassett edit use vcr cassett replac code code vcr turn test fail api probabl return error use vcrskip_if_vcr_off edit cassett hand cant rerecord easili youd need rerecord reappli edit therefor youll need develop good workflow exampl test use edit cassett first write test eg r vcruse_cassetteapierror testhaterror handl well vcrskip_if_vcr_off expect_errorcall_my_api error messag run test first time fail creat cassett testsfixturesapierroryml look someth like yaml http_interact request method get uri httpseuhttpbinorgget bodi encod string header userag libcurl rcurl crul respons statu status_cod messag ok explan request fulfil document follow header statu http ok connect keepal bodi encod utf string n arg n header n accept applicationjson textxml applicationxml n acceptencod gzip deflat n connect close n host httpbinorg n userag libcurl rcurl cruln n origin n url httpseuhttpbinorggetnn recorded_at gmt recorded_with vcr webmockr crul edit new statu code yaml http_interact request method get uri httpseuhttpbinorgget bodi encod string header userag libcurl rcurl crul respons statu status_cod run test pass note use vcrskip_if_vcr_off vcr turn real api request probabl request wont get statu code thing webmockr advantag approach involv edit cassett learn one thing vcr use webmockr directli test also test behavior packag case error assum api_url return url call_my_api call r testhaterror handl well webmockren stub webmockrstub_requestget api_url webmockrto_returnstub statu expect_errorcall_my_api error messag webmockrdis big pro approach work even vcr turn con quit differ vcr syntax exampl test use edit cassett assum packag contain sort retryhttpsblogrhubioretrywheel first write test eg r vcruse_cassetteapierror testhaterror handl well vcrskip_if_vcr_off expect_messageth call_my_api retri messag expect_s_classth datafram run test first time fail creat cassett testsfixturesapierroryml look someth like yaml http_interact request method get uri httpseuhttpbinorgget bodi encod string header userag libcurl rcurl crul respons statu status_cod messag ok explan request fulfil document follow header statu http ok connect keepal bodi encod utf string n arg n header n accept applicationjson textxml applicationxml n acceptencod gzip deflat n connect close n host httpbinorg n userag libcurl rcurl cruln n origin n url httpseuhttpbinorggetnn recorded_at gmt recorded_with vcr webmockr crul duplic http interact make first one return statu code vcr first use first interact second one make request yaml http_interact request method get uri httpseuhttpbinorgget bodi encod string header userag libcurl rcurl crul respons statu status_cod request method get uri httpseuhttpbinorgget bodi encod string header userag libcurl rcurl crul respons statu status_cod messag ok explan request fulfil document follow header statu http ok connect keepal bodi encod utf string n arg n header n accept applicationjson textxml applicationxml n acceptencod gzip deflat n connect close n host httpbinorg n userag libcurl rcurl cruln n origin n url httpseuhttpbinorggetnn recorded_at gmt recorded_with vcr webmockr crul run test pass note use vcrskip_if_vcr_off vcr turn real api request probabl request wont get statu code thing webmockr advantag approach involv edit cassett learn one thing vcr use webmockr directli test also test behavior packag case error assum api_url return url call_my_api call r testhaterror handl well webmockren stub webmockrstub_requestget api_url stub to_returnstatu to_returnstatu bodi n arg n header n accept applicationjson textxml applicationxml n acceptencod gzip deflat n connect close n host httpbinorg n userag libcurl rcurl cruln n origin n url httpseuhttpbinorggetnn header listb expect_messageth call_my_api retri messag expect_s_classth datafram webmockrdis pro approach eleg stub two differ respons webmockr function like to_return even argument time indic number time given respons return con top differ vcr case also need good respons end one code actual bodi write mock much cumbersom record vcr cassett match previous record request vcr tri match new http request previous record one default match http method eg get uri eg httpfoocom follow rubi vcr gem custom match request one follow option default use togeth alon method use method request matcher match request http method ie get post put delet etc gener want use matcher method matcher use along uri matcher default specifi request match uri use uri request matcher match request request uri uri matcher use along method matcher default specifi request match host use host request matcher match request request host use alon combin path altern uri nondeterminist portion uri consid part request match path use path request matcher match request path portion request uri use alon combin host altern uri nondeterminist portion uri queri use queri request matcher match request queri string portion request uri use alon combin other altern uri nondeterminist portion uri consid part request match bodi use bodi request matcher match request request bodi header use header request matcher match request request header set option tweak match_requests_on paramet use_cassett r libraryvcr r echofals evalfals unlinkfilepathcassette_path foo_baryml r eval fals use_cassettenam foo_bar clipostpost bodi lista match_requests_on cmethod header bodi r echofals evalfals unlinkfilepathcassette_path foo_baryml match header r echofals evalfals unlinkfilepathcassette_path nothing_newyml r eval fals librarycrul libraryvcr cli crulhttpclientnewhttpshttpbinorgget header listfoo bar use_cassettenam nothing_new one cliget match_requests_on header cliheadersfoo stuff use_cassettenam nothing_new two cliget match_requests_on header onerequest_head tworequest_head r echofals evalfals unlinkfilepathcassette_path nothing_newyml vcr look similar http request cach request set examin request one follow option bodi header host method path queri uri default use method http method eg get uri test exact match uri eg httpfoocom set option tweak match_requests_on paramet r echofals unlinkfilepathcassette_path oneyml r eval fals use_cassettenam one clipostpost bodi lista match_requests_on cmethod header bodi detail refer request match vignettehttpsdocsropensciorgvcrarticlesrequest_matchinghtml vcr test see usag sectionusag run test check whole packag note user found differ result devtoolscheck vs devtoolstest clear would make differ let us know run problem vcr r project use vcr r project well load vcr project similar exampl use use_cassett run code http request first time real request done cach respons use _vcr_ name come idea want record someth play back later like vcr _cassette_ _thing_ record http interact right option file system write file futur could thing eg keyvalu store like redi _fixture_ fixtur someth use consist test piec softwar case cassett defin fixtur use unit test use setup function vcr_setup default directori creat hold cassett call fixtur signal folder contain persist save request current option file system _serialize_ translat data format store translat http request respons data represent disk read back later serial serial http respons current option yaml option futur could includ eg json _insert cassette_ creat cassett http interact record cassett _eject cassette_ eject cassett longer record cassett _replay_ refer use cach result http request record earlier r echofals messagefals libraryvcr test test whichev test want use vcr wrap vcruse_cassett call like r librarytestthat vcruse_cassetterl_cit test_thatmi test aa rl_citat expect_isaa charact expect_matchaa iucn expect_matchaa wwwiucnredlistorg put vcruse_cassett block insid put testthat expect outsid vcruse_cassett block r librarytestthat test_thatmi test vcruse_cassetterl_cit aa rl_citat expect_isaa charact expect_matchaa iucn expect_matchaa wwwiucnredlistorg dont wrap use_cassett block insid test_that block testthat expect insid use_cassett block youll get line number use_cassett block start failur first time run test cassett ie file record http interact creat testsfixturesrl_citationyml time cassett use chang code http interact need code wrap vcruse_cassetterl_cit delet testsfixturesrl_citationyml run test rerecord cassett outsid test want get feel vcr work although dont need r echofals resultshid evalidenticalsysgetenvin_pkgdown true suppresspackagestartupmessagesrequirevcr quietli true unlinkfilepathcassette_path helloworldyml vcr_configuredir tempdir r evalidenticalsysgetenvin_pkgdown true libraryvcr librarycrul cli crulhttpclientnewurl httpseuhttpbinorg systemtim use_cassettenam helloworld cligetget request get record subsequ request form use cach http respons much faster r evalidenticalsysgetenvin_pkgdown true systemtim use_cassettenam helloworld cligetget r echofals evalidenticalsysgetenvin_pkgdown true unlinkfilepathcassette_path helloworldyml importantli unit test deal input output behind scene use cach http respons thu test run faster cach respons look someth like condens breviti yaml http_interact request method get uri httpseuhttpbinorgget bodi encod string header userag libcurl rcurl crul respons statu status_cod messag ok explan request fulfil document follow header statu http ok connect keepal bodi encod utf string n arg n header n accept applicationjson textxml applicationxml n acceptencod gzip deflat n connect close n host httpbinorg n userag libcurl rcurl cruln n origin n url httpseuhttpbinorggetnn recorded_at gmt recorded_with vcr webmockr crul compon request respons preserv http client case crul reconstruct respons would wasnt use vcr less basic usag tweak thing need make sure read doc configurationhttpsdocsropensciorgvcrarticlesconfigurationhtml eg fixtur save rerecord automat regulari request matchinghttpsdocsropensciorgvcrarticlesrequest_matchinghtml vcr match request record interact see also configur vignettehttpsdocsropensciorgvcrarticlesconfigurationhtml set follow default r echo fals resultsasi collapsetru default revvcr_config_default defaultsunlistlapplydefault ischaract past defaultsunlistlapplydefault ischaract catsprintf sn namesdefault default get default programmat r vcr_config_default chang default vcr_configur r vcr_configur call vcr_configur give import configur paramet nice tidi print r vcr_configur use_cassett easier approach altern use insert_cassett eject_cassett use_cassett insert eject oper instead manual use function eject cassett use insert detail refer configur vignettehttpsdocsropensciorgvcrarticlesconfigurationhtml step use either vcruse_cassett vcrinsert_cassett use vcrinsert_cassett make sure run vcreject_cassett your done stop record first run request vcr there cach data use allow http request request done run real http request stub request webmockr futur request match stub stub r class detail interact request respons disk stub made run real http request disallow http request request done use cach respons last thing write http interact disk mostli human readabl form run request use vcruse_cassett vcrinsert_cassett use webmockr match request cach request sinc stub request first time use cach respons cours differ request even slightli depend match format decid use request match stub cach respons real http request done cach subsequ request pull cach respons webmockr adapt r client crul httr actual intercept http request webmockr load user turn webmockr doesnt actual requir internet localhost connect thing fine match whatev user request match fact webmockr doesnt allow real http request default toggl cours main use case go vcr deal real http request respons allow real http request need turn dont give us flexibl power framework support webmockr vcr integr number r client http request support mani differ format serial disk there number featur packag yet support paramet found packag weve tri make sure paramet ignor mark keep eye packag updat chang paramet andor let us know want move prioriti list setup vcr packag vcruse_vcr tweak configur protect secret sprinkl test vcruse_cassett save http interact disk cassett file want test packag behavior api return eg code edit cassett use webmockrhttpsdocsropensciorgwebmockr test work without internet connect demo ad vcr test r packagehttpsgithubcommaelleexemplighratiapullfil correspond narrativehttpsbooksropensciorghttptestingvcrhtml section explain vcr intern design architectur vcr come r vcr port rubi gem aka librari name port rubi objectori program languag thought would easier use object system r close resembl use rubi least opinion think lead choos r export function user interact r class rather normal r function howev intern code packag use r thu familiar r import peopl may want contribut vcr requir vcr user principl easi use interfac hide complex describ vcr use r intern user interact normal r function intern function quit complic larg r export simpler function user interact normal r function classfunct name inherit rubi vcr sinc r vcr port rubi kept name functionsclass variabl your wonder function class variabl particular name deriv found packag part hook http client perhap fundament thing packag work know http request made stump quit long time look rubi vcr first thought must listen http request somehow found monkey patchingmp see also blog post good summarympblog that achiev rubi rubi vcr packag liter overrid certain method rubi http client hijack intern http client howev monkey patch allow r thu r somehow hook http client r fortun scott maintain one http client crul abl quickli creat hook fortun alreadi hook mechan httr packag actual hook vcr webmockr vcr depend webmockr hook http client httr crul intern class overview import aspect vcr configur intern object vcr_c creat vcr load default vcr configur option insid r class vcrconfig see httpsgithubcomropenscivcrblobmasterronloadr class keep track default user specifi configur option access vcr_c use tripl namespac though intend gener use whenev make call vcr_configur configur function vcr_c affect cassett class cassett r class handl internalsst cassett time run use_cassett class use class quit method there lot go class ideal class would separ subclass handl similar set logic there easi way r note cassett call within initi call webmockr use creat webmockr stub http request handl within webmockr call vcr class requesthandl child class requesthandlercrul requesthandlerhttr crul httr respect class determin http request option http request includ ignor ignor http request certain rule use configur option ignore_host ignore_localhost stub vcr http request match found cassett defin use_cassetteinsert_cassett call case match requestrespons cassett return real http request allow record http request match found cassett defin use_cassetteinsert_cassett call case real http request allow requestrespons record cassett unhandl group case caus error thrown messag tri help user figur fix problem use vcr logginglog youll see categori log serial serial handl format cassett written file disk current option yaml default json yaml implement first vcr that default option rubi vcr r class serial parent class serial type yaml json r class inherit serial yaml json defin two method serial deseri convert r structur yaml json convert yaml json back r structur respect environ log intern environ vcr_log_env use use log point keep track one variabl file abl refer file use log across mani classesfunct need write log file bit housekeep anoth intern environ vcr__env use keep track item includ current cassett use last vcr error lightswitch anoth intern environ light_switch use keep track user turn vcr see lightswitch first version rubi vcr releas februari httpsrubygemsorggemsvcrvers rubi vcr sourc code httpsgithubcomvcrvcr r httpsadvrhadleynzrhtml mp httpsenwikipediaorgwikimonkey_patch mpblog httpscultttcomwhatismonkeypatchinginrubi log httpsdocsropensciorgvcrarticlesdebugginghtmlqlogginglog doc assum use testthat unit test use_vcr set packag use vcr r vcruse_vcr put vcr descript check testthat setup setup testthat set record cassett save sourc testsfixtur setup config file vcr add exampl test file vcr make gitattribut file set vcr make teststestthatsetupvcrr file see r consol use packag vcrexampl assum fixtur testsfixtur ad vcr suggest field descript creat directori teststestthat look testthatr file similar teststestthatr ad ad vcr config teststestthatsetupvcrexampl ad exampl test file teststestthattestvcr_exampl gitattribut ad learn vcr httpsbooksropensciorghttptest protect secret secret often turn api work common exampl api key vcr save respons api yaml file includ secret unless indic vcr protect vcr_configur function filter_sensitive_data argument function situat filter_sensitive_data argument take name list _name_ list string use record cassett _instead of_ secret list _item_ vcr manag replac need edit setupvcrr file like r libraryvcr requir vcr set load invisiblevcrvcr_configur dir fixtur vcrcheck_cassette_nam use filter_sensitive_data argument vcr_configur function show vcr keep secret best way store secret inform renviron file assum alreadi place suppli name list filter_sensitive_data argument r libraryvcr invisiblevcrvcr_configur filter_sensitive_data listmy_api_key sysgetenvapikey add dir fixtur vcrcheck_cassette_nam notic wrote sysgetenvapikey api key directli otherwis youd written api key file might end public repo get secret inform environ make sure whenev vcr record new cassett replac secret inform my_api_key find http test bookhttpsbooksropensciorghttptest chapter secur addit line instruct vcr replac string cassett record equival string store apikey environment variabl mask string my_api_key practic might get yaml look littl like yaml http_interact request method post header accept applicationjson textxml applicationxml contenttyp applicationjson apikey my_api_key apikey environment variabl would store apikey valu vcr realis record string my_api_key instead cassett record vcr longer need api key real request made furthermor default request match includ api key thing work ensur test work absenc real api key eg test pass continu integr extern pull request code repositori vcr need actual api key request cassett creat real request made still need fool _package_ believ api key construct request add follow line testthat setup file eg teststestthatsetupvcrr r nzcharsysgetenvapikey syssetenvapikey foobar use renviron simpl way manag local environment variabl use renviron filehttpsrstatswtfrstartuphtmlrenviron renviron file might look like sh apikeymytotallysecretkey set project user level usethi usethisedit_r_environhttpsusethisrliborgreferenceedithtml function help edit file record mode dictat circumst http requestsrespons record cassett disk set record mode paramet record use_cassett insert_cassett function record mode replay previous record interact record new interact cassett file caus error rais new request cassett file similar new_episod record mode prevent new unexpect request made ie request uri chang whatev default record mode use set one none none record mode replay previous record interact caus error rais new request use code make potenti danger http request none record mode guarante new http request made new_episod new_episod record mode record new interact replay previous record interact similar record mode alway record new interact even exist record one similar ident base match_request_on option record mode record new interact never replay previous record interact temporarili use forc vcr rerecord cassett ie ensur respons date use simpli want log http request r libraryvcr also get default configur variabl via vcr_config_default r vcr_config_default default set load vcr overrid describ set configur variabl use vcr_configur set configur variabl exampl set singl variabl r vcr_configur dir foobarvcr_cassett mani r vcr_configur dir foobarvcr_cassett record reset default r vcr_configure_reset detail config option dir directori cassett store r vcr_configuredir newpath record record mode one none new_episod see record info option r vcr_configurerecord new_episod match_requests_on custom vcr match request r vcr_configurematch_requests_on cqueri header allow_unused_http_interact allow http connect cassett default true thu error http interact unus set fals case vcr error cassett eject http interact use r vcr_configureallow_unused_http_interact fals serialize_with serial use right option yaml r vcr_configureserialize_with yaml persist_with persist use right option filesystem r vcr_configurepersist_with filesystem ignor request ignore_host specifi particular host ignor ignor mean real http request ignor host allow occur other r vcr_configureignore_host googlecom ignore_localhost ignor localhost request r vcr_configureignore_localhost true ignore_request doesnt work yet ignor request ignor request exampl real http request go ignor vcr request handl vcr exampl let say want request googlecom ignor r evalfals vcr_configureignore_host googlecom use_cassettefoo_bar crulhttpclientnewhttpshttpbinorggetget crulhttpclientnewhttpsgooglecomget request httpbinorg handl vcr cassett creat requestrespons url googlecom request ignor cach note ignor request work crul packag work httr later vcr version uri_pars uri parser use default use crulurl_pars use differ one rememb pass function quot namespac r vcr_configureuri_pars urltoolsurl_pars preserve_exact_body_byt http server wellbehav respond invalid data set preserve_exact_body_byt true base encod result bodi order preserv byte exactli asi vcr default sinc baseencod string remov human readabl cassett r vcr_configurepreserve_exact_body_byt true filter_sensitive_data name list valu replac sometim packag script work sensit tokenskey want accident share world record write cassett replac read cassett revers replac get back real data r vcr_configur filter_sensitive_data listsome_api_key sysgetenvmy_api_key record disk env var my_api_key retriev machin find instanc replac some_api_key replay creat http respons object put real valu env var back place target specif request respons header see filter_request_head filter_response_head filter_request_head expect charact vector name list charact vector unnam element list request header remov written cassett name list pass name header valu valu replac real valu request header set remov replac removedreplac cassett request use cassett still crul httr respons object real request creat cassett exampl r vcr_configur filter_request_head author vcr_configur filter_request_head cauthor userag vcr_configur filter_request_head listauthor notmybearertoken filter_response_head expect charact vector name list charact vector unnam element list respons header remov written cassett name list pass name header valu valu replac real valu respons header set remov replac removedreplac cassett request use cassett still crul httr respons object real request creat cassett exampl r vcr_configur filter_response_head server vcr_configur filter_response_head cserver date vcr_configur filter_response_head listserv fakeserv filter_query_paramet expect charact vector name list charact vector unnam element list queri paramet remov paramet name valu written cassett name list pass name queri paramet name valu valu replac real valu respons header set remov replac removedreplac cassett request use cassett still crul httr respons object real request creat cassett bewar match_requests_on option use filter filter queri paramet probabl bad idea match queri given way vcr restor exact http request cassett one queri paramet remov chang one way could filter queri paramet still match queri least complet uri use replac behavior name list instead listab use two valu listacbc c string store cassett could cours replac valu valu environ variabl obscur real valu code public exampl r complet drop paramet user vcr_configur filter_query_paramet user complet drop paramet user api_key vcr_configur filter_query_paramet cuser api_key replac valu paramet api_key fakeapikey note case there way put back valu subsequ request match drop paramet valu compar uri vcr_configur filter_query_paramet listapi_key fakeapikey replac valu found sysgetenvmy_api_key paramet api_key valu foo use cassett subsequ request replac foo valu sysgetenvmy_api_key uri comparison vcr_configur filter_query_paramet listapi_key csysgetenvmy_api_key foo cassett name meaning obviou testfunct relat meaning name import quickli determin test file test block cassett belong note vcr check cassett name meaning duplic duplic cassett name would lead test use wrong cassett space space lead problem use file path includ file extens vcr handl file extens user illeg charact lead problem use file path control charact eg n dot eg window reserv word eg com trail dot longer charact vcrcheck_cassette_nam meant run test setuppkgnam file insid teststestthat directori check cassett name duplic note need duplic cassett name use allowed_dupl paramet check_cassette_nam helper function check_cassette_nam run insid insert_cassett check cassett space file extens unaccept charact slash http request write respons disk use vcr_configur set write_disk_path option see write_disk_path configur option vignetteconfigur packag vcr creat temporari directori set fixtur r tmpdir tempdir vcr_configur dir filepathtmpdir fixtur write_disk_path filepathtmpdir file pass file path doesnt exist yet crul disk paramet vcr take care handl write respons file addit cassett r librarycrul make temp file f tempfilefileext json make request ca use_cassettetest_write_to_disk httpclientnewhttpshttpbinorggetgetdisk f fileexistsoutcont outpars also work httr differ write disk function httrwrite_diskpath rather paramet note write disk use vcr cassett slightli chang instead hold http respons bodi cassett file path respons bodi yaml http_interact request method get uri httpshttpbinorgget respons header statu http ok accesscontrolallowcredenti true bodi encod utf file ye string privatevarfoldersfcng_vrvnsx_stplxbtsgntrtmpwolrfilesfileeedecjson file respons bodi otherwis would string yaml field json arg header accept applicationjson textxml applicationxml acceptencod gzip deflat host httpbinorg userag libcurl rcurl crul origin url httpshttpbinorgget r echofals invisiblevcr_configure_reset sometim test use vcr cassett fail want debug http request made vcr know handl get error start http request made vcr know handl run test mean code test make http request match inform cassett use might ad request chang one slightli easi fix delet cassett rerun test rerecord cassett run test second time ensur well escal next paragraph mayb didnt actual want chang request make make sure request contain someth random someth relat eg time uri httpfoocomtim make sure thing vari might want use mock eg function return current time set random seed use withrhttpswithrrliborg eg set option certain valu test actual debug ideal want run code test run insid test particular use vcr cassett prepar debug environ first need load either vcr helper teststestthathelpervcrr eg via devtoolsload_al sourc vcr setup file teststestthatsetupvcrr ie file line mayb other r libraryvcr invisiblevcrvcr_configur dir vcrvcr_test_pathfixtur filter_sensitive_data listgithub_api_token sysgetenvgithub_pat vcrcheck_cassette_nam instead vcrvcr_test_pathfixtur see fixtur replac fixtur vcrvcr_test_pathfixtur vcrvcr_test_path function meant help exactli want path testsfixtur work test root run code debug one step load vcr helper sourc vcr setup file mayb two also replac fixtur vcrvcr_test_pathfixtur debug look test whose code tri debug eg r foo function crulokhttpshttpbinorgget test_thatfoo work vcruse_cassettetest x foo expect_truex want run code test r foo function crulokhttpshttpbinorgget vcrinsert_cassettetest creat need x foo x interact debug fix vcreject_cassettetest log use vcr built log help debug process configur log use vcr_configur function set logtru set option log log_opt paramet name list see vcr_configur detail set log file temporari file clean end r session file extens log file extens matter r vcrvcr_configur dir vcrvcr_test_pathfixtur log true log_opt listfil filepathtempdir vcrlog logtru continu debug open log file set text editor locat examin shelltermin exampl run block r foo function crulokhttpshttpbinorgget test_thatfoo work vcruse_cassettetest x foo expect_truex open log file well see log step vcr take handl http request log inform cassett use exact time record matcher use cassett option request handl cassett test init httpinteractionlist w request matcher method uri interact cassett test initi option name test record serialize_with yaml persist_with filesystem match_requests_on cmethod uri update_content_length_head fals allow_playback_repeat fals preserve_exact_body_byt fals cassett test handl request head httpshttpbinorgget disabl fals cassett test identifi request type record head httpshttpbinorgget cassett test record http interact head httpshttpbinorgget log isnt meant turn time rather debugginginform purpos return normal develop make sure eject cassett use unless vcr helpersetup file tweak thing would like even need restart r could safe side sometim may need turn vcr either individu function call individu test block whole test file entir packag follow attempt break option vcr follow four export function turned_off turn vcr durat code block turn_off turn vcr complet longer handl everi http request turn_on turn vcr opposit turn_off turned_on ask vcr turn return boolean instead use four function could use environ variabl achiev thing way could enabledis vcr noninteract environ continu integr docker contain run r noninteract command line full set environ variabl vcr use accept true fals vcr_turn_off turn vcr altogeth set true skip vcr usag default fals vcr_turned_off set turned_off intern packag set turn vcr complet vcr_turn_off rather look togeth vcr_ignore_cassett vcr_ignore_cassett set ignore_cassett intern packag set look togeth vcr_turned_off turned_off turnedoff turned_off let temporarili make real http request without complet turn vcr unload etc happen intern turn vcr run code block exit turn vcr back vcr turn durat code block even code block error vcr turn back due use onexitturn_on r libraryvcr librarycrul turned_off con httpclientnewurl httpshttpbinorgget conget r crul respons url httpshttpbinorgget request_head userag libcurl rcurl crul acceptencod gzip deflat accept applicationjson textxml applicationxml response_head statu http ok date fri feb gmt contenttyp applicationjson contentlength connect keepal server gunicorn accesscontrolalloworigin accesscontrolallowcredenti true statu turn_offturn_on turnoffon turn_off differ turned_off turn_off aim singl call block rather turn vcr entir packag turn_off check first turn vcr current cassett use turn_off meant make r ignor vcrinsert_cassett vcruse_cassett block test suit let code block run wrap vcr code run test cach requestsrespons real http request toggl singl r function environ variabl r libraryvcr vcr_configuredir tempdir real http request work vcr engag crulhttpclientnewurl httpseuhttpbinorggetget wrap http request use_cassett vcr engag use_cassettefoo_bar crulhttpclientnewurl httpseuhttpbinorggetget turn ignor cassett use_cassett ignor real http request made turn_offignore_cassett true use_cassettefoo_bar crulhttpclientnewurl httpseuhttpbinorggetget turn dont ignor cassett error thrown turn_offignore_cassett fals use_cassettefoo_bar rescrulhttpclientnewurl httpseuhttpbinorggetget vcr back use_cassett behav turn_on use_cassettefoo_bar rescrulhttpclientnewurl httpseuhttpbinorggetget turned_on turnedon turned_on say tin tell vcr turn r libraryvcr turn_on turned_on turn_off turned_on environ variabl lightswitchenvvar vcr_turn_off environ variabl use within r command line turn vcr exampl run test packag use vcr ignor use_cassetteinsert_cassett usag run command line root packag vcr_turn_offtru rscript e devtoolstest similarli within r r syssetenvvcr_turn_off true devtoolstest vcr_turned_off vcr_ignore_cassett environ variabl use combin achiev thing vcr_turn_off vcr_turned_offtru vcr_ignore_cassettestru rscript e devtoolstest gener roxygen edit hand pleas edit document rrequest_handlerhttrr namerequesthandlerhttr aliasrequesthandlerhttr titlerequesthandlerhttr descript method httr packag build linkrequesthandl exampl dontrun vcr_configur dir tempdir record get request libraryhttr loadhttr_reqrda req x requesthandlerhttrnewreq xhandl post request libraryhttr webmockrhttr_mock mydir filepathtempdir testing_httr invisiblevcr_configuredir mydir use_cassettenam test re posthttpshttpbinorgpost bodi listfoo bar match_requests_on cmethod uri bodi loadhttr_req_postrda insert_cassettetest httr_req_post x requesthandlerhttrnewhttr_req_post x xhandl selfx sectionsup class codelinkvcrrequesthandlervcrrequesthandl coderequesthandlerhttr sectionmethod subsectionpubl method item item hrefmethodnewcoderequesthandlerhttrnew item hrefmethodclonecoderequesthandlerhttrclon ifhtml outdetail open summaryinherit methodssummari item item outspan classpkglink datapkgvcr datatopicrequesthandl dataidhandlehrefvcrhtmlrequesthandlerhtmlmethodhandlecodevcrrequesthandlerhandleoutspan outdetail ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new coderequesthandlerhttr object subsectionusag ifhtmloutdiv classrpreformattedrequesthandlerhttrnewrequestifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderequestth request object class codehttpinteract ifhtmloutdiv subsectionreturn new coderequesthandlerhttr object ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedrequesthandlerhttrclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rascasett nameascassett aliasascassett aliasascassettepath titlecoerc name etc cassett usag ascassettex ascassettepathx argument itemxinput cassett name charact someth coerc cassett itemfurth argument pass codelinkcassettescassett read_cassette_meta valu cassett class codecassett descript coerc name etc cassett coerc cassett path exampl dontrun vcr_configuredir tempfil insert_cassettefoobar cassetteson_disk fals cassetteson_disk true ascassettefoobar on_disk fals eject_cassett eject current cassett cleanup unlinkfilepathtempfil foobaryml gener roxygen edit hand pleas edit document rloggerr namevcr_log aliasvcr_log aliasvcr_log_fil aliasvcr_log_info titlevcr log file setup usag vcr_log_filefil overwrit true vcr_log_infomessag include_d true argument itemfilecharact file path requir itemoverwritelog whether overwrit file file alreadi exist default codetru itemmessagecharact messag log iteminclude_datelog includ date time log entri default codefals descript vcr log file setup exampl user workflow vcr_configur logfil filepathtempdir vcrlog vcr_configuredir tempdir log true log_opt listfil logfil readlineslogfil empti log messag vcr_log_infohello world readlineslogfil vcr_log_infofoo bar readlineslogfil mani messag vcr_log_infocbrown cow blue hors readlineslogfil vcr_log_infocbrown cow blue hors green goat readlineslogfil standalon workflow set file log vcr_log_filef tempfil readlinesf empti log messag vcr_log_infohello world readlineslogfil vcr_log_infofoo bar readlineslogfil cleanup unlinkf unlinklogfil keywordintern gener roxygen edit hand pleas edit document rreal_connectionsr namereal_http_connections_allow aliasreal_http_connections_allow titlear real http connect allow usag real_http_connections_allow valu boolean codetru real http request allow codefals descript real http connect allow exampl real_http_connections_allow gener roxygen edit hand pleas edit document rserializersr nameseri aliasseri aliasserializer_fetch titlecassett serial usag serializer_fetchx yaml name descript keep track cassett serial hashlik object detail strongpriv method describ itemcodeserialize_get get name serial also run codeserializersnew exampl dontrun aa serializersnew aanam aaseri yaml_seri aaserializersnew yaml_seri x serializersnewnam json xserializersnew json_seri xserializersnew json_seri keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodeserializerslist list serial name itemcodenamecharact name serial yaml default json ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodeserializersnew item hrefmethodclonecodeserializersclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new serial object subsectionusag ifhtmloutdiv classrpreformattedserializersnewseri list name yamlifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeserializerslist list serial name itemcodenamecharact name serial yaml default json ifhtmloutdiv subsectionreturn new codeseri object ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedserializersclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rskipvcroffr nameskip_if_vcr_off aliasskip_if_vcr_off titleskip test vcr usag skip_if_vcr_off valu noth skip test descript custom testthat skipper skip test vcr turn via environ variabl codevcr_turn_off detail might use test fail real request cassett eg edit real request produc statu code made statu code test behavior code api error test specif eg test date correctli pars make real request would produc differ date seealso codelinkturn_offturn_off gener roxygen edit hand pleas edit document rresponse_classr namevcrrespons aliasvcrrespons titleth respons httpinteract descript custom vcr http respons object exampl dontrun vcr_configuredir tempdir basic exampl vcrrespons use url httpsgooglecom cli crulhttpclientnewurl url re cligetget queri listq stuff x vcrresponsenewresstatus_http resresponse_head resparseutf resresponse_headersstatu xbodi xstatu xheader xhttp_version xto_hash xfrom_hashxto_hash updat content length header exampl contentlength header present chang url httpsfishbaseropensciorg cli crulhttpclientnewurl url header listacceptencod re cligetspeci x vcrresponsenewresstatus_http resresponse_head resparseutf resresponse_headersstatu xheaderscontentlength xupdate_content_length_head xheaderscontentlength exampl contentlength header bc transferencod header includ contentlength header allow transferencod header use via rfc url httpsgooglecom cli crulhttpclientnewurl url re cliget x vcrresponsenewresstatus_http resresponse_head rawtocharrescont resresponse_headersstatu xheaderscontentlength null xupdate_content_length_head chang bc header doesnt exist xheaderscontentlength null exampl contentlength header present chang bodi hello world x vcrresponsenew listcontentlengthncharbodi bodi http xheaderscontentlength xbodi gsubss xbodi xheaderscontentlength xupdate_content_length_head xheaderscontentlength check bodi compress url httpsfishbaseropensciorg cli crulhttpclientnewurl url re cligetspeci resresponse_head x vcrresponsenewresstatus_http resresponse_head resparseutf resresponse_headersstatu xcontent_encod xis_compress disk url httpsgooglecom cli crulhttpclientnewurl url f tempfil re cligetget queri listq stuff disk f x vcrresponsenewresstatus_http resresponse_head f resresponse_headersstatu disk true keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodestatusth statu respons itemcodeheadersth respons header itemcodebodyth respons bodi itemcodehttp_versionth http version itemcodeoptsa list itemcodeadapter_metadataaddit metadata use specif vcr adapt itemcodehasha list itemcodediska boolean ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodevcrresponsenew item hrefmethodto_hashcodevcrresponseto_hash item hrefmethodfrom_hashcodevcrresponsefrom_hash item hrefmethodupdate_content_length_headercodevcrresponseupdate_content_length_head item hrefmethodget_headercodevcrresponseget_head item hrefmethodedit_headercodevcrresponseedit_head item hrefmethoddelete_headercodevcrresponsedelete_head item hrefmethodcontent_encodingcodevcrresponsecontent_encod item hrefmethodis_compressedcodevcrresponseis_compress item hrefmethodclonecodevcrresponseclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new vcrrespons object subsectionusag ifhtmloutdiv classrpreformattedvcrresponsenew statu header bodi http_version opt adapter_metadata null disk ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodestatusth statu respons itemcodeheadersth respons header itemcodebodyth respons bodi itemcodehttp_versionth http version itemcodeoptsa list itemcodeadapter_metadataaddit metadata use specif vcr adapt itemcodediskboolean bodi file disk ifhtmloutdiv subsectionreturn new codevcrrespons object ifhtmlouthr ifhtmlouta idmethodto_hasha iflatexouthypertargetmethodto_hash subsectionmethod codeto_hash creat hash subsectionusag ifhtmloutdiv classrpreformattedvcrresponseto_hashifhtmloutdiv subsectionreturn list ifhtmlouthr ifhtmlouta idmethodfrom_hasha iflatexouthypertargetmethodfrom_hash subsectionmethod codefrom_hash get hash back r list subsectionusag ifhtmloutdiv classrpreformattedvcrresponsefrom_hashhashifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodehasha list ifhtmloutdiv subsectionreturn codevcrrespons object ifhtmlouthr ifhtmlouta idmethodupdate_content_length_headera iflatexouthypertargetmethodupdate_content_length_head subsectionmethod codeupdate_content_length_head updat contentlength respons header accur respons bodi subsectionusag ifhtmloutdiv classrpreformattedvcrresponseupdate_content_length_headerifhtmloutdiv subsectionreturn return modifi content length header ifhtmlouthr ifhtmlouta idmethodget_headera iflatexouthypertargetmethodget_head subsectionmethod codeget_head get header name subsectionusag ifhtmloutdiv classrpreformattedvcrresponseget_headerkeyifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodekeycharact header name get ifhtmloutdiv subsectionreturn header valu exist ifhtmlouthr ifhtmlouta idmethodedit_headera iflatexouthypertargetmethodedit_head subsectionmethod codeedit_head edit header subsectionusag ifhtmloutdiv classrpreformattedvcrresponseedit_headerkey valu nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodekeycharact header name edit itemcodevaluecharact new valu assign ifhtmloutdiv subsectionreturn return modifi header place ifhtmlouthr ifhtmlouta idmethoddelete_headera iflatexouthypertargetmethoddelete_head subsectionmethod codedelete_head delet header subsectionusag ifhtmloutdiv classrpreformattedvcrresponsedelete_headerkeyifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodekeycharact header name delet ifhtmloutdiv subsectionreturn return header delet exist ifhtmlouthr ifhtmlouta idmethodcontent_encodinga iflatexouthypertargetmethodcontent_encod subsectionmethod codecontent_encod get contentencod header valu subsectionusag ifhtmloutdiv classrpreformattedvcrresponsecontent_encodingifhtmloutdiv subsectionreturn charact contentencod valu ifhtmlouthr ifhtmlouta idmethodis_compresseda iflatexouthypertargetmethodis_compress subsectionmethod codeis_compress check encod one gzip deflat subsectionusag ifhtmloutdiv classrpreformattedvcrresponseis_compressedifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedvcrresponseclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rrequest_classr namerequest aliasrequest titleth request httpinteract descript object handl aspect request exampl url httpseuhttpbinorgpost bodi listfoo bar header list userag libcurl rcurl crul acceptencod gzip deflat accept applicationjson textxml applicationxml x requestnewpost url bodi header xbodi xmethod xuri xhost xpath xheader h xto_hash xfrom_hashh keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodemethodcharact http method itemcodeuricharact uri itemcodeschemecharact scheme http http itemcodehostcharact host eg stufforg itemcodepathcharact path eg foobar itemcodequerycharact queri param name list itemcodebodycharact name list itemcodeheaderscharact name list itemcodeskip_port_strippinglog whether strip thhe port itemcodehashcharact name list intern use itemcodeoptscharact option intern use itemcodedisklog xx itemcodefieldsvari request bodi detail itemcodeoutputvari request output detail disk memori etc ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcoderequestnew item hrefmethodto_hashcoderequestto_hash item hrefmethodfrom_hashcoderequestfrom_hash item hrefmethodclonecoderequestclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new coderequest object subsectionusag ifhtmloutdiv classrpreformattedrequestnewmethod uri bodi header opt disk field outputifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodemethodcharact http method ie head option get post put patch delet itemcodeuricharact request uri itemcodebodycharact request bodi itemcodeheadersnam list request header itemcodeoptsnam list option intern use itemcodediskboolean bodi file disk itemcodefieldsvari post field itemcodeoutputvari output detail ifhtmloutdiv subsectionreturn new coderequest object ifhtmlouthr ifhtmlouta idmethodto_hasha iflatexouthypertargetmethodto_hash subsectionmethod codeto_hash convert request list subsectionusag ifhtmloutdiv classrpreformattedrequestto_hashifhtmloutdiv subsectionreturn list ifhtmlouthr ifhtmlouta idmethodfrom_hasha iflatexouthypertargetmethodfrom_hash subsectionmethod codefrom_hash convert request list subsectionusag ifhtmloutdiv classrpreformattedrequestfrom_hashhashifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodehasha list ifhtmloutdiv subsectionreturn new coderequest object ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedrequestclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rlightswitchr namelightswitch aliaslightswitch aliasturned_off aliasturn_on aliasturned_on aliasturn_off titleturn vcr check onoff statu turn given http call usag turned_off ignore_cassett fals turn_on turned_on turn_offignore_cassett fals argument itemani block code run presum http request itemignore_cassetteslog control happen cassett insert vcr turn codetru pass cassett insert ignor otherwis error rais default codefals descript turn vcr check onoff statu turn given http call detail sometim may need turn codevcr either individu function call individu test block whole test file entir packag follow attempt break option codevcr follow four export function item item codeturned_off turn vcr durat code block item codeturn_off turn vcr complet longer handl everi http request item codeturn_on turn vcr opposit codeturn_off item codeturned_on ask vcr turn return boolean instead use four function could use environ variabl achiev thing way could enabledis codevcr noninteract environ continu integr docker contain run r noninteract command line full set environ variabl codevcr use accept codetru codefals item item codevcr_turn_off turn vcr altogeth set codetru skip vcr usag default codefals item codevcr_turned_off set codeturned_off intern packag set turn vcr complet codevcr_turn_off rather look togeth codevcr_ignore_cassett item codevcr_ignore_cassett set codeignore_cassett intern packag set look togeth codevcr_turned_off subsectionturned_off codeturned_off let temporarili make real http request without complet turn codevcr unload etc happen intern turn codevcr run code block exit turn codevcr back codevcr turn durat code block even code block error codevcr turn back due use codeonexitturn_onifhtmloutdiv classrpreformattedlibraryvcr librarycrul turned_off con httpclientnewurl httpshttpbinorgget conget ifhtmloutdivifhtmloutdiv classrpreformat crul respons url httpshttpbinorgget request_head userag libcurl rcurl crul acceptencod gzip deflat accept applicationjson textxml applicationxml response_head statu http ok date fri feb gmt contenttyp applicationjson contentlength connect keepal server gunicorn accesscontrolalloworigin accesscontrolallowcredenti true statu ifhtmloutdiv subsectionturn_offturn_on codeturn_off differ codeturned_off codeturn_off aim singl call block rather turn codevcr entir packag codeturn_off check first turn codevcr current cassett use codeturn_off meant make r ignor codevcrinsert_cassett codevcruse_cassett block test suit let code block run wrap codevcr code run test cach requestsrespons real http request toggl singl r function environ variableifhtmloutdiv classrpreformattedlibraryvcr vcr_configuredir tempdir real http request work vcr engag crulhttpclientnewurl httpseuhttpbinorggetget wrap http request use_cassett vcr engag use_cassettefoo_bar crulhttpclientnewurl httpseuhttpbinorggetget turn ignor cassett use_cassett ignor real http request made turn_offignore_cassett true use_cassettefoo_bar crulhttpclientnewurl httpseuhttpbinorggetget turn dont ignor cassett error thrown turn_offignore_cassett fals use_cassettefoo_bar rescrulhttpclientnewurl httpseuhttpbinorggetget vcr back use_cassett behav turn_on use_cassettefoo_bar rescrulhttpclientnewurl httpseuhttpbinorggetget ifhtmloutdiv subsectionturned_on codeturned_on say tin tell codevcr turn notifhtmloutdiv classrpreformattedlibraryvcr turn_on turned_on ifhtmloutdivpreformat true ifhtmloutdiv classrpreformattedturn_off ifhtmloutdivpreformat vcr turn see turn_on turn vcr back ifhtmloutdiv classrpreformattedturned_on ifhtmloutdivpreformat fals subsectionenviron variabl codevcr_turn_off environ variabl use within r command line turn codevcr exampl run test packag use codevcr ignor codeuse_cassettecodeinsert_cassett usag run command line root packagepreformattedvcr_turn_offtru rscript e devtoolstest similarli within rifhtmloutdiv classrpreformattedsyssetenvvcr_turn_off true devtoolstest ifhtmloutdiv codevcr_turned_off codevcr_ignore_cassett environ variabl use combin achiev thing codevcr_turn_offpreformattedvcr_turned_offtru vcr_ignore_cassettestru rscript e devtoolstest exampl dontrun vcr_configuredir tempdir turn_on turned_on turn_off turn durat block librarycrul turned_off re httpclientnewurl httpseuhttpbinorggetget re turn complet turn_off librarywebmockr crulmock httpclientnewurl httpseuhttpbinorggetgetverbos true turn_on gener roxygen edit hand pleas edit document rpersistersfil namefilesystem aliasfilesystem titlefil system persist descript builtin cassett persist persist cassett file system detail strongpriv method describ itemcodestorage_loc get storag locat itemcodeabsolute_path_to_fil get absolut path codestorage_loc keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodefile_namecharact file name whole path itemcodewrite_fxncharact fxn use write disk itemcodecontentcharact content record cassett itemcodepathcharact storag directori cassett itemcodewritediskcharact write disk make new filesystem ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodefilesystemnew item hrefmethodget_cassettecodefilesystemget_cassett item hrefmethodis_emptycodefilesystemis_empti item hrefmethodset_cassettecodefilesystemset_cassett item hrefmethodclonecodefilesystemclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new codefilesystem object subsectionusag ifhtmloutdiv classrpreformattedfilesystemnew file_nam null write_fxn null content null path null writedisk fals ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodefile_namecharact file name whole path itemcodewrite_fxncharact fxn use write disk itemcodecontentcharact content record cassett itemcodepathcharact storag directori cassett itemcodewritedisklog write disk make new filesystem object default codefals ifhtmloutdiv subsectionreturn new codefilesystem object ifhtmlouthr ifhtmlouta idmethodget_cassettea iflatexouthypertargetmethodget_cassett subsectionmethod codeget_cassett get cassett given storag key file name subsectionusag ifhtmloutdiv classrpreformattedfilesystemget_cassettefile_nam nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodefile_namecharact file name whole path ifhtmloutdiv subsectionreturn name list codeyamlyamlload_fil ifhtmlouthr ifhtmlouta idmethodis_emptya iflatexouthypertargetmethodis_empti subsectionmethod codeis_empti check cassett empti subsectionusag ifhtmloutdiv classrpreformattedfilesystemis_emptyifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodset_cassettea iflatexouthypertargetmethodset_cassett subsectionmethod codeset_cassett set cassett given storag key file name subsectionusag ifhtmloutdiv classrpreformattedfilesystemset_cassettefile_nam null contentifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodefile_namecharact file name whole path itemcodecontentcharact content record cassett ifhtmloutdiv subsectionreturn return write disk ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedfilesystemclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rrequest_handlercrulr namerequesthandlercrul aliasrequesthandlercrul titlerequesthandlercrul descript method crul packag build linkrequesthandl exampl dontrun vcr_configur dir tempdir record datacrul_request crul_requesturlhandl curlnew_handl crul_request x requesthandlercrulnewcrul_request xhandl bodi match libraryvcr librarycrul vcr_configuredir tempdir log true log_opt listfil filepathtempdir vcrlog cli httpclientnewurl httpshttpbinorg test uri method chang bodi nd block use_cassettenam appl resp clipostpost bodi listfoo bar match_requests_on cmethod uri bodi error bc recordonc interact use_cassettenam appl resp clipostpost bodi listfoo bar resp clipostpost bodi listhello world match_requests_on cmethod uri bodi ca insert_cassettenam appl match_requests_on cmethod uri bodi resp clipostpost bodi listfoo bar eject_cassetteappl test bodi chang method nd block interact use_cassettenam appl x clipostpost bodi listhello world match_requests_on cmethod bodi use_cassettenam appl x cligetpost bodi listhello world match_requests_on cmethod bodi test bodi chang uri nd block use_cassettenam appl x clipostpost bodi listhello world w clipostget bodi listhello world match_requests_on cmethod bodi use_cassettenam appl noth match_requests_on cmethod bodi unlinkfilepathvcr_configurationdir appleyml sectionsup class codelinkvcrrequesthandlervcrrequesthandl coderequesthandlercrul sectionmethod subsectionpubl method item item hrefmethodclonecoderequesthandlercrulclon ifhtml outdetail open summaryinherit methodssummari item item outspan classpkglink datapkgvcr datatopicrequesthandl dataidhandlehrefvcrhtmlrequesthandlerhtmlmethodhandlecodevcrrequesthandlerhandleoutspan item outspan classpkglink datapkgvcr datatopicrequesthandl dataidinitializehrefvcrhtmlrequesthandlerhtmlmethodinitializecodevcrrequesthandlerinitializeoutspan outdetail ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedrequesthandlercrulclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document reject_cassett nameeject_cassett aliaseject_cassett titleeject cassett usag eject_cassett cassett null option list skip_no_unused_interactions_assert null argument itemcassettecharact singl cassett name eject see codenam paramet definit codelinkinsert_cassetteinsert_cassett cassett name rule itemoptionslist list option appli eject process itemskip_no_unused_interactions_assertionlog codetru skip unus http interact assert enabl codeallow_unused_http_interact fals cassett option intend use test error test framework alreadi handl ignor valu eject cassett one descript eject cassett exampl vcr_configuredir tempdir insert_cassettehello x current_cassett default current cassett x eject_cassett x also select cassett name eject_cassettecassett hello seealso codelinkuse_cassetteuse_cassett codelinkinsert_cassetteinsert_cassett gener roxygen edit hand pleas edit document rrequest_matcher_registryr namerequestmatcherregistri aliasrequestmatcherregistri titlerequestmatcherregistri descript handl request matcher note rfrom new request rfrom record interact exampl dontrun x requestmatcherregistrynew xdefault_match xregistri sectionpubl field ifhtmloutdiv classrfield describ itemcoderegistryinitialz registri list request leav empti itemcodedefault_matchersrequest matcher use default method uri ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcoderequestmatcherregistrynew item hrefmethodregistercoderequestmatcherregistryregist item hrefmethodregister_built_inscoderequestmatcherregistryregister_built_in item hrefmethodtry_to_register_body_as_jsoncoderequestmatcherregistrytry_to_register_body_as_json item hrefmethodclonecoderequestmatcherregistryclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new requestmatcherregistri object subsectionusag ifhtmloutdiv classrpreformattedrequestmatcherregistrynew registri list default_match listmethod uri ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderegistryinitialz registri list request leav empti itemcodedefault_matchersrequest matcher use default method uri ifhtmloutdiv subsectionreturn new coderequestmatcherregistri object ifhtmlouthr ifhtmlouta idmethodregistera iflatexouthypertargetmethodregist subsectionmethod coderegist regist custom matcher subsectionusag ifhtmloutdiv classrpreformattedrequestmatcherregistryregisternam funcifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodenamematch name itemcodefuncfunct describ matcher return singl boolean ifhtmloutdiv subsectionreturn return regist matcher ifhtmlouthr ifhtmlouta idmethodregister_built_insa iflatexouthypertargetmethodregister_built_in subsectionmethod coderegister_built_in regist built matcher subsectionusag ifhtmloutdiv classrpreformattedrequestmatcherregistryregister_built_insifhtmloutdiv subsectionreturn return regist built matcher ifhtmlouthr ifhtmlouta idmethodtry_to_register_body_as_jsona iflatexouthypertargetmethodtry_to_register_body_as_json subsectionmethod codetry_to_register_body_as_json tri regist bodi json subsectionusag ifhtmloutdiv classrpreformattedrequestmatcherregistrytry_to_register_body_as_jsonr rifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcod rlinkrequest class object ifhtmloutdiv subsectionreturn return regist matcher ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedrequestmatcherregistryclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rrecordingr namerecord aliasrecord titlevcr record option descript vcr record option detail record mode dictat circumst http requestsrespons record cassett disk set record mode paramet coderecord codeuse_cassett codeinsert_cassett function subsectiononc codeonc record mode item item replay previous record interact item record new interact cassett file item caus error rais new request cassett file similar codenew_episod record mode prevent new unexpect request made ie request uri chang whatev codeonc default record mode use set one subsectionnon codenon record mode item item replay previous record interact item caus error rais new request use code make potenti danger http request codenon record mode guarante new http request made subsectionnew_episod codenew_episod record mode item item record new interact item replay previous record interact similar codeonc record mode strongalway record new interact even exist record one similar ident base codematch_request_on option subsectional codeal record mode item item record new interact item never replay previous record interact temporarili use forc vcr rerecord cassett ie ensur respons date use simpli want log http request gener roxygen edit hand pleas edit document rhttp_interaction_listr namehttpinteractionlist aliashttpinteractionlist titlehttpinteractionlist class descript keep track linkhttpinteract object detail strongpriv method describ itemcodehas_unused_interact unus interact return boolean itemcodematching_interaction_index_for asdfadf itemcodematching_used_interaction_forrequest asdfadf itemcodeinteraction_matches_requestrequest interact check request match interact logic itemcodefrom_hash get hash back itemcoderequest_summaryz get request summari charact itemcoderesponse_summaryz get respons summari charact exampl dontrun vcr_configur dir tempdir record make interact make request turn mock crulmockfals url httpseuhttpbinorgpost cli crulhttpclientnewurl url re clipostbodi lista request request requestnewpost url lista reshead respons respons vcrresponsenew resstatus_http resresponse_head resparseutf resresponse_headersstatu make interact inter httpinteractionnewrequest request respons respons make interactionlist x httpinteractionlistnew interact listint request_match vcr_configurationmatch_requests_on xinteract xrequest_match xparent_list xparent_listresponse_for xparent_listhas_interaction_match xparent_listhas_used_interaction_match xparent_listremaining_unused_interaction_count xused_interact xallow_playback_repeat xinteract xresponse_forrequest sectionpubl field ifhtmloutdiv classrfield describ itemcodeinteractionslist list interact class object itemcoderequest_matcherscharact vector request matcher itemcodeallow_playback_repeatswheth allow playback repeat itemcodeparent_lista list empti object see codenulllist itemcodeused_interactionslist interact use ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodehttpinteractionlistnew item hrefmethodresponse_forcodehttpinteractionlistresponse_for item hrefmethodhas_interaction_matchingcodehttpinteractionlisthas_interaction_match item hrefmethodhas_used_interaction_matchingcodehttpinteractionlisthas_used_interaction_match item hrefmethodremaining_unused_interaction_countcodehttpinteractionlistremaining_unused_interaction_count item hrefmethodassert_no_unused_interactionscodehttpinteractionlistassert_no_unused_interact item hrefmethodclonecodehttpinteractionlistclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new codehttpinteractionlist object subsectionusag ifhtmloutdiv classrpreformattedhttpinteractionlistnew interact request_match allow_playback_repeat fals parent_list nulllistnew used_interact list ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeinteractionslist list interact class object itemcoderequest_matcherscharact vector request matcher itemcodeallow_playback_repeatswheth allow playback repeat itemcodeparent_lista list empti object see codenulllist itemcodeused_interactionslist interact use interact disk current cassett request made match interact ifhtmloutdiv subsectionreturn new codehttpinteractionlist object ifhtmlouthr ifhtmlouta idmethodresponse_fora iflatexouthypertargetmethodresponse_for subsectionmethod coderesponse_for check there match interact return respons object subsectionusag ifhtmloutdiv classrpreformattedhttpinteractionlistresponse_forrequestifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderequestth request object class codehttpinteract ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodhas_interaction_matchinga iflatexouthypertargetmethodhas_interaction_match subsectionmethod codehas_interaction_match check match interact subsectionusag ifhtmloutdiv classrpreformattedhttpinteractionlisthas_interaction_matchingrequestifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderequestth request object class codehttpinteract ifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodhas_used_interaction_matchinga iflatexouthypertargetmethodhas_used_interaction_match subsectionmethod codehas_used_interaction_match check use interact match given request subsectionusag ifhtmloutdiv classrpreformattedhttpinteractionlisthas_used_interaction_matchingrequestifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderequestth request object class codehttpinteract ifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodremaining_unused_interaction_counta iflatexouthypertargetmethodremaining_unused_interaction_count subsectionmethod coderemaining_unused_interaction_count number unus interact subsectionusag ifhtmloutdiv classrpreformattedhttpinteractionlistremaining_unused_interaction_countifhtmloutdiv subsectionreturn integ ifhtmlouthr ifhtmlouta idmethodassert_no_unused_interactionsa iflatexouthypertargetmethodassert_no_unused_interact subsectionmethod codeassert_no_unused_interact check unus interact left subsectionusag ifhtmloutdiv classrpreformattedhttpinteractionlistassert_no_unused_interactionsifhtmloutdiv subsectionreturn variou ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedhttpinteractionlistclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rrequest_respons namerequest_respons aliasrequest_respons aliasrequest_summari aliasresponse_summari titlerequest respons summari method usag request_summaryrequest request_match response_summaryrespons argument itemrequesta linkrequest object itemrequest_matcherscharact vector matcher default code itemresponsea linkvcrrespons object valu charact string either request respons descript request respons summari method detail default method uri includ request summari bodi andor header specifi coderequest_match also includ http statu code respons bodi includ respons summari respons bodi truncat max charact coderesponse_summari use linkgsub codeusebytestru avoid problem sometim seen multibyt string shouldnt affect dataetc print summari respons exampl request url httpshttpbinorg bodi listfoo bar header list userag rcurl acceptencod gzip deflat accept applicationjson x requestnewpost url bodi header request_summaryrequest x request_summaryrequest x cmethod uri request_summaryrequest x cmethod uri bodi request_summaryrequest x cmethod uri header request_summaryrequest x cmethod uri bodi header respons statu liststatus_cod messag ok explan request fulfil document follow header list statu http ok connect keepal date tue apr gmt response_bodi arg q stuff header accept texthtmln x vcrresponsenewstatu header response_bodi http ok response_summaryx binari bodi path teststestthatpng_egrda loadpath x vcrresponsenewstatu header png_eg http ok response_summaryx keywordintern gener roxygen edit hand pleas edit document rcassette_classr namecassett aliascassett titlecassett handler valu object class codecassett descript main r class call main user face function codelinkuse_cassetteuse_cassett sectionpoint webmockr integr item item codeiniti webmockr use codeiniti method creat webmockr stub stub creat call codecassettenew within codeinsert_cassett exit codeuse_cassett call codeeject codecassett class codeinsert_cassett stub clean item codeeject method codelinkwebmockrenablewebmockrdis call exit eject disabl webmock webmockr affect http request happen afterward item codecall_block method call_block use codelinkuse_cassetteuse_cassett function evalu whatev code pass within call_block codelinkwebmockrwebmockr_configurewebmockrwebmockr_allow_net_connect run evalu code block allow real http request codelinkwebmockrwebmockr_configurewebmockrwebmockr_disable_net_connect call evalul code block disallow real http request item codemake_http_interact method codelinkwebmockrpluck_bodywebmockrpluck_bodi util function use pull request bodi http request item codeserialize_to_crul method method linkwebmockrrequestsignaturewebmockrrequestsignatur linkwebmockrresponsewebmockrrespons use build request respons respect pass codelinkwebmockrbuild_crul_responsewebmockrbuild_crul_respons make complet codecrul http respons object exampl libraryvcr vcr_configuredir tempdir re cassettenewnam bob resfil resoriginally_recorded_at resrecord resserializable_hash reseject resshould_remove_matching_existing_interact resstorage_key resmatch_requests_on record request re cassettenewfoobar record reseject cleanup unlinkfilepathtempdir cbobyml foobaryml libraryvcr vcr_configuredir tempdir re cassettenewnam jane librarycrul httpclientnewhttpshttpbinorggetget seealso codelinkvcr_configurevcr_configur codelinkuse_cassetteuse_cassett codelinkinsert_cassetteinsert_cassett keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodenamecharact cassett name itemcoderecordcharact record mode itemcodemanfilecharact cassett file path itemcoderecorded_atcharact datetim record itemcodeserialize_withcharact serial use yamljson itemcodeserializercharact serial use yamljson itemcodepersist_withcharact persist use filesystem itemcodepersistercharact persist use filesystem itemcodematch_requests_oncharact matcher use default method uri itemcodere_record_intervalnumer rerecord interv itemcodetagignor use right itemcodetagsignor use right itemcoderoot_dirroot dir gather codelinkvcr_configurationvcr_configur itemcodeupdate_content_length_headerlog whether overwrit codecontentlength header itemcodeallow_playback_repeatslog whether allow singl http interact play back multipl time itemcodeallow_unused_http_interactionslog ignor use right itemcodeexclusivelog ignor use right itemcodepreserve_exact_body_byteslog whether base encod byte request respons itemcodeargslist intern use itemcodehttp_interactions_list intern use itemcodenew_recorded_interactionslist intern use itemcodeclean_outdated_http_interactionslog outdat interact record back file itemcodeto_returnlog intern use itemcodecassette_optslist variou cassett option ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodecassettenew item hrefmethodprintcodecassetteprint item hrefmethodcall_blockcodecassettecall_block item hrefmethodejectcodecassetteeject item hrefmethodfilecodecassettefil item hrefmethodrecordingcodecassetterecord item hrefmethodis_emptycodecassetteis_empti item hrefmethodoriginally_recorded_atcodecassetteoriginally_recorded_at item hrefmethodserializable_hashcodecassetteserializable_hash item hrefmethodinteractions_to_recordcodecassetteinteractions_to_record item hrefmethodmerged_interactionscodecassettemerged_interact item hrefmethodup_to_date_interactionscodecassetteup_to_date_interact item hrefmethodshould_re_recordcodecassetteshould_re_record item hrefmethodshould_stub_requestscodecassetteshould_stub_request item hrefmethodshould_remove_matching_existing_interactionscodecassetteshould_remove_matching_existing_interact item hrefmethodstorage_keycodecassettestorage_key item hrefmethodraw_cassette_bytescodecassetteraw_cassette_byt item hrefmethodmake_dircodecassettemake_dir item hrefmethoddeserialized_hashcodecassettedeserialized_hash item hrefmethodpreviously_recorded_interactionscodecassettepreviously_recorded_interact item hrefmethodwrite_recorded_interactions_to_diskcodecassettewrite_recorded_interactions_to_disk item hrefmethodrecord_http_interactioncodecassetterecord_http_interact item hrefmethodany_new_recorded_interactionscodecassetteany_new_recorded_interact item hrefmethodmake_argscodecassettemake_arg item hrefmethodwrite_metadatacodecassettewrite_metadata item hrefmethodhttp_interactionscodecassettehttp_interact item hrefmethodmake_http_interactioncodecassettemake_http_interact item hrefmethodserialize_to_crulcodecassetteserialize_to_crul item hrefmethodclonecodecassetteclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new codecassett object subsectionusag ifhtmloutdiv classrpreformattedcassettenew name record serialize_with persist_with match_requests_on re_record_interv tag tag update_content_length_head allow_playback_repeat allow_unused_http_interact exclus preserve_exact_body_byt clean_outdated_http_interact ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodenameth name cassett vcr sanit ensur valid file name itemcoderecordth record mode default futur well support none new_episod see linkrecord inform itemcodeserialize_withcharact serial use valid valu yaml default one support itemcodepersist_withcharact cassett persist use default file_system also regist use custom persist itemcodematch_requests_onlist request matcher use determin record http interact replay default verbmethod uri builtin matcher method uri header bodi host path support yet futur version itemcodere_record_intervalnumer given cassett rerecord given interv second itemcodetag tagstag ignor use right itemcodeupdate_content_length_headerlog whether overwrit codecontentlength header respons match length respons bodi default codefals itemcodeallow_playback_repeatslog whether allow singl http interact play back multipl time default codefals itemcodeallow_unused_http_interactionslog ignor use right itemcodeexclusivelog ignor use right itemcodepreserve_exact_body_byteslog whether base encod byte request respons cassett serial see also codepreserve_exact_body_byt codelinkvcr_configurevcr_configur default codefals itemcodeclean_outdated_http_interactionslog outdat interact record back file default codefals ifhtmloutdiv subsectionreturn new codecassett object ifhtmlouthr ifhtmlouta idmethodprinta iflatexouthypertargetmethodprint subsectionmethod codeprint print method codecassett object subsectionusag ifhtmloutdiv classrpreformattedcassetteprintx ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexself itemcodeignor ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodcall_blocka iflatexouthypertargetmethodcall_block subsectionmethod codecall_block run code subsectionusag ifhtmloutdiv classrpreformattedcassettecall_blockifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodepass thing evalu ifhtmloutdiv subsectionreturn variou ifhtmlouthr ifhtmlouta idmethodejecta iflatexouthypertargetmethodeject subsectionmethod codeeject eject current cassett subsectionusag ifhtmloutdiv classrpreformattedcassetteejectifhtmloutdiv subsectionreturn self ifhtmlouthr ifhtmlouta idmethodfilea iflatexouthypertargetmethodfil subsectionmethod codefil get file path cassett subsectionusag ifhtmloutdiv classrpreformattedcassettefileifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodrecordinga iflatexouthypertargetmethodrecord subsectionmethod coderecord cassett record mode subsectionusag ifhtmloutdiv classrpreformattedcassetterecordingifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodis_emptya iflatexouthypertargetmethodis_empti subsectionmethod codeis_empti cassett disk empti subsectionusag ifhtmloutdiv classrpreformattedcassetteis_emptyifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodoriginally_recorded_ata iflatexouthypertargetmethodoriginally_recorded_at subsectionmethod codeoriginally_recorded_at timestamp cassett origin record subsectionusag ifhtmloutdiv classrpreformattedcassetteoriginally_recorded_atifhtmloutdiv subsectionreturn posixct date ifhtmlouthr ifhtmlouta idmethodserializable_hasha iflatexouthypertargetmethodserializable_hash subsectionmethod codeserializable_hash get list http interact record recorded_with subsectionusag ifhtmloutdiv classrpreformattedcassetteserializable_hashifhtmloutdiv subsectionreturn list ifhtmlouthr ifhtmlouta idmethodinteractions_to_recorda iflatexouthypertargetmethodinteractions_to_record subsectionmethod codeinteractions_to_record get list http interact record subsectionusag ifhtmloutdiv classrpreformattedcassetteinteractions_to_recordifhtmloutdiv subsectionreturn list ifhtmlouthr ifhtmlouta idmethodmerged_interactionsa iflatexouthypertargetmethodmerged_interact subsectionmethod codemerged_interact get interact record subsectionusag ifhtmloutdiv classrpreformattedcassettemerged_interactionsifhtmloutdiv subsectionreturn list ifhtmlouthr ifhtmlouta idmethodup_to_date_interactionsa iflatexouthypertargetmethodup_to_date_interact subsectionmethod codeup_to_date_interact clean old interact base re_record_interv clean_outdated_http_interact set subsectionusag ifhtmloutdiv classrpreformattedcassetteup_to_date_interactionsinteractionsifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeinteractionslist http interact class linkhttpinteract ifhtmloutdiv subsectionreturn list interact record ifhtmlouthr ifhtmlouta idmethodshould_re_recorda iflatexouthypertargetmethodshould_re_record subsectionmethod codeshould_re_record rerecord interact subsectionusag ifhtmloutdiv classrpreformattedcassetteshould_re_recordifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodshould_stub_requestsa iflatexouthypertargetmethodshould_stub_request subsectionmethod codeshould_stub_request record mode subsectionusag ifhtmloutdiv classrpreformattedcassetteshould_stub_requestsifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodshould_remove_matching_existing_interactionsa iflatexouthypertargetmethodshould_remove_matching_existing_interact subsectionmethod codeshould_remove_matching_existing_interact record mode subsectionusag ifhtmloutdiv classrpreformattedcassetteshould_remove_matching_existing_interactionsifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodstorage_keya iflatexouthypertargetmethodstorage_key subsectionmethod codestorage_key get serial path subsectionusag ifhtmloutdiv classrpreformattedcassettestorage_keyifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodraw_cassette_bytesa iflatexouthypertargetmethodraw_cassette_byt subsectionmethod coderaw_cassette_byt get charact string entir cassett byte misnom subsectionusag ifhtmloutdiv classrpreformattedcassetteraw_cassette_bytesifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodmake_dira iflatexouthypertargetmethodmake_dir subsectionmethod codemake_dir creat directori hold cassett present subsectionusag ifhtmloutdiv classrpreformattedcassettemake_dirifhtmloutdiv subsectionreturn return creat directori recurs miss ifhtmlouthr ifhtmlouta idmethoddeserialized_hasha iflatexouthypertargetmethoddeserialized_hash subsectionmethod codedeserialized_hash get http interact cassett via serial subsectionusag ifhtmloutdiv classrpreformattedcassettedeserialized_hashifhtmloutdiv subsectionreturn list ifhtmlouthr ifhtmlouta idmethodpreviously_recorded_interactionsa iflatexouthypertargetmethodpreviously_recorded_interact subsectionmethod codepreviously_recorded_interact get previous record interact subsectionusag ifhtmloutdiv classrpreformattedcassettepreviously_recorded_interactionsifhtmloutdiv subsectionreturn list ifhtmlouthr ifhtmlouta idmethodwrite_recorded_interactions_to_diska iflatexouthypertargetmethodwrite_recorded_interactions_to_disk subsectionmethod codewrite_recorded_interactions_to_disk write record interact disk subsectionusag ifhtmloutdiv classrpreformattedcassettewrite_recorded_interactions_to_diskifhtmloutdiv subsectionreturn noth return ifhtmlouthr ifhtmlouta idmethodrecord_http_interactiona iflatexouthypertargetmethodrecord_http_interact subsectionmethod coderecord_http_interact record http interact doesnt write disk subsectionusag ifhtmloutdiv classrpreformattedcassetterecord_http_interactionxifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexan crul httr respons object request verbrequest ifhtmloutdiv subsectionreturn noth return ifhtmlouthr ifhtmlouta idmethodany_new_recorded_interactionsa iflatexouthypertargetmethodany_new_recorded_interact subsectionmethod codeany_new_recorded_interact new record interact subsectionusag ifhtmloutdiv classrpreformattedcassetteany_new_recorded_interactionsifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodmake_argsa iflatexouthypertargetmethodmake_arg subsectionmethod codemake_arg make list option subsectionusag ifhtmloutdiv classrpreformattedcassettemake_argsifhtmloutdiv subsectionreturn noth return ifhtmlouthr ifhtmlouta idmethodwrite_metadataa iflatexouthypertargetmethodwrite_metadata subsectionmethod codewrite_metadata write metadata cassett subsectionusag ifhtmloutdiv classrpreformattedcassettewrite_metadataifhtmloutdiv subsectionreturn noth return ifhtmlouthr ifhtmlouta idmethodhttp_interactionsa iflatexouthypertargetmethodhttp_interact subsectionmethod codehttp_interact make linkhttpinteractionlist object assign http_interactions_ var subsectionusag ifhtmloutdiv classrpreformattedcassettehttp_interactionsifhtmloutdiv subsectionreturn noth return ifhtmlouthr ifhtmlouta idmethodmake_http_interactiona iflatexouthypertargetmethodmake_http_interact subsectionmethod codemake_http_interact make codehttpinteract object subsectionusag ifhtmloutdiv classrpreformattedcassettemake_http_interactionxifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexan crul httr respons object request verbrequest ifhtmloutdiv subsectionreturn object class linkhttpinteract ifhtmlouthr ifhtmlouta idmethodserialize_to_crula iflatexouthypertargetmethodserialize_to_crul subsectionmethod codeserialize_to_crul make crul respons object subsectionusag ifhtmloutdiv classrpreformattedcassetteserialize_to_crulifhtmloutdiv subsectionreturn crul respons ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedcassetteclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rserializersjsonr namejson aliasjson titleth json serial descript class method serial via pkgjsonlit keywordintern sectionsup class codelinkvcrserializervcrseri codejson sectionmethod subsectionpubl method item item hrefmethodnewcodejsonnew item hrefmethodserializecodejsonseri item hrefmethoddeserializecodejsondeseri item hrefmethodclonecodejsonclon ifhtml outdetail open summaryinherit methodssummari item outdetail ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new codejson object subsectionusag ifhtmloutdiv classrpreformattedjsonnewpath nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodepathcharact full path yaml file ifhtmloutdiv subsectionreturn new codejson object ifhtmlouthr ifhtmlouta idmethodserializea iflatexouthypertargetmethodseri subsectionmethod codeseri serial given hash use intern fxn write_json subsectionusag ifhtmloutdiv classrpreformattedjsonserializex path bytesifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexlist object serial itemcodepathcharact file path itemcodebyteslog whether preserv exact bodi byte ifhtmloutdiv subsectionreturn charact json string write disk ifhtmlouthr ifhtmlouta idmethoddeserializea iflatexouthypertargetmethoddeseri subsectionmethod codedeseri deseri content file path use jsonlitefromjson subsectionusag ifhtmloutdiv classrpreformattedjsondeserializeifhtmloutdiv subsectionreturn list deseri object r list ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedjsonclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rserializerr nameseri aliasseri titleseri class base class jsonyaml serial descript serial class base class jsonyaml serial serial class base class jsonyaml serial keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodefile_extensioncharact file extens itemcodepathcharact full path yaml file ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodeserializernew item hrefmethodserializecodeserializerseri item hrefmethoddeserializecodeserializerdeseri item hrefmethodclonecodeserializerclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new yaml object subsectionusag ifhtmloutdiv classrpreformattedserializernewfile_extens null path nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodefile_extensioncharact file extens itemcodepathcharact path cassett exclud cassett directori file extens ifhtmloutdiv subsectionreturn new codeyaml object ifhtmlouthr ifhtmlouta idmethodserializea iflatexouthypertargetmethodseri subsectionmethod codeseri serial hash replac yamljson method subsectionusag ifhtmloutdiv classrpreformattedserializerserializex path bytesifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexlist object serial itemcodepathcharact file path itemcodebyteslog whether preserv exact bodi byte ifhtmloutdiv subsectionreturn charact yaml json string write disk ifhtmlouthr ifhtmlouta idmethoddeserializea iflatexouthypertargetmethoddeseri subsectionmethod codedeseri serial file replac yamljson method subsectionusag ifhtmloutdiv classrpreformattedserializerdeserializeifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedserializerclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rvcrpackag doctypepackag namevcr aliasvcr aliasvcrpackag titlevcr record http call disk descript pkgvcr record test suit http request replay futur run detail check hrefhttpsbooksropensciorghttptestinghttp test book lot document codevcr codewebmockr codecrul sectionbackstori rubi gem name codevcr urlhttpsgithubcomvcrvcr creat mani year ago origin port mani languag done check github repo detail canon version work sectionmain function linkuse_cassett function like youll want use set cassett want record insert cassett eject cassett record interact cassett instead use linkinsert_cassett make sure use linkeject_cassett sectionvcr configur linkvcr_configur function use set r session wide set see manual file help sectionrecord mode see linkrecord help record mode sectionrequest match see linkrequestmatch help mani request match option author scott chamberlain emailmyrmecocystusgmailcom gener roxygen edit hand pleas edit document rhttp_interactionsr namehttp_interact aliashttp_interact titleget http interact current cassett usag http_interact valu object class codehttpinteractionlist current cassett use codenulllist cassett use descript get http interact current cassett exampl dontrun vcr_configuredir tempdir insert_cassettefoo_bar webmockrwebmockr_allow_net_connect librarycrul cli crulhttpclientnewhttpseuhttpbinorgget one cligetqueri lista z http_interact z zinteract zused_interact eject request written cassett eject_cassettefoo_bar insert cassett insert_cassettefoo_bar interact present z http_interact zinteract zused_interact invisiblecligetqueri lista zused_interact cleanup unlinkfilepathtempdir foo_baryml gener roxygen edit hand pleas edit document rrequest_ignorerr namerequestignor aliasrequestignor titlerequest ignor descript request ignor method keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodelocalhost_aliasesa constant valu localhost itemcodeignored_hostsvector ignor host uri ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcoderequestignorernew item hrefmethodignore_requestcoderequestignorerignore_request item hrefmethodignore_localhostcoderequestignorerignore_localhost item hrefmethodignore_localhost_valuecoderequestignorerignore_localhost_valu item hrefmethodignore_hostscoderequestignorerignore_host item hrefmethodshould_be_ignoredcoderequestignorershould_be_ignor item hrefmethodclonecoderequestignorerclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new coderequestignor object subsectionusag ifhtmloutdiv classrpreformattedrequestignorernewifhtmloutdiv subsectionreturn new coderequestignor object ifhtmlouthr ifhtmlouta idmethodignore_requesta iflatexouthypertargetmethodignore_request subsectionmethod codeignore_request ignor request given function return codetru subsectionusag ifhtmloutdiv classrpreformattedrequestignorerignore_requestifhtmloutdiv subsectionreturn return defin request ignor hook ifhtmlouthr ifhtmlouta idmethodignore_localhosta iflatexouthypertargetmethodignore_localhost subsectionmethod codeignore_localhost ignor localhost valu localhost subsectionusag ifhtmloutdiv classrpreformattedrequestignorerignore_localhostifhtmloutdiv subsectionreturn return set ignor localhost alias ifhtmlouthr ifhtmlouta idmethodignore_localhost_valuea iflatexouthypertargetmethodignore_localhost_valu subsectionmethod codeignore_localhost_valu ignor specif name localhost subsectionusag ifhtmloutdiv classrpreformattedrequestignorerignore_localhost_valuevalueifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodevaluecharact localhost valu ignor eg localhost ifhtmloutdiv subsectionreturn return defin request ignor hook ifhtmlouthr ifhtmlouta idmethodignore_hostsa iflatexouthypertargetmethodignore_host subsectionmethod codeignore_host ignor name host subsectionusag ifhtmloutdiv classrpreformattedrequestignorerignore_hostshostsifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodehostscharact vector host ignor ifhtmloutdiv subsectionreturn return add host ignor ifhtmlouthr ifhtmlouta idmethodshould_be_ignoreda iflatexouthypertargetmethodshould_be_ignor subsectionmethod codeshould_be_ignor method determin whether ignor request subsectionusag ifhtmloutdiv classrpreformattedrequestignorershould_be_ignoredrequestifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderequestrequest ignor ifhtmloutdiv subsectionreturn return defin request ignor hook ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedrequestignorerclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rvcr_setupr nameuse_vcr aliasuse_vcr titlesetup vcr packag usag use_vcrdir verbos true argument itemdircharact path packag root default current directori itemverboselog print progress messag default codetru valu messag progress return invis descript setup vcr packag detail set mimimum vcr version usual latest stabl version cran cours easili remov chang version requir run function gener roxygen edit hand pleas edit document rvcr_test_pathr namevcr_test_path aliasvcr_test_path titleloc file test directori usag vcr_test_path argument itemcharact vector give path compon charact string get ad path eg codevcr_test_patha b becom codetestsab rel root packag valu charact vector give path descript function similar codetestthattest_path design work interact test locat file verbtest directori note bewar one codetest directori packag root may work intend case exampl interact vcr_test_pathfixtur gener roxygen edit hand pleas edit document rcassettesr namecassett aliascassett aliascurrent_cassett aliascassette_path titlelist cassett get current cassett etc usag cassetteson_disk true verb fals current_cassett cassette_path argument itemon_disklog check cassett disk cassett session codetru check cassett session codefals default codetru itemverblog verbos messag descript list cassett get current cassett etc detail item item codecassett return cassett found r session toggl whether pull disk item codecurrent_cassett return empti list cassett use return current cassett codecassett object one use item codecassette_path give current directori path cassett store exampl vcr_configuredir tempdir list cassett cassett cassetteson_disk fals list current activ cassett insert_cassettestuffth current_cassett eject_cassett cassett cassetteson_disk fals list path cassett cassette_path vcr_configuredir filepathtempdir foo cassette_path vcr_configure_reset gener roxygen edit hand pleas edit document rpersistersr namepersist aliaspersist aliaspersister_fetch titlecassett persist usag persister_fetchx filesystem file_nam descript keep track cassett persist hashlik object detail there one option codefilesystem strongpriv method describ itemcodepersister_get get set name persist exampl aa persistersnew aanam aapersist yaml_seri aapersistersnew yaml_seri keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodepersisterslist intern use hold persist object itemcodenamecharact ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodepersistersnew item hrefmethodclonecodepersistersclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new codepersist object subsectionusag ifhtmloutdiv classrpreformattedpersistersnewpersist list name filesystemifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodepersisterslist list itemcodenamecharact persist name option right filesystem ifhtmloutdiv subsectionreturn new codepersist object ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedpersistersclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rconfigurationr namevcr_configur aliasvcr_configur aliasvcr_configure_reset aliasvcr_configur aliasvcr_config_default titleglob configur option usag vcr_configur vcr_configure_reset vcr_configur vcr_config_default argument itemconfigur set use overrid default see complet list valid argument descript configur option defin vcr default behavior sectionconfigur set subsectionvcr option subsectionfil locat item item codedir cassett directori item codewrite_disk_path charact path write file request write respons disk default paramet codenul test packag youll probabl want path verbtest directori perhap next cassett directori eg cassett codetestsfixtur file request write disk codetestsfil want ignor file instal packag add coderinstignor want file ignor build add coderbuildignor though test depend file probabl work wont found youll like skip associ test well subsectioncontext item item codeturned_off logic vcr turn default default codefals item codeallow_unused_http_interact logic default codetru item codeallow_http_connections_when_no_cassett logic determin vcr treat http request made vcr cassett use codetru request made vcr cassett use allow codefals default linkunhandledhttprequesterror error rais http request made cassett use subsectionfilt item item codeignore_host charact vector host ignor eg localhost googlecom host ignor real http request allow go item codeignore_localhost logic default codefals item codeignore_request list request ignor use right sorri item codefilter_sensitive_data name list valu replac format ispreformattedlistthing_to_replace_it_with thing_to_replac replac instanc codething_to_replac codething_to_replace_it_with use codelinkgsubgsub intern codefixedtru exact match record write cassett replac read cassett revers replac get back real data record replac happen intern function codewrite_interact playback replac happen intern function codeyamldeseri item codefilter_sensitive_data_regex name list valu replac follow codefilter_sensitive_data format except use codefixedfals codelinkgsubgsub function call mean valu codething_to_replac regex pattern item codefilter_request_head characterlist strongrequest header filter charact vector request header remov header record disk altern name list similar codefilter_sensitive_data instruct vcr valu replac real valu request header item codefilter_response_head name list strongrespons header filter charact vector respons header remov header record disk altern name list similar codefilter_sensitive_data instruct vcr valu replac real valu respons header item codefilter_query_paramet name list queri paramet filter charact vector queri paramet remov queri paramet record disk altern name list similar codefilter_sensitive_data instruct vcr valu replac real valu queri paramet subsectionerror item item codeverbose_error want verbos error less verbos error cassett recordingusag fail default codefals less verbos error codetru error messag includ detail went wrong suggest possibl solut test interact r session codeverbose_errorsfals run codevcr_last_error get full error noninteract mode user run entir test suit packag set environ variabl codevcr_verbose_error toggl set eg verbsyssetenvvcr_verbose_errorstru devtoolstest subsectionintern item item codecassett list dont use item codelinked_context logic link context item codeuri_pars uri parser default codecrulurl_pars subsectionlog item item codelog logic log import vcr thing default codefals item codelog_opt list addit log option item item file either codeconsol file path log item log_prefix default cassett insert cassett name prefix rest messag item come subsectioncassett option set configur global use codevcr_configur local use either codeuse_cassett codeinsert_cassett global set appli emphal cassett overridden set defin local individu cassett item item coderecord charact one none new_episod see linkrecord item codematch_requests_on vector matcher default codemethod codeuri see linkrequestmatch detail item codeserialize_with charact yaml json note multipl cassett name long use differ serial want one cassett given cassett name make sure switch serial clean file longer need item codejson_pretti logic want json newlin separ easier read remov newlin save disk space default fals item codepersist_with charact option filesystem item codepreserve_exact_body_byt logic preserv exact bodi byte item codere_record_interv numer given cassett rerecord given interv second item codeclean_outdated_http_interact logic outdat interact record back file default codefals item codequiet logic suppress messag vcr webmockr default codetru item codewarn_on_empty_cassett logic warn thrown empti cassett detect empti cassett clean delet either way option determin whether warn thrown default codefals exampl vcr_configuredir tempdir vcr_configuredir tempdir record vcr_configur vcr_config_default vcr_configuredir tempdir ignore_host googlecom vcr_configuredir tempdir ignore_localhost true log vcr_configuredir tempdir log true log_opt listfil filepathtempdir vcrlog vcr_configuredir tempdir log true log_opt listfil consol vcr_configuredir tempdir log true log_opt list file filepathtempdir vcrlog log_prefix foobar vcr_configuredir tempdir log fals filter sensit data vcr_configuredir tempdir filter_sensitive_data listfoo bar vcr_configuredir tempdir filter_sensitive_data listfoo bar hello world gener roxygen edit hand pleas edit document rrequest_matchingr namerequestmatch aliasrequestmatch titlevcr request match descript number option default use togeth alon detail match previous record request codevcr tri match new http request previous record one default match http method eg codeget uri eg verbhttpfoocom follow rubi vcr gem custom match request one follow option default use togeth alon item item codemethod use strongmethod request matcher match request http method ie get post put delet etc gener want use matcher strongmethod matcher use along stronguri matcher default specifi request match item codeuri use stronguri request matcher match request request uri stronguri matcher use along strongmethod matcher default specifi request match item codehost use stronghost request matcher match request request host use alon combin strongpath altern stronguri nondeterminist portion uri consid part request match item codepath use strongpath request matcher match request path portion request uri use alon combin stronghost altern stronguri nondeterminist portion uri item codequeri use strongqueri request matcher match request queri string portion request uri use alon combin other altern stronguri nondeterminist portion uri consid part request match item codebodi use strongbodi request matcher match request request bodi item codehead use stronghead request matcher match request request header set option tweak codematch_requests_on paramet codeuse_cassetteifhtmloutdiv classrpreformattedlibraryvcr ifhtmloutdivifhtmloutdiv classrpreformatteduse_cassettenam foo_bar clipostpost bodi lista match_requests_on cmethod header bodi ifhtmloutdiv subsectionmatch subsectionheadersifhtmloutdiv classrpreformattedlibrarycrul libraryvcr cli crulhttpclientnewhttpshttpbinorgget header listfoo bar use_cassettenam nothing_new one cliget match_requests_on header cliheadersfoo stuff use_cassettenam nothing_new two cliget match_requests_on header onerequest_head tworequest_head ifhtmloutdiv gener roxygen edit hand pleas edit document rrequest_handlerr namerequesthandl aliasrequesthandl titlerequesthandl descript base handler http request decid whether request stub ignor record unhandl detail strongpriv method describ itemcoderequest_typerequest get request type itemcodeexternally_stub return fals itemcodeshould_ignor ignor request depend request ignor infrastructur that work yet itemcodehas_response_stub check match respons stub http interact list itemcodeget_stubbed_respons check respons get itemcoderequest_summaryrequest get request summari itemcodeon_externally_stubbed_requestrequest extern stub request noth itemcodeon_ignored_requestrequest ignor request someth itemcodeon_recordable_requestrequest record request record request itemcodeon_unhandled_requestrequest unhandl request run unhandledhttprequesterror exampl dontrun record mode vcr_configur dir tempdir record datacrul_request crul_requesturlhandl curlnew_handl crul_request x requesthandlernewcrul_request xhandl record mode none vcr_configur dir tempdir record none datacrul_request crul_requesturlhandl curlnew_handl crul_request insert_cassettetesting_record_mode_non record none filepathvcr_cdir testing_record_mode_noneyml x requesthandlercrulnewcrul_request xhandl crul_requesturlurl httpsapicrossreforgworkscsmg crul_requesturlhandl curlnew_handl z requesthandlercrulnewcrul_request zhandl eject_cassettetesting_record_mode_non sectionpubl field ifhtmloutdiv classrfield describ itemcoderequest_originalorigin modif itemcoderequestth request modif itemcodevcr_responsehold linkvcrrespons object itemcodestubbed_responseth stub respons itemcodecassetteth cassett holder ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcoderequesthandlernew item hrefmethodhandlecoderequesthandlerhandl item hrefmethodclonecoderequesthandlerclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new coderequesthandl object subsectionusag ifhtmloutdiv classrpreformattedrequesthandlernewrequestifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderequestth request object class codehttpinteract ifhtmloutdiv subsectionreturn new coderequesthandl object ifhtmlouthr ifhtmlouta idmethodhandlea iflatexouthypertargetmethodhandl subsectionmethod codehandl handl request coderequest given verbiniti subsectionusag ifhtmloutdiv classrpreformattedrequesthandlerhandleifhtmloutdiv subsectionreturn handl request outcom vari ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedrequesthandlerclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rhooksr namehook aliashook titlehook class descript help defin new hook hold hook accessor get use hook detail strongpriv method describ itemcodemake_hookx plac fun make hook x charact hook name plac placement one start end fun functioncallback keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodehooksinten use ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodinvoke_hookcodehooksinvoke_hook item hrefmethodclear_hookscodehooksclear_hook item hrefmethoddefine_hookcodehooksdefine_hook item hrefmethodclonecodehooksclon ifhtmlouthr ifhtmlouta idmethodinvoke_hooka iflatexouthypertargetmethodinvoke_hook subsectionmethod codeinvoke_hook invok hook subsectionusag ifhtmloutdiv classrpreformattedhooksinvoke_hookhook_typ argsifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodehook_typecharact hook name itemcodeargsnam list arg pass invok hook ifhtmloutdiv subsectionreturn execut hook ifhtmlouthr ifhtmlouta idmethodclear_hooksa iflatexouthypertargetmethodclear_hook subsectionmethod codeclear_hook clear hook subsectionusag ifhtmloutdiv classrpreformattedhooksclear_hooksifhtmloutdiv subsectionreturn return ifhtmlouthr ifhtmlouta idmethoddefine_hooka iflatexouthypertargetmethoddefine_hook subsectionmethod codedefine_hook defin hook subsectionusag ifhtmloutdiv classrpreformattedhooksdefine_hookhook_typ fun prepend falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodehook_typecharact hook name itemcodefuna function itemcodeprependlog whether prepend add end string default codefals ifhtmloutdiv subsectionreturn return defin hook intern ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedhooksclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rinsert_cassett nameinsert_cassett aliasinsert_cassett titleinsert cassett record http request usag insert_cassett name record null match_requests_on null update_content_length_head fals allow_playback_repeat fals serialize_with null persist_with null preserve_exact_body_byt null re_record_interv null clean_outdated_http_interact null argument itemnameth name cassett vcr check ensur valid file name allow space file extens control charact eg verbn illeg charact dot alon eg window reserv word eg com trail dot caus problem window name longer charact see section cassett name itemrecordth record mode default codeonc see linkrecord complet list differ record mode itemmatch_requests_onlist request matcher use determin record http interact replay default verbmethod uri builtin matcher method uri host path header bodi queri itemupdate_content_length_headerlog whether overwrit codecontentlength header respons match length respons bodi default codefals itemallow_playback_repeatslog whether allow singl http interact play back multipl time default codefals itemserialize_withcharact serial use valid valu yaml default json note multipl cassett name long use differ serial want one cassett given cassett name make sure switch serial clean file longer need itempersist_withcharact cassett persist use default file_system also regist use custom persist itempreserve_exact_body_byteslog whether base encod byte request respons cassett serial see also codepreserve_exact_body_byt codelinkvcr_configurevcr_configur default codefals itemre_record_intervalinteg frequent second cassett rerecord default codenul rerecord itemclean_outdated_http_interactionslog outdat interact record back file default codefals valu object class codecassett descript insert cassett record http request detail cassett name item item meaning obviou testfunct relat meaning name import quickli determin test file test block cassett belong note vcr check cassett name meaning item duplic duplic cassett name would lead test use wrong cassett item space space lead problem use file path item includ file extens vcr handl file extens user item illeg charact lead problem use file path code verb code code verb code code code verb item control charact eg verbn item dot eg code code item window reserv word eg codecom item trail dot item longer charact codevcrcheck_cassette_nam meant run test codesetuppkgnam file insid codeteststestthat directori check cassett name duplic note need duplic cassett name use codeallowed_dupl paramet codecheck_cassette_nam helper function codecheck_cassette_nam run insid codelinkinsert_cassetteinsert_cassett check cassett space file extens unaccept charact slash sectioncassett option default valu argument control cassett behavior inherit vcr global configur see codelinkvcr_configurevcr_configur complet list option default set overrid option specif cassett chang argument valu someth codenul call either codeinsert_cassett codeuse_cassett exampl dontrun libraryvcr librarycrul vcr_configuredir tempdir webmockrwebmockr_allow_net_connect x insert_cassettenam leo current_cassett xnew_recorded_interact xpreviously_recorded_interact cli crulhttpclientnewurl httpshttpbinorg cligetget xnew_recorded_interact interact xpreviously_recorded_interact empti webmockrstub_registri empti import use inject_cassett eject done xeject eject_cassetteleo xnew_recorded_interact interact xpreviously_recorded_interact empti stub_registri empti eject call webmockrdis call disabl method crul httr adadapt call webmockr remove_stub method adapt webmockrstub_registri cleanup unlinkfilepathtempdir leoyml seealso codelinkuse_cassetteuse_cassett codelinkeject_cassetteeject_cassett gener roxygen edit hand pleas edit document ruse_cassett nameuse_cassett aliasuse_cassett titleus cassett record http request usag use_cassett name record null match_requests_on null update_content_length_head fals allow_playback_repeat fals serialize_with null persist_with null preserve_exact_body_byt null re_record_interv null clean_outdated_http_interact null argument itemnameth name cassett vcr check ensur valid file name allow space file extens control charact eg verbn illeg charact dot alon eg window reserv word eg com trail dot caus problem window name longer charact see section cassett name itema block code contain one request requir use curli brace encapsul multilin code block cant pass code block use codelinkinsert_cassetteinsert_cassett instead itemrecordth record mode default codeonc see linkrecord complet list differ record mode itemmatch_requests_onlist request matcher use determin record http interact replay default verbmethod uri builtin matcher method uri host path header bodi queri itemupdate_content_length_headerlog whether overwrit codecontentlength header respons match length respons bodi default codefals itemallow_playback_repeatslog whether allow singl http interact play back multipl time default codefals itemserialize_withcharact serial use valid valu yaml default json note multipl cassett name long use differ serial want one cassett given cassett name make sure switch serial clean file longer need itempersist_withcharact cassett persist use default file_system also regist use custom persist itempreserve_exact_body_byteslog whether base encod byte request respons cassett serial see also codepreserve_exact_body_byt codelinkvcr_configurevcr_configur default codefals itemre_record_intervalinteg frequent second cassett rerecord default codenul rerecord itemclean_outdated_http_interactionslog outdat interact record back file default codefals valu object class codecassett descript use cassett record http request detail run famili top level pkgvcr function item item codeuse_cassett initi cassett return insert cassett item codeinsert_cassett intern use within codeuse_cassett item codeeject_cassett eject current cassett cassett longer use addit newli record http interact written disk sectioncassett option default valu argument control cassett behavior inherit vcr global configur see codelinkvcr_configurevcr_configur complet list option default set overrid option specif cassett chang argument valu someth codenul call either codeinsert_cassett codeuse_cassett sectionbehavior function handl differ scenario item item everyth run smoothli return codecassett class object inspect cassett cassett eject item invalid paramet input cassett creation fail use messag dont return cassett cassett eject item error call pass code block return use messag sinc use codeonexit cassett still eject even though error dont get object back item whenev empti cassett ymljson file found delet return codeuse_cassett function call achiev via use codeonexit empti cassett delet even error code block pass sectioncassett disk note empheject mean r session cassett longer use interact record disk file disk interact sectionus test specif pkgtestthat there way get correct line number fail test one way get correct line number emphcorrect either wrap codetest_that block insid codeuse_cassett block put codeuse_cassett block insid codetest_that block put codetestthat expect outsid codeuse_cassett block emphincorrect wrap codeuse_cassett block insid codetest_that block pkgtestthat expect insid codeuse_cassett block youll get line number codeuse_cassett block start exampl dontrun libraryvcr librarycrul vcr_configuredir tempdir use_cassettenam appl cli httpclientnewurl httpshttpbinorg resp cligetget readlinesfilepathtempdir appleyml preserv exact bodi byte record base encod use_cassetteth cli crulhttpclientnewurl httpshttpbinorg bbb cligetget preserve_exact_body_byt true see bodi string valu output readlinesfilepathtempdir thingsyml cleanup unlinkfilepathtempdir cthingsyml appleyml httr libraryvcr libraryhttr vcr_configuredir tempdir log true log_opt listfil filepathtempdir vcrlog use_cassettenam stuff re gethttpshttpbinorgget readlinesfilepathtempdir stuffyml use_cassettenam catfact re gethttpscatfactninjafact record mode none librarycrul vcr_configuredir tempdir make connect first conn crulhttpclientnewhttpseuhttpbinorg error none disallow new request use_cassettenone_eg re conngetget record none first use record mode record cassett one use_cassettenone_eg re conngetget record one re use record mode none see behavior two use_cassettenone_eg re conngetget record none two re seealso codelinkinsert_cassetteinsert_cassett codelinkeject_cassetteeject_cassett gener roxygen edit hand pleas edit document rvcrpackag doctypedata namecrul_request aliascrul_request titlean http request prepar pkgcrul packag format list descript object list object pass pkgwebmockr pkgvcr instead rout pkgcrul normal use examplestest keyworddata gener roxygen edit hand pleas edit document rhttp_interactionr namehttpinteract aliashttpinteract titlehttpinteract class descript object hold request respons object detail strongmethod describ itemcodeto_hash creat hash httpinteract object itemcodefrom_hashhash creat httpinteract object hash exampl dontrun make request libraryvcr url httpseuhttpbinorgpost bodi listfoo bar cli crulhttpclientnewurl url re clipostbodi bodi build request object request requestnewpost uri url bodi bodi header resresponse_head build vcrrespons object respons vcrresponsenew resstatus_http resresponse_head resparseutf resresponse_headersstatu make httpinteract object x httpinteractionnewrequest request respons respons xrecorded_at xto_hash make httpinteract hash object alreadi made xfrom_hashxto_hash make httpinteract hash alon my_hash xto_hash httpinteractionnewfrom_hashmy_hash sectionpubl field ifhtmloutdiv classrfield describ itemcoderequesta coderequest class object itemcoderesponsea codevcrrespons class object itemcoderecorded_atcharact time http interact record ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodehttpinteractionnew item hrefmethodto_hashcodehttpinteractionto_hash item hrefmethodfrom_hashcodehttpinteractionfrom_hash item hrefmethodclonecodehttpinteractionclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new codehttpinteract object subsectionusag ifhtmloutdiv classrpreformattedhttpinteractionnewrequest respons recorded_atifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderequesta coderequest class object itemcoderesponsea codevcrrespons class object itemcoderecorded_atcharact time http interact record ifhtmloutdiv subsectionreturn new codehttpinteract object ifhtmlouthr ifhtmlouta idmethodto_hasha iflatexouthypertargetmethodto_hash subsectionmethod codeto_hash creat hash httpinteract object subsectionusag ifhtmloutdiv classrpreformattedhttpinteractionto_hashifhtmloutdiv subsectionreturn name list ifhtmlouthr ifhtmlouta idmethodfrom_hasha iflatexouthypertargetmethodfrom_hash subsectionmethod codefrom_hash creat httpinteract object hash subsectionusag ifhtmloutdiv classrpreformattedhttpinteractionfrom_hashhashifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodehasha name list ifhtmloutdiv subsectionreturn new codehttpinteract object ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedhttpinteractionclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rerrorsr nameunhandledhttprequesterror aliasunhandledhttprequesterror aliasvcr_last_error titleunhandledhttprequesterror usag vcr_last_error descript handl http request error detail error class use coderecordonc trigger user use vcr context codelinkuse_cassetteuse_cassett codelinkinsert_cassetteinsert_cassett former request go call_block latter request go webmockr one place put unhandledhttprequesterror handl use_cassett insert_cassett sectionerror situat invok item item coderecordonc there new request doesnt match one cassett disk item item webmockr stub found record interact cassett record error unhandledhttprequesterror item item record allow unless record none item other exampl vcr_configuredir tempdir cassett insert_cassetteturtl request requestnewpost httpseuhttpbinorgposta listfoo bar err unhandledhttprequesterrornewrequest errrequest_descript errcurrent_match errmatch_request_on_head errmatch_request_on_bodi errformatted_head caterrformatted_head n caterrcassettes_descript n caterrcassettes_list n errformatted_suggest caterrformat_bullet_pointfoo bar n errsuggestion_foruse_new_episod errsuggest errno_cassette_suggest errrecord_mode_suggest errhas_used_interaction_match errmatch_requests_on_suggest errconstruct_messag cleanup eject_cassetteturtl unlinktempdir dontrun vcr_last_error sectionpubl field ifhtmloutdiv classrfield describ itemcoderequesta linkrequest object itemcodecassettea cassett name ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodeunhandledhttprequesterrornew item hrefmethodruncodeunhandledhttprequesterrorrun item hrefmethodconstruct_messagecodeunhandledhttprequesterrorconstruct_messag item hrefmethodrequest_descriptioncodeunhandledhttprequesterrorrequest_descript item hrefmethodcurrent_matcherscodeunhandledhttprequesterrorcurrent_match item hrefmethodmatch_request_on_headerscodeunhandledhttprequesterrormatch_request_on_head item hrefmethodmatch_request_on_bodycodeunhandledhttprequesterrormatch_request_on_bodi item hrefmethodformatted_headerscodeunhandledhttprequesterrorformatted_head item hrefmethodcassettes_descriptioncodeunhandledhttprequesterrorcassettes_descript item hrefmethodcassettes_listcodeunhandledhttprequesterrorcassettes_list item hrefmethodget_helpcodeunhandledhttprequesterrorget_help item hrefmethodformatted_suggestionscodeunhandledhttprequesterrorformatted_suggest item hrefmethodformat_bullet_pointcodeunhandledhttprequesterrorformat_bullet_point item hrefmethodformat_foot_notecodeunhandledhttprequesterrorformat_foot_not item hrefmethodsuggestion_forcodeunhandledhttprequesterrorsuggestion_for item hrefmethodsuggestionscodeunhandledhttprequesterrorsuggest item hrefmethodno_cassette_suggestionscodeunhandledhttprequesterrorno_cassette_suggest item hrefmethodrecord_mode_suggestioncodeunhandledhttprequesterrorrecord_mode_suggest item hrefmethodhas_used_interaction_matchingcodeunhandledhttprequesterrorhas_used_interaction_match item hrefmethodmatch_requests_on_suggestioncodeunhandledhttprequesterrormatch_requests_on_suggest item hrefmethodclonecodeunhandledhttprequesterrorclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new codeunhandledhttprequesterror object subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrornewrequestifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderequestrequest linkrequest object ifhtmloutdiv subsectionreturn new codeunhandledhttprequesterror object ifhtmlouthr ifhtmlouta idmethodruna iflatexouthypertargetmethodrun subsectionmethod coderun run unhandl request handl subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorrunifhtmloutdiv subsectionreturn variou ifhtmlouthr ifhtmlouta idmethodconstruct_messagea iflatexouthypertargetmethodconstruct_messag subsectionmethod codeconstruct_messag construct execut stop messag request fail subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorconstruct_messageifhtmloutdiv subsectionreturn stop messag ifhtmlouthr ifhtmlouta idmethodrequest_descriptiona iflatexouthypertargetmethodrequest_descript subsectionmethod coderequest_descript construct request descript subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorrequest_descriptionifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodcurrent_matchersa iflatexouthypertargetmethodcurrent_match subsectionmethod codecurrent_match get current request matcher subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorcurrent_matchersifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodmatch_request_on_headersa iflatexouthypertargetmethodmatch_request_on_head subsectionmethod codematch_request_on_head header includ current matcher subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrormatch_request_on_headersifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodmatch_request_on_bodya iflatexouthypertargetmethodmatch_request_on_bodi subsectionmethod codematch_request_on_bodi bodi includl current matcher subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrormatch_request_on_bodyifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodformatted_headersa iflatexouthypertargetmethodformatted_head subsectionmethod codeformatted_head get request header subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorformatted_headersifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodcassettes_descriptiona iflatexouthypertargetmethodcassettes_descript subsectionmethod codecassettes_descript construct descript current lack thereof cassett subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorcassettes_descriptionifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodcassettes_lista iflatexouthypertargetmethodcassettes_list subsectionmethod codecassettes_list cassett detail subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorcassettes_listifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodget_helpa iflatexouthypertargetmethodget_help subsectionmethod codeget_help get help messag nonverbos error subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorget_helpifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodformatted_suggestionsa iflatexouthypertargetmethodformatted_suggest subsectionmethod codeformatted_suggest make suggest subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorformatted_suggestionsifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodformat_bullet_pointa iflatexouthypertargetmethodformat_bullet_point subsectionmethod codeformat_bullet_point add bullet point begin line subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorformat_bullet_pointlin indexifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodelinescharact vector string itemcodeindexinteg number ifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodformat_foot_notea iflatexouthypertargetmethodformat_foot_not subsectionmethod codeformat_foot_not make foot note subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorformat_foot_noteurl indexifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeurlcharact url itemcodeindexinteg number ifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodsuggestion_fora iflatexouthypertargetmethodsuggestion_for subsectionmethod codesuggestion_for get suggest key subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorsuggestion_forkeyifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodekeycharact charact string ifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodsuggestionsa iflatexouthypertargetmethodsuggest subsectionmethod codesuggest get suggest subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorsuggestionsifhtmloutdiv subsectionreturn list ifhtmlouthr ifhtmlouta idmethodno_cassette_suggestionsa iflatexouthypertargetmethodno_cassette_suggest subsectionmethod codeno_cassette_suggest get cassett suggest subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorno_cassette_suggestionsifhtmloutdiv subsectionreturn list ifhtmlouthr ifhtmlouta idmethodrecord_mode_suggestiona iflatexouthypertargetmethodrecord_mode_suggest subsectionmethod coderecord_mode_suggest get appropri record mode suggest subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorrecord_mode_suggestionifhtmloutdiv subsectionreturn charact ifhtmlouthr ifhtmlouta idmethodhas_used_interaction_matchinga iflatexouthypertargetmethodhas_used_interaction_match subsectionmethod codehas_used_interaction_match use interact subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorhas_used_interaction_matchingifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodmatch_requests_on_suggestiona iflatexouthypertargetmethodmatch_requests_on_suggest subsectionmethod codematch_requests_on_suggest match request suggest subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrormatch_requests_on_suggestionifhtmloutdiv subsectionreturn list ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedunhandledhttprequesterrorclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rcheck_cassette_namesr namecheck_cassette_nam aliascheck_cassette_nam titlecheck cassett name usag check_cassette_nam pattern test behavior stop allowed_dupl null argument itempatterncharact regex pattern file path check done insid verbteststestthat default test itembehaviorcharact stop default warn warn use codeimmediatetru warn happen top test rather see test run would happen default itemallowed_duplicatescharact cassett name duplic descript check cassett name detail cassett name item item meaning obviou testfunct relat meaning name import quickli determin test file test block cassett belong note vcr check cassett name meaning item duplic duplic cassett name would lead test use wrong cassett item space space lead problem use file path item includ file extens vcr handl file extens user item illeg charact lead problem use file path code verb code code verb code code code verb item control charact eg verbn item dot eg code code item window reserv word eg codecom item trail dot item longer charact codevcrcheck_cassette_nam meant run test codesetuppkgnam file insid codeteststestthat directori check cassett name duplic note need duplic cassett name use codeallowed_dupl paramet codecheck_cassette_nam helper function codecheck_cassette_nam run insid codelinkinsert_cassetteinsert_cassett check cassett space file extens unaccept charact slash gener roxygen edit hand pleas edit document rserializersyamlr nameyaml aliasyaml titleth yaml serial descript class method serial via pkgyaml packag keywordintern sectionsup class codelinkvcrserializervcrseri codeyaml sectionmethod subsectionpubl method item item hrefmethodnewcodeyamlnew item hrefmethodserializecodeyamlseri item hrefmethoddeserializecodeyamldeseri item hrefmethodclonecodeyamlclon ifhtml outdetail open summaryinherit methodssummari item outdetail ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new yaml object subsectionusag ifhtmloutdiv classrpreformattedyamlnewpath nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodepathcharact path cassett exclud cassett directori file extens ifhtmloutdiv subsectionreturn new codeyaml object ifhtmlouthr ifhtmlouta idmethodserializea iflatexouthypertargetmethodseri subsectionmethod codeseri serial given hash use intern fxn write_yaml subsectionusag ifhtmloutdiv classrpreformattedyamlserializex path bytesifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexlist object serial itemcodepathcharact file path itemcodebyteslog whether preserv exact bodi byte ifhtmloutdiv subsectionreturn charact yaml string write disk ifhtmlouthr ifhtmlouta idmethoddeserializea iflatexouthypertargetmethoddeseri subsectionmethod codedeseri deseri content path use yamlyamlload_fil subsectionusag ifhtmloutdiv classrpreformattedyamldeserializeifhtmloutdiv subsectionreturn list deseri object r list ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedyamlclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv