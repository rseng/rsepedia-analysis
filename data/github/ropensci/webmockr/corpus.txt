titl none output html_fragment short version webmockr help stub http request dont repeat detail tell webmockr http request want match see request match criteria doesnt actual http request instead give back object would gotten back real request bit know exampl cant give back actual data youd get real http request request wasnt perform addit set expect webmockr return return exampl expect request return error im teapot that youll get match http method requir plu singl combin follow uri right match directli uri regex uri pattern eventu support rfc uri templat normal uri path url encod thing match url unencod thing eg hello world helloworld queri paramet normal queri paramet valu url encod thing match url unencod thing eg messag hello world messag helloworld request header normal header treat form header equal exampl follow two set header equal listh valu content_length x_custom_head foo listh valu contentlength xcustomhead foo request bodi real http request there scenario think use webmockr r librarywebmockr webmockr load turn point webmockr doesnt chang anythn turn webmockr like r webmockren webmockr default allow real http request http librari adapt load right crul option allow real request via webmockr_allow_net_connect disallow real request via webmockr_disable_net_connect check whether allow real request webmockr_net_connect_allow certain kind real http request allow dont suppoprt yet allow localhost http request allow_localhost paramet webmockr_configur function store actual http respons webmockr doesnt check vcr vcr httpsgithubcomropenscivcr webmockr note run make readm gener readmemd cran checkshttpscranchecksinfobadgesworstwebmockrhttpscranchecksinfopkgswebmockr project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact rcmdcheckhttpsgithubcomropensciwebmockrworkflowsrcmdcheckbadgesvghttpsgithubcomropensciwebmockract codecovhttpscodecovioghropensciwebmockrbranchmastergraphbadgesvghttpscodecovioghropensciwebmockr rstudio mirror downloadshttpscranlogsrpkgorgbadgeswebmockrhttpsgithubcomrhubcranlogsapp cran versionhttpswwwrpkgorgbadgesversionwebmockrhttpscranrprojectorgpackagewebmockr r librari stub set expect http request port rubi gem webmockhttpsgithubcombblimkewebmock detail summarystronghow work detailstrongsummari p pthe short version codewebmockrcod help stub http request dont repeat yourselfp pstrongmor detailsstrongp pyou tell codewebmockrcod http request want match see request match criteria doesnt actual http request instead give back object would gotten back real request bit know exampl cant give back actual data youd get real http request request wasnt performedp pin addit set expect codewebmockrcod return return exampl expect request return error im teapot that youll getp pstrongwhat match againststrongp ul lihttp method requiredli ul pplu singl combin followingp ul liuri ul liright match directli uri regex uri pattern eventu support rfc uri templatesli liw normal uri path url encod thing match url unencod thing eg codehello worldcod codehelloworldcod ulli liqueri paramet ul liw normal queri paramet valu url encod thing match url unencod thing eg codemessag hello worldcod codemessag helloworldcod ulli lirequest header ul liw normal header treat form header equal exampl follow two set header equal ul licodelisth quotvaluequot content_length x_custom_head quotfooquotcod licodelisth quotvaluequot quotcontentlengthquot quotxcustomheaderquot quotfooquotcod ulli ulli lirequest bodyli ul pstrongreal http requestsstrongp pthere scenario think use codewebmockrcodep pafter doingp pre classrcodelibrarywebmockrcodepr pcodewebmockrcod load turn point codewebmockrcod doesnt chang anythningp ponc turn codewebmockrcod likep pre classrcodewebmockrenablecodepr pcodewebmockrcod default allow real http request http librari adapt load right codecrulcodep pyou option allow real request via codewebmockr_allow_net_connectcod disallow real request via codewebmockr_disable_net_connectcod check whether allow real request codewebmockr_net_connect_allowedcodep pcertain kind real http request allow dont suppoprt yet allow localhost http request codeallow_localhostcod paramet codewebmockr_configurecod functionp pstrongstor actual http responsesstrongp pcodewebmockrcod doesnt check hrefhttpsgithubcomropenscivcrvcrap pdetail featur stub http request low http client lib level set verifi expect http request match request base method uri header bodi support testthat via vcr use test outsid test context support http librari crulhttpsgithubcomropenscicrul httrhttpsgithubcomrlibhttr instal cran r installpackageswebmockr dev version r remotesinstall_githubropensciwebmockr r librarywebmockr enabl webmockr r webmockren cruladapt enabl httradapt enabl insid test framework r librarycrul librarytestthat make stub stub_requestget httpshttpbinorgget to_returnbodi success statu webmockr stub method get uri httpshttpbinorgget queri bodi request_head to_return statu bodi success response_head should_timeout fals should_rais fals check stub registri stub_registri webmockr stub registri regist stub get httpshttpbinorgget to_return bodi success statu make request z crulhttpclientnewurl httpshttpbinorggetget run test noth return mean pass expect_isz httprespons expect_equalzstatus_cod expect_equalzparseutf success outsid test framework r librarycrul stub request base uri default respons r stub_requestget httpshttpbinorgget webmockr stub method get uri httpshttpbinorgget queri bodi request_head to_return r x httpclientnewurl httpshttpbinorg xgetget crul respons url httpshttpbinorgget request_head userag libcurl rcurl crul acceptencod gzip deflat accept applicationjson textxml applicationxml response_head statu set return object r stub_requestget httpshttpbinorgget wi_th queri listhello world to_returnstatu webmockr stub method get uri httpshttpbinorgget queri helloworld bodi request_head to_return statu bodi response_head should_timeout fals should_rais fals r xgetget queri listhello world crul respons url httpshttpbinorgget request_head userag libcurl rcurl crul acceptencod gzip deflat accept applicationjson textxml applicationxml response_head statu stub request base method uri queri param r stub_requestget httpshttpbinorgget wi_thqueri listhello world header listuserag libcurl rcurl crul acceptencod gzip deflat webmockr stub method get uri httpshttpbinorgget queri helloworld bodi request_head useragentlibcurl rcur acceptencodinggzip deflat to_return r stub_registri webmockr stub registri regist stub get httpshttpbinorgget get httpshttpbinorggethelloworld to_return statu get httpshttpbinorggethelloworld header useragentlibcurl rcurl crulacceptencodinggzip deflat r x httpclientnewurl httpshttpbinorg xgetget queri listhello world crul respons url httpshttpbinorgget request_head userag libcurl rcurl crul acceptencod gzip deflat accept applicationjson textxml applicationxml response_head statu stub request set expect timeout r stub_requestpost httpshttpbinorgpost to_timeout webmockr stub method post uri httpshttpbinorgpost queri bodi request_head to_return statu bodi response_head should_timeout true should_rais fals x httpclientnewurl httpshttpbinorg xpostpost error request timeout http client produc request within time server prepar wait client may repeat request without modif later time stub request set http error expect r libraryfauxpa stub_requestget httpshttpbinorggetab to_raisehttpbadrequest webmockr stub method get uri httpshttpbinorggetab queri bodi request_head to_return statu bodi response_head should_timeout fals should_rais httpbadrequest x httpclientnewurl httpshttpbinorg xgetget queri lista b error bad request http request could understood server due malform syntax client repeat request without modif httr integr r librarywebmockr libraryhttr attach packag httr follow object mask packagecrul handl turn httr mock httr_mock r stub found gethttpshttpbinorgget error real http connect disabl unregist request get httpshttpbinorgget header accept applicationjson textxml applicationxml stub request follow snippet stub_requestget uri httpshttpbinorgget wi_th header listaccept applicationjson textxml applicationxml make stub r stub_requestget uri httpshttpbinorgget wi_th header listaccept applicationjson textxml applicationxml to_returnstatu bodi im teapot header listim_a teapot webmockr stub method get uri httpshttpbinorgget queri bodi request_head acceptapplicationjson te to_return statu bodi im teapot response_head im_ateapot should_timeout fals should_rais fals return mock respons r re gethttpshttpbinorgget resstatus_cod reshead im_a teapot write disk write file mock request r make temp file f tempfilefileext json write someth file cathelloworldn file f readlinesf helloworld make stub invisiblestub_requestget httpshttpbinorgget to_returnbodi filef make request httpclientnewhttpshttpbinorggetgetdisk f readlinesfilef helloworld use mock_fil webmockr handl file content r g tempfilefileext json make stub invisiblestub_requestget httpshttpbinorgget to_returnbodi mock_fileg hellomarsn make request crulhttpclientnewhttpshttpbinorggetgetdisk g readlinesoutcont helloworld write disk support crul httr mani request row eg mani redirect final success request r webmockren librarycrul libraryfauxpa z stub_requestget httpshttpbinorgget to_returnz statu bodi foobar header lista to_returnz statu bodi bear header listb to_raisez httpbadrequest z con crulhttpclientnewurl httpshttpbinorg first to_return first congetget first firstparseutf second to_return second congetget second secondparseutf third to_return fail specifi third congetget note subsequ request past number respons given to_returnetc simpli give last respons specifi although set to_timeout to_rais featur wont happen sinc fail contributor scott chamberlainhttpsgithubcomsckott aaron wolenhttpsgithubcomaaronwolen meta pleas report issu bugshttpsgithubcomropensciwebmockrissu licens mit get citat inform webmockr r citationpackag webmockr pleas note packag releas contributor code conducthttpsropensciorgcodeofconduct contribut project agre abid term vcr httpsgithubcomropenscivcr webmockr new featur enabl enabl method adapt r class gain new paramet quiet toggl whether messag print minor improv recreat http respons object httr crul use url request object use url respons object url respons object fall back use url request object improv doc add explan manual file to_rais to_return explain differenc may want use webmockr minor improv support vcr abl recreat httr object fulli see github issu ropenscivcr need handl addit part httr request object field output chang vcr return object much closer real httr request return bug fix bug fix improv fix simpl authent wi_th support basic_auth mock basic authent either crulauth httrauthent webmockr new featur gain abil defin return http respons order http respons return idea rubi webmock librari implement differ rubi r languag differ give one to_return one creat stub want return respons time use new time paramet within to_return relat use case mock http retri use new featur gain new function webmockr_reset abl reset stub registri request registri one function call gain support mock simpl authent wi_th accept basic_auth addit queri bodi header note authent type ignor minor improv chang uri match stub_request werent allow match uri without scheme addit webmockr match uri without http scheme match scheme http see uripattern anoth chang uri match queri param compar separ uri note regex allow queri param queri paramet compar code regex uri use uri match stub done uri queri paramet remov comparison base url http scheme plu path compar wasnt sure write_disk_path behavior correct use httr seem work ad test valu queri paramet given wi_th coerc charact class make sure comparison stub request done class charact bug fix fix uri_regex usag stub_request longer curl escap uri_regex given escap nonregex uri webmockr chang cruladapt use normalizepath write_disk_path path rel path chang full path ad test webmockr new featur new adapt class consolid common code httradapt cruladapt class inherit adapt user face chang pkgdown document site gain group function help user navig packag see httpsdocsropensciorgwebmockrrefer minor improv correctli fail inform messag write_disk_path null user tri write disk use webmockr improv readm construct use html child detail section fix match stub match bodi bodi json encod vcr load real http request perform twice perform bug fix fix set_bodi method respons class handl case user write disk handl raw byte correctli fix to_ method stubbedrequest class format queri paramet incorrectli fix bodypattern class handl upload object list relat issu fix wi_th paramet bodi handl upload object httr request fail vcr load cassett insert fix handle_request skip vcrrelat code unless cassett insert webmockr new featur webmockr support mock write disk tldr see mockingdiskwrit get start major high level http client r crul httr support write directli disk rather user manual get http respons write disk support requir quit bit work code think support variou scenario user find deal write disk pleas get touch problem gain request_registry_clear method easili clear request request registri minor improv better doc r class r support new roxygen version cran httr simpl auth ignor support simpl auth crul alreadi work bug fix fix handl raw respons convert charact imag need due issu httpsgithubcomropenscivcrissu webmockr minor improv fix link http test book chang ropensci ropenscilab fix request match singl match type work eg match queri header addit header match work ad exampl singl match type bug fix fix stub specif within crul httr adapt typo set header webmockr defunct underscor method to_return_ wi_th_ defunct new featur to_return gain paramet list minor improv typo fix thank bisaloo improv print method stub found stubbedrequest better behavior long string header bodi bug fix fix date mock httr respons object match date format httr use real http request via httpsgithubcomropenscivcrissu fix respons header mock httr respons object httr make list header insensit case use function packag to_return wi_th drop use lazyev packag fall back use simpl list fix problem creat stub fail within test_that block due weird lazi eval conflict think thank karawoo webmockr minor improv return mock respons header retain case user gave wherea lowercas match output crul httr fix thank hlapp return mock respons header charact class depend class given user creat stub fix return charact class valu respons header thank hlapp skip test requir vcr vcr avail intern chang crul adapt produc http respons new version crul return add response_headers_al slot webmockr minor improv make request_registri stub_registri print method similar avoid confus user updat doc enabledis indic crul httr support relat wrap httr adapt exampl requirenamespac run httr avail clean onload call remov comment code add note creat adapt object load crul httr packag bug fix fix enabl disabl method even though httr suggest load adapt crul httr stop packag found give messag skip packag instal addit enabl disabl gain adapt paramet indic packag want enabl disabl adapt given attempt adapt note bug shouldnt affect vcr user httr import packag youd httr instal thank maell uncov problem webmockr new featur ad support integr packag httr see httradapt detail webmockr integr two http r packag crul httr along httr integr new method httr_mock turn mock httr two method build_httr_respons build_httr_request meant intern use webmockr new featur ad support integr packag vcr cran http request cach webmockr new featur new function enabl ask webmockr enabl give boolean wi_th gain new paramet list escap hatch avoid nse exampl ad wi_th man file clarifi use minor improv match request bodi support ad exampl match request bodi see stub_request make sure adapt crul handl type match remov intern usag pipe packag still export pipe user fix intern give vcr error vcr load futur releas vcr support requir newest crul version bug fix error messag suggest stub give bodi give bodi need along method uri header queri fix respons class deal capit correctli webmockr new featur new function to_rais say match respons return certain except current to_rais accept error class fauxpa packag new function to_timeout say match respons return timeout special case to_rais easili timeout expect new function request_registri list request request registri packag crul move import suggest http client support move back suggest support least one http client webmockr_configur chang turn_on remov allow_net_connect allow_localhost ignor use set fals default fix usag allow accept charact vector url instead boolean follow correctli mark ignor fix net_http_connect_on_start show_stubbing_instruct query_values_not show_body_diff webmockr_disable_net_connect accept allow paramet disabl connect except url given allow webmockr_net_connect_allow accept uri paramet test uriurl allow minor improv fix print stub statement print consol werent includ header accur ad exampl stub_registri stub_registry_clea manual file intern method build_crul_request build_crul_respons move outsid cruladapt class acces like webmockr packag enabl disabl return boolean invis gener improv document throughout ad lint user input to_return method doc detail input method ad lint user input wi_th method doc detail input method bug fix fix option allow_localhost wasnt actual workin deprec defunct webmockr_en webmockr_dis defunct use webmockren webmockrdis instead webmockr new featur releas cran test environ local maco instal r patch ubuntu github action r winbuild devel releas r cmd check result error warn note revers depend check revers depend problem found see httpsgithubcomropensciwebmockrtreemasterrevdep version function gain paramet fix made document improv thank scott chamberlain provid gener summari chang titl descript describ chang detail relat issu close issu make sure includ eg fix similar relat issu make sure mention like exampl introduc new featur chang behavior exist methodsfunct includ exampl possibl brief form rememb includ test unless your chang grammar pleas includ new test chang contribut bug submit issu issu pagehttpsgithubcomropensciwebmockrissu code contribut fork repo github account clone version account machin account eg git clone httpsgithubcomyourgithubusernamewebmockrgit make sure track progress upstream ie version webmockr ropensciwebmockr git remot add upstream httpsgithubcomropensciwebmockrgit make chang make sure pull chang upstream either git fetch upstream merg later git pull upstream fetch merg one step make chang bonu point make chang new featur branch pleas write test chang affect code doc push account submit pull request home base ropensciwebmockr also check discuss forumhttpsdiscussropensciorg issu relat usag packag whether question bug similar along queri pleas past devtoolssession_info sessioninfo code block delet proceed detail summarystrongsess infostrongsummari r detail platform field valu version r version patch r os maco big sur system x_ darwin ui x languag en collat en_usutf ctype en_usutf tz uspacif date depend packag old new δ webmockr crul na revdep wow problem wow problem webmockr r echofals knitropts_chunkset comment collaps true warn fals note run make readm gener readmemd cran checkshttpscranchecksinfobadgesworstwebmockrhttpscranchecksinfopkgswebmockr project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact rcmdcheckhttpsgithubcomropensciwebmockrworkflowsrcmdcheckbadgesvghttpsgithubcomropensciwebmockract codecovhttpscodecovioghropensciwebmockrbranchmastergraphbadgesvghttpscodecovioghropensciwebmockr rstudio mirror downloadshttpscranlogsrpkgorgbadgeswebmockrhttpsgithubcomrhubcranlogsapp cran versionhttpswwwrpkgorgbadgesversionwebmockrhttpscranrprojectorgpackagewebmockr r librari stub set expect http request port rubi gem webmockhttpsgithubcombblimkewebmock detail summarystronghow work detailstrongsummari p r detail childdetailshtml pdetail featur stub http request low http client lib level set verifi expect http request match request base method uri header bodi support testthat via vcr use test outsid test context support http librari crulhttpsgithubcomropenscicrul httrhttpsgithubcomrlibhttr instal cran r evalfals installpackageswebmockr dev version r evalfals remotesinstall_githubropensciwebmockr r librarywebmockr enabl webmockr r webmockren insid test framework r librarycrul librarytestthat make stub stub_requestget httpshttpbinorgget to_returnbodi success statu check stub registri stub_registri make request z crulhttpclientnewurl httpshttpbinorggetget run test noth return mean pass expect_isz httprespons expect_equalzstatus_cod expect_equalzparseutf success r echofals stub_registry_clear outsid test framework r librarycrul stub request base uri default respons r stub_requestget httpshttpbinorgget r x httpclientnewurl httpshttpbinorg xgetget set return object r stub_requestget httpshttpbinorgget wi_th queri listhello world to_returnstatu r xgetget queri listhello world stub request base method uri queri param r stub_requestget httpshttpbinorgget wi_thqueri listhello world header listuserag libcurl rcurl crul acceptencod gzip deflat r stub_registri r x httpclientnewurl httpshttpbinorg xgetget queri listhello world stub request set expect timeout r errortru stub_requestpost httpshttpbinorgpost to_timeout x httpclientnewurl httpshttpbinorg xpostpost stub request set http error expect r errortru libraryfauxpa stub_requestget httpshttpbinorggetab to_raisehttpbadrequest x httpclientnewurl httpshttpbinorg xgetget queri lista b httr integr r librarywebmockr libraryhttr turn httr mock httr_mock r evalfals stub found gethttpshttpbinorgget error real http connect disabl unregist request get httpshttpbinorgget header accept applicationjson textxml applicationxml stub request follow snippet stub_requestget uri httpshttpbinorgget wi_th header listaccept applicationjson textxml applicationxml make stub r stub_requestget uri httpshttpbinorgget wi_th header listaccept applicationjson textxml applicationxml to_returnstatu bodi im teapot header listim_a teapot return mock respons r evalfals re gethttpshttpbinorgget resstatus_cod reshead im_a teapot write disk write file mock request r echofals stub_registry_clear request_registry_clear r make temp file f tempfilefileext json write someth file cathelloworldn file f readlinesf make stub invisiblestub_requestget httpshttpbinorgget to_returnbodi filef make request httpclientnewhttpshttpbinorggetgetdisk f readlinesfilef use mock_fil webmockr handl file content r g tempfilefileext json make stub invisiblestub_requestget httpshttpbinorgget to_returnbodi mock_fileg hellomarsn make request crulhttpclientnewhttpshttpbinorggetgetdisk g readlinesoutcont write disk support crul httr mani request row eg mani redirect final success request r evalfals webmockren librarycrul libraryfauxpa z stub_requestget httpshttpbinorgget to_returnz statu bodi foobar header lista to_returnz statu bodi bear header listb to_raisez httpbadrequest z con crulhttpclientnewurl httpshttpbinorg first to_return first congetget first firstparseutf second to_return second congetget second secondparseutf third to_return fail specifi third congetget note subsequ request past number respons given to_returnetc simpli give last respons specifi although set to_timeout to_rais featur wont happen sinc fail contributor scott chamberlainhttpsgithubcomsckott aaron wolenhttpsgithubcomaaronwolen meta pleas report issu bugshttpsgithubcomropensciwebmockrissu licens mit get citat inform webmockr r citationpackag webmockr pleas note packag releas contributor code conducthttpsropensciorgcodeofconduct contribut project agre abid term vcr httpsgithubcomropenscivcr gener roxygen edit hand pleas edit document rmock_fil namemock_fil aliasmock_fil titlemock file usag mock_filepath payload argument itempathcharact file path requir itempayloadcharact string written file given codepath paramet requir valu list class codemock_fil descript mock file exampl mock_filepath tempfil payload foo bar gener roxygen edit hand pleas edit document rdefunctr namewebmockr_en aliaswebmockr_en titlethi function defunct usag webmockr_en descript function defunct keywordintern gener roxygen edit hand pleas edit document rstub_requestr namestub_request aliasstub_request titlestub http request usag stub_requestmethod get uri null uri_regex null argument itemmethodcharact http method one get post put patch head delet option special method itemuricharact request uri full partial uri pkgwebmockr match uri without http scheme match scheme http requir unless codeuri_regex given see linkuripattern see uri vs uri_regex section itemuri_regexcharact uri repres regex requir codeuri given see exampl uri vs uri_regex section valu object class codestubbedrequest print method describ stub descript stub http request detail intern call linkstubbedrequest handl logic see codelinkstub_registrystub_registri list stub codelinkstub_registry_clearstub_registry_clear remov stub codelinkremove_request_stubremove_request_stub remov specif stub multipl stub match request use first stub want use stub creat earlier one match remov earlier one note codewi_th pass codequeri valu coerc charact class record stub pass numer integ etc coerc charact see codelinkwi_thwi_th detail request bodyqueryhead codelinkto_returnto_return detail respons statusbodyhead handl note trail slash drop stub uri match sectionuri vs uri_regex use codeuri compar uri without queri param also queri param without uri use codeuri_regex dont compar uri queri param use regex string defin codeuri_regex pattern call linkgrepl sectionmock write disk see linkmockingdiskwrit exampl dontrun basic stub stub_requestget httpshttpbinorgget stub_requestpost httpshttpbinorgpost method use stub_requestani httpshttpbinorgget list stub stub_registri request header stub_requestget httpshttpbinorgget wi_thhead listuserag r request bodi stub_requestpost httpshttpbinorgpost wi_thbodi listfoo bar stub_registri librarycrul x crulhttpclientnewurl httpshttpbinorg crulmock xpostpost bodi listfoo bar add expect to_return stub_requestget httpshttpbinorgget wi_th queri listhello world header listuserag r to_returnstatu bodi stuff header lista list stub stub_registri regex stub_requestget uri_regex ampl set stub expect timeout stub_requestget httpshttpbinorgget to_timeout x crulhttpclientnewurl httpshttpbinorg re xgetget rais except libraryfauxpa stub_requestget httpshttpbinorgget to_raisehttpaccept stub_requestget httpshttpbinorgget to_raisehttpaccept httpgone x crulhttpclientnewurl httpshttpbinorg stub_requestget httpshttpbinorgget to_raisehttpbadgateway crulmock xgetget pass list list z stub_requestget httpshttpbinorgget wi_thz list listqueri listfoo bar bodi stub_requestani uri_regex wi_thbodi listfoo bar crul librarycrul x crulhttpclientnewurl httpshttpbinorg crulmock xpostpost bodi listfoo bar xputput bodi listfoo bar httr libraryhttr httr_mock posthttpsexamplecom bodi listfoo bar puthttpsgooglecom bodi listfoo bar header header list acceptencod gzip deflat accept applicationjson textxml applicationxml stub_requestani uri_regex wi_thhead header librarycrul x crulhttpclientnewurl httpshttpbinorg header header crulmock xpostpost xputput bodi listfoo bar xgetput queri liststuff l mani respons first respons match first to_return call stub_requestget httpshttpbinorgget to_returnstatu bodi foobar header lista to_returnstatu bodi bear header listb con crulhttpclientnewurl httpshttpbinorg congetgetparseutf congetgetparseutf use time to_return repeat respons mani time libraryfauxpa stub_requestget httpshttpbinorgget to_returnstatu bodi applepi time to_raisehttpunauthor con crulhttpclientnewurl httpshttpbinorg congetgetparseutf congetgetparseutf congetgetparseutf clear stub stub_registri stub_registry_clear seealso codelinkwi_thwi_th codelinkto_returnto_return codelinkto_timeoutto_timeout codelinkto_raiseto_rais codelinkmock_filemock_fil gener roxygen edit hand pleas edit document radapterhttrr namebuild_httr_request aliasbuild_httr_request titlebuild httr request usag build_httr_requestx argument itemxan unexecut httr request object valu httr request descript build httr request gener roxygen edit hand pleas edit document rrequestpatternr namerequestpattern aliasrequestpattern titlerequestpattern class descript class handl request matcher exampl dontrun x requestpatternnewmethod get uri httpbinorgget xbody_pattern xheaders_pattern xmethod_pattern xuri_pattern xto_ make request signatur rs requestsignaturenewmethod get uri httphttpbinorgget check match xmatchesr regex uri x requestpatternnewmethod get uri_regex ossreforg xuri_pattern xuri_patternto_ xto_ uri queri paramet x requestpatternnew method get uri httpshttpbinorgget queri listfoo bar xto_ queri param includ url separ x requestpatternnew method get uri httpshttpbinorggetstuffth xto_ xquery_param header via set methodani uri_regex header list userag appl acceptencod gzip deflat accept applicationjson textxml applicationxml x requestpatternnew method uri_regex header header xto_ rs requestsignaturenewmethod uri httpfoobar option listhead header rs xmatchesr bodi x requestpatternnewmethod post uri httpbinorgpost bodi listi cruluploadsystemfilecit xto_ rs requestsignaturenewmethod post uri httphttpbinorgpost option list bodi listi cruluploadsystemfilecit rs xmatchesr seealso pattern class http method linkmethodpattern header linkheaderspattern bodi linkbodypattern uriurl linkuripattern sectionpubl field ifhtmloutdiv classrfield describ itemcodemethod_patternxxx itemcodeuri_patternxxx itemcodebody_patternxxx itemcodeheaders_patternxxx ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcoderequestpatternnew item hrefmethodmatchescoderequestpatternmatch item hrefmethodto_scoderequestpatternto_ item hrefmethodclonecoderequestpatternclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new coderequestpattern object subsectionusag ifhtmloutdiv classrpreformattedrequestpatternnew method uri null uri_regex null queri null bodi null header null ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodemethodth http method head option get post put patch trace delet match http method requir itemcodeuricharact request uri requir uri_regex itemcodeuri_regexcharact request uri regex requir uri itemcodequerylist queri paramet option itemcodebodylist bodi request option itemcodeheaderslist header option ifhtmloutdiv subsectionreturn new coderequestpattern object ifhtmlouthr ifhtmlouta idmethodmatchesa iflatexouthypertargetmethodmatch subsectionmethod codematch request signatur match select matcher subsectionusag ifhtmloutdiv classrpreformattedrequestpatternmatchesrequest_signatureifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderequest_signaturea linkrequestsignatur object ifhtmloutdiv subsectionreturn boolean ifhtmlouthr ifhtmlouta idmethodto_sa iflatexouthypertargetmethodto_ subsectionmethod codeto_ print pattern easi human consumpt subsectionusag ifhtmloutdiv classrpreformattedrequestpatternto_sifhtmloutdiv subsectionreturn string ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedrequestpatternclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rzzzr namewebmockr_crul_fetch aliaswebmockr_crul_fetch titleexecut curl request usag webmockr_crul_fetchx argument itemxan object valu curl respons descript execut curl request keywordintern gener roxygen edit hand pleas edit document radapterhttrr namehttr_mock aliashttr_mock titleturn httr mock set callback rout httr request webmockr usag httr_mockon true argument itemonlog set codetru turn codefals turn default codetru valu silent return codetru enabl codefals disabl descript turn httr mock set callback rout httr request webmockr gener roxygen edit hand pleas edit document rdefunctr namewebmockr_dis aliaswebmockr_dis titlethi function defunct usag webmockr_dis descript function defunct keywordintern gener roxygen edit hand pleas edit document rrequestpatternr namemethodpattern aliasmethodpattern titlemethodpattern descript method matcher detail match regardless case eg post match post exampl x methodpatternnewpattern post xpattern xmatchesmethod post xmatchesmethod post match call true x methodpatternnewpattern xpattern xmatchesmethod post xmatchesmethod get xmatchesmethod head keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodepatterncharact http method ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodemethodpatternnew item hrefmethodmatchescodemethodpatternmatch item hrefmethodto_scodemethodpatternto_ item hrefmethodclonecodemethodpatternclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new codemethodpattern object subsectionusag ifhtmloutdiv classrpreformattedmethodpatternnewpatternifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodepatterncharact http method lowercas ifhtmloutdiv subsectionreturn new codemethodpattern object ifhtmlouthr ifhtmlouta idmethodmatchesa iflatexouthypertargetmethodmatch subsectionmethod codematch test pattern match given http method subsectionusag ifhtmloutdiv classrpreformattedmethodpatternmatchesmethodifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodemethodcharact http method lowercas ifhtmloutdiv subsectionreturn boolean ifhtmlouthr ifhtmlouta idmethodto_sa iflatexouthypertargetmethodto_ subsectionmethod codeto_ print pattern easi human consumpt subsectionusag ifhtmloutdiv classrpreformattedmethodpatternto_sifhtmloutdiv subsectionreturn string ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedmethodpatternclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rto_timeoutr nameto_timeout aliasto_timeout titleset timeout expect return match usag to_timeoutdata argument itemdatainput anyth coerc codestubbedrequest class object valu object class codestubbedrequest print method describ stub descript set timeout expect return match note see exampl codelinkstub_requeststub_request gener roxygen edit hand pleas edit document rstub_registry_clearr namestub_registry_clear aliasstub_registry_clear titlestub_registry_clear usag stub_registry_clear valu empti list invis descript clear stub stub registri exampl x stub_requestget httpshttpbinorgget stub_registri stub_registry_clear stub_registri seealso stubregistri codelinkstubregistri codelinkremove_request_stub codelinkstub_registri conceptstubregistri gener roxygen edit hand pleas edit document rrequestregistryr namerequestregistri aliasrequestregistri titlerequestregistri descript keep track http request exampl x requestregistrynew z requestsignaturenewget httpscottchamberlaininfo z requestsignaturenewpost httpshttpbinorgpost xregister_requestrequest z xregister_requestrequest z xregister_requestrequest z print method list request x complex request w requestsignaturenew method get uri httpshttpbinorgget option listhead listuserag foobar stuff thing wto_ xregister_requestrequest w x hash number time request xrequest_signatureshash times_execut method pat requestpatternnew method get uri httpshttpbinorgget header listuserag foobar stuff thing patto_ xtimes_executedpat z requestpatternnewmethod get uri httpscottchamberlaininfo xtimes_executedz w requestpatternnewmethod post uri httpshttpbinorgpost xtimes_executedw pattern match return zero pat requestpatternnew method get uri httprecologyinfo patto_ xtimes_executedpat reset request registri xreset seealso codelinkstub_registrystub_registri linkstubregistri requestregistri codelinkhashcount codelinkrequest_registri conceptrequestregistri sectionpubl field ifhtmloutdiv classrfield describ itemcoderequest_signaturesa hashcount object ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodprintcoderequestregistryprint item hrefmethodresetcoderequestregistryreset item hrefmethodregister_requestcoderequestregistryregister_request item hrefmethodtimes_executedcoderequestregistrytimes_execut item hrefmethodclonecoderequestregistryclon ifhtmlouthr ifhtmlouta idmethodprinta iflatexouthypertargetmethodprint subsectionmethod codeprint print method coderequestregistri class subsectionusag ifhtmloutdiv classrpreformattedrequestregistryprintx ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexself itemcodeignor ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodreseta iflatexouthypertargetmethodreset subsectionmethod codereset reset registri regist request subsectionusag ifhtmloutdiv classrpreformattedrequestregistryresetifhtmloutdiv subsectionreturn noth return resset registri request ifhtmlouthr ifhtmlouta idmethodregister_requesta iflatexouthypertargetmethodregister_request subsectionmethod coderegister_request regist request subsectionusag ifhtmloutdiv classrpreformattedrequestregistryregister_requestrequestifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderequesta charact string request serial coderequestsignaturenewto_ ifhtmloutdiv subsectionreturn noth return regist request ifhtmlouthr ifhtmlouta idmethodtimes_executeda iflatexouthypertargetmethodtimes_execut subsectionmethod codetimes_execut mani time request made subsectionusag ifhtmloutdiv classrpreformattedrequestregistrytimes_executedrequest_patternifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderequest_patternan object class coderequestpattern ifhtmloutdiv subsectiondetail match found request pattern return subsectionreturn integ number time request made ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedrequestregistryclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rwebmockroptsr namewebmockr_configur aliaswebmockr_configur aliaswebmockr_configure_reset aliaswebmockr_configur aliaswebmockr_allow_net_connect aliaswebmockr_disable_net_connect aliaswebmockr_net_connect_allow titlewebmockr configur usag webmockr_configur allow_net_connect fals allow_localhost fals allow null net_http_connect_on_start fals show_stubbing_instruct fals query_values_not fals show_body_diff fals webmockr_configure_reset webmockr_configur webmockr_allow_net_connect webmockr_disable_net_connectallow null webmockr_net_connect_alloweduri null argument itemallow_net_connectlog default codefals itemallow_localhostlog default codefals itemallowcharact one uriurl allow extens other allow itemnet_http_connect_on_startlog default codefals ignor itemshow_stubbing_instructionslog default codefals ignor itemquery_values_notationlog default codefals ignor itemshow_body_difflog default codefals ignor itemuricharact uriurl charact string determin whether allow descript webmockr configur sectionwebmockr_allow_net_connect stub found request even net connect allow run codewebmockr_allow_net_connect stub respons return stub found net connect allow real http request made exampl dontrun webmockr_configur webmockr_configur allow_localhost true webmockr_configur webmockr_configure_reset webmockr_allow_net_connect webmockr_net_connect_allow disabl net connect uri webmockr_disable_net_connect give null uri pass webmockr_net_connect_allow disabl net connect except given uri webmockr_disable_net_connectallow googlecom specif uri allow webmockr_net_connect_allowedgooglecom gener roxygen edit hand pleas edit document rremove_request_stubr nameremove_request_stub aliasremove_request_stub titleremov request stub usag remove_request_stubstub argument itemstuba request stub class codestubbedrequest valu logic codetru remov codefals remov descript remov request stub exampl x stub_requestget httpshttpbinorgget stub_registri remove_request_stubx stub_registri seealso stubregistri codelinkstubregistri codelinkstub_registry_clear codelinkstub_registri conceptstubregistri gener roxygen edit hand pleas edit document rwi_thr namewi_th aliaswi_th titleset addit part stub request usag wi_thdata list list argument itemdatainput anyth coerc codestubbedrequest class object itemcomma separ list name variabl accept follow codequeri codebodi codehead codebasic_auth see detail itemlistnam list one codequeri codebodi codehead andor codebasic_auth altern pass via code dont pass thing eg dont pass queri code also queri paramet valu object class codestubbedrequest print method describ stub descript set queri param request bodi request header andor basic_auth detail codewith function codebas packag went codewi_th valu queri bodi header basic_auth item item queri list name list valu coerc charact class record stub pass numer integ etc coerc charact item bodi variou includ charact string list raw numer upload codecrulupload codehttrupload_fil creat object end item header list name list item basic_auth charact length two vector usernam password authent type basicdigestntlmetc ignor mock authenci right take account authent type dont check usernamepassword except detect edg case exampl usernamepassword probabl set user purpos eg url pick environ variabl note regex match queri bodi header test match follow way item item queri compar stub request codeident compar name list list name valu compar item bodi vari depend bodi format list vs charact etc item header compar stub request valu code list name compar codein codebasic_auth includ header name author note see exampl codelinkstub_requeststub_request exampl first make stub object req stub_requestpost httpshttpbinorgpost add bodi list wi_threq bodi listfoo bar string wi_threq bodi foo bar raw wi_threq bodi chartorawfoo bar numer wi_threq bodi upload wi_threq bodi cruluploadsystemfilecit wi_threq bodi httrupload_filesystemfilecit add queri name list wi_threq queri listfoo bar add header name list wi_threq header listfoo bar wi_threq header listuserag webmockrv helloworld list pass name list instead wi_threq list listbodi listfoo bar basic authent wi_threq basic_auth cuser pass wi_threq basic_auth cuser pass header listfoo bar gener roxygen edit hand pleas edit document rrequestpatternr namebodypattern aliasbodypattern titlebodypattern descript bodi matcher exampl make request signatur bb requestsignaturenew method get uri httpshttpbinorgget option list bodi listfoo bar make bodi pattern object fals z bodypatternnewpattern listfoo bar zpattern zmatchesbbbodi true z bodypatternnewpattern listfoo bar zpattern zmatchesbbbodi upload bodi upload list bb requestsignaturenew method post uri httpshttpbinorgpost option listbodi cruluploadsystemfilecit bbbodi z bodypatternnewpattern cruluploadsystemfilecit zpattern zmatchesbbbodi upload list bb requestsignaturenew method post uri httpshttpbinorgpost option listbodi listi cruluploadsystemfilecit bbbodi z bodypatternnewpattern listi cruluploadsystemfilecit zpattern zmatchesbbbodi keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodepatterna list ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodebodypatternnew item hrefmethodmatchescodebodypatternmatch item hrefmethodto_scodebodypatternto_ item hrefmethodclonecodebodypatternclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new codebodypattern object subsectionusag ifhtmloutdiv classrpreformattedbodypatternnewpatternifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodepatternlist bodi object ifhtmloutdiv subsectionreturn new codebodypattern object ifhtmlouthr ifhtmlouta idmethodmatchesa iflatexouthypertargetmethodmatch subsectionmethod codematch match list header store subsectionusag ifhtmloutdiv classrpreformattedbodypatternmatchesbodi content_typ ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodebodylist bodi itemcodecontent_typecharact content type ifhtmloutdiv subsectionreturn boolean ifhtmlouthr ifhtmlouta idmethodto_sa iflatexouthypertargetmethodto_ subsectionmethod codeto_ print pattern easi human consumpt subsectionusag ifhtmloutdiv classrpreformattedbodypatternto_sifhtmloutdiv subsectionreturn string ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedbodypatternclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rwebmockrr doctypepackag namewebmockrpackag aliaswebmockrpackag aliaswebmockr titlewebmockr descript stub set expect http request sectionfeatur item item stub http request low http client lib level item set verifi expect http request item match request base method uri header bodi item support multipl http librari includ pkgcrul pkghttr item integr http test cach librari pkgvcr exampl librarywebmockr stub_requestget httpshttpbinorgget stub_requestpost httpshttpbinorgpost stub_registri author scott chamberlain emailmyrmecocystusrgmailcom aaron wolen keywordpackag gener roxygen edit hand pleas edit document rrequestregistryr namehashcount aliashashcount titlehashcount descript hash counter store request count time use exampl x hashcounternew xhash z requestsignaturenewmethod get uri httpshttpbinorgget xputz xhash xgetz xputz xgetz seealso requestregistri codelinkrequestregistri codelinkrequest_registri conceptrequestregistri sectionpubl field ifhtmloutdiv classrfield describ itemcodehashlist list intern use element codekey codesig codecount ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodputcodehashcounterput item hrefmethodgetcodehashcounterget item hrefmethodclonecodehashcounterclon ifhtmlouthr ifhtmlouta idmethodputa iflatexouthypertargetmethodput subsectionmethod codeput regist request key subsectionusag ifhtmloutdiv classrpreformattedhashcounterputreq_sigifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodereq_sigan object class coderequestsignatur ifhtmloutdiv subsectionreturn noth return regist request iter intern counter ifhtmlouthr ifhtmlouta idmethodgeta iflatexouthypertargetmethodget subsectionmethod codeget get request key subsectionusag ifhtmloutdiv classrpreformattedhashcountergetreq_sigifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodereq_sigan object class coderequestsignatur ifhtmloutdiv subsectionreturn integ count mani time request made ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedhashcounterclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rrequestpatternr nameheaderspattern aliasheaderspattern titleheaderspattern descript header matcher detail codewebmockr normalis header treat form header equal ie follow two set header equal codelisthead valu content_length x_custom_head foo codelisthead valu contentlength xcustomhead foo exampl x headerspatternnewpattern lista xpattern xmatcheslista differ case x headerspatternnewpattern listhead valu xpattern xmatcheslisthead valu xmatcheslisthead valu differ symbol x headerspatternnewpattern listhello_world yep xpattern xmatcheslisthelloworld yep xmatcheslisthelloworld yep header list userag appl acceptencod gzip deflat accept applicationjson textxml applicationxml x headerspatternnewpattern header xto_ xpattern xmatcheshead keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodepatterna list ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodeheaderspatternnew item hrefmethodmatchescodeheaderspatternmatch item hrefmethodempty_headerscodeheaderspatternempty_head item hrefmethodto_scodeheaderspatternto_ item hrefmethodclonecodeheaderspatternclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new codeheaderspattern object subsectionusag ifhtmloutdiv classrpreformattedheaderspatternnewpatternifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodepatternlist pattern name list must name eg codelista b ifhtmloutdiv subsectionreturn new codeheaderspattern object ifhtmlouthr ifhtmlouta idmethodmatchesa iflatexouthypertargetmethodmatch subsectionmethod codematch match list header store subsectionusag ifhtmloutdiv classrpreformattedheaderspatternmatchesheadersifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeheaderslist name list header eg codelista b ifhtmloutdiv subsectionreturn boolean ifhtmlouthr ifhtmlouta idmethodempty_headersa iflatexouthypertargetmethodempty_head subsectionmethod codeempty_head header empti test null length subsectionusag ifhtmloutdiv classrpreformattedheaderspatternempty_headersheadersifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeheadersnam list header ifhtmloutdiv subsectionreturn boolean ifhtmlouthr ifhtmlouta idmethodto_sa iflatexouthypertargetmethodto_ subsectionmethod codeto_ print pattern easi human consumpt subsectionusag ifhtmloutdiv classrpreformattedheaderspatternto_sifhtmloutdiv subsectionreturn string ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedheaderspatternclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rhttplibadapterregistryr namehttplibadapaterregistri aliashttplibadapaterregistri titlehttplibadapaterregistri descript http lib adapt registri exampl x httplibadapaterregistrynew xregistercruladapternew x xadapt xadaptersnam sectionpubl field ifhtmloutdiv classrfield describ itemcodeadapterslist ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodprintcodehttplibadapaterregistryprint item hrefmethodregistercodehttplibadapaterregistryregist item hrefmethodclonecodehttplibadapaterregistryclon ifhtmlouthr ifhtmlouta idmethodprinta iflatexouthypertargetmethodprint subsectionmethod codeprint print method codehttplibadapaterregistri class subsectionusag ifhtmloutdiv classrpreformattedhttplibadapaterregistryprintx ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexself itemcodeignor ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodregistera iflatexouthypertargetmethodregist subsectionmethod coderegist regist http librari adapt subsectionusag ifhtmloutdiv classrpreformattedhttplibadapaterregistryregisterxifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexan http lib adapt eg linkcruladapt ifhtmloutdiv subsectionreturn noth regist librari adapt ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedhttplibadapaterregistryclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rdefunctr nameto_return_ aliasto_return_ titlethi function defunct usag to_return_ descript function defunct keywordintern gener roxygen edit hand pleas edit document rpluck_bodyr namepluck_bodi aliaspluck_bodi titleextract bodi http request usag pluck_bodyx argument itemxan unexecut crul emphor httr request object valu one follow item item codenul request associ bodi item codenul upload use list item list contain multipartencod bodi item charact vector json rawencod bodi upload form file descript return appropri represent data contain within request bodi base encod gener roxygen edit hand pleas edit document radaptercrulr namebuild_crul_request aliasbuild_crul_request titlebuild crul request usag build_crul_requestx argument itemxan unexecut crul request object valu crul request descript build crul request gener roxygen edit hand pleas edit document rrequestsignatur namerequestsignatur aliasrequestsignatur titlerequestsignatur descript gener purpos request signatur builder exampl make request signatur x requestsignaturenewmethod get uri httpshttpbinorgget method xmethod uri xuri request signatur string xto_ header w requestsignaturenew method get uri httpshttpbinorgget option listhead listuserag foobar stuff thing w wheader wto_ header bodi bb requestsignaturenew method get uri httpshttpbinorgget option list header listuserag foobar stuff thing bodi lista tabl bb bbheader bbbodi bbto_ disk path f tempfil bb requestsignaturenew method get uri httpshttpbinorgget option listdisk f bb bbdisk bbto_ sectionpubl field ifhtmloutdiv classrfield describ itemcodemethodcharact http method itemcodeuricharact uri itemcodebodyvari request bodi itemcodeheaderslist name list header itemcodeproxieslist proxi name list itemcodeauthlist authent detail name list itemcodeurlintern use itemcodediskcharact write disk path itemcodefieldsvari request bodi detail itemcodeoutputvari request output detail disk memori etc ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcoderequestsignaturenew item hrefmethodprintcoderequestsignatureprint item hrefmethodto_scoderequestsignatureto_ item hrefmethodclonecoderequestsignatureclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new coderequestsignatur object subsectionusag ifhtmloutdiv classrpreformattedrequestsignaturenewmethod uri option listifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodemethodth http method head option get post put patch trace delet match http method requir itemcodeuricharact request uri requir itemcodeoptionslist option option see detail ifhtmloutdiv subsectionreturn new coderequestsignatur object ifhtmlouthr ifhtmlouta idmethodprinta iflatexouthypertargetmethodprint subsectionmethod codeprint print method coderequestsignatur class subsectionusag ifhtmloutdiv classrpreformattedrequestsignatureprintifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexself itemcodeignor ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodto_sa iflatexouthypertargetmethodto_ subsectionmethod codeto_ request signatur string subsectionusag ifhtmloutdiv classrpreformattedrequestsignatureto_sifhtmloutdiv subsectionreturn charact string represent request signatur ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedrequestsignatureclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document radaptercrulr radapterhttrr radapterr namecruladapt aliascruladapt aliashttradapt aliasadapt titleadapt modifi http request descript codeadapt base parent class use implement pkgwebmockr support differ http client use directli instead use one clientspecif adapt webmockr current provid item item codecruladapt pkgcrul item codehttradapt pkghttr detail note document field method across clientspecif adapt exampl dontrun requirenamespacehttr quietli true libraryhttr normal httr request work fine real gethttpshttpbinorgget real webmockr librarywebmockr turn httr mock httr_mock request isnt allow gethttpshttpbinorgget stub request stub_requestget uri httpshttpbinorgget wi_th header listaccept applicationjson textxml applicationxml to_returnstatu bodi im teapot header lista request succe return mock respons re gethttpshttpbinorgget resstatus_cod rawtocharrescont allow real request webmockr load webmockr_allow_net_connect webmockr_net_connect_allow gethttpshttpbinorggetanimalchicken webmockr_disable_net_connect webmockr_net_connect_allow gethttpshttpbinorggetanimalchicken httr_mockfals sectionsup class codelinkwebmockradapterwebmockradapt codecruladapt sectionpubl field ifhtmloutdiv classrfield describ itemcodeclienthttp client packag name itemcodenameadapt name ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodclonecodecruladapterclon ifhtml outdetail open summaryinherit methodssummari item item outspan classpkglink datapkgwebmockr datatopicadapt dataiddisablehrefwebmockrhtmladapterhtmlmethoddisablecodewebmockradapterdisableoutspan item outspan classpkglink datapkgwebmockr datatopicadapt dataidenablehrefwebmockrhtmladapterhtmlmethodenablecodewebmockradapterenableoutspan item outspan classpkglink datapkgwebmockr datatopicadapt dataidhandle_requesthrefwebmockrhtmladapterhtmlmethodhandle_requestcodewebmockradapterhandle_requestoutspan item outspan classpkglink datapkgwebmockr datatopicadapt dataidinitializehrefwebmockrhtmladapterhtmlmethodinitializecodewebmockradapterinitializeoutspan item outspan classpkglink datapkgwebmockr datatopicadapt dataidremove_stubshrefwebmockrhtmladapterhtmlmethodremove_stubscodewebmockradapterremove_stubsoutspan outdetail ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedcruladapterclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv sectionsup class codelinkwebmockradapterwebmockradapt codehttradapt sectionpubl field ifhtmloutdiv classrfield describ itemcodeclienthttp client packag name itemcodenameadapt name ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodclonecodehttradapterclon ifhtml outdetail open summaryinherit methodssummari item item outspan classpkglink datapkgwebmockr datatopicadapt dataiddisablehrefwebmockrhtmladapterhtmlmethoddisablecodewebmockradapterdisableoutspan item outspan classpkglink datapkgwebmockr datatopicadapt dataidenablehrefwebmockrhtmladapterhtmlmethodenablecodewebmockradapterenableoutspan item outspan classpkglink datapkgwebmockr datatopicadapt dataidhandle_requesthrefwebmockrhtmladapterhtmlmethodhandle_requestcodewebmockradapterhandle_requestoutspan item outspan classpkglink datapkgwebmockr datatopicadapt dataidinitializehrefwebmockrhtmladapterhtmlmethodinitializecodewebmockradapterinitializeoutspan item outspan classpkglink datapkgwebmockr datatopicadapt dataidremove_stubshrefwebmockrhtmladapterhtmlmethodremove_stubscodewebmockradapterremove_stubsoutspan outdetail ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedhttradapterclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv sectionpubl field ifhtmloutdiv classrfield describ itemcodeclienthttp client packag name itemcodenameadapt name ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodeadapternew item hrefmethodenablecodeadapteren item hrefmethoddisablecodeadapterdis item hrefmethodhandle_requestcodeadapterhandle_request item hrefmethodremove_stubscodeadapterremove_stub item hrefmethodclonecodeadapterclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new adapt object subsectionusag ifhtmloutdiv classrpreformattedadapternewifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodenablea iflatexouthypertargetmethoden subsectionmethod codeen enabl adapt subsectionusag ifhtmloutdiv classrpreformattedadapterenablequiet falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodequietlog suppress messag default codefals ifhtmloutdiv subsectionreturn codetru invis ifhtmlouthr ifhtmlouta idmethoddisablea iflatexouthypertargetmethoddis subsectionmethod codedis disabl adapt subsectionusag ifhtmloutdiv classrpreformattedadapterdisablequiet falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodequietlog suppress messag default codefals ifhtmloutdiv subsectionreturn codefals invis ifhtmlouthr ifhtmlouta idmethodhandle_requesta iflatexouthypertargetmethodhandle_request subsectionmethod codehandle_request logic handl request subsectionusag ifhtmloutdiv classrpreformattedadapterhandle_requestreqifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodereqa request ifhtmloutdiv subsectionreturn variou outcom ifhtmlouthr ifhtmlouta idmethodremove_stubsa iflatexouthypertargetmethodremove_stub subsectionmethod coderemove_stub remov stub subsectionusag ifhtmloutdiv classrpreformattedadapterremove_stubsifhtmloutdiv subsectionreturn noth return remov request stub ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedadapterclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rwebmockr_resetr namewebmockr_reset aliaswebmockr_reset titlewebmockr_reset usag webmockr_reset valu noth descript clear stub request counter detail function run codelinkstub_registry_clearstub_registry_clear codelinkrequest_registry_clearrequest_registry_clear run two achiev thing exampl webmockr_reset seealso codelinkstub_registry_clearstub_registry_clear codelinkrequest_registry_clearrequest_registry_clear gener roxygen edit hand pleas edit document rdefunctr namewebmockrdefunct aliaswebmockrdefunct titledefunct function pkgwebmockr descript item item codelinkwebmockr_enablewebmockr_en function remov see codelinkenableen item codelinkwebmockr_disablewebmockr_dis function remov see codelinkdisabledis item linkto_return_ codelinkto_returnto_return avail item linkwi_th_ codelinkwi_thwi_th avail gener roxygen edit hand pleas edit document rpiper name alia titlepip oper usag lh rh descript pipe oper keywordintern gener roxygen edit hand pleas edit document radapterhttrr namebuild_httr_respons aliasbuild_httr_respons titlebuild httr respons usag build_httr_responsereq resp argument itemreqa request itemrespa respons valu httr respons descript build httr respons gener roxygen edit hand pleas edit document rto_rais nameto_rais aliasto_rais titleset rais error condit usag to_raisedata argument itemdatainput anyth coerc codestubbedrequest class object itemon http except pkgfauxpa packag run codegrephttp getnamespaceexportsfauxpa valu true list possibl except valu object class codestubbedrequest print method describ stub descript set rais error condit detail behavior futur multipl except pass first use first mock second second mock subsequ mock use last except first except use get fix note see exampl codelinkstub_requeststub_request sectionrais vs return codeto_rais alway rais stop condit codeto_returnstatusxyz set statu code return http respons object want rais stop condit codeto_rais want dont want rais stop condit use codeto_return use case vari exampl unit test may test expect error case codeto_rais make sens anoth case unit test expect test aspect http respons object httr crul typic return youll want codeto_return gener roxygen edit hand pleas edit document rrequest_registryr namerequest_registri aliasrequest_registri aliasrequest_registry_clear titlelist clear request request registri usag request_registri request_registry_clear valu object class coderequestregistri print method give request registri number time one perform descript list clear request request registri detail coderequest_registri list request made webmockr know coderequest_registry_clear reset request registri remov record request exampl webmockren stub_requestget httpshttpbinorgget to_returnbodi success statu noth request registri request_registri make request z crulhttpclientnewurl httpshttpbinorggetget check request registri request made time request_registri request z crulhttpclientnewurl httpshttpbinorggetget check request registri made time yay request_registri clear request registri request_registry_clear webmockrdis seealso requestregistri codelinkhashcount codelinkrequestregistri conceptrequestregistri gener roxygen edit hand pleas edit document radaptercrulr namebuild_crul_respons aliasbuild_crul_respons titlebuild crul respons usag build_crul_responsereq resp argument itemreqa request itemrespa respons valu crul respons descript build crul respons gener roxygen edit hand pleas edit document rstubregistryr namestubregistri aliasstubregistri titlestubregistri descript stub registri keep track linkstubbedrequest stub exampl dontrun make stub stub stubbedrequestnewmethod get uri apicrossreforg stubwithhead listuserag r stubto_returnstatu bodi foobar header list stub make anoth stub stub stubbedrequestnewmethod get uri apicrossreforg stub put stub stub registri reg stubregistrynew regregister_stubstub stub regregister_stubstub stub reg regrequest_stub seealso stubregistri codelinkremove_request_stub codelinkstub_registry_clear codelinkstub_registri conceptstubregistri sectionpubl field ifhtmloutdiv classrfield describ itemcoderequest_stubslist list request stub itemcodeglobal_stubslist list global stub ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodprintcodestubregistryprint item hrefmethodregister_stubcodestubregistryregister_stub item hrefmethodfind_stubbed_requestcodestubregistryfind_stubbed_request item hrefmethodrequest_stub_forcodestubregistryrequest_stub_for item hrefmethodremove_request_stubcodestubregistryremove_request_stub item hrefmethodremove_all_request_stubscodestubregistryremove_all_request_stub item hrefmethodis_registeredcodestubregistryis_regist item hrefmethodclonecodestubregistryclon ifhtmlouthr ifhtmlouta idmethodprinta iflatexouthypertargetmethodprint subsectionmethod codeprint print method codestubregistri class subsectionusag ifhtmloutdiv classrpreformattedstubregistryprintx ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexself itemcodeignor ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodregister_stuba iflatexouthypertargetmethodregister_stub subsectionmethod coderegister_stub regist stub subsectionusag ifhtmloutdiv classrpreformattedstubregistryregister_stubstubifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodestuban object type linkstubbedrequest ifhtmloutdiv subsectionreturn noth return regist stub ifhtmlouthr ifhtmlouta idmethodfind_stubbed_requesta iflatexouthypertargetmethodfind_stubbed_request subsectionmethod codefind_stubbed_request find stub request subsectionusag ifhtmloutdiv classrpreformattedstubregistryfind_stubbed_requestreqifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodereqan object class linkrequestsignatur ifhtmloutdiv subsectionreturn object type linkstubbedrequest match ifhtmlouthr ifhtmlouta idmethodrequest_stub_fora iflatexouthypertargetmethodrequest_stub_for subsectionmethod coderequest_stub_for find stub request subsectionusag ifhtmloutdiv classrpreformattedstubregistryrequest_stub_forrequest_signatureifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcoderequest_signaturean object class linkrequestsignatur ifhtmloutdiv subsectionreturn logic ifhtmlouthr ifhtmlouta idmethodremove_request_stuba iflatexouthypertargetmethodremove_request_stub subsectionmethod coderemove_request_stub remov stub request match request signatur subsectionusag ifhtmloutdiv classrpreformattedstubregistryremove_request_stubstubifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodestuban object type linkstubbedrequest ifhtmloutdiv subsectionreturn noth return remov stub registri ifhtmlouthr ifhtmlouta idmethodremove_all_request_stubsa iflatexouthypertargetmethodremove_all_request_stub subsectionmethod coderemove_all_request_stub remov request stub subsectionusag ifhtmloutdiv classrpreformattedstubregistryremove_all_request_stubsifhtmloutdiv subsectionreturn noth return remov request stub ifhtmlouthr ifhtmlouta idmethodis_registereda iflatexouthypertargetmethodis_regist subsectionmethod codeis_regist find stub request subsectionusag ifhtmloutdiv classrpreformattedstubregistryis_registeredxifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexan object class linkrequestsignatur ifhtmloutdiv subsectionreturn noth return regist stub ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedstubregistryclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rstub_registryr namestub_registri aliasstub_registri titlelist stub stub registri usag stub_registri valu object class codestubregistri print method give stub registri descript list stub stub registri exampl make stub stub_requestget httpshttpbinorgget to_returnbodi success statu check stub registri one stub_registri make anoth stub stub_requestget httpshttpbinorgget to_returnbodi woopsi statu check stub registri two stub_registri clear stub registri stub_registry_clear seealso stubregistri codelinkstubregistri codelinkremove_request_stub codelinkstub_registry_clear conceptstubregistri gener roxygen edit hand pleas edit document rmockingdiskwritingr namemockingdiskwrit aliasmockingdiskwrit titlemock write disk descript mock write disk exampl dontrun enabl mock enabl write file mock request crul librarycrul make temp file f tempfilefileext json write someth file cathelloworldn file f readlinesf make stub stub_requestget httpshttpbinorgget to_returnbodi filef make request httpclientnewhttpshttpbinorggetgetdisk f outcont readlinesoutcont httr libraryhttr make temp file f tempfilefileext json write someth file cathelloworldn file f readlinesf make stub stub_requestget httpshttpbinorgget to_returnbodi filef header listcontenttyp applicationjson make request httr must set overwritetru youll get errror gethttpshttpbinorgget write_diskf overwritetru outcont contentout text encod utf use mock_fil webmockr handl file content crul librarycrul f tempfilefileext json make stub stub_requestget httpshttpbinorgget to_returnbodi mock_filef hellomarsn make request crulhttpclientnewhttpshttpbinorggetgetdisk f outcont readlinesoutcont httr libraryhttr make temp file f tempfilefileext json make stub stub_requestget httpshttpbinorgget to_return bodi mock_filepath f payload foo bar header listcontenttyp applicationjson make request gethttpshttpbinorgget write_diskf view stub file content outcont readlinesoutcont contentout text encod utf disabl mock disabl gener roxygen edit hand pleas edit document rdefunctr namewi_th_ aliaswi_th_ titlethi function defunct usag wi_th_ descript function defunct keywordintern gener roxygen edit hand pleas edit document rstubbedrequestr namestubbedrequest aliasstubbedrequest titlestubbedrequest descript stub request class underli codelinkstub_requeststub_request exampl dontrun x stubbedrequestnewmethod get uri apicrossreforg xmethod xuri xwithhead listuserag r appl good xto_returnstatu bodi foobar header lista x xto_ mani to_return x stubbedrequestnewmethod get uri httpbinorg xto_returnstatu bodi foobar header lista xto_returnstatu bodi bear header listb x xto_ raw bodi x stubbedrequestnewmethod get uri apicrossreforg xto_returnstatu bodi raw header lista xto_ x x stubbedrequestnewmethod get uri apicrossreforg xto_returnstatu bodi chartorawfoo bar header lista xto_ x basic auth x stubbedrequestnewmethod get uri apicrossreforg xwithbasic_auth cfoo bar xto_ x file path x stubbedrequestnewmethod get uri apicrossreforg f tempfil xto_returnstatu bodi filef header lista x xto_ unlinkf to_fil file path payload go file payload written file mock respons creation x stubbedrequestnewmethod get uri apicrossreforg f tempfil xto_returnstatu bodi mock_filef foo bar header lista x xto_ unlinkf uri_regex x stubbedrequestnewmethod get uri_regex ossreforg xmethod xuri_regex xto_ timeout x stubbedrequestnewmethod get uri_regex ossreforg xto_ xto_timeout xto_ x rais libraryfauxpa x stubbedrequestnewmethod get uri_regex ossreforg xto_ xto_raisehttpbadgateway xto_ x seealso codelinkstub_requeststub_request sectionpubl field ifhtmloutdiv classrfield describ itemcodemethodxx xx itemcodeurixx xx itemcodeuri_regexxx xx itemcodeuri_partsxx xx itemcodehostxx xx itemcodequeryxx xx itemcodebodyxx xx itemcodebasic_authxx xx itemcoderequest_headersxx xx itemcoderesponse_headersxx xx itemcoderesponses_sequencesxx xx itemcodestatus_codexx xx ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodestubbedrequestnew item hrefmethodprintcodestubbedrequestprint item hrefmethodwithcodestubbedrequestwith item hrefmethodto_returncodestubbedrequestto_return item hrefmethodto_timeoutcodestubbedrequestto_timeout item hrefmethodto_raisecodestubbedrequestto_rais item hrefmethodto_scodestubbedrequestto_ item hrefmethodclonecodestubbedrequestclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new codestubbedrequest object subsectionusag ifhtmloutdiv classrpreformattedstubbedrequestnewmethod uri null uri_regex nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodemethodth http method head get post put patch delet match http method requir itemcodeuricharact request uri either codeuri_regex requir pkgwebmockr match uri without http scheme match scheme http requir unless codeuri_regex given see linkuripattern itemcodeuri_regexcharact request uri regex either codeuri requir ifhtmloutdiv subsectionreturn new codestubbedrequest object ifhtmlouthr ifhtmlouta idmethodprinta iflatexouthypertargetmethodprint subsectionmethod codeprint print method codestubbedrequest class subsectionusag ifhtmloutdiv classrpreformattedstubbedrequestprintx ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexself itemcodeignor ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodwitha iflatexouthypertargetmethodwith subsectionmethod codewith set expect what given http request subsectionusag ifhtmloutdiv classrpreformattedstubbedrequestwith queri null bodi null header null basic_auth null ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodequerylist request queri param name list option itemcodebodylist request bodi name list option itemcodeheaderslist request header name list option itemcodebasic_authcharact basic authent option ifhtmloutdiv subsectionreturn noth return set ifhtmlouthr ifhtmlouta idmethodto_returna iflatexouthypertargetmethodto_return subsectionmethod codeto_return set expect what return http respons subsectionusag ifhtmloutdiv classrpreformattedstubbedrequestto_returnstatu bodi headersifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodestatusnumer http statu code itemcodebodylist respons bodi one codecharact codejson codelist coderaw codenumer codenul codefals file connect connet type support itemcodeheaderslist name list respons header option ifhtmloutdiv subsectionreturn noth return set what return ifhtmlouthr ifhtmlouta idmethodto_timeouta iflatexouthypertargetmethodto_timeout subsectionmethod codeto_timeout respons time subsectionusag ifhtmloutdiv classrpreformattedstubbedrequestto_timeoutifhtmloutdiv subsectionreturn noth return ifhtmlouthr ifhtmlouta idmethodto_raisea iflatexouthypertargetmethodto_rais subsectionmethod codeto_rais respons rais except codex subsectionusag ifhtmloutdiv classrpreformattedstubbedrequestto_raisexifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexcharact except messag ifhtmloutdiv subsectionreturn noth return ifhtmlouthr ifhtmlouta idmethodto_sa iflatexouthypertargetmethodto_ subsectionmethod codeto_ respons charact string subsectionusag ifhtmloutdiv classrpreformattedstubbedrequestto_sifhtmloutdiv subsectionreturn charact respons string ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedstubbedrequestclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rrespons namerespons aliasrespons titlerespons descript custom webmockr http respons class exampl dontrun x responsenew xset_urlhttpshttpbinorgget x xset_request_headerslistcontenttyp applicationjson x xrequest_head xset_response_headerslisthost httpbinorg x xresponse_head xset_statu x xget_statu xset_bodyhello world x xget_bodi raw bodi xset_bodychartorawhello world x xget_bodi xset_exceptionexcept x xget_except sectionpubl field ifhtmloutdiv classrfield describ itemcodeurlcharact url itemcodebodyvari list charact etc itemcodecontentvari respons contentbodi itemcoderequest_headerslist name list itemcoderesponse_headerslist name list itemcodeoptionscharact list itemcodestatus_codeinteg http statu code itemcodeexceptioncharact except messag itemcodeshould_timeoutlog respons timeout ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcoderesponsenew item hrefmethodprintcoderesponseprint item hrefmethodset_urlcoderesponseset_url item hrefmethodget_urlcoderesponseget_url item hrefmethodset_request_headerscoderesponseset_request_head item hrefmethodget_request_headerscoderesponseget_request_head item hrefmethodset_response_headerscoderesponseset_response_head item hrefmethodget_respone_headerscoderesponseget_respone_head item hrefmethodset_bodycoderesponseset_bodi item hrefmethodget_bodycoderesponseget_bodi item hrefmethodset_statuscoderesponseset_statu item hrefmethodget_statuscoderesponseget_statu item hrefmethodset_exceptioncoderesponseset_except item hrefmethodget_exceptioncoderesponseget_except item hrefmethodclonecoderesponseclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new coderespons object subsectionusag ifhtmloutdiv classrpreformattedresponsenewopt listifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeoptionslist list option ifhtmloutdiv subsectionreturn new coderespons object ifhtmlouthr ifhtmlouta idmethodprinta iflatexouthypertargetmethodprint subsectionmethod codeprint print method coderespons class subsectionusag ifhtmloutdiv classrpreformattedresponseprintx ifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodexself itemcodeignor ifhtmloutdiv ifhtmlouthr ifhtmlouta idmethodset_urla iflatexouthypertargetmethodset_url subsectionmethod codeset_url set url respons subsectionusag ifhtmloutdiv classrpreformattedresponseset_urlurlifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeurlcharact url ifhtmloutdiv subsectionreturn noth return set url ifhtmlouthr ifhtmlouta idmethodget_urla iflatexouthypertargetmethodget_url subsectionmethod codeget_url get url respons subsectionusag ifhtmloutdiv classrpreformattedresponseget_urlifhtmloutdiv subsectionreturn charact url ifhtmlouthr ifhtmlouta idmethodset_request_headersa iflatexouthypertargetmethodset_request_head subsectionmethod codeset_request_head set request header respons subsectionusag ifhtmloutdiv classrpreformattedresponseset_request_headershead capit trueifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeheaderslist name list itemcodecapitalizelog whether capit first letter header default codetru ifhtmloutdiv subsectionreturn noth return set request header respons ifhtmlouthr ifhtmlouta idmethodget_request_headersa iflatexouthypertargetmethodget_request_head subsectionmethod codeget_request_head get request header respons subsectionusag ifhtmloutdiv classrpreformattedresponseget_request_headersifhtmloutdiv subsectionreturn list request header name list ifhtmlouthr ifhtmlouta idmethodset_response_headersa iflatexouthypertargetmethodset_response_head subsectionmethod codeset_response_head set respons header respons subsectionusag ifhtmloutdiv classrpreformattedresponseset_response_headershead capit trueifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeheaderslist name list itemcodecapitalizelog whether capit first letter header default codetru ifhtmloutdiv subsectionreturn noth return set respons header respons ifhtmlouthr ifhtmlouta idmethodget_respone_headersa iflatexouthypertargetmethodget_respone_head subsectionmethod codeget_respone_head get respons header respons subsectionusag ifhtmloutdiv classrpreformattedresponseget_respone_headersifhtmloutdiv subsectionreturn list respons header name list ifhtmlouthr ifhtmlouta idmethodset_bodya iflatexouthypertargetmethodset_bodi subsectionmethod codeset_bodi set bodi respons subsectionusag ifhtmloutdiv classrpreformattedresponseset_bodybodi disk falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodebodyvari type itemcodedisklog whether disk default codefals ifhtmloutdiv subsectionreturn noth return set bodi respons ifhtmlouthr ifhtmlouta idmethodget_bodya iflatexouthypertargetmethodget_bodi subsectionmethod codeget_bodi get bodi respons subsectionusag ifhtmloutdiv classrpreformattedresponseget_bodyifhtmloutdiv subsectionreturn variou ifhtmlouthr ifhtmlouta idmethodset_statusa iflatexouthypertargetmethodset_statu subsectionmethod codeset_statu set http statu respons subsectionusag ifhtmloutdiv classrpreformattedresponseset_statusstatusifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodestatusinteg http statu ifhtmloutdiv subsectionreturn noth return set http statu respons ifhtmlouthr ifhtmlouta idmethodget_statusa iflatexouthypertargetmethodget_statu subsectionmethod codeget_statu get http statu respons subsectionusag ifhtmloutdiv classrpreformattedresponseget_statusifhtmloutdiv subsectionreturn integ http statu ifhtmlouthr ifhtmlouta idmethodset_exceptiona iflatexouthypertargetmethodset_except subsectionmethod codeset_except set except subsectionusag ifhtmloutdiv classrpreformattedresponseset_exceptionexceptionifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeexceptioncharact except string ifhtmloutdiv subsectionreturn noth return set except ifhtmlouthr ifhtmlouta idmethodget_exceptiona iflatexouthypertargetmethodget_except subsectionmethod codeget_except get except set subsectionusag ifhtmloutdiv classrpreformattedresponseget_exceptionifhtmloutdiv subsectionreturn charact except ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformattedresponseclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rrequestpatternr nameuripattern aliasuripattern titleuripattern descript uri matcher exampl trail slash z uripatternnewpattern httpfoobarcom zmatcheshttpfoobarcom true zmatcheshttpfoobarcom true without scheme match http default match http default z uripatternnewpattern foobarcom zmatcheshttpfoobarcom true zmatcheshttpfoobarcom true zmatcheshttpsfoobarcom fals zmatcheshttpsfoobarcom fals match http youll give complet url z uripatternnewpattern httpsfoobarcom zmatcheshttpsfoobarcom true zmatcheshttpfoobarcom fals default port z uripatternnewpattern httpfoobarcom zmatcheshttpfoobarcom true zmatcheshttpfoobarcom true zmatcheshttpfoobarcom true zmatcheshttpfoobarcom true user info fixm sure support yet z uripatternnewpattern httpfoobarcom zmatcheshttpuserpassfoobarcom regex z uripatternnewregex_pattern ampl zmatcheshttpsampleorg true zmatcheshttpexamplecom true zmatcheshttptramplesnet fals add queri paramet z uripatternnewpattern httpfoobarcom zadd_query_paramslistpizza chees chees cheddar z zpattern zmatcheshttpfoobarcompizzacheesecheesecheddar true zmatcheshttpfoobarcompizzacheesecheeseswiss fals queri paramet uri z uripatternnewpattern httpshttpbinorggetstuffth zadd_query_param run method gather queri param zmatcheshttpshttpbinorggetstuffth true zmatcheshttpshttpbinorggetstuffth fals regex add queri paramet z uripatternnewregex_pattern httpsfoobarcomord zadd_query_paramslistpizza chees z zpattern zmatcheshttpsfoobarcompizzasorderpizzachees true zmatcheshttpsfoobarcompizzaspizzachees fals queri paramet regex uri z uripatternnewregex_pattern httpsxcomorderfruitappl zadd_query_param run method gather queri param zmatcheshttpsxcomaorderfruitappl true zmatcheshttpsxcomafruitappl fals pattern z uripatternnewregex_pattern stuffcom zregex zpattern zmatcheshttpstuffcom fals zmatcheshttpsstuffcomstff true zmatcheshttpsstuffcomapplebearsbrownbatsgrey true keywordintern sectionpubl field ifhtmloutdiv classrfield describ itemcodepatterncharact pattern holder itemcoderegexa logic itemcodequery_paramsa list codenul empti ifhtmloutdiv sectionmethod subsectionpubl method item item hrefmethodnewcodeuripatternnew item hrefmethodmatchescodeuripatternmatch item hrefmethodpattern_matchescodeuripatternpattern_match item hrefmethodquery_params_matchescodeuripatternquery_params_match item hrefmethodextract_querycodeuripatternextract_queri item hrefmethodadd_query_paramscodeuripatternadd_query_param item hrefmethodto_scodeuripatternto_ item hrefmethodclonecodeuripatternclon ifhtmlouthr ifhtmlouta idmethodnewa iflatexouthypertargetmethodnew subsectionmethod codenew creat new codeuripattern object subsectionusag ifhtmloutdiv classrpreformatteduripatternnewpattern null regex_pattern nullifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodepatterncharact uri charact string scheme miss ad assum http itemcoderegex_patterncharact uri regex charact string see linkbaseregexbaseregex scheme miss ad assum http ifhtmloutdiv subsectionreturn new codeuripattern object ifhtmlouthr ifhtmlouta idmethodmatchesa iflatexouthypertargetmethodmatch subsectionmethod codematch match uri pattern subsectionusag ifhtmloutdiv classrpreformatteduripatternmatchesuriifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeuricharact uri ifhtmloutdiv subsectionreturn boolean ifhtmlouthr ifhtmlouta idmethodpattern_matchesa iflatexouthypertargetmethodpattern_match subsectionmethod codepattern_match match uri subsectionusag ifhtmloutdiv classrpreformatteduripatternpattern_matchesuriifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeuricharact uri ifhtmloutdiv subsectionreturn boolean ifhtmlouthr ifhtmlouta idmethodquery_params_matchesa iflatexouthypertargetmethodquery_params_match subsectionmethod codequery_params_match match queri paramet uri subsectionusag ifhtmloutdiv classrpreformatteduripatternquery_params_matchesuriifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeuricharact uri ifhtmloutdiv subsectionreturn boolean ifhtmlouthr ifhtmlouta idmethodextract_querya iflatexouthypertargetmethodextract_queri subsectionmethod codeextract_queri extract queri paramet name list subsectionusag ifhtmloutdiv classrpreformatteduripatternextract_queryuriifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodeuricharact uri ifhtmloutdiv subsectionreturn name list codenul queri paramet ifhtmlouthr ifhtmlouta idmethodadd_query_paramsa iflatexouthypertargetmethodadd_query_param subsectionmethod codeadd_query_param add queri paramet uri subsectionusag ifhtmloutdiv classrpreformatteduripatternadd_query_paramsquery_paramsifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodequery_paramslistcharact list charact ifhtmloutdiv subsectionreturn noth return updat uri pattern ifhtmlouthr ifhtmlouta idmethodto_sa iflatexouthypertargetmethodto_ subsectionmethod codeto_ print pattern easi human consumpt subsectionusag ifhtmloutdiv classrpreformatteduripatternto_sifhtmloutdiv subsectionreturn string ifhtmlouthr ifhtmlouta idmethodclonea iflatexouthypertargetmethodclon subsectionmethod codeclon object class cloneabl method subsectionusag ifhtmloutdiv classrpreformatteduripatternclonedeep falseifhtmloutdiv subsectionargu ifhtmloutdiv classargu describ itemcodedeepwheth make deep clone ifhtmloutdiv gener roxygen edit hand pleas edit document rflipswitchr nameen aliasen aliasen aliasdis titleen disabl webmockr usag enableadapt null option list quiet fals enabledadapt crul disableadapt null option list quiet fals argument itemadaptercharact adapt name crul httr one none given attempt enabl adapt itemoptionslist option ignor itemquietlog suppress messag default codefals valu codeen codedis invis return boolean adapt result run enabl disabl respect linkhttplibadapaterregistri object codeen return singl boolean descript enabl disabl webmockr detail codeen enabl pkgwebmockr adapt codedis disabl pkgwebmockr adapt codeen answer whether pkgwebmockr enabl given adapt gener roxygen edit hand pleas edit document rto_returnr nameto_return aliasto_return titleexpect what return stub request usag to_returndata list list time argument itemdatainput anyth coerc codestubbedrequest class object itemcomma separ list name variabl accept follow codestatu codebodi codehead see detail itemlistnam list one statu bodi andor header altern pass via code dont pass thing eg dont pass statu code also statu paramet itemtimesinteg number time given respons return default valu must greater equal larg valu probabl dont make sens there maximum valu see detail valu object class codestubbedrequest print method describ stub descript set respons statu code respons bodi andor respons header detail valu statu bodi header item item statu numericinteg three digit statu code item bodi variou codecharact codejson codelist coderaw codenumer codenul codefals file connect connet type support codemock_fil function call see codelinkmock_filemock_fil item header list name list must name respons header return lowercas name valu type charact numericinteg valu given eg codeto_returnhead lista well coerc numericinteg valu charact note see exampl codelinkstub_requeststub_request sectionmultipl codeto_return add one codeto_return webmockr stub includ codelinkto_raiseto_rais codelinkto_timeoutto_timeout one http respons return youll match http request base codestub_request codewi_th first time request made first respons return second time reqeust made second respons return awar webmockr track number request see codelinkrequest_registryrequest_registri use multipl codeto_return codetim paramet must clear request registri order go back mock respons start codelinkwebmockr_resetwebmockr_reset clear stub registri request registri use multipl respons creat stub cours sectionrais vs return codeto_rais alway rais stop condit codeto_returnstatusxyz set statu code return http respons object want rais stop condit codeto_rais want dont want rais stop condit use codeto_return use case vari exampl unit test may test expect error case codeto_rais make sens anoth case unit test expect test aspect http respons object httr crul typic return youll want codeto_return exampl first make stub object foo function stub_requestpost httpshttpbinorgpost add statu bodi andor header foo to_returnstatu foo to_returnbodi stuff foo to_returnbodi lista listb world foo to_returnhead lista foo to_returnstatu bodi stuff header lista list pass name list instead foo to_returnlist listbodi listfoo bar multipl respons use chain to_return foo to_returnbodi stuff to_returnbodi thing mani respons use time paramet foo to_returnbodi stuff time