readmemd gener readmermd pleas edit file eia img srcmanfigureslogopng stylemarginleftpxmarginbottompx width alignright author matthew leonawiczhttpsgithubcomleonawicz hrefhttpsorcidorg targetorcidwidget img altorcid logo srchttpsinfoorcidorgwpcontentuploadsorcid_xpng width height br licens mithttpsopensourceorglicensesmitbr project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact travi build statushttpstravisciorgropenscieiasvgbranchmasterhttpstravisciorgropenscieia appveyor build statushttpsciappveyorcomapiprojectsstatusgithubropenscieiabranchmastersvgtruehttpsciappveyorcomprojectleonawiczeia codecov test coveragehttpscodecovioghropenscieiabranchmastergraphbadgesvghttpscodecovioghropenscieiabranchmast httpsbadgesropensciorg_statussvghttpsgithubcomropenscisoftwarereviewissu cran statushttpswwwrpkgorgbadgesversioneiahttpscranrprojectorgpackageeia cran rstudio mirror downloadshttpscranlogsrpkgorgbadgeseiahttpscranrprojectorgpackageeia github starshttpsimgshieldsiogithubstarsropenscieiasvgstylesociallabelgithubhttpsgithubcomropenscieia eia packag provid api access data us energi inform administrationhttpswwweiagov eia pull data us energi inform administr eia api requir regist api key key obtain cost herehttpswwweiagovopendataregisterphp valid email agreement api term servic requir obtain key eia includ function search eia api data categori import time seri geoset time seri dataset dataset return function provid tidi format altern raw form also offer helper function work eia api date string time format inspect differ summari seri metadata packag also provid control api key storag cach api request result instal instal cran releas eia r installpackageseia instal develop version github use r installpackagesremot remotesinstall_githubropenscieia exampl begin store api key place somewher like renviron file never anyth key use packag set eia_set_key r session alway pass explicitli key argument function r libraryeia run eia_set_keyyourkey set api key alreadi set global load time seri net electr gener r id elecgenallaka eia_seriesid n tibbl x series_id name unit f descript copyright sourc iso geographi start end updat data chr chr chr chr chr chr chr chr chr chr chr chr list elecgenal net gener fuel thousand summat fuel use e none eia us energi inf usaak usaak tibbl ddata tibbl x valu date year dbl date int libraryggplot librarytidyr unnestd col data ggplotaesfactoryear valu geom_col labsx year dunit titl dname caption ddescript img srcmanfiguresreadmeexamplepng width refer see collect vignett tutori exampl well complet packag document avail eia packag websitehttpsdocsropensciorgeia pleas note eia project releas contributor code conducthttpsgithubcomropenscieiablobmastercode_of_conductmd contribut project agre abid term ropensci_footerhttpsropensciorgpublic_imagesropensci_footerpnghttpsropensciorg eia updat url eia_upd minor fix updat vignett eia minor fix can report switch http http document updat eia minor document updat eia ad initi report function minor code improv minor document updat eia ad wrapper seri categori endpoint updat document vignett unit test eia updat format cran eia updat packag metadata improv travi test suit configur eia ad conveni key store method getter setter helper option make easi avoid provid key everi function call move key argument first last among relev function argument updat exampl accordingli ad support hourli time seri request date format handl eia ad option memoiz api function ad new cach argument ad antido measur adjust use option ad vignett document ad helper function clear cach result ad helper function work eia date string ad helper function time seri metadata output format consist function ad unit test minor updat function document eia ad packag scaffold ad initi packag function work data categori time seri geoset ad function document unit test vignett contributor code conduct contributor maintain project pledg respect peopl contribut report issu post featur request updat document submit pull request patch activ commit make particip project harassmentfre experi everyon regardless level experi gender gender ident express sexual orient disabl person appear bodi size race ethnic age religion exampl unaccept behavior particip includ use sexual languag imageri derogatori comment person attack troll public privat harass insult unprofession conduct project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct project maintain follow code conduct may remov project team instanc abus harass otherwis unaccept behavior may report open issu contact one project maintain code conduct adapt contributor coven httpswwwcontributorcovenantorg version avail httpscontributorcovenantorgvers test environ local window instal r window appveyor r ubuntu travi ci rdevel rreleas roldrel mac osx travi ci rreleas winbuild devel releas rhub variou r cmd check result error warn note updat releas updat includ maintain email address updat special note packag api wrapper particular api requir user use api key run function exampl unit test cran exampl unit test run success multipl environ local remot system full test suit also run travisci abl import encrypt key api keydepend vignett precompil cran output github_docu readmemd gener readmermd pleas edit file r includ fals knitropts_chunkset collaps true comment figpath manfiguresreadm figwidth figheight dev cairopng dpi outwidth messag fals warn fals error fals libraryeia eia img srcmanfigureslogopng stylemarginleftpxmarginbottompx width alignright author matthew leonawiczhttpsgithubcomleonawicz hrefhttpsorcidorg targetorcidwidget img altorcid logo srchttpsinfoorcidorgwpcontentuploadsorcid_xpng width height br licens mithttpsopensourceorglicensesmitbr project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact travi build statushttpstravisciorgropenscieiasvgbranchmasterhttpstravisciorgropenscieia appveyor build statushttpsciappveyorcomapiprojectsstatusgithubropenscieiabranchmastersvgtruehttpsciappveyorcomprojectleonawiczeia codecov test coveragehttpscodecovioghropenscieiabranchmastergraphbadgesvghttpscodecovioghropenscieiabranchmast httpsbadgesropensciorg_statussvghttpsgithubcomropenscisoftwarereviewissu cran statushttpswwwrpkgorgbadgesversioneiahttpscranrprojectorgpackageeia cran rstudio mirror downloadshttpscranlogsrpkgorgbadgeseiahttpscranrprojectorgpackageeia github starshttpsimgshieldsiogithubstarsropenscieiasvgstylesociallabelgithubhttpsgithubcomropenscieia eia packag provid api access data us energi inform administrationhttpswwweiagov eia pull data us energi inform administr eia api requir regist api key key obtain cost herehttpswwweiagovopendataregisterphp valid email agreement api term servic requir obtain key eia includ function search eia api data categori import time seri geoset time seri dataset dataset return function provid tidi format altern raw form also offer helper function work eia api date string time format inspect differ summari seri metadata packag also provid control api key storag cach api request result instal instal cran releas eia r installpackageseia instal develop version github use r installpackagesremot remotesinstall_githubropenscieia exampl begin store api key place somewher like renviron file never anyth key use packag set eia_set_key r session alway pass explicitli key argument function r exampl evalfals libraryeia run eia_set_keyyourkey set api key alreadi set global load time seri net electr gener r exampl id elecgenallaka eia_seriesid n ddata libraryggplot librarytidyr unnestd col data ggplotaesfactoryear valu geom_col labsx year dunit titl dname caption ddescript refer see collect vignett tutori exampl well complet packag document avail eia packag websitehttpsdocsropensciorgeia pleas note eia project releas contributor code conducthttpsgithubcomropenscieiablobmastercode_of_conductmd contribut project agre abid term ropensci_footerhttpsropensciorgpublic_imagesropensci_footerpnghttpsropensciorg titl eia time seri data output rmarkdownhtml_vignett vignett vignetteindexentryeia time seri data vignetteengineknitrrmarkdown vignetteencodingutf find seri id like categori inform time seri data obtain base id complet exampl includ find id seri alreadi know chanc may alreadi know seri id need use api explor eia websit look total electr consumpt r libraryeia eia_set_keyyourkey set api key alreadi set global eia_cat categori tibbl x category_id name note chr chr chr eia data set childcategori tibbl x category_id name int chr electr state energi data system sed petroleum natur ga total energi coal shortterm energi outlook annual energi outlook crude oil import us electr system oper data intern energi data co emiss intern energi outlook us nuclear outag electr categori id take closer look r eia_cat categori tibbl x category_id parent_category_id name note chr chr chr chr electr childcategori tibbl x category_id name int chr net gener total consumpt total consumpt btu consumpt electr gener consumpt electr gener btu consumpt use thermal output consumpt use thermal output btu plant level data retail sale electr revenu retail sale electr averag retail price electr number custom account fossilfuel stock electr gener receipt fossil fuel electr plant receipt fossil fuel electr plant btu averag cost fossil fuel electr gener averag cost fossil fuel electr gener per btu qualiti fossil fuel electr gener sulfur content qualiti fossil fuel electr gener ash content two categori refer total consumpt take categori id exampl step deeper categori hierarchi r eia_cat categori tibbl x category_id parent_category_id name note chr chr chr chr total consumpt btu childcategori tibbl x category_id name int chr fuel type sector point choic total consumpt sector fuel type select sector r eia_cat categori tibbl x category_id parent_category_id name note chr chr chr chr sector childcategori tibbl x category_id name int chr electr power total electr util independ power produc total electr util noncogen electr util cogen commerci total commerci noncogen commerci cogen industri total industri noncogen industri cogen total electr power r eia_cat categori tibbl x category_id parent_category_id name note chr chr chr chr electr power total childcategori tibbl x category_id name int chr coal petroleum liquid petroleum coke natur ga final coal r x eia_cat categori tibbl x category_id parent_category_id name note chr chr chr chr coal childseri tibbl x series_id name f unit updat chr chr chr chr chr eleccons_tot_btucowaka total consumpt btu coal alaska electr power total annual million mmbtu oct pm eleccons_tot_btucowakm total consumpt btu coal alaska electr power total monthli million mmbtu oct pm eleccons_tot_btucowakq total consumpt btu coal alaska electr power total quarterli q million mmbtu oct pm eleccons_tot_btucowala total consumpt btu coal alabama electr power total annual million mmbtu oct pm eleccons_tot_btucowalm total consumpt btu coal alabama electr power total monthli million mmbtu oct pm eleccons_tot_btucowalq total consumpt btu coal alabama electr power total quarterli q million mmbtu oct pm eleccons_tot_btucowara total consumpt btu coal arkansa electr power total annual million mmbtu oct pm eleccons_tot_btucowarm total consumpt btu coal arkansa electr power total monthli million mmbtu oct pm eleccons_tot_btucowarq total consumpt btu coal arkansa electr power total quarterli q million mmbtu oct pm eleccons_tot_btucowaza total consumpt btu coal arizona electr power total annual million mmbtu oct pm row avail child seri point reach termin node categori tree instead anoth tabl child categori id name result childseri tabl tabl contain time seri id name describ nest posit data overal categori hierarchi time format unit time stamp recent data updat row tabl repres uniqu time seri dataset case differ state annual quarterli monthli time step obtain time seri data make request use eia_seri provid seri id time format see differ time format pars take first three id alaska request three recent result seri r id xchildseriesseries_id x eia_seriesid n x eia_seriesid n x eia_seriesid n format result inspect first one data frame one row final column data give metadata seri data list column case length one extract directli unnest use tidyrunnest r librarydplyr librarytidyr libraryggplot xdata tibbl x valu date year dbl date int selectx series_id data unnestcol data tibbl x series_id valu date year chr dbl date int eleccons_tot_btucowaka eleccons_tot_btucowaka eleccons_tot_btucowaka unnestx col data ggplotaesfactoryear valu geom_col labsx year xunit titl total alaska electr consumpt subtitl coal sourc caption xdescript img srcseriesseriespng titleplot chunk seri altplot chunk seri width result similarli structur seri column contain date inform differ r xdata tibbl x valu date year dbl date int xdata tibbl x valu date year month dbl date int int na na xdata tibbl x valu date year qtr dbl date int int na na multipl seri eia api allow multipl seri request singl api call whenev possibl reduc number request make request data provid id vector argument like n vector r x eia_seriesid n x tibbl x series_id name unit f descript copyright sourc iso geographi start end updat data chr chr chr chr chr chr chr chr chr chr chr chr list eleccons_tot_ total consumpt btu million summat type coal pow none eia us energ usaak usaak tibbl eleccons_tot_ total consumpt btu million summat type coal pow none eia us energ usaak usaak tibbl eleccons_tot_ total consumpt btu million q summat type coal pow none eia us energ usaak usaak tibbl three row tabl contain data data list column also contain structur r xdata tibbl x valu date year dbl date int tibbl x valu date year month dbl date int int na na tibbl x valu date year qtr dbl date int int na na unnest fill na need r selectx series_id data unnestcol data tibbl x series_id valu date year month qtr chr dbl date int int int eleccons_tot_btucowaka na na eleccons_tot_btucowaka na na eleccons_tot_btucowaka na na eleccons_tot_btucowakm na na eleccons_tot_btucowakm na na eleccons_tot_btucowakm na eleccons_tot_btucowakq na na eleccons_tot_btucowakq na na eleccons_tot_btucowakq na time period number result thing keep mind eia_seri argument function make one api call combin multipl seri id provid fewer result request everyth avail return result recent unless use start alon provid start end n ignor provid close period n receiv relev data avail subject api limit depend natur request may construct one call r eia_seriesid n eia_seriesid end n eia_seriesid start end output format default return tidi data tibbl data frame set tidi fals return list return jsonlitefromjson without process r eia_seriesid n tidi fals request requestcommand seri requestseries_id eleccons_tot_btucowakaeleccons_tot_btucowakmeleccons_tot_btucowakq seri series_id name unit f eleccons_tot_btucowaka total consumpt btu coal alaska electr power total annual million mmbtu eleccons_tot_btucowakm total consumpt btu coal alaska electr power total monthli million mmbtu eleccons_tot_btucowakq total consumpt btu coal alaska electr power total quarterli million mmbtu q descript copyright sourc iso summat type coal power plant own compani whose primari purpos produc power none eia us energi inform administr usaak summat type coal power plant own compani whose primari purpos produc power none eia us energi inform administr usaak summat type coal power plant own compani whose primari purpos produc power none eia us energi inform administr usaak geographi start end updat data usaak usaak na na usaak q q q q q na na also return raw json data charact string need process directli code r cateia_seriesid n tidi na requestcommandseriesseries_ideleccons_tot_btucowakaeleccons_tot_btucowakmeleccons_tot_btucowakqseriesseries_ideleccons_tot_btucowakanametot consumpt btu coal alaska electr power total annualunitsmillion mmbtufadescriptionsumm type coal power plant own compani whose primari purpos produc power copyrightnonesourceeia us energi inform administrationisousaakgeographyusaakstartendupdatedtdataseries_ideleccons_tot_btucowakmnametot consumpt btu coal alaska electr power total monthlyunitsmillion mmbtufmdescriptionsumm type coal power plant own compani whose primari purpos produc power copyrightnonesourceeia us energi inform administrationisousaakgeographyusaakstartendupdatedtdatanullnullseries_ideleccons_tot_btucowakqnametot consumpt btu coal alaska electr power total quarterlyunitsmillion mmbtufqdescriptionsumm type coal power plant own compani whose primari purpos produc power copyrightnonesourceeia us energi inform administrationisousaakgeographyusaakstartqendqupdatedtdataqnullqnullq allow use return result exist code may requir data one less process structur helper function time seri metadata function avail make small api call return metadata associ time seri dataset r eia_series_metadataid tibbl x series_id name unit f descript copyright sourc iso geographi start end updat chr chr chr chr chr chr chr chr chr chr chr chr eleccons_tot_b total consumpt btu c million summat type coal power p none eia us energi usaak usaak eleccons_tot_b total consumpt btu c million summat type coal power p none eia us energi usaak usaak eleccons_tot_b total consumpt btu c million q summat type coal power p none eia us energi usaak usaak eia_series_updatesid tibbl x series_id updat chr chr eleccons_tot_btucowaka eleccons_tot_btucowakm eleccons_tot_btucowakq eia_series_datesid tibbl x series_id date eiadat date_format chr date chr chr eleccons_tot_btucowaka eleccons_tot_btucowaka eleccons_tot_btucowaka eleccons_tot_btucowaka eleccons_tot_btucowaka eleccons_tot_btucowaka eleccons_tot_btucowaka eleccons_tot_btucowaka eleccons_tot_btucowaka eleccons_tot_btucowaka row eia_series_rangeid tibbl x series_id start_dat end_dat start end date_format n chr date date chr chr chr int eleccons_tot_btucowaka eleccons_tot_btucowakm eleccons_tot_btucowakq q q q eia_series_catsid tibbl x series_id category_id name chr int chr eleccons_tot_btucowaka electr power total eleccons_tot_btucowaka coal eleccons_tot_btucowakm electr power total eleccons_tot_btucowakm coal eleccons_tot_btucowakq electr power total eleccons_tot_btucowakq coal like eia_seir function accept id vector alway return tibbl data frame eia_series_cat use seri categori endpoint accept tidi argument output endpoint may json string list tibbl data frame eia date string eia date string use specifi start end date time seri request charact string standard date format sever function assist move string standard date convert eia date string date r eiadate_to_datec date eia format exampl use annual quarterli monthli time format r date_to_eiad date_to_eiad q q date_to_eiad also easi creat date sequenc two eia time stamp format pars first valu intend alway consist r x eiadate_to_date_seqq q date_to_eiadatex check data updat good practic minim number api call make wherev possibl one way request data chang sinc last request make api call eia updat endpoint check updat time data seri seri updat sinc last obtain data know need request data eia_series_upd function shown handi check recent data updat time specif set seri id howev must make one api call gener check potenti larg number seri without queri use eia_upd function take categori id return last updat time seri categori categori level seri directli associ empti data frame return r eia_upd tibbl x variabl series_id chr updat chr categori seri avail pagin result return data frame use n start togeth unlik gener data request eia_seri indic mani row return start help cycl page result default n start eia api updat endpoint allow maximum n r eia_upd n tibbl x series_id updat chr chr eleccons_tot_btucowaka eleccons_tot_btucowakm eleccons_tot_btucowakq eleccons_tot_btucowala eleccons_tot_btucowalm set deep true obtain seri associ child categori categori seri child categori r eia_upd n deep true tibbl x series_id updat chr chr eleccons_tot_btucowaka eleccons_tot_btucowakm eleccons_tot_btucowakq eleccons_tot_btucowala eleccons_tot_btucowalm exampl work show use n result top parent categori would like necessari request result order see child seri includ titl packag overview output rmarkdownhtml_vignett vignett vignetteindexentrypackag overview vignetteengineknitrrmarkdown vignetteencodingutf vignett provid brief overview import function eia vignett go greater depth specif topic api endpoint api key regist key eia obtain api key easi free pull data us energi inform administr eia api requir regist api key key obtain cost herehttpswwweiagovopendataregisterphp valid email agreement api term servic requir obtain key import store api key somewher secur commit repositori otherwis share exampl could store renviron file key storag retriev alway provid key argument everi api function call getter setter helper avail make use eia function seamless experi eia_set_key give option store key durat r session r libraryeia eia_set_keyyourkey eia_get_key retriev key alreadi exist system environ plan pass key function explicitli could start follow r key sysgetenveia_key key eia_get_key gener howev key set global renviron need anyth regard key use packag see vignett api detail inform option key storag eia categori eia regist api key place r session whichev method prefer readi begin access data eia api help awar variou categori data avail categori uniqu id number requir access associ data first call includ id result list two data frame first metadata associ posit categori hierarchi second child categori inform toplevel categori inform r eia_cat categori tibbl x category_id name note chr chr chr eia data set childcategori tibbl x category_id name int chr electr state energi data system sed petroleum natur ga total energi coal shortterm energi outlook annual energi outlook crude oil import us electr system oper data intern energi data co emiss intern energi outlook us nuclear outag child categori id use queri result categori r eia_cat categori tibbl x category_id parent_category_id name note chr chr chr chr electr childcategori tibbl x category_id name int chr net gener total consumpt total consumpt btu consumpt electr gener consumpt electr gener btu consumpt use thermal output consumpt use thermal output btu plant level data retail sale electr revenu retail sale electr averag retail price electr number custom account fossilfuel stock electr gener receipt fossil fuel electr plant receipt fossil fuel electr plant btu averag cost fossil fuel electr gener averag cost fossil fuel electr gener per btu qualiti fossil fuel electr gener sulfur content qualiti fossil fuel electr gener ash content eia time seri data time seri data obtain seri id column contain metadata data column contain time seri data r librarydplyr librarytidyr libraryggplot id elecgenallaka x eia_seriesid start end tibbl x series_id name unit f descript copyright sourc iso geographi start end updat data chr chr chr chr chr chr chr chr chr chr chr chr list elecgenal net gener fu thousand summat fuel use none eia us energi usaak usaak tibbl xdata tibbl x valu date year dbl date int selectx unit data unnestcol data ggplotaesfactoryear valu geom_col labsx year xunit titl net alaska electr gener subtitl fuel caption xdescript img srceiaseriespng titleplot chunk seri altplot chunk seri width provid argument like follow r eia_seriesid max result eia_seriesid n recent five eia_seriesid end n end eia_seriesid start end specif period eia_cat output format need tidi r eia_seriesid n tidi fals result jsonlitefromjson eia_seriesid n tidi na origina json charact string allow use return result exist code may requir data one less process structur eia geoset geoset metadata structur organ time seri dataset map argument eia_geoset eia_seri addit region like id region vector detail exampl use total electr gener get last two data point two us state dplyr tidyr use clean result bit purpos display gpplot use graph data unnest state r id celecgenallm monthli region cusaca usani x eia_geosetid region start end tibbl x geoset_id setnam f unit series_id name region latlon start end data chr chr chr chr chr chr chr chr chr chr list elecgenal net gener fuel thousand megawa elecgenallca net gener fuel california usaca na tibbl elecgenal net gener fuel thousand megawa elecgenallni net gener fuel new york usani na tibbl selectx region data unnestcol data tibbl x region valu date year month chr dbl date int int usaca usaca usaca usaca usaca usaca usaca usaca usaca usaca row unnestx col data ggplotaesd valu color region geom_lin labsi xunit titl net electr gener subtitl fuel img srceiageosetpng titleplot chunk geoset altplot chunk geoset width anoth conveni eia_geoset abil provid region follow form charact us state abbrevi state name us censu region name us censu divis name shortcut make easier construct api call involv sever state r region cak new england x eia_geosetid region n selectx region data unnestcol data tibbl x region valu date year month chr dbl date int int usaak usaak usact usact usama usama usam usam usanh usanh usari usari usavt usavt region middl atlant x eia_geosetid region n selectx region data unnestcol data tibbl x region valu date year month chr dbl date int int usanj usanj usanj usanj usanj usanj usanj usanj usanj usanj row unnestx col data ggplotaesd valu color region geom_lin labsi xunit titl net electr gener subtitl fuel img srceiageosetpng titleplot chunk geoset altplot chunk geoset width even conveni name avail r see datasetsst function geoset vignett titl eia categori output rmarkdownhtml_vignett vignett vignetteindexentryeia categori vignetteengineknitrrmarkdown vignetteencodingutf top level categori help awar variou categori data avail categori uniqu id number requir access associ data first call includ id result list two data frame first metadata associ posit categori hierarchi second child categori inform r libraryeia eia_set_keyyourkey set api key alreadi set global toplevel categori inform r eia_cat categori tibbl x category_id name note chr chr chr eia data set childcategori tibbl x category_id name int chr electr state energi data system sed petroleum natur ga total energi coal shortterm energi outlook annual energi outlook crude oil import us electr system oper data intern energi data co emiss intern energi outlook us nuclear outag child categori child categori id use queri result categori r eia_cat categori tibbl x category_id parent_category_id name note chr chr chr chr electr childcategori tibbl x category_id name int chr net gener total consumpt total consumpt btu consumpt electr gener consumpt electr gener btu consumpt use thermal output consumpt use thermal output btu plant level data retail sale electr revenu retail sale electr averag retail price electr number custom account fossilfuel stock electr gener receipt fossil fuel electr plant receipt fossil fuel electr plant btu averag cost fossil fuel electr gener averag cost fossil fuel electr gener per btu qualiti fossil fuel electr gener sulfur content qualiti fossil fuel electr gener ash content view immedi child categori given parent categori r eia_child_cat tibbl x category_id name int chr coal petroleum liquid petroleum coke natur ga parent categori view parent categori given child categori r eia_parent_cat tibbl x category_id name note parent_category_id chr chr chr chr eia data set na electr total consumpt btu sector electr util coal output format default return tidi data tibbl data frame eia_cat set tidi fals return list return jsonlitefromjson without process tidi na return raw json data charact string r eia_catstidi fals request requestcategory_id requestcommand categori categori categorycategory_id categoryparent_category_id null categorynam eia data set categorynot categorychildcategori category_id name electr state energi data system sed petroleum natur ga total energi coal shortterm energi outlook annual energi outlook crude oil import us electr system oper data intern energi data co emiss intern energi outlook us nuclear outag categorychildseri list cateia_catstidi na requestcategory_idcommandcategorycategorycategory_idparent_category_idnullnameeia data setsnoteschildcategoriescategory_idnameelectricitycategory_idnamest energi data system sedscategory_idnamepetroleumcategory_idnamenatur gascategory_idnametot energycategory_idnamecoalcategory_idnameshortterm energi outlookcategory_idnameannu energi outlookcategory_idnamecrud oil importscategory_idnameu electr system oper datacategory_idnameintern energi datacategory_idnameco emissionscategory_idnameintern energi outlookcategory_idnameu nuclear outageschildseri titl eia geoset output rmarkdownhtml_vignett vignett vignetteindexentryeia geoset vignetteengineknitrrmarkdown vignetteencodingutf time seri region geoset metadata structur relat seri togeth request seri use geoset api endpoint much request seri data use seri endpoint instead eia_seri use eia_geoset main differ must provid geoset id id region argument may vector multipl seri region function return combin time seri dataset region exist api return geograph entiti associ geoset requir specifi region want must associ given geoset id r libraryeia librarydplyr librarytidyr libraryggplot eia_set_keyyourkey set api key alreadi set global id elecgenalla region cusaca usani x eia_geosetid region n tibbl x geoset_id setnam f unit series_id name region latlon start end data chr chr chr chr chr chr chr chr chr chr list elecgenal net gener fuel thousand megawa elecgenallca net gener fuel california usaca na tibbl group region want data fifti state exampl set region usa need make vector fifti state id howev want certain region subset option besid make vector valu exampl eia_geoset accept shorthand descript specif popular subset state popular fact label ship r datast packag provid simpl state abbrevi without usa prefix state name point us censu region divis two hierarch set us state r tibblestateabb statenam stateregion statedivis tibbl x stateabb statenam stateregion statedivis chr chr fct fct al alabama south east south central ak alaska west pacif az arizona west mountain ar arkansa south west south central ca california west pacif co colorado west mountain ct connecticut northeast new england de delawar south south atlant fl florida south south atlant ga georgia south south atlant row provid associ label eia_geoset recogn subset us state even vector exampl region consist alaska plu state belong new england censu divis r x eia_geosetid cak new england n tibbl x geoset_id setnam f unit series_id name region latlon start end data chr chr chr chr chr chr chr chr chr chr list elecgenal net gener fuel thousand megaw elecgenallak net gener fuel alaska usaak na tibbl elecgenal net gener fuel thousand megaw elecgenallct net gener fuel connecticut usact na tibbl elecgenal net gener fuel thousand megaw elecgenallma net gener fuel massachusett usama na tibbl elecgenal net gener fuel thousand megaw elecgenallm net gener fuel main usam na tibbl elecgenal net gener fuel thousand megaw elecgenallnh net gener fuel new hampshir usanh na tibbl elecgenal net gener fuel thousand megaw elecgenallri net gener fuel rhode island usari na tibbl elecgenal net gener fuel thousand megaw elecgenallvt net gener fuel vermont usavt na tibbl xdata tibbl x valu date year dbl date int region middl atlant x eia_geosetid region n selectx region data unnestcol data tibbl x region valu date year chr dbl date int usanj usanj usanj usanj usanj usanj usanj usanj usanj usanj row unnestx col data ggplotaesd valu color region geom_lin labsi xunit titl net electr gener subtitl fuel img srcgeosetgeosetpng titleplot chunk geoset altplot chunk geoset width relat also relat argument accept option relat id one provid eia_geoset switch api relat endpoint relat anoth metadata structur appli geoset relat summari statist associ geoset id composit statist make easier obtain variabl facet data eg sector fuel type eia relat api endpoint offici support accord onlin eia api document unfortun endpoint appear function time current packag releas titl api detail output rmarkdownhtml_vignett vignett vignetteindexentryapi detail vignetteengineknitrrmarkdown vignetteencodingutf api key regist key eia obtain api key easi free pull data us energi inform administr eia api requir regist api key key obtain cost herehttpswwweiagovopendataregisterphp valid email agreement api term servic requir obtain key import store api key somewher secur commit repositori otherwis share exampl could store renviron file key storag retriev alway provid key argument everi api function call getter setter helper avail make use eia function seamless experi eia_set_key give option store key three place via store argument store env packag environ creat packag load default method store option global option store sysenv system environ variabl via syssetenv last two option requir namevalu pair name eia_key yourkey three option also order preced specifi store argument setup also allow store key overrid anoth key eia_get_key check three storag method order stop soon find key need check specif locat specifi store exampl key alreadi exist system environ plan pass key function explicitli could start follow r libraryeia key sysgetenveia_key key eia_get_key need set follow r eia_set_keyyourkey eia_get_key retriev api function eia use eia_get_key argument default valu key argument check order shown exist key way need repeatedli provid note despit name behavior store environ variabl syssetenv thu eia_set_keykey store sysenv persist key lost r session termin two sessionbas option want persist key must manual add key somewher like renviron case never need eia_set_key eia_get_key retriev eia_key environ variabl see packag document detail key option subsequ vignett see key set alreadi environ variabl also see use explicitli function default behavior look key environ api request eia api cours impos ratelimit limit usag given api key use api improperli otherwis violat term servic eia may withdraw api access howev eia packag also help prevent accident overus default set limit potenti make unnecessari api call two way allow option configur cach api result memori use sessionbas memoiz minimum delay api call default eia packag prevent accident make mani request quickli also offer sensibl flexibl memoiz function eia make api call use memoiz default make api call twice one r session call made result cach call function ident argument return cach result approach limit potenti accident use eia api necessari fine use case howev use api key access data updat often longrun r process shini app server may need period updat data associ specif api call set cach fals run exampl request made without memoiz notic cach result immedi return r systemtimeeia_cat api call cach result systemtimeeia_cat read cach systemtimeeia_catscach fals api call result cach memori durat r session clear cach time r eia_clear_cach systemtimeeia_cat allow updat cach result reset cach specif endpoint use follow function eia_clear_cat eia_clear_seri eia_clear_geoset antido measur regardless overal rate limit impos eia api eia packag set minimum wait time one second success api call case irrelev safeguard eia function make singl api call request data often take full second anyway factor subsequ data manipul r howev case might want make multipl call back back programmat perhap initi unsur mani request made quickli request may execut default minimum wait api call precaut help good neighbor turn option need exampl case know api call small number reason concern exceed request limit associ api key default requir make activ decis use api key api limit mind call eia_parent_cat good exampl function recurs say know number call go small overkil impos addit wait note order show exampl necessari turn memoiz avoid return cach result r systemtimex eia_parent_cat cach fals user system elaps optionseia_antido systemtimex eia_parent_cat cach fals user system elaps x tibbl x category_id name note parent_category_id chr chr chr chr eia data set na electr total consumpt btu sector electr util coal gener roxygen edit hand pleas edit document rgeosetr nameeia_geoset aliaseia_geoset titleeia geoset data usag eia_geoset id region relat null start null end null n null tidi true cach true key eia_get_key argument itemidcharact geoset seri id may vector see detail itemregioncharact region id may vector data avail intersect codeid coderegion return itemrelationlog make geoset relat queri instead geoset queri seri codeid queri differ current support see detail itemstartstart date provid start date return maximum result avail itemendend date provid end date singl result date itemninteg length seri return end recent valu codeend date also provid ignor codestart codenul itemtidylog return tidier result see detail itemcachelog cach result durat r session use memoiz see detail itemkeyapi key charact set explicitli need key set global see codelinkeia_set_key valu tibbl data frame list charact depend codetidi valu descript obtain eia geoset data detail codeid may vector done codetidi true tidi result properli row bound geoset api call allow multipl region api expect singl seri id function allow multipl seri must make one api call per seri id expect similarli format seri row bound id differ structur data tidili row bound may well make separ request sinc requir uniqu api call either way default addit process done return tibbl data frame set codetidi fals return initi list result codejsonlitefromjson set codetidi na return origin json charact string set codecach fals forc new api call updat data use codefals alway make new api call return result server codetru use memoiz per r session basi cach result function call memori durat r session reset entir cach call codeeia_clear_cach eia coderel api endpoint offici support accord onlin eia api document endpoint appear function time current packag releas exampl dontrun use eia_set_key store store api key id pasteelecgenal ca q region cusaca usani eia_geosetid region start eia_geosetid region n eia_geosetid region end n multipl seri count singl api call x eia_geosetid region end n x cregion data use direct us state abbrevi name use us censu region divis name x eia_geosetid cak new england end n x cregion data seealso codelinkeia_clear_cach gener roxygen edit hand pleas edit document rseriesr nameeia_series_metadata aliaseia_series_metadata aliaseia_series_upd aliaseia_series_d aliaseia_series_rang aliaseia_series_cat titleeia seri metadata usag eia_series_metadataid cach true key eia_get_key eia_series_updatesid cach true key eia_get_key eia_series_datesid cach true key eia_get_key eia_series_rangeid cach true key eia_get_key eia_series_catsid tidi true cach true key eia_get_key argument itemidcharact seri id may vector itemcachelog cach result durat r session use memoiz itemkeyapi key charact set explicitli need key set global see codelinkeia_set_key itemtidylog return tidier result see detail valu tibbl data frame descript make small request obtain data frame contain metadata detail date provid codeeia_series_d conveni work eia date string format exampl maintain order gener sequenc comput interv oper work well date would difficult use arbitrari string keep mind cours real date sens map year specif date codeeia_series_upd return data frame recent seri updat time codeid like metadata helper requir api call seri obtain relev metadata use interest updat time specif set seri id need know recent updat stamp larg set seri use codelinkeia_upd instead make api call specif eia codeupd endpoint specif eia categori categori id codeeia_series_cat differ function make api call directli codeseri categori endpoint like function return endpointspecif output accept codetidi argument control output structur default addit process done return list contain tibbl data frame set codetidi fals return initi list result codejsonlitefromjson set codetidi na return origin json charact string exampl dontrun use eia_set_key store store api key id pasteeleccons_tot_btucowak ca q eia_series_metadataid eia_series_updatesid eia_series_datesid eia_series_rangeid eia_series_catsid seealso codelinkeia_upd gener roxygen edit hand pleas edit document rcategoriesr nameeia_cat aliaseia_cat aliaseia_child_cat aliaseia_parent_cat titleeia categori usag eia_catsid null tidi true cach true key eia_get_key eia_child_catsid cach true key eia_get_key eia_parent_catsid cach true key eia_get_key argument itemidinteg categori id codenul api root categori itemtidylog return tidier result see detail itemcachelog cach result durat r session use memoiz see detail itemkeyapi key charact set explicitli need key set global see codelinkeia_set_key valu codeeia_cat list tibbl data frame less process list charact depend codetidi valu other function return tibbl data frame descript obtain eia categori detail default addit process done return list contain tibbl data frame set codetidi fals return initi list result codejsonlitefromjson set codetidi na return origin json charact string set codecach fals forc new api call updat data use codefals alway make new api call return result server codetru use memoiz per r session basi cach result function call memori durat r session reset entir cach call codeeia_clear_cach codeeia_child_cat return immedi child categori codeeia_parent_cat return parent wrapper around codeeia_cat alway return tibbl data frame exampl dontrun use eia_set_key store store api key eia_cat eia_child_cat immed children eia_parent_cat parent gener roxygen edit hand pleas edit document rcategoriesr nameeia_upd aliaseia_upd titleeia data updat usag eia_upd id null deep fals n start tidi true key eia_get_key argument itemidinteg categori id may vector codenul api root categori itemdeeplog codetru return inform child seri codefals default return categori codeid itemninteg maximum number row seri return default maximum permit api itemstartinteg row start default itemtidylog return tidier result see detail itemkeyapi key charact set explicitli need key set global see codelinkeia_set_key valu tibbl data frame list charact depend codetidi valu descript obtain inform eia data seri updat given categori avoid make request data updat sinc last request detail function return pagin result recent updat date data seri coden codestart help step chunk need know recent updat stamp larg set seri use function make api call specif eia codeupd endpoint specif eia categori categori id interest updat time specif set seri id use codelinkeia_series_upd note function accept vector id codeid must make one api call per id default addit process done return tibbl data frame set codetidi fals return initi list result codejsonlitefromjson set codetidi na return origin json charact string exampl dontrun use eia_set_key store store api key eia_upd n seealso codelinkeia_series_upd gener roxygen edit hand pleas edit document rdatesr nameeiad aliaseiad aliaseiadate_to_d aliasdate_to_eiad aliaseiadate_to_date_seq titleeia date pars usag eiadate_to_datex date_to_eiadatex date_format ca q w h eiadate_to_date_seqstart end weekli fals argument itemxcharact eia date string charact date object regular date see detail itemdate_formateia date format q w h stand annual quarterli monthli weekli daili hourli see detail itemstartstart eia date date itemendend eia date date itemweeklylog see detail descript helper function manipul convert regular yearmonthday date string eia date string notat detail reason mix eia date format context function take eia date string expect consist format also eia date format pars automat date howev daili weekli use format avoid ambigu codeeia_date_seq daili assum set codeweekli true treat weekli provid real date date string codedate_to_eiad date codeyyyymmdd format least format pars codelubridateymd codelubridateymd_hm date hourli date time respect codehl support date format use codeh api translat date time use codehl anyhow simpli append date string number hour time differ exampl eiadate_to_datec date_to_eiad date_to_eiad q date_to_eiad x eiadate_to_date_seqq q date_to_eiadatex q x eiadate_to_datetz date_to_eiadatex h x eiadate_to_date_seqtz tz date_to_eiadatex h gener roxygen edit hand pleas edit document rcacher nameeia_clear_cach aliaseia_clear_cach aliaseia_clear_cat aliaseia_clear_seri aliaseia_clear_geoset titleclear api result cach usag eia_clear_cach eia_clear_cat eia_clear_seri eia_clear_geoset descript reset result api call current cach memori detail codeeia_clear_cach clear entir cach function clear cach associ specif endpoint exampl dontrun key sysgetenveia_key store api key systemtimeeia_catskey systemtimeeia_catskey eia_clear_cach systemtimeeia_catskey gener roxygen edit hand pleas edit document rkeyr nameeia_key aliaseia_key aliaseia_set_key aliaseia_get_key titleset get api key usag eia_set_keykey store cenv option sysenv eia_get_keystor cenv option sysenv argument itemkeycharact api key itemstorecharact method store api key see detail valu codeeia_get_key return key string codenul warn codeeia_set_key return success messag error descript set get api key detail setter getter helper allow store eia api key one three way use option alway pass api key string codekey argument packag function requir default codekey argument function codekey eia_get_key key store manner retriev call packag api function without provid codekey argument repeatedli sectionkey storag method alreadi set key global somewher use codeeia_set_key codeeia_get_key retriev add codeeia_key yourkey keyvalu pair codeopt system environ variabl codeeia_get_key pick long use name codeeia_key conveni r session codeeia_set_key give three option store key default use codeeia packag environ creat packag load sectionpreced choos one method set key get key three locat check order packag environ codeopt system environ overrid order specifi method explicitli check occur also make possibl overrid system level key work one store packag environ codeopt sectionpersist note none three storag method includ codesysenv persist store key lost r session termin key store outsid r system environ variabl retriev codeeia_get_key like set r session codeeia_set_key codestor sysenv howev truli want key persist environ variabl r termin must manual add somewher like coderenviron codesyssetenv r achiev exampl eia_set_keyfak eia_get_key eia_get_keyopt return error set gener roxygen edit hand pleas edit document reiar name alia titlepip oper usag lh rh descript see codemagrittr packag detail keywordintern gener roxygen edit hand pleas edit document rreportsr nameeia_report aliaseia_report aliasreport_drilling_product titledownload data variou eia report usag eia_reportid report_drilling_product argument itemidcharact report id see detail list avail report itemargu pass individu report data function valu list typic list data frame descript function download data variou eia report found eia websit necessarili avail eia api detail wrapper function individu report function make api call requir api key exampl dontrun x eia_reportdril product gener roxygen edit hand pleas edit document reiar doctypepackag nameeia aliaseia titleeia eia api wrapper descript packag provid api access data us hrefhttpswwweiagovenergi inform administr eia gener roxygen edit hand pleas edit document rseriesr nameeia_seri aliaseia_seri titleeia data seri usag eia_seri id start null end null n null tidi true cach true key eia_get_key argument itemidcharact seri id may vector itemstartstart date provid start date return maximum result avail itemendend date provid end date singl result date itemninteg length seri return end recent valu codeend date also provid ignor codestart codenul itemtidylog return tidier result see detail itemcachelog cach result durat r session use memoiz see detail itemkeyapi key charact set explicitli need key set global see codelinkeia_set_key valu tibbl data frame list charact depend codetidi valu descript obtain eia data seri detail default addit process done return tibbl data frame set codetidi fals return initi list result codejsonlitefromjson set codetidi na return origin json charact string set codecach fals forc new api call updat data use codefals alway make new api call return result server codetru use memoiz per r session basi cach result function call memori durat r session reset entir cach call codeeia_clear_cach exampl dontrun use eia_set_key store store api key id pasteelecgenallak ca q x eia_seriesid start x eia_seriesid n x eia_seriesid end n xdata xdata xdata multipl seri count singl api call x eia_seriesid end n xdata seealso codelinkeia_clear_cach