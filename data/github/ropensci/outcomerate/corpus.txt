badg start coverag statushttpscodecovioghropenscioutcomeratebranchmastergraphbadgesvghttpscodecoviogithubropenscioutcomeratebranchmast travi build statushttpstravisciorgropenscioutcomeratesvgbranchmasterhttpstravisciorgropenscioutcomer ropensci statushttpsbadgesropensciorg_statussvghttpsgithubcomropenscionboardingissu cran statushttpswwwrpkgorgbadgesversionoutcomeratehttpscranrprojectorgpackageoutcomer r build statushttpsgithubcomropenscioutcomerateworkflowsrcmdcheckbadgesvghttpsgithubcomropenscioutcomerateact badg end outcomer outcomer lightweight r packag implement standard outcom rate survey defin standard definitionshttpswwwaapororgstandardsethicsstandarddefinitionsaspx american associ public opinion research aapor although mathemat formula straightforward get tediou repetit calcul rate hand especi subgroup studi formula similar one anoth also danger easi make cleric mistak outcomer packag simplifi analyt workflow defin formula collect function instal instal packag cran r installpackagesoutcomer altern instal latest develop version via github r installpackagesdevtool devtoolsinstall_githubropenscioutcomer exampl let say tri survey peopl finish fieldwork tabul attempt tabl disposit outcom code disposit n complet interview p partial interview r refus breakoff nc noncontact uh unknown household ne known inelig uo unknown use tabl may wish report common survey outcom rate respons rate proport sampl result interview cooper rate proport peopl contact particip survey refus rate proport sampl refus particip contact rate proport sampl case manag reach respond locat rate proport case say establish survey manag locat rate come number variant definit standard aapor outcomer function let calcul rate seamlessli r load packag libraryoutcomer set count per disposit code need name vector freq ci p r nc uh uo ne calcul rate assum unknown case elligbl outcomeratefreq e eligibility_ratefreq rr rr rr rr rr rr coop coop coop coop ref ref ref con con con loc loc disposit alway come tabul format survey analyst often work microdata directli row repres interview outcomer packag allow obtain rate use format well r defin vector disposit x ci p uo r nc p uh calcul desir rate outcomeratex rate crr con rr con obtain weight rate w crep rep outcomeratex weight w rate crr con rrw conw ropensci_footerhttpsropensciorgpublic_imagesropensci_footerpnghttpsropensciorg outcomer develop version minor updat vignett reflect chang tidyvers outcomer document ad citat detail packag ad document pkgdown site outcomer new featur eligibility_r function ad estim proport elig case unknown base known inelig ne improv refactor code base ropensci peer review feedback ad method factor addit mani unit test addit help error messag break chang weight argument longer accept scalar input weight provid output label renam form rrw instead rr rate null function paramet default behavior return possibl rate given paramet specifi disposit code accept ne known inelig within outcomer larg ignor use eligibility_r estim e document ad document intern fmat formula matrix object ad document middleearth toy dataset outcomer creat outcomer packag contributor code conduct contributor maintain project pledg respect peopl contribut report issu post featur request updat document submit pull request patch activ commit make particip project harassmentfre experi everyon regardless level experi gender gender ident express sexual orient disabl person appear bodi size race ethnic age religion exampl unaccept behavior particip includ use sexual languag imageri derogatori comment person attack troll public privat harass insult unprofession conduct project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct project maintain follow code conduct may remov project team instanc abus harass otherwis unaccept behavior may report open issu contact one project maintain code conduct adapt contributor coven httpcontributorcovenantorg version avail httpcontributorcovenantorgvers test environ local os x instal r ubuntu travisci r winbuild devel releas r cmd check result error warn note new releas output github_docu editor_opt chunk_output_typ consol badg start r build statushttpsgithubcomropenscioutcomerateworkflowsrcmdcheckbadgesvghttpsgithubcomropenscioutcomerateact coverag statushttpscodecovioghropenscioutcomeratebranchmastergraphbadgesvghttpscodecoviogithubropenscioutcomeratebranchmast travi build statushttpstravisciorgropenscioutcomeratesvgbranchmasterhttpstravisciorgropenscioutcomer ropensci statushttpsbadgesropensciorg_statussvghttpsgithubcomropenscionboardingissu cran statushttpswwwrpkgorgbadgesversionoutcomeratehttpscranrprojectorgpackageoutcomer badg end r setup includ fals knitropts_chunkset collaps true comment figpath manfiguresreadm outwidth outcomer outcomer lightweight r packag implement standard outcom rate survey defin standard definitionshttpswwwaapororgstandardsethicsstandarddefinitionsaspx american associ public opinion research aapor although mathemat formula straightforward get tediou repetit calcul rate hand especi subgroup studi formula similar one anoth also danger easi make cleric mistak outcomer packag simplifi analyt workflow defin formula collect function instal instal packag cran r installpackagesoutcomer altern instal latest develop version via github r installpackagesdevtool devtoolsinstall_githubropenscioutcomer exampl let say tri survey peopl finish fieldwork tabul attempt tabl disposit outcom r echofals messagefals librarydplyr libraryforcat libraryknitr optionsdigit x ci p r nc uh ne p uo dataframecod x mutateacrosscod fct_inord mutatedisposit fct_recodex complet interview partial interview p refus breakoff r noncontact nc unknown household uh unknown uo known inelig ne countcod disposit kabl use tabl may wish report common survey outcom rate __respons rate__ proport sampl result interview __cooper rate__ proport peopl contact particip survey __refus rate__ proport sampl refus particip __contact rate__ proport sampl case manag reach respond __locat rate__ proport case say establish survey manag locat rate come number variant definit standard aapor outcomer function let calcul rate seamlessli r exampl load packag libraryoutcomer set count per disposit code need name vector freq ci p r nc uh uo ne calcul rate assum unknown case elig outcomeratefreq e eligibility_ratefreq disposit alway come tabul format survey analyst often work microdata directli row repres interview outcomer packag allow obtain rate use format well r exampl defin vector disposit x ci p uo r nc p uh calcul desir rate outcomeratex rate crr con obtain weight rate w crep rep outcomeratex weight w rate crr con ropensci_footerhttpsropensciorgpublic_imagesropensci_footerpnghttpsropensciorg titl intro outcomer author rafael pilliard hellwig date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentryintro outcomer vignetteencodingutf vignettedependsdplyr ggplot tidyr knitr stringr vignetteengineknitrrmarkdown editor_opt chunk_output_typ consol r setup includ fals knitropts_chunkset figwidth figheight collaps true comment optionsdplyrsummariseinform fals vignett demonstr basic applic outcomer packag r draw popular tidyvers famili packag analysi r messagefals load packag libraryoutcomer librarydplyr librarytidyr libraryknitr keep thing lightheart use toy dataset name middleearth data consist row repres attempt interview member middl earth element sampl result complet interview howev case could locat other locat one avail individu found refus particip etc particular disposit summar code variabl data r messagefals load dataset datamiddleearth tabul frequenc tabl outcom kablecountmiddleearth code outcom r includ fals attachaslisttablemiddleearthcod common survey practition report number outcom rate rate give indic qualiti field work exampl may want know respons rate proport case intend sampl actual result interview might go calcul inspect disposit code becom appar could sever way exampl may start use total number complet case r dive number observ data r r nrowmiddleearth r roundi nrowmiddleearth partial complet interview includ would get rate r r p r nrowmiddleearth r roundi p nrowmiddleearth turn lot way calcul outcom rate unless specifi exactli mean respons rate easi claim regard survey qualiti becom opaqu lack compar survey reason american associ public opinion research aapor publish set standard definitionshttpswwwaapororgstandardsethicsstandarddefinitionsaspx practition guid fewer differ variant respons rate exampl rate calcul would match aapor respons rate respons rate textrmrr fractextrmitextrmi p r nc uo uh fracr ir r p r r r r nc r uo r roundoutcomeratemiddleearthcod rate rr textrmrr fractextrmi ptextrmi p r nc uo uh fracr r pr r p r r r r nc r uo r roundoutcomeratemiddleearthcod rate rr what guid multipl definit contact rate refus rate cooper rate weight rate easili becom tediou look calcul hand outcomer packag make easier give rate one go r disp_count ci p r nc uo ne e eligibility_ratedisp_count outcomeratedisp_count e e rate precis definit see outcomer detail see rr rr match earlier calcul exampl need specifi paramet e estim proport unknown case unknown uo elig eligibility_r offer default way calcul other may appropri want return two rate could specifi r outcomeratedisp_count rate crr rr advanc use certain situat may want calcul outcom rate base vector code rather tabl frequenc count easi obtain rate way use outcomer r print head dataset headmiddleearth calcul rate use code result outcomeratemiddleearthcod e e might prefer input format easi specifi count well want calcul outcom rate covari typic need go back origin data exampl use dplyr tidyr calcul outcom rate interest race r creat small wrapper function get_rat functionx rlist crr rr coop coop con ref loc asdataframeaslistoutcomeratex rate rlist e e calcul rate group middleearth group_byrac summarisen n nhat sumsvywt rate listget_ratescod unnestcol crate kabledigit caption outcom rate race weight outcom rate certain situat also wish produc _weighted_ outcom rate use survey weight provid data easi one addit paramet r calcul weight rate group middleearth group_byregion summarisen n nhat sumsvywt rate listget_ratescod weight svywt unnestcol crate kabledigit caption weight outcom rate region compar equival unweight estim see result r echofals calcul weight rate group middleearth group_byregion summarisen n nhat sumsvywt rate listget_ratescod unnestcol crate kabledigit caption unweight outcom rate region date lastli anoth use applic group analysi calcul rate date allow monitor qualiti day day notic perform start chang time r libraryggplot librarystringr daybyday qualiti monitor middleearth group_byday summariser listget_ratescod unnestcol crate gatherr valu day mutatetyp str_subrat start end ggplotaesx day valu colour rate geom_lines facet_wraptyp labstitl outcom rate time exampl see contact rate con respons rate rr start degrad qualiti toward day fieldwork still continu could someth look attempt explain andor redress varianc estim estim error estim gener outcomer simplest approach use normal approxim sinc outcom rate noth proport nearli standard error given sep sqrtppn r first calcul outcom rate re outcomeratemiddleearthcod estim standard error use normal approxim proport se sapplyr functionp sqrtp p nrowmiddleearth standard error hand construct frequentist confid interv r calcul confid interv rbindr se re se weight varianc estim complex survey requir differ procedur go beyond scope vignett recommend use svycontrast survey packag obtain designbas error account element cluster stratif bootstrap primari sampl unit psu may also appropri method depend design hand gener roxygen edit hand pleas edit document rdatasetsr doctypedata namemiddleearth aliasmiddleearth titlemiddleearth dataset descript codemiddlearth toy dataset consist fake survey interview conduct jrr tolkien fiction world middl earth detail variabl contain data item item strongcod one outcom code p r nc uh uo uh uo ne item strongoutcom humaninterpret label codecod variabl item strongresearch identifi research conduct interview item strongregion region respond one five item strongq hypothet binari research question pose respond item strongq hypothet continu scale question pose respond item strongday day interview took place first day fieldwork item strongrac race respond middl earth dwarf elf hobbit man wizard item strongsvywt survey weight invers probabl select keyworddata gener roxygen edit hand pleas edit document rdatasetsr doctypedata namefmat aliasfmat titleoutcomer formula matrix intern data descript codefmat object intern dataset use codeoutcomer packag hold definit outcom rate except locat rate taken aapor standard definit detail data dimension binari array consist item item outcom code p r nc uh uo euh euo ne item rate shorthand name rate eg rr item side numer num denomin den given three dimens outcom rate defin ration number ie fraction consist summat frequenc outcom code matrix entri nonzero input paramet given user p r nc uh uo paramet e paramet e multipli uh uo intern produc euh euo reason implement conform dri dont repeat philosophi hold definit one place definit use upstream input functionstest suit requir b make easier use intermedi step formula calcul instanc may use research want obtain numeratordenomin calcul instead output c make easi compar output easier maintain exampl fmat outcomeratefmat print dimens dimnamesfmat say want know defint respons rate rr see numer num column defin entri p likewis denomin den defin p r nc uh uo fmat rr use linear algebra defin zeroon numer matrix n zeroon denomin matrix count disposit code given manual x order n n fmat fmat x ci p r nc uh uo ne euh euo return rate x n x thing achiev appli famili function numden applyx fmat sum numden numden refer urlhttpswwwaapororgstandardsethicsstandarddefinitionsaspx keyworddata gener roxygen edit hand pleas edit document religibility_rat nameeligibility_r aliaseligibility_r titlesurvey elig rate usag eligibility_ratex weight null argument itemxa charact vector disposit outcom p r nc uh uo u ne altern name vectort weight disposit count itemweightan option numer vector specifi weight element x x charact vector none provid default unweight estim return descript provid estim proport case unknown elig elig describ insertcitevdkoutcomer rate typic necessarili calcul screener data sourc depend type survey approach calcul e may therefor differ one survey next detail present implement follow default use excelbas emphaapor outcom rate calcul version may basi known inelig code ne elig rate elr defin item item elr p r nc p r nc ne exampl load outcomer packag libraryoutcomer creat vector survey disposit complet interview p partial interview r refus breakoff nc noncontact uh unknown householdoccupi hous unit uo unknown ne elig x ci p ne nc uh r uo p calcul rate assum unknown case elligbl eligibility_ratex calcul weight rate w runif eligibility_ratex weight w altern provid input count freq ci p nc ne eligibility_ratefreq refer insertrefaaporoutcomer insertallcit seealso linkoutcomer gener roxygen edit hand pleas edit document routcomerat nameoutcomer aliasoutcomer titleaapor survey outcom rate usag outcomeratex e null rate null weight null return_nd fals argument itemxa charact vector disposit outcom p r nc uh uo altern name vectort weight disposit count itemea scalar number specifi elig rate estim proport unknown case elig default method calcul e provid codelinkeligibility_rateeligibility_r itemratean option charact vector specifi rate calcul set na default rate return itemweightan option numer vector specifi weight element x x charact vector factor none provid default unweight estim return itemreturn_nda logic switch function return numer denomin instead rate default fals descript provid standard outcom rate survey primarili defin hrefhttpwwwaapororgamerican associ public opinion research aapor detail found standard definit manual insertciteaaporoutcomer detail survey public opinion research often categor interview attempt survey accord set outcom code follow item item complet interview item p partial interview item r refus breakoff item nc noncontact item item uh unknown householdoccupi hous unit item uo unknown item ne known inelig highlevel class use calcul outcom rate provid measur qualiti fieldwork outcom rate defin follow strongaapor respons rate proport intend sampl particip survey item item rr p r nc uh uo item rr p p r nc uh uo item rr p r nc euh uo item rr p p r nc euh uo item rr p r nc item rr p p r nc strongaapor cooper rate proport contact respond particip survey item item coop p r item coop p p r item coop p r item coop p p r strongaapor refus rate proport sampl refus particip survey item item ref r p r nc uh uo item ref r p r nc euh uo item ref r p r nc strongaapor contact rate proport sampl success contact interview whether chose particip item item con p r p r nc uh uo item con p r p r nc euh uo item con p r p r nc strongloc rate proport case could locat interview locat rate defin aapor standard found insertcitevdkoutcomer note depend locat case encod may may correct formula item item loc p r nc p r nc uh uo item loc p r nc p r nc euh uo exampl load outcomer packag libraryoutcomer creat vector survey disposit complet interview p partial interview r refus breakoff nc noncontact uh unknown householdoccupi hous unit uo unknown ne known inelig x ci p nc uh r ne uo p calcul rate elr eligibility_ratex outcomeratex e elr return one rate outcomeratex rate coop calcul weight rate w runiflengthx outcomeratex e elr weight w altern provid input count freq ci p nc r outcomeratefreq e elr refer insertallcit insertrefaaporoutcomer