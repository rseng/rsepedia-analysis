titl opentripplann r author affili name malcolm morgan orcid affili name marcu young orcid affili name robin lovelac orcid affili name layik hama orcid date nov output html_document default pdf_document default tag r transport geospati transit opentripplann openstreetmap affili index name institut transport studi univers leed uk index name transport research group univers southampton uk bibliographi paperbib gener citat r ref refmanagerreadzoterogroup param listcollect jfrkj limit refmanagerwritebibref paperbib citrtidy_bib_filermd_fil papermd messy_bibliographi paperbib summari opentripplann provid function enabl multimod rout r provid interfac opentripplann otp java rout servic allow calcul rout larg transport network local via call remot server packag contain three group function set manag local instanc otp connect otp local remot send request otp api import result convert appropri class analysi motiv rout process calcul path point geograph space follow transport network fundament part transport plan vital solv mani realworld transport problem output rout servic calcul mani rout larg area compris coordin data repres movement way optim base rang criteria user understand abl chang rout servic one provid googl map wellknown increasingli vital compon person travel plan mani peopl bast_fast_ less wellknown perhap equal import rout servic also key understand aggreg travel pattern guid polici commerci decis giusti_new_ meet need rout plan capabl wide rang proprietari open sourc tool creat function opentripplannerhttpswwwopentripplannerorg otp written java design work open street maphttpswwwopenstreetmaporg osm data roadbas mode car bike walk gener transit feed specif httpsdevelopersgooglecomtransitgtf gtf data public transit bu train metro otp unusu among open sourc rout tool abil account wide rang mode travel eg bicycl hire support complex multistag multimod journey park ride howev otp primari purpos support publicfac websit trimet thu analyt capabl limit convers r languag well suit statist spatial analysi rout plan capabl opentripplann r packag aim bridg gap otp r suppli simpl way r connect otp either local machin remot server via otp api packag design eas bulk rout allow input multipl origin destin two column matric longitudelatitud pair packag also support multicor oper take advantag otp multicor function result return wide use sf data framehttpscranrprojectorgpackagesf format although perform depend size map rout typic achiev rout per second per core packag develop set r function form part intermediatelevel otp tutorialhttpsgithubcommarcusyoungotptutorialrawmasterintrootppdf part research centr research energi demand solut httpswwwcredsacuk institut transport studieshttpsenvironmentleedsacuktransport reproduc demonstr exampl data isl wight uk provid packag exampl use data demonstr basic function packag full explan provid packag vignetteshttpsdocsropensciorgopentripplannerarticlesopentripplannerhtml first download demo data otp r libraryopentripplann load packag path_data filepathtempdir otp creat folder data dircreatepath_data path_otp otp_dl_jarpath_data download otp otp_dl_demopath_data download demo data second build otp graph start otp server connect server r log otp_build_graphotp path_otp build graph dir path_data otp_setupotp path_otp dir path_data start otp otpcon otp_connect connect r otp final find rout r rout otp_planotpcon fromplac c toplac c refer readmemd gener readmermd pleas edit file opentripplann r hrefhttpsitsleedsgithubioimg srcmanfigureslogopng alignright heighta r build statushttpsgithubcomropensciopentripplannerworkflowsrcmdcheckbadgesvghttpsgithubcomropensciopentripplanneract codecovhttpscodecovioghropensciopentripplannerbranchmastergraphbadgesvgtokenilebpnmkhttpsappcodecovioghropensciopentripplann project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact httpsbadgesropensciorg_statussvghttpsgithubcomropenscisoftwarereviewissu doihttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo statushttpsjosstheojorgpapersjossstatussvghttpsjosstheojorgpapersjoss httpscranlogsrpkgorgbadgesgrandtotalopentripplannerhttpscranrprojectorgpackageopentripplann cran_status_badgehttpwwwrpkgorgbadgesversionopentripplannerhttpscranrprojectorgpackageopentripplann opentripplann r packag provid simpl yet flexibl interfac opentripplann otphttpswwwopentripplannerorg otp multimod trip plan servic written java inform otp see prerequisit vignettehttpsdocsropensciorgopentripplannerarticlesprerequisiteshtml opentripplann use interfac remot instanc otp eg websit help set manag local version otp privat use basic setup rout function outlin get start vignettehttpsdocsropensciorgopentripplannerarticlesopentripplannerhtml advanc function batch rout isochron customis setup describ advanc featur vignettehttpsdocsropensciorgopentripplannerarticlesadvanced_featureshtml instal opentripplann use opentripplann local comput need instal java download latest version otp instruct instal java set otp found prerequisit vignettehttpsdocsropensciorgopentripplannerarticlesprerequisiteshtml r packag instal stabl cran version r installpackagesopentripplann instal packag libraryopentripplann load packag instal develop version use remot r alreadi remot packag installpackagesremot instal packag github remotesinstall_githubropensciopentripplann load packag libraryopentripplann rcppsimdjson version opentripplann packag rcppsimdjson use json pars packag support older version r older oper system meet cran requir version ad legaci mode older version r legaci mode reduc function user old system may get better result use version packag instal older version use remot r remotesinstall_versionopentripplann usag packag contain three group function function set local instanc otp otp_dl_jar download otp jar file otp_dl_demo download demo data isl wight otp_check_java check correct version java otp_build_graph make otp graph raw data otp_setup start local instanc otp otp_make_config make config object otp_validate_config valid config object otp_write_config save config object json file function connect local remot instanc otp otp_connect connect otp function retriev data otp otp_plan get rout b otp_geocod get locat name place eg road name otp_isochron get isochron map otp x otp_make_surfac make analyst surfac otp x otp_surfac evalu analyst surfac otp x otp_traveltim make travel time matrix otp x otp_surface_isochron make raster isochron map otp x result return sf objectshttpscranrprojectorgpackagesf acknowledg packag built tutori marcu younghttpsgithubcommarcusyoungotptutori contribut pleas note opentripplann project releas contributor code conducthttpsgithubcomropensciopentripplannerblobmastercode_of_conductmd contribut project agre abid term bug report comment welcom github issueshttpsgithubcomropensciopentripplannerissu code submiss pull requestshttpsgithubcomropensciopentripplannerpul citat pleas cite joss paper public morgan et al opentripplann r journal open sourc softwar httpsdoiorgjoss ropensci_footerhttpsropensciorgpublic_imagesropensci_footerpnghttpsropensciorg opentripplann fix broken move url tibbl move import suggest support otp support analyst featur otp x new function support featur sf packag opentripplann fix bug pars fare data fix bug latest version java default bit even bit avail ad tri function reduc risk crash larg scale batch rout ad flagbit argument otp_build_graph otp_setup ad quiet argument otp_build_graph updat known issu vignett reduc initi wait time otp_setup second second switch otp default version otp_dl_jar opentripplann limit support version r cant instal rcppsimdjson opentripplann note version make minor chang result return exampl column order chang due new json parser affect overal result may affect depend code signific refactor code give reduct rout time replac dplyr datat replac httr curl replac mani rjson function rcppsimdjson equival replac mani sf function sfheader equival fix bug otp_plan distance_balanc true fix bug otp_plan return fromplac toplac first two column otp_plan set get_elev fals default boost perform fix bug distance_balanc gave suboptim balanc distance_balanc true zero distanc rout found otp reject case save time impact result opentripplann ad distance_balanc argument otp_plan give small perform boost multicor rout ad get_elev argument otp_plan default true fals return xy coordin rather xyz coordin give perform boost remov helper code dplyrbind_row longer requir dplyr opentripplann chang support dplyr packag need vctr ad timezon support otp_connect otp_plan otp_isochron fix issu see doc detail ad quiet argument otp_dl_jar otp_dl_demo fix error advanc featur vignett issu switch dplyr datat issu opentripplann batch isochron support ad fix bug correct_dist input length distanc never decreas fix bug polylinelinestr elev length new input argument otp_plan otp_isochron routingopt allow support mani rout option set argument walkreluct transferpenalti mintransfertim remov replac routingopt new function otp_routing_opt otp_validate_routing_opt otp_check_java new data intern packag check ad support uk way properti set otp opentripplann disabl cran test fail solari os due differ word error messag opentripplann fix bug rout fail due miss fare data opentripplann ad newsmd file track chang packag fix cran test error certain os ad cran badg opentripplann first cran releas opentripplann releas peerreview ropensci contributor code conduct contributor maintain project pledg respect peopl contribut report issu post featur request updat document submit pull request patch activ commit make particip project harassmentfre experi everyon regardless level experi gender gender ident express sexual orient disabl person appear bodi size race ethnic age religion exampl unaccept behavior particip includ use sexual languag imageri derogatori comment person attack troll public privat harass insult unprofession conduct project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct project maintain follow code conduct may remov project team instanc abus harass otherwis unaccept behavior may report open issu contact one project maintain code conduct adapt contributor coven httpcontributorcovenantorg version avail httpcontributorcovenantorgvers name bug report report r packag work correctli titl bug label bug assigne describ bug clear concis descript bug reproduc step reproduc behavior expect behavior clear concis descript expect happen screenshot applic add screenshot help explain problem system pleas past sessioninfo addit context add context problem name need help peopl need help get otp work comput titl need help label help want assigne thank use opentripplann r issu templat help provid necessari inform us help pre issu check list open new issu pleas confirm done follow search old issueshttpsgithubcomropensciopentripplannerissuesqisaissu peopl similar problem read prerequisit vignettehttpsdocsropensciorgopentripplannerarticlesprerequisiteshtml instal requir softwar work get start vignettehttpsdocsropensciorgopentripplannerarticlesopentripplannerhtml demo data read known issu vignettehttpsdocsropensciorgopentripplannerarticlesknown_issueshtml check solut problem alreadi exist latest version opentripplann r packag instal read error messag includ log problem type tell us problem pleas tick appli instal r packag instal java build graph ie otp_build_graph start otp ie otp_setup rout ie otp_plan demo data vs data problem use demo data data demo data problem might opentripplann packag data problem might data may abl help still post issu problem data reproduc problem use demo data check data miss corrupt faulti multipl input dataset tri use minim subset data identifi dataset caus problem session info pleas run sessioninfo past result issu pleas describ problem name featur request suggest idea project titl featur request label enhanc assigne featur request relat problem pleas describ clear concis descript problem ex im alway frustrat describ solut youd like clear concis descript want happen describ altern youv consid clear concis descript altern solut featur youv consid addit context add context screenshot featur request output github_docu readmemd gener readmermd pleas edit file r setup includ fals knitropts_chunkset collaps true comment figpath manfiguresreadm outwidth opentripplann r hrefhttpsitsleedsgithubioimg srcmanfigureslogopng alignright heighta r build statushttpsgithubcomropensciopentripplannerworkflowsrcmdcheckbadgesvghttpsgithubcomropensciopentripplanneract codecovhttpscodecovioghropensciopentripplannerbranchmastergraphbadgesvgtokenilebpnmkhttpsappcodecovioghropensciopentripplann project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact httpsbadgesropensciorg_statussvghttpsgithubcomropenscisoftwarereviewissu doihttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo statushttpsjosstheojorgpapersjossstatussvghttpsjosstheojorgpapersjoss httpscranlogsrpkgorgbadgesgrandtotalopentripplannerhttpscranrprojectorgpackageopentripplann cran_status_badgehttpwwwrpkgorgbadgesversionopentripplannerhttpscranrprojectorgpackageopentripplann opentripplann r packag provid simpl yet flexibl interfac opentripplann otphttpswwwopentripplannerorg otp multimod trip plan servic written java inform otp see prerequisit vignettehttpsdocsropensciorgopentripplannerarticlesprerequisiteshtml opentripplann use interfac remot instanc otp eg websit help set manag local version otp privat use basic setup rout function outlin get start vignettehttpsdocsropensciorgopentripplannerarticlesopentripplannerhtml advanc function batch rout isochron customis setup describ advanc featur vignettehttpsdocsropensciorgopentripplannerarticlesadvanced_featureshtml instal opentripplann use opentripplann local comput need instal java download latest version otp instruct instal java set otp found prerequisit vignettehttpsdocsropensciorgopentripplannerarticlesprerequisiteshtml r packag instal stabl cran version r installcran evalfals installpackagesopentripplann instal packag libraryopentripplann load packag instal develop version use remot r instal evalfals alreadi remot packag installpackagesremot instal packag github remotesinstall_githubropensciopentripplann load packag libraryopentripplann rcppsimdjson version opentripplann packag rcppsimdjson use json pars packag support older version r older oper system meet cran requir version ad legaci mode older version r legaci mode reduc function user old system may get better result use version packag instal older version use remot r evalfals remotesinstall_versionopentripplann usag packag contain three group function function set local instanc otp otp_dl_jar download otp jar file otp_dl_demo download demo data isl wight otp_check_java check correct version java otp_build_graph make otp graph raw data otp_setup start local instanc otp otp_make_config make config object otp_validate_config valid config object otp_write_config save config object json file function connect local remot instanc otp otp_connect connect otp function retriev data otp otp_plan get rout b otp_geocod get locat name place eg road name otp_isochron get isochron map otp x otp_make_surfac make analyst surfac otp x otp_surfac evalu analyst surfac otp x otp_traveltim make travel time matrix otp x otp_surface_isochron make raster isochron map otp x result return sf objectshttpscranrprojectorgpackagesf acknowledg packag built tutori marcu younghttpsgithubcommarcusyoungotptutori contribut pleas note opentripplann project releas contributor code conducthttpsgithubcomropensciopentripplannerblobmastercode_of_conductmd contribut project agre abid term bug report comment welcom github issueshttpsgithubcomropensciopentripplannerissu code submiss pull requestshttpsgithubcomropensciopentripplannerpul citat pleas cite joss paper public morgan et al opentripplann r journal open sourc softwar httpsdoiorgjoss ropensci_footerhttpsropensciorgpublic_imagesropensci_footerpnghttpsropensciorg titl advanc featur author malcolm morgan date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentryopentripplanneradvanc vignetteengineknitrrmarkdown vignetteencodingutf introduct vignett introduc advanc featur otp give exampl type analysi possibl use otp r togeth recap vignett use data get start vignettehttpsdocsropensciorgopentripplannerarticlesopentripplannerhtml vignett yet creat exampl graph set follow command use nondefault set see get start vignett full detail r eval fals libraryopentripplann path folder contain otpjar file chang save file path_data filepathtempdir otp dircreatepath_data path_otp otp_dl_jar otp_dl_demopath_data build graph start otp log otp_build_graphotp path_otp dir path_data log otp_setupotp path_otp dir path_data otpcon otp_connecttimezon europelondon batch rout otp_plan function produc multipl rout exampl gather data travel time lsoashttpswwwonsgovukmethodologygeographyukgeographiescensusgeographi isl white ryde ferryhttpswwwwightlinkcoukplanyourjourneyrout otp_plan accept three type input fromplac toplac numer longitudelatitud pair x matrix row longitudelatitud pair sf datafram point number fromplac toplac must equal one case otp_plan repeat singl locat match length longer locat well start import locat lsoa point r evalfals lsoa sfst_readhttpsgithubcomropensciopentripplannerreleasesdownloadcentroidsgpkg stringsasfactor fals headlsoa defin destin ryde ferri r evalfals toplac c use otp_plan find rout r evalfals rout otp_planotpcon otpcon fromplac lsoa toplac toplac may get warn messag return otp unabl find rout otp_plan skip error return rout get print messag consol also notic handi progress bar plot rout use tmap packag plot rout look someth like r echofals figaligncent figcaplabelfigrouteairportdriv rout ryde ferri knitrinclude_graphicsimagesroutes_to_ferryjpg rout sometim use find rout everi possibl origin destin exampl produc origindestin od matrix wish rout everi lsoa everi lsoa point easili done repeat point r evalfals toplac lsoarepseq nrowlsoa time nrowlsoa fromplac lsoarepseq nrowlsoa nrowlsoa warn rout point point increas total number rout calcul exponenti case point result x rout take od matrix may interest total travel time requir rout geometri set get_geometri fals otp_plan r return metadata discard geometri slightli faster use get_geometri true use less memori exampl make travel time matrix r evalfals rout otp_planotpcon otpcon fromplac fromplac toplac toplac fromid fromplacegeo_cod toid toplacegeo_cod get_geometri fals rout routescfromplacetoplacedur use tidyr packag go long wide format routes_matrix tidyrpivot_widerrout names_from toplac values_from durat notic use fromid toid allow otp_plan return lsoa geo_cod rout use produc mani rout id provid otp_plan return latitudelongitud fromplac toplac multicor support otp support multicor rout box base one core per rout suit find larg number rout otp_plan function argument ncore chang posit integ enabl multicor process eg ncore recommend maximum valu ncore one less number core system allow one core left oper system task graph demonstr reduct time taken rout lsoa pair isl wight demo use one six core r echofals figaligncent figcaplabelfigmulticor multicor perform improv knitrinclude_graphicsimagesmulticorejpeg distanc balanc use multicor rout otp_plan option set distance_bal true distanc balanc sort rout decreas euclidean distanc send otp rout result effici load balancinghttpsenwikipediaorgwikiload_balancing_comput core thu small reduct rout time around five percent origin order input lost fromid toid must specifi use distanc balanc elev profil walk cycl rout hilli rout matter elev data avail otp return elev profil rout default otp return elev separ xy coordin conveni otp_plan argument get_elev match z coordin xy coordin may result minor misalign demonstr let get walk rout r evalfals rout otp_planotpcon otpcon fromplac c toplac c mode walk get_elev true full_elev true notic use full_elev true return raw elev profil otp view raw profil datafram column first distanc along leg rout second elev distanc calcul otp_plan cumul distanc along whole rout version get_elev argument otp_plan set fals default speed rout return xy coordin rather xyz coordin r evalfals profile_raw routeelev plotprofile_rawdist profile_rawsecond type p xlab distanc along rout ylab elev r echofals figaligncent figcaplabelfigeleelev profil raw data knitrinclude_graphicsimageselevationpng get elev profil xyz coordin littl complic sfst_coordin function return matrix xyz coordin make line geodist packag provid quick way calcul length metr lnglat point r evalfals profile_xyz sfst_coordinatesrout dist geodistgeodistprofile_xyzcxi sequenti true dist cumsumdist plotdist profile_xyznrowprofile_xyzz type p xlab distanc along rout ylab elev r echofals figaligncent figcaplabelfigeleelev profil xzi coordin knitrinclude_graphicsimageselevationpng notic less detail xyz graph z coordin match chang xy coordin ie check elev turn road isochron isochron line equal time suppos interest visualis long take access ryde ferri use public transport differ part island request isochron otp minut achiev singl function otp_isochron note isochron current reliabl walk transit mode r evalfals ferry_curr otp_isochroneotpcon otpcon fromplac c lnglat ryde ferri mode cwalktransit maxwalkdist date_tim asposixctstrptim ymd hm cutoffsec c cut off second ferry_currentminut ferry_currenttim convert back minut visualis isochron map use tmap packag r evalfals librarytmap load tmap packag tmap_modeview set tmap inter view map tm_shapeferry_curr build map tm_fillminut break c style fix palett rdylbu tm_border map plot map see map like r echofals figaligncent figcaplabelfigotpguiisochron ryde ferri knitrinclude_graphicsimagesisochronejpg geocod otp built geocod allow search place name r evalfals station otp_geocodeotpcon otpcon queri station headstat debug layer troubleshoot rout issu visualis travers permiss street edg bike safeti edg transit stop link street addit debug layer avail add debug_layerstru url like httplocalhostdebug_layerstru extra layer list layer stack menu read differ debug layer offici otp document httpdocsopentripplannerorgenlatesttroubleshootingroutingdebuglayershttpdocsopentripplannerorgenlatesttroubleshootingroutingdebuglay analyst older version otp limit analyt featur builtin need enabl graph build startup featur access via analyst true argument otp_build_graph otp_setup inform see otp documentationhttpsdocsropensciorgopentripplannerarticlesanalysthtml configur opentripplann otp work configur use json file buildconfigjson use graph build ie otp_build_graph routerconfigjson use setup ie otp_setup file must save rest data router uniqu configur help configur otp sever use function otp_make_config make default config object fill default valu simpli name list easili modifi valu otp_validate_config basic check config object make sure valid final otp_write_config export config object properli format json file simpl exampl chang default walk speed r evalfals router_config otp_make_configrout make config object router_configroutingdefaultswalkspe current ms router_configroutingdefaultswalkspe increas walk speed otp_validate_configrouter_config check new config valid otp_write_configrouter_config save config file dir path_data router default much inform configur opentripplann httpsopentripplannerreadthedocsioenlatestconfigur run otp instanc docker abl run otp version httpsrepomavenorgmavenorgopentripplannerotp dockerfil queri via packag basic dockerfil look like docker javaalpin env otp_vers env java_optionsxmxg add httpsrepomavenorgmavenorgopentripplannerotpotp_versionotpotp_versionshadedjar usrlocalsharejavaotpjar copi otp usrlocalbin expos entrypoint otp cmd help build imag use default docker build command like docker build name cours work directori dockerfil run instanc like sh docker run p v pwdgraphsvarotpgraph e java_optionsxmxg urbicaotp server autoscan verbos cours let us place graph docker volum pwdgraph slightli edit version work describ herehttpsgithubcomurbicadockerotp titl analyst output rmarkdownhtml_vignett vignett vignetteindexentryanalyst vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment analyst set option featur otp x use transport analysi featur remov otp vignett explain enabl use featur analyst featur analyst add follow featur otp pointset effici way specifi batch fromplac toplac rout surfac effici way get travel time one mani place isochron altern implement isochron featur load otp analyst analyst option featur otp x load otp_setup r evalfals get otp demo data normal way libraryopentripplann path_data filepathtempdir otp dircreatepath_data path_otp otp_dl_jarvers must use otp x otp_dl_demopath_data log otp_build_graphotp path_otp dir path_data setup otp analyst pointset enabl log otp_setupotp path_otp dir path_data analyst true pointset true otpcon otp_connecttimezon europelondon see analyst work web ui r echo fals figaligncent figcaplabelfiganalystuiotp web interfac analyst mode knitrinclude_graphicsimagesanalystjpg creat pointset notic start otp also enabl pointset featur pointset csv file latitudelongitud coordin otp rout pointset creat sf object use otp_poinset function use lsoa point advanc featur vignettehttpsdocsropensciorgopentripplann creat pointset also add column data call job analys numer valu pointset otp provid count sum valu base travel criteria case might want know mani job access within minut drive given locat r evalfals lsoa sfst_readhttpsgithubcomropensciopentripplannerreleasesdownloadcentroidsgpkg stringsasfactor fals lsoajob sampl nrowlsoa otp_pointsetlsoa lsoa path_data otp_pointset function take lsoa object creat pointset access otp use name lsoa creat surfac surfac evalu travel time given point locat within minut one minut increment quit similar isochron fist step make surfac given locat use otp_make_surfac r evalfals surfaceid otp_make_surfaceotpcon c otp_make_surfac function return list contain surfac id paramet use creat surfac use object function support surfac surfac made evalu travel time pointset r evalfals ttime otp_surfaceotpcon surfaceid lsoa otp_surfac function return list two object first object data data frame summaris sum count valu pointset one minut increment fromplac specifi surfaceid object second object time vector travel time second locat pointset na valu return otp unabl find rout point point minut fromplac use sum count featur specifi get_data fals get travel time r evalfals ttime otp_surfaceotpcon surfaceid lsoa get_data fals visualis travel time use tmap packag r evalfals lsoatim ttimestim librarytmap tmap_modeview tm_shapelsoa tm_dotscol time r echo fals figaligncent figcaplabelfigttimestravel time lsoa point knitrinclude_graphicsimagesttimesjpg notic locat otp fail find travel time like point far road network rout mode allow access eg drive pedestrianis road could tri modifi point locat slightli allow otp find valid rout produc travel time matrix use surfac effici way produc travel time matrix use otp_plan special function otp_traveltim creat batch surfac pointset summaris result travel time matrix r evalfals ttmatrix otp_traveltimeotpcon path_data fromplac lsoa toplac lsoa fromid lsoageo_cod toid lsoageo_cod function return travel time second fromplac toplac data frame column name fromid row name toid fail rout return na greater minut produc isochron surfac surfac also use produc isochron surfac r evalfals isochon otp_surface_isochroneotpcon surfaceid function otp_surface_isochron return raster imag valu travel time minut view raster use raster packag r evalfals libraryrast plotisochon r echo fals figaligncent figcaplabelfigttimesisochon raster knitrinclude_graphicsimagesrasterjpg titl otp opentripplann version output rmarkdownhtml_vignett vignett vignetteindexentryotpv vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment introduct opentripplann packag origin develop support opentripplann v updat support subsequ releas opentripplann v next major releas vignett document chang within packag support opentripplann v chang v improv like remov isochron featur packag continu support version last vx subsequ vx releas vignett updat help user select best version need major chang switch java java support netex transit data support siri transit data switch rout algorithm rang raptor search transit rout remov isochron geocod analysi featur get java time write java still default may system get java must download java develop kit httpswwworaclecomjavatechnologiesjavasejdkdownloadshtml requir free account oracl websit window also need chang path variabl point new version java check java version check version java access r use otp_check_java specifi version otp want use exampl want use otp java instal would see r eval fals otp_check_java fals warn messag otp_check_java otp x version java otp x build graph start otp select otp use otp_dl_jar function r setup evalfals libraryopentripplann path folder contain otpjar file chang save file path_data filepathtempdir otp dircreatepath_data path_otp otp_dl_jarvers otp_dl_demopath_data build graph start otp log otp_build_graphotp path_otp dir path_data log otp_setupotp path_otp dir path_data otpcon otp_connecttimezon europelondon download demo data build graph usual way titl prerequisit author malcolm morgan date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentryopentripplannerprerequisit vignetteengineknitrrmarkdown vignetteencodingutf introduct vignett provid guidanc peopl new opentripplann otp r r otp instal becom familiar eg read vignett recommend work get start vignettehttpsdocsropensciorgopentripplannerarticlesopentripplannerhtml would want use opentripplann r opentripplannerhttpwwwopentripplannerorg otp free opensourc crossplatform multimod rout planner written java like privat version googl map otp use run public routefind servic httpsridetrimetorg also run comput server want analys transport network otp use tool howev otp name suggest trip planner analyt softwar otp find fastest rout b find place within minut walk c answer question like mani peopl live within minut park r help r process multipl spatial dataset popul densiti park locat builtin journey planner packag allow use trip plan power otp analyt might r packag packag anyway opentripplann r packag make easier r opentripplann commun specif allow use r control otp use local rout servic local versu remot rout servic see transport chapter geocomput rhttpsgeocomprrobinlovelacenettransporthtml r rstudio rhttpswwwrprojectorg opensourc program languag free softwar environ statist comput graphic r mani capabl analys data write softwar context abil produc analys spatial data map relev rstudiohttpswwwrstudiocom integr develop environ ide r free person use r packag r packag small piec softwar extend basic capabl r bit like new phone thing box make phone call send email instal app add extra abil help r get start r see introduct rhttpscranrprojectorgdocmanualsrreleaserintropdf within r run helpstart introductori tutori datacamp free introduct r cours r tutor websitehttpwwwrtutorcomrintroduct geocomput rhttpsgeocomprrobinlovelacenet book cover packag skill requir analys spatial dataset produc opentripplann video tutori instal r rstudio machttpswwwyoutubecomwatchvcxn_xli windowshttpswwwyoutubecomwatchvrrkjqqyqi need get start need modern comput instal softwar use otp r local comput hardwar run trip planner comput expens best result modern desktop comput packag come demonstr data isl wight small area run modern laptop desktop recommend hardwar modern cpu later bit oper system windowsmaclinux gb ram gb hard disk minimum hardwar bit oper system windowsmaclinux gb ram otp requir least gb space run demonstr dataset default request gb lowend machin necessari chang default memori alloc minimis memori use programm larger area otp need memori approxim guid memori use gb small town region gb larg town citi gb region larg citi gb countri gb contin otp optimis cityscal rout perform degrad larger area although otp use success sever small european countri eg netherland note use bit version java maximum amount memori use otp gb softwar opentripplann r packag requir r download rhttpscranrprojectorgmirrorshtml select countri nearest avail countri rstudio download free versionhttpswwwrstudiocomproductsrstudiodownload person use rstudio essenti strongli recommend java note otp work later version java java download instal java need correct version oper system possibl bit version java prefer especi want use otp larg area packag includ simpl function check correct version java otp_check_java get java windowsmac httpswwwjavacomendownload link default bit version also check httpsjavacomendownloadmanualjsp linux recommend instruct stackoverflowhttpsaskubuntucomquestionsswitchbetweenmultiplejavavers debian base linux includ ubuntu linux mint follow command termin instal correct version eval fals sudo apt instal openjdkjdk next step instal java r go get start vignettehttpsdocsropensciorgopentripplannerarticlesopentripplannerhtml find instal packag creat graph use plan trip titl known issu author malcolm morgan date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentryopentripplannerknownissu vignetteengineknitrrmarkdown vignetteencodingutf vignett highlight known limit bug opentripplann well suggest solut get help report bug opentripplann otp user grouphttpsgroupsgooglecomforumforumopentripplannerus otp github issueshttpsgithubcomopentripplanneropentripplannerissu opentripplann r otp github issueshttpsgithubcomropensciopentripplannerissu reason graph build fail otp_build_graph function return log otp reason failur document log common problem includ cant alloc memori get error invalid maximum heap size specifi size exce maximum represent size memori argument otp_build_graph larg may set amount ram comput bit version java rather bit version instal ran memori graph build fail due lack memori increas memori alloc use memori argument otp_build_graph bad input data multipl input file eg gtf timet elev config file graph build fail tri remov pbf file see graph success build add file one time find file caus build fail reason rout fail find otp find rout common reason check start end far road network otp snap fromplac toplac coordin road network limit distanc point far road network eg lake middl park otp fail find rout mode specif limit otp support mode combin eg walk drive place may access certain mode exampl cant walk motorway drive path use debug layer check mode restrict maximum walk transit default otp cap maximum walk distanc transit stop low level area unreach transit increas maximum walk distanc get better result drive road cycleway tag known bug stop drive road cycl infrastructur httpsgroupsgooglecomforumtopicopentripplannerusersbovjksc multicor instabl get error error unserializesocklistn error read connect mean one parallel worker crash tri run rout smaller batch like code break rout batch put result list call routes_list bind togeth finish rout data frame routes_list list n splitnrowfromplac cutnrowfromplac fori val ni routes_sub otp_planotpcon fromplac fromplacev toplac toplacev routes_listi routes_sub rout dplyrbind_rowsroutes_list speed rout larg amount rout consid follow option use multicor rout use ncore argument otp_plan reduc area exampl rout one citi dont need whole countri graph remov unneed road use osmfilterhttpswikiopenstreetmaporgwikiosmfilt osmtoolshttpsgithubcomitsleedsosmtool exampl interest drive remov footpath cycleway simplifi graph provid small perform boost upgrad comput new fast cpu core rout faster gtf data uk see httpsgithubcomitsleedsukgtf elev data common geotiff data valu often maximum possibl valu otp misinterpret elev valu set data valu elev data someth plausibl like note otp support type geotiff compress may chang compress type imag experienc problem titl opentripplann get start author marcu young modifi malcolm morgan robin lovelac date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentryopentripplannergetstart vignetteengineknitrrmarkdown vignetteencodingutf introduct vignett introduct opentripplann otp opensourc crossplatform multimod rout planner written java use import openstreetmap osm data rout street path network support multiag public transport rout import gener transit feed specificationhttpsdevelopersgooglecomtransitgtf gtf feed also appli digit elev model osm street network allow exampl cyclefriendli rout request otp web frontend use endus sophist rout api otp work worldwid long osm map coverag area support transit timet elev calcul depend avail data inform get data see get data otphttpsdocsropensciorgopentripplannerarticlesopentripplannerhtmlgettingdataforotp section signific advantag run multimod rout planner abil carri analysi use amend transport data servic googl map transportapi base current public transport schedul exist road network otp enabl modifi transit schedul andor make chang underli street network edit local copi osm model effect open new road close road impos restrict also look back time exampl might want examin effect reduct rural bu servic access health facil would need network bu schedul previou year prerequisit need instal r rstudio java detail requir softwar see prerequisit vignettehttpsdocsropensciorgopentripplannerarticlesprerequisiteshtml includ packag instal instal stabl version packag cran follow r installcran evalfals installpackagesopentripplann instal packag libraryopentripplann load packag instal develop version github use remot packag r installgithub evalfals remotesinstall_githubropensciopentripplann instal packag libraryopentripplann load packag download otp demonstr data build exampl graph isl wight use exampl data provid packag graph otp use find rout must built raw data provid pleas note demo data modifi teach purpos use analysi creat folder store otp data otp expect data store specif structur see build otp graphhttpsdocsropensciorgopentripplannerarticlesopentripplannerhtmlbuildingyourownotpgraph detail make folder call otp temporari directori r evalfals path_data filepathtempdir otp dircreatepath_data may wish chang keep file close r otherwis need download file build graph everi time exampl r evalfals path_data filepathcuserspubl otp dircreatepath_data download otp version otp_dl_jar function download cach otp jar file simpli get path otp jar file like r evalfals path_otp otp_dl_jar otp_dl_jar first check intern cach jar file download unavail wish specifi locat jar file save version use r evalfals path_otp otp_dl_jarpath_data cach fals download exampl data otp_dl_demo function download demonstr data put correct structur r evalfals otp_dl_demopath_data build otp graph build graph code creat new file graphobj save locat defin path_data r evalfals log otp_build_graphotp path_otp dir path_data default r assign otp gb memori build graph larger area may need memori use memori argument set memori alloc mb exampl alloc gb would use r evalfals log otp_build_graphotp path_otp dir path_data memori note alloc memori ram use bit java alloc gb possibl run otp gb memori small area includ demo dataset launch otp load graph next step start otp server run router call default otp load graph creat memori abl plan multimod rout use web interfac run follow command r eval fals log otp_setupotp path_otp dir path_data otp builtin web server call grizzli run port http http anoth applic run comput use port need specifi altern port use port secureport option exampl r eval fals log otp_setupotp path_otp dir path_data port secureport take minut two otp load graph start grizzli server work see messag otp readi use r open web browser otp also access web interfac use url httplocalhost zoom isl wight area request rout set origin destin directli map rightclick mous specifi travel date time mode use trip option window see figur reffigotpgui chang background map layer stack icon top right r echo fals figaligncent figcaplabelfigotpguiotp web interfac knitrinclude_graphicsimagesotpwebguijpg note web interfac work correctli internet explor use firefox chrome connect otp r otp run comput let r connect otp otp_connect creat otp connect object allow r connect otp default local timezon use uk need specifi uk timezon get correct result demo data r eval fals otpcon otp_connecttimezon europelondon connect creat test messag return say connect exist use default set differ port specifi set otp_connect r eval fals otpcon otp_connecthostnam localhost router default port also use otp_connect function make connect otp remot server exampl digitransithttpsdigitransitfien run otp server finland see documentationhttpsdigitransitfiendevelop detail digitransit use nonstandard url structur api provid full url directli otp_connect see otp_connect help detail r eval fals otpcon otp_connecturl httpsapidigitransitfiroutingvroutershsl get rout otp use r get rout otp otp accept pair longitudelatitud coordin fromplac start journey toplac end journey r eval fals rout otp_planotpcon fromplac c toplac c tmap packag instal view rout use r eval fals installpackagestmap need dont tmap librarytmap load tmap packag tmap_modeview set tmap interact view qtmrout plot rout map stop otp otp run java continu run close r stop otp run use command note stop run java applic r eval fals otp_stop congratul multimod router planner build otp graph want build graph differ locat follow step chang path_data variabl folder data otp graph specifi everi locat region cover travel compil otp use osm data street path network use walk bicycl drive mode gtf data transit schedul first task creat folder file structur expect otp base directori call otp contain subdirectori call graph directori creat graph known otp router contain file requir build graph singl otp instanc host sever router exampl cover differ region basic file structur shown r enginebash evalfals otp top folder store otp data graph default subfold name router osmpbf requir osm road map routerconfigjson option config file buildconfigjson option config file gtfszip option gtf data demtif option elev data routerconfigjson read otp server start buildconfigjson read graph build stage inform config file see advanc featur vignettehttpsdocsropensciorgopentripplannerarticlesadvanced_featureshtml multipl router otp support multipl rout separ folder exampl r enginebash evalfals otp top folder store otp data graph london router call london osmpbf map london manchest router call manchest osmpbf map manchest multipl router may use support differ region differ scenario eg past present futur router requir graph via otp_build_graph one version otp jar file need ie otp_dl_jar rout must start via otp_setup use technic possibl run multipl router simultan recommend perform reason get data otp use otp local comput need data locat interest road public transport timet etc road map data otp use road map open street map osmhttpswwwopenstreetmaporg osm pbf formathttpswikiopenstreetmaporgwikiosm_file_format osm free map anybodi edit download part osm geofabrikhttpsdownloadgeofabrikd note otp realli need road network osm geofabrik download includ nonroad data build park water etc larg area may wish remov unneed data file build graph use osmconverthttpswikiopenstreetmaporgwikiosmconvert osmfilterhttpswikiopenstreetmaporgwikiosmfilt commandlin util edit larg osm file document osm wiki small area eg citi scale necessari public transport timet otp use public transport timet data gtf formathttpsdevelopersgooglecomtransitgtf find gtf data mani region transitlandhttpswwwtransitland user uk see ukgtfshttpsitsleedsgithubioukgtf elev data add terrain inform rout especi use walk cycl use geotiff imageshttpstracosgeoorggeotiff find worldwid elev data nasahttpswwwjplnasagovsrtm warn common geotiff data valu often maximum possibl valu otp misinterpret elev valu set data valu elev data someth plausibl like note otp support type geotiff compress may chang compress type imag experienc problem gener roxygen edit hand pleas edit document rotproutingoptionsr nameotp_routing_opt aliasotp_routing_opt titlemak routingopt object usag otp_routing_opt descript otp support wide select rout option otp_plan accept name list option function produc empti name list valid option support packag otp detail support almost possibl option otp note popular option mode date time etc set directli otp_plan want permenati set option mani support config file see help otp_make_config httpdevopentripplannerorgapidocresource_plannerresourcehtml exampl dontrun routingopt otp_routing_opt routingoptionswalkspe routingopt otp_validate_routing_optionsroutingopt seealso rout codelinkotp_geocod codelinkotp_isochron codelinkotp_plan codelinkotp_pointset codelinkotp_validate_routing_opt conceptrout gener roxygen edit hand pleas edit document rotpconnectr nameotp_connect aliasotp_connect titleset confirm connect otp instanc usag otp_connect hostnam localhost router default url null port ssl fals check true timezon systimezon otp_vers argument itemhostnamea string eg ecuswestcomputeamazonawscom option default localhost itemroutera string eg uk option default default otp support multipl router see advanc vignett detail itemurlif nonstandard url structur use provid full url default null itemporta posit integ option default itemssllog indic whether use http option default fals itemchecklog true connect object return otp instanc router confirm reachabl option default true itemtimezonecharact timezon default local timezon itemotp_versionnumer otp version use default check true otp_check_vers call otp_vers updat valu return object class otpconnect codecheck true router reachabl object return descript defin paramet requir connect router otp instanc requir confirm instanc router queryabl detail default url structur otp api httphostnameportotproutersrout exampl httplocalhostotproutersdefault function construct url paramet provid otpconnect object howev websit host otp modifi default url structur case use codeurl paramet bypass url construct provid fulli form url case codehostnam coderout codeport codessl ignor exampl dontrun otpcon otp_connect otpcon otp_connect router uk ssl true otpcon otp_connect hostnam ecuswestcomputeamazonawscom router uk port ssl true otpcon otp_connect url httpsapidigitransitfiroutingvroutershsl conceptconnect gener roxygen edit hand pleas edit document rotptraveltim nameotp_traveltim aliasotp_traveltim titleget travel time point usag otp_traveltim otpcon na path_data null fromplac na toplac na fromid null toid null mode car date_tim systim arrivebi fals maxwalkdist numitinerari routeopt null ncore timezon otpcontimezon argument itemotpconotp connect object produc otp_connect itempath_datapath data use otp_build_graph itemfromplacenumer vector longitudelatitud pair eg c column matrix longitudelatitud pair sf data frame point cr itemtoplacenumer vector longitudelatitud pair eg c column matrix longitudelatitud pair sf data frame point cr itemfromidcharact vector length fromplac itemtoidcharact vector length toplac itemmodecharact vector one mode travel valid valu transit walk bicycl car bu rail default car combin valid eg cwalkbu valid cwalkcar itemdate_timeposixct date time default current date time itemarrivebylog whether trip depart arriv specifi date time default fals itemmaxwalkdistancenumer pass otp metr itemnumitinerariesth maximum number possibl itinerari return itemrouteoptionsnam list valu pass otp use otp_route_opt make templat object itemncoresnumer number core use batch process default see detail itemtimezonecharact timezon use see asposixct default local timezon valu return data frame descript function requir otp x analyst detail make travel time matrix use analyst featur opt x seealso analyst codelinkotp_make_surfac conceptanalyst gener roxygen edit hand pleas edit document rotpsurfac nameotp_make_surfac aliasotp_make_surfac titlemak surfac usag otp_make_surfac otpcon null fromplac c mode car date_tim systim maxwalkdist arrivebi fals routeopt null timezon otpcontimezon argument itemotpconotp connect object produc otp_connect itemfromplacenumer vector longitudelatitud pair eg c column matrix longitudelatitud pair sf data frame point cr itemmodecharact vector one mode travel valid valu transit walk bicycl car bu rail subway tram ferri default car combin valid eg cwalkbu valid cwalkcar itemdate_timeposixct date time default current date time itemmaxwalkdistancenumer pass otp metr itemarrivebylog whether trip depart arriv specifi date time default fals itemrouteoptionsnam list valu pass otp use itemtimezonecharact timezon use see asposixct default local timezon valu return list inform surfac creat descript requir otp x analyst detail function requir analysi pointset featur enabl otp_setup thu work otp x detail see analyst vignett exampl dontrun surfac otp_make_surfaceotpcon c seealso analyst codelinkotp_traveltim conceptanalyst gener roxygen edit hand pleas edit document rotpsetupr nameotp_setup aliasotp_setup titleset otp instanc usag otp_setup otp null dir null memori router default port secureport analyst fals pointset fals wait true flagbit true quiet true otp_vers null open_brows true argument itemotpa charact string path otp jar file itemdira charact string path directori contain necessari file see detail itemmemorya posit integ amount memori assign otp mb default itemroutera charact name router use must subfold dirgraph default default see vignett detail itemporta posit integ option default itemsecureporta posit integ option default itemanalystlog analyst featur load default fals itempointsetslog pointset load default fals itemwaitlog r wait otp load run next line code default true itemflagbitlog true flag ad java instruct ignor otp_vers itemquietlog fals java command print consol itemotp_versionnumer version otp build default null version autodetect itemopen_browserlog true web browser load otp readi valu function return valu r wait true r wait otp run maximum minut minut wait fals function return r control otp keep load descript otp run java requir java command type command line function allow paramet defin r automat pass java function set local instanc otp remot version see document function assum run otp_build_graph detail run otp graph must creat use otp_build_graph follow file directori specifi dir variabl graph subdirectori default subdirectori name otp router use router variabl graphobj otp graph exampl dontrun otp_setup otp cotpotpjar dir cdata otp_setup otp cotpotpjar dir cdata memori analyst true seealso setup codelinkotp_build_graph codelinkotp_check_java codelinkotp_check_vers codelinkotp_dl_demo codelinkotp_dl_jar codelinkotp_make_config codelinkotp_stop codelinkotp_validate_config codelinkotp_write_config conceptsetup gener roxygen edit hand pleas edit document rotproutingoptionsr nameotp_validate_routing_opt aliasotp_validate_routing_opt titlevalid routingopt object usag otp_validate_routing_optionsopt argument itemoptsa name list option possibl otp_routing_opt descript otp support wide select rout option otp_plan accept name list option function valid name list input remov empti input detail support almost possibl option otp note popular option mode date time etc set directli otp_plan want permenati set option mani support config file see help otp_make_config httpdevopentripplannerorgapidocresource_plannerresourcehtml exampl dontrun routingopt otp_routing_opt routingoptionswalkspe routingopt otp_validate_routing_optionsroutingopt seealso rout codelinkotp_geocod codelinkotp_isochron codelinkotp_plan codelinkotp_pointset codelinkotp_routing_opt conceptrout gener roxygen edit hand pleas edit document rdatar doctypedata namejson_example_long_dr aliasjson_example_long_dr titleexampl json drive long distanc format json usag json_example_long_dr descript exampl json respons otp use intern test use keyworddataset gener roxygen edit hand pleas edit document rotpgeocod nameotp_geocod aliasotp_geocod titleus otp geocod find locat usag otp_geocod otpcon null queri null autocomplet fals stop true cluster fals corner true type sf argument itemotpconotp connect object produc otp_connect itemquerycharact queri string want geocod itemautocompletelog whether use queri string prefix match default fals itemstopslog search stop either name stop code default true itemclusterslog search cluster name default fals itemcornerslog search street corner use least one street name default true itemtypecharact result return sf coordin default sf valu return datafram sf point coordin locat match queri descript geocod convert name place street name lnglat pair detail otp return maximum result exampl dontrun locat otp_geocodeotpcon high street seealso rout codelinkotp_isochron codelinkotp_plan codelinkotp_pointset codelinkotp_routing_opt codelinkotp_validate_routing_opt conceptrout gener roxygen edit hand pleas edit document rotpsurfac nameotp_surfac aliasotp_surfac titleevalu surfac pointset usag otp_surfaceotpcon null surfac null pointsset null get_data true argument itemotpconotp connect object produc otp_connect itemsurfacea sufac list otp_make_surfac itempointssetcharact name pointset itemget_datalog data return travel time valu return datafram travel time descript geocod convert name place street name lnglat pair detail function requir analysi pointset featur enabl otp_setup thu work otp x detail see analyst vignett exampl dontrun time otp_surfaceotpcon c lsoa path_data gener roxygen edit hand pleas edit document rotpplanr nameotp_plan aliasotp_plan titleget get rout rout otp usag otp_plan otpcon na fromplac na toplac na fromid null toid null mode car date_tim systim arrivebi fals maxwalkdist numitinerari routeopt null full_elev fals get_geometri true ncore timezon otpcontimezon distance_bal fals get_elev fals argument itemotpconotp connect object produc otp_connect itemfromplacenumer vector longitudelatitud pair eg c column matrix longitudelatitud pair sf data frame point cr itemtoplacenumer vector longitudelatitud pair eg c column matrix longitudelatitud pair sf data frame point cr itemfromidcharact vector length fromplac itemtoidcharact vector length toplac itemmodecharact vector one mode travel valid valu transit walk bicycl car bu rail default car combin valid eg cwalkbu valid cwalkcar itemdate_timeposixct date time default current date time itemarrivebylog whether trip depart arriv specifi date time default fals itemmaxwalkdistancenumer pass otp metr itemnumitinerariesth maximum number possibl itinerari return itemrouteoptionsnam list valu pass otp use otp_route_opt make templat object itemfull_elevationlog full elev profil return default fals itemget_geometrylog rout geometri return default true see detail itemncoresnumer number core use batch process default see detail itemtimezonecharact timezon use see asposixct default local timezon itemdistance_balancelog use distanc balanc default fals see detail itemget_elevationlog default fals true xyz coordin return els xy coordin return valu return sf data frame linestr descript main rout function otp find singl multipl rout fromplac toplac detail function return sf datafram one row leg journey leg defin chang mode transit one rout option may return indic route_opt column number differ itinerari set numitinerari variabl batch rout pass matrix sf data frame object fromplac toplac otp_plan rout batch mode case ncore variabl use increas ncore enabl multicor rout max ncore number core system distanc balanc use multicor rout task take amount time result wast time batch distanc balanc sort rout euclidean distanc fromplac toplac rout offer small perform improv around five percent origin order input lost fromid toid must provid elev otp support elev data return elev profil rout avail otp return elev profil separ xy coordin mean direct match number xy point number z point otp also return elev profil first leg rout appear bug get_elev true otp_plan function match elev profil xy coordin return sf linestr xyz coordin requir detail elev profil full_elev paramet return nest datafram three column first second return otp distanc cumul distanc along rout deriv first rout geometri get_geometri provid option return rout geometri return metadata eg journey time may use creat origindestin matrix also provid small perform boost reduc process geometri exampl dontrun otpcon otp_connect otp_planotpcon c c otp_planotpcon c c mode cwalk transit otp_planotpcon c c mode bicycl arrivebi true date_tim asposixctstrptim ymd hm seealso rout codelinkotp_geocod codelinkotp_isochron codelinkotp_pointset codelinkotp_routing_opt codelinkotp_validate_routing_opt conceptrout gener roxygen edit hand pleas edit document ropentripplannerpackag doctypepackag nameopentripplannerpackag aliasopentripplann aliasopentripplannerpackag titleopentripplann r descript goal opentripplann r provid simpl r interfac opentripplann otp otp multimod trip plan servic seealso use link item item urlhttpsgithubcomropensciopentripplann item urlhttpsdocsropensciorgopentripplann item report bug urlhttpsgithubcomropensciopentripplannerissu author strongmaintain malcolm morgan emailmmorganleedsacuk hrefhttpsorcidorgorcid author item item marcu young emailmayoungsotonacuk hrefhttpsorcidorgorcid item robin lovelac emailrobxgmailcom hrefhttpsorcidorgorcid contributor item item layik hama emaillayikhamagmailcom hrefhttpsorcidorgorcid contributor keywordmulitmod keywordopentripplann keywordrout keywordtransport gener roxygen edit hand pleas edit document rotpsetupr nameotp_build_graph aliasotp_build_graph titlebuild otp graph usag otp_build_graph otp null dir null memori router default flagbit true quiet true otp_vers null argument itemotpa charact string path otp jar file itemdira charact string path directori contain necessari file see detail itemmemorya posit integ amount memori assign otp mb default itemroutera charact string name router must subfold dirgraph default default see vignett detail itemflagbitlog true flag ad java instruct ignor otp_vers itemquietlog fals java command print consol itemotp_versionnumer version otp build default null version autodetect valu charact vector messag produc otp return messag graph built success descript otp run java requir java command type command line function allow paramet defin r automat pass java function build otp graph open street map file detail otp jar file download httpsrepomavenorgmavenorgopentripplannerotp build otp graph requir follow file directori specifi dir variabl graph subdirectori default subdirectori name otp router use router variabl osmpbf requir pbf file contain open street map routerconfigjson requir json file contain configur set otp gtfszip option number gtf file transit timet terraintif option geotiff imag terrain map function accept file name jar file must jar file directori otp support multipl router eg differ region router must subdirectori graph directori exampl dontrun log otp_build_graphotp cotpotpjar dir cdata seealso setup codelinkotp_check_java codelinkotp_check_vers codelinkotp_dl_demo codelinkotp_dl_jar codelinkotp_make_config codelinkotp_setup codelinkotp_stop codelinkotp_validate_config codelinkotp_write_config conceptsetup gener roxygen edit hand pleas edit document rotpsurfac nameotp_pointset aliasotp_pointset titlecr pointset usag otp_pointsetpoint null name null dir null argument itempointssf data frame point cr itemnamecharact name pointset itemdira charact string path directori contain necessari file see detail valu return datafram sf point coordin locat match queri descript creat pointset detail otp return maximum result exampl dontrun locat otp_geocodeotpcon high street seealso rout codelinkotp_geocod codelinkotp_isochron codelinkotp_plan codelinkotp_routing_opt codelinkotp_validate_routing_opt conceptrout gener roxygen edit hand pleas edit document rotpconfigr nameotp_make_config aliasotp_make_config titlemak config object usag otp_make_configtyp argument itemtypewhich type config file creat otp build router descript otp configur use three json file otpconfigjson buildconfigjson routerconfigjson function creat name list config file popul default valu detail detail see httpdocsopentripplannerorgenlatestconfigur exampl conf otp_make_configbuild conf otp_make_configrout seealso setup codelinkotp_build_graph codelinkotp_check_java codelinkotp_check_vers codelinkotp_dl_demo codelinkotp_dl_jar codelinkotp_setup codelinkotp_stop codelinkotp_validate_config codelinkotp_write_config conceptsetup gener roxygen edit hand pleas edit document rdatar doctypedata namejson_example_dr aliasjson_example_dr titleexampl json drive format json usag json_example_dr descript exampl json respons otp use intern test use keyworddataset gener roxygen edit hand pleas edit document rotpdownloadr nameotp_dl_demo aliasotp_dl_demo titledownload demo data usag otp_dl_demo path_data null url pastehttpsgithubcomropensciopentripplann releasesdownloadisleofwightdemozip quiet fals argument itempath_datapath folder data otp store itemurlurl data itemquietlog pass downloadfil default fals descript download demonstr data isl wight exampl dontrun otp_dl_demotempdir seealso setup codelinkotp_build_graph codelinkotp_check_java codelinkotp_check_vers codelinkotp_dl_jar codelinkotp_make_config codelinkotp_setup codelinkotp_stop codelinkotp_validate_config codelinkotp_write_config conceptsetup gener roxygen edit hand pleas edit document rotpdownloadr nameotp_dl_jar aliasotp_dl_jar titledownload otp jar file usag otp_dl_jar path null version file_nam pasteotp version shadedjar url httpsrepomavenorgmavenorgopentripplannerotp quiet fals cach true argument itempathpath folder otp store itemversiona charact string version number default itemfile_namefil name give otp default otpjar itemurlurl download server itemquietlog pass downloadfil default fals itemcachelog default true see detail valu path otp file descript download otp jar file mavenorg detail version otp_dl_jar cach jar file within packag ignor path argument forc new download save path locat set cach fals exampl dontrun otp_dl_jartempdir seealso setup codelinkotp_build_graph codelinkotp_check_java codelinkotp_check_vers codelinkotp_dl_demo codelinkotp_make_config codelinkotp_setup codelinkotp_stop codelinkotp_validate_config codelinkotp_write_config conceptsetup gener roxygen edit hand pleas edit document rdatar doctypedata namejson_example_transit aliasjson_example_transit titleexampl json transit format json usag json_example_transit descript exampl json respons otp use intern test use keyworddataset gener roxygen edit hand pleas edit document rotpconfigr nameotp_write_config aliasotp_write_config titlewrit config object json file usag otp_write_configconfig dir null router default argument itemconfiga name list mademodifi otp_make_config itemdirpath folder data otp store itemrouternam router default default must subfold dirgraph descript take config list produc otp_make_config save json file otp exampl dontrun conf otp_make_configbuild otp_write_configconf dir tempdir seealso setup codelinkotp_build_graph codelinkotp_check_java codelinkotp_check_vers codelinkotp_dl_demo codelinkotp_dl_jar codelinkotp_make_config codelinkotp_setup codelinkotp_stop codelinkotp_validate_config conceptsetup gener roxygen edit hand pleas edit document rotpisochronebatchr nameotp_isochron aliasotp_isochron titleget isochron locat usag otp_isochron otpcon na fromplac na fromid null mode transit date_tim systim arrivebi fals maxwalkdist routingopt null cutoffsec c ncore timezon otpcontimezon argument itemotpconotp connect object produc otp_connect itemfromplacenumer vector longitudelatitud pair eg c column matrix longitudelatitud pair sf data frame point itemfromidcharact vector length fromplac itemmodecharact vector one mode travel valid valu transit walk bicycl car bu rail default car combin valid eg cwalkbu valid cwalkcar itemdate_timeposixct date time default current date time itemarrivebylog whether trip depart arriv specifi date time default fals itemmaxwalkdistancemaximum distanc walk metr itemroutingoptionsnam list pass otp see otp_routing_opt itemcutoffsecnumer vector number second defin break point isochron itemncoresnumb core use parallel process itemtimezonecharact timezon use default otpcon valu return sf datafram polygon descript get isochron locat detail isochron map equal travel time given locat map produc show long take reach locat isochron avail otp vx work v exampl dontrun isochron otp_isochroneotpcon fromplac c isochron otp_isochroneotpcon fromplac c mode cwalk transit cutoffsec c seealso rout codelinkotp_geocod codelinkotp_plan codelinkotp_pointset codelinkotp_routing_opt codelinkotp_validate_routing_opt conceptrout gener roxygen edit hand pleas edit document rotpconfigr nameotp_validate_config aliasotp_validate_config titlevalid config object usag otp_validate_configconfig type attributesconfigconfig_typ argument itemconfiga name list mademodifi otp_make_config itemtypetyp config file descript check list otp configur option valid detail perform basic valid check class maxmin valu etc appropri complex paramet check detail see httpdocsopentripplannerorgenlatestconfigur httpdevopentripplannerorgjavadocorgopentripplannerroutingcoreroutingrequesthtml exampl dontrun conf otp_make_configbuild otp_validate_configconf seealso setup codelinkotp_build_graph codelinkotp_check_java codelinkotp_check_vers codelinkotp_dl_demo codelinkotp_dl_jar codelinkotp_make_config codelinkotp_setup codelinkotp_stop codelinkotp_write_config conceptsetup gener roxygen edit hand pleas edit document rotpsetupr nameotp_stop aliasotp_stop titlestop otp instanc usag otp_stopwarn true kill_al true argument itemwarnlog get warn messag itemkill_alllog java instanc kill valu function return messag object descript otp run java requir java command type command line function allow paramet defin r automat pass java function stop alreadi run otp instanc detail function assum run otp_setup exampl dontrun otp_stopkill_al fals seealso setup codelinkotp_build_graph codelinkotp_check_java codelinkotp_check_vers codelinkotp_dl_demo codelinkotp_dl_jar codelinkotp_make_config codelinkotp_setup codelinkotp_validate_config codelinkotp_write_config conceptsetup gener roxygen edit hand pleas edit document rotpsurfac nameotp_surface_isochron aliasotp_surface_isochron titlemak isochron surfac usag otp_surface_isochroneotpcon null surfac null argument itemotpconotp connect object produc otp_connect itemsurfacea sufac list otp_make_surfac valu return datafram travel time descript geocod convert name place street name lnglat pair detail function requir analysi pointset featur enabl otp_setup thu work otp x detail see analyst vignett exampl dontrun time otp_surfaceotpcon c lsoa path_data gener roxygen edit hand pleas edit document rotpconnectr nameotp_check_vers aliasotp_check_vers titlecheck version otp server run usag otp_check_versionotpcon warn true argument itemotpconotpcon object otp_connect itemwarnlog true check otp version match content otpcon descript check version otp server run seealso setup codelinkotp_build_graph codelinkotp_check_java codelinkotp_dl_demo codelinkotp_dl_jar codelinkotp_make_config codelinkotp_setup codelinkotp_stop codelinkotp_validate_config codelinkotp_write_config conceptsetup gener roxygen edit hand pleas edit document rotpsetupr nameotp_check_java aliasotp_check_java titlecheck java version usag otp_check_javaotp_vers argument itemotp_versionnumer otp version number default descript check correct version java run otp local seealso setup codelinkotp_build_graph codelinkotp_check_vers codelinkotp_dl_demo codelinkotp_dl_jar codelinkotp_make_config codelinkotp_setup codelinkotp_stop codelinkotp_validate_config codelinkotp_write_config conceptsetup