contributor code conduct contributor maintain project pledg respect peopl contribut report issu post featur request updat document submit pull request patch activ commit make particip project harassmentfre experi everyon regardless level experi gender gender ident express sexual orient disabl person appear bodi size race ethnic age religion exampl unaccept behavior particip includ use sexual languag imageri derogatori comment person attack troll public privat harass insult unprofession conduct project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct project maintain follow code conduct may remov project team instanc abus harass otherwis unaccept behavior may report open issu contact one project maintain code conduct adapt contributor coven httpcontributorcovenantorg version avail httpcontributorcovenantorgvers readmemd gener readmermd pleas edit file rdh img srctoolslogopng alignright stylepaddingleftpxbackgroundcolorwhit project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact travisci build statushttpstravisciorgropenscirdhspngbranchmasterhttpstravisciorgropenscirdh codecoviohttpscodecoviogithubropenscirdhscoveragesvgbranchmasterhttpscodecoviogithubropenscirdhsbranchmast document via pkgdownhttpsgithubcomropenscirdhsrawmastertoolspkgdownshieldpnghttpsdocsropensciorgrdh cran downloadshttpscranlogsrpkgorgbadgesrdhshttpscranrprojectorgpackagerdh download rstudio mirrorhttpscranlogsrpkgorgbadgesgrandtotalrdhshttpswwwrpkgorgpkgrdh cran_status_badgehttpswwwrpkgorgbadgesversionrdhshttpscranrprojectorgpackagerdh ropenscihttpsbadgesropensciorg_statussvghttpsgithubcomropenscisoftwarereviewissu doihttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo motiv demograph health survey dh program collect popul survey data countri year mani countri dh provid key data mark progress toward target sustain develop goal sdg inform health polici though standard health indic routin publish survey final report much valu dh deriv abil download analys standard microdata dataset subgroup analysi pool multicountri analysi extend research studi suit tool within rdh improv access dataset statist analysi r aim support reproduc global health research simplifi common analyt pipelin question regard analys dh survey data pleas read dh websit data section first question pleas creat issuehttpsgithubcomropenscirdhsissu question realli like question help peopl post public issu may help other similar question rdh packag manag analysi demograph health survey dhshttpswwwdhsprogramcom data includ function access standard indic data ie dh statcompilerhttpswwwstatcompilercom r via dh apihttpsapidhsprogramcom identifi survey dataset relev particular analysi download survey dataset dh websitehttpsdhsprogramcomdataavailabledatasetscfm load dataset associ metadata r extract variabl combin dataset pool multisurvey analys instal instal latest version cranhttpscranrprojectorgpackagerdh use r installpackagesrdh also instal develop version rdh latest patch github r installpackagesdevtool devtoolsinstall_githubropenscirdh r load packag libraryrdh get start abl download survey dataset dh websit need set account dh websit enabl request access dataset instruct found herehttpsdhsprogramcomdataaccessinstructionscfm email password project name use creat account need provid rdh attempt download dataset request dataset access dh websit herehttpsdhsprogramcomdataaccessinstructionscfm full function describ tutori herehttpsdocsropensciorgrdhsarticlesintroductionhtml exampl workflow use rdh calcul trend anemia preval avail herehttpsdocsropensciorgrdhsarticlesanemiahtml basic function queri dh apihttpsapidhsprogramcom obtain survey estim malaria preval among children democrat republ congo tanzania last year sinc includ rapid diagnost test rdt r dhs_indicatorsindicatorid ml_pmal_c_rdt returnfieldscindicatorid shortnam shortnam indicatorid malaria preval accord rdt ml_pmal_c_rdt dhs_datacountryid ccdtz indicatorid ml_pmal_c_rdt surveyyearstart returnfieldscind surveyid valu surveyyearlabel countrynam indic surveyid surveyyearlabel valu malaria preval accord rdt cddh malaria preval accord rdt tzdh malaria preval accord rdt tzmi countrynam congo democrat republ tanzania tanzania identifi survey dataset obtain survey microdataset analyz indic queri surveycharacterist endpoint identifi survey characterist id malaria rdt test r call argument return characterst sc dhs_survey_characterist scgreplmalaria scsurveycharacteristicnam surveycharacteristicid surveycharacteristicnam malaria db malaria microscopi malaria rdt malaria bednet inventori use dhs_survey identifi survey countri year interest r countryid find use api request id dhs_countriesreturnfieldsccountrynam dhs_countrycod find survey match search criteria surv dhs_surveyssurveycharacteristicid countryid ccdtz surveyyearstart lastli identifi dataset requir download default recommend option download either spss sav fileformat sv flat file dat fileformat fl dataset flat quicker still one two old dataset dont read correctli wherea sav file slower read far dataset found dont read correctli household member recod pr report rdt statu children five r dataset dhs_datasetssurveyid survssurveyid fileformat fl filetyp pr strdataset datafram ob variabl fileformat chr flat ascii data dat flat ascii data dat flat ascii data dat files int datasettyp chr survey dataset survey dataset survey dataset surveynum int surveyid chr cddh tzdh tzmi filetyp chr household member recod household member recod household member recod filedatelastmodifi chr septemb septemb june surveytyp chr dh dh mi surveyyearlabel chr surveyyear chr dhs_countrycod chr cd tz tz filenam chr cdprflzip tzprbflzip tzpriflzip countrynam chr congo democrat republ tanzania tanzania download dataset go ahead download dataset abl download survey dataset dh websit need set account enabl request access dataset instruct found herehttpsdhsprogramcomdataaccessinstructionscfm email password project name use creat account need provid rdh attempt download dataset creat account need set credenti use function set_rdhs_config requir provid argument email project want download dataset prompt password also specifi directori dataset api call cach use cache_path order compli cran function also ask permiss write file outsid temporari directori must type filenam config_path rdhsjson see introduct vignettehttpsdocsropensciorgrdhsarticlesintroductionhtml specif format config set_rdhs_config r login set_rdhs_configemail rdhstestergmailcom project rdh r packag develop config_path rdhsjson global fals write configur rdhsjson path config save session set credenti set api request cach within cache_path directori provid return work remot poor internet connect r first time take second microbenchmarkmicrobenchmarkdhs_datasetssurveyyearstart time unit millisecond expr min lq mean median uq dhs_datasetssurveyyearstart max neval cach result avail instantli microbenchmarkmicrobenchmarkdhs_datasetssurveyyearstart time unit millisecond expr min lq mean median dhs_datasetssurveyyearstart uq max neval download dataset provid list desir dataset filenam r download dataset download get_datasetsdatasetsfilenam strdownload list cdprfl chr homeojcacherdhsdatasetscdprflrd tzprbfl chr homeojcacherdhsdatasetstzprbflrd tzprifl chr homeojcacherdhsdatasetstzpriflrd attr reformat logi fals load dataset r get_dataset function return vector file path save locat download dataset read use readrd r read first dataset cdpr readrdsdownloadscdprfl valu label store attribut column data frame use label class see havenlabel introduct vignett detail variabl label store label attribut extract variabl pool dataset client also cach variabl label quickli queri variabl survey without load dataset r rapid diagnost test search var search_variable_labelsdatasetsfilenam search_term malaria rapid test extract variabl dataset option geograph data may ad r extract data extract extract_dhsvar add_geo fals start survey surveyscdprfl start survey surveystzprbfl start survey surveystzprifl return object list extract dataset dataset extract altern specifi provid vector survey vector variabl name r grab question utilis survey variabl var search_variablesdatasetsfilenam variabl chvhml extract data extract extract_dhsvar add_geo fals start survey surveyscdprfl start survey surveystzprbfl start survey surveystzprifl final two dataset pool use function rbind_label function work specif list label datafram label specifi variabl hv label retain concaten hml label across dataset neg po r let tri second extract extract rbind_labelledextract label listhv concaten hml cneg po also option process download dataset label variabl code string rather label variabl specifi argument reformattru r identifi question specifi reformat argument question search_variablesdatasetsfilenam variabl chv hml reformattru extract data extract extract_dhsquest add_geo fals start survey surveyscdprfl start survey surveystzprbfl start survey surveystzprifl group result extract rbind_labelledextract hv variabl charact string decid whenhow factorlabel later strextract class dhs_dataset datafram ob variabl hv chr equateur equateur equateur equateur attr label chr provinc hml chr na na na na attr label chr result malaria rapid test surveyid chr cddh cddh cddh cddh dataset chr cdprfl cdprfl cdprfl cdprfl ropensci_footerhttpsropensciorgpublic_imagesropensci_footerpnghttpsropensciorg rdh refer intern access model_dataset rdhsmodel_dataset avoid error rdh namespac load rdh available_dataset patch rdh remov class dhs_dataset download micro data set class anywher creat error dplyr_v cach dataset need redownload updat clear dhs_dataset cla replac readlin brioread_lin make parser robust window encod issu similar httpsstackoverflowcomquestionsronwindowscharacterencodinghel use sf default download method download_boundari method sf add argument quiet_download quiet_pars true download_boundari quiet_download default fals control downloadfil messag quiet_pars default true control messag sfst_read method sf rdh add citat info new download_boundari download spatial boundari use new dhs_gps_data_format dh gp inform tibbl specifi correctli datafram format config creation window fix typo messag fix unzip_speci correctli detect gb file rdh address cran fail window new delabel_df convert label data frame charact rdh duplic label pars flat data file correct rdh extractionadd_geotru correct kenya survey geospati covari data set support correctli rdh new as_factorlabel backward compat label class model_dataset intern export dataset rdh new vignett country_cod document typo correct rdh new set_rdhs_config provid login credenti deprec set_dhs_credenti new get_rdhs_config show credenti current use rdh rdh permissionn user requir file save api request ignor cach respons forc true argument r dat dhs_countriesforc true get_datasetsclear_cach true clear cach avail dataset enabl newli request dataset download kaisero geojson object request api return geojson object map purpos eg r dhs_datacountryid sn surveyyearstart breakdown subnat returngeometri true f geojson convert spatial object sp geojsonioasjsond geojsoniogeojson_sp rdh new dhs_data dhs_countri api function dhs_x rdh authenticate_dh work short project name rdh new vignett anemia new read_dhs_flat read flat dataset rdh initi share feb th colleagu unc test environ windowslatest releas github action macoslatest releas github action ubuntu releas github action ubuntu devel github action r cmd check result rdh durat error warn note r cmd check succeed downstream depend nonstrong downstream depend titl rdh r packag interact demograph health survey dh program data set tag r dh api survey analysi author name oliv j watson orcid affili name jeffrey w eaton orcid x affili affili name mrc centr global infecti diseas analysi depart infecti diseas epidemiolog imperi colleg london index date th may bibliographi paperbib summari demograph health survey dh program collect dissemin popul survey data countri year mani countri dh provid key data mark progress toward target sustain develop goal sdg inform health polici detail trend child mortal silva characteris distribut malaria control intervent africa order map burden malaria sinc year bhatt though standard health indic routin publish survey final report much valu dh deriv abil download analys standard microdata dataset subgroup analysi pool multicountri analysi extend research studi analysi microdata dataset howev requir clean dataset contain desir inform one main challeng interact raw dh dataset isol requir dataset variabl across differ countri sinc dh program start phase questionnair use data phase recod consist compar across survey howev new question often includ ammend differ phase dh program result variabl name sometim chang differ phase well number countri specif record part model questionnair becom increasingli difficult identifi variabl use within final clean dataset rdh packag design facilit manag process dh survey data occur function api client allow access data provid within dh api help download raw dataset dh websit read convent r data structur overview packag provid suit tool follow access standard survey indic dh program api data includ summaris health indic avail dh web applic statcompil well addit data endpoint provid metadata conduct survey raw dataset identifi survey dataset includ particular topic indic relev particular analysi directli download survey dataset dh websit load dataset data dictionari r extract variabl pool harmon dataset multisurvey analysi function provid repres output convers numer research group global serv simplifi commonli requir analyt pipelin end result aim increas end user access raw data creat tool support reproduc global health research furthermor packag hope enabl research lower middl incom countri constitut major countri survey part dh program analys data without need proprietari softwar refer involv authent share usernamepassword api keystoken issu like maintain equival key youv updat file manroxygen directori make sure updat man file run devtoolsdocu similar rd file affect chang provid gener summari chang titl descript describ chang detail relat issu close issu make sure includ eg fix similar relat issu make sure mention like exampl introduc new featur chang behavior exist methodsfunct includ exampl possibl brief form rememb includ test unless your chang grammar pleas includ new test chang contribut fix typo small typo grammat error document may edit directli use github web interfac long chang made _source_ file ye edit roxygen comment r file r edit rd file man prerequisit make substanti pull request alway file issu make sure someon team agre problem youv found bug creat associ issu illustr bug minim reprexhttpswwwtidyverseorghelpreprex pull request process recommend creat git branch pull request pr look travi build statu make chang readm contain badg continu integr servic use packag recommend tidyvers style guidehttpstyletidyverseorg use stylerhttpscranrprojectorgpackagestyl packag appli style pleas dont restyl code noth pr use roxygenhttpscranrprojectorgpackageroxygen use testthathttpscranrprojectorgpackagetestthat contribut test case includ easier accept userfac chang add bullet top newsmd current develop version header describ chang made follow github usernam link relev issuespr write test requir download dataset order check contribut pass test needt abl run full test suit instruct found herehttpsropenscigithubiordhsarticlestestinghtml altern use packag ci travishttpstravisciorgropenscirdh see test suit pass test suit use encrypt rdhsjson config within packag root download dataset dataset avail download config view within available_test_suite_datasetscsv contribut need access dataset avail eg new dataset affect flat file parser open pr request dh websit code conduct pleas note rdh project releas contributor code conductconductmd contribut project agre abid term see ropensci contribut guidehttpsropenscigithubiodev_guidecontributingguidehtml detail prefer email email person list maintain descript file repo though note privat discuss email dont help other cours email total warrant sensit problem kind thank contribut contribut guid adapt tidyvers contribut guid avail httpsrawgithubusercontentcomrlibusethismasterinsttemplatestidycontributingmd involv authent share usernamepassword api keystoken issu like maintain equival key issu relat usag packag whether question bug similar along queri pleas past devtoolssession_info sessioninfo code block includ reproduc exampl consid use reprex httpscranrstudiocomwebpackagesreprex delet proceed detail summarystrongsess infostrongsummari r detail locat githubcomschloerkeleafletprovidersurlprotocol inspir taken httpsgithubcomleafletextrasleafletproviderscommitdeaafccbeafcaaafc use old rel url protocol upgrad js runtim note copypast provid inform providersjson js var provid ltilelayerproviderprovid jsonstringifyprovid null datarawprovidernamesr reran updat latest provid provid protocol turn allow browser pick protocol stop file protocol stay file ducktap patch appli ltilelayerprototypeiniti ltilelayerwmsprototypeiniti output rmarkdowngithub_docu readmemd gener readmermd pleas edit file r echo fals knitropts_chunkset collaps true comment figpath readm rdh img srctoolslogopng alignright stylepaddingleftpxbackgroundcolorwhit project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact travisci build statushttpstravisciorgropenscirdhspngbranchmasterhttpstravisciorgropenscirdh codecoviohttpscodecoviogithubropenscirdhscoveragesvgbranchmasterhttpscodecoviogithubropenscirdhsbranchmast document via pkgdownhttpsgithubcomropenscirdhsrawmastertoolspkgdownshieldpnghttpsdocsropensciorgrdh cran downloadshttpscranlogsrpkgorgbadgesrdhshttpscranrprojectorgpackagerdh download rstudio mirrorhttpscranlogsrpkgorgbadgesgrandtotalrdhshttpswwwrpkgorgpkgrdh cran_status_badgehttpswwwrpkgorgbadgesversionrdhshttpscranrprojectorgpackagerdh ropenscihttpsbadgesropensciorg_statussvghttpsgithubcomropenscisoftwarereviewissu doihttpszenodoorgbadgedoizenodosvghttpsdoiorgzenodo motiv demograph health survey dh program collect popul survey data countri year mani countri dh provid key data mark progress toward target sustain develop goal sdg inform health polici though standard health indic routin publish survey final report much valu dh deriv abil download analys standard microdata dataset subgroup analysi pool multicountri analysi extend research studi suit tool within rdh improv access dataset statist analysi r aim support reproduc global health research simplifi common analyt pipelin question regard analys dh survey data pleas read dh websit data section first question pleas creat issuehttpsgithubcomropenscirdhsissu question realli like question help peopl post public issu may help other similar question rdh packag manag analysi demograph health survey dhshttpswwwdhsprogramcom data includ function access standard indic data ie dh statcompilerhttpswwwstatcompilercom r via dh apihttpsapidhsprogramcom identifi survey dataset relev particular analysi download survey dataset dh websitehttpsdhsprogramcomdataavailabledatasetscfm load dataset associ metadata r extract variabl combin dataset pool multisurvey analys instal instal latest version cranhttpscranrprojectorgpackagerdh use r craninstal messagefals eval fals installpackagesrdh also instal develop version rdh latest patch github r gh_instal messagefals eval fals installpackagesdevtool devtoolsinstall_githubropenscirdh r load packag libraryrdh get start abl download survey dataset dh websit need set account dh websit enabl request access dataset instruct found herehttpsdhsprogramcomdataaccessinstructionscfm email password project name use creat account need provid rdh attempt download dataset request dataset access dh websit herehttpsdhsprogramcomdataaccessinstructionscfm full function describ tutori herehttpsdocsropensciorgrdhsarticlesintroductionhtml exampl workflow use rdh calcul trend anemia preval avail herehttpsdocsropensciorgrdhsarticlesanemiahtml basic function queri dh apihttpsapidhsprogramcom obtain survey estim malaria preval among children democrat republ congo tanzania last year sinc includ rapid diagnost test rdt r api messag fals dhs_indicatorsindicatorid ml_pmal_c_rdt returnfieldscindicatorid shortnam dhs_datacountryid ccdtz indicatorid ml_pmal_c_rdt surveyyearstart returnfieldscind surveyid valu surveyyearlabel countrynam identifi survey dataset obtain survey microdataset analyz indic queri surveycharacterist endpoint identifi survey characterist id malaria rdt test r sc call argument return characterst sc dhs_survey_characterist scgreplmalaria scsurveycharacteristicnam use dhs_survey identifi survey countri year interest r surv countryid find use api request id dhs_countriesreturnfieldsccountrynam dhs_countrycod find survey match search criteria surv dhs_surveyssurveycharacteristicid countryid ccdtz surveyyearstart lastli identifi dataset requir download default recommend option download either spss sav fileformat sv flat file dat fileformat fl dataset flat quicker still one two old dataset dont read correctli wherea sav file slower read far dataset found dont read correctli household member recod pr report rdt statu children five r dataset dhs_datasetssurveyid survssurveyid fileformat fl filetyp pr strdataset download dataset go ahead download dataset abl download survey dataset dh websit need set account enabl request access dataset instruct found herehttpsdhsprogramcomdataaccessinstructionscfm email password project name use creat account need provid rdh attempt download dataset creat account need set credenti use function set_rdhs_config requir provid argument email project want download dataset prompt password also specifi directori dataset api call cach use cache_path order compli cran function also ask permiss write file outsid temporari directori must type filenam config_path rdhsjson see introduct vignettehttpsdocsropensciorgrdhsarticlesintroductionhtml specif format config set_rdhs_config r client roption listrappdir_permiss true login set_rdhs_configemail rdhstestergmailcom project rdh r packag develop config_path rdhsjson global fals path config save session set credenti set api request cach within cache_path directori provid return work remot poor internet connect r client_api_cach first time take second microbenchmarkmicrobenchmarkdhs_datasetssurveyyearstart time cach result avail instantli microbenchmarkmicrobenchmarkdhs_datasetssurveyyearstart time download dataset provid list desir dataset filenam r download messagefals download dataset download get_datasetsdatasetsfilenam strdownload load dataset r get_dataset function return vector file path save locat download dataset read use readrd r read dataset read first dataset cdpr readrdsdownloadscdprfl valu label store attribut column data frame use label class see havenlabel introduct vignett detail variabl label store label attribut extract variabl pool dataset client also cach variabl label quickli queri variabl survey without load dataset r question rapid diagnost test search var search_variable_labelsdatasetsfilenam search_term malaria rapid test extract variabl dataset option geograph data may ad r extract_quest extract data extract extract_dhsvar add_geo fals return object list extract dataset dataset extract altern specifi provid vector survey vector variabl name r extract_vari grab question utilis survey variabl var search_variablesdatasetsfilenam variabl chvhml extract data extract extract_dhsvar add_geo fals final two dataset pool use function rbind_label function work specif list label datafram label specifi variabl hv label retain concaten hml label across dataset neg po r rbind_label let tri second extract extract rbind_labelledextract label listhv concaten hml cneg po also option process download dataset label variabl code string rather label variabl specifi argument reformattru r reformat identifi question specifi reformat argument question search_variablesdatasetsfilenam variabl chv hml reformattru extract data extract extract_dhsquest add_geo fals group result extract rbind_labelledextract hv variabl charact string decid whenhow factorlabel later strextract ropensci_footerhttpsropensciorgpublic_imagesropensci_footerpnghttpsropensciorg titl interact geojson api return author oj watson date output rmarkdownhtml_vignett vignett vignetteindexentryinteract geojson api result vignetteengineknitrrmarkdown vignetteencodingutf overview api return geojson object use quickli creat map dh indic data larg object though caus api return slowli much data return demonstr use packag leaflet geojson r load packag libraryrdh instal packag installpackagesgeojson installpackagesleaflet r make request dhs_datacountryid sn indicatorid fe_frtr_w_a surveyyearstart breakdown subnat returngeometri true f geojson convert sp geojsonioasjsond nc geojsoniogeojson_spm plot use leaflet pal leafletcolornumericviridi null leafletleafletncncindicatoridfe_frtr_w_a leafletaddtil leafletaddpolygonsstrok fals smoothfactor fillopac fillcolor pallogvalu label pastecharacteristiclabel formatcvalu bigmark leafletaddlegendp pal valu logvalu opac labformat leafletlabelformattransform functionx roundxtitl indic html_preservediv idhtmlwidgetcecddf stylewidthpxheightpx classleaflet htmlwidgetdiv script typeapplicationjson dataforhtmlwidgetcecddfxoptionscrscrsclasslcrsepsgcodenullprojdefnullprojectedboundsnulloptionscallsmethodaddtilesargsstileopenstreetmaporgzxypngnullnullminzoommaxzoomtilesizesubdomainsabcerrortileurltmsfalsenowrapfalsezoomoffsetzoomreversefalseopacityzindexdetectretinafalseattributioncopi hrefhttpopenstreetmaporgopenstreetmapa contributor hrefhttpcreativecommonsorglicensesbysaccbysaamethodaddpolygonsargslnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatlnglatnullnullinteractivetrueclassnamestrokefalsecolorfweightopacityfilltruefillcoloracaebdebfdedadcbcfecaffcadbfillopacitysmoothfactornoclipfalsenullnullnord gt ouest centr gt sud gt nord gt ouest centr gt sud gt nord gt ouest centr gt sud gt interactivefalsepermanentfalsedirectionautoopacityoffsettextsizepxtextonlyfalseclassnamestickytruenullmethodaddlegendargscolor c e ac ee fde labelsna_colornullna_labelnaopacitypositiontoprighttypenumerictitleag specif fertil rate extrap_p_nlayeridnullclassnameinfo legendgroupnulllimitslatlngevalsjshooksscripthtml_preserv titl anemia preval rdh exampl author oj watson jeff eaton date output rmarkdownhtml_vignett keep_md true vignett vignetteindexentryanemia preval among women rdh exampl vignetteengineknitrrmarkdown vignetteencodingutf anemia common caus fatigu women childbear age particularli high risk anemia packag rdh use compar estim preval anemia among women demograph health survey dh conduct armenia cambodia lesotho setup load rdh packag use packag analys data r devtoolsinstall_githubropenscirdh libraryrdh librarydatat libraryggplot librarysurvey libraryhaven use calcul indic statcompil anemia preval among women report core indic dh statcompil httpswwwstatcompilercom indic access directli r via dh api function dhs_data queri api list statcompil indic search indic anemia indic name api call return datafram object prefer use datat object convert afterward set within config use set_rdhs_config r libraryrdh set_rdhs_configdata_fram datatableasdatat indic dhs_indic tailindicatorsgreplanemia label indicatorid shortnam label indicatorid shortnam label cn_anmc_c_sev sever anemia gdl children sever anemia an_anem_w_ani women anemia an_anem_w_mld mild women mild anemia an_anem_w_mod moder women moder anemia an_anem_w_sev sever women sever anemia an_anem_m_ani anemia men anemia indic id an_anem_w_ani report percentag women anemia function dhs_data queri indic dataset valu indic three countri interest first use dhs_countri queri list dh countri identifi dh countri code countri r countri dhs_countri dhscc countriescountrynam carmenia cambodia lesotho dhs_countrycod dhscc kh ls queri indic dataset women anemia indic three countri r statcomp dhs_dataindicatorid an_anem_w_ani countryid dhscc statcompind countrynam surveyyear valu denominatorweight indic countrynam surveyyear valu denominatorweight women anemia armenia women anemia armenia women anemia armenia women anemia cambodia women anemia cambodia women anemia cambodia women anemia cambodia women anemia lesotho women anemia lesotho women anemia lesotho r ggplotstatcomp aessurveyyear valu colcountrynam geom_point geom_lin img srchttpsgithubcomropenscirdhsrawdevelopmentvignettesanemia_filesfigurehtmlunnamedchunkpng styledisplay block margin auto analys dh microdata identifi survey includ anemia test dh api provid facil filter survey accord particular characterist first queri list survey characterist identifi surveycharacteristicid indic survey includ anemia test first command queri api full list survey characterist second use grepl search surveycharacteristicnam includ word anemia r surveychar dhs_survey_characterist surveychargreplanemia surveycharacteristicnam ignorecasetru surveycharacteristicid surveycharacteristicnam anemia question anemia test surveycharacteristicid indic survey includ anemia test next queri api identifi survey characterist conduct countri interest r survey dhs_surveyssurveycharacteristicid countryid dhscc surveyssurveyid countrynam surveyyear numberofwomen surveynum fieldworkend surveyid countrynam surveyyear numberofwomen surveynum fieldworkend amdh armenia amdh armenia amdh armenia khdh cambodia khdh cambodia khdh cambodia khdh cambodia lsdh lesotho lsdh lesotho lsdh lesotho final queri api identifi individu recod ir survey dataset survey r dataset dhs_datasetssurveyid surveyssurveyid filetyp ir fileformatflat dataset surveyid surveynum filedatelastmodifi filenam surveyid surveynum filedatelastmodifi filenam amdh octob amirflzip amdh februari amirflzip amdh septemb amirflzip khdh octob khirflzip khdh octob khirflzip khdh octob khirflzip khdh juli khirflzip lsdh juli lsirflzip lsdh novemb lsirflzip lsdh june lsirflzip download dataset download dataset need first log dh account provid credenti set configur use set_rdhs_config requir provid argument email project want download dataset prompt password also specifi directori dataset api call cach use cache_path order compli cran function also ask permiss write file outsid temporari directori must type filenam config_path rdhsjson see introduct vignettehttpsdocsropensciorgrdhsarticlesintroductionhtml specif format config set_rdhs_config r set credenti set_rdhs_configemail jeffreyeatonimperialacuk project joint estim hiv epidem trend adult mortal function get_dataset return list file path desir dataset save cach first time dataset access rdh download dataset dh program websit use suppli credenti subsequ dataset simpli locat cach repositori r datasetspath unlistget_datasetsdatasetsfilenam log dh websit creat download url list dh websit identifi survey variabl anemia defin hemoglobin hb gdl nonpregn women hb gdl current pregnant womenhttpswwwmeasureevaluationorgprhrh_indicatorswomenshealthwomensnutritionpercentofwomenofreproductiveagewithanemia calcul anemia preval dh microdata must identifi dh recod survey variabl hemoglobin measur pregnanc statu could done consult dh recod manual map file accompani survey dataset conveni though r load first individu recod dataset search metadata variabl name correspond hemoglobin measur pregnanc statu r headsearch_variable_labelsdatasetsfilenam hemoglobin variabl v vc v v v hw_ descript household select hemoglobin read consent statement hemoglobin hemoglobin level gdl decim result measur hemoglobin hemoglobin level adjust altitud smoke gdl decim read consent statement hemoglobin variabl v record household select hemoglobin test variabl v report outcom hemoglobin measur v result altitud adjust hemoglobin level r ir readrdsdatasetspath tableas_factorirv select select r tableas_factorirv measur present refus measur found household miss r summaryirv min st qu median mean rd qu max na variabl v report current pregnanc statu use determin anemia threshold r search_variable_labelsdatasetsfilenam currentlypregn variabl descript v current pregnant v current pregnant r tableas_factorirv nodont know ye miss also keep number variabl relat survey design potenti interest covari countri code phase v cluster number v sampl weight v age v region v urbanrur resid v educ level v r var csurveyid countrynam surveyyear v v v v v v v v v v v extract survey data r datlst list fori nrowdataset iffileexistsdatasetspathi printpastei datasetssurveyidi ir readrdsdatasetspathi irsurveyid datasetssurveyidi ircountrynam datasetscountrynamei irsurveyyear datasetssurveyyeari datlstdatasetssurveyidi irvar amdh amdh amdh khdh khdh khdh khdh lsdh lsdh lsdh use rbind_label combin dataset label column argument label describ combin variabl level dataset v region provid consist set valu label use v current pregnant dataset r dat rbind_labelleddatlst label listv concaten v cnodont know l ye l miss l warn rbind_labelleddatlst label listv concaten v cnodont know l variabl nonmatch valu label v v v inherit label first data frame label r sapplydat islabel surveyid countrynam surveyyear v v v fals fals fals fals fals fals v v v v v v fals true true true true true v v dataset true true fals r datv zap_labelsdatv dat as_factordat data tabul good idea check basic tabul data especi survey identifi nuanc exploratori analysi variabl r withdat tablesurveyid v usenaifani v surveyid urban rural amdh amdh amdh khdh khdh khdh khdh lsdh lsdh lsdh r withdat tablesurveyid v usenaifani v surveyid educ primari secondari higher miss amdh amdh amdh khdh khdh khdh khdh lsdh lsdh lsdh r withdat tablesurveyid v usenaifani v surveyid nodont know ye miss na amdh amdh amdh khdh khdh khdh khdh lsdh lsdh lsdh r withdat tablesurveyid v usenaifani v surveyid measur present refus measur found hh amdh amdh amdh khdh khdh khdh khdh lsdh lsdh lsdh v surveyid miss na amdh amdh amdh khdh khdh khdh khdh lsdh lsdh lsdh r withdat tablev v usenaifani v v nodont know ye miss na select select calcul anemia preval creat indic variabl anemia threshold depend pregnanc statu r datvdatv na withdat tablev isnav v fals true measur present refus measur found hh miss r datanemia asintegerdatv ifelsedatv ye datanemia_denom asintegerisnadatanemia specifi survey design use survey packag r datw datv de svydesignvsurveyid datadat weightsw anemia_prev svybyanemia surveyid de svyciprop narmtru vartypeci anemia_denom svybyanemia_denom surveyid de svytot narmtru anemia_prev mergeanemia_prev anemia_denomcsurveyid anemia_denom re statcompsurveyid countrynam surveyyear valu denominatorunweight denominatorweightedanemia_prev onsurveyid resanemia resanemia resci_l resci_l resci_u resci_u resanemia_denom roundresanemia_denom tabl compar preval anemia calcul survey microdata estim dh statcompil weight denomin calcul estim ident case small differ iron requir look specif countri check stratif carri hope bring featur dh program compil sampl strata construct studi r knitrkablerescountrynam surveyyear valu anemia ci_l ci_u denominatorweight anemia_denom digit countrynam surveyyear valu anemia ci_l ci_u denominatorweight anemia_denom armenia armenia armenia cambodia cambodia cambodia cambodia lesotho lesotho lesotho r ggplotr aesxsurveyyear yanemia yminci_l ymaxci_u colcountrynam fillcountrynam geom_ribbonalpha linetypeblank geom_point geom_lin img srchttpsgithubcomropenscirdhsrawdevelopmentvignettesanemia_filesfigurehtmlunnamedchunkpng styledisplay block margin auto regress analysi relationship educ anemia key use survey microdata conduct secondari analysi pool data sever survey regress analysi investig relationship anemia preval educ level v women use logist regress adjust urbanrur v fix effect survey r de updated v relevelv primari summarysvyglmanemia surveyid v v de familybinomi warn evalfamilyiniti noninteg success binomi glm call svyglmformula anemia surveyid v v de famili binomi survey design updated v relevelv primari coeffici estim std error valu prt intercept e surveyidamdh e surveyidamdh surveyidkhdh e surveyidkhdh e surveyidkhdh e surveyidkhdh e surveyidlsdh e surveyidlsdh e surveyidlsdh e vrural vno educ e vsecondari e vhigher e signif code dispers paramet binomi famili taken number fisher score iter result suggest anemia preval lower among women higher educ titl countri name code author oj watson date output rmarkdownhtml_vignett vignett vignetteindexentrycountri code vignetteengineknitrrmarkdown vignetteencodingutf overview follow show return tabl countri name letter code get inform queri api use dhs_countri specifi returnfield argument return countri name dh countri code use refer tabl want pass countri id number api function eg dhs_datacountryid bj r libraryrdh countryid id dhs_countriesreturnfieldsccountrynam dhs_countrycod id dhs_countrycod countrynam af afghanistan al albania ao angola armenia az azerbaijan bd bangladesh bj benin bo bolivia bt botswana br brazil bf burkina faso bu burundi kh cambodia cm cameroon cv cape verd cf central african republ td chad co colombia km comoro cg congo cd congo democrat republ ci cote divoir dr dominican republ ec ecuador eg egypt es el salvador ek equatori guinea er eritrea et ethiopia ga gabon gm gambia gh ghana gu guatemala gn guinea gy guyana ht haiti hn hondura ia india id indonesia jo jordan kk kazakhstan ke kenya ky kyrgyz republ la lao peopl democrat republ ls lesotho lb liberia md madagascar mw malawi mv maldiv ml mali mr mauritania mx mexico mb moldova morocco mz mozambiqu mm myanmar nm namibia np nepal nc nicaragua ni niger ng nigeria pk pakistan pg papua new guinea py paraguay pe peru ph philippin rw rwanda ws samoa st sao tome princip sn seneg sl sierra leon za south africa lk sri lanka sd sudan sz swaziland tj tajikistan tz tanzania th thailand tl timorlest tg togo tt trinidad tobago tn tunisia tr turkey tm turkmenistan ug uganda ua ukrain uz uzbekistan vn vietnam ye yemen zm zambia zw zimbabw dhs_countrycod countrynam titl toolkit author oj watson date output rmarkdownhtml_vignett vignett vignetteindexentrytoolkit vignetteengineknitrrmarkdown vignetteencodingutf overview follow longer need cran version work vignett still though case need noncran pacakg futur order instal rdh requir work develop environ follow guid detail across differ oper system pleas note temporari wait develop version make cran apolog inconveni window instal rtoolshttpscranrprojectorgbinwindowsrtool help instal rtool pleas see follow guidehttpscranrprojectorgbinwindowsrtool pay particular attent section ad rtool system path order find version rtool need check version r run found use sessioninfo function r sessioninfo r version platform x_wmingwx bit run window x build servic pack mac instal xcode mac app store linux instal compil variou develop librari detail vari across differ flavor linux work develop environ readi follow work r installpackagesdevtool devtoolsinstall_githubropenscirdh libraryrdh titl use rdh author oj watson jeff eaton date output rmarkdownhtml_vignett vignett vignetteindexentryhow use rdh vignetteengineknitrrmarkdown vignetteencodingutf overview rdh packag manag analysi demograph health survey dhshttpswwwdhsprogramcom data includ function access standard indic data ie dh statcompilerhttpswwwstatcompilercom r via dh apihttpsapidhsprogramcom identifi survey dataset relev particular analysi download survey dataset dh websitehttpsdhsprogramcomdataavailabledatasetscfm load dataset associ metadata r extract variabl combin dataset pool multisurvey analys process describ cover function need work dataset instal instal rdh github devtool r installpackagesdevtool devtoolsinstall_githubropenscirdh libraryrdh start tutori wish download survey dataset dh websit need set account dh websit enabl request access dataset instruct found herehttpsdhsprogramcomdataaccessinstructionscfm email password project name use creat account need provid rdh attempt download dataset still interact dh api section without account dh websit howev need creat account wish go step access standard indic data via api dh programm publish api give access number differ data set repres one dh api endpoint eg httpsapidhsprogramcomrestdhstag httpsapidhsprogramcomrestdhssurvey data set includ standard health indic avail within dh statcompilerhttpswwwstatcompilercom well seri meta data set describ type survey conduct well raw dataset file avail survey data set describ within dh api websitehttpsapidhsprogramcom current differ data set avail api data set access use anyon dhs_ function export function within rdh start dhs_ interact differ data set dh apihttpsapidhsprogramcom websit give great inform differ search term filter use tri includ within document function data set one function dhs_data interact publish set standard health indic data calcul dh data set contain set health indic sampl weight give countri subnat estim refin educ wealth bracket use dhs_data function either search specif indic queri indic tag within specif area r indic indic dhs_indic indic definit agespecif fertil rate three year preced survey age group express per women numberscal indicatortyp measurementtyp isquickstat shortnam rate asfr indicatorid level indicatortotalid level level fe_frtr_w_a fertil fertil rate women sdrid indicatoroldid tagid denominatorweightedid fefrtrwa label indicatorord age specif fertil rate denomin per thousand women year expos period month prior interview quickstatord indicatorspecialid denominatorunweightedid indicatorspecialid call dh api return datafram default result avail default dh uniqu indicatorid statist calcul definit specif string indic includ within indicatorid definit variabl r grab first alphabet indicatorsorderindicatorsindicatoridcindicatorid definit indicatorid ah_ciga_m_unw ah_ciga_w_p ah_ciga_w_c ah_ciga_w_c ah_ciga_w_c definit number men smoke cigarett unweight percentag women smoke cigarett preced hour percentag women smoke cigarett preced hour percentag women smoke cigarett preced hour percentag women smoke cigarett preced hour sinc quit lot indic might easier first queri tag dh tag indic area demographi health relat eg anaemia literaci malaria parasitaemia specif tag first let look tag interact dhs_tag function grab data relat malaria parasitaemia drc tanzania sinc r tag tag dhs_tag let say want view tag relat malaria tagsgreplmalaria tagstagnam tagtyp tagnam tagid tagord malaria parasitemia select malaria indic r let grab data specifi countryid survey year start data dhs_datatagid countryid ccdtzbreakdownsubnationalsurveyyearstart data dataid indic surveyid ispref valu malaria preval accord rdt cddh sdrid precis regionid surveyyearlabel surveytyp mlpmalcrdt cddh dh surveyyear indicatorord dhs_countrycod cilow cd countrynam indicatortyp characteristicid congo democrat republ characteristiccategori indicatorid characteristicord region ml_pmal_c_rdt characteristiclabel byvariablelabel denominatorunweight kinshasa denominatorweight cihigh istot byvariableid depend analysi mayb enough detail also worth mention data also access via dh statcompilerhttpswwwstatcompilercom prefer click collect version howev hope one see select lot differ indic multipl countri breakdown lot easier use rdh api interact exampl quickli find trend antimalari use africa see perhap antimalari prescript decreas rdt introduc assum r make api request resp dhs_dataindicatorid ml_fevt_c_aml surveyyearstart breakdown subnat filter countri space countri cangolaghanakenyaliberia madagascarmalimalawinigeria rwandasierra leonesenegaltanzania plot result libraryggplot ggplotresprespcountrynam countri aesxsurveyyearyvaluecolourcountrynam geom_point geom_smoothmethod glm themeaxistextx element_textangl vjust ylabrespind facet_wrapcountrynamencol img srchttpsgithubcomojwatsonrdhsrawdevelopmentvignettesintroduction_filesfigurehtmlunnamedchunkpng styledisplay block margin auto incorrectli enter filter queri possibl rdh let us know request invalid r make api request resp dhs_dataindicatoridsml_fevt_c_amasfafasfl surveyyearstart breakdownsubpartyp error timeout_safe_requesturl timeout encod json api timeout error respons second either increas timeout use set_rdhs_configtimeout check api check httpsapidhsprogramcomrestdhsdataupd identifi survey relev analysi may howev wish nuanc analysi api allow follow section detail basic exampl quickli identifi download extract dataset interest let say want get dh survey data democrat republ congo tanzania last year sinc cover use rapid diagnost test rdt malaria begin well interact dh api identifi dataset start extract well queri surveycharacterist data set use dhs_survey_characterist function r make call argument sc dhs_survey_characterist scgreplmalaria scsurveycharacteristicnam surveycharacteristicid surveycharacteristicnam malaria db malaria microscopi malaria rdt malaria modul malariabednet question differ survey characterist one specif survey characterist malaria rdt well use find survey includ characterist also point filter desir countri year dh api allow countri filter use countryid one argument dhs_survey look countri countryid use anoth api function r countryid id dhs_countriesreturnfieldsccountrynam dhs_countrycod strid class datat datafram ob variabl dhs_countrycod chr af al ao countrynam chr afghanistan albania angola armenia attr internalselfrefexternalptr r let find survey fit search criteria surv dhs_surveyssurveycharacteristicid countryid ccdtz surveytyp dh surveyyearstart lastli use find dataset want download let download flat file dat dataset look dhs_dataset document argument option fileformat abbrevi etc dataset dhs_datasetssurveyid survssurveyid fileformat flat strdataset class datat datafram ob variabl fileformat chr flat ascii data dat flat ascii data dat flat ascii data dat flat ascii data dat files int datasettyp chr hiv dataset survey dataset survey dataset survey dataset surveynum int surveyid chr cddh cddh cddh cddh filetyp chr hiv test result recod birth recod coupl recod household recod filedatelastmodifi chr novemb novemb novemb septemb surveyyearlabel chr surveytyp chr dh dh dh dh surveyyear int dhs_countrycod chr cd cd cd cd filenam chr cdarflzip cdbrflzip cdcrflzip cdhrflzip countrynam chr congo democrat republ congo democrat republ congo democrat republ congo democrat republ attr internalselfrefexternalptr lastli recommend download either spss sav fileformat sv flat file dat fileformat fl dataset flat quicker still one two dataset dont read correctli wherea sav file slower read far dataset found dont read correctli use download dataset analysi download survey dataset go ahead download dataset abl download survey dataset dh websit need set account enabl request access dataset instruct found herehttpsdhsprogramcomdataaccessinstructionscfm email password project name use creat account need provid rdh attempt download dataset creat account need set credenti use function set_rdhs_config requir provid argument email project want download dataset prompt password also specifi directori dataset api call cach use cache_path provid argument cache_path prompt provid permiss rdh save dataset api call within user cach directori oper system compli cran request permiss grant write system file grant permiss written within r temporari directori saw first use one function queri api similarli also provid argument config_path save within temp directori unless permiss grant config file alway call rdhsjson rdh find easili r set credenti set_rdhs_configemail rdhstestergmailcom project test malaria investig write configur homeojcacherdhsrdhsjson ad homeojcacherdhsrdhsjson gitignor may one project set dh websit may want separ directori set dataset thu need set differ config file need set local config file achiev set global param fals ie global also need provid config_path argument must rdhsjson order compli cran type rather default option r set credenti set_rdhs_configemail rdhstestergmailcom project test malaria investig config_path rdhsjson cache_path project_on global fals write configur rdhsjson may howev differ project dh websit case may prefer set one global config file want save user cach directori set global true default save r default launch directori must rdhsjson realli differ save rdhsjson vs user cach directori might want somewher easi find etc r set credenti set_rdhs_configemail rdhstestergmailcom project test malaria investig config_path rdhsjson global true write configur rdhsjson use set_rdhs_config rdh tri find config file next use rdh differ r session first look local rdhsjson global rdhsjson user cach directori lastli creat one temp directori happen first use one api function config creat queri api initi abl download dataset lastli wish return datat api request rather datafram chang default behaviour use data_fram argument could also use convert tibbl r set credenti set_rdhs_configemail rdhstestergmailcom project test malaria investig config_path rdhsjson data_fram datatableasdatat global true write configur rdhsjson see config use rdh point use get_rdhs_config view config set download dataset worth mention set login credenti api call cach within cach directori use allow work remot without good internet connect abl still return previou api request api request still cach within temp directori quick return second time delet start new r session r first time call function rdh make api request microbenchmarkmicrobenchmarkdhs_surveyssurveyyear time unit millisecond expr min lq mean median dhs_surveyssurveyyear uq max neval r cach return much quicker microbenchmarkmicrobenchmarkdhs_surveyssurveyyear time unit millisecond expr min lq mean median dhs_surveyssurveyyear uq max neval back dataset download look back dataset object well see dataset list howev relev malaria rdt question one approach head dh websit look dh recodeshttpsdhsprogramcompublicationspublicationdhsgdhsquestionnairesandmanualscfm look recod relat survey altern download survey queri variabl within well demonstr also demonstr packag function first download dataset r download dataset download get_datasetsdatasetsfilenam function return list file path download dataset save default file download quietli ie progress shown howev want see progress control set config use verbose_download argument load dataset associ metadata r examin actual download read one dataset r read dataset cdpr readrdsdownloadscdprfl dataset return contain survey question within dataset dataset default store label class packagehttpsgithubcomtidyversehaven class preserv origin semant easili coerc factor havenas_factor special miss valu also preserv info label class look github look return variabl hv r headcdprhv label integ provinc label valu label kinshasa bandundu bascongo equateur kasaioccident kasaiorient katanga maniema nordkivu oriental sudkivu r dataset classcdprhv haven_label want get data dictionari dataset use function get_variable_label return question variabl dataset refer r let look variable_nam headget_variable_labelscdpr variabl descript hhid case identif hvidx line number hv countri code phase hv cluster number hv household number hv respond line number answer household questionnair mani survey respons give enough inform us understand data howev question may less clear exactli question mean may differ similar question case dh websit publish lot infrmat survey protocol survey strongli advis peopl look dh websit document use dataset analysi sectionhttpswwwdhsprogramcomdatausingdatasetsforanalysiscfm well recod fileshttpswwwdhsprogramcompublicationspublicationdhsgdhsquestionnairesandmanualscfm understand survey carri saw default behaviour function get_dataset download dataset read save result datafram rd object within cach directori control behaviour use download_opt argument get_datasetsdownload_opt zip download zip save get_datasetsdownload_opt rd read rd save get_datasetsdownload_opt zip download save well read rd main reason read dataset straight away default option rdh also creat tabl survey variabl label definit cach allow us quickli queri particular search term survey variabl r rapid diagnost test search question search_variable_labelsdatasetsfilenam search_term malaria rapid test tablequestionsdataset_filenam cdhrfl cdprfl tzhrafl tzprafl see question question result malaria rapid test appear differ dataset household member recod dataset cdprsv tzprasv store inform children household one row per child wherea household recod cdhrsv tzhrasv store inform household thu flatten inform child differ subvari hml etc easier extract inform household member recod extract variabl combin dataset pool multisurvey analys extract data pass question object function extract_dh creat list dataset extract data datafram also option add geograph data avail download geograph data file add data result extract r let use pr file thu dataset dhs_datasetssurveyid survssurveyid fileformat fl filetyp pr download get_datasetsdatasetsfilenam grab question along also question detail provinc question search_variable_labelsdatasetsfilenam search_term cmalaria rapid test extract data extract extract_dhsquest add_geo fals extract look like strextract list cdprflclass dhs_dataset datafram ob variabl hml haven_label int na na na na na na na na attr label chr result malaria rapid test attr label name int attr name chr neg posit miss surveyid chr cddh cddh cddh cddh tzpraflclass dhs_dataset datafram ob variabl hml haven_label int na na na na na na na na na attr label chr result malaria rapid test attr label name int attr name chr neg posit miss surveyid chr tzdh tzdh tzdh tzdh result extract list new element differ dataset extract respons dataset default store label class packagehttpsgithubcomtidyversehaven also queri dataset survey question variabl exampl survey variabl label result malaria rapid test variabl hml knew survey variabl want either look recod file look variable_nam includ dataset could search let grab region use hv use client function search_vari r grab question utilis survey variabl question search_variablesdatasetsfilenam variabl chvhml extract data extract extract_dhsquest add_geo fals quick check headextractcdprfl hv hml surveyid na cddh na cddh na cddh na cddh na cddh na cddh r headextracttzprafl hv hml surveyid na tzdh na tzdh na tzdh na tzdh na tzdh na tzdh r prove hml actual read okay lot na tableextractcdprflhmlusena alway na combin two datafram analysi use rdh packag function rbind_label function work specif list label datafram r first let bind first extract without hv extract_bound rbind_labelledextract headextract_bound hml surveyid dataset cdprfl na cddh cdprfl cdprfl na cddh cdprfl cdprfl na cddh cdprfl cdprfl na cddh cdprfl cdprfl na cddh cdprfl cdprfl na cddh cdprfl r let tri second extract extract_bound rbind_labelledextract warn rbind_labelledextract variabl nonmatch valu label hv inherit label first data frame label hasnt quit done might want second instanc hv variabl store region countri thu label differ two without specifi addit argument rbind_label simpli use first datafram label default mean tanzanian provinc encod drc provinc good similar problem natur say tri add new charact string factor datafram work around firstli specifi label argument function detail handl differ variabl label name list specifi handl variabl simpli want keep label us string concaten r let tri concaten hv better_bound rbind_labelledextract label listhvconcaten headbetter_boundhv label integ label valu label arusha bandundu bascongo dar es salaam dodoma equateur geita iringa kagera kasaioccident kasaiorient kaskazini pemba kaskazini unguja katanga katavi kigoma kilimanjaro kinshasa kusini pemba kusini unguja lindi maniema manyara mara mbeya mjini magharibi morogoro mtwara mwanza njomb nordkivu oriental pwani rukwa ruvuma shinyanga simiyu singida sudkivu tabora tanga could also specifi new label variabl exampl imagin two dataset encod rdt respons differ first one cnoy cnegativeposit would purpos respons could either leav result would use cnoy label may want use latter informativecorrect may want crystal clear use cnegativetestpositivetest like r let tri concaten hv provid new label better_bound rbind_label extract label listhvconcaten hmlcnegativetest positivetest new label headbetter_boundhml label integ result malaria rapid test na na na na na na label valu label negativetest positivetest option use label class control download dataset use argument reformattru ensur factor label use raw data option set object return get_dataset longer label class factor howev still recov variabl tabl dataset use get_variable_label take dataset output get_dataset return datafram describ survey question variabl definit r download dataset reformat argument download get_datasetsdatasetsfilenam reformattru grab question specifi reformat argument question search_variablesdatasetsfilenam variabl chv hml reformattru extract data extract extract_dhsquest add_geo fals group result bound_no_label rbind_labelledextract hv look like classbound_no_labelshv charact hv column charact possibl best option depend downstream analysisprefer reason geograph data ad never turn factor label lastli use extract dataset carri regress analysi investig relationship malaria preval qualiti wall materi need first grab sampl weight stratif survey along extra variabl check rdt preval calcul use raw data versu api r grab addit variabl hv hv strata weight respect hc age question search_variablesdatasetsfilenamevari chvhvhvhvhv hvhvhml hchml extract extract_dhsquestionstru concaten provinc remov miss respons dat rbind_labelledextractionlabelslisthvconcatenatehvconcaten dat datwhichdathml remov miss respons go compar extract api malaria preval rdt month dat datwhichdathc dathc creat denomin respons hml dathmldenom asintegerisnadathml datbrick dathv c datnet aslogicaldathml specifi strata sampl weight datstrata pastedathvdatdataset dathv dathv construct survey design use survey pacakg librarysurvey construct sampl design calcul mean total de surveysvydesignclusterdatasetdatadatweighthv result cbindsurveysvybyhmlbydhsregnadataset de surveysvycipropnarmtru surveysvybyhmldenombydhsregnadataset de surveysvytotalnarmtru result resultsorderresultsdataset grab data api dhs_api_data dhs_datacountryid ccdtzindicatorid ml_pmal_c_rdtbreakdown subnationalsurveyyearstart surveyyearend dhs_api_data cbinddhs_api_datavaluedhs_api_datadenominatorweighteddhs_api_datacharacteristiclabel dhs_api_datasurveyid api dhs_api_datagrepldhs_api_data remov subregion includ tanzania api apiorderapplyapipastecollaps bind result remov duplic region column comparison cbindresultscapi namescomparison cregionsurvey_rdt_prevsurvey_rdt_denomapi_rdt_prevapi_rdt_denomapi_regionssurveyid headcomparisonc region survey_rdt_prev api_rdt_prev bandunducdprfl bandundu bascongocdprfl bascongo equateurcdprfl equateur kasaioccidentalcdprfl kasaioccident kasaiorientalcdprfl kasaiorient katangacdprfl katanga survey_rdt_denom api_rdt_denom surveyid bandunducdprfl cddh bascongocdprfl cddh equateurcdprfl cddh kasaioccidentalcdprfl cddh kasaiorientalcdprfl cddh katangacdprfl cddh littl mean valu differ due mayb specif cut use term age includ within varianc could also due specif stratif dh program use well potenti group primari sampl unit hope get inform dh survey make process streamlin end user lastli construct logist regress investig relationship posit malaria rdt whether main wall individu hous made brick similar adjust urbanrur hv fix effect survey r contsruct glm use svyglm specifi quasibinomi handl na hml summarysvyglmhml dataset hv net brick de familyquasibinomi call svyglmformula hml dataset hv net brick design de famili quasibinomi survey design surveysvydesignclust dataset data dat weight hv coeffici estim std error valu prt intercept e datasettzprafl e hv e nettru brickstru e signif code dispers paramet quasibinomi famili taken number fisher score iter see signific neg gradient associ wall made brick similarli good materi comparison malaria posit rate rdt also interest whether individu slept long last insecticid net hml convert net signific summari thought hope tutori shown rdh packag facilit queri dh api hope make download interact raw dataset smoother reproduc process worth bear mind though creat harmonis dataset alway easi exampl lot time survey variabl differ across year survey hope survey_quest function make easier first filter includ relev question decid survey question valid suggest commentscorrectionserrorsidea pleas let know either issu send email owatsonimperialacuk function think would use also let know titl download shape file dh survey author oj watson date output rmarkdownhtml_vignett vignett vignetteindexentrydownload shape file dh survey vignetteengineknitrrmarkdown vignetteencodingutf overview rdh use download shape file associ dh survey exampl link api respons shape file plot subnat estim use spatial pacakg sp use new function download_boundari rdh download shape file r load packag libraryrdh make request dhs_datacountryid sn indicatorid fe_frtr_w_a surveyyearstart breakdown subnat get relat spatial data frame object sp download_boundariessurveyid dsurveyid ogr data sourc driver esri shapefil sourc tmprtmpkjqlsfilecdeddshp layer sdr_subnational_boundari featur field r match valu region dvaluematchspsdr_subnational_boundariesreg_id dregionid spsdr_subnational_boundariesdatavalu use sp plot spspplotspsdr_subnational_boundari valu main dindic httpsgithubcomojwatsonrdhsrawdevelopmentvignettesboundaries_filesfigurehtmlnormalpng use sf plot offer userfriendli plot option r make request dhs_datacountryid sn indicatorid fe_frtr_w_a surveyyearstart breakdown subnat get relat spatial data frame object sp download_boundariessurveyid dsurveyid method sf read layer sdr_subnational_boundari data sourc tmprtmpkjqlsfilecafcffdshpssdr_subnational_boundariesdbf use driver esri shapefil simpl featur collect featur field geometri type multipolygon dimens xy bbox xmin ymin xmax ymax epsg srid projstr projlonglat datumwg no_def r match valu region dvaluematchspsdr_subnational_boundariesreg_id dregionid spsdr_subnational_boundariesvalu use ggplot geom_sf plot libraryggplot ggplotspsdr_subnational_boundari geom_sfaesfil valu ggtitledind httpsgithubcomojwatsonrdhsrawdevelopmentvignettesboundaries_filesfigurehtmlsfpng titl rdh client object intern packag design author oj watson jeff eaton date output rmarkdownhtml_vignett vignett vignetteindexentryus rdh client vignetteengineknitrrmarkdown vignetteencodingutf overview follow similar vignett use rdh howev one achiev result use rdh client object directli download dataset etc rather use easier user interfac function vignett includ help demonstr pacakg intern work add inform packag design may use anyon ad extra function rdh futur bother pleas read main introductori vignett rdh packag manag analysi demograph health survey dhshttpswwwdhsprogramcom data includ function access standard indic data ie dh statcompilerhttpswwwstatcompilercom r via dh apihttpsapidhsprogramcom identifi survey dataset relev particular analysi download survey dataset dh websitehttpsdhsprogramcomdataavailabledatasetscfm load dataset associ metadata r extract variabl combin dataset pool multisurvey analys process describ cover function need work dataset instal instal rdh github devtool r installpackagesdevtool devtoolsinstall_githubropenscirdh libraryrdh access standard indic data via api dh api mani endpoint access use anyon dhs_endpoint function export function within rdh start dhs_ interact differ differ endpoint dh apihttpsapidhsprogramcom websit give great inform differ search term filter use tri includ within document function one endpoint dhs_data interact publish set standard health indic data calcul dh endpoint allow use retriev set health indic sampl weight give countri subnat estim refin educ wealth bracket use dhs_data endpoint either search specif indic queri indic tag within specif area r indic indic dhs_indic indic definit agespecif fertil rate three year preced survey age group express per women numberscal indicatortyp measurementtyp isquickstat shortnam rate asfr indicatorid level indicatortotalid level level fe_frtr_w_a fertil fertil rate women sdrid indicatoroldid tagid denominatorweightedid fefrtrwa label indicatorord age specif fertil rate denomin per thousand women year expos period month prior interview quickstatord indicatorspecialid denominatorunweightedid indicatorspecialid call dh endpoint return datafram default result avail default dh uniqu indicatorid statist calcul definit specif string indic includ within indicatorid definit variabl r grab first alphabet indicatorsorderindicatorsindicatoridcindicatorid definit indicatorid ah_ciga_m_unw ah_ciga_w_p ah_ciga_w_c ah_ciga_w_c ah_ciga_w_c definit number men smoke cigarett unweight percentag women smoke cigarett preced hour percentag women smoke cigarett preced hour percentag women smoke cigarett preced hour percentag women smoke cigarett preced hour sinc quit lot indic might easier first queri tag dh tag indic area demographi health relat eg anaemia literaci malaria parasitaemia specif tag first let look tag interact dhs_tag endpoint grab data relat malaria parasitaemia drc tanzania sinc r tag tag dhs_tag let say want view tag relat malaria tagsgreplmalaria tagstagnam tagtyp tagnam tagid tagord malaria parasitemia select malaria indic r let grab data specifi countryid survey year start data dhs_datatagid countryid ccdtzbreakdownsubnationalsurveyyearstart data dataid indic surveyid ispref valu malaria preval accord rdt cddh sdrid precis regionid surveyyearlabel surveytyp mlpmalcrdt cddh dh surveyyear indicatorord dhs_countrycod cilow cd countrynam indicatortyp characteristicid congo democrat republ characteristiccategori indicatorid characteristicord region ml_pmal_c_rdt characteristiclabel byvariablelabel denominatorunweight kinshasa denominatorweight cihigh istot byvariableid depend analysi mayb enough detail also worth mention data also access via dh statcompilerhttpswwwstatcompilercom prefer click collect version howev hope one see select lot differ indic multipl countri breakdown lot easier use rdh api interact exampl quickli find trend antimalari use africa see perhap antimalari prescript decreas rdt introduc assum r make api request resp dhs_dataindicatorid ml_fevt_c_aml surveyyearstart breakdown subnat filter countri space countri cangolaghanakenyaliberia madagascarmalimalawinigeria rwandasierra leonesenegaltanzania plot result libraryggplot ggplotresprespcountrynam countri aesxsurveyyearyvaluecolourcountrynam geom_point geom_smoothmethod glm themeaxistextx element_textangl vjust ylabrespind facet_wrapcountrynamencol img srchttpsgithubcomropenscirdhsrawdevelopmentvignettesclient_filesfigurehtmlunnamedchunkpng styledisplay block margin auto incorrectli enter filter queri possibl rdh let us know request invalid r make api request resp dhs_dataindicatoridsml_fevt_c_amasfafasfl surveyyearstart breakdownsubpartyp error handle_api_responseresp true dh api request fail error type dhs_internal_server_error identifi survey relev analysi may howev wish nuanc analysi api allow follow section detail basic exampl quickli identifi download extract dataset interest let say want get survey data democrat republ congo tanzania last year sinc cover use rapid diagnost test rdt malaria begin well interact dh api identifi dataset start extract well queri surveycharacterist endpoint use dhs_surveycharacterist r make call argument sc dhs_survey_characterist scgreplmalaria scsurveycharacteristicnam surveycharacteristicid surveycharacteristicnam malaria db malaria microscopi malaria rdt malaria modul malariabednet question differ survey characterist one specif survey characterist malaria rdt well use find survey includ characterist also point filter desir countri year dh api allow countri filter use countryid one argument dhs_survey look countri countryid use anoth api endpoint first r countryid id dhs_countriesreturnfieldsccountrynam dhs_countrycod strid datafram ob variabl dhs_countrycod chr af al ao countrynam chr afghanistan albania angola armenia r let find survey fit search criteria surv dhs_surveyssurveycharacteristicid countryid ccdtzsurveyyearstart lastli use find dataset want download let download flat file dat dataset look dhs_dataset document argument option fileformat abbrevi etc dataset dhs_datasetssurveyid survssurveyid fileformat flat strdataset datafram ob variabl fileformat chr flat ascii data dat flat ascii data dat flat ascii data dat flat ascii data dat files int datasettyp chr hiv dataset survey dataset survey dataset survey dataset surveynum int surveyid chr cddh cddh cddh cddh filetyp chr hiv test result recod birth recod coupl recod household recod filedatelastmodifi chr novemb novemb novemb septemb surveyyearlabel chr surveytyp chr dh dh dh dh surveyyear int dhs_countrycod chr cd cd cd cd filenam chr cdarflzip cdbrflzip cdcrflzip cdhrflzip countrynam chr congo democrat republ congo democrat republ congo democrat republ congo democrat republ lastli recommend download either spss sav fileformat sv flat file dat fileformat fl dataset flat quicker still one two dataset dont read correctli wherea sav file slower read far dataset found dont read correctli use download dataset analysi download survey dataset go ahead download dataset need first creat client client r class similar rs built refer class make cach survey api queri reproduc use log dh account download dataset help queri dataset question interest client also cach process realli help increas reproduc analysi order set credenti use function set_rdhs_config requir provid argument email project want download dataset prompt password also specifi directori dataset api call cach use cache_path provid argument cache_path prompt provid permiss rdh save dataset api call within user cach directori oper system compli cran request permiss grant write system file grant permiss written within r temporari directori saw first use one function queri api similarli also provid argument config_path save within temp directori unless permiss grant config file alway call rdhsjson rdh find easili r creat client set credenti config set_rdhs_configemail rdhstestergmailcom project test malaria investig client client_dhsconfig client client_dh public available_dataset function clear_cache_first fals clear_namespac function namespac dhs_api_request function api_endpoint queri list api_key privateapi_key extract function question add_geo fals get_cache_d function get_config function get_dataset function dataset_filenam download_opt rd reformat fals get_downloaded_dataset function get_root function get_variable_label function dataset_filenam null dataset_path null rm_na fals initi function config api_key null root rappdirs_rdh save_cli function set_cache_d function date survey_quest function dataset_filenam search_term null essential_term null survey_vari function dataset_filenam variabl essential_vari null privat api_endpoint data indic countri survey surveycharacterist api_key cache_d check_available_dataset function filenam config rdhs_config na_ na nana na na nana package_vers package_vers numeric_vers root cusersoliverappdatalocaloliverrdhscach storr storr r url httpsapidhsprogramcomrestdh user_declared_root null use client download dataset worth mention client pass argument api function seen cach result work remot without good internet connect still return previou api request happen behind scene anyway rdh creat client call api function one alreadi exist back dataset download look back dataset object well see dataset list howev relev malaria rdt question one approach head dh websit look dh recodeshttpsdhsprogramcompublicationspublicationdhsgdhsquestionnairesandmanualscfm look recod relat survey altern download survey queri variabl within well demonstr also demonstr packag function first download dataset r download dataset download clientget_datasetsdatasetsfilenam function return list file path download dataset save default file download quietli ie progress shown howev want see progress control set config use verbose_download argument load dataset associ metadata r examin actual download read one dataset r read dataset cdpr readrdsdownloadscdprfl dataset return contain survey question within dataset survey variabl r let look variable_nam headget_variable_labelscdpr variabl descript hhid case identif hvidx line number hv countri code phase hv cluster number hv household number hv respond line number answer household questionnair r dataset classcdprhv label default behaviour client function get_dataset download dataset default save client root directori unzip read save result datafram rd object within client root directori control behaviour use download_opt argument clientget_datasetsdownload_opt zip download zip save clientget_datasetsdownload_opt rd read rd save clientget_datasetsdownload_opt zip download save well read rd main reason read dataset straight away default option creat tabl survey variabl definit cach allow us quickli queri particular search term survey variabl r rapid diagnost test search question clientsurvey_questionsdatasetsfilenam search_term malaria rapid test tablequestionsdataset_filenam cdhrfl cdprfl tzhrafl tzprafl see question question result malaria rapid test appear differ dataset household member recod dataset cdprsv tzprhsv store inform children household one row per child wherea household recod cdhrsv tzhrhsv store inform household thu flatten inform child differ subvari hml etc easier extract inform household member recod extract variabl combin dataset pool multisurvey analys extract data pass question object client function extract creat list dataset extract data datafram also option add geograph data avail download geograph data file add data result extract r let use pr file thu dataset dhs_datasetssurveyid survssurveyid fileformat fl filetyp pr download clientget_datasetsdatasetsfilenam grab question along also question detail provinc question clientsurvey_questionsdatasetsfilenam search_term cmalaria rapid test extract data extract clientextractquest add_geo fals extract look like strextract list cdprflclass dhs_dataset datafram ob variabl hml label int na na na na na na na na attr label chr result malaria rapid test attr label name int attr name chr neg posit miss surveyid chr cddh cddh cddh cddh tzpraflclass dhs_dataset datafram ob variabl hml label int na na na na na na na na na attr label chr result malaria rapid test attr label name int attr name chr neg posit miss surveyid chr tzdh tzdh tzdh tzdh result extract list new element differ dataset extract respons dataset default store label class packagehttpsgithubcomtidyversehaven class preserv origin semant easili coerc factor havenas_factor special miss valu also preserv info label class look github also queri dataset survey question variabl exampl survey question result malaria rapid test variabl hml knew survey variabl want either look recod file look variable_nam includ dataset could search let grab region use hv use client function survey_vari r grab question utilis survey variabl question clientsurvey_variablesdatasetsfilenam variabl chvhml extract data extract clientextractquest add_geo fals quick check headextractcdprfl hv hml surveyid na cddh na cddh na cddh na cddh na cddh na cddh r headextracttzprhfl null r prove hml actual read okay lot na tableextractcdprflhmlusena alway na combin two datafram analysi use rdh packag function rbind_label function work specif list label datafram r first let bind first extract without hv extract_bound rbind_labelledextract headextract_bound hml surveyid dataset cdprfl na cddh cdprfl cdprfl na cddh cdprfl cdprfl na cddh cdprfl cdprfl na cddh cdprfl cdprfl na cddh cdprfl cdprfl na cddh cdprfl r let tri second extract extract_bound rbind_labelledextract warn rbind_labelledextract variabl nonmatch valu label hv inherit label first data frame label hasnt quit done might want second instanc hv variabl store region countri thu label differ two without specifi addit argument rbind_label simpli use first datafram label default mean tanzanian provinc encod drc provinc good similar problem natur say tri add new charact string factor datafram work around firstli specifi label argument function detail handl differ variabl label name list specifi handl variabl simpli want keep label us string concaten r let tri concaten hv better_bound rbind_labelledextract label listhvconcaten headbetter_boundhv label integ label valu label arusha bandundu bascongo dar es salaam dodoma equateur geita iringa kagera kasaioccident kasaiorient kaskazini pemba kaskazini unguja katanga katavi kigoma kilimanjaro kinshasa kusini pemba kusini unguja lindi maniema manyara mara mbeya mjini magharibi morogoro mtwara mwanza njomb nordkivu oriental pwani rukwa ruvuma shinyanga simiyu singida sudkivu tabora tanga could also specifi new label variabl exampl imagin two dataset encod rdt respons differ first one cnoy cnegativeposit would purpos respons could either leav result would use cnoy label may want use latter informativecorrect may want crystal clear use cnegativetestpositivetest like r let tri concaten hv provid new label better_bound rbind_labelledextract label listhvconcaten hmlcnegativetest positivetest new label headbetter_boundhml label integ na na na na na na label valu label negativetest positivetest option use label class control download dataset use argument reformattru ensur factor label use raw data option set object return clientget_dataset longer label class factor howev still recov variabl tabl dataset use get_variable_label take dataset output get_dataset return datafram describ survey question variabl definit r download dataset reformat argument download clientget_datasetsdatasetsfilenam reformattru grab question specifi reformat argument question clientsurvey_variablesdatasetsfilenam variabl chv hml reformattru extract data extract clientextractquest add_geo fals group result bound_no_label rbind_labelledextract hv look like classbound_no_labelshv charact hv column charact possibl best option depend downstream analysisprefer reason geograph data ad never turn factor label lastli use extract dataset carri regress analysi investig relationship malaria preval qualiti wall materi need first grab sampl weight stratif survey along extra variabl check rdt preval calcul use raw data versu api r grab addit variabl hv hv strata weight respect question clientsurvey_variablesdatasetsfilenamevari chvhvhvhvhv hvhvhml hchml extract clientextractquestionstru concaten provinc remov miss respons dat rbind_labelledextractionlabelslisthvconcatenatehvconcaten dat datwhichdathml remov miss respons go compar extract api malaria preval rdt month dat datwhichdathc dathc creat denomin respons hml dathmldenom asintegerisnadathml datbrick dathv c datnet aslogicaldathml specifi strata sampl weight datstrata pastedathvdatdataset dathv dathv construct survey design use survey pacakg librarysurvey construct sampl design calcul mean total de surveysvydesignclusterdatasetdatadatweighthv result cbindsurveysvybyhmlbydhsregnadataset de surveysvycipropnarmtru surveysvybyhmldenombydhsregnadataset de surveysvytotalnarmtru result resultsorderresultsdataset grab data api dhs_api_data dhs_datacountryid ccdtzindicatorid ml_pmal_c_rdtbreakdown subnationalsurveyyearstart surveyyearend dhs_api_data cbinddhs_api_datavaluedhs_api_datadenominatorweighteddhs_api_datacharacteristiclabel dhs_api_datasurveyid api dhs_api_datagrepldhs_api_data remov subregion includ tanzania api apiorderapplyapipastecollaps bind result remov duplic region column comparison cbindresultscapi namescomparison cregionsurvey_rdt_prevsurvey_rdt_denomapi_rdt_prevapi_rdt_denomapi_regionssurveyid headcomparisonc region survey_rdt_prev api_rdt_prev bandunducdprfl bandundu bascongocdprfl bascongo equateurcdprfl equateur kasaioccidentalcdprfl kasaioccident kasaiorientalcdprfl kasaiorient katangacdprfl katanga survey_rdt_denom api_rdt_denom surveyid bandunducdprfl cddh bascongocdprfl cddh equateurcdprfl cddh kasaioccidentalcdprfl cddh kasaiorientalcdprfl cddh katangacdprfl cddh littl due specif stratif dh program use well potenti group primari sampl unit hope get inform dh survey make process streamlin lastli construct logist regress investig relationship posit malaria rdt whether main wall individu hous made brick similar adjust urbanrur v fix effect survey r contsruct glm use svyglm specifi quasibinomi handl na hml summarysvyglmhml dataset hv net brick de familyquasibinomi call svyglmformula hml dataset hv net brick de famili quasibinomi survey design surveysvydesignclust dataset data dat weight hv coeffici estim std error valu prt intercept e datasettzprafl e hv e nettru brickstru e signif code dispers paramet quasibinomi famili taken number fisher score iter see signific neg gradient associ wall made brick similarli good materi comparison malaria posit rate rdt also interest whether individu slept long last insecticid net hml convert net signific summari thought hope tutori shown rdh packag facilit queri dh api hope make download interact raw dataset smoother reproduc process worth bear mind though creat harmonis dataset alway easi exampl lot time survey variabl differ across year survey hope survey_quest function make easier first filter includ relev question decid survey question valid suggest commentscorrectionserrorsidea pleas let know either issu send email owatsonimperialacuk function think would use also let know titl run test suit local author oj watson date output rmarkdownhtml_vignett vignett vignetteindexentrytest vignetteengineknitrrmarkdown vignetteencodingutf overview follow guid describ abl run full test suit local creat account dh websit order run test rdh packag need creat account dh websit requir min fill form day approv account creation start head dh websit go data tab herehttpsdhsprogramcomdatadataset_adminlogin_maincfm full rational process found websit herehttpsdhsprogramcomdataaccessinstructionscfm short provid contact inform describ studi conduct requir dh survey dataset importantli fill form describ descript studi sure includ mention need geograph dataset number test download geograph dataset fill need specifi countri dataset need order full test suit work must request everi countri dataset type possibl done dh programm take day approv request email let know email address provid set rdh config creat account set rdh configur allow download dataset websit also enabl test includ test_downloadsr test_extractionr test_uir run test first check rdh config file rdhsjson within test directori cloneddownload repositori need set rdh config file within test directori abl run test suit full r pkg_dir cusersolivergoogledriveacademicworkimperialgitrdh setwdfilepathpkg_dirteststestthat rdhsset_rdhs_configemail rdhstestergmailcom project test malaria investig config_path rdhsjson global fals devtoolstestpkg_dir titl interact geojson api return author oj watson date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentryinteract geojson api result vignetteengineknitrrmarkdown vignetteencodingutf overview api return geojson object use quickli creat map dh indic data larg object though caus api return slowli much data return demonstr use packag leaflet geojson r geojson warn fals messag fals figwidth figheight load packag libraryrdh instal packag installpackagesgeojson installpackagesleaflet make request dhs_datacountryid sn indicatorid fe_frtr_w_a surveyyearstart breakdown subnat returngeometri true f geojson convert sp geojsonioasjsond nc geojsoniogeojson_spm plot use leaflet pal leafletcolornumericviridi null leafletleafletncncindicatoridfe_frtr_w_a leafletaddtil leafletaddpolygonsstrok fals smoothfactor fillopac fillcolor pallogvalu label pastecharacteristiclabel formatcvalu bigmark leafletaddlegendp pal valu logvalu opac labformat leafletlabelformattransform functionx roundxtitl indic titl anemia preval rdh exampl author oj watson jeff eaton date r sysdat output rmarkdownhtml_vignett keep_md true vignett vignetteindexentryanemia preval among women rdh exampl vignetteengineknitrrmarkdown vignetteencodingutf anemia common caus fatigu women childbear age particularli high risk anemia packag rdh use compar estim preval anemia among women demograph health survey dh conduct armenia cambodia lesotho setup load rdh packag use packag analys data r resultsfals messag fals warningfals devtoolsinstall_githubropenscirdh libraryrdh librarydatat libraryggplot librarysurvey libraryhaven use calcul indic statcompil anemia preval among women report core indic dh statcompil httpswwwstatcompilercom indic access directli r via dh api function dhs_data queri api list statcompil indic search indic anemia indic name api call return datafram object prefer use datat object convert afterward set within config use set_rdhs_config r roptionslistrappdir_permissiontru messag fals libraryrdh set_rdhs_configdata_fram datatableasdatat indic dhs_indic tailindicatorsgreplanemia label indicatorid shortnam label indic id an_anem_w_ani report percentag women anemia function dhs_data queri indic dataset valu indic three countri interest first use dhs_countri queri list dh countri identifi dh countri code countri r countri dhs_countri dhscc countriescountrynam carmenia cambodia lesotho dhs_countrycod dhscc queri indic dataset women anemia indic three countri r figheight figwidth figaligncent statcomp dhs_dataindicatorid an_anem_w_ani countryid dhscc statcompind countrynam surveyyear valu denominatorweight ggplotstatcomp aessurveyyear valu colcountrynam geom_point geom_lin analys dh microdata identifi survey includ anemia test dh api provid facil filter survey accord particular characterist first queri list survey characterist identifi surveycharacteristicid indic survey includ anemia test first command queri api full list survey characterist second use grepl search surveycharacteristicnam includ word anemia r surveychar dhs_survey_characterist surveychargreplanemia surveycharacteristicnam ignorecasetru surveycharacteristicid indic survey includ anemia test next queri api identifi survey characterist conduct countri interest r survey dhs_surveyssurveycharacteristicid countryid dhscc surveyssurveyid countrynam surveyyear numberofwomen surveynum fieldworkend final queri api identifi individu recod ir survey dataset survey r dataset dhs_datasetssurveyid surveyssurveyid filetyp ir fileformatflat dataset surveyid surveynum filedatelastmodifi filenam download dataset download dataset need first log dh account provid credenti set configur use set_rdhs_config requir provid argument email project want download dataset prompt password also specifi directori dataset api call cach use cache_path order compli cran function also ask permiss write file outsid temporari directori must type filenam config_path rdhsjson see introduct vignettehttpsdocsropensciorgrdhsarticlesintroductionhtml specif format config set_rdhs_config r roptionslistrappdir_permissiontru messag fals set credenti set_rdhs_configemail jeffreyeatonimperialacuk project joint estim hiv epidem trend adult mortal function get_dataset return list file path desir dataset save cach first time dataset access rdh download dataset dh program websit use suppli credenti subsequ dataset simpli locat cach repositori r datasetspath unlistget_datasetsdatasetsfilenam identifi survey variabl anemia defin hemoglobin hb gdl nonpregn women hb gdl current pregnant womenhttpswwwmeasureevaluationorgprhrh_indicatorswomenshealthwomensnutritionpercentofwomenofreproductiveagewithanemia calcul anemia preval dh microdata must identifi dh recod survey variabl hemoglobin measur pregnanc statu could done consult dh recod manual map file accompani survey dataset conveni though r load first individu recod dataset search metadata variabl name correspond hemoglobin measur pregnanc statu r headsearch_variable_labelsdatasetsfilenam hemoglobin variabl v record household select hemoglobin test variabl v report outcom hemoglobin measur v result altitud adjust hemoglobin level r ir readrdsdatasetspath tableas_factorirv tableas_factorirv summaryirv variabl v report current pregnanc statu use determin anemia threshold r search_variable_labelsdatasetsfilenam currentlypregn tableas_factorirv also keep number variabl relat survey design potenti interest covari countri code phase v cluster number v sampl weight v age v region v urbanrur resid v educ level v r var csurveyid countrynam surveyyear v v v v v v v v v v v extract survey data r datlst list fori nrowdataset iffileexistsdatasetspathi printpastei datasetssurveyidi ir readrdsdatasetspathi irsurveyid datasetssurveyidi ircountrynam datasetscountrynamei irsurveyyear datasetssurveyyeari datlstdatasetssurveyidi irvar use rbind_label combin dataset label column argument label describ combin variabl level dataset v region provid consist set valu label use v current pregnant dataset r dat rbind_labelleddatlst label listv concaten v cnodont know l ye l miss l sapplydat islabel datv zap_labelsdatv dat as_factordat data tabul good idea check basic tabul data especi survey identifi nuanc exploratori analysi variabl r withdat tablesurveyid v usenaifani withdat tablesurveyid v usenaifani withdat tablesurveyid v usenaifani withdat tablesurveyid v usenaifani withdat tablev v usenaifani calcul anemia preval creat indic variabl anemia threshold depend pregnanc statu r datvdatv na withdat tablev isnav datanemia asintegerdatv ifelsedatv ye datanemia_denom asintegerisnadatanemia specifi survey design use survey packag r datw datv de svydesignvsurveyid datadat weightsw anemia_prev svybyanemia surveyid de svyciprop narmtru vartypeci anemia_denom svybyanemia_denom surveyid de svytot narmtru anemia_prev mergeanemia_prev anemia_denomcsurveyid anemia_denom re statcompsurveyid countrynam surveyyear valu denominatorunweight denominatorweightedanemia_prev onsurveyid resanemia resanemia resci_l resci_l resci_u resci_u resanemia_denom roundresanemia_denom tabl compar preval anemia calcul survey microdata estim dh statcompil weight denomin calcul estim ident case small differ iron requir look specif countri check stratif carri hope bring featur dh program compil sampl strata construct studi r figheight figwidth figaligncent knitrkablerescountrynam surveyyear valu anemia ci_l ci_u denominatorweight anemia_denom digit ggplotr aesxsurveyyear yanemia yminci_l ymaxci_u colcountrynam fillcountrynam geom_ribbonalpha linetypeblank geom_point geom_lin regress analysi relationship educ anemia key use survey microdata conduct secondari analysi pool data sever survey regress analysi investig relationship anemia preval educ level v women use logist regress adjust urbanrur v fix effect survey r de updated v relevelv primari summarysvyglmanemia surveyid v v de familybinomi result suggest anemia preval lower among women higher educ titl countri name code author oj watson date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentrycountri code vignetteengineknitrrmarkdown vignetteencodingutf overview follow show return tabl countri name letter code get inform queri api use dhs_countri specifi returnfield argument return countri name dh countri code use refer tabl want pass countri id number api function eg dhs_datacountryid bj r set config messag fals libraryrdh countryid id dhs_countriesreturnfieldsccountrynam dhs_countrycod id titl toolkit author oj watson date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentrytoolkit vignetteengineknitrrmarkdown vignetteencodingutf overview follow longer need cran version work vignett still though case need noncran pacakg futur order instal rdh requir work develop environ follow guid detail across differ oper system pleas note temporari wait develop version make cran apolog inconveni window instal rtoolshttpscranrprojectorgbinwindowsrtool help instal rtool pleas see follow guidehttpscranrprojectorgbinwindowsrtool pay particular attent section ad rtool system path order find version rtool need check version r run found use sessioninfo function r sessioninfo r version platform x_wmingwx bit run window x build servic pack mac instal xcode mac app store linux instal compil variou develop librari detail vari across differ flavor linux work develop environ readi follow work r installpackagesdevtool devtoolsinstall_githubropenscirdh libraryrdh titl use rdh author oj watson jeff eaton date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentryhow use rdh vignetteengineknitrrmarkdown vignetteencodingutf overview rdh packag manag analysi demograph health survey dhshttpswwwdhsprogramcom data includ function access standard indic data ie dh statcompilerhttpswwwstatcompilercom r via dh apihttpsapidhsprogramcom identifi survey dataset relev particular analysi download survey dataset dh websitehttpsdhsprogramcomdataavailabledatasetscfm load dataset associ metadata r extract variabl combin dataset pool multisurvey analys process describ cover function need work dataset instal instal rdh github devtool r ghinstal warn fals messag fals installpackagesdevtool devtoolsinstall_githubropenscirdh libraryrdh start tutori wish download survey dataset dh websit need set account dh websit enabl request access dataset instruct found herehttpsdhsprogramcomdataaccessinstructionscfm email password project name use creat account need provid rdh attempt download dataset still interact dh api section without account dh websit howev need creat account wish go step access standard indic data via api dh programm publish api give access number differ data set repres one dh api endpoint eg httpsapidhsprogramcomrestdhstag httpsapidhsprogramcomrestdhssurvey data set includ standard health indic avail within dh statcompilerhttpswwwstatcompilercom well seri meta data set describ type survey conduct well raw dataset file avail survey data set describ within dh api websitehttpsapidhsprogramcom current differ data set avail api data set access use anyon dhs_ function export function within rdh start dhs_ interact differ data set dh apihttpsapidhsprogramcom websit give great inform differ search term filter use tri includ within document function data set one function dhs_data interact publish set standard health indic data calcul dh data set contain set health indic sampl weight give countri subnat estim refin educ wealth bracket use dhs_data function either search specif indic queri indic tag within specif area r inddata indic indic dhs_indic indic call dh api return datafram default result avail default dh uniqu indicatorid statist calcul definit specif string indic includ within indicatorid definit variabl r inddata def grab first alphabet indicatorsorderindicatorsindicatoridcindicatorid definit sinc quit lot indic might easier first queri tag dh tag indic area demographi health relat eg anaemia literaci malaria parasitaemia specif tag first let look tag interact dhs_tag function grab data relat malaria parasitaemia drc tanzania sinc r tag tag tag dhs_tag let say want view tag relat malaria tagsgreplmalaria tagstagnam let grab data specifi countryid survey year start data dhs_datatagid countryid ccdtzbreakdownsubnationalsurveyyearstart data depend analysi mayb enough detail also worth mention data also access via dh statcompilerhttpswwwstatcompilercom prefer click collect version howev hope one see select lot differ indic multipl countri breakdown lot easier use rdh api interact exampl quickli find trend antimalari use africa see perhap antimalari prescript decreas rdt introduc assum r figheight figwidth figaligncent warn fals make api request resp dhs_dataindicatorid ml_fevt_c_aml surveyyearstart breakdown subnat filter countri space countri cangolaghanakenyaliberia madagascarmalimalawinigeria rwandasierra leonesenegaltanzania plot result libraryggplot ggplotresprespcountrynam countri aesxsurveyyearyvaluecolourcountrynam geom_point geom_smoothmethod glm themeaxistextx element_textangl vjust ylabrespind facet_wrapcountrynamencol incorrectli enter filter queri possibl rdh let us know request invalid r api fail includetru messag fals errortru warn fals make api request resp dhs_dataindicatoridsml_fevt_c_amasfafasfl surveyyearstart breakdownsubpartyp identifi survey relev analysi may howev wish nuanc analysi api allow follow section detail basic exampl quickli identifi download extract dataset interest let say want get dh survey data democrat republ congo tanzania last year sinc cover use rapid diagnost test rdt malaria begin well interact dh api identifi dataset start extract well queri surveycharacterist data set use dhs_survey_characterist function r sc make call argument sc dhs_survey_characterist scgreplmalaria scsurveycharacteristicnam differ survey characterist one specif survey characterist malaria rdt well use find survey includ characterist also point filter desir countri year dh api allow countri filter use countryid one argument dhs_survey look countri countryid use anoth api function r surv countryid id dhs_countriesreturnfieldsccountrynam dhs_countrycod strid let find survey fit search criteria surv dhs_surveyssurveycharacteristicid countryid ccdtz surveytyp dh surveyyearstart lastli use find dataset want download let download flat file dat dataset look dhs_dataset document argument option fileformat abbrevi etc dataset dhs_datasetssurveyid survssurveyid fileformat flat strdataset lastli recommend download either spss sav fileformat sv flat file dat fileformat fl dataset flat quicker still one two dataset dont read correctli wherea sav file slower read far dataset found dont read correctli use download dataset analysi download survey dataset go ahead download dataset abl download survey dataset dh websit need set account enabl request access dataset instruct found herehttpsdhsprogramcomdataaccessinstructionscfm email password project name use creat account need provid rdh attempt download dataset creat account need set credenti use function set_rdhs_config requir provid argument email project want download dataset prompt password also specifi directori dataset api call cach use cache_path provid argument cache_path prompt provid permiss rdh save dataset api call within user cach directori oper system compli cran request permiss grant write system file grant permiss written within r temporari directori saw first use one function queri api similarli also provid argument config_path save within temp directori unless permiss grant config file alway call rdhsjson rdh find easili r client roptionslistrappdir_permissiontru set credenti set_rdhs_configemail rdhstestergmailcom project test malaria investig may one project set dh websit may want separ directori set dataset thu need set differ config file need set local config file achiev set global param fals ie global also need provid config_path argument must rdhsjson order compli cran type rather default option r client roptionslistrappdir_permissiontru set credenti set_rdhs_configemail rdhstestergmailcom project test malaria investig config_path rdhsjson cache_path project_on global fals may howev differ project dh websit case may prefer set one global config file want save user cach directori set global true default save r default launch directori must rdhsjson realli differ save rdhsjson vs user cach directori might want somewher easi find etc r client roptionslistrappdir_permissiontru set credenti set_rdhs_configemail rdhstestergmailcom project test malaria investig config_path rdhsjson global true use set_rdhs_config rdh tri find config file next use rdh differ r session first look local rdhsjson global rdhsjson user cach directori lastli creat one temp directori happen first use one api function config creat queri api initi abl download dataset lastli wish return datat api request rather datafram chang default behaviour use data_fram argument could also use convert tibbl r client roptionslistrappdir_permissiontru set credenti set_rdhs_configemail rdhstestergmailcom project test malaria investig config_path rdhsjson data_fram datatableasdatat global true see config use rdh point use get_rdhs_config view config set download dataset worth mention set login credenti api call cach within cach directori use allow work remot without good internet connect abl still return previou api request api request still cach within temp directori quick return second time delet start new r session r client_api_cach first time call function rdh make api request microbenchmarkmicrobenchmarkdhs_surveyssurveyyear time cach return much quicker microbenchmarkmicrobenchmarkdhs_surveyssurveyyear time back dataset download look back dataset object well see dataset list howev relev malaria rdt question one approach head dh websit look dh recodeshttpsdhsprogramcompublicationspublicationdhsgdhsquestionnairesandmanualscfm look recod relat survey altern download survey queri variabl within well demonstr also demonstr packag function first download dataset r download messagefals download dataset download get_datasetsdatasetsfilenam function return list file path download dataset save default file download quietli ie progress shown howev want see progress control set config use verbose_download argument load dataset associ metadata r examin actual download read one dataset r read dataset read dataset cdpr readrdsdownloadscdprfl dataset return contain survey question within dataset dataset default store label class packagehttpsgithubcomtidyversehaven class preserv origin semant easili coerc factor havenas_factor special miss valu also preserv info label class look github look return variabl hv r type headcdprhv r dataset classcdprhv want get data dictionari dataset use function get_variable_label return question variabl dataset refer r probe dataset let look variable_nam headget_variable_labelscdpr mani survey respons give enough inform us understand data howev question may less clear exactli question mean may differ similar question case dh websit publish lot infrmat survey protocol survey strongli advis peopl look dh websit document use dataset analysi sectionhttpswwwdhsprogramcomdatausingdatasetsforanalysiscfm well recod fileshttpswwwdhsprogramcompublicationspublicationdhsgdhsquestionnairesandmanualscfm understand survey carri saw default behaviour function get_dataset download dataset read save result datafram rd object within cach directori control behaviour use download_opt argument get_datasetsdownload_opt zip download zip save get_datasetsdownload_opt rd read rd save get_datasetsdownload_opt zip download save well read rd main reason read dataset straight away default option rdh also creat tabl survey variabl label definit cach allow us quickli queri particular search term survey variabl r question messag fals rapid diagnost test search question search_variable_labelsdatasetsfilenam search_term malaria rapid test tablequestionsdataset_filenam see question question result malaria rapid test appear differ dataset household member recod dataset cdprsv tzprasv store inform children household one row per child wherea household recod cdhrsv tzhrasv store inform household thu flatten inform child differ subvari hml etc easier extract inform household member recod extract variabl combin dataset pool multisurvey analys extract data pass question object function extract_dh creat list dataset extract data datafram also option add geograph data avail download geograph data file add data result extract r extract_quest messagefals let use pr file thu dataset dhs_datasetssurveyid survssurveyid fileformat fl filetyp pr download get_datasetsdatasetsfilenam grab question along also question detail provinc question search_variable_labelsdatasetsfilenam search_term cmalaria rapid test extract data extract extract_dhsquest add_geo fals extract look like strextract result extract list new element differ dataset extract respons dataset default store label class packagehttpsgithubcomtidyversehaven also queri dataset survey question variabl exampl survey variabl label result malaria rapid test variabl hml knew survey variabl want either look recod file look variable_nam includ dataset could search let grab region use hv use client function search_vari r extract_vari messagefals grab question utilis survey variabl question search_variablesdatasetsfilenam variabl chvhml extract data extract extract_dhsquest add_geo fals quick check headextractcdprfl headextracttzprafl prove hml actual read okay lot na tableextractcdprflhmlusena alway combin two datafram analysi use rdh packag function rbind_label function work specif list label datafram r rbind_label first let bind first extract without hv extract_bound rbind_labelledextract headextract_bound let tri second extract extract_bound rbind_labelledextract hasnt quit done might want second instanc hv variabl store region countri thu label differ two without specifi addit argument rbind_label simpli use first datafram label default mean tanzanian provinc encod drc provinc good similar problem natur say tri add new charact string factor datafram work around firstli specifi label argument function detail handl differ variabl label name list specifi handl variabl simpli want keep label us string concaten r concaten let tri concaten hv better_bound rbind_labelledextract label listhvconcaten headbetter_boundhv could also specifi new label variabl exampl imagin two dataset encod rdt respons differ first one cnoy cnegativeposit would purpos respons could either leav result would use cnoy label may want use latter informativecorrect may want crystal clear use cnegativetestpositivetest like r concaten new label let tri concaten hv provid new label better_bound rbind_label extract label listhvconcaten hmlcnegativetest positivetest new label headbetter_boundhml option use label class control download dataset use argument reformattru ensur factor label use raw data option set object return get_dataset longer label class factor howev still recov variabl tabl dataset use get_variable_label take dataset output get_dataset return datafram describ survey question variabl definit r reformat messagefals download dataset reformat argument download get_datasetsdatasetsfilenam reformattru grab question specifi reformat argument question search_variablesdatasetsfilenam variabl chv hml reformattru extract data extract extract_dhsquest add_geo fals group result bound_no_label rbind_labelledextract hv look like classbound_no_labelshv hv column charact possibl best option depend downstream analysisprefer reason geograph data ad never turn factor label lastli use extract dataset carri regress analysi investig relationship malaria preval qualiti wall materi need first grab sampl weight stratif survey along extra variabl check rdt preval calcul use raw data versu api r regress analysi messagefals warningfals grab addit variabl hv hv strata weight respect hc age question search_variablesdatasetsfilenamevari chvhvhvhvhv hvhvhml hchml extract extract_dhsquestionstru concaten provinc remov miss respons dat rbind_labelledextractionlabelslisthvconcatenatehvconcaten dat datwhichdathml remov miss respons go compar extract api malaria preval rdt month dat datwhichdathc dathc creat denomin respons hml dathmldenom asintegerisnadathml datbrick dathv c datnet aslogicaldathml specifi strata sampl weight datstrata pastedathvdatdataset dathv dathv construct survey design use survey pacakg librarysurvey construct sampl design calcul mean total de surveysvydesignclusterdatasetdatadatweighthv result cbindsurveysvybyhmlbydhsregnadataset de surveysvycipropnarmtru surveysvybyhmldenombydhsregnadataset de surveysvytotalnarmtru result resultsorderresultsdataset grab data api dhs_api_data dhs_datacountryid ccdtzindicatorid ml_pmal_c_rdtbreakdown subnationalsurveyyearstart surveyyearend dhs_api_data cbinddhs_api_datavaluedhs_api_datadenominatorweighteddhs_api_datacharacteristiclabel dhs_api_datasurveyid api dhs_api_datagrepldhs_api_data remov subregion includ tanzania api apiorderapplyapipastecollaps bind result remov duplic region column comparison cbindresultscapi namescomparison cregionsurvey_rdt_prevsurvey_rdt_denomapi_rdt_prevapi_rdt_denomapi_regionssurveyid headcomparisonc littl mean valu differ due mayb specif cut use term age includ within varianc could also due specif stratif dh program use well potenti group primari sampl unit hope get inform dh survey make process streamlin end user lastli construct logist regress investig relationship posit malaria rdt whether main wall individu hous made brick similar adjust urbanrur hv fix effect survey r altitutd glm contsruct glm use svyglm specifi quasibinomi handl na hml summarysvyglmhml dataset hv net brick de familyquasibinomi see signific neg gradient associ wall made brick similarli good materi comparison malaria posit rate rdt also interest whether individu slept long last insecticid net hml convert net signific summari thought hope tutori shown rdh packag facilit queri dh api hope make download interact raw dataset smoother reproduc process worth bear mind though creat harmonis dataset alway easi exampl lot time survey variabl differ across year survey hope survey_quest function make easier first filter includ relev question decid survey question valid suggest commentscorrectionserrorsidea pleas let know either issu send email owatsonimperialacuk function think would use also let know titl download shape file dh survey author oj watson date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentrydownload shape file dh survey vignetteengineknitrrmarkdown vignetteencodingutf overview rdh use download shape file associ dh survey exampl link api respons shape file plot subnat estim use spatial pacakg sp use new function download_boundari rdh download shape file r normal warn fals messag fals figwidth figheight load packag libraryrdh make request dhs_datacountryid sn indicatorid fe_frtr_w_a surveyyearstart breakdown subnat get relat spatial data frame object sp download_boundariessurveyid dsurveyid match valu region dvaluematchspsdr_subnational_boundariesreg_id dregionid spsdr_subnational_boundariesdatavalu use sp plot spspplotspsdr_subnational_boundari valu main dindic use sf plot offer userfriendli plot option r sf warn fals messag fals figwidth figheight make request dhs_datacountryid sn indicatorid fe_frtr_w_a surveyyearstart breakdown subnat get relat spatial data frame object sp download_boundariessurveyid dsurveyid method sf match valu region dvaluematchspsdr_subnational_boundariesreg_id dregionid spsdr_subnational_boundariesvalu use ggplot geom_sf plot libraryggplot ggplotspsdr_subnational_boundari geom_sfaesfil valu ggtitledind titl rdh client object intern packag design author oj watson jeff eaton date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentryus rdh client vignetteengineknitrrmarkdown vignetteencodingutf overview follow similar vignett use rdh howev one achiev result use rdh client object directli download dataset etc rather use easier user interfac function vignett includ help demonstr pacakg intern work add inform packag design may use anyon ad extra function rdh futur bother pleas read main introductori vignett rdh packag manag analysi demograph health survey dhshttpswwwdhsprogramcom data includ function access standard indic data ie dh statcompilerhttpswwwstatcompilercom r via dh apihttpsapidhsprogramcom identifi survey dataset relev particular analysi download survey dataset dh websitehttpsdhsprogramcomdataavailabledatasetscfm load dataset associ metadata r extract variabl combin dataset pool multisurvey analys process describ cover function need work dataset instal instal rdh github devtool r ghinstal warn fals messag fals installpackagesdevtool devtoolsinstall_githubropenscirdh libraryrdh access standard indic data via api dh api mani endpoint access use anyon dhs_endpoint function export function within rdh start dhs_ interact differ differ endpoint dh apihttpsapidhsprogramcom websit give great inform differ search term filter use tri includ within document function one endpoint dhs_data interact publish set standard health indic data calcul dh endpoint allow use retriev set health indic sampl weight give countri subnat estim refin educ wealth bracket use dhs_data endpoint either search specif indic queri indic tag within specif area r inddata messag fals indic indic dhs_indic indic call dh endpoint return datafram default result avail default dh uniqu indicatorid statist calcul definit specif string indic includ within indicatorid definit variabl r inddata def grab first alphabet indicatorsorderindicatorsindicatoridcindicatorid definit sinc quit lot indic might easier first queri tag dh tag indic area demographi health relat eg anaemia literaci malaria parasitaemia specif tag first let look tag interact dhs_tag endpoint grab data relat malaria parasitaemia drc tanzania sinc r tag tag tag dhs_tag let say want view tag relat malaria tagsgreplmalaria tagstagnam let grab data specifi countryid survey year start data dhs_datatagid countryid ccdtzbreakdownsubnationalsurveyyearstart data depend analysi mayb enough detail also worth mention data also access via dh statcompilerhttpswwwstatcompilercom prefer click collect version howev hope one see select lot differ indic multipl countri breakdown lot easier use rdh api interact exampl quickli find trend antimalari use africa see perhap antimalari prescript decreas rdt introduc assum r figheight figwidth figaligncent warn fals make api request resp dhs_dataindicatorid ml_fevt_c_aml surveyyearstart breakdown subnat filter countri space countri cangolaghanakenyaliberia madagascarmalimalawinigeria rwandasierra leonesenegaltanzania plot result libraryggplot ggplotresprespcountrynam countri aesxsurveyyearyvaluecolourcountrynam geom_point geom_smoothmethod glm themeaxistextx element_textangl vjust ylabrespind facet_wrapcountrynamencol incorrectli enter filter queri possibl rdh let us know request invalid r api fail includetru messag fals errortru warn fals make api request resp dhs_dataindicatoridsml_fevt_c_amasfafasfl surveyyearstart breakdownsubpartyp identifi survey relev analysi may howev wish nuanc analysi api allow follow section detail basic exampl quickli identifi download extract dataset interest let say want get survey data democrat republ congo tanzania last year sinc cover use rapid diagnost test rdt malaria begin well interact dh api identifi dataset start extract well queri surveycharacterist endpoint use dhs_surveycharacterist r sc make call argument sc dhs_survey_characterist scgreplmalaria scsurveycharacteristicnam differ survey characterist one specif survey characterist malaria rdt well use find survey includ characterist also point filter desir countri year dh api allow countri filter use countryid one argument dhs_survey look countri countryid use anoth api endpoint first r surv countryid id dhs_countriesreturnfieldsccountrynam dhs_countrycod strid let find survey fit search criteria surv dhs_surveyssurveycharacteristicid countryid ccdtzsurveyyearstart lastli use find dataset want download let download flat file dat dataset look dhs_dataset document argument option fileformat abbrevi etc dataset dhs_datasetssurveyid survssurveyid fileformat flat strdataset lastli recommend download either spss sav fileformat sv flat file dat fileformat fl dataset flat quicker still one two dataset dont read correctli wherea sav file slower read far dataset found dont read correctli use download dataset analysi download survey dataset go ahead download dataset need first creat client client r class similar rs built refer class make cach survey api queri reproduc use log dh account download dataset help queri dataset question interest client also cach process realli help increas reproduc analysi order set credenti use function set_rdhs_config requir provid argument email project want download dataset prompt password also specifi directori dataset api call cach use cache_path provid argument cache_path prompt provid permiss rdh save dataset api call within user cach directori oper system compli cran request permiss grant write system file grant permiss written within r temporari directori saw first use one function queri api similarli also provid argument config_path save within temp directori unless permiss grant config file alway call rdhsjson rdh find easili r client roptionslistrappdir_permissiontru messag fals creat client set credenti config set_rdhs_configemail rdhstestergmailcom project test malaria investig client client_dhsconfig client use client download dataset worth mention client pass argument api function seen cach result work remot without good internet connect still return previou api request happen behind scene anyway rdh creat client call api function one alreadi exist back dataset download look back dataset object well see dataset list howev relev malaria rdt question one approach head dh websit look dh recodeshttpsdhsprogramcompublicationspublicationdhsgdhsquestionnairesandmanualscfm look recod relat survey altern download survey queri variabl within well demonstr also demonstr packag function first download dataset r download messagefals download dataset download clientget_datasetsdatasetsfilenam function return list file path download dataset save default file download quietli ie progress shown howev want see progress control set config use verbose_download argument load dataset associ metadata r examin actual download read one dataset r read dataset read dataset cdpr readrdsdownloadscdprfl dataset return contain survey question within dataset survey variabl r probe dataset let look variable_nam headget_variable_labelscdpr dataset classcdprhv default behaviour client function get_dataset download dataset default save client root directori unzip read save result datafram rd object within client root directori control behaviour use download_opt argument clientget_datasetsdownload_opt zip download zip save clientget_datasetsdownload_opt rd read rd save clientget_datasetsdownload_opt zip download save well read rd main reason read dataset straight away default option creat tabl survey variabl definit cach allow us quickli queri particular search term survey variabl r question messag fals rapid diagnost test search question clientsurvey_questionsdatasetsfilenam search_term malaria rapid test tablequestionsdataset_filenam see question question result malaria rapid test appear differ dataset household member recod dataset cdprsv tzprhsv store inform children household one row per child wherea household recod cdhrsv tzhrhsv store inform household thu flatten inform child differ subvari hml etc easier extract inform household member recod extract variabl combin dataset pool multisurvey analys extract data pass question object client function extract creat list dataset extract data datafram also option add geograph data avail download geograph data file add data result extract r extract_quest messagefals let use pr file thu dataset dhs_datasetssurveyid survssurveyid fileformat fl filetyp pr download clientget_datasetsdatasetsfilenam grab question along also question detail provinc question clientsurvey_questionsdatasetsfilenam search_term cmalaria rapid test extract data extract clientextractquest add_geo fals extract look like strextract result extract list new element differ dataset extract respons dataset default store label class packagehttpsgithubcomtidyversehaven class preserv origin semant easili coerc factor havenas_factor special miss valu also preserv info label class look github also queri dataset survey question variabl exampl survey question result malaria rapid test variabl hml knew survey variabl want either look recod file look variable_nam includ dataset could search let grab region use hv use client function survey_vari r extract_vari messagefals grab question utilis survey variabl question clientsurvey_variablesdatasetsfilenam variabl chvhml extract data extract clientextractquest add_geo fals quick check headextractcdprfl headextracttzprhfl prove hml actual read okay lot na tableextractcdprflhmlusena alway combin two datafram analysi use rdh packag function rbind_label function work specif list label datafram r rbind_label first let bind first extract without hv extract_bound rbind_labelledextract headextract_bound let tri second extract extract_bound rbind_labelledextract hasnt quit done might want second instanc hv variabl store region countri thu label differ two without specifi addit argument rbind_label simpli use first datafram label default mean tanzanian provinc encod drc provinc good similar problem natur say tri add new charact string factor datafram work around firstli specifi label argument function detail handl differ variabl label name list specifi handl variabl simpli want keep label us string concaten r concaten let tri concaten hv better_bound rbind_labelledextract label listhvconcaten headbetter_boundhv could also specifi new label variabl exampl imagin two dataset encod rdt respons differ first one cnoy cnegativeposit would purpos respons could either leav result would use cnoy label may want use latter informativecorrect may want crystal clear use cnegativetestpositivetest like r concaten new label let tri concaten hv provid new label better_bound rbind_labelledextract label listhvconcaten hmlcnegativetest positivetest new label headbetter_boundhml option use label class control download dataset use argument reformattru ensur factor label use raw data option set object return clientget_dataset longer label class factor howev still recov variabl tabl dataset use get_variable_label take dataset output get_dataset return datafram describ survey question variabl definit r reformat messagefals download dataset reformat argument download clientget_datasetsdatasetsfilenam reformattru grab question specifi reformat argument question clientsurvey_variablesdatasetsfilenam variabl chv hml reformattru extract data extract clientextractquest add_geo fals group result bound_no_label rbind_labelledextract hv look like classbound_no_labelshv hv column charact possibl best option depend downstream analysisprefer reason geograph data ad never turn factor label lastli use extract dataset carri regress analysi investig relationship malaria preval qualiti wall materi need first grab sampl weight stratif survey along extra variabl check rdt preval calcul use raw data versu api r regress analysi messagefals grab addit variabl hv hv strata weight respect question clientsurvey_variablesdatasetsfilenamevari chvhvhvhvhv hvhvhml hchml extract clientextractquestionstru concaten provinc remov miss respons dat rbind_labelledextractionlabelslisthvconcatenatehvconcaten dat datwhichdathml remov miss respons go compar extract api malaria preval rdt month dat datwhichdathc dathc creat denomin respons hml dathmldenom asintegerisnadathml datbrick dathv c datnet aslogicaldathml specifi strata sampl weight datstrata pastedathvdatdataset dathv dathv construct survey design use survey pacakg librarysurvey construct sampl design calcul mean total de surveysvydesignclusterdatasetdatadatweighthv result cbindsurveysvybyhmlbydhsregnadataset de surveysvycipropnarmtru surveysvybyhmldenombydhsregnadataset de surveysvytotalnarmtru result resultsorderresultsdataset grab data api dhs_api_data dhs_datacountryid ccdtzindicatorid ml_pmal_c_rdtbreakdown subnationalsurveyyearstart surveyyearend dhs_api_data cbinddhs_api_datavaluedhs_api_datadenominatorweighteddhs_api_datacharacteristiclabel dhs_api_datasurveyid api dhs_api_datagrepldhs_api_data remov subregion includ tanzania api apiorderapplyapipastecollaps bind result remov duplic region column comparison cbindresultscapi namescomparison cregionsurvey_rdt_prevsurvey_rdt_denomapi_rdt_prevapi_rdt_denomapi_regionssurveyid headcomparisonc littl due specif stratif dh program use well potenti group primari sampl unit hope get inform dh survey make process streamlin lastli construct logist regress investig relationship posit malaria rdt whether main wall individu hous made brick similar adjust urbanrur v fix effect survey r altitutd glm contsruct glm use svyglm specifi quasibinomi handl na hml summarysvyglmhml dataset hv net brick de familyquasibinomi see signific neg gradient associ wall made brick similarli good materi comparison malaria posit rate rdt also interest whether individu slept long last insecticid net hml convert net signific summari thought hope tutori shown rdh packag facilit queri dh api hope make download interact raw dataset smoother reproduc process worth bear mind though creat harmonis dataset alway easi exampl lot time survey variabl differ across year survey hope survey_quest function make easier first filter includ relev question decid survey question valid suggest commentscorrectionserrorsidea pleas let know either issu send email owatsonimperialacuk function think would use also let know titl run test suit local author oj watson date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentrytoolkit vignetteengineknitrrmarkdown vignetteencodingutf overview follow guid describ abl run full test suit local creat account dh websit order run test rdh packag need creat account dh websit requir min fill form day approv account creation start head dh websit go data tab herehttpsdhsprogramcomdatadataset_adminlogin_maincfm full rational procss found websit herhttpsdhsprogramcomdataaccessinstructionscfm short provid contact inform describ stuy conduct requir dh survey dataset importantli fill form describ descript studi sure includ mention need geograph dataset number test download geograph dataset fill need specifi countri dataset need order full test suit work must request everi countri dataset type possibl done dh programm take day approv request email let know email address provid set rdh config creat account set rdh configur allow download dataset websit also enabl test includ test_downloadsr test_extractionr test_uir run test first check rdh conf file rdhsjson within test directori cloneddownload repositori need set rdh config file within test directori abl run test suit full r set config roptionslistrappdir_permissiontru messag fals pkg_dir cusersolivergoogledriveacademicworkimperialgitrdh setwdfilepathpkg_dirteststestthat rdhsset_rdhs_configemail rdhstestergmailcom project test malaria investig config_path rdhsjson global fals devtoolstestpkg_dir gener roxygen edit hand pleas edit document rrbind_labelledr nameas_factorlabel aliasas_factorlabel titlearchiv dataset capabl as_factor usag as_factorlabel x level cdefault label valu order fals argument itemxobject coerc factor itemlevelshow creat level gener factor item item default use label avail otherwis valu label sort valu item like default past togeth level valu item label use label unlabel valu becom codena item valu use valu itemorderedif codetru creat order ordin factor codefals default creat regular nomin factor itemoth argument pass method descript chang meant label class refer haven_label class havenas_factor use old dataset fail find suitabl method rdhsas_factorlabel work old archiv dataset label class detail detail see codehavenas_factor exampl dontrun creat datafram use new haven_label class df datafram area havenlabelledcl l l creg reg reg climat havenlabelledcl l l ccoldhot manual chang old style classdfarea label classdfclim label rdh attach ie libraryrdh follow havenas_factordfarea also use datafram use only_label argument havenas_factordf only_label true gener roxygen edit hand pleas edit document ruir nameget_dataset aliasget_dataset titleget dataset usag get_dataset dataset_filenam download_opt rd reformat fals all_low true output_dir_root null clear_cach fals argument itemdataset_filenamesth desir filenam download found one return field codelinkdhs_dataset altern also pass desir row codelinkdhs_dataset itemdownload_optioncharact specifi whether dataset download zip import save rd object rd extract rd conveni specifi letter option itemreformatboolean concern whether reformat read dataset remov factor label default fals itemall_lowerlog indic whether valu label lower case default true itemoutput_dir_rootroot directori dataset store within default download dataset subfold client root call dataset itemclear_cacheshould avail dataset cach clear first allow newli access dataset avail default fals itemani argument pass codelinkread_dhs_dataset valu depend download_opt request ultim file path dataset download interact accordingli descript download dataset access dh websit detail get dataset cach download dh websit provid filenam specifi one return field codelinkdhs_dataset client log download file request request file unavail log flag first messag make note request dh websit also option control whether download zip file extract convert conveni r codedatafram convert object subsequ save rd object within client root directori dataset folder quickli load need codereadrd also option reformat dataset ensur dataset return encod simpli charact string ie factor label exampl dontrun get model dataset includ packag model_dataset model_dataset download one g get_datasetsdataset_filenam model_datasetsfilenam gener roxygen edit hand pleas edit document ruir namesearch_variable_label aliassearch_variable_label titlesearch survey variabl definit usag search_variable_label dataset_filenam search_term null essential_term null regex null argument itemdataset_filenamesth desir filenam download found one return field codelinkdhs_dataset itemsearch_termscharact vector search term term found within survey question definit correspond survey variabl definit return itemessential_termscharact pattern definit survey question definit ie function first find survey variabl definit contain search_term regex essential_term remov question contain essential_term default null itemregexregex charact pattern match want specifi regex search pattern specifi argument nb search_term regex suppli argument regex ignor itemani argument pass codelinkdownload_dataset valu codedatafram survey match found result code descript descript search across dataset specifi request survey variabl definit function codelinksearch_variable_label use provid question argument codelinkextract_dh detail use function codelinkget_dataset queri download dataset survey question ask function look download import survey dataset cach file download download exampl dontrun get model dataset includ packag model_dataset model_dataset download two g get_datasetsdataset_filenam model_datasetsfilenam seearch within survey variabl label interest var search_variable_label dataset_filenam namesg search_term fever headvar specifi essenti term result return dataset result search term search_variable_label dataset_filenam namesg search_term fever essential_term primaquin also use regex queri prefer pass regex true var search_variable_label dataset_filenam namesg search_term fevernet regex true gener roxygen edit hand pleas edit document rcacher nameclient_cache_d aliasclient_cache_d titlepul last cach date usag client_cache_dateroot argument itemrootcharact root path client cach survey etc store descript pull last cach date gener roxygen edit hand pleas edit document rutilsr nameresponse_to_json aliasresponse_to_json titleconvert respons json first convert respons text usag response_to_jsonx argument itemxa respons descript convert respons json first convert respons text gener roxygen edit hand pleas edit document rshapesr namedownload_boundari aliasdownload_boundari titledh spatial boundari usag download_boundari surveynum null surveyid null countryid null method sf quiet_download fals quiet_pars true argument itemsurveynumnumer survey number download valu surveynum found dataset survey endpoint dh api access use codelinkdhs_dataset codelinkdhs_survey default null caus surveyid use find survey itemsurveyidnumer survey id download valu surveyid found dataset survey endpoint dh api access use codelinkdhs_dataset codelinkdhs_survey default null caus surveynum use find survey itemcountryidlett dh countri code countri survey download default null caus countrycod look api itemmethodcharact download shape file read default sf use codesfst_read currenlti also specifi rgdal read file use rgdalreadogr return file path file use method zip itemquiet_downloadwheth download file quietli pass download_fil default fals itemquiet_parsewheth read boundari dataset quietli appli method sf default true valu return either spatial file spatialpolygonsdatafram vector file path boundari download descript download spatial boundari detail download spatial boundari dh spatial repositori found urlhttpsspatialdatadhsprogramcomhom exampl dontrun use surveynum re download_boundariessurveynum countryid af use surveyid countryid re download_boundariessurveyid afoth use rgdal re download_boundariessurveynum countryid af method rgdal gener roxygen edit hand pleas edit document rapi_endpointsr namedhs_publ aliasdhs_publ titleapi request dh public usag dhs_public countryid null selectsurvey null indicatorid null surveyid null surveyyear null surveyyearstart null surveyyearend null surveytyp null surveycharacteristicid null tagid null f null returnfield null perpag null page null client null forc fals all_result true argument itemcountryidsspecifi comma separ list countri id filter list countri use codedhs_countriesreturnfieldsccountrynamedhs_countrycod itemselectsurveysspecifi filter data latest survey includ selectsurveystru request note pleas use paramet conjunct countrycod surveytyp indicatorid best result itemindicatoridsspecifi comma separ list indic id filter list indic use codedhs_indicatorsreturnfieldscindicatoridlabeldefinit itemsurveyidsspecifi comma separ list survey id filter list survey use codedhs_surveysreturnfieldscsurveyidsurveyyearlabel surveytypecountrynam itemsurveyyearspecifi comma separ list survey year filter itemsurveyyearstartspecifi rang survey year filter public surveyyearstart inclus valu use alon conjunct surveyyearend itemsurveyyearendspecifi rang survey year filter public surveyyearend inclus valu use alon conjunct surveyyearstart itemsurveytypespecifi survey type filter itemsurveycharacteristicidsspecifi survey characterist id filter public countri specifi survey characterist list survey characterist use codedhs_surveysreturnfieldscsurveyidsurveyyearlabel surveytypecountrynam itemtagidsspecifi tag id filter public survey contain indic specifi tag list tag use codedhs_tag itemfy specifi format data return queri html json pjson geojson jsonp xml csv default data format json itemreturnfieldsspecifi list attribut return itemperpagespecifi number result return per page default api return result itempageallow specifi page number obtain api request default api return page itemclientif api request cach provid client object creat codelinkclient_dh itemforceshould forc fetch api result ignor cach result default fals itemall_resultsboolean result return fals specifi page return default true valu return codedatat less codereturnfield provid public detail inform public detail descript attribut return provid urlhttpsapidhsprogramcomrestdhspublicationsfield descript api request dh public exampl dontrun main use public api endpoint find survey publish report result conduct survey dat dhs_public complet list exampl argument public api endpoint provid given copi exampl list api httpsapidhsprogramcomapipublicationscfm dat dhs_publicationscountryidsegall_resultsfals dat dhs_publicationsselectsurveyslatestall_resultsfals dat dhs_publicationsindicatoridsfe_frtr_w_tfrall_resultsfals dat dhs_publicationssurveyidssndhsall_resultsfals dat dhs_publicationssurveyyearall_resultsfals dat dhs_publicationssurveyyearstartall_resultsfals dat dhs_publicationssurveyyearstart surveyyearend all_resultsfals dat dhs_publicationssurveytypedhsall_resultsfals dat dhs_publicationssurveycharacteristicidsall_resultsfals dat dhs_publicationstagidsall_resultsfals dat dhs_publicationsfhtmlall_resultsfals gener roxygen edit hand pleas edit document rapi_endpointsr namedhs_data_upd aliasdhs_data_upd titleapi request dh data updat usag dhs_data_upd lastupd null f null returnfield null perpag null page null client null forc fals all_result true argument itemlastupdatespecifi date unix time filter updat result data updat specifi date return itemfy specifi format data return queri html json pjson geojson jsonp xml csv default data format json itemreturnfieldsspecifi list attribut return itemperpagespecifi number result return per page default api return result itempageallow specifi page number obtain api request default api return page itemclientif api request cach provid client object creat codelinkclient_dh itemforceshould forc fetch api result ignor cach result default fals itemall_resultsboolean result return fals specifi page return default true valu return codedatat less codereturnfield provid indic survey addedupd remov detail descript attribut return provid urlhttpsapidhsprogramcomrestdhsdataupdatesfield descript api request dh data updat exampl dontrun api endpoint data updat avail within dh use endpoint use lot within rdh exampl use keep end user cach date exampl find updat occur dat dhs_data_updateslastupd complet list exampl argument data updat api endpoint provid given copi exampl list api httpsapidhsprogramcomapidataupdatescfm dat dhs_data_updateslastupdateall_resultsfals dat dhs_data_updatesfhtmlall_resultsfals gener roxygen edit hand pleas edit document rauthenticationr nameauthenticate_dh aliasauthenticate_dh titledh websit authent usag authenticate_dhsconfig argument itemconfigobject class rdhs_config produc read_rdhs_config must contain valid email project password valu return list length item itemuser_nam email usual itemuser_pass password provid itemproj_id project number descript authent user dh websit detail user one project contain first charact provid project prompt choos project want choic save enter r session note credit function urlhttpsgithubcomajdamicolodownblobmasterrdhsr gener roxygen edit hand pleas edit document rutilsr nameresponse_is_json aliasresponse_is_json titlecheck respons json look respons header usag response_is_jsonx argument itemxa respons descript check respons json look respons header gener roxygen edit hand pleas edit document rread_datasetsr nameread_dhs_dataset aliasread_dhs_dataset titleread dh standard file type usag read_dhs_datasetfil dataset reformat fals all_low true argument itemfilepath zip file read itemdatasetrow codelinkdhs_dataset correspond file itemreformatboolean detail dataset nice reformat default fals itemall_lowerlog indic whether valu label lower case default true itemextra argument pass either codelinkread_dhs_dta codelinkread_dhs_flat descript read dh standard file type gener roxygen edit hand pleas edit document rapi_endpointsr namedhs_ind aliasdhs_ind titleapi request dh indic usag dhs_indic countryid null indicatorid null surveyid null surveyyear null surveyyearstart null surveyyearend null surveytyp null surveycharacteristicid null tagid null f null returnfield null perpag null page null client null forc fals all_result true argument itemcountryidsspecifi comma separ list countri id filter list countri use codedhs_countriesreturnfieldsccountrynamedhs_countrycod itemindicatoridsspecifi comma separ list indic id filter list indic use codedhs_indicatorsreturnfieldscindicatoridlabeldefinit itemsurveyidsspecifi comma separ list survey id filter list survey use codedhs_surveysreturnfieldscsurveyidsurveyyearlabel surveytypecountrynam itemsurveyyearspecifi survey year filter itemsurveyyearstartspecifi rang survey year filter indic surveyyearstart inclus valu use alon conjunct surveyyearend itemsurveyyearendspecifi rang survey year filter indic surveyyearend inclus valu use alon conjunct surveyyearstart itemsurveytypespecifi comma separ list survey year filter itemsurveycharacteristicidsspecifi survey characterist id filter indic survey specifi survey characterist list survey characterist use codedhs_surveysreturnfieldscsurveyidsurveyyearlabel surveytypecountrynam itemtagidsspecifi tag id filter indic specifi tag list tag use codedhs_tag itemfy specifi format data return queri html json pjson geojson jsonp xml csv default data format json itemreturnfieldsspecifi list attribut return itemperpagespecifi number result return per page default api return result itempageallow specifi page number obtain api request default api return page itemclientif api request cach provid client object creat codelinkclient_dh itemforceshould forc fetch api result ignor cach result default fals itemall_resultsboolean result return fals specifi page return default true valu return codedatat less codereturnfield provid indic attribut indic detail descript attribut return provid urlhttpsapidhsprogramcomrestdhsindicatorsfield descript api request dh indic exampl dontrun common use indic data api search list health indic within given characterist categori anemia test hiv preval micronutri etc exampl return indic relat malaria test rdt dat dhs_indicatorssurveycharacteristicid list differ surveycharacteristicid found herehttpsapidhsprogramcomrestdhssurveycharacteristicsfhtml complet list exampl argument indic api endpoint provid given copi exampl list api httpsapidhsprogramcomapiindicatorscfm dat dhs_indicatorscountryidsegall_resultsfals dat dhs_indicatorsindicatoridsfe_frtr_w_tfrall_resultsfals dat dhs_indicatorssurveyidssndhsall_resultsfals dat dhs_indicatorssurveyyearall_resultsfals dat dhs_indicatorssurveyyearstartall_resultsfals dat dhs_indicatorssurveyyearstart surveyyearend all_resultsfals dat dhs_indicatorssurveytypedhsall_resultsfals dat dhs_indicatorssurveycharacteristicidsall_resultsfals dat dhs_indicatorstagidsall_resultsfals dat dhs_indicatorsfhtmlall_resultsfals gener roxygen edit hand pleas edit document rauthenticationr nameavailable_dataset aliasavailable_dataset titlecr data frame dataset log download usag available_dataset config datasets_api_result null surveys_api_result null argument itemconfigobject class rdhs_config produc read_rdhs_config must contain valid email project password itemdatasets_api_resultsdatat api result dataset endpoint default null gener default declar itemsurveys_api_resultsdatat api result survey endpoint default null gener default declar valu return codedatafram length item itemfileformat itemfiles itemdatasettyp itemsurveynum itemsurveyid itemfiletyp itemfiledatelastmodifi itemsurveyyearlabel itemsurveytyp itemsurveyyear itemdhs_countrycod itemfilenam itemcountrynam itemurl descript dh dataset download note inspir function urlhttpsgithubcomajdamicolodownblobmasterrdhsr gener roxygen edit hand pleas edit document rdatar doctypedata namemodel_dataset aliasmodel_dataset titledh model dataset format datafram observ variabl codemodel_dataset datafram model dataset item itemfileformat itemfiles itemdatasettyp itemsurveynum itemsurveyid itemfiletyp itemfiledatelastmodifi itemsurveyyearlabel itemsurveytyp itemsurveyyear itemdhs_countrycod itemfilenam itemcountrynam itemurl usag datamodel_dataset descript model dataset dh websit datafram analog return get_available_dataset keyworddataset gener roxygen edit hand pleas edit document rrdhsr doctypepackag namerdh aliasrdh aliasrdhspackag titlepkgrdh dh databas r descript provid client queri dh api survey indic metadata identifi survey dataset analysi download survey dataset dh websit load dataset associ metadata r extract variabl combin dataset pool analysi seealso use link item item urlhttpsdocsropensciorgrdh item report bug urlhttpsgithubcomropenscirdhsissu author strongmaintain oj watson emailojwatsonhotmailcouk hrefhttpsorcidorgorcid author item item jeff eaton hrefhttpsorcidorgxorcid contributor item item luci dagostino mcgowan hrefhttpsorcidorgorcid review item duncan gillespi review gener roxygen edit hand pleas edit document rdatar doctypedata namedhs_gps_data_format aliasdhs_gps_data_format titledh gp data format format datafram observ variabl codedhs_gps_data_format datafram gp data descript item itemnam itemtyp itemdescript usag datadhs_gps_data_format descript data frame describ data encod dh gp file keyworddataset gener roxygen edit hand pleas edit document rapi_endpointsr namedhs_ui_upd aliasdhs_ui_upd titleapi request dh ui updat usag dhs_ui_upd lastupd null f null returnfield null perpag null page null client null forc fals all_result true argument itemlastupdatespecifi date unix time filter updat result interfac updat specifi date return itemfy specifi format data return queri html json pjson geojson jsonp xml csv default data format json itemreturnfieldsspecifi list attribut return itemperpagespecifi number result return per page default api return result itempageallow specifi page number obtain api request default api return page itemclientif api request cach provid client object creat codelinkclient_dh itemforceshould forc fetch api result ignor cach result default fals itemall_resultsboolean result return fals specifi page return default true valu return codedatat less codereturnfield provid interfac addedupd remov detail descript attribut return provid urlhttpsapidhsprogramcomrestdhsuiupdatesfield descript api request dh ui updat exampl dontrun main use ui updat api search last time chang ui exampl return chang sinc dat dhs_ui_updateslastupd complet list exampl argument ui updat api endpoint provid given copi exampl list api httpsapidhsprogramcomapiuiupdatescfm dat dhs_ui_updateslastupdateall_resultsfals dat dhs_ui_updatesfhtmlall_resultsfals gener roxygen edit hand pleas edit document rapi_endpointsr namedhs_info aliasdhs_info titleapi request dh info usag dhs_info infotyp null f null returnfield null perpag null page null client null forc fals all_result true argument iteminfotypespecifi type info obtain inform request default version infotypevers default provid version api exampl httpsapidhsprogramcomrestdhsinfoinfotypevers infotypecit provid citat api includ applic data exampl httpsapidhsprogramcomrestdhsinfoinfotypecit itemfy specifi format data return queri html json pjson geojson jsonp xml csv default data format json itemreturnfieldsspecifi list attribut return itemperpagespecifi number result return per page default api return result itempageallow specifi page number obtain api request default api return page itemclientif api request cach provid client object creat codelinkclient_dh itemforceshould forc fetch api result ignor cach result default fals itemall_resultsboolean result return fals specifi page return default true valu return codedatat less codereturnfield provid field describ type inform request valu correspond inform request urlhttpsapidhsprogramcomrestdhsinfofield descript api request dh info exampl dontrun main use info api confirm version api use provid current citat data dat dhs_infoinfotypevers complet list exampl argument info api endpoint provid given copi exampl list api httpsapidhsprogramcomapiinfocfm dat dhs_infoinfotypeversionall_resultsfals dat dhs_infoinfotypecitationall_resultsfals dat dhs_infofhtmlall_resultsfals gener roxygen edit hand pleas edit document rextractionr nameextract aliasextract titledh survey question extract dataset usag extractionquest available_dataset geo_survey add_geo fals argument itemquestionsoutput coder_client_dhspublic_methodssurvey_quest itemavailable_datasetsdataset could avail output coder_client_dhspublic_methodsavailable_dataset itemgeo_surveysgeograph data survey file path itemadd_geoboolean detail geograph dataset ad valu return datafram variabl correspond request variabl question object also geograph data relat column add_geotru set lastli surveyid variabl also append correspond codelinkdhs_datasetssurveyid descript creat list survey respons extract use output coder_client_dhspublic_methodssurvey_quest gener roxygen edit hand pleas edit document ruir nameget_available_dataset aliasget_available_dataset titleget avail dataset usag get_available_datasetsclear_cach fals argument itemclear_cacheboolean detail would like clear cach avail dataset first default set fals option avail make sure client fetch new dataset recent given access valu codedatafram variabl detail survey download url download link countri survey year etc info link descript detail dataset login credenti access detail search dh websit dataset download result function cach client recent request new dataset dh websit specifi clear cach first get new set dataset avail function use codelinkget_dataset thu use clear_cache_first true use get_dataset recent request new dataset exampl dontrun grab dataset dataset get_available_dataset look last one model dataset dh taildataset gener roxygen edit hand pleas edit document rapi_endpointsr namedhs_dataset aliasdhs_dataset titleapi request dh dataset usag dhs_dataset countryid null selectsurvey null surveyid null surveyyear null surveyyearstart null surveyyearend null surveytyp null fileformat null filetyp null f null returnfield null perpag null page null client null forc fals all_result true argument itemcountryidsspecifi comma separ list countri id filter list countri use codedhs_countriesreturnfieldsccountrynamedhs_countrycod itemselectsurveysspecifi filter data latest survey includ selectsurveystru request note pleas use paramet conjunct countrycod surveytyp indicatorid best result itemsurveyidsspecifi comma separ list survey id filter list survey use codedhs_surveysreturnfieldscsurveyidsurveyyearlabel surveytypecountrynam itemsurveyyearspecifi comma separ list survey year filter itemsurveyyearstartspecifi rang survey year filter dataset surveyyearstart inclus valu use alon conjunct surveyyearend itemsurveyyearendspecifi rang survey year filter dataset surveyyearend inclus valu use alon conjunct surveyyearstart itemsurveytypespecifi survey type filter itemfileformatspecifi file format survey use file format type name sa stata spss flat hierarch file format code view list file format code urlhttpsdhsprogramcomdatafiletypesandnamescfm itemfiletypespecifi type dataset gener survey eg household women men children coupl etc view list file type code urlhttpsdhsprogramcomdatafiletypesandnamescfm itemfy specifi format data return queri html json pjson geojson jsonp xml csv default data format json itemreturnfieldsspecifi list attribut return itemperpagespecifi number result return per page default api return result itempageallow specifi page number obtain api request default api return page itemclientif api request cach provid client object creat codelinkclient_dh itemforceshould forc fetch api result ignor cach result default fals itemall_resultsboolean result return fals specifi page return default true valu return codedatat less codereturnfield provid dataset correspond detail detail descript attribut return provid urlhttpsapidhsprogramcomrestdhsdatasetsfield descript api request dh dataset exampl dontrun api endpoint dataset avail within dh websit use endpoint use lot within rdh exampl use find file name size dataset file well last modifi enabl us see dataset updat may thu date exampl find dataset modifi dat dhs_dataset date rdhsmdy_hmsdatfiledatelastmodifi year asposixltd tz tzdatesyear modified_in_ whichyear complet list exampl argument dataset api endpoint provid given copi exampl list api httpsapidhsprogramcomapidatasetscfm dat dhs_datasetscountryidsegall_resultsfals dat dhs_datasetsselectsurveyslatestall_resultsfals dat dhs_datasetssurveyidssndhsall_resultsfals dat dhs_datasetssurveyyearall_resultsfals dat dhs_datasetssurveyyearstartall_resultsfals dat dhs_datasetssurveyyearstart surveyyearend all_resultsfals dat dhs_datasetssurveytypedhsall_resultsfals dat dhs_datasetsfileformatstataall_resultsfals dat dhs_datasetsfileformatdtall_resultsfals dat dhs_datasetsfiletypekrall_resultsfals dat dhs_datasetsfgeojsonall_resultsfals gener roxygen edit hand pleas edit document rauthenticationr namedownload_dataset aliasdownload_dataset titlecr data frame dataset log download usag download_dataset config desired_dataset download_opt reformat true all_low true output_dir_root null argument itemconfigobject class rdhs_config produc read_rdhs_config must contain valid email project password itemdesired_datasetrow codeavailable_dataset itemdownload_optioncharact dictat survey store download must one item itemzip zip z p zip match itemrd read save rd r rdh match itemboth rd extract b h match itemreformatboolean detail whether dataset rd reformat eas use later default true itemall_lowerlog indic whether valu label lower case default true itemoutput_dir_rootdirectori file download itemani argument pass codelinkread_dhs_dataset descript download dataset specifi use output codeavailable_dataset gener roxygen edit hand pleas edit document rread_dhs_flatr nameread_dhs_flat aliasread_dhs_flat titleread dh flat file data set usag read_dhs_flatzfil all_low true meta_sourc null argument itemzfilepath zip file contain flat file dataset usual end filenam xxxxxxflzip itemall_lowerlog indic whether valu label lower case default true itemmeta_sourcecharact string indic metadata sourc file data dictionari default codenul first tri use codedcf sp found valu data frame valu label variabl store label class descript function read dh recod dataset zip flat file dataset exampl mrfl_zip tempfil downloadfilehttpsdhsprogramcomdatamodel_datadhszzmrflzip mrfl_zipmodewb mr rdhsread_dhs_flatmrfl_zip attrmrmv label classmrmv headmrmv tablemrmv tablehavenas_factormrmv seealso codelinkhavenlabel codelinkread_dhs_dta inform dh filetyp content distribut dataset zip file see urlhttpsdhsprogramcomdatafiletypesandnamescfmcp_jump_ gener roxygen edit hand pleas edit document rapi_endpointsr namedhs_data aliasdhs_data titleapi request dh indic data usag dhs_data countryid null indicatorid null surveyid null selectsurvey null surveyyear null surveyyearstart null surveyyearend null surveytyp null surveycharacteristicid null characteristiccategori null characteristiclabel null tagid null breakdown null returngeometri null f null returnfield null perpag null page null client null forc fals all_result true argument itemcountryidsspecifi comma separ list countri id filter list countri use codedhs_countriesreturnfieldsccountrynamedhs_countrycod itemindicatoridsspecifi comma separ list indic id filter list indic use codedhs_indicatorsreturnfieldscindicatoridlabeldefinit itemsurveyidsspecifi comma separ list survey id filter list survey use codedhs_surveysreturnfieldscsurveyidsurveyyearlabel surveytypecountrynam itemselectsurveysspecifi filter data latest survey ad selectsurveyslatest conjunct countri code andor survey type pleas note indic present latest survey filter api indic data call return latest survey data specif set indic present add selectsurveysbyind conjunct indic id countri code andor survey type instead use selectsurveyslatest itemsurveyyearspecifi comma separ list survey year filter itemsurveyyearstartspecifi rang survey year filter data surveyyearstart inclus valu use alon conjunct surveyyearend itemsurveyyearendspecifi rang survey year filter data surveyyearend inclus valu use alon conjunct surveyyearstart itemsurveytypespecifi survey type filter itemsurveycharacteristicidsspecifi survey characterist id filter data survey specifi survey characterist list survey characterist use codedhs_surveysreturnfieldscsurveyidsurveyyearlabel surveytypecountrynam itemcharacteristiccategoryspecifi survey characterist categori filter data survey specifi survey characterist categori queri case insensit recogn exact phrase match exampl characteristiccategorywealth return result characterist categori wealth characteristiccategorywealth quintil return result characterist categori wealth quintil itemcharacteristiclabelspecifi survey characterist categori filter data survey specifi survey characterist categori queri case insensit recogn exact phrase match use characteristiclabel conjunct characteristiccategori itemtagidsspecifi tag id filter data indic specifi tag list tag use codedhs_tag itembreakdowndata request differ level via breakdown paramet default nation data return provid total nation level breakdownsubn data provid valu subnat level breakdownbackground provid total categor basi exampl urbanrur educ wealth level breakdownal provid data includ disaggreg data itemreturngeometrycoordin request api includ returngeometrytru request default valu fals itemfy specifi format data return queri html json pjson geojson jsonp xml csv default data format json itemreturnfieldsspecifi list attribut return itemperpagespecifi number result return per page default api return result itempageallow specifi page number obtain api request default api return page itemclientif api request cach provid client object creat codelinkclient_dh itemforceshould forc fetch api result ignor cach result default fals itemall_resultsboolean result return fals specifi page return default true valu return codedatat less codereturnfield provid data particular queri detail properti return row data provid urlhttpsapidhsprogramcomrestdhsdatafield descript api request dh indic data exampl dontrun common use indic data api search specif health indic given countri exampl return total malaria preval accord rdt given indic ml_pmal_c_rdt seneg sinc dat dhs_data indicatoridsml_pmal_c_rdt countryidssn surveyyearstart complet list exampl argument data api endpoint provid given copi exampl list api httpsapidhsprogramcomapidatacfm dat dhs_datacountryidsegall_resultsfals dat dhs_dataindicatoridsfe_frtr_w_tfrall_resultsfals dat dhs_datasurveyidssndhsall_resultsfals dat dhs_dataselectsurveyslatestall_resultsfals dat dhs_dataselectsurveysbyind indicatoridsfe_ceba_w_ch all_resultsfals dat dhs_datasurveyyearall_resultsfals dat dhs_datasurveyyearstartall_resultsfals dat dhs_datasurveyyearstart surveyyearend all_resultsfals dat dhs_datasurveytypedhsall_resultsfals dat dhs_datasurveycharacteristicidsall_resultsfals dat dhs_datacharacteristiccategorywealth quintileall_resultsfals dat dhs_databreakdownal countryidsaz characteristiclabel all_resultsfals dat dhs_datatagidsall_resultsfals dat dhs_databreakdownsubnationalall_resultsfals dat dhs_databreakdownbackgroundall_resultsfals dat dhs_databreakdownallall_resultsfals dat dhs_datafhtmlall_resultsfals dat dhs_datafgeojson returngeometrytrueall_resultsfals gener roxygen edit hand pleas edit document rread_datasetsr nameread_zipdata aliasread_zipdata titleread filetyp zip folder base file end usag read_zipdatazfil pattern dta readfn havenread_dta argument itemzfilepath zip file contain flat file dataset usual end filenam xxxxxxflzip itempatternstr detail filetyp read within zip mean grep default dta itemreadfnfunct object use read identifi file within zip default havenread_dta itemaddit argument readfn descript read filetyp zip folder base file end exampl dontrun get model dataset includ packag model_dataset model_dataset download zip g get_dataset dataset_filenam model_datasetsfilenam download_opt zip read zip function use intern rdh use get_dataset download_opt rd default r read_zipdata g pattern dta pass function read file arg r read_zipdata g pattern dta readfn havenread_dta encod utf gener roxygen edit hand pleas edit document rread_datasetsr namedata_and_label aliasdata_and_label titlecr list dataset variabl name usag data_and_labelsdataset argument itemdatasetani read dataset creat codeget_dataset either file path read use codereadrd descript function give former output get_dataset nice definit dataset attach togeth exampl dontrun get model dataset includ packag model_dataset model_dataset download one g get_datasetsdataset_filenam model_datasetsfilenam dl data_and_labelsgzzbrdt easili survey question label easili access grepb net dlvariable_namesdescript valu true gener roxygen edit hand pleas edit document rutilsr namefile_dataset_format aliasfile_dataset_format titlereturn dataset file end given filenam usag file_dataset_formatfile_format argument itemfile_formatfileformat file taken api eg codedhs_datasetsreturnfield fileformat valu one datdatsasbdatsav dta descript return dataset file end given filenam exampl file_format stata dataset dta identicalrdhsfile_dataset_formatfile_formatdta gener roxygen edit hand pleas edit document rapi_endpointsr namedhs_geometri aliasdhs_geometri titleapi request dh geometri usag dhs_geometri countryid null surveyid null surveyyear null surveyyearstart null surveyyearend null surveytyp null f null returnfield null perpag null page null client null forc fals all_result true argument itemcountryidsspecifi comma separ list countri id filter list countri use codedhs_countriesreturnfieldsccountrynamedhs_countrycod itemsurveyidsspecifi comma separ list survey id filter list survey use codedhs_surveysreturnfieldscsurveyidsurveyyearlabel surveytypecountrynam itemsurveyyearspecifi comma separ list survey year filter itemsurveyyearstartspecifi rang survey year filter geometri surveyyearstart inclus valu use alon conjunct surveyyearend itemsurveyyearendspecifi rang survey year filter geometri surveyyearend inclus valu use alon conjunct surveyyearstart itemsurveytypespecifi survey type filter itemfy specifi format data return queri html json pjson geojson jsonp xml csv default data format json itemreturnfieldsspecifi list attribut return itemperpagespecifi number result return per page default api return result itempageallow specifi page number obtain api request default api return page itemclientif api request cach provid client object creat codelinkclient_dh itemforceshould forc fetch api result ignor cach result default fals itemall_resultsboolean result return fals specifi page return default true valu return codedatat less codereturnfield provid geometri correspond detail detail descript attribut return provid urlhttpsapidhsprogramcomrestdhsgeometryfield descript api request dh geometri exampl dontrun geometri api endpoint return spatial geometri countri use recreat spatial polygon given countri exampl return coordin seneg dh survey dat dhs_geometrysurveyidssndh moment function convert coordin return api next version rdh interest look geojson vignett altern way produc plot complet list exampl argument geometri api endpoint provid given copi exampl list api httpsapidhsprogramcomapigeometrycfm dat dhs_geometrycountryidsegall_resultsfals dat dhs_geometrysurveyidssndhsall_resultsfals dat dhs_geometrysurveyyearall_resultsfals dat dhs_geometrysurveyyearstartall_resultsfals dat dhs_geometrysurveyyearstart surveyyearend all_resultsfals dat dhs_geometrysurveytypedhsall_resultsfals dat dhs_geometryfgeojsonall_resultsfals gener roxygen edit hand pleas edit document ruir namesearch_vari aliassearch_vari titlesearch survey variabl usag search_variablesdataset_filenam variabl essential_vari null argument itemdataset_filenamesth desir filenam download found one return field codelinkdhs_dataset itemvariablescharact vector survey variabl look itemessential_variablescharact vector variabl need present code present survey survey return function default null itemani argument pass codelinkdownload_dataset valu codedatafram survey match found result code descript descript search across dataset specifi request survey variabl function codelinksearch_variable_label use provid question argument codelinkextract_dh detail use function codelinkget_dataset look survey variabl requir variabl exampl dontrun get model dataset includ packag model_dataset model_dataset download two g get_datasetsdataset_filenam model_datasetsfilenam seearch within survey variabl search_vari dataset_filenam namesg variabl cvvml specifi essenti variabl dataset variabl els variabl return dataset search_vari dataset_filenam namesg variabl cvvml essential_vari ml gener roxygen edit hand pleas edit document ruir nameget_rdhs_config aliasget_rdhs_config titleget rdh config usag get_rdhs_config valu codedatafram contain rdh config descript get rdh config use detail return config use rdh moment either datafram class rdhs_config null set yet gener roxygen edit hand pleas edit document rutilsr name alia titlepip oper usag lh rh descript see codelinkmagrittrpip detail keywordintern gener roxygen edit hand pleas edit document rutilsr namecollapse_api_respons aliascollapse_api_respons titlecollaps api respons list usag collapse_api_responsesx argument itemxlist list api collaps descript collaps api respons list gener roxygen edit hand pleas edit document rutilsr namerbind_list_bas aliasrbind_list_bas titleimplement datat rbindlist usag rbind_list_basex argument itemxlist list convert datafram descript implement datat rbindlist gener roxygen edit hand pleas edit document rrbind_labelledr namerbind_label aliasrbind_label titlecombin data frame column class label usag rbind_label label null warn true argument itemdata frame bind togeth potenti column class label first argument list data frame similar plyrrbindfil itemlabelsa name list provid vector valu label describ handl column class label see detail usag itemwarnlog indic warn combin variabl differ valu label default true valu data frame descript combin data frame column class label detail argument label provid option handl bind column class label typic use provid name list element label column element list either vector label appli column charact string concaten indic label concaten uniqu label distinct valu combin vector accomplish convert charact string bind cast back label label column label provid label argument default behaviour label first data frame label column inherit combin data see exampl exampl df datafram area havenlabelledcl l l creg reg reg climat havenlabelledcl l l ccoldhot df datafram area havenlabelledcl l creg reg b climat havenlabelledcl l ccold warm default data frame inherit label first df incorrect reg reg differ countri exampl dfa rbind_labelleddf df havenas_factordfa concaten valu label area region code separ origin integ valu lost necess level climat code hot warm code outcom inherit hot df default dfb rbind_labelleddf df labelslistarea concaten dfb havenas_factordfb specifi code warmhot rather inherit hot dfc rbind_labelleddf df labelslistarea concaten climat ccold warmhot dfcclimat havenas_factordfc use climateconcaten code warm hot differ dfd rbind_labelleddf df labelslistarea concaten climateconcaten dfd havenas_factordfd gener roxygen edit hand pleas edit document rrbind_labelledr namedelabel_df aliasdelabel_df titleconvert label data frame data frame charact usag delabel_dfdf argument itemdfdata frame convert label element like output codelinkextract_dh valu data frame delabel element descript convert label data frame data frame charact exampl df datafram area havenlabelledcl l l creg reg reg climat havenlabelledcl l l ccoldhot df_char delabel_dfdf df gener roxygen edit hand pleas edit document rconfigr nameupdate_rdhs_config aliasupdate_rdhs_config titleupd current rdh config usag update_rdhs_config password fals email null project null cache_path null config_path null global null verbose_download null verbose_setup null timeout null data_fram null project_choic null argument itempasswordlog updat password secur default fals itememailcharact email use login dh websit itemprojectcharact name dh project dataset download itemcache_pathcharact directori path dataset api call cach left bank suitabl directori creat within user cach directori oper system permiss grant itemconfig_pathcharact config file save global configur config_path must rdhsjson local configur config_path must rdhsjson left bank config file store within user cach directori oper system permiss grant itemgloballog config_path interpret global config path local one default true itemverbose_downloadlog dataset download progress bar shown default fals itemverbose_setuplog rdh setup messag print default true itemtimeoutnumer long second wait dh api respond default itemdata_framefunct convert api call left blank codedata_fram object return must pass charact exampl could codedatatableasdatat codetibbleastibbl itemproject_choicenumer project choic see codeauthenticate_dh info descript codeupdate_rdhs_config allow updat element rdh config without set complet via codeset_rdhs_config config element provid new chang requir updat password set codepassword true ask secur new password gener roxygen edit hand pleas edit document rread_datasetsr nameget_labels_from_dataset aliasget_labels_from_dataset titlereturn variabl label dataset usag get_labels_from_datasetdata return_al true argument itemdataa codedatafram extract variabl label itemreturn_alllog whether return variabl codetru label valu codedatafram consist variabl name label descript return variabl label store codelabel attribut gener roxygen edit hand pleas edit document rapi_endpointsr namedhs_survey aliasdhs_survey titleapi request dh survey usag dhs_survey countryid null indicatorid null selectsurvey null surveyid null surveyyear null surveyyearstart null surveyyearend null surveytyp null surveystatu null surveycharacteristicid null tagid null f null returnfield null perpag null page null client null forc fals all_result true argument itemcountryidsspecifi comma separ list countri id filter list countri use codedhs_countriesreturnfieldsccountrynamedhs_countrycod itemindicatoridsspecifi comma separ list indic id filter list indic use codedhs_indicatorsreturnfieldscindicatoridlabeldefinit itemselectsurveysspecifi filter data latest survey includ selectsurveystru request note pleas use paramet conjunct countrycod surveytyp indicatorid best result itemsurveyidsspecifi comma separ list survey id filter list survey use codedhs_surveysreturnfieldscsurveyidsurveyyearlabel surveytypecountrynam itemsurveyyearspecifi comma separ list survey year filter itemsurveyyearstartspecifi rang survey year filter survey surveyyearstart inclus valu use alon conjunct surveyyearend itemsurveyyearendspecifi rang survey year filter survey surveyyearend inclus valu use alon conjunct surveyyearstart itemsurveytypespecifi survey type filter itemsurveystatuseveri survey assign survey statu queri base surveystatu paramet surveystatusavail default provid list survey dh api contain indic data surveystatuscomplet provid list complet survey note data may avail everi complet survey surveystatusongo provid list ongo survey surveystatusal provid list survey itemsurveycharacteristicidsspecifi survey characterist id filter survey specifi survey characterist list survey characterist use codedhs_surveysreturnfieldscsurveyid surveyyearlabelsurveytypecountrynam itemtagidsspecifi tag id filter survey contain indic specifi tag list tag use codedhs_tag itemfy specifi format data return queri html json pjson geojson jsonp xml csv default data format json itemreturnfieldsspecifi list attribut return itemperpagespecifi number result return per page default api return result itempageallow specifi page number obtain api request default api return page itemclientif api request cach provid client object creat codelinkclient_dh itemforceshould forc fetch api result ignor cach result default fals itemall_resultsboolean result return fals specifi page return default true valu return codedatat less codereturnfield provid survey detail inform survey detail descript attribut return provid urlhttpsapidhsprogramcomrestdhssurveysfield descript api request dh survey exampl dontrun common use survey api endpoint queri countri conduct survey sinc given year eg sinc dat dhs_surveyssurveyyearstart addit countri conduct non dh survey data thse also avail within dh websiteapi queri dat dhs_surveyssurveytypemi lastli may interest know anyth peculiar particular survey implement found look within footnot variabl within data frame return exampl madagascar mi datfootnotesdatsurveyid mdmi complet list exampl argument survey api endpoint provid given copi exampl list api httpsapidhsprogramcomapisurveyscfm dat dhs_surveyscountryidsegall_resultsfals dat dhs_surveysindicatoridsfe_frtr_w_tfrall_resultsfals dat dhs_surveysselectsurveyslatestall_resultsfals dat dhs_surveyssurveyidssndhsall_resultsfals dat dhs_surveyssurveyyearall_resultsfals dat dhs_surveyssurveyyearstartall_resultsfals dat dhs_surveyssurveyyearstart surveyyearend all_resultsfals dat dhs_surveyssurveytypedhsall_resultsfals dat dhs_surveyssurveystatussurveysall_resultsfals dat dhs_surveyssurveystatuscompletedall_resultsfals dat dhs_surveyssurveystatusongoingall_resultsfals dat dhs_surveyssurveystatusallall_resultsfals dat dhs_surveyssurveycharacteristicidsall_resultsfals dat dhs_surveystagidsall_resultsfals dat dhs_surveysfhtmlall_resultsfals gener roxygen edit hand pleas edit document rconfigr nameset_rdhs_config aliasset_rdhs_config titleset rdh config usag set_rdhs_config email null project null cache_path null config_path null global true verbose_download fals verbose_setup true data_fram null timeout password_prompt fals prompt true argument itememailcharact email use login dh websit itemprojectcharact name dh project dataset download itemcache_pathcharact directori path dataset api call cach left bank suitabl directori creat within user cach directori oper system permiss grant itemconfig_pathcharact config file save global configur config_path must rdhsjson local configur config_path must rdhsjson left bank config file store within user cach directori oper system permiss grant itemgloballog config_path interpret global config path local one default true itemverbose_downloadlog dataset download progress bar shown default fals itemverbose_setuplog rdh setup messag print default true itemdata_framefunct convert api call left blank codedata_fram object return must pass charact exampl could codedatatableasdatat codetibbleastibbl itemtimeoutnumer long second wait dh api respond default itempassword_promptlog whether user ask type password even previous set default fals set true mistyp password use codeset_rdhs_config itempromptlog whether user prompt permiss write file need chang user default true valu invis return rdh config object descript set configur set use rdh detail set configur enabl api result cach well enabl dataset dh websit download also cach enabl result cach either provid valid cache_path argument allow rdh write user cach directori oper system later leav cache_path argument blank explicitli prompt give permiss rdh save result directori api call download dataset save temp directori delet r session close allow rdh download dataset dh websit provid email project argument prompt type login password secur provid config email project password cache_path etc save locat provid config_path argument provid config_path either set within user cach directori given permiss otherwis place within temp directori creat config also option specifi whether config_path provid use local configur global one control use global argument default set equal true global config save within r root directori directori new r session start set global fals config file save within current directori use creat new dh project new piec work want keep dataset download project separ anoth want config file save differ directori must creat file rdhsjson first directori specifi full path well set global equal fals asid use dh program see survey conduct use thu help creat new project new piec work eg differ public howev would still recommend set global config use cache_path differ project save time download dataset download lastli decid api call dh api format provid argument data_fram left blank api call return datafram object howev could return api call datat object use datatableasdatat exampl dontrun normal set would prvide email project prompt password run requir prompt set_rdhs_configemail blahgmailcom project blah config_path rdhsjson global fals otherwis specifi prompt fals set_rdhs_config config_path rdhsjson global fals prompt fals look set use codeget_rdhs_config config get_rdhs_config gener roxygen edit hand pleas edit document rread_datasetsr namefactor_format aliasfactor_format titlereformat label read in factor label usag factor_formatr reformat fals all_low true argument itemresdataset format itemreformatboolean whether remov factor label return unfactor data default fals itemall_lowerlog indic whether valu label lower case default true valu list format dataset code descript descript reformat label read in factor label gener roxygen edit hand pleas edit document rutilsr nameunzip_speci aliasunzip_speci titleunzip special catch gb usag unzip_speci zipfil file null overwrit true junkpath fals exdir unzip intern settim fals argument itemzipfileth pathnam zip file tild expans see codelinkpathexpand perform itemfilesa charact vector record filepath extract default extract file itemoverwriteif codetru overwrit exist file equival commandunzip otherwis ignor file equival commandunzip n itemjunkpathsif codetru use basenam store filepath extract equival commandunzip j itemexdirth directori extract file equival codeunzip creat necessari itemunzipth method use altern use codegetoptionunzip unixalik may set path commandunzip program itemsettimeslog intern method file time set base time zip file nb appli includ file directori descript unzip special catch gb gener roxygen edit hand pleas edit document rclientr nameclient_dh aliasclient_dh titlemak dh client usag client_dhsconfig null root rappdirs_rdh api_key null argument itemconfigconfig object creat use coderead_rdhs_config itemrootcharact root directori client cach survey etc store default coderappdirs_rdh itemapi_keycharact dh api key default null descript make dh api client sectionmethod describ itemcodedhs_api_request make call dh websit api make request declar api endpoint see codevignetterdh api queri filter provid queri term control mani search result want return default paramet return result format nice datafram nb easier use bespok function includ within packag take form dhs_endpoint eg codelinkdhs_data function also take client argument cach respons emphusag codedhs_api_requestapi_endpoint queri list api_key privateapi_key num_result just_result true emphargu item itemcodeapi_endpoint api endpoint must one possibl endpoint itemcodequeri list queri filter see possibl queri filter term endpoint head dh api websit itemcodeapi_key dh api key default grab key provid client creat itemcodenum_result number result return default loop api search result page result api allow fetch one page specifi number mani result return probabl best leav default itemcodejust_result boolean whether return result http api respons default true probabl best leav emphvalu datafram search result just_resultstru otherwis nest list api respons page requir itemcodeavailable_dataset search dh websit dataset download result function cach client recent request new dataset dh websit specifi clear cach first get new set dataset avail emphusag codeavailable_datasetsclear_cache_first fals emphargu item itemcodeclear_cache_first boolean detail would like clear cach avail dataset first default set fals option avail make sure client fetch new dataset recent given access emphvalu datafram object variabl detail survey download url download link countri survey year etc info link itemcodeget_dataset get dataset cach download dh websit provid filenam specifi one return field codelinkdhs_dataset client log download file request request file unavail log flag first messag make note request dh websit also option control whether download zip file extract convert conveni r codedatafram convert object subsequ save rd object within client root directori dataset folder quickli load need codereadrd also option reformat dataset ensur suitabl parser use preserv meta inform dataset differ survey respons code mean emphusag codeget_datasetsdataset_filenam download_opt rd reformat fals all_low true output_dir_root filepathprivateroot dataset clear_cach fals emphargu item itemcodedataset_filenam desir filenam download found one return field codelinkdhs_dataset altern also pass desir row codelinkdhs_dataset itemcodedownload_opt charact specifi whether dataset download zip import save rd object rd extract rd conveni specifi letter option itemcodereformat boolean concern whether reformat read dataset remov factor label default fals itemcodeall_low logic indic whether valu label lower case default true itemcodeoutput_dir_root root directori dataset store within default download dataset subfold client root call dataset itemcodeclear_cach avail dataset cach clear first allow newli access dataset avail default true itemcod argument pass codelinkread_dhs_dataset emphvalu depend download_opt request ultim file path dataset download interact accordingli itemcodesurvey_quest use function download_survey queri download survey question ask function look download import survey dataset cach download previous download emphusag codesurvey_questionsdataset_filenam search_term null essential_term null regex null rm_na true emphargu item itemcodedataset_filenam desir filenam download found one return field codelinkdhs_dataset itemcodesearch_term charact vector search term term found within survey question descript correspond code descript return itemcodeessential_term charact pattern descript survey question ie function first find survey_quest contain search term regex essential_term remov question contain essential_term default null itemcoderegex regex charact pattern match want specifi regex search pattern specifi argument nb search_term regex suppli argument regex ignor itemcoderm_na na remov default true itemcod argument pass codelinkdownload_dataset emphvalu data frame survey match found result code descript itemcodesurvey_vari use function download_survey look survey provid code emphusag codesurvey_variablesdataset_filenam variabl essential_vari null rm_na true emphargu item itemcodedataset_filenam desir filenam download found one return field codelinkdhs_dataset itemcodevari charact vector survey variabl look itemcodeessential_vari charact vector variabl need present code present survey survey return function default null itemcoderm_na na remov default true itemcod argument pass codelinkdownload_dataset emphvalu data frame survey match found result code descript itemcodeextract function extract dataset use set survey question taken output codesurvey_quest emphusag codeextractquest add_geo fals emphargu item itemcodequest question queri format codesurvey_quest itemcodeadd_geo add geograph inform extract default true itemcodeget_variable_label return inform dataset survey variabl definit emphusag codeget_variable_labelsdataset_filenam null dataset_path null rm_na fals emphargu item itemcodedataset_filenam vector dataset filenam look itemcodedataset_path vector dataset file path dataset save itemcoderm_na variabl label na remov default fals emphvalu data frame survey variabl name definit itemcodeget_cache_d return privat member variabl cached date client last createdvalid dh api emphusag codeget_cache_d emphvalu posixct posixt time itemcodeget_root return file path client root directori emphusag codeget_root emphvalu charact string file path itemcodeget_config return client configur emphusag codeget_config emphvalu config datafram itemcodeget_downloaded_dataset return name list download dataset file path emphusag codeget_downloaded_dataset emphvalu list dataset name file path itemcodeset_cache_d set privat member variabl cached date client last createdvalid dh api never realli need includ demonstr cach clear properti client vignett emphusag codeset_cache_dated emphargu item itemcoded posixct posixt time updat cach time itemcodesave_cli intern save client object rd file within root directori client emphusag codesave_cli itemcodeclear_namespac clear key valu associ within cach context dh client cach number differ task place within specif context use packag codestorrstorr_rd emphusag codeclear_namespacenamespac emphargu item itemcodenamespac charact string namespac clear exampl dontrun creat rdh config file rdhsjson conf set_rdhs_config config_path rdhsjsonglob fals prompt fals td tempdir cli rdhsclient_dhsapi_key demo_ config conf root td gener roxygen edit hand pleas edit document ruir nameget_variable_label aliasget_variable_label titleget survey variabl label usag get_variable_labelsdataset return_al true argument itemdatasetcan either file path dataset dataset datafram filenam dataset see detail inform itemreturn_alllog whether return variabl codetru label valu codedatafram consist variabl name label descript return variabl label dataset detail return variabl name label dataset pass data argument follow item item file path save dataset would direct output codelinkget_dataset item read dataset ie produc use codelinkreadrd load dataset file path produc codelinkget_dataset item dataset filenam found one return field codelinkdhs_dataset dataset download download exampl dontrun get model dataset includ packag model_dataset model_dataset download one g get_datasetsdataset_filenam model_datasetsfilenam pass list filepath function headget_variable_labelsg pass full dataset r readrdsg headget_variable_labelsr gener roxygen edit hand pleas edit document ruir nameget_downloaded_dataset aliasget_downloaded_dataset titleget download dataset usag get_downloaded_dataset valu codedatafram download dataset descript detail dataset alreadi download detail return codedatafram dataset download within client could use without internet connect wish know save dataset file root directori correspond dataset exampl dontrun get model dataset includ packag model_dataset model_dataset download one g get_datasetsdataset_filenam model_datasetsfilenam store know dataset download get_downloaded_dataset return name list file path dataset gener roxygen edit hand pleas edit document rapi_endpointsr namedhs_countri aliasdhs_countri titleapi request dh countri usag dhs_countri countryid null indicatorid null surveyid null surveyyear null surveyyearstart null surveyyearend null surveytyp null surveycharacteristicid null tagid null f null returnfield null perpag null page null client null forc fals all_result true argument itemcountryidsspecifi comma separ list countri id filter list countri use codedhs_countriesreturnfieldsccountrynamedhs_countrycod itemindicatoridsspecifi comma separ list indic id filter list indic use codedhs_indicatorsreturnfieldscindicatoridlabeldefinit itemsurveyidsspecifi comma separ list survey id filter list survey use codedhs_surveysreturnfieldscsurveyid surveyyearlabelsurveytypecountrynam itemsurveyyearspecifi comma separ list survey year filter itemsurveyyearstartspecifi rang survey year filter countri surveyyearstart inclus valu use alon conjunct surveyyearend itemsurveyyearendspecifi rang survey year filter countri surveyyearend inclus valu use alon conjunct surveyyearstart itemsurveytypespecifi survey type filter itemsurveycharacteristicidsspecifi survey characterist id filter countri survey specifi survey characterist list survey characterist use codedhs_surveysreturnfieldscsurveyidsurveyyearlabel surveytypecountrynam itemtagidsspecifi tag id filter countri survey contain indic specifi tag list tag use codedhs_tag itemfy specifi format data return queri html json pjson geojson jsonp xml csv default data format json itemreturnfieldsspecifi list attribut return itemperpagespecifi number result return per page default api return result itempageallow specifi page number obtain api request default api return page itemclientif api request cach provid client object creat codelinkclient_dh itemforceshould forc fetch api result ignor cach result default fals itemall_resultsboolean result return fals specifi page return default true valu return codedatat less codereturnfield provid countri correspond detail detail descript attribut return provid urlhttpsapidhsprogramcomrestdhscountriesfield descript api request dh countri exampl dontrun common use countri api endpoint queri countri ask question given topic exampl find countri record data malaria preval rdt dat dhs_countriesindicatorid ml_pmal_c_rdt addit may want know countri conduct mi malaria indic survey dat dhs_countriessurveytypemi complet list exampl argument countri api endpoint provid given copi exampl list api httpsapidhsprogramcomapicountriescfm dat dhs_countriescountryidsegall_resultsfals dat dhs_countriesindicatoridsfe_frtr_w_tfrall_resultsfals dat dhs_countriessurveyidssndhsall_resultsfals dat dhs_countriessurveyyearall_resultsfals dat dhs_countriessurveyyearstartall_resultsfals dat dhs_countriessurveyyearstart surveyyearend all_resultsfals dat dhs_countriessurveytypedhsall_resultsfals dat dhs_countriessurveycharacteristicidsall_resultsfals dat dhs_countriestagidsall_resultsfals dat dhs_countriesfhtmlall_resultsfals gener roxygen edit hand pleas edit document rread_dhs_dtar nameread_dhs_dta aliasread_dhs_dta titleread dh stata data set usag read_dhs_dtazfil mode all_low true argument itemzfilepath zip file contain stata dataset usual end filenam xxxxxxdtzip itemmoderead mode stata dta file default see detail option itemall_lowerlog indic whether valu label lower case default true itemoth argument pass codelinkread_zipdata argument pass either codelinkhavenread_dta codelinkforeignreaddta depend mode provid valu data frame mode map valu label variabl store label class descript function read dh recod dataset zip stata dataset default mode read stata data set use codelinkhavenread_dta detail default modehaven use codelinkhavenread_dta read dataset chosen option consist respect variabl label descript other option either use use codelinkforeignreaddta use map dictionari file provid dh stata dataset reconstruct variabl label valu label case valu label store store use label class see havenlabel inform variabl label store label attribut variabl havenread_dta current modemap implement charact fixedwidth map file compris vast major recod data file dh phase v vi vii phase iv parser map format ad futur avail mode read label stata dataset variou option avail r modemap use map dictionari file provid dh stata dataset reconstruct variabl label valu label case valu label store store use label class see havenlabel inform variabl label store label attribut variabl havenread_dta modehaven use havenread_dta read dataset option retain nativ valu code valu label affix label class modeforeign use foreignreaddta default option convertfactorstru add variabl label note variabl label ad label present valu variabl label avail via vallabel attribut modeforeignna use foreignreaddta convertfactorsna convert valu without label na risk data loss label incomplet stata dataset moderaw use foreignreaddta convertfactorsfals simpli load underli valu code variabl label valu label still avail dataset attribut see exampl exampl mrdt_zip tempfil downloadfilehttpsdhsprogramcomdatamodel_datadhszzmrdtzip mrdt_zip modewb mr rdhsread_dhs_dtamrdt_zipmodemap attrmrmv label classmrmv headmrmv tablemrmv tablehavenas_factormrmv stata file codebook complet modemap mr_hav rdhsread_dhs_dtamrdt_zip modehaven attrmr_havmv label classmr_havmv headmr_havmv miss omit dta codebook tablemr_havmv tablehavenas_factormr_havmv pars codebook use foreignreaddta foreign issu duplic factor specifi foreignna help often thu would recommend either use mode mode raw dontrun mr_for rdhsread_dhs_dtamrdt_zip modeforeign mr_for rdhsread_dhs_dtamrdt_zip mode foreignna dont convert factor mr_raw rdhsread_dhs_dtamrdt_zip moderaw tablemr_rawmv seealso codelinkforeignreaddta codelinkhavenlabel codelinkhavenread_dta inform dh filetyp content distribut dataset zip file see urlhttpsdhsprogramcomdatafiletypesandnamescfmcp_jump_ gener roxygen edit hand pleas edit document rcacher namelast_api_upd aliaslast_api_upd titlepul last dh api databas updat time usag last_api_updatetimeout argument itemtimeoutnumer api timeout default descript pull last dh api databas updat time gener roxygen edit hand pleas edit document rapi_endpointsr namedhs_survey_characterist aliasdhs_survey_characterist titleapi request dh survey characterist usag dhs_survey_characterist countryid null indicatorid null surveyid null surveyyear null surveyyearstart null surveyyearend null surveytyp null f null returnfield null perpag null page null client null forc fals all_result true argument itemcountryidsspecifi comma separ list countri id filter list countri use codedhs_countriesreturnfieldsccountrynamedhs_countrycod itemindicatoridsspecifi comma separ list indic id filter list indic use codedhs_indicatorsreturnfieldscindicatoridlabeldefinit itemsurveyidsspecifi comma separ list survey id filter list survey use codedhs_surveysreturnfieldscsurveyidsurveyyearlabel surveytypecountrynam itemsurveyyearspecifi comma separ list survey year filter itemsurveyyearstartspecifi rang survey year filter survey characterist surveyyearstart inclus valu use alon conjunct surveyyearend itemsurveyyearendspecifi rang survey year filter survey characterist surveyyearend inclus valu use alon conjunct surveyyearstart itemsurveytypespecifi survey type filter itemfy specifi format data return queri html json pjson geojson jsonp xml csv default data format json itemreturnfieldsspecifi list attribut return itemperpagespecifi number result return per page default api return result itempageallow specifi page number obtain api request default api return page itemclientif api request cach provid client object creat codelinkclient_dh itemforceshould forc fetch api result ignor cach result default fals itemall_resultsboolean result return fals specifi page return default true valu return codedatat less codereturnfield provid survey characterist survey label one survey characterist descript attribut return provid urlhttpsapidhsprogramcomrestdhssurveycharacteristicsfield descript api request dh survey characterist exampl dontrun good use survey characterist api endpoint queri id survey characterist use pass argument api endpointsfor exampl show id dat dhs_survey_characterist analysi foucss particular countri want see characterist survey eg seneg dat dhs_countriescountryidssn complet list exampl argument survey characterist api endpoint provid given copi exampl list api httpsapidhsprogramcomapisurveycharacteristicscfm dat dhs_survey_characteristicscountryidsegall_resultsfals dat dhs_survey_characteristicsindicatoridsfe_frtr_w_tfr all_resultsfals dat dhs_survey_characteristicssurveyidssndhsall_resultsfals dat dhs_survey_characteristicssurveyyearall_resultsfals dat dhs_survey_characteristicssurveyyearstartall_resultsfals dat dhs_survey_characteristicssurveyyearstart surveyyearendall_resultsfals dat dhs_survey_characteristicssurveytypedhsall_resultsfals dat dhs_survey_characteristicsfhtmlall_resultsfals gener roxygen edit hand pleas edit document rread_dhs_dtar nameparse_map aliasparse_map titlecr dictionari dh map codebook usag parse_mapmap all_low true argument itemmapa charact vector contain map file eg readlin itemall_lowerlog indic whether valu label convert lower case valu data frame contain metadata princip variabl label vector valu label descript creat dictionari dh map codebook detail current hardcod char width map file cover vast major dh phase v vi viii extend futur perhap add use option exampl mrdt_zip tempfil downloadfilehttpsdhsprogramcomdatamodel_datadhszzmrflzip mrdt_zip modewb map rdhsread_zipdatamrdt_zip map readlin dct rdhsparse_mapmap gener roxygen edit hand pleas edit document rread_dhs_flatr nameparse_meta aliasparse_meta aliasparse_dcf aliasparse_sp aliasparse_do titlepars fixedwidth file metadata usag parse_dcfdcf all_low true parse_spssp all_low true parse_dodo dct all_low true argument itemdcfdcf file path pars itemall_lowerlog indic whether convert variabl label lower case default true itemspssp file charact vector eg readlin brioread_lin itemdodo file charact vector eg readlin brioread_lin itemdctdct file charact vector eg readlin brioread_lin valu datafram metadata pars fixedwidth flat file descript pars dataset metadata exampl mrfl_zip tempfil downloadfilehttpsdhsprogramcomdatamodel_datadhszzmrflzip mrfl_zip mode wb dcf rdhsread_zipdatamrfl_zip dcf readlin dct rdhsparse_dcfdcf sp rdhsread_zipdatamrfl_zip sp readlin dct rdhsparse_spssp rdhsread_zipdatamrfl_zip readlin dctin rdhsread_zipdatamrfl_zip dct readlin dct rdhsparse_dodo dctin gener roxygen edit hand pleas edit document ruir nameextract_dh aliasextract_dh titleextract data usag extract_dhsquest add_geo fals argument itemquestionsquest queri format codelinksearch_vari codelinksearch_variable_label itemadd_geoadd geograph inform extract defaut true valu codelist datafram survey data extract descript extract data download dataset accord datafram request survey variabl survey definit detail function extract dataset use set survey question taken output codelinksearch_vari codelinksearch_variable_label exampl dontrun get model dataset includ packag model_dataset model_dataset download one g get_datasetsdataset_filenam model_datasetsfilenam creat term data may want extrac st search_variable_labelsnamesg bed net extract ex extract_dhsst gener roxygen edit hand pleas edit document rapi_endpointsr namedhs_tag aliasdhs_tag titleapi request dh tag usag dhs_tag countryid null indicatorid null surveyid null surveyyear null surveyyearstart null surveyyearend null surveytyp null f null returnfield null perpag null page null client null forc fals all_result true argument itemcountryidsspecifi comma separ list countri id filter list countri use codedhs_countriesreturnfieldsccountrynamedhs_countrycod itemindicatoridsspecifi comma separ list indic id filter list indic use codedhs_indicatorsreturnfieldscindicatoridlabeldefinit itemsurveyidsspecifi comma separ list survey id filter list survey use codedhs_surveysreturnfieldscsurveyidsurveyyearlabel surveytypecountrynam itemsurveyyearspecifi comma separ list survey year filter itemsurveyyearstartspecifi rang survey year filter tag surveyyearstart inclus valu use alon conjunct surveyyearend itemsurveyyearendspecifi rang survey year filter tag surveyyearend inclus valu use alon conjunct surveyyearstart itemsurveytypespecifi survey type filter itemfy specifi format data return queri html json pjson geojson jsonp xml csv default data format json itemreturnfieldsspecifi list attribut return itemperpagespecifi number result return per page default api return result itempageallow specifi page number obtain api request default api return page itemclientif api request cach provid client object creat codelinkclient_dh itemforceshould forc fetch api result ignor cach result default fals itemall_resultsboolean result return fals specifi page return default true valu return codedatat less codereturnfield provid tag detail inform indic tag one tag help identifi certain topic indic identifi descript attribut return provid urlhttpsapidhsprogramcomrestdhstagsfield descript api request dh tag exampl dontrun good use tag api endpoint queri id tag use pass argument api endpointsfor exampl show id dat dhs_tag analysi foucss particular countri want see characterist survey eg seneg dat dhs_tagscountryidssn complet list exampl argument survey tag api endpoint provid given copi exampl list api httpsapidhsprogramcomapitagscfm dat dhs_tagscountryidsegall_resultsfals dat dhs_tagsindicatoridsfe_frtr_w_tfrall_resultsfals dat dhs_tagssurveyidssndhsall_resultsfals dat dhs_tagssurveyyearall_resultsfals dat dhs_tagssurveyyearstartall_resultsfals dat dhs_tagssurveyyearstart surveyyearend all_resultsfals dat dhs_tagssurveytypedhsall_resultsfals dat dhs_tagsfhtmlall_resultsfals