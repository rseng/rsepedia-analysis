titl rnassq r packag access agricultur data via usda nation agricultur statist servic usdanass quick stat api author affili email potternicholasgmailcom name nichola potter orcid date june output pdf_document bibliographi paperbib tag r api reproduc agricultur econom affili index name washington state univers summari rnassqshttpsgithubcomropenscirnassq r packag provid simpl interfac access unit state depart agricultur nation agricultur statist servic usdanass quick statshttpsquickstatsnassusdagov api core function allow user queri agricultur data quick stat reproduc autom way primari benefit rnassq user need download data repeat use quick stat pointandclick interfac reduc chanc error elimin need repeat manual download new data time space allow autom updat web applic reli new releas usdanass data time rnassq manag api authent set system environment variabl durat r session conveni function facilit queri common data user also use rnassq queri list data paramet avail valu given paramet exampl see commod avail particular counti year queri request data json object pars data datafram object usdanass data quick stat quick stat web interfac access data produc usdanass data come primarili censu agricultur also includ data usdanass survey wide rang topic censu agricultur conduct everi five year year end earliest year avail quick stat survey differ collect period collect annual specif data averag valu agricultur land build state report earli aggreg data censu survey releas primarili nation state counti level though data may releas congression district watersh zip code includ rang data classifi five sector anim product crop demograph econom environment exampl data avail sector includ count farm farm oper acr cropland farm sale farm expens crop yield name benefit rnassq quick stat quick stat provid number select field user select categori data select caus option field updat reflect avail option avail option base select user made make select multipl differ variabl time frustrat process addit data request limit record user want access record must manual subset data request exampl request crop yield counti counti censu year requir either download state counti separ possibl download counti year separ quick stat interfac work well quick access singl use howev sever case quick stat interfac ideal request combin measur year geographi exceed record request newli releas data ident previou request request reproduc rnassq address issu make quick stat api access r code allow user loop seri request address first issu execut perhap autom schedul data request repeatedli access new data queri address second make code avail allow other reproduc access data address third exampl current current record crop yield us counti access data quick stat would requir manual select either set year set state reduc request less record aggreg data rnassq done r access yield counti crop param listsector_desc crop group_desc cfield crop fruit tree nut horticultur veget statisticcat_desc yield agg_level_desc counti get year list datafram data_list lappli functionyr paramsyear yr rnassqsnassqsparam url_onli true aggreg list datafram singl datafram docallrbind data_list result signific time save increas reproduc data allow easi updat request new year made avail altern rnassq usdanass also provid ftp access text data filesavail ftpftpnassusdagovquickstatsftpftpnassusdagovquickstat access data via ftp user avoid use select interfac quick stat avoid limit number record per request resolv issu autom repeat request make data request reproduc r packag also releas sinc develop rnassq provid access quick stat data though somewhat differ includ usdarnass tidyusda use us censu map creat map quick stat data acknowledg thank jonathan adam julia piaskowski joseph stachelek code contribut huge thank review adam h spark neal richardson thought feedback improv packag document pledg interest foster open welcom environ contributor maintain pledg make particip project commun harassmentfre experi everyon regardless age bodi size disabl ethnic sex characterist gender ident express level experi educ socioeconom statu nation person appear race religion sexual ident orient standard exampl behavior contribut creat posit environ includ use welcom inclus languag respect differ viewpoint experi grace accept construct critic focus best commun show empathi toward commun member exampl unaccept behavior particip includ use sexual languag imageri unwelcom sexual attent advanc troll insultingderogatori comment person polit attack public privat harass publish other privat inform physic electron address without explicit permiss conduct could reason consid inappropri profession set respons project maintain respons clarifi standard accept behavior expect take appropri fair correct action respons instanc unaccept behavior project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct ban temporarili perman contributor behavior deem inappropri threaten offens harm scope code conduct appli within project space also appli individu repres project commun public space exampl repres project commun includ use offici project email address post via offici social media account act appoint repres onlin offlin event represent project may defin clarifi project maintain enforc instanc abus harass otherwis unaccept behavior may report contact project team potternicholasgmailcom complaint review investig result respons deem necessari appropri circumst project team oblig maintain confidenti regard report incid detail specif enforc polici may post separ project maintain follow enforc code conduct good faith may face temporari perman repercuss determin member project leadership attribut code conduct adapt contributor coven version avail httpswwwcontributorcovenantorgversioncodeofconducthtml answer common question code conduct see httpswwwcontributorcovenantorgfaq readmemd gener readmermd pleas edit file tabl classtabl thead tr classhead th alignleft rnassq th th alignleft usag th th alignleft releas th th alignleft develop th tr thead tbodi tr classodd td rowspan hrefhttpsdocsropensciorgrnassqsimg srcmanfigureslogopng altrnassq alignright heighta p stylefontsizexxsmal wheat imag hrefhttpswwwflickrcomphotosnherea p td td alignleft hrefhttpchoosealicensecomlicensesmitimg srchttpsimgshieldsiogithublicensemashapeapistatussvg altlicensea td td alignleft hrefhttpscranrprojectorgpackagernassqsimg srchttpwwwrpkgorgbadgesversionlastreleasernassq altcrana td td alignleft hrefhttpsgithubcomropenscirnassqscommitsmasterimg srchttpsimgshieldsiobadgelastchangebrightgreensvg altlast changea td tr tr classeven td alignleft hrefhttpscranrprojectorgpackagernassqsimg srchttpscranlogsrpkgorgbadgesrnassq altdownloadsa td td alignleft hrefhttpszenodoorgbadgelatestdoiimg srchttpszenodoorgbadgesvg altzenodoa td td alignleft hrefhttpstravisciorgropenscirnassqsimg srchttpstravisciorgropenscirnassqssvgbranchmast altbuild statusa td tr tr classodd td alignleft td td alignleft hrefhttpsgithubcomropenscionboardingissu altropensci reviewedimg srchttpsbadgesropensciorg_statussvga td td alignleft hrefhttpscodecovioghropenscirnassqsimg srchttpscodecovioghropenscirnassqsbranchmastergraphbadgesvg altcoverag statusa td tr tr classeven td alignleft td td alignleft hrefhttpsorcidorgimg srchttpsimgshieldsiobadgeorcidgreensvg altorcida td td alignleft hrefhttpswwwrepostatusorgactiveimg srchttpswwwrepostatusorgbadgeslatestactivesvg altproject statu activ project reach stabl usabl state activ develop td tr tr classeven td alignleft td td alignleft styleborderwidth hrefhttpsdoiorgjoss img srchttpsjosstheojorgpapersjossstatussvg altdoijoss td td alignleft hrefhttpswwwtidyverseorglifecyclematuringimg srchttpsimgshieldsiobadgelifecyclematuringbluesvg altproject statu matur td tr tbodi tabl br requir nass term use product use nass api endors certifi nass rnassq r nass quick stat rnassq allow user access usda nation agricultur statist servic nass quick stat data api simpl easi use provid function help navig bewild complex quick stat data doc code exampl visit packag web page httpsdocsropensciorgrnassq instal instal packag via devtool cran r via devtool librarydevtool install_githubropenscirnassq via cran installpackagesrnassq api key use nass quick stat api need api keyhttpquickstatsnassusdagovapi api key gener includ script one way make key avail without defin script set renviron file usual locat home directori rstudio user use usethisedit_r_environ open renviron file add line look like r nassqs_tokenyour api key altern set explicitli consol nassqs_authkey api key set environment variabl nassqs_token use access api also set directli syssetenvnassqs_token api key usag see exampl instexamplesinstexampl quick recip download data primari function nassq make queri variabl exampl mirror request nass api documentationhttpquickstatsnassusdagovapi use r libraryrnassq must set api key request data nassqs_authkey api key paramet queri data call param listcommodity_desc corn year__g state_alpha va nassqsparam paramet need capit also need list format follow work well r nassqscommodity_desc corn year__g state_alpha va request data multipl valu paramet use simpl list follow r param listcommodity_desc corn year__g state_alpha cva wa nassqsparam nass allow get request pull record one request function inform tri also inform youv request set paramet record use function includ r return set unniqu valu paramet statisticcat_desc nassqs_param_valuesstatisticcat_desc return count number record given queri nassqs_record_countparamsparam get yield specif equival includ statisticat_desc yield paramet list nassqs_yieldsparam get acr specif equival includ area valu statisticcat_desc nassqs_acresparam specifi area harvest valu statisticcat_desc nassqs_acresparam area area harvest handl inequ oper nass api handl oper modifi variabl name api accept follow modif __le __lt __gt __ge __like like __not_lik like __ne equal exampl request corn yield virginia pennsylvania year sinc would use someth like r param listcommodity_desc corn year__g state_alpha cva pa statisticcat_desc yield df nassqsparam return data data frame see vignettehttpsdocsropensciorgrnassqsarticlesrnassqshtml exampl detail usag contribut contribut welcom sever way contribut exampl exampl alway help use rnassq queri data quick stat would like contribut queri consid submit pull request ad queri file instexampleshttpsgithubcomropenscirnassqstreemasterinstexampl file issu function youd like see ad someth confus consid creat issuehttpsgithubcomropenscirnassqsissuesnew best issu contain exampl problem featur consid excel packag reprexhttpsgithubcomtidyversereprex creat reproduc exampl contribut document clarifi expand document alway appreci especi find area lack would like improv rnassq use roxygen mean document top function definit pleas submit improv pull request contribut code see someth need improv youd like make chang contribut code welcom begin file new issu discuss propos chang submit pull request address issu rnassq follow style outlin hadley wickham r packageshttprpkgshadconzstylehtml follow style make pull request review go smoothli altern june usdarnass packag releas cranhttpscranrprojectorgpackageusdarnass also avail instal via githubhttpsgithubcomrdinterusdarnass usdarnass similar function packag nass also provid daili tar gzip file entir dataset time write approach gb download file via ftp siteftpftpnassusdagovquickstat ftp link also contain build nass censu everi year end data one specif sector crop econom anim product time write specif file environment demograph sector avail acknowledg thank ropensci review adam spark neal richardson editor lincoln mullen fantast feedback assist user feedback use case contribut huge help make rnassq access userfriendli use case featur request alway welcom ropensci_footerhttpsropensciorgpublic_imagesropensci_footerpnghttpsropensciorg rnassq nassqs_record_count valid paramet add defin paramet common paramet function call thank rdinter add option see valid paramet valu given queri valu get_param_valu rnassq approv ropensci inclus addit test improv code cover nealrichardson small chang ropensci review process switch ropensci repositori chang syntax allow lower case queri paramet valu chang syntax allow specifi paramet separ function argument rather singl list addit specifi singl list creat packag websit pkgdown standard code style packag code exampl vignett simplifi authent expand test coverag use httptestwith_mock_api better clarif document document exampl improv readm vignett rnassq develop version rnassq add autom unit test work local other work cran improv document core function add pars csv format data improv authent simplifi function call elimin redund call add work exampl test fix name error function nassqs_params_valu nassqs_param_valu rnassq prepar packag cran submiss vignett readmemd date respect current function fix test minor spell fix contribut julia piaskowski jpiaskowski remov test code couldnt run due api need authent contribut contribut welcom pleas begin read code conductconductmd sever way contribut exampl exampl alway help use rnassq queri data quick stat would like contribut queri consid submit pull request ad queri file instexampleshttpsgithubcomropenscirnassqstreemasterinstexampl file issu function youd like see ad someth confus consid creat issuehttpsgithubcomropenscirnassqsissuesnew best issu contain exampl problem featur consid excel packag reprexhttpsgithubcomtidyversereprex creat reproduc exampl contribut document clarifi expand document alway appreci especi find area lack would like improv rnassq use roxygen mean document top function definit pleas submit improv pull request contribut code see someth need improv youd like make chang contribut code welcom begin file new issu discuss propos chang submit pull request address issu rnassq follow style outlin hadley wickham r packageshttprpkgshadconzstylehtml follow style make pull request review go smoothli test environ local arch linux instal kernel archarch r ubuntu lt travisci r winbuild devel releas rhub builder r cmd check result error warn note downstream depend downstream depend output md_document variant gfm readmemd gener readmermd pleas edit file tabl classtabl thead tr classhead th alignleft rnassq th th alignleft usag th th alignleft releas th th alignleft develop th tr thead tbodi tr classodd td rowspan hrefhttpsdocsropensciorgrnassqsimg srcmanfigureslogopng altrnassq alignright heighta p stylefontsizexxsmallwheat imag hrefhttpswwwflickrcomphotosnhereap td td alignleft hrefhttpchoosealicensecomlicensesmitimg srchttpsimgshieldsiogithublicensemashapeapistatussvg altlicensea td td alignleft hrefhttpscranrprojectorgpackagernassqsimg srchttpwwwrpkgorgbadgesversionlastreleasernassq altcrana td td alignleft hrefhttpsgithubcomropenscirnassqscommitsmasterimg srchttpsimgshieldsiobadgelastchang gsub sysdatebrightgreensvg altlast changea td tr tr classeven td alignleft hrefhttpscranrprojectorgpackagernassqsimg srchttpscranlogsrpkgorgbadgesrnassq altdownloadsa td td alignleft hrefhttpszenodoorgbadgelatestdoiimg srchttpszenodoorgbadgesvg altzenodoa td td alignleft hrefhttpstravisciorgropenscirnassqsimg srchttpstravisciorgropenscirnassqssvgbranchmast altbuild statusa td tr tr classodd td alignleft td td alignleft hrefhttpsgithubcomropenscionboardingissu altropensci reviewedimg srchttpsbadgesropensciorg_statussvga td td alignleft hrefhttpscodecovioghropenscirnassqsimg srchttpscodecovioghropenscirnassqsbranchmastergraphbadgesvg altcoverag statusa td tr tr classeven td alignleft td td alignleft hrefhttpsorcidorgimg srchttpsimgshieldsiobadgeorcidgreensvg altorcida td td alignleft hrefhttpswwwrepostatusorgactiveimg srchttpswwwrepostatusorgbadgeslatestactivesvg altproject statu activ project reach stabl usabl state activ develop td tr tr classeven td alignleft td td alignleft styleborderwidth hrefhttpsdoiorgjoss img srchttpsjosstheojorgpapersjossstatussvg altdoijoss td td alignleft hrefhttpswwwtidyverseorglifecyclematuringimg srchttpsimgshieldsiobadgelifecyclematuringbluesvg altproject statu matur td tr tbodi tabl br __a requir nass term use product use nass api endors certifi nass__ rnassq r nass quick stat rnassq allow user access usda nation agricultur statist servic nass quick stat data api simpl easi use provid function help navig bewild complex quick stat data doc code exampl visit packag web page httpsdocsropensciorgrnassqshttpsdocsropensciorgrnassq instal instal packag via devtool cran r evalfals via devtool librarydevtool install_githubropenscirnassq via cran installpackagesrnassq api key use nass quick stat api need api keyhttpquickstatsnassusdagovapi api key gener includ script one way make key avail without defin script set renviron file usual locat home directori rstudio user use usethisedit_r_environ open renviron file add line look like r evalfals nassqs_tokenyour api key altern set explicitli consol nassqs_authkey api key set environment variabl nassqs_token use access api also set directli syssetenvnassqs_token api key usag see exampl instexamplesinstexampl quick recip download data primari function nassq make queri variabl exampl mirror request nass api documentationhttpquickstatsnassusdagovapi use r evalfals libraryrnassq must set api key request data nassqs_authkey api key paramet queri data call param listcommodity_desc corn year__g state_alpha va nassqsparam paramet __do not__ need capit also need list format follow work well r evalfals nassqscommodity_desc corn year__g state_alpha va request data multipl valu paramet use simpl list follow r evalfals param listcommodity_desc corn year__g state_alpha cva wa nassqsparam nass allow get request pull record one request function inform tri also inform youv request set paramet record use function includ r evalfals return set unniqu valu paramet statisticcat_desc nassqs_param_valuesstatisticcat_desc return count number record given queri nassqs_record_countparamsparam get yield specif equival includ statisticat_desc yield paramet list nassqs_yieldsparam get acr specif equival includ area valu statisticcat_desc nassqs_acresparam specifi area harvest valu statisticcat_desc nassqs_acresparam area area harvest handl inequ oper nass api handl oper modifi variabl name api accept follow modif __le __lt __gt __ge __like like __not_lik like __ne equal exampl request corn yield virginia pennsylvania year sinc would use someth like r evalfals param listcommodity_desc corn year__g state_alpha cva pa statisticcat_desc yield df nassqsparam return data data frame see vignettehttpsdocsropensciorgrnassqsarticlesrnassqshtml exampl detail usag contribut contribut welcom sever way contribut exampl exampl alway help use rnassq queri data quick stat would like contribut queri consid submit pull request ad queri file instexampleshttpsgithubcomropenscirnassqstreemasterinstexampl file issu function youd like see ad someth confus consid creat issuehttpsgithubcomropenscirnassqsissuesnew best issu contain exampl problem featur consid excel packag reprexhttpsgithubcomtidyversereprex creat reproduc exampl contribut document clarifi expand document alway appreci especi find area lack would like improv rnassq use roxygen mean document top function definit pleas submit improv pull request contribut code see someth need improv youd like make chang contribut code welcom begin file new issu discuss propos chang submit pull request address issu rnassq follow style outlin hadley wickham r packageshttprpkgshadconzstylehtml follow style make pull request review go smoothli altern june usdarnass packag releas cranhttpscranrprojectorgpackageusdarnass also avail instal via githubhttpsgithubcomrdinterusdarnass usdarnass similar function packag nass also provid daili tar gzip file entir dataset time write approach gb download file via ftp siteftpftpnassusdagovquickstat ftp link also contain build nass censu everi year end data one specif sector crop econom anim product time write specif file environment demograph sector avail acknowledg thank ropensci review adam spark neal richardson editor lincoln mullen fantast feedback assist user feedback use case contribut huge help make rnassq access userfriendli use case featur request alway welcom ropensci_footerhttpsropensciorgpublic_imagesropensci_footerpnghttpsropensciorg r echo fals knitropts_chunkset collaps true comment figpath readm titl use rnassq author nichola potter date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentryus rnassq vignetteengineknitrrmarkdown vignetteencodingutf r setup includ fals knitropts_chunkset collaps true comment rnassq packag access quickstat api nation agricultur statist servic nass usda least two good reason reproduc download data via r script creat trail revisit later see exactli download also make much easier peopl seek replic result ensur data dri dont repeat download data via api make easier download new data releas fetch multipl variabl geographi time frame without manual click quickstat tool data request begin confus potenti take time becom familiar variabl call rnassq packag quickstat databas youll abl quickli easili download new data api inform usdanass quick stat api graphic interfac httpsquickstatsnassusdagovhttpsquickstatsnassusdagov inform queri paramet found httpsquickstatsnassusdagovapiparam_definehttpsquickstatsnassusdagovapiparam_defin quick exampl first obtain api key quick stat servic httpsquickstatsnassusdagovapihttpsquickstatsnassusdagovapi make queri request number farm oper oper acreag oregon libraryrnassq specifi queri paramet param list commodity_desc oper domain_desc area oper agg_level_desc state state_alpha year check record request limit nassqs_record_countparam get data nassqsparam paramet need specifi list need capit follow equival get data specifi paramet separ argument function rnassq nassqscommodity_desc oper domain_desc area oper agg_level_desc state state_alpha year conveni function grow list conveni function make queri simpler exampl retriev yield acr set paramet param list commodity_desc appl domaincat_desc specifi agg_level_desc state state_alpha year yield acr yield nassqs_yieldsparam acr nassqs_acresparam detail usag step authent quickstat api requir authent get api key herehttpsquickstatsnassusdagovapi key use follow way add renviron file home directori creat edit renviron file add nassqs_token api key file r session variabl set automat rnassq detect queri data use rstudio also use usethisedit_r_environ open renviron file add key creat new system environment variabl start new r session also set environment variabl directli syssetenvnassqs_token api key put file add file project directori ignor via gitignor your use github advantag method dont think api key rest project repeat process everi new project risk forget add gitignor api key file use like load api key api_key readlinesfil name api key nassqs_authkey api_key add interact dont want add api key file store renviron enter consol session less easi enter copypast key time begin r session addit wont abl autom run script sinc stop ask provid api key check api key set print set ask user set valu consol nassqs_auth step build queri quickstat api offer bewild array field queri rnassq tri help navig queri build function return paramet name valid valu paramet nassqs_param provid paramet name time write r libraryrnassq return list field queri nassqs_param includ paramet name nassqs_param return descript paramet question r nassqs_paramsagg_level_desc source_desc document paramet avail httpsquickstatsnassusdagovapiparam_definehttpsquickstatsnassusdagovapiparam_defin list valid valu given field avail via nassqs_param_valuesparam paramet name exampl nassqs_param_valuesparam source_desc return list valid valu source_desc paramet build queri often involv trial error one way develop queri use quickstat web interfacehttpsquickstatsnassusdagov often fastest method provid quick feedback subset valu given queri altern queri valu field iter build queri queri end take form list paramet look like param listcommodity_desc corn year__g state_alpha va queri rang valu queri probabl specif valu year may also want queri rang valu queri append one follow field youd like modifi __le less equal __lt less __ge greater equal __gt greater __like like __not_lik like __ne equal paramet list year__g year field __ge modifi attach return data includ record year greater equal queri multipl valu multipl valu queri includ simpl list c exampl youd like data washington oregon write state_alpha cwa queri limit api return queri return less record good idea check run queri use nassqs_record_count combin assert assertthat packag ensur queri valid attempt access data check number return record less param listcommodity_desc corn year__g state_alpha va record nassqs_record_countparam assertthatassert_thatasintegerrecordscount step run queri youv built queri run easi run queri given set paramet api key nassqsparam param key api_key step put togeth put togeth script look like libraryrnassq libraryassertthat check size queri check api key print key set ask session interact nassqs_auth get list avail field paramet nassq_param get valid valu commodity_desc nassqs_param_valuesparam source_desc set list paramet queri param listcommodity_desc corn year__g state_alpha va check number return record less record nassqs_record_countparam assert_thatasintegerrecordscount run queri given set paramet api key nassqsparam param key api_key run queri pars datafram separ raw nassqs_getparam param key api_key pars nassqs_parseraw datafram list paramet deal larg queri abil rnassq iter list paramet especi help case may wish collect mani differ set data other queri may larger api restrict record case iter list paramet help iter reduc individu queri size gener best way deal larg queri make multipl queri subset year possibl geographi care need subset geographi due suppress data _sum counti state necessarili equal state value_ moreov data collect specif geographi best start iter year want say counti cash rent irrig land everi year sinc becam avail iter follow defin list paramet use repeatedli param_list list sector_desc econom commodity_desc rent prodn_practice_desc irrig class_desc cash cropland agg_level_desc counti domaincat_desc specifi iter year get data data_list lappli functionyr param param_list paramsyear yr nassqsparam use dplyr bind data list librarydplyr df rbind_listdata_list use datat bind data list librarydatat dt rbindlistdata_list subset geographi work similarli loop geographi variabl usual state_alpha county_cod like lappli iter list paramet similar time help make multipl queri bind data singl datafram exampl may want collect mani differ categori acr everi agricultur censu sinc someth like first defin base paramet list modifi new queri base_param list source_desc censu sector_desc econom commodity_desc ag land agg_level_desc counti unit_desc acr statisticcat_desc area domain_desc total domaincat_desc specifi year_g list paramet vari queri param_list list ag_land_oth list class_desc excl cropland pastureland woodland ag_land_irr list prodn_practice_desc irrig class_desc class ag_woodland list class_desc woodland ag_pastureland list class_desc pastureland excl cropland woodland ag_cropland list class_desc cropland ag_cropland_excl_harvest list class_desc cropland excl harvest pastur ag_cropland_harvest list class_desc cropland harvest prodn_practice_desc product practic ag_cropland_harvested_irr list class_desc cropland harvest prodn_practice_desc irrig iter differ variabl queri data_list lapplyparam_list functionvar_param creat new paramet list append queri item vari queri param base_param forn namesvar_param paramsn var_paramsn nassqsparam rbind_list rbindlist hood nassq wrapper around nassqs_get function use httrget make http get request quick stat api need access underli request object gener get call use nassqs_get return request object rnassq packag also nassqs_pars function process request object datafram list raw text nassq handl togeth replic function lowlevel function follow make http get request pars datafram separ function call equival nassqsparam key api_key request nassqs_getparam param key api_key pars nassqs_parserequest datafram gener roxygen edit hand pleas edit document rrequestr namenassq aliasnassq titleget data return data frame usag nassq source_desc null sector_desc null group_desc null commodity_desc null short_desc null domain_desc null domaincat_desc null agg_level_desc null statisticcat_desc null state_nam null asd_desc null county_nam null region_desc null zip_ null watershed_desc null year null freq_desc null reference_period_desc null cdatafram text list argument itemeith name list paramet seri paramet form queri itemsource_descprogram sourc data censu survey censu program includ censu ag well follow project survey program includ nation state counti survey itemsector_descsector five high level broad categori use narrow choic anim product crop demograph econom environment itemgroup_descgroup subset within sector eg sector_desc crop group field crop fruit tree nut horticultur veget itemcommodity_desccommod primari subject interest eg corn cattl labor tractor oper itemshort_descdata item concaten six column commodity_desc class_desc prodn_practice_desc util_practice_desc statisticcat_desc unit_desc itemdomain_descdomain gener anoth characterist oper produc particular commod eg econom class area oper naic classif sale chemic usag data domain describ type chemic appli commod domain_desc total breakout ie data valu pertain complet short_desc itemdomaincat_descdomain categori categori partit within domain eg domain_desc sale domain categori includ etc itemagg_level_descgeograph level aggreg level geograph granular data agricultur district counti intern nation region multist region substat state watersh zip code itemstatisticcat_desccategori aspect commod measur eg area harvest price receiv inventori sale itemstate_namest state full name itemasd_descag district ag statist district name itemcounty_namecounti counti name itemregion_descregion nass defin geograph entiti readili defin standard geograph level region less state substat group state multist may specif commod itemzip_zip code us postal servic digit zip code itemwatershed_descwatersh name assign huc itemyearyear numer year data either charact numer vector condit valu also possibl exampl charact vector give year greater equal right logic valu either greaterless equal logic either begin end string year itemfreq_descperiod type length time cover annual season monthli weekli point time monthli often cover one month point time particular day itemreference_period_descperiod specif time frame within freq_desc itemaswheth return datafram list text string codelinknassqs_getnassqs_get valu data frame list text string request data descript primari function codernassq packag codenassq make http get request usdanass quick stat api return data pars datafram plain text list variou function make use codenassq make specif queri data request quick stat api return json pars datafram contain column vari number row depend queri unfortun way restrict number column exampl donttest get corn yield virginia param listcommodity_desc corn year agg_level_desc counti state_alpha va statisticcat_desc yield yield nassqsparam headyield seealso codelinknassqs_getnassqs_get codelinknassqs_yieldsnassqs_yield codelinknassqs_acresnassqs_acr gener roxygen edit hand pleas edit document rnassqsr doctypepackag namernassqspackag aliasrnassqspackag aliasrnassq titlernassqspackag access nass quick stat api descript rnassq wrapper unit state depart agricultur nation agricultur statist servic nass quick stat api enabl get nass quick stat data directli r base httr api packag guid detail function packag facilit get data nass quick stat handl api key check storag author fetch data refer urlhttpquickstatsnassusdagov seealso urlhttpquickstatsnassusdagovapi author nichola potter keywordpackag keywordrnassqspackag gener roxygen edit hand pleas edit document rrequestr namenassqs_check aliasnassqs_check titlecheck respons usag nassqs_checkrespons argument itemresponsea codelinkhttrgethttrget request result return api valu noth check pass inform error pass descript check respons valid ie doesnt exceed record paramet valu valid use ensur queri valid queri reduc wait time receiv error gener roxygen edit hand pleas edit document rrequestr namenassqs_get aliasnassqs_get titleissu get request nass quick stat api usag nassqs_get api_path capi_get get_param_valu get_count argument itemeith name list paramet seri paramet use queri itemapi_pathth api path determin type request made valu codelinkhttrgethttrget respons object descript workhors packag provid core request function nass quick stat api urlhttpsquickstatsnassusdagovapi case codelinknassqsnassq highlevel function use codenassqs_get use codelinkhttrgethttrget make http get request return request object must pars datafram list coder object higherlevel function pars automat howev need access request object directli codenassqs_get provid exampl donttest yield corn washington param listcommodity_desc corn year agg_level_desc state state_alpha wa statisticcat_desc yield return request object must pars either manual use nassqs_pars respons nassqs_getparam yield nassqs_parserespons headyield get number record would return given request equival nassqs_record_countparam respons nassqs_getparam api_path get_count record nassqs_parserespons record get list allow valu paramet statisticcat_desc equival nassqs_param_valuesstatisticcat_desc req nassqs_getlistparam statisticcat_desc api_path get_param_valu statisticcat_desc_valu nassqs_parsereq list headstatisticcat_desc_valu gener roxygen edit hand pleas edit document rwrappersr namenassqs_record_count aliasnassqs_record_count titleget count number record given paramet usag nassqs_record_count argument itemeith name list paramet seri paramet form queri valu integ number record return api respons queri descript return number record fit set paramet use current paramet set return record limit exampl donttest check number record return corn washington state param list commodity_desc corn year agg_level_desc state state_nam washington record nassqs_record_countparam record return gener roxygen edit hand pleas edit document rwrappersr namenassqs_acr aliasnassqs_acr titleget nass area given set paramet usag nassqs_acr area carea area plant area bear area bear nonbear area grown area harvest area irrig area nonbear area plant area plant net argument itemeith name list paramet seri paramet form queri itemareath type area return default type valu datafram acr data descript get nass area given set paramet exampl donttest get area bear appl washington param list commodity_desc appl year state_nam washington agg_level_desc state area nassqs_acresparam area area bear headarea gener roxygen edit hand pleas edit document rparamsr namenassqs_param_valu aliasnassqs_param_valu titleget valu specif paramet usag nassqs_param_valuesparam argument itemparamth name nass quickstat paramet itemaddit paramet filter valid respons valu list contain valid valu paramet descript return list possibl valu given paramet includ addit paramet restrict list valid valu data meet addit paramet restrict howev possibl request entir dataset filter uniqu valu recommend make queri small possibl includ addit paramet exampl donttest see valu avail statisticcat_desc field valu may avail context paramet set exampl given state may yield blueberri dont grow blueberri state requir api key nassqs_param_valuessource_desc valid valu paramet given specif set addit paramet nassqs_param_valuescommodity_desc state_fips_cod county_cod year group_desc expens gener roxygen edit hand pleas edit document rrequestr namenassqs_pars aliasnassqs_pars titlepars respons object codenassqs_get usag nassqs_parsereq cdatafram list text argument itemreqth get respons codelinknassqs_getnassqs_get itemaswheth return datafram list text string itemaddit paramet pass codelinkjsonlitefromjsonjsonlitefromjson codelinkutilsreadcsvutilsreadcsv valu data frame list text string content respons descript return data frame list text string datafram column except codeyear string quick stat data return suppress data z charact indic mean differ thing convert valu numer result na lose inform exampl donttest set paramet make request param listcommodity_desc corn year agg_level_desc state state_alpha wa statisticcat_desc yield respons nassqs_getparam pars respons data frame corn nassqs_parserespons datafram headcorn pars respons raw charact string corn_text nassqs_parserespons text headcorn_text get list paramet valu pars list respons nassqs_getlistparam statisticcat_desc api_path get_param_valu statisticcat_desc_valu nassqs_parserespons list headstatisticcat_desc_valu gener roxygen edit hand pleas edit document rauthr namenassqs_auth aliasnassqs_auth titlegetset environment variabl nassqs_token api key usag nassqs_authkey argument itemkeyth api key obtain urlhttpsquickstatsnassusdagovapi descript api key provid set environment variabl set api key four way detail enumer item directli variabl coder program verbnassqs_authkey api key item set codenassqs_token coder environ file youll never enter item enter consol ask store rest session exampl set api key nassqs_authkey api key sysgetenvnassqs_token gener roxygen edit hand pleas edit document rparamsr namenassqs_param aliasnassqs_param titlereturn list nass qs paramet usag nassqs_param argument itema paramet seri paramet list paramet would like descript miss list avail paramet return valu list avail paramet descript subset descript contain simpl hardcod list avail paramet paramet name provid return list paramet inform found api document paramet found urlhttpsquickstatsnassusdagovapiparam_defin exampl get list avail paramet nassqs_param get inform specif paramet nassqs_paramssource_desc group_desc gener roxygen edit hand pleas edit document rparamsr namenassqs_field aliasnassqs_field titledeprec return list nass qs paramet usag nassqs_field argument itema paramet seri paramet list paramet would like descript miss list avail paramet return descript deprec use codelinknassqs_paramsnassqs_param instead gener roxygen edit hand pleas edit document rwrappersr namenassqs_yield aliasnassqs_yield titleget yield record specifi crop usag nassqs_yield argument itemeith name list paramet seri paramet form queri valu datafram yield data descript return yield specifi paramet function intend simplifi common request exampl donttest get yield wheat geographi param list commodity_desc wheat year agg_level_desc state state_alpha wa yield nassqs_yieldsparam headyield