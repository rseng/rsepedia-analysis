gitrdata img srcmanfigureslogosvg alignright altgitrdata logo width badg start cran statushttpswwwrpkgorgbadgesversiongitrdatahttpscranrprojectorgpackagegitrdata rdochttpswwwrdocumentationorgbadgesversiongitrdatahttpswwwrdocumentationorgpackagesgitrdata project statu activ project reach stabl usabl state activ developedhttpswwwrepostatusorgbadgeslatestactivesvghttpswwwrepostatusorgact lifecyclehttpsimgshieldsiobadgelifecyclematuringbluesvghttpswwwtidyverseorglifecyclematur httpsbadgesropensciorg_statussvghttpsgithubcomropenscisoftwarereviewissu licencehttpsimgshieldsiobadgelicencegplbluesvghttpswwwgnuorglicensesgplenhtml minim r versionhttpsimgshieldsiobadgeredffsvghttpscranrprojectorg doihttpszenodoorgbadgesvghttpszenodoorgbadgelatestdoi codecovhttpscodecovioghropenscigitrdatabranchmastergraphbadgesvghttpscodecovioghropenscigitrdata github forkshttpsimgshieldsiogithubforksropenscigitrdatasvgstylesoci github starshttpsimgshieldsiogithubstarsropenscigitrdatasvgstylesoci github code size byteshttpsimgshieldsiogithublanguagescodesizeropenscigitrdatasvg github repo sizehttpsimgshieldsiogithubreposizeropenscigitrdatasvg badg end p styledisplaynonepleas visit gitrdata websit httpsropenscigithubiogitrdata vignett code websit link render version vignett function link help filep rational gitrdata packag r packag write read datafram plain text file metadata file store import inform store metadata allow maintain class variabl default gitrdata optim data file storag optim effect data contain factor optim make data less human readabl user turn prefer human readabl format smaller file detail implement avail vignetteplain_text packag gitrdata store metadata also allow smaller row base diffshttpsenwikipediaorgwikidiff two consecut commitshttpsenwikipediaorgwikicommit_version_control use featur store data plain text file version control detail part implement avail vignetteversion_control packag gitrdata although envis gitrdata githttpsgitscmcom workflow mind use combin version control system like subversionhttpssubversionapacheorg mercurialhttpswwwmercurialscmorg gitrdata use tool reproduc traceabl workflow vignetteworkflow packag gitrdata give toy exampl vignetteeffici packag gitrdata provid insight effici file storag git repositori size speed write read use gitrdata store datafram plain text file datafram read ident inform content one wrote chang data type factor keep origin level includ order date datetim format unambigu document metadata data metadata standard open format make readabl softwar gitrdata check data metadata read read_vc inform user tamper data metadata gitrdata integr gitrhttpscranrprojectorgpackagegitr packag work git repositori r anoth option use gitrdata sole write disk handl plain text file favourit version control system outsid r optim reduc requir disk space work directori git histori read data hdd faster readtabl write hdd take time writet gitrdata use tool reproduc traceabl workflow see vignetteworkflow packag gitrdata detect file last modifi git histori use check whether exist analysi obsolet due new data allow rerun date analys save resourc talk gitrdata user toulous franc ifram width height srchttpswwwyoutubenocookiecomembedsbrpmakbfqo framebord allowacceleromet autoplay encryptedmedia gyroscop pictureinpictur allowfullscreenifram instal instal cran r installpackagesgitrdata instal develop version github r instal requir remot packag installpackageremot instal vignett recommend remotesinstall_github ropenscigitrdata build true depend true build_opt cnoresavedata nomanu instal without vignett remotesinstall_githubropenscigitrdata usag brief user store datafram write_vc retriev read_vc function share argument root file root refer base locat store datafram either point local directori local git repositori file file name use includ path rel root make sure rel path stay within root r use local directori librarygitrdata root myproject write_vcmy_data file rel_pathfilenam root root read_vcfil rel_pathfilenam root root root gitrrepositorymy_git_repo git repositori detail store datafram plain text file vignetteplain_text packag gitrdata r use git repositori librarygitrdata repo repositorymy_git_repo pullrepo write_vcmy_data file rel_pathfilenam root repo stage true commitrepo messag pushrepo read_vcfil rel_pathfilenam root repo pleas read vignetteversion_control packag gitrdata detail use gitrdata combin version control data size gitrdata handl recommend git repositori use file smaller mib repositori size less gib less k file individu file size limit factor store airbag dataset daagnasscdshttpscranrprojectorgpackagedaag write_vc requir averag optim verbos byte per record file reach mib limit data million optim million verbos observ store random subset airbag dataset requir kib optim kib verbos storag git histori updat dataset random subset requir averag kib optim kib verbos per commit git histori reach limit gib k optim k verbos commit mileag might vari citat pleas use output citationgitrdata folder structur r sourc script rhttpscranrprojectorg function document roxygenhttpscranrprojectorgpackageroxygen format man help file rdhttpscranrprojectorgdocmanualsrreleaserextshtmlrdformat format insteffici precalcul data speed vignetteeffici packag gitrdata testthat r script unit test use testthathttpscranrprojectorgpackagetestthat framework vignett sourc code vignett describ packag manroxygen templat document roxygen format pkgdown sourc file gitrdata websitehttpsropenscigithubiogitrdata github guidelin templat contributor gitrdata github inst effici man manroxygen pkgdown r test testthat vignett contribut gitrdata welcom contribut pleas read contribut guidelineshttpsgithubcomropenscigitrdatablobmastergithubcontributingmd first gitrdata project contributor code conducthttpsgithubcomropenscigitrdatablobmastergithubcode_of_conductmd contribut project agre abid term ropensci footerhttpropensciorgpublic_imagesgithub_footerpnghttpsropensciorg gitrdata use icusetcol defin standardis sort gitrdata new featur write_vc gain option split_bi argument see vignettesplit_bi detail rename_vari effici renam variabl store gitrdata object bugfix read_vc is_gitrdata is_gitrmeta yield better messag data metadata miss gitrdata use checklisthttpspackagesinbobechecklist packag ci gitrdata bugfix explicitli use stringsasfactor datafram exampl unit test datafram contain charact upcom chang default valu stringsasfactor requir chang see httpsdeveloperrprojectorgblogpublicstringsasfactorsindexhtml gitrdata break featur calcul data hash chang must use upgrade_data read data store older version is_gitrdata upgrade_data longer test equal data hash read_vc still write_vc read_vc fail file locat outsid root reorder factor level requir strict true bugfix linux window machin gener data hash new featur intern sort use c local regardless current local read_vc read older store older version version old prompt upgrade_data improv warn error messag use vector version logo gitrdata transfer ropensci use new logo peterdesmet add estim upper bound number commit gitrdata upgrade_data use order metadata write_vc gitrdata break featur write_vc store gitrdata version number metadata use upgrade_data updat exist data new featur read_vc check meta data hash mismatch result error meta data gain data hash mismatch throw warn read object toler updat data softwar inform user chang occur is_gitrmeta valid metadata list_data list file valid metadata rm_data prune_meta remov file valid metadata dont touch tsv file without metadata yml file associ gitrdata file invalid metadata yield warn list_data rm_data prune_meta bugfix write_vc relabel handl empti string charact factor read_vc longer treat comment charact read_vc handl non ascii charact window chang use faster algorithm detect duplic suggest brodieg improv document fix typo document vignett readm add ropensci review badg readm readm mention upper bound size datafram set lifecycl matur repo statu activ function handl root contain regex express rework vignetteworkflow packag gitrdata updat time vignetteeffici packag gitrdata minor tweak vignetteplain_text packag gitrdata gitrdata fix typo document vignett readm gitrdata break chang meta append metadata list object rather yaml format yamlwrite_yaml write metadata list yaml format write_vc use strict argument instead overrid rm_data remov data file use prune_meta remov leftov metadata file new featur vignett efficiencyhttpsropenscigithubiogitrdataarticlesefficiencyhtml ad three separ vignett instead one larg vignett focu plain text formathttpsropenscigithubiogitrdataarticlesplain_texthtml focu version controlhttpsropenscigithubiogitrdataarticlesversion_controlhtml focu workflowshttpsropenscigithubiogitrdataarticlesworkflowhtml method replac old method optim factor use stabl indic ad remov level result smaller diff use relabel alter factor level without chang index writet store raw data instead readrwrite_tsv avoid readr depend write_vc read_vc use current work directori default root florisvdh user specifi string code miss valu default na allow storag charact string na write_vc return list issu potenti result larg diff list_data return vector datafram repositori chang write_vc allow use custom na string helpfil contain work exampl readm updat updat rational link vignett gitrdata hexagon sticker logo add doihttpszenodoorgbadgesvghttpszenodoorgbadgelatestdoi instal instruct use remot build vignett remov auto_commit limit extra function gitrcommit gitrdata new featur use readr write read plain text file allow storag string na special charact handl order factor stop handl complex number test environ local ubuntu lt r github action macoslatest releas windowslatest releas ubuntu devel ubuntu oldrel checklist packag ubuntu r rhub window server r sp rdevel bit ubuntu linux lt rreleas gcc fedora linux rdevel clang gfortran r cmd check result error warn note rhub gave fals posit note window server r sp rdevel bit possibl misspel word descript rdata workflow fedora linux rdevel clang gfortran possibl misspel word descript rdata ubuntu linux lt rreleas gcc fail rhub icu avail build involv authent share usernamepassword api keystoken issu like maintain equival key youv updat file manroxygen directori make sure updat man file run devtoolsdocu similar rd file affect chang provid gener summari chang titl descript describ chang detail relat issu close issu make sure includ eg fix similar relat issu make sure mention like exampl introduc new featur chang behavior exist methodsfunct includ exampl possibl brief form rememb includ test unless your chang grammar pleas includ new test chang contributor code conduct contributor maintain project pledg respect peopl contribut report issu post featur request updat document submit pull request patch activ commit make particip project harassmentfre experi everyon regardless level experi gender gender ident express sexual orient disabl person appear bodi size race ethnic age religion exampl unaccept behavior particip includ use sexual languag imageri derogatori comment person attack troll public privat harass insult unprofession conduct project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct project maintain follow code conduct may remov project team instanc abus harass otherwis unaccept behavior may report open issu contact one project maintain code conduct adapt contributor coven httpcontributorcovenantorg version avail httpcontributorcovenantorgvers contribut fix typo small typo grammat error document may edit directli use github web interfac long chang made _source_ file ye edit roxygen comment r file r edit rd file man prerequisit make substanti pull request alway file issu make sure someon team agre problem youv found bug creat associ issu illustr bug minim reprexhttpswwwtidyverseorghelpreprex pull request process recommend creat git branch pull request pr look travi appveyor build statu make chang readm contain badg continu integr servic use packag recommend tidyvers style guidehttpstyletidyverseorg use stylerhttpscranrprojectorgpackagestyl packag appli style pleas dont restyl code noth pr use roxygenhttpscranrprojectorgpackageroxygen use testthathttpscranrprojectorgpackagetestthat contribut test case includ easier accept userfac chang add bullet top newsmd current develop version header describ chang made follow github usernam link relev issuespr code conduct pleas note gitrdata project releas contributor code conductcode_of_conductmd contribut project agre abid term see ropensci contribut guidehttpsropenscigithubiodev_guidecontributingguidehtml detail discuss forum check discuss forumhttpsdiscussropensciorg think issu requir longer form discuss prefer email email person list maintain descript file repo though note privat discuss email dont help other cours email total warrant sensit problem kind thank contribut contribut guid adapt tidyvers contribut guid avail httpsrawgithubusercontentcomrlibusethismasterinsttemplatestidycontributingmd name bug report creat report help us improv involv authent share usernamepassword api keystoken issu like maintain equival key pleas past sessioninfosession_info sessioninfo code block includ reproduc exampl consid use reprex httpscranrstudiocomwebpackagesreprex delet proceed r replac reproduc exampl detail summarystrongsess infostrongsummari r replac output sessioninfosession_info sessioninfo detail name featur request suggest idea project involv authent share usernamepassword api keystoken issu like maintain equival key pleas describ featur propos detail possibl possibl add code exampl indic updat code work consid write href httpstestthatrliborgtestthata unit test r silli featur request fail current implement b stopifnotallequalb r testthat version silli featur request expect_equ titl optim storag version control author thierri onkelinx output rmarkdownhtml_vignett vignett vignetteindexentryoptim storag version control vignetteengineknitrrmarkdown vignetteencodingutf r setup includ fals libraryknitr opts_chunkset collaps true comment optionswidth introduct vignett focus gitrdata make store datafram version control effici conveni vignetteplain_text packag gitrdata describ detail actual file format henc discuss optim na argument write_vc function illustr effici write_vc read_vc vignetteeffici packag gitrdata cover topic setup r initialis creat directori tempdir root tempfilepattern gitr dircreateroot creat dummi data setse x datafram x samplelett factor sampleca b na replac true level ca b c z cna abc crnorm na def samplectru fals na replac true timestamp seq asposixct asposixct length stringsasfactor fals strx assumpt critic assumpt made gitrdata datafram contain inform row observ column variabl datafram colnam rownam impli two observ switch place alter inform content switch two variabl version control system like githttpsgitscmcom subversionhttpssubversionapacheorg mercurialhttpswwwmercurialscmorg focu accur keep track _any_ chang file two observ switch place plain text file _is_ chang although inform content_sensu_ gitrdata doesnt chang gitrdata help user prepar plain text file way chang version histori actual chang inform content sort observ version control system often track chang plain text file base row base differ layman term record line remov insert file locat chang exist line impli remov old version insert new one minim exampl illustr origin version ab alter version row contain move last line row contain chang ab diff origin alter version notic delet two line two insert diff ab ensur observ alway sort way thu help minim diff sort version alter version look like exampl ab diff origin sort altern version notic chang revert actual chang inform content anoth benefit chang easili spot diff delet without insert next line remov observ insert without preced delet new observ delet follow insert updat observ diff ab sort argument come play argument provid write file first time yield warn lack sort write_vc write observ current order new version file appli sort either leav burden user chang hash data file illustr exampl metadata hash remain r row_ord librarygitrdata write_vcx file row_ord root root write_vcxsamplenrowx file row_ord root root sort contain vector variabl name observ automat sort along variabl get error set sort variabl chang metadata store set sort variabl chang sort potenti lead larg diff gitrdata tri avoid much possibl moment store output write_vc object reduc output r apply_sort error true fn write_vcx row_ord root sort use strict fals turn error warn allow updat file notic get new warn variabl use sort result tie thu order observ guarante stabl solut use differ variabl well need strict fals overrid chang sort variabl r update_sort fn write_vcx row_ord root sort strict fals fn write_vcx row_ord root sort cy x strict fals defin sort may omit sort argument write new version write_vc use sort defin exist metadata check potenti tie tie result warn r update_sort print_fil functionfil root n fn filepathroot file data readlinesfn n n catdata sep n print_filerow_orderyml root fn write_vcxsamplenrowx row_ord root fn write_vcxsamplenrowx row_ord root sort cy x fn write_vcxsamplenrowx replac true row_ord root sort variabl order variabl column even bigger impact row base diff let revisit minim exampl suppos swap b origin examplesortingobserv new data look ba result diff maxim everi singl row chang yet none inform chang henc maintain column order crucial store datafram plain text file version control vignetteeffici packag gitrdata vignett illustr realist data set diff ab ba write_vc write datafram first time store origin order column metadata moment write_vc use order store metadata exampl write data set twice second version contain ident inform random order observ column sort intern write_vc undo random result unchang file r variable_ord write_vcx column_ord root sort cx abc print_filecolumn_ordertsv root n write_vcxsamplenrowx samplencolx column_ord root print_filecolumn_ordertsv root n handl factor optim vignetteplain_text packag gitrdata vignetteeffici packag gitrdata illustr store factor effici store index data file indic label metadata take even bit happen new data arriv need extra factor level r factor old dataframecolor cred blue stringsasfactor true write_vcold factor root sort color print_filefactoryml root let add observ new factor level store updat datafram new file see indic differ factor level blue remain unchang red becom third level get index instead index could lead larg diff wherea potenti semant thu inform content chang r factor updat datafram color cred green blue stringsasfactor true write_vcupd factor root sort color print_filefactoryml root tri overwrit origin data updat version get error chang factor level indic specif case decid chang ok forc write set strict fals notic origin label blue red keep index new level green get first avail index number r factor_upd error true write_vcupd factor root fn write_vcupd factor root strict fals print_filefactoryml root next exampl remov blue level switch order remain level notic meta data retain exist indic order label indic reflect new order r factor_delet delet datafram color factorcr green level cred green write_vcdelet factor root sort color strict fals print_filefactoryml root chang factor order factor _vice versa_ also keep exist level indic r factor_ord order datafram color factorcr green level cred green order true write_vcord factor root sort color strict fals print_filefactoryml root relabel factor exampl store datafram relabel factor level store use write_vc notic updat label indic henc creat larg diff updat label would r write_vcold write_vc root sort color print_filewrite_vcyml root relabel old translat color name dutch levelsrelabeledcolor cblauw rood write_vcrelabel write_vc root strict fals print_filewrite_vcyml root creat relabel chang label meta data maintain indic take three argument name data file root chang chang accept two format list datafram name list must match variabl name factor data element list must name vector name exist label valu new label datafram format requir factor old new variabl one row chang label r write_vcold relabel root sort color relabelrelabel root chang listcolor cred rood blue blauw print_filerelabelyml root relabel relabel root chang datafram factor color old blauw new blue stringsasfactor true print_filerelabelyml root _caveat_ relabel make sens data file use verbos storag verbos mode store factor label indic case relabel label alway yield larg diff henc relabel requir optim storag titl store larg datafram author thierri onkelinx output rmarkdownhtml_vignett fig_capt ye vignett vignetteindexentrystor larg datafram vignetteengineknitrrmarkdown vignetteencodingutf vignettedependsgitr vignettedependsmicrobenchmark vignettedependsggplot r setup includ fals libraryknitr opts_chunkset figheight figwidth collaps true comment libraryggplot inbo_colour cb bb e bdddd ee c cc theme_inbo functionbase_s base_famili rect_bg white legend_bg white panel_bg fff panel_grid white plot_bg white half_lin base_s theme line element_linecolour black size linetyp lineend butt rect element_rectfil rect_bg colour black size linetyp text element_textfamili base_famili face plain colour size base_s hjust vjust angl lineheight margin margin debug fals axislin element_blank axislinex element_blank axisliney element_blank axistext element_texts rel axistextx element_textmargin margint half_lin vjust axistextxtop null axistexti element_textmargin marginr half_lin hjust axistextyright null axistick element_lin axistickslength unit cm axistitl element_textcolour black axistitlex element_text margin margint half_lin b half_lin axistitlextop null axistitley element_text margin marginr half_lin l half_lin angl axistitleyright null legendbackground element_rectcolour na fill legend_bg legendkey element_rectfil panel_bg colour na legendkeys unit line legendkeyheight null legendkeywidth null legendmargin null legendspac unit cm legendspacingx null legendspacingi null legendtext element_texts rel legendtextalign null legendtitl element_texts rel face bold hjust colour black legendtitlealign null legendposit right legenddirect null legendjustif center legendbox null legendboxmargin margint half_lin r half_lin b half_lin l half_lin legendboxbackground element_rectcolour na fill legend_bg legendboxspac unit cm panelbackground element_rectfil panel_bg colour na panelbord element_blank panelgrid element_linecolour panel_grid panelgridminor element_linecolour panel_grid size panelspac unithalf_lin pt panelspacingx null panelspacingi null panelontop fals stripbackground element_rectfil eda colour na striptext element_texts rel colour fff striptextx element_textmargin margint half_lin b half_lin striptexti element_textmargin marginr half_lin l half_lin angl stripswitchpadgrid unit cm stripswitchpadwrap unit cm stripplac outsid plotbackground element_rectcolour na fill plot_bg plottitl element_texts rel margin margin half_lin plotsubtitl element_texts rel margin margin half_lin plotcapt element_texts rel margin margin half_lin plotmargin margint half_lin r half_lin b half_lin l half_lin plottag element_texts rel hjust vjust plottagposit topleft complet true theme_settheme_inbo update_geom_defaultslin listcolour update_geom_defaultshlin listcolour update_geom_defaultsboxplot listcolour update_geom_defaultssmooth listcolour introduct sometim larg datafram one variabl small number uniqu combin eg datafram one factor variabl store entir datafram singl text file requir store lot replic data row store inform everi variabl even subset variabl remain constant subset data case use split_bi argument write_vc store larg datafram set tab separ file one file everi combin variabl defin split_bi everi partial data file hold variabl one combin split_bi remov split_bi variabl partial data file reduc size add indextsv contain combin split_bi variabl uniqu hash combin hash becom base name partial data file split datafram smaller file make easier handl version control system total size depend amount replic datafram next section split datafram let set follow variabl averag number byte store singl line split_bi variabl r averag number byte store singl line remain variabl h_ number byte store header split_bi variabl h_r number byte store header remain variabl n number row datafram n_ number uniqu combin split_bi variabl store datafram write_vc without split_bi requir h_ h_r byte header r byte everi observ total number byte t_ h_ h_r n r origin tab charact separ split_bi variabl remain variabl store datafram write_vc split_bi requir index file store combin split_bi variabl use h_ byte header n_ data header partial data file requir n_ h_r byte n_ file h_r byte per file data partial data file requir n r byte total number byte t_ h_ n_ n_ h_r n r look ratio t_ t_ fract_st_ frach_ n_ n_ h_r n rh_ h_r n r let simplifi equat assum need equal amount charact header data h_ h_r r fract_st_ frac n_ n_ r n rs r n r fract_st_ frac n_ n_ r n rs r n n r n let assum r n_ b n b fract_st_ fraca r n b r n b r n ra r r n r n r n fract_st_ fraca n b n b n rn r r fract_st_ fraca n b n b nn r fract_st_ fraca b b n n r n larg state lll n n n approx fract_st_ approx fraca b b r r ratio figcap storag space requir use split_bi rel store singl file echo fals combin expandgrid c b seq length r c combinationsratio combin b b r ggplotcombin aesx b ratio colour factora geom_hlineyintercept linetyp geom_lin facet_wrap paster r scale_x_continu expressionbnsn label functionx past x scale_y_continu rel amount disk space label functionx past x scale_colour_manu r valu inbo_colour label c figur illustr use split_bi effici number uniqu combin n_ split_bi variabl much smaller number row datafram n effici also increas storag singl combin split_bi variabl larger storag need singl line remain variabl r storag need singl line remain variabl r doesnt influenc effici benchmark r load_data echo fals airbag readrd systemfileeffici airbagrd packag gitrdata r set_tmp_dir librarygitrdata root tempfilegitrdatasplitbi dircreateroot r get_write_tim eval systemfilesplit_bi write_timingsrd packag gitrdata librarymicrobenchmark mb microbenchmark part_ write_vcairbag part_ root sort x part_ write_vcairbag part_ root sort x split_bi airbag part_ write_vcairbag part_ root sort x split_bi abcat part_ write_vc airbag part_ root sort x split_bi cairbag sex part_ write_vcairbag part_ root sort x split_bi dvcat part_ write_vc airbag part_ root sort x split_bi yearacc part_ write_vc airbag part_ root sort x split_bi cdvcat abcat part_ write_vc airbag part_ root sort x split_bi yearveh part_ write_vc airbag part_ root sort x split_bi cyearacc yearveh mbtime mbtime e r store_write_tim echo fals systemfilesplit_bi write_timingsrd packag gitrdata dircreatefilepath inst split_bi showwarn fals saverdsmb filepath inst split_bi write_timingsrd els mb readrd systemfilesplit_bi write_timingsrd packag gitrdata split datafram one file take time write data log time seem increas quadrat log number part r plot_write_tim echo fals figcap boxplot write time differ number part mbcombin asintegergsubpart_ levelsmbexprmbexpr ggplotmb aesx combin time geom_boxplotaesgroup combin scale_x_lognumb part scale_y_logtim millisecond r get_read_tim eval systemfilesplit_bi read_timingsrd packag gitrdata mb_r microbenchmark part_ read_vcpart_ root part_ read_vcpart_ root part_ read_vcpart_ root part_ read_vcpart_ root part_ read_vcpart_ root part_ read_vcpart_ root part_ read_vcpart_ root part_ read_vcpart_ root part_ read_vcpart_ root mb_rtime mb_rtime e r store_read_tim echo fals systemfilesplit_bi read_timingsrd packag gitrdata saverdsmb_r filepath inst split_bi read_timingsrd els mb_r readrd systemfilesplit_bi read_timingsrd packag gitrdata small number part seem affect read time much ten part requir time read seem increas log time seem increas quadrat log number part r plot_read_tim echo fals figcap boxplot read time differ number part mb_rcombin asintegergsubpart_ levelsmb_rexprmb_rexpr ggplotmb_r aesx combin time geom_boxplotaesgroup combin scale_x_lognumb part scale_y_logtim millisecond titl effici rel storag time author thierri onkelinx output rmarkdownhtml_vignett fig_capt ye vignett vignetteindexentryeffici rel storag time vignetteengineknitrrmarkdown vignetteencodingutf vignettedependsgitr vignettedependsmicrobenchmark vignettedependsggplot r setup includ fals libraryknitr opts_chunkset figheight figwidth collaps true comment libraryggplot inbo_colour cb bb e bdddd ee c cc theme_inbo functionbase_s base_famili rectbg white legendbg white panelbg fff panelgrid white plotbg white half_lin base_s theme line element_linecolour black size linetyp lineend butt rect element_rectfil rectbg colour black size linetyp text element_textfamili base_famili face plain colour size base_s hjust vjust angl lineheight margin margin debug fals axislin element_blank axislinex element_blank axisliney element_blank axistext element_texts rel axistextx element_textmargin margint half_lin vjust axistextxtop null axistexti element_textmargin marginr half_lin hjust axistextyright null axistick element_lin axistickslength unit cm axistitl element_textcolour black axistitlex element_text margin margint half_lin b half_lin axistitlextop null axistitley element_text margin marginr half_lin l half_lin angl axistitleyright null legendbackground element_rectcolour na fill legendbg legendkey element_rectfil panelbg colour na legendkeys unit line legendkeyheight null legendkeywidth null legendmargin null legendspac unit cm legendspacingx null legendspacingi null legendtext element_texts rel legendtextalign null legendtitl element_texts rel face bold hjust colour black legendtitlealign null legendposit right legenddirect null legendjustif center legendbox null legendboxmargin margint half_lin r half_lin b half_lin l half_lin legendboxbackground element_rectcolour na fill legendbg legendboxspac unit cm panelbackground element_rectfil panelbg colour na panelbord element_blank panelgrid element_linecolour panelgrid panelgridminor element_linecolour panelgrid size panelspac unithalf_lin pt panelspacingx null panelspacingi null panelontop fals stripbackground element_rectfil eda colour na striptext element_texts rel colour fff striptextx element_textmargin margint half_lin b half_lin striptexti element_textmargin marginr half_lin l half_lin angl stripswitchpadgrid unit cm stripswitchpadwrap unit cm stripplac outsid plotbackground element_rectcolour na fill plotbg plottitl element_texts rel margin margin half_lin plotsubtitl element_texts rel margin margin half_lin plotcapt element_texts rel margin margin half_lin plotmargin margint half_lin r half_lin b half_lin l half_lin plottag element_texts rel hjust vjust plottagposit topleft complet true theme_settheme_inbo update_geom_defaultslin listcolour update_geom_defaultshlin listcolour update_geom_defaultsboxplot listcolour introduct vignett compar storag retriev data gitrdata standard r function consid writet readtabl data store plain text format saverd readrd use compress binari format get meaning result use nasscd dataset daaghttpswwwrdocumentationorgpackagesdaagversionstopicsnasscd packag well avoid depend packag directli download data r download_data eval systemfileeffici airbagrd packag gitrdata airbag readcsv httpsvincentarelbundockgithubiordatasetscsvdaagnasscdscsv airbagdead airbagdead dead airbagairbag airbagairbag airbag airbagseatbelt airbagseatbelt belt airbagdvcat asorderedairbagdvcat r load_data echo fals systemfileeffici airbagrd packag gitrdata saverdsairbag filepath inst effici airbagrd els airbag readrd systemfileeffici airbagrd packag gitrdata r data_structur strairbag data storag file system start write dataset writet saverd write_vc write_vc without storag optim note write_vc use optim default sinc write_vc creat two file data set take combin file size account r set_tmp_dir librarygitrdata root tempfilegitrdataeffici dircreateroot r file_s writetableairbag filepathroot base_rtsv sep base_s filesizefilepathroot base_rtsv saverdsairbag filepathroot base_rrd rds_size filesizefilepathroot base_rrd fn write_vcairbag airbag_optim root sort x optim_s sumfilesizefilepathroot fn fn write_vcairbag airbag_verbos root sort x optim fals verbose_s sumfilesizefilepathroot fn sinc data highli compress saverd yield smallest file cost binari file format write_vc format yield smaller file writet partli write_vc doesnt store row name doesnt use quot unless need differ optim verbos version write_vc case sole due way write_vc store factor data tsv file optim version store indic factor wherea verbos version store level exampl airbagdvcat level short label averag charact store index requir charact result compact file r table_file_s echo fals kabl datafram method csaverd write_vc optim write_vc verbos writet file_s crds_size optim_s verbose_s base_s rel crds_size optim_s verbose_s base_s base_s caption result file size kb file size rel size writet digit reduct file size store factor depend length label number level number observ figur illustr strong gain soon level label contain two charact gain less pronounc factor larg number level optim fail extrem case short factor label high number level r factor_label_length echo fals figcap effect label length effici store factor optim assum observ warn fals ratio functionlabel_length n_level n_ob meta_length label_length floorlogn_level n_level optim n_ob meanceilinglogseq_lenn_level verbos n_ob label_length ifels label_length n_level optim meta_length verbos meta_length na length f_ratio rbind datafram label_length length level ratio ratiolength datafram label_length length level ratio ratiolength datafram label_length length level ratio ratiolength datafram label_length length level ratio ratiolength f_ratiolevel factorf_ratiolevel level c ggplotf_ratio aesx label_length ratio colour level geom_hlineyintercept linetyp geom_lin scale_x_continuouslabel length charact scale_y_continuousoptim byte verbos byte break seq scale_colour_manualnumb nlevel valu inbo_colour effect number observ mainli due overhead store metadata import overhead increas number observ small r factor_observ echo fals figcap effect number observ effici store factor optim assum label charact n_ob seqlog log length f_ratio rbind datafram observ n_ob level ratio sapplyn_ob ratio label_length n_level datafram observ n_ob level ratio sapplyn_ob ratio label_length n_level datafram observ n_ob level ratio sapplyn_ob ratio label_length n_level datafram observ n_ob level ratio sapplyn_ob ratio label_length n_level f_ratiolevel factorf_ratiolevel level c ggplotf_ratio aesx observ ratio colour level geom_hlineyintercept linetyp geom_lin scale_x_log scale_y_continuousoptim byte verbos byte break seq scale_colour_manualnumb nlevel valu inbo_colour git repositori simul much space data requir store histori git repositori creat git repositori method store differ subset data commit contain new version data version random sampl contain observ airbag data two consecut version subset observ common write version commit file perform garbag collect git gc git repositori calcul size git histori git countobject v r git_siz eval systemfileeffici git_sizerd packag gitrdata librarygitr tmp_repo function root tempfilegitrdataefficientgit dircreateroot repo initroot configrepo usernam useremail memecom returnrepo commit_and_s functionrepo filenam addrepo filenam commitrepo test session true git_siz system sprintfcd sngit gcngit countobject v dirnamerepopath intern true git_siz git_sizegrepsizepack git_siz asintegergsub git_siz repo_wt tmp_repo repo_wt tmp_repo repo_rd tmp_repo repo_wvco tmp_repo repo_wvcv tmp_repo repo_s replic observed_subset rbinomnrowairbag size prob airbag samplewhichobserved_subset samplencolairbag this_sort airbagobserved_subset fn_wt filepathworkdirrepo_wt base_rtsv writetablethi fn_wt sep fn_wt filepathworkdirrepo_wt base_rtsv writetablethis_sort fn_wt sep fn_rd filepathworkdirrepo_rd base_rrd saverdsthi fn_rd fn_wvco write_vcthi airbag_optim repo_wvco sort x fn_wvcv write_vc airbag_verbos repo_wvcv sort x optim fals c writet commit_and_sizerepo_wt fn_wt writetablesort commit_and_sizerepo_wt fn_wt saverd commit_and_sizerepo_rd fn_rd write_vcoptim commit_and_sizerepo_wvco fn_wvco write_vcverbos commit_and_sizerepo_wvcv fn_wvcv r store_git_s echo fals systemfileeffici git_sizerd packag gitrdata saverdsrepo_s filepath inst effici git_sizerd els repo_s readrd systemfileeffici git_sizerd packag gitrdata version data purpos random order observ variabl would happen worst case scenario would gener largest possibl diff also test writet stabl order observ variabl randomis writet yield largest git repositori converg r sprintff repo_sizewritet repo_sizewritetablesort time size git repositori base sort writet saverd yield r sprintff repo_sizesaverd repo_sizewritet reduct repositori size compar randomis writet still r sprintff repo_sizesaverd repo_sizewritetablesort time larger sort writet note gain store binari file git repositori much smaller gain individu file size git compress histori optim write_vc start r sprintff repo_sizewrite_vcoptim repo_sizewritetablesort converg toward r sprintff repo_sizewrite_vcoptim repo_sizewritetablesort verbos version start r sprintff repo_sizewrite_vcverbos repo_sizewritetablesort converg toward r sprintff repo_sizewrite_vcverbos repo_sizewritetablesort storag size lot smaller use write_vc optim verbos option write_vc littl gain storag size anoth advantag write_vc store metadata r plot_git_s echo fals figcap size git histori use differ storag method rs lappli rownamesrepo_s functionx x saverd fun saverd optim ye els x write_vcoptim fun write_vc optim ye els x write_vcverbos fun write_vc optim els x writet fun writet optim els x writetablesort fun writet optim ye dataframecommit seq_alongrepo_sizex size repo_sizex rel_siz repo_sizex repo_sizewritetablesort fun fun optim optim stringsasfactor fals rs docallrbind rs rsoptim factorrsoptim level cye ggplotr aesx commit size colour fun linetyp optim geom_lin scale_y_continuousrepo size mib scale_colour_manualfunct valu inbo_colour r plot_rel_git_s echo fals figcap rel size git repositori compar writet ggplotr aesx commit rel_siz colour fun linetyp optim geom_lin scale_y_continuouss rel sort writet break scale_colour_manualfunct valu inbo_colour time code run microbenchmark four method microbenchmark run code hundr time yield distribut time express write data r get_file_tim eval systemfileeffici file_timingsrd packag gitrdata librarymicrobenchmark mb microbenchmark writet writetableairbag filepathroot base_rtsv sep saverd saverdsairbag filepathroot base_rrd write_vcoptim write_vcairbag airbag_optim root sort x write_vcverbos write_vcairbag airbag_verbos root sort x optim fals mbtime mbtime e r store_file_tim echo fals systemfileeffici file_timingsrd packag gitrdata saverdsmb filepath inst effici file_timingsrd els mb readrd systemfileeffici file_timingsrd packag gitrdata r median_writ echo fals median_tim aggregatetim expr data mb fun median write_ratio median_timetim median_timetimemedian_timeexpr writet nameswrite_ratio median_timeexpr write_vc take r pastesprintff write_ratiogrepwrite_vc nameswrite_ratio collaps time writet need prepar metadata sort observ variabl overwrit exist data write_vc check new data exist metadata saverd requir r sprintff write_ratiosaverd time writet need r plot_file_tim echo fals figcap boxplot write time differ method mbexpr reordermbexpr mbtime fun median levelsmbexpr gsubwrite_vc write_vcn levelsmbexpr ggplotmb aesx expr time geom_boxplot scale_y_continuoustim millisecond limit c na themeaxistitlex element_blank read data r get_read_tim eval systemfileeffici read_timingsrd packag gitrdata mb microbenchmark readtabl readtablefilepathroot base_rtsv header true sep readrd readrdsfilepathroot base_rrd read_vcoptim read_vcairbag_optim root read_vcverbos read_vcairbag_verbos root mbtime mbtime e r store_read_tim echo fals systemfileeffici read_timingsrd packag gitrdata saverdsmb filepath inst effici read_timingsrd els mb readrd systemfileeffici read_timingsrd packag gitrdata r median_read echo fals median_tim aggregatetim expr data mb fun median read_ratio median_timetim median_timetimemedian_timeexpr readtabl namesread_ratio median_timeexpr time read data anoth stori read binari format take r sprintff read_ratioreadrd time need read standard plain text format use readtabl read_vc take r sprintff read_ratioread_vcoptim optim r sprintff read_ratioread_vcverbos verbos time need readtabl first seem strang read_vc call readtabl read file extra work convert variabl correct data type main differ read_vc know requir data type _a priori_ pass info readtabl otherwis readtabl guess correct data type file r plot_read_tim echo fals figcap boxplot read time differ method mbexpr factor mbexpr level creadrd readtabl read_vcoptim read_vcverbos levelsmbexpr gsubread_vc read_vcn levelsmbexpr ggplotmb aesx expr time geom_boxplot scale_y_continuoustim millisecond limit c na themeaxistitlex element_blank titl suggest workflow store variabl set datafram version control author thierri onkelinx output rmarkdownhtml_vignett vignett vignetteindexentrysuggest workflow store variabl set datafram version control vignetteengineknitrrmarkdown vignetteencodingutf vignettedependsgitr r setup includ fals libraryknitr opts_chunkset collaps true comment setse introduct vignett describ suggest workflow store snapshot datafram gitrdata object version control workflow come two flavour singl repositori hold data analysi code singl repositori setup simpl singl refer eg commit point data code one repositori hold data second repositori hold code data code independ histori two repositori setup document analysi requir one refer repositori setup use repeat analysi stabl code updat data vignett use gitrrepositori object root add git function write_vc read_vc provid gitrhttpscranrprojectorgpackagegitr packag allow pull stage commit push within r commit data git repositori describ complet snapshot data time commit differ two commit consist chang exist gitrdata object updat observ new observ delet observ updat metadata besid updat exist gitrdata object also add new gitrdata object remov exist one need track higher level addit delet well illustr workflow mock analysi datasetsbeav datasetsbeav dataset setup start initi git repositori gitrdata assum alreadi done well use gitr function start creat local bare repositori practic use remot extern server github gitlab bitbucket exampl creat local git repositori upstream git repositori workflow creat similar structur fine r initi initi bare git repo use remot remot tempfilegitrdataworkflowremot remot normalizepathremot winslash dircreateremot gitrinitremot bare true initi local git repo path tempfilegitrdataworkflow path normalizepathpath winslash dircreatepath init_repo gitrcloneremot path progress fals gitrconfiginit_repo usernam useremail memecom add initi commit gitignor file writelinesextra filepathpath gitignor gitraddinit_repo gitignor forc true gitrcommitinit_repo messag initi commit push initi commit remot gitrpushinit_repo origin refsheadsmast rminit_repo structur gitrdata object within project gitrdata impos minim structur tsv yml file need folder that sake simplic vignett dump gitrdata object root repositori might good idea real project recommend use least differ directori tree import script directori go root data repositori goe data directori case data code repositori inst directori case r packag project might need differ directori structur feel free choos relev data structur project store datafram _ad hoc_ git repositori first commit first commit use datasetsbeav connect git repositori use repositori note assum path exist git repositori write dataset gitrdata object repositori root argument write_vc git_repositori gain two extra argument stage forc set stage true automat stage file written write_vc r store_data_ librarygitrdata repo repositorypath fn write_vcbeav beaver repo sort time stage true use statu check write_vc wrote stage requir file commit chang r avoid_subsecond_commit echo fals syssleep r commit_data_ statusrepo cm commitrepo messag first commit catcmmessag second commit second commit add beaver r store_data_ fn write_vcbeav extra_beav repo sort time stage true statusrepo notic extra_beav list statu although write_vc wrote repositori reason set gitignor contain extra git ignor gitrdata object name contain extra forc git stage set forc true r avoid_subsecond_commit echo fals syssleep r statusrepo ignor true fn write_vcbeav extra_beav repo sort time stage true forc true statusrepo cm commitrepo messag second commit third commit decid singl gitrdata object contain data beaver relev add id variabl anim requir updat sort avoid tie strict fals updat metadata extra_beav gitrdata object longer need remov use true stage remov extra_beav commit chang r avoid_subsecond_commit echo fals syssleep r store_data_ beaverbeav beaverbeav beaver rbindbeav beaver fn write_vcbeav beaver repo sort cbeaver time strict fals stage true fileremovelistfilespath extra fullnam true statusrepo cm commitrepo messag third commit true statusrepo script workflow store datafram strongli recommend add gitrdata object import script instead ad _ad hoc_storingdataframesadhocintoagitrepositori store script analysi repositori document creation gitrdata object rerun script whenev updat data becom avail old version import script associ gitrdata remain avail version control histori remov obsolet gitrdata object import script keep import script work directori tidi minim basic import script creat gitrdata object within given directori tree give advantag start import script clear exist gitrdata object directori import script longer creat gitrdata object get remov without need track gitrdata object exist previou version brute forc method remov file tsv yml pair good idea remov exist metadata need effici storag see vignetteeffici packag gitrdata better solut use rm_data directori start import script remov tsv file valid metadata exist metadata remain untouch point write gitrdata object stage unchang object lead diff even first delet recreat script wont recreat tsv file obsolet gitrdata object use prune_meta remov leftov metadata file commit push chang end script exampl script recreat beaver gitrdata object third committhirdcommit r eval fals load packag librarygitrdata step setup repositori data path repo repositori data_path databeav step b sync repositori remot pullrepo repo step remov exist data file rm_dataroot repo path data_path stage true step write relev gitrdata object data path beaverbeav beaverbeav body_temp rbindbeav beaver fn write_vcx body_temp file filepathdata_path body_temperatur root repo sort cbeaver time stage true step remov dangl metadata file prune_metaroot repo path data_path stage true step commit chang cm commitrepo repo messag import step b sync repositori remot pushrepo repo r packag workflow store datafram recommend two repositori setup case recur analys rel stabl analys run frequenc updat data eg month make worthwhil convert analys r packag split long script set shorter function much easier document maintain r packag offer lot functionalityhttprpkgshadconzcheckhtml box check qualiti code exampl convert import script function illustr use roxygen see vignetteroxygen packag roxygen tag document function list depend note ad session true commit append sessioninfo time commit commit messag thu document load r packag version document code use creat gitrdata object sinc analysi code resid dedic packag version number strongli recommend run import fresh r session sessioninfo commit time contain packag strictli requir import consid run import command line eg rscript e mypackageimport_body_temppathtoroot r eval fals import beaver bodi temperatur data param path root git repositori importfrom gitrdata repositori pull rm_data write_vc prune_meta commit push export import_body_temp functionpath step setup repositori data path repo repositorypath data_path databeav step b sync repositori remot pullrepo repo step remov exist data file rm_dataroot repo path data_path stage true step write relev gitrdata object data path beaverbeav beaverbeav body_temp rbindbeav beaver fn write_vcx body_temp file filepathdata_path body_temperatur root repo sort cbeaver time stage true step remov dangl metadata file prune_metaroot repo path data_path stage true step commit chang cm commitrepo repo messag import session true step b sync repositori remot pushrepo repo analysi workflow reproduc data exampl small trivial exampl standard analysi document sourc data describ name data repositori url commit use inform report result make data underli result traceabl r standardized_analysi analysi functionds_nam repo ds read_vcds_nam repo list dataset ds_name repositori gitrremote_urlrepo commit recent_commitds_nam repo data true model lmtemp activ data ds report functionx knitrkabl coefsummaryxmodel caption sprintfdataset ncommit nrepositori xdataset xcommitcommit xrepositori case run everi analysi loop list dataset repositori r run_current_analys result asi repo repositorypath current lapplylist_datarepo analysi repo repo namescurr list_datarepo result lapplycurr report junk lapplyresult print exampl thing first second commit r run_previous_analys result asi checkout first commit gitrcheckoutcm analysi previou lapplylist_datarepo analysi repo repo namesprevi list_datarepo result lapplyprevi report junk lapplyresult print checkout second commit gitrcheckoutcm analysi previou lapplylist_datarepo analysi repo repo namesprevi list_datarepo result lapplyprevi report junk lapplyresult print inspect report result youll notic output coeffici commit hash beaver object ident first second commit make sens sinc beaver object didnt chang second commit output current third commit differ dataset chang long run analysi imagin case individu analysi take run store recent version analysi add inform recent_commit prepar analysi run recent_commit dataset compar commit hash one avail analysi commit hash match data hasnt chang need rerun analysisassum code run analysi didnt chang save valuabl comput resourc time titl get start store datafram plain text author thierri onkelinx output rmarkdownhtml_vignett vignett vignetteindexentryget start store datafram plain text vignetteengineknitrrmarkdown vignetteencodingutf r setup includ fals libraryknitr opts_chunkset collaps true warn fals comment optionswidth introduct vignett motiv wrote gitrdata illustr use store datafram plain text file maintain variabl class r differ option store datafram plain text file r base r writet companion like writecsv option datatablefwrit readrwrite_delim readrwrite_csv readrwrite_tsv write datafram plain text file convert variabl charact read file revert convers distinct charact factor get lost translat readtabl convert default string factor readrread_csv keep default string charact function recov factor level function determin factor level base observ level plain text file henc factor level without observ disappear order factor level also determin avail level plain text file differ origin order write_vc read_vc function gitrdata keep track class variabl case factor also factor level order henc function pair preserv inform content datafram vc suffix stand version control function use full capac combin version control system effici rel storag time optim file storag plain text file requir disk space binari file price pay readabl file format default option write_vc creat file compact possibl sinc use tab delimit file format omit quot around charact variabl save byte per row charact variabl write_vc add quot automat except case need eg store string contain tab newlin charact dont add quot rowvari combin dont need sinc store class variabl reduc file size follow rule store logic fals true na data store factor indic data store index label level order metadata store posixct numer data store class origin metadata store return timestamp utc store date integ data store class origin metadata store factor posixct date index make less user readabl user turn optim user readabl import file size optim version control anoth main goal gitrdata optimis storag plain text file version control write_vc read_vc method interact githttpsgitscmcom repositori use gitr framework user want use git without gitr use differ version control system eg subversionhttpssubversionapacheorg mercurialhttpswwwmercurialscmorg still use gitrdata write file disk use prefer workflow version control henc write_vc alway perform check look chang potenti lead larg diff detail vignetteversion_control packag gitrdata problem alway yield warn problem yield error default user turn error warn set strict fals argument vignett ignor part version control alway use write_vcstrict fals hide warn improv readabl basic usag let start set environ need directori store data datafram store r creat directori tempdir path tempfilepattern gitr dircreatepath creat dummi data setse x datafram x samplelett factor sampleca b na replac true level ca b c z cna abc crnorm na def samplectru fals na replac true timestamp seq asposixct asposixct length stringsasfactor fals strx store optim use write_vc store datafram root argument refer base directori store data file argument becom base name file data file get tsv extens metadata file yml extens file includ rel path start root r first_writ librarygitrdata write_vcx x file first_test root path strict fals write_vc return vector rel path raw data metadata file name vector contain hash file look file well display first row raw data notic yaml format metadata benefit human machin readabl r manual_data print_fil functionfil root n fn filepathroot file data readlinesfn n n catdata sep n print_filefirst_testtsv path print_filefirst_testyml path store verbos ad optim fals write_vc keep raw data human readabl format metadata file slightli differ obviou optim tag differ hash anoth differ metadata posixct date class longer origin tag format tag r write_verbos write_vcx x file verbos root path optim fals strict fals r manual_verbose_data print_fileverbosetsv path print_fileverboseyml path effici rel file storag store datafram optim verbos impact requir file size efficiencyefficiencyhtmlonafilesystem vignett give comparison read data retriev data read_vc function reinstat variabl origin state r first_read read_vcfil first_test root path allequalx checkattribut fals read_vcfil verbos root path allequalx checkattribut fals read_vc requir meta data handl datafram store write_vc miss valu write_vc na argument specifi string use miss valu avoid use quot string must differ charact valu data includ factor label verbos data storag write_vc check alway return error even strict fals r echo fals result hide stopifnotx xx b xy r na_str error true write_vcx custom_na path strict fals na x optim fals write_vcx custom_na path strict fals na b optim fals write_vcx custom_na path strict fals na x write_vcx custom_na path strict fals na b pleas note write_vc use na string entir dataset thu everi variabl r manual_na_data print_filecustom_natsv path print_filecustom_nayml path default string miss valu na recommend keep default long dataset permit first good altern empti string wont work either youll use imagin tri keep short clear robustrobust sens wont need chang later r empty_na write_vcx custom_na path strict fals na gener roxygen edit hand pleas edit document rpruner nameprune_meta aliasprune_meta aliasprune_metagit_repositori titleprun metadata file usag prune_metaroot path null recurs true methodprune_metagit_repositoryroot path null recurs true stage fals argument itemrootth root project file path codegitrepositori default current work directori code itempathth directori clean data file directori rel coderoot itemrecursiveremov file subdirectori itemparamet use method itemstagestag chang remov file default codefals valu return invis vector remov file name path rel coderoot descript remov strongvalid metadata codeyml file codepath dont accompani data codetsv file stronginvalid metadata trigger warn without remov metadata file use function caution sinc remov valid metadata file without ask confirm strongli recommend use function file version control see codevignetteworkflow packag gitrdata exampl use exampl file system creat directori root tempfilegitrdata dircreateroot store datafram gitrdata object captur result minimis screen output junk write_vciri iri root sort sepallength write standard tab separ file non gitrdata object writetableiri file filepathroot standardtsv sep write yaml file yml list author list research institut natur forest list href httpswwwinbobeen yamlwrite_yamlyml file filepathroot _pkgdownyml list gitrdata object list_dataroot list file listfilesroot recurs true remov tsv file valid gitrdata object rm_dataroot path check remov tsv file listfilesroot recurs true list_dataroot remov dangl gitrdata metadata file prune_metaroot path check remov metadata listfilesroot recurs true list_dataroot git repo initialis git repo use gitr repo_path tempfilegitrdatarepo dircreaterepo_path repo gitrinitrepo_path gitrconfigrepo usernam alic useremail aliceexampleorg store datafram write_vciri iri repo sort sepallength stage true check datafram store statusrepo list_datarepo commit current version check git repo commitrepo add iri data session true statusrepo remov data file repo rm_datarepo path check remov list_datarepo statusrepo remov dangl metadata prune_metarepo path check remov list_datarepo statusrepo clean junk fileremov listfilesroot fullnam true recurs true root junk fileremov revlistfilesrepo_path fullnam true recurs true includedir true allfil true repo_path seealso storag codelinklist_data codelinkread_vc codelinkrelabel codelinkrename_vari codelinkrm_data codelinkwrite_vc conceptstorag gener roxygen edit hand pleas edit document rrelabelr namerelabel aliasrelabel titlerelabel factor level updat metadata usag relabelfil root chang argument itemfileth name gitrdata object gitrdata object dot name name may includ rel path codefil path rel coderoot note codefil must point locat within coderoot itemrootth root project file path codegitrepositori default current work directori code itemchangeeith codelist codedatafram case codelist name codelist name codevector name list element must match name variabl name vector element must match exist factor label valu repres new factor label case codedatafram need variabl codefactor name factor codeold old factor label codenew new factor label coderelabel ignor column valu invis codenul descript imagin situat datafram factor variabl store codewrite_vcoptim true raw data file contain factor indic metadata contain link factor index correspond label see codevignetteversion_control packag gitrdata case relabel factor fast lightweight updat metadata exampl initialis git repo use gitr repo_path tempfilegitrdatarepo dircreaterepo_path repo gitrinitrepo_path gitrconfigrepo usernam alic useremail aliceexampleorg creat datafram store optim gitrdata object note write_vc use optim default stage commit gitrdata object ds datafram ca b cb b stringsasfactor true junk write_vcd relabel repo sort b stage true cm commitrepo initi commit check workspac clean statusrepo defin new label list appli gitrdata object new_label list lista relabelrelabel repo new_label check chang read_vcrelabel repo relabel chang metadata raw data statusrepo gitraddrepo relabel cm commitrepo relabel use list defin new label datafram appli gitrdata object chang datafram factor ca b old ca b new cc c b stringsasfactor true relabelrelabel repo chang check chang read_vcrelabel repo relabel chang metadata raw data statusrepo clean junk fileremov revlistfilesrepo_path fullnam true recurs true includedir true allfil true repo_path seealso storag codelinklist_data codelinkprune_meta codelinkread_vc codelinkrename_vari codelinkrm_data codelinkwrite_vc conceptstorag gener roxygen edit hand pleas edit document rread_vcr nameread_vc aliasread_vc titleread gitrdata object disk usag read_vcfil root argument itemfileth name gitrdata object gitrdata object dot name name may includ rel path codefil path rel coderoot note codefil must point locat within coderoot itemrootth root project file path codegitrepositori default current work directori code valu codedatafram file name hash attribut descript coderead_vc handl gitrdata object store codewrite_vc read verifi metadata file codeyml read verifi raw data last step backtransform transform done codemeta return codedatafram store codewrite_vc coderead_vc gener coderoot current handl codecharact path codegitrepositori codegitr method version control system could ad exampl file system creat directori root tempfilegitrdata dircreateroot write datafram directori write_vciri file iri root root sort sepallength check data file tsv metadata file yml exist listfilesroot recurs true read gitrdata object directori read_vciri root store new version differ observ metadata write_vciri iri root listfilesroot recurs true remov column requir version requir new metadata add strict fals overrid exist metadata write_vc iri iri root sort sepallength strict fals listfilesroot recurs true store orign version requir anoth updat metadata write_vciri iri root sort sepalwidth strict fals listfilesroot recurs true optim fals store data verbos requir larger file write_vc iri iri root sort sepalwidth optim fals listfilesroot recurs true git repo use gitrgitrepositori initialis git repo use gitr packag repo_path tempfilegitrdatarepo dircreaterepo_path repo gitrinitrepo_path gitrconfigrepo usernam alic useremail aliceexampleorg store datafram git repo write_vciri file iri root repo sort sepallength gitrdata object stage default statusrepo read datafram git repo read_vciri repo store new version git repo stage one go write_vciri iri repo stage true statusrepo store verbos version differ girdata object write_vc iri iri repo sort sepalwidth optim fals statusrepo clean junk fileremov listfilesroot fullnam true recurs true root junk fileremov revlistfilesrepo_path fullnam true recurs true includedir true allfil true repo_path seealso storag codelinklist_data codelinkprune_meta codelinkrelabel codelinkrename_vari codelinkrm_data codelinkwrite_vc conceptstorag gener roxygen edit hand pleas edit document rreexportr namerepositori aliasrepositori titlereexport function codegitr descript see codelinkgitrrepositori codegitr seealso version_control codelinkcommit codelinkpul codelinkpush codelinkrecent_commit codelinkstatu conceptversion_control gener roxygen edit hand pleas edit document rrename_variabl namerename_vari aliasrename_vari aliasrename_variablecharact aliasrename_variabledefault aliasrename_variablegit_repositori titlerenam variabl usag rename_variablefil chang root methodrename_variablecharacterfil chang root methodrename_variabledefaultfil chang root methodrename_variablegit_repositoryfil chang root stage fals forc fals argument itemfileth name gitrdata object gitrdata object dot name name may includ rel path codefil path rel coderoot note codefil must point locat within coderoot itemchangea name vector old name valu new name name itemrootth root project file path codegitrepositori default current work directori code itemparamet use method itemstagelog valu indic whether stage chang write data default codefals itemforceadd ignor file default fals valu invis codenul descript raw data file contain header variabl name metadata list variabl name type chang variabl name overwrit codegitrdata object result error look like remov exist variabl ad new one overwrit object codestrict fals potenti chang order variabl lead larg diff detail function solv updat raw data header metadata exampl initialis git repo use gitr repo_path tempfilegitrdatarepo dircreaterepo_path repo gitrinitrepo_path gitrconfigrepo usernam alic useremail aliceexampleorg creat datafram store optim gitrdata object note write_vc use optim default stage commit gitrdata object ds datafram ca b cb b stringsasfactor true junk write_vcd renam repo sort b stage true cm commitrepo initi commit check workspac clean statusrepo defin chang chang cnew_nam rename_variablefil renam chang chang root repo check chang read_vcrenam repo statusrepo clean junk fileremov revlistfilesrepo_path fullnam true recurs true includedir true allfil true repo_path seealso storag codelinklist_data codelinkprune_meta codelinkread_vc codelinkrelabel codelinkrm_data codelinkwrite_vc conceptstorag gener roxygen edit hand pleas edit document rpruner namerm_data aliasrm_data aliasrm_datagit_repositori titleremov data file gitrdata object usag rm_dataroot path null recurs true methodrm_datagit_repositori root path null recurs true stage fals type cunmodifi modifi ignor argument itemrootth root project file path codegitrepositori default current work directori code itempathth directori clean data file directori rel coderoot itemrecursiveremov file subdirectori itemparamet use method itemstagestag chang remov file default fals itemtypedefin class file remov codeunmodifi file git histori unchang sinc last commit codemodifi file git histori chang sinc last commit codeignor refer file list codegitignor file select codemodifi remov codeunmodifi codemodifi data file select codegnor remov codeunmodifi codemodifi codeignor data file codeal refer visibl data file includ codeuntrack file valu return invis vector remov file name path rel coderoot descript remov data codetsv file valid gitrdata object codepath metadata remain untouch warn list gitrdata object stronginvalid metadata function keep codetsv file invalid metadata nongitrdata object use function caution sinc remov valid data file without ask confirm strongli recommend use function file version control see codevignetteworkflow packag gitrdata exampl use exampl file system creat directori root tempfilegitrdata dircreateroot store datafram gitrdata object captur result minimis screen output junk write_vciri iri root sort sepallength write standard tab separ file non gitrdata object writetableiri file filepathroot standardtsv sep write yaml file yml list author list research institut natur forest list href httpswwwinbobeen yamlwrite_yamlyml file filepathroot _pkgdownyml list gitrdata object list_dataroot list file listfilesroot recurs true remov tsv file valid gitrdata object rm_dataroot path check remov tsv file listfilesroot recurs true list_dataroot remov dangl gitrdata metadata file prune_metaroot path check remov metadata listfilesroot recurs true list_dataroot git repo initialis git repo use gitr repo_path tempfilegitrdatarepo dircreaterepo_path repo gitrinitrepo_path gitrconfigrepo usernam alic useremail aliceexampleorg store datafram write_vciri iri repo sort sepallength stage true check datafram store statusrepo list_datarepo commit current version check git repo commitrepo add iri data session true statusrepo remov data file repo rm_datarepo path check remov list_datarepo statusrepo remov dangl metadata prune_metarepo path check remov list_datarepo statusrepo clean junk fileremov listfilesroot fullnam true recurs true root junk fileremov revlistfilesrepo_path fullnam true recurs true includedir true allfil true repo_path seealso storag codelinklist_data codelinkprune_meta codelinkread_vc codelinkrelabel codelinkrename_vari codelinkwrite_vc conceptstorag gener roxygen edit hand pleas edit document rmetar doctypemethod namemeta aliasmeta aliasmetacharact aliasmetafactor aliasmetalog aliasmetaposixct aliasmetad aliasmetadatafram titleoptim object storag plain text add metadata usag metax methodmetacharacterx na na methodmetafactorx optim true na na index strict true methodmetalogicalx optim true methodmetaposixctx optim true methodmetadatex optim true methodmetadatafram x optim true na na sort strict true split_bi charact argument itemxth vector itemfurth argument method itemnath string use miss valu data itemoptimizeif codetru recod data get smaller text file codefals codemeta convert data charact default codetru itemindexan option name vector exist factor indic name must match exist factor level unmatch level codex get new indic itemstrictwhat metadata chang codestrict fals overwrit data metadata warn list chang codestrict true return error leav data metadata default codetru itemsortingan option vector column name defin column use sort codex order use default empti codesort yield warn add codesort avoid warn strongli recommend combin version control see codevignetteeffici packag gitrdata illustr import sort itemsplit_byan option vector variabl name split text file creat separ file everi combin prepend variabl vector codesort variabl valu optim vector codex codemeta attribut descript prepar vector storag relev codemeta optim object storag chang format one need less charact metadata store codemeta attribut contain requir inform backtransform optim format origin format case datafram codemeta appli column codemeta attribut becom name list contain metadata column plu addit codegener element codegener reserv name metadata allow column name codedatafram codelinkwrite_vc use function prepar datafram storag exist metadata pass option codeold argument argument intend intern use note default order factor level depend current local see codelinkcomparison detail code differ local might result differ sort codemeta ignor warn chang order factor level add codestrict fals enforc new order factor level exampl metacna na na abctdef abcndef meta metaseq length metafactorcb na na level cna b c metafactorcb na level ca b c optim fals metafactorcb na level ca b c order true meta factorcb na level ca b c order true optim fals metacfals na true metacfals na true optim fals metacomplexr c na imaginari c na metaasposixct tz cet metaasposixct tz cet optim fals metaasd metaasd optim fals seealso intern codelinkis_gitrdata codelinkis_gitrmeta codelinkupgrade_data conceptintern gener roxygen edit hand pleas edit document rreexportr namestatu aliasstatu titlereexport function codegitr descript see codelinkgitrstatu codegitr seealso version_control codelinkcommit codelinkpul codelinkpush codelinkrecent_commit codelinkrepositori conceptversion_control gener roxygen edit hand pleas edit document ris_gitrdatar nameis_gitrdata aliasis_gitrdata titlecheck whether gitrdata object valid usag is_gitrdatafil root messag cnone warn error argument itemfileth name gitrdata object gitrdata object dot name name may includ rel path codefil path rel coderoot note codefil must point locat within coderoot itemrootth root project file path codegitrepositori default current work directori code itemmessagea singl valu indic type messag top logic valu codenon messag codewarn issu warn case invalid metadata file codeerror invalid metadata file result error default codenon valu logic valu codetru case valid gitrdata object otherwis codefals descript valid gitrdata object valid metadata exampl creat directori root tempfilegitrdata dircreateroot store file write_vciri iri root sort sepallength check store file is_gitrmetairi root is_gitrdatairi root remov metadata exist gitrdata object stop gitrdata object junk fileremovefilepathroot irisyml is_gitrmetairi root is_gitrdatairi root recreat file remov data keep metadata stop gitrdata object metadata remain valid write_vciri iri root sort sepallength junk fileremovefilepathroot iristsv is_gitrmetairi root is_gitrdatairi root clean junk fileremovelistfilesroot fullnam true root seealso intern codelinkis_gitrmeta codelinkmeta codelinkupgrade_data conceptintern gener roxygen edit hand pleas edit document rreexportr namepul aliaspul titlereexport function codegitr descript see codelinkgitrpul codegitr seealso version_control codelinkcommit codelinkpush codelinkrecent_commit codelinkrepositori codelinkstatu conceptversion_control gener roxygen edit hand pleas edit document rreexportr namecommit aliascommit titlereexport function codegitr descript see codelinkgitrcommit codegitr seealso version_control codelinkpul codelinkpush codelinkrecent_commit codelinkrepositori codelinkstatu conceptversion_control gener roxygen edit hand pleas edit document ris_gitrmetar nameis_gitrmeta aliasis_gitrmeta titlecheck whether gitrdata object valid metadata usag is_gitrmetafil root messag cnone warn error argument itemfileth name gitrdata object gitrdata object dot name name may includ rel path codefil path rel coderoot note codefil must point locat within coderoot itemrootth root project file path codegitrepositori default current work directori code itemmessagea singl valu indic type messag top logic valu codenon messag codewarn issu warn case invalid metadata file codeerror invalid metadata file result error default codenon valu logic valu codetru case valid metadata file otherwis codefals descript valid metadata file codeyml extens top level item codegener item contain codegitrdata version number codehash hash metadata codedata_hash hash data file version number must current version exampl creat directori root tempfilegitrdata dircreateroot store file write_vciri iri root sort sepallength check store file is_gitrmetairi root is_gitrdatairi root remov metadata exist gitrdata object stop gitrdata object junk fileremovefilepathroot irisyml is_gitrmetairi root is_gitrdatairi root recreat file remov data keep metadata stop gitrdata object metadata remain valid write_vciri iri root sort sepallength junk fileremovefilepathroot iristsv is_gitrmetairi root is_gitrdatairi root clean junk fileremovelistfilesroot fullnam true root seealso intern codelinkis_gitrdata codelinkmeta codelinkupgrade_data conceptintern gener roxygen edit hand pleas edit document rwrite_vcr namewrite_vc aliaswrite_vc aliaswrite_vccharact aliaswrite_vcgit_repositori titlestor datafram gitrdata object disk usag write_vc x file root sort strict true optim true na na split_bi methodwrite_vccharact x file root sort strict true optim true na na split_bi charact methodwrite_vcgit_repositori x file root sort strict true optim true na na stage fals forc fals argument itemxth codedatafram itemfileth name gitrdata object gitrdata object dot name name may includ rel path codefil path rel coderoot note codefil must point locat within coderoot itemrootth root project file path codegitrepositori default current work directori code itemsortingan option vector column name defin column use sort codex order use default empti codesort yield warn add codesort avoid warn strongli recommend combin version control see codevignetteeffici packag gitrdata illustr import sort itemstrictwhat metadata chang codestrict fals overwrit data metadata warn list chang codestrict true return error leav data metadata default codetru itemoptimizeif codetru recod data get smaller text file codefals codemeta convert data charact default codetru itemnath string use miss valu data itemparamet use method itemsplit_byan option vector variabl name split text file creat separ file everi combin prepend variabl vector codesort variabl itemstagelog valu indic whether stage chang write data default codefals itemforceadd ignor file default fals valu name vector file path rel coderoot name contain hash file descript gitrdata object consist two file codetsv file contain raw data plain text tab separ file codeyml contain metadata column plain text yaml format see codevignetteplain text packag gitrdata detail implement note codegener reserv name metadata forbidden column name codedatafram exampl file system creat directori root tempfilegitrdata dircreateroot write datafram directori write_vciri file iri root root sort sepallength check data file tsv metadata file yml exist listfilesroot recurs true read gitrdata object directori read_vciri root store new version differ observ metadata write_vciri iri root listfilesroot recurs true remov column requir version requir new metadata add strict fals overrid exist metadata write_vc iri iri root sort sepallength strict fals listfilesroot recurs true store orign version requir anoth updat metadata write_vciri iri root sort sepalwidth strict fals listfilesroot recurs true optim fals store data verbos requir larger file write_vc iri iri root sort sepalwidth optim fals listfilesroot recurs true git repo use gitrgitrepositori initialis git repo use gitr packag repo_path tempfilegitrdatarepo dircreaterepo_path repo gitrinitrepo_path gitrconfigrepo usernam alic useremail aliceexampleorg store datafram git repo write_vciri file iri root repo sort sepallength gitrdata object stage default statusrepo read datafram git repo read_vciri repo store new version git repo stage one go write_vciri iri repo stage true statusrepo store verbos version differ girdata object write_vc iri iri repo sort sepalwidth optim fals statusrepo clean junk fileremov listfilesroot fullnam true recurs true root junk fileremov revlistfilesrepo_path fullnam true recurs true includedir true allfil true repo_path seealso storag codelinklist_data codelinkprune_meta codelinkread_vc codelinkrelabel codelinkrename_vari codelinkrm_data conceptstorag gener roxygen edit hand pleas edit document rlist_datar namelist_data aliaslist_data titlelist avail gitrdata file contain data usag list_dataroot path recurs true argument itemrootth coderoot repositori either path codegitrepositori itempathrel codepath coderoot default coderoot itemrecursivelog list recurs directori valu charact vector gitrdata object name includ rel path descript function return name valid gitrdata object impli codetsv file match strongvalid metadata file codeyml stronginvalid metadata file result warn function ignor strongvalid metadata file without match raw data codetsv exampl file system creat directori root tempfilegitrdata dircreateroot store datafram gitrdata object captur result minimis screen output junk write_vciri iri root sort sepallength write standard tab separ file non gitrdata object writetableiri file filepathroot standardtsv sep write yaml file yml list author list research institut natur forest list href httpswwwinbobeen yamlwrite_yamlyml file filepathroot _pkgdownyml list gitrdata object list_dataroot list file listfilesroot recurs true remov tsv file valid gitrdata object rm_dataroot path check remov tsv file listfilesroot recurs true list_dataroot remov dangl gitrdata metadata file prune_metaroot path check remov metadata listfilesroot recurs true list_dataroot git repo initialis git repo use gitr repo_path tempfilegitrdatarepo dircreaterepo_path repo gitrinitrepo_path gitrconfigrepo usernam alic useremail aliceexampleorg store datafram write_vciri iri repo sort sepallength stage true check datafram store statusrepo list_datarepo commit current version check git repo commitrepo add iri data session true statusrepo remov data file repo rm_datarepo path check remov list_datarepo statusrepo remov dangl metadata prune_metarepo path check remov list_datarepo statusrepo clean junk fileremov listfilesroot fullnam true recurs true root junk fileremov revlistfilesrepo_path fullnam true recurs true includedir true allfil true repo_path seealso storag codelinkprune_meta codelinkread_vc codelinkrelabel codelinkrename_vari codelinkrm_data codelinkwrite_vc conceptstorag gener roxygen edit hand pleas edit document rupgrade_datar nameupgrade_data aliasupgrade_data aliasupgrade_datagit_repositori titleupgrad file new version usag upgrade_datafil root verbos path methodupgrade_datagit_repositori file root verbos true path stage fals forc fals argument itemfileth name gitrdata object gitrdata object dot name name may includ rel path codefil path rel coderoot note codefil must point locat within coderoot itemrootth root project file path codegitrepositori default current work directori code itemverbosedisplay messag updat statu default codetru itemparamet use method itempathspecifi codepath instead codefil updat gitrdata object directori subdirectori codepath rel coderoot use codepath upgrad gitrdata object coderoot itemstagelog valu indic whether stage chang write data default codefals itemforceadd ignor file default fals valu gitrdata object name descript updat data written older version current data format standard work singl file recurs path codeyml file must contain codegener element codeupgrade_data ignor file exampl creat directori root tempfilegitrdata dircreateroot write datafram root write_vciri file iri root root sort sepallength write_vciri file subdiriri root root sort sepallength upgrad singl gitrdata object upgrade_datafil iri root root use path upgrad gitrdata object root upgrade_datapath root root clean junk fileremovelistfilesroot fullnam true root seealso intern codelinkis_gitrdata codelinkis_gitrmeta codelinkmeta conceptintern gener roxygen edit hand pleas edit document rgitrdata_packag doctypepackag namegitrdatapackag aliasgitrdata aliasgitrdatapackag titlegitrdata store retriev datafram git repositori descript gitrdata packag r packag write read datafram plain text file metadata file store import inform store metadata allow maintain class variabl default gitrdata optim data file storag optim effect data contain factor optim make data less human readabl user turn prefer human readabl format smaller file detail implement avail vignetteplain_text packag gitrdata store metadata also allow smaller row base diff two consecut commit use featur store data plain text file version control detail part implement avail vignetteversion_control packag gitrdata although envis gitrdata git workflow mind use combin version control system like subvers mercuri gitrdata use tool reproduc traceabl workflow vignetteworkflow packag gitrdata give toy exampl vignetteeffici packag gitrdata provid insight effici file storag git repositori size speed write read pleas cite use doizenodo seealso use link item item urlhttpsropenscigithubiogitrdata item report bug urlhttpsgithubcomropenscigitrdataissu author strongmaintain thierri onkelinx emailthierryonkelinxinbob hrefhttpsorcidorgorcid contributor item item flori vanderhaegh emailflorisvanderhaegheinbob hrefhttpsorcidorgorcid contributor item peter desmet emailpeterdesmetinbob hrefhttpsorcidorgorcid contributor item el lommelen emailelslommeleninbob hrefhttpsorcidorgorcid contributor item research institut natur forest emailinfoinbob copyright holder funder keywordintern gener roxygen edit hand pleas edit document rreexportr namepush aliaspush titlereexport function codegitr descript see codelinkgitrpush codegitr seealso version_control codelinkcommit codelinkpul codelinkrecent_commit codelinkrepositori codelinkstatu conceptversion_control gener roxygen edit hand pleas edit document rrecent_commitr namerecent_commit aliasrecent_commit titleretriev recent file chang usag recent_commitfil root data fals argument itemfileth name gitrdata object gitrdata object dot name name may includ rel path codefil path rel coderoot note codefil must point locat within coderoot itemrootth root project file path codegitrepositori itemdatado codefil refer data object codetru file codefals default codefals valu codedatafram codecommit codeauthor codewhen recent commit add op updat file descript retriev recent commit ad updat file gitrdata object impli file still exist current head ignor delet file use inform document current version file gitrdata object analysi sinc refer recent chang file remain unchang commit chang file also use track data got updat requir analysi rerun see codevignetteworkflow packag gitrdata exampl initialis git repo use gitr repo_path tempfilegitrdatarepo dircreaterepo_path repo gitrinitrepo_path gitrconfigrepo usernam alic useremail aliceexampleorg write commit first datafram store output write_vc minim screen output junk write_vciri iri repo sort sepallength stage true commitrepo import analysi session true listfilesrepo_path syssleep requir git doesnt handl subsecond time write commit second datafram junk write_vciri iri repo sort sepallength stage true commitrepo import analysi session true listfilesrepo_path syssleep requir git doesnt handl subsecond time write commit new version first datafram junk write_vciri iri repo stage true listfilesrepo_path commitrepo import analysi session true find commit file last chang iristsv last updat third commit recent_commitiristsv repo irisyml last updat first commit recent_commitirisyml repo irisyml last updat second commit recent_commitirisyml repo gitrdata object iri last updat third commit recent_commitiri repo data true remov datafram commit see happen delet file fileremovefilepathrepo_path iristsv prune_metarepo commitrepo messag remov iri true session true listfilesrepo_path still point third commit latest commit data present recent_commitiri repo data true clean junk fileremov revlistfilesrepo_path fullnam true recurs true includedir true allfil true repo_path seealso version_control codelinkcommit codelinkpul codelinkpush codelinkrepositori codelinkstatu conceptversion_control