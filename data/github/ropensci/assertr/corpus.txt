assertr assertr logohttpstatethatiamincommediaassertrlogopng build statushttptravisciorgropensciassertrsvgbranchmasterhttpstravisciorgropensciassertr httpwwwrpkgorgbadgesversionassertrhttpscranrprojectorgpackageassertr cran rstudio mirror downloadshttpcranlogsrpkgorgbadgesassertrhttpscranrprojectorgpackageassertr assertr packag suppli suit function design verifi assumpt data earli analysi pipelin data error spot earli address quickli packag need use magrittrdplyr pipe mechan exampl readm use clariti instal instal latest version cran like r installpackagesassertr instal bleedingedg develop version like r installpackagesdevtool devtoolsinstall_githubropensciassertr look like packag offer five assert function assert verifi insist assert_row insist_row design use shortli dataload analysi pipelin let say exampl rs builtin car dataset mtcar builtin rather procur extern sourc known make error data entri code pretend want find averag mile per gallon number engin cylind might want first confirm column mpg vs dataset contain observ column mile per gallon mpg posit number column mile per gallon mpg contain datum outsid standard deviat mean vs column automaticmanu vstraight engin respect contain row contain na row uniqu jointli mpg wt column row mahalanobi distanc within median absolut deviat distanc outlier detect could written order use assertr like r librarydplyr libraryassertr mtcar verifyhas_all_namesmpg vs wt verifynrow verifympg insistwithin_n_sd mpg assertin_set vs assert_rowsnum_row_na within_bound everyth assert_rowscol_concat is_uniq mpg wt insist_rowsmaha_dist within_n_mad everyth group_bycyl summariseavgmpgmeanmpg assert violat error would rais pipelin would termin earli let see error messag look like chain bunch fail assert togeth r mtcar chain_start assertin_set carb assert_rowsrowmean within_bound gearcarb verifynrow verifympg chain_end error across verb verb redux_fn predic column index valu assert na in_set carb assert na in_set carb assert_row rowmean within_bound gearcarb assert_row rowmean within_bound gearcarb verifi na nrow na na verifi na mpg na na verifi na mpg na na error assertr stop execut assertr give verifi take data frame first argument provid oper logic boolean express verifi evalu express use scope provid data frame logic valu express result fals verifi rais error termin process pipelin assert take data frame predic function arbitrari number column appli predic function predic function function return logicalboolean valu appli everi element column select rais error find violat intern assert function use dplyr select function extract column test predic function insist take data frame predicategener function arbitrari number column column predicategener function appli return predic predic appli everi element column select rais error find violat reason use predicategener function return predic use valu select row exampl bound dynam gener base data look like way say creat bound check datum within x zscore sinc standard deviat isnt known priori intern insist function use dplyr select function extract column test predic function assert_row take data frame row reduct function predic function arbitrari number column appli predic function row reduct function appli data frame return valu row predic function appli everi element vector return row reduct function rais error find violat function use exampl conjunct num_row_na function ensur certain number miss valu row intern assert_row function use dplyrsselect function extract column test predic function insist_row take data frame row reduct function predicategener function arbitrari number column appli predic function row reduct function appli data frame return valu row predicategener function appli vector return row reduct function result predic appli element vector rais error find violat function use exampl conjunct maha_dist function ensur flagrant outlier intern assert_row function use dplyrsselect function extract column test predic function assertr also offer four far predic function design use assert assert_row function not_na check element na within_bound return predic function check numer valu fall within bound suppli in_set return predic function check element member set suppli also allow invers set is_uniq check see element appear predic gener design use insist insist_row function within_n_sd use dynam creat bound check vector element base standard zscore within_n_mad better method dynam creat bound check vector element base robust zscore use median absolut deviat follow row reduct function design use assert_row insist_row num_row_na count number miss valu row maha_dist comput mahalanobi distanc row outlier detect coerc categor variabl numer need col_concat concaten row string duplicated_across_col check row contain duplic valu across column final util use verifi has_all_nam check data frame list suppli name has_only_nam check data frame list _only_ name request has_class check pass data particular class info info check assertr vignett r vignetteassertr read herehttpscranrprojectorgpackageassertrvignettesassertrhtml ropensci_footerhttpsropensciorgpublic_imagesgithub_footerpnghttpsropensciorg test environ local debian buster instal r local maco high sierra instal r winbuild devel releas old_releas r cmd check result check local ascran nomanu error warn note titl assert r program assertr author toni fischetti date r sysdat output rmarkdownhtml_vignett vignett vignetteindexentryassert r program assertr vignetteengineknitrrmarkdown usepackageutfinputenc data analysi workflow depend unsanit data set extern sourc common error data bring analysi screech halt oftentim error occur late analysi provid clear indic datum caus error occas error result bad data wont even appear data error still wors error data pass analysi without error remain undetect produc inaccur result solut problem provid much inform expect data look front deviat expect dealt immedi assertr packag tri make dead simpl essenti assertr provid suit function design verifi assumpt data earli analysi pipelin packag neednt use magrittrdplyr pipe mechan exampl vignett use enhanc clariti concret data error let say exampl rs builtin car dataset mtcar builtin rather procur extern sourc known make error data entri code particular mtcar dataset look like r headmtcar let pretend data got accident negat th mpg valu r ourdata mtcar ourdatampg ourdatampg ourdata whoop want find averag mile per gallon number engin cylind might like r messagefals librarydplyr ourdata group_bycyl summariseavgmpgmeanmpg indic averag mile per gallon cylind car lowli howev correct dataset realli data error like extrem easi miss doesnt caus error result look reason enter assertr combat might want use assertr verifi function make sure mpg posit number r errortru purl fals includetru libraryassertr ourdata verifympg group_bycyl summariseavgmpgmeanmpg done would caught data error verifi function take data frame first argument provid oper logic boolean express verifi evalu express use scope provid data frame logic valu express result fals verifi rais error termin process pipelin could also written assert use assertr assert function r errortru purl fals ourdata assertwithin_boundsinf mpg group_bycyl summariseavgmpgmeanmpg assert function take data frame predic function arbitrari number column appli predic function predic function function return logicalboolean valu appli everi element column select rais error find violat intern assert function use dplyr select function extract column test predic function allow complex assert let say want make sure valu dataset greater zero except mpg r errortru purl fals libraryassertr ourdata assertwithin_boundsinf includelowerfals mpg group_bycyl summariseavgmpgmeanmpg verifi vs assert first notic differ verifi assert verifi take express assert take predic column appli might make verifi function look elegantbut there import drawback verifi evalu entir express first check violat verifi cant tell offend datum one import drawback assert consequ applic predic column assert cant confirm assert data structur exampl let say read dataset disk know observ could write check assumpt like r evalfals purl fals dat readcsvadatafilecsv dat verifynrow check function avail verifi has_all_nam has_only_nam has_class power advantag assert assert one advantag weve heretofor ignor assertr predic assertr predic builtin custom make assert power predic built assertr not_na check element na within_bound return predic function check numer valu fall within bound suppli in_set return predic function check element member set suppli is_uniq check see element appear weve alreadi seen within_bound action let use in_set function make sure automat manual respect valu column r evalfals purl fals ourdata assertin_set read dataset contain column repres borough new york citi name boro verifi misspel otherwis unexpect borough like r evalfals purl fals borough cbronx manhattan queen brooklyn staten island readcsvadatasetcsv assertin_setborough boro rad custom predic conveni featur assertr make construct custom predic function easi order make custom predic specifi case predic return fals let say dataset id column name id want check empti string creat predic like r notemptyp functionx ifx returnfals appli like r evalfals purl fals readcsvanotherdatasetcsv assertnotemptyp id let say id column alway digit number confirm id digit defin follow predic r sevendigitp functionx ncharx power consequ easi creation predic assert function lend use lambda predic unnam predic use check might better written r evalfals purl fals readcsvanotherdatasetcsv assertfunctionx ncharx id neato enter insist predic gener often need dynam determin predic function use base vector check exampl check see everi element vector within _n_ standard deviat mean need creat within_bound predic _after_ dynam determin bound read comput vector end assert function good appli raw predic vector need function like assert appli predic _generators_ vector return predic _then_ perform assertlik function check element vector respect custom predic precis insist much simpler may sound hope exampl clear confus primari use case insist conjunct within_n_sd within_n_mad predic gener suppos want check everi mpg valu mtcar data set within standard deviat mean find averag mile per gallon number engin cylind could write someth like r purl fals mtcar insistwithin_n_sd mpg group_bycyl summariseavgmpgmeanmpg notic happen drop zscore standard deviat mean r errortru purl fals mtcar insistwithin_n_sd mpg group_bycyl summariseavgmpgmeanmpg execut pipelin halt know exactli data point violat predic within_n_sdsmtcarsmpg return that effici car predic gener insist take arbitrari number column like assert use syntax dplyr select function want check everyth mtcar within standard deviat mean column vector like r purl fals mtcar insistwithin_n_sd mpgcarb group_bycyl summariseavgmpgmeanmpg ace chose use within_n_sd exampl peopl familiar zscore howev practic purpos relat predic gener within_n_mad use problem within_n_sd mean standard deviat heavili influenc outlier presenc compromis attempt identifi use statist contrast within_n_sd within_n_mad use robust statist median median absolut deviat identifi potenti erron data point exampl vector almost certainli erron data point within_n_sd fail detect r purl fals examplevector c within_n_sdsexamplevectorexamplevector wherea within_n_mad detect even lower level power r purl fals examplevector c within_n_madsexamplevectorexamplevector within_n_madsexamplevectorexamplevector tubular rowwis assert row reduct function cool far still isnt enough constitut complet grammar data integr check see check follow small exampl data set r perlfals exampledata dataframexc yc exampledata spot brazen outlier your certainli go find check distribut column element column within standard deviat respect mean unless realli good eye way your go catch mistak plot data set r purlfals plotexampledatax exampledatay xlab ylab ok ys roughli time xs except outli data point problem plot data set catch anomali realli hard visual dimens near imposs highdimension data there way catch anomali look individu column separ way catch view row complet observ compar rest end assertr provid three function take data frame reduc row singl valu well call row reduct function first one well look call maha_dist comput averag mahalanobi distanc kind like multivari zscore outlier detect row whole data set big idea result vector bigdist valu potenti anomal entri let look distribut mahalanobi distanc data set r purlfals maha_distexampledata maha_distexampledata histmain xlab there question whether there anomal entri check sort thing use assertr construct well maha_dist typic use insist_row function insist_row take data frame row reduct function predicategener function arbitrari number column appli predic function row reduct function maha_dist case appli data frame return valu row predicategener function appli vector return row reduct function result predic appli element vector rais error find violat alway undoubtedli sound far confus realli here exampl use r purlfals errortru exampledata insist_rowsmaha_dist within_n_mad dplyreveryth check clear function run suppli data frame maha_dist function return valu row correspond mahalanobi distanc whole data frame use use everyth select function dplyr packag within_n_mad comput vector return bound check predic bound check predic check see mahalanobi distanc within median absolut deviat pipelin error note datafram error return error report contain verb use insist_row row reduct function predic column column index failur offendind datum probabl power construct assertrit find whole lot nasti error would difficult check hand part make power flexibl maha_dist use far data frame numer handl sort data frame realli see shine let use iri data set contain categor variabl rightmost column r purlfals headiri iri maha_dist histmain xlab look ok happen accident enter row differ speci r purlfals mistak iri mistak mistak setosa mistak maha_dist histmain xlab mistak maha_dist whichmax look mistak easili pick reason bound checker r purlfals errortru mistak insist_rowsmaha_dist within_n_mad dplyreveryth insist insist_row similar take predic gener actual predic make insist_row differ usag rowreduc data frame assert rowori counterpart call assert_row insist assert insist_row assert_row assert_row work insist_row except instead use predic gener rowreduc data frame use regularold predic exampl assert_row use case let say got data set anotherdatasetcsv web dont want continu process data set row contain two miss valu na use row reduct function num_row_na reduc row number na contain simpl bound checker suffic ensur element higher r evalfals purl fals readcsvanotherdatasetcsv assert_rowsnum_row_na within_bound dplyreveryth assert_row use anomali detect well futur version assertr may contain cosin distanc row reduct function sinc cosin distanc constain easi use nondynam predic disallow certain valu success error defect function behavior function like assert assert_row insist insist_row verifi assert pass fail skip due data defect configur via success_fun error_fun defect_fun paramet respect success_fun paramet take function take data pass assert function paramet write success handler function provid packag success_continu return data pass assert function default success_log return true success_append return data pass assert function also attach basic inform verif result special attribut data success_report success result store chain_startstore_resultstru verif end success print summari success valid chan simpl verif result singl check return data success_df_return success result store chain_startstore_resultstru verif end success print datafram verif result use chain_end singl verif error_fun paramet take function take data pass assert function paramet write error handler function provid packag error_stop print summari error halt execut default error_report print inform avail error halt execut error_append attach error special attribut data return data chiefli allow assertr error accumul pipelin assert chanc check error display end chain error_log return fals just_warn print summari error halt execut issu warn warn_report print inform avail error halt execut issu warn defect_report singl rule defect data display short info skip current assert chain_end sum skip rule defect data defect_df_return singl rule defect data return info datafram skip current assert chain_end return skip rule info datafram defect data defect_fun paramet take function take data pass assert function paramet defect handler call previou assert mark obligatori fail see section write defect handler function provid packag defect_append attach assert call info defect data special attribut data return data defect_report singl rule defect data display short info skip current assert chain_end sum skip rule defect data defect_df_return singl rule defect data return info datafram skip current assert chain_end return skip rule info datafram defect data obligatori assert may find situat rule independ exampl r evalfals purl fals mtcars_without_am mtcar dplyrselectam mtcars_without_am verifyhas_all_namesam vs error_fun error_append assertin_set vs error_fun error_report assert requir exist vs column check previous verifi assert exampl want store info error assert finish wont happen miss column data return error relat assert check result code execut end handl error allow situat obligatori rule introduc creat obligatori rule ad obligatori true insid assert function rule obligatori fail data mark defect follow rule handl defect_fun function default defect_fundefect_append regist inform run assert defect data skip rule execut display inform skip rule use defect_report r purl fals mtcars_without_am mtcar dplyrselectam mtcars_without_am verifyhas_all_namesam vs obligatorytru error_funerror_append assertin_set vs defect_fundefect_report combin chain assert let say part autom pipelin grab mtcar untrust sourc find averag mile per gallon number engin cylind want perform follow check column mpg vs dataset contain observ column mile per gallon mpg posit number column mile per gallon mpg contain datum outsid standard deviat mean vs column automaticmanu vstraight engin respect contain could written thusli r purl fals mtcar verifyhas_all_namesmpg vs verifynrowmtcar verifympg insistwithin_n_sd mpg assertin_set vs group_bycyl summariseavgmpgmeanmpg assertr chain default option assert assert_row insist insist_row verifi stop first assert yield error go process assert chain need sensibl behavior time howev might like get report assert violat exampl one might want write r program download dataset internet get detail report deviat expect best thing use case use chain_start chain_end function begin end chain assertr assert chain_start get call data data get special tag tell assertr assert follow overrid success_fun error_fun valu replac success_continu pass data along test pass error_append weve discuss relev verif chain_end receiv data possibl accumul error messag attach default print report error found sinc start chain let see action r purl fals mtcar chain_start verifynrowmtcar verifympg insistwithin_n_sd mpg assertin_set vs chain_end group_bycyl summariseavgmpgmeanmpg assert check report tip make whole thing look lot better abstract assert r eval fals purl fals check_m chain_start verifynrowmtcar verifympg insistwithin_n_sd mpg assertin_set vs chain_end mtcar check_m group_bycyl summariseavgmpgmeanmpg awesom add arbitrari number assert need aris without touch real logic note default assert chain use success_continu error_append function allow continu workflow case aggreg error log case ie dont want includ error log error print requir use assert specif successerror callback chain use skip_chain_opt true specifi callback insid assert print_error functionerror datanul printerror returndata mtcar chain_start verifynrowmtcar error_funprint_error skip_chain_optstru verifympg insistwithin_n_sd mpg assertin_set vs chain_end may also store valid success result use store_successtru mtcar chain_startstore_successtru verifynrowmtcar verifympg insistwithin_n_sd mpg assertin_set vs chain_endsuccess_funsuccess_df_return advanc send email report use custom error function one particularli cool applic assertr use data integr checker frequent updat data sourc script download new data becom avail run assertr check make assertr sort continu integr tool data code unsupervis continu integr environ need way discov assert fail ciasaservic softwar world fail autom check often send email report maintain botch build bring function assertr learn last section assert verb assertr support custom error function chain_end similarli support custom error function default error_stop error_report case chain_end print summari error halt execut specifi though hijack behavior redirect flowofcontrol wherev want custom error function must take first argument list assertr_error object second argument must datafram verb comput everi error function must take may error attach datafram assertr_error attribut leftov previou assert go build function take list assertr_error get string represent error email someon halt execut use mailr packag send mail r evalfals purl fals librarymailr email_m functionlist_of_error datanul check see error still attach datafram ifisnulldata isnullattrdata assertr_error error appendattrdata assertr_error error numoferror lengthlist_of_error prefac sprintfther errorsn ifelsenumoferrorsi numoferror ifelsenumoferror assertr_error object print summari method call print error sinc print give us completeunabridg error report error_str captureoutputtmp lapplylist_of_error functionx catn printx return error_str cprefac error_str error_str error_str pastecollapsen sendmailfromassertrgmailcom toyougmailcom subjecterror assertr bodyerror_str smtp listhostnameaspmxlgooglecom port authent fals sendtru stopassertr stop execut callfals questionable_mtcar chain_start verifynrow insistwithin_n_sd mpg chain_enderror_funemailm particular sendmail formul work gmail recipi see mailr document inform youll get notifi sani fail assert via email groovi advanc creat predic gener insist assertr build robust correct extens mind like assertr make easi creat custom predic packag make easi creat custom predic gener okay perhap _easy_ predic gener natur function return function possibl let say want creat predic gener check element vector within time vector interquartil rang median need creat function look like r purl fals within__iqr functiona_vector the_median mediana_vector the_iqr iqra_vector within_boundsthe_medianthe_iqr the_medianthe_iqr use mpg mtcar like r purl fals mtcar insistwithin__iqr mpg group_bycyl summariseavgmpgmeanmpg two problem though may want abstract suppli arbitrari number iqr creat bound lose abil choos option argument give return within_bound predic write function return function return function r purl fals within_n_iqr functionn functiona_vector the_median mediana_vector the_iqr iqra_vector within_boundsthe_medianthe_iqrn the_medianthe_iqrn much better want check everi mpg mtcar within iqr median allow na valu like r purl fals mtcar insistwithin_n_iqr mpg group_bycyl summariseavgmpgmeanmpg super advanc program assert function assert function use tidyevalhttpsrpubscomhadleydplyrprogram framework past program tidyverselik set accomplish standard evalu version verb use function postfix underscor insist_ instead insist exampl howev tidyev made popular dplyr usag becam deprec therefor underscorepostfix function longer part assertr gener roxygen edit hand pleas edit document rassertionsr rdeprecated_s nameassert_row aliasassert_row aliasassert_rows_ titlerais error predic fals row appli row reduct function usag assert_row data row_reduction_fn predic success_fun success_continu error_fun error_stop skip_chain_opt fals obligatori fals defect_fun defect_append descript na assert_rows_ data row_reduction_fn predic dot success_fun success_continu error_fun error_stop argument itemdataa data frame itemrow_reduction_fna function return valu row provid data frame itempredicatea function return fals violat itemcomma separ list unquot express use dplyr codeselect select column data itemsuccess_funfunct call assert pass default return codedata itemerror_funfunct call assert fail default print summari error itemskip_chain_optsif true codesuccess_fun codeerror_fun use even assert call within chain itemobligatoryif true assert fail data mark defect defect data follow rule handl codedefect_fun function itemdefect_funfunct call data defect default skip assert store info special attribut itemdescriptioncustom descript rule store result report data itemdotsus assert_rows_ select column use standard evalu valu default codedata return predic assert true error thrown nondefault codesuccess_fun codeerror_fun use return valu function return descript meant use data analysi pipelin function appli function data frame reduc row singl valu predic function appli row reduct valu predic applic yield fals function rais error effect termin pipelin earli fals function return data suppli use later part pipelin detail exampl possibl choic codesuccess_fun codeerror_fun paramet run codehelpsuccess_and_error_funct note see codevignetteassertr use context exampl return mtcar assert_rowsmtcar num_row_na within_bound mpgcarb librarymagrittr pipe oper mtcar assert_rowsrowsum within_bound vsam anyth run dontrun mtcar assert_rowsrowsum within_bound vsam assert untru noth run seealso codelinkinsist_row codelinkassert codelinkverifi codelinkinsist gener roxygen edit hand pleas edit document rutilsr namehas_class aliashas_class titlereturn true datafram column specifi class usag has_class class argument iteman arbitrari amount quot column name check itemclassexpect class chosen column valu true class correct fals descript meant use assertr verifi function check exist specif column class datafram pipe verifi exampl verifymtcar has_classmpg wt class numer librarymagrittr pipe oper dontrun mtcar verifyhas_classmpg class charact fail gener roxygen edit hand pleas edit document rerrorsr namesummaryassertr_verify_error aliassummaryassertr_verify_error titlesummar assertr verifi error usag methodsummaryassertr_verify_errorobject argument itemobjectan assertr_verify_error object itemaddit argument affect summari produc descript summari method class assertr_verify_error seealso codelinkprintassertr_verify_error gener roxygen edit hand pleas edit document rrowreduxr namenum_row_na aliasnum_row_na titlecount number na row usag num_row_nasdata allownan fals argument itemdataa data frame itemallownantreat nan like na count fals default valu vector number miss valu row descript function return vector length number row provid data frame correspond number miss valu row exampl num_row_nasmtcar librarymagrittr pipe oper librarydplyr everyth function use everi column mtcar make sure na row two error mtcar assert_rowsnum_row_na within_bound everyth anyth run seealso codelinkisna codelinkisnan codelinknot_na gener roxygen edit hand pleas edit document rerrorsr namechaining_funct aliaschaining_funct aliaschain_start aliaschain_end titlechain function usag chain_startdata store_success fals chain_enddata success_fun success_continu error_fun error_report argument itemdataa data frame itemstore_successif true success assert store chain itemsuccess_funfunct call assert pass default return codedata itemerror_funfunct call assert fail default print summari error descript function start end sequenc assertr assert overrid default behavior assertr halt execut first error detail inform read relev section packag vignett use codevignetteassertr exampl possibl choic codesuccess_fun codeerror_fun paramet run codehelpsuccess_and_error_funct exampl librarymagrittr mtcar chain_start verifynrowmtcar verifympg insistwithin_n_sd mpg assertin_set vs chain_end gener roxygen edit hand pleas edit document rassertionsr rdeprecated_s nameinsist aliasinsist aliasinsist_ titlerais error dynam creat predic fals column select usag insist data predicate_gener success_fun success_continu error_fun error_stop skip_chain_opt fals obligatori fals defect_fun defect_append descript na insist_ data predicate_gener dot success_fun success_continu error_fun error_stop argument itemdataa data frame itempredicate_generatora function appli column vector select produc everi column true predic function appli everi element column vector select itemcomma separ list unquot express use dplyr codeselect select column data itemsuccess_funfunct call assert pass default return codedata itemerror_funfunct call assert fail default print summari error itemskip_chain_optsif true codesuccess_fun codeerror_fun use even assert call within chain itemobligatoryif true assert fail data mark defect defect data follow rule handl codedefect_fun function itemdefect_funfunct call data defect default skip assert store info special attribut itemdescriptioncustom descript rule store result report data itemdotsus insist_ select column use standard evalu valu default codedata return dynam creat predic assert true error thrown nondefault codesuccess_fun codeerror_fun use return valu function return descript meant use data analysi pipelin function appli predic gener function column indic use predic check everi element column predic applic yield fals function rais error effect termin pipelin earli fals function return data suppli use later part pipelin detail exampl possibl choic codesuccess_fun codeerror_fun paramet run codehelpsuccess_and_error_funct note see codevignetteassertr use context exampl insistiri within_n_sd sepallength return iri librarymagrittr iri insistwithin_n_sd sepallengthpetalwidth anyth run dontrun iri insistwithin_n_sd sepallengthpetalwidth datum index sepalwidth vector outsid standard deviat mean sepalwidth check fail rais fatal error pipelin termin noth statement run seealso codelinkassert codelinkverifi codelinkinsist_row codelinkassert_row gener roxygen edit hand pleas edit document rassertrr doctypepackag nameassertr aliasassertr titleassertr assert program r analysi pipelin descript assertr packag suppli suit function design verifi assumpt data earli analysi pipelin see assertr vignett document inform cr codevignetteassertr detail may also want read document function codeassertr provid item item codelinkassert item codelinkverifi item codelinkinsist item codelinkassert_row item codelinkinsist_row item codelinknot_na item codelinkin_set item codelinkhas_all_nam item codelinkis_uniq item codelinknum_row_na item codelinkmaha_dist item codelinkcol_concat item codelinkwithin_bound item codelinkwithin_n_sd item codelinkwithin_n_mad item codelinksuccess_and_error_funct item codelinkchaining_funct exampl librarymagrittr pipe oper librarydplyr confirm dataset contain observ column mile per gallon mpg posit number column mile per gallon mpg contain datum outsid standard deviat mean vs column automaticmanu vstraight engin respect contain row contain na row mahalanobi distanc within median absolut deviat distanc outlier detect mtcar verifynrow verifympg insistwithin_n_sd mpg assertin_set vs assert_rowsnum_row_na within_bound everyth insist_rowsmaha_dist within_n_mad everyth group_bycyl summariseavgmpgmeanmpg gener roxygen edit hand pleas edit document rpredicatesr namenot_na aliasnot_na titlereturn true valu na usag not_nax allownan fals argument itemxa r object support linkisna linkisnan itemallownana logic indic whether nan allow default fals valu vector length true element na fals otherwis descript invers codelinkbaseisna conveni function meant use predic codelinkassertr assert exampl not_nana not_na not_natre not_nac na seealso codelinkisna codelinkisnan gener roxygen edit hand pleas edit document rpredicatesr namewithin_n_mad aliaswithin_n_mad titlereturn function creat robust zscore check predic usag within_n_madsn argument itemnth number median absolut deviat median within accept datum itemaddit argument pass codelinkwithin_bound valu function take vector return codelinkwithin_bound predic base mad vector descript function take one argument number median absolut deviat within accept particular data point gener use sister function codelinkwithin_n_sd robust presenc outlier therefor better suit identifi potenti erron data point detail exampl pass function return function take vector figur bound two median absolut deviat mad median function return codelinkwithin_bound function appli singl datum datum within two mad median vector given function return function return true fals function isnt meant use although rather function meant use codelinkinsist function search potenti erron data point data set exampl testvector rnorm mean sd withinonemad within_n_mad customboundscheck withinonemadtestvector customboundscheck return true customboundscheck return fals within_n_madstestvector return fals within_n_madstestvectorasnumericna return true default within_bound accept na valu want reject na provid extra argument function within_n_mad allownafalsetestvectorasnumericna return fals pipelin like meant librarymagrittr iri insistwithin_n_mad sepallength seealso codelinkwithin_n_sd gener roxygen edit hand pleas edit document rassertionsr rdeprecated_s nameinsist_row aliasinsist_row aliasinsist_rows_ titlerais error dynam creat predic fals row appli row reduct function usag insist_row data row_reduction_fn predicate_gener success_fun success_continu error_fun error_stop skip_chain_opt fals obligatori fals defect_fun defect_append descript na insist_rows_ data row_reduction_fn predicate_gener dot success_fun success_continu error_fun error_stop argument itemdataa data frame itemrow_reduction_fna function return valu row provid data frame itempredicate_generatora function appli result row reduct function produc true predic function appli everi element vector row reduct function return itemcomma separ list unquot express use dplyr codeselect select column data itemsuccess_funfunct call assert pass default return codedata itemerror_funfunct call assert fail default print summari error itemskip_chain_optsif true codesuccess_fun codeerror_fun use even assert call within chain itemobligatoryif true assert fail data mark defect defect data follow rule handl codedefect_fun function itemdefect_funfunct call data defect default skip assert store info special attribut itemdescriptioncustom descript rule store result report data itemdotsus insist_rows_ select column use standard evalu valu default codedata return dynam creat predic assert true error thrown nondefault codesuccess_fun codeerror_fun use return valu function return descript meant use data analysi pipelin function appli function data frame reduc row singl valu predic gener function appli row reduct valu use predic check row reduct valu predic applic yield fals function rais error effect termin pipelin earli fals function return data suppli use later part pipelin detail exampl possibl choic codesuccess_fun codeerror_fun paramet run codehelpsuccess_and_error_funct note see codevignetteassertr use context exampl return mtcar insist_rowsmtcar maha_dist within_n_mad mpgcarb librarymagrittr pipe oper mtcar insist_rowsmaha_dist within_n_mad vsam anyth run dontrun mtcar insist_rowsmaha_dist within_n_mad everyth assert untru noth run seealso codelinkinsist codelinkassert_row codelinkassert codelinkverifi gener roxygen edit hand pleas edit document rerrorsr namesummaryassertr_assert_error aliassummaryassertr_assert_error titlesummar assertr assert error usag methodsummaryassertr_assert_errorobject argument itemobjectan assertr_assert_error object itemaddit argument affect summari produc descript summari method class assertr_assert_error print error messag first five row twocolumn datafram hold index valu offend data seealso codelinkprintassertr_assert_error gener roxygen edit hand pleas edit document rutilsr namehas_only_nam aliashas_only_nam titlereturn true datafram list specifi name usag has_only_nam argument itema arbitrari amount quot name check valu true name exist fals descript function check parent frame environ specif set name column present specifi error rais detail meant use assertr verifi function check exist specif column name datafram pipe verifi also work nondatafram list exampl last two column name switch order column name present pass verifi mtcar has_only_namesc mpg cyl disp hp drat wt qsec vs carb gear one set charact string provid verifi mtcar has_only_nam cmpg cyl disp hp drat wt qsec vs ccarb gear dontrun column miss fail verifymtcar has_only_namesmpg seealso name verif codelinkhas_all_nam conceptnam verif gener roxygen edit hand pleas edit document rassertionsr rdeprecated_s nameassert aliasassert aliasassert_ titlerais error predic fals column select usag assert data predic success_fun success_continu error_fun error_stop skip_chain_opt fals obligatori fals defect_fun defect_append descript na assert_ data predic dot success_fun success_continu error_fun error_stop argument itemdataa data frame itempredicatea function return fals violat itemcomma separ list unquot express use dplyr codeselect select column data itemsuccess_funfunct call assert pass default return codedata itemerror_funfunct call assert fail default print summari error itemskip_chain_optsif true codesuccess_fun codeerror_fun use even assert call within chain itemobligatoryif true assert fail data mark defect defect data follow rule handl codedefect_fun function itemdefect_funfunct call data defect default skip assert store info special attribut itemdescriptioncustom descript rule store result report data itemdotsus assert_ select column use standard evalu valu default codedata return predic assert true error thrown nondefault codesuccess_fun codeerror_fun use return valu function return descript meant use data analysi pipelin function return data suppli fals predic appli everi element column indic element column appli predic fals function rais error effect termin pipelin earli detail exampl possibl choic codesuccess_fun codeerror_fun paramet run codehelpsuccess_and_error_funct note see codevignetteassertr use context exampl return mtcar assertmtcar not_na vs return mtcar assertmtcar not_na mpgcarb librarymagrittr pipe oper mtcar assertin_setc vs anyth run dontrun mtcar assertin_setc carb assert untru noth run seealso codelinkverifi codelinkinsist codelinkassert_row codelinkinsist_row gener roxygen edit hand pleas edit document rerrorsr nameprintassertr_assert_error aliasprintassertr_assert_error titleprint assertr assert error usag methodprintassertr_assert_errorx argument itemxan assertr_assert_error object itemfurth argument pass method descript print method class assertr_assert_error print error messag entir twocolumn datafram hold index valu offend data seealso codelinksummaryassertr_assert_error gener roxygen edit hand pleas edit document rassertionsr nameverifi aliasverifi titlerais error express fals anywher usag verifi data expr success_fun success_continu error_fun error_stop skip_chain_opt fals obligatori fals defect_fun defect_append descript na argument itemdataa data frame list environ itemexpra logic express itemsuccess_funfunct call assert pass default return codedata itemerror_funfunct call assert fail default print summari error itemskip_chain_optsif true codesuccess_fun codeerror_fun use even assert call within chain itemobligatoryif true assert fail data mark defect defect data follow rule handl codedefect_fun function itemdefect_funfunct call data defect default skip assert store info special attribut itemdescriptioncustom descript rule store result report data valu default codedata return predic assert true error thrown nondefault codesuccess_fun codeerror_fun use return valu function return descript meant use data analysi pipelin function return data suppli logic express suppli true least one fals function rais error effect termin pipelin earli detail exampl possibl choic codesuccess_fun codeerror_fun paramet run codehelpsuccess_and_error_funct note see codevignetteassertr use context exampl verifymtcar drat return mtcar dontrun verifymtcar drat produc error librarymagrittr pipe oper dontrun mtcar verifydrat anyth run mtcar verifynrowmtcar anyth run alist listac bc verifyalist lengtha verifyalist lengtha lengthb verifyalist b dontrun alist verifyalist lengtha noth run seealso codelinkassert codelinkinsist gener roxygen edit hand pleas edit document rrowreduxr nameduplicates_across_col aliasduplicates_across_col titlecheck row contain least one valu duplic column usag duplicates_across_colsdata allowna fals argument itemdataa data frame itemallownatru allow na data default fals valu logic vector descript function return vector length number row provid data frame element vector logic valu state valu row duplic column exampl df dataframev c v c duplicates_across_colsdf librarymagrittr pipe oper use assert_row in_set function check specifi variabl set subset key data correct_df dataframeid sub_id letter work_id letter correct_df assert_rowsduplicates_across_col in_setfals id sub_id work_id pass subset correct_df variabl key dontrun incorrect_df dataframeid sub_id letter age c incorrect_df assert_rowsduplicates_across_col in_setfals id sub_id age fail age key data age place twice seealso codelinkpast gener roxygen edit hand pleas edit document rrowreduxr namecol_concat aliascol_concat titleconcaten column row data frame string usag col_concatdata sep argument itemdataa data frame itemsepa string separ column default valu vector row concaten string descript function return vector length number row provid data frame element vector correspond row valu one column past togeth string exampl col_concatmtcar librarymagrittr pipe oper use assert_row is_uniq function check joint duplic across differ column appear data frame dontrun mtcar assert_rowscol_concat is_uniq mpg hp fail first two row jointli duplic two column mtcar assert_rowscol_concat is_uniq mpg hp wt ok seealso codelinkpast gener roxygen edit hand pleas edit document rerrorsr nameprintassertr_defect aliasprintassertr_defect titleprint assertr defect usag methodprintassertr_defectx argument itemxan assertr_defect object itemfurth argument pass method descript print method class assertr_defect print defect messag along column check gener roxygen edit hand pleas edit document rerrorsr namesuccess_and_error_funct aliassuccess_and_error_funct aliassuccess_log aliassuccess_continu aliassuccess_append aliassuccess_report aliassuccess_df_return aliaserror_stop aliasjust_warn aliaserror_report aliaswarn_report aliaserror_append aliaswarning_append aliaserror_return aliaserror_df_return aliaserror_log aliasdefect_append aliasdefect_report aliasdefect_df_return titlesuccess error function usag success_logicaldata success_continuedata success_appenddata success_reportdata success_df_returndata error_stoperror data null warn fals just_warnerror data null error_reporterror data null warn fals warn_reporterror data null error_appenderror data null warning_appenderror data null error_returnerror data null error_df_returnerror data null error_logicalerror data null defect_appenderror data defect_reporterror data defect_df_returnerror data argument itemdataa data frame itemfurth argument pass method itemerrorsa list object class codeassertr_error itemwarnif true assertr issu warn instead error descript behavior function like codeassert codeassert_row codeinsist codeinsist_row codeverifi assert pass fail configur via codesuccess_fun codeerror_fun paramet respect codesuccess_fun paramet take function take data pass assert function paramet write success handler function provid packag item item codesuccess_continu return data pass assert function item codesuccess_log return true item codesuccess_append return data pass assert function also store basic inform verif result item codesuccess_report success result store verif end success print summari success valid item codesuccess_df_return success result store verif end success print datafram verif result codeerror_fun paramet take function take data pass assert function paramet write error handler function provid packag item item codeerror_stop print summari error halt execut item codeerror_report print inform avail error tidi codedatafram includ inform name predic use offend valu etc halt execut item codeerror_append attach error special attribut codedata return data chiefli allow assertr error accumul pipelin assert chanc check error display end chain item codeerror_return return raw object contain error item codeerror_df_return return tidi codedatafram contain error includ inform name predic use offend valu etc item codeerror_log return fals item codejust_warn print summari error halt execut issu warn item codewarn_report print inform avail error halt execut issu warn item codedefect_report singl rule defect data display short info skip current assert codechain_end sum skip rule defect data item codedefect_df_return singl rule defect data return info datafram skip current assert codechain_end return skip rule info datafram defect data may find third type data verif result scenario valid rule obligatori obligatori true order execut follow one may want skip regist fact order three callback react defect data item item codedefect_report singl rule defect data display short info skip current assert item codedefect_df_return singl rule defect data return info datafram skip current assert item codedefect_append append info skip rule due data defect one data attribut rule skip defect data summari return proper error_fun callback codechain_end gener roxygen edit hand pleas edit document rrowreduxr namemaha_dist aliasmaha_dist titlecomput mahalanobi distanc row data frame usag maha_distdata keepna true robust fals stringsasfactor fals argument itemdataa data frame itemkeepnaensur everi row miss data remain na output true default itemrobustattempt comput mahalanobi distanc base robust covari matrix fals default itemstringsasfactorsconvert nonfactor string column factor fals default valu vector observationwis mahalanobi distanc descript function return vector length number row provid data frame correspond averag mahalanobi distanc row whole data set detail use find anomal observ rowwis convert categor variabl data frame numer long factor exampl order charact column use compon distanc calcul must either factor convert factor use codestringsasfactor paramet exampl maha_distmtcar maha_distiri robusttru librarymagrittr pipe oper librarydplyr everyth function use everi column mtcar comput mahalanobi distanc observ ensur distanc within median absolut deviat median mtcar insist_rowsmaha_dist within_n_mad everyth anyth run seealso codelinkinsist_row gener roxygen edit hand pleas edit document rpredicatesr namein_set aliasin_set titlereturn true valu set usag in_set allowna true invers fals argument itemobject make set itemallownaa logic indic whether na includ nan permit default true iteminversea logic indic whether test argument set valu function take one valu return true valu set defin argument suppli codein_set fals otherwis descript function return predic function take singl valu return true valu member set object suppli doesnt actual check membership anythingit return function actual check call valu conveni function meant return predic function use codelinkassertr assert use invers flag default fals check argument set exampl predic in_set predic equival in_set invert function work thusli in_set inversetruec true true fals remaind divis alway rem in_setrem meant use predic assert statement assertmtcar in_set gear pipelin like meant librarymagrittr mtcar assertin_set gear assertin_set vs seealso codelinkin gener roxygen edit hand pleas edit document rutilsr namegenerate_id aliasgenerate_id titlegener random id string usag generate_id descript use gener id assert error detail singl assert check multipl column error log store separ element provid id allow detect error come assert gener roxygen edit hand pleas edit document rpredicatesr namewithin_bound aliaswithin_bound titlecr bound check predic usag within_bound lowerbound upperbound includelow true includeupp true allowna true argument itemlowerboundth lowest permit valu itemupperboundth upper permit valu itemincludelowera logic indic whether lower bound inclus default true itemincludeuppera logic indic whether upprt bound inclus default true itemallownaa logic indic whether na includ nan permit default true valu function take numer valu numer vactor return true valu isar within bound defin argument suppli codewithin_bound fals otherwis descript function return predic function take numer valu vector return true valu isar within bound set actual check bound anythingit return function actual check call number conveni function meant return predic function use codelinkassertr assert exampl predic within_bound predicatepi equival within_boundspi correl coeffici must alway coeff cortestc c estim within_boundscoeff check posit number positivep within_bound inf includelowerfals meant use predic assert statement assertmtcar within_bound cyl pipelin librarymagrittr mtcar assertwithin_bound cyl gener roxygen edit hand pleas edit document rpredicatesr nameis_uniq aliasis_uniq titlereturn true element appear usag is_uniq allowna fals argument itemon vector check uniqu combin element itemallownaa logic indic whether na preserv miss valu return valu fals treat like valu true default fals valu vector length correspond element true element appear vector fals otherwis descript function meant take vector reli heavili codelinkdupl function thought invers function differ thoughbesid meant one vector columni mark first occurr duplic valu non uniqu well exampl is_uniq is_uniqc c dontrun return fals appear is_uniqc librarymagrittr dontrun fail time mtcar assertis_uniq qsec use version function allow na assert use lambdaanonym function like mtcar assertfunctionxis_uniqx allownatru qsec seealso codelinkdupl gener roxygen edit hand pleas edit document rpredicatesr namewithin_n_sd aliaswithin_n_sd titlereturn function creat zscore check predic usag within_n_sdsn argument itemnth number standard deviat mean within accept datum itemaddit argument pass codelinkwithin_bound valu function take vector return codelinkwithin_bound predic base standard deviat vector descript function take one argument number standard deviat within accept particular data point detail exampl pass function return function take vector figur bound two standard deviat mean function return codelinkwithin_bound function appli singl datum datum within two standard deviat mean vector given function return function return true fals function isnt meant use although rather function meant use codelinkinsist function search potenti erron data point data set exampl testvector rnorm mean sd withinonesd within_n_sd customboundscheck withinonesdtestvector customboundscheck return true customboundscheck return fals within_n_sdstestvector return fals within_n_sdstestvectorasnumericna return true default within_bound accept na valu want reject na provid extra argument function within_n_sd allownafalsetestvectorasnumericna return fals pipelin like meant librarymagrittr iri insistwithin_n_sd sepallength seealso codelinkwithin_n_mad gener roxygen edit hand pleas edit document rerrorsr nameprintassertr_success aliasprintassertr_success titleprint assertr success usag methodprintassertr_successx argument itemxan assertr_success object itemfurth argument pass method descript print method class assertr_success print success messag along column check gener roxygen edit hand pleas edit document rerrorsr nameprintassertr_verify_error aliasprintassertr_verify_error titleprint assertr verifi error usag methodprintassertr_verify_errorx argument itemxan assertr_verify_error object itemfurth argument pass method descript summari method class assertr_verify_error seealso codelinksummaryassertr_verify_error gener roxygen edit hand pleas edit document rutilsr namehas_all_nam aliashas_all_nam titlereturn true datafram list specifi name usag has_all_nam argument itema arbitrari amount quot name check valu true name exist fals descript function check parent frame environ exist name meant use assertr verifi function check exist specif column name datafram pipe verifi also work nondatafram list exampl verifymtcar has_all_namesmpg wt qsec librarymagrittr pipe oper dontrun mtcar verifyhas_all_namesmpgg fail mpgg someth mtcar verifyexistsmpgg pass big mistak dontrun mtcar verifyhas_all_namesmpgg correctli fail seealso codelinkexist name verif codelinkhas_only_nam conceptnam verif