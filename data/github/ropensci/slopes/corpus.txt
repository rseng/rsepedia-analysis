slope r packag calcul slope road river trajectori septemb summari packag provid function exampl data support research slope also known longitudin gradient steep linear geograph entiti road arizalópez et al river cohen et al packag initi develop calcul steep street segment use calcul steep linear featur repres linestr geometri sf class system pebesma packag take two main type input data slope calcul vector geograph object repres linear featur raster geograph object elev valu download use function packag repres continu terrain surfac raster object provid packag attempt download elev data use ceram packag statement need although sever way name slope steep hilli inclin aspect gradient decliv refer slope packag defin longitudin gradient linear geograph entiti defin context river bycohen et al packag initi develop research road slope support evidencebas sustain transport polici account gradient plan new cycl infrastructur road space realloc walk cycl improv outcom exampl help identifi rout avoid steep hill packag use calcul visualis slope river trajectori repres movement road type publish open data arizalópez et al data slope use mani field research includ hydrologyhttpsenwikipediaorgwikistream_gradi natur hazard includ floodinghttpswwwhumanitarianresponseinfofroperationsafghanistaninfographicafgrivergradientandfloodhazard landslid risk managementhttpsassetspublishingservicegovukmediaadfbddfradd_colpdf recreat competit sport cyclinghttptheclimbingcyclistcomgradientsandcyclinganintroduct hikinghttpstrailismcomtrailgrad skiinghttpswwwsnowplazacoukblogskiingsteepswhatdoesgradientmeanskipist slope also also import branch transport emiss modellinghttpswwwsciencedirectcomsciencearticlepii ecologyhttpsdoiorgjncon grow number peopl work geospati data requir accur estim gradient includ transport plan practition requir accur estim roadway gradient estim energi consumpt safeti mode shift potenti hilli citi lisbon case studi citi use exampl document vehicl rout softwar develop need build system sensit go steep hill eg bicycl train larg truck activ travel plan logist emerg servic natur hazard research risk assessor requir estim linear gradient inform safeti mitig plan associ project hilli terrain aquat ecologist flood research other could benefit estim river gradient support model storm hydrograph like domain slope could use agricultur geolog civil engin exampl demand data provid packag map show gradient across sao paulo brazil see imag receiv like twitter gener convers httpstwittercomdanielguthstatu img srchttpscamogithubusercontentcomabddaefbdbfabebbcbdadaffedefdfdfaddeffddaeddc stylewidth usag key function instal develop version githubhttpsgithubcom r installpackagesremot remotesinstall_githubropenscislop instal dem download alreadi dem data want make use packag abil download use ceram packag instal packag suggest depend follow r installpackagesremot remotesinstall_githubropenscislop depend suggest furthermor need add mapbox api key abl get dem dataset sign regist key httpsaccountmapboxcomaccesstoken follow step r usethisedit_r_environ mapbox_api_keyxxxxx replac xxx api key key function packag elevation_add add third z coordin valu vertex defin linestr object slope_xyz calcul slope linear featur simpl featur object default elev vertex estim use bilinear interpolationhttpsenwikipediaorgwikibilinear_interpol method bilinear calcul point height base proxim centroid surround cell valu method argument pass method argument rasterextracthttpsrspatialgithubiorasterreferenceextracthtml terraextracthttpsrspatialgithubioterrareferenceextracthtml depend class input raster dataset see kidner dorey smith descript altern elev interpol extrapol algorithm calcul slope region transport network acknowledg refer div idref classrefer cslbibbodi hangingind div idrefarizalopez_dataset_ classcslentri arizalópez francisco javier antonio tomá mozascalvach manuel antonio ureñacámara paula gil de la vega dataset threedimension trace road scientif data httpsdoiorgsx div div idrefcohen_global_ classcslentri cohen sagi tong wan md tazmul islam j p syvitski global river slope new geospati dataset globalscal analysi journal hydrolog august httpsdoiorgjjhydrol div div idrefkidner_what_ classcslentri kidner david mark dorey derek smith geocomput vol mari washington colleg fredericksburg virginia usa wwwgeocomputationorg httpwwwgeocomputationorggc_htm div div idrefpebesma_simple_ classcslentri pebesma edzer simpl featur r standard support spatial vector data r journal httpsjournalrprojectorgarchiverjindexhtml div div readmemd gener readmermd pleas edit file slope packag badg start rcmdcheckhttpsgithubcomropenscislopesworkflowsrcmdcheckbadgesvghttpsgithubcomropenscislopesact codecov test coveragehttpscodecovioghropenscislopesbranchmastergraphbadgesvghttpscodecovioghropenscislopesbranchmast statu ropensci softwar peer reviewhttpsbadgesropensciorg_statussvghttpsgithubcomropenscisoftwarereviewissu badg end slope r packag calcul slope longitudin steep also known gradient road river linear simpl featur base two main input vectorhttpsgeocomprrobinlovelacenetspatialclasshtmlvectordata linestr geometri defin class sfhttpsrspatialgithubiosf packag rasterhttpsgeocomprrobinlovelacenetspatialclasshtmlrasterdata object pixel valu report averag height commonli known digit elev model dem dataset defin class rasterhttpscranrprojectorgpackagerast recent terrahttpsrspatialorgterra packag data slope use mani field research includ hydrologyhttpsenwikipediaorgwikistream_gradi natur hazard includ floodinghttpswwwhumanitarianresponseinfofroperationsafghanistaninfographicafgrivergradientandfloodhazard landslid risk managementhttpsassetspublishingservicegovukmediaadfbddfradd_colpdf recreat competit sport cyclinghttptheclimbingcyclistcomgradientsandcyclinganintroduct hikinghttpstrailismcomtrailgrad skiinghttpswwwsnowplazacoukblogskiingsteepswhatdoesgradientmeanskipist slope also also import branch transport emiss modellinghttpswwwsciencedirectcomsciencearticlepii ecologyhttpsdoiorgjncon see introtoslop vignettehttpsropenscigithubioslopesarticlesintrotoslopeshtml detail field use slope data need packag readm cover instal basic usag inform slope use packag calcul see get startedhttpsropenscigithubioslop introducion slopeshttpsropenscigithubiointrotoslop vignett work packag take two main type input data slope calcul vector geograph object repres linear featur elev valu digit elev model repres continu terrain surfac download use function packag packag use two sourc elev data openli avail elev data via interfac ceram packagehttpsgithubcomhypertidyceram enabl estim hilli rout anywher worldwid even local elev data lack packag take geograph line object return elev data per vertex provid output point geometri sf packag default per line featur provid averag gradient default elev model avail machin get start instal instal releas version slope cranhttpscranrprojectorg r installpackagesslop instal develop version githubhttpsgithubcom r installpackagesremot remotesinstall_githubropenscislop instal dem download alreadi dem data want make use packag abil download use ceram packag instal packag suggest depend follow r installpackagesremot remotesinstall_githubropenscislop depend suggest furthermor need add mapbox api key abl get dem dataset sign regist key httpsaccountmapboxcomaccesstoken follow step r usethisedit_r_environ mapbox_api_keyxxxxx replac xxx api key basic exampl load packag usual way also load sf librari r libraryslop librarysf minimum input data requir use packag sf object contain linestr geometri illustr requir mapbox api key r sf_linestr lisbon_rout import load linestr object r sf_linestring_xyz elevation_addsf_linestr dem null load requir namespac ceram prepar download tile zoom httpsapimapboxcomvmapboxterrainrgb default argument dem null function download necessari elev inform mapbox also use local digit elev model dem shown exampl r sf_linestring_xyz_loc elevation_addsf_linestr dem dem_lisbon_rast case obtain averag gradient linestr slope_xyz plot elev profil plot_slop follow r slope_xyzsf_linestring_xyz_loc plot_slopesf_linestring_xyz_loc img srcmanfiguresreadmeelevationprofilepng width see function get startedhttpsropenscigithubioslopesarticlesslopeshtml vignett see vignett get startedhttpsropenscigithubioslopesarticlesslopeshtml introduct slopeshttpsropenscigithubioslopesarticlesintrotoslopeshtml reproduc exampl gradient road network given cityhttpsropenscigithubioslopesarticlesroadnetworkcyclinghtml verif slopeshttpsropenscigithubioslopesarticlesverificationhtml benchmark slope calculationhttpsropenscigithubioslopesarticlesbenchmarkhtml code conduct pleas note packag releas contributor code conducthttpsropensciorgcodeofconduct contribut project agre abid term slope packag sourc code host httpsgithubcomropenscislop new document section show direct rout work httpsdocsropensciorgslopesarticlesslopeshtmlsplittingthenetwork slope submit respond comment ropensci reviewhttpsgithubcomropenscisoftwarereviewissu mani chang includ break chang function name ad newsmd file track chang packag slope initi version packag github contributor coven code conduct pledg member contributor leader pledg make particip commun harassmentfre experi everyon regardless age bodi size visibl invis disabl ethnic sex characterist gender ident express level experi educ socioeconom statu nation person appear race religion sexual ident orient pledg act interact way contribut open welcom divers inclus healthi commun standard exampl behavior contribut posit environ commun includ demonstr empathi kind toward peopl respect differ opinion viewpoint experi give grace accept construct feedback accept respons apolog affect mistak learn experi focus best us individu overal commun exampl unaccept behavior includ use sexual languag imageri sexual attent advanc kind troll insult derogatori comment person polit attack public privat harass publish other privat inform physic email address without explicit permiss conduct could reason consid inappropri profession set enforc respons commun leader respons clarifi enforc standard accept behavior take appropri fair correct action respons behavior deem inappropri threaten offens harm commun leader right respons remov edit reject comment commit code wiki edit issu contribut align code conduct commun reason moder decis appropri scope code conduct appli within commun space also appli individu offici repres commun public space exampl repres commun includ use offici email address post via offici social media account act appoint repres onlin offlin event enforc instanc abus harass otherwis unaccept behavior may report commun leader respons enforc insert contact method complaint review investig promptli fairli commun leader oblig respect privaci secur report incid enforc guidelin commun leader follow commun impact guidelin determin consequ action deem violat code conduct correct commun impact use inappropri languag behavior deem unprofession unwelcom commun consequ privat written warn commun leader provid clariti around natur violat explan behavior inappropri public apolog may request warn commun impact violat singl incid seri action consequ warn consequ continu behavior interact peopl involv includ unsolicit interact enforc code conduct specifi period time includ avoid interact commun space well extern channel like social media violat term may lead temporari perman ban temporari ban commun impact seriou violat commun standard includ sustain inappropri behavior consequ temporari ban sort interact public commun commun specifi period time public privat interact peopl involv includ unsolicit interact enforc code conduct allow period violat term may lead perman ban perman ban commun impact demonstr pattern violat commun standard includ sustain inappropri behavior harass individu aggress toward disparag class individu consequ perman ban sort public interact within commun attribut code conduct adapt contributor covenanthomepag version avail httpswwwcontributorcovenantorgvers code_of_conducthtml commun impact guidelin inspir mozilla code conduct enforc ladderhttpsgithubcommozilladivers homepag httpswwwcontributorcovenantorg answer common question code conduct see faq httpswwwcontributorcovenantorgfaq translat avail http wwwcontributorcovenantorgtransl contribut slope outlin propos chang slope detail info contribut tidyvers packag pleas see develop contribut guidehttpsrstdiotidycontrib fix typo fix typo spell mistak grammat error document directli use github web interfac long chang made _source_ file gener mean youll need edit roxygen commentshttpsroxygenrliborgarticlesroxygenhtml r rd file find r file gener rd read comment first line bigger chang want make bigger chang good idea first file issu make sure someon team agre need youv found bug pleas file issu illustr bug minim reprexhttpswwwtidyverseorghelpreprex also help write unit test need pull request process fork packag clone onto comput havent done recommend use usethiscreate_from_githubitsleedsslop fork true instal develop depend devtoolsinstall_dev_dep make sure packag pass r cmd check run devtoolscheck r cmd check doesnt pass cleanli good idea ask help continu creat git branch pull request pr recommend use usethispr_initbriefdescriptionofchang make chang commit git creat pr run usethispr_push follow prompt browser titl pr briefli describ chang bodi pr contain fix issuenumb userfac chang add bullet top newsmd ie first header follow style describ httpsstyletidyverseorgnewshtml code style new code follow tidyvers style guidehttpsstyletidyverseorg use stylerhttpscranrprojectorgpackagestyl packag appli style pleas dont restyl code noth pr use roxygenhttpscranrprojectorgpackageroxygen markdown syntaxhttpscranrprojectorgwebpackagesroxygenvignettesrdformattinghtml document use testthathttpscranrprojectorgpackagetestthat unit test contribut test case includ easier accept code conduct pleas note slope project releas contributor code conductcode_of_conductmd contribut project agre abid term output github_docu readmemd gener readmermd pleas edit file r includ fals knitropts_chunkset collaps true comment figpath manfiguresreadm outwidth slope packag badg start rcmdcheckhttpsgithubcomropenscislopesworkflowsrcmdcheckbadgesvghttpsgithubcomropenscislopesact codecov test coveragehttpscodecovioghropenscislopesbranchmastergraphbadgesvghttpscodecovioghropenscislopesbranchmast statu ropensci softwar peer reviewhttpsbadgesropensciorg_statussvghttpsgithubcomropenscisoftwarereviewissu badg end slope r packag calcul slope longitudin steep also known gradient road river linear simpl featur base two main input vectorhttpsgeocomprrobinlovelacenetspatialclasshtmlvectordata linestr geometri defin class sfhttpsrspatialgithubiosf packag rasterhttpsgeocomprrobinlovelacenetspatialclasshtmlrasterdata object pixel valu report averag height commonli known digit elev model dem dataset defin class rasterhttpscranrprojectorgpackagerast recent terrahttpsrspatialorgterra packag data slope use mani field research includ hydrologyhttpsenwikipediaorgwikistream_gradi natur hazard includ floodinghttpswwwhumanitarianresponseinfofroperationsafghanistaninfographicafgrivergradientandfloodhazard landslid risk managementhttpsassetspublishingservicegovukmediaadfbddfradd_colpdf recreat competit sport cyclinghttptheclimbingcyclistcomgradientsandcyclinganintroduct hikinghttpstrailismcomtrailgrad skiinghttpswwwsnowplazacoukblogskiingsteepswhatdoesgradientmeanskipist slope also also import branch transport emiss modellinghttpswwwsciencedirectcomsciencearticlepii ecologyhttpsdoiorgjncon see introtoslop vignettehttpsropenscigithubioslopesarticlesintrotoslopeshtml detail field use slope data need packag readm cover instal basic usag inform slope use packag calcul see get startedhttpsropenscigithubioslop introducion slopeshttpsropenscigithubiointrotoslop vignett work packag take two main type input data slope calcul vector geograph object repres linear featur elev valu digit elev model repres continu terrain surfac download use function packag packag use two sourc elev data openli avail elev data via interfac ceram packagehttpsgithubcomhypertidyceram enabl estim hilli rout anywher worldwid even local elev data lack packag take geograph line object return elev data per vertex provid output point geometri sf packag default per line featur provid averag gradient default elev model avail machin get start instal instal releas version slope cranhttpscranrprojectorg r installpackagesslop instal develop version githubhttpsgithubcom r evalfals installpackagesremot remotesinstall_githubropenscislop instal dem download alreadi dem data want make use packag abil download use ceram packag instal packag suggest depend follow r evalfals installpackagesremot remotesinstall_githubropenscislop depend suggest furthermor need add mapbox api key abl get dem dataset sign regist key httpsaccountmapboxcomaccesstoken follow step r evalfals usethisedit_r_environ mapbox_api_keyxxxxx replac xxx api key basic exampl load packag usual way also load sf librari r messagefals warningfals libraryslop librarysf minimum input data requir use packag sf object contain linestr geometri illustr requir mapbox api key r sf_linestr lisbon_rout import load linestr object r evalfals sf_linestring_xyz elevation_addsf_linestr dem null load requir namespac ceram prepar download tile zoom httpsapimapboxcomvmapboxterrainrgb r echofals note follow true identicalsf_linestring_xyz lisbon_route_xyz_mapbox sf_linestring_xyz lisbon_route_xyz_mapbox default argument dem null function download necessari elev inform mapbox also use local digit elev model dem shown exampl r sf_linestring_xyz_loc elevation_addsf_linestr dem dem_lisbon_rast case obtain averag gradient linestr slope_xyz plot elev profil plot_slop follow r elevationprofil slope_xyzsf_linestring_xyz_loc plot_slopesf_linestring_xyz_loc _see function get startedhttpsropenscigithubioslopesarticlesslopeshtml vignette_ see vignett get startedhttpsropenscigithubioslopesarticlesslopeshtml introduct slopeshttpsropenscigithubioslopesarticlesintrotoslopeshtml reproduc exampl gradient road network given cityhttpsropenscigithubioslopesarticlesroadnetworkcyclinghtml verif slopeshttpsropenscigithubioslopesarticlesverificationhtml benchmark slope calculationhttpsropenscigithubioslopesarticlesbenchmarkhtml code conduct pleas note packag releas contributor code conducthttpsropensciorgcodeofconduct contribut project agre abid term titl slope r packag calcul slope road river trajectori tag r topographi slope gradient steep road elev author name robin lovelac orcid affili name rosa félix orcid affili date septemb bibliographi paperbib well later convert markdown document remov paperrmd output github_docu editor_opt markdown wrap sentenc summari packag provid function exampl data support research slope also known longitudin gradient steep linear geograph entiti road arizalopez_dataset_ river cohen_global_ packag initi develop calcul steep street segment use calcul steep linear featur repres linestr geometri sf class system pebesma_simple_ packag take two main type input data slope calcul vector geograph object repres linear featur raster geograph object elev valu download use function packag repres continu terrain surfac raster object provid packag attempt download elev data use ceram packag statement need although sever way name slope steep hilli inclin aspect gradient decliv refer slope packag defin longitudin gradient linear geograph entiti defin context river bycohen_global_ packag initi develop research road slope support evidencebas sustain transport polici account gradient plan new cycl infrastructur road space realloc walk cycl improv outcom exampl help identifi rout avoid steep hill packag use calcul visualis slope river trajectori repres movement road type publish open data arizalopez_dataset_ data slope use mani field research includ hydrologyhttpsenwikipediaorgwikistream_gradi natur hazard includ floodinghttpswwwhumanitarianresponseinfofroperationsafghanistaninfographicafgrivergradientandfloodhazard landslid risk managementhttpsassetspublishingservicegovukmediaadfbddfradd_colpdf recreat competit sport cyclinghttptheclimbingcyclistcomgradientsandcyclinganintroduct hikinghttpstrailismcomtrailgrad skiinghttpswwwsnowplazacoukblogskiingsteepswhatdoesgradientmeanskipist slope also also import branch transport emiss modellinghttpswwwsciencedirectcomsciencearticlepii ecologyhttpsdoiorgjncon grow number peopl work geospati data requir accur estim gradient includ transport plan practition requir accur estim roadway gradient estim energi consumpt safeti mode shift potenti hilli citi lisbon case studi citi use exampl document vehicl rout softwar develop need build system sensit go steep hill eg bicycl train larg truck activ travel plan logist emerg servic natur hazard research risk assessor requir estim linear gradient inform safeti mitig plan associ project hilli terrain aquat ecologist flood research other could benefit estim river gradient support model storm hydrograph like domain slope could use agricultur geolog civil engin exampl demand data provid packag map show gradient across sao paulo brazil see imag receiv like twitter gener convers httpstwittercomdanielguthstatu httpscamogithubusercontentcomabddaefbdbfabebbcbdadaffedefdfdfaddeffddaeddcwidth usag key function instal develop version githubhttpsgithubcom r evalfals installpackagesremot remotesinstall_githubropenscislop instal dem download alreadi dem data want make use packag abil download use ceram packag instal packag suggest depend follow r evalfals installpackagesremot remotesinstall_githubropenscislop depend suggest furthermor need add mapbox api key abl get dem dataset sign regist key httpsaccountmapboxcomaccesstoken follow step r evalfals usethisedit_r_environ mapbox_api_keyxxxxx replac xxx api key key function packag elevation_add add third z coordin valu vertex defin linestr object slope_xyz calcul slope linear featur simpl featur object default elev vertex estim use bilinear interpolationhttpsenwikipediaorgwikibilinear_interpol method bilinear calcul point height base proxim centroid surround cell valu method argument pass method argument rasterextracthttpsrspatialgithubiorasterreferenceextracthtml terraextracthttpsrspatialgithubioterrareferenceextracthtml depend class input raster dataset see kidner_what_ descript altern elev interpol extrapol algorithm calcul slope region transport network acknowledg refer brief httpscallforpapersfossgorgfossgacadem slope packag reproduc slope calcul analysi visualis slope import mani purpos includ flood risk agricultur geolog infrastructur construct transport plan consider gradient especi import walk cycl rout provid initi motiv develop packag slope calcul use proprietari product arcmap want calcul slope use free open sourc softwar enabl transpar reproduc access method develop softwar r prior experi languag matur rspatial commun develop matur codebas work geograph data reproduc command line environ includ sf work vector dataset repres road linear featur raster repres digit elev model dem build foundat packag work use calcul slope hundr road sever citi comparison arcmap analyst show approach competit goto proprietari produc term comput speed reproduc arcmap result test show rsquar valu hope packag use interest fossg talk discuss idea take work forward eg implement logic languagesenviron rust python even qgi plugin could scope interdisciplinari languageagnost commun interest slope analysi would like support effort strengthen link geospati develop use r wider fossg commun exampl compar slope packag open sourc approach slope calcul analysi mutual benefici learn conclud discuss possibl futur direct travel project includ possibl visualis autodownload elev point data sampl across linear featur current packag autom download dem data requir mapbox api key use slope valu gener evid support sustain transport polici descript packag calcul longitudin steep linear featur road river base two main input vector linestr geometri raster digit elev model dem dataset instal r instal follow r evalfals remotesinstall_githubropenscislop minimum data requir use packag elev point either vector matrix digit elev model dem encod raster dataset typic also geograph object repres road similar featur two type input data repres code output plot note author rosa félix robin lovelac univers lisbon univers leed titl debug issu slope packag output rmarkdownhtml_vignett vignett vignetteindexentrydebug issu slope packag vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment r setup libraryslop aim vignett document issu identifi hope eventu fix run default run chang fals true code chunk r knitropts_chunksetev fals error weight mean issu show function slope_rast error final line r librarysf libraryrast libraryslop import dataset network_origin st_readhttpsgithubcomushiftdeclivesredeviariablobmainshapefilesredeviarialisboa_dadosabertosgpkgrawtru network st_zmnetwork_origin drop make sure z valu store network u httpsgithubcomushiftdeclivesredeviariablobmainrasterlisboanasa_cliptifrawtru downloadfileu lisboanasa_cliptif dem rasterlisboanasa_cliptif dem overlap rasterplotdem plotsfst_geometrynetwork add true error networkslopenasa slope_rasternetwork e dem addit warn messag maxd narm true nonmiss argument max return inf maxd narm true nonmiss argument max return inf error subset network r network_subset network networkslopesnasa slope_rasternetwork_subset e dem also fail error dem_subset cropdem network network_subsetslopesnasa slope_rasternetwork_subset e dem_subset also fail error uniquest_geometry_typenetwork_subset uniquest_geometry_typelisbon_road_seg mapviewmapviewnetwork_subset network_subset_l sfst_castnetwork_subset linestr mapviewmapviewnetwork_subset_l network_subset_lsslopesnasa slope_rasternetwork_subset_l e dem_subset test full network r instal latest version remotesinstall_githubropenscislop librarysf libraryrast libraryslop import dataset network_origin st_readhttpsgithubcomushiftdeclivesredeviariablobmainshapefilesredeviarialisboa_dadosabertosgpkgrawtru network st_zmnetwork_origin drop make sure z valu store network u httpsgithubcomushiftdeclivesredeviariablobmainrasterlisboanasa_cliptifrawtru downloadfileu lisboanasa_cliptif dem rasterlisboanasa_cliptif dem overlap rasterplotdem plotsfst_geometrynetwork add true error networkslopenasa slope_rasternetwork e dem network_l sfst_castnetwork linestr network_lsslopenasa slope_rasternetwork_l e dem plotnetwork_lsslopenasa lwd issu terra r remotesinstall_githubropenscislop libraryslop classlisbon_road_network rasterplotdem_lisbon_rast plotsfst_geometrylisbon_road_network add true demterra terrarastdem_lisbon_rast plotsfst_geometrylisbon_road_network add true lisbon_road_networksloperast slope_rasterlisbon_road_network e dem_lisbon_rast libraryterra plotdemterra lisbon_road_networkslopeterra slope_rasterlisbon_road_network e demterra terra summarylisbon_road_networksloperast summarylisbon_road_networkslopeterra look code seem culprit re asnumericterraextract method method vs re asnumericrasterextract method method let tri method bilinear sfst_coordinateslisbon_road_seg e demterra asnumericterraextract method method asnumericterraextractdem_lisbon_rast method method res_terra terraextract method method classres_terra res_terra asnumericres_terra r titl slope packag calcul slopesbr titl slope packag calcul slope subtitl road river linear simpl featur author robin lovelac rosa félix user brbrbrbrbrbrbrbrbrbr output xaringanmoon_read css xaringanthemercss natur slidenumberformat current highlightstyl github highlightlin true ratio countincrementalslid true r evalfals echofals see slide manual upload onlin httpsslopesslidesnetlifyappslideshtml run slide local xaringaninf_mrdatarawslidesrmd r xaringanextra echofals httpsgithubcomgadenbuiexaringanextra xaringanextrause_xaringan_extractile_view animate_css tachyon r setup includefals optionshtmltoolsdirvers fals knitropts_chunkset figwidth figheight figretina outwidth cach true echo true messag fals warn fals figshow true hilin true r xaringanthem includefals warningfals libraryxaringanthem style_duo_acc title_slide_background_color ffffff title_slide_background_s title_slide_background_imag httpsuserimagesgithubusercontentcomcccebdabdadacpng title_slide_background_posit bottom title_slide_text_color primary_color secondary_color ffc inverse_header_color ffffff backgroundimag urlhttpscamogithubusercontentcomabddaefbdbfabebbcbdadaffedefdfdfaddeffddaeddc backgroundposit center backgrounds br content slope key function futur plan develop slope packag leftcolumn real world problem solv involv slope exist tool job expens hard reproduc find esri analyst hard scaleup onlin servic r program challeng support rout plan activ transport rightcolumn real world problem infrastructur prioritis sourc paperhttpswwwjtluorgindexphpjtluarticleview wwwpctbike httpsuserimagesgithubusercontentcombfadcebeaepng rosa motiv applic leftcolumn transport plan activ travel plan logisticsrout plan emerg servic riverflood research civil engin rightcolumn httpsonlinelibrarywileycomcmsassetdbebfbdaaacccgeanfigmpng imag sourc goodchild httpsdoiorggean beyond tobler hike function instal setup r evalfals remotesinstall_githubropenscislop r libraryslop librarytmap tmap_modeview packag work key function slope_xyz calcul slope associ linestr xyz coordin slope_rast calcul slope linestr base local raster map elevation_add add third dimens linestr coordin plot_slop plot slope profil associ linestr see httpsropenscigithubioslopesreferenceindexhtml r lisbon_route_d_seg stplanrrnet_breakup_verticeslisbon_route_d lisbon_route_d_segmentsslop slope_xyzlisbon_route_d_seg tm_shapelisbon_route_d_seg tm_linescol slope lwd palett viridi packag data key input dataset pullleft linestr repres roadsriversoth r map tm_shapelisbon_road_network tm_line pullright digit elev r tm_shapedem_lisbon_rast tm_rasterpalett brbg alpha ad z dimens r lisbon_rout dimens xy r lisbon_route_slop elevation_addrout lisbon_rout dem slopesdem_lisbon_rast r evalfals lisbon_route_slop simpl featur collect featur field geometri type linestr dimens xyz dimens xyz plot z dimens pullleft r errortru figheight plot_slopelisbon_rout pullright r figheight plot_slopelisbon_route_slop find slope dont dem r evalfals usethisedit_r_environ type regist mapbox websit mapbox_api_keyxxxxx r librarystplanr origin tmaptoolsgeocode_osmrail station zurich assf true destin tmaptoolsgeocode_osmeth zurich assf true rout osrmosrmroutesrc origin dst destin returnclass sf librarystplanr rout routeorigin destin route_fun cyclestreetsjourney route_d elevation_addrout dem null r route_dgradient_slop slope_xyzroute_d todo calcul slope elevation_add default pullleft r librarytmap tm_shaperoute_d tm_linesgradient_slop lwd palett viridi tmap_modeplot todo add slope_map function default palett pullright r tmap_modeview pullleft work exampl see vignettehttpsropenscigithubioslopesarticlesroadnetworkcyclinghtml load packag r get linear featur want gradient libraryslop librarydplyr librarysf remotesinstall_githubitsleedsosmextract libraryosmextract see user talk osmextract packag librarytmap network oe_getisl wight vectortranslate_opt cwhere highway null pullright r figheight u httpsgithubcomushiftdeclivesredeviariareleasesdownloadisleofwightnasa_cliptif f basenameu get digit elev data downloadfileurl u destfil f mode wb dem rasterrasterf libraryrast plotdem plotsfst_geometrynetwork add true check overlay calcul slope r sys_tim systemtim networkslop slope_rasternetwork dem sys_tim nrownetwork nrownetwork sys_tim networkslop networkslop percentag summarynetworkslop check valu result r evalfals qtmnetwork slope extra argument see roadnetworkcyclinghttpsropenscigithubioslopesarticlesroadnetworkcyclinghtml vignett detail interact map httpwebtecnicoulisboaptrosamfelixgisdeclivesslopesiowhtml httpsuserimagesgithubusercontentcomfccaebcdcbaepng smaller exampl use packag data r rout lisbon_road_network dem dem_lisbon_rast routesslop slope_rasterrout dem plotdem plotroutesslop add true futur plan pullleft slope_get_dem get digit elev model data add elev sourc use api key eg googl other improv plot_slop visual explor accuraci data vs ground truth finish review publish joss cran see ropenscislopeshttpsgithubcomitsleedsslop github get involv pullright httpswwwthestarcoukjpctcoukimageonecmsbbbefdafeaabdfcbaccansstblakenmsyuploadjpegwidth invit peopl help github blake street sheffield sourc thestarcoukhttpswwwthestarcouknewspeoplewhichsheffieldssteepeststreettheseareonesyouthinkareworst ground truth pullleft comparison gradient slope packag onlin rout servic r echofals route_delevation_chang route_ddist plotroute_dgradient_smooth route_dgradient_slop pullright get ground truth data quit hard httpsmediaspringernaturecomfullspringerstaticimageartafsxmediaobjects___fig_htmlpng estim slope bridg r outwidth figshowhold echofals knitrinclude_graphicsc slopeedinburghbridgepng slopeedinburghbridgepng rl research tool prioritis cycl invest uk hilli model fail slightli hilli area r outwidth figshowhold echofals knitrinclude_graphicsc slopeedinburghbridgepng slopeedinburghbridgepng thank slide creat via r packag xaringanhttpsgithubcomyihuixaringanbr gadenbuiexaringanthemerhttpsgithubcomgadenbuiexaringanthem share xaringan slideshttpswwwgarrickadenbuiecomblogsharingxaringanslid blog post chakra come remarkjshttpsremarkjscom knitrhttpyihuinameknitr r markdownhttpsrmarkdownrstudiocom titl verif slope output rmarkdownhtml_vignett vignett vignetteindexentryverif slope vignetteengineknitrrmarkdown vignetteencodingutf bibliographi slopereferencesbib r includ fals knitropts_chunkset collaps true comment introduct articl aim provid extern verif result provid packag far one verif dataset use hope find other know verif dataset pleas let us know initi plan use dataset paper river slope cohen_global_ could find way extract underli data calcul articl primarili use follow packag although other load subsequ code chunk r setup libraryslop librarysf result reproduc requir download input data manual instal addit packag keep packag build time low result present comparison result arcmap analyst threedimension trace road dataset todo make segment input dataset compris linestr record use dual frequenc gnss receiv leica httpsgefnercacukequipmentgnssphp vertic accuraci mm gp trace hilli road peer review journal articl arizalopez_dataset_ download figshar websit zip filehttpsndownloaderfigsharecomfil raw data figshar websit zip filehttpsndownloaderfigsharecomfil unzip inflat work directori follow evalu reduc packag build time r evalfals downloadfilehttpsndownloaderfigsharecomfil dgrt_axis_epsg_vzip unzipdgrt_axis_epsg_vzip trace sfread_sfdgrt_axis_epsg_vshp plottrac nrowtrac summarytracexdgrt_h min st qu median mean rd qu max r evalfals echofals origin trace dataset trace sfread_sfvignettesdgrt_traces_epsg_vshp trace sfread_sfdgrt_traces_epsg_vshp nrowtrac verifi estim hilli gener slope estim segment compar tabl httpswwwnaturecomarticlessxt arizalopez_dataset_ absolut gradient measur publish paper r res_gp c res_fin c re dataframecbind cgp dual frequenc gnss receiv rbindres_gp res_fin namesr csourc min mean max stdev knitrkabler rownam fals r evalfals mapviewmapviewtrac check extent km height remotesinstall_githubhypertidyceram loc colmeanssfst_coordinatessfst_transformtrac e ceramiccc_elevationloc loc buffer trace_project sfst_transformtrac plote plottrace_projectedgeometri add true r echofals evalfals aim get max distanc centrepoint bb sfst_bboxsfst_transformtrac geospheredisthaversinecbb bb cbb bb geospheredisthaversinecbb bb cbb bb max divid r echofals knitrinclude_graphicshttpsuserimagesgithubusercontentcomcffeaceaadefepng slope estim follow r evalfals sourc httpswwwrobinlovelacenetpresentationsmunsterhtml pointsline_trajectori functionp c st_coordinatesp seqnrowp l purrrmapi sfst_linestringcxx lfc sfst_sfcl seqlengthlfc sequenc subset p_data cbindsfst_set_geometrypa null sfst_sfp_data geometri lfc r pointsline_trajectorytrace_project summaryst_lengthr mean distanc doesnt make sens need creat segment slope_rasterr e e slope_summari dataframemin min mean mean max max stdev sd slope_summari slope_summari knitrkableslope_summari digit min mean max stdev combin previou tabl arizalopez_dataset_ result compar obtain mainstream gp accur gnss receiv sourc min mean max stdev gp dual frequenc gnss receiv slope r packag notabl packag substanti overestim gradient perhap due low resolut underli elev raster howev slope packag seem provid less noisi slope estim gp approach lower maximum valu low standard deviat refer r evalfals echofals fail test rasterextract trace_project rasterwriteraster etif e_terra terrarastetif terracrse_terra v terravectvignettesdgrt_traces_epsg_vshp e_wg terraprojecte_terra v e_star starsst_as_stars e_wg sfst_transforme_star starswrite_starse_wg e_wgstif e rasterrastere_wgstif rasterplot plottracegeometri add true r echofals evalfals discard way remotesinstall_githubjhollistelevatr sp_bbox spbboxsfas_spatialsfst_transformtrac e elevatrget_aws_terrainloc sp_bbox prj init titl get start output bookdownhtml_vignett vignett vignetteindexentryget start vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment welcom slope vignett type longform documentationarticl introduc core function function slope packag instal instal releas version slope cranhttpscranrprojectorg r installpackagesslop instal develop version githubhttpsgithubcom r evalfals installpackagesremot remotesinstall_githubropenscislop instal dem download alreadi dem data want make use packag abil download use ceram packag instal packag suggest depend follow r evalfals installpackagesremot remotesinstall_githubropenscislop depend suggest furthermor need add mapbox api key abl get dem dataset sign regist key httpsaccountmapboxcomaccesstoken follow step r evalfals usethisedit_r_environ mapbox_api_keyxxxxx replac xxx api key function elev elevation_add take linestr add third dimens z coordin elevation_get get elev data host maptil servic return raster elevation_extract extract elev coordin z_valu retriev elev valu z vector sequenti vertic z_start retriev elev valu first linestr vertic z_end retriev elev valu last linestr vertic z_mean retriev elev mean valu z_max retriev elev max valu z_min retriev elev min valu distanc sequential_dist calcul sequenti distanc sequenti coordin pair slope slope_vector calcul slope associ consecut element one dimension distanc associ elev slope_dist calcul slope associ consecut distanc elev slope_distance_mean calcul mean averag slope associ consecut distanc elev slope_distance_weight calcul slope associ consecut distanc elev mean valu associ set distanceelev vector weight proport distanc elev measur longer section proport influenc result gradient estim slope_rast calcul slope linestr base local raster map slope_matrix calcul gradient line segment matrix coordin slope_matrix_weight calcul weight gradient line segment matrix coordin slope_xyz calcul slope associ linestr xyz coordin plot plot_dz plot digit elev profil base xyz data plot_slop plot slope profil associ linestr base r graphic packag dataset slope packag come dataset play linestr lisbon_road_seg singl road segment lisbon xy lisbon_rout rout variat elev lisbon xy cyclestreets_rout bike rout leed xy road network lisbon_road_network sampl road segment downtown lisbon magnolia_xi sampl road segment center seattl magnolia neighborhood digit elev model dem dem_lisbon_rast dem downtown lisbon epsg exampl load packag usual way also load sf librari r messagefals warningfals libraryslop librarysf minimum input data requir use packag sf object contain linestr geometri also creat sf object matrix coordin illustr dont worri detail read work sf packag documentationhttpsrspatialgithubiosfarticlessfhtml r evalfals echofals st_coordinatessfst_transformlisbon_road_seg seqfrom nrowm lengthout roundm dputroundm dputroundm r cbind c c sf_linestr sfst_sf dataframeid geometri st_sfcst_linestringm cr classsf_linestr st_geometry_typesf_linestr mayb remov add step step singl road segment dem check input dataset suitabl function class base r st_geometry_typ sf packag demonstr exampl object lisbon_road_seg contain within packag r sf_linestr lisbon_road_seg classsf_linestr st_geometry_typesf_linestr quick way test object slope calcul plot interact map check underneath object inde terrain give linestr gradient r linestringmap messagefals warningfals librarytmap tmap_modeview tm_shapesf_linestr tm_lineslwd tm_basemapleafletprovidersesriworldtopomap imagin want calcul gradient rout shown two step process follow step add elev coordin linestr requir mapbox apihttpsaccountmapboxcomaccesstoken key r evalfals sf_linestring_xyz elevation_addsf_linestr dem null load requir namespac ceram prepar download tile zoom httpsapimapboxcomvmapboxterrainrgb r echofals note follow true identicalsf_linestring_xyz lisbon_road_segment_xyz_mapbox sf_linestring_xyz lisbon_road_segment_xyz_mapbox argument dem null function download necessari elev inform mapbox use argument local digit elev model dem check elev ad new sf_linestring_xyz object print coordin follow note new z column goe sea level short distanc r st_coordinatessf_linestring_xyz use z_ function extract valu r z_valuesf_linestring_xyz return elev valu xy coordin z_meansf_linestring_xyz elev mean valu z_minsf_linestring_xyz elev min valu z_maxsf_linestring_xyz elev max valu z_startsf_linestring_xyz first z z_endsf_linestring_xyz last z step calcul averag slope linestr r slope_xyzsf_linestring_xyz result tell us quit steep slope gradient averag rout avail dem use slope packag estim gradient individu road segment segment combin rout need mean assess hilli entir rout rang indic use repres rout hilli choic index appropri may context depend see introducion slopeshttpsropenscigithubiointrotoslop vignett let us use function entir rout lisbon_rout also avail packag r messagefals warningfals sf_rout lisbon_rout classsf_rout st_geometry_typesf_rout tm_shapesf_rout tm_lineslwd tm_basemapleafletprovidersesriworldtopomap step add elev coordin rout r evalfals sf_route_xyz elevation_addsf_rout load requir namespac ceram prepar download tile zoom httpsapimapboxcomvmapboxterrainrgb r echofals note follow true identicalsf_route_xyz lisbon_road_segment_xyz_mapbox sf_route_xyz lisbon_route_xyz_mapbox step calcul averag slope rout r slope_xyzsf_route_xyz result show gradient averag alreadi dem calcul slope directli follow slope_rast r classdem_lisbon_rast slope_rasterrout sf_rout dem dem_lisbon_rast result show gradient averag see retriev result elev inform avail mapbox digit elev model quit similar see differ verif slopeshttpsropenscigithubioslopesarticlesverificationhtml rout xyz coordin linestr object alreadi x z coordin eg gp devic use slope_ function directli r evalfals includefals use like would ge good gp exampl demonstr slope_vectorsf_route_xyz slope_distancesf_route_xyz slope_distance_meansf_route_xyz slope_distance_weightedsf_route_xyz slope_vectorsf_linestring_xyz slope_distancesf_linestring_xyz slope_distance_meansf_linestring_xyz slope_distance_weightedsf_linestring_xyz r line xz x c elev c slope_vectorx elev path xyz xy st_coordinatessf_linestr dist sequential_distxi lonlat fals elev elevation_extractxi dem_lisbon_rast slope_distancedist elev slope_distance_meandist elev slope_distance_weighteddist elev case use slope packag need elev point either vector matrix digit elev model dem encod raster dataset calcul plot gradient road network typic use case packag calcul slope geograph object repres road linear featur two type input data repres code output plot r demlisbon raster dataset includ packag classdem_lisbon_rast digit elev model summaryrastervaluesdem_lisbon_rast height rang rasterplotdem_lisbon_rast vector dataset includ packag classlisbon_road_network plotsfst_geometrylisbon_road_network add true calcul averag gradient road segment follow r lisbon_road_networkslop slope_rasterlisbon_road_network dem dem_lisbon_rast summarylisbon_road_networkslop creat new column slope repres averag distanc weight slope associ road segment unit repres percentag inclin chang elev divid distanc summari result tell us averag gradient slope exampl data result equival return esri slope_d analyst extensionhttpsdesktoparcgiscomenarcmaptoolsdanalysttoolboxslopehtm correl arcmap implement implement test dataset find higher correl larger dataset see verif slopeshttpsropenscigithubioslopesarticlesverificationhtml articl r cor lisbon_road_networkslop slope calcul slope packag lisbon_road_networkavg_slop slope calcul arcmap analyst extens visualis averag slope rout calcul slope packag follow r slopevi rasterplotdem_lisbon_rast plotlisbon_road_networkslop add true lwd elev profil take first rout examplerouteavailabledem imagin want go santa catarina area east map castelo de são jorg west rout goe valley side r rout librarytmap tmap_modeview qtmlisbon_rout r echofals evalfals remov render rmarkdown mapviewmapviewlisbon_road_networkslop maptyp esriworldstreetmap mapviewmapviewlisbon_rout convert lisbon_rout object linestr object x z coordin use elev valu store dem follow r evaltru lisbon_route_xyz elevation_addlisbon_rout dem_lisbon_rast visualis elev profil rout follow r plot_slop plot_slopelisbon_route_xyz split network lisbon_route_xyz exampl use often want calcul slope entir rout case one km long segment variou way split segement includ use algorithm packag gi programshttpsgithubcompaleolimbotqgisprocessissu well use stplanr function rnet_breakup_vertic see vignetteroadnetworkcyclinghttpsropenscigithubioslopesarticlesroadnetworkcyclinghtml exampl function work larg road network r sfst_lengthlisbon_route_xyz check rout length km lisbon_route_seg stplanrrnet_breakup_verticeslisbon_route_xyz summarysfst_lengthlisbon_route_seg mean calcul slope segment r lisbon_route_segmentsslop slope_xyzlisbon_route_seg summarylisbon_route_segmentsslop direct slope rout direct implicit order vertic segment perspect someon travel along rout slope direct import easier go uphil downhil calcul slope direct add direct argument follow r lisbon_route_segmentsslope_direct slope_xyzlisbon_route_seg direct true summarylisbon_route_segmentsslope_direct plot direct undirect slope sidebysid show import consid slope direct rout plan may want avoid steep hill go uphil downhil certain type travel exampl r figshowhold outwidth break c breaks_proport break breaks_direct crevbreaks_proport breaks_proport plotlisbon_route_segmentsslop break breaks_proport plotlisbon_route_segmentsslope_direct break breaks_direct r evalfals echofals test code z sfst_make_gridlisbon_route_xyz cellsiz sampled_point sfst_line_samplelisbon_route_xyz n points_sf sfst_sfgeometri sfst_castsampled_point point plotpoints_sf lisbon_route_seg stplanrroute_splitlisbon_route_xyz p points_sf lisbon_route_seg stplanrrnet_breakup_verticeslisbon_route_xyz librarytmap tmap_modeview qtmlisbon_route_seg lineslwd linescol nrowlisbon_route_seg plotlisbon_route_seg col nrowlisbon_route_seg r evalfals echofals test tri use qgi remotesinstall_githubpaleolimbotqgisprocess libraryqgisprocess qgis_configur algorithm qgis_algorithm viewalgorithm result qgis_run_algorithm algorithm grassvsplit input lisbon_route_xyz length route_seg sfst_readresultoutput route_seg plotlisbon_route_xyzgeometri plotroute_segmentsgeom add lwd mapviewmapviewroute_seg use elevation_add without dem argument raster dataset repres elev automat download omit argument dem null step automat done function elevation_add shown basic exampl result subsequ code chunk shown r messagefals warningfals evalfals dem_mapbox elevation_getlisbon_rout lisbon_road_proj st_transformlisbon_rout rastercrsdem_mapbox lisbon_route_xyz_mapbox elevation_addlisbon_road_proj dem dem_mapbox plot_slopelisbon_route_xyz_mapbox outlin basic exampl done concis r evalfals lisbon_route_xyz_auto elevation_addlisbon_rout dem null r echofals lisbon_route_xyz_auto lisbon_route_xyz_mapbox r plot_slopelisbon_route_xyz_auto note elev shown plot differ sinc first base dem elev avail second base _mapbox_ elev commul elev chang follow exampl calcul elev rout leed plot commut sum along rout evalu r evalfals cyclestreets_xyz elevation_addcyclestreets_rout plot_slopecyclestreets_xyz plotcumsumcyclestreets_xyzdist cumsumcyclestreets_xyzelevation_chang see vignett slope packagehttpsropenscigithubioslopesindexhtml introduct slopeshttpsropenscigithubioslopesarticlesintrotoslopeshtml reproduc exampl gradient road network given cityhttpsropenscigithubioslopesarticlesroadnetworkcyclinghtml verif slopeshttpsropenscigithubioslopesarticlesverificationhtml benchmark slope calculationhttpsropenscigithubioslopesarticlesbenchmarkhtml titl benchmark slope calcul output rmarkdownhtml_vignett vignett vignetteindexentrybenchmark slope calcul vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment r setup libraryslop librarybench libraryrast perform benchmark reveal mani rout gradient calcul per second r resultshid e dem_lisbon_rast r lisbon_road_network et terrarast re benchmarkcheck fals slope_rast slope_rasterr e slope_terra slope_rasterr et r re approxim r roundresitrsec nrowr rout per second use raster terra default instal use rasterlay nativ spatrast object packag extract elev estim raster dataset respect messag use terra packag readin dem data slope extract speed import go faster chose simpl method gain speed expens accuraci r resultshid e dem_lisbon_rast r lisbon_road_network re benchmarkcheck fals bilinear slope_rasterr e bilinear slope_rasterr et simpl slope_rasterr e method simpl simpl slope_rasterr et method simpl r re r roundresitrsec nrowr titl exampl gradient road network given citi output rmarkdownhtml_vignett vignett vignetteindexentryexampl gradient road network given citi vignetteengineknitrrmarkdown vignetteencodingutf r includ fals knitropts_chunkset collaps true comment figwidth figheight figalign center eval fals exampl demand data provid slope packag map show gradient across são paulo brazil see imag simplist classif cycl difficulti use slope creat road network gradient cycl são paulo brazilhttpspbstwimgcommediaerjdrwmaihwmnformatjpgnamesmal vignett guid product interact slope map road network use slope osmextract sf stplanr tmap conveni sampl use isl wighthttpsenwikipediaorgwikiisle_of_wight case km see exampl follow three step download road network openstreetmaphttpswwwopenstreetmaporg prepar network comput slope export map html extract osm network geofabrik step may use osmextract packagehttpsropenscigithubioosmextractarticlesosmextracthtml download recent inform avail osm httpsdownloadgeofabrikdeindexhtml convert _geopackage_ gpkg equival _shapefile_ r setup warningfals messag fals librarydplyr librarysf remotesinstall_githubitsleedsosmextract libraryosmextract r get_iow warningfals messag fals get network iow_osm oe_getisl wight provid geofabrik stringsasfactor fals quiet fals force_download true force_vectortransl true mb filter major road iow_network iow_osm dplyrfilterhighway cprimari primary_link secondarysecondary_link tertiari tertiary_link trunk trunk_link residenti cycleway living_street unclassifi motorway motorway_link pedestrian step track remov servic clean road network option step give better result although may slow process sinc increas number segment present network filter unconnect segment rnet_grouphttpsdocsropensciorgstplanrreferencernet_grouphtml function stplanar packag assess connect segment assign group number similar cluster process may filter main group one connect segment r setup warningfals messag fals remotesinstall_githubropenscistplanr librarystplanr r filter filter unconnect road iow_networkgroup rnet_groupiow_network iow_network_clean iow_network filtergroup network connect segment break segment vertic long segment assign averag slope long segment broken node slope part segment one hand want segment break node hand dont want artifici node creat two line cross particular differ z level _eg_ brunel bridg tunnel rnet_breakup_verticeshttpsdocsropensciorgstplanrreferencernet_breakup_verticeshtml stplanr break segment inner vertic preserv brunel r break warningfals messag fals iow_network_seg rnet_breakup_verticesiow_network_clean case around x number segment origin network r roundnrowiow_network_segmentsnrowiow_network_cleanx segment origin network get slope valu segment case use slope_rast functionhttpsropenscigithubioslopesreferenceslope_rasterhtml retriev z valu digit elev model raster obtain strm nasa mission srtm shuttl radar topographi mission nasa mission provid freeli availablehttpsgisgeographycomsrtmshuttleradartopographymiss worldwid dem resolut vertic accuraci morehttpswwwjplnasagovsrtm resolut usa might better altern copernicu esa mission also provid freeli availablehttpslandcopernicuseuimageryinsitueudem dem europ resolut vertic accuraci morehttpslandcopernicuseuusercornerpublicationseudemflyerview depend larg road network use elevation_add functionhttpsropenscigithubioslopesreferenceelevation_addhtml requir valid mapbox api keyhttpsdocsmapboxcomapioverview r import_dem messagefals import plot dem u httpsgithubcomushiftdeclivesredeviariareleasesdownloadisleofwightnasa_cliptif f basenameu downloadfileurl u destfil f mode wb dem rasterrasterf resdem resolut network iow_network_seg libraryrast plotdem plotsfst_geometrynetwork add true check overlay requir data prepar estim road segment gradient r slopes_valu get slope valu segment ab use slope packag libraryslop librarygeodist networkslop slope_rasternetwork dem networkslop networkslop percentag summarynetworkslop check valu half road segment isl wight gradient r roundmediannetworkslop adopt simplist qualit classif cycl effort uphil compar number segment class r classifi classifi slope networkslope_class networkslop cut break c inf label c flat mild medium hard extrem imposs right f roundproptabletablenetworkslope_class mean r roundproptabletablenetworkslope_class road flat almost flat r roundproptabletablenetworkslope_classroundproptabletablenetworkslope_class road easili cyclabl mean road flat almost flat road easili cyclabl let us put inform map see herehttpsrpubscomrobinlovelac interact version r map messag fals evalfals use inform networklength st_lengthnetwork make interact map librarytmap palredgreen c ffaa e color palett tmap_modeview tmap_optionsbasemap leafletproviderscartodbpositron basemap slopemap tm_shapenetwork tm_line col slope_class palett palredgreen lwd line width titlecol slope popupvar chighway highway length length slope slope class slope_class popupformat listdigit id slope id name get memori consum delet line slopemap r export echotru evalfals export html tmap_saveslopemap htmlslopesiowhtml export inform geopackag st_writenetwork shapefilesslopesiowgpkg appendf result httpsuserimagesgithubusercontentcomfccaebcdcbaepng isl wight ukhttpwebtecnicoulisboaptrosamfelixgisdeclivesslopesiowhtml exampl são paulo brazilhttpswebtecnicoulisboaptrosamfelixgisdeclivesdeclivessaopaulohtml lisbon portugalhttpswebtecnicoulisboaptrosamfelixgisdeclivesdecliveslisboahtml oporto portugalhttpswebtecnicoulisboaptrosamfelixgisdeclivesdeclivesporto_euhtml leed ukhttpswebtecnicoulisboaptrosamfelixgisdeclivesslopesleedshtml zurich chhttpswebtecnicoulisboaptrosamfelixgisdeclivesslopeszurichhtml r tidyup includefals rmiow_osmiow_network_cleaniow_network_seg iow_network slopemap fileremovef remov file tidi titl introduct slope output rmarkdownhtml_vignett vignett vignetteindexentryan introduct slope vignetteengineknitrrmarkdown vignetteencodingutf bibliographi slopereferencesbib r includ fals knitropts_chunkset collaps true comment r setup libraryslop introduct although sever way name slope steep hilli inclin aspect gradient decliv refer slope packag defin longitudin gradient linear geograph entiti defin context river bycohen_global_ packag initi develop research road slope support evidencebas sustain transport polici account gradient plan new cycl infrastructur road space realloc walk cycl improv outcom exampl help identifi rout avoid steep hill packag use calcul visualis slope river trajectori repres movement road type publish open data arizalopez_dataset_ data slope use mani field research includ hydrologyhttpsenwikipediaorgwikistream_gradi natur hazard includ floodinghttpswwwhumanitarianresponseinfofroperationsafghanistaninfographicafgrivergradientandfloodhazard landslid risk managementhttpsassetspublishingservicegovukmediaadfbddfradd_colpdf recreat competit sport cyclinghttptheclimbingcyclistcomgradientsandcyclinganintroduct hikinghttpstrailismcomtrailgrad skiinghttpswwwsnowplazacoukblogskiingsteepswhatdoesgradientmeanskipist slope also also import branch transport emiss modellinghttpswwwsciencedirectcomsciencearticlepii ecologyhttpsdoiorgjncon grow number peopl work geospati data requir accur estim gradient includ transport plan practition requir accur estim roadway gradient estim energi consumpt safeti mode shift potenti hilli citi lisbon case studi citi use exampl document vehicl rout softwar develop need build system sensit go steep hill eg bicycl train larg truck activ travel plan logist emerg servic natur hazard research risk assessor requir estim linear gradient inform safeti mitig plan associ project hilli terrain aquat ecologist flood research other could benefit estim river gradient support model storm hydrograph like domain slope could use agricultur geolog civil engin exampl demand data provid packag map show gradient across sao paulo brazil see imag receiv like twitter gener convers httpstwittercomdanielguthstatu httpscamogithubusercontentcomabddaefbdbfabebbcbdadaffedefdfdfaddeffddaeddc width calcul slope common slope calcul method defin vertic differ final start point line height z z divid horizont length separ delta zl depend purpos applic might relev understand hilli estim traffic signhttpssinalnortecomwpcontentuploadsabjpg width measur rout hilli mani way measur hilli mean distanc weight hilli perhap common measur implement current lack thereof packag summaris mean distanc weight gradient perhap simplest wide applic measur mean gradient rout weight distanc segment implement default slope_rast function max gradient activ like cycl steep hill disproportion impact may use consid maximum gradient yet implement todo updat method max xth percentil gradient sinc maximum gradient give inform rest rout segment measur th percentil gradient could inform yet implement invert harmon mean use follow formula get index like arithmet mean make use full dataset weight toward higher gradient segment whether index formula shown help remain test yet implement hx distanceweightedharmonicmeanx segment rout cumul slope length segment rout also relev factor consider ok bike segment xx length ok bike four segment row like one xx length illustr bellow r cumulativeslop figcapillustr import slope length segment gradient singl segment gradient outwidth echofals knitrinclude_graphicsslopescommulativeslopepng account slope calcul method take distanceweight mean slope r x c c z c cbindx z sequential_distm lonlat fals slopesslope_distance_weightedd elev z slopesslope_distance_meand elev z slope estim result distanceweight mean lower simpl mean common steep slope tend short graphic represent scenario demonstr shown figur reffigweight show rel long flat final segment reduc slope half r weight figcapillustr exampl data demonstr distanceweight mean gradient use default slope packag plotx z ylim c type l gxi slope_matrixm lonlat fals ablineh lti pointsxlengthx gxi col blue titledist elev profil sub point show calcul gradient subsequ line refer gener roxygen edit hand pleas edit document rslopesr nameslope_vector aliasslope_vector aliasslope_dist aliasslope_distance_mean aliasslope_distance_weight titlecalcul gradient line segment distanc elev vector usag slope_vectorx elev slope_distanc elev slope_distance_meand elev direct fals slope_distance_weightedd elev direct fals argument itemxvector locat itemelevationselev unit x assum metr itemdvector distanc point itemdirectedshould valu direct codefals default codetru result neg repres downslop end point lower start point valu vector slope gradient associ linear element line consecut vertic associ linear featur return valu codeslope_distance_mean codeslope_distance_mean_weight summari statist linear element linestr output valu proport repres chang elev given chang horizont movement along linestr exampl repres low gradient repres steep gradient descript codeslope_vector calcul slope associ consecut element one dimension distanc associ elev see exampl codeslope_dist calcul slope associ consecut distanc elev codeslope_distance_mean calcul mean averag slope associ consecut distanc elev codeslope_distance_weight calcul slope associ consecut distanc elev mean valu associ set distanceelev vector weight proport distanc elev measur longer section proport influenc result gradient estim see exampl exampl x c elev c downward slope overal slope_vectorx elev librarysf st_coordinateslisbon_road_seg sequential_distm lonlat fals elev elevation_extractm dem_lisbon_rast slope_distanc elev slope_distance_meand elev slope_distance_meand elev direct true slope_distance_meanrevd revelev direct true slope_distance_weightedd elev slope_distance_weightedd elev direct true gener roxygen edit hand pleas edit document rslopesr nameslope_matrix aliasslope_matrix aliasslope_matrix_mean aliasslope_matrix_weight titlecalcul gradient line segment matrix coordin usag slope_matrixm elev lonlat true slope_matrix_meanm elev lonlat true direct fals slope_matrix_weightedm elev lonlat true direct fals argument itemmmatrix contain coordin elev matrix three column x z order typic correspond locat westeast southnorth vertic elev axe respect data geograph coordin z valu assum metr data project coordin z valu assum unit x coordin itemelevationselev unit x assum metr default valu codem mean z coordin matrix coordin itemlonlatar coordin lonlat geograph coordin true default itemdirectedshould valu direct codefals default codetru result neg repres downslop end point lower start point valu vector slope gradient associ linear element line consecut vertic associ linear featur return valu codeslope_matrix_mean codeslope_matrix_weight summari statist linear element linestr output valu proport repres chang elev given chang horizont movement along linestr exampl repres low gradient repres steep gradient descript calcul gradient line segment matrix coordin exampl x c c z c cbindx z slope_matrix_weightedm lonlat fals slope_matrix_weightedm lonlat fals direct true valu return chang elev slope_matrix_weightedmlonlat fals direct true elev c slope_matrix_meanm lonlat fals slope_matrix_meanm lonlat fals direct true plotx z ylim c type l gx slope_vectorx z gxi slope_matrixm lonlat fals ablineh lti pointsxlengthx gx col red pointsxlengthx gxi col blue titledist x coordin elev profil sub point show calcul gradient subsequ line gener roxygen edit hand pleas edit document rslope_getr nameelevation_get aliaselevation_get titleget elev data host maptil servic usag elevation_getrout output_format raster argument itemroutesrout gradient calcul object must class codesf codesfc codelinestr geometri itemopt pass codecc_elev itemoutput_formatwhat format return data accept coderast default codeterra valu raster object cell valu repres elev bound box input coderout object descript codeelevation_get use hrefhttpshypertidygithubioceramicreferencecc_locationhtmlcodecc_elev function codeceram packag get dem data raster format anywher worldwid requir api ad follow guidanc packag hrefhttpsgithubcomropenscislopesreadm hrefhttpsropenscigithubioslopesarticlesslopeshtmlcodeslop vignett detail note use codecc_elev function directli get dem data cach data describ packag hrefhttpsgithubcomhypertidyceramiclocalcachingoftilesreadm exampl timeconsum exampl requir internet connect api key donttest librarysf libraryrast rout cyclestreets_rout e elevation_getrout class crse e plote plotst_geometryrout add true gener roxygen edit hand pleas edit document rslopesr namesequential_dist aliassequential_dist titlecalcul sequenti distanc sequenti coordin pair usag sequential_distm lonlat true argument itemmmatrix contain coordin elev matrix three column x z order typic correspond locat westeast southnorth vertic elev axe respect data geograph coordin z valu assum metr data project coordin z valu assum unit x coordin itemlonlatar coordin lonlat geograph coordin true default valu vector distanc valu meter codelonlat true map unit input data codelonlat fals consecut vertic descript set codelonlat codefals project data eg coordin repres distanc meter degre lonlat coodin assum codelonlat true default exampl x c c cbindx sequential_distm lonlat fals nrowm lengthd gener roxygen edit hand pleas edit document rslopespackag doctypepackag nameslopespackag aliasslop aliasslopespackag titleslop calcul slope road river trajectori descript calcul slope also known steep gradient linear featur road river ski rout creat robin lovelac rosa félix develop packag support research activ travel prioritis invest cycl activ sensit slope particular see hrefhttpsgithubcomropenscislopesgithubcomitsleedsslop sourc code hrefhttpsropenscigithubioslopesropenscigithubioslop websit packag function found hrefhttpsropenscigithubioslopesreferenceindexhtmlrefer page packag websit seealso use link item item urlhttpsgithubcomropenscislop item urlhttpsdocsropensciorgslop item report bug urlhttpsgithubcomropenscislopesissu author strongmaintain robin lovelac emailrobxgmailcom hrefhttpsorcidorgorcid author item item rosa félix emailrosamfelixtecnicoulisboapt hrefhttpsorcidorgorcid item joey talbot emailjdtalbotleedsacuk hrefhttpsorcidorgorcid contributor item item dan olner dan review packag ropensci see httpsgithubcomropenscisoftwarereviewissuesissuecom review item andi teucher andi review packag ropensci see httpsgithubcomropenscisoftwarereviewissuesissuecom review keywordintern gener roxygen edit hand pleas edit document rslopesr nameslope_rast aliasslope_rast titlecalcul gradient line segment raster dataset usag slope_rast rout dem lonlat sfst_is_longlatrout method bilinear fun slope_matrix_weight terra has_terra methodsisdem spatrast direct fals argument itemroutesrout gradient calcul object must class codesf codesfc codelinestr geometri itemdemrast overlap coderout valu repres elev itemlonlatar rout provid longitudelatitud coordin default valu cr rout codesfst_is_longlatrout itemmethodth method estim elev point pass codeextract function extract valu raster dataset default codebilinear itemfunth slope function calcul per rout codeslope_matrix_weight default itemterrashould codeterra packag use codetru default packag instal emphand codedem class codespatrast itemdirectedshould valu direct codefals default codetru result neg repres downslop end point lower start point valu vector slope equal length number simpl featur row repres linestr input object descript function take codesf repres rout geograph space raster dataset repres terrain input return averag gradient rout featur detail calcul slope associ osm data result may better network first splitup eg use function codestplanrrnet_breakup_vertic hrefhttpsdocsropensciorgstplanrreferencecodestplanr packag strongnot coderout object must geometri type codelinestr codesfst_cast function convert codemultilinestr geometri codelinestr follow coder_linestr sfst_castrout linestr exampl librarysf rout lisbon_road_network dem dem_lisbon_rast slope_rasterrout dem corroutesavg_slop slope_rasterrout dem direct true demonstr revers rout opposit direct slope slope_rasterst_reverserout dem direct true gener roxygen edit hand pleas edit document rdatar doctypedata namelisbon_road_seg aliaslisbon_road_seg aliaslisbon_road_segment_d aliaslisbon_road_segment_xyz_mapbox titlea road segment lisbon portug format object class codesf sourc produc esri hrefhttpproarcgiscomenproapplatesthelpanalysisd analyst extens usag lisbon_road_seg descript singl road segment version differ version dataset provid detail codelisbon_road_seg column row codelisbon_road_segment_xyz_mapbox creat codelisbon_road_segment_xyz_mapbox elevation_addlisbon_road_seg exampl lisbon_road_seg lisbon_road_segment_d lisbon_road_segment_xyz_mapbox keyworddataset gener roxygen edit hand pleas edit document rslopesr nameelevation_add aliaselevation_add titletak linestr add third z dimens coordin usag elevation_add rout dem null method bilinear terra has_terra methodsisdem spatrast argument itemroutesrout gradient calcul object must class codesf codesfc codelinestr geometri itemdemrast overlap coderout valu repres elev itemmethodth method estim elev point pass codeextract function extract valu raster dataset default codebilinear itemterrashould codeterra packag use codetru default packag instal emphand codedem class codespatrast valu sf object ident input coderout except coordin valu ouput third codez dimens repres elev vertex defin linear featur road descript take linestr add third z dimens coordin exampl librarysf rout lisbon_road_network dem dem_lisbon_rast rd elevation_addrout dem librarysf st_z_rangerout st_z_rangerd plotst_coordinatesrd plot_sloperd donttest get elev data requir internet connect api key rd_get elevation_addcyclestreets_rout plot_sloperd_get gener roxygen edit hand pleas edit document rdatar doctypedata namemagnolia_xi aliasmagnolia_xi titleroad segment magnolia seattl format object class codesf sourc access earli codeseattlestreet layer hrefhttpsdataseattlecitygisopendataarcgiscomdataseattlecitygi websit usag magnolia_xi descript dataset repres road segment magnolia area seattl x z elev dimens coordin exampl namesmagnolia_xi plotmagnolia_xyslope_pct keyworddataset gener roxygen edit hand pleas edit document rslopesr nameslope_xyz aliasslope_xyz titleextract slope xyz data frame sf object usag slope_xyz route_xyz fun slope_matrix_weight lonlat true direct fals argument itemroute_xyzan codesf codesfc object codexyz coordin dimens itemfunth slope function calcul per rout codeslope_matrix_weight default itemlonlatar coordin lonlat order true default itemdirectedshould valu direct codefals default codetru result neg repres downslop end point lower start point valu vector slope equal length number simpl featur row repres linestr input object descript function take sf object xyz coordin return vector numer valu repres averag slope linestr sf data frame input detail default function calcul mean slope codeslope_matrix_weight also use codeslope_matrix_mean packag function take input function packag exampl route_xyz lisbon_road_segment_d slope_xyzroute_xyz lonlat fals slope_xyzroute_xyzgeom lonlat fals slope_xyzroute_xyz lonlat fals direct true slope_xyzroute_xyz lonlat fals fun slope_matrix_mean gener roxygen edit hand pleas edit document rzr namez_valu aliasz_valu aliasz_start aliasz_end aliasz_mean aliasz_max aliasz_min aliasz_elevation_change_start_end aliasz_direct aliasz_cumulative_differ titlecalcul summari valu z elev attribut usag z_valuex z_startx z_endx z_meanx z_maxx z_minx z_elevation_change_start_endx z_directionx z_cumulative_differencex argument itemxan codesfc object xyz coordin valu vector valu repres elev associ simpl featur geometri elev xyz coordin descript verbslope_z function calcul summari valu z axi codesfc object codexyz geometri exampl x slopeslisbon_route_d x z_valuex xy slopeslisbon_rout tryz_valuexi error messag z_startx z_endx z_directionx z_elevation_change_start_endx z_directionx z_cumulative_differencex gener roxygen edit hand pleas edit document rplot_slop nameplot_dz aliasplot_dz titleplot digit elev profil base xyz data usag plot_dz z fill true horiz fals pal colorspacediverging_hcl legend_posit top col black cex bg grdevicesrgb titl slope color percentag gradient brk null seq_brk null ncol argument itemdcumul distanc itemzelev point across linestr itemfillshould profil fill codetru default itemhorizshould legend horizont codefals default itempalcolor palett use codecolorspacediverging_hcl default itemaddit paramet pass legend itemlegend_positionth legend posit one bottomright bottom bottomleft left topleft top default topright right center itemcollin colour black default itemcexlegend size default itembglegend background colour codegrdevicesrgb default itemtitletitl legend codenul default itembrksbreak colour palett show codec default itemseq_brkssequ break show legend includ neg number omit zero default itemncolnumb column legend default valu plot show elev profil associ linestr descript plot digit elev profil base xyz data exampl librarysf route_xyz lisbon_road_segment_d st_coordinatesroute_xyz cumsumsequential_distm lonlat fals c z slopesplot_dzd z brk c gener roxygen edit hand pleas edit document rdatar doctypedata namelisbon_rout aliaslisbon_rout aliaslisbon_route_d aliaslisbon_route_xyz_mapbox titlea rout compos singl linestr lisbon portug format object class codesf sourc see codelisbon_rout script codedataraw usag lisbon_rout descript rout repres trip santa catarina area east central lisbon map castelo de são jorg west central lisbon detail differ version dataset provid codelisbon_rout object row column geometri id length whether path found codelisbon_route_xyz_mapbox creat codelisbon_route_xyz_mapbox elevation_addlisbon_rout exampl lisbon_rout lisbon_route_d lisbon_route_xyz_mapbox keyworddataset gener roxygen edit hand pleas edit document rdatar doctypedata namedem_lisbon_rast aliasdem_lisbon_rast titleelev central lisbon portug format raster dataset contain elev sea level km bound box lisbon portug sourc urlhttpsgithubcomrspatialterraissu usag dem_lisbon_rast descript dataset contain elev around lisbon geograph resolut dataset pixel wide pixel high cover squar kilometr central lisbon detail dataset acquir instituto superior técnico univers lisbon cover northern metropolitan area lisbon cell resolut project offici portugues epsg tmetr dataset releas open access dataset permiss univers lisbon support project exampl librarysf libraryrast dimdem_lisbon_rast resdem_lisbon_rast namesdem_lisbon_rast plotdem_lisbon_rast plotlisbon_road_networkavg_slop add true keyworddataset gener roxygen edit hand pleas edit document rslopesr nameelevation_extract aliaselevation_extract titleextract elev coordin usag elevation_extract dem method bilinear terra has_terra methodsisdem spatrast argument itemmmatrix contain coordin elev sf object repres linear featur itemdemrast overlap coderout valu repres elev itemmethodth method estim elev point pass codeextract function extract valu raster dataset default codebilinear itemterrashould codeterra packag use codetru default packag instal emphand codedem class codespatrast valu vector elev valu descript function take seri point locat geograph space digit elev model input return vector elev estim associ point function take locat repres matrix xy longitud latitud coordin digit elev model dem class coderast codeterra return vector valu repres estim elev associ point detail default elev estim use hrefhttpsenwikipediaorgwikibilinear_interpolationbilinear interpol codemethod bilinear calcul point height base proxim centroid surround cell valu codemethod argument pass codemethod argument hrefhttpsrspatialgithubiorasterreferenceextracthtmlcoderasterextract hrefhttpsrspatialgithubioterrareferenceextracthtmlcodeterraextract depend class input raster dataset see kidner et al descript altern elev interpol extrapol algorithm exampl dem dem_lisbon_rast elevation_extractlisbon_road_network dem sfst_coordinateslisbon_road_network elevation_extractm dem elevation_extractm dem method simpl test terra requir internet connect donttest ifslopeshas_terra et terrarastdem_lisbon_rast elevation_extractm et refer kidner david mark dorey derek smith what point interpol extrapol regular grid dem fourth intern confer geocomput fredericksburg va usa gener roxygen edit hand pleas edit document rplot_slop nameplot_slop aliasplot_slop titleplot slope data linestr base r graphic usag plot_slop route_xyz lonlat sfst_is_longlatroute_xyz fill true horiz fals pal colorspacediverging_hcl legend_posit top col black cex bg grdevicesrgb titl slope color percentag gradient brk c seq_brk seqfrom lengthbrk ncol argument itemroute_xyzan sf linestr x z coordin repres rout linear object itemlonlatar rout provid longitudelatitud coordin default valu cr rout codesfst_is_longlatrout itemfillshould profil fill codetru default itemhorizshould legend horizont codefals default itempalcolor palett use codecolorspacediverging_hcl default itemlegend_positionth legend posit one bottomright bottom bottomleft left topleft top default topright right center itemcollin colour black default itemcexlegend size default itembglegend background colour codegrdevicesrgb default itemtitletitl legend codenul default itembrksbreak colour palett show codec default itemseq_brkssequ break show legend includ neg number omit zero default itemncolnumb column legend default itemaddit paramet pass legend valu plot show elev profil associ linestr descript plot slope data linestr base r graphic exampl plot_slopelisbon_route_d route_xyz lisbon_road_segment_d plot_sloperoute_xyz plot_sloperoute_xyz brk c plot_sloperoute_xyz gener roxygen edit hand pleas edit document rdatar doctypedata namecyclestreets_rout aliascyclestreets_rout titlea journey cyclestreetsnet format object class codesf row column rout characterist see httpsrpackagecyclestreetsnetreferencejourneyhtml detail sourc cyclestreetsnet usag cyclestreets_rout descript road segment repres suggest rout cycl leed uk detail simpl featur collect featur field see codedatarawcyclestreets_rout packag github repo detail exampl librarysf classcyclestreets_rout plotcyclestreets_routegeometri cyclestreets_rout keyworddataset gener roxygen edit hand pleas edit document rdatar doctypedata namelisbon_road_network aliaslisbon_road_network titleroad segment lisbon format object class codesf key variabl includ describ itemobjectidid object itemz_minth minimum elev linear featur arcmap itemz_maxth max elev linear featur arcmap itemz_meanth mean elev linear featur arcmap itemslope_minth minimum slope linear featur arcmap itemslope_maxth max slope linear featur arcmap itemslope_meanth mean slope linear featur arcmap itemgeomth geometri defin linestr compon segment sourc produc esri hrefhttpproarcgiscomenproapplatesthelpanalysisd analyst extens usag lisbon_road_network descript dataset repres road segment lisbon x z elev dimens coordin detail dataset cover km road central lisbon overlap area cover codedem_lisbon_rast dataset exampl librarysf nameslisbon_road_network sumst_lengthlisbon_road_network plotlisbon_road_networkavg_slop keyworddataset