contributor code conduct contributor maintain project pledg respect peopl contribut report issu post featur request updat document submit pull request patch activ commit make particip project harassmentfre experi everyon regardless level experi gender gender ident express sexual orient disabl person appear bodi size race ethnic age religion exampl unaccept behavior particip includ use sexual languag imageri derogatori comment person attack troll public privat harass insult unprofession conduct project maintain right respons remov edit reject comment commit code wiki edit issu contribut align code conduct project maintain follow code conduct may remov project team instanc abus harass otherwis unaccept behavior may report open issu contact one project maintain code conduct adapt contributor coven httpcontributorcovenantorg version avail httpcontributorcovenantorgvers readmemd gener readmermd pleas edit file stplanr hrefhttpsdocsropensciorgstplanrimg srcmanfigureslogopng alignright heighta build statushttpstravisciorgropenscistplanrsvgbranchmasterhttpstravisciorgropenscistplanr rstudio mirror downloadshttpscranlogsrpkgorgbadgesstplanrhttpsgithubcomrhubcranlogsapp httpscranlogsrpkgorgbadgesgrandtotalstplanrhttpscranrprojectorgpackagestplanr cran_status_badgehttpswwwrpkgorgbadgesversionstplanrhttpscranrprojectorgpackagestplanr lifecyclehttpsimgshieldsiobadgelifecyclematuringbluesvghttpslifecyclerliborgarticlesstageshtml httpsbadgesropensciorg_statussvghttpsgithubcomropenscisoftwarereviewissu rcmdcheckhttpsgithubcomropenscistplanrworkflowsrcmdcheckbadgesvghttpsgithubcomropenscistplanract stplanr packag sustain transport plan r provid function solv common problem transport plan model best get point point b overal aim provid reproduc transpar access toolkit help peopl better understand transport system inform polici outlin paperhttpsjournalrprojectorgarchiverjindexhtml packag potenti open sourc softwar transport plan gener publish r journalhttpsjournalrprojectorg initi work project fund depart transport dfthttpswwwgovukgovernmentorganisationsdepartmentfortransport part develop propens cycl tool pct web applic explor current travel pattern cycl potenti zone desir line rout rout network level see wwwpctbikehttpswwwpctbik click region tri basi method underli pct origindestin data use highlight mani short distanc trip made estim mani could switch cycl result help identifi cycleway need import compon sustain transport plan infrastructur engin polici designhttpswwwicevirtuallibrarycomdoiabsdfct see packag vignett eg via vignetteintroducingstplanr academ paper propens cycl tool pcthttpsdxdoiorgjtlu inform use readm provid basic much work support research undertaken leed institut transport studi itshttpsenvironmentleedsacuktransport stplanr use transport research practition need free open reproduc method work geograph data everywher key function data frame repres flow origin destin must combin georeferenc zone point gener meaning analys visualis flow origindestin od data stplanr facilit odlin take flow geograph data input output spatial data exampl data provid packag r librarystplanr let take look data r od_data_sampl typic form flow data tibbl x geo_cod geo_cod chr chr dbl e e e e e e cents_sf point repres origin destin geo_cod msoanm percent_fem avslop geometri e leed e leed e leed dataset combin follow r travel_network odlineflow od_data_sampl zone cents_sf w flowal maxflowal plottravel_network lwd w img srcmanfiguresreadmeplotpng width stplanr mani function work od data see stplanrodhttpsdocsropensciorgstplanrarticlesstplanrodhtml vignett detail packag also alloc flow road network eg cyclestreetsnethttpswwwcyclestreetsnetapi openstreetmap rout machin osrmhttpsgithubcomprojectosrmosrmbackend api interfac support route_ function route_cyclestreet route_osrm rout done use rang backend use latlon desir line input rout function illustr follow command calcul rout fleet street southwark street river thame blackfriar bridg london r libraryosrm data c openstreetmap contributor odbl httpwwwopenstreetmaporgcopyright rout osrm httpprojectosrmorg trip rout c c route_fun osrmrout returnclass sf common output sf mapviewmapviewtrip img srcmanfiguresreadmeunnamedchunkpng width also use place name found use googl map api r trip rout leed bradford route_fun osrmrout returnclass sf common output sf mapviewmapviewtrip img srcmanfiguresreadmeunnamedchunkpng width replic call multipl time l argument rout r desire_lin travel_network next well calcul rout r rout rout l desire_lin route_fun osrmrout returnclass sf mapviewmapviewrout mapviewmapviewdesire_lin color red img srcmanfiguresreadmeplotpng width result rout look someth like exampl examplerout overlin take seri routealloc line split uniqu segment aggreg valu overlap line repres traffic transport system demonstr follow code chunk r routesfoot desire_linesfoot rnet overlinerout attrib foot construct segment build geometri simplifi geometri aggreg flow rejoin segment linestr result rout network segment total calcul overlap part rout walk visualis follow r plotrnetfoot lwd rnetfoot img srcmanfiguresreadmeunnamedchunkpng width plot repres number walk trip made flow along particular segment transport network result shown polici applic exampl shown base tini demonstr dataset may seem particularli revolutionari citi scale howev type analysi use inform sustain transport polici describ paper describ propens cycl toolhttpswwwjtluorgindexphpjtluarticleview pct applic calcul cycl school potentialhttpswwwsciencedirectcomsciencearticlepii across england result gener stplanr part nation govern polici pct recommend tool local region author develop strateg cycl network cycl walk infrastructur strategi cwishttpswwwgovukgovernmentpublicationscyclingandwalkinginvestmentstrategi part infrastructur act httpswwwlegislationgovukukpgacontentsenact stplanr help dozen local author across uk answer question prioritis invest cycl essenc stplanr design support sustain transport polici mani research polici question function stplanr open sourc softwar librari packag help answer time climat health social crise import technolog sustain eg enabl open sourc commun licens contribut sustain futur instal instal stabl version use r installpackagesstplanr develop version instal use devtool r installpackagesdevtool alreadi instal devtoolsinstall_githubropenscistplanr librarystplanr stplanr depend rgdal tricki instal instal stplanr linux mac stplanr depend sf instal instruct mac ubuntu linux distro found httpsgithubcomrspatialsfinstal function help contribut current list avail function seen packag websit docsropensciorgstplanrhttpsdocsropensciorgstplanr follow command r lsfstrpackagestplanr true get intern help specif function use standard way r odlin contribut report bug request featur see issu trackerhttpsgithubcomropenscistplanrissu resourc tutori want learn use open sourc softwar reproduc sustain transport plan work great time learn transport plan rel new field applic r howev alreadi good resourc topic includ suggest welcom transport chapter geocomput r provid broad introduct geograph data perspect httpsgeocomprrobinlovelacenettransporthtml stplanr paper describ context packag develop httpsjournalrprojectorgarchiverjindexhtml pleas cite use stplanr work dodgr vignett provid introduct rout r httpsatfuturesgithubiododgr meta pleas report issu featur request question github issu trackerhttpsgithubcomropenscistplanrissu licens mit get citat inform stplanr r citationpackag stplanr project releas contributor code conducthttpsgithubcomropenscistplanrblobmasterconductmd particip project agre abid term rofooterhttpsropensciorgpublic_imagesgithub_footerpnghttpsropensciorg stplanr novemb rout check cr give appropri warn project packag suggest igraph rather depend make easier instal stplanr longer suggest stat packag stplanr longer suggest bench packag test pass internet unavail stplanr output line_via correct cr calc_catch deprec gener warn minor fix improv packag document stplanr bug fix relat rout function silent fail pbappli instal packag promot suggest import stplanr thank styler packag code stplanr adher consist style use arrow assign despit maintain default equal assign mani introduc accident new function rnet_group group rout network element overlin convert multilinestr geometri linestr automat rout network use sum_network_rout return linestr rout start end ie travel rout use route_loc fix l argument work new route_osrm function rnet_breakup_vertic way faster thank andrea gilardi other rnet_group gener function work sfnetwork object route_osrm provid easi access multimod rout bug rout function calcul bbox attribut fix stplanr new function line_breakup breaksup line minor document fix includ stplanr support sf object toptail_buff updat exampl test readm enabl test pass legaci version proj reduc vulner upcom upstream chang stplanr tweak document exampl cran test stplanr issu linepoint setup fix old mapshap line_match gclip function deprec maintain altern found packag sp object updat latest version sp sf object updat support recent cr encod deprec function includ od_aggreg onewayid gtfssldf od_radi remov stplanr new featur new interfac googl direct api via mapsapi packag new quiet argument overlin make less chatti stplanr bug fix rout fail datat instal stplanr bug fix bug spatiallinesnetwork fix thank andrea gilardi updat document find shortest path check start end argument short path calcul numer dodgr remov suggest back cran updat dplyr code prevent warn use dev version new featur improv rout allow save list raw output use datat faster perform avail fleet new route_rolling_ function ad route_rolling_gradi calcul roll gradient elev distanc data segment level route_rolling_averag calcul roll averag valu route_rolling_diff calcul roll differ valu next geo_toptail function sf implement new cl argument rout parallel rout new updat dataset repres od_data_sampl differ way od_data_lin od_data_rout route_graphhopp deprec old function use legaci sp dplyr code sp_aggreg od_aggreg deprec new workinprogress route_slop function stplanr bug fix document fix bug affect rout function call pbappli instal fix oneway deprec favour faster easiertomaintain function od_oneway also see indevelop od packag variou chang made accomod dev version dplyr stplanr chang compat r stplanr route_graphhopp work local graphhopp instanc see httpsgithubcomropenscistplanrpul old linerout function work rout function return sf object new rout function resili provid progress bar pbappli packag instal return result even rout fail tell rout fail packag fewer depend readr openxlsx lubrid remov deprec function buff_geo remov bug fix destin work argument linerout overlin accept sf object regardless name geometri column linepoint work sfc object stplanr new featur better error messag odlin fail due nonmatch id improv document odlin vignett httpsdocsropensciorgstplanrarticlesstplanrodhtmlnonmatchingid stplanr new featur famili new function includ route_split rnet_add_nod sln_add_nod ad new node rout rout network sfnetwork object close httpsgithubcomropenscistplanrissu updat vignett rout network solv httpsgithubcomropenscistplanrissu found httpsdocsropensciorgstplanrarticlesstplanrroutenetshtml fixhttpsgithubcomropenscistplanrcommitfbaaddafecceffc linepoint line_to_point function remov favour linepoint new function sln_clean_graph remov unconnect element sfnetwork object credit andrea gilardi see new function rnet_breakup_vertic linevertic break linestr repres rout network smaller segment prepar rout see function address pr detail bug fix bug route_dodgr associ exampl fix annoy messag print load remov andrea gilardi ad author deprec function relat road crash stat data remov stplanr stplanr logo see httpsgithubcomropenscistplanrissu line_to_point depreci favour odlin latter function name consist packag function linepointsn work sf object document fix see httpsgithubcomropenscistplanrissu variou improv made stplanrod vignett thank edward leigh url updat link stplanr new offici websit httpsdocsropensciorgstplanr stplanr new featur new function od_to_odmatrix odmatrix_to_od convert matrix form origindestin data new function od_oneway replac onewayid work better twice fast new od_id function provid rang way convert origindestin pair id singl id see stackoverflowhttpsstackoverflowcomquestionshowtoidentifyduplicatedorderedpairseffici issu trackerhttpsgithubcomropenscistplanrissu new vignett stplanrodhttpsdocsropensciorgstplanrarticlesstplanrodhtml provid detail document packag od data handl capabl stplanr fix document see httpsgithubcomropenscistplanrissu stplanr new featur new function od_aggregate_from od_aggregate_to provid easi way aggreg origindestin pair see httpsgithubcomropenscistplanrpul updat overlin faster better document updat route_dodgr function provid interfac dodgrhttpsgithubcomatfuturesdodgr packag accept wider rang input better websit updat function list see httpsropenscigithubiostplanrindexhtml sf method overlin updat call much faster overlin function updat document route_loc bug fix bug sum_network_rout fix see httpsgithubcomropenscistplanrissu stplanr new featur stplanr paper publish see httpsjournalrprojectorgarchiverjindexhtml stat function dl_stat depreci splitout new packag statshttpsgithubcomropenscistat route_dodgr implement new function overlin ad thank malcolm morgan faster overlin substanti refactor oper begun result fewer line code od function new stplanrod_coordslin function support sf route_dodgr ad new exampl dataset osm_net_exampl ad local rout purpos citat packag ad tri citationstplanr packag shini new websit thank maell httpsropenscigithubiostplanr packag loos import depend rgdal demot suggest bug fix issu route_graphhopp fix see httpsgithubcomropenscistplanrpul stplanr new featur variou chang support dplyr httpsgithubcomropenscistplanrpul bug fix fix httpsgithubcomropenscistplanrissu remov byvar argument overlin prepar overdu overhaul overlin function longer suggest tmap reduc instal time installpackag instal suggest packag default stplanr new featur new function route_loc new argument linerout time_sleep wait period rout request bug fix issu dl_stat see httpsgithubcomropenscistplanrissu make style consist see commithttpsgithubcomropenscistplanrcommitccffdfebbdababb variou small fix document style stplanr new featur new function line_via identifi intermediari point transport network bug fix bug associ spatiallinesnetwork fix see httpsgithubcomropenscistplanrissu stplanr new featur new function geo_length return numer vector line length sp sf object document route_graphhopp longer mention depreci bike profil see httpsgithubcomropenscistplanrissu route_osrm mention public api rout car see httpsgithubcomropenscistplanrissu updat introducingstplanr vignett show new function make robust stplanr new featur stplanr import lwgeom need sfst_length use spatiallinesnetwork plot behaviour updat sfnetwork object plot geometri default improv document spatiallinesnetwork plot spatial network bug fix bug sum_network_rout fix see httpsgithubcomropenscistplanrissu stplanr new featur releas sp demot depend import mean function attach namespac load run librarystplanr make less tie sp continu work support sf make easier packag work altern represent geograph data bug fix bug geo_select_aeqsf fix jakub nowosad pull httpsgithubcomropenscistplanrpul issu od_aggregatesf fix make much faster stplanr new featur largest releas sinc packag creat dozen chang support simpl featur see httpsgithubcomropenscistplanrpul detail support sf packag support new spatial class system function new function geo_bb superced bbpoli new function return polygon point matrix object determin output argument also allow bound box extend metr scale x dimens geo_cod use nominatim default find locat map new function od_coord take wide rang input data type return consist output repres od data data frame origin destin coordin use behind scene make function modular work progress plan next releas new gener rout function rout flexibl userfriendli exist linerout route_ function enhanc updat function name make use stplanr easier intuit stplanr new featur depend cull remov depend foreach doparallel route_cyclestreet also call correctli route_cyclestreet new geo_cod function replac depend rgooglemap bug fix see issu close last releas search term httpsgithubcomropenscistplanrissuesutfecqisaissuecloseda bug google_dist fix fix fail due break chang dplyr stplanr new featur new argument combin ad sum_network_rout run quicker see pullhttpsgithubcomropenscistplanrpul new exampl ad sum_network_rout weightfield find_network_nod see eg examplesum_network_rout detail new dataset l_poli addedhttpsgithubcomropenscistplanrcommitfbdedecfafea stplanr websit see ropenscigithubiostplanrhttpsropenscigithubiostplanr bug fix seriou bug spatiallinesnetwork fixedhttpsgithubcomropenscistplanrpul depreci _each dplyr function replac equival _at _all function stplanr new featur new vignett see vignettesstplanrpaperrmdhttpsgithubcomropenscistplanrblobmastervignettesstplanrpaperrmd vignettestplanrpap detail origin introducingstplanrhttpsgithubcomropenscistplanrblobmastervignettesstplanrrmd vignett updat provid basic introduct peopl new r spatial transport data linerout refactor improv error detect allow n_process argument thank nikolaib see pullhttpsgithubcomropenscistplanrpul detail line_match function ad wrapper around rgeosgdist find similar rout rcurl datat depend removedhttpsgithubcomropenscistplanrpul leaflet demot import suggest reduc instal time new function od_aggreg sp_aggreg addedhttpsgithubcomropenscistplanrpul enabl od data aggreg new geograph level bug fix fix viarout work httpsgithubcomropenscistplanrissu fix bidirect true return differ result line_bear futur plan new branch use sf testedhttpsgithubcomropenscistplanrpul may eventu transit use simpl featur class instead sp class stplanr new featur onewayid gener function mean handl spatial nonspati data new argument provid linerout allow specifi variabl joinbi also updat sensibl default new function od_id_ord put origindestin id order identifi way duplic split onewayid bug fix see issu trackerhttpsgithubcomropenscistplanrissuesqisaissueisaclos bug route_cyclestreet lead change_elev av_inclin wrong fix bug make variabl name space id column fail fix httpsgithubcomropenscistplanrissu stplanr new featur new argument destin ad odlin see exampleodlin exampl new dataset destin show od matrix destin convert spatial data new argument list_output allow rout inform save list allow save_raw true return spatial object pass route_ function tmap depend remov faster instal bug fix bug linerout fix variou improv document stplanr new featur new function reproject simpl wrapper around sptransform use crs_select_aeq convert spatial object geograph latlon coordin project coordin unit use variou spatial oper find length area object implement gproject function perform gi oper temporari project version spatial object addit line_bear return bear line base start end point addit angle_diff find angular differ line roughli parallel perpendicular bug fix linedf work line multipl vertic faster fix exampl use illustr od_dist work stplanr new featur updat osrm function support api v new paramet byvar overlin function allow disaggreg result group variabl see exampleoverlin faster implement odlin odlin plan replac origin issu found new implement new function ododf convert od data datafram origin destin feed odlin also use selfstand function new argument new_proj buff_geo allow result export coordin refer system cr new function gproject generalis concept buff_geo build crs_select_aeq allow gi queri conduct temporari project version spatial object geograph crss new function od_dist quickli calcul euclidean distanc od pair without convert spatial object bug fix bug fix onewayid captur line variou improv document code stplanr new featur interfac googl distanc matrix api dist_googl new transport plan api ad route_transportapi_publ test updat linerout allow accept differ rout funtion via new argument route_fun test test route_fun route_cyclestreet new function creat origindestin data frame pointodf spatiallinesdatafram pointsflow addit n_vertic is_linepoint identifi number vertic spatial object whether line realli point bug fix linerout refactor fold speed increas larg batch line stplanr new featur addit new class definit spatiallinesnetwork method plot summari function calc_network_rout find_network_nod allow fast rout calcul via igraph network analysi function function remov begin end line toptail toptailg helper function buff_geo crs_select_aeq linepoint ad function read uk stat data read_stats_ function download unzip recategoris data read_tabl function ad read australian od data decode_gl ad decod googl polylin function queri read data osrm servic gtfssldf ad import gtf rout spatiallinesdatafram stplanr publish cran updat reduc depend igraph seem binari version stplanr build success see httpsgithubcomropenscistplanrissu detail test environ local r instal r variou oss github action r winbuild devel httpswinbuilderrprojectorgdliea r cmd check result error warn note new releas leafletprovid extens leaflethttpsleafletjscom contain configur variou freesupwhatisfreesup tile provid usag leafletprovid providersprovid refer providervariantstr let say want add nice watercolorhttpsmapsstamencomwatercolor style stamen map pass stamenwatercolor ltilelayerproviderconstructor return ltilelayerhttpsleafletjscomreferencehtmltilelay instanc stamen watercolor tile layer javascript add stamen watercolor map ltilelayerproviderstamenwatercoloraddtomap protocol rel httpsurl leafletprovid tri use http page use http provid support forc use http pass force_http true option argument retina tile provid retina tile url need slightli adjust eg xpng add retina option url eg retinapng set retina valu option eg retina x leaflet detect retina screen lbrowserretina retina option pass tilelay set valu suppli otherwis replac empti string provid leafletprovid provid tile layer differ provid includ openstreetmap stamen esri openweathermap full list free use layer previewedhttpsleafletextrasgithubioleafletproviderspreviewindexhtml page show name use leafletprovidersj code use without depend provid requir registr addit provid freeb idwhatisfreeb use support layer requir registr formerli nokia order use layer must registerhttpsdeveloperherecom regist creat app_id app_cod pass ltilelayerprovid option javascript ltilelayerproviderhereterrainday app_id insert id app_cod insert id addtomap avail layershttpsleafletextrasgithubioleafletproviderspreviewfilterher mapbox order use mapbox map must registerhttpstilesmapboxcomsignup get map id access_token mapbox projectshttpswwwmapboxcomproject javascript ltilelayerprovidermapbox id id accesstoken access_tokenaddtomap esriarcgi order use arcgi map must registerhttpsdevelopersarcgiscomensignup abid term servicehttpsdevelopersarcgiscomenterm special syntax requir avail esri layershttpsleafletextrasgithubioleafletproviderspreviewfilteresri attribut work inspir httpsgistgithubcom origin creat stefan seelmannhttpsgithubcomseelmann mean free b idwhatisfreeb tri maintain leafletprovid way youll abl use layer includ without pay money doesnt mean limit appli alway check use layer anyth seriou want add layer yay go add leafletprovidersj long follow follow rule dont violat provid to exist includ link dont prepopul api key work key basic tile sourc exter librari etc owner hasnt ask us remov hasnt happen yet