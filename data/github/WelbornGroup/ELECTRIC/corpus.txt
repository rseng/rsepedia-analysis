titl electr electr field leverag multipol expans calcul tinker rapid interfac code tag tinker molecular dynam polariz forc field electr field author name jessica nash orcid affili name taylor barn orcid affili name valeri vaissier welborncorrespond author orcid affili affili name molecular scienc softwar institut pratt drive suit blacksburg va index name depart chemistri davidson hall virginia tech drillfield drive blacksburg va index date juli bibliographi paperbib summari polariz forc field chang landscap biomolecular simul mostli featur improv electrostat potenti energi term doiannurevbiophi novel energi function allow environmentdriven chang charg distribut yield simul improv geometri molecular properti particular amoeba polariz forc field exhibit two fundament chang compar tradit fix charg forc field doict doiacsjctcb first one relat perman electrostat express amoeba term atom multipol truncat quadrupol account anisotropi comput charg distribut second one repres polariz induc dipol term respond chemic environ modifi term make amoeba forc field physic ground forc field basi realist simul biomolecular system improv electrostat amoeba give uniqu opportun accur comput electr field power metric catalyt activ enzym system doijacsb doiacscatalb natcat electr field project onto specif bond report effect surround interact via coulomb interact solvent effect hydrogen bond forc mostli electrostat natur flow electron along bond therefor project electr field correl probabl break bond make use probe chemic reactiv electr electr molssi driver interfac mdi mdi_repo barnes_taylor_arnold__ driver util tinker doiacsjctcb analyz specif compon electr field model use amoeba forc field electr pars tinker trajectori orchestr addit tinker calcul order project compon electr field onto userdefin bond specifi two atom output field mvcm sum direct field perman electrostat induc field induc dipol term project onto bond unit vector ie normal bond length electr enabl split total field contribut differ compon system molecul residu specifi refer pdb file summari electr design expand quantit system character via comput electr field userfriendli process tool tinkeramoeba simul practic user need tinker trajectori file ie filenamearc tinker input file ie tinkerkey strip keyword correspond period boundari condit tinker refer snapshot filenamexyz first frame filenamearc dimens box usual print line delet tinker launch mdi engin electr driver option regard electr field calcul probe index number number frame begin trajectori file skip equilibr procedur refer pdb file etc specifi command line argument launch driver complet usag procedur provid readm file statement need sinc electr field assist motion charg ion electron link structur function molecular dynam simul take advantag addit properti decompos total electr field contribut system compon protein residu solvent molecul etc approach alreadi use probe electron flow along bond break form catalyz reaction doijacsb doiacscatalb applic reach mani research area also use probe ion transport electron reorgan upon molecular bind exampl mathemat electr field atom vecei compon defin beginequ ei_xsum_jejto i_x sum_jleft ejto i_xtextperm ejto i_xtextind right endequ ei_x xcompon electr field atom ejto i_x xcompon electr field atom due atom j perm ind refer perman induc field respect atom character perman atom multipol includ monopol charg qi dipol mui_xmui_ymui_z quadrupol qi_xx qi_xxqi_xyqi_xzqi_zz beginequ ejto i_xtextpermt_xqjsum_myzt_xmmuj_mfracsum_myzsum_nyzt_xmnqj_mn endequ beginequ ejto i_xtextindsum_myzt_xmmuj_textindm endequ beginequ t_xyfracpiepsilon_nabla_xnabla_yfracr_ij endequ also defin doijacsb similar equat written zcompon field field project onto specif bond say bond ij atom j calcul beginequ eij_textprojleft fracveceivecejrightvecuij endequ eij_textproj electr field project onto bond ij vecuij unitari vector defin bond ij acknowledg author thank yi zheng produc amoeba tinker trajectori test electr virginia tech depart faculti startup fund financi support refer build statushttpstraviscicomwelborngroupelectricsvgbranchmasterhttpstraviscicomwelborngroupelectr codecovhttpscodecovioghwelborngroupelectricbranchmastergraphbadgesvghttpscodecovioghwelborngroupelectr languag grade pythonhttpsimgshieldsiolgtmgradepythongwelborngroupelectricsvglogolgtmlogowidthhttpslgtmcomprojectsgwelborngroupelectriccontextpython doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss electr electr driver written jessica nash taylor barn molssihttpsmolssiorg read document herehttpswelborngroupgithubioelectr overview repositori contain driver use molssi driver interfacehttpsgithubcommolssimdimdi_librari perform electr field analysi tinkerhttpsdasherwustledutink trajectori use amoeba forcefield current work postprocess tool mean run simul normal use tinker analyz trajectori use mdienabl tinker driver use tool calcul electr field along bond atom due molecul residu system compil mditink electr instal electr mdienabl tinker bundl one conveni build script instal electr mdienabl tinker cmake fortran compil instal download build electr mdienabl tinker use follow command termin make sure directori want electr driver note locat need specifi path file built process order perform analysi git clone recursesubmodul httpsgithubcomwelborngroupelectricgit cd electr buildsh download build electr mdienabl tinker certain environ may necessari manual set compil done call buildsh script exampl compil nersc cori system modul load prgenvgnu git clone recursesubmodul httpsgithubcomwelborngroupelectricgit cd electr cccc fcftn buildsh upon successful build electr driver electricelectricelectricpi need tinker execut dynamicx electricmodulestinkerbuildtinkersourcedynamicx locat file found text file electrictestlocationselectr electrictestlocationstinker_electr need use electr python depend order run electr need python environ numpi panda instal recommend instal packag conda environ creat electr analysi conda instal c condaforg numpi panda test run quick test driver chang directori electrictestbench directori run tcpsh script tcpsh script run short tinker dynam simul includ period boundari condit command line provid file standard tinker call would normal run simul perform post process simul use line tinker_loc bench k benchkey dynamicslog script launch instanc tinker mdi engin request connect driver listen command driver command similar run simul tinker except use modifi tinker input file add addit command line argument pass inform mdi mdi role engin name no_ewald method tcp port hostnam localhost tinker_loc bench k no_ewaldkey mdi role engin name no_ewald method tcp port hostnam localhost no_ewaldlog script launch instanc driver background listen connect mdi engin python driver_loc probe snap bencharc mdi role driver name driver method tcp port bymol driver output match refer output file proj_totfieldcsv sample_analysi directori usag gener run calcul driver requir follow step run dynam simul tinker simul run period boundari condit desir print snapshot result singl file ie coordinatesarc snapshot instead written differ file ie coordin coordin etc may concaten singl file creat new tinker keyfil keyfil ident one use step except must includ period boundari condit must use ewald summat mean key file run driver aaxi keyword keyword relat ewald launch one see nengin option instanc tinker mdi engin use keyfil creat step done way launch normal tinker simul launch dynamicx execut except mdi commandlin option ad howev import refer coordin use period boundari inform origin ran simul start snapshot previou simul run make sure creat new snapshot launch simul includ box inform line argument mdi commandlin option detail tinker connect driver possibl argument describ mdi documentationhttpsmolssigithubiomdi_libraryhtmllibrary_pagehtmllibrary_launching_sec doubt recommend mdi role engin name no_ewald method tcp port hostnam localhost run engin tinker launch background done ad ampersand end launch line launch driver driver accept varieti commandlin option describ detail one possibl launch command would python driver_loc probe snap coordinatesarc mdi role driver name driver method tcp port byre kepdb equil nengin driver_loc path electricpi set configur step output written proj_totfieldcsv use write script perform step especi calcul intend run share cluster script might look like locat requir code driver_loccat locationselectr tinker_loccat locationstinker_electr number instanc tinker run engin nengin set number thread use code export omp_num_thread launch tinker engin eval echo nengin tinker_loc coordinatesin k no_ewaldkey mdi role engin name no_ewald method tcp port hostnam localhost no_ewaldilog done launch driver python driver_loc probe snap coordinatesarc mdi role driver name driver method tcp port byre kepdb equil nengin nengin wait use mpi commun addit exampl use tcpip socket commun electr tinker also possibl establish commun code use messag pass interfac mpi inform launch code use mpi commun avail herehttpsmolssimdigithubiomdi_libraryhtmllibrary_pagehtmllibrary_launching_sec approach like prefer run larg supercomput cluster note system manag mpi job use slurm necessari use srun launch job rather direct call mpiexec exampl script launch nersc cori system provid electrictestbenchcorish run singl instanc tinker electrictestbenchcorish run multipl instanc tinker run one script need chang account sbatch option account commandlin option see command line argument driver use follow command top level repositri python electricelectricpi help help inform command line argument usag electricpi h mdi mdi snap snap probe probe nengin nengin equil equil stride stride byre byre bymol requir argument mdi mdi flag mdi default none snap snap file name trajectori analyz default none probe probe atom indic probe electr field calcul exampl would like calcul electr field along bond atom would use probe default none option argument h help show help messag exit nengin nengin option allow driver farm task multipl tinker engin simultan enabl parallel electr field analysi comput argument option must equal number tinker engin launch along driver default equil equil number frame skip perform analysi begin trajectori file given snap argument exampl use equil result first frame trajectori skip default stride stride number frame skip analysi calcul exampl use stride would result analysi everi frame trajectori default byre byre flag indic electr field probe atom calcul electr field contribut given per residu byre indic argument follow filenam pdb file give residu default none bymol flag indic electr field probe atom calcul electr field contribut given per molecul default fals output driver output file call proj_totfieldcsv csv file contain data project electr field point probe atom due fragment depend input byre residu bymol molecul atom neither argument given column contain header indic probe atom measur follow frame number row electr field mean locat probe atom due particular fragment consid exampl bench run follow command python driver_loc probe snap bencharc mdi role driver name driver method tcp port bymol set probe atom atom indic want electr field probe atom base contribut molecul header j frame n j atom indic probe n frame number exampl header frame frame frame frame frame sinc calcul run use bymol row one molecul system first entri column frame header molecul give project total electr field midway point atom atom due molecul electr field project along vector point atom atom project alway along vector atom atom revers sign number would like vector point opposit way sampl script calcul time averag probe pair given directori sample_analysi contribut welcom contribut extern contributor document describ merg code chang electr get start make sure github accounthttpsgithubcomsignupfre forkhttpshelpgithubcomarticlesforkarepo repositori github local machin clonehttpshelpgithubcomarticlescloningarepositori fork repositori make chang add realli awesom code local fork usual good ideahttpblogjasonmeridthcompostsdonotissuepullrequestsfromyourmasterbranch make chang branchhttpshelpgithubcomarticlescreatinganddeletingbrancheswithinyourrepositori branch name relat featur go add readi other examin comment new featur navig fork electr github open pull requesthttpshelpgithubcomarticlesusingpullrequest pr note launch pr one fork branch subsequ commit branch ad open pull request automat commit ad pr valid mergabl compil test suit complianc result test visibl pr page your provid new featur must add test case document pleas also make sure run code formattt blackhttpsblackreadthedocsioenst code submit pull request code readi go make sure run test suit use pytest your readi consid merg check readi go box pr page let electr dev know chang complet code merg box check continu integr return checkmark multipl core develop give approv review addit resourc gener github documentationhttpshelpgithubcom pr best practiceshttpcodeintheholecomwritingpullrequestsandothergoodpracticesforteamsusinggithub guid contribut softwar packageshttpwwwcontributionguideorg think pr examplehttpwwwthinkfulcomlearngithubpullrequesttutorialtimetosubmityourfirstpr sampl analysi directori contain sampl script process output driver driver write file call proj_totfieldcsv depth explan file pleas see readmemd file top level repositori file calculate_averagepi calcul time averag project field per fragment script work calcul time averag proj_totfieldcsv output driver script automat look file call proj_totfieldcsv current directori run python calculate_averagepi would like chang file name add file name script name run python calculate_averagepi filenam filenam output file pairwis probe interact file give time averag valu project field standard deviat molssi driver interfac mdi librari build statushttpstravisciorgmolssimdimdi_librarysvgbranchmasterhttpstravisciorgmolssimdimdi_librari build statushttpsdevazurecomtaylorabarnesmdi_library_apisbuildstatusmolssimdi_librarybranchnamemasterhttpsdevazurecomtaylorabarnesmdi_library_buildlatestdefinitionidbranchnamemast languag grade pythonhttpsimgshieldsiolgtmgradepythongmolssimdimdi_librarysvglogolgtmlogowidthhttpslgtmcomprojectsgmolssimdimdi_librarycontextpython languag grade cchttpsimgshieldsiolgtmgradecppgmolssimdimdi_librarysvglogolgtmlogowidthhttpslgtmcomprojectsgmolssimdimdi_librarycontextcpp codecovhttpscodecovioghmolssimdimdi_librarybranchmastergraphbadgesvghttpscodecovioghmolssimdimdi_librari overview molssi driver interfac mdi project provid standard api fast onthefli commun comput chemistri code greatli simplifi process implement method requir cooper multipl softwar packag enabl develop write singl implement work across mani differ code api suffici gener support wide varieti techniqu includ qmmm ab initio md machin learn advanc sampl path integr md also straightforwardli extens commun code handl mdi librari enabl tight coupl code use either mpi tcpip method document complet document found httpsmolssimdigithubiomdi_librari licens mdi librari releas bsd claus licens see licens detail acknowledg work support molecular scienc softwar institut us nation scienc foundat grant aci mdi build upon work numer develop group without could exist syntact structur mdi standard includ fundament commandrespons commun pattern model use hrefhttpipicodeorgipia project stringbas represent command node system draw inspir techniqu use sever molecular mechan packag especi hrefhttpslammpssandiagovlammpsa hrefhttpopenmmorgopenmma enabl modular code addit unit convers avail mdi librari provid hrefhttpsgithubcommolssiqcelementalqcelementala project certain detail commun protocol implement mdi librari especi pertain mpibas commun mpmd regim inform accomplish hrefhttpscslibsandiagovcsliba librari librarybas commun protocol develop respons discuss hrefhttpsgitlabcomexaaltexaalta team interfac error handl data type numer element mdi librari model hrefhttpswwwmpiforumorgmpi standarda distribut mdi librari python provid hrefhttpscondaforgeorgconda forgea