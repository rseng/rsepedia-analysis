fhivib welcom fhivib python packag calcul analyz understand vibrat properti solid first principl fhivib intend seamlessli bridg harmon approxim fulli anharmon molecular dynam simul end fhivib build sever exist packageshttpsvibesdevelopersgitlabiovibescredit interfac consist userfriendli fashion document tutori knowledg firstprincipl electronicstructur theori well profici _ab initio_ code fhiaimshttpsaimsclubfhiberlinmpgd highperform comput assum addit experi python atom simul environ asehttpswikifysikdtudkas phonopyhttpsatztogogithubiophonopi help need fhivib provid follow featur geometri optim via asehttpswikifysikdtudkaseaseoptimizehtmlmoduleaseoptim harmon phonon calcul via phonopyhttpsatztogogithubiophonopi molecular dynam simul nvehttpswikifysikdtudkaseasemdhtmlconstantnvesimulationsthemicrocanonicalensembl nvthttpswikifysikdtudkaseasemdhtmlmoduleasemdlangevin npthttpswikifysikdtudkaseasemdhtmlmoduleasemdnptberendsen ensembl harmon samplinghttpsjournalsapsorgprlabstractphysrevlett anharmon quantificationhttpsjournalsapsorgprmaterialsabstractphysrevmateri function highthroughput readi via fireworkshttpsmaterialsprojectgithubiofirework overview installationhttpsvibesdevelopersgitlabiovibesinstal tutorialhttpsvibesdevelopersgitlabiovibestutorial_intro documentationhttpsvibesdevelopersgitlabiovibesdocumentation_intro creditshttpsvibesdevelopersgitlabiovibescredit referenceshttpsvibesdevelopersgitlabiovibesrefer news fhivib got publish josshttpsjosstheojorgpapersjoss anharmon measur got publishedhttpsjournalsapsorgprmaterialsabstractphysrevmateri best yet comehttpswwwyoutubecomwatchvbjqbcwd changelog v updat depend allow phonopi version v first offici releas pass joss reviewhttpsgithubcomopenjournalsjossreviewsissu sever addit document va enabl convers trajectori aseiotrajectori file view ase httpsgitlabcomvibesdevelopersvibesmerge_request import fix run npt dynam httpsgitlabcomvibesdevelopersvibesmerge_request changelog contribut contribut repositori pleas first discuss chang wish make via issu email method maintain repositori make life easier everyon report issu pleas use issu trackerhttpsgitlabcomvibesdevelopersvibesissu report issu pleas tri answer question issu discuss pleas quick look exist issu issu expect behavior problem reproduc pleas provid _minimal_ exampl contribut code via merg request order contribut code fhivib pleas follow usual step prepar creat merg requesthttpsdocsgitlabcomeeuserprojectmerge_requestscreating_merge_requestshtml remark regard guidelin code code style use blackhttpsblackreadthedocsioenst default set isorthttpspycqagithubioisort format code set isort includ setupcfg pleas _document_ _test_ chang test found vibestest written pytesthttpsdocspytestorgenst pleas use googletyp docstringshttpsgooglegithubiostyleguidepyguidehtml function option use type hint current dont enforc loos keep track code coverag pleas tri decreas coverag contribut new code titl fhivib _ab initio_ vibrat simul tag python physic phonon transport author name florian knoop orcid x affili name thoma r purcel orcid affili name matthia scheffler affili name christian carbogno orcid affili affili name fritz haber institut max planck societi berlin germani index date juli bibliographi paperbib introduct vibrat motion nuclei determin mani import properti materi includ thermodynam equilibrium nonequilibrium properti accur assess nuclear dynam associ materi properti therefor import task comput materi scientist broad rang subfield particular import simul techniqu build firstprincipl electronicstructur simul therebi allow systemat investig virtual infinit space materi includ system littl experiment data hitherto avail curtarolo allow one design novel improv materi optim properti mani applic eg highperform thermal insul ga airplan turbin evan organ semicondcutor longterm phase stabil salzillo thermoelectr gener snyder improv thermal manag system tian essenti two distinct rout toward assess vibrat properti perturb _lattic dynamics_ techniqu potentialenergi surfac nuclei move approxim taylor expans around equilibrium structur typic one start secondord expans ie _harmon approximation_ allow analyt solut equat motion dove thu straightforward evalu observ thermodynam expect valu higherord term taylor expans account perturb convers _molecular dynamics_ md base approach account full nonperturb potentialenergi surfac _without_ approxim actual interact requir one solv equat motion numer propag atom time physic properti extract time averag properli chosen observ tuckerman although _lattic dynamics_ _molecular dynamics_ techniqu aim comput physic observ involv methodolog formal challeng quit differ accordingli methodolog also differ strength weak instanc perform analyz md simul typic comput conceptu challeng wherea perturb lattic dynam calcul inher reli approxim hard valid date varieti differ softwar packag exist differ degre sophist field promin exampl _phonopy_ code togo perform _lattic dynamics_ calcul use parlinski finitediffer formal parlinski _ipi_ code kapil perform classic md quantummechan pathintegr md simul packag interfac varieti firstprincipl code like vasp kress quantumespresso giannozzi abinit gonz fhiaim blum sever other statement need date softwar solut allow seamless bridg interlink _lattic dynamics_ _molecular dynamics_ base approach despit fact actual materi scienc studi profit accuraci effici exploit approach instanc potenti use case includ acceler _md_ calcul start harmon equilibrium configur west analyz _md_ simul term harmon phonon turney investig rang valid perturb expans use _lattic dynamics_ knoop overcom finites finitetim effect _ab initio_ green kubo simul thermal conduct carbogno given wide opportun applic aspect _integration_ ie abil util differ methodolog distinct code flexibl fashion use consist user interfac paramount particular prerequisit automat workflow enabl hierarch highthroughput screen whole materi class systemat fashion exampl workflow would start geometri optim follow studi harmon properti mani materi singl candid materi involv fulli anharmon aimd simul techniqu along line let us mention provid descript input output file prerequisit share raw data result transpar interpret way spirit open scienc fair principl draxl top track proven aiida across differ code facilit repurpos analysi obtain data summari _fhivibes_ _python_ packag allow integr workflow use _atomist simul environ ase_ larsen backend order repres materi connect variou firstprincipl code via _ase_ _fhivibes_ provid flexibl framework geometri optim md connect extern code like _spglib_ togo _phonopy_ togo _phonopy_ togob _hiphive_ eriksson implement lattic dynam techniqu base harmon approxim task _fhivibes_ provid defin input file command line interfac set run calcul local machin cluster use _slurm_ submiss system output organ selfcontain descript output file enabl straightforward exchang data obtain differ methodolog advanc analysi provid api fulli compat _ase_ well _numpy_ walt _pandas_ mckinney _xarray_ hoyer sever userfriendli util allow perform common postprocess task within commandlin interfac provid comprehens summari md simul phonon calcul _fhivibes_ provid connect firework jain workflow manag system run simul workflow extens set materi highthroughput fashion _fhivibes_ tightli integr fhiaim blum perform energi forc calcul extend function calcul avail via ase straightforward _fhivibes_ use produc result knoop featur facilit scientif studi describ statement needstatementofne _fhivib _ offer follow main featur free symmetryconstrain geometri optim harmon phonon calcul molecular dynam simul harmon sampl anharmon quantif extens user guid includ tutori refer document featur avail vibesfhiberlinmpgdehttpvibesfhiberlinmpgd demonstr dedic tutori task easili combin tailor defin workflow highthroughput screen materi space codebas user interfac fhivib design modular framework advanc featur workflow straightforward add futur acknowledg author would like thank roman kempt marcel hülsberg test provid valuabl feedback fk would like thank marcel langer zhenkun yuan feedback ask hjorth larsen valuabl discuss tp would like thank alexand von humboldt foundat support alexand von humboldt postdoctor fellowship program project support tecp european research council erc horizon research innov programm grant agreement bigmax max planck societi research network bigdatadriven materialssci nomad pillar fairdi ev associ refer test supercel atom creat make_supercel geometryin n deviat lammp green kubo ar refer heat fluxhttpslammpssandiagovdoccompute_heat_fluxhtml background beginalign mathbfj fracvleftsum_i e_i mathbfv_isum_i mathbfs_i mathbfv_iright fracvleftsum_i e_i mathbfv_isum_ijleftmathbff_i j cdot mathbfv_jright mathbfx_i jright fracvleftsum_i e_i mathbfv_ifrac sum_ijleftmathbff_i j cdotleftmathbfv_imathbfv_jrightright mathbfx_i jright endalign kappafracvk_b int_inftyleftlangl j_x j_xtrightrangl tfracv k_b int_inftylanglemathbfj cdot mathbfjtrangl flag comput id groupid heatflux keid peid stressid comput calcul quantiti store compon vector first compon x z compon full heat flux vector ie jx jy jz next compon x z compon convect portion flux ie first term equat j heat flux output everi mani timestep eg via thermo_styl custom command postprocess oper autocorrel perform integr estim greenkubo formula evalu _fix avecorrel command_ calcul autocorrel trap function variabl command calcul integr output info comput calcul global vector length total heat flux vector follow convect heat flux vector access indic valu use command use global vector valu comput input see howto output doc page overview lammp output option vector valu calcul comput extens mean scale number atom simul divid appropri volum get flux would intens valu mean independ number atom simul note comput appropri volum divid simul box volum howev subgroup use volum contain atom thermo command refer thermohttpslammpssandiagovdocthermohtml bash thermo n comput print thermodynam info everi _n_ timestep bash thermo_styl style arg fix avecorrel command refer avecorrelatehttpslammpssandiagovdocfix_ave_correlatehtml bash fix id groupid avecorrel neveri nrepeat nfreq valu neveri nrepeat nfreq argument specifi timestep input valu use calcul correl data argument mean neveri use input valu everi mani timestep nrepeat correl time window accumul nfreq calcul time window averag everi mani timestep exampl exampl neveri nrepeat nfreq valu timestep use comput final averag timestep averag comput cij cij cij cij cij timestep averag sampl name vivj vivj vivj vivj cij timestep averag sampl name vivj vivj vivj vivj ave ave set run accumul never zero thu output correl data timestep averag sampl accumul everi neveri step sinc fix defin restart delet fix via unfix command redefin fix respecifi paramet parametervari valu vol _a_ xx box å scale convert dt v kb convert e kb e dt step remark volum _a_ xx box å sampl input script bash sampl lammp input script thermal conduct solid ar unit real variabl equal variabl v equal vol variabl dt equal variabl equal sampl interv neveri variabl p equal correl length nrepeat variabl equal ps dump interv nfreq convert lammp real unit si variabl kb equal e jk boltzmann variabl kcalj equal e variabl equal e variabl fss equal e variabl convert equal kcaljkcaljfssam setup problem dimens boundari p p p lattic fcc orient x orient orient z region box block create_box box create_atom box mass pair_styl ljcut pair_coeff timestep dt thermo equilibr thermal veloc creat mom ye rot ye dist gaussian fix nvt nvt temp drag run thermal conduct calcul switch nve desir unfix nvt fix nve nve reset_timestep comput myke keatom comput mype peatom comput mystress stressatom null virial comput flux heatflux myke mype mystress variabl jx equal c_fluxvol variabl jy equal c_fluxvol variabl jz equal c_fluxvol fix jj avecorrel p c_flux c_flux c_flux type auto file jjtdat ave run variabl scale equal convertkbttvsdt variabl k equal trapf_jjscal variabl k equal trapf_jjscal variabl k equal trapf_jjscal thermo_styl custom step temp v_jx v_ji v_jz v_k v_k v_k run variabl k equal v_kv_kv_k variabl nden equal countallvol print averag conduct kwmk k nden trajectori indic label atom label capit letter start j k l coordin label small letter start form b c instead greek letter alpha beta gamma delta time label time exampl observ dimens temperatur pressur energi time stress time b posit veloc forc heat flux time stress time b heat flux autocorrel function cumul kappa time j b green kubo thermal conduct kappaalpha beta equiv sum_i j kappa_i jalpha beta frack_textb v sum_i j int leftlangl j_i tau j_j rightrangl textd tau vibesslurm heavili inspir sirmarcelshttpsgitlabcomsirmarcel jobrohttpsgitlabcomsirmarceljobro project mayb join forc one day fist arg name logfil mail_typ mail_address node core timeout queue command tag vibe run type vibe run aim vibe run phonopi vibe run md run one exampl input file aimsin phonopyin mdin refer cite fhivib knoop et al fhivib ab initio vibrat simul journal open sourc softwar httpsdoiorgjoss articleknoop doi joss url httpsdoiorgjoss year publish open journal volum number page author florian knoop thoma r purcel matthia scheffler christian carbogno titl fhivib _ab initio_ vibrat simul journal journal open sourc softwar work perform use fhivib anharmon measur materi f knoop tar purcel scheffler c carbogno phi rev materi httpsdoiorgphysrevmateri arxivhttpsarxivorgab articlephysrevmateri titl anharmon measur materi author knoop florian purcel thoma r scheffler matthia carbogno christian journal phi rev materi volum issu page numpag year month aug publish american physic societi doi physrevmateri url httpslinkapsorgdoiphysrevmateri fhivib welcom fhivib python packag calcul analyz understand vibrat properti solid first principl fhivib intend seamlessli bridg harmon approxim fulli anharmon molecular dynam simul end fhivib build sever exist packageshttpsvibesdevelopersgitlabiovibescredit interfac consist userfriendli fashion document tutori knowledg firstprincipl electronicstructur theori well profici _ab initio_ code fhiaimshttpsaimsclubfhiberlinmpgd highperform comput assum addit experi python atom simul environ asehttpswikifysikdtudkas phonopyhttpsatztogogithubiophonopi help need fhivib provid follow featur geometri optim via asehttpswikifysikdtudkaseaseoptimizehtmlmoduleaseoptim harmon phonon calcul via phonopyhttpsatztogogithubiophonopi molecular dynam simul nvehttpswikifysikdtudkaseasemdhtmlconstantnvesimulationsthemicrocanonicalensembl nvthttpswikifysikdtudkaseasemdhtmlmoduleasemdlangevin npthttpswikifysikdtudkaseasemdhtmlmoduleasemdnptberendsen ensembl harmon samplinghttpsjournalsapsorgprlabstractphysrevlett anharmon quantificationhttpsjournalsapsorgprmaterialsabstractphysrevmateri function highthroughput readi via fireworkshttpsmaterialsprojectgithubiofirework overview installationhttpsvibesdevelopersgitlabiovibesinstal tutorialhttpsvibesdevelopersgitlabiovibestutorial_intro documentationhttpsvibesdevelopersgitlabiovibesdocumentation_intro creditshttpsvibesdevelopersgitlabiovibescredit referenceshttpsvibesdevelopersgitlabiovibesrefer news fhivib got publish josshttpsjosstheojorgpapersjoss anharmon measur got publishedhttpsjournalsapsorgprmaterialsabstractphysrevmateri best yet comehttpswwwyoutubecomwatchvbjqbcwd changelog v updat depend allow phonopi version v first offici releas pass joss reviewhttpsgithubcomopenjournalsjossreviewsissu sever addit document va enabl convers trajectori aseiotrajectori file view ase httpsgitlabcomvibesdevelopersvibesmerge_request import fix run npt dynam httpsgitlabcomvibesdevelopersvibesmerge_request changelog contribut contribut repositori pleas first discuss chang wish make via issu email method maintain repositori make life easier everyon report issu pleas use issu trackerhttpsgitlabcomvibesdevelopersvibesissu report issu pleas tri answer question issu discuss pleas quick look exist issu issu expect behavior problem reproduc pleas provid _minimal_ exampl contribut code via merg request order contribut code fhivib pleas follow usual step prepar creat merg requesthttpsdocsgitlabcomeeuserprojectmerge_requestscreating_merge_requestshtml remark regard guidelin code code style use blackhttpsblackreadthedocsioenst default set isorthttpspycqagithubioisort format code set isort includ setupcfg pleas _document_ _test_ chang test found vibestest written pytesthttpsdocspytestorgenst pleas use googletyp docstringshttpsgooglegithubiostyleguidepyguidehtml function option use type hint current dont enforc loos keep track code coverag pleas tri decreas coverag contribut new code credit fhivib would possibl without follow packag atom simul environmenthttpswikifysikdtudkas fhiaim fhi _ab initio_ molecular simulationshttpsaimsclubfhiberlinmpgd phonopyhttpsatztogogithubiophonopi phonopyhttpsatztogogithubiophonopi fireworkshttpsmaterialsprojectgithubiofirework hiphiv highord forc constant masseshttpshiphivematerialsmodelingorgindexhtml scipi stackhttpswwwscipyorg mkdocshttpswwwmkdocsorg mkdocsmaterialhttpssquidfunkgithubiomkdocsmateri cite packag pleas make sure give credit right peopl use fhivib cite asehttpswikifysikdtudkasefaqhtmlhowshouldiciteas cite fhiaimshttpsaimsclubfhiberlinmpgdeaims_publicationsphp cite phonopyhttpsphonopygithubiophonopycitationhtml cite phonopyhttpsphonopygithubiophonopycitationhtml cite fireworkshttpsmaterialsprojectgithubiofireworkscitingfirework cite hiphivehttpshiphivematerialsmodelingorgcreditshtml cite fhivibesreferencesmdhowtocitefhivib instal prerequisit workingpython environ eg provid anacondahttpsdocscondaioenlatestminicondahtml work fortran compil eg obtain aptget instal gfortran debianderiv system conda instal c condaforg fortrancompil conda use want use fhiaim run _ab initio_ calcul make sure recent version support ipi socket commun default version newer _ releas use cmake build systemhttpsaimsgitrzberlinmpgdeaimsfhiaimswikiscmaketutori instal vibe fhivib instal simpli via pip bash pip instal user fhivib user option make sure instal occur homefold localbin typic necessari comput cluster pleas make sure localbin folder list path run problem pleas look troubleshoot sectiontroubleshoot configur configur vibe creat vibesrc configur file templat home directori end first run vibe templat configur vibe vibesrc edit configur file describ basissetloc basissetloc point folder contain fhiaim speci default eg pathtofhiaimsspecies_default folder aims_command aims_command execut script take care set environ run fhiaim exampl file call pathtofhiaimsrun_aimssh look roughli like depend system binbash l ulimit unlimit export omp_num_thread modul purg modul load intel impi mkl export ld_library_pathld_library_pathmklrootlibintel export ld_library_pathld_library_pathintel_homelibintel srun pathtofhiaimsbuildaimsx script run_aimssh mark execut eg run chmod x pathtofhiaimsrun_aimssh your good go autocomplet activ autocomplet vibe subcommand add bashrc bash eval _vibes_completesourc vibe sourc use fishshel add file configfishcompletionsvibesfish contain bash eval env _vibes_completesourcefish vibe troubleshoot modulenotfounderror modul name importlib_resourc solut pip instal importlib_resourc dataclass runtimeerror click abort execut python configur use ascii encod environ consult httpsclickpalletsprojectscompython mitig step solut export lc_allcutf export langcutf bash vibe command found solut export pathpathlocalbin importerror numpycoremultiarray fail import solut pip instal numpi u conda updat numpi use conda variou version conflict consid use virtual environmenthttpsdocscondaioprojectscondaenlatestuserguidetasksmanageenvironmentshtml eg via conda creat n py c anaconda python numpi scipi tmppipbuildenvxak_vfyoverlaylibpythonsitepackagesnumpycore_multiarray_umathcpythonmx_linuxgnuso fail map segment share object oper permit might happen hpc system limit access right solut provid writabl tmp folder eg via mkdir condatmp export tmpdircondatmp problem list pleas file issu issu trackerhttpsgitlabcomvibesdevelopersvibesissu output file trajectori trajectoryson file contain metadata calcul result set relat calcul eg come geometri optim phonopi calcul molecular dynam run file format sonhttpsfloknogithubioson slight extens json allow add data sequenti exampl exampl trajectoryson md type moleculardynam calcul calcul aim calculator_paramet xc pbesol k_grid atom cell e e e e e e e e e posit e e e e e e primit atom info nstep dt e aims_uuid daffdaeae posit e e e e e e trajectorync netcdfhttpswwwunidataucaredusoftwarenetcdf file contain xarraydatasethttpxarraypydataorgenstableiohtmlhighlightnetcdfnetcdf postprocess data exampl load trajectorync python import xarray xr ds xropen_datasettrajectorync printd xarraydataset dimens b time coordin time time float e e e dimens without coordin b data variabl posit time float displac time float veloc time float momenta time float forc time float energy_kinet time float energy_potenti time float stress time b float stress_kinet time b float stress_potenti time b float temperatur time float cell time b float positions_refer float lattice_refer b float pressur time float pressure_kinet time float pressure_potenti time float attribut name trajectori system_nam osb natom time_unit fs timestep nstep symbol mass atoms_refer pbc true true truencel n atoms_primit pbc true true truencel n atoms_supercel pbc true true truencel n volum raw_metadata md n type moleculardynamicsn mdtype hash cbfcbdfeacbfdac numer data dat file file dat suffix array read numpyloadtxthttpsnumpyorgdocstablereferencegeneratednumpyloadtxthtml exampl exampl frequenciesdat e e e e e e e e e e e e exampl load frequenciesdat python import numpi np data nploadtxtfrequenciesdat printdata csv file file csv suffix standard commasepar valueshttpsenwikipediaorgwikicommaseparated_valu pars eg panda exampl exampl trajectorycsv timetemperatureenergy_kineticenergy_potentialpressure_kineticpressure_potentialpressur exampl load trajectorycsv python import panda pd df pdread_csvtrajectorycsv printdf time temperatur energy_kinet energy_potenti pressure_kinet pressure_potenti pressur e e e nan nan row x column json file plain jsonhttpswwwjsonorg file pars python builtin json modulehttpsdocspythonorglibraryjsonhtml exampl exampl md_describejson time count mean std min max temperatur count mean std min max energy_kinet count mean std min max energy_potenti count mean std min max pressure_kinet count mean std e min max pressure_potenti count mean std min max pressur count mean std min max exampl load md_describejson python import json data jsonloadopenmd_describejson pprintdata energy_kinet count max mean min std energy_potenti count max mean min std pressur count max mean min std pressure_kinet count max mean min std e pressure_potenti count max mean min std temperatur count max mean min std time count max mean min std forc constant force_const forc constant phonopi formathttpsphonopygithubiophonopyinputfileshtmlhighlightforce_constforceconstantsandforceconstantshdf compact form n_primit n_supercel pars phonopyfile_ioparse_force_const force_constants_remap forc constant map n_supercel n_supercel shape pars numpyloadtxt similar dat filesdatfil calcul setup fhivib set ase calculatorhttpswikifysikdtudkaseasecalculatorscalculatorshtmlmoduleasecalcul perform calcul provid calcul class name respect paramet input file modul specifi vibe attempt import calcul modul instead ase use work custom calcul yet includ ase exampl calcul name lj calculatorparamet sigma would set lennard jone calculatorhttpswikifysikdtudkaseasecalculatorsothershtmllennardjon sigma valu default paramet otherwis nonas calcul would calcul name mycalcul modul mymodul calculatorparamet vibe attempt import mycalcul mymodul instanti section calcul section specifi asecalcul set name name ase calcul class namehttpswikifysikdtudkaseasecalculatorscalculatorshtmlsupportedcalcul note nonas calcul name must spell ident class name modul ie typic camelcas modul option specifi vibe run modul import name obtain calcul class instead import ase calculatorparamet keyword use set ase calcul python cl get_calculator_classsettingscalculatorgetnam calcul clssettingscalculatorgetparamet option fhiaim fhivib tightli integr fhiaim calcul provid extra featur perform _ab initio_ calcul fhiaim minim input section set fhiaim calcul look like calcul name aim calculatorparamet xc pwlda calculatorkpoint densiti calculatorbasisset default intermedi fallback light system specif tight ga intermedi calculatorsocketio port calculatorparamet keyword correspond onetoon fhiaim keyword written controlin keywordonli argument like vdw_correction_hirshfeld use_gpu given valu true calculatorparamet xc pwlda vdw_correction_hirshfeld true use_gpu true calculatorkpoint option densiti instead give k_grid explicitli fhivib comput k_grid densiti kpoint fall valu requiremediawikitexvc aa option includ k_grid calculatorparamet equal valid calculatorbasisset specifi basisset use default default basi set use light intermediatetight really_tight fallback fallback option case specifi basi set could found intermedi basi set current compil element speci depend basi set given per chemic speci includ speci desir basi set uncom eg exampl calculatorsocketio option set socket commun via socketiocalculatorhttpswikifysikdtudkaseasecalculatorssocketiosocketiohtmlhighlightsocketioasecalculatorssocketiosocketiocalcul potenti speed calcul sinc complet restart fhiaim complet scf cycl avoid featur option recommend use perform calcul relat structur eg molecular dynam simul phonon calcul host ip address access socket default localhost modifi certain architectur like made clear system document port socket port use null dont use socket auto automat select port current use host regist etcservic avail use port alreadi use recommend use auto calcul unixsocket filenam unix socket activ tcpip socket use recommend mayb necessari system info handson exampl set run phonopi calcul found tutorialtutorial_phonopymd vibe support phonon calcul finit differ methodtutorial_phonopy_intromdphononsharmonicvibrationsinsolid set phonopyin file minim phonopyin would look like fo file geometri geometryin calcul name lj calculatorparamet sigma phonopi supercell_matrix perform phonopi calcul structur geometryin lennardjon calcul time time supercel info click default valu complet list support keyword phonopi supercell_matrix displac is_diagon fals is_plusminu auto symprec e q_mesh workdir phonopi section phonopi supercell_matrix list time time array specifi supercel matrixtutorial_phonopymdsupercellmatrixsupercell_matrix use set supercel displac float distanc requiremediawikitexvc aa use finit displac is_diagon truefals correspond phonopi set tag diaghttpsphonopygithubiophonopysettingtagshtmldiag is_plusminu truefalseauto correspond phonopi set tag pmhttpsphonopygithubiophonopysettingtagshtmlpm symprec float toler symmetri detect q_mesh list qpoint mesh use postprocess eg densiti state workdir work directori run calcul store output file slurm submiss vibe submit job cluster use slurm submiss system configur goe via task input file ad slurm section templat gener via vibe templat slurm your_inputin info task input file slurm section slurm name test tag vibe mail_typ mail_address yourmailcom node core queue express timeout submit job job submit use vibe submit instead vibe run exampl would run vibe submit md mdin cluster submit calcul queue instead run vibe run md mdin local vibe submit submit job cluster accord specif find slurm section see belowtheslurmsect command follow write submitsh script accord specif found slurm section submit job queue via sbatch submitsh log time submiss job id file call submitlog restart job vibe support autmat restart job take longer avail walltim often case _ab initio_ molecular dynam simulationstutorial_md_ab_initiomd restart request ad restart command command restart calcul eg vibe submit md mdin task input file run command specifi shortli walltim slurm section name str name job tag str common tag ad job name cluster set job mail_typ str slurm mail type usual specifi via mailtypehttpsslurmschedmdcomsbatchhtml mail_address str mail address slurm send notif node int number node use job job depend core int number core per node use job machin depend queue str name queue submit timeout int walltim job minut queue cluster dependentdocument give overview featur fhivib document basic usag principl particular find unitsunitsmd input filesinput_filesmd output filesoutput_filesmd calcul setupcalculator_setupmd task workflow ie geometri optimizationrelaxationmd phonon calculationsphonopymd molecular dynam simulationsmdmd highthroughput workflowshigh_throughputdocumentation_overviewmd detail introduct specif task found tutorialtutorial_intromd design philosophi gener design principl calcul defin humanread input file calcul produc selfcontain output file _includes_ metadata describ calcul well calcul result output file easi pars comput unit unit use input output file energi rm ev length requiremediawikitexvc rm aa time rm fs frequenc rm thz temperatur rm k forc rm ev rm aa stress rm ev rm aa input file format geometri input file fhivib use fhiaim geometri descript format geometryin detail document file format found herehttpsdoiorgmfigsharev exampl exampl geometryin fccsilicon read lattice_vector lattice_vector lattice_vector atom_frac si atom_frac si task input file perform specif task say geometri optim fhivib employ singl input file describ task eg relaxationin file describ optim accord documentationrelaxationmd jconfigpars syntax input file pars use jconfigparserhttpspypiorgprojectjconfigpars jconfigpars extens python standard librari configparserhttpsdocspythonorglibraryconfigparserhtml follow addit nest section name separ valu pars json repeat keyword possibl configparserextendedinterpolationhttpsdocspythonorglibraryconfigparserhtmlconfigparserextendedinterpol use per default exampl exampl input file run geometri optim file geometri geometryin calcul name lj calculatorparamet sigma relax driver bfg fmax workdir calculatornamerelax relaxationkwarg maxstep file pars nest dictionari set calcul name lj paramet sigma file geometri geometryin relax driver bfg fmax kwarg maxstep workdir ljrelax file section section contain filenam geometri geometri give name geometri input file use calcul python file settingsfilesgetgeometri atom aseioreadfil one geometri necessari given task store geometryin section omit altogeth geometri via geometri wildcard express find geometri file comput given eg geometri samplesgeometryin would specifiy run calcul geometri input file found folder sampl python file sortedglobsettingsfilesgetgeometri atoms_to_comput aseioreadfil file file primit give refer primit cell file eg primit geometryinprimit supercel give refer supercel file eg supercel geometryinsupercel exampl exampl specifi run job structur geometryin attach refer primit supercel output trajectori file geometri geometryin primit geometryinprimit supercel geometryinsupercel command line interfac cli fhivib come command line interfac cli creat input file vibe templat inform input output file vibe info run calcul vibe run vibe submit process calcul vibe output perform sever task like convert output file vibe util practic exampl work cli found tutorialstutorial_intromd subcommand help addit inform vibe templat creat templat file vibe templat help usag vibe templat option command arg provid templat input file task workflow option h help show messag exit command calcul calcul templat aim lj configur configur templat vibesrc fireworksrc md provid templat input md simul default nve phonopi provid templat input phonopi workflow relax provid templat input relax workflow slurm provid templat slurm set templat print screen pipe file tee vibe info vibe info help usag vibe info option command arg inform content file option h help show messag exit command anharmon comput sigmaa trajectori dataset file csv show content csv file geometri inform structur geometri input file md inform md simul file netcdf show content netcdf file phonopi inform phonopi calcul base input file relax summar geometri optim file set write set file includ configur trajectori print metadata trajectori file vibe run vibe run help usag vibe run option command arg run vibe workflow option h help show messag exit command md run md simul file default mdin phonopi run phonopi calcul file default phonopyin relax run relax file default relaxationin singlepoint run singlepoint calcul file default aimsin vibe submit vibe submit help usag vibe submit option command arg submit vibe workflow slurm option dri h help show messag exit command md submit md simul file default mdin phonopi submit phonopi calcul file default phonopyin relax submit relax file default relaxationin singlepoint submit singlepoint calcul file default aimsin vibe output vibe output help usag vibe output option command arg produc output vibe workfow option h help show messag exit command phonopi perform phonopi postprocess trajectori file trajectori md write trajectori data file xarraydataset vibe util vibe util help usag vibe util option command arg tool util option h help show messag exit command backup backup folder target createsampl creat sampl geometri filenam forceconst fc util work forc constant geometri util manipul structur wrap refin etc hash creat sha hash file makesupercel creat supercel desir shape size trajectori trajectori util info handson exampl set run molecular dynam run tutorialtutorial_md_intromd vibe support run molecular dynam simul via asehttpswikifysikdtudkaseasemdhtmlmoduleasemd nve nvt npt ensembl minim mdin run step veloc verlet dynamicshttpswikifysikdtudkaseasemdhtmlmoduleasemdverlet lennard jone calcul would fo file geometri geometryin calcul name lj calculatorparamet sigma md driver velocityverlet timestep maxstep info click default valu complet list support keyword nve dynam use veloc verlet propag vibe templat md md driver velocityverlet timestep maxstep compute_stress fals workdir md mdkwarg logfil mdlog nvt ensembl use langevinhttpswikifysikdtudkaseasemdhtmlmoduleasemdlangevin thermostat vibe templat md nvt md driver langevin timestep maxstep compute_stress fals workdir md mdkwarg temperatur friction logfil mdlog npt ensembl use berendsenhttpswikifysikdtudkaseasemdhtmlmoduleasemdnptberendsen thermostat barostat vibe templat md npt md driver nptberendsen timestep maxstep compute_stress fals workdir md mdkwarg temperatur taut taup pressur compress e logfil mdlog inhomogen fals section md driver str md algorithm either velocityverlet nve ensembl langevin nvt ensembl nptberendsen npt ensembl timestep float integr timestep fs maxstep int number timestep perform compute_stress boolint specifi whether comput stress md simul costli _ab initio_ md workdir str work directori md simul mdkwarg keyword argument go straight ase class implement md algorithm eg python cl langevin md clssettingsmdkwarg keyword document ase velocityverlethttpswikifysikdtudkaseasemdhtmlasemdverletvelocityverlet langevinhttpswikifysikdtudkaseasemdhtmlasemdlangevinlangevin nptberendsenhttpswikifysikdtudkaseasemdhtmlmoduleasemdnptberendsen nptberendsen add inhomogen keyword decid inhomogeneous_nptberendsen driver use instead nptberendsen inhomogeneous_nptberendsen basi vector scale independ ie size unit cell chang three direct angl remain constant default inhomogeneousfals warn ase temperatur usual given energi rm ev fhivib use kelvin consist temperatur thu correspond set thermostat rm k info handson exampl set run relax found tutorialtutorial_geometry_optimizationmd vibe support geometri optim set relaxationin file minim relaxationin would look like fo file geometri geometryin calcul name lj calculatorparamet sigma relax driver bfg fmax perform bfg optim structur found geometryin forc converg requiremediawikitexvc textmevaa info click default valu complet list support keyword relax driver bfg fmax unit_cel true fix_symmetri fals hydrostatic_strain fals constant_volum fals scalar_pressur decim symprec e workdir relax relaxationkwarg maxstep logfil relaxationlog restart bfgsrestart section relax instruct set geometri optim workflow use ase optim classhttpswikifysikdtudkaseaseoptimizehtmlmoduleaseoptim driver current bfgshttpswikifysikdtudkaseaseoptimizehtmlbfg support quasinewton method use broydenfletchergoldfarbshanno algoritmhttpsenwikipediaorgwikibroydenefletcheregoldfarbeshanno_algorithm obtain estim hessian fmax float maximum residu forc requiremediawikitexvc textevaa stress compon textevaa unit_cel truefals relax unit cell use aseconstraintsexpcellfilterhttpswikifysikdtudkaseaseconstraintshtmlhighlightexpcellfilteraseconstraintsexpcellfilt fix_symmetri truefals keep spacegroup system fix use aseconstraintsfixsymmetryhttpswikifysikdtudkasedevaseconstraintshtmlhighlightfixsymmetryasespacegroupsymmetrizefixsymmetri hydrostatic_strain truefals appli isotrop pressur instead stress cell deform see herehttpswikifysikdtudkaseaseconstraintshtmlhighlightexpcellfilteraseconstraintsexpcellfilt constant_volum truefals keep volum constant see herehttpswikifysikdtudkaseaseconstraintshtmlhighlightexpcellfilteraseconstraintsexpcellfilt scalar_pressur float appli extern pressur given textevaa mask list shape mask enabledis relax strain compon voigt notat eg allow shapepreserv relat see ase document mask keyword expcellfilt class detailshttpswikifysikdtudkaseaseconstraintshtmlhighlightexpcellfilteraseconstraintsexpcellfilt use mask keyword alter effect stress use relax lattic chang behavior fmax check decim int number digit use round posit write geometryinnext_step symprec float symmetri precis use detect space group fix_symmetrytru workdir work directori run calcul store output file relaxationkwarg keyword use ase optim class eg pytho cl aseoptimizebfg optimz clssettingsrelaxationgetkwarg maxstep float largest allow move logfil str logfil relax restart str use file store restart inform molecular dynam info assum familiar basic molecular dynam simul learn perform fhivib recap molecular dynam md simul aim explor dynam properti system defin hamiltonian mathcal h beginalign mathcalhmathbfr mathbfpsum_i fracmathbfp_i m_imathcalvmathbfr labeleqh endalign bf r bf r_i denot atom posit bf p bf p_i atom momenta m_i atom mass mathcal v bf r manybodi potenti eg given empir forcefield _ab initio_ energi function dynam evolut system describ equat motion beginalign m_i ddotmathbfr_itmathbff_itnabla_i mathcalvmathbfrt labeleqnewton endalign acceler ddotmathbfr_it atom time given atom forc bf f_i ie invers gradient manybodi potenti mathcal v bf r equat eqrefeqnewton solv numer given initi condit bf r t_ bf p t_ exampl veloc verlet integratorhttpsenwikipediaorgwikiverlet_integrationvelocity_verlet dynam inform encod phasespac trajectori gamma bf r bf p use evalu expect valu observ typic function phasespac point beginalign langl orangl fracmathcalz int mathrmd mathbfr mathrmd mathbfp mathrmebeta mathcalhmathbfr bf p omathbfr bf p labeleqo lim_t rightarrow infti fract int_t rm omathbfr bf p labeleqo endalign eq eqrefeqo hold ergod systemshttpsenwikipediaorgwikiergod compar approxim treatment nuclear dynam eg harmon approxim discuss earlier_phonopy_intromd md advantag account full potentialmathcalvmathbfr thu also _anharmon effects_ contribut captur harmon approxim exampl pressur exampl could instantan pressur given beginalign defdrm pbf r bf p left left fracd mathcal h bf r bf pd v rightright_t fracv sum_i fracbf p_im_i fracv fracd mathcal v bf rd v labeleqp endalign v denot volum deriv evalu thermodynam expect valu eq eqrefeqp first note p decoupl two contribut beginalign pbf r bf p p_rm kin bf p p_rm pot bf r labeleqp endalign evalu independ thu beginalign leftlangl p rightrangl leftlangl p_rm kin rightrangl leftlangl p_rm pot rightrangl labeleqp endalign p_rm kin denot kinet ideal ga contribut yield familiar hansenmcdonaldreferencesmdhansenmcdonald leftlangl p_rm kin rightrangl fracn k_rm b tv p_rm pot denot potenti contribut need evalu configur bf rt gener eq eqrefeqnewton beginalign leftlangl p_rm pot rightrangl lim_n_rm rightarrow infti fracn_rm sum_nn_rm fracv fracd mathcal v leftbf r t_n rightd v labeleqppot endalign expect valu pressur simul discret time step t_n sinc consecut time step md simul necessarili correl eq eqrefeqppot converg quit slowli number time step n_rm come back next tutori canon ensembl thermostat simul describ model _microcanon ensemble_httpsenwikipediaorgwikimicrocanonical_ensembl particl number n volum v energi e conserv order simul _canon ensemble_httpsenwikipediaorgwikicanonical_ensembl instead energi e temperatur thermodynam variabl one typic model system includ interact fictiti heat bath allow control target temperatur system langevin thermostat fhivib use langevin thermostat canon sampl langevin dynam modifi equat motion use beginalign dotbf p_it bf f_i gamma bf p_it sqrt m_i gamma xit labeleqlangevin endalign gamma friction paramet xi whitenois term obey langlexit xirangl k_rm b gamma deltat refer nameknoopa f knoop tar purcel scheffler c carbogno arxivhttpsarxivorgab namebaronia baroni de gironcoli dal corso rev mod phi httpsjournalsapsorgrmpabstractrevmodphi nameashcroftmermina n w ashcroft n mermin _solid state physics_ saunder colleg publish namebornhuanga born k huang _dynam theori crystal lattices_ oxford univers press nametogoa atsushi togo isao tanaka scr mater httpsphonopygithubiophonopi nameparlinskia k parlinski z q li kawazo phi rev lett httpsjournalsapsorgprlabstractphysrevlett namewesta west k estreich phi rev lett httpsjournalsapsorgprlabstractphysrevlett namedovea dove _introduct lattic dynamics_ cambridg univers press namehansenmcdonalda jp hansen ir mcdonald _theori simpl liquids_ elsevi namenocedala j noced wright _numer optimization_ springer scienc busi media postprocess tutori learn access data obtain md calcul showcas interplay xarray panda numpi matplotlib conveni explor data begin show convert xarraydataset plain numpi array prefer work way warn assum success ran simul ldasilicon rm k previou chapter_md_ab_initiomd creat trajectorync dataset also take refer data herehttpsgitlabcomvibesdevelopersvibestutorialfilestreemaster_molecular_dynamicsab_initiosi_ load inspect dataset data trajectorync store xarraydatasethttpxarraypydataorgenstabledatastructureshtmldataset collect label numpi array let open file inspect content python import xarray xr load trajectori dataset dataset xrload_datasettrajectorync printdataset info printdataset xarraydataset dimens ia jb b time coordin time time float e e dimens without coordin ia jb b data variabl posit time float displac time float e veloc time float momenta time float forc time float energy_kinet time float energy_potenti time float e e stress time b float stress_kinet time b float stress_potenti time b float temperatur time float cell time b float e positions_refer float e e lattice_refer b float e e force_constants_remap ia jb float e forces_harmon time float energy_potential_harmon time float sigma_per_sampl time float pressur time float nan pressure_kinet time float pressure_potenti time float e aims_uuid time object cddeebafdceedbdc ffdbacfcfaebfcb attribut name trajectori system_nam si natom time_unit fs timestep nstep symbol si si si si si si si si mass atoms_refer pbc true true truencel n atoms_primit pbc true true truencel n atoms_supercel pbc true true truencel n volum raw_metadata md n type moleculardynamicsn mdtype hash dabcdfaecebadeefc sigma data variabl access attribut convert plain numpi array call data access eg posit python positions_as_ndarray datasetpositionsdata array extract written file eg via numpysavetxthttpsnumpyorgdocstablereferencegeneratednumpysavetxthtml mean exampl analyz pressur exampl perform postprocess directli xarray dataset evalu potenti pressur observ simul introduc earlier_md_intromdexamplepressur use xarrayhttpxarraypydataorg pandashttpspandaspydataorg analysi interact data explor recommend run code jupyt notebookhttpsjupyterorg play around suggest paramet like window size etc load trajectori dataset first load trajectori dataset visual temperatur python import xarray xr load trajectori dataset trajectorync disk xarraydataset dataset xrload_datasettrajectorync extract temperatur potenti pressur data convert pandasdatafram df_temperature_pressur all_datatemperatur pressure_potentialto_datafram attach move averag width timestep temperatur df_temperature_pressuretemperature_mean df_temperature_pressuretemperaturerollingwindowmean plot temperatur temperature_mean function time ax df_temperature_pressuretemperatur temperature_meanplot axset_xlabeltim fs axset_ylabeltemperatur k info df_temperature_pressureplot imageassetsmd_temperaturepng sinc calcul start atom locat equilibrium posit initi potenti energi zero kinet energi correspond k sinc setup veloc use maxwellboltzmann distribut first step trajectori kinet energi partial convert potenti energi turn temperatur drop rm k rm k miss thermal energi obtain temperatur k gradual provid thermostat bring nuclear temperatur back sim rm k rm ps discard thermal period remov thermal period simul data eg shift dataframehttpspandaspydataorgpandasdocsstablereferenceapipandasdataframeshifthtml python discard step ps thermal shift df_temperature_pressur df_temperature_pressureshiftshiftdropna df_temperature_pressuretemperatur temperature_meanplot info df_temperature_pressureplot remov simul step rm ps imageassetsmd_temperature_thermalizedpng inspect pressur readi inspect pressur observ simul plot includ cumul averag python aseunit import gpa p df_temperature_pressurepressure_potenti gpa ax pplotalpha pexpandingmeanplotaxax colork info plot pressur imageassetsmd_pressurepng expect valu converg estim discuss earlier_md_intromd expect valu pressur given mean observ pressur beginalign leftlangl p_rm pot rightrangl lim_n_rm rightarrow infti fracn_rm sum_nn_rm p_rm potbf r t_n labeleqppot endalign finit simul n_rm infti beginalign leftlangl p_rm pot rightrangl leftlangl p_rm pot rightrangle_n_t delta labeleqp_fin endalign leftlangl p_rm pot rightrangle_n_t rm gpa mean pressur observ finit simul delta unknown differ fulli converg expect valu although full converg would requir infinit trajetcori length thu formal never reachabl one get arbitrarili close practic estim magnitud error delta estim error comput sigma_langl p rangl _standard error mean_httpsenwikipediaorgwikistandard_error beginalign delta approx sigma_langl p rangl fracsigma_psqrttild n_t labeleqsigma_o endalign sigma_p standard deviat pressur distribut observ simul tild n_t estim number _uncorrelated_ sampl provid simul end estim beginalign tild n_t n_t tau labeleqn endalign tau correl time pressur straightforward way comput tau evalu autocorrel functionhttpsenwikipediaorgwikiautocorrel estim decay time python estim correl time import panda pd scipi import signal si substract mean pressur pp p pmean get autocorrel function httpsdocsscipyorgdocscipyreferencegeneratedscipysignalcorrelatehtml corr sicorrelatepp pplenpp normal c corr corr creat pandasseri plot pdseriescorrrollingmin_period windowmean ax splot estim correl time drop tau sindexwher min axaxvlinetau axset_xlim axset_titleftau inttau step info plot pressur autocorrel function imageassetsmd_autocorrpng present exampl observ decorrel time step equiv rm fs therefor estim number uncorrel sampl beginalign tild n_t n_t approx endalign standard deviat pressur distribut beginalign sigma_p rm gpa endalign accord eq eqrefeqsigma_o sigma_langl p rangl fracsqrtrm gpa approx rm gpa final result pressur accord eq eqrefeqp_fin beginalign langl p_rm pot rm k rangl pm rm gpa endalign mean result converg within estim precis remark _not_ mean true expect lie within given rang estim error understood sens confid intervalhttpsenwikipediaorgwikiconfidence_intervalpractical_exampl size error signal calcul fulli converg sampl time would necessari report observ pressur confid find refer total simul time rm ps herehttpsgitlabcomvibesdevelopersvibestutorialfilestreemaster_molecular_dynamicsab_initiosi__long valu error chang physic question observ potenti pressur neg _why_ expect posit neg lattic expans rm k info code snippet comput mean error estim python mean pmean std pstd err std lenp tau printfmean meanf gpa printfstd stdf gpa printferror errf gpa abserr mean f exampl exampl directli work trajectori dataset trajectorync pleas look ase workshop tutorialhttpsgitlabcomfloknoase_workshop_tutorial_ analyz _ab initio_ md data perovskit tutori warn warn tutori assum background _ab initio_ calcul fundament theori vibrat solid background theori written establish common notat introduct topic found variou textbook find referencesreferencesmd set use throughout tutori chosen order allow smooth calcul _not_ suffici produc publicationreadi scientif result assum installedinstallationmd configuredinstallationmdconfigur fhivib success assum work experi python numpi jupyternotebook tutori introduc function fhivib handson exampl outlin follow tutori avail singl point calculations_singlepointmd geometri optimization_geometry_optimizationmd phonon calculations_phonopy_intromd molecular dynamics_md_intromd harmon sampling_statistical_samplingmd anharmon quantification_anharmonicity_quantificationmd highthroughput workflowshigh_throughputtutorial_configuring_fw_for_vibesmd tutori discuss fccsilicon treat _ab initio_ level use fhiaim lda exchangecorrel function although moder comput ressourc need mostli minut runtim modern multicor node tutori intend run comput cluster sinc aim showcas typic fhivib usag info assum familiar run fhiaim perform _ab initio_ calcul typic fhivib requir two file one describ geometri system follow syntax use geometryin file fhiaim fccsilicon primit unit cell thu read info geometri input file geometryin lattice_vector lattice_vector lattice_vector atom_frac si atom_frac si second file describ comput task numer paramet use calcul accordingli also contain calcul section specifi fhiaim shall use lda level theori numer set shall use silicon exampl tutori section thu read info calcul section task put file file geometri geometryin calcul name aim socketio true calculatorparamet xc pwlda compute_forc true calculatorkpoint densiti calculatorbasisset si light let walk set file geometri geometryin read input geometri geometryin calcul name aim mean fhiaim use explain heredocumentationcalculator_setupmdcalcul socketio true mean socketio commun use speed comput relat structur calculatorparamet set go directli controlin xc pwlda mean pwlda exchangecorrel function use compute_forc true mean forc comput calculatorkpoint option way set kpoint grid base target densiti specifi k_grid x z calculatorparamet also possibl densiti use kpoint densiti least per requiremediawikitexvc aa calculatorbasisset detail basisset use si light use _light default_ basi set silicon detail keyword found document info experi test rapid codedevelop often use use forcefield instead _ab initio_ calcul instanc one use lennardjon lj potenti avail within ase run tutori ljargon calcul take second even older laptop requir geometri descript calcul set given info geometri put file geometryin lattice_vector lattice_vector lattice_vector atom ar info calcul section task input file file geometri geometryin calcul name lj calculatorparamet paramet lj argon sigma epsilon rc name_geometryoptimizationa tutori learn perform geometri optim fhivib info give explicit refer ldasilicon use ljargon differ lie definit calcul calcul section respect structur defin geometryin defin input start relax use geometryin file silicon primit unit cell discuss introduction_intromdtestsystem copi actual empti directori work gener task input file run relax copi calcul inform test system_intromdtestsystem file call relaxationin next use command line interfac cli fhivib obtain default set perform relax append input file vibe templat relax relaxationin case ldasilicon fhiaim calcul newli gener input file relaxationin look like info relaxationin file geometri geometryin calcul name aim socketio true calculatorparamet xc pwlda calculatorkpoint densiti calculatorbasisset default light relax driver bfg fmax unit_cel true fix_symmetri fals hydrostatic_strain fals constant_volum fals scalar_pressur decim symprec e workdir relax relaxationkwarg maxstep logfil relaxationlog restart bfgsrestart set file templat gener contain necessari set set run geometri optim fhivib use fhiaim forcestress calcul fhivib perform bfg optim structur implement asehttpswikifysikdtudkaseaseoptimizehtmlbfg keyword explain documentationdocumentationrelaxationmd run calcul start interact calcul vibe run relax incorpor command respect submiss file see sec singlepoint suggest pipe output eg like vibe run relax tee logrelax fhivib creat work directori default name relax handl run fhiaim calcul necessari perform geometri optim log read like info relaxationlog vibesrun run relax workflow set relaxationin relax dracouchristiacodesvibes_vtutorialsgrrelaxationtrajectoryson exist noth prepar calcul updat aim k_grid kpt densiti calcul add sc_accuracy_rho e paramet default calcul add relativist atomic_zora scalar paramet default calcul add compensate_multipole_error fals paramet default calcul add output_level md_light paramet default calcul add basisset light atom si basisset folder calcul calcul aim calcul set calcul xc pwlda calcul compute_forc true calcul k_grid calcul sc_accuracy_rho e calcul relativist atomic_zora scalar calcul compensate_multipole_error fals calcul output_level md_light calcul compute_analytical_stress true calcul use_pimd_wrapp localhost calcul aims_command uchristiacodesvibes_vrun_aimssh calcul species_dir dracouchristiacodesvibes_vtutorialsgrrelaxationbasisset relax filter set relax hydrostatic_strain fals relax constant_volum fals relax scalar_pressur relax driver bfg relax set relax type optim relax optim bfg relax maxstep socketio use socketio host localhost port relax filter set relax hydrostatic_strain fals relax constant_volum fals relax scalar_pressur relax start step relax step finish relax residu forc mevaa relax residu stress mevaa vibe space group fdm relax clean atom log relax log relax step finish relax residu forc mevaa relax residu stress mevaa vibe space group fdm relax clean atom log relax log relax step finish relax residu forc mevaa relax residu stress mevaa vibe space group fdm relax clean atom log relax log relax relax converg relax done find fhiaim output relaxationcalcul final converg structur relaxationgeometryinnext_step summari relaxt path relaxationrelaxationlog detail summari relax path may run vibe info relax relaxationtrajectoryson info output relax info relaxationtrajectoryson fmax e mevaa step free energi ff max forc max stress volum spacegroup ev mev mevaa mevaa aa fdm converg harmon sampl warn warn never ever reli estim obtain follow method _without check relev anharmon effects_ see next tutorial_anharmonicity_quantificationmd tutori assum familiar perform phonon calculations_phonopymd thermodynam sampl via md simul outlin md tutorial_md_intromd md simul provid way sampl phase space order obtain thermodynam expect valu observ beginalign langl rangl lim_t_ rightarrow infti fract_ int_t_ rm left mathbfr bf p tright labeleqo endalign left mathbfr bf p right denot instantan valu observ obtain phasespac configur bf r bf p evalu respect full manybodi hamiltonian mathcal h bf p bf r exampl could instantan pressur use md tutorial_md_postprocessmd circumv dynam propag gener sampl harmon distribut md simul manybodi potenti mathcal v need evalu _both_ propag dynam evolut system evalu observ along trajectori conceptu level evalu observ necessari provid estim thermodynam expect valu _if repres sampl gener means_ follow westreferencesmdwest present way creat sampl base harmon approximation_phonopy_intromd approxim potenti given beginalign mathcal v bf r frac sum_i j delta bf r_i cdot phi_ij delta bf r_j labeleqv endalign time forc constant matric phi_ij atom displac delta bf r_i newton equat motion therefor read beginalign left beginarrayc m_ delta ddotmathbfr_ m_ delta mathbfr_ vdot m_n delta ddotmathbfr_n endarrayrightleftbeginarraycccc phi_ phi_ cdot phi_ n phi_ phi_ cdot phi_ n vdot vdot ddot vdot phi_n phi_n cdot phi_n n endarrayrightleftbeginarrayc delta mathbfr_ delta mathbfr_ vdot delta mathbfr_n endarrayright endalign solv analyt yield beginalign delta bf r_i fracsqrtm_i sum_ bf e_si a_ sin omega_ phi_ labeleqrt endalign bf e_si denot eigenvector dynam matrix d_ij phi_ij sqrtm_i m_j correspond atom phonon mode omega_ respect frequenc cf phonon tutorial_phonopy_intromdphononsharmonicvibrationsinsolid amplitud a_ phase phi_ fix initi condit bf r t_ bf p t_ thermal equilibrium dovereferencesmddov beginalign leftlangl a_srightrangl sqrt frachbaromega_sleftn_mathrmbomega_ tfracright stackrelk_rm b gg hbar omega_slongrightarrow fracsqrt k_rm b tomega_ labeleqa endalign note sin omega_ phi_ essenti random number mimick thermal fluctuat sampl gener beginalign delta bf r_i n fracsqrtm_i sum_ zeta_ n leftlangl a_srightrangl bf e_ labeleqsampl endalign langl a_ rangl given eq eqrefeqa zeta_ n normal distribut random number n label sampl exampl ldasi k obtain forc constant reus calcul previou tutori phonon calculations_phonopymd convent cell atom didnt run calcul find respect calcul refer repositoryhttpsgitlabcomvibesdevelopersvibestutorialfilestreemaster_phonopysc_ start perform postprocess_phonopymdbasicpostprocess phonopi folder cd phonopi vibe output phonopi bs check bandstructur outputbandstructurepdf plausibl remap forc constant supercel forc constant written outputforce_constantsdocumentationoutput_filesmdforce_const condens represent n_rm prim n shape n_rm prim number atom primit cell n number atom supercel creat sampl need map full n time n shape done cli tool vibe util fc remap cd output vibe util fc remap creat force_constants_remappeddocumentationoutput_filesmdforce_constants_remap plain numpi readabl text file current folder phonopyoutput contain follow file ls bandstructurepdf bandyaml force_const force_constants_remap geometryinprimit geometryinsupercel readi creat sampl accord eq eqrefeqsampl creat sampl sampl creat cli tool util createsampl creat sampl accord eq eqrefeqsampl temperatur rm k run vibe util createsampl geometryinsupercel fc force_constants_remap n geometri file written geometryinsupercellk current directori let move folder call samples_k mkdir samples_k mv geometryinsupercel samples_k creat new work directori copi file geometryinprimit geometryinsupercel copi samplesfold samples_k move directori _remark copi geometryinprimit option howev alway know start might save hour unnecesari work point _ comput sampl order comput pressur sampl prepar aimsin like file geometri samples_kgeometryin primit geometryinprimit supercel geometryinsupercel calcul name aim socketio true workdir aims_k calculatorparamet xc pwlda compute_analytical_stress true calculatorkpoint densiti calculatorbasisset default light run calcul structur found samples_kgeometryin discuss earlier tutori singlepoint calculations_singlepointmd write result trajectoryson file directori aims_k run calcul vibe run singlepoint aimsin tee logaim take minut depend machin compar sampl vs md similar md_md_ab_initiomdpostprocess creat trajectori dataset trajectoryson run vibe output md cd aims_k vibe output md sinc md time axi dataset simpli label sampl instead correspond actual simul time dataset trajectorync inspect similar md case_md_postprocessmd exampl run python import xarray xr aseunit import gpa ds xrload_datasettrajectorync p dspressure_potentialto_seri gpa ax pplotmarkerx lw pexpandingmeanplotaxax colork axset_xlabelsampl number info pressur plot imageassetsmc_pressurepng mean pressur standard error_md_postprocessmdexpectationvalueandconvergenceestimationfootnot beginalign langl p_rm pot rm k rangl pm rm gpa endalign converg precis sim howev superscript langl cdot rangl remind us use harmon approxim creat sampl inde pressur found harmon sampl larger md refer comput previou tutorial_md_postprocessmdexpectationvalueandconvergenceestim yet two valu coincid within error margin sampl side would need comput actual differ two sampl techniqu take home messag sampl trick use rapidli estim expect valu static observ typic converg order magnitud faster md simulationfootnot sampl trick work harmon approxim good refer system interest might might case difficult tell _a priori_ present scheme estim import anharmon effect next chapter tutori footnot sampl uncorrel construct tau tild n_t n_t case footnot rememb correl length step md case sampl creat harmon distribut uncorrel per construct singlepoint calcul info assum familiar fhiaim calcul learn perform fhivib tutori howev transfer calcul support ase tutori learn perform singlepoint calcul fhivib silicon equilibrium discuss introduct requir two file geometri system given info geometryin lattice_vector lattice_vector lattice_vector atom_frac si atom_frac si file desrib comput tak contain calcul set discuss introduct addit contain section file point geometri shall calcul info aimsin file geometri geometryin calcul name aim socketio true calculatorparamet xc pwlda compute_forc true calculatorkpoint densiti calculatorbasisset si light run calcul interact via vibe run singlepoint aimsin tee logaim submit queue comput cluster info exampl submitsh slurm queue manag binbash l sbatch j mdvibe sbatch logmdj sbatch e logmdj sbatch mailtypeal sbatch mailuseryourmailcom sbatch node sbatch ntaskspernod sbatch ntaskspercor sbatch make sure correct python environ set eg modul load miniconda sourc activ vibe vibe run singlepoint aimsin logaim calcul take second yield follow output info logaim vibesrun run singlepoint calcul set aimsin calcul updat aim k_grid kpt densiti calcul add sc_accuracy_rho e paramet default calcul add relativist atomic_zora scalar paramet default calcul add compensate_multipole_error fals paramet default calcul add output_level md_light paramet default calcul add basisset light atom si basisset folder calcul calcul aim calcul set calcul xc pwlda calcul compute_forc true calcul k_grid calcul sc_accuracy_rho e calcul relativist atomic_zora scalar calcul compensate_multipole_error fals calcul output_level md_light calcul use_pimd_wrapp localhost calcul aims_command uchristiacodesvibes_vrun_aimssh calcul species_dir dracouchristiacodesvibes_vtutorialsspc_aimsbasisset socketio use socketio host localhost port backup dracouchristiacodesvibes_vtutorialsspc_aimscalcul exist noth back vibe comput structur work vibe comput structur finish calcul creat work directori call aim tradit input file fhiaim controlin geometryin well output file aimsout found aimscalcul addit vibe produc trajectori file aimstrajectoryson contain salient inform postprocess particularli use adavanc task tackl next tutori data file extract store xarraydataset trajectorync see document output filesdocumentationoutput_filesmd purpos run vibe output trajectori aimstrajectoryson yield output info output vibe output trajectori extract trajectori dataset command trajectori trajectori pars aimstrajectoryson son read file aimstrajectoryson son process trajectori time elaps trajectori creat atom trajectori time elaps trajectori done trajectori get posit trajectori messag file vibestrajectorytrajectorypi line function time time unit found trajectori metadata use aseunitsf warn file vibestrajectorytrajectorypi line function time time step found return time index uchristialocallibpythonsitepackagesnumpycorefromnumericpi runtimewarn mean empti slice outout kwarg uchristialocallibpythonsitepackagesnumpycore_methodspi runtimewarn invalid valu encount double_scalar ret retdtypetyperet rcount trajectori time elaps trajectori get veloc trajectori trajectori time elaps warn file vibestrajectorytrajectorypi line function set_displac supercel set comput wrt refer atom trajectori comput displac trajectori time elaps trajectori get pressur trajectori trajectori time elaps trajectori dataset written trajectorync multipl singlepoint calcul one run fhivib offer possibl run set relat calcul singl run relat calcul mean input geometri allow differ posit andor lattic stoichometri number atom well comput set must system instanc one run singlepoint calcul follow two geometri info geometryin lattice_vector lattice_vector lattice_vector atom_frac si atom_frac si info geometryin lattice_vector lattice_vector lattice_vector atom_frac si atom_frac si differ first fraction coordin first atom use geometri tag file aimsin info aimsin file geometri geometryin calcul name aim socketio true calculatorparamet xc pwlda compute_forc true calculatorkpoint densiti calculatorbasisset si light note fhivib support wildcard read input file sort input file found wildcard alphabet run calcul interact via vibe run singlepoint aimsin tee logaim submit queue submit calcul cluster effici perform _ab initio_ calcul system larger atom need workstat access comput cluster submit vibe simul cluster follow step instal fhivib clusterinstal set calcul done earlier laptop submit vibe run command queue info exampl submitsh slurm queue manag binbash l sbatch j mdvibe sbatch logmdj sbatch e logmdj sbatch mailtypeal sbatch mailuseryourmailcom sbatch node sbatch ntaskspernod sbatch ntaskspercor sbatch vibe run singlepoint aimsin log file written log folder default task vibe write submit submitsh file singl command see document slurm submissiondocumentationinput_files_slurmmd restart calcul calcul fit walltim stop anoth reason total number simul step reach simpli resubmit vibe run restart calcul last complet step also hold vibe run phonopi vibe run md explain later automat restart option vibe restart job use restart section input file eg aimsin end add restart command sbatch submitsh aimsin sbatch submitsh command use submit calcul queue vibe run command shortli walltim restart job acknowledg tutori base tutori prepar annual dft beyond workshop seri maja lenz christian carbogno martin fuch felix hank jörg meyer karsten rasim manuel schottler amrita bhattacharya honghui shang johann hoja anharmon quantif warn tutori assum familiar perform phonon calculations_phonopymd molecular dynam simulations_md_ab_initiomd background detail paperhttpsarxivorgab defin anharmon contribut potenti energi mathcal v bf r beginalign mathcalvrm amathbfr equiv mathcalvmathbfrmathcalvmathbfr labeleqva endalign mathcalvmathbfr given atom configur bf r given beginalign mathcalvleftmathbfrmathbfrdelta mathbfrright frac sum_i j phi_alpha betai j delta r_ialpha delta r_jbeta labeleqv endalign harmon forc constant phiij_phonopy_intromd obtain equilibrium configur bf r beginalign phi_alpha betai j leftfracparti mathcalvparti r_ialpha partial r_jbetaright_mathbfr labeleqphi endalign likewis defin anharmon contribut forc compon f_i alpha bf r beginalign f_i alphamathrmamathbfr f_i alphamathbfrf_t alphamathbfrtext labeleqfa f_i alpha sum_j beta phi_alpha betai j delta r_jbeta labeleqf endalign depict eq eqrefeqva eqrefeqfa onedimension toy potenti imageassetspes_sketchpng order estim strength anharmon effect materi defin _anharmon measure_ beginalign sigmamathrmat equiv fracsigmaleftfmathrmaright_tsigmaf_tsqrtfracsum_i alphaleftlangleleftf_i alphamathrmarightrightrangle_tsum_i alphaleftlangleleftf_i alpharightrightrangle_t labeleqsigmaa endalign langl cdot rangle_t denot expect valu given temperature_md_postprocessmdexpectationvalueandconvergenceestim beginalign leftlangl rightrangl lim _n_mathrmt rightarrow infti fracn_mathrmt sum_nn_mathrmt leftt_nright labeleqmeano endalign f_i alpha equiv f_i alpha bf r forc compon alpha atom time frm a_i alpha given eq eqrefeqfa sigmarm therefor quantifi _averag strength anharmon forc compon f_i alpharm normal averag strength forc f_i alpha observ temperatur t_ evalu anharmon fhivib necessari ingredi evalu eq eqrefeqsigmaa atom forc f_i alpha harmon forc constant phiij comput f accord eq eqrefeqf evalu frm accord eq eqrefeqfa thermodynam expect valu accord eq eqrefeqmeano ingredi obtain fhivib follow workflow take materi interest gener refer structur ie primit cell supercel obtain forc constant supercel introduc phonon tutorial_phonopymd run md simul supercel introduc md tutorial_md_ab_initiomd exampl ldasilicon room temperatur assum perform previou tutori ldasilicon atom supercel alreadi necessari ingredi avail evalu sigmarm system new work directori copi trajectorync dataset md tutorial_md_ab_initiomd forc constant phonopi tutorial_phonopymd ie file phonopyoutputforce_const attach forc constant trajectori dataset cli tool util trajectori updat vibe util trajectori updat trajectorync fc force_const attach read forc constant force_const attach trajectori dataset evalu eq eqrefeqsigmaa use cli tool info anharmon vibe info anharmon trajectorync give total sigmarm valu sigma well individu valu atom speci output datafram sigma sigma si sigma_atom_mean sigma_mod si tell averag magnitud anharmon contribut forc frm ldasilicon rm k mode resolv anharmon obtain moderesolv sigmarm a_ similar analysi fig paperhttpsarxivorgpdfpdf run vibe info anharmon trajectorync per_mod produc csv file contain mode frequenc omega_ thz respect moderesolv anharmon sigmarm a_ plot file eg via python import panda pd pdread_csvsigmaa_mode_sicsv index_col ax splotmark lw axset_xlim axset_ylim axset_xlabelomega_ thz axset_ylabelrsigmarm a_ info plot sigmarm a_ imageassetssigma_mode_sipng plot wont look impress use small supercel anharmon silicon overal quit weak good go investig anharmon materi choic happi comput name_phonopya info prerequisit vibrat studi crucial use structur accur relax start actual phonon calcul make sure familiar geometri optimization_geometry_optimizationmd creat new work directori copi geometryinnext_step file obtain previou geometri optim new geometryin file assum alreadi work knowledg work phonopyhttpsphonopygithubiophonopyindexhtml understand underli methodhttpsphonopygithubiophonopyformulationhtml perform phonon calcul set phonopi calcul similar set relax workflow support fhivib ensur physic set dont chang copi relaxationin obtain previou part tutorial_geometry_optimizationmd new work directori renam phonopyin pleas delet relax specif section relax relaxationkwarg add set phonopi calcul run vibe templat phonopi phonopyin info phonopyin calcul name aim calculatorparamet xc pwlda calculatorkpoint densiti calculatorbasisset default light calculatorsocketio port phonopi supercell_matrix displac is_diagon fals is_plusminu auto symprec e q_mesh workdir phonopi obvious import section phonopyin input file phonopi containt inform supercel displac set comput forc constant finitediffer method_intromdphonon explan full list keyword found documentationdocumentationphonopymd import two explan follow supercel matrix supercell_matrix supercel matrix m_rm given supercell_matrix use gener lattic supercel lattic primit unitcel matrix multiplicationhttpsphonopygithubiophonopyphonopymodulehtmlsupercellmatrix beginalign requiremediawikitexvc defttext beginpmatrix mathbf a_tstt mathbf b_tstt mathbf c_tstt endpmatrix m_t cdot beginpmatrix mathbf a_tutt mathbf b_tutt mathbf c_tutt endpmatrix labeleqsmatrix endalign mathbf a_tutt mathbf b_tutt mathbf c_tutt transpos lattic vector rowvector primit unit cell mathbf a_t mathbf b_t mathbf c_t label lattic vector supercel respect supercell_matrix given shape let transform trivial time matrix exampl get transform time unit matrix displac displac displac tag set amplitud finit displac aa paramet call displacement_dist phonopyhttpsphonopygithubiophonopysettingtagshtmldisplacementdist principl numer paramet need optim smaller discplac result better approxim true second deriv potenti howev small displac gener small forc sever affect sourc comput nois eg finit grid etc product purpos default valu aa usual work quit well properli set forc calcul need increas displac run calcul let stick default set phonopyin moment run calcul vibe run phonopi tee logphonopi calcul take second depend comput postprocess vibe run command take care _ab initio_ calcul perform addit postprocess need obtain phononrel quantiti postprocess perform interactivley vibe output phonopi phonopytrajectoryson full note termin output phonopypostprocess start phonopi postprocess trajectori pars phonopytrajectoryson son read file phonopytrajectoryson son process trajectori creat atom progress trajectori done phonopypostprocess done phonopypostprocess extract phonopi result phonopypostprocess q_mesh phonopypostprocess write forc constant phonopypostprocess extract basic result phonopypostprocess write primit cell phonopypostprocess write supercel phonopypostprocess write forc constant force_const phonopypostprocess extract bandstructur phonopypostprocess write yaml phonopypostprocess plot phonopypostprocess file written phonopyoutput messag file vibesphonopypostprocesspi line function check_negative_frequ neg frequenc found g mode frequenc e thz e thz phonopypostprocess frequenc gamma point q weight mode frequenc thz thz thz thz thz thz comput phonon bandstructur along high symmetri path brillouin zonehttpswikifysikdtudkaseasedftkpointshtmlhighsymmetrypath save phonopyoutputbandstructurepdf comput densiti state use time time bf q point grid tetrahedron method densiti state plot alongsid bandstructur file outputbandstructure_dospdf written data file total_dosdathttpsphonopygithubiophonopyoutputfileshtmltotaldosdatandprojecteddosdat qgrid adjust specifi addit flag q_mesh comput harmon free energi frm ha harmon heat capac constant volum c_v ie thermal properti access harmon approxim use do qpoint set overview plot save outputthermal_propertiespdf detail output written outputthermal_propertiesyamlhttpsphonopygithubiophonopyoutputfileshtmlthermalpropertiesyaml creat anim file visual v_simhttpwwwmemlabfrenpagesl_simsoftwaresv_simaspx write phonopyyaml load phonopi object directli within pythonhttpsphonopygithubiophonopyphonopymodulehtmlshortcuttoloadinputfilesphonopyload info bandstructur imagebandstructurepng congratul perform full yet converg _ab initio_ phonon bandstructur calcul note cli also allow run subset postprocess eg vibe output phonopi phonopytrajectoryson v bs output bandstructur choos supercel size info ideal supercel size shape depend problem hand difficult give definit advic practic supercel size need converg target properti interest chang anymor facilit cli tool help creat supercel differ size cli utilitydocumentationclimdvibesutil infhivib help find supercel differ size vibe util makesupercel exampl vibe util makesupercel geometryin n find convent cubic cell silicon atom set target number atom supercel matrix python cmdline superlattic number atom cubic largest cutoff aa number displac supercel written geometryinsupercell_ tell supercel matrix use phonopyin python gener superlattic cubic score base fill ratio largest sphere fit cell largest cutoff neighbor period imag closer neighbor estim boundari effect number supercel displac phonopi creat also write structur geometryinsupercell_ inspect eg jmol run calcul supercel one need replac supercel keyword phonopi section requir valu phonopi supercell_matrix rememb use new work directori mess previou result info forc constant obtain supercel atom reus later tutori pleas dont delet practic guidelin practic converg supercel size need alway check care sinc depend rang interact present system eg long rang unscreen vanderwa interact requir larger supercel shortrang coval one si along line accept supercel size depend also properti interest free energi specif heat converg faster individu frqueneci use cubicasposs supercel shape play around vibe util makesupercel littl bit experi job exampl hand might instanc instruct check converg differ properti larger supercel size find calcul supercel size atom tutori repositoryhttpsgitlabcomvibesdevelopersvibestutorialfilestreemaster_phonopi consid calcul converg rapid prototyp empir forcefield aim tutori learn use forcefield within fhivib purpos use lennardjon argon test case_intromdtestsystem rm k perform exact calcul step discuss ldasilicon previou tutori sinc forc evalu toy system order magnitud faster compar _ab initio_ method allow quickli test illustr influenc vario comput paramet md instanc suggest test workflow variou supercel size temperatur timestep etc warn tutori mimic essenti step perform md simul bulk system obtain initi structur project cours highli depend system aim studi etc tutori need ase yet releas instal recent ase version pip instal httpsgitlabcomaseasearchivemasterasemastertargz structur prepar gener structur copi argon structure_intromdtestsystem file call geometryinprimit primit cell use cli gener supercel atom vibe util make_supercel geometryinprimit n tri find cubicasposs supercel roughli atom write input file info output vibe util make_supercel geometryinprimit n find supercel vibe geometri info input geometri ar symmetri prec e number atom speci ar period true true true spacegroup fmm wyckoff posit equival atom set target number atom supercel matrix python cmdline superlattic number atom cubic largest cutoff aa supercel written geometryinprimitivesupercell_ case find perfectli cubic supercel atom write geometryinprimitivesupercell_ obtain detail inform structur run vibe info geometri geometryinprimitivesupercell_ info output vibe info geometri geometryinprimitivesupercell_ vibe geometri info input geometri ar symmetri prec e number atom speci ar period true true true lattic cubic largest cutoff aa spacegroup fmm wyckoff posit equival atom cell length angl å b c α β γ volum å volum per atom å addit inspect gener structur structur viewer choic eg jmolhttpjmolsourceforgenet info jmol geometryinprimitivesupercell_ imageassetsgeometryinsupercellpng assum happi structur save supercel mv geometryinprimitivesupercell_ geometryinsupercel pretherm structur speed thermal pretherm system give momenta atom accord maxwellboltzmann distribut target temperatur rm k done cli util createsampl vibe util createsampl geometryinsupercel info output vibe util createsampl geometryinsupercel vibe cli create_sampl vibe geometri info input geometri ar symmetri prec e number atom speci ar period true true true spacegroup fmm wyckoff posit equival atom vibe geometri info input geometri ar symmetri prec e number atom speci ar period true true true spacegroup fmm wyckoff posit equival atom vibe use maxwel boltzamnn set sampl vibe sampl vibe temperatur clean k vibe remov net momentum sampl forc temperatur vibe temperatur sampl k vibe sampl vibe temperatur sampl k vibe written geometryinsupercellk geometri written geometryinsupercellk includ appropri veloc use structur chosen veloc initi structur md run suggest renam file geometryin accordingli run md prepar mdin run md need creat input file end copi calcul section lennardjon calculator_intromdljargon file call mdin next use cli command templat add set perform nvt simul vibe templat md nvt mdin info gener mdin calcul name lj calculatorparamet paramet lj argon sigma epsilon rc md driver langevin timestep maxstep compute_stress fals workdir md mdkwarg temperatur friction logfil mdlog suggest add andor adjust follow keyword md timestep maxstep mdkwarg temperatur file geometri geometryin primit geometryinprimit supercel geometryinsupercel timestep increas rm fs argon rm k maxstep run total md step ie rm ps simul time total simul time depend system quantitiy interesttemperatur set rm k target temperatur ad primit geometryinprimit supercel geometryinsupercel file section necessari run calcul howev vibe automat attach inform trajectori get lost also make life easer post process exampl displac delta bf r_it properli calcul refer supercel known final mdin look like calcul name lj calculatorparamet paramet lj argon sigma epsilon rc md driver langevin timestep maxstep compute_stress fals workdir md mdkwarg temperatur friction logfil mdlog file geometri geometryin primit geometryinprimit supercel geometryinsupercel readi run simul run calcul run calcul cli command run recommend save output eg tee vibe run md tee mdlog depend comput calcul take minut creat trajectori dataset inspect simul process calcul data obtain time step written trajectori file mdtrajectoryson cli provid tool process trajectori creat xarraydataset end run vibe output md mdtrajectoryson command creat trajectorync dataset represent data contain md trajectori save xarraydataset netcdf file includ data view vibe info netcdf trajectorync info output vibe info netcdf trajectorync xarraydataset dimens b time coordin time time float e e dimens without coordin b data variabl posit time float displac time float veloc time float momenta time float forc time float energy_kinet time float energy_potenti time float stress time b float stress_kinet time b float stress_potenti time b float temperatur time float cell time b float positions_refer float lattice_refer b float pressur time float pressure_kinet time float pressure_potenti time float attribut name trajectori system_nam ar natom time_unit fs timestep nstep symbol ar ar ar ar ar ar ar ar ar mass atoms_refer pbc true true truencel n volum raw_metadata md n type moleculardynamicsn mdtype hash effaacdcafbbffa view simul statist get inform simul use cli command info md summar simul produc overview plot vibe info md trajectorync p command tell among thing temperatur inde thermal approxim rm k info summar temperatur simul time ps step temperatur k temperatur st k temperatur st k temperatur st k temperatur last k pdf file md_summarypdf provid visual simul properti quick saniti check simul went accord plan info md_summarypdf imageassetsmd_summarypng visual trajectori trajectori export xyz file visual atom motion eg vmdhttpswwwksuiuceduresearchvmd end run vibe util trajectori xyz trajectorync vmd trajectoryxyz info vmd trajectoryxyz imageassetsljargongif phonon info assum familiar basic phonon theori learn perform fhivib give short recap background namephononsa phonon harmon vibrat solid determin vibrat solid approxim potenti energi surfac nuclei perform taylor expans total energi mathcal vbf r around equilibrium posit requirecancel beginalign defvecmathbf defttext mathcal v leftvecr delta vecrright approx mathcal vleftvecrright cancel sumlimits_i leftfracparti mathcal vpartial vecr_irightvert_vecr deltavecr_i frac sumlimits_ij leftfracparti mathcal vpartial vecr_iparti vecr_jrightvert_vecr deltavecr_ideltavecr_j mathcalodeltavecr endalign linear term vanish sinc forc vecf nabla mathcal v act system equilibrium vecr assess hessian phi_ij fracparti mathcal vpartial vecr_iparti vecr_j involv addit complic contrast forc vecf depend densiti hessian phi_ij also depend deriv respect nuclear coordin ie _response_ nuclear displac one either use _densiti function perturb theori dfpt_ baronireferencesmdbaroni comput respons one circumv problem perform second order deriv _numer finit differences_ beginalign phi_ij leftfracparti mathcal vpartial vecr_iparti vecr_jrightvert_vecr leftfracparti partial vecr_i vecf_jrightvert_vecr lim_epsilon rightarrow frac vecf_jvecr_i epsilon vecd_iepsilon labeleqfindiff endalign tutori definit eqeqrefeqfindiff help realiz hessian describ coupl differ atom ie forc act atom vecr_j chang displac atom vecr_i alreadi learn tutori howev addit complex aris case _period boundari conditions_ sinc besid atom unit cell vecr_j also need account period imag vecr_j accordingli hessian principl matrix infinit size nonion crystal howev interact two atomsi j quickli decay distancevecr_ij comput hessian finit supercel size converg must accur inspect realspac represent hessian comput determin _dynam matrix_ ad contribut period imagesj massscal fourier transform hessian beginalign d_ijvecq sumlimits_j fract etim leftvecqcdotvecr_jjrightsqrtm_i m_j phi_ij quad labeldynmat endalign reciproc space ashcroftmerminreferencesmdashcroftmermin _dynam matrix_ determin equat motion period array harmon atom reciproc vectorvecq beginalign dvecq vec e_ vecq omega_svecq vec e_ vecq labeleqeigenproblem endalign dynam matrix dimens n_ta time n_ta n_ta number atom primit unit cell equationeqrefeqeigenproblem thu constitut eigenvalu problem n_ta solut vec q point solut label denot phonon branch lowest three branch commonli call acoust branch wherea solid one atom primit unit cell remain n_ta branch denot optic branch eigenvaluesomega_svecq eigenvectorsvec e_svecq dynam matrixdvecq complet describ dynam system harmon approxim noth els superposit harmon oscil one mode ie eigenvalueomega_ vecq set eigenvalu omega_ vecq also denot spectrum densiti state do obtain calcul number state infinitesim energi window omega omega omega beginalign gomega sum_sintfract vecqpideltaomega omegavecq sum_sintlimits_omegavecq omegafractdspifracvertnablaomegavecqvert labeldo endalign do use quantiti sinc allow determin integr integrand depend omega simpl integr onedimension variableomega rather threedimension variablevecq much easier handl numer analyt model instanc comput associ thermodynam potentialfootnot ie harmon helmholtz free energyfootnot beginequ fmathrmhatv int omega gomega left frachbaromega k_tb lnlefttefrachbaromegak_tbtright right labelhfvt endequ turn allow calcul heat capac constant volum beginequ c_v leftfracparti fmathrmhatvparti right_v labelcv endequ comprehens introduct field lattic dynam foundat refer bornhuangreferencesmdbornhuang comput quantiti introduc use fhivib use packag _phonopy_ togoreferencesmdtogo backend comput vibrat properti via finitedisplac method outlin pleas note _phonopy_ make extens use symmetri analysi parlinskireferencesmdparlinski allow reduc numer nois speed calcul consider system choic fccdiamond silicon run tutori well ljargon_intromdtestsystemsforthetutori warn follow exercis comput set particular reciproc space grid tag k_grid basisset supercel size chosen allow rapid comput exercis _real_ product calcul reciproc space grid basi set supercel would converg much care although qualit trend hold alreadi present set recap solid state physic brillouin zone know period atom posit lattic reflect fact suffici look bf q valu within first brillouin zone reciproc lattic wave vector bf q lie outsid first brillouin zone correspond wave whose wavelength _shorter_ distanc period imag atom thu repres equal well wave longer wavelength ie smaller wave vector bf q taken within first brillouin zonehttpsenwikipediaorgwikiphononcrystal_momentum high symmetri point brillouin zone silicon fcc diamond structur display info plot brillouin zone fcc lattic imageassetsbz_fccpng label point correspond bf q valu high symmetri mean symmetri oper point group lattic leav point invari reciproc space vector p dresselhau list high symmetri point lattic geometri vibe run vibe info geometri geometryin v info list high symmetri point special k point g k l u w x pleas note list point given fraction coordin coeffici _reciprocal_ lattic mean symbol gamma g x etc take look wikipedia articlehttpsenwikipediaorgwikibrillouin_zonecritical_point bandstructur connect two bf q point brillouin zone solv eigenvalu problem bf q point plot obtain dispers omega q versu q obtain socal phonon bandstructur bandstructur typic comput path brillouin zone connect sever high symmetri point footnot given _boseeinstein distribution_ use deriv harmon free energi case get correct quantummechan result includ zeropoint effect mean footnot deriv eqeqrefhfvt present tutori molecular dynam simul _ab initio_ molecular dynam info introduc _ab initio_ molecular dynam simul atom forc come firstprincipl code use fhiaim calcul follow assum familiar run md simul differ context learn run md fhivib familiar run fhiaim calcul option familiar run fhiaim calcul workstat comput cluster _ab initio_ molecular dynam simul md simul forc comput first principl eg use densiti function theori dft lda gga xcfunction bornoppenheim approxim thu beginalign mathcal v bf r e_rm totrm dft bf r labeleqp endalign potenti energi mathcal vbf r given atom configur bf r given total energi e_rm totrm dft bf r electron nuclear system comput structurefootnot given singl dft calcul requir step trajectori md calcul comput expens calcul perform tutori set ab initio md use atom supercel silicon lda xcfunction previous tutori geometri optim phonon calcul reus structur tutori geometri optimization_geometry_optimizationmd well calcul setup cp pathtorelaxationgeometryinnext_step geometryinprimit creat supercel atom vibe util makesupercel geometryinprimit n mv geometryinprimitivesupercell_ geometryinsupercel speed thermal pretherm supercel give kinet energi correspond temperatur rm k follow command vibe util createsampl geometryinsupercel mv geometryinsupercellk geometryin prepar mdin run md need creat input file end copi calcul section ldasi_intromdldasilicon file call mdin next use cli command templat add set perform nvt simul vibe templat md nvt mdin info gener mdin calcul name aim calculatorparamet xc pwlda calculatorkpoint densiti calculatorbasisset default light calculatorsocketio port md driver langevin timestep maxstep compute_stress fals workdir md mdkwarg temperatur friction logfil mdlog suggest add andor adjust follow keyword md timestep maxstep compute_stress file geometri geometryin primit geometryinprimit supercel geometryinsupercel timestep increas rm fs silicon rm k maxstep run total md step ie rm ps simul time total simul time depend system quantitiy interesttemperatur set rm k target temperatur flag compute_stress section md make fhiaim comput _ab initio_ stress everi step md simul provid access pressurefootnot inspect ad primit geometryinprimit supercel geometryinsupercel file section necessari run calcul howev vibe automat attach inform trajectori get lost also make life easer post process exampl displac delta bf r_it properli calcul refer supercel known final mdin look like calcul name aim calculatorparamet xc pwlda calculatorkpoint densiti calculatorbasisset default light calculatorsocketio port md driver langevin timestep temperatur friction maxstep compute_stress file geometri geometryin primit geometryinprimit supercel geometryinsupercel readi run simul run calcul step similar before_phonopymdrunthecalcul ie run vibe run md logmd info logmd vibesrun run md workflow set mdin md driver langevin md set md type moleculardynam md mdtype langevin md timestep md temperatur md friction md fixcm true md scratchusrbecfloknvibestutorial_mdab_initiosi_mdtrajectoryson exist noth prepar calcul updat aim k_grid kpt densiti calcul add sc_accuracy_rho e paramet default calcul add relativist atomic_zora scalar paramet default calcul add compensate_multipole_error fals paramet default calcul add output_level md_light paramet default calcul add basisset light atom si basisset folder calcul calcul aim calcul set calcul xc pwlda calcul k_grid calcul sc_accuracy_rho e calcul relativist atomic_zora scalar calcul compensate_multipole_error fals calcul output_level md_light calcul compute_forc true calcul compute_heat_flux true calcul use_pimd_wrapp localhost calcul aims_command run_aim calcul species_dir scratchusrbecfloknvibestutorial_mdab_initiosi_mdbasisset socketio use socketio host localhost port backup scratchusrbecfloknvibestutorial_mdab_initiosi_mdcalcul exist noth back modul intel parallel studio xe compos edit version updat load modul intelmpi version load md step finish log md switch stress comput md step finish log md switch stress comput md step finish log md switch stress comput md step finish log md switch stress comput md step finish log run cluster see addit remarks_singlepointmdsubmitcalculationonaclust postprocess process calcul data obtain time step written trajectori file mdtrajectoryson cli provid tool process trajectori creat xarraydataset end run vibe output md mdtrajectoryson command creat trajectorync dataset represent data contain md trajectori save xarraydataset netcdf file includ data view vibe info netcdf trajectorync info output vibe info netcdf trajectorync xarraydataset dimens b time coordin time time float e e dimens without coordin b data variabl posit time float displac time float veloc time float momenta time float forc time float energy_kinet time float energy_potenti time float stress time b float stress_kinet time b float stress_potenti time b float temperatur time float cell time b float positions_refer float lattice_refer b float pressur time float pressure_kinet time float pressure_potenti time float attribut name trajectori system_nam si natom time_unit fs timestep nstep symbol si si si si si si si si mass atoms_refer pbc true true truencel n atoms_primit pbc true true truencel n atoms_supercel pbc true true truencel n volum raw_metadata md n type moleculardynamicsn mdtype hash ffecdcccfecbac inspect result perform postprocess pressur inspect trajectori dataset trajectoryncdocumentationoutput_filesmdtrajectorync awar simul time shorter discard thermal period info refer pressur atom ldasilicon get potenti pressur pm detail introduct postprocess includ exampl script given next chapter_md_postprocessmd refer run calcul take time depend comput work find refer refer repositoryhttpsgitlabcomvibesdevelopersvibestutorialfilestreemaster_molecular_dynamicsab_initio also find refer calcul atom footnot note corect _ab initio_ md requir also choos differ numer set dft calcul care instanc inher incomplet scf cycl kohnsham dft scheme introduc systemat error introduc energi drift unphys effect choos correct converg set import aspect perform _ab initio_ md simul highli materi specif devis strategi choos set goe beyond scope tutori footnot comput stress everi th step comput stress numer expens _ab initio_ comput atom forc sinc know consecut sampl gener md highli correl dont loos valuabl inform comput quantiti everi singl step get start highthroughput version fhivib firework highthroughput framework greatli enhanc effici work requir initi setup get work import consid run calcul highthroughput necessari work use command line interfac tool vibe provid suffici need indepth studi materi highthroughput aspect fhivib probabl necessari need systemat studi mani materi could use tool research setup guid focu basic aspect need order run firework workflow advanc usag pleas look firework onlin documentationhttpsmaterialsprojectgithubiofirework set mongodb run instal firework first need access mongodb instanc act job manag databas launchpad firework terminolog two option set databas instal mongodb local access server use cloud provid want instal mongodb pleas follow instructionshttpswwwmongodbcom cloud provid tri mlabhttpmlabcom mongodb atlashttpswwwmongodbcomcloudatla anoth option creat databas youll need set user access furthermor recommend also set secur password databas data secur reason set suggest follow guid method possibl separ adminus structur order ensur admin access databas cant obtain firework configur file creat new mongodb author note local manag databas use cloud servic secur procedur mayb differ pleas consult instruct first creat databas correct base directori base_dir port port bind ip address bind_ip follow command mongod logpath base_dirlog dbpath base_dirdb port port bind_ip bind_ip fork good practic includ localhost one bind ip along one use access databas outsid list ip address store bind_ip follow command export bind_ipip_ip_ note comma separ list access databas mongo port port host host_nam host_nam one ip address bind_ip localhost list server host keyword necessari mongodb termin type follow command use admin dbcreateus user admin_us pwd admin_password role role useradminanydatabas db admin readwriteanydatabas exit creat admin user global access databas server importantli restart databas requir author access mongod dbpath base_dirdb shutdown mongod logpath base_dirlog dbpath base_dirdb port port bind_ip bind_ip fork auth databas run creat addit usersdatabas insid main one follow command start launch mongodb termin mongo port port host host_nam u admin_us p admin_passord authenticationdatabas admin insid termin type follow command use fireworks_db_nam dbcreateus user user pwd password role role dbowner db fireworks_db_nam exit pleas use usernamepassword admin user individu user databas run store inform yaml file call my_launchpadyaml follow content host host port port name fireworks_db_nam usernam user password password host time ip address bind_ip intend use extern connect machin run workflow mayb abl use localhost check sysadmin node set databas set time instal firework instal firework first step use firework instal python librari instal vibe firework depend pip instal fhivibesfirework alreadi includ may want instal version firework local either clone git repositoryhttpsgithubcommaterialsprojectfirework use python setup tool via pipconda addit firework want use remot clientsdatabas youll need instal paramiko fabric use newt queu system youll instal request pip simpli type pip instal firework pip instal paramiko need use builtin remot file transfer pip instal fabric need use daemon mode qlaunch pip instal request need want use newt queue adapt firework extens vibe alreadi includ paramiko fabric request would instal via pip note instal firework use pip kerbero develop packag must instal pleas ensur instal system firework instal test instal attempt connect firework readonli test databas creat my_launchpad_testingyaml follow content host dsmongolabcom port name firework usernam test_us password test run follow command lpad l my_launchpad_testingyaml get_wflow get follow output name tracker fw state readi states_list rea created_on name tracker fw state readi states_list rea created_on firework instal properli time set configur creat firework configur directori fw_config store configur file recommend use firework fw_config move my_launchpadyaml file fw_config plan use firework queu system also creat my_qadapteryaml file fw_config get sampl queue system go firework git hubhttpsgithubcommaterialsprojectfireworkstreemasterfw_tutorialsqueu page download correct one exampl one slurm system _fw_name commonadapt _fw_q_type slurm rocket_launch vibe firework rlaunch singleshot node ntasks_per_nod number core per cpu walltim maximum wall time queue batch partit account account take cpu time job_nam default job name logdir log_fil pre_rocket command run job none use null post_rocket command run job none use null final also specifi fworker creat my_fworkeryaml file fw_config exampl name first firework categori queri file fw_config folder edit python_site_packages_directoryfireworksfw_configpi reflect find correct firework configur file relev portion chang file look like fw_config replac correct path launchpad_loc fw_configmy_launchpadyaml find my_launchpadyaml file fworker_loc fw_configmy_fworkeryaml find my_fworkeryaml file queueadapter_loc fw_configmy_qadapteryaml find my_qadapteryaml file config_file_dir fw_config find sitepackag file locat run python site appear return list optimize_kgrid dfunc_min e section optimize_kgrid section optim kgrid fhiaim calcul dfunc_min float minimum chang total energi chang kpoint densiti sectionqadapt node ntasks_per_nod walltim queue partition_nam account account_nam section sectionqadapt subsect high throughput workflow specifi queu paramet job node int number node request default defin my_qadapteryaml file ntasks_per_nod int number task per node default defin my_qadapteryaml file walltim str request wall time ddhhmmss format default defin my_qadapteryaml file queue str partit submit job default defin my_qadapteryaml file account str account charg calcul default defin my_qadapteryaml file relax use_aims_relax true method trm fmax e relax_unit_cel full relax basi light relax basi intermedi relaxationn basi really_tight section relax section relax structur gener definit variou step use_aims_relax bool true want use aim relax instead one defin relaxationdocumentationrelax portion document document show keyword true fals use keyword youd normal use relax basi str keyword basi set use relax step method str relax method use calcul fmax float maximum residu forc end relax relax_unit_cel str relax unit cell within fhiaim either full fixed_angl none relax first step relax defin paramet differ default paramet relax second step relax paramet first step relaxationn nsupthsup step relax phonopi supercell_matrix walltim serial true displac phonopyconverg minimum_similarity_scor sc_matrix_bas gruneisen volume_factor section phonopi paramet phonopi calcul keyword full document see phonopi section document serial bool true use serial calcul instead parallel calcul supercel one calcul v separ default true converg bool true phonon supercel converg default defin phonopyconverg section default fals phonopyconverg section use defin phonon converg paramet set default desir minimum_similarity_scor float minimum tanimoto similar score consid phonon calcul converg respect supercel size default sc_matrix_bas listint base supercel matrix use increas supercel size default phonopysupercell_matrix exampl next supercel matrix test would without next would gruneisen set calcul gruneisen paramet finit differ use phonopi volume_factor listfloat ratio equilibrium volum calcul phonon md phonon_fil pathtophonopytrajectoryson temperatur supercell_matrix rest md paramet describ md section md phonon_fil str trajectori file use gener thermal displac structur supercell_matrix listint supercel matrix calcul given use one phonopi calcul supercel matrix differ one phonon_fil phonopi forc constant remap onto new supercel temperatur listfloat list temperatur calcul anharmon firework name example_run config_dir firework tasksqueu vibesrelaxationbfgsrelax vibesfireworkstaskscalculate_wrapperwrap_calc_socket vibesk_gridconverge_kgridconverge_kgrid vibesfireworkstaskscalculate_wrapperwrap_calcul vibesfireworkstasksmdrun fireworksworkdir remot test_run local test_run fireworksremot host remotehostpath config_dir pathtoremotehomefirework launch_dir fireworksremoteauthor user remote_usernam password null fireworksremotelaunch njobs_queu njobs_block reserv true nlaunch sleep_tim section firework gener paramet firework workflow name str name perpend workflow better organ launchpad config_dir str directori firework configur file locat default set fireworksrc file tasksqueu liststr list function send queue default set fireworksrc file fireworksworkdir use defin base work directori remot local machin local str base work directori local machin remot str base work directori remot directori default fireworksworkdirloc fireworksremot paramet remot firework worker default defin fireworksrc host liststr list remot host send job default defin fireworksrc config_dir liststr list remot firework configur directori default defin fireworksrc launch_dir str default launch directori remot host default defin fireworksrc fireworksremoteauthor paramet authent remot firework worker default defin fireworksrc user str remot host usernam default defin fireworksrc password str remot host password recommend default defin fireworksrc fireworksremotelaunch paramet launch job firework worker default defin fireworksrc njobs_queu int number job queue given time limit default defin fireworksrc njobs_block int number launch singl firework block directori default defin fireworksrc reserv bool true run firework reserv mode default defin fireworksrc nlaunch int maximum number job launch given limit default defin fireworksrc sleep_tim float time sleep second check job run default defin fireworksrc statistical_sampl phonon_fil pathtophonopytrajectoryson supercell_matrix temperatur debye_temp_fact serial true n_sampl plus_minu true mc_rattl fals quantum true determinist true zacharia true gauge_eigenvector true ignore_neg fals failfast true random_se propag fals section statistical_sampl use mont carlo sampl system anharmon quantif phonon_fil str trajectori file use gener thermal displac structur supercell_matrix listint supercel matrix calcul given use one phonopi calcul supercel matrix differ one phonon_fil phonopi forc constant remap onto new supercel temperatur listfloat list temperatur calcul anharmon debye_temp_fact listfloat list multipli add temperatur factor materi deby temperatur serial bool true serial default true n_sampl int number sampl calcul temperatur default plus_minu bool use determinist sampl regim zacharia et al default true determinist bool true popul phonon mode k_b energi default true gauge_eigenvector bool true use plu minu gaug eigenmod default true mc_rattl bool true rattl structur use mont carlo rattl method default fals quantum bool true popul phonon mode accord boseeinstein distribut default fals ignore_neg bool true ignor imaginari mode default fals failfast bool true true fail imaginari mode present acust mode near zero gamma default true random_se int seed random number gener default random number propag bool true propag structur forward time somewhat ase default falsethi section defin highthroughput definit keyword follow task instal firework dependencyinstallation_setup set highthroughput workflow_general_high_throughput qadapters_qadapt kpoint densiti convergence_optimize_k_grid relaxation_relax phonon calculations_phonon mont carlo sampling_statistical_sampl molecular dynamics_md moment fhiaim support highthroughput calcul possibl extend calcul certain transit step assum calcul fhiaim would changea namerun multipl phonopi calculationsa info prerequisit pleas complet highthroughput phonon tutorial_phonopymd complet one summari section learn set run multipl multistep workflow use fhivib firework start learn converg k_grid set fhiaim optim structur si perform phonopi calcul go defin perform harmon molecular dynam base sampl use harmon sampl quantifi materi anharmon optim kpoint densiti geometri basic phonopi calcul explain let make workflow use ad two preprocess task workflow phonopi calcul kgrid converg geometri optim kgrid optim optimize_kgrid dfunc_min e optimize_kgridqadapt node walltim singl kpoint densiti may give converg yet effici result everi materi test set provid option converg kpoint densiti respect total energi materi task increas kpoint densiti defin calculatorkpointsdens success increas densiti result chang energi less optimize_kgriddfunc_min ev use kpoint densiti futur calcul workflow exampl converg criteria set mev decreas comput time chang desir level accuraci default valu mev relax relax basi light driver bfg fmax unit_cel true decim maxstep fix_symmetri true relaxationqadapt node walltim optim geometri highthroughput calcul larg similar command line interfac numer number section instead use relax relaxationkwarg done command line interfac section combin relax relax relaxationn section done allow multistag relax basi set unit cell restrict chang improv perform algorithm accommod potenti chang basi relax step basi set differ main calcul set relaxationnbasi keyword relax step also qadapt may differ cost associ full workflow complet workflow file calcul remov phonon converg studi si save time info workflowin file geometri sigeometryin firework name example_multistep_calcul fireworksworkdir local analysi remot run calcul name aim socketio true calculatorparamet xc pwlda calculatorkpoint densiti calculatorbasisset default light phonopi supercell_matrix serial true phonopyqadapt node walltim optimize_kgrid dfunc_min e optimize_kgridqadapt node walltim relax basi light driver bfg fmax unit_cel true decim maxstep relaxationqadapt node walltim run workflow run calcul previous phonopi tutorial_phonopymd vibe firework add_wf vibe firework rlaunch rapidfir complet compar result workflow use wrong structur analyz result look insid run directori follow directori runsicbfbcdcaabdec _relax kgrid_opt sc_natoms_ kgrid_opt _relax store inform kpoint densiti first step geometri optim respect look log see kpoint densiti alreadi converg densiti si need slight optim start geometri analysi directori inform phonopi calcul optim postprocess step need store local compar do bandstructur calcul previou tutorial_phonopymd run vibe output phonopi bs do result look similar seen previous slight differ bandstructur densiti state slight chang geometri upon relax howev alway import relax geometri run phonopi get correct harmon model bandstructure_dospdf look like silicon bandstructur dosimagessi_mspng use harmon model quantifi anharmon converg harmon model gener anharmon materi quantifi use method publish herehttpsarxivorgab previous describ heretutorial_anharmonicity_quantificationmd harmon sampl statistical_sampl section calcul anharmon materi harmon sampl harmon vibrat potenti energi surfac task use harmon model gener seri thermal displac supercel discuss heretutorial_statistical_samplingmd section use calcul sigmatexta si k statistical_sampl phonon_fil analysissidfceaabbbadadaebaasc_natoms_phonopy_analysistrajectoryson serial true temperatur supercell_matrix n_sampl plus_minu true order rerun phonopi calcul relax structur previous calcul trajectoryson file pass via phonon_fil keyword workflow phonopi section automat use trajectoryson file calcul materi workflow howev phonon_fil need explicitli pass workflow use materi supercell_matrix use calcul one use calcul harmon model forc constant remap onto new supercel supercell_matrix provid default one phonon_fil exampl statistical_samplingplus_minu true scheme develop zacharia giustinohttpsjournalsapsorgprbabstractphysrevb use gener displac supercel scheme replac random scale determinist one approxim thermal ensembl mathbfd_i beginequ d_i alpha sum_sn_w frac d_ alphasqrtm_i endequ scheme use statistical_samplingn_sampl larg enough ensur converg materi test normal order sampl complet descript possibl harmon sampl keyword look documentationdocumentation_statistical_samplingmd molecular dynam md md phonon_fil runsidfceaabbbadadaebaasc_natoms_phonopytrajectoryson supercell_matrix driver langevin timestep temperatur friction maxstep logfil mdlog set md section use highthroughput calcul almost ident introduc molecular dynam tutorialtutorial_md_ab_initiomd initi structur calcul automat phonopi calcul previou step trajectori file defin mdphonon_fil chain phonopi md step togeth pleas ensur phonon_fil resourc intend run calcul like remot host local machin case statistical_sampl section request supercell_matrix one phonon_fil forc constant remap onto new supercel supercell_matrix given default one phonon_fil want run md multipl temperatur replac mdtemperatur mdtemperatur give list temperatur multipl molecular dynam task gener done harmon sampl exampl full workflow complet workflow file calcul molecular dynam calcul run sinc expens see tutorialtutorial_md_postprocessmd postprocess option md info workflow_anharmonictyin file geometri sigeometryin firework name example_anharmonicity_calcul fireworksworkdir local analysi remot run calcul name aim socketio true calculatorparamet xc pwlda calculatorkpoint densiti calculatorbasisset default light statistical_sampl phonon_fil analysissidfceaabbbadadaebaasc_natoms_phonopy_analysistrajectoryson serial true temperatur supercell_matrix n_sampl plus_minu true statistical_samplingqadapt walltim node md phonon_fil runsidfceaabbbadadaebaasc_natoms_phonopytrajectoryson supercell_matrix driver langevin timestep temperatur friction maxstep logfil mdlog compute_stress mdqadapt walltim node statistial_sampl md structur use one respect phonon_fil one defin filesgeometri import keep refer file correct atom hash use run workflow run calcul previous pass workflow file name explicitli vibe firework add_wf w workflow_anharmonictyin vibe firework rlaunch rapidfir complet see anharmon silicon analyz result look insid run directori see follow directori runsicbfbcdcaabdec _relax kgrid_opt sc_natoms_ statistical_sampl see statistical_sampl calcul directori insid analysi directori two folder analysissicbfbcdcaabdec sc_natoms_ statistical_sampling_analysi statistical_sampling_analysi two file trajectoryson sigmadat sigmadat file sigmatexta valu request k look file eg cat see si sigmatexta quit low confirm harmon cat analysissidfceaabbbadadaebaastatistical_sampling_analysissigmadat configur fhivib interact firework firework setup run addit step need configur fhivib work firework troubl instal firework see documentationhttpsmaterialsprojectgithubiofirework instal guideinstallation_setupmd creat fireworksrc file first step configur fhivib use firework file set default valu run firework util consist throughout calcul make file run vibe templat configur firework fireworksrc firework config_dir firework directori contain yaml file firework tasksqueu vibesrelaxationbfgsrelax vibesfireworkstaskscalculate_wrapperwrap_calc_socket vibesk_gridconverge_kgridconverge_kgrid vibesfireworkstaskscalculate_wrapperwrap_calcul vibesfireworkstasksmdrun chang fireworksremot host remotehostpath list remot host name config_dir pathtoremotehomefirework list remot firework configur directori launch_dir default launch directori remot host fireworksremoteauthor user remote_usernam remot host usernam password null remot host password recommend tri use passwordless login fireworksremotelaunch njobs_queu number job queue given time limit njobs_block number launch singl firework block directori reserv true true run firework reserv mode nlaunch maximum number job launch given limit sleep_tim time sleep second check job run complet descript paramet see full documentationdocumentation_general_high_throughput test work firework instal work properli test vibe firework test testfireworkstest_fireworkspi test run success run lpad get_wflow get follow output creat match today datetim state complet name ni_dabeaccbcbbbccf created_on states_list cccccccccccccccccccccc see success set highthroughput portion vibe use cluster need repeat step installingtest firework machin plan use namerun multipl phonopi calculationsa info prerequisit fhivib configur use firework see configur guide_configuring_fw_for_vibesmd inform summari section learn set run multipl phonopi calcul use fhivib firework workflow also describ systemat determin supercel size converg given materi materi calcul level precis exampl use si mgo tutori extend set materi setup workflowin file set highthroughput workflow perform multipl phonopi calcul similar set singl calcul addit step ensur calcul done similar manner high throughput workflow design flexibl vibe templat command automat gener modifi workflow youll work multistep tutorial_multistepmd good guid get start case two materi sidiamond mgorock salt calcul workflow use gener harmon model arbitrari number materi fulli converg result exampl allow rapid execut test start alreadi relax structur silicon magnesium oxid store sigeometryin mgogeometryin respect note typic one relax structur alreadi avail inform perform relax run phonon calcul ie multistep workflow given multistep tutorial_multistepmd info sigeometryin lattice_vector lattice_vector lattice_vector atom_frac si atom_frac si info mgogeometryin lattice_vector lattice_vector lattice_vector atom_frac mg atom_frac geometri file ad creat phonopi workflow workflowin follow content info workflowin file geometri geometryin firework name example_phonon_calcul fireworksworkdir local analysi remot run calcul name aim calculatorparamet xc pwlda calculatorkpoint densiti calculatorbasisset default light calculatorsocketio port phonopi supercell_matrix displac is_diagon fals is_trigon fals is_plusminu auto symprec e q_mesh serial true phonopyconverg minimum_similarity_scor sc_matrix_bas phonopyqadapt node walltim workflowin similar phonopyin file phonopi tutorialtutorial_phonopi extra section keyword firework section largest differ workflow phonopyin command line interfac addit section defin firework specif paramet purpos section organ launchpad file structur machin run workflow fireworksworkdir specifi base work directori workflow run fireworksworkdirremot postprocess happen fireworksworkdirloc name convent chosen reflect case electron structur calcul done remot cluster postprocess done local laptop desktop comput fireworksworkdirremot set postprocess run job done base work directori defin fireworksworkdirloc furthermor ensur mgo si calcul overwrit base work directori append material_chemical_formulaatoms_hash give materi uniqu work directori store data qadapt anoth new section workflow phonopyqadapt section use defin jobqueu specif inform number node wallclock time limit case complet definit includ see documentationdocumentation_qadapt default paramet store my_qadapteryaml file phonopi phonopi section two chang workdir keyword serial keyword workflow work directori standard task requir workdir keyword serial keyword control firework set forc evalu calcul phonopi true calcul run serial singl job fals forc evalu done separ calcul task recommend alway true make use ase socketio calculatorshttpswikifysikdtudkaseasecalculatorssocketiosocketiohtml necessari run calcul phonopi converg section use converg harmon model respect supercel size phonopi use finit differ calcul harmon approxim supercel small atom displac interact period imag lead error magnitud error materi depend normal either ignor use consid suffici larg supercel check via manual inspect phonon densiti state band structur high throughput applic manual inspect impract develop automat metric determin supercel converg use tanimoto similar scorehttpsenwikipediaorgwikijaccard_indexother_definitions_of_tanimoto_dist two success larger supercel check converg score calcul do xx qgrid smaller mathbfd_rm small larger mathbfd_rm larg supercel beginequ score fracmathbfd_rm small cdot mathbfd_rm largeleftmathbfd_rm smallright leftmathbfd_rm largeright mathbfd_rm small cdot mathbfd_rm larg labeleqtanimoto endequ similar score larger phonopyconvergenceminimum_similarity_scor harmon model consid converg part workflow end smaller threshold supercel increas beginequ m_text new leftnright m_text base m_text labelequpdate_phonon endequ m_text base defin phonopyconvergencesc_matrix_basedocumentation_phononssc_matrix_bas n current phonopi iter m_text origin supercel defin phonopysupercell_matrix m_text must integ scalar valu m_text base workflow ad launchpad score consid good balanc get fulli converg result go larg supercel size howev may want increas accur result need lower unitcel materi alreadi larg significantli lower minimum use none supercel get atom workflow easili run laptop desktop comput supercel matrix use phonon model forceconst mathbfd_rm small calcul explicitli obtain remap forc constant larger supercel onto smaller one case atom supercel use scheme converg phonon model calcul singl phonopi calcul run calcul unlik done command line interfac run calcul done two step first ad workflow launchpad second run job launchpad add calcul launchpad run vibe firework add_wf get follow output info ad workflow output messag file vibescontextpi line function workdir workdir set return workdir messag file vibescontextpi line function workdir workdir set return workdir calcul updat aim k_grid kpt densiti calcul add sc_accuracy_rho e paramet default calcul add relativist atomic_zora scalar paramet default calcul add output_level md_light paramet default calcul calcul aim calcul set calcul xc pwlda calcul k_grid calcul sc_accuracy_rho e calcul relativist atomic_zora scalar calcul output_level md_light calcul compute_forc true calcul use_pimd_wrapp localhost calcul aims_command mpiexec n homepurcellgitfhi_aimsbinipiaimsscalapackmpix calcul species_dir homepurcellgitfhi_aimsspecies_defaultslight firework gener workflow mgo messag file vibescontextpi line function workdir workdir set return workdir messag file vibescontextpi line function workdir workdir set return workdir calcul updat aim k_grid kpt densiti calcul add sc_accuracy_rho e paramet default calcul add relativist atomic_zora scalar paramet default calcul add output_level md_light paramet default calcul calcul aim calcul set calcul xc pwlda calcul k_grid calcul sc_accuracy_rho e calcul relativist atomic_zora scalar calcul output_level md_light calcul compute_forc true calcul use_pimd_wrapp localhost calcul aims_command mpiexec n homepurcellgitfhi_aimsbinipiaimsscalapackmpix calcul species_dir homepurcellgitfhi_aimsspecies_defaultslight firework gener workflow si use nondefault launchpad file normal my_launchpadyaml workflow defin workflowin use l w flag respect confirm workflow launchpad run lpad get_wflow see state readi name example_phonon_calculations_si_bedaccabfadac created_on yyyymmddthhmmss states_list wrea state readi name example_phonon_calculations_mgo_bfcffbbcccadeeb created_on yyyymmddthhmmss states_list wrea workflow two job one set calcul one perform analysi addit analysi step done creat trajectori file calcul run parallel creat trajectori local run combin launcher workflow ad launchpad multipl option run vibe firework claunch run electron structur calcul cluster everyth els local vibe firework qlaunch run job cluster use queu system vibe firework rlaunch run job local firework util detail descript run option found respect document exampl well use rlaunch run vibe firework rlaunch rapidfir output lpad get_wflow state complet name example_phonon_calculations_mgo_bfcffbbcccadeeb created_on states_list cccccc state complet name example_phonon_calculations_si_bedaccabfadac created_on states_list cccccc four addit task ad workflow correspond forc evalu origin supercel three task larger supercel converg test workflow complet let analyz result analyz result first step analyz result understand file structur directori first look run directori follow folder runmgobfcffbbcccadeeb sc_natoms_ runsibedaccabfadac sc_natoms_ sc_natoms_ folder contain phonopi directori file gener respect run n phonopi iter look analysi folder follow folder analysismgobfcffbbcccadeeb converg sc_natoms_ analysissibedaccabfadac converg sc_natoms_ sc_natoms_ folder contain phonopy_analysi directori contain final phonopi trajectoryson file iter addit last phonopi iter store converg easi access converg phonon calcul perform analysi possibl within phonopi materi get result similar level precis exampl see bandstructur do materi run vibe output phonopi bs do converg folder si bandstructur do look like silicon bandstructur dosimagessi_phonopypng mgo look like magnesium oxid bandstructur dosimagesmgo_phonopypng larg varieti possibl analysi step autom phonopi output script workflow file structur use easili make bash python script postprocess get converg phonon result workflow incomplet requir prerelax structur get physic relev result would possibl separ relax structur use workflow easier solut would use multistep workflows_multistepmd next tutori