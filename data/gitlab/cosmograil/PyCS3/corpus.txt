pyc document statushttpscosmograilgitlabiopycsdoc_statussvghttpscosmograilgitlabiopyc pipelin statushttpsgitlabcomcosmograilpycsbadgesmasterpipelinesvghttpsgitlabcomcosmograilpycscommitsmast coverag reporthttpsgitlabcomcosmograilpycsbadgesmastercoveragesvghttpscosmograilgitlabiopycscoverag python httpsimgshieldsiobadgepythonbluesvghttpswwwpythonorgdownloadsreleasepython licens gpl vhttpsimgshieldsiobadgelicensegplvbluesvghttpswwwgnuorglicensesgpl doihttpsjosstheojorgpapersjossstatussvghttpsdoiorgjoss pyc softwar toolbox estim time delay multipl imag gravit lens quasar develop within cosmograilhttpwwwcosmograilorg collabor updat pycshttpsgithubcomcosmograilpyc longer maintain proceed documentationhttpscosmograilgitlabiopyc get inform case question feel free open issu gitlab instal git clone httpsgitlabcomcosmograilpyc cd pyc python setuppi instal prefer instal local python setuppi instal user requir pyc requir follow standard python packag numpi scipi matplotlib multiprocess want use regdiff optimis also need scikitlearn exampl notebook document full document found herehttpscosmograilgitlabiopyc exampl notebook locat notebookhttpsgitlabcomcosmograilpycstreemasternotebook folder import export display light curveshttpsgitlabcomcosmograilpycsblobmasternotebookimport_export_and_displayipynb measur time delay regdiff splineshttpsgitlabcomcosmograilpycsblobmasternotebookmeasuringtimedelayswithsplineandregdiffipynb estim uncertainti pycshttpsgitlabcomcosmograilpycsblobmasternotebookuncertaintiesestimationipynb attribut use code pleas cite papershttpscosmograilgitlabiopycscitinghtml indic document licens pyc free softwar redistribut andor modifi term gnu gener public licens publish free softwar foundat either version licens option later version pyc distribut hope use without warranti without even impli warranti merchant fit particular purpos see gnu gener public licens detail licensetxtlicens contribut contribut pyc mani way appreci report bug pleas use gitlab issu report bugif report bug pleas includ oper system name version detail step reproduc bug implement new featur pleas use pull request want modifi master branch pull request includ test pull request add function doc updat put new function function docstr pyc test pipelin folder contain script process multipl light curv tdc time aim provid test framework check precis accuraci pyc base origin pipelin script folder list light curv tdc liao et al httpsarxivorgab use subpackag avail herehttpslsstdescorgtimedelaychallengedownloadshtml four metric select timedelay challeng evalu perform curveshift techniqu accuraci precis chi x fraction estim without outlier chi recent ran test pipelin first curv rung tdc data close mimic real euler light curv term cadenc photometr nois microlens reproduc figur liao et al httpsarxivorgab summar metric one plot figuress_final_plotpngtdc rung result dot blind submiss liao et al httpsarxivorgab new result pyc spline regress differ estim mark triangl differ strategi marginalis estim paramet parametr sigma threshold paramet see millon et al httpsarxivorgab detail result present silver sampl ss contain curv exclud curv precis one time delay day enough overlap measur robust time delay cours result blind demonstr pyc abl measur timedelay curv tdc rung autom procedur accuraci better use pipelin first defin work directori must contain light curv subfold data data name convent name_double_pairx_ecamrdb x number light curv must contain one column day observ two column per len imag measur magnitud associ uncertainti also need true time delay light curv subfold datatruth name convent truth_nametxt second column true time delay like follow exampl test_double_pair test_double_pair test_double_pair set run command python multiple_pi name doubl numberofcurv dirpath_to_working_directori set directori multipl pipelin gener multipl config file configmultipl directori name config_multiple_namepi modifi run next script check readmescriptsreadmemd main pipelin inform differ paramet creat data set run command python multiple_pi name doubl numberofcurv dirpath_to_working_directori run script _create_datasetpi pyc main pipelin curv specif config file curv creat config directori name config_name_double_pairx_exampi singl config file updat paramet multipl config file previous mention initi guess randomli taken around true time delay datatruthtruth_nametxt initi guess save simulationmultiplename_doublepost_gaussian_guesstxt fit spline run command python multiple_pi name doubl numberofcurv dirpath_to_working_directori run script _fit_splinepi pyc main pipelin curv launch spline modifi clustermultiple_launchersh paramet cluster make sure line execut start_allslurm updat number curv run line run command cluster folder multiple_launchersh run script a_generate_tweakmlpi b_draw_copy_mockspi c_optimise_copy_mockspi d_check_statisticspi pyc main pipelin curv get time delay spline run command python multiple_api name doubl numberofcurv dirpath_to_working_directori run script a_plot_resultspi pyc main pipelin curv bi launch regdiff run command python multiple_update_configpi name doubl numberofcurv dirpath_to_working_directori updat everi config file order use regdiff instead spline modifi clustermultiple_launchersh paramet cluster make sure line execut start_cslurm updat number curv run line run command cluster folder multiple_launchersh run script c_optimise_copy_mockspi pyc main pipelin curv time regdiff get time delay regdiff run command python multiple_api name doubl numberofcurv dirpath_to_working_directori run script a_plot_resultspi pyc main pipelin curv time regdiff b margininalis spline estim run command python multiple_bpi name doubl numberofcurv dirpath_to_working_directori run script b_marginalise_splinepi pyc main pipelin curv three differ sigmathresh find inform marginalis readm main pipelin b margininalis regdiff estim run command python multiple_cpi name doubl numberofcurv dirpath_to_working_directori run script c_marginalise_regdiffpi pyc main pipelin curv three differ sigmathresh find inform marginalis readm main pipelin marginalis spline regress differ estim run command python multiple_dpi name doubl numberofcurv dirpath_to_working_directori run script d_marginalise_rallpi pyc main pipelin curv sigmathresh comput tdc metric need updat config_multiple_namepi simul fail failed_sim list choos want display gold silver sampl add pair want silvergolden sampl also decid plot want display run command python multiple_pi name doubl numberofcurv dirpath_to_working_directori comput statist sampl estim summari file creat simulationmultiplenam folder subfold figur also creat contain figur produc folder contain copi mock light curv use measur timedelay uncertainti product exampl notebook save titl pyc python toolbox timedelay measur lens quasar tag python astronomi author name martin millon orcid x affili name malt tew orcid affili name vivien bonvin orcid affili name bastian lengen affili name freder courbin orcid affili affili name institut physic laboratori astrophysiqu ecol polytechniqu fédérale de lausann epfl switzerland index name argelanderinstitut für astronomi bonn germani index date june bibliographi paperbib summari timedelay cosmographi competit techniqu measur current expans rate univers hubbl constant see eg riess review wong recent result reli strong gravit lens effect happen massiv foreground galaxi deviat light background object produc mirag imag background sourc configur optic path length slightli differ multipl imag thu travel time photon along path also slightli differ background sourc vari variat visibl multipl imag differ delay lens quasar lens supernova ideal target measur rel time delay variabl short timescal suffici bright observ cosmolog distanc measur delay use infer socal timedelay distanc d_delta directli invers proport hubbl constant method reli three main ingredi precis accur determin time delay model mass distribut lens galaxi estim mass galaxi along line sight also deviat light ray thu perturb time delay obtain time delay lens quasar typic requir decad continu observ produc long light curv contain sever variat quasar unambigu match multipl imag exampl light curv multipl imag lens quasar rxj present autoreffiglc aim pyc softwar measur time delay curv light curv lens quasar rxj present millon left panel quasar variat seen imag day imag wherea imag b c arriv approxim time right panel show hubbl space telescop imag rxj suyulabelfiglcsrxjpng statement need simpl problem measur time delay irregularli sampl light curv receiv attent almost three decad eg press complic factor microlens multipl imag happen star len galaxi pass front quasar imag also act gravit lens affect shape light curv microlens effect perturb light curv quasar imag individu ignor perturb would often result signific bias measur time delay directli propag hubbl constant pyc python packag develop cosmograilwwwcosmograilorg collabor design address problem allow us measur time delay lens quasar presenc microlens provid flexibl datadriven model extrins variat spline account microlens recov accur estim time delay realist estim uncertainti also extrem import cosmographi approach follow pyc base bestfit point estim framework faith simul input data assess uncertainti follow mont carlo approach bayesian infer delay given model quasar variabl microlens would attract hamper difficulti accur model microlens high number nuisanc paramet problem previou version packag pyc first present tew success appli real data tew bonvin bonvin bonvin method also test simul light curv timedelay challeng liao bonvin empir shown provid excel result even light curv strongli affect microlens develop autom pipelin base pyc measur time delay larg sampl lens quasar millon millon improv toward autom procedur necessari hundr new lens quasar expect discov near futur function basic function pyc built around lightcurv class manipul photometr monitor data method import shift fit export light curv locat pycsgen subpackag pyc contain two timedelay estim name freeknot spline regress differ pycsspl pycsregdiff subpackag two estim fundament differ allow us check robust measur time delay subpackag pycssim use gener simul light curv order estim uncertainti timedelay measur pyc ensur simul curv constrain power origin data crucial correct estim uncertainti simul curv shift either freeknot spline regress differ estim script folder contain pipelin autom measur time delay function use pipelin locat pycspip subpackag automat explor sever set estim paramet gener simul light curv return best fit valu associ uncertainti select combin differ set estim paramet also make use subpackag pycstdcomb display combin final timedelay estim detail method found millon final tdlmc_test folder contain ensembl python script appli pyc simul data gener timedelay challeng liao provid benchmark test framework assess precis accuraci pycss curveshift algorithm acknowledg acknowledg support swiss nation scienc foundat snsf european research council erc european union horizon research innov programm cosmiclen grant agreement refer pyc pipelin folder contain script process light curv measur time delay complet descript pipelin found millon et al httpsarxivorgab first defin work directori must contain light curv subfold data data name convent lensname_datasetrdb must contain one column day observ two column per len imag measur magnitud associ uncertainti dataset typic correspond monitor campaign conduct singl telescop creat data set run command python _create_datasetpi lensnam dataset dirpath_to_working_directori setup config file creat new folder len dataset subfold simulationlensname_dataset work directori specifi work directori simpli use current folder config file creat config directori name config_lensname_datasetpi modifi fit spline first step consist fit spline origin data chang mean knotstep microlens model config file key paramet knotstep mean initi space knot intrins spline give list valu want test mlknotstep altern nmlspl use option forcen use valu given nmlspl list contain number knot extrins spline equal distribut monitor period knot fix posit option recommend short light curv ensur microlens model much freedom note use nmlspl place intern knot microlens model polynomi degre long curv one season recommend turn forcen option use mlknotstep instead nmlspl need provid mean initi space knot microlens spline free move insert nmlspl mlknotstep list introduc microlens model preselection_fil use_preselected_regdiff provid directli regdiff set paramet dictionari save json readabl file altern directli provid regdiff paramet want test covkernel pointdens pow errscal list chosen estim paramet run command python _fit_splinepi lensnam dataset dirpath_to_working_directori produc origin fit combin intrins microlens model provid check visual qualiti fit figur save figurespline_and_residuals_plot gener mock light curv fit paramet gener nois model tricki part process need adjust two paramet ensur gener nois model creat simul curv constrain power origin data fit two paramet done simpl dichotom search algorithm key paramet control behaviour algorithm n_curve_stat number curv comput statist larg number curv reduc random fluctuat acceler converg come price heavi comput curv comput parallel might want choos multipl number core avail exampl usual good number max_it maximum number iter stop algorithm find good solut stop automat algorithm tri find paramet produc curv mean rm residu sigma mean number run zsubrunsub fall within sigma real curv script save function optim paramet python file name tweakml_pspi run python a_generate_tweakmlpi lensnam dataset dirpath_to_working_directori __warning__ quad happen regularli algorithm match sigma criterion iter choos closest valu match sigma zsubrunsub within sigma suffici case still continu script check posteriori simul curv inde differ b draw mock light gener nois model next step gener copi mock adjust number copi mock gener chang ncopi ncopypkl nsim nsimpkl total number copi gener ncopyncopypkl everi combin knotstep mlknotstep comput time increas quickli recommend gener copi mock reliabl estim uncertainti python b_draw_copy_mockspi lensnam dataset dirpath_to_working_directori turn ask_quest option run script mani time gener mock default eras alreadi exist file c optimis mock light curv fit copi mock want run mock turn run_on_copi option default need run optimis mock copi choos optimis use simoptfctkw run python c_optimise_copy_mockspi lensnam dataset dirpath_to_working_directori script optimis batch curv save pickl file run mani core parallel use max_cor option run script twice spline optimis regdiff optimis check statist check posteriori gener curv roughli match origin data term zsubrunsub sigma run python d_check_statisticspi lensnam dataset dirpath_to_working_directori creat seri plot figurecheck_stat_plot folder check residu mock curv look similar residu data marginalis estim paramet get time delay estim first step collect result optimis mock copi done run python a_plot_resultspi lensnam dataset dirpath_to_working_directori run script estim switch one estim simoptfctkw paramet creat plot figurefinal_result folder verifi distribut delay run copi peak indic data inde constrain time delay also visual random systemat error made mock b margininalis spline estim obtain final spline estim either select precis model margin avail model follow hybrid approach describ millon et al httpsarxivorgab control sigmathresh paramet true marginalis hybrid approach high number pick precis estim ensur high numer precis turn testmod option take bit longer name combin name_marg_splin option use want combin estim someth els futur also select manual model includ combin need provid list paramet knotstep_marg mlknotsteps_marg run python b_marginalise_splinepi lensnam dataset dirpath_to_working_directori default code take model provid knotstep mlknotstep nmlspl list c marginalis regress differ estim similarli spline estim choos gener nois model use knotstep_marg_regdiff mlknotsteps_marg_regdiff list default choos gener nois model give precis estim use sigmathresh combin differ set regdiff paramet python c_marginalise_regdiffpi lensnam dataset dirpath_to_working_directori marginalis spline regress differ estim last step combin regdiff spline togeth choos estim combin name_marg_list list threshold use previou step sigmathresh_list also recommend marginalis two estim correspond use sigmathresh_fin decid estim includ final measur run python d_marginalise_allpi lensnam dataset dirpath_to_working_directori combin estim differ data set sever data set object might interest combin data set togeth run python _combine_datasetpi lensnam dirpath_to_working_directori creat folder combinationlensnam edit file config_combination_lensnamepi locat folder rerun script warn disclaim use pyc guarante realist timedelay uncertainti estim blindli demonstr regard qualiti pyc uncertainti estim assum care gener simul light curv keep mind pyc approach involv set estim paramet rang estim paramet principl impact set assess light curv set describ first pyc paper tew et al httpdxdoiorg_ estim paramet also marginalis describ millon et al httpsarxivorgabs_ warn particular obtain uncertainti estim run simul light curv true delay ie set truetsr pyc terminolog lead vastli underestim error bar high import use simul rang plausibl true time delay tune andor verifi accuraci precis timedelay estim test simul singl true time delay probe reliabl qualiti timedelay estim mani timedelay estim prone respond unsteadili true delay hesit contact us see front page document case doubt note pleas tri avoid publish time delay overli optimist uncertainti estim seemingli accur measur might propag unrealist cosmolog infer harm commun critic aim comprehens instead smallest error bar thankscit pyc public want acknowledg pyc public suggest cite origin pyc paper new version softwar present journal open sourc softwar joss tew et al cosmograil xi techniqu time delay measur presenc microlens aa httpdxdoiorg_ paper describ origin curveshift algorithm pyc millon et al b pyc python toolbox timedelay measur lens quasar joss httpsdoiorgjoss_ paper briefli describ function packag make use autom timedelay measur pipelin pleas also cite millon et al cosmograil xix time delay strongli lens quasar year optic monitor httpsarxivorgabs_ paper present autom version pyc appli techniqu larg monitor data set note pleas use url httpwwwcosmograilorg indic websit pyc host code might chang tri hard keep url valid year comeintradepend chart chart list intradepend variou modul file pyc imag _staticpycssvg align center plot gener pydep document httpspydepsreadthedocsioenlatest_ last updat open imag new tab better experi publish work pyc find publish articl make use pyc pleas let us know publish paper make use pyc includ list pyc methodolog softwar public tew et al cosmograil xi techniqu time delay measur presenc microlens aa httpdxdoiorg_ paper describ origin curveshift algorithm pyc millon et al c pyc python toolbox timedelay measur lens quasar joss httpsdoiorgjoss_ paper briefli describ function packag measur time delay lens quasar tew et al b cosmograil xiii time delay yr optic monitor lens quasar rx j aa httpsdoiorg_ work present applic pyc real data report measur time delay lens quasar rxj cosmograil data eulaer et al cosmograil xii time delay doubli lens quasar sdss j hs aa httpsdoiorg_ timedelay measur lens quasar sdss j hs data swiss euler telescop himalayan chandra telescop hct mercat telescop rathna kumar et al cosmograil xiv time delay doubli lens quasar sdss j aa httpsdoiorg_ timedelay measur lens quasar sdss j data himalayan chandra telescop hct mercat maidanak observatori telescop goiecoechea shalyapin gravit len system sdss j microlens factori time delay aa httpsdoiorg_ present delay sdss j microlens variabl affect system giannini et al mindstep differenti photometri gravit lens quasar wfi microlens new time delay aa httpsdoiorg_ timedelay measur lens quasar wfi bonvin et al hlicow v new cosmograil time delay h per cent precis strong lens flat λcdm model mnra httpsdoiorgmnrasstw_ paper present new measur hubbl constant hlicow httpsshsuyugithubiohlicowsite_ collabor courbin et al cosmograil xvi time delay quadrupli imag quasar de j highcad photometr monitor aa httpsdoiorg_ paper present time delay measur de one season monitor highcad high signaltonois bonvin et al cosmograil xvii time delay quadrupli imag quasar pg aa httpsdoiorg_ timedelay measur lens quasar pg paper also introduc new framework combin pyc estim paramet birrer et al hlicow ix cosmograph analysi doubli imag quasar sdss new measur hubbl constant mnra httpsdoiorgmnrasstz_ new measur hubbl constant hlicow httpsshsuyugithubiohlicowsite_ collabor use len system sdss j bonvin et al cosmograil xviii time delay quadrupli lens quasar wfi aa httpsdoiorg_ paper present time delay lens quasar wfi year data taken euler swiss telescop year smart telescop one season highcad data mpia telescop millon et al cosmograil xix time delay strongli lens quasar year optic monitor aa httpsdoiorg_ paper report measur timedelay lens quasar also present new pyc autom timedelay measur pipelin millon et al b tdcosmo ii new time delay lens quasar highcad monitor mpia telescop accept aa httpsarxivorgabs_ data releas timedelay measur lens quasar monitor high cadenc high signaltonois mpia telescop timedelay challeng tdc liao et al strong len time delay challeng ii result tdc apj httpsdoiorgx_ paper present result tdc compar perform sever curveshift algorithm bonvin et al cosmograi xv assess achiev precis timedelay measur aa httpsdoiorg_ paper show perform pyc tdc simul light curv reverber map chan et al twist quasar light curv implic continuum reverber map accret disk aa httpsdoiorg_ paper explor implic deform light curv differ band measur time delay microlens studi sluse tew imprint quasar structur timedelay light curv microlensingaid reverber map aa httpsdoiorg_ work demonstr microlens help disentangl light come accret light reverber broad line region blr allow measur size blr cornachion et al microlens accret disk size measur lens quasar wfi apj httpsdoiorgaba_ paper present accret disk size measur lens quasar wfi use microlens measur time delay lens supernova rodney et al sn refsdal photometri time delay measur th efirst einstein cross supernova apj httpsdoiorgx_ paper present measur time delay supernova refsdal hubbl frontier field cluster mac j huber et al strongli lens sne ia era lsst observ cadenc len discoveri timedelay measur aa httpsdoiorg_ paper present forecast precis time delay futur lens supernova reach lsst download instal depend pyc develop use python might fine older version requir numpi scipi matplotlib multiprocess need run freeknot spline regress differ techniqu depend scikitlearn httpscikitlearnorg_ download get latest pyc clone gitlab httpsgitlabcomcosmograilpycs_ git clone httpsgitlabcomcosmograilpyc instal want updat tweak sourc suggest add clone repositori pythonpath type python setuppi develop dont plan tweak code also simpli python setuppi instal mayb python setuppi instal user dont write access global sitepackag directori machin test pyc automat test verifi everyth work correctli want check instal first need instal pytest command pip instal pytest user simpli go pyc repositori run command pytest run test take minut pyc document master file creat sphinxquickstart fri aug adapt file complet like least contain root toctre direct welcom pycss document imag _staticcover_image_png align center pyc softwar toolbox estim time delay multipl imag strongli lens quasar resolv light curv obtain cosmograil httpwwwcosmograilorg_ monitor program come form python packag heavili depend numpi scipi matplotlib core function repositori gitlab httpsgitlabcomcosmograilpycs_ measur time delay pyc youll typic write script call highlevel function provid packag pyc allow compar differ point estim includ without much code integr follow exampl notebook httpsgitlabcomcosmograilpycstreemasternotebook_ learn use core functionn pyc alreadi read docpaperscit might want proceed docinstal doctutori tutorialindex warn pleas read docimport warn use pycswarn question feel free post issu gitlab httpsgitlabcomcosmograilpycsissues_ contact code author martin millon httppeopleepflchmartinmillon_ malt tew httpsastrounibonndemtewes_ vivien bonvin httppeopleepflchvivienbonvin_ content toctre maxdepth word warn warn download instal instal tutorialtutorialindex intradepend chart chart cite cite publish work pyc public autogener full api apidocpyc last build document today get delay histogram result gener obtain timedelay histogram point uncertainti estim sever step need done present follow subsect assum gener mock curv describ previou section run curv shift algorithm mock curv wrapper function run method set mock curv funni name pyfuncpycssimrunmultirun input take pkl file contain simul curv made previou section output step pkl file runresult object one import argument multirun tsrand radiu day uniform random input time shift exampl script run two method assum youv defin favorit optim myoptpi lc pycsgenutilreadpicklemergedpkl spline method initi condit analysi might want set timeshift fluxshift well case well add spline ml pycsgensplmladdtolclc knotstep pycsgensplmladdtolclc knotstep pycsgensplmladdtolclc knotstep pycssimrunmultiruncopi lc myoptspl optsetspl tsrand pycssimrunmultirunsimtsr lc myoptspl optsetspl tsrand regdiff method need ml time delay set right pycssimrunmultiruncopi lc myoptregdiff optsetregdiff tsrand pycssimrunmultirunsimtsr lc myoptregdiff optsetregdiff tsrand parallel comput probabl need mock curv reliabl estim uncertainti speed comput launch sever ident call multirun function instanc simpli launch script sever cpu inde process pkl file parallel work multirun function store temporari file result directori soon start work pickl file script know run pkl file well see temporari file cours someth goe wrong dont get delet automat script crash might remov workingon file hand otherwis multirun skip pkl file exampl could perform parallel execut multirun function multiprocess import pool import time def exec_worker_mocks_auxarg return exec_worker_mocksarg def exec_worker_mocksi simset_mock lc simoptfct kwargs_optim optset tsrand destpath printwork start timesleepi sucess_d pycssimrunmultirunsimset_mock lc simoptfct kwargs_optimkwargs_optim optsetoptset tsrandtsrand keepopttru destpathdestpath return sucess_d nworker kwarg optimis ie myoptspl take argument pass job_arg j simtsr lc myoptspl kwarg spl j rangenwork p poolnwork success_list_copi pmapexec_worker_copie_aux job_arg detail exampl check script httpsgitlabcomcosmograilpycsblobmasterscriptsc_optimise_copy_mockspy_ analys measur result read runresult pickl file creat previou step turn plot flexibl might want plot analys mani thing start function pyfuncpycssimruncollect collect result one directori result pycssimruncollectdirectoryforexamplesims_copies_opt_spl result object result instanc class pyclasspycssimrunrunresult want perform analysi result could directli access follow attribut printresultslabel list qso imag name defin order qso imag follow result given printresultstsarray array measur time shift shape number set number qso imag printresultstruetsarray idem true time shift case simul data printresultsq array chi dispers valu shape number set note tsarray contain time shift time delay get time delay imag b ie resultslabel resultslabel would comput differ measured_delay resultstsarray resultstsarray printmeasured_delay want go straight less automat plot show result typic exampl copiesr pycssimruncollectsims_copies_opt_spl blue spline pycssimruncollectsims_copies_opt_regdiff green regdiff pycssimplothistscopiesr r nbin dataout true simr pycssimruncollectsims_simtsr_opt_spl blue spline pycssimruncollectsims_simtsr_opt_regdiff green regdiff pycssimplothistssimr r nbin dataout true pycssimplotmeasvstruesimr r nbin plotpointstru ploterrorbarstru sidebysidetru errorrang binclipfals binclipr dataout true measur time delay associ uncertainti store pkl file later process pymodpycstdcomb group_list pycstdcombcombgetresultspycstdcombcombcscontainerfreeknot spline result_file_delayssims_copies_opt_regdiff_delayspkl result_file_errorbarssims_simtsr_opt_regdiff_errorbarspkl colour blue pycstdcombcombgetresultspycstdcombcombcscontainerregress differ result_file_delayssims_copies_opt_spl_delayspkl result_file_errorbarssims_simtsr_opt_spl_errorbarspkl colour red pycstdcombplotdelayplotgroup_list rplot hidedetailstru showbiasfals showranfals showlegendtru figsiz auto_radiustru tick_step_autotru imag _statictutorialdelayspng align center width tip trick code snippet content pyc use sever copi svn instal import pyc printpycs__file__ fake pyc delay error measur use want includ measur nonpyc techniqu typic pyc plot fake pyc delay measur data labelab mean med std fake pyc errorbar data labelab sy ran tot bia outnam sims_copies_runresults_rathna_may_delayspkl dc pycssimplotdelaycontainerdata data name differencesmooth techniqu plotcolour darkorang objectsa b pycsgenutilwritepickledc outnam build scroll plot long curv anim plot talk startjd width endjd n rangen startjd endjd width startjdn b width filenam movipng pycsgenlc_funcdisplaylc nicefonttru showdelaysfals showlegendfals showdatestru showgridtru magrang jdrangea b filenamefilenam use ffmpeg similar tool turn movi tweak magnitud individu season lightcurv l lmag numpi array lower third season mag season pycsgenseaautofactoryl lmagsseasonsindic play custom properti perfectli creat properti list dict rangelenl lpropertiesimy_new_prop brocoli see properti curv printllonginfo common properti properti point curv usual case common properti export column rdb file instanc split curv properti def splitbypropl prop telescop kill mask val sortedlistsetlpropertiesiprop rangelenl val val lcp lcopi lcpmask nparraylpropertiesiprop val rangelenl lcpcutmask lcptelescopenam val outappendlcp pycsgenmrgcolouriseout return correct flux share march implement spline method simpl code work well quick test simul data show degeneraci need complet test simul data littl flux share see reduc systemat error draw fake curv flc pycssimdrawdrawlc spline shotnoisenon keepshiftsfals pycssimdrawsharefluxflc flc frac pycsgenlc_funcdisplayflc run pycsspltopoptopt_fin option redistribflux draw mock curv spline introduc previou section use draw simul curv known time delay mock curv made similar real observ bottom page singl function build entir popul simul curv present extens use empir evalu accuraci curv shift method look wrapper introduc detail curv drawn step step interest detail skip part simpli follow notebook httpsgitlabcomcosmograilpycsblobmasternotebookuncertaintiesestimationipynb_ draw individu curv idea follow provid real light curv spline usual obtain spline optim curv might optim microlens represent typic shift match spline ie curv well defin timemagflux shift set function modul pymodpycssimdraw use curv timemagflux shift well sampl errorbar microlens draw mock curv spline give mean would add nois mock curv would perfectli match spline given shift real curv come exampl function manual draw mock curv funni name pyfuncpycssimdrawdraw take list light curv well spline input return correspond list mock curv use option practic reason becom clear later need save residu pyfuncpycssimdrawsaveresidu lc draw mock curv lc spline pycsgenutilreadpickleoptsplpkl lightcurv spline play pycssimdrawsaveresidualslc spline mocklc pycssimdrawdrawlc spline shotnoisenon draw first mock curv without ad nois pycsgenlc_funcdisplaymocklc spline see default mocklc come shift microlens lc let manual remov shift curv l mocklc lresetshift also remov microlens lplotcolour black l lc lresetshift overplot origin mock curv pycsgenlc_funcdisplaylc mocklc showdelaysfals note mock curv creat brand new independ pyclasspycsgenlclightcurv object everyth far lightcurv object appli also mock curv last plot look like black point mock curv expect without nois case imag _statictutorialmock_no_noisepng align center width ad nois cours purpos want mock curv noisi first trivial way add random white ie independ nois magnitud measur could done draw random gaussian error accord errorbar point option shotnoisemagerr avoid explicitli use errorbar could use actual observ mismatch shift lc spline residu save lc spline pycsgenutilreadpickleoptsplpkl lightcurv match spline pycssimdrawsaveresidualslc spline mocklc pycssimdrawdrawlc spline shotnoisemcr mcre add random gaussian nois mock curv use gaussian distribut whose sigma previous save residu pycsgenlc_funcdisplaymocklc spline new mock curv alreadi look rather similar observ data whole point know true delay mock curv fact mock curv extra secret attribut need rememb later function calcul l mocklc printltruetimeshift store shift use obtain curv henc true delay choos shift simpli shift curv modifi microlens call pyfuncpycssimdrawdraw save residu want use shotnois mcre re otherwis residu crap cours curv wont match spline anymor random microlens aim randomli add fast extrins variabl top exist microlens spline illustr purpos let start manual high level function pyfuncpycssimtwktweakml take argument lightcurv object add powerlaw nois microlens use hood algorithm timmer koen work lightcurv object must spline microlens otherwis simpli wont tweak function run still spline microlens object mani mani knot microlens object meant optim meant use model draw light curv cours display lightcurv tweak ml illustr tweak ml observ data lc spline pycsgenutilreadpickleoptsplpkl assum least one lc spline ml pycssimtwktweakmllc spline beta sigma fmin plot see tweak ml pycsgenlc_funcdisplaylc imag _statictutorialtweakmlpng align center width note fact microlens curv noisier small scale suggest imag display function sampl microlens object fine enough especi true interact zoom experi littl differ beta sigma fmin fmax control power law nois ad microlens also tri set option psplottru tweakml show power spectra beta correspond random walk guess could use pyfuncpycssimdrawdraw draw light curv tweak one nice exampl get idea fact dont want tweak ml lc want draw mock curv alway newli tweak ml that instead explicitli call mytweakml function pass function argument pyfuncpycssimdrawdraw latter take care tweak ml new exampl lc spline pycsgenutilreadpickleoptsplpkl mayb need add spline ml curv dont yet pycsgensplmladdtolclc defin tweakml function also myoptpi def mytweakmllc spline return pycssimtwktweakmllc spline beta sigma fmin fmaxnon psplotfals directli draw mock curv mocklc pycssimdrawdrawlc spline shotnoisenon tweakml mytweakml pycsgenlc_funcdisplaymocklc spline mocklc drawn without shotnois nois come tweakml altern use new function pyc use directli power spectrum residu inject correl nois frequenc measur real data defin function follow def tweakml_pslc spline return pycssimtwktweakml_pslc spline b f_min psplotfals verbosefals interpolationlinear a_correct use similarli pyfuncpycssimtwktweakml note garante mock light curv similar real data might need adjust spectral window control paramet b amplitud power spectrum paramet a_correct done automat script httpsgitlabcomcosmograilpycsblobmasterscriptsa_generate_tweakmlpy_ pymodpycspipeoptimis modul note instead provid singl mytweakml function draw also provid list mytweakmllik function item list correspond light curv lc way individu adapt tweakml nois properti curv true pyfuncpycssimdrawmultidraw describ defin differ tweakml function exampl mocklc pycssimdrawdrawlc spline tweakmlatweakml othertweakml othertweakml othertweakml shotnoisenon gener adequ simul want adjust tweakml shotnois get kind residu spline real lc spline mocklc comput residu next section check spline residu function take curv take spline subtract spline curv analyselook scatter residu pyfuncpycsgenstatsubtract pyfuncpycsgenstatmapresistat pyfuncpycsgenstatplotresidu get plot residu lc spline pycsgenutilreadpickleoptsplpkl rl pycsgenstatsubtractlc spline simpli subtract spline datapoint rl list new lightcurv object correspond lc spline could display usual stat residu print pycsgenstatmapresistatsrl special function plot residu pycsgenstatplotresidualsrl put togeth mocklc pycsgensplmladdtolclc curv splineml def mytweakmllc return pycssimtwktweakmllc beta sigma fmin fmaxnon psplotfals mocklc pycssimdrawdrawlc spline tweakmlmytweakml shotnoisenon keeptweakedmlfals l mocklc lplotcolour black rmocklc pycsgenstatsubtractmocklc spline real data note would better fit new spline mocklc use old one shortcut pycsgenstatplotresidualsrlc rmocklc ye function take list correspond lightcurvelist exactli purpos result plot colour point real curv black point mock curv imag _statictutorialresi_tweakmlpng align center width build set mock curv done one singl function topmost wrapper call pyfuncpycssimdrawmultidraw use pyfuncpycssimdrawdraw store drawn curv pickl file function also use simpli make set contain plain copi origin curv agre seem stupid hey flexibl note case curv return pyfuncpycssimdrawmultidraw raw observ shift ml datapoint mock curv later analys pyfuncpycssimrunmultirun note file save pickl list lc welcom read pickl display defin function tweak ml instanc myoptpi def tweakmllc return pycssimtwktweakmllc beta sigma fmin fmaxnon psplotfals warn probabl want add spline microlens lc call multidraw draw tweak microlens curv microlens lc spline pycsgenutilreadpickleoptsplpkl pycssimdrawsaveresidualslc spline pycsgensplmladdtolclc curv splineml pycsgenlc_funcdisplaylc spline pycssimdrawmultidrawlc onlycopytru n npkl simsetcopi pycssimdrawmultidrawlc spline onlycopyfals n npkl simsetsimtsr shotnoisemcr shotnoisefrac truetsr tweakmlmyopttweakml tweaksplnon display curv drawn multidraw show structur pkl file easi read origin data overplot lc pycsgenutilreadpicklemergedpkl l lc lresetshift lplotcolour black read random pickl file mocklcslist pycsgenutilreadpicklesims_simtsr_pkl pycsgenlc_funcdisplaymocklcslist lc showdelaysfals imag _statictutorialmockjpng align center width first step microlens pyc offer two famili microlens represent polynom spline ok cours spline piecewis polynom well mean freeknot spline flexibl stabl enough cover decad long curv physic microlens represent rel ie repres mismatch curv inde access absolut microlens magnif affect qso imag nevertheless pyc microlens represent attach lightcurv would absolut allow control individu curv kind flexibl want allow analys quad might attach microlens curv would mean microlens rel respect curv without microlens well put microlens curv microlens represent degener prevent get right delay ad ml lightcurv run optim choos add aka attach microlens represent want curv two easi function let add microlens curv one singl line pyfuncpycsgensplmladdtolc spline pyfuncpycsgenpolymladdtolc polynom ad spline one knot everi day initi posit pycsgensplmladdtolcl knotstep prefer polynom add straight line season l pycsgenpolymladdtolcl nparam latter function automat recogn season function also add one singl polynom full multiseason curv simpli increas autoseasongap pycsgenpolymladdtolcl nparam autoseasonsgap would parabola season note microlens also configur without function hand special wish easi automat way microlens attach repres plot continu colour line pycsgenlc_funcdisplayl see microlensig complet flat initi coeffici set affect curv fun ml mix imag _statictutorialfun_with_mlpng align center curv shift final pyc make easi compar differ point estim also add without much code integr inherit would simpli provid python function shift instanc lightcurv class high level function provid run point estim real observ synthet curv done parallel sever cpu use low tech approach section describ first optim time shift cours microlens lightcurv differ qso imag match get accur time delay estim includ error analysi describ next section assum curv eg two four nice prepar accord previou step tutori save nice merg curv pkl describ earlier pyc support two differ optim optim function take list lightcurv argument shift curv potenti also adjust microlens match warn dispers optim longer includ pyc spline regdiff optim outperform dispers optim term accuraci addit much faster reason decid stop develop dispers techniqu spline optim idea fit one singl spline repres intrins variat qso curv shift latter chi datapoint singl spline minim parametr problem trivial task optim simultan adjust least timemagnitudeflux shift curv microlens represent curv polynom coeffici spline coeff knot intrins spline coeffici knot posit first approach wont describ intern detail fact spline optim work similar way dispers optim describ shift curv adjust microlens represent cours also involv one new object spline want display top lightcurv tri lc pycsgenutilreadpicklemergedpkl might need microlens represent curv pycsgensplmladdtolclc knotstep yep let tri spline microlens optim note return spline object spline pycsspltopoptopt_roughlc nit knotstep show spline make use pyfuncpycsgenlc_funcdisplay youv met mani time inde function also display arbitrari number spline usual first argument simpli list lightcurv object empti list dont want show lightcurv also specifi option second argument list spline object henc pycsgenlc_funcdisplaylc spline dont expect perfect fit point first demo principl optim particular spline shown black vertic tick indic knot posit spline optim seen take option argument word argument seen point nit number iter fine leav unless dig detail optim knotstep set initi space day knot knot move around space chang number knot warn lower knotstep correspond knot ad spline microlens curv specifi knotstep paramet knot microlens choos lower microlensingknotstep get flexibl microlens exampl use rough optim one made get accur time delay roughli quickli adjust shift microlens curv match somehow henc rough part leav rel high knotstep directli rough optim add call finer optim spline pycsspltopoptopt_finelc nit knotstep optim build new spline scratch return use usual finer knotstep choic add line call opt_rough play knotstep eg see effect also note knot effect move opt_rough didnt move imag _statictutorialsplinepng align center width good idea add optim myoptpi file directli concaten allow build custom optim particular light curv exampl probabl updat knotstep depend curv want process def spllc spline pycsspltopoptopt_roughlc nit knotstep spline pycsspltopoptopt_finelc nit knotstep return spline forget return spline use myoptspllc return spline might want catch write spline myoptspllc usual optim might conveni save shift curv case also spline pickl file work without rerun optim tip save curv spline pickl file pycsgenutilwritepicklelc spline optsplpkl lc spline pycsgenutilreadpickleoptsplpkl pycsgenlc_funcdisplaylc spline learn option argument spline optim see doc pyfuncpycsspltopoptopt_rough pyfuncpycsspltopoptopt_fin spline optim also work polynomi microlens mix microlens represent note formal linear optim spline requir data point sort also strictli increas jd deal lightcurv sever data point taken exactli epoch may happen shift curv time issu automat adress class pyclasspycsgendatapointsdatapoint user dont worri principl regdiff optim de facto easiest method use involv explicit microlens represent idea shift light curv minim variabl differ comput differ curv need regress particular use gaussian process regress provid scikitlearn modul note therefor use regdiff optim instal scikitlearn first websit httpsscikitlearnorgst httpsscikitlearnorgstable_ see tew et al httpdxdoiorg_ detail descript idea practic spline optim simpl toplevel wrapper function add myoptpi need call regdiff modul explicit import pycsregdiff def regdifflc return pycsregdiffmultioptopt_tslc pd verbosetru blindli use optim good idea test gaussian process regress gpr perform well lightcurv regress repres regularli sampl light curv object implement class pyclasspycsregdiffrslcrslc easi perform regress manual ie obtain regularli sampl light curv start usual light curv function perform gpr pyfuncpycsregdiffrslcfactori could instanc directli appli directli light curv myrslc pycsregdiffrslcfactoryl pd l lc take minut might want save result pycsgenutilwritepicklemyrslc myrslcspkl paramet pd point densiti regress usual set correspond one point everi day less point give faster regress display rslc object usual display function simpli put second argument list would spline object myrslc pycsgenutilreadpicklemyrslcspkl pycsgenlc_funcdisplaylc myrslc note rslc attribut similar usual lightcurv object like jd mag magerr plotcolour shift rslc time use myrslcshifttim perform oper directli modifi attribut instanc myrslcmag reason want fine sampl light curv easili subtract get differ curv oper implement pyfuncpycsregdiffrslcsubtract diffrslc pycsregdiffrslcsubtractmyrslc myrslc diffrslc differ curv rslc object henc display differ easili put list instanc pycsgenlc_funcdisplay myrslc diffrslc final wav rslc comput call method pymethpycsregdiffrslcrslcwtv _matchtel match telescop lightcurv differ telescop usual need empir match term least magnitud offset even tri perform rel photometri respect refer star small shift magnitud typic need detector filter telescop differ often shift flux also need note flux shift pyc lightcurv encod term magnitud thu also shown way plot thu multipl macrolens amplif ie flux ratio quasar imag also stationari microlens amplif correspond simpl vertic shift lightcurv asid attribut magshift lightcurv object also attribut fluxshift note shift flux correspond vertic shift curv plot magnitud scale shift flux deform curv that flux shift repres welcom paramet match lightcurv differ telescop physic origin shift flux addit contamin qso imag like constant foreground star structur len galaxi contamin necessarili colour qso imag yield flux shift qso imag also curv qso imag observ differ telescop lightcurv come cosmoulinelcmanip magnitud simpli relat instrument flux electron via mathm logf ie mathf cdot zeropoint thu easili calcul flux curv play bit around fluxshift take red curv make copi set plotcolour blue set fluxshift plot note keep eye valu flux shift optim function describ probabl physic reason fluxshift larger actual measur flux sourc match lightcurv differ telescop describ empir adjust magshift fluxshift differ curv qso imag match there modul pymodpycsgenmrg cours make sens curv show overlap first need defin match criterion simpl yet effect choic dispers measur done pyfuncpycsgenlc_funclinintnp function pycsgenlc_funclinintnplc lc interpdist function pyfuncpycsgenmrgmatchtel optim magnitud shift flux shift curv match given criterion take mandatori argument list refer lightcurv modifi correspond list lightcurv adjust match refer curv dispersionmethod defin note pyfuncpycsgenmrgmatchtel attribut one magshift ask differ individu fluxshift curv want adjust individu magshift curv simpli call matchtel dedic lightcurv list let assum quad observ telescop euler mercat mean probabl alreadi two correspond lightcurv list like eg eulerlc a_eul b_euler c_euler d_euler mercatorlc a_merc b_mercat c_mercat d_mercat pycsgenmrgmatchtelseulerlc mercatorlc pycsgenlc_funclinintnp fluxshiftstru let see work pycsgenlc_funcdisplayeulerlc mercatorlc showdatestru showdelaysfals cours also set fluxshift magshift hand happi match merg lightcurv instead one one function oper directli lightcurv list pyfuncpycsgenmrgmerg lc pycsgenmrgmergeeulerlc mercatorlc pycsgenmrgcolouriselc pycsgenlc_funcdisplaylc showdatestru showdelaysfals anoth telescop point call matchtel match third telescop merg curv lc obtain gener document consist sever part runnabl exampl notebook httpsgitlabcomcosmograilpycstreemasternotebook_ quick introduct measur time delay pyc might want start want quick overlook pycss key function tutori cover main objectsfunct detail readm httpsgitlabcomcosmograilpycsblobmasterscriptsreadmemd_ document autom pipelin describ millon et al httpsarxivorgabs_ autogener full api document docapidocpyc import pyc pyc instal simpli use import pyc begin script minim script check work import pycsgenlc lca pycsgenlclightcurveobjecta plotcolour lcb pycsgenlclightcurveobjectb plotcolourblu lcbshifttim pycsgenlc_funcdisplaylca lcb interact pyc pyc use logger output messag make sure includ line begin script want print info messag termin import log loggerformatmessag loggingbasicconfigformatloggerformatlevellogginginfo nomenclatur simplic call microlens abrevi ml form extrins variabl date jd mjd hjd repres observ epoch use convent cosmoulin modifi heliocentr julian date modif defin mjd jd way mhjd hjd note despit code simpli use jd jd plural refer mhjd instanc numpi array store observ epoch light curv l ljd note principl perfectli ok use pyc time axi long latter linear store float advanc interpret observ epoch use uncrit stuff like plot export tutori toctre maxdepth number gener basic_lc merging_telescop microlens shift draw makehist tips_and_trick lightcurv object modul pymodpycsgenlc defin class pyclasspycsgenlclightcurv constitut backbon pyc first step learn fundament object function manipul lightcurv instanc modul pymodpycsgenlc_func gather higher level function manipul list pyclasspycsgenlclightcurv import lightcurv probabl light curv form simpl textcsvrdb file get trial curv downloadher trialcurvestxt get real cosmograil curv httpsobswwwunigechmillondcscosmograil_publiccodephp_ import cosmoulinelcmanip similar rdb file cosmoulin lcmanip write lightcurv rdb file ie lot tabsepar collumn short header import data pyc mean read rdb file turn mention lightcurv object line cosmoulinelcmanip output file doubl len mhjd datetim telescop setnam nbimg fwhm ellipt airmass relskylevel normcoeff flag mag_a magerr_a_ magerr_a_ magerr_a_ magerr_a_ mag_b magerr_b_ magerr_b_ magerr_b_ magerr_b_ eulerc true eulerc true eulerc true eulerc true eulerc fals eulerc true let assum rdb file call mercatorrdb made lcmanip contain data quad ie imag b c give us lightcurv object filenam datamercatorrdb lc pycsgenlc_funcrdbimportfilenam objecta magcolnamemag_a magerrcolnamemagerr_a_ telescopenamemerc plotcolour mhjdcolnamemhjd flagcolnam flag propertycolnam fwhm ellipt airmass relskylevel normcoeff verbos true pycsgenlc_funcrdbimportfilenam objectb magcolnamemag_b magerrcolnamemagerr_b_ telescopenamemerc plotcolour mhjdcolnamemhjd flagcolnam flag propertycolnam fwhm ellipt airmass relskylevel normcoeff verbos true pycsgenlc_funcrdbimportfilenam objectc magcolnamemag_c magerrcolnamemagerr_c_ telescopenamemerc plotcolour mhjdcolnamemhjd flagcolnam flag propertycolnam fwhm ellipt airmass relskylevel normcoeff verbos true pycsgenlc_funcrdbimportfilenam objectd magcolnamemag_d magerrcolnamemagerr_d_ telescopenamemerc plotcolour mhjdcolnamemhjd flagcolnam flag propertycolnam fwhm ellipt airmass relskylevel normcoeff verbos true use function pyfuncpycsgenlc_funcrdbimport click link jump detail document function exampl ive put option illustr option requir option propertycolnam allow read extra column data instanc use make colourcod plot custom stuff omit option function default import field specifi exampl avail rdb file note free choos whatev object telescopenam want attribut relat content rdb file concis exampl could use default import lightcurv lcmanip mercatorlc pycsgenlc_funcrdbimportdata_config_j_mercator_lcmaniprdb magcolnamemag_s magerrcolnamemagerr_s_ flagcolnam flag telescopenamemerc object plotcolourblu e b note object instanc name follow tutori code actual often use short name l design given lightcurv object sever lightcurv object play need give explicit name purpos tutori often call lca lcb typic repres curv qso imag imag b etc list lightcurv import usual name lc common manipul like l lc ldo_someth warn note possibl avoid give explicit name lightcurv variabl like lca lcb refer use name across code that list read import simpl tabsepar file function pyfuncpycsgenlc_funcflexibleimport essenti pyfuncpycsgenlc_funcrdbimport simpler input file header l pycsgenlc_funcflexibleimportcurvedat jdcol magcol errcol startlin flagcolnon propertycolsnon telescopenameunknown objectunknown plotcolourcrimson verbosetru absmagerrsfals shown argument valu default set plotcolour import plot curv see went well might want pycsgenmrgcolouriselc function set attribut plotcolour lightcurv differ colour import understand oper hand time lplotcolour brown colour simpli matplotlib colour use whatev matplotlib accept plot lightcurv time see colour mani function pyc work list lightcurv instead individu lightcurv list usual contain simpli one curv everi qso imag awar work way use list contain curv differ telescop ident curv differ set simul curv etc mention tutori usual call list lc plural singl import function use list curv argument function display lc lca lcb lcc lcd that list pycsgenlc_funcdisplaylc function lot option use mani task see tutori function use plot microlens spline etc link full document function pyfuncpycsgenlc_funcdisplay look exampl tri option pycsgenlcdisplaylc titlermathrmsdssj nicefonttru showlogotru option nicefont friend like serif font dont except titl latex alway serif imag _statictutorialdisplaypng align center manual shift lightcurv time magnitud flux elementari method pymethpycsgenlclightcurveshifttim pymethpycsgenlclightcurveshiftmag pymethpycsgenlclightcurveshiftflux lshifttim shift curv day respect current shift lshiftmag shift curv mag ie get brighter respect current shift lshiftflux shift curv electron respect current shift note magnitud plot that actual shift deform curv lightcurv object alway awar shift shift dont get appli data long dont ask set attribut lightcurv tell much shift actual data modifi also perfectli ok directli tweak attribut ltimeshift reset curv nutshel could see curv shift method python function set shift minim given criteria instanc dispers measur curv later display info lightcurv printl short onelin correspond strl also use plot legend etc ouput might come paranthesi contain number like instanc mercatora would mean curv shift day time mag magnitud count flux printllonginfo give wider pictur tri display time delay curv tri printpycsgenlcgetnicetimedelayslc separ printpycsgenlcgetnicetimedelayslc separ sort true sort accord object name properti saw import saw use plot properti flexibl accessmodifi within script store anyth want properti store entri dictionnari list long curv ie one dict per data point print lproperti that long list dict lpropertiesfwhm tweak fwhm first point point lproperti pointw add properti note keep importexport function store custom properti string inde stuff like fwhm ellipt store string well warn function pyc might get significantli slower use properti instanc stuff requir merg curv cut season modul pymodpycsgensea contain class function handl season defin season hand usual cosmograil curv default automat season detect fine concept seaon import defin microlens represent season also handi cut curv easi function follow exampl want keep first second season long lightcurv lc lca lcb that list long lightcurv pycsgenlc_funcdisplaylc pycsgenseaeasycutlc keep lightcurv process individu check result pycsgenlc_funcdisplaylc happi season identifi tri add option seasongap call pyfuncpycsgenseaeasycut number day without point start new season default copi lightcurv use instanc tri compar thing easi testl lcopi make full deep copi entir lightcurv object properti label mask etc testlplotcolour blue testlshiftflux pycsgenlc_funcdisplayl testl mask point lightcurv object mask simpli boolean numpi array length curv that conveni boolean array use index normal numpi array mask array true mean point ok fals mean point mask demo flexibl lmask fals manual way mask point lmask fals ye numpi array printljdslmask give nonmask raw jd lmask lmagerr set mask fals point larg errorbar note would also set mask point true note mask point shown black circl plot method lightcurv object relat mask pymethpycsgenlclightcurvehasmask pymethpycsgenlclightcurveclearmask pymethpycsgenlclightcurvecutmask pymethpycsgenlclightcurvemaskskiplist pymethpycsgenlclightcurvemaskinfo buid mask hand best way write skiplist date want mask much better specifi array index skiplist stay valid even mergecuttweak curv help write list use function pymethpycsgenlclightcurvesetjdlabel label label bit like properti see use attach string data point show plot particular function put observ epoch label point l lc lsetjdlabel set approxim epoch label point lshowlabel true show label plot pycsgenlc_funcdisplaylc write skiplist plain textfil one line per data point mask text follow mhjd consid comment one decim suffici comment bad night appli list mask point curv use method pymethpycsgenlclightcurvemaskskiplist click detail cours use one file set mask b defin separ mask lclearmask mayb want clear mask first lmaskskiplistmyskiplisttxt mask point within day date specifi skiplist warn there anyth fishi like two separ point within day happi mask could l lc lcutmask remov mask point curv lclearlabel lshowlabel fals note good idea use cutmask get definit rid point dont want use feed curv curv shift algorithm curv shift method might accept curv mask point merg lightcurv import lightcurv sever telescop might want merg ie transform one singl lightcurv object per quasar imag instanc pass result merg curv curv shift algorithm note oper describ merg two lightcurv object involv optim shift curv match describ later section refmatchtel let assum instanc shift curv hand magnitud flux time usual match lowlevel method merg one lightcurv anoth one pymethpycsgenlclightcurvemerg l otherl lightcurv object otherlshiftmag pycsgenlc_funcdisplayl otherl lmergeotherl printllonginfo pycsgenlc_funcdisplayl note lightcurv time sort accord mhjd requir jd either increas flat method thu take care sort furthermor properti mask label etc merg well expect warn shift l otherl appli data array ie result curv longer awar previou shift often want merg list lightcurv telescop correspond list curv telescop pyfuncpycsgenmrgmerg wrapper exactli import two list lightcurv eulerlc mercatorlc list contain n correspond lightcurv object order imag b c lc pycsgenmrgmergeeulerlc mercatorlc write read pickl time mostli lightcurv object allow split workflow differ part make lot effect userfriendli instanc first script import curv variou sourc mask outlier merg telescop ie stuff seen far tutori script use process curv measur time delay write read pickl easytous connect script say lightcurv perhap import alreadi heavili process lc lca lcb lcc lcd pycsgenutilwritepicklelc datalcs_v_mergedpkl choos file name later next script lc pycsgenutilreadpickledatalcs_v_mergedpkl dont like lc list free use contain choic like instanc dict directli store one singl lightcurv object pkl file cours also store stuff use function work spline typic see later tutori pycsgenutilwritepicklelc spline opt_testpkl later lc spline pycsgenutilreadpickleopt_testpkl note avoid reli pickl file store actual data etern inde definit eg lightcurv class might chang would make pickl incompat write lightcurv rdbascii file come last point first chapter colleagu doesnt accept pickl file easi write lightcurv object plain rdb file use pymethpycsgenlclightcurverdbexport click detail method nice work togeth pyfuncpycsgenlc_funcrdbimport sens written lightcurv read lrdbexportfilenametesttxt propertiesfwhm ellipt l lightcurv object imported_l pycsgenlc_funcrdbimportfilepathtesttxt telescopenametest objecta plotcolourblu pycsgenlc_funcdisplayl imported_l function handl properti want store properti export file specifi option argument shown see properti avail rememb use print llonginfo note suggest function alway write one file per lightcurv work pyc inde natur might delet mask differ point lightcurv pyc perfectli process lightcurv differ length occas may want write sever lightcurv one singl flat ascii file instanc submit cd see function pyfuncpycsgenutilmultilcsexport probabl expect write lightcurv object ascii file shift also microlens model see later get appli datapoint written disk cours read lightcurv ascii file pyc longer awar lightcurv previous shift pycsgen packag submodul pycsgenlc modul automodul pycsgenlc member undocmemb showinherit pycsgenlc_func modul automodul pycsgenlc_func member undocmemb showinherit pycsgenmrg modul automodul pycsgenmrg member undocmemb showinherit pycsgenpolyml modul automodul pycsgenpolyml member undocmemb showinherit pycsgensea modul automodul pycsgensea member undocmemb showinherit pycsgenspl modul automodul pycsgenspl member undocmemb showinherit pycsgenspl_func modul automodul pycsgenspl_func member undocmemb showinherit pycsgensplml modul automodul pycsgensplml member undocmemb showinherit pycsgenstat modul automodul pycsgenstat member undocmemb showinherit pycsgenutil modul automodul pycsgenutil member undocmemb showinherit modul content automodul pycsgen member undocmemb showinheritancepycsregdiff packag submodul pycsregdiffmultiopt modul automodul pycsregdiffmultiopt member undocmemb showinherit pycsregdiffrslc modul automodul pycsregdiffrslc member undocmemb showinherit pycsregdiffscikitgp modul automodul pycsregdiffscikitgp member undocmemb showinherit modul content automodul pycsregdiff member undocmemb showinheritancepycspip packag submodul pycspipeoptimis modul automodul pycspipeoptimis member undocmemb showinherit pycspipepipe_util modul automodul pycspipepipe_util member undocmemb showinherit modul content automodul pycspip member undocmemb showinheritancepyc packag subpackag toctre pycsgen pycsregdiff pycssim pycsspl pycspip pycstdcomb modul content automodul pyc member undocmemb showinheritancepycssim packag submodul pycssimdraw modul automodul pycssimdraw member undocmemb showinherit pycssimplot modul automodul pycssimplot member undocmemb showinherit pycssimpower_spec modul automodul pycssimpower_spec member undocmemb showinherit pycssimrun modul automodul pycssimrun member undocmemb showinherit pycssimsrc modul automodul pycssimsrc member undocmemb showinherit pycssimtwk modul automodul pycssimtwk member undocmemb showinherit modul content automodul pycssim member undocmemb showinheritancepycsspl packag submodul pycssplmultiopt modul automodul pycssplmultiopt member undocmemb showinherit pycsspltopopt modul automodul pycsspltopopt member undocmemb showinherit modul content automodul pycsspl member undocmemb showinheritancepycstdcomb packag submodul pycstdcombcomb modul automodul pycstdcombcomb member undocmemb showinherit pycstdcombplot modul automodul pycstdcombplot member undocmemb showinherit modul content automodul pycstdcomb member undocmemb showinherit